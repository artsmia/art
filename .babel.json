{
  "{\"filename\":\"/var/www/art/server.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Helmet = require('react-helmet');\nvar express = require('express');\nvar ga = require('react-ga');\nvar fs = require('fs');\nvar index = fs.readFileSync('./index.html', 'utf-8');\n\nvar fetchComponentData = require('./fetch');\nvar routes = require('./routes');\n\nvar app = express();\nvar serveStatic = require('serve-static');\napp.locals.settings['x-powered-by'] = false;\n\nif (typeof window === \"undefined\") GLOBAL.window = GLOBAL;\n\n// ga.initialize(process.env.GA_TRACKING_ID)\n\napp.get('/search/', function (req, res, next) {\n  // catch searches with JS disabled\n  var match = req.url.match(/\\/search\\/\\?q=(.*)/);\n  if (match && match[1]) return res.redirect(301, '/search/' + match[1]);\n  next();\n});\n\nvar html = function html(_ref, data, body) {\n  var title = _ref.title;\n  var meta = _ref.meta;\n  var link = _ref.link;\n  return index.replace('<!--HEAD-->', ['<title>' + title + '</title>', meta, link, '<script>window.__DATA__ = ' + JSON.stringify(data) + ';</script>'].filter(function (e) {\n    return e;\n  }).join('  \\n')).replace('<!--BODY-->', body);\n};\n\napp.use(function (req, res, next) {\n  var router = Router.create({\n    routes: routes,\n    location: req.url,\n    onAbort: function onAbort(_ref2) {\n      var to = _ref2.to;\n      var params = _ref2.params;\n      var query = _ref2.query;\n\n      var url = to && router.makePath(to, params, query) || '/';\n      res.redirect(301, url);\n    }\n  });\n\n  if (!router.match(req.url)) return next();\n\n  router.run(function (Handler, state) {\n    // ga.pageview(state.pathname)\n\n    fetchComponentData(state).then(function (data) {\n      var body = React.renderToString(React.createElement(Handler, _extends({}, state, { data: data, universal: true })));\n      res.send(html(Helmet.rewind(), data, body));\n    });\n  });\n});\n\napp.use(serveStatic('.'));\n\nvar port = process.env.PORT || 3413;\napp.listen(port, function () {\n  return console.info('👌 ', port);\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zZXJ2ZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUM1QixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7QUFDcEMsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0FBQ3BDLElBQUksT0FBTyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQTtBQUNoQyxJQUFJLEVBQUUsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUE7QUFDNUIsSUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFBO0FBQ3RCLElBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQyxZQUFZLENBQUMsY0FBYyxFQUFFLE9BQU8sQ0FBQyxDQUFBOztBQUVwRCxJQUFJLGtCQUFrQixHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQTtBQUMzQyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUE7O0FBRWhDLElBQUksR0FBRyxHQUFHLE9BQU8sRUFBRSxDQUFBO0FBQ25CLElBQUksV0FBVyxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtBQUN6QyxHQUFHLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsR0FBRyxLQUFLLENBQUE7O0FBRTNDLElBQUcsT0FBTyxNQUFNLEtBQUssV0FBVyxFQUFFLE1BQU0sQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFBOzs7O0FBSXhELEdBQUcsQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLFVBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUs7O0FBRXRDLE1BQUksS0FBSyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLG9CQUFvQixDQUFDLENBQUE7QUFDL0MsTUFBRyxLQUFLLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLE9BQU8sR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsVUFBVSxHQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQ25FLE1BQUksRUFBRSxDQUFBO0NBQ1AsQ0FBQyxDQUFBOztBQUVGLElBQUksSUFBSSxHQUFHLFNBQVAsSUFBSSxDQUFJLElBQW1CLEVBQUUsSUFBSSxFQUFFLElBQUk7TUFBOUIsS0FBSyxHQUFOLElBQW1CLENBQWxCLEtBQUs7TUFBRSxJQUFJLEdBQVosSUFBbUIsQ0FBWCxJQUFJO01BQUUsSUFBSSxHQUFsQixJQUFtQixDQUFMLElBQUk7U0FBa0IsS0FBSyxDQUNsRCxPQUFPLENBQUMsYUFBYSxFQUNiLGFBQ1ksS0FBSyxlQUNmLElBQUksRUFDSixJQUFJLGlDQUN5QixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxnQkFDbEQsQ0FDUCxNQUFNLENBQUMsVUFBQSxDQUFDO1dBQUksQ0FBQztHQUFBLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FDOUIsT0FBTyxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUM7Q0FBQSxDQUFDOztBQUVoQyxHQUFHLENBQUMsR0FBRyxDQUFDLFVBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUs7QUFDMUIsTUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztBQUN6QixVQUFNLEVBQU4sTUFBTTtBQUNOLFlBQVEsRUFBRSxHQUFHLENBQUMsR0FBRztBQUNqQixXQUFPLEVBQUUsaUJBQUMsS0FBbUIsRUFBSztVQUF2QixFQUFFLEdBQUgsS0FBbUIsQ0FBbEIsRUFBRTtVQUFFLE1BQU0sR0FBWCxLQUFtQixDQUFkLE1BQU07VUFBRSxLQUFLLEdBQWxCLEtBQW1CLENBQU4sS0FBSzs7QUFDMUIsVUFBSSxHQUFHLEdBQUcsRUFBRSxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUMsSUFBSSxHQUFHLENBQUE7QUFDekQsU0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUE7S0FDdkI7R0FDRixDQUFDLENBQUE7O0FBRUYsTUFBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLE9BQU8sSUFBSSxFQUFFLENBQUE7O0FBRXhDLFFBQU0sQ0FBQyxHQUFHLENBQUMsVUFBQyxPQUFPLEVBQUUsS0FBSyxFQUFLOzs7QUFHN0Isc0JBQWtCLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUEsSUFBSSxFQUFJO0FBQ3JDLFVBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxjQUFjLENBQUMsb0JBQUMsT0FBTyxlQUFLLEtBQUssSUFBRSxJQUFJLEVBQUUsSUFBSSxBQUFDLEVBQUMsU0FBUyxFQUFFLElBQUksQUFBQyxJQUFHLENBQUMsQ0FBQTtBQUNwRixTQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUE7S0FDNUMsQ0FBQyxDQUFBO0dBQ0gsQ0FBQyxDQUFBO0NBQ0gsQ0FBQyxDQUFBOztBQUVGLEdBQUcsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUE7O0FBRXpCLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQTtBQUNuQyxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRTtTQUFNLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQztDQUFBLENBQUMsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc2VydmVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIgSGVsbWV0ID0gcmVxdWlyZSgncmVhY3QtaGVsbWV0JylcbnZhciBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpXG52YXIgZ2EgPSByZXF1aXJlKCdyZWFjdC1nYScpXG52YXIgZnMgPSByZXF1aXJlKCdmcycpXG52YXIgaW5kZXggPSBmcy5yZWFkRmlsZVN5bmMoJy4vaW5kZXguaHRtbCcsICd1dGYtOCcpXG5cbnZhciBmZXRjaENvbXBvbmVudERhdGEgPSByZXF1aXJlKCcuL2ZldGNoJylcbnZhciByb3V0ZXMgPSByZXF1aXJlKCcuL3JvdXRlcycpXG5cbnZhciBhcHAgPSBleHByZXNzKClcbnZhciBzZXJ2ZVN0YXRpYyA9IHJlcXVpcmUoJ3NlcnZlLXN0YXRpYycpXG5hcHAubG9jYWxzLnNldHRpbmdzWyd4LXBvd2VyZWQtYnknXSA9IGZhbHNlXG5cbmlmKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIEdMT0JBTC53aW5kb3cgPSBHTE9CQUxcblxuLy8gZ2EuaW5pdGlhbGl6ZShwcm9jZXNzLmVudi5HQV9UUkFDS0lOR19JRClcblxuYXBwLmdldCgnL3NlYXJjaC8nLCAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgLy8gY2F0Y2ggc2VhcmNoZXMgd2l0aCBKUyBkaXNhYmxlZFxuICB2YXIgbWF0Y2ggPSByZXEudXJsLm1hdGNoKC9cXC9zZWFyY2hcXC9cXD9xPSguKikvKVxuICBpZihtYXRjaCAmJiBtYXRjaFsxXSkgcmV0dXJuIHJlcy5yZWRpcmVjdCgzMDEsICcvc2VhcmNoLycrbWF0Y2hbMV0pXG4gIG5leHQoKVxufSlcblxudmFyIGh0bWwgPSAoe3RpdGxlLCBtZXRhLCBsaW5rfSwgZGF0YSwgYm9keSkgPT4gaW5kZXhcbiAgLnJlcGxhY2UoJzwhLS1IRUFELS0+JyxcbiAgICAgICAgICAgW1xuICAgICAgICAgICAgIGA8dGl0bGU+JHt0aXRsZX08L3RpdGxlPmAsXG4gICAgICAgICAgICAgbWV0YSxcbiAgICAgICAgICAgICBsaW5rLFxuICAgICAgICAgICAgIGA8c2NyaXB0PndpbmRvdy5fX0RBVEFfXyA9ICR7SlNPTi5zdHJpbmdpZnkoZGF0YSl9Ozwvc2NyaXB0PmBcbiAgICAgICAgICAgXVxuICAgIC5maWx0ZXIoZSA9PiBlKS5qb2luKCcgIFxcbicpKVxuICAucmVwbGFjZSgnPCEtLUJPRFktLT4nLCBib2R5KTtcblxuYXBwLnVzZSgocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdmFyIHJvdXRlciA9IFJvdXRlci5jcmVhdGUoe1xuICAgIHJvdXRlcyxcbiAgICBsb2NhdGlvbjogcmVxLnVybCxcbiAgICBvbkFib3J0OiAoe3RvLCBwYXJhbXMsIHF1ZXJ5fSkgPT4ge1xuICAgICAgdmFyIHVybCA9IHRvICYmIHJvdXRlci5tYWtlUGF0aCh0bywgcGFyYW1zLCBxdWVyeSkgfHwgJy8nXG4gICAgICByZXMucmVkaXJlY3QoMzAxLCB1cmwpXG4gICAgfSxcbiAgfSlcblxuICBpZighcm91dGVyLm1hdGNoKHJlcS51cmwpKSByZXR1cm4gbmV4dCgpXG5cbiAgcm91dGVyLnJ1bigoSGFuZGxlciwgc3RhdGUpID0+IHtcbiAgICAvLyBnYS5wYWdldmlldyhzdGF0ZS5wYXRobmFtZSlcblxuICAgIGZldGNoQ29tcG9uZW50RGF0YShzdGF0ZSkudGhlbihkYXRhID0+IHtcbiAgICAgIHZhciBib2R5ID0gUmVhY3QucmVuZGVyVG9TdHJpbmcoPEhhbmRsZXIgey4uLnN0YXRlfSBkYXRhPXtkYXRhfSB1bml2ZXJzYWw9e3RydWV9IC8+KVxuICAgICAgcmVzLnNlbmQoaHRtbChIZWxtZXQucmV3aW5kKCksIGRhdGEsIGJvZHkpKVxuICAgIH0pXG4gIH0pXG59KVxuXG5hcHAudXNlKHNlcnZlU3RhdGljKCcuJykpXG5cbnZhciBwb3J0ID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCAzNDEzXG5hcHAubGlzdGVuKHBvcnQsICgpID0+IGNvbnNvbGUuaW5mbygn8J+RjCAnLCBwb3J0KSlcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/server.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/server.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar Helmet = require('react-helmet')\nvar express = require('express')\nvar ga = require('react-ga')\nvar fs = require('fs')\nvar index = fs.readFileSync('./index.html', 'utf-8')\n\nvar fetchComponentData = require('./fetch')\nvar routes = require('./routes')\n\nvar app = express()\nvar serveStatic = require('serve-static')\napp.locals.settings['x-powered-by'] = false\n\nif(typeof window === \"undefined\") GLOBAL.window = GLOBAL\n\n// ga.initialize(process.env.GA_TRACKING_ID)\n\napp.get('/search/', (req, res, next) => {\n  // catch searches with JS disabled\n  var match = req.url.match(/\\/search\\/\\?q=(.*)/)\n  if(match && match[1]) return res.redirect(301, '/search/'+match[1])\n  next()\n})\n\nvar html = ({title, meta, link}, data, body) => index\n  .replace('<!--HEAD-->',\n           [\n             `<title>${title}</title>`,\n             meta,\n             link,\n             `<script>window.__DATA__ = ${JSON.stringify(data)};</script>`\n           ]\n    .filter(e => e).join('  \\n'))\n  .replace('<!--BODY-->', body);\n\napp.use((req, res, next) => {\n  var router = Router.create({\n    routes,\n    location: req.url,\n    onAbort: ({to, params, query}) => {\n      var url = to && router.makePath(to, params, query) || '/'\n      res.redirect(301, url)\n    },\n  })\n\n  if(!router.match(req.url)) return next()\n\n  router.run((Handler, state) => {\n    // ga.pageview(state.pathname)\n\n    fetchComponentData(state).then(data => {\n      var body = React.renderToString(<Handler {...state} data={data} universal={true} />)\n      res.send(html(Helmet.rewind(), data, body))\n    })\n  })\n})\n\napp.use(serveStatic('.'))\n\nvar port = process.env.PORT || 3413\napp.listen(port, () => console.info('👌 ', port))\n"
      ]
    },
    "mtime": 1478899433914
  },
  "{\"filename\":\"/var/www/art/fetch.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "sliced-to-array"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar resolveHash = require('when/keys').all;\n\nfunction fetchComponentData(state, initialData) {\n  var promises = state.routes.filter(function (route, index, allRoutes) {\n    // Don't `fetchData` twice for nested routes with the same `Handler`\n    // Prefer the parent\n    var prevRoute = index > 0 && allRoutes[index - 1];\n    if (prevRoute && route.handler.fetchData === prevRoute.handler.fetchData) return;\n\n    return route.handler.fetchData;\n  }).reduce(function (promises, route) {\n    if (initialData) {\n      Object.keys(initialData).forEach(function (key) {\n        promises[key] = Promise.resolve(initialData[key]);\n      });\n      return promises;\n    }\n\n    // `fetchData` is either a function, or an object with keyed functions.\n    // If a component requires custom-named data or pulls data from multiple sources,\n    // each data is fetched from the value of each entry in the object and made\n    // available under the key\n    var fetchData = route.handler.fetchData;\n    if (typeof fetchData == 'function') {\n      promises[route.name] = fetchData(state.params, state.query);\n    } else if (typeof fetchData == 'object') {\n      Object.entries(fetchData).map(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2);\n\n        var name = _ref2[0];\n        var _fetchData = _ref2[1];\n\n        promises[name] = _fetchData(state.params, state.query);\n      });\n    }\n\n    return promises;\n  }, {});\n\n  return resolveHash(promises);\n}\n\nmodule.exports = fetchComponentData;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9mZXRjaC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxXQUFXLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEdBQUcsQ0FBQTs7QUFFMUMsU0FBUyxrQkFBa0IsQ0FBQyxLQUFLLEVBQUUsV0FBVyxFQUFFO0FBQzlDLE1BQUksUUFBUSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUs7OztBQUc5RCxRQUFNLFNBQVMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxJQUFJLFNBQVMsQ0FBQyxLQUFLLEdBQUMsQ0FBQyxDQUFDLENBQUE7QUFDakQsUUFBRyxTQUFTLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEtBQUssU0FBUyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsT0FBTTs7QUFFL0UsV0FBTyxLQUFLLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQTtHQUMvQixDQUFDLENBQUMsTUFBTSxDQUFDLFVBQUMsUUFBUSxFQUFFLEtBQUssRUFBSztBQUM3QixRQUFHLFdBQVcsRUFBRTtBQUNkLFlBQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQ3ZCLE9BQU8sQ0FBQyxVQUFBLEdBQUcsRUFBSTtBQUNkLGdCQUFRLENBQUMsR0FBRyxDQUFDLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQTtPQUNsRCxDQUFDLENBQUE7QUFDRixhQUFPLFFBQVEsQ0FBQTtLQUNoQjs7Ozs7O0FBTUQsUUFBTSxTQUFTLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUE7QUFDekMsUUFBRyxPQUFPLFNBQVMsSUFBSSxVQUFVLEVBQUU7QUFDakMsY0FBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUE7S0FDNUQsTUFBTSxJQUFHLE9BQU8sU0FBUyxJQUFJLFFBQVEsRUFBRTtBQUN0QyxZQUFNLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFDLElBQWtCLEVBQUs7bUNBQXZCLElBQWtCOztZQUFqQixJQUFJO1lBQUUsVUFBVTs7QUFDOUMsZ0JBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxVQUFVLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUE7T0FDdkQsQ0FBQyxDQUFBO0tBQ0g7O0FBRUQsV0FBTyxRQUFRLENBQUE7R0FDaEIsRUFBRSxFQUFFLENBQUMsQ0FBQTs7QUFFTixTQUFPLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQTtDQUM3Qjs7QUFFRCxNQUFNLENBQUMsT0FBTyxHQUFHLGtCQUFrQixDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9mZXRjaC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciByZXNvbHZlSGFzaCA9IHJlcXVpcmUoJ3doZW4va2V5cycpLmFsbFxuXG5mdW5jdGlvbiBmZXRjaENvbXBvbmVudERhdGEoc3RhdGUsIGluaXRpYWxEYXRhKSB7XG4gIHZhciBwcm9taXNlcyA9IHN0YXRlLnJvdXRlcy5maWx0ZXIoKHJvdXRlLCBpbmRleCwgYWxsUm91dGVzKSA9PiB7XG4gICAgLy8gRG9uJ3QgYGZldGNoRGF0YWAgdHdpY2UgZm9yIG5lc3RlZCByb3V0ZXMgd2l0aCB0aGUgc2FtZSBgSGFuZGxlcmBcbiAgICAvLyBQcmVmZXIgdGhlIHBhcmVudFxuICAgIGNvbnN0IHByZXZSb3V0ZSA9IGluZGV4ID4gMCAmJiBhbGxSb3V0ZXNbaW5kZXgtMV1cbiAgICBpZihwcmV2Um91dGUgJiYgcm91dGUuaGFuZGxlci5mZXRjaERhdGEgPT09IHByZXZSb3V0ZS5oYW5kbGVyLmZldGNoRGF0YSkgcmV0dXJuXG5cbiAgICByZXR1cm4gcm91dGUuaGFuZGxlci5mZXRjaERhdGFcbiAgfSkucmVkdWNlKChwcm9taXNlcywgcm91dGUpID0+IHtcbiAgICBpZihpbml0aWFsRGF0YSkge1xuICAgICAgT2JqZWN0LmtleXMoaW5pdGlhbERhdGEpXG4gICAgICAuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBwcm9taXNlc1trZXldID0gUHJvbWlzZS5yZXNvbHZlKGluaXRpYWxEYXRhW2tleV0pXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHByb21pc2VzXG4gICAgfVxuXG4gICAgLy8gYGZldGNoRGF0YWAgaXMgZWl0aGVyIGEgZnVuY3Rpb24sIG9yIGFuIG9iamVjdCB3aXRoIGtleWVkIGZ1bmN0aW9ucy5cbiAgICAvLyBJZiBhIGNvbXBvbmVudCByZXF1aXJlcyBjdXN0b20tbmFtZWQgZGF0YSBvciBwdWxscyBkYXRhIGZyb20gbXVsdGlwbGUgc291cmNlcyxcbiAgICAvLyBlYWNoIGRhdGEgaXMgZmV0Y2hlZCBmcm9tIHRoZSB2YWx1ZSBvZiBlYWNoIGVudHJ5IGluIHRoZSBvYmplY3QgYW5kIG1hZGVcbiAgICAvLyBhdmFpbGFibGUgdW5kZXIgdGhlIGtleVxuICAgIGNvbnN0IGZldGNoRGF0YSA9IHJvdXRlLmhhbmRsZXIuZmV0Y2hEYXRhXG4gICAgaWYodHlwZW9mIGZldGNoRGF0YSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwcm9taXNlc1tyb3V0ZS5uYW1lXSA9IGZldGNoRGF0YShzdGF0ZS5wYXJhbXMsIHN0YXRlLnF1ZXJ5KVxuICAgIH0gZWxzZSBpZih0eXBlb2YgZmV0Y2hEYXRhID09ICdvYmplY3QnKSB7XG4gICAgICBPYmplY3QuZW50cmllcyhmZXRjaERhdGEpLm1hcCgoW25hbWUsIF9mZXRjaERhdGFdKSA9PiB7XG4gICAgICAgIHByb21pc2VzW25hbWVdID0gX2ZldGNoRGF0YShzdGF0ZS5wYXJhbXMsIHN0YXRlLnF1ZXJ5KVxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZXNcbiAgfSwge30pXG5cbiAgcmV0dXJuIHJlc29sdmVIYXNoKHByb21pc2VzKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZldGNoQ29tcG9uZW50RGF0YVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/fetch.js"
      ],
      "names": [],
      "mappings": ";;;;AAAA,IAAI,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC,GAAG,CAAA;;AAE1C,SAAS,kBAAkB,CAAC,KAAK,EAAE,WAAW,EAAE;AAC9C,MAAI,QAAQ,GAAG,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,UAAC,KAAK,EAAE,KAAK,EAAE,SAAS,EAAK;;;AAG9D,QAAM,SAAS,GAAG,KAAK,GAAG,CAAC,IAAI,SAAS,CAAC,KAAK,GAAC,CAAC,CAAC,CAAA;AACjD,QAAG,SAAS,IAAI,KAAK,CAAC,OAAO,CAAC,SAAS,KAAK,SAAS,CAAC,OAAO,CAAC,SAAS,EAAE,OAAM;;AAE/E,WAAO,KAAK,CAAC,OAAO,CAAC,SAAS,CAAA;GAC/B,CAAC,CAAC,MAAM,CAAC,UAAC,QAAQ,EAAE,KAAK,EAAK;AAC7B,QAAG,WAAW,EAAE;AACd,YAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CACvB,OAAO,CAAC,UAAA,GAAG,EAAI;AACd,gBAAQ,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAA;OAClD,CAAC,CAAA;AACF,aAAO,QAAQ,CAAA;KAChB;;;;;;AAMD,QAAM,SAAS,GAAG,KAAK,CAAC,OAAO,CAAC,SAAS,CAAA;AACzC,QAAG,OAAO,SAAS,IAAI,UAAU,EAAE;AACjC,cAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,KAAK,CAAC,CAAA;KAC5D,MAAM,IAAG,OAAO,SAAS,IAAI,QAAQ,EAAE;AACtC,YAAM,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,UAAC,IAAkB,EAAK;mCAAvB,IAAkB;;YAAjB,IAAI;YAAE,UAAU;;AAC9C,gBAAQ,CAAC,IAAI,CAAC,GAAG,UAAU,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,KAAK,CAAC,CAAA;OACvD,CAAC,CAAA;KACH;;AAED,WAAO,QAAQ,CAAA;GAChB,EAAE,EAAE,CAAC,CAAA;;AAEN,SAAO,WAAW,CAAC,QAAQ,CAAC,CAAA;CAC7B;;AAED,MAAM,CAAC,OAAO,GAAG,kBAAkB,CAAA",
      "file": "/var/www/art/fetch.js",
      "sourcesContent": [
        "var resolveHash = require('when/keys').all\n\nfunction fetchComponentData(state, initialData) {\n  var promises = state.routes.filter((route, index, allRoutes) => {\n    // Don't `fetchData` twice for nested routes with the same `Handler`\n    // Prefer the parent\n    const prevRoute = index > 0 && allRoutes[index-1]\n    if(prevRoute && route.handler.fetchData === prevRoute.handler.fetchData) return\n\n    return route.handler.fetchData\n  }).reduce((promises, route) => {\n    if(initialData) {\n      Object.keys(initialData)\n      .forEach(key => {\n        promises[key] = Promise.resolve(initialData[key])\n      })\n      return promises\n    }\n\n    // `fetchData` is either a function, or an object with keyed functions.\n    // If a component requires custom-named data or pulls data from multiple sources,\n    // each data is fetched from the value of each entry in the object and made\n    // available under the key\n    const fetchData = route.handler.fetchData\n    if(typeof fetchData == 'function') {\n      promises[route.name] = fetchData(state.params, state.query)\n    } else if(typeof fetchData == 'object') {\n      Object.entries(fetchData).map(([name, _fetchData]) => {\n        promises[name] = _fetchData(state.params, state.query)\n      })\n    }\n\n    return promises\n  }, {})\n\n  return resolveHash(promises)\n}\n\nmodule.exports = fetchComponentData\n"
      ]
    },
    "mtime": 1485807805238
  },
  "{\"filename\":\"/var/www/art/routes.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Route = Router.Route;\nvar Redirect = Router.Redirect;\nvar DefaultRoute = Router.DefaultRoute;\n\nvar App = require('./src/app');\nvar Home = require('./src/home');\nvar Search = require('./src/search');\nvar SearchResults = require('./src/search-results');\nvar Artwork = require('./src/artwork');\nvar ArtistsByLetter = require('./src/artists-by-letter');\nvar ObjectsById = require('./src/objects-by-id');\nvar Department = require('./src/department');\nvar Curator = require('./src/curator');\nvar Curators = require('./src/curators');\nvar Explore = require('./src/explore');\nvar Page = require('./src/page');\nvar Info = require('./src/info');\nvar Gallery = require('./src/gallery');\nvar Map = require('./src/map-page');\nvar More = require('./src/more');\nvar Exhibition = require('./src/exhibition');\n\nvar routes = React.createElement(\n  Route,\n  { handler: App, path: '/' },\n  React.createElement(DefaultRoute, { name: 'home', handler: Home }),\n  React.createElement(Route, { name: 'artwork', path: 'art/:id', handler: Artwork }),\n  React.createElement(Route, { name: 'artworkSlug', path: 'art/:id/:slug', handler: Artwork }),\n  React.createElement(\n    Route,\n    { name: 'search', path: '/search/', handler: Search },\n    React.createElement(\n      Route,\n      { name: 'searchResults', path: ':terms', handler: SearchResults },\n      React.createElement(Route, { name: 'filteredSearchResults', path: 'filters/*', handler: SearchResults })\n    )\n  ),\n  React.createElement(Route, { name: 'department', path: '/departments/:dept', handler: Department }),\n  React.createElement(Route, { name: 'curator', path: '/curators/:slug', handler: Curator }),\n  React.createElement(Route, { name: 'curators', path: '/curators', handler: Curators }),\n  React.createElement(Route, { name: 'explore', path: '/explore', handler: Explore }),\n  React.createElement(Route, { name: 'artistsByName', path: '/search/artists/:letter', handler: ArtistsByLetter }),\n  React.createElement(Route, { name: 'objectsById', path: '/search/ids/:ids', handler: ObjectsById }),\n  React.createElement(Route, { name: 'page', path: '/info/:name', handler: Page }),\n  React.createElement(Route, { name: 'info', path: '/info', handler: Info }),\n  React.createElement(Route, { name: 'gallery', path: '/galleries/:gallery', handler: Gallery }),\n  React.createElement(Route, { name: 'map', path: '/map', handler: Map }),\n  React.createElement(Route, { name: 'galleries', path: '/galleries', handler: Map }),\n  React.createElement(Route, { name: 'more', path: '/more', handler: More }),\n  React.createElement(Route, { name: 'exhibition', path: '/exhibitions/:id', handler: Exhibition }),\n  React.createElement(Route, { name: 'exhibitionSlug', path: 'exhibitions/:id/:slug', handler: Exhibition })\n);\n\nmodule.exports = routes;\n//# sourceMappingURL=data:application/json;base64,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QUFDLEtBQUssSUFBQyxJQUFJLEVBQUMsWUFBWSxFQUFDLElBQUksRUFBQyxrQkFBa0IsRUFBQyxPQUFPLEVBQUUsVUFBVSxBQUFDLEdBQUc7RUFDeEUsb0JBQUMsS0FBSyxJQUFDLElBQUksRUFBQyxnQkFBZ0IsRUFBQyxJQUFJLEVBQUMsdUJBQXVCLEVBQUMsT0FBTyxFQUFFLFVBQVUsQUFBQyxHQUFHO0NBQzNFLEFBQ1QsQ0FBQzs7QUFFRixNQUFNLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvcm91dGVzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIge1JvdXRlLCBSZWRpcmVjdCwgRGVmYXVsdFJvdXRlfSA9IFJvdXRlclxuXG52YXIgQXBwID0gcmVxdWlyZSgnLi9zcmMvYXBwJylcbnZhciBIb21lID0gcmVxdWlyZSgnLi9zcmMvaG9tZScpXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zcmMvc2VhcmNoJylcbnZhciBTZWFyY2hSZXN1bHRzID0gcmVxdWlyZSgnLi9zcmMvc2VhcmNoLXJlc3VsdHMnKVxudmFyIEFydHdvcmsgPSByZXF1aXJlKCcuL3NyYy9hcnR3b3JrJylcbnZhciBBcnRpc3RzQnlMZXR0ZXIgPSByZXF1aXJlKCcuL3NyYy9hcnRpc3RzLWJ5LWxldHRlcicpXG52YXIgT2JqZWN0c0J5SWQgPSByZXF1aXJlKCcuL3NyYy9vYmplY3RzLWJ5LWlkJylcbnZhciBEZXBhcnRtZW50ID0gcmVxdWlyZSgnLi9zcmMvZGVwYXJ0bWVudCcpXG52YXIgQ3VyYXRvciA9IHJlcXVpcmUoJy4vc3JjL2N1cmF0b3InKVxudmFyIEN1cmF0b3JzID0gcmVxdWlyZSgnLi9zcmMvY3VyYXRvcnMnKVxudmFyIEV4cGxvcmUgPSByZXF1aXJlKCcuL3NyYy9leHBsb3JlJylcbnZhciBQYWdlID0gcmVxdWlyZSgnLi9zcmMvcGFnZScpXG52YXIgSW5mbyA9IHJlcXVpcmUoJy4vc3JjL2luZm8nKVxudmFyIEdhbGxlcnkgPSByZXF1aXJlKCcuL3NyYy9nYWxsZXJ5JylcbnZhciBNYXAgPSByZXF1aXJlKCcuL3NyYy9tYXAtcGFnZScpXG52YXIgTW9yZSA9IHJlcXVpcmUoJy4vc3JjL21vcmUnKVxudmFyIEV4aGliaXRpb24gPSByZXF1aXJlKCcuL3NyYy9leGhpYml0aW9uJylcblxudmFyIHJvdXRlcyA9IChcbiAgPFJvdXRlIGhhbmRsZXI9e0FwcH0gcGF0aD1cIi9cIj5cbiAgICA8RGVmYXVsdFJvdXRlIG5hbWU9XCJob21lXCIgaGFuZGxlcj17SG9tZX0vPlxuICAgIDxSb3V0ZSBuYW1lPVwiYXJ0d29ya1wiIHBhdGg9XCJhcnQvOmlkXCIgaGFuZGxlcj17QXJ0d29ya30gLz5cbiAgICA8Um91dGUgbmFtZT1cImFydHdvcmtTbHVnXCIgcGF0aD1cImFydC86aWQvOnNsdWdcIiBoYW5kbGVyPXtBcnR3b3JrfSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwic2VhcmNoXCIgcGF0aD1cIi9zZWFyY2gvXCIgaGFuZGxlcj17U2VhcmNofT5cbiAgICAgIDxSb3V0ZSBuYW1lPVwic2VhcmNoUmVzdWx0c1wiIHBhdGg9XCI6dGVybXNcIiBoYW5kbGVyPXtTZWFyY2hSZXN1bHRzfT5cbiAgICAgICAgPFJvdXRlIG5hbWU9XCJmaWx0ZXJlZFNlYXJjaFJlc3VsdHNcIiBwYXRoPVwiZmlsdGVycy8qXCIgaGFuZGxlcj17U2VhcmNoUmVzdWx0c30gLz5cbiAgICAgIDwvUm91dGU+XG4gICAgPC9Sb3V0ZT5cbiAgICA8Um91dGUgbmFtZT1cImRlcGFydG1lbnRcIiBwYXRoPVwiL2RlcGFydG1lbnRzLzpkZXB0XCIgaGFuZGxlcj17RGVwYXJ0bWVudH0gLz5cbiAgICA8Um91dGUgbmFtZT1cImN1cmF0b3JcIiBwYXRoPVwiL2N1cmF0b3JzLzpzbHVnXCIgaGFuZGxlcj17Q3VyYXRvcn0gLz5cbiAgICA8Um91dGUgbmFtZT1cImN1cmF0b3JzXCIgcGF0aD1cIi9jdXJhdG9yc1wiIGhhbmRsZXI9e0N1cmF0b3JzfSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwiZXhwbG9yZVwiIHBhdGg9XCIvZXhwbG9yZVwiIGhhbmRsZXI9e0V4cGxvcmV9IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJhcnRpc3RzQnlOYW1lXCIgcGF0aD1cIi9zZWFyY2gvYXJ0aXN0cy86bGV0dGVyXCIgaGFuZGxlcj17QXJ0aXN0c0J5TGV0dGVyfSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwib2JqZWN0c0J5SWRcIiBwYXRoPVwiL3NlYXJjaC9pZHMvOmlkc1wiIGhhbmRsZXI9e09iamVjdHNCeUlkfSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwicGFnZVwiIHBhdGg9XCIvaW5mby86bmFtZVwiIGhhbmRsZXI9e1BhZ2V9IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJpbmZvXCIgcGF0aD1cIi9pbmZvXCIgaGFuZGxlcj17SW5mb30gLz5cbiAgICA8Um91dGUgbmFtZT1cImdhbGxlcnlcIiBwYXRoPVwiL2dhbGxlcmllcy86Z2FsbGVyeVwiIGhhbmRsZXI9e0dhbGxlcnl9IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJtYXBcIiBwYXRoPVwiL21hcFwiIGhhbmRsZXI9e01hcH0gLz5cbiAgICA8Um91dGUgbmFtZT1cImdhbGxlcmllc1wiIHBhdGg9XCIvZ2FsbGVyaWVzXCIgaGFuZGxlcj17TWFwfSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwibW9yZVwiIHBhdGg9XCIvbW9yZVwiIGhhbmRsZXI9e01vcmV9IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJleGhpYml0aW9uXCIgcGF0aD1cIi9leGhpYml0aW9ucy86aWRcIiBoYW5kbGVyPXtFeGhpYml0aW9ufSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwiZXhoaWJpdGlvblNsdWdcIiBwYXRoPVwiZXhoaWJpdGlvbnMvOmlkLzpzbHVnXCIgaGFuZGxlcj17RXhoaWJpdGlvbn0gLz5cbiAgPC9Sb3V0ZT5cbik7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVzXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/routes.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/routes.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Route, Redirect, DefaultRoute} = Router\n\nvar App = require('./src/app')\nvar Home = require('./src/home')\nvar Search = require('./src/search')\nvar SearchResults = require('./src/search-results')\nvar Artwork = require('./src/artwork')\nvar ArtistsByLetter = require('./src/artists-by-letter')\nvar ObjectsById = require('./src/objects-by-id')\nvar Department = require('./src/department')\nvar Curator = require('./src/curator')\nvar Curators = require('./src/curators')\nvar Explore = require('./src/explore')\nvar Page = require('./src/page')\nvar Info = require('./src/info')\nvar Gallery = require('./src/gallery')\nvar Map = require('./src/map-page')\nvar More = require('./src/more')\nvar Exhibition = require('./src/exhibition')\n\nvar routes = (\n  <Route handler={App} path=\"/\">\n    <DefaultRoute name=\"home\" handler={Home}/>\n    <Route name=\"artwork\" path=\"art/:id\" handler={Artwork} />\n    <Route name=\"artworkSlug\" path=\"art/:id/:slug\" handler={Artwork} />\n    <Route name=\"search\" path=\"/search/\" handler={Search}>\n      <Route name=\"searchResults\" path=\":terms\" handler={SearchResults}>\n        <Route name=\"filteredSearchResults\" path=\"filters/*\" handler={SearchResults} />\n      </Route>\n    </Route>\n    <Route name=\"department\" path=\"/departments/:dept\" handler={Department} />\n    <Route name=\"curator\" path=\"/curators/:slug\" handler={Curator} />\n    <Route name=\"curators\" path=\"/curators\" handler={Curators} />\n    <Route name=\"explore\" path=\"/explore\" handler={Explore} />\n    <Route name=\"artistsByName\" path=\"/search/artists/:letter\" handler={ArtistsByLetter} />\n    <Route name=\"objectsById\" path=\"/search/ids/:ids\" handler={ObjectsById} />\n    <Route name=\"page\" path=\"/info/:name\" handler={Page} />\n    <Route name=\"info\" path=\"/info\" handler={Info} />\n    <Route name=\"gallery\" path=\"/galleries/:gallery\" handler={Gallery} />\n    <Route name=\"map\" path=\"/map\" handler={Map} />\n    <Route name=\"galleries\" path=\"/galleries\" handler={Map} />\n    <Route name=\"more\" path=\"/more\" handler={More} />\n    <Route name=\"exhibition\" path=\"/exhibitions/:id\" handler={Exhibition} />\n    <Route name=\"exhibitionSlug\" path=\"exhibitions/:id/:slug\" handler={Exhibition} />\n  </Route>\n);\n\nmodule.exports = routes\n"
      ]
    },
    "mtime": 1478899433914
  },
  "{\"filename\":\"/var/www/art/src/app.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\n\nvar _require = require('react-router');\n\nvar RouteHandler = _require.RouteHandler;\nvar Link = _require.Link;\n\nvar Helmet = require('react-helmet');\n\nvar LiveSearch = require('./live-search');\nvar GlobalNavigation = require('./navigation');\n\nvar App = React.createClass({\n  displayName: 'App',\n\n  render: function render() {\n    var logo = this.makeLogo();\n    var canonicalURL = \"https://collections.artsmia.org\" + this.props.path;\n\n    return React.createElement(\n      'div',\n      { className: this.props.universal && 'universal' },\n      this.state.hideHeader || React.createElement(\n        'header',\n        { style: { zIndex: this.state.showMenu || this.state.showSearch ? 5 : 1 } },\n        logo,\n        this.globalToolBar()\n      ),\n      React.createElement(Helmet, {\n        title: 'Collection | Minneapolis Institute of Art',\n        titleTemplate: '%s | Mia',\n        link: [{ \"rel\": \"canonical\", \"href\": canonicalURL }],\n        meta: [{ property: \"robots\", content: this.noIndex() ? 'follow,noindex' : 'all' }, { property: \"og:url\", content: canonicalURL }]\n      }),\n      React.createElement(RouteHandler, _extends({}, this.props, {\n        activateSearch: this.state.activateSearch,\n        toggleAppHeader: this.toggleHeader\n      }))\n    );\n  },\n\n  toggleHeader: function toggleHeader() {\n    this.setState({ hideHeader: !this.state.hideHeader });\n  },\n\n  getChildContext: function getChildContext() {\n    return {\n      universal: this.props.universal\n    };\n  },\n\n  globalToolBar: function globalToolBar() {\n    var searchButton = React.createElement(\n      'button',\n      { className: 'material-icons search', onClick: this.toggleSearch },\n      this.state.showSearch ? 'close' : 'search'\n    );\n    var searchTrigger = this.props.universal ? React.createElement(\n      Link,\n      { to: 'home' },\n      searchButton\n    ) : searchButton;\n    var menuButton = React.createElement(\n      'button',\n      { className: 'material-icons menu', onClick: this.toggleMenu },\n      this.state.showMenu ? 'close' : 'menu'\n    );\n    var menuTrigger = menuButton;\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'div',\n        { className: 'global_buttons' },\n        menuTrigger,\n        searchTrigger\n      ),\n      React.createElement(\n        'div',\n        { className: 'global_display' },\n        this.state.showMenu && React.createElement(GlobalNavigation, { closeNav: this.toggleMenu }),\n        this.state.showSearch && React.createElement(LiveSearch, { afterSearch: this.toggleSearch })\n      )\n    );\n  },\n\n  toggleSearch: function toggleSearch(event) {\n    var _ref = arguments.length <= 1 || arguments[1] === undefined ? { 'false': false } : arguments[1];\n\n    var forceClose = _ref.forceClose;\n    var data = this.props.data;\n\n    this.setState(data && data.searchResults && !forceClose ? { activateSearch: event.timeStamp } : { showSearch: forceClose ? false : !this.state.showSearch });\n    this.setState({ showMenu: false });\n  },\n  toggleMenu: function toggleMenu(event) {\n    this.setState({\n      showMenu: !this.state.showMenu,\n      showSearch: false\n    });\n\n    event && event.preventDefault();\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      showSearch: false\n    };\n  },\n\n  // wrap in a click handler when the navigation isn't visible, and open the nav\n  // once nav is open, a second click goes to artsmia.org\n  makeLogo: function makeLogo() {\n    var showMenu = this.state.showMenu;\n\n    var logo = React.createElement('div', { className: 'logo-container' });\n\n    if (this.props.universal) return React.createElement(\n      'a',\n      { href: '/' },\n      logo\n    );\n\n    return showMenu ? React.createElement(\n      'a',\n      { href: 'https://new.artsmia.org', title: 'Back to artsmia.org' },\n      logo\n    ) : React.createElement(\n      'a',\n      { href: '#', title: 'Show menu', onClick: this.toggleMenu },\n      logo\n    );\n  },\n\n  noIndex: function noIndex() {\n    return process.env.NODE_ENV !== 'production';\n  }\n});\nApp.childContextTypes = { universal: React.PropTypes.bool };\n\nmodule.exports = App;\n//# sourceMappingURL=data:application/json;base64,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LGNBQWMsRUFBRSxDQUFBO0dBQ2hDOztBQUVELGlCQUFlLEVBQUEsMkJBQUc7QUFDaEIsV0FBTztBQUNMLGdCQUFVLEVBQUUsS0FBSztLQUNsQixDQUFBO0dBQ0Y7Ozs7QUFJRCxVQUFRLEVBQUEsb0JBQUc7UUFDSixRQUFRLEdBQUksSUFBSSxDQUFDLEtBQUssQ0FBdEIsUUFBUTs7QUFDYixRQUFJLElBQUksR0FBRyw2QkFBSyxTQUFTLEVBQUMsZ0JBQWdCLEdBQU8sQ0FBQTs7QUFFakQsUUFBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxPQUFPOztRQUFHLElBQUksRUFBQyxHQUFHO01BQUUsSUFBSTtLQUFLLENBQUE7O0FBRXRELFdBQU8sUUFBUSxHQUNiOztRQUFHLElBQUksRUFBQyx5QkFBeUIsRUFBQyxLQUFLLEVBQUMscUJBQXFCO01BQUUsSUFBSTtLQUFLLEdBQ3hFOztRQUFHLElBQUksRUFBQyxHQUFHLEVBQUMsS0FBSyxFQUFDLFdBQVcsRUFBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLFVBQVUsQUFBQztNQUFFLElBQUk7S0FBSyxDQUFBO0dBQ3JFOztBQUVELFNBQU8sRUFBQSxtQkFBRztBQUNSLFdBQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEtBQUssWUFBWSxDQUFBO0dBQzdDO0NBQ0YsQ0FBQyxDQUFBO0FBQ0YsR0FBRyxDQUFDLGlCQUFpQixHQUFHLEVBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFDLENBQUE7O0FBRXpELE1BQU0sQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIHtSb3V0ZUhhbmRsZXIsIExpbmt9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxuXG52YXIgTGl2ZVNlYXJjaCA9IHJlcXVpcmUoJy4vbGl2ZS1zZWFyY2gnKVxudmFyIEdsb2JhbE5hdmlnYXRpb24gPSByZXF1aXJlKCcuL25hdmlnYXRpb24nKVxuXG52YXIgQXBwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIGxvZ28gPSB0aGlzLm1ha2VMb2dvKClcbiAgICB2YXIgY2Fub25pY2FsVVJMID0gXCJodHRwczovL2NvbGxlY3Rpb25zLmFydHNtaWEub3JnXCIrdGhpcy5wcm9wcy5wYXRoXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMucHJvcHMudW5pdmVyc2FsICYmICd1bml2ZXJzYWwnfT5cbiAgICAgICAge3RoaXMuc3RhdGUuaGlkZUhlYWRlciB8fCA8aGVhZGVyIHN0eWxlPXt7ekluZGV4OiB0aGlzLnN0YXRlLnNob3dNZW51IHx8IHRoaXMuc3RhdGUuc2hvd1NlYXJjaCA/IDUgOiAxfX0+XG4gICAgICAgICAge2xvZ299XG4gICAgICAgICAge3RoaXMuZ2xvYmFsVG9vbEJhcigpfVxuICAgICAgICA8L2hlYWRlcj59XG4gICAgICAgIDxIZWxtZXRcbiAgICAgICAgICB0aXRsZT1cIkNvbGxlY3Rpb24gfCBNaW5uZWFwb2xpcyBJbnN0aXR1dGUgb2YgQXJ0XCJcbiAgICAgICAgICB0aXRsZVRlbXBsYXRlPVwiJXMgfCBNaWFcIlxuICAgICAgICAgIGxpbms9e1tcbiAgICAgICAgICAgIHtcInJlbFwiOiBcImNhbm9uaWNhbFwiLCBcImhyZWZcIjogY2Fub25pY2FsVVJMfSxcbiAgICAgICAgICBdfVxuICAgICAgICAgIG1ldGE9e1tcbiAgICAgICAgICAgIHtwcm9wZXJ0eTogXCJyb2JvdHNcIiwgY29udGVudDogdGhpcy5ub0luZGV4KCkgPyAnZm9sbG93LG5vaW5kZXgnIDogJ2FsbCd9LFxuICAgICAgICAgICAge3Byb3BlcnR5OiBcIm9nOnVybFwiLCBjb250ZW50OiBjYW5vbmljYWxVUkx9LFxuICAgICAgICAgIF19XG4gICAgICAgICAgLz5cbiAgICAgICAgPFJvdXRlSGFuZGxlclxuICAgICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAgIGFjdGl2YXRlU2VhcmNoPXt0aGlzLnN0YXRlLmFjdGl2YXRlU2VhcmNofVxuICAgICAgICAgIHRvZ2dsZUFwcEhlYWRlcj17dGhpcy50b2dnbGVIZWFkZXJ9XG4gICAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfSxcblxuICB0b2dnbGVIZWFkZXIoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7aGlkZUhlYWRlcjogIXRoaXMuc3RhdGUuaGlkZUhlYWRlcn0pXG4gIH0sXG5cbiAgZ2V0Q2hpbGRDb250ZXh0KCkge1xuICAgIHJldHVybiB7XG4gICAgICB1bml2ZXJzYWw6IHRoaXMucHJvcHMudW5pdmVyc2FsLFxuICAgIH1cbiAgfSxcblxuICBnbG9iYWxUb29sQmFyKCkge1xuICAgIHZhciBzZWFyY2hCdXR0b24gPSA8YnV0dG9uIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zIHNlYXJjaFwiIG9uQ2xpY2s9e3RoaXMudG9nZ2xlU2VhcmNofT5cbiAgICAgIHt0aGlzLnN0YXRlLnNob3dTZWFyY2ggPyAnY2xvc2UnIDogJ3NlYXJjaCd9XG4gICAgPC9idXR0b24+XG4gICAgdmFyIHNlYXJjaFRyaWdnZXIgPSB0aGlzLnByb3BzLnVuaXZlcnNhbCA/IDxMaW5rIHRvPVwiaG9tZVwiPntzZWFyY2hCdXR0b259PC9MaW5rPiA6IHNlYXJjaEJ1dHRvblxuICAgIHZhciBtZW51QnV0dG9uID0gPGJ1dHRvbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29ucyBtZW51XCIgb25DbGljaz17dGhpcy50b2dnbGVNZW51fT5cbiAgICAgIHt0aGlzLnN0YXRlLnNob3dNZW51ID8gJ2Nsb3NlJyA6ICdtZW51J31cbiAgICA8L2J1dHRvbj5cbiAgICB2YXIgbWVudVRyaWdnZXIgPSBtZW51QnV0dG9uXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdsb2JhbF9idXR0b25zXCI+XG4gICAgICAgIHttZW51VHJpZ2dlcn1cbiAgICAgICAge3NlYXJjaFRyaWdnZXJ9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2xvYmFsX2Rpc3BsYXlcIj5cbiAgICAgIHt0aGlzLnN0YXRlLnNob3dNZW51ICYmIDxHbG9iYWxOYXZpZ2F0aW9uIGNsb3NlTmF2PXt0aGlzLnRvZ2dsZU1lbnV9IC8+fVxuICAgICAge3RoaXMuc3RhdGUuc2hvd1NlYXJjaCAmJiA8TGl2ZVNlYXJjaCBhZnRlclNlYXJjaD17dGhpcy50b2dnbGVTZWFyY2h9IC8+fVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgdG9nZ2xlU2VhcmNoKGV2ZW50LCB7Zm9yY2VDbG9zZX09e2ZhbHNlfSkge1xuICAgIHZhciB7ZGF0YX0gPSB0aGlzLnByb3BzXG4gICAgdGhpcy5zZXRTdGF0ZShcbiAgICAgIGRhdGEgJiYgZGF0YS5zZWFyY2hSZXN1bHRzICYmICFmb3JjZUNsb3NlID9cbiAgICAgICAge2FjdGl2YXRlU2VhcmNoOiBldmVudC50aW1lU3RhbXB9IDpcbiAgICAgICAge3Nob3dTZWFyY2g6IGZvcmNlQ2xvc2UgPyBmYWxzZSA6ICF0aGlzLnN0YXRlLnNob3dTZWFyY2h9XG4gICAgICApXG4gICAgICB0aGlzLnNldFN0YXRlKHtzaG93TWVudTogZmFsc2V9KVxuICB9LFxuICB0b2dnbGVNZW51KGV2ZW50KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzaG93TWVudTogIXRoaXMuc3RhdGUuc2hvd01lbnUsXG4gICAgICBzaG93U2VhcmNoOiBmYWxzZVxuICAgIH0pXG5cbiAgICBldmVudCAmJiBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzaG93U2VhcmNoOiBmYWxzZVxuICAgIH1cbiAgfSxcblxuICAvLyB3cmFwIGluIGEgY2xpY2sgaGFuZGxlciB3aGVuIHRoZSBuYXZpZ2F0aW9uIGlzbid0IHZpc2libGUsIGFuZCBvcGVuIHRoZSBuYXZcbiAgLy8gb25jZSBuYXYgaXMgb3BlbiwgYSBzZWNvbmQgY2xpY2sgZ29lcyB0byBhcnRzbWlhLm9yZ1xuICBtYWtlTG9nbygpIHtcbiAgICB2YXIge3Nob3dNZW51fSA9IHRoaXMuc3RhdGVcbiAgICB2YXIgbG9nbyA9IDxkaXYgY2xhc3NOYW1lPSdsb2dvLWNvbnRhaW5lcic+PC9kaXY+XG5cbiAgICBpZih0aGlzLnByb3BzLnVuaXZlcnNhbCkgcmV0dXJuIDxhIGhyZWY9XCIvXCI+e2xvZ299PC9hPlxuXG4gICAgcmV0dXJuIHNob3dNZW51ID9cbiAgICAgIDxhIGhyZWY9XCJodHRwczovL25ldy5hcnRzbWlhLm9yZ1wiIHRpdGxlPVwiQmFjayB0byBhcnRzbWlhLm9yZ1wiPntsb2dvfTwvYT4gOlxuICAgICAgPGEgaHJlZj1cIiNcIiB0aXRsZT1cIlNob3cgbWVudVwiIG9uQ2xpY2s9e3RoaXMudG9nZ2xlTWVudX0+e2xvZ299PC9hPlxuICB9LFxuXG4gIG5vSW5kZXgoKSB7XG4gICAgcmV0dXJuIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbidcbiAgfSxcbn0pXG5BcHAuY2hpbGRDb250ZXh0VHlwZXMgPSB7dW5pdmVyc2FsOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbH1cblxubW9kdWxlLmV4cG9ydHMgPSBBcHBcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/app.js"
      ],
      "names": [],
      "mappings": ";;;;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;eACD,OAAO,CAAC,cAAc,CAAC;;IAA7C,YAAY,YAAZ,YAAY;IAAE,IAAI,YAAJ,IAAI;;AACvB,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;;AAEpC,IAAI,UAAU,GAAG,OAAO,CAAC,eAAe,CAAC,CAAA;AACzC,IAAI,gBAAgB,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;;AAE9C,IAAI,GAAG,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC1B,QAAM,EAAA,kBAAG;AACP,QAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAA;AAC1B,QAAI,YAAY,GAAG,iCAAiC,GAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAA;;AAEpE,WACE;;QAAK,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,WAAW,AAAC;MACjD,IAAI,CAAC,KAAK,CAAC,UAAU,IAAI;;UAAQ,KAAK,EAAE,EAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,GAAG,CAAC,EAAC,AAAC;QACrG,IAAI;QACJ,IAAI,CAAC,aAAa,EAAE;OACd;MACT,oBAAC,MAAM;AACL,aAAK,EAAC,2CAA2C;AACjD,qBAAa,EAAC,UAAU;AACxB,YAAI,EAAE,CACJ,EAAC,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,YAAY,EAAC,CAC3C,AAAC;AACF,YAAI,EAAE,CACJ,EAAC,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,GAAG,gBAAgB,GAAG,KAAK,EAAC,EACxE,EAAC,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,YAAY,EAAC,CAC5C,AAAC;QACA;MACJ,oBAAC,YAAY,eACP,IAAI,CAAC,KAAK;AACd,sBAAc,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,AAAC;AAC1C,uBAAe,EAAE,IAAI,CAAC,YAAY,AAAC;SACjC;KACA,CACP;GACF;;AAED,cAAY,EAAA,wBAAG;AACb,QAAI,CAAC,QAAQ,CAAC,EAAC,UAAU,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAC,CAAC,CAAA;GACpD;;AAED,iBAAe,EAAA,2BAAG;AAChB,WAAO;AACL,eAAS,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS;KAChC,CAAA;GACF;;AAED,eAAa,EAAA,yBAAG;AACd,QAAI,YAAY,GAAG;;QAAQ,SAAS,EAAC,uBAAuB,EAAC,OAAO,EAAE,IAAI,CAAC,YAAY,AAAC;MACrF,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,OAAO,GAAG,QAAQ;KACpC,CAAA;AACT,QAAI,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG;AAAC,UAAI;QAAC,EAAE,EAAC,MAAM;MAAE,YAAY;KAAQ,GAAG,YAAY,CAAA;AAC/F,QAAI,UAAU,GAAG;;QAAQ,SAAS,EAAC,qBAAqB,EAAC,OAAO,EAAE,IAAI,CAAC,UAAU,AAAC;MAC/E,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,OAAO,GAAG,MAAM;KAChC,CAAA;AACT,QAAI,WAAW,GAAG,UAAU,CAAA;AAC5B,WAAO;;;MACL;;UAAK,SAAS,EAAC,gBAAgB;QAC5B,WAAW;QACX,aAAa;OACV;MACN;;UAAK,SAAS,EAAC,gBAAgB;QAC9B,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,oBAAC,gBAAgB,IAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,AAAC,GAAG;QACtE,IAAI,CAAC,KAAK,CAAC,UAAU,IAAI,oBAAC,UAAU,IAAC,WAAW,EAAE,IAAI,CAAC,YAAY,AAAC,GAAG;OAClE;KACF,CAAA;GACP;;AAED,cAAY,EAAA,sBAAC,KAAK,EAAwB;qEAAT,EAAC,SAAA,KAAK,EAAC;;QAAnB,UAAU,QAAV,UAAU;QACxB,IAAI,GAAI,IAAI,CAAC,KAAK,CAAlB,IAAI;;AACT,QAAI,CAAC,QAAQ,CACX,IAAI,IAAI,IAAI,CAAC,aAAa,IAAI,CAAC,UAAU,GACvC,EAAC,cAAc,EAAE,KAAK,CAAC,SAAS,EAAC,GACjC,EAAC,UAAU,EAAE,UAAU,GAAG,KAAK,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAC,CAC1D,CAAA;AACD,QAAI,CAAC,QAAQ,CAAC,EAAC,QAAQ,EAAE,KAAK,EAAC,CAAC,CAAA;GACnC;AACD,YAAU,EAAA,oBAAC,KAAK,EAAE;AAChB,QAAI,CAAC,QAAQ,CAAC;AACZ,cAAQ,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ;AAC9B,gBAAU,EAAE,KAAK;KAClB,CAAC,CAAA;;AAEF,SAAK,IAAI,KAAK,CAAC,cAAc,EAAE,CAAA;GAChC;;AAED,iBAAe,EAAA,2BAAG;AAChB,WAAO;AACL,gBAAU,EAAE,KAAK;KAClB,CAAA;GACF;;;;AAID,UAAQ,EAAA,oBAAG;QACJ,QAAQ,GAAI,IAAI,CAAC,KAAK,CAAtB,QAAQ;;AACb,QAAI,IAAI,GAAG,6BAAK,SAAS,EAAC,gBAAgB,GAAO,CAAA;;AAEjD,QAAG,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,OAAO;;QAAG,IAAI,EAAC,GAAG;MAAE,IAAI;KAAK,CAAA;;AAEtD,WAAO,QAAQ,GACb;;QAAG,IAAI,EAAC,yBAAyB,EAAC,KAAK,EAAC,qBAAqB;MAAE,IAAI;KAAK,GACxE;;QAAG,IAAI,EAAC,GAAG,EAAC,KAAK,EAAC,WAAW,EAAC,OAAO,EAAE,IAAI,CAAC,UAAU,AAAC;MAAE,IAAI;KAAK,CAAA;GACrE;;AAED,SAAO,EAAA,mBAAG;AACR,WAAO,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,CAAA;GAC7C;CACF,CAAC,CAAA;AACF,GAAG,CAAC,iBAAiB,GAAG,EAAC,SAAS,EAAE,KAAK,CAAC,SAAS,CAAC,IAAI,EAAC,CAAA;;AAEzD,MAAM,CAAC,OAAO,GAAG,GAAG,CAAA",
      "file": "/var/www/art/src/app.js",
      "sourcesContent": [
        "var React = require('react')\nvar {RouteHandler, Link} = require('react-router')\nvar Helmet = require('react-helmet')\n\nvar LiveSearch = require('./live-search')\nvar GlobalNavigation = require('./navigation')\n\nvar App = React.createClass({\n  render() {\n    var logo = this.makeLogo()\n    var canonicalURL = \"https://collections.artsmia.org\"+this.props.path\n\n    return (\n      <div className={this.props.universal && 'universal'}>\n        {this.state.hideHeader || <header style={{zIndex: this.state.showMenu || this.state.showSearch ? 5 : 1}}>\n          {logo}\n          {this.globalToolBar()}\n        </header>}\n        <Helmet\n          title=\"Collection | Minneapolis Institute of Art\"\n          titleTemplate=\"%s | Mia\"\n          link={[\n            {\"rel\": \"canonical\", \"href\": canonicalURL},\n          ]}\n          meta={[\n            {property: \"robots\", content: this.noIndex() ? 'follow,noindex' : 'all'},\n            {property: \"og:url\", content: canonicalURL},\n          ]}\n          />\n        <RouteHandler\n          {...this.props}\n          activateSearch={this.state.activateSearch}\n          toggleAppHeader={this.toggleHeader}\n          />\n      </div>\n    )\n  },\n\n  toggleHeader() {\n    this.setState({hideHeader: !this.state.hideHeader})\n  },\n\n  getChildContext() {\n    return {\n      universal: this.props.universal,\n    }\n  },\n\n  globalToolBar() {\n    var searchButton = <button className=\"material-icons search\" onClick={this.toggleSearch}>\n      {this.state.showSearch ? 'close' : 'search'}\n    </button>\n    var searchTrigger = this.props.universal ? <Link to=\"home\">{searchButton}</Link> : searchButton\n    var menuButton = <button className=\"material-icons menu\" onClick={this.toggleMenu}>\n      {this.state.showMenu ? 'close' : 'menu'}\n    </button>\n    var menuTrigger = menuButton\n    return <div>\n      <div className=\"global_buttons\">\n        {menuTrigger}\n        {searchTrigger}\n      </div>\n      <div className=\"global_display\">\n      {this.state.showMenu && <GlobalNavigation closeNav={this.toggleMenu} />}\n      {this.state.showSearch && <LiveSearch afterSearch={this.toggleSearch} />}\n      </div>\n    </div>\n  },\n\n  toggleSearch(event, {forceClose}={false}) {\n    var {data} = this.props\n    this.setState(\n      data && data.searchResults && !forceClose ?\n        {activateSearch: event.timeStamp} :\n        {showSearch: forceClose ? false : !this.state.showSearch}\n      )\n      this.setState({showMenu: false})\n  },\n  toggleMenu(event) {\n    this.setState({\n      showMenu: !this.state.showMenu,\n      showSearch: false\n    })\n\n    event && event.preventDefault()\n  },\n\n  getInitialState() {\n    return {\n      showSearch: false\n    }\n  },\n\n  // wrap in a click handler when the navigation isn't visible, and open the nav\n  // once nav is open, a second click goes to artsmia.org\n  makeLogo() {\n    var {showMenu} = this.state\n    var logo = <div className='logo-container'></div>\n\n    if(this.props.universal) return <a href=\"/\">{logo}</a>\n\n    return showMenu ?\n      <a href=\"https://new.artsmia.org\" title=\"Back to artsmia.org\">{logo}</a> :\n      <a href=\"#\" title=\"Show menu\" onClick={this.toggleMenu}>{logo}</a>\n  },\n\n  noIndex() {\n    return process.env.NODE_ENV !== 'production'\n  },\n})\nApp.childContextTypes = {universal: React.PropTypes.bool}\n\nmodule.exports = App\n"
      ]
    },
    "mtime": 1485968083610
  },
  "{\"filename\":\"/var/www/art/src/live-search.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\n\nvar Search = require('./search');\nvar SearchResults = require('./search-results');\n\nvar styles = {\n  searchBox: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    minHeight: '3em',\n    zIndex: '1',\n    backgroundColor: 'white',\n    borderBottom: '1em solid #222',\n    background: 'rgb(35,35,35)',\n    color: 'white',\n    paddingTop: '3.3em'\n  },\n\n  message: {\n    textAlign: 'center',\n    display: 'inline-block',\n    width: '100%',\n    paddingTop: '1em'\n  }\n};\n\nvar LiveSearch = React.createClass({\n  displayName: 'LiveSearch',\n\n  render: function render() {\n    return React.createElement(\n      'div',\n      { style: styles.searchBox },\n      React.createElement(\n        Search,\n        {\n          hideResults: true,\n          blank: this.state.blank,\n          activateInput: true,\n          onUpdate: this.updateQuilt,\n          onSearch: this.afterSearch,\n          terms: this.state.terms,\n          results: this.state.results,\n          link: ['searchResults', { terms: this.state.terms }],\n          delay: 1000,\n          suggestStyle: { margin: \"1em 3em\" }\n        },\n        React.createElement(\n          'span',\n          { style: styles.message },\n          this.getText()\n        )\n      )\n    );\n  },\n\n  updateQuilt: function updateQuilt(terms) {\n    var _this = this;\n\n    !!terms && SearchResults.fetchData.searchResults({ terms: terms }).then(function (results) {\n      return _this.setState({ results: results, blank: false, terms: terms });\n    });\n  },\n\n  afterSearch: function afterSearch(terms) {\n    this.props.afterSearch({ forceClose: true });\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      results: [],\n      blank: true\n    };\n  },\n\n  getText: function getText() {\n    var results = this.state.results;\n\n    return results.hits && '(' + Math.min(results.hits.total, 10) + ' of ' + results.hits.total + '\\n      results for \\'' + this.state.terms + '\\'.\\n      hit enter to see the rest)';\n  }\n});\n\nmodule.exports = LiveSearch;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvbGl2ZS1zZWFyY2guanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7O0FBRTVCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQTtBQUNoQyxJQUFJLGFBQWEsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQTs7QUFFL0MsSUFBSSxNQUFNLEdBQUc7QUFDWCxXQUFTLEVBQUU7QUFDVCxZQUFRLEVBQUUsVUFBVTtBQUNwQixPQUFHLEVBQUUsQ0FBQztBQUNOLFFBQUksRUFBRSxDQUFDO0FBQ1AsU0FBSyxFQUFFLENBQUM7QUFDUixhQUFTLEVBQUUsS0FBSztBQUNoQixVQUFNLEVBQUUsR0FBRztBQUNYLG1CQUFlLEVBQUUsT0FBTztBQUN4QixnQkFBWSxFQUFFLGdCQUFnQjtBQUM5QixjQUFVLEVBQUUsZUFBZTtBQUMzQixTQUFLLEVBQUUsT0FBTztBQUNkLGNBQVUsRUFBQyxPQUFPO0dBQ25COztBQUVELFNBQU8sRUFBRTtBQUNQLGFBQVMsRUFBRSxRQUFRO0FBQ25CLFdBQU8sRUFBRSxjQUFjO0FBQ3ZCLFNBQUssRUFBRSxNQUFNO0FBQ2IsY0FBVSxFQUFFLEtBQUs7R0FDbEI7Q0FDRixDQUFBOztBQUVELElBQUksVUFBVSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUNqQyxRQUFNLEVBQUEsa0JBQUc7QUFDUCxXQUFPOztRQUFLLEtBQUssRUFBRSxNQUFNLENBQUMsU0FBUyxBQUFDO01BQ2xDO0FBQUMsY0FBTTs7QUFDTCxxQkFBVyxFQUFFLElBQUksQUFBQztBQUNsQixlQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEFBQUM7QUFDeEIsdUJBQWEsRUFBRSxJQUFJLEFBQUM7QUFDcEIsa0JBQVEsRUFBRSxJQUFJLENBQUMsV0FBVyxBQUFDO0FBQzNCLGtCQUFRLEVBQUUsSUFBSSxDQUFDLFdBQVcsQUFBQztBQUMzQixlQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEFBQUM7QUFDeEIsaUJBQU8sRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQUFBQztBQUM1QixjQUFJLEVBQUUsQ0FBQyxlQUFlLEVBQUUsRUFBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUMsQ0FBQyxBQUFDO0FBQ25ELGVBQUssRUFBRSxJQUFJLEFBQUM7QUFDWixzQkFBWSxFQUFFLEVBQUMsTUFBTSxFQUFFLFNBQVMsRUFBQyxBQUFDOztRQUVsQzs7WUFBTSxLQUFLLEVBQUUsTUFBTSxDQUFDLE9BQU8sQUFBQztVQUFFLElBQUksQ0FBQyxPQUFPLEVBQUU7U0FBUTtPQUM3QztLQUNMLENBQUE7R0FDUDs7QUFFRCxhQUFXLEVBQUEscUJBQUMsS0FBSyxFQUFFOzs7QUFDakIsS0FBQyxDQUFDLEtBQUssSUFDTCxhQUFhLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxFQUFDLEtBQUssRUFBTCxLQUFLLEVBQUMsQ0FBQyxDQUM3QyxJQUFJLENBQUMsVUFBQSxPQUFPO2FBQUksTUFBSyxRQUFRLENBQUMsRUFBQyxPQUFPLEVBQVAsT0FBTyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFMLEtBQUssRUFBQyxDQUFDO0tBQUEsQ0FBQyxDQUFBO0dBQ2xFOztBQUVELGFBQVcsRUFBQSxxQkFBQyxLQUFLLEVBQUU7QUFDakIsUUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsRUFBQyxVQUFVLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQTtHQUMzQzs7QUFFRCxpQkFBZSxFQUFBLDJCQUFHO0FBQ2hCLFdBQU87QUFDTCxhQUFPLEVBQUUsRUFBRTtBQUNYLFdBQUssRUFBRSxJQUFJO0tBQ1osQ0FBQTtHQUNGOztBQUVELFNBQU8sRUFBQSxtQkFBRztRQUNILE9BQU8sR0FBSSxJQUFJLENBQUMsS0FBSyxDQUFyQixPQUFPOztBQUNaLFdBQU8sT0FBTyxDQUFDLElBQUksVUFDYixJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxZQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyw4QkFDOUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLDBDQUNKLENBQUE7R0FDOUI7Q0FDRixDQUFDLENBQUE7O0FBRUYsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFVLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9saXZlLXNlYXJjaC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcblxudmFyIFNlYXJjaCA9IHJlcXVpcmUoJy4vc2VhcmNoJylcbnZhciBTZWFyY2hSZXN1bHRzID0gcmVxdWlyZSgnLi9zZWFyY2gtcmVzdWx0cycpXG5cbnZhciBzdHlsZXMgPSB7XG4gIHNlYXJjaEJveDoge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRvcDogMCxcbiAgICBsZWZ0OiAwLFxuICAgIHJpZ2h0OiAwLFxuICAgIG1pbkhlaWdodDogJzNlbScsXG4gICAgekluZGV4OiAnMScsXG4gICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgIGJvcmRlckJvdHRvbTogJzFlbSBzb2xpZCAjMjIyJyxcbiAgICBiYWNrZ3JvdW5kOiAncmdiKDM1LDM1LDM1KScsXG4gICAgY29sb3I6ICd3aGl0ZScsXG4gICAgcGFkZGluZ1RvcDonMy4zZW0nXG4gIH0sXG5cbiAgbWVzc2FnZToge1xuICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgd2lkdGg6ICcxMDAlJyxcbiAgICBwYWRkaW5nVG9wOiAnMWVtJyxcbiAgfSxcbn1cblxudmFyIExpdmVTZWFyY2ggPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPGRpdiBzdHlsZT17c3R5bGVzLnNlYXJjaEJveH0+XG4gICAgICA8U2VhcmNoXG4gICAgICAgIGhpZGVSZXN1bHRzPXt0cnVlfVxuICAgICAgICBibGFuaz17dGhpcy5zdGF0ZS5ibGFua31cbiAgICAgICAgYWN0aXZhdGVJbnB1dD17dHJ1ZX1cbiAgICAgICAgb25VcGRhdGU9e3RoaXMudXBkYXRlUXVpbHR9XG4gICAgICAgIG9uU2VhcmNoPXt0aGlzLmFmdGVyU2VhcmNofVxuICAgICAgICB0ZXJtcz17dGhpcy5zdGF0ZS50ZXJtc31cbiAgICAgICAgcmVzdWx0cz17dGhpcy5zdGF0ZS5yZXN1bHRzfVxuICAgICAgICBsaW5rPXtbJ3NlYXJjaFJlc3VsdHMnLCB7dGVybXM6IHRoaXMuc3RhdGUudGVybXN9XX1cbiAgICAgICAgZGVsYXk9ezEwMDB9XG4gICAgICAgIHN1Z2dlc3RTdHlsZT17e21hcmdpbjogXCIxZW0gM2VtXCJ9fVxuICAgICAgICA+XG4gICAgICAgIDxzcGFuIHN0eWxlPXtzdHlsZXMubWVzc2FnZX0+e3RoaXMuZ2V0VGV4dCgpfTwvc3Bhbj5cbiAgICAgIDwvU2VhcmNoPlxuICAgIDwvZGl2PlxuICB9LFxuXG4gIHVwZGF0ZVF1aWx0KHRlcm1zKSB7XG4gICAgISF0ZXJtcyAmJlxuICAgICAgU2VhcmNoUmVzdWx0cy5mZXRjaERhdGEuc2VhcmNoUmVzdWx0cyh7dGVybXN9KVxuICAgICAgLnRoZW4ocmVzdWx0cyA9PiB0aGlzLnNldFN0YXRlKHtyZXN1bHRzLCBibGFuazogZmFsc2UsIHRlcm1zfSkpXG4gIH0sXG5cbiAgYWZ0ZXJTZWFyY2godGVybXMpIHtcbiAgICB0aGlzLnByb3BzLmFmdGVyU2VhcmNoKHtmb3JjZUNsb3NlOiB0cnVlfSlcbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3VsdHM6IFtdLFxuICAgICAgYmxhbms6IHRydWVcbiAgICB9XG4gIH0sXG5cbiAgZ2V0VGV4dCgpIHtcbiAgICB2YXIge3Jlc3VsdHN9ID0gdGhpcy5zdGF0ZVxuICAgIHJldHVybiByZXN1bHRzLmhpdHMgJiZcbiAgICAgIGAoJHtNYXRoLm1pbihyZXN1bHRzLmhpdHMudG90YWwsIDEwKX0gb2YgJHtyZXN1bHRzLmhpdHMudG90YWx9XG4gICAgICByZXN1bHRzIGZvciAnJHt0aGlzLnN0YXRlLnRlcm1zfScuXG4gICAgICBoaXQgZW50ZXIgdG8gc2VlIHRoZSByZXN0KWBcbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gTGl2ZVNlYXJjaFxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/live-search.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;AAE5B,IAAI,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA;AAChC,IAAI,aAAa,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAA;;AAE/C,IAAI,MAAM,GAAG;AACX,WAAS,EAAE;AACT,YAAQ,EAAE,UAAU;AACpB,OAAG,EAAE,CAAC;AACN,QAAI,EAAE,CAAC;AACP,SAAK,EAAE,CAAC;AACR,aAAS,EAAE,KAAK;AAChB,UAAM,EAAE,GAAG;AACX,mBAAe,EAAE,OAAO;AACxB,gBAAY,EAAE,gBAAgB;AAC9B,cAAU,EAAE,eAAe;AAC3B,SAAK,EAAE,OAAO;AACd,cAAU,EAAC,OAAO;GACnB;;AAED,SAAO,EAAE;AACP,aAAS,EAAE,QAAQ;AACnB,WAAO,EAAE,cAAc;AACvB,SAAK,EAAE,MAAM;AACb,cAAU,EAAE,KAAK;GAClB;CACF,CAAA;;AAED,IAAI,UAAU,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACjC,QAAM,EAAA,kBAAG;AACP,WAAO;;QAAK,KAAK,EAAE,MAAM,CAAC,SAAS,AAAC;MAClC;AAAC,cAAM;;AACL,qBAAW,EAAE,IAAI,AAAC;AAClB,eAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,AAAC;AACxB,uBAAa,EAAE,IAAI,AAAC;AACpB,kBAAQ,EAAE,IAAI,CAAC,WAAW,AAAC;AAC3B,kBAAQ,EAAE,IAAI,CAAC,WAAW,AAAC;AAC3B,eAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,AAAC;AACxB,iBAAO,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,AAAC;AAC5B,cAAI,EAAE,CAAC,eAAe,EAAE,EAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,EAAC,CAAC,AAAC;AACnD,eAAK,EAAE,IAAI,AAAC;AACZ,sBAAY,EAAE,EAAC,MAAM,EAAE,SAAS,EAAC,AAAC;;QAElC;;YAAM,KAAK,EAAE,MAAM,CAAC,OAAO,AAAC;UAAE,IAAI,CAAC,OAAO,EAAE;SAAQ;OAC7C;KACL,CAAA;GACP;;AAED,aAAW,EAAA,qBAAC,KAAK,EAAE;;;AACjB,KAAC,CAAC,KAAK,IACL,aAAa,CAAC,SAAS,CAAC,aAAa,CAAC,EAAC,KAAK,EAAL,KAAK,EAAC,CAAC,CAC7C,IAAI,CAAC,UAAA,OAAO;aAAI,MAAK,QAAQ,CAAC,EAAC,OAAO,EAAP,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAL,KAAK,EAAC,CAAC;KAAA,CAAC,CAAA;GAClE;;AAED,aAAW,EAAA,qBAAC,KAAK,EAAE;AACjB,QAAI,CAAC,KAAK,CAAC,WAAW,CAAC,EAAC,UAAU,EAAE,IAAI,EAAC,CAAC,CAAA;GAC3C;;AAED,iBAAe,EAAA,2BAAG;AAChB,WAAO;AACL,aAAO,EAAE,EAAE;AACX,WAAK,EAAE,IAAI;KACZ,CAAA;GACF;;AAED,SAAO,EAAA,mBAAG;QACH,OAAO,GAAI,IAAI,CAAC,KAAK,CAArB,OAAO;;AACZ,WAAO,OAAO,CAAC,IAAI,UACb,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,CAAC,YAAO,OAAO,CAAC,IAAI,CAAC,KAAK,8BAC9C,IAAI,CAAC,KAAK,CAAC,KAAK,0CACJ,CAAA;GAC9B;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,UAAU,CAAA",
      "file": "/var/www/art/src/live-search.js",
      "sourcesContent": [
        "var React = require('react')\n\nvar Search = require('./search')\nvar SearchResults = require('./search-results')\n\nvar styles = {\n  searchBox: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    minHeight: '3em',\n    zIndex: '1',\n    backgroundColor: 'white',\n    borderBottom: '1em solid #222',\n    background: 'rgb(35,35,35)',\n    color: 'white',\n    paddingTop:'3.3em'\n  },\n\n  message: {\n    textAlign: 'center',\n    display: 'inline-block',\n    width: '100%',\n    paddingTop: '1em',\n  },\n}\n\nvar LiveSearch = React.createClass({\n  render() {\n    return <div style={styles.searchBox}>\n      <Search\n        hideResults={true}\n        blank={this.state.blank}\n        activateInput={true}\n        onUpdate={this.updateQuilt}\n        onSearch={this.afterSearch}\n        terms={this.state.terms}\n        results={this.state.results}\n        link={['searchResults', {terms: this.state.terms}]}\n        delay={1000}\n        suggestStyle={{margin: \"1em 3em\"}}\n        >\n        <span style={styles.message}>{this.getText()}</span>\n      </Search>\n    </div>\n  },\n\n  updateQuilt(terms) {\n    !!terms &&\n      SearchResults.fetchData.searchResults({terms})\n      .then(results => this.setState({results, blank: false, terms}))\n  },\n\n  afterSearch(terms) {\n    this.props.afterSearch({forceClose: true})\n  },\n\n  getInitialState() {\n    return {\n      results: [],\n      blank: true\n    }\n  },\n\n  getText() {\n    var {results} = this.state\n    return results.hits &&\n      `(${Math.min(results.hits.total, 10)} of ${results.hits.total}\n      results for '${this.state.terms}'.\n      hit enter to see the rest)`\n  },\n})\n\nmodule.exports = LiveSearch\n"
      ]
    },
    "mtime": 1447960210959
  },
  "{\"filename\":\"/var/www/art/src/search.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar NotFoundRoute = Router.NotFoundRoute;\nvar Navigation = Router.Navigation;\nvar State = Router.State;\nvar Link = Router.Link;\nvar Route = Router.Route;\nvar RouteHandler = Router.RouteHandler;\nvar DefaultRoute = Router.DefaultRoute;\nvar Redirect = Router.Redirect;\n\nvar rest = require('rest');\nvar debounce = require('debounce');\nvar SEARCH = require('./endpoints').search;\n\nvar ImageQuilt = require('./image-quilt');\nvar SearchResults = require('./search-results');\nvar Suggest = require('./suggest');\nvar searchLanguageMap = require('./search-language');\n\nvar Search = React.createClass({\n  displayName: 'Search',\n\n  mixins: [Router.State, Router.Navigation],\n\n  getInitialState: function getInitialState() {\n    var blank = this.props.blank;\n\n    var results = this.props.results || this.props.data && this.props.data.searchResults || [];\n    results || this.props.blank || this.transitionTo('home');\n\n    return {\n      results: results,\n      terms: blank ? '' : this.props.params && this.props.params.terms && decodeURIComponent(this.props.params.terms),\n      hits: results && results.hits && results.hits.hits || [],\n      showAggs: this.props.showAggs,\n      blank: this.props.blank\n    };\n  },\n\n  render: function render() {\n    var results = this.state.results;\n    var hits = results && results.hits && results.hits.hits; // this has to be different from `state.hits` so artworks don't change order when hovered in the quilt\n    var darkenQuilt = this.props.path && this.props.path.match(/\\/search/);\n    var headerArtworks = ImageQuilt.getImagedResults(hits);\n    var showQuilt = !darkenQuilt && headerArtworks;\n    var quiltProps = Object.assign({\n      maxRows: this.state.showAggs ? 1 : 2,\n      maxWorks: 10,\n      artworks: headerArtworks,\n      onClick: this.updateFromQuilt,\n      disableHover: this.props.hideResults || this.props.disableHover,\n      lazyLoad: !this.context.universal,\n      darken: darkenQuilt,\n      shuffle: this.props.shuffleQuilt\n    }, this.props.quiltProps || {});\n\n    var idealSearchBoxWidth = Math.max(17, this.state.terms && this.state.terms.length * 1.1 || 0);\n    var nakedSimpleSearchBox = React.createElement(\n      'div',\n      { className: 'search-wrapper', style: { width: idealSearchBoxWidth + 'em' } },\n      React.createElement(\n        'form',\n        { action: '' },\n        React.createElement('input', { className: 'search-input', type: 'search',\n          placeholder: 'search',\n          value: searchLanguageMap(this.state.terms),\n          onKeyDown: this.keyDown,\n          onChange: this.throttledSearch,\n          onFocus: function (_ref) {\n            var target = _ref.target;\n            return target && target.select();\n          },\n          style: { width: '100%', pointerEvents: 'all' },\n          name: 'q',\n          ref: 'searchInput',\n          autoComplete: 'off',\n          list: 'searchCompletions'\n        })\n      )\n    );\n\n    var simpleSearchBox = this.context.universal ? React.createElement(\n      'form',\n      { action: '/search/', method: 'get' },\n      nakedSimpleSearchBox\n    ) : nakedSimpleSearchBox;\n\n    var hideInput = this.props.hideInput && !this.state.activateSearch;\n    var searchStyles = {\n      left: 0,\n      right: 0,\n      width: '100%',\n      textAlign: 'center',\n      pointerEvents: 'none',\n      display: hideInput ? 'none' : 'inherit',\n      padding: this.props.bumpSearchBox ? '0.5em' : '0'\n    };\n\n    var searchOverQuiltStyles = _extends({}, searchStyles, {\n      position: 'absolute',\n      top: '50%',\n      transform: \"translateY(-50%)\",\n      WebkitTransform: \"translateY(-50%)\"\n    });\n\n    var searchBox = React.createElement(\n      'div',\n      { className: 'quilt-search-wrap', style: showQuilt && { position: 'relative', width: '100%', overflow: 'hidden' } || {} },\n      showQuilt && React.createElement(ImageQuilt, quiltProps) || React.createElement('span', { style: { display: 'block', minHeight: '3.5rem' } }),\n      React.createElement(\n        'div',\n        { className: 'search-wrap',\n          style: showQuilt && !this.props.bumpSearchBox ? searchOverQuiltStyles : searchStyles },\n        React.createElement(\n          'div',\n          null,\n          simpleSearchBox\n        )\n      )\n    );\n\n    var aggsProps = {\n      showAggs: this.state.showAggs,\n      toggleAggs: this.toggleAggs\n    };\n\n    var suggestions = React.createElement(Suggest, {\n      search: this.props.data && this.props.data.searchResults,\n      completions: this.state.completions,\n      style: this.props.suggestStyle\n    });\n\n    return React.createElement(\n      'div',\n      { id: 'search' },\n      searchBox,\n      this.props.children,\n      this.props.hideResults && suggestions || React.createElement(\n        'div',\n        null,\n        React.createElement(SearchResults, _extends({}, this.props, {\n          hits: this.state.hits\n        }, aggsProps, {\n          suggestions: suggestions,\n          minHeight: this.state.minHeight\n        }))\n      )\n    );\n  },\n\n  componentWillMount: function componentWillMount() {\n    var update = this.props.onUpdate || this.search;\n    var delay = this.props.delay;\n\n    var isDesktop = typeof window.orientation === 'undefined';\n\n    this.debouncedSearch = delay || isDesktop ? debounce(update, this.props.delay || 3000) : undefined;\n    this.debouncedAutocomplete = debounce(this.autocomplete, 300);\n  },\n\n  autocomplete: function autocomplete(terms) {\n    var _this = this;\n\n    if (terms == '') return;\n    rest(SEARCH + '/autofill/' + decodeURIComponent(terms)).then(function (r) {\n      return JSON.parse(r.entity);\n    }).then(function (completions) {\n      return _this.setState({ completions: completions });\n    });\n  },\n\n  componentDidMount: function componentDidMount() {\n    if (this.props.activateInput) {\n      this.activateSearch();\n    }\n  },\n\n  throttledSearch: function throttledSearch(event) {\n    var terms = searchLanguageMap(event.target.value);\n    this.setState({ terms: terms });\n    this.debouncedSearch && this.debouncedSearch(terms);\n    this.debouncedAutocomplete(terms);\n  },\n\n  search: function search() {\n    var terms = this.normalizeTerms(this.state.terms);\n    var _props = this.props;\n    var facet = _props.facet;\n    var searchAll = _props.searchAll;\n\n    if (terms === '') return;\n\n    var filters = this.props.params && this.props.params.splat;\n    if (filters && filters.match(/deaccessioned:.?true.?/)) facet = filters;\n    this.props.onSearch && this.props.onSearch(terms);\n    this.transitionTo(facet && !searchAll ? 'filteredSearchResults' : 'searchResults', { terms: terms, splat: facet });\n  },\n\n  keyDown: function keyDown(event) {\n    if (event.key == 'Enter') {\n      this.search();\n      event.preventDefault();\n    }\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    // Replace `terms` with the terms from the current search, so back+forward\n    // work correctly. UNLESS the only difference is insignificant whitespace.\n    var nextTerms = nextProps.params && nextProps.params.terms || nextProps.terms;\n    if (this.normalizeTerms() != nextTerms) {\n      this.setState({ terms: nextTerms });\n    }\n    var results = nextProps.results || nextProps.data && nextProps.data.searchResults;\n    this.setState({ results: results, hits: results && results.hits && results.hits.hits || [] });\n  },\n\n  componentDidUpdate: function componentDidUpdate(prevProps) {\n    var activateSearch = this.props.activateSearch;\n\n    if (activateSearch && activateSearch !== this.state.activateSearch) {\n      this.activateSearch();\n      this.setState({ activateSearch: activateSearch });\n    }\n  },\n\n  normalizeTerms: function normalizeTerms() {\n    var terms = arguments.length <= 0 || arguments[0] === undefined ? this.state.terms : arguments[0];\n\n    return terms && terms.replace(/\\s+/, ' ').trim();\n  },\n\n  // update `state.hits` to float a hit from the quilt to the top.\n  // If no `art` is passed, that means the quilt has lost focus,\n  // reset hits to be the searchResults straigt from ES\n  updateFromQuilt: function updateFromQuilt(art) {\n    var hits = this.state.results.hits.hits;\n    if (art) {\n      if (this.props.facet) this.linkToClickedArtwork(this.props.facet, art);\n      var index = hits.indexOf(art) + 1;\n      if (hits.indexOf(art) === -1) {\n        var sameArtDifferentObject = hits.filter(function (h) {\n          return h._id === art._id;\n        });\n        if (sameArtDifferentObject) index = hits.indexOf(sameArtDifferentObject[0]) + 1;\n      }\n      var nextHits = [art].concat(hits);\n      nextHits.splice(index, 1);\n      this.setState({ hits: nextHits || hits });\n    }\n  },\n\n  linkToClickedArtwork: function linkToClickedArtwork(facet, art) {\n    window.clickedArtwork = art;\n    this.props.onSearch && this.props.onSearch('clicked a link');\n    this.transitionTo(facet ? 'filteredSearchResults' : 'searchResults', { terms: '*', splat: facet });\n  },\n\n  toggleAggs: function toggleAggs() {\n    this.setState({ showAggs: !this.state.showAggs });\n  },\n\n  activateSearch: function activateSearch() {\n    var node = React.findDOMNode(this.refs.searchInput);\n    if (node) {\n      node.focus();\n      node.value && node.setSelectionRange(0, node.value.length);\n    }\n  }\n});\nSearch.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nmodule.exports = Search;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvc2VhcmNoLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0lBQzlCLGFBQWEsR0FBMkUsTUFBTSxDQUE5RixhQUFhO0lBQUUsVUFBVSxHQUErRCxNQUFNLENBQS9FLFVBQVU7SUFBRSxLQUFLLEdBQXdELE1BQU0sQ0FBbkUsS0FBSztJQUFFLElBQUksR0FBa0QsTUFBTSxDQUE1RCxJQUFJO0lBQUUsS0FBSyxHQUEyQyxNQUFNLENBQXRELEtBQUs7SUFBRSxZQUFZLEdBQTZCLE1BQU0sQ0FBL0MsWUFBWTtJQUFFLFlBQVksR0FBZSxNQUFNLENBQWpDLFlBQVk7SUFBRSxRQUFRLEdBQUssTUFBTSxDQUFuQixRQUFROztBQUN6RixJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUE7QUFDMUIsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFBO0FBQ2xDLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQyxNQUFNLENBQUE7O0FBRTFDLElBQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQTtBQUN6QyxJQUFJLGFBQWEsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQTtBQUMvQyxJQUFJLE9BQU8sR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUE7QUFDbEMsSUFBSSxpQkFBaUIsR0FBRyxPQUFPLENBQUMsbUJBQW1CLENBQUMsQ0FBQTs7QUFHcEQsSUFBSSxNQUFNLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQzdCLFFBQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLFVBQVUsQ0FBQzs7QUFFekMsaUJBQWUsRUFBQSwyQkFBRztRQUNU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c291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIgeyBOb3RGb3VuZFJvdXRlLCBOYXZpZ2F0aW9uLCBTdGF0ZSwgTGluaywgUm91dGUsIFJvdXRlSGFuZGxlciwgRGVmYXVsdFJvdXRlLCBSZWRpcmVjdCB9ID0gUm91dGVyXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxudmFyIGRlYm91bmNlID0gcmVxdWlyZSgnZGVib3VuY2UnKVxudmFyIFNFQVJDSCA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJykuc2VhcmNoXG5cbnZhciBJbWFnZVF1aWx0ID0gcmVxdWlyZSgnLi9pbWFnZS1xdWlsdCcpXG52YXIgU2VhcmNoUmVzdWx0cyA9IHJlcXVpcmUoJy4vc2VhcmNoLXJlc3VsdHMnKVxudmFyIFN1Z2dlc3QgPSByZXF1aXJlKCcuL3N1Z2dlc3QnKVxudmFyIHNlYXJjaExhbmd1YWdlTWFwID0gcmVxdWlyZSgnLi9zZWFyY2gtbGFuZ3VhZ2UnKVxuXG5cbnZhciBTZWFyY2ggPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIG1peGluczogW1JvdXRlci5TdGF0ZSwgUm91dGVyLk5hdmlnYXRpb25dLFxuXG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICBjb25zdCB7Ymxhbmt9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IHJlc3VsdHMgPSB0aGlzLnByb3BzLnJlc3VsdHMgfHwgdGhpcy5wcm9wcy5kYXRhICYmIHRoaXMucHJvcHMuZGF0YS5zZWFyY2hSZXN1bHRzIHx8IFtdXG4gICAgcmVzdWx0cyB8fCB0aGlzLnByb3BzLmJsYW5rIHx8IHRoaXMudHJhbnNpdGlvblRvKCdob21lJylcblxuICAgIHJldHVybiB7XG4gICAgICByZXN1bHRzOiByZXN1bHRzLFxuICAgICAgdGVybXM6IGJsYW5rID8gJycgOiB0aGlzLnByb3BzLnBhcmFtcyAmJiB0aGlzLnByb3BzLnBhcmFtcy50ZXJtcyAmJiBkZWNvZGVVUklDb21wb25lbnQodGhpcy5wcm9wcy5wYXJhbXMudGVybXMpLFxuICAgICAgaGl0czogcmVzdWx0cyAmJiByZXN1bHRzLmhpdHMgJiYgcmVzdWx0cy5oaXRzLmhpdHMgfHwgW10sXG4gICAgICBzaG93QWdnczogdGhpcy5wcm9wcy5zaG93QWdncyxcbiAgICAgIGJsYW5rOiB0aGlzLnByb3BzLmJsYW5rLFxuICAgIH1cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgcmVzdWx0cyA9IHRoaXMuc3RhdGUucmVzdWx0c1xuICAgIGNvbnN0IGhpdHMgPSByZXN1bHRzICYmIHJlc3VsdHMuaGl0cyAmJiByZXN1bHRzLmhpdHMuaGl0cyAvLyB0aGlzIGhhcyB0byBiZSBkaWZmZXJlbnQgZnJvbSBgc3RhdGUuaGl0c2Agc28gYXJ0d29ya3MgZG9uJ3QgY2hhbmdlIG9yZGVyIHdoZW4gaG92ZXJlZCBpbiB0aGUgcXVpbHRcbiAgICBjb25zdCBkYXJrZW5RdWlsdCA9IHRoaXMucHJvcHMucGF0aCAmJiB0aGlzLnByb3BzLnBhdGgubWF0Y2goL1xcL3NlYXJjaC8pXG4gICAgY29uc3QgaGVhZGVyQXJ0d29ya3MgPSBJbWFnZVF1aWx0LmdldEltYWdlZFJlc3VsdHMoaGl0cylcbiAgICBjb25zdCBzaG93UXVpbHQgPSAhZGFya2VuUXVpbHQgJiYgaGVhZGVyQXJ0d29ya3NcbiAgICB2YXIgcXVpbHRQcm9wcyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgbWF4Um93czogdGhpcy5zdGF0ZS5zaG93QWdncyA/IDEgOiAyLFxuICAgICAgbWF4V29ya3M6IDEwLFxuICAgICAgYXJ0d29ya3M6IGhlYWRlckFydHdvcmtzLFxuICAgICAgb25DbGljazogdGhpcy51cGRhdGVGcm9tUXVpbHQsXG4gICAgICBkaXNhYmxlSG92ZXI6IHRoaXMucHJvcHMuaGlkZVJlc3VsdHMgfHwgdGhpcy5wcm9wcy5kaXNhYmxlSG92ZXIsXG4gICAgICBsYXp5TG9hZDogIXRoaXMuY29udGV4dC51bml2ZXJzYWwsXG4gICAgICBkYXJrZW46IGRhcmtlblF1aWx0LFxuICAgICAgc2h1ZmZsZTogdGhpcy5wcm9wcy5zaHVmZmxlUXVpbHQsXG4gICAgfSwgdGhpcy5wcm9wcy5xdWlsdFByb3BzIHx8IHt9KVxuXG4gICAgY29uc3QgaWRlYWxTZWFyY2hCb3hXaWR0aCA9IE1hdGgubWF4KDE3LCB0aGlzLnN0YXRlLnRlcm1zICYmIHRoaXMuc3RhdGUudGVybXMubGVuZ3RoKjEuMSB8fCAwKVxuICAgIGNvbnN0IG5ha2VkU2ltcGxlU2VhcmNoQm94ID0gPGRpdiBjbGFzc05hbWU9J3NlYXJjaC13cmFwcGVyJyBzdHlsZT17e3dpZHRoOiBpZGVhbFNlYXJjaEJveFdpZHRoICsgJ2VtJ319PlxuICAgICAgPGZvcm0gYWN0aW9uPScnPjxpbnB1dCBjbGFzc05hbWU9J3NlYXJjaC1pbnB1dCcgdHlwZT1cInNlYXJjaFwiXG4gICAgICAgIHBsYWNlaG9sZGVyPVwic2VhcmNoXCJcbiAgICAgICAgdmFsdWU9e3NlYXJjaExhbmd1YWdlTWFwKHRoaXMuc3RhdGUudGVybXMpfVxuICAgICAgICBvbktleURvd249e3RoaXMua2V5RG93bn1cbiAgICAgICAgb25DaGFuZ2U9e3RoaXMudGhyb3R0bGVkU2VhcmNofVxuICAgICAgICBvbkZvY3VzPXsoe3RhcmdldH0pID0+IHRhcmdldCAmJiB0YXJnZXQuc2VsZWN0KCl9XG4gICAgICAgIHN0eWxlPXt7d2lkdGg6ICcxMDAlJywgcG9pbnRlckV2ZW50czogJ2FsbCd9fVxuICAgICAgICBuYW1lPVwicVwiXG4gICAgICAgIHJlZj1cInNlYXJjaElucHV0XCJcbiAgICAgICAgYXV0b0NvbXBsZXRlPVwib2ZmXCJcbiAgICAgICAgbGlzdD1cInNlYXJjaENvbXBsZXRpb25zXCJcbiAgICAgICAgLz48L2Zvcm0+XG4gICAgPC9kaXY+XG5cbiAgICBjb25zdCBzaW1wbGVTZWFyY2hCb3ggPSB0aGlzLmNvbnRleHQudW5pdmVyc2FsID9cbiAgICAgIDxmb3JtIGFjdGlvbj1cIi9zZWFyY2gvXCIgbWV0aG9kPVwiZ2V0XCI+e25ha2VkU2ltcGxlU2VhcmNoQm94fTwvZm9ybT4gOlxuICAgICAgbmFrZWRTaW1wbGVTZWFyY2hCb3hcblxuICAgIGNvbnN0IGhpZGVJbnB1dCA9IHRoaXMucHJvcHMuaGlkZUlucHV0ICYmICF0aGlzLnN0YXRlLmFjdGl2YXRlU2VhcmNoXG4gICAgdmFyIHNlYXJjaFN0eWxlcyA9IHtcbiAgICAgIGxlZnQ6IDAsXG4gICAgICByaWdodDogMCxcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgZGlzcGxheTogaGlkZUlucHV0ID8gJ25vbmUnIDogJ2luaGVyaXQnLFxuICAgICAgcGFkZGluZzogdGhpcy5wcm9wcy5idW1wU2VhcmNoQm94ID8gJzAuNWVtJyA6ICcwJyxcbiAgICB9XG5cbiAgICB2YXIgc2VhcmNoT3ZlclF1aWx0U3R5bGVzID0ge1xuICAgICAgLi4uc2VhcmNoU3R5bGVzLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB0b3A6ICc1MCUnLFxuICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZVkoLTUwJSlcIixcbiAgICAgIFdlYmtpdFRyYW5zZm9ybTogXCJ0cmFuc2xhdGVZKC01MCUpXCIsXG4gICAgfVxuXG4gICAgY29uc3Qgc2VhcmNoQm94ID0gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J3F1aWx0LXNlYXJjaC13cmFwJyBzdHlsZT17c2hvd1F1aWx0ICYmIHtwb3NpdGlvbjogJ3JlbGF0aXZlJywgd2lkdGg6ICcxMDAlJywgb3ZlcmZsb3c6ICdoaWRkZW4nfSB8fCB7fX0+XG4gICAgICAgIHtzaG93UXVpbHQgJiYgPEltYWdlUXVpbHQgey4uLnF1aWx0UHJvcHN9IC8+IHx8IDxzcGFuIHN0eWxlPXt7ZGlzcGxheTogJ2Jsb2NrJywgbWluSGVpZ2h0OiAnMy41cmVtJ319IC8+fVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc2VhcmNoLXdyYXAnXG4gICAgICAgICAgc3R5bGU9e3Nob3dRdWlsdCAmJiAhdGhpcy5wcm9wcy5idW1wU2VhcmNoQm94ID8gc2VhcmNoT3ZlclF1aWx0U3R5bGVzIDogc2VhcmNoU3R5bGVzfT5cbiAgICAgICAgICA8ZGl2PntzaW1wbGVTZWFyY2hCb3h9PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuXG4gICAgdmFyIGFnZ3NQcm9wcyA9IHtcbiAgICAgIHNob3dBZ2dzOiB0aGlzLnN0YXRlLnNob3dBZ2dzLFxuICAgICAgdG9nZ2xlQWdnczogdGhpcy50b2dnbGVBZ2dzLFxuICAgIH1cblxuICAgIHZhciBzdWdnZXN0aW9ucyA9IDxTdWdnZXN0XG4gICAgICBzZWFyY2g9e3RoaXMucHJvcHMuZGF0YSAmJiB0aGlzLnByb3BzLmRhdGEuc2VhcmNoUmVzdWx0c31cbiAgICAgIGNvbXBsZXRpb25zPXt0aGlzLnN0YXRlLmNvbXBsZXRpb25zfVxuICAgICAgc3R5bGU9e3RoaXMucHJvcHMuc3VnZ2VzdFN0eWxlfVxuICAgICAgLz5cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGlkPVwic2VhcmNoXCI+XG4gICAgICAgIHtzZWFyY2hCb3h9XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICB7dGhpcy5wcm9wcy5oaWRlUmVzdWx0cyAmJiBzdWdnZXN0aW9ucyB8fCA8ZGl2PlxuICAgICAgICAgIDxTZWFyY2hSZXN1bHRzIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAgICAgaGl0cz17dGhpcy5zdGF0ZS5oaXRzfVxuICAgICAgICAgICAgey4uLmFnZ3NQcm9wc31cbiAgICAgICAgICAgIHN1Z2dlc3Rpb25zPXtzdWdnZXN0aW9uc31cbiAgICAgICAgICAgIG1pbkhlaWdodD17dGhpcy5zdGF0ZS5taW5IZWlnaHR9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+fVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICB2YXIgdXBkYXRlID0gdGhpcy5wcm9wcy5vblVwZGF0ZSB8fCB0aGlzLnNlYXJjaFxuICAgIHZhciB7ZGVsYXl9ID0gdGhpcy5wcm9wc1xuICAgIHZhciBpc0Rlc2t0b3AgPSB0eXBlb2Ygd2luZG93Lm9yaWVudGF0aW9uID09PSAndW5kZWZpbmVkJ1xuXG4gICAgdGhpcy5kZWJvdW5jZWRTZWFyY2ggPSAoZGVsYXkgfHwgaXNEZXNrdG9wKSA/XG4gICAgICBkZWJvdW5jZSh1cGRhdGUsIHRoaXMucHJvcHMuZGVsYXkgfHwgMzAwMCkgOlxuICAgICAgdW5kZWZpbmVkXG4gICAgdGhpcy5kZWJvdW5jZWRBdXRvY29tcGxldGUgPSBkZWJvdW5jZSh0aGlzLmF1dG9jb21wbGV0ZSwgMzAwKVxuICB9LFxuXG4gIGF1dG9jb21wbGV0ZSh0ZXJtcykge1xuICAgIGlmKHRlcm1zID09ICcnKSByZXR1cm5cbiAgICByZXN0KGAke1NFQVJDSH0vYXV0b2ZpbGwvJHtkZWNvZGVVUklDb21wb25lbnQodGVybXMpfWApXG4gICAgLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpIClcbiAgICAudGhlbihjb21wbGV0aW9ucyA9PiB0aGlzLnNldFN0YXRlKHtjb21wbGV0aW9uc30pKVxuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmKHRoaXMucHJvcHMuYWN0aXZhdGVJbnB1dCkge1xuICAgICAgdGhpcy5hY3RpdmF0ZVNlYXJjaCgpXG4gICAgfVxuICB9LFxuXG4gIHRocm90dGxlZFNlYXJjaChldmVudCkge1xuICAgIHZhciB0ZXJtcyA9IHNlYXJjaExhbmd1YWdlTWFwKGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgICB0aGlzLnNldFN0YXRlKHt0ZXJtczogdGVybXN9KVxuICAgIHRoaXMuZGVib3VuY2VkU2VhcmNoICYmIHRoaXMuZGVib3VuY2VkU2VhcmNoKHRlcm1zKVxuICAgIHRoaXMuZGVib3VuY2VkQXV0b2NvbXBsZXRlKHRlcm1zKVxuICB9LFxuXG4gIHNlYXJjaCgpIHtcbiAgICB2YXIgdGVybXMgPSB0aGlzLm5vcm1hbGl6ZVRlcm1zKHRoaXMuc3RhdGUudGVybXMpXG4gICAgdmFyIHtmYWNldCwgc2VhcmNoQWxsfSA9IHRoaXMucHJvcHNcbiAgICBpZih0ZXJtcyA9PT0gJycpIHJldHVyblxuXG4gICAgdmFyIGZpbHRlcnMgPSB0aGlzLnByb3BzLnBhcmFtcyAmJiB0aGlzLnByb3BzLnBhcmFtcy5zcGxhdFxuICAgIGlmKGZpbHRlcnMgJiYgZmlsdGVycy5tYXRjaCgvZGVhY2Nlc3Npb25lZDouP3RydWUuPy8pKSBmYWNldCA9IGZpbHRlcnNcbiAgICB0aGlzLnByb3BzLm9uU2VhcmNoICYmIHRoaXMucHJvcHMub25TZWFyY2godGVybXMpXG4gICAgdGhpcy50cmFuc2l0aW9uVG8oZmFjZXQgJiYgIXNlYXJjaEFsbCA/ICdmaWx0ZXJlZFNlYXJjaFJlc3VsdHMnIDogJ3NlYXJjaFJlc3VsdHMnLCB7dGVybXM6IHRlcm1zLCBzcGxhdDogZmFjZXR9KVxuICB9LFxuXG4gIGtleURvd24oZXZlbnQpIHtcbiAgICBpZihldmVudC5rZXkgPT0gJ0VudGVyJykge1xuICAgICAgdGhpcy5zZWFyY2goKVxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIH1cbiAgfSxcblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIC8vIFJlcGxhY2UgYHRlcm1zYCB3aXRoIHRoZSB0ZXJtcyBmcm9tIHRoZSBjdXJyZW50IHNlYXJjaCwgc28gYmFjaytmb3J3YXJkXG4gICAgLy8gd29yayBjb3JyZWN0bHkuIFVOTEVTUyB0aGUgb25seSBkaWZmZXJlbmNlIGlzIGluc2lnbmlmaWNhbnQgd2hpdGVzcGFjZS5cbiAgICB2YXIgbmV4dFRlcm1zID0gbmV4dFByb3BzLnBhcmFtcyAmJiBuZXh0UHJvcHMucGFyYW1zLnRlcm1zIHx8IG5leHRQcm9wcy50ZXJtc1xuICAgIGlmKHRoaXMubm9ybWFsaXplVGVybXMoKSAhPSBuZXh0VGVybXMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe3Rlcm1zOiBuZXh0VGVybXN9KVxuICAgIH1cbiAgICBjb25zdCByZXN1bHRzID0gbmV4dFByb3BzLnJlc3VsdHMgfHwgbmV4dFByb3BzLmRhdGEgJiYgbmV4dFByb3BzLmRhdGEuc2VhcmNoUmVzdWx0c1xuICAgIHRoaXMuc2V0U3RhdGUoe3Jlc3VsdHMsIGhpdHM6IHJlc3VsdHMgJiYgcmVzdWx0cy5oaXRzICYmIHJlc3VsdHMuaGl0cy5oaXRzIHx8IFtdfSlcbiAgfSxcblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgdmFyIHthY3RpdmF0ZVNlYXJjaH0gPSB0aGlzLnByb3BzXG4gICAgaWYoYWN0aXZhdGVTZWFyY2ggJiYgYWN0aXZhdGVTZWFyY2ggIT09IHRoaXMuc3RhdGUuYWN0aXZhdGVTZWFyY2gpIHtcbiAgICAgIHRoaXMuYWN0aXZhdGVTZWFyY2goKVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7YWN0aXZhdGVTZWFyY2g6IGFjdGl2YXRlU2VhcmNofSlcbiAgICB9XG4gIH0sXG5cbiAgbm9ybWFsaXplVGVybXModGVybXM9dGhpcy5zdGF0ZS50ZXJtcykge1xuICAgIHJldHVybiB0ZXJtcyAmJiB0ZXJtcy5yZXBsYWNlKC9cXHMrLywgJyAnKS50cmltKClcbiAgfSxcblxuICAvLyB1cGRhdGUgYHN0YXRlLmhpdHNgIHRvIGZsb2F0IGEgaGl0IGZyb20gdGhlIHF1aWx0IHRvIHRoZSB0b3AuXG4gIC8vIElmIG5vIGBhcnRgIGlzIHBhc3NlZCwgdGhhdCBtZWFucyB0aGUgcXVpbHQgaGFzIGxvc3QgZm9jdXMsXG4gIC8vIHJlc2V0IGhpdHMgdG8gYmUgdGhlIHNlYXJjaFJlc3VsdHMgc3RyYWlndCBmcm9tIEVTXG4gIHVwZGF0ZUZyb21RdWlsdChhcnQpIHtcbiAgICBjb25zdCBoaXRzID0gdGhpcy5zdGF0ZS5yZXN1bHRzLmhpdHMuaGl0c1xuICAgIGlmKGFydCkge1xuICAgICAgaWYodGhpcy5wcm9wcy5mYWNldCkgdGhpcy5saW5rVG9DbGlja2VkQXJ0d29yayh0aGlzLnByb3BzLmZhY2V0LCBhcnQpXG4gICAgICB2YXIgaW5kZXggPSBoaXRzLmluZGV4T2YoYXJ0KSsxXG4gICAgICBpZihoaXRzLmluZGV4T2YoYXJ0KSA9PT0gLTEpIHtcbiAgICAgICAgdmFyIHNhbWVBcnREaWZmZXJlbnRPYmplY3QgPSBoaXRzLmZpbHRlcihoID0+IGguX2lkID09PSBhcnQuX2lkKVxuICAgICAgICBpZihzYW1lQXJ0RGlmZmVyZW50T2JqZWN0KSBpbmRleCA9IGhpdHMuaW5kZXhPZihzYW1lQXJ0RGlmZmVyZW50T2JqZWN0WzBdKSsxXG4gICAgICB9XG4gICAgICB2YXIgbmV4dEhpdHMgPSAoW2FydF0uY29uY2F0KGhpdHMpKVxuICAgICAgbmV4dEhpdHMuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7aGl0czogbmV4dEhpdHMgfHwgaGl0c30pXG4gICAgfVxuICB9LFxuXG4gIGxpbmtUb0NsaWNrZWRBcnR3b3JrKGZhY2V0LCBhcnQpIHtcbiAgICB3aW5kb3cuY2xpY2tlZEFydHdvcmsgPSBhcnRcbiAgICB0aGlzLnByb3BzLm9uU2VhcmNoICYmIHRoaXMucHJvcHMub25TZWFyY2goJ2NsaWNrZWQgYSBsaW5rJylcbiAgICB0aGlzLnRyYW5zaXRpb25UbyhmYWNldCA/ICdmaWx0ZXJlZFNlYXJjaFJlc3VsdHMnIDogJ3NlYXJjaFJlc3VsdHMnLCB7dGVybXM6ICcqJywgc3BsYXQ6IGZhY2V0fSlcbiAgfSxcblxuICB0b2dnbGVBZ2dzKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe3Nob3dBZ2dzOiAhdGhpcy5zdGF0ZS5zaG93QWdnc30pXG4gIH0sXG5cbiAgYWN0aXZhdGVTZWFyY2goKSB7XG4gICAgdmFyIG5vZGUgPSBSZWFjdC5maW5kRE9NTm9kZSh0aGlzLnJlZnMuc2VhcmNoSW5wdXQpXG4gICAgaWYobm9kZSkge1xuICAgICAgbm9kZS5mb2N1cygpXG4gICAgICBub2RlLnZhbHVlICYmIG5vZGUuc2V0U2VsZWN0aW9uUmFuZ2UoMCwgbm9kZS52YWx1ZS5sZW5ndGgpXG4gICAgfVxuICB9LFxufSlcblNlYXJjaC5jb250ZXh0VHlwZXMgPSB7XG4gIHJvdXRlcjogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIHVuaXZlcnNhbDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG59XG5cbm1vZHVsZS5leHBvcnRzID0gU2VhcmNoXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/search.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/search.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar { NotFoundRoute, Navigation, State, Link, Route, RouteHandler, DefaultRoute, Redirect } = Router\nvar rest = require('rest')\nvar debounce = require('debounce')\nvar SEARCH = require('./endpoints').search\n\nvar ImageQuilt = require('./image-quilt')\nvar SearchResults = require('./search-results')\nvar Suggest = require('./suggest')\nvar searchLanguageMap = require('./search-language')\n\n\nvar Search = React.createClass({\n  mixins: [Router.State, Router.Navigation],\n\n  getInitialState() {\n    const {blank} = this.props\n    const results = this.props.results || this.props.data && this.props.data.searchResults || []\n    results || this.props.blank || this.transitionTo('home')\n\n    return {\n      results: results,\n      terms: blank ? '' : this.props.params && this.props.params.terms && decodeURIComponent(this.props.params.terms),\n      hits: results && results.hits && results.hits.hits || [],\n      showAggs: this.props.showAggs,\n      blank: this.props.blank,\n    }\n  },\n\n  render() {\n    const results = this.state.results\n    const hits = results && results.hits && results.hits.hits // this has to be different from `state.hits` so artworks don't change order when hovered in the quilt\n    const darkenQuilt = this.props.path && this.props.path.match(/\\/search/)\n    const headerArtworks = ImageQuilt.getImagedResults(hits)\n    const showQuilt = !darkenQuilt && headerArtworks\n    var quiltProps = Object.assign({\n      maxRows: this.state.showAggs ? 1 : 2,\n      maxWorks: 10,\n      artworks: headerArtworks,\n      onClick: this.updateFromQuilt,\n      disableHover: this.props.hideResults || this.props.disableHover,\n      lazyLoad: !this.context.universal,\n      darken: darkenQuilt,\n      shuffle: this.props.shuffleQuilt,\n    }, this.props.quiltProps || {})\n\n    const idealSearchBoxWidth = Math.max(17, this.state.terms && this.state.terms.length*1.1 || 0)\n    const nakedSimpleSearchBox = <div className='search-wrapper' style={{width: idealSearchBoxWidth + 'em'}}>\n      <form action=''><input className='search-input' type=\"search\"\n        placeholder=\"search\"\n        value={searchLanguageMap(this.state.terms)}\n        onKeyDown={this.keyDown}\n        onChange={this.throttledSearch}\n        onFocus={({target}) => target && target.select()}\n        style={{width: '100%', pointerEvents: 'all'}}\n        name=\"q\"\n        ref=\"searchInput\"\n        autoComplete=\"off\"\n        list=\"searchCompletions\"\n        /></form>\n    </div>\n\n    const simpleSearchBox = this.context.universal ?\n      <form action=\"/search/\" method=\"get\">{nakedSimpleSearchBox}</form> :\n      nakedSimpleSearchBox\n\n    const hideInput = this.props.hideInput && !this.state.activateSearch\n    var searchStyles = {\n      left: 0,\n      right: 0,\n      width: '100%',\n      textAlign: 'center',\n      pointerEvents: 'none',\n      display: hideInput ? 'none' : 'inherit',\n      padding: this.props.bumpSearchBox ? '0.5em' : '0',\n    }\n\n    var searchOverQuiltStyles = {\n      ...searchStyles,\n      position: 'absolute',\n      top: '50%',\n      transform: \"translateY(-50%)\",\n      WebkitTransform: \"translateY(-50%)\",\n    }\n\n    const searchBox = (\n      <div className='quilt-search-wrap' style={showQuilt && {position: 'relative', width: '100%', overflow: 'hidden'} || {}}>\n        {showQuilt && <ImageQuilt {...quiltProps} /> || <span style={{display: 'block', minHeight: '3.5rem'}} />}\n        <div className='search-wrap'\n          style={showQuilt && !this.props.bumpSearchBox ? searchOverQuiltStyles : searchStyles}>\n          <div>{simpleSearchBox}</div>\n        </div>\n      </div>\n    )\n\n    var aggsProps = {\n      showAggs: this.state.showAggs,\n      toggleAggs: this.toggleAggs,\n    }\n\n    var suggestions = <Suggest\n      search={this.props.data && this.props.data.searchResults}\n      completions={this.state.completions}\n      style={this.props.suggestStyle}\n      />\n\n    return (\n      <div id=\"search\">\n        {searchBox}\n        {this.props.children}\n        {this.props.hideResults && suggestions || <div>\n          <SearchResults {...this.props}\n            hits={this.state.hits}\n            {...aggsProps}\n            suggestions={suggestions}\n            minHeight={this.state.minHeight}\n          />\n        </div>}\n      </div>\n    )\n  },\n\n  componentWillMount() {\n    var update = this.props.onUpdate || this.search\n    var {delay} = this.props\n    var isDesktop = typeof window.orientation === 'undefined'\n\n    this.debouncedSearch = (delay || isDesktop) ?\n      debounce(update, this.props.delay || 3000) :\n      undefined\n    this.debouncedAutocomplete = debounce(this.autocomplete, 300)\n  },\n\n  autocomplete(terms) {\n    if(terms == '') return\n    rest(`${SEARCH}/autofill/${decodeURIComponent(terms)}`)\n    .then((r) => JSON.parse(r.entity) )\n    .then(completions => this.setState({completions}))\n  },\n\n  componentDidMount() {\n    if(this.props.activateInput) {\n      this.activateSearch()\n    }\n  },\n\n  throttledSearch(event) {\n    var terms = searchLanguageMap(event.target.value)\n    this.setState({terms: terms})\n    this.debouncedSearch && this.debouncedSearch(terms)\n    this.debouncedAutocomplete(terms)\n  },\n\n  search() {\n    var terms = this.normalizeTerms(this.state.terms)\n    var {facet, searchAll} = this.props\n    if(terms === '') return\n\n    var filters = this.props.params && this.props.params.splat\n    if(filters && filters.match(/deaccessioned:.?true.?/)) facet = filters\n    this.props.onSearch && this.props.onSearch(terms)\n    this.transitionTo(facet && !searchAll ? 'filteredSearchResults' : 'searchResults', {terms: terms, splat: facet})\n  },\n\n  keyDown(event) {\n    if(event.key == 'Enter') {\n      this.search()\n      event.preventDefault()\n    }\n  },\n\n  componentWillReceiveProps(nextProps) {\n    // Replace `terms` with the terms from the current search, so back+forward\n    // work correctly. UNLESS the only difference is insignificant whitespace.\n    var nextTerms = nextProps.params && nextProps.params.terms || nextProps.terms\n    if(this.normalizeTerms() != nextTerms) {\n      this.setState({terms: nextTerms})\n    }\n    const results = nextProps.results || nextProps.data && nextProps.data.searchResults\n    this.setState({results, hits: results && results.hits && results.hits.hits || []})\n  },\n\n  componentDidUpdate(prevProps) {\n    var {activateSearch} = this.props\n    if(activateSearch && activateSearch !== this.state.activateSearch) {\n      this.activateSearch()\n      this.setState({activateSearch: activateSearch})\n    }\n  },\n\n  normalizeTerms(terms=this.state.terms) {\n    return terms && terms.replace(/\\s+/, ' ').trim()\n  },\n\n  // update `state.hits` to float a hit from the quilt to the top.\n  // If no `art` is passed, that means the quilt has lost focus,\n  // reset hits to be the searchResults straigt from ES\n  updateFromQuilt(art) {\n    const hits = this.state.results.hits.hits\n    if(art) {\n      if(this.props.facet) this.linkToClickedArtwork(this.props.facet, art)\n      var index = hits.indexOf(art)+1\n      if(hits.indexOf(art) === -1) {\n        var sameArtDifferentObject = hits.filter(h => h._id === art._id)\n        if(sameArtDifferentObject) index = hits.indexOf(sameArtDifferentObject[0])+1\n      }\n      var nextHits = ([art].concat(hits))\n      nextHits.splice(index, 1)\n      this.setState({hits: nextHits || hits})\n    }\n  },\n\n  linkToClickedArtwork(facet, art) {\n    window.clickedArtwork = art\n    this.props.onSearch && this.props.onSearch('clicked a link')\n    this.transitionTo(facet ? 'filteredSearchResults' : 'searchResults', {terms: '*', splat: facet})\n  },\n\n  toggleAggs() {\n    this.setState({showAggs: !this.state.showAggs})\n  },\n\n  activateSearch() {\n    var node = React.findDOMNode(this.refs.searchInput)\n    if(node) {\n      node.focus()\n      node.value && node.setSelectionRange(0, node.value.length)\n    }\n  },\n})\nSearch.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nmodule.exports = Search\n"
      ]
    },
    "mtime": 1464207848598
  },
  "{\"filename\":\"/var/www/art/src/endpoints.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "\"use strict\";\n\nvar protocol = (typeof window == \"undefined\" ? \"http\" : \"https\") + \"://\";\nmodule.exports = {\n  search: protocol + \"search.artsmia.org\",\n  info: protocol + \"collections.artsmia.org/_info/index.json\",\n  dimensionSvg: function dimensionSvg(id, file) {\n    return \"https://mia-dimensions.s3.amazonaws.com/\" + id + \"/\" + (file || 'dimensions') + \".svg\";\n  },\n  galleryPanel: function galleryPanel(room) {\n    return \"https://cdn.rawgit.com/artsmia/mia-gallery-panels/master/\" + room + \".md\";\n  },\n  exhibition: function exhibition(id) {\n    return protocol + (\"cdn.dx.artsmia.org/exhibitions/\" + Math.floor(id / 1000) + \"/\" + id + \".json\");\n  }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZW5kcG9pbnRzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSSxRQUFRLEdBQUcsQ0FBQyxPQUFPLE1BQU0sQUFBQyxJQUFJLFdBQVcsR0FBRyxNQUFNLEdBQUcsT0FBTyxDQUFBLEdBQUUsS0FBSyxDQUFBO0FBQ3ZFLE1BQU0sQ0FBQyxPQUFPLEdBQUc7QUFDZixRQUFNLEVBQUUsUUFBUSxHQUFDLG9CQUFvQjtBQUNyQyxNQUFJLEVBQUUsUUFBUSxHQUFDLDBDQUEwQztBQUN6RCxjQUFZLEVBQUUsc0JBQUMsRUFBRSxFQUFFLElBQUk7d0RBQWdELEVBQUUsVUFBSSxJQUFJLElBQUksWUFBWSxDQUFBO0dBQU07QUFDdkcsY0FBWSxFQUFFLHNCQUFDLElBQUk7eUVBQWlFLElBQUk7R0FBSztBQUM3RixZQUFVLEVBQUUsb0JBQUMsRUFBRTtXQUFLLFFBQVEsd0NBQW1DLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxHQUFDLElBQUksQ0FBQyxTQUFJLEVBQUUsV0FBTztHQUFBO0NBQ2hHLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9lbmRwb2ludHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcHJvdG9jb2wgPSAodHlwZW9mKHdpbmRvdykgPT0gXCJ1bmRlZmluZWRcIiA/IFwiaHR0cFwiIDogXCJodHRwc1wiKStcIjovL1wiXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2VhcmNoOiBwcm90b2NvbCtcInNlYXJjaC5hcnRzbWlhLm9yZ1wiLFxuICBpbmZvOiBwcm90b2NvbCtcImNvbGxlY3Rpb25zLmFydHNtaWEub3JnL19pbmZvL2luZGV4Lmpzb25cIixcbiAgZGltZW5zaW9uU3ZnOiAoaWQsIGZpbGUpID0+IGBodHRwczovL21pYS1kaW1lbnNpb25zLnMzLmFtYXpvbmF3cy5jb20vJHtpZH0vJHtmaWxlIHx8ICdkaW1lbnNpb25zJ30uc3ZnYCxcbiAgZ2FsbGVyeVBhbmVsOiAocm9vbSkgPT4gYGh0dHBzOi8vY2RuLnJhd2dpdC5jb20vYXJ0c21pYS9taWEtZ2FsbGVyeS1wYW5lbHMvbWFzdGVyLyR7cm9vbX0ubWRgLFxuICBleGhpYml0aW9uOiAoaWQpID0+IHByb3RvY29sK2BjZG4uZHguYXJ0c21pYS5vcmcvZXhoaWJpdGlvbnMvJHtNYXRoLmZsb29yKGlkLzEwMDApfS8ke2lkfS5qc29uYCxcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/endpoints.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,QAAQ,GAAG,CAAC,OAAO,MAAM,AAAC,IAAI,WAAW,GAAG,MAAM,GAAG,OAAO,CAAA,GAAE,KAAK,CAAA;AACvE,MAAM,CAAC,OAAO,GAAG;AACf,QAAM,EAAE,QAAQ,GAAC,oBAAoB;AACrC,MAAI,EAAE,QAAQ,GAAC,0CAA0C;AACzD,cAAY,EAAE,sBAAC,EAAE,EAAE,IAAI;wDAAgD,EAAE,UAAI,IAAI,IAAI,YAAY,CAAA;GAAM;AACvG,cAAY,EAAE,sBAAC,IAAI;yEAAiE,IAAI;GAAK;AAC7F,YAAU,EAAE,oBAAC,EAAE;WAAK,QAAQ,wCAAmC,IAAI,CAAC,KAAK,CAAC,EAAE,GAAC,IAAI,CAAC,SAAI,EAAE,WAAO;GAAA;CAChG,CAAA",
      "file": "/var/www/art/src/endpoints.js",
      "sourcesContent": [
        "var protocol = (typeof(window) == \"undefined\" ? \"http\" : \"https\")+\"://\"\nmodule.exports = {\n  search: protocol+\"search.artsmia.org\",\n  info: protocol+\"collections.artsmia.org/_info/index.json\",\n  dimensionSvg: (id, file) => `https://mia-dimensions.s3.amazonaws.com/${id}/${file || 'dimensions'}.svg`,\n  galleryPanel: (room) => `https://cdn.rawgit.com/artsmia/mia-gallery-panels/master/${room}.md`,\n  exhibition: (id) => protocol+`cdn.dx.artsmia.org/exhibitions/${Math.floor(id/1000)}/${id}.json`,\n}\n"
      ]
    },
    "mtime": 1485968083610
  },
  "{\"filename\":\"/var/www/art/src/image-quilt.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends",
        "object-without-properties"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar PureRenderMixin = require('react/addons').addons.PureRenderMixin;\nvar debounce = require('debounce');\nvar cookie = require('react-cookie');\n\nvar linearPartition = require('linear-partitioning');\nvar ArtworkImage = require('./artwork-image');\nvar Image = require('./image');\n\nvar ImageQuilt = React.createClass({\n  displayName: 'ImageQuilt',\n\n  mixins: [PureRenderMixin],\n\n  getInitialState: function getInitialState() {\n    var artworks = this.props.artworks.slice(0, this.props.maxWorks);\n    var maybeShuffledArtworks = this.props.shuffle ? artworks.sort(function () {\n      return .5 - Math.random();\n    }) : artworks;\n\n    return {\n      active: null,\n      unpinned: false,\n      width: window.innerWidth || this.context.universal && 1000,\n      alwaysShow: cookie.load('freeTheQuilt'),\n      shuffledArtworks: this.props.shuffle ? maybeShuffledArtworks : undefined\n    };\n  },\n\n  handleResize: function handleResize(e) {\n    if (!this.isMounted()) return;\n    this.setState({ width: React.findDOMNode(this).clientWidth });\n  },\n  componentDidMount: function componentDidMount() {\n    this.handleResize();\n    window.addEventListener('resize', debounce(this.handleResize, 200));\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n  },\n\n  render: function render() {\n    var _this = this;\n\n    if (this.hideDarkenedQuilt()) return this.emptyQuiltToggleControl();\n\n    var artworks = this.props.artworks.slice(0, this.props.maxWorks);\n    var _art = artworks.map(function (art) {\n      var s = art._source;\n      if (s.image == 'invalid' || s.image_width == 0 && s.image_height == 0 || s.rights == 'Permission Denied') {\n        s.image = 'invalid';\n        var splitOn = /,|;|:|\\]/;\n        var _ref = [s.title.split(splitOn)[0], s.artist.split(splitOn)[0]];\n        s.title_short = _ref[0];\n        s.artist_short = _ref[1];\n\n        var text = s.title_short;\n        s.text_length = text.length;\n        var deltaAverageTextLength = text.length / 17; // bigger box for items with more text\n        s.image_width = deltaAverageTextLength > 2 ? 300 : 200;\n        s.image_height = 200;\n      }\n      return s;\n    });\n\n    _art.map(function (art) {\n      return art.aspect_ratio = art.image_width / art.image_height;\n    });\n    var summedAspectRatio = _art.reduce(function (sum, art) {\n      return sum + art.aspect_ratio;\n    }, 0);\n    // Fit the images into `maxRows` or however many rows it would take to show each\n    // approx 200px tall\n    var rowHeight = this.props.rowHeight || 200;\n    var numRows = Math.min(this.props.maxRows, Math.max(Math.floor(summedAspectRatio * rowHeight / this.state.width), 1));\n\n    var rows = this.getPartition(this.state.shuffledArtworks || artworks, numRows);\n\n    var images = rows.map(function (row, index) {\n      var rowSummedAspectRatio = row.reduce(function (sum, art) {\n        return sum + art._source.aspect_ratio;\n      }, 0);\n      var rowAspectRatio = rowSummedAspectRatio / row.length;\n      var unadjustedHeight = _this.state.width / rowSummedAspectRatio;\n\n      var images = row.map(function (art) {\n        var _art = art._source;\n        var id = _art.id;\n        var width = _art.aspect_ratio / rowSummedAspectRatio * _this.state.width;\n        var height = width / _art.aspect_ratio;\n        var maxRowHeight = _this.props.maxRowHeight || 200;\n        var widthAdjustedToClipTallRows = unadjustedHeight > maxRowHeight ? width / (unadjustedHeight / maxRowHeight) : width;\n\n        return React.createElement(QuiltPatch, { art: _art,\n          width: widthAdjustedToClipTallRows,\n          onClick: _this.clicked.bind(_this, art),\n          onMouseEnter: _this.hovered.bind(_this, art, true),\n          onMouseLeave: _this.hovered.bind(_this, art, false),\n          onImageInvalidation: _this.forceUpdate.bind(_this),\n          key: _art.id,\n          lazyLoad: _this.props.lazyLoad\n        });\n      });\n\n      // centered doesn't work on the first row because the search box is in the way\n      // space-around looks best on bottom rows\n      var justify = index == 0 && row.length <= 3 ? 'space-around' : 'center';\n      var rowStyle = {\n        minHeight: Math.min(unadjustedHeight, _this.props.maxRowHeight || 200, 50),\n        display: 'flex',\n        justifyContent: justify,\n        whiteSpace: 'nowrap'\n      };\n\n      return React.createElement(\n        'div',\n        { className: 'quilt-row-wrap',\n          key: 'row' + index,\n          style: rowStyle },\n        images\n      );\n    });\n\n    var quiltStyle = _extends({\n      cursor: 'pointer'\n    }, this.props.style);\n\n    return React.createElement(\n      'div',\n      { className: 'quilt-wrap', onMouseLeave: this.hovered.bind(this, null, false), style: quiltStyle },\n      images\n    );\n  },\n\n  cachedPartitions: {},\n\n  getPartition: function getPartition(artworks, numRows) {\n    var memoKey = 'rows:' + this.props.maxRows + '|width:' + this.state.width + '|' + artworks.map(function (art) {\n      return art._id;\n    }).join('-');\n    var memo = this.cachedPartitions[memoKey];\n    if (memo) return memo;\n\n    var partitionBy = function partitionBy(collection, weightFn, k) {\n      var weights = collection.map(weightFn);\n      var partition = linearPartition(weights, k);\n\n      var index = 0;\n      return partition.map(function (weightedRow) {\n        return weightedRow.map(function (weight, i) {\n          return collection[index++];\n        });\n      });\n    };\n\n    var rows = partitionBy(artworks, function (art) {\n      return art._source.aspect_ratio * 100;\n    }, numRows);\n    this.cachedPartitions[memoKey] = rows;\n    return rows;\n  },\n\n  // The quilt changes the order of search results in 2 ways:\n  // * clicking pins a result to the top, in which case it will stay there\n  // * hovering 'floats' a result to the top, but it will sink back down\n  // …after the interaction is finished.\n  // Clicking the pinned artwork un-pins it\n  clicked: function clicked(art) {\n    var updateState = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];\n    var onClick = this.props.onClick;\n\n    if (updateState) this.setState({ active: art, unpinned: false });\n    var sameArt = this.state.unpinned && !updateState || updateState && this.state.active && art == this.state.active;\n    if (sameArt) {\n      this.setState({ active: null, unpinned: true });\n      art = null;\n    }\n    onClick && onClick(art);\n    this.state.unpinned && this.setState({ unpinned: false });\n  },\n  hovered: function hovered(art, active) {\n    if (this.props.disableHover) return;\n    // cancel the delayed 'float' on mouseleave\n    // if an artwork was clicked, leave it pinned\n    if (!active) {\n      clearTimeout(this.activate);\n      if (!art) this.clicked(this.state.active, false);\n      return;\n    }\n    this.activate = setTimeout(this.clicked.bind(this, art, false), 300);\n  },\n\n  hideDarkenedQuilt: function hideDarkenedQuilt() {\n    return this.props.darken && !this.state.alwaysShow;\n  },\n\n  emptyQuiltToggleControl: function emptyQuiltToggleControl() {\n    var styles = {\n      minHeight: '7rem',\n      display: 'inline-block',\n      width: '100%',\n      WebkitUserSelect: 'none',\n      cursor: 'pointer',\n      zIndex: 100\n    };\n\n    return React.createElement('span', { style: styles, onDoubleClick: this.freeTheQuilt });\n  },\n\n  freeTheQuilt: function freeTheQuilt() {\n    cookie.save('freeTheQuilt', true);\n    this.setState({ alwaysShow: true });\n  }\n});\nImageQuilt.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nImageQuilt.getImagedResults = function (hits) {\n  return hits && hits.filter(function (hit) {\n    return hit._source.image == 'valid' && hit._source.image_width > 0;\n  });\n};\n\nmodule.exports = ImageQuilt;\n\nvar QuiltPatch = React.createClass({\n  displayName: 'QuiltPatch',\n\n  render: function render() {\n    var _props = this.props;\n    var art = _props.art;\n    var width = _props.width;\n\n    var other = _objectWithoutProperties(_props, ['art', 'width']);\n\n    var id = art.id;\n\n    var style = {\n      display: 'inline-block',\n      verticalAlign: 'top',\n      overflow: 'hidden',\n      width: width,\n      height: width / art.aspect_ratio\n    };\n\n    var image = React.createElement(Image, _extends({\n      art: art,\n      style: style\n    }, other));\n\n    var textStyle = _extends({}, style, {\n      display: 'table',\n      whiteSpace: 'normal'\n    });\n\n    var patch = art.image == 'valid' ? image : React.createElement(\n      'span',\n      _extends({ className: 'invalid', style: textStyle }, other),\n      React.createElement(\n        'p',\n        null,\n        React.createElement(\n          'strong',\n          null,\n          art.title_short\n        )\n      )\n    );\n\n    return React.createElement(\n      Link,\n      { onClick: this.clickOrDontClick, style: style, to: 'artwork', params: { id: art.id } },\n      patch\n    );\n  },\n\n  // halt the click event if javascript is loaded\n  // clicking triggers the right-hand preview, not the `<a>`\n  clickOrDontClick: function clickOrDontClick(event) {\n    if (!this.context.universal) event.preventDefault();\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      lazyLoad: true,\n      darken: false\n    };\n  }\n});\nQuiltPatch.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvaW1hZ2UtcXVpbHQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBOztlQUNmLE9BQU8sQ0FBQyxjQUFjLENBQUM7O0lBQS9CLElBQUksWUFBSixJQUFJOztBQUNULElBQUksZUFBZSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFBO0FBQ3BFLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQTtBQUNsQyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7O0FBRXBDLElBQUksZUFBZSxHQUFHLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFBO0FBQ3BELElBQUksWUFBWSxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFBO0FBQzdDLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQTs7QUFFOUIsSUFBTSxVQUFVLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ25DLFFBQU0sRUFBRSxDQUFDLGVBQWUsQ0FBQzs7QUFFekIsaUJBQWUsRUFBQSwyQkFBRztBQUNoQixRQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUE7QUFDbEUsUUFBTSxxQkFBcUIsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FDOUMsUUFBUSxDQUFDLElBQUksQ0FBQzthQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFO0tBQUEsQ0FBQyxHQUN2QyxRQUFRLENBQUE7O0FBRVYsV0FBTztBQUNMLFlBQU0sRUFBRSxJQUFJO0FBQ1osY0FBUSxFQUFFLEtBQUs7QUFDZixXQUFLLEVBQUUsTUFBTSxDQUFDLFVB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QUFLO0FBQ1IsYUFBTyxFQUFFLE9BQU87QUFDaEIsZ0JBQVUsRUFBRSxRQUFRO01BQ3ZCLENBQUE7O0FBRUQsUUFBSSxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssSUFBSSxPQUFPLEdBQUcsS0FBSyxHQUFHOztpQkFBTSxTQUFTLEVBQUMsU0FBUyxFQUFDLEtBQUssRUFBRSxTQUFTLEFBQUMsSUFBSyxLQUFLO01BQzlGOzs7UUFBRzs7O1VBQVMsR0FBRyxDQUFDLFdBQVc7U0FBVTtPQUFJO0tBQ3BDLENBQUE7O0FBRVAsV0FBTztBQUFDLFVBQUk7UUFBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixBQUFDLEVBQUMsS0FBSyxFQUFFLEtBQUssQUFBQyxFQUFDLEVBQUUsRUFBQyxTQUFTLEVBQUMsTUFBTSxFQUFFLEVBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUMsQUFBQztNQUFFLEtBQUs7S0FBUSxDQUFBO0dBQzdHOzs7O0FBSUQsa0JBQWdCLEVBQUEsMEJBQUMsS0FBSyxFQUFFO0FBQ3RCLFFBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsY0FBYyxFQUFFLENBQUE7R0FDbkQ7O0FBRUQsaUJBQWUsRUFBQSwyQkFBRztBQUNoQixXQUFPO0FBQ0wsY0FBUSxFQUFFLElBQUk7QUFDZCxZQUFNLEVBQUUsS0FBSztLQUNkLENBQUE7R0FDRjtDQUNGLENBQUMsQ0FBQTtBQUNGLFVBQVUsQ0FBQyxZQUFZLEdBQUc7QUFDeEIsUUFBTSxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSTtBQUM1QixXQUFTLEVBQUUsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJO0NBQ2hDLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9pbWFnZS1xdWlsdC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciB7TGlua30gPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIFB1cmVSZW5kZXJNaXhpbiA9IHJlcXVpcmUoJ3JlYWN0L2FkZG9ucycpLmFkZG9ucy5QdXJlUmVuZGVyTWl4aW5cbnZhciBkZWJvdW5jZSA9IHJlcXVpcmUoJ2RlYm91bmNlJylcbnZhciBjb29raWUgPSByZXF1aXJlKCdyZWFjdC1jb29raWUnKVxuXG52YXIgbGluZWFyUGFydGl0aW9uID0gcmVxdWlyZSgnbGluZWFyLXBhcnRpdGlvbmluZycpXG52YXIgQXJ0d29ya0ltYWdlID0gcmVxdWlyZSgnLi9hcnR3b3JrLWltYWdlJylcbnZhciBJbWFnZSA9IHJlcXVpcmUoJy4vaW1hZ2UnKVxuXG5jb25zdCBJbWFnZVF1aWx0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBtaXhpbnM6IFtQdXJlUmVuZGVyTWl4aW5dLFxuXG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICBjb25zdCBhcnR3b3JrcyA9IHRoaXMucHJvcHMuYXJ0d29ya3Muc2xpY2UoMCwgdGhpcy5wcm9wcy5tYXhXb3JrcylcbiAgICBjb25zdCBtYXliZVNodWZmbGVkQXJ0d29ya3MgPSB0aGlzLnByb3BzLnNodWZmbGUgP1xuICAgICAgYXJ0d29ya3Muc29ydCgoKSA9PiAuNSAtIE1hdGgucmFuZG9tKCkpIDpcbiAgICAgIGFydHdvcmtzXG5cbiAgICByZXR1cm4ge1xuICAgICAgYWN0aXZlOiBudWxsLFxuICAgICAgdW5waW5uZWQ6IGZhbHNlLFxuICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoIHx8IHRoaXMuY29udGV4dC51bml2ZXJzYWwgJiYgMTAwMCxcbiAgICAgIGFsd2F5c1Nob3c6IGNvb2tpZS5sb2FkKCdmcmVlVGhlUXVpbHQnKSxcbiAgICAgIHNodWZmbGVkQXJ0d29ya3M6IHRoaXMucHJvcHMuc2h1ZmZsZSA/IG1heWJlU2h1ZmZsZWRBcnR3b3JrcyA6IHVuZGVmaW5lZCxcbiAgICB9XG4gIH0sXG5cbiAgaGFuZGxlUmVzaXplOiBmdW5jdGlvbihlKSB7XG4gICAgaWYoIXRoaXMuaXNNb3VudGVkKCkpIHJldHVyblxuICAgIHRoaXMuc2V0U3RhdGUoe3dpZHRoOiBSZWFjdC5maW5kRE9NTm9kZSh0aGlzKS5jbGllbnRXaWR0aH0pXG4gIH0sXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmhhbmRsZVJlc2l6ZSgpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGRlYm91bmNlKHRoaXMuaGFuZGxlUmVzaXplLCAyMDApKVxuICB9LFxuICBjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24oKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuaGFuZGxlUmVzaXplKVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICBpZih0aGlzLmhpZGVEYXJrZW5lZFF1aWx0KCkpIHJldHVybiB0aGlzLmVtcHR5UXVpbHRUb2dnbGVDb250cm9sKClcblxuICAgIGNvbnN0IGFydHdvcmtzID0gdGhpcy5wcm9wcy5hcnR3b3Jrcy5zbGljZSgwLCB0aGlzLnByb3BzLm1heFdvcmtzKVxuICAgIGNvbnN0IF9hcnQgPSBhcnR3b3Jrcy5tYXAoKGFydCkgPT4ge1xuICAgICAgdmFyIHMgPSBhcnQuX3NvdXJjZVxuICAgICAgaWYocy5pbWFnZSA9PSAnaW52YWxpZCcgfHwgKHMuaW1hZ2Vfd2lkdGggPT0gMCAmJiBzLmltYWdlX2hlaWdodCA9PSAwKSB8fCBzLnJpZ2h0cyA9PSAnUGVybWlzc2lvbiBEZW5pZWQnKSB7XG4gICAgICAgIHMuaW1hZ2UgPSAnaW52YWxpZCdcbiAgICAgICAgdmFyIHNwbGl0T24gPSAvLHw7fDp8XFxdLztcbiAgICAgICAgKFtzLnRpdGxlX3Nob3J0LCBzLmFydGlzdF9zaG9ydF0gPSBbcy50aXRsZS5zcGxpdChzcGxpdE9uKVswXSwgcy5hcnRpc3Quc3BsaXQoc3BsaXRPbilbMF1dKVxuICAgICAgICB2YXIgdGV4dCA9IHMudGl0bGVfc2hvcnRcbiAgICAgICAgcy50ZXh0X2xlbmd0aCA9IHRleHQubGVuZ3RoXG4gICAgICAgIHZhciBkZWx0YUF2ZXJhZ2VUZXh0TGVuZ3RoID0gdGV4dC5sZW5ndGgvMTcgLy8gYmlnZ2VyIGJveCBmb3IgaXRlbXMgd2l0aCBtb3JlIHRleHRcbiAgICAgICAgcy5pbWFnZV93aWR0aCA9IGRlbHRhQXZlcmFnZVRleHRMZW5ndGggPiAyID8gMzAwIDogMjAwXG4gICAgICAgIHMuaW1hZ2VfaGVpZ2h0ID0gMjAwXG4gICAgICB9XG4gICAgICByZXR1cm4gc1xuICAgIH0pXG5cbiAgICBfYXJ0Lm1hcCgoYXJ0KSA9PiBhcnQuYXNwZWN0X3JhdGlvID0gYXJ0LmltYWdlX3dpZHRoL2FydC5pbWFnZV9oZWlnaHQpXG4gICAgY29uc3Qgc3VtbWVkQXNwZWN0UmF0aW8gPSBfYXJ0LnJlZHVjZSgoc3VtLCBhcnQpID0+IHtyZXR1cm4gc3VtK2FydC5hc3BlY3RfcmF0aW99LCAwKVxuICAgIC8vIEZpdCB0aGUgaW1hZ2VzIGludG8gYG1heFJvd3NgIG9yIGhvd2V2ZXIgbWFueSByb3dzIGl0IHdvdWxkIHRha2UgdG8gc2hvdyBlYWNoXG4gICAgLy8gYXBwcm94IDIwMHB4IHRhbGxcbiAgICB2YXIgcm93SGVpZ2h0ID0gdGhpcy5wcm9wcy5yb3dIZWlnaHQgfHwgMjAwXG4gICAgdmFyIG51bVJvd3MgPSBNYXRoLm1pbih0aGlzLnByb3BzLm1heFJvd3MsIE1hdGgubWF4KE1hdGguZmxvb3Ioc3VtbWVkQXNwZWN0UmF0aW8qcm93SGVpZ2h0L3RoaXMuc3RhdGUud2lkdGgpLCAxKSlcblxuICAgIHZhciByb3dzID0gdGhpcy5nZXRQYXJ0aXRpb24odGhpcy5zdGF0ZS5zaHVmZmxlZEFydHdvcmtzIHx8IGFydHdvcmtzLCBudW1Sb3dzKVxuXG4gICAgY29uc3QgaW1hZ2VzID0gcm93cy5tYXAoKHJvdywgaW5kZXgpID0+IHtcbiAgICAgIHZhciByb3dTdW1tZWRBc3BlY3RSYXRpbyA9IHJvdy5yZWR1Y2UoKHN1bSwgYXJ0KSA9PiB7cmV0dXJuIHN1bSthcnQuX3NvdXJjZS5hc3BlY3RfcmF0aW99LCAwKVxuICAgICAgdmFyIHJvd0FzcGVjdFJhdGlvID0gcm93U3VtbWVkQXNwZWN0UmF0aW8vcm93Lmxlbmd0aFxuICAgICAgdmFyIHVuYWRqdXN0ZWRIZWlnaHQgPSB0aGlzLnN0YXRlLndpZHRoL3Jvd1N1bW1lZEFzcGVjdFJhdGlvXG5cbiAgICAgIHZhciBpbWFnZXMgPSByb3cubWFwKChhcnQpID0+IHtcbiAgICAgICAgdmFyIF9hcnQgPSBhcnQuX3NvdXJjZVxuICAgICAgICBjb25zdCBpZCA9IF9hcnQuaWRcbiAgICAgICAgY29uc3Qgd2lkdGggPSBfYXJ0LmFzcGVjdF9yYXRpby9yb3dTdW1tZWRBc3BlY3RSYXRpbyp0aGlzLnN0YXRlLndpZHRoXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHdpZHRoL19hcnQuYXNwZWN0X3JhdGlvXG4gICAgICAgIGNvbnN0IG1heFJvd0hlaWdodCA9IHRoaXMucHJvcHMubWF4Um93SGVpZ2h0IHx8IDIwMFxuICAgICAgICBjb25zdCB3aWR0aEFkanVzdGVkVG9DbGlwVGFsbFJvd3MgPSB1bmFkanVzdGVkSGVpZ2h0ID4gbWF4Um93SGVpZ2h0ID8gd2lkdGgvKHVuYWRqdXN0ZWRIZWlnaHQvbWF4Um93SGVpZ2h0KSA6IHdpZHRoXG5cbiAgICAgICAgcmV0dXJuIDxRdWlsdFBhdGNoIGFydD17X2FydH1cbiAgICAgICAgICB3aWR0aD17d2lkdGhBZGp1c3RlZFRvQ2xpcFRhbGxSb3dzfVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xpY2tlZC5iaW5kKHRoaXMsIGFydCl9XG4gICAgICAgICAgb25Nb3VzZUVudGVyPXt0aGlzLmhvdmVyZWQuYmluZCh0aGlzLCBhcnQsIHRydWUpfVxuICAgICAgICAgIG9uTW91c2VMZWF2ZT17dGhpcy5ob3ZlcmVkLmJpbmQodGhpcywgYXJ0LCBmYWxzZSl9XG4gICAgICAgICAgb25JbWFnZUludmFsaWRhdGlvbj17dGhpcy5mb3JjZVVwZGF0ZS5iaW5kKHRoaXMpfVxuICAgICAgICAgIGtleT17X2FydC5pZH1cbiAgICAgICAgICBsYXp5TG9hZD17dGhpcy5wcm9wcy5sYXp5TG9hZH1cbiAgICAgICAgICAvPlxuICAgICAgfSlcblxuICAgICAgLy8gY2VudGVyZWQgZG9lc24ndCB3b3JrIG9uIHRoZSBmaXJzdCByb3cgYmVjYXVzZSB0aGUgc2VhcmNoIGJveCBpcyBpbiB0aGUgd2F5XG4gICAgICAvLyBzcGFjZS1hcm91bmQgbG9va3MgYmVzdCBvbiBib3R0b20gcm93c1xuICAgICAgY29uc3QganVzdGlmeSA9IGluZGV4ID09IDAgJiYgcm93Lmxlbmd0aCA8PTMgPyAnc3BhY2UtYXJvdW5kJyA6ICdjZW50ZXInXG4gICAgICB2YXIgcm93U3R5bGUgPSB7XG4gICAgICAgIG1pbkhlaWdodDogTWF0aC5taW4odW5hZGp1c3RlZEhlaWdodCwgdGhpcy5wcm9wcy5tYXhSb3dIZWlnaHQgfHwgMjAwLCA1MCksXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6IGp1c3RpZnksXG4gICAgICAgIHdoaXRlU3BhY2U6ICdub3dyYXAnLFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9J3F1aWx0LXJvdy13cmFwJ1xuICAgICAgICBrZXk9eydyb3cnK2luZGV4fVxuICAgICAgICBzdHlsZT17cm93U3R5bGV9PlxuICAgICAgICB7aW1hZ2VzfVxuICAgICAgPC9kaXY+XG4gICAgfSlcblxuICAgIHZhciBxdWlsdFN0eWxlID0ge1xuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAuLi50aGlzLnByb3BzLnN0eWxlLFxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0ncXVpbHQtd3JhcCcgb25Nb3VzZUxlYXZlPXt0aGlzLmhvdmVyZWQuYmluZCh0aGlzLCBudWxsLCBmYWxzZSl9IHN0eWxlPXtxdWlsdFN0eWxlfT5cbiAgICAgICAge2ltYWdlc31cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfSxcblxuICBjYWNoZWRQYXJ0aXRpb25zOiB7fSxcblxuICBnZXRQYXJ0aXRpb24oYXJ0d29ya3MsIG51bVJvd3MpIHtcbiAgICB2YXIgbWVtb0tleSA9IGByb3dzOiR7dGhpcy5wcm9wcy5tYXhSb3dzfXx3aWR0aDoke3RoaXMuc3RhdGUud2lkdGh9fCR7YXJ0d29ya3MubWFwKGFydCA9PiBhcnQuX2lkKS5qb2luKCctJyl9YFxuICAgIHZhciBtZW1vID0gdGhpcy5jYWNoZWRQYXJ0aXRpb25zW21lbW9LZXldXG4gICAgaWYobWVtbykgcmV0dXJuIG1lbW9cblxuICAgIGNvbnN0IHBhcnRpdGlvbkJ5ID0gZnVuY3Rpb24oY29sbGVjdGlvbiwgd2VpZ2h0Rm4sIGspIHtcbiAgICAgIGxldCB3ZWlnaHRzID0gY29sbGVjdGlvbi5tYXAod2VpZ2h0Rm4pXG4gICAgICBsZXQgcGFydGl0aW9uID0gbGluZWFyUGFydGl0aW9uKHdlaWdodHMsIGspXG5cbiAgICAgIGxldCBpbmRleCA9IDBcbiAgICAgIHJldHVybiBwYXJ0aXRpb24ubWFwKCh3ZWlnaHRlZFJvdykgPT4ge1xuICAgICAgICByZXR1cm4gd2VpZ2h0ZWRSb3cubWFwKCh3ZWlnaHQsIGkpID0+IGNvbGxlY3Rpb25baW5kZXgrK10pXG4gICAgICB9KVxuICAgIH1cblxuICAgIHZhciByb3dzID0gcGFydGl0aW9uQnkoYXJ0d29ya3MsIChhcnQpID0+IGFydC5fc291cmNlLmFzcGVjdF9yYXRpbyoxMDAsIG51bVJvd3MpXG4gICAgdGhpcy5jYWNoZWRQYXJ0aXRpb25zW21lbW9LZXldID0gcm93c1xuICAgIHJldHVybiByb3dzXG4gIH0sXG5cbiAgLy8gVGhlIHF1aWx0IGNoYW5nZXMgdGhlIG9yZGVyIG9mIHNlYXJjaCByZXN1bHRzIGluIDIgd2F5czpcbiAgLy8gKiBjbGlja2luZyBwaW5zIGEgcmVzdWx0IHRvIHRoZSB0b3AsIGluIHdoaWNoIGNhc2UgaXQgd2lsbCBzdGF5IHRoZXJlXG4gIC8vICogaG92ZXJpbmcgJ2Zsb2F0cycgYSByZXN1bHQgdG8gdGhlIHRvcCwgYnV0IGl0IHdpbGwgc2luayBiYWNrIGRvd25cbiAgLy8g4oCmYWZ0ZXIgdGhlIGludGVyYWN0aW9uIGlzIGZpbmlzaGVkLlxuICAvLyBDbGlja2luZyB0aGUgcGlubmVkIGFydHdvcmsgdW4tcGlucyBpdFxuICBjbGlja2VkKGFydCwgdXBkYXRlU3RhdGU9dHJ1ZSkge1xuICAgIHZhciB7b25DbGlja30gPSB0aGlzLnByb3BzXG4gICAgaWYodXBkYXRlU3RhdGUpIHRoaXMuc2V0U3RhdGUoe2FjdGl2ZTogYXJ0LCB1bnBpbm5lZDogZmFsc2V9KVxuICAgIGNvbnN0IHNhbWVBcnQgPSB0aGlzLnN0YXRlLnVucGlubmVkICYmICF1cGRhdGVTdGF0ZSB8fFxuICAgICAgdXBkYXRlU3RhdGUgJiYgdGhpcy5zdGF0ZS5hY3RpdmUgJiYgYXJ0ID09IHRoaXMuc3RhdGUuYWN0aXZlXG4gICAgaWYoc2FtZUFydCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7YWN0aXZlOiBudWxsLCB1bnBpbm5lZDogdHJ1ZX0pXG4gICAgICBhcnQgPSBudWxsXG4gICAgfVxuICAgIG9uQ2xpY2sgJiYgb25DbGljayhhcnQpXG4gICAgdGhpcy5zdGF0ZS51bnBpbm5lZCAmJiB0aGlzLnNldFN0YXRlKHt1bnBpbm5lZDogZmFsc2V9KVxuICB9LFxuICBob3ZlcmVkKGFydCwgYWN0aXZlKSB7XG4gICAgaWYodGhpcy5wcm9wcy5kaXNhYmxlSG92ZXIpIHJldHVyblxuICAgIC8vIGNhbmNlbCB0aGUgZGVsYXllZCAnZmxvYXQnIG9uIG1vdXNlbGVhdmVcbiAgICAvLyBpZiBhbiBhcnR3b3JrIHdhcyBjbGlja2VkLCBsZWF2ZSBpdCBwaW5uZWRcbiAgICBpZighYWN0aXZlKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0ZSlcbiAgICAgIGlmKCFhcnQpIHRoaXMuY2xpY2tlZCh0aGlzLnN0YXRlLmFjdGl2ZSwgZmFsc2UpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgdGhpcy5hY3RpdmF0ZSA9IHNldFRpbWVvdXQodGhpcy5jbGlja2VkLmJpbmQodGhpcywgYXJ0LCBmYWxzZSksIDMwMClcbiAgfSxcblxuICBoaWRlRGFya2VuZWRRdWlsdCgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5kYXJrZW4gJiYgIXRoaXMuc3RhdGUuYWx3YXlzU2hvd1xuICB9LFxuXG4gIGVtcHR5UXVpbHRUb2dnbGVDb250cm9sKCkge1xuICAgIHZhciBzdHlsZXMgPSB7XG4gICAgICBtaW5IZWlnaHQ6ICc3cmVtJyxcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIFdlYmtpdFVzZXJTZWxlY3Q6ICdub25lJyxcbiAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgekluZGV4OiAxMDAsXG4gICAgfVxuXG4gICAgcmV0dXJuIDxzcGFuIHN0eWxlPXtzdHlsZXN9IG9uRG91YmxlQ2xpY2s9e3RoaXMuZnJlZVRoZVF1aWx0fSAvPlxuICB9LFxuXG4gIGZyZWVUaGVRdWlsdCgpIHtcbiAgICBjb29raWUuc2F2ZSgnZnJlZVRoZVF1aWx0JywgdHJ1ZSlcbiAgICB0aGlzLnNldFN0YXRlKHthbHdheXNTaG93OiB0cnVlfSlcbiAgfSxcbn0pXG5JbWFnZVF1aWx0LmNvbnRleHRUeXBlcyA9IHtcbiAgcm91dGVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgdW5pdmVyc2FsOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbn1cblxuSW1hZ2VRdWlsdC5nZXRJbWFnZWRSZXN1bHRzID0gKGhpdHMpID0+IGhpdHMgJiYgaGl0c1xuICAuZmlsdGVyKChoaXQpID0+IGhpdC5fc291cmNlLmltYWdlID09ICd2YWxpZCcgJiYgaGl0Ll9zb3VyY2UuaW1hZ2Vfd2lkdGggPiAwKVxuXG5tb2R1bGUuZXhwb3J0cyA9IEltYWdlUXVpbHRcblxudmFyIFF1aWx0UGF0Y2ggPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIge2FydCwgd2lkdGgsIC4uLm90aGVyfSA9IHRoaXMucHJvcHNcbiAgICB2YXIgaWQgPSBhcnQuaWRcblxuICAgIHZhciBzdHlsZSA9IHtcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgdmVydGljYWxBbGlnbjogJ3RvcCcsXG4gICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICB3aWR0aDogd2lkdGgsXG4gICAgICBoZWlnaHQ6IHdpZHRoL2FydC5hc3BlY3RfcmF0aW9cbiAgICB9XG5cbiAgICB2YXIgaW1hZ2UgPSA8SW1hZ2VcbiAgICAgIGFydD17YXJ0fVxuICAgICAgc3R5bGU9e3N0eWxlfVxuICAgICAgey4uLm90aGVyfVxuICAgIC8+XG5cbiAgICB2YXIgdGV4dFN0eWxlID0ge1xuICAgICAgICAuLi5zdHlsZSxcbiAgICAgICAgZGlzcGxheTogJ3RhYmxlJyxcbiAgICAgICAgd2hpdGVTcGFjZTogJ25vcm1hbCcsXG4gICAgfVxuXG4gICAgdmFyIHBhdGNoID0gYXJ0LmltYWdlID09ICd2YWxpZCcgPyBpbWFnZSA6IDxzcGFuIGNsYXNzTmFtZT0naW52YWxpZCcgc3R5bGU9e3RleHRTdHlsZX0gey4uLm90aGVyfT5cbiAgICAgIDxwPjxzdHJvbmc+e2FydC50aXRsZV9zaG9ydH08L3N0cm9uZz48L3A+XG4gICAgPC9zcGFuPlxuXG4gICAgcmV0dXJuIDxMaW5rIG9uQ2xpY2s9e3RoaXMuY2xpY2tPckRvbnRDbGlja30gc3R5bGU9e3N0eWxlfSB0bz1cImFydHdvcmtcIiBwYXJhbXM9e3tpZDogYXJ0LmlkfX0+e3BhdGNofTwvTGluaz5cbiAgfSxcblxuICAvLyBoYWx0IHRoZSBjbGljayBldmVudCBpZiBqYXZhc2NyaXB0IGlzIGxvYWRlZFxuICAvLyBjbGlja2luZyB0cmlnZ2VycyB0aGUgcmlnaHQtaGFuZCBwcmV2aWV3LCBub3QgdGhlIGA8YT5gXG4gIGNsaWNrT3JEb250Q2xpY2soZXZlbnQpIHtcbiAgICBpZighdGhpcy5jb250ZXh0LnVuaXZlcnNhbCkgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICB9LFxuXG4gIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGF6eUxvYWQ6IHRydWUsXG4gICAgICBkYXJrZW46IGZhbHNlLFxuICAgIH1cbiAgfSxcbn0pXG5RdWlsdFBhdGNoLmNvbnRleHRUeXBlcyA9IHtcbiAgcm91dGVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgdW5pdmVyc2FsOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/image-quilt.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/image-quilt.js",
      "sourcesContent": [
        "var React = require('react')\nvar {Link} = require('react-router')\nvar PureRenderMixin = require('react/addons').addons.PureRenderMixin\nvar debounce = require('debounce')\nvar cookie = require('react-cookie')\n\nvar linearPartition = require('linear-partitioning')\nvar ArtworkImage = require('./artwork-image')\nvar Image = require('./image')\n\nconst ImageQuilt = React.createClass({\n  mixins: [PureRenderMixin],\n\n  getInitialState() {\n    const artworks = this.props.artworks.slice(0, this.props.maxWorks)\n    const maybeShuffledArtworks = this.props.shuffle ?\n      artworks.sort(() => .5 - Math.random()) :\n      artworks\n\n    return {\n      active: null,\n      unpinned: false,\n      width: window.innerWidth || this.context.universal && 1000,\n      alwaysShow: cookie.load('freeTheQuilt'),\n      shuffledArtworks: this.props.shuffle ? maybeShuffledArtworks : undefined,\n    }\n  },\n\n  handleResize: function(e) {\n    if(!this.isMounted()) return\n    this.setState({width: React.findDOMNode(this).clientWidth})\n  },\n  componentDidMount: function() {\n    this.handleResize()\n    window.addEventListener('resize', debounce(this.handleResize, 200))\n  },\n  componentWillUnmount: function() {\n    window.removeEventListener('resize', this.handleResize)\n  },\n\n  render() {\n    if(this.hideDarkenedQuilt()) return this.emptyQuiltToggleControl()\n\n    const artworks = this.props.artworks.slice(0, this.props.maxWorks)\n    const _art = artworks.map((art) => {\n      var s = art._source\n      if(s.image == 'invalid' || (s.image_width == 0 && s.image_height == 0) || s.rights == 'Permission Denied') {\n        s.image = 'invalid'\n        var splitOn = /,|;|:|\\]/;\n        ([s.title_short, s.artist_short] = [s.title.split(splitOn)[0], s.artist.split(splitOn)[0]])\n        var text = s.title_short\n        s.text_length = text.length\n        var deltaAverageTextLength = text.length/17 // bigger box for items with more text\n        s.image_width = deltaAverageTextLength > 2 ? 300 : 200\n        s.image_height = 200\n      }\n      return s\n    })\n\n    _art.map((art) => art.aspect_ratio = art.image_width/art.image_height)\n    const summedAspectRatio = _art.reduce((sum, art) => {return sum+art.aspect_ratio}, 0)\n    // Fit the images into `maxRows` or however many rows it would take to show each\n    // approx 200px tall\n    var rowHeight = this.props.rowHeight || 200\n    var numRows = Math.min(this.props.maxRows, Math.max(Math.floor(summedAspectRatio*rowHeight/this.state.width), 1))\n\n    var rows = this.getPartition(this.state.shuffledArtworks || artworks, numRows)\n\n    const images = rows.map((row, index) => {\n      var rowSummedAspectRatio = row.reduce((sum, art) => {return sum+art._source.aspect_ratio}, 0)\n      var rowAspectRatio = rowSummedAspectRatio/row.length\n      var unadjustedHeight = this.state.width/rowSummedAspectRatio\n\n      var images = row.map((art) => {\n        var _art = art._source\n        const id = _art.id\n        const width = _art.aspect_ratio/rowSummedAspectRatio*this.state.width\n        const height = width/_art.aspect_ratio\n        const maxRowHeight = this.props.maxRowHeight || 200\n        const widthAdjustedToClipTallRows = unadjustedHeight > maxRowHeight ? width/(unadjustedHeight/maxRowHeight) : width\n\n        return <QuiltPatch art={_art}\n          width={widthAdjustedToClipTallRows}\n          onClick={this.clicked.bind(this, art)}\n          onMouseEnter={this.hovered.bind(this, art, true)}\n          onMouseLeave={this.hovered.bind(this, art, false)}\n          onImageInvalidation={this.forceUpdate.bind(this)}\n          key={_art.id}\n          lazyLoad={this.props.lazyLoad}\n          />\n      })\n\n      // centered doesn't work on the first row because the search box is in the way\n      // space-around looks best on bottom rows\n      const justify = index == 0 && row.length <=3 ? 'space-around' : 'center'\n      var rowStyle = {\n        minHeight: Math.min(unadjustedHeight, this.props.maxRowHeight || 200, 50),\n        display: 'flex',\n        justifyContent: justify,\n        whiteSpace: 'nowrap',\n      }\n\n      return <div className='quilt-row-wrap'\n        key={'row'+index}\n        style={rowStyle}>\n        {images}\n      </div>\n    })\n\n    var quiltStyle = {\n      cursor: 'pointer',\n      ...this.props.style,\n    }\n\n    return (\n      <div className='quilt-wrap' onMouseLeave={this.hovered.bind(this, null, false)} style={quiltStyle}>\n        {images}\n      </div>\n    )\n  },\n\n  cachedPartitions: {},\n\n  getPartition(artworks, numRows) {\n    var memoKey = `rows:${this.props.maxRows}|width:${this.state.width}|${artworks.map(art => art._id).join('-')}`\n    var memo = this.cachedPartitions[memoKey]\n    if(memo) return memo\n\n    const partitionBy = function(collection, weightFn, k) {\n      let weights = collection.map(weightFn)\n      let partition = linearPartition(weights, k)\n\n      let index = 0\n      return partition.map((weightedRow) => {\n        return weightedRow.map((weight, i) => collection[index++])\n      })\n    }\n\n    var rows = partitionBy(artworks, (art) => art._source.aspect_ratio*100, numRows)\n    this.cachedPartitions[memoKey] = rows\n    return rows\n  },\n\n  // The quilt changes the order of search results in 2 ways:\n  // * clicking pins a result to the top, in which case it will stay there\n  // * hovering 'floats' a result to the top, but it will sink back down\n  // …after the interaction is finished.\n  // Clicking the pinned artwork un-pins it\n  clicked(art, updateState=true) {\n    var {onClick} = this.props\n    if(updateState) this.setState({active: art, unpinned: false})\n    const sameArt = this.state.unpinned && !updateState ||\n      updateState && this.state.active && art == this.state.active\n    if(sameArt) {\n      this.setState({active: null, unpinned: true})\n      art = null\n    }\n    onClick && onClick(art)\n    this.state.unpinned && this.setState({unpinned: false})\n  },\n  hovered(art, active) {\n    if(this.props.disableHover) return\n    // cancel the delayed 'float' on mouseleave\n    // if an artwork was clicked, leave it pinned\n    if(!active) {\n      clearTimeout(this.activate)\n      if(!art) this.clicked(this.state.active, false)\n      return\n    }\n    this.activate = setTimeout(this.clicked.bind(this, art, false), 300)\n  },\n\n  hideDarkenedQuilt() {\n    return this.props.darken && !this.state.alwaysShow\n  },\n\n  emptyQuiltToggleControl() {\n    var styles = {\n      minHeight: '7rem',\n      display: 'inline-block',\n      width: '100%',\n      WebkitUserSelect: 'none',\n      cursor: 'pointer',\n      zIndex: 100,\n    }\n\n    return <span style={styles} onDoubleClick={this.freeTheQuilt} />\n  },\n\n  freeTheQuilt() {\n    cookie.save('freeTheQuilt', true)\n    this.setState({alwaysShow: true})\n  },\n})\nImageQuilt.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nImageQuilt.getImagedResults = (hits) => hits && hits\n  .filter((hit) => hit._source.image == 'valid' && hit._source.image_width > 0)\n\nmodule.exports = ImageQuilt\n\nvar QuiltPatch = React.createClass({\n  render() {\n    var {art, width, ...other} = this.props\n    var id = art.id\n\n    var style = {\n      display: 'inline-block',\n      verticalAlign: 'top',\n      overflow: 'hidden',\n      width: width,\n      height: width/art.aspect_ratio\n    }\n\n    var image = <Image\n      art={art}\n      style={style}\n      {...other}\n    />\n\n    var textStyle = {\n        ...style,\n        display: 'table',\n        whiteSpace: 'normal',\n    }\n\n    var patch = art.image == 'valid' ? image : <span className='invalid' style={textStyle} {...other}>\n      <p><strong>{art.title_short}</strong></p>\n    </span>\n\n    return <Link onClick={this.clickOrDontClick} style={style} to=\"artwork\" params={{id: art.id}}>{patch}</Link>\n  },\n\n  // halt the click event if javascript is loaded\n  // clicking triggers the right-hand preview, not the `<a>`\n  clickOrDontClick(event) {\n    if(!this.context.universal) event.preventDefault()\n  },\n\n  getDefaultProps() {\n    return {\n      lazyLoad: true,\n      darken: false,\n    }\n  },\n})\nQuiltPatch.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n"
      ]
    },
    "mtime": 1485807805246
  },
  "{\"filename\":\"/var/www/art/src/artwork-image.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar LazyLoad = require('react-lazy-load');\n\nvar Markdown = require('./markdown');\nvar Image = require('./image');\n\nvar ArtworkImage = React.createClass({\n  displayName: 'ArtworkImage',\n\n  render: function render() {\n    var _props = this.props;\n    var art = _props.art;\n    var id = _props.id;\n\n    var aspectRatio = art.image_width / art.image_height;\n    var maxWidth = window.innerWidth ? Math.min(window.innerWidth, 400) : 400;\n    var width = aspectRatio >= 1 ? maxWidth : maxWidth / aspectRatio;\n    var height = aspectRatio >= 1 ? maxWidth / aspectRatio : maxWidth;\n    var padding = width >= maxWidth ? -8 : -8 + (maxWidth - width) / 2;\n\n    var image = React.createElement(Image, { art: art,\n      style: { width: width, height: height },\n      ignoreStyle: true,\n      itemProp: 'image',\n      alt: art.description,\n      lazyLoad: this.props.lazyLoad });\n\n    var showImage = art.image == 'valid' && art.image_width > 0 && art.rights !== 'Permission Denied';\n\n    return showImage && React.createElement(\n      'div',\n      { className: 'artwork-image', style: { minHeight: '173px' } },\n      image,\n      React.createElement(\n        Markdown,\n        null,\n        art.image_copyright\n      )\n    );\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return { lazyLoad: true };\n  }\n});\n\nmodule.exports = ArtworkImage;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYXJ0d29yay1pbWFnZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUM1QixJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQTs7QUFFekMsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBO0FBQ3BDLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQTs7QUFFOUIsSUFBSSxZQUFZLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ25DLFFBQU0sRUFBQSxrQkFBRztpQkFDUyxJQUFJLENBQUMsS0FBSztRQUFyQixHQUFHLFVBQUgsR0FBRztRQUFFLEVBQUUsVUFBRixFQUFFOztBQUNaLFFBQUksV0FBVyxHQUFHLEdBQUcsQ0FBQyxXQUFXLEdBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQTtBQUNsRCxRQUFJLFFBQVEsR0FBRyxNQUFNLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUE7QUFDekUsUUFBSSxLQUFLLEdBQUcsV0FBVyxJQUFJLENBQUMsR0FBRyxRQUFRLEdBQUcsUUFBUSxHQUFDLFdBQVcsQ0FBQTtBQUM5RCxRQUFJLE1BQU0sR0FBRyxXQUFXLElBQUksQ0FBQyxHQUFHLFFBQVEsR0FBQyxXQUFXLEdBQUcsUUFBUSxDQUFBO0FBQy9ELFFBQUksT0FBTyxHQUFHLEtBQUssSUFBSSxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxRQUFRLEdBQUMsS0FBSyxDQUFBLEdBQUUsQ0FBQyxDQUFBOztBQUU1RCxRQUFJLEtBQUssR0FBRyxvQkFBQyxLQUFLLElBQUMsR0FBRyxFQUFFLEdBQUcsQUFBQztBQUMxQixXQUFLLEVBQUUsRUFBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUMsQUFBQztBQUN0QyxpQkFBVyxFQUFFLElBQUksQUFBQztBQUNsQixjQUFRLEVBQUMsT0FBTztBQUNoQixTQUFHLEVBQUUsR0FBRyxDQUFDLFdBQVcsQUFBQztBQUNyQixjQUFRLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEFBQUMsR0FBRyxDQUFBOztBQUVuQyxRQUFJLFNBQVMsR0FBRyxHQUFHLENBQUMsS0FBSyxJQUFJLE9BQU8sSUFBSSxHQUFHLENBQUMsV0FBVyxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsTUFBTSxLQUFLLG1CQUFtQixDQUFBOztBQUVqRyxXQUFPLFNBQVMsSUFDZDs7UUFBSyxTQUFTLEVBQUMsZUFBZSxFQUFDLEtBQUssRUFBRSxFQUFDLFNBQVMsRUFBRSxPQUFPLEVBQUMsQUFBQztNQUN4RCxLQUFLO01BQ047QUFBQyxnQkFBUTs7UUFBRSxHQUFHLENBQUMsZUFBZTtPQUFZO0tBQ3RDLEFBQ1AsQ0FBQTtHQUNGOztBQUVELGlCQUFlLEVBQUEsMkJBQUc7QUFDaEIsV0FBTyxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMsQ0FBQTtHQUN4QjtDQUNGLENBQUMsQ0FBQTs7QUFFRixNQUFNLENBQUMsT0FBTyxHQUFHLFlBQVksQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2FydHdvcmstaW1hZ2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG5sZXQgTGF6eUxvYWQgPSByZXF1aXJlKCdyZWFjdC1sYXp5LWxvYWQnKVxuXG52YXIgTWFya2Rvd24gPSByZXF1aXJlKCcuL21hcmtkb3duJylcbnZhciBJbWFnZSA9IHJlcXVpcmUoJy4vaW1hZ2UnKVxuXG52YXIgQXJ0d29ya0ltYWdlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgbGV0IHthcnQsIGlkfSA9IHRoaXMucHJvcHNcbiAgICBsZXQgYXNwZWN0UmF0aW8gPSBhcnQuaW1hZ2Vfd2lkdGgvYXJ0LmltYWdlX2hlaWdodFxuICAgIGxldCBtYXhXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoID8gTWF0aC5taW4od2luZG93LmlubmVyV2lkdGgsIDQwMCkgOiA0MDBcbiAgICBsZXQgd2lkdGggPSBhc3BlY3RSYXRpbyA+PSAxID8gbWF4V2lkdGggOiBtYXhXaWR0aC9hc3BlY3RSYXRpb1xuICAgIGxldCBoZWlnaHQgPSBhc3BlY3RSYXRpbyA+PSAxID8gbWF4V2lkdGgvYXNwZWN0UmF0aW8gOiBtYXhXaWR0aFxuICAgIGxldCBwYWRkaW5nID0gd2lkdGggPj0gbWF4V2lkdGggPyAtOCA6IC04KyhtYXhXaWR0aC13aWR0aCkvMlxuXG4gICAgdmFyIGltYWdlID0gPEltYWdlIGFydD17YXJ0fVxuICAgICAgc3R5bGU9e3t3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0fX1cbiAgICAgIGlnbm9yZVN0eWxlPXt0cnVlfVxuICAgICAgaXRlbVByb3A9XCJpbWFnZVwiXG4gICAgICBhbHQ9e2FydC5kZXNjcmlwdGlvbn1cbiAgICAgIGxhenlMb2FkPXt0aGlzLnByb3BzLmxhenlMb2FkfSAvPlxuXG4gICAgdmFyIHNob3dJbWFnZSA9IGFydC5pbWFnZSA9PSAndmFsaWQnICYmIGFydC5pbWFnZV93aWR0aCA+IDAgJiYgYXJ0LnJpZ2h0cyAhPT0gJ1Blcm1pc3Npb24gRGVuaWVkJ1xuXG4gICAgcmV0dXJuIHNob3dJbWFnZSAmJiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nYXJ0d29yay1pbWFnZScgc3R5bGU9e3ttaW5IZWlnaHQ6ICcxNzNweCd9fT5cbiAgICAgICAge2ltYWdlfVxuICAgICAgICA8TWFya2Rvd24+e2FydC5pbWFnZV9jb3B5cmlnaHR9PC9NYXJrZG93bj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfSxcblxuICBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtsYXp5TG9hZDogdHJ1ZX1cbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gQXJ0d29ya0ltYWdlXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/artwork-image.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,QAAQ,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAA;;AAEzC,IAAI,QAAQ,GAAG,OAAO,CAAC,YAAY,CAAC,CAAA;AACpC,IAAI,KAAK,GAAG,OAAO,CAAC,SAAS,CAAC,CAAA;;AAE9B,IAAI,YAAY,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACnC,QAAM,EAAA,kBAAG;iBACS,IAAI,CAAC,KAAK;QAArB,GAAG,UAAH,GAAG;QAAE,EAAE,UAAF,EAAE;;AACZ,QAAI,WAAW,GAAG,GAAG,CAAC,WAAW,GAAC,GAAG,CAAC,YAAY,CAAA;AAClD,QAAI,QAAQ,GAAG,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,UAAU,EAAE,GAAG,CAAC,GAAG,GAAG,CAAA;AACzE,QAAI,KAAK,GAAG,WAAW,IAAI,CAAC,GAAG,QAAQ,GAAG,QAAQ,GAAC,WAAW,CAAA;AAC9D,QAAI,MAAM,GAAG,WAAW,IAAI,CAAC,GAAG,QAAQ,GAAC,WAAW,GAAG,QAAQ,CAAA;AAC/D,QAAI,OAAO,GAAG,KAAK,IAAI,QAAQ,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAC,CAAC,QAAQ,GAAC,KAAK,CAAA,GAAE,CAAC,CAAA;;AAE5D,QAAI,KAAK,GAAG,oBAAC,KAAK,IAAC,GAAG,EAAE,GAAG,AAAC;AAC1B,WAAK,EAAE,EAAC,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAC,AAAC;AACtC,iBAAW,EAAE,IAAI,AAAC;AAClB,cAAQ,EAAC,OAAO;AAChB,SAAG,EAAE,GAAG,CAAC,WAAW,AAAC;AACrB,cAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,AAAC,GAAG,CAAA;;AAEnC,QAAI,SAAS,GAAG,GAAG,CAAC,KAAK,IAAI,OAAO,IAAI,GAAG,CAAC,WAAW,GAAG,CAAC,IAAI,GAAG,CAAC,MAAM,KAAK,mBAAmB,CAAA;;AAEjG,WAAO,SAAS,IACd;;QAAK,SAAS,EAAC,eAAe,EAAC,KAAK,EAAE,EAAC,SAAS,EAAE,OAAO,EAAC,AAAC;MACxD,KAAK;MACN;AAAC,gBAAQ;;QAAE,GAAG,CAAC,eAAe;OAAY;KACtC,AACP,CAAA;GACF;;AAED,iBAAe,EAAA,2BAAG;AAChB,WAAO,EAAC,QAAQ,EAAE,IAAI,EAAC,CAAA;GACxB;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,YAAY,CAAA",
      "file": "/var/www/art/src/artwork-image.js",
      "sourcesContent": [
        "var React = require('react')\nlet LazyLoad = require('react-lazy-load')\n\nvar Markdown = require('./markdown')\nvar Image = require('./image')\n\nvar ArtworkImage = React.createClass({\n  render() {\n    let {art, id} = this.props\n    let aspectRatio = art.image_width/art.image_height\n    let maxWidth = window.innerWidth ? Math.min(window.innerWidth, 400) : 400\n    let width = aspectRatio >= 1 ? maxWidth : maxWidth/aspectRatio\n    let height = aspectRatio >= 1 ? maxWidth/aspectRatio : maxWidth\n    let padding = width >= maxWidth ? -8 : -8+(maxWidth-width)/2\n\n    var image = <Image art={art}\n      style={{width: width, height: height}}\n      ignoreStyle={true}\n      itemProp=\"image\"\n      alt={art.description}\n      lazyLoad={this.props.lazyLoad} />\n\n    var showImage = art.image == 'valid' && art.image_width > 0 && art.rights !== 'Permission Denied'\n\n    return showImage && (\n      <div className='artwork-image' style={{minHeight: '173px'}}>\n        {image}\n        <Markdown>{art.image_copyright}</Markdown>\n      </div>\n    )\n  },\n\n  getDefaultProps() {\n    return {lazyLoad: true}\n  },\n})\n\nmodule.exports = ArtworkImage\n"
      ]
    },
    "mtime": 1454011787395
  },
  "{\"filename\":\"/var/www/art/src/markdown.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\n\nvar marked = require('marked');\nmarked.setOptions({\n  gfm: true,\n  breaks: true\n});\n\nvar Markdown = React.createClass({\n  displayName: 'Markdown',\n\n  render: function render() {\n    if (!this.props.children) return React.createElement('span', null);\n\n    var content = this.props.children.replace('\\n', '\\n\\n').replace(/<i>([^<]+)<\\/?i>/gi, '<i>$1</i>');\n\n    var Tag = this.props.tag || 'div';\n    var rendered = this.props.alreadyRendered ? content : marked(content);\n    if (this.props.tag) rendered = rendered.replace(/<.?p>/g, '').trim();\n    return React.createElement(Tag, { dangerouslySetInnerHTML: { __html: rendered } });\n  }\n});\n\nmodule.exports = Markdown;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvbWFya2Rvd24uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7O0FBRTVCLElBQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQTtBQUNoQyxNQUFNLENBQUMsVUFBVSxDQUFDO0FBQ2hCLEtBQUcsRUFBRSxJQUFJO0FBQ1QsUUFBTSxFQUFFLElBQUk7Q0FDYixDQUFDLENBQUE7O0FBRUYsSUFBSSxRQUFRLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQy9CLFFBQU0sRUFBQSxrQkFBRztBQUNQLFFBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxPQUFPLGlDQUFRLENBQUE7O0FBRXhDLFFBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUM5QixPQUFPLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUNyQixPQUFPLENBQUMsb0JBQW9CLEVBQUUsV0FBVyxDQUFDLENBQUE7O0FBRTdDLFFBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQTtBQUNqQyxRQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsR0FBRyxPQUFPLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQ3JFLFFBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsUUFBUSxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFBO0FBQ25FLFdBQU8sb0JBQUMsR0FBRyxJQUFDLHVCQUF1QixFQUFFLEVBQUMsTUFBTSxFQUFFLFFBQVEsRUFBQyxBQUFDLEdBQU8sQ0FBQTtHQUNoRTtDQUNGLENBQUMsQ0FBQTs7QUFHRixNQUFNLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL21hcmtkb3duLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxuXG5jb25zdCBtYXJrZWQgPSByZXF1aXJlKCdtYXJrZWQnKVxubWFya2VkLnNldE9wdGlvbnMoe1xuICBnZm06IHRydWUsXG4gIGJyZWFrczogdHJ1ZSxcbn0pXG5cbnZhciBNYXJrZG93biA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIGlmKCF0aGlzLnByb3BzLmNoaWxkcmVuKSByZXR1cm4gPHNwYW4gLz5cblxuICAgIHZhciBjb250ZW50ID0gdGhpcy5wcm9wcy5jaGlsZHJlblxuICAgICAgLnJlcGxhY2UoJ1xcbicsICdcXG5cXG4nKVxuICAgICAgLnJlcGxhY2UoLzxpPihbXjxdKyk8XFwvP2k+L2dpLCAnPGk+JDE8L2k+JylcblxuICAgIGxldCBUYWcgPSB0aGlzLnByb3BzLnRhZyB8fCAnZGl2J1xuICAgIGxldCByZW5kZXJlZCA9IHRoaXMucHJvcHMuYWxyZWFkeVJlbmRlcmVkID8gY29udGVudCA6IG1hcmtlZChjb250ZW50KVxuICAgIGlmKHRoaXMucHJvcHMudGFnKSByZW5kZXJlZCA9IHJlbmRlcmVkLnJlcGxhY2UoLzwuP3A+L2csICcnKS50cmltKClcbiAgICByZXR1cm4gPFRhZyBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogcmVuZGVyZWR9fT48L1RhZz5cbiAgfSxcbn0pXG5cblxubW9kdWxlLmV4cG9ydHMgPSBNYXJrZG93blxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/markdown.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;AAE5B,IAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAA;AAChC,MAAM,CAAC,UAAU,CAAC;AAChB,KAAG,EAAE,IAAI;AACT,QAAM,EAAE,IAAI;CACb,CAAC,CAAA;;AAEF,IAAI,QAAQ,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC/B,QAAM,EAAA,kBAAG;AACP,QAAG,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,OAAO,iCAAQ,CAAA;;AAExC,QAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAC9B,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC,CACrB,OAAO,CAAC,oBAAoB,EAAE,WAAW,CAAC,CAAA;;AAE7C,QAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,KAAK,CAAA;AACjC,QAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,GAAG,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,CAAA;AACrE,QAAG,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE,CAAA;AACnE,WAAO,oBAAC,GAAG,IAAC,uBAAuB,EAAE,EAAC,MAAM,EAAE,QAAQ,EAAC,AAAC,GAAO,CAAA;GAChE;CACF,CAAC,CAAA;;AAGF,MAAM,CAAC,OAAO,GAAG,QAAQ,CAAA",
      "file": "/var/www/art/src/markdown.js",
      "sourcesContent": [
        "var React = require('react')\n\nconst marked = require('marked')\nmarked.setOptions({\n  gfm: true,\n  breaks: true,\n})\n\nvar Markdown = React.createClass({\n  render() {\n    if(!this.props.children) return <span />\n\n    var content = this.props.children\n      .replace('\\n', '\\n\\n')\n      .replace(/<i>([^<]+)<\\/?i>/gi, '<i>$1</i>')\n\n    let Tag = this.props.tag || 'div'\n    let rendered = this.props.alreadyRendered ? content : marked(content)\n    if(this.props.tag) rendered = rendered.replace(/<.?p>/g, '').trim()\n    return <Tag dangerouslySetInnerHTML={{__html: rendered}}></Tag>\n  },\n})\n\n\nmodule.exports = Markdown\n"
      ]
    },
    "mtime": 1453913552707
  },
  "{\"filename\":\"/var/www/art/src/image.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends",
        "object-without-properties"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\nvar cx = require('classnames');\nvar LazyLoad = require('react-lazy-load');\n\nvar imageCDN = require('./image-cdn');\n\nvar _require = require('./artwork/creator');\n\nvar getFacetAndValue = _require.getFacetAndValue;\n\nvar Image = React.createClass({\n  displayName: 'Image',\n\n  render: function render() {\n    var _props = this.props;\n    var art = _props.art;\n    var style = _props.style;\n    var lazyLoad = _props.lazyLoad;\n    var ignoreStyle = _props.ignoreStyle;\n\n    var other = _objectWithoutProperties(_props, ['art', 'style', 'lazyLoad', 'ignoreStyle']);\n\n    var id = art.id;\n    var width = style.width;\n    var height = style.height;\n\n    var classes = cx('image', {\n      loading: !this.state.loaded,\n      loaded: this.state.loaded,\n      error: this.state.error,\n      invalid: this.state.error\n    });\n\n    var loadingStyle = _extends({}, style);\n\n    var nakedImage = React.createElement('img', _extends({\n      key: id,\n      style: ignoreStyle ? { maxWidth: '100%' } : style,\n      src: this.imageURL(),\n      onLoad: this.handleImageLoad,\n      onError: this.handleError,\n      className: classes,\n      title: art.title + ', ' + getFacetAndValue(art)[1],\n      alt: art.description\n    }, other));\n\n    if (art.rights == 'Permission Denied') return React.createElement('span', null);\n\n    var image = !lazyLoad ? nakedImage : React.createElement(\n      LazyLoad,\n      { wrapper: 'span', style: { display: 'inline' }, width: width, height: '' + height },\n      nakedImage\n    );\n\n    return image;\n  },\n\n  imageURL: function imageURL() {\n    var id = this.props.art.id;\n\n    return this.state.skipCDN ? 'https://api.artsmia.org/images/' + id + '/400/medium.jpg' : imageCDN(id);\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    if (this.props.art !== nextProps.art) this.setState({ skipCDN: false });\n  },\n\n  handleImageLoad: function handleImageLoad() {\n    this.setState({ loaded: true });\n  },\n\n  // if the image doesn't load, it's probably because it's not on the CDN\n  // yet. Fall back and load it from the API\n  // If it also won't load from there, we've got problems\n  handleError: function handleError(event) {\n    if (!this.state.skipCDN) {\n      this.setState({ skipCDN: true });\n    } else {\n      // problems! the image isn't working on the CDN or via the api.\n      this.setState({ loaded: true, error: true });\n      this.props.art.image = 'invalid';\n      this.props.onImageInvalidation && this.props.onImageInvalidation();\n    }\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      loaded: this.context.universal || false,\n      skipCDN: false\n    };\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      ignoreStyle: false\n    };\n  }\n});\nImage.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nmodule.exports = Image;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvaW1hZ2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTtBQUM5QixJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQTs7QUFFekMsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBOztlQUNaLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQzs7SUFBaEQsZ0JBQWdCLFlBQWhCLGdCQUFnQjs7QUFFckIsSUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQzlCLFFBQU0sRUFBQSxrQkFBRztpQkFDNkMsSUFBSSxDQUFDLEtBQUs7UUFBekQsR0FBRyxVQUFILEdBQUc7UUFBRSxLQUFLLFVBQUwsS0FBSztRQUFFLFFBQVEsVUFBUixRQUFRO1FBQUUsV0FBVyxVQUFYLFdBQVc7O1FBQUssS0FBSzs7UUFDM0MsRUFBRSxHQUFJLEdBQUcsQ0FBVCxFQUFFO1FBQ0YsS0FBSyxHQUFZLEtBQUssQ0FBdEIsS0FBSztRQUFFLE1BQU0sR0FBSSxLQUFLLENBQWYsTUFBTTs7QUFFbEIsUUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRTtBQUN4QixhQUFPLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU07QUFDM0IsWUFBTSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTTtBQUN6QixXQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLO0FBQ3ZCLGFBQU8sRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUs7S0FDMUIsQ0FBQyxDQUFBOztBQUVGLFFBQUksWUFBWSxnQkFDWCxLQUFLLENBQ1QsQ0FBQTs7QUFFRCxRQUFJLFVBQVUsR0FBRztBQUNmLFNBQUcsRUFBRSxFQUFF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b3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgY3ggPSByZXF1aXJlKCdjbGFzc25hbWVzJylcbnZhciBMYXp5TG9hZCA9IHJlcXVpcmUoJ3JlYWN0LWxhenktbG9hZCcpXG5cbnZhciBpbWFnZUNETiA9IHJlcXVpcmUoJy4vaW1hZ2UtY2RuJylcbnZhciB7Z2V0RmFjZXRBbmRWYWx1ZX0gPSByZXF1aXJlKCcuL2FydHdvcmsvY3JlYXRvcicpXG5cbmNvbnN0IEltYWdlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnQsIHN0eWxlLCBsYXp5TG9hZCwgaWdub3JlU3R5bGUsIC4uLm90aGVyfSA9IHRoaXMucHJvcHNcbiAgICB2YXIge2lkfSA9IGFydFxuICAgIHZhciB7d2lkdGgsIGhlaWdodH0gPSBzdHlsZVxuXG4gICAgdmFyIGNsYXNzZXMgPSBjeCgnaW1hZ2UnLCB7XG4gICAgICBsb2FkaW5nOiAhdGhpcy5zdGF0ZS5sb2FkZWQsXG4gICAgICBsb2FkZWQ6IHRoaXMuc3RhdGUubG9hZGVkLFxuICAgICAgZXJyb3I6IHRoaXMuc3RhdGUuZXJyb3IsXG4gICAgICBpbnZhbGlkOiB0aGlzLnN0YXRlLmVycm9yLFxuICAgIH0pXG5cbiAgICB2YXIgbG9hZGluZ1N0eWxlID0ge1xuICAgICAgLi4uc3R5bGUsXG4gICAgfVxuXG4gICAgdmFyIG5ha2VkSW1hZ2UgPSA8aW1nXG4gICAgICBrZXk9e2lkfVxuICAgICAgc3R5bGU9e2lnbm9yZVN0eWxlID8ge21heFdpZHRoOiAnMTAwJSd9IDogc3R5bGV9XG4gICAgICBzcmM9e3RoaXMuaW1hZ2VVUkwoKX1cbiAgICAgIG9uTG9hZD17dGhpcy5oYW5kbGVJbWFnZUxvYWR9XG4gICAgICBvbkVycm9yPXt0aGlzLmhhbmRsZUVycm9yfVxuICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzfVxuICAgICAgdGl0bGU9e2Ake2FydC50aXRsZX0sICR7Z2V0RmFjZXRBbmRWYWx1ZShhcnQpWzFdfWB9XG4gICAgICBhbHQ9e2FydC5kZXNjcmlwdGlvbn1cbiAgICAgIHsuLi5vdGhlcn0gLz5cblxuICAgIGlmKGFydC5yaWdodHMgPT0gJ1Blcm1pc3Npb24gRGVuaWVkJykgcmV0dXJuIDxzcGFuIC8+XG5cbiAgICB2YXIgaW1hZ2UgPSAhbGF6eUxvYWQgPyBuYWtlZEltYWdlIDogPExhenlMb2FkIHdyYXBwZXI9XCJzcGFuXCIgc3R5bGU9e3tkaXNwbGF5OiAnaW5saW5lJ319IHdpZHRoPXt3aWR0aH0gaGVpZ2h0PXtgJHtoZWlnaHR9YH0+XG4gICAgICB7bmFrZWRJbWFnZX1cbiAgICA8L0xhenlMb2FkPlxuXG4gICAgcmV0dXJuIGltYWdlXG4gIH0sXG5cbiAgaW1hZ2VVUkwoKSB7XG4gICAgdmFyIHtpZH0gPSB0aGlzLnByb3BzLmFydFxuXG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuc2tpcENETiA/XG4gICAgICBgaHR0cHM6Ly9hcGkuYXJ0c21pYS5vcmcvaW1hZ2VzLyR7aWR9LzQwMC9tZWRpdW0uanBnYCA6XG4gICAgICBpbWFnZUNETihpZClcbiAgfSxcblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIGlmKHRoaXMucHJvcHMuYXJ0ICE9PSBuZXh0UHJvcHMuYXJ0KSB0aGlzLnNldFN0YXRlKHtza2lwQ0ROOiBmYWxzZX0pXG4gIH0sXG5cbiAgaGFuZGxlSW1hZ2VMb2FkKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe2xvYWRlZDogdHJ1ZX0pXG4gIH0sXG5cbiAgLy8gaWYgdGhlIGltYWdlIGRvZXNuJ3QgbG9hZCwgaXQncyBwcm9iYWJseSBiZWNhdXNlIGl0J3Mgbm90IG9uIHRoZSBDRE5cbiAgLy8geWV0LiBGYWxsIGJhY2sgYW5kIGxvYWQgaXQgZnJvbSB0aGUgQVBJXG4gIC8vIElmIGl0IGFsc28gd29uJ3QgbG9hZCBmcm9tIHRoZXJlLCB3ZSd2ZSBnb3QgcHJvYmxlbXNcbiAgaGFuZGxlRXJyb3IoZXZlbnQpIHtcbiAgICBpZighdGhpcy5zdGF0ZS5za2lwQ0ROKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtza2lwQ0ROOiB0cnVlfSlcbiAgICB9IGVsc2UgeyAvLyBwcm9ibGVtcyEgdGhlIGltYWdlIGlzbid0IHdvcmtpbmcgb24gdGhlIENETiBvciB2aWEgdGhlIGFwaS5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe2xvYWRlZDogdHJ1ZSwgZXJyb3I6IHRydWV9KVxuICAgICAgdGhpcy5wcm9wcy5hcnQuaW1hZ2UgPSAnaW52YWxpZCcgXG4gICAgICB0aGlzLnByb3BzLm9uSW1hZ2VJbnZhbGlkYXRpb24gJiYgdGhpcy5wcm9wcy5vbkltYWdlSW52YWxpZGF0aW9uKClcbiAgICB9XG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBsb2FkZWQ6IHRoaXMuY29udGV4dC51bml2ZXJzYWwgfHwgZmFsc2UsXG4gICAgICBza2lwQ0ROOiBmYWxzZSxcbiAgICB9XG4gIH0sXG5cbiAgZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpZ25vcmVTdHlsZTogZmFsc2UsXG4gICAgfVxuICB9LFxufSlcbkltYWdlLmNvbnRleHRUeXBlcyA9IHtcbiAgcm91dGVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgdW5pdmVyc2FsOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBJbWFnZVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/image.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/image.js",
      "sourcesContent": [
        "var React = require('react')\nvar cx = require('classnames')\nvar LazyLoad = require('react-lazy-load')\n\nvar imageCDN = require('./image-cdn')\nvar {getFacetAndValue} = require('./artwork/creator')\n\nconst Image = React.createClass({\n  render() {\n    var {art, style, lazyLoad, ignoreStyle, ...other} = this.props\n    var {id} = art\n    var {width, height} = style\n\n    var classes = cx('image', {\n      loading: !this.state.loaded,\n      loaded: this.state.loaded,\n      error: this.state.error,\n      invalid: this.state.error,\n    })\n\n    var loadingStyle = {\n      ...style,\n    }\n\n    var nakedImage = <img\n      key={id}\n      style={ignoreStyle ? {maxWidth: '100%'} : style}\n      src={this.imageURL()}\n      onLoad={this.handleImageLoad}\n      onError={this.handleError}\n      className={classes}\n      title={`${art.title}, ${getFacetAndValue(art)[1]}`}\n      alt={art.description}\n      {...other} />\n\n    if(art.rights == 'Permission Denied') return <span />\n\n    var image = !lazyLoad ? nakedImage : <LazyLoad wrapper=\"span\" style={{display: 'inline'}} width={width} height={`${height}`}>\n      {nakedImage}\n    </LazyLoad>\n\n    return image\n  },\n\n  imageURL() {\n    var {id} = this.props.art\n\n    return this.state.skipCDN ?\n      `https://api.artsmia.org/images/${id}/400/medium.jpg` :\n      imageCDN(id)\n  },\n\n  componentWillReceiveProps(nextProps) {\n    if(this.props.art !== nextProps.art) this.setState({skipCDN: false})\n  },\n\n  handleImageLoad() {\n    this.setState({loaded: true})\n  },\n\n  // if the image doesn't load, it's probably because it's not on the CDN\n  // yet. Fall back and load it from the API\n  // If it also won't load from there, we've got problems\n  handleError(event) {\n    if(!this.state.skipCDN) {\n      this.setState({skipCDN: true})\n    } else { // problems! the image isn't working on the CDN or via the api.\n      this.setState({loaded: true, error: true})\n      this.props.art.image = 'invalid' \n      this.props.onImageInvalidation && this.props.onImageInvalidation()\n    }\n  },\n\n  getInitialState() {\n    return {\n      loaded: this.context.universal || false,\n      skipCDN: false,\n    }\n  },\n\n  getDefaultProps() {\n    return {\n      ignoreStyle: false,\n    }\n  },\n})\nImage.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nmodule.exports = Image\n"
      ]
    },
    "mtime": 1485807805246
  },
  "{\"filename\":\"/var/www/art/src/image-cdn.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction imageUrlForId(id) {\n  var size = arguments.length <= 1 || arguments[1] === undefined ? 400 : arguments[1];\n\n  var size = size > 400 ? '800/' : '';\n  return 'https://' + id % 7 + '.api.artsmia.org/' + size + id + '.jpg';\n}\n\nmodule.exports = imageUrlForId;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvaW1hZ2UtY2RuLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsU0FBUyxhQUFhLENBQUMsRUFBRSxFQUFZO01BQVYsSUFBSSx5REFBQyxHQUFHOztBQUNqQyxNQUFJLElBQUksR0FBRyxBQUFDLElBQUksR0FBRyxHQUFHLEdBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQTtBQUNyQyxzQkFBa0IsRUFBRSxHQUFDLENBQUMseUJBQW9CLElBQUksR0FBRyxFQUFFLFVBQU07Q0FDMUQ7O0FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRyxhQUFhLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9pbWFnZS1jZG4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBpbWFnZVVybEZvcklkKGlkLCBzaXplPTQwMCkge1xuICB2YXIgc2l6ZSA9IChzaXplID4gNDAwKSA/ICc4MDAvJyA6ICcnXG4gIHJldHVybiBgaHR0cHM6Ly8ke2lkJTd9LmFwaS5hcnRzbWlhLm9yZy8ke3NpemV9JHtpZH0uanBnYFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGltYWdlVXJsRm9ySWRcblxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/image-cdn.js"
      ],
      "names": [],
      "mappings": ";;AAAA,SAAS,aAAa,CAAC,EAAE,EAAY;MAAV,IAAI,yDAAC,GAAG;;AACjC,MAAI,IAAI,GAAG,AAAC,IAAI,GAAG,GAAG,GAAI,MAAM,GAAG,EAAE,CAAA;AACrC,sBAAkB,EAAE,GAAC,CAAC,yBAAoB,IAAI,GAAG,EAAE,UAAM;CAC1D;;AAED,MAAM,CAAC,OAAO,GAAG,aAAa,CAAA",
      "file": "/var/www/art/src/image-cdn.js",
      "sourcesContent": [
        "function imageUrlForId(id, size=400) {\n  var size = (size > 400) ? '800/' : ''\n  return `https://${id%7}.api.artsmia.org/${size}${id}.jpg`\n}\n\nmodule.exports = imageUrlForId\n\n"
      ]
    },
    "mtime": 1485807805246
  },
  "{\"filename\":\"/var/www/art/src/search-results.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar rest = require('rest');\n\nvar SEARCH = require('./endpoints').search;\nvar SearchSummary = require('./search-summary');\nvar ResultsList = require('./search-results/list');\nvar ResultsGrid = require('./search-results/grid');\n\nvar SearchResults = React.createClass({\n  displayName: 'SearchResults',\n\n  mixins: [Router.State, Router.Navigation],\n\n  statics: {\n    fetchData: {\n      searchResults: function searchResults(params, query) {\n        var size = query && query.size || 100;\n        var sort = query && query.sort;\n        var filters = params.splat;\n        var properlyCodedFilters = encodeURIComponent(decodeURIComponent(filters)); // yuck\n        var searchUrl = SEARCH + '/' + params.terms + '?size=' + size;\n        if (sort) searchUrl += '&sort=' + sort;\n        if (filters) searchUrl += '&filters=' + properlyCodedFilters;\n        return rest(searchUrl).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  getInitialState: function getInitialState() {\n    var focus = window.clickedArtwork || this.props.hits[0];\n    setTimeout(function () {\n      return window.clickedArtwork = null;\n    });\n    var smallViewport = window && window.innerWidth <= 500;\n\n    var _props$query = this.props.query;\n    var view = _props$query.view;\n    var showPreview = _props$query.preview;\n\n    var initialView = view && view == 'list' ? ResultsList : ResultsGrid;\n    var defaultView = smallViewport || this.context.universal ? ResultsList : ResultsGrid;\n    var showPreview = showPreview == \"false\" ? false : true;\n\n    return {\n      focusedResult: showPreview && focus && focus,\n      view: initialView || defaultView,\n      smallViewport: smallViewport\n    };\n  },\n\n  shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {\n    return this.props.data.searchResults != nextProps.data.searchResults || this.props.hits != nextProps.hits || this.props.completions !== nextProps.completions || this.props.query.sort !== nextProps.query.sort || this.state !== nextState;\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    var focused = window.clickedArtwork || this.state && this.state.focusedResult || nextProps.hits[0];\n    this.focusResult(focused);\n    if (window.clickedArtwork) window.clickedArtwork = null;\n  },\n\n  maxResults: 5000,\n\n  triggerLoad: function triggerLoad(nextPage) {\n    this.setState({ loadingMore: nextPage });\n  },\n\n  render: function render() {\n    var search = this.props.data.searchResults;\n    var focusedResult = this.state.focusedResult;\n\n    var leftColumnWidth = '35%';\n    var unloadedResults = search.hits.total - this.props.hits.length;\n    var loadThisManyMore = Math.min(200, unloadedResults);\n    var nextPage = Math.min(this.maxResults, this.props.hits.length + loadThisManyMore);\n    var showMoreLink = search && React.createElement(\n      'span',\n      null,\n      '. (',\n      React.createElement(\n        Link,\n        { to: search.filters ? 'filteredSearchResults' : 'searchResults',\n          params: { terms: search.query, splat: search.filters },\n          query: _extends({ size: nextPage }, this.props.query),\n          onClick: this.triggerLoad.bind(this, nextPage)\n        },\n        'load ',\n        loadThisManyMore,\n        ' more'\n      ),\n      ')'\n    );\n\n    if (this.state.loadingMore) showMoreLink = ' (…loading)';\n\n    var summaryProps = _extends({\n      search: this.props.data.searchResults,\n      hits: this.props.hits,\n      params: this.props.params,\n      showAggs: this.props.showAggs,\n      toggleAggs: this.props.toggleAggs,\n      showMoreLink: showMoreLink,\n      maxResults: this.maxResults,\n      query: this.props.query\n    }, this.props.summaryProps);\n\n    var _props$params = this.props.params;\n    var terms = _props$params.terms;\n    var splat = _props$params.splat;\n\n    var showFocusRelatedContent = [terms, splat].join(' ').match(/related/);\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        SearchSummary,\n        summaryProps,\n        React.createElement(SearchResultViewToggle, {\n          click: this.changeView,\n          activeView: this.state.view,\n          views: [ResultsList, ResultsGrid]\n        })\n      ),\n      this.props.suggestions,\n      React.createElement(this.state.view, {\n        leftColumnWidth: leftColumnWidth,\n        focusedResult: focusedResult,\n        focusHandler: this.focusResult,\n        search: search,\n        hits: this.props.hits,\n        postSearch: this.postSearch(summaryProps, this.state.postSearchOffset),\n        smallViewport: this.state.smallViewport,\n        showRelated: showFocusRelatedContent\n      })\n    );\n  },\n\n  focusResult: function focusResult(hit) {\n    var nextView = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n    var smallViewport = this.state.smallViewport;\n\n    if (smallViewport && nextView) {\n      this.transitionTo('artwork', { id: hit._id });\n    } else {\n      !smallViewport && nextView && this.changeView(nextView);\n      this.setState({ focusedResult: hit ? hit : null });\n    }\n  },\n\n  changeView: function changeView(next) {\n    next && this.setState({ view: next });\n  },\n\n  // How to code this: after seeing all the results (on a page?)\n  // summarize them and give the chance to do something. Such as:\n  // * load more\n  // * did you find what you were looking for? (solicit feedback)\n  // * related searches?\n  //\n  // Also fudge the height of this so the right column scroll doesn't get cut off.\n  postSearch: function postSearch(_ref, postSearchOffset) {\n    var hits = _ref.hits;\n    var search = _ref.search;\n    var showMoreLink = _ref.showMoreLink;\n\n    var showingAll = hits.length == search.hits.total || hits.length >= this.maxResults;\n\n    var style = {\n      marginTop: '1em',\n      padding: '1em',\n      borderTop: '1em solid #232323',\n      minHeight: Math.max(50, this.state.minHeight - postSearchOffset)\n    };\n\n    return React.createElement(\n      'div',\n      { ref: 'postSearch', style: style },\n      'showing ',\n      hits.length,\n      ' ',\n      ' ',\n      showingAll || React.createElement(\n        'span',\n        null,\n        'of ',\n        search.hits.total,\n        ' ',\n        ' '\n      ),\n      'results matching ',\n      React.createElement(\n        'code',\n        null,\n        search.query\n      ),\n      search.filters && React.createElement(\n        'span',\n        null,\n        ' and ',\n        React.createElement(\n          'code',\n          null,\n          search.filters\n        )\n      ),\n      showingAll || showMoreLink\n    );\n  },\n\n  componentDidUpdate: function componentDidUpdate(prevProps, prevState) {\n    var domNode = this.refs.postSearch && React.findDOMNode(this.refs.postSearch);\n    var offset = domNode.getBoundingClientRect().top;\n    if (domNode && offset != prevState.postSearchOffset) {\n      this.setState({ postSearchOffset: offset || 0 });\n    }\n\n    if (this.props.query.size == this.state.loadingMore) this.setState({ loadingMore: false });\n  },\n\n  onHeightChange: function onHeightChange(newHeight) {\n    this.setState({ minHeight: newHeight });\n  },\n\n  getChildContext: function getChildContext() {\n    return {\n      onHeightChange: this.onHeightChange\n    };\n  }\n});\nSearchResults.childContextTypes = { onHeightChange: React.PropTypes.func };\nSearchResults.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nmodule.exports = SearchResults;\n\nvar SearchResultViewToggle = React.createClass({\n  displayName: 'SearchResultViewToggle',\n\n  render: function render() {\n    var _this = this;\n\n    var _props = this.props;\n    var views = _props.views;\n    var click = _props.click;\n    var activeView = _props.activeView;\n\n    var toggles = views.map(function (r) {\n      var name = r.displayName.replace('SearchResults', '');\n      var activeStyle = activeView === r && {\n        color: '#222',\n        backgroundColor: 'white',\n        borderRadius: 5,\n        margin: '0 5px',\n        display: 'inline-block'\n      } || {};\n      return React.createElement(\n        'span',\n        { key: name, onClick: _this.toggleView.bind(_this, r), style: activeStyle },\n        React.createElement('i', { className: name })\n      );\n    });\n\n    return React.createElement(\n      'div',\n      { className: 'mdl-cell mdl-cell--2-col views' },\n      toggles\n    );\n  },\n\n  toggleView: function toggleView(view) {\n    this.props.click(view);\n  }\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvc2VhcmNoLXJlc3VsdHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUM1QixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7O2VBQ3ZCLE9BQU8sQ0FBQyxjQUFjLENBQUM7O0lBQS9CLElBQUksWUFBSixJQUFJOztBQUNULElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQTs7QUFFMUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLE1BQU0sQ0FBQTtBQUMxQyxJQUFJLGFBQWEsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQTtBQUMvQyxJQUFJLFdBQVcsR0FBRyxPQUFPLENBQUMsdUJBQXVCLENBQUMsQ0FBQTtBQUNsRCxJQUFJLFdBQVcsR0FBRyxPQUFPLENBQUMsdUJBQXVCLENBQUMsQ0FBQTs7QUFFbEQsSUFBSSxhQUFhLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ3BDLFFBQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLFVBQVUsQ0FBQzs7QUFFekMsU0FBTyxFQUFFO0FBQ1AsYUFBUyxFQUFFO0FBQ1QsbUJBQWEsRUFBRSx1QkFBQyxNQUFNLEVBQUUsS0FBSyxFQUFLO0FBQ2hDLFlBQUksSUFBSSxHQUFHLEtBQUssSUFBSSxLQUFLLENBQUMsSUFBSSxJQUFJLEdBQUcsQ0FBQTtBQUNyQyxZQUFJLElBQUksR0FBRyxLQUFLLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQTtBQUM5QixZQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFBO0FBQzVCLFlBQU0sb0JBQW9CLEdBQUcsa0JBQWtCLENBQUMsa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQTtBQUM1RSxZQUFJLFNBQVMsR0FBTSxNQUFN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QUMsSUFBSSxRQUFPLENBQUMsQ0FBQyxBQUFDLEVBQUMsS0FBSyxFQUFFLFdBQVcsQUFBQztRQUFDLDJCQUFHLFNBQVMsRUFBRSxJQUFJLEFBQUMsR0FBSztPQUFPLENBQUE7S0FDcEgsQ0FBQyxDQUFBOztBQUVGLFdBQU87O1FBQUssU0FBUyxFQUFDLGdDQUFnQztNQUFFLE9BQU87S0FBTyxDQUFBO0dBQ3ZFOztBQUVELFlBQVUsRUFBQSxvQkFBQyxJQUFJLEVBQUU7QUFDZixRQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQTtHQUN2QjtDQUNGLENBQUMsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL3NlYXJjaC1yZXN1bHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIge0xpbmt9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG5cbnZhciBTRUFSQ0ggPSByZXF1aXJlKCcuL2VuZHBvaW50cycpLnNlYXJjaFxudmFyIFNlYXJjaFN1bW1hcnkgPSByZXF1aXJlKCcuL3NlYXJjaC1zdW1tYXJ5JylcbnZhciBSZXN1bHRzTGlzdCA9IHJlcXVpcmUoJy4vc2VhcmNoLXJlc3VsdHMvbGlzdCcpXG52YXIgUmVzdWx0c0dyaWQgPSByZXF1aXJlKCcuL3NlYXJjaC1yZXN1bHRzL2dyaWQnKVxuXG52YXIgU2VhcmNoUmVzdWx0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgbWl4aW5zOiBbUm91dGVyLlN0YXRlLCBSb3V0ZXIuTmF2aWdhdGlvbl0sXG5cbiAgc3RhdGljczoge1xuICAgIGZldGNoRGF0YToge1xuICAgICAgc2VhcmNoUmVzdWx0czogKHBhcmFtcywgcXVlcnkpID0+IHtcbiAgICAgICAgdmFyIHNpemUgPSBxdWVyeSAmJiBxdWVyeS5zaXplIHx8IDEwMFxuICAgICAgICB2YXIgc29ydCA9IHF1ZXJ5ICYmIHF1ZXJ5LnNvcnRcbiAgICAgICAgY29uc3QgZmlsdGVycyA9IHBhcmFtcy5zcGxhdFxuICAgICAgICBjb25zdCBwcm9wZXJseUNvZGVkRmlsdGVycyA9IGVuY29kZVVSSUNvbXBvbmVudChkZWNvZGVVUklDb21wb25lbnQoZmlsdGVycykpIC8vIHl1Y2tcbiAgICAgICAgbGV0IHNlYXJjaFVybCA9IGAke1NFQVJDSH0vJHtwYXJhbXMudGVybXN9P3NpemU9JHtzaXplfWBcbiAgICAgICAgaWYoc29ydCkgc2VhcmNoVXJsICs9IGAmc29ydD0ke3NvcnR9YFxuICAgICAgICBpZihmaWx0ZXJzKSBzZWFyY2hVcmwgKz0gYCZmaWx0ZXJzPSR7cHJvcGVybHlDb2RlZEZpbHRlcnN9YFxuICAgICAgICByZXR1cm4gcmVzdChzZWFyY2hVcmwpLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpKVxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgdmFyIGZvY3VzID0gd2luZG93LmNsaWNrZWRBcnR3b3JrIHx8IHRoaXMucHJvcHMuaGl0c1swXVxuICAgIHNldFRpbWVvdXQoKCkgPT4gd2luZG93LmNsaWNrZWRBcnR3b3JrID0gbnVsbClcbiAgICB2YXIgc21hbGxWaWV3cG9ydCA9IHdpbmRvdyAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8PSA1MDBcblxuICAgIHZhciB7dmlldywgcHJldmlldzogc2hvd1ByZXZpZXd9ID0gdGhpcy5wcm9wcy5xdWVyeVxuICAgIHZhciBpbml0aWFsVmlldyA9IHZpZXcgJiYgdmlldyA9PSAnbGlzdCcgPyBSZXN1bHRzTGlzdCA6IFJlc3VsdHNHcmlkXG4gICAgdmFyIGRlZmF1bHRWaWV3ID0gKHNtYWxsVmlld3BvcnQgfHwgdGhpcy5jb250ZXh0LnVuaXZlcnNhbCkgPyBSZXN1bHRzTGlzdCA6IFJlc3VsdHNHcmlkXG4gICAgdmFyIHNob3dQcmV2aWV3ID0gc2hvd1ByZXZpZXcgPT0gXCJmYWxzZVwiID8gZmFsc2UgOiB0cnVlXG5cbiAgICByZXR1cm4ge1xuICAgICAgZm9jdXNlZFJlc3VsdDogc2hvd1ByZXZpZXcgJiYgZm9jdXMgJiYgZm9jdXMsXG4gICAgICB2aWV3OiBpbml0aWFsVmlldyB8fCBkZWZhdWx0VmlldyxcbiAgICAgIHNtYWxsVmlld3BvcnQsXG4gICAgfVxuICB9LFxuXG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmRhdGEuc2VhcmNoUmVzdWx0cyAhPSBuZXh0UHJvcHMuZGF0YS5zZWFyY2hSZXN1bHRzIHx8XG4gICAgICB0aGlzLnByb3BzLmhpdHMgIT0gbmV4dFByb3BzLmhpdHMgfHxcbiAgICAgIHRoaXMucHJvcHMuY29tcGxldGlvbnMgIT09IG5leHRQcm9wcy5jb21wbGV0aW9ucyB8fFxuICAgICAgdGhpcy5wcm9wcy5xdWVyeS5zb3J0ICE9PSBuZXh0UHJvcHMucXVlcnkuc29ydCB8fFxuICAgICAgdGhpcy5zdGF0ZSAhPT0gbmV4dFN0YXRlXG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICB2YXIgZm9jdXNlZCA9IHdpbmRvdy5jbGlja2VkQXJ0d29yayB8fCB0aGlzLnN0YXRlICYmIHRoaXMuc3RhdGUuZm9jdXNlZFJlc3VsdCB8fCBuZXh0UHJvcHMuaGl0c1swXVxuICAgIHRoaXMuZm9jdXNSZXN1bHQoZm9jdXNlZClcbiAgICBpZih3aW5kb3cuY2xpY2tlZEFydHdvcmspIHdpbmRvdy5jbGlja2VkQXJ0d29yayA9IG51bGxcbiAgfSxcblxuICBtYXhSZXN1bHRzOiA1MDAwLFxuXG4gIHRyaWdnZXJMb2FkKG5leHRQYWdlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7bG9hZGluZ01vcmU6IG5leHRQYWdlfSlcbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHNlYXJjaCA9IHRoaXMucHJvcHMuZGF0YS5zZWFyY2hSZXN1bHRzXG4gICAgdmFyIHtmb2N1c2VkUmVzdWx0fSA9IHRoaXMuc3RhdGVcbiAgICB2YXIgbGVmdENvbHVtbldpZHRoID0gJzM1JSdcbiAgICB2YXIgdW5sb2FkZWRSZXN1bHRzID0gc2VhcmNoLmhpdHMudG90YWwgLSB0aGlzLnByb3BzLmhpdHMubGVuZ3RoXG4gICAgdmFyIGxvYWRUaGlzTWFueU1vcmUgPSBNYXRoLm1pbigyMDAsIHVubG9hZGVkUmVzdWx0cylcbiAgICB2YXIgbmV4dFBhZ2UgPSBNYXRoLm1pbih0aGlzLm1heFJlc3VsdHMsIHRoaXMucHJvcHMuaGl0cy5sZW5ndGgrbG9hZFRoaXNNYW55TW9yZSlcbiAgICB2YXIgc2hvd01vcmVMaW5rID0gc2VhcmNoICYmXG4gICAgICA8c3Bhbj4uJm5ic3A7KDxMaW5rIHRvPXtzZWFyY2guZmlsdGVycyA/ICdmaWx0ZXJlZFNlYXJjaFJlc3VsdHMnIDogJ3NlYXJjaFJlc3VsdHMnfVxuICAgICAgICAgICAgIHBhcmFtcz17e3Rlcm1zOiBzZWFyY2gucXVlcnksIHNwbGF0OiBzZWFyY2guZmlsdGVyc319XG4gICAgICAgICAgICAgcXVlcnk9e3tzaXplOiBuZXh0UGFnZSwgLi4udGhpcy5wcm9wcy5xdWVyeX19XG4gICAgICAgICAgICAgb25DbGljaz17dGhpcy50cmlnZ2VyTG9hZC5iaW5kKHRoaXMsIG5leHRQYWdlKX1cbiAgICAgICAgICAgID5sb2FkIHtsb2FkVGhpc01hbnlNb3JlfSBtb3JlPC9MaW5rPilcbiAgICAgIDwvc3Bhbj5cblxuICAgIGlmKHRoaXMuc3RhdGUubG9hZGluZ01vcmUpIHNob3dNb3JlTGluayA9ICcgKOKApmxvYWRpbmcpJ1xuXG4gICAgdmFyIHN1bW1hcnlQcm9wcyA9IHtcbiAgICAgIHNlYXJjaDogdGhpcy5wcm9wcy5kYXRhLnNlYXJjaFJlc3VsdHMsXG4gICAgICBoaXRzOiB0aGlzLnByb3BzLmhpdHMsXG4gICAgICBwYXJhbXM6IHRoaXMucHJvcHMucGFyYW1zLFxuICAgICAgc2hvd0FnZ3M6IHRoaXMucHJvcHMuc2hvd0FnZ3MsXG4gICAgICB0b2dnbGVBZ2dzOiB0aGlzLnByb3BzLnRvZ2dsZUFnZ3MsXG4gICAgICBzaG93TW9yZUxpbmssXG4gICAgICBtYXhSZXN1bHRzOiB0aGlzLm1heFJlc3VsdHMsXG4gICAgICBxdWVyeTogdGhpcy5wcm9wcy5xdWVyeSxcbiAgICAgIC4uLnRoaXMucHJvcHMuc3VtbWFyeVByb3BzXG4gICAgfVxuXG4gICAgdmFyIHt0ZXJtcywgc3BsYXR9ID0gdGhpcy5wcm9wcy5wYXJhbXNcbiAgICB2YXIgc2hvd0ZvY3VzUmVsYXRlZENvbnRlbnQgPSBbdGVybXMsIHNwbGF0XS5qb2luKCcgJykubWF0Y2goL3JlbGF0ZWQvKVxuXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8U2VhcmNoU3VtbWFyeSB7Li4uc3VtbWFyeVByb3BzfT5cbiAgICAgICAgPFNlYXJjaFJlc3VsdFZpZXdUb2dnbGVcbiAgICAgICAgICBjbGljaz17dGhpcy5jaGFuZ2VWaWV3fVxuICAgICAgICAgIGFjdGl2ZVZpZXc9e3RoaXMuc3RhdGUudmlld31cbiAgICAgICAgICB2aWV3cz17W1Jlc3VsdHNMaXN0LCBSZXN1bHRzR3JpZF19XG4gICAgICAgIC8+XG4gICAgICA8L1NlYXJjaFN1bW1hcnk+XG4gICAgICB7dGhpcy5wcm9wcy5zdWdnZXN0aW9uc31cbiAgICAgIDx0aGlzLnN0YXRlLnZpZXdcbiAgICAgICAgbGVmdENvbHVtbldpZHRoPXtsZWZ0Q29sdW1uV2lkdGh9XG4gICAgICAgIGZvY3VzZWRSZXN1bHQ9e2ZvY3VzZWRSZXN1bHR9XG4gICAgICAgIGZvY3VzSGFuZGxlcj17dGhpcy5mb2N1c1Jlc3VsdH1cbiAgICAgICAgc2VhcmNoPXtzZWFyY2h9XG4gICAgICAgIGhpdHM9e3RoaXMucHJvcHMuaGl0c31cbiAgICAgICAgcG9zdFNlYXJjaD17dGhpcy5wb3N0U2VhcmNoKHN1bW1hcnlQcm9wcywgdGhpcy5zdGF0ZS5wb3N0U2VhcmNoT2Zmc2V0KX1cbiAgICAgICAgc21hbGxWaWV3cG9ydD17dGhpcy5zdGF0ZS5zbWFsbFZpZXdwb3J0fVxuICAgICAgICBzaG93UmVsYXRlZD17c2hvd0ZvY3VzUmVsYXRlZENvbnRlbnR9XG4gICAgICAgIC8+XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgZm9jdXNSZXN1bHQoaGl0LCBuZXh0VmlldyA9IGZhbHNlKSB7XG4gICAgdmFyIHtzbWFsbFZpZXdwb3J0fSA9IHRoaXMuc3RhdGVcblxuICAgIGlmKHNtYWxsVmlld3BvcnQgJiYgbmV4dFZpZXcpIHtcbiAgICAgIHRoaXMudHJhbnNpdGlvblRvKCdhcnR3b3JrJywge2lkOiBoaXQuX2lkfSlcbiAgICB9IGVsc2Uge1xuICAgICAgIXNtYWxsVmlld3BvcnQgJiYgbmV4dFZpZXcgJiYgdGhpcy5jaGFuZ2VWaWV3KG5leHRWaWV3KVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7Zm9jdXNlZFJlc3VsdDogaGl0ID8gaGl0IDogbnVsbH0pXG4gICAgfVxuICB9LFxuXG4gIGNoYW5nZVZpZXcobmV4dCkge1xuICAgIG5leHQgJiYgdGhpcy5zZXRTdGF0ZSh7dmlldzogbmV4dH0pXG4gIH0sXG5cbiAgLy8gSG93IHRvIGNvZGUgdGhpczogYWZ0ZXIgc2VlaW5nIGFsbCB0aGUgcmVzdWx0cyAob24gYSBwYWdlPylcbiAgLy8gc3VtbWFyaXplIHRoZW0gYW5kIGdpdmUgdGhlIGNoYW5jZSB0byBkbyBzb21ldGhpbmcuIFN1Y2ggYXM6XG4gIC8vICogbG9hZCBtb3JlXG4gIC8vICogZGlkIHlvdSBmaW5kIHdoYXQgeW91IHdlcmUgbG9va2luZyBmb3I/IChzb2xpY2l0IGZlZWRiYWNrKVxuICAvLyAqIHJlbGF0ZWQgc2VhcmNoZXM/XG4gIC8vXG4gIC8vIEFsc28gZnVkZ2UgdGhlIGhlaWdodCBvZiB0aGlzIHNvIHRoZSByaWdodCBjb2x1bW4gc2Nyb2xsIGRvZXNuJ3QgZ2V0IGN1dCBvZmYuXG4gIHBvc3RTZWFyY2goe2hpdHMsIHNlYXJjaCwgc2hvd01vcmVMaW5rfSwgcG9zdFNlYXJjaE9mZnNldCkge1xuICAgIHZhciBzaG93aW5nQWxsID0gaGl0cy5sZW5ndGggPT0gc2VhcmNoLmhpdHMudG90YWwgfHwgaGl0cy5sZW5ndGggPj0gdGhpcy5tYXhSZXN1bHRzXG5cbiAgICB2YXIgc3R5bGUgPSB7XG4gICAgICBtYXJnaW5Ub3A6ICcxZW0nLFxuICAgICAgcGFkZGluZzogJzFlbScsXG4gICAgICBib3JkZXJUb3A6ICcxZW0gc29saWQgIzIzMjMyMycsXG4gICAgICBtaW5IZWlnaHQ6IE1hdGgubWF4KDUwLCB0aGlzLnN0YXRlLm1pbkhlaWdodCAtIHBvc3RTZWFyY2hPZmZzZXQpXG4gICAgfVxuXG4gICAgcmV0dXJuIDxkaXYgcmVmPVwicG9zdFNlYXJjaFwiIHN0eWxlPXtzdHlsZX0+XG4gICAgICBzaG93aW5nIHtoaXRzLmxlbmd0aH0geycgJ31cbiAgICAgIHtzaG93aW5nQWxsIHx8IDxzcGFuPm9mIHtzZWFyY2guaGl0cy50b3RhbH0geycgJ308L3NwYW4+fVxuICAgICAgcmVzdWx0cyBtYXRjaGluZyA8Y29kZT57c2VhcmNoLnF1ZXJ5fTwvY29kZT5cbiAgICAgIHtzZWFyY2guZmlsdGVycyAmJiA8c3Bhbj4gYW5kIDxjb2RlPntzZWFyY2guZmlsdGVyc308L2NvZGU+PC9zcGFuPn1cbiAgICAgIHtzaG93aW5nQWxsIHx8IHNob3dNb3JlTGlua31cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICB2YXIgZG9tTm9kZSA9IHRoaXMucmVmcy5wb3N0U2VhcmNoICYmIFJlYWN0LmZpbmRET01Ob2RlKHRoaXMucmVmcy5wb3N0U2VhcmNoKVxuICAgIHZhciBvZmZzZXQgPSBkb21Ob2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcFxuICAgIGlmKGRvbU5vZGUgJiYgb2Zmc2V0ICE9IHByZXZTdGF0ZS5wb3N0U2VhcmNoT2Zmc2V0KSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtwb3N0U2VhcmNoT2Zmc2V0OiBvZmZzZXQgfHwgMH0pXG4gICAgfVxuXG4gICAgaWYodGhpcy5wcm9wcy5xdWVyeS5zaXplID09IHRoaXMuc3RhdGUubG9hZGluZ01vcmUpIHRoaXMuc2V0U3RhdGUoe2xvYWRpbmdNb3JlOiBmYWxzZX0pXG4gIH0sXG5cbiAgb25IZWlnaHRDaGFuZ2UobmV3SGVpZ2h0KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7bWluSGVpZ2h0OiBuZXdIZWlnaHR9KVxuICB9LFxuXG4gIGdldENoaWxkQ29udGV4dCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb25IZWlnaHRDaGFuZ2U6IHRoaXMub25IZWlnaHRDaGFuZ2UsXG4gICAgfVxuICB9LFxufSlcblNlYXJjaFJlc3VsdHMuY2hpbGRDb250ZXh0VHlwZXMgPSB7b25IZWlnaHRDaGFuZ2U6IFJlYWN0LlByb3BUeXBlcy5mdW5jfVxuU2VhcmNoUmVzdWx0cy5jb250ZXh0VHlwZXMgPSB7XG4gIHJvdXRlcjogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIHVuaXZlcnNhbDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG59XG5cbm1vZHVsZS5leHBvcnRzID0gU2VhcmNoUmVzdWx0c1xuXG52YXIgU2VhcmNoUmVzdWx0Vmlld1RvZ2dsZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7dmlld3MsIGNsaWNrLCBhY3RpdmVWaWV3fSA9IHRoaXMucHJvcHNcblxuICAgIHZhciB0b2dnbGVzID0gdmlld3MubWFwKChyKSA9PiB7XG4gICAgICB2YXIgbmFtZSA9IHIuZGlzcGxheU5hbWUucmVwbGFjZSgnU2VhcmNoUmVzdWx0cycsICcnKVxuICAgICAgdmFyIGFjdGl2ZVN0eWxlID0gYWN0aXZlVmlldyA9PT0gciAmJiB7XG4gICAgICAgIGNvbG9yOiAnIzIyMicsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiA1LFxuICAgICAgICBtYXJnaW46ICcwIDVweCcsXG4gICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgfSB8fCB7fVxuICAgICAgcmV0dXJuIDxzcGFuIGtleT17bmFtZX0gb25DbGljaz17dGhpcy50b2dnbGVWaWV3LmJpbmQodGhpcywgcil9IHN0eWxlPXthY3RpdmVTdHlsZX0+PGkgY2xhc3NOYW1lPXtuYW1lfT48L2k+PC9zcGFuPlxuICAgIH0pXG5cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJtZGwtY2VsbCBtZGwtY2VsbC0tMi1jb2wgdmlld3NcIj57dG9nZ2xlc308L2Rpdj5cbiAgfSxcblxuICB0b2dnbGVWaWV3KHZpZXcpIHtcbiAgICB0aGlzLnByb3BzLmNsaWNrKHZpZXcpXG4gIH0sXG59KVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/search-results.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/search-results.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = require('react-router')\nvar rest = require('rest')\n\nvar SEARCH = require('./endpoints').search\nvar SearchSummary = require('./search-summary')\nvar ResultsList = require('./search-results/list')\nvar ResultsGrid = require('./search-results/grid')\n\nvar SearchResults = React.createClass({\n  mixins: [Router.State, Router.Navigation],\n\n  statics: {\n    fetchData: {\n      searchResults: (params, query) => {\n        var size = query && query.size || 100\n        var sort = query && query.sort\n        const filters = params.splat\n        const properlyCodedFilters = encodeURIComponent(decodeURIComponent(filters)) // yuck\n        let searchUrl = `${SEARCH}/${params.terms}?size=${size}`\n        if(sort) searchUrl += `&sort=${sort}`\n        if(filters) searchUrl += `&filters=${properlyCodedFilters}`\n        return rest(searchUrl).then((r) => JSON.parse(r.entity))\n      }\n    }\n  },\n\n  getInitialState() {\n    var focus = window.clickedArtwork || this.props.hits[0]\n    setTimeout(() => window.clickedArtwork = null)\n    var smallViewport = window && window.innerWidth <= 500\n\n    var {view, preview: showPreview} = this.props.query\n    var initialView = view && view == 'list' ? ResultsList : ResultsGrid\n    var defaultView = (smallViewport || this.context.universal) ? ResultsList : ResultsGrid\n    var showPreview = showPreview == \"false\" ? false : true\n\n    return {\n      focusedResult: showPreview && focus && focus,\n      view: initialView || defaultView,\n      smallViewport,\n    }\n  },\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return this.props.data.searchResults != nextProps.data.searchResults ||\n      this.props.hits != nextProps.hits ||\n      this.props.completions !== nextProps.completions ||\n      this.props.query.sort !== nextProps.query.sort ||\n      this.state !== nextState\n  },\n\n  componentWillReceiveProps(nextProps) {\n    var focused = window.clickedArtwork || this.state && this.state.focusedResult || nextProps.hits[0]\n    this.focusResult(focused)\n    if(window.clickedArtwork) window.clickedArtwork = null\n  },\n\n  maxResults: 5000,\n\n  triggerLoad(nextPage) {\n    this.setState({loadingMore: nextPage})\n  },\n\n  render() {\n    var search = this.props.data.searchResults\n    var {focusedResult} = this.state\n    var leftColumnWidth = '35%'\n    var unloadedResults = search.hits.total - this.props.hits.length\n    var loadThisManyMore = Math.min(200, unloadedResults)\n    var nextPage = Math.min(this.maxResults, this.props.hits.length+loadThisManyMore)\n    var showMoreLink = search &&\n      <span>.&nbsp;(<Link to={search.filters ? 'filteredSearchResults' : 'searchResults'}\n             params={{terms: search.query, splat: search.filters}}\n             query={{size: nextPage, ...this.props.query}}\n             onClick={this.triggerLoad.bind(this, nextPage)}\n            >load {loadThisManyMore} more</Link>)\n      </span>\n\n    if(this.state.loadingMore) showMoreLink = ' (…loading)'\n\n    var summaryProps = {\n      search: this.props.data.searchResults,\n      hits: this.props.hits,\n      params: this.props.params,\n      showAggs: this.props.showAggs,\n      toggleAggs: this.props.toggleAggs,\n      showMoreLink,\n      maxResults: this.maxResults,\n      query: this.props.query,\n      ...this.props.summaryProps\n    }\n\n    var {terms, splat} = this.props.params\n    var showFocusRelatedContent = [terms, splat].join(' ').match(/related/)\n\n    return <div>\n      <SearchSummary {...summaryProps}>\n        <SearchResultViewToggle\n          click={this.changeView}\n          activeView={this.state.view}\n          views={[ResultsList, ResultsGrid]}\n        />\n      </SearchSummary>\n      {this.props.suggestions}\n      <this.state.view\n        leftColumnWidth={leftColumnWidth}\n        focusedResult={focusedResult}\n        focusHandler={this.focusResult}\n        search={search}\n        hits={this.props.hits}\n        postSearch={this.postSearch(summaryProps, this.state.postSearchOffset)}\n        smallViewport={this.state.smallViewport}\n        showRelated={showFocusRelatedContent}\n        />\n    </div>\n  },\n\n  focusResult(hit, nextView = false) {\n    var {smallViewport} = this.state\n\n    if(smallViewport && nextView) {\n      this.transitionTo('artwork', {id: hit._id})\n    } else {\n      !smallViewport && nextView && this.changeView(nextView)\n      this.setState({focusedResult: hit ? hit : null})\n    }\n  },\n\n  changeView(next) {\n    next && this.setState({view: next})\n  },\n\n  // How to code this: after seeing all the results (on a page?)\n  // summarize them and give the chance to do something. Such as:\n  // * load more\n  // * did you find what you were looking for? (solicit feedback)\n  // * related searches?\n  //\n  // Also fudge the height of this so the right column scroll doesn't get cut off.\n  postSearch({hits, search, showMoreLink}, postSearchOffset) {\n    var showingAll = hits.length == search.hits.total || hits.length >= this.maxResults\n\n    var style = {\n      marginTop: '1em',\n      padding: '1em',\n      borderTop: '1em solid #232323',\n      minHeight: Math.max(50, this.state.minHeight - postSearchOffset)\n    }\n\n    return <div ref=\"postSearch\" style={style}>\n      showing {hits.length} {' '}\n      {showingAll || <span>of {search.hits.total} {' '}</span>}\n      results matching <code>{search.query}</code>\n      {search.filters && <span> and <code>{search.filters}</code></span>}\n      {showingAll || showMoreLink}\n    </div>\n  },\n\n  componentDidUpdate(prevProps, prevState) {\n    var domNode = this.refs.postSearch && React.findDOMNode(this.refs.postSearch)\n    var offset = domNode.getBoundingClientRect().top\n    if(domNode && offset != prevState.postSearchOffset) {\n      this.setState({postSearchOffset: offset || 0})\n    }\n\n    if(this.props.query.size == this.state.loadingMore) this.setState({loadingMore: false})\n  },\n\n  onHeightChange(newHeight) {\n    this.setState({minHeight: newHeight})\n  },\n\n  getChildContext() {\n    return {\n      onHeightChange: this.onHeightChange,\n    }\n  },\n})\nSearchResults.childContextTypes = {onHeightChange: React.PropTypes.func}\nSearchResults.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nmodule.exports = SearchResults\n\nvar SearchResultViewToggle = React.createClass({\n  render() {\n    var {views, click, activeView} = this.props\n\n    var toggles = views.map((r) => {\n      var name = r.displayName.replace('SearchResults', '')\n      var activeStyle = activeView === r && {\n        color: '#222',\n        backgroundColor: 'white',\n        borderRadius: 5,\n        margin: '0 5px',\n        display: 'inline-block',\n      } || {}\n      return <span key={name} onClick={this.toggleView.bind(this, r)} style={activeStyle}><i className={name}></i></span>\n    })\n\n    return <div className=\"mdl-cell mdl-cell--2-col views\">{toggles}</div>\n  },\n\n  toggleView(view) {\n    this.props.click(view)\n  },\n})\n"
      ]
    },
    "mtime": 1485807805250
  },
  "{\"filename\":\"/var/www/art/src/search-summary.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Helmet = require('react-helmet');\n\nvar Decorate = require('./decorate');\nvar Aggregations = require('./aggregations');\nvar searchLanguageMap = require('./search-language');\n\nvar SearchSummary = React.createClass({\n  displayName: 'SearchSummary',\n\n  render: function render() {\n    var search = this.props.search;\n    if (!search || !search.hits) return React.createElement('div', null);\n    var hits = this.props.hits;\n    var results = this.props.results;\n    var showAggs = this.props.showAggs;\n\n    // only allow opening the filters box when\n    // 1. there's more than 1 result\n    // 2. there are filters applied that could be reducing the results to 0\n    var toggleAggs = (hits.length > 1 || search.filters && search.filters.length > 0) && React.createElement(\n      'span',\n      { className: 'filter-button' },\n      React.createElement(\n        'a',\n        { onClick: this.toggleAggs, style: { cursor: 'pointer' } },\n        showAggs ? 'hide filters' : 'filter search'\n      )\n    );\n\n    var showingAll = hits.length == search.hits.total || hits.length >= this.props.maxResults;\n\n    var smallViewport = window && window.innerWidth <= 500;\n    var toolbarClasses = \"summaryText mdl-cell \" + (smallViewport ? \"mdl-cell--4-col\" : \"mdl-cell--8-col mdl-cell--4-col-tablet\");\n\n    var pretty = {\n      query: searchLanguageMap(search.query),\n      filters: searchLanguageMap(search.filters)\n    };\n    pretty['searchString'] = [pretty.query, pretty.filters].filter(function (string) {\n      return !!string && string !== '*' && string !== 'undefined';\n    }).join(', ');\n\n    var sort = this.props.query.sort;\n\n    var humanizeSnakeCase = function humanizeSnakeCase(s) {\n      return ('_' + s).replace(/_(.?)/g, function (_, x) {\n        return ' ' + x.toUpperCase();\n      }).trim();\n    };\n\n    return React.createElement(\n      'div',\n      { className: 'agg-wrap' },\n      React.createElement(\n        'div',\n        { className: 'toolbar mdl-grid' },\n        this.props.children,\n        React.createElement(\n          'div',\n          { className: toolbarClasses },\n          React.createElement(\n            'h2',\n            { onClick: this.toggleContent },\n            'showing ',\n            hits.length,\n            ' ',\n            ' ',\n            showingAll || React.createElement(\n              'span',\n              null,\n              'of ',\n              search.hits.total,\n              ' ',\n              ' '\n            ),\n            'results matching ',\n            React.createElement(\n              'code',\n              null,\n              pretty.query\n            ),\n            search.filters && React.createElement(\n              'span',\n              null,\n              ' and ',\n              React.createElement(\n                'code',\n                null,\n                decodeURIComponent(pretty.filters)\n              )\n            ),\n            sort && React.createElement(\n              'span',\n              null,\n              ' sorted by ',\n              humanizeSnakeCase(sort.replace(/(-|\\.).*/, ''))\n            ),\n            showingAll || this.props.showMoreLink\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'mdl-cell mdl-cell--2-col' },\n          toggleAggs\n        )\n      ),\n      showAggs && React.createElement(Aggregations, _extends({ search: search }, this.props)),\n      React.createElement(Decorate, _extends({ search: search, params: this.props.params }, this.props)),\n      React.createElement(Helmet, {\n        title: '🔎 ' + pretty.searchString,\n        meta: [{ property: \"robots\", content: \"noindex\" }, { property: \"og:title\", content: pretty.searchString + ' | Minneapolis Institute of Art' }]\n      })\n    );\n  },\n\n  toggleAggs: function toggleAggs() {\n    this.props.toggleAggs();\n  }\n});\n\nmodule.exports = SearchSummary;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvc2VhcmNoLXN1bW1hcnkuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUM1QixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7O0FBRXBDLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTtBQUNwQyxJQUFJLFlBQVksR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQTtBQUM1QyxJQUFJLGlCQUFpQixHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFBOztBQUVwRCxJQUFNLGFBQWEsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDdEMsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsUUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUE7QUFDaEMsUUFBRyxDQUFDLE1BQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsT0FBTyxnQ0FBTyxDQUFBO0FBQzFDLFFBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFBO0FBQzVCLFFBQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFBO1FBQzNCLFFBQVEsR0FBSSxJQUFJLENBQUMsS0FBSyxDQUF0QixRQUFROzs7OztBQUtmLFFBQU0sVUFBVSxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksTUFBTSxDQUFDLE9BQU8sSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUEsSUFBSzs7UUFBTSxTQUFTLEVBQUMsZUFBZTtNQUNwSDs7VUFBRyxPQUFPLEVBQUUsSUFBSSxDQUFDLFVBQVUsQUFBQyxFQUFDLEtBQUssRUFBRSxFQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUMsQUFBQztRQUFFLFFBQVEsR0FBRyxj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QTtLQUNBLENBQ1A7R0FDRjs7QUFFRCxZQUFVLEVBQUEsc0JBQUc7QUFDWCxRQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRSxDQUFBO0dBQ3hCO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsYUFBYSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvc2VhcmNoLXN1bW1hcnkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgSGVsbWV0ID0gcmVxdWlyZSgncmVhY3QtaGVsbWV0JylcblxudmFyIERlY29yYXRlID0gcmVxdWlyZSgnLi9kZWNvcmF0ZScpXG52YXIgQWdncmVnYXRpb25zID0gcmVxdWlyZSgnLi9hZ2dyZWdhdGlvbnMnKVxudmFyIHNlYXJjaExhbmd1YWdlTWFwID0gcmVxdWlyZSgnLi9zZWFyY2gtbGFuZ3VhZ2UnKVxuXG5jb25zdCBTZWFyY2hTdW1tYXJ5ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgY29uc3Qgc2VhcmNoID0gdGhpcy5wcm9wcy5zZWFyY2hcbiAgICBpZighc2VhcmNoIHx8ICFzZWFyY2guaGl0cykgcmV0dXJuIDxkaXYgLz5cbiAgICBjb25zdCBoaXRzID0gdGhpcy5wcm9wcy5oaXRzXG4gICAgY29uc3QgcmVzdWx0cyA9IHRoaXMucHJvcHMucmVzdWx0c1xuICAgIGNvbnN0IHtzaG93QWdnc30gPSB0aGlzLnByb3BzXG5cbiAgICAvLyBvbmx5IGFsbG93IG9wZW5pbmcgdGhlIGZpbHRlcnMgYm94IHdoZW5cbiAgICAvLyAxLiB0aGVyZSdzIG1vcmUgdGhhbiAxIHJlc3VsdFxuICAgIC8vIDIuIHRoZXJlIGFyZSBmaWx0ZXJzIGFwcGxpZWQgdGhhdCBjb3VsZCBiZSByZWR1Y2luZyB0aGUgcmVzdWx0cyB0byAwXG4gICAgY29uc3QgdG9nZ2xlQWdncyA9IChoaXRzLmxlbmd0aCA+IDEgfHwgc2VhcmNoLmZpbHRlcnMgJiYgc2VhcmNoLmZpbHRlcnMubGVuZ3RoID4gMCkgJiYgPHNwYW4gY2xhc3NOYW1lPVwiZmlsdGVyLWJ1dHRvblwiPlxuICAgICAgPGEgb25DbGljaz17dGhpcy50b2dnbGVBZ2dzfSBzdHlsZT17e2N1cnNvcjogJ3BvaW50ZXInfX0+e3Nob3dBZ2dzID8gJ2hpZGUgZmlsdGVycycgOiAnZmlsdGVyIHNlYXJjaCd9PC9hPlxuICAgIDwvc3Bhbj5cblxuICAgIGNvbnN0IHNob3dpbmdBbGwgPSBoaXRzLmxlbmd0aCA9PSBzZWFyY2guaGl0cy50b3RhbCB8fCBoaXRzLmxlbmd0aCA+PSB0aGlzLnByb3BzLm1heFJlc3VsdHNcblxuICAgIHZhciBzbWFsbFZpZXdwb3J0ID0gd2luZG93ICYmIHdpbmRvdy5pbm5lcldpZHRoIDw9IDUwMFxuICAgIHZhciB0b29sYmFyQ2xhc3NlcyA9IFwic3VtbWFyeVRleHQgbWRsLWNlbGwgXCIgKyAoc21hbGxWaWV3cG9ydCA/XG4gICAgICBcIm1kbC1jZWxsLS00LWNvbFwiIDpcbiAgICAgIFwibWRsLWNlbGwtLTgtY29sIG1kbC1jZWxsLS00LWNvbC10YWJsZXRcIilcblxuICAgIHZhciBwcmV0dHkgPSB7XG4gICAgICBxdWVyeTogc2VhcmNoTGFuZ3VhZ2VNYXAoc2VhcmNoLnF1ZXJ5KSxcbiAgICAgIGZpbHRlcnM6IHNlYXJjaExhbmd1YWdlTWFwKHNlYXJjaC5maWx0ZXJzKSxcbiAgICB9XG4gICAgcHJldHR5WydzZWFyY2hTdHJpbmcnXSA9IFtwcmV0dHkucXVlcnksIHByZXR0eS5maWx0ZXJzXVxuICAgICAgLmZpbHRlcihzdHJpbmcgPT4gISFzdHJpbmcgJiYgc3RyaW5nICE9PSAnKicgJiYgc3RyaW5nICE9PSAndW5kZWZpbmVkJylcbiAgICAgIC5qb2luKCcsICcpXG5cbiAgICB2YXIge3NvcnR9ID0gdGhpcy5wcm9wcy5xdWVyeVxuICAgIHZhciBodW1hbml6ZVNuYWtlQ2FzZSA9IChzKSA9PiBgXyR7c31gXG4gICAgICAucmVwbGFjZSgvXyguPykvZywgKF8sIHgpID0+IGAgJHt4LnRvVXBwZXJDYXNlKCl9YCkudHJpbSgpXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J2FnZy13cmFwJz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b29sYmFyIG1kbC1ncmlkXCI+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17dG9vbGJhckNsYXNzZXN9PjxoMiBvbkNsaWNrPXt0aGlzLnRvZ2dsZUNvbnRlbnR9PlxuICAgICAgICAgIHNob3dpbmcge2hpdHMubGVuZ3RofSB7JyAnfVxuICAgICAgICAgIHtzaG93aW5nQWxsIHx8IDxzcGFuPm9mIHtzZWFyY2guaGl0cy50b3RhbH0geycgJ308L3NwYW4+fVxuICAgICAgICAgIHJlc3VsdHMgbWF0Y2hpbmcgPGNvZGU+e3ByZXR0eS5xdWVyeX08L2NvZGU+XG4gICAgICAgICAge3NlYXJjaC5maWx0ZXJzICYmIDxzcGFuPiBhbmQgPGNvZGU+e2RlY29kZVVSSUNvbXBvbmVudChwcmV0dHkuZmlsdGVycyl9PC9jb2RlPjwvc3Bhbj59XG4gICAgICAgICAge3NvcnQgJiYgPHNwYW4+IHNvcnRlZCBieSB7aHVtYW5pemVTbmFrZUNhc2Uoc29ydC5yZXBsYWNlKC8oLXxcXC4pLiovLCAnJykpfTwvc3Bhbj59XG4gICAgICAgICAge3Nob3dpbmdBbGwgfHwgdGhpcy5wcm9wcy5zaG93TW9yZUxpbmt9XG4gICAgICAgIDwvaDI+PC9kaXY+PGRpdiBjbGFzc05hbWU9XCJtZGwtY2VsbCBtZGwtY2VsbC0tMi1jb2xcIj57dG9nZ2xlQWdnc308L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAge3Nob3dBZ2dzICYmIDxBZ2dyZWdhdGlvbnMgc2VhcmNoPXtzZWFyY2h9IHsuLi50aGlzLnByb3BzfSAvPn1cbiAgICAgICAgPERlY29yYXRlIHNlYXJjaD17c2VhcmNofSBwYXJhbXM9e3RoaXMucHJvcHMucGFyYW1zfSB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgPEhlbG1ldFxuICAgICAgICAgIHRpdGxlPXtg8J+UjiAke3ByZXR0eS5zZWFyY2hTdHJpbmd9YH1cbiAgICAgICAgICBtZXRhPXtbXG4gICAgICAgICAgICB7cHJvcGVydHk6IFwicm9ib3RzXCIsIGNvbnRlbnQ6IFwibm9pbmRleFwifSxcbiAgICAgICAgICAgIHtwcm9wZXJ0eTogXCJvZzp0aXRsZVwiLCBjb250ZW50OiBgJHtwcmV0dHkuc2VhcmNoU3RyaW5nfSB8IE1pbm5lYXBvbGlzIEluc3RpdHV0ZSBvZiBBcnRgfSxcbiAgICAgICAgICBdfVxuICAgICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH0sXG5cbiAgdG9nZ2xlQWdncygpIHtcbiAgICB0aGlzLnByb3BzLnRvZ2dsZUFnZ3MoKVxuICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBTZWFyY2hTdW1tYXJ5XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/search-summary.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/search-summary.js",
      "sourcesContent": [
        "var React = require('react')\nvar Helmet = require('react-helmet')\n\nvar Decorate = require('./decorate')\nvar Aggregations = require('./aggregations')\nvar searchLanguageMap = require('./search-language')\n\nconst SearchSummary = React.createClass({\n  render() {\n    const search = this.props.search\n    if(!search || !search.hits) return <div />\n    const hits = this.props.hits\n    const results = this.props.results\n    const {showAggs} = this.props\n\n    // only allow opening the filters box when\n    // 1. there's more than 1 result\n    // 2. there are filters applied that could be reducing the results to 0\n    const toggleAggs = (hits.length > 1 || search.filters && search.filters.length > 0) && <span className=\"filter-button\">\n      <a onClick={this.toggleAggs} style={{cursor: 'pointer'}}>{showAggs ? 'hide filters' : 'filter search'}</a>\n    </span>\n\n    const showingAll = hits.length == search.hits.total || hits.length >= this.props.maxResults\n\n    var smallViewport = window && window.innerWidth <= 500\n    var toolbarClasses = \"summaryText mdl-cell \" + (smallViewport ?\n      \"mdl-cell--4-col\" :\n      \"mdl-cell--8-col mdl-cell--4-col-tablet\")\n\n    var pretty = {\n      query: searchLanguageMap(search.query),\n      filters: searchLanguageMap(search.filters),\n    }\n    pretty['searchString'] = [pretty.query, pretty.filters]\n      .filter(string => !!string && string !== '*' && string !== 'undefined')\n      .join(', ')\n\n    var {sort} = this.props.query\n    var humanizeSnakeCase = (s) => `_${s}`\n      .replace(/_(.?)/g, (_, x) => ` ${x.toUpperCase()}`).trim()\n\n    return (\n      <div className='agg-wrap'>\n        <div className=\"toolbar mdl-grid\">\n        {this.props.children}\n        <div className={toolbarClasses}><h2 onClick={this.toggleContent}>\n          showing {hits.length} {' '}\n          {showingAll || <span>of {search.hits.total} {' '}</span>}\n          results matching <code>{pretty.query}</code>\n          {search.filters && <span> and <code>{decodeURIComponent(pretty.filters)}</code></span>}\n          {sort && <span> sorted by {humanizeSnakeCase(sort.replace(/(-|\\.).*/, ''))}</span>}\n          {showingAll || this.props.showMoreLink}\n        </h2></div><div className=\"mdl-cell mdl-cell--2-col\">{toggleAggs}</div>\n        </div>\n\n        {showAggs && <Aggregations search={search} {...this.props} />}\n        <Decorate search={search} params={this.props.params} {...this.props} />\n        <Helmet\n          title={`🔎 ${pretty.searchString}`}\n          meta={[\n            {property: \"robots\", content: \"noindex\"},\n            {property: \"og:title\", content: `${pretty.searchString} | Minneapolis Institute of Art`},\n          ]}\n          />\n      </div>\n    )\n  },\n\n  toggleAggs() {\n    this.props.toggleAggs()\n  },\n})\n\nmodule.exports = SearchSummary\n"
      ]
    },
    "mtime": 1485807805250
  },
  "{\"filename\":\"/var/www/art/src/decorate.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar cx = require('classnames');\n\nvar Markdown = require('./markdown');\n\nvar DepartmentDecorator = require('./decorate/department');\nvar GalleryDecorator = require('./decorate/gallery');\nvar HighlightsDecorator = require('./decorate/highlights');\nvar RecentDecorator = require('./decorate/recent');\nvar RightsDecorator = require('./decorate/rights');\n\nvar Decorate = React.createClass({\n  displayName: 'Decorate',\n\n  render: function render() {\n    var _props$search = this.props.search;\n    var query = _props$search.query;\n    var filters = _props$search.filters;\n\n    if (!query && !filters) return React.createElement('span', null);\n    var decorations = DecorationFinder(query, filters, this.props);\n    var showDecorators = this.state.showDecorators;\n\n    return decorations.length > 0 && React.createElement(\n      'div',\n      {\n        className: cx('decorator-wrap', { closed: !showDecorators }),\n        onClick: !showDecorators && this.toggleDecoration\n      },\n      showDecorators && decorations,\n      React.createElement(\n        'i',\n        { className: 'control material-icons', onClick: this.toggleDecoration },\n        false && 'expand_' + (showDecorators ? 'less' : 'more'),\n        showDecorators ? 'close' : 'info'\n      )\n    );\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      showDecorators: true\n    };\n  },\n\n  toggleDecoration: function toggleDecoration() {\n    this.setState({ showDecorators: !this.state.showDecorators });\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    // unhide decorators when query changes\n    var _props$search2 = this.props.search;\n    var query = _props$search2.query;\n    var filters = _props$search2.filters;\n\n    var nextQuery = nextProps.search.query;\n    var nextFilters = nextProps.search.filters;\n\n    if (query !== nextQuery || filters !== nextFilters) this.setState({ showDecorators: true });\n  }\n});\n\nmodule.exports = Decorate;\n\nvar DecorationFinder = function DecorationFinder(search, filters, props) {\n  var params = props.params;\n\n  var terms = search.match(/\\w+.+|\"(?:\\\\\"|[^\"])+\"/g) || search.split(' ');\n  if (filters) terms = terms.concat(filters.split('\" ').map(function (f) {\n    return f.trim();\n  }));\n\n  var Decor = {\n    \"department:\": function department(term) {\n      return React.createElement(DepartmentDecorator, { department: term, params: params, key: term });\n    },\n    \"g[0-9]{3}a?\": function g093A(gallery) {\n      return React.createElement(GalleryDecorator, _extends({ gallery: gallery[0] }, props, { key: gallery }));\n    },\n    \"Not on View\": function NotOnView(gallery) {\n      return React.createElement(GalleryDecorator, { notOnView: true, key: gallery });\n    },\n    \"highlight:\": function highlight() {\n      return React.createElement(HighlightsDecorator, { key: 'highlight' });\n    },\n    \"recent:\": function recent() {\n      return React.createElement(RecentDecorator, { key: 'recent' });\n    },\n    \"rights:\": function rights(term) {\n      return React.createElement(RightsDecorator, { term: term, params: params, key: term });\n    }\n  };\n\n  var m = Object.keys(Decor).reduce(function (matches, d) {\n    var _m = terms.filter(function (term) {\n      return term.match(new RegExp(d, 'i'));\n    });\n    if (_m.length > 0) matches[d] = _m;\n    return matches;\n  }, {});\n\n  return Object.keys(m).map(function (key) {\n    return Decor[key](m[key]);\n  });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZGVjb3JhdGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUM1QixJQUFJLEVBQUUsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7O0FBRTlCLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTs7QUFFcEMsSUFBSSxtQkFBbUIsR0FBRyxPQUFPLENBQUMsdUJBQXVCLENBQUMsQ0FBQTtBQUMxRCxJQUFJLGdCQUFnQixHQUFHLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFBO0FBQ3BELElBQUksbUJBQW1CLEdBQUcsT0FBTyxDQUFDLHVCQUF1QixDQUFDLENBQUE7QUFDMUQsSUFBSSxlQUFlLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7QUFDbEQsSUFBSSxlQUFlLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7O0FBRWxELElBQUksUUFBUSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUMvQixRQUFNLEVBQUEsa0JBQUc7d0JBQ2dCLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTTtRQUFuQyxLQUFLLGlCQUFMLEtBQUs7UUFBRSxPQUFPLGlCQUFQLE9BQU87O0FBQ25CLFFBQUcsQ0FBQyxLQUFLLElBQUksQ0FBQyxPQUFPLEVBQUUsT0FBTyxpQ0FBUSxDQUFBO0FBQ3RDLFFBQUksV0FBVyxHQUFHLGdCQUFnQixDQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFBO1FBQ3pELGNBQWMsR0FBSSxJQUFJLENBQUMsS0FBSyxDQUE1QixjQUFjOztBQUVuQixXQUFPLFdBQVcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxJQUFJOzs7QUFDL0IsaUJBQVMsRUFBRSxFQUFFLENBQUMsZ0JBQWdCLEVBQUUsRUFBQyxNQUFNLEVBQUUsQ0FBQyxjQUFjLEVBQUMs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SSxBQUFDLEdBQUc7S0FBQTtHQUNoRixDQUFBOztBQUVELE1BQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDLFVBQUMsT0FBTyxFQUFFLENBQUMsRUFBSztBQUNoRCxRQUFJLEVBQUUsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLFVBQUEsSUFBSTthQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxNQUFNLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0tBQUEsQ0FBQyxDQUFBO0FBQzdELFFBQUcsRUFBRSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQTtBQUNqQyxXQUFPLE9BQU8sQ0FBQTtHQUNmLEVBQUUsRUFBRSxDQUFDLENBQUE7O0FBRU4sU0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFBLEdBQUcsRUFBSTtBQUMvQixXQUFPLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQTtHQUMxQixDQUFDLENBQUE7Q0FDSCxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvZGVjb3JhdGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgY3ggPSByZXF1aXJlKCdjbGFzc25hbWVzJylcblxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi9tYXJrZG93bicpXG5cbnZhciBEZXBhcnRtZW50RGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9kZXBhcnRtZW50JylcbnZhciBHYWxsZXJ5RGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9nYWxsZXJ5JylcbnZhciBIaWdobGlnaHRzRGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9oaWdobGlnaHRzJylcbnZhciBSZWNlbnREZWNvcmF0b3IgPSByZXF1aXJlKCcuL2RlY29yYXRlL3JlY2VudCcpXG52YXIgUmlnaHRzRGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9yaWdodHMnKVxuXG52YXIgRGVjb3JhdGUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIge3F1ZXJ5LCBmaWx0ZXJzfSA9IHRoaXMucHJvcHMuc2VhcmNoXG4gICAgaWYoIXF1ZXJ5ICYmICFmaWx0ZXJzKSByZXR1cm4gPHNwYW4gLz5cbiAgICB2YXIgZGVjb3JhdGlvbnMgPSBEZWNvcmF0aW9uRmluZGVyKHF1ZXJ5LCBmaWx0ZXJzLCB0aGlzLnByb3BzKVxuICAgIHZhciB7c2hvd0RlY29yYXRvcnN9ID0gdGhpcy5zdGF0ZVxuXG4gICAgcmV0dXJuIGRlY29yYXRpb25zLmxlbmd0aCA+IDAgJiYgPGRpdlxuICAgICAgY2xhc3NOYW1lPXtjeCgnZGVjb3JhdG9yLXdyYXAnLCB7Y2xvc2VkOiAhc2hvd0RlY29yYXRvcnN9KX1cbiAgICAgIG9uQ2xpY2s9eyFzaG93RGVjb3JhdG9ycyAmJiB0aGlzLnRvZ2dsZURlY29yYXRpb259XG4gICAgPlxuICAgICAge3Nob3dEZWNvcmF0b3JzICYmIGRlY29yYXRpb25zfVxuICAgICAgPGkgY2xhc3NOYW1lPVwiY29udHJvbCBtYXRlcmlhbC1pY29uc1wiIG9uQ2xpY2s9e3RoaXMudG9nZ2xlRGVjb3JhdGlvbn0+XG4gICAgICAgIHtmYWxzZSAmJiAnZXhwYW5kXycrKHNob3dEZWNvcmF0b3JzID8gJ2xlc3MnIDogJ21vcmUnKX1cbiAgICAgICAge3Nob3dEZWNvcmF0b3JzID8gJ2Nsb3NlJyA6ICdpbmZvJ31cbiAgICAgIDwvaT5cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNob3dEZWNvcmF0b3JzOiB0cnVlLFxuICAgIH1cbiAgfSxcblxuICB0b2dnbGVEZWNvcmF0aW9uKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe3Nob3dEZWNvcmF0b3JzOiAhdGhpcy5zdGF0ZS5zaG93RGVjb3JhdG9yc30pXG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAvLyB1bmhpZGUgZGVjb3JhdG9ycyB3aGVuIHF1ZXJ5IGNoYW5nZXNcbiAgICB2YXIge3F1ZXJ5LCBmaWx0ZXJzfSA9IHRoaXMucHJvcHMuc2VhcmNoXG4gICAgdmFyIG5leHRRdWVyeSA9IG5leHRQcm9wcy5zZWFyY2gucXVlcnlcbiAgICB2YXIgbmV4dEZpbHRlcnMgPSBuZXh0UHJvcHMuc2VhcmNoLmZpbHRlcnNcblxuICAgIGlmKHF1ZXJ5ICE9PSBuZXh0UXVlcnkgfHwgZmlsdGVycyAhPT0gbmV4dEZpbHRlcnMpIHRoaXMuc2V0U3RhdGUoe3Nob3dEZWNvcmF0b3JzOiB0cnVlfSlcbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gRGVjb3JhdGVcblxudmFyIERlY29yYXRpb25GaW5kZXIgPSAoc2VhcmNoLCBmaWx0ZXJzLCBwcm9wcykgPT4ge1xuICBsZXQge3BhcmFtc30gPSBwcm9wc1xuICBsZXQgdGVybXMgPSBzZWFyY2gubWF0Y2goL1xcdysuK3xcIig/OlxcXFxcInxbXlwiXSkrXCIvZykgfHwgc2VhcmNoLnNwbGl0KCcgJylcbiAgaWYoZmlsdGVycykgdGVybXMgPSB0ZXJtcy5jb25jYXQoZmlsdGVycy5zcGxpdCgnXCIgJykubWFwKGYgPT4gZi50cmltKCkpKVxuXG4gIHZhciBEZWNvciA9IHtcbiAgICBcImRlcGFydG1lbnQ6XCI6ICh0ZXJtKSA9PiA8RGVwYXJ0bWVudERlY29yYXRvciBkZXBhcnRtZW50PXt0ZXJtfSBwYXJhbXM9e3BhcmFtc30ga2V5PXt0ZXJtfSAvPixcbiAgICBcImdbMC05XXszfWE/XCI6IChnYWxsZXJ5KSA9PiA8R2FsbGVyeURlY29yYXRvciBnYWxsZXJ5PXtnYWxsZXJ5WzBdfSB7Li4ucHJvcHN9IGtleT17Z2FsbGVyeX0gLz4sXG4gICAgXCJOb3Qgb24gVmlld1wiOiAoZ2FsbGVyeSkgPT4gPEdhbGxlcnlEZWNvcmF0b3Igbm90T25WaWV3PXt0cnVlfSBrZXk9e2dhbGxlcnl9IC8+LFxuICAgIFwiaGlnaGxpZ2h0OlwiOiAoKSA9PiA8SGlnaGxpZ2h0c0RlY29yYXRvciBrZXk9XCJoaWdobGlnaHRcIiAvPixcbiAgICBcInJlY2VudDpcIjogKCkgPT4gPFJlY2VudERlY29yYXRvciBrZXk9XCJyZWNlbnRcIiAvPixcbiAgICBcInJpZ2h0czpcIjogKHRlcm0pID0+IDxSaWdodHNEZWNvcmF0b3IgdGVybT17dGVybX0gcGFyYW1zPXtwYXJhbXN9IGtleT17dGVybX0gLz4sXG4gIH1cblxuICBsZXQgbSA9IE9iamVjdC5rZXlzKERlY29yKS5yZWR1Y2UoKG1hdGNoZXMsIGQpID0+IHtcbiAgICB2YXIgX20gPSB0ZXJtcy5maWx0ZXIodGVybSA9PiB0ZXJtLm1hdGNoKG5ldyBSZWdFeHAoZCwgJ2knKSkpXG4gICAgaWYoX20ubGVuZ3RoID4gMCkgbWF0Y2hlc1tkXSA9IF9tXG4gICAgcmV0dXJuIG1hdGNoZXNcbiAgfSwge30pXG5cbiAgcmV0dXJuIE9iamVjdC5rZXlzKG0pLm1hcChrZXkgPT4ge1xuICAgIHJldHVybiBEZWNvcltrZXldKG1ba2V5XSlcbiAgfSlcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/decorate.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/decorate.js",
      "sourcesContent": [
        "var React = require('react')\nvar cx = require('classnames')\n\nvar Markdown = require('./markdown')\n\nvar DepartmentDecorator = require('./decorate/department')\nvar GalleryDecorator = require('./decorate/gallery')\nvar HighlightsDecorator = require('./decorate/highlights')\nvar RecentDecorator = require('./decorate/recent')\nvar RightsDecorator = require('./decorate/rights')\n\nvar Decorate = React.createClass({\n  render() {\n    var {query, filters} = this.props.search\n    if(!query && !filters) return <span />\n    var decorations = DecorationFinder(query, filters, this.props)\n    var {showDecorators} = this.state\n\n    return decorations.length > 0 && <div\n      className={cx('decorator-wrap', {closed: !showDecorators})}\n      onClick={!showDecorators && this.toggleDecoration}\n    >\n      {showDecorators && decorations}\n      <i className=\"control material-icons\" onClick={this.toggleDecoration}>\n        {false && 'expand_'+(showDecorators ? 'less' : 'more')}\n        {showDecorators ? 'close' : 'info'}\n      </i>\n    </div>\n  },\n\n  getInitialState() {\n    return {\n      showDecorators: true,\n    }\n  },\n\n  toggleDecoration() {\n    this.setState({showDecorators: !this.state.showDecorators})\n  },\n\n  componentWillReceiveProps(nextProps) {\n    // unhide decorators when query changes\n    var {query, filters} = this.props.search\n    var nextQuery = nextProps.search.query\n    var nextFilters = nextProps.search.filters\n\n    if(query !== nextQuery || filters !== nextFilters) this.setState({showDecorators: true})\n  },\n})\n\nmodule.exports = Decorate\n\nvar DecorationFinder = (search, filters, props) => {\n  let {params} = props\n  let terms = search.match(/\\w+.+|\"(?:\\\\\"|[^\"])+\"/g) || search.split(' ')\n  if(filters) terms = terms.concat(filters.split('\" ').map(f => f.trim()))\n\n  var Decor = {\n    \"department:\": (term) => <DepartmentDecorator department={term} params={params} key={term} />,\n    \"g[0-9]{3}a?\": (gallery) => <GalleryDecorator gallery={gallery[0]} {...props} key={gallery} />,\n    \"Not on View\": (gallery) => <GalleryDecorator notOnView={true} key={gallery} />,\n    \"highlight:\": () => <HighlightsDecorator key=\"highlight\" />,\n    \"recent:\": () => <RecentDecorator key=\"recent\" />,\n    \"rights:\": (term) => <RightsDecorator term={term} params={params} key={term} />,\n  }\n\n  let m = Object.keys(Decor).reduce((matches, d) => {\n    var _m = terms.filter(term => term.match(new RegExp(d, 'i')))\n    if(_m.length > 0) matches[d] = _m\n    return matches\n  }, {})\n\n  return Object.keys(m).map(key => {\n    return Decor[key](m[key])\n  })\n}\n"
      ]
    },
    "mtime": 1461184284483
  },
  "{\"filename\":\"/var/www/art/src/decorate/department.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "sliced-to-array"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar React = require('react');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar Markdown = require('../markdown');\nvar findDepartment = require('../department-slug');\n\nvar DepartmentDecorator = React.createClass({\n  displayName: 'DepartmentDecorator',\n\n  getInitialState: function getInitialState() {\n    var _getNameAndSelector = this.getNameAndSelector(this.props.department);\n\n    var _getNameAndSelector2 = _slicedToArray(_getNameAndSelector, 3);\n\n    var deptName = _getNameAndSelector2[0];\n    var selector = _getNameAndSelector2[1];\n    var slug = _getNameAndSelector2[2];\n    var departmentInfo = this.props.departmentInfo;\n\n    var info = departmentInfo && departmentInfo.departments[selector];\n\n    return {\n      deptName: deptName,\n      selector: selector,\n      slug: slug,\n      info: info,\n      blurb: info && info.content || DepartmentContent[selector] || 'Sorry, there\\'s no \"' + deptName + '\" department.',\n      expanded: this.props.expanded || !!this.props.params.dept || false\n    };\n  },\n\n  render: function render() {\n    var department = this.props.department;\n    var _state = this.state;\n    var deptName = _state.deptName;\n    var selector = _state.selector;\n    var blurb = _state.blurb;\n    var expanded = _state.expanded;\n\n    var _blurb$split = blurb.split('<hr />');\n\n    var _blurb$split2 = _slicedToArray(_blurb$split, 2);\n\n    var blurbA = _blurb$split2[0];\n    var blurbB = _blurb$split2[1];\n\n    var fullInfo = expanded && this.getFullInfo(blurbB);\n\n    return React.createElement(\n      'div',\n      { className: 'departmentBlurb mdl-grid decorator d-department' },\n      React.createElement(\n        'h2',\n        null,\n        React.createElement(\n          Link,\n          { to: 'department', params: { dept: this.state.slug, terms: department } },\n          React.createElement(\n            'span',\n            { className: 'd-visit' },\n            'Visit '\n          ),\n          this.state.deptName\n        )\n      ),\n      React.createElement(\n        'div',\n        { className: 'mdl-cell mdl-cell--6-col departmentContent' },\n        expanded ? React.createElement(\n          Markdown,\n          { alreadyRendered: true },\n          blurbA\n        ) : this.shortBlurb(),\n        expanded && this.affinityBlurb()\n      ),\n      expanded && fullInfo\n    );\n  },\n\n  getNameAndSelector: function getNameAndSelector(term) {\n    var decodedTerm = decodeURIComponent(term);\n    var deptName = findDepartment(decodedTerm) ? decodedTerm : decodedTerm.match(/department:\"?([^\"]*)\"?/)[1];\n    return findDepartment(deptName);\n  },\n\n  shortBlurb: function shortBlurb() {\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        Markdown,\n        null,\n        this.state.blurb.split('\\n')[0]\n      )\n    );\n  },\n\n  getFullInfo: function getFullInfo(info) {\n    var deptName = this.state.deptName;\n\n    return React.createElement(\n      'div',\n      { className: 'departmentResources mdl-cell mdl-cell--6-col' },\n      React.createElement(\n        'div',\n        null,\n        this.getCurators()\n      ),\n      React.createElement(\n        Markdown,\n        { alreadyRendered: true },\n        info\n      )\n    );\n  },\n\n  getCurators: function getCurators() {\n    var _this = this;\n\n    var curators = this.state.info.curators.map(function (name) {\n      return _this.props.departmentInfo.curators[name];\n    }).filter(function (exists) {\n      return !!exists;\n    }).filter(function (_ref) {\n      var emeritus = _ref.emeritus;\n      return !emeritus;\n    });\n\n    return curators.length > 0 && React.createElement(\n      'div',\n      { id: 'curators' },\n      React.createElement(\n        'h3',\n        null,\n        'Curators'\n      ),\n      curators.map(function (curator) {\n        curator.photo = 'https://collections.artsmia.org/_info/curator-portraits/' + curator.slug + '.jpg';\n\n        return React.createElement(\n          'div',\n          { className: 'curatorBio', key: curator.slug },\n          React.createElement(\n            Link,\n            { to: 'curator', params: { slug: curator.slug } },\n            React.createElement(\n              'div',\n              { className: 'curatorPic' },\n              React.createElement('img', { src: curator.photo, alt: 'portrait of ' + curator.name })\n            ),\n            React.createElement(\n              'div',\n              { className: 'curator-intro' },\n              React.createElement(\n                'h4',\n                null,\n                curator.name\n              ),\n              React.createElement(\n                'h5',\n                null,\n                React.createElement(\n                  Markdown,\n                  null,\n                  curator.title\n                )\n              )\n            )\n          )\n        );\n      })\n    );\n  },\n\n  getAffinity: function getAffinity() {\n    var _this2 = this;\n\n    var affinities = this.props.departmentInfo.affinityGroups.filter(function (ag) {\n      return ag.departments && ag.departments.indexOf(findDepartment(_this2.props.department)[1]) > -1;\n    });\n\n    return affinities.map(function (a) {\n      var image = React.createElement('img', { src: a.featuredArt ? 'http://api.artsMia.org/images/' + a.featuredArt + '/400/medium.jpg' : a.image });\n      image = a.featuredArt ? React.createElement(\n        Link,\n        { to: 'artwork', params: { id: a.featuredArt } },\n        image\n      ) : image;\n\n      return React.createElement(\n        'div',\n        { className: 'affinity', key: a.title },\n        React.createElement(\n          'h3',\n          null,\n          a.title\n        ),\n        React.createElement(\n          'div',\n          { className: 'affinityImage' },\n          image\n        ),\n        React.createElement(\n          'div',\n          { className: 'affinity-intro' },\n          React.createElement(\n            Markdown,\n            { alreadyRendered: true },\n            a.content\n          ),\n          React.createElement(\n            'p',\n            null,\n            'Mia’s Affinity Groups are a great way for museum members to connect more closely with special areas of art interest, allowing you to delve deeper into the curatorial area of your choice.'\n          ),\n          React.createElement(\n            'a',\n            { href: 'http://new.artsmia.org/join-and-invest/affinity-groups/', className: 'button' },\n            'Learn More'\n          )\n        )\n      );\n    });\n  },\n\n  affinityBlurb: function affinityBlurb() {\n    return React.createElement(\n      'div',\n      { className: 'affinity' },\n      React.createElement(\n        'p',\n        null,\n        'Mia’s Affinity Groups are a great way for museum members to connect more closely with special areas of art interest, allowing you to delve deeper into the curatorial area of your choice.'\n      ),\n      React.createElement(\n        'a',\n        { href: 'http://new.artsmia.org/join-and-invest/affinity-groups/', className: 'button' },\n        'Learn More'\n      )\n    );\n  }\n});\n\nvar DepartmentContent = {\n  africa: 'The Arts of Africa and the Americas Department is dedicated to the immense creativity of Native peoples across the world, from prehistory to the present. The collection has grown significantly since the department was founded more than thirty years ago, and now numbers more than 3,000 objects, including masterworks of sculpture, ceramics, metalsmithing, painting, basketry, and bead-, shell-, and quillwork, reflecting the diversity of these regions and cultures.\\r\\n\\r\\nHighlights of African art at the museum include a ceramic portrait head from the ancient civilization of Ife, a thousand-year-old wooden horse-and-rider from Djenne, and a cast bronze leopard and a carved ivory tusk, both from the eighteenth-century Kingdom of Benin. Other important pieces are a rare Luba mask, one of only two known in the world, a dramatic dance mask often known as a “firespitter” from Cote d’Ivoire, and a palace door created by the famed Yoruba artist Areogun of Osi.\\r\\n\\r\\nThe Native American galleries are equally rich in examples of the highest quality art, such as our unparalleled three-thousand-year-old Olmec jade mask, an exceptional nineteenth-century Sun Mask from the Northwest Coast, and a monumental pipe in the form of a bound prisoner, made in southeastern United States around 1200. Additional masterworks include the finely worked gold earspools from the ancient Andes, and a beaded man’s shoulder pouch made in Minnesota in the early 1800s.\\r\\n\\r\\nOur Oceanic collection contains world-class pieces, such as the Maori Poutokomanawa (Post Figure) created in the 1840s, the three fabulous Malagan figures, an early Papuan Gope Board, and the Bis Pole, a centerpiece of the gallery.',\n  contemporary: 'In 2008 the Mia launched an initiative to focus on the art of our times. Through its new Department of Contemporary Art, the museum brings a fresh dynamism to its galleries by collecting and exhibiting works by living artists. This initiative emphasizes the relationships among historical art, diverse cultures, and contemporary art-making.\\r\\n\\r\\nContemporary art of the region continues to be represented by the Minnesota Artists Exhibition Program (MAEP) as well as by selected projects with local artists, architects, designers, and other creative thinkers. In collaboration with other Mia curatorial departments, the Department of Contemporary Art engages both local and global artists to create public and site-specific work at the Mia.',\n  dats: 'Originally established to focus on furniture, metalwork, ceramics, and glass, the department today encompasses more than 18,000 works in all mediums from America and Europe, from the Middle Ages to the present.\\r\\n\\r\\nMany collectors and donors have contributed to the porcelain and pottery collection, which includes eighteenth-century French faience from Mrs. John P. Rutherfurd, seventeenth- and eighteenth-century English delft from Mr. and Mrs. George R. Steiner, and Chinese Export porcelain from Leo and Doris Hodroff. Domestic interiors and furnishings spanning four centuries are presented in the Mia’s nine period rooms, with a 1730 grand salon from the Hôtel de la Bouëxière in Paris, which has been restored with funds from the Groves Foundation.\\r\\n\\r\\nThe department’s textile collection has gained an international reputation for its spectacular individual pieces as well as its impressive holdings of European tapestries, early Italian laces, passementerie, Kashmir shawls, and Turkish embroideries. Textiles from the Jack Lenor Larsen company archive and the Norwest Modernism Collection have broadened the scope of the collection’s twentieth-century holdings, complementing its already strong collection of contemporary fiber art.\\r\\n\\r\\nA particular strength of the Mia’s decorative arts collection includes English, American and Continental silver, which is showcased in the Mary Agnes and Al McQuinn Gallery (350). Mia trustee and silver collector James Ford Bell established the foundation of the museum’s collection with numerous gifts, including a monumental eighteenth-century wine cistern by English Huguenot silversmith Paul de Lamerie and the most complete neoclassical tea service known by Paul Revere, Jr. The McQuinn Fund continues to support purchases of great English and Continental objects such as the Richmond racing cup designed by Robert Adam and an elaborate covered cup made in Strasbourg by Johann Friedrich Baer.\\r\\n\\r\\nSculpture from the Middle Ages to 1960 includes important works by Amedeo Modigliani, Sir Jacob Epstein, John Bernard Flannagan, Constantin Brancusi, Henri Matisse, and Henry Moore. Recent acquisitions in this area include Raymond Duchamp-Villon’s <em>Head of Baudelaire</em> (1911), and Alberto Giacometti’s <em>Diego</em> (196).\\r\\n\\r\\nThe Harold and Mickey Smith Gallery (362) features one of the most comprehensive permanent collections of Jewish ritual art found in an American art museum. Rotations include prints, photographs, and textiles. Purchases of modern and contemporary Judaica are made possible by the Eloise and Elliot Kaplan Fund for Judaica.\\r\\n\\r\\nThe department is strong in modernist design, including the Prairie School-style <em>Purcell-Cutts House</em> (1913), designed by William Gray Purcell and George Grant Elmslie for the Purcell family. In addition, the Mia houses one of the best collections of Prairie School material in the country, presented in the Bob Ulrich and Jill Dahlin Architecture and Design Gallery (355). The Norwest Modernism Collection is a major component of the department’s holdings, comprising nearly 500 objects dating from 1880 to 1940. In recent decades, the department has built up a significant collection of contemporary studio ceramics, glass, and wood. A current focus is design of the Scandinavian and Nordic countries. The Mia continues to showcase these collections at the Wells Fargo Center in downtown Minneapolis. On the Web, they are represented by the award-winning sites <a href=\"http://http//www.artsMia.org/unified-vision/\">Unified Vision: The Architecture and Design of the Prairie School</a> and <a href=\"http://www.artsMia.org/modernism/\">Modernism</a>.',\n  paintings: 'The Mia\\'s internationally acclaimed collection of paintings contains nearly 900 European and American works from the fourteenth century to the present. It offers a comprehensive survey of both celebrated schools and individual artists and is notable for its concentration of masterworks.\\r\\n\\r\\nOne of the museum’s earliest acquisitions was Gustave Courbet’s Deer in a Forest, which St. Paul railroad magnate James J. Hill donated in 1914. Hill’s collection of nineteenth-century French Romantic and Realist art was exceptional. Many of his most important pictures, including Eugène Delacroix’s The Fanatics of Tangier, were given or bequeathed to the Mia by his descendants.\\r\\n\\r\\nThe present paintings collection has been expanded in varied and often delightfully unpredictable ways by a succession of astute trustees, donors, directors, and curators. It includes Claude Lorrain’s Pastoral Landscape of 1638, Nicolas Poussin’s Death of Germanicus of 1627, and Rembrandt van Rijn’s Lucretia of 1666. In addition to many wonderful French nineteenth-century pictures, the museum has rich holdings of Italian Baroque, seventeenth-century Dutch, and Fauve, Cubist, and German Expressionist works. The American collection showcases a range of artistic accomplishments from Gilbert Stuart to Larry Rivers and contains exceptional paintings by John Singer Sargent and Georgia O’Keeffe.',\n  photography: 'Begun in 1973, the Mia’s collection of photographs spans the history of photography from the 1860s to the present. Representing more than 800 photographers and 11,500 works of art, the collection has outstanding examples of twentieth-century American photography, with particular depth in the genres of documentary photography, photojournalism, and pictorialism. Since 2008, the museum has focused on expanding its holdings of contemporary photography and new media from all countries. This initiative increases the scope and relevance of the photography collection and enhances its links to the Mia’s diverse, global holdings.\\r\\n\\r\\nThe Department of Photography &amp; New Media continues to thrive thanks to the active, generous support of loyal donors. The earliest acquisitions were funded by Kate Butler and Hall James Peterson. Their initiative inspired others, including Harry Drake, Martin Weinstein, and Fred and Ellen Wells. More recently, the creation of the Alfred and Ingrid Lenz Harrison Fund and the establishment of the Harrison Photography Galleries (364 &amp; 365) have given the department enormous momentum. These superb new galleries are devoted to presenting the permanent collection. In addition, Linda and Lawrence Perlman established the Perlman Gallery (262), which is dedicated to featuring contemporary photography and is located in the Mia’s Target Wing, hosting <a href=\"http://www2.artsMia.org/blogs/new-pictures\">New Pictures</a>, a semi-annual series highlighting emerging photographers from around the world. You, too, can contribute to and enjoy special access to exhibitions and events by joining the <a href=\"http://new.artsMia.org/join-and-invest/affinity-groups/\">Photography &amp; New Media Affinity Group</a>.\\r\\n\\r\\nOver the years, the Department of Photography &amp; New Media has been committed to using its collection for educational purposes, and the Mia now serves as a major resource for the five-state region. Numerous exhibitions drawn from the collection have traveled to other institutions, and students and teachers frequently visit the galleries and <a href=\"http://new.artsMia.org/visit/museum-facilities/study-rooms/\">Photography Study Room</a> to learn from the collection firsthand. Click on the photograph below to browse the collection and prepare for your next visit to the Mia.',\n  prints: 'The Department of Prints &amp; Drawings keeps up an active program of thematic exhibitions, but it is also the Mia’s hidden treasure chest. At any given time, only a fraction of the museum’s collection of nearly 40,000 prints and 3,000 drawings is on view in the galleries. Nearly all, however, are available to the public in the comfort of the <a href=\"http://new.artsMia.org/visit/study-rooms/\">Herschel V. Jones Print Study Room</a>. To prepare for your visit, please make an appointment by phone (612) 870-3105 or by e-mail (<a href=\"mailto:printstudy@artsMia.org\">printstudy@artsMia.org</a>).\\r\\n\\r\\nMany of the greatest European and American artists from the Renaissance to the present are represented, often in considerable depth and quality. Among the highlights are old master prints by Albrecht Dürer and Rembrandt van Rijn; Jacopo de’Barbari’s amazing bird’s-eye view of Venice; a rare presentation copy of Francisco de Goya’s <em>Los Caprichos</em>; a fabulous monotype by William Blake; extensive holdings in nineteenth-century French and British prints and drawings, featuring artists such as James McNeill Whistler, Edgar Degas, and Félix Buhot; and outstanding twentieth-century drawings by Lovis Corinth, Egon Schiele, Ernst Ludwig Kirchner, Erich Heckel, Piet Mondrian, Georges Rouault, Henri Matisse, Jasper Johns, Andy Warhol, Roy Lichtenstein, Jim Dine, Ed Ruscha, Nicola Hicks, and many more. The department is building its collection of twenty-first-century prints and drawings, which is reaching ever further beyond America and Europe to other parts of the world. P&amp;D has secured works by William Kentridge, Julie Mehretu, Mequitta Ahuja, Jaune Quick-to-See Smith, Chuck Close, Luis Jimenez, Cynthia Lin, Carlos Amorales, Diane Victor, and more.\\r\\n\\r\\nThere are also fascinating collections within the collection. The department has a large number of books designed and illustrated by artists, which is especially rich in works from France. Students of modern printmaking will want to explore the Vermillion Editions Limited Archival Collection, which contains examples of all the prints published by that Twin Cities press as well as preparatory drawings, proofs, and maquettes that led to the finished work. Botanical, zoological, fashion, and ornamental illustrations from the fifteenth through the twentieth centuries all figure in the mix, as does a wide array of works by Minnesota and regional artists.\\r\\n\\r\\nThe <a href=\"http://new.artsMia.org/join-and-invest/affinity-groups/\">Prints &amp; Drawings Affinity Group</a> provides a terrific opportunity to learn more about this vital field of art, to meet others with similar interests, and to help the Mia improve its ability to make art available to the public.',\n  cssaa: 'The Department of Chinese and South and Southeast Asian Art has benefited greatly from generous gifts from knowledgeable collectors. Augustus L. Searle, Alfred F. Pillsbury, Richard P. Gale, Louis W. Hill, Jr., and Ruth and Bruce Dayton have donated collections of international reputation. These include ancient Chinese bronzes, ancient and post-Song jade, Chinese monochrome ceramics, and classical Chinese furniture. In addition, curators have built exquisite collections of Qing dynasty silk textiles and Miao textiles.\\r\\n\\r\\nSome of the first works of art to enter the museum’s collection were from South (India, Bangladesh, Sri Lanka, Pakistan, Nepal, Bhutan, and Afghanistan) and Southeast Asia (Cambodia, Laos, Myanmar, Thailand, Malaysia, Vietnam, Singapore, Indonesia, Brunei and the Philippines), beginning in 1914 when Charles Freer donated several Thai Buddhist sculptures.  In 1929 Sarah Bell Pillsbury Gale gave the museum its first major Indian work of art, a 12th century bronze (ca. 1100) Dancing Shiva (Nataraja).  The highlight of the South Asian collection is a monumental stone Yogini sculpture from 10<span style=\"font-size: 11px;\">th </span>century south India. Today the South Asian collection numbers about 150 objects and the Southeast Asian collection numbers around 183.\\r\\n\\r\\nWithin the galleries there are two Chinese period rooms including an original reception hall from the late Ming dynasty and a ca. 1700 Suzchou-area library.',\n  jka: 'The collection of Japanese and Korean art includes over 7,000 works ranging from ancient to contemporary and is amongst the top five collections in the United States. The permanent display space for Japanese art is the largest in the Western world with 15 galleries and over 10,000 square feet (930 sqm). The collection itself includes Buddhist sculpture, woodblock prints, paintings, lacquer, works of bamboo, and ceramics, and it is particularly rich in works from the Edo period (1610–1868).\\r\\n\\r\\nTwo historic rooms, a formal audience hall (<i>shoin</i>) and a teahouse (<i>chashitsu</i>), allow highly visible installations within the permanent galleries and serve to heighten awareness of the relationship between art and architecture.</p><p>The Department of Japanese and Korean art has benefited greatly from generous gifts from knowledgeable collectors. Richard P. Gale, Louis W. Hill, Jr., Ruth and Bruce Dayton, and Ellen and Fred Wells have all donated specialized collections of international reputation. With the addition of over 1,500 works of art from the collections of Elizabeth and Willard “Bill” Clark and the Clark Center for Japanese Art in 2013 and half of the world-renowned Mary Griggs Burke collection, the Japanese and Korean art galleries are no doubt a destination for both art enthusiasts and scholars alike.</p><p>The department is dedicated to providing the public with a broad overview of Japanese and Korean art. By showcasing art both chronologically and by medium, the galleries show the history of not only the objects themselves, but also of a collected process of artistic creation. This can be seen, for example, by the scope of ceramics, ranging from early utilitarian to contemporary sculptures.</p><p>Of notable strength is the collection of <i>ukiyo-e</i> paintings and prints, popularly known as “pictures of the floating world”. The core of the collection was built by Richard P. Gale and Louis W. Hill, Jr., and the Gale bequest included some 57 paintings and 206 prints, many of which are rare and in admirable condition. A strong collection of <i>Ōtsu-e</i>, folk paintings produced in and around the town of Ōtsu during the Edo period, came from collectors Edson and Harriet Spencer who also donated their collection of tiger paintings.'\n};\n\nmodule.exports = DepartmentDecorator;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZGVjb3JhdGUvZGVwYXJ0bWVudC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBOztlQUNmLE9BQU8sQ0FBQyxjQUFjLENBQUM7O0lBQS9CLElBQUksWUFBSixJQUFJOztBQUVULElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQTtBQUNyQyxJQUFJLGNBQWMsR0FBRyxPQUFPLENBQUMsb0JBQW9CLENBQUMsQ0FBQTs7QUFFbEQsSUFBSSxtQkFBbUIsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDMUMsaUJBQWUsRUFBQSwyQkFBRzs4QkFDaUIsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDOzs7O1FBQTFFLFFBQVE7UUFBRSxRQUFRO1FBQUUsSUFBSTtRQUN4QixjQUFjLEdBQUksSUFBSSxDQUFDLEtBQUssQ0FBNUIsY0FBYzs7QUFDbkIsUUFBSSxJQUFJLEdBQUcsY0FBYyxJQUFJLGNBQWMsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUE7O0FBRWpFLFdBQU87QUFDTCxjQUFRLEVBQVIsUUFBUTtBQUNSLGNBQVEsRUFBUixRQUFRO0FBQ1IsVUFBSSxFQUFKLElBQUk7QUFDSixVQUFJLEVBQUUsSUFBSTtBQUNWLFdBQUssRUFBRSxJQUFJLElBQUksSUFBSSxDQUFDLE9BQU8sSUFBSSxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsNkJBQTBCLFFBQVEsa0JBQWU7QUFDM0csY0FBUSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLElBQUksS0FBSztLQUNuRSxDQUFBO0dBQ0Y7O0FBRUQsUUFBTSxFQUFBLGtCQUFHO1FBQ0YsVUFBVSxHQUFJLElBQUksQ0FBQyxLQUFLLENB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QVcsRUFBQyxBQUFDO1FBQUUsS0FBSztPQUFRLEdBQUcsS0FBSyxDQUFBOztBQUU5RixhQUFPOztVQUFLLFNBQVMsRUFBQyxVQUFVLEVBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxLQUFLLEFBQUM7UUFDNUM7OztVQUFLLENBQUMsQ0FBQyxLQUFLO1NBQU07UUFDbEI7O1lBQUssU0FBUyxFQUFDLGVBQWU7VUFBRSxLQUFLO1NBQU87UUFDNUM7O1lBQUssU0FBUyxFQUFDLGdCQUFnQjtVQUMvQjtBQUFDLG9CQUFRO2NBQUMsZUFBZSxFQUFFLElBQUksQUFBQztZQUFFLENBQUMsQ0FBQyxPQUFPO1dBQVk7VUFDckQ7Ozs7V0FBaU07VUFDak07O2NBQUcsSUFBSSxFQUFDLHlEQUF5RCxFQUFDLFNBQVMsRUFBQyxRQUFROztXQUFlO1NBQy9GO09BQ0YsQ0FBQTtLQUNQLENBQUMsQ0FBQTtHQUNIOztBQUVELGVBQWEsRUFBQSx5QkFBRztBQUNkLFdBQU87O1FBQUssU0FBUyxFQUFDLFVBQVU7TUFDOUI7Ozs7T0FBaU07TUFDak07O1VBQUcsSUFBSSxFQUFDLHlEQUF5RCxFQUFDLFNBQVMsRUFBQyxRQUFROztPQUFlO0tBQy9GLENBQUE7R0FDUDtDQUNGLENBQUMsQ0FBQTs7QUFFRixJQUFJLGlCQUFpQixHQUFHO0FBQ3RCLFFBQU0sa3FEQUFrcUQ7QUFDeHFELGNBQVksMHVCQUEwdUI7QUFDdHZCLE1BQUksNG1IQUFnbkg7QUFDcG5ILFdBQVMseTJDQUF3MkM7QUFDajNDLGFBQVcsd3lFQUE4eUU7QUFDenpFLFFBQU0saXNGQUF1c0Y7QUFDN3NGLE9BQUssNDdDQUE4N0M7QUFDbjhDLEtBQUcsbXZFQUFtdkU7Q0FDdnZFLENBQUE7O0FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRyxtQkFBbUIsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2RlY29yYXRlL2RlcGFydG1lbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIge0xpbmt9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcblxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi4vbWFya2Rvd24nKVxudmFyIGZpbmREZXBhcnRtZW50ID0gcmVxdWlyZSgnLi4vZGVwYXJ0bWVudC1zbHVnJylcblxudmFyIERlcGFydG1lbnREZWNvcmF0b3IgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICB2YXIgW2RlcHROYW1lLCBzZWxlY3Rvciwgc2x1Z10gPSB0aGlzLmdldE5hbWVBbmRTZWxlY3Rvcih0aGlzLnByb3BzLmRlcGFydG1lbnQpXG4gICAgdmFyIHtkZXBhcnRtZW50SW5mb30gPSB0aGlzLnByb3BzXG4gICAgdmFyIGluZm8gPSBkZXBhcnRtZW50SW5mbyAmJiBkZXBhcnRtZW50SW5mby5kZXBhcnRtZW50c1tzZWxlY3Rvcl1cblxuICAgIHJldHVybiB7XG4gICAgICBkZXB0TmFtZSxcbiAgICAgIHNlbGVjdG9yLFxuICAgICAgc2x1ZyxcbiAgICAgIGluZm86IGluZm8sXG4gICAgICBibHVyYjogaW5mbyAmJiBpbmZvLmNvbnRlbnQgfHwgRGVwYXJ0bWVudENvbnRlbnRbc2VsZWN0b3JdIHx8IGBTb3JyeSwgdGhlcmUncyBubyBcIiR7ZGVwdE5hbWV9XCIgZGVwYXJ0bWVudC5gLFxuICAgICAgZXhwYW5kZWQ6IHRoaXMucHJvcHMuZXhwYW5kZWQgfHwgISF0aGlzLnByb3BzLnBhcmFtcy5kZXB0IHx8IGZhbHNlLFxuICAgIH1cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHtkZXBhcnRtZW50fSA9IHRoaXMucHJvcHNcbiAgICB2YXIge2RlcHROYW1lLCBzZWxlY3RvciwgYmx1cmIsIGV4cGFuZGVkfSA9IHRoaXMuc3RhdGVcblxuICAgIHZhciBbYmx1cmJBLCBibHVyYkJdID0gYmx1cmIuc3BsaXQoJzxociAvPicpXG5cbiAgICB2YXIgZnVsbEluZm8gPSBleHBhbmRlZCAmJiB0aGlzLmdldEZ1bGxJbmZvKGJsdXJiQilcblxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImRlcGFydG1lbnRCbHVyYiBtZGwtZ3JpZCBkZWNvcmF0b3IgZC1kZXBhcnRtZW50XCI+XG4gICAgICA8aDI+PExpbmsgdG89J2RlcGFydG1lbnQnIHBhcmFtcz17e2RlcHQ6IHRoaXMuc3RhdGUuc2x1ZywgdGVybXM6IGRlcGFydG1lbnR9fT48c3BhbiBjbGFzc05hbWU9XCJkLXZpc2l0XCI+VmlzaXQgPC9zcGFuPnt0aGlzLnN0YXRlLmRlcHROYW1lfTwvTGluaz48L2gyPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZGwtY2VsbCBtZGwtY2VsbC0tNi1jb2wgZGVwYXJ0bWVudENvbnRlbnRcIj5cbiAgICAgICAge2V4cGFuZGVkID8gPE1hcmtkb3duIGFscmVhZHlSZW5kZXJlZD17dHJ1ZX0+e2JsdXJiQX08L01hcmtkb3duPiA6IHRoaXMuc2hvcnRCbHVyYigpfVxuICAgICAgICB7ZXhwYW5kZWQgJiYgdGhpcy5hZmZpbml0eUJsdXJiKCl9XG4gICAgICA8L2Rpdj5cbiAgICAgIHtleHBhbmRlZCAmJiBmdWxsSW5mb31cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBnZXROYW1lQW5kU2VsZWN0b3IodGVybSkge1xuICAgIHZhciBkZWNvZGVkVGVybSA9IGRlY29kZVVSSUNvbXBvbmVudCh0ZXJtKVxuICAgIHZhciBkZXB0TmFtZSA9IGZpbmREZXBhcnRtZW50KGRlY29kZWRUZXJtKSA/IGRlY29kZWRUZXJtIDogZGVjb2RlZFRlcm0ubWF0Y2goL2RlcGFydG1lbnQ6XCI/KFteXCJdKilcIj8vKVsxXVxuICAgIHJldHVybiBmaW5kRGVwYXJ0bWVudChkZXB0TmFtZSlcbiAgfSxcblxuICBzaG9ydEJsdXJiKCkge1xuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPE1hcmtkb3duPnt0aGlzLnN0YXRlLmJsdXJiLnNwbGl0KCdcXG4nKVswXX08L01hcmtkb3duPlxuICAgIDwvZGl2PlxuICB9LFxuXG4gIGdldEZ1bGxJbmZvKGluZm8pIHtcbiAgICB2YXIge2RlcHROYW1lfSA9IHRoaXMuc3RhdGVcblxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImRlcGFydG1lbnRSZXNvdXJjZXMgbWRsLWNlbGwgbWRsLWNlbGwtLTYtY29sXCI+XG4gICAgICA8ZGl2Pnt0aGlzLmdldEN1cmF0b3JzKCl9PC9kaXY+XG4gICAgICA8TWFya2Rvd24gYWxyZWFkeVJlbmRlcmVkPXt0cnVlfT57aW5mb308L01hcmtkb3duPlxuICAgIDwvZGl2PlxuICB9LFxuXG4gIGdldEN1cmF0b3JzKCkge1xuICAgIHZhciBjdXJhdG9ycyA9IHRoaXMuc3RhdGUuaW5mby5jdXJhdG9yc1xuICAgIC5tYXAobmFtZSA9PiB0aGlzLnByb3BzLmRlcGFydG1lbnRJbmZvLmN1cmF0b3JzW25hbWVdKVxuICAgIC5maWx0ZXIoZXhpc3RzID0+ICEhZXhpc3RzKVxuICAgIC5maWx0ZXIoKHtlbWVyaXR1c30pID0+ICFlbWVyaXR1cylcblxuICAgIHJldHVybiBjdXJhdG9ycy5sZW5ndGggPiAwICYmIDxkaXYgaWQ9XCJjdXJhdG9yc1wiPlxuICAgICAgPGgzPkN1cmF0b3JzPC9oMz5cbiAgICAgIHtjdXJhdG9ycy5tYXAoY3VyYXRvciA9PiB7XG4gICAgICAgIGN1cmF0b3IucGhvdG8gPSBgaHR0cHM6Ly9jb2xsZWN0aW9ucy5hcnRzbWlhLm9yZy9faW5mby9jdXJhdG9yLXBvcnRyYWl0cy8ke2N1cmF0b3Iuc2x1Z30uanBnYFxuXG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImN1cmF0b3JCaW9cIiBrZXk9e2N1cmF0b3Iuc2x1Z30+XG4gICAgICAgICAgPExpbmsgdG89XCJjdXJhdG9yXCIgcGFyYW1zPXt7c2x1ZzpjdXJhdG9yLnNsdWd9fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3VyYXRvclBpY1wiPlxuICAgICAgICAgICAgICA8aW1nIHNyYz17Y3VyYXRvci5waG90b30gYWx0PXtgcG9ydHJhaXQgb2YgJHtjdXJhdG9yLm5hbWV9YH0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdXJhdG9yLWludHJvXCI+XG4gICAgICAgICAgICA8aDQ+e2N1cmF0b3IubmFtZX08L2g0PlxuICAgICAgICAgICAgPGg1PjxNYXJrZG93bj57Y3VyYXRvci50aXRsZX08L01hcmtkb3duPjwvaDU+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L0xpbms+XG4gICAgICAgIDwvZGl2PlxuICAgICAgfSl9XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgZ2V0QWZmaW5pdHkoKSB7XG4gICAgdmFyIGFmZmluaXRpZXMgPSB0aGlzLnByb3BzLmRlcGFydG1lbnRJbmZvLmFmZmluaXR5R3JvdXBzXG4gICAgLmZpbHRlcihhZyA9PiBhZy5kZXBhcnRtZW50cyAmJiBhZy5kZXBhcnRtZW50cy5pbmRleE9mKGZpbmREZXBhcnRtZW50KHRoaXMucHJvcHMuZGVwYXJ0bWVudClbMV0pID4gLTEpXG5cbiAgICByZXR1cm4gYWZmaW5pdGllcy5tYXAoYSA9PiB7XG4gICAgICB2YXIgaW1hZ2UgPSA8aW1nIHNyYz17YS5mZWF0dXJlZEFydCA/IGBodHRwOi8vYXBpLmFydHNNaWEub3JnL2ltYWdlcy8ke2EuZmVhdHVyZWRBcnR9LzQwMC9tZWRpdW0uanBnYCA6IGEuaW1hZ2V9IC8+XG4gICAgICBpbWFnZSA9IGEuZmVhdHVyZWRBcnQgPyA8TGluayB0bz1cImFydHdvcmtcIiBwYXJhbXM9e3tpZDogYS5mZWF0dXJlZEFydH19PntpbWFnZX08L0xpbms+IDogaW1hZ2VcblxuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiYWZmaW5pdHlcIiBrZXk9e2EudGl0bGV9PlxuICAgICAgICA8aDM+e2EudGl0bGV9PC9oMz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZmZpbml0eUltYWdlXCI+e2ltYWdlfTwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFmZmluaXR5LWludHJvXCI+XG4gICAgICAgIDxNYXJrZG93biBhbHJlYWR5UmVuZGVyZWQ9e3RydWV9PnthLmNvbnRlbnR9PC9NYXJrZG93bj5cbiAgICAgICAgICA8cD5NaWHigJlzIEFmZmluaXR5IEdyb3VwcyBhcmUgYSBncmVhdCB3YXkgZm9yIG11c2V1bSBtZW1iZXJzIHRvIGNvbm5lY3QgbW9yZSBjbG9zZWx5IHdpdGggc3BlY2lhbCBhcmVhcyBvZiBhcnQgaW50ZXJlc3QsIGFsbG93aW5nIHlvdSB0byBkZWx2ZSBkZWVwZXIgaW50byB0aGUgY3VyYXRvcmlhbCBhcmVhIG9mIHlvdXIgY2hvaWNlLjwvcD5cbiAgICAgICAgICA8YSBocmVmPVwiaHR0cDovL25ldy5hcnRzbWlhLm9yZy9qb2luLWFuZC1pbnZlc3QvYWZmaW5pdHktZ3JvdXBzL1wiIGNsYXNzTmFtZT1cImJ1dHRvblwiPkxlYXJuIE1vcmU8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgfSlcbiAgfSxcblxuICBhZmZpbml0eUJsdXJiKCkge1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImFmZmluaXR5XCI+XG4gICAgICA8cD5NaWHigJlzIEFmZmluaXR5IEdyb3VwcyBhcmUgYSBncmVhdCB3YXkgZm9yIG11c2V1bSBtZW1iZXJzIHRvIGNvbm5lY3QgbW9yZSBjbG9zZWx5IHdpdGggc3BlY2lhbCBhcmVhcyBvZiBhcnQgaW50ZXJlc3QsIGFsbG93aW5nIHlvdSB0byBkZWx2ZSBkZWVwZXIgaW50byB0aGUgY3VyYXRvcmlhbCBhcmVhIG9mIHlvdXIgY2hvaWNlLjwvcD5cbiAgICAgIDxhIGhyZWY9XCJodHRwOi8vbmV3LmFydHNtaWEub3JnL2pvaW4tYW5kLWludmVzdC9hZmZpbml0eS1ncm91cHMvXCIgY2xhc3NOYW1lPVwiYnV0dG9uXCI+TGVhcm4gTW9yZTwvYT5cbiAgICA8L2Rpdj5cbiAgfSxcbn0pXG5cbnZhciBEZXBhcnRtZW50Q29udGVudCA9IHtcbiAgYWZyaWNhOiBgVGhlIEFydHMgb2YgQWZyaWNhIGFuZCB0aGUgQW1lcmljYXMgRGVwYXJ0bWVudCBpcyBkZWRpY2F0ZWQgdG8gdGhlIGltbWVuc2UgY3JlYXRpdml0eSBvZiBOYXRpdmUgcGVvcGxlcyBhY3Jvc3MgdGhlIHdvcmxkLCBmcm9tIHByZWhpc3RvcnkgdG8gdGhlIHByZXNlbnQuIFRoZSBjb2xsZWN0aW9uIGhhcyBncm93biBzaWduaWZpY2FudGx5IHNpbmNlIHRoZSBkZXBhcnRtZW50IHdhcyBmb3VuZGVkIG1vcmUgdGhhbiB0aGlydHkgeWVhcnMgYWdvLCBhbmQgbm93IG51bWJlcnMgbW9yZSB0aGFuIDMsMDAwIG9iamVjdHMsIGluY2x1ZGluZyBtYXN0ZXJ3b3JrcyBvZiBzY3VscHR1cmUsIGNlcmFtaWNzLCBtZXRhbHNtaXRoaW5nLCBwYWludGluZywgYmFza2V0cnksIGFuZCBiZWFkLSwgc2hlbGwtLCBhbmQgcXVpbGx3b3JrLCByZWZsZWN0aW5nIHRoZSBkaXZlcnNpdHkgb2YgdGhlc2UgcmVnaW9ucyBhbmQgY3VsdHVyZXMuXFxyXFxuXFxyXFxuSGlnaGxpZ2h0cyBvZiBBZnJpY2FuIGFydCBhdCB0aGUgbXVzZXVtIGluY2x1ZGUgYSBjZXJhbWljIHBvcnRyYWl0IGhlYWQgZnJvbSB0aGUgYW5jaWVudCBjaXZpbGl6YXRpb24gb2YgSWZlLCBhIHRob3VzYW5kLXllYXItb2xkIHdvb2RlbiBob3JzZS1hbmQtcmlkZXIgZnJvbSBEamVubmUsIGFuZCBhIGNhc3QgYnJvbnplIGxlb3BhcmQgYW5kIGEgY2FydmVkIGl2b3J5IHR1c2ssIGJvdGggZnJvbSB0aGUgZWlnaHRlZW50aC1jZW50dXJ5IEtpbmdkb20gb2YgQmVuaW4uIE90aGVyIGltcG9ydGFudCBwaWVjZXMgYXJlIGEgcmFyZSBMdWJhIG1hc2ssIG9uZSBvZiBvbmx5IHR3byBrbm93biBpbiB0aGUgd29ybGQsIGEgZHJhbWF0aWMgZGFuY2UgbWFzayBvZnRlbiBrbm93biBhcyBhIOKAnGZpcmVzcGl0dGVy4oCdIGZyb20gQ290ZSBk4oCZSXZvaXJlLCBhbmQgYSBwYWxhY2UgZG9vciBjcmVhdGVkIGJ5IHRoZSBmYW1lZCBZb3J1YmEgYXJ0aXN0IEFyZW9ndW4gb2YgT3NpLlxcclxcblxcclxcblRoZSBOYXRpdmUgQW1lcmljYW4gZ2FsbGVyaWVzIGFyZSBlcXVhbGx5IHJpY2ggaW4gZXhhbXBsZXMgb2YgdGhlIGhpZ2hlc3QgcXVhbGl0eSBhcnQsIHN1Y2ggYXMgb3VyIHVucGFyYWxsZWxlZCB0aHJlZS10aG91c2FuZC15ZWFyLW9sZCBPbG1lYyBqYWRlIG1hc2ssIGFuIGV4Y2VwdGlvbmFsIG5pbmV0ZWVudGgtY2VudHVyeSBTdW4gTWFzayBmcm9tIHRoZSBOb3J0aHdlc3QgQ29hc3QsIGFuZCBhIG1vbnVtZW50YWwgcGlwZSBpbiB0aGUgZm9ybSBvZiBhIGJvdW5kIHByaXNvbmVyLCBtYWRlIGluIHNvdXRoZWFzdGVybiBVbml0ZWQgU3RhdGVzIGFyb3VuZCAxMjAwLiBBZGRpdGlvbmFsIG1hc3RlcndvcmtzIGluY2x1ZGUgdGhlIGZpbmVseSB3b3JrZWQgZ29sZCBlYXJzcG9vbHMgZnJvbSB0aGUgYW5jaWVudCBBbmRlcywgYW5kIGEgYmVhZGVkIG1hbuKAmXMgc2hvdWxkZXIgcG91Y2ggbWFkZSBpbiBNaW5uZXNvdGEgaW4gdGhlIGVhcmx5IDE4MDBzLlxcclxcblxcclxcbk91ciBPY2VhbmljIGNvbGxlY3Rpb24gY29udGFpbnMgd29ybGQtY2xhc3MgcGllY2VzLCBzdWNoIGFzIHRoZSBNYW9yaSBQb3V0b2tvbWFuYXdhIChQb3N0IEZpZ3VyZSkgY3JlYXRlZCBpbiB0aGUgMTg0MHMsIHRoZSB0aHJlZSBmYWJ1bG91cyBNYWxhZ2FuIGZpZ3VyZXMsIGFuIGVhcmx5IFBhcHVhbiBHb3BlIEJvYXJkLCBhbmQgdGhlIEJpcyBQb2xlLCBhIGNlbnRlcnBpZWNlIG9mIHRoZSBnYWxsZXJ5LmAsXG4gIGNvbnRlbXBvcmFyeTogYEluIDIwMDggdGhlIE1pYSBsYXVuY2hlZCBhbiBpbml0aWF0aXZlIHRvIGZvY3VzIG9uIHRoZSBhcnQgb2Ygb3VyIHRpbWVzLiBUaHJvdWdoIGl0cyBuZXcgRGVwYXJ0bWVudCBvZiBDb250ZW1wb3JhcnkgQXJ0LCB0aGUgbXVzZXVtIGJyaW5ncyBhIGZyZXNoIGR5bmFtaXNtIHRvIGl0cyBnYWxsZXJpZXMgYnkgY29sbGVjdGluZyBhbmQgZXhoaWJpdGluZyB3b3JrcyBieSBsaXZpbmcgYXJ0aXN0cy4gVGhpcyBpbml0aWF0aXZlIGVtcGhhc2l6ZXMgdGhlIHJlbGF0aW9uc2hpcHMgYW1vbmcgaGlzdG9yaWNhbCBhcnQsIGRpdmVyc2UgY3VsdHVyZXMsIGFuZCBjb250ZW1wb3JhcnkgYXJ0LW1ha2luZy5cXHJcXG5cXHJcXG5Db250ZW1wb3JhcnkgYXJ0IG9mIHRoZSByZWdpb24gY29udGludWVzIHRvIGJlIHJlcHJlc2VudGVkIGJ5IHRoZSBNaW5uZXNvdGEgQXJ0aXN0cyBFeGhpYml0aW9uIFByb2dyYW0gKE1BRVApIGFzIHdlbGwgYXMgYnkgc2VsZWN0ZWQgcHJvamVjdHMgd2l0aCBsb2NhbCBhcnRpc3RzLCBhcmNoaXRlY3RzLCBkZXNpZ25lcnMsIGFuZCBvdGhlciBjcmVhdGl2ZSB0aGlua2Vycy4gSW4gY29sbGFib3JhdGlvbiB3aXRoIG90aGVyIE1pYSBjdXJhdG9yaWFsIGRlcGFydG1lbnRzLCB0aGUgRGVwYXJ0bWVudCBvZiBDb250ZW1wb3JhcnkgQXJ0IGVuZ2FnZXMgYm90aCBsb2NhbCBhbmQgZ2xvYmFsIGFydGlzdHMgdG8gY3JlYXRlIHB1YmxpYyBhbmQgc2l0ZS1zcGVjaWZpYyB3b3JrIGF0IHRoZSBNaWEuYCxcbiAgZGF0czogYE9yaWdpbmFsbHkgZXN0YWJsaXNoZWQgdG8gZm9jdXMgb24gZnVybml0dXJlLCBtZXRhbHdvcmssIGNlcmFtaWNzLCBhbmQgZ2xhc3MsIHRoZSBkZXBhcnRtZW50IHRvZGF5IGVuY29tcGFzc2VzIG1vcmUgdGhhbiAxOCwwMDAgd29ya3MgaW4gYWxsIG1lZGl1bXMgZnJvbSBBbWVyaWNhIGFuZCBFdXJvcGUsIGZyb20gdGhlIE1pZGRsZSBBZ2VzIHRvIHRoZSBwcmVzZW50Llxcclxcblxcclxcbk1hbnkgY29sbGVjdG9ycyBhbmQgZG9ub3JzIGhhdmUgY29udHJpYnV0ZWQgdG8gdGhlIHBvcmNlbGFpbiBhbmQgcG90dGVyeSBjb2xsZWN0aW9uLCB3aGljaCBpbmNsdWRlcyBlaWdodGVlbnRoLWNlbnR1cnkgRnJlbmNoIGZhaWVuY2UgZnJvbSBNcnMuIEpvaG4gUC4gUnV0aGVyZnVyZCwgc2V2ZW50ZWVudGgtIGFuZCBlaWdodGVlbnRoLWNlbnR1cnkgRW5nbGlzaCBkZWxmdCBmcm9tIE1yLiBhbmQgTXJzLiBHZW9yZ2UgUi4gU3RlaW5lciwgYW5kIENoaW5lc2UgRXhwb3J0IHBvcmNlbGFpbiBmcm9tIExlbyBhbmQgRG9yaXMgSG9kcm9mZi4gRG9tZXN0aWMgaW50ZXJpb3JzIGFuZCBmdXJuaXNoaW5ncyBzcGFubmluZyBmb3VyIGNlbnR1cmllcyBhcmUgcHJlc2VudGVkIGluIHRoZSBNaWHigJlzIG5pbmUgcGVyaW9kIHJvb21zLCB3aXRoIGEgMTczMCBncmFuZCBzYWxvbiBmcm9tIHRoZSBIw7R0ZWwgZGUgbGEgQm91w6t4acOocmUgaW4gUGFyaXMsIHdoaWNoIGhhcyBiZWVuIHJlc3RvcmVkIHdpdGggZnVuZHMgZnJvbSB0aGUgR3JvdmVzIEZvdW5kYXRpb24uXFxyXFxuXFxyXFxuVGhlIGRlcGFydG1lbnTigJlzIHRleHRpbGUgY29sbGVjdGlvbiBoYXMgZ2FpbmVkIGFuIGludGVybmF0aW9uYWwgcmVwdXRhdGlvbiBmb3IgaXRzIHNwZWN0YWN1bGFyIGluZGl2aWR1YWwgcGllY2VzIGFzIHdlbGwgYXMgaXRzIGltcHJlc3NpdmUgaG9sZGluZ3Mgb2YgRXVyb3BlYW4gdGFwZXN0cmllcywgZWFybHkgSXRhbGlhbiBsYWNlcywgcGFzc2VtZW50ZXJpZSwgS2FzaG1pciBzaGF3bHMsIGFuZCBUdXJraXNoIGVtYnJvaWRlcmllcy4gVGV4dGlsZXMgZnJvbSB0aGUgSmFjayBMZW5vciBMYXJzZW4gY29tcGFueSBhcmNoaXZlIGFuZCB0aGUgTm9yd2VzdCBNb2Rlcm5pc20gQ29sbGVjdGlvbiBoYXZlIGJyb2FkZW5lZCB0aGUgc2NvcGUgb2YgdGhlIGNvbGxlY3Rpb27igJlzIHR3ZW50aWV0aC1jZW50dXJ5IGhvbGRpbmdzLCBjb21wbGVtZW50aW5nIGl0cyBhbHJlYWR5IHN0cm9uZyBjb2xsZWN0aW9uIG9mIGNvbnRlbXBvcmFyeSBmaWJlciBhcnQuXFxyXFxuXFxyXFxuQSBwYXJ0aWN1bGFyIHN0cmVuZ3RoIG9mIHRoZSBNaWHigJlzIGRlY29yYXRpdmUgYXJ0cyBjb2xsZWN0aW9uIGluY2x1ZGVzIEVuZ2xpc2gsIEFtZXJpY2FuIGFuZCBDb250aW5lbnRhbCBzaWx2ZXIsIHdoaWNoIGlzIHNob3djYXNlZCBpbiB0aGUgTWFyeSBBZ25lcyBhbmQgQWwgTWNRdWlubiBHYWxsZXJ5ICgzNTApLiBNaWEgdHJ1c3RlZSBhbmQgc2lsdmVyIGNvbGxlY3RvciBKYW1lcyBGb3JkIEJlbGwgZXN0YWJsaXNoZWQgdGhlIGZvdW5kYXRpb24gb2YgdGhlIG11c2V1beKAmXMgY29sbGVjdGlvbiB3aXRoIG51bWVyb3VzIGdpZnRzLCBpbmNsdWRpbmcgYSBtb251bWVudGFsIGVpZ2h0ZWVudGgtY2VudHVyeSB3aW5lIGNpc3Rlcm4gYnkgRW5nbGlzaCBIdWd1ZW5vdCBzaWx2ZXJzbWl0aCBQYXVsIGRlIExhbWVyaWUgYW5kIHRoZSBtb3N0IGNvbXBsZXRlIG5lb2NsYXNzaWNhbCB0ZWEgc2VydmljZSBrbm93biBieSBQYXVsIFJldmVyZSwgSnIuIFRoZSBNY1F1aW5uIEZ1bmQgY29udGludWVzIHRvIHN1cHBvcnQgcHVyY2hhc2VzIG9mIGdyZWF0IEVuZ2xpc2ggYW5kIENvbnRpbmVudGFsIG9iamVjdHMgc3VjaCBhcyB0aGUgUmljaG1vbmQgcmFjaW5nIGN1cCBkZXNpZ25lZCBieSBSb2JlcnQgQWRhbSBhbmQgYW4gZWxhYm9yYXRlIGNvdmVyZWQgY3VwIG1hZGUgaW4gU3RyYXNib3VyZyBieSBKb2hhbm4gRnJpZWRyaWNoIEJhZXIuXFxyXFxuXFxyXFxuU2N1bHB0dXJlIGZyb20gdGhlIE1pZGRsZSBBZ2VzIHRvIDE5NjAgaW5jbHVkZXMgaW1wb3J0YW50IHdvcmtzIGJ5IEFtZWRlbyBNb2RpZ2xpYW5pLCBTaXIgSmFjb2IgRXBzdGVpbiwgSm9obiBCZXJuYXJkIEZsYW5uYWdhbiwgQ29uc3RhbnRpbiBCcmFuY3VzaSwgSGVucmkgTWF0aXNzZSwgYW5kIEhlbnJ5IE1vb3JlLiBSZWNlbnQgYWNxdWlzaXRpb25zIGluIHRoaXMgYXJlYSBpbmNsdWRlIFJheW1vbmQgRHVjaGFtcC1WaWxsb27igJlzwqA8ZW0+SGVhZCBvZiBCYXVkZWxhaXJlPC9lbT7CoCgxOTExKSwgYW5kIEFsYmVydG8gR2lhY29tZXR0aeKAmXPCoDxlbT5EaWVnbzwvZW0+wqAoMTk2KS5cXHJcXG5cXHJcXG5UaGUgSGFyb2xkIGFuZCBNaWNrZXkgU21pdGggR2FsbGVyeSAoMzYyKSBmZWF0dXJlcyBvbmUgb2YgdGhlIG1vc3QgY29tcHJlaGVuc2l2ZSBwZXJtYW5lbnQgY29sbGVjdGlvbnMgb2YgSmV3aXNoIHJpdHVhbCBhcnQgZm91bmQgaW4gYW4gQW1lcmljYW4gYXJ0IG11c2V1bS4gUm90YXRpb25zIGluY2x1ZGUgcHJpbnRzLCBwaG90b2dyYXBocywgYW5kIHRleHRpbGVzLiBQdXJjaGFzZXMgb2YgbW9kZXJuIGFuZCBjb250ZW1wb3JhcnkgSnVkYWljYSBhcmUgbWFkZSBwb3NzaWJsZSBieSB0aGUgRWxvaXNlIGFuZCBFbGxpb3QgS2FwbGFuIEZ1bmQgZm9yIEp1ZGFpY2EuXFxyXFxuXFxyXFxuVGhlIGRlcGFydG1lbnQgaXMgc3Ryb25nIGluIG1vZGVybmlzdCBkZXNpZ24sIGluY2x1ZGluZyB0aGUgUHJhaXJpZSBTY2hvb2wtc3R5bGXCoDxlbT5QdXJjZWxsLUN1dHRzIEhvdXNlPC9lbT7CoCgxOTEzKSwgZGVzaWduZWQgYnkgV2lsbGlhbSBHcmF5IFB1cmNlbGwgYW5kIEdlb3JnZSBHcmFudCBFbG1zbGllIGZvciB0aGUgUHVyY2VsbCBmYW1pbHkuIEluIGFkZGl0aW9uLCB0aGUgTWlhIGhvdXNlcyBvbmUgb2YgdGhlIGJlc3QgY29sbGVjdGlvbnMgb2YgUHJhaXJpZSBTY2hvb2wgbWF0ZXJpYWwgaW4gdGhlIGNvdW50cnksIHByZXNlbnRlZCBpbiB0aGUgQm9iIFVscmljaCBhbmQgSmlsbCBEYWhsaW4gQXJjaGl0ZWN0dXJlIGFuZCBEZXNpZ24gR2FsbGVyeSAoMzU1KS4gVGhlIE5vcndlc3QgTW9kZXJuaXNtIENvbGxlY3Rpb24gaXMgYSBtYWpvciBjb21wb25lbnQgb2YgdGhlIGRlcGFydG1lbnTigJlzIGhvbGRpbmdzLCBjb21wcmlzaW5nIG5lYXJseSA1MDAgb2JqZWN0cyBkYXRpbmcgZnJvbSAxODgwIHRvIDE5NDAuIEluIHJlY2VudCBkZWNhZGVzLCB0aGUgZGVwYXJ0bWVudCBoYXMgYnVpbHQgdXAgYSBzaWduaWZpY2FudCBjb2xsZWN0aW9uIG9mIGNvbnRlbXBvcmFyeSBzdHVkaW8gY2VyYW1pY3MsIGdsYXNzLCBhbmQgd29vZC4gQSBjdXJyZW50IGZvY3VzIGlzIGRlc2lnbiBvZiB0aGUgU2NhbmRpbmF2aWFuIGFuZCBOb3JkaWMgY291bnRyaWVzLiBUaGUgTWlhIGNvbnRpbnVlcyB0byBzaG93Y2FzZSB0aGVzZSBjb2xsZWN0aW9ucyBhdCB0aGUgV2VsbHMgRmFyZ28gQ2VudGVyIGluIGRvd250b3duIE1pbm5lYXBvbGlzLiBPbiB0aGUgV2ViLCB0aGV5IGFyZSByZXByZXNlbnRlZCBieSB0aGUgYXdhcmQtd2lubmluZyBzaXRlc8KgPGEgaHJlZj1cXFwiaHR0cDovL2h0dHAvL3d3dy5hcnRzTWlhLm9yZy91bmlmaWVkLXZpc2lvbi9cXFwiPlVuaWZpZWQgVmlzaW9uOiBUaGUgQXJjaGl0ZWN0dXJlIGFuZCBEZXNpZ24gb2YgdGhlIFByYWlyaWUgU2Nob29sPC9hPsKgYW5kwqA8YSBocmVmPVxcXCJodHRwOi8vd3d3LmFydHNNaWEub3JnL21vZGVybmlzbS9cXFwiPk1vZGVybmlzbTwvYT4uYCxcbiAgcGFpbnRpbmdzOiBgVGhlIE1pYSdzIGludGVybmF0aW9uYWxseSBhY2NsYWltZWQgY29sbGVjdGlvbiBvZiBwYWludGluZ3MgY29udGFpbnMgbmVhcmx5IDkwMCBFdXJvcGVhbiBhbmQgQW1lcmljYW4gd29ya3MgZnJvbSB0aGUgZm91cnRlZW50aCBjZW50dXJ5IHRvIHRoZSBwcmVzZW50LiBJdCBvZmZlcnMgYSBjb21wcmVoZW5zaXZlIHN1cnZleSBvZiBib3RoIGNlbGVicmF0ZWQgc2Nob29scyBhbmQgaW5kaXZpZHVhbCBhcnRpc3RzIGFuZCBpcyBub3RhYmxlIGZvciBpdHMgY29uY2VudHJhdGlvbiBvZiBtYXN0ZXJ3b3Jrcy5cXHJcXG5cXHJcXG5PbmUgb2YgdGhlIG11c2V1beKAmXMgZWFybGllc3QgYWNxdWlzaXRpb25zIHdhcyBHdXN0YXZlIENvdXJiZXTigJlzIERlZXIgaW4gYSBGb3Jlc3QsIHdoaWNoIFN0LiBQYXVsIHJhaWxyb2FkIG1hZ25hdGUgSmFtZXMgSi4gSGlsbCBkb25hdGVkIGluIDE5MTQuIEhpbGzigJlzIGNvbGxlY3Rpb24gb2YgbmluZXRlZW50aC1jZW50dXJ5IEZyZW5jaCBSb21hbnRpYyBhbmQgUmVhbGlzdCBhcnQgd2FzIGV4Y2VwdGlvbmFsLiBNYW55IG9mIGhpcyBtb3N0IGltcG9ydGFudCBwaWN0dXJlcywgaW5jbHVkaW5nIEV1Z8OobmUgRGVsYWNyb2l44oCZcyBUaGUgRmFuYXRpY3Mgb2YgVGFuZ2llciwgd2VyZSBnaXZlbiBvciBiZXF1ZWF0aGVkIHRvIHRoZSBNaWEgYnkgaGlzIGRlc2NlbmRhbnRzLlxcclxcblxcclxcblRoZSBwcmVzZW50IHBhaW50aW5ncyBjb2xsZWN0aW9uIGhhcyBiZWVuIGV4cGFuZGVkIGluIHZhcmllZCBhbmQgb2Z0ZW4gZGVsaWdodGZ1bGx5IHVucHJlZGljdGFibGUgd2F5cyBieSBhIHN1Y2Nlc3Npb24gb2YgYXN0dXRlIHRydXN0ZWVzLCBkb25vcnMsIGRpcmVjdG9ycywgYW5kIGN1cmF0b3JzLiBJdCBpbmNsdWRlcyBDbGF1ZGUgTG9ycmFpbuKAmXMgUGFzdG9yYWwgTGFuZHNjYXBlIG9mIDE2MzgsIE5pY29sYXMgUG91c3NpbuKAmXMgRGVhdGggb2YgR2VybWFuaWN1cyBvZiAxNjI3LCBhbmQgUmVtYnJhbmR0IHZhbiBSaWpu4oCZcyBMdWNyZXRpYSBvZiAxNjY2LiBJbiBhZGRpdGlvbiB0byBtYW55IHdvbmRlcmZ1bCBGcmVuY2ggbmluZXRlZW50aC1jZW50dXJ5IHBpY3R1cmVzLCB0aGUgbXVzZXVtIGhhcyByaWNoIGhvbGRpbmdzIG9mIEl0YWxpYW4gQmFyb3F1ZSwgc2V2ZW50ZWVudGgtY2VudHVyeSBEdXRjaCwgYW5kIEZhdXZlLCBDdWJpc3QsIGFuZCBHZXJtYW4gRXhwcmVzc2lvbmlzdCB3b3Jrcy4gVGhlIEFtZXJpY2FuIGNvbGxlY3Rpb24gc2hvd2Nhc2VzIGEgcmFuZ2Ugb2YgYXJ0aXN0aWMgYWNjb21wbGlzaG1lbnRzIGZyb20gR2lsYmVydCBTdHVhcnQgdG8gTGFycnkgUml2ZXJzIGFuZCBjb250YWlucyBleGNlcHRpb25hbCBwYWludGluZ3MgYnkgSm9obiBTaW5nZXIgU2FyZ2VudCBhbmQgR2VvcmdpYSBP4oCZS2VlZmZlLmAsXG4gIHBob3RvZ3JhcGh5OiBgQmVndW4gaW4gMTk3MywgdGhlIE1pYeKAmXMgY29sbGVjdGlvbiBvZiBwaG90b2dyYXBocyBzcGFucyB0aGUgaGlzdG9yeSBvZiBwaG90b2dyYXBoeSBmcm9tIHRoZSAxODYwcyB0byB0aGUgcHJlc2VudC4gUmVwcmVzZW50aW5nIG1vcmUgdGhhbiA4MDAgcGhvdG9ncmFwaGVycyBhbmQgMTEsNTAwIHdvcmtzIG9mIGFydCwgdGhlIGNvbGxlY3Rpb24gaGFzIG91dHN0YW5kaW5nIGV4YW1wbGVzIG9mIHR3ZW50aWV0aC1jZW50dXJ5IEFtZXJpY2FuIHBob3RvZ3JhcGh5LCB3aXRoIHBhcnRpY3VsYXIgZGVwdGggaW4gdGhlIGdlbnJlcyBvZiBkb2N1bWVudGFyeSBwaG90b2dyYXBoeSwgcGhvdG9qb3VybmFsaXNtLCBhbmQgcGljdG9yaWFsaXNtLiBTaW5jZSAyMDA4LCB0aGUgbXVzZXVtIGhhcyBmb2N1c2VkIG9uIGV4cGFuZGluZyBpdHMgaG9sZGluZ3Mgb2YgY29udGVtcG9yYXJ5IHBob3RvZ3JhcGh5IGFuZCBuZXcgbWVkaWEgZnJvbSBhbGwgY291bnRyaWVzLiBUaGlzIGluaXRpYXRpdmUgaW5jcmVhc2VzIHRoZSBzY29wZSBhbmQgcmVsZXZhbmNlIG9mIHRoZSBwaG90b2dyYXBoeSBjb2xsZWN0aW9uIGFuZCBlbmhhbmNlcyBpdHMgbGlua3MgdG8gdGhlIE1pYeKAmXMgZGl2ZXJzZSwgZ2xvYmFsIGhvbGRpbmdzLlxcclxcblxcclxcblRoZSBEZXBhcnRtZW50IG9mIFBob3RvZ3JhcGh5ICZhbXA7IE5ldyBNZWRpYSBjb250aW51ZXMgdG8gdGhyaXZlIHRoYW5rcyB0byB0aGUgYWN0aXZlLCBnZW5lcm91cyBzdXBwb3J0IG9mIGxveWFsIGRvbm9ycy4gVGhlIGVhcmxpZXN0IGFjcXVpc2l0aW9ucyB3ZXJlIGZ1bmRlZCBieSBLYXRlIEJ1dGxlciBhbmQgSGFsbCBKYW1lcyBQZXRlcnNvbi4gVGhlaXIgaW5pdGlhdGl2ZSBpbnNwaXJlZCBvdGhlcnMsIGluY2x1ZGluZyBIYXJyeSBEcmFrZSwgTWFydGluIFdlaW5zdGVpbiwgYW5kIEZyZWQgYW5kIEVsbGVuIFdlbGxzLiBNb3JlIHJlY2VudGx5LCB0aGUgY3JlYXRpb24gb2YgdGhlIEFsZnJlZCBhbmQgSW5ncmlkIExlbnogSGFycmlzb24gRnVuZCBhbmQgdGhlIGVzdGFibGlzaG1lbnQgb2YgdGhlIEhhcnJpc29uIFBob3RvZ3JhcGh5IEdhbGxlcmllcyAoMzY0ICZhbXA7IDM2NSkgaGF2ZSBnaXZlbiB0aGUgZGVwYXJ0bWVudCBlbm9ybW91cyBtb21lbnR1bS4gVGhlc2Ugc3VwZXJiIG5ldyBnYWxsZXJpZXMgYXJlIGRldm90ZWQgdG8gcHJlc2VudGluZyB0aGUgcGVybWFuZW50IGNvbGxlY3Rpb24uIEluIGFkZGl0aW9uLCBMaW5kYSBhbmQgTGF3cmVuY2UgUGVybG1hbiBlc3RhYmxpc2hlZCB0aGUgUGVybG1hbiBHYWxsZXJ5ICgyNjIpLCB3aGljaCBpcyBkZWRpY2F0ZWQgdG8gZmVhdHVyaW5nIGNvbnRlbXBvcmFyeSBwaG90b2dyYXBoeSBhbmQgaXMgbG9jYXRlZCBpbiB0aGUgTWlh4oCZcyBUYXJnZXQgV2luZywgaG9zdGluZ8KgPGEgaHJlZj1cXFwiaHR0cDovL3d3dzIuYXJ0c01pYS5vcmcvYmxvZ3MvbmV3LXBpY3R1cmVzXFxcIj5OZXcgUGljdHVyZXM8L2E+LCBhIHNlbWktYW5udWFsIHNlcmllcyBoaWdobGlnaHRpbmcgZW1lcmdpbmcgcGhvdG9ncmFwaGVycyBmcm9tIGFyb3VuZCB0aGUgd29ybGQuIFlvdSwgdG9vLCBjYW4gY29udHJpYnV0ZSB0byBhbmQgZW5qb3kgc3BlY2lhbCBhY2Nlc3MgdG8gZXhoaWJpdGlvbnMgYW5kIGV2ZW50cyBieSBqb2luaW5nIHRoZcKgPGEgaHJlZj1cXFwiaHR0cDovL25ldy5hcnRzTWlhLm9yZy9qb2luLWFuZC1pbnZlc3QvYWZmaW5pdHktZ3JvdXBzL1xcXCI+UGhvdG9ncmFwaHkgJmFtcDsgTmV3IE1lZGlhIEFmZmluaXR5IEdyb3VwPC9hPi5cXHJcXG5cXHJcXG5PdmVyIHRoZSB5ZWFycywgdGhlIERlcGFydG1lbnQgb2YgUGhvdG9ncmFwaHkgJmFtcDsgTmV3IE1lZGlhIGhhcyBiZWVuIGNvbW1pdHRlZCB0byB1c2luZyBpdHMgY29sbGVjdGlvbiBmb3IgZWR1Y2F0aW9uYWwgcHVycG9zZXMsIGFuZCB0aGUgTWlhIG5vdyBzZXJ2ZXMgYXMgYSBtYWpvciByZXNvdXJjZSBmb3IgdGhlIGZpdmUtc3RhdGUgcmVnaW9uLiBOdW1lcm91cyBleGhpYml0aW9ucyBkcmF3biBmcm9tIHRoZSBjb2xsZWN0aW9uIGhhdmUgdHJhdmVsZWQgdG8gb3RoZXIgaW5zdGl0dXRpb25zLCBhbmQgc3R1ZGVudHMgYW5kIHRlYWNoZXJzIGZyZXF1ZW50bHkgdmlzaXQgdGhlIGdhbGxlcmllcyBhbmTCoDxhIGhyZWY9XFxcImh0dHA6Ly9uZXcuYXJ0c01pYS5vcmcvdmlzaXQvbXVzZXVtLWZhY2lsaXRpZXMvc3R1ZHktcm9vbXMvXFxcIj5QaG90b2dyYXBoeSBTdHVkeSBSb29tPC9hPsKgdG8gbGVhcm4gZnJvbSB0aGUgY29sbGVjdGlvbiBmaXJzdGhhbmQuIENsaWNrIG9uIHRoZSBwaG90b2dyYXBoIGJlbG93IHRvIGJyb3dzZSB0aGUgY29sbGVjdGlvbiBhbmQgcHJlcGFyZSBmb3IgeW91ciBuZXh0IHZpc2l0IHRvIHRoZSBNaWEuYCxcbiAgcHJpbnRzOiBgVGhlIERlcGFydG1lbnQgb2YgUHJpbnRzICZhbXA7IERyYXdpbmdzIGtlZXBzIHVwIGFuIGFjdGl2ZSBwcm9ncmFtIG9mIHRoZW1hdGljIGV4aGliaXRpb25zLCBidXQgaXQgaXMgYWxzbyB0aGUgTWlh4oCZcyBoaWRkZW4gdHJlYXN1cmUgY2hlc3QuIEF0IGFueSBnaXZlbiB0aW1lLCBvbmx5IGEgZnJhY3Rpb24gb2YgdGhlIG11c2V1beKAmXMgY29sbGVjdGlvbiBvZiBuZWFybHkgNDAsMDAwIHByaW50cyBhbmQgMywwMDAgZHJhd2luZ3MgaXMgb24gdmlldyBpbiB0aGUgZ2FsbGVyaWVzLiBOZWFybHkgYWxsLCBob3dldmVyLCBhcmUgYXZhaWxhYmxlIHRvIHRoZSBwdWJsaWMgaW4gdGhlIGNvbWZvcnQgb2YgdGhlwqA8YSBocmVmPVxcXCJodHRwOi8vbmV3LmFydHNNaWEub3JnL3Zpc2l0L3N0dWR5LXJvb21zL1xcXCI+SGVyc2NoZWwgVi4gSm9uZXMgUHJpbnQgU3R1ZHkgUm9vbTwvYT4uIFRvIHByZXBhcmUgZm9yIHlvdXIgdmlzaXQsIHBsZWFzZSBtYWtlIGFuIGFwcG9pbnRtZW50IGJ5IHBob25lICg2MTIpIDg3MC0zMTA1IG9yIGJ5IGUtbWFpbCAoPGEgaHJlZj1cXFwibWFpbHRvOnByaW50c3R1ZHlAYXJ0c01pYS5vcmdcXFwiPnByaW50c3R1ZHlAYXJ0c01pYS5vcmc8L2E+KS5cXHJcXG5cXHJcXG5NYW55IG9mIHRoZSBncmVhdGVzdCBFdXJvcGVhbiBhbmQgQW1lcmljYW4gYXJ0aXN0cyBmcm9tIHRoZSBSZW5haXNzYW5jZSB0byB0aGUgcHJlc2VudCBhcmUgcmVwcmVzZW50ZWQsIG9mdGVuIGluIGNvbnNpZGVyYWJsZSBkZXB0aCBhbmQgcXVhbGl0eS4gQW1vbmcgdGhlIGhpZ2hsaWdodHMgYXJlIG9sZCBtYXN0ZXIgcHJpbnRzIGJ5IEFsYnJlY2h0IETDvHJlciBhbmQgUmVtYnJhbmR0IHZhbiBSaWpuOyBKYWNvcG8gZGXigJlCYXJiYXJp4oCZcyBhbWF6aW5nIGJpcmTigJlzLWV5ZSB2aWV3IG9mIFZlbmljZTsgYSByYXJlIHByZXNlbnRhdGlvbiBjb3B5IG9mIEZyYW5jaXNjbyBkZSBHb3lh4oCZc8KgPGVtPkxvcyBDYXByaWNob3M8L2VtPjsgYSBmYWJ1bG91cyBtb25vdHlwZSBieSBXaWxsaWFtIEJsYWtlOyBleHRlbnNpdmUgaG9sZGluZ3MgaW4gbmluZXRlZW50aC1jZW50dXJ5IEZyZW5jaCBhbmQgQnJpdGlzaCBwcmludHMgYW5kIGRyYXdpbmdzLCBmZWF0dXJpbmcgYXJ0aXN0cyBzdWNoIGFzIEphbWVzIE1jTmVpbGwgV2hpc3RsZXIsIEVkZ2FyIERlZ2FzLCBhbmQgRsOpbGl4IEJ1aG90OyBhbmQgb3V0c3RhbmRpbmcgdHdlbnRpZXRoLWNlbnR1cnkgZHJhd2luZ3MgYnkgTG92aXMgQ29yaW50aCwgRWdvbiBTY2hpZWxlLCBFcm5zdCBMdWR3aWcgS2lyY2huZXIsIEVyaWNoIEhlY2tlbCwgUGlldCBNb25kcmlhbiwgR2VvcmdlcyBSb3VhdWx0LCBIZW5yaSBNYXRpc3NlLCBKYXNwZXIgSm9obnMsIEFuZHkgV2FyaG9sLCBSb3kgTGljaHRlbnN0ZWluLCBKaW0gRGluZSwgRWQgUnVzY2hhLCBOaWNvbGEgSGlja3MsIGFuZCBtYW55IG1vcmUuIFRoZSBkZXBhcnRtZW50IGlzIGJ1aWxkaW5nIGl0cyBjb2xsZWN0aW9uIG9mIHR3ZW50eS1maXJzdC1jZW50dXJ5IHByaW50cyBhbmQgZHJhd2luZ3MsIHdoaWNoIGlzIHJlYWNoaW5nIGV2ZXIgZnVydGhlciBiZXlvbmQgQW1lcmljYSBhbmQgRXVyb3BlIHRvIG90aGVyIHBhcnRzIG9mIHRoZSB3b3JsZC4gUCZhbXA7RCBoYXMgc2VjdXJlZCB3b3JrcyBieSBXaWxsaWFtIEtlbnRyaWRnZSwgSnVsaWUgTWVocmV0dSwgTWVxdWl0dGEgQWh1amEsIEphdW5lIFF1aWNrLXRvLVNlZSBTbWl0aCwgQ2h1Y2sgQ2xvc2UsIEx1aXMgSmltZW5leiwgQ3ludGhpYSBMaW4sIENhcmxvcyBBbW9yYWxlcywgRGlhbmUgVmljdG9yLCBhbmQgbW9yZS5cXHJcXG5cXHJcXG5UaGVyZSBhcmUgYWxzbyBmYXNjaW5hdGluZyBjb2xsZWN0aW9ucyB3aXRoaW4gdGhlIGNvbGxlY3Rpb24uIFRoZSBkZXBhcnRtZW50IGhhcyBhIGxhcmdlIG51bWJlciBvZiBib29rcyBkZXNpZ25lZCBhbmQgaWxsdXN0cmF0ZWQgYnkgYXJ0aXN0cywgd2hpY2ggaXMgZXNwZWNpYWxseSByaWNoIGluIHdvcmtzIGZyb20gRnJhbmNlLiBTdHVkZW50cyBvZiBtb2Rlcm4gcHJpbnRtYWtpbmcgd2lsbCB3YW50IHRvIGV4cGxvcmUgdGhlIFZlcm1pbGxpb24gRWRpdGlvbnMgTGltaXRlZCBBcmNoaXZhbCBDb2xsZWN0aW9uLCB3aGljaCBjb250YWlucyBleGFtcGxlcyBvZiBhbGwgdGhlIHByaW50cyBwdWJsaXNoZWQgYnkgdGhhdCBUd2luIENpdGllcyBwcmVzcyBhcyB3ZWxsIGFzIHByZXBhcmF0b3J5IGRyYXdpbmdzLCBwcm9vZnMsIGFuZCBtYXF1ZXR0ZXMgdGhhdCBsZWQgdG8gdGhlIGZpbmlzaGVkIHdvcmsuIEJvdGFuaWNhbCwgem9vbG9naWNhbCwgZmFzaGlvbiwgYW5kIG9ybmFtZW50YWwgaWxsdXN0cmF0aW9ucyBmcm9tIHRoZSBmaWZ0ZWVudGggdGhyb3VnaCB0aGUgdHdlbnRpZXRoIGNlbnR1cmllcyBhbGwgZmlndXJlIGluIHRoZSBtaXgsIGFzIGRvZXMgYSB3aWRlIGFycmF5IG9mIHdvcmtzIGJ5IE1pbm5lc290YSBhbmQgcmVnaW9uYWwgYXJ0aXN0cy5cXHJcXG5cXHJcXG5UaGXCoDxhIGhyZWY9XFxcImh0dHA6Ly9uZXcuYXJ0c01pYS5vcmcvam9pbi1hbmQtaW52ZXN0L2FmZmluaXR5LWdyb3Vwcy9cXFwiPlByaW50cyAmYW1wOyBEcmF3aW5ncyBBZmZpbml0eSBHcm91cDwvYT7CoHByb3ZpZGVzIGEgdGVycmlmaWMgb3Bwb3J0dW5pdHkgdG8gbGVhcm4gbW9yZSBhYm91dCB0aGlzIHZpdGFsIGZpZWxkIG9mIGFydCwgdG8gbWVldCBvdGhlcnMgd2l0aCBzaW1pbGFyIGludGVyZXN0cywgYW5kIHRvIGhlbHAgdGhlIE1pYSBpbXByb3ZlIGl0cyBhYmlsaXR5IHRvIG1ha2UgYXJ0IGF2YWlsYWJsZSB0byB0aGUgcHVibGljLmAsXG4gIGNzc2FhOiBgVGhlIERlcGFydG1lbnQgb2YgQ2hpbmVzZSBhbmQgU291dGggYW5kIFNvdXRoZWFzdCBBc2lhbiBBcnQgaGFzIGJlbmVmaXRlZCBncmVhdGx5IGZyb20gZ2VuZXJvdXMgZ2lmdHMgZnJvbSBrbm93bGVkZ2VhYmxlIGNvbGxlY3RvcnMuIEF1Z3VzdHVzIEwuIFNlYXJsZSwgQWxmcmVkIEYuIFBpbGxzYnVyeSwgUmljaGFyZCBQLiBHYWxlLCBMb3VpcyBXLiBIaWxsLCBKci4sIGFuZCBSdXRoIGFuZCBCcnVjZSBEYXl0b24gaGF2ZSBkb25hdGVkIGNvbGxlY3Rpb25zIG9mIGludGVybmF0aW9uYWwgcmVwdXRhdGlvbi4gVGhlc2UgaW5jbHVkZSBhbmNpZW50IENoaW5lc2UgYnJvbnplcywgYW5jaWVudCBhbmQgcG9zdC1Tb25nIGphZGUsIENoaW5lc2UgbW9ub2Nocm9tZSBjZXJhbWljcywgYW5kIGNsYXNzaWNhbCBDaGluZXNlIGZ1cm5pdHVyZS4gSW4gYWRkaXRpb24sIGN1cmF0b3JzIGhhdmUgYnVpbHQgZXhxdWlzaXRlIGNvbGxlY3Rpb25zIG9mIFFpbmcgZHluYXN0eSBzaWxrIHRleHRpbGVzIGFuZCBNaWFvIHRleHRpbGVzLlxcclxcblxcclxcblNvbWUgb2YgdGhlIGZpcnN0IHdvcmtzIG9mIGFydCB0byBlbnRlciB0aGUgbXVzZXVt4oCZcyBjb2xsZWN0aW9uIHdlcmUgZnJvbSBTb3V0aCAoSW5kaWEsIEJhbmdsYWRlc2gsIFNyaSBMYW5rYSwgUGFraXN0YW4sIE5lcGFsLCBCaHV0YW4sIGFuZCBBZmdoYW5pc3RhbikgYW5kIFNvdXRoZWFzdCBBc2lhIChDYW1ib2RpYSwgTGFvcywgTXlhbm1hciwgVGhhaWxhbmQsIE1hbGF5c2lhLCBWaWV0bmFtLCBTaW5nYXBvcmUsIEluZG9uZXNpYSwgQnJ1bmVpIGFuZCB0aGUgUGhpbGlwcGluZXMpLCBiZWdpbm5pbmcgaW4gMTkxNCB3aGVuIENoYXJsZXMgRnJlZXIgZG9uYXRlZCBzZXZlcmFsIFRoYWkgQnVkZGhpc3Qgc2N1bHB0dXJlcy7CoCBJbiAxOTI5IFNhcmFoIEJlbGwgUGlsbHNidXJ5IEdhbGUgZ2F2ZSB0aGUgbXVzZXVtIGl0cyBmaXJzdCBtYWpvciBJbmRpYW4gd29yayBvZiBhcnQsIGEgMTJ0aCBjZW50dXJ5IGJyb256ZSAoY2EuIDExMDApIERhbmNpbmcgU2hpdmEgKE5hdGFyYWphKS7CoCBUaGUgaGlnaGxpZ2h0IG9mIHRoZSBTb3V0aCBBc2lhbiBjb2xsZWN0aW9uIGlzIGEgbW9udW1lbnRhbCBzdG9uZSBZb2dpbmkgc2N1bHB0dXJlIGZyb20gMTA8c3BhbiBzdHlsZT1cXFwiZm9udC1zaXplOiAxMXB4O1xcXCI+dGjCoDwvc3Bhbj5jZW50dXJ5IHNvdXRoIEluZGlhLiBUb2RheSB0aGUgU291dGggQXNpYW4gY29sbGVjdGlvbiBudW1iZXJzIGFib3V0IDE1MCBvYmplY3RzIGFuZCB0aGUgU291dGhlYXN0IEFzaWFuIGNvbGxlY3Rpb24gbnVtYmVycyBhcm91bmQgMTgzLlxcclxcblxcclxcbldpdGhpbiB0aGUgZ2FsbGVyaWVzIHRoZXJlIGFyZSB0d28gQ2hpbmVzZSBwZXJpb2Qgcm9vbXMgaW5jbHVkaW5nIGFuIG9yaWdpbmFsIHJlY2VwdGlvbiBoYWxsIGZyb20gdGhlIGxhdGUgTWluZyBkeW5hc3R5IGFuZCBhIGNhLiAxNzAwIFN1emNob3UtYXJlYSBsaWJyYXJ5LmAsXG4gIGprYTogYFRoZSBjb2xsZWN0aW9uIG9mIEphcGFuZXNlIGFuZCBLb3JlYW4gYXJ0IGluY2x1ZGVzIG92ZXIgNywwMDAgd29ya3MgcmFuZ2luZyBmcm9tIGFuY2llbnQgdG8gY29udGVtcG9yYXJ5IGFuZCBpcyBhbW9uZ3N0IHRoZSB0b3AgZml2ZSBjb2xsZWN0aW9ucyBpbiB0aGUgVW5pdGVkIFN0YXRlcy4gVGhlIHBlcm1hbmVudCBkaXNwbGF5IHNwYWNlIGZvciBKYXBhbmVzZSBhcnQgaXMgdGhlIGxhcmdlc3QgaW4gdGhlIFdlc3Rlcm4gd29ybGQgd2l0aCAxNSBnYWxsZXJpZXMgYW5kIG92ZXIgMTAsMDAwIHNxdWFyZSBmZWV0ICg5MzAgc3FtKS4gVGhlIGNvbGxlY3Rpb24gaXRzZWxmIGluY2x1ZGVzIEJ1ZGRoaXN0IHNjdWxwdHVyZSwgd29vZGJsb2NrIHByaW50cywgcGFpbnRpbmdzLCBsYWNxdWVyLCB3b3JrcyBvZiBiYW1ib28sIGFuZCBjZXJhbWljcywgYW5kIGl0IGlzIHBhcnRpY3VsYXJseSByaWNoIGluIHdvcmtzIGZyb20gdGhlIEVkbyBwZXJpb2QgKDE2MTDigJMxODY4KS5cXHJcXG5cXHJcXG5Ud28gaGlzdG9yaWMgcm9vbXMsIGEgZm9ybWFsIGF1ZGllbmNlIGhhbGwgKDxpPnNob2luPC9pPikgYW5kIGEgdGVhaG91c2UgKDxpPmNoYXNoaXRzdTwvaT4pLCBhbGxvdyBoaWdobHkgdmlzaWJsZSBpbnN0YWxsYXRpb25zIHdpdGhpbiB0aGUgcGVybWFuZW50IGdhbGxlcmllcyBhbmQgc2VydmUgdG8gaGVpZ2h0ZW4gYXdhcmVuZXNzIG9mIHRoZSByZWxhdGlvbnNoaXAgYmV0d2VlbiBhcnQgYW5kIGFyY2hpdGVjdHVyZS48L3A+PHA+VGhlIERlcGFydG1lbnQgb2YgSmFwYW5lc2UgYW5kIEtvcmVhbiBhcnQgaGFzIGJlbmVmaXRlZCBncmVhdGx5IGZyb20gZ2VuZXJvdXMgZ2lmdHMgZnJvbSBrbm93bGVkZ2VhYmxlIGNvbGxlY3RvcnMuIFJpY2hhcmQgUC4gR2FsZSwgTG91aXMgVy4gSGlsbCwgSnIuLCBSdXRoIGFuZCBCcnVjZSBEYXl0b24sIGFuZCBFbGxlbiBhbmQgRnJlZCBXZWxscyBoYXZlIGFsbCBkb25hdGVkIHNwZWNpYWxpemVkIGNvbGxlY3Rpb25zIG9mIGludGVybmF0aW9uYWwgcmVwdXRhdGlvbi4gV2l0aCB0aGUgYWRkaXRpb24gb2Ygb3ZlciAxLDUwMCB3b3JrcyBvZiBhcnQgZnJvbSB0aGUgY29sbGVjdGlvbnMgb2YgRWxpemFiZXRoIGFuZCBXaWxsYXJkIOKAnEJpbGzigJ0gQ2xhcmsgYW5kIHRoZSBDbGFyayBDZW50ZXIgZm9yIEphcGFuZXNlIEFydCBpbiAyMDEzIGFuZCBoYWxmIG9mIHRoZSB3b3JsZC1yZW5vd25lZCBNYXJ5IEdyaWdncyBCdXJrZSBjb2xsZWN0aW9uLCB0aGUgSmFwYW5lc2UgYW5kIEtvcmVhbiBhcnQgZ2FsbGVyaWVzIGFyZSBubyBkb3VidCBhIGRlc3RpbmF0aW9uIGZvciBib3RoIGFydCBlbnRodXNpYXN0cyBhbmQgc2Nob2xhcnMgYWxpa2UuPC9wPjxwPlRoZSBkZXBhcnRtZW50IGlzIGRlZGljYXRlZCB0byBwcm92aWRpbmcgdGhlIHB1YmxpYyB3aXRoIGEgYnJvYWQgb3ZlcnZpZXcgb2YgSmFwYW5lc2UgYW5kIEtvcmVhbiBhcnQuIEJ5IHNob3djYXNpbmcgYXJ0IGJvdGggY2hyb25vbG9naWNhbGx5IGFuZCBieSBtZWRpdW0sIHRoZSBnYWxsZXJpZXMgc2hvdyB0aGUgaGlzdG9yeSBvZiBub3Qgb25seSB0aGUgb2JqZWN0cyB0aGVtc2VsdmVzLCBidXQgYWxzbyBvZiBhIGNvbGxlY3RlZCBwcm9jZXNzIG9mIGFydGlzdGljIGNyZWF0aW9uLiBUaGlzIGNhbiBiZSBzZWVuLCBmb3IgZXhhbXBsZSwgYnkgdGhlIHNjb3BlIG9mIGNlcmFtaWNzLCByYW5naW5nIGZyb20gZWFybHkgdXRpbGl0YXJpYW4gdG8gY29udGVtcG9yYXJ5IHNjdWxwdHVyZXMuPC9wPjxwPk9mIG5vdGFibGUgc3RyZW5ndGggaXMgdGhlIGNvbGxlY3Rpb24gb2YgPGk+dWtpeW8tZTwvaT4gcGFpbnRpbmdzIGFuZCBwcmludHMsIHBvcHVsYXJseSBrbm93biBhcyDigJxwaWN0dXJlcyBvZiB0aGUgZmxvYXRpbmcgd29ybGTigJ0uIFRoZSBjb3JlIG9mIHRoZSBjb2xsZWN0aW9uIHdhcyBidWlsdCBieSBSaWNoYXJkIFAuIEdhbGUgYW5kIExvdWlzIFcuIEhpbGwsIEpyLiwgYW5kIHRoZSBHYWxlIGJlcXVlc3QgaW5jbHVkZWQgc29tZSA1NyBwYWludGluZ3MgYW5kIDIwNiBwcmludHMsIG1hbnkgb2Ygd2hpY2ggYXJlIHJhcmUgYW5kIGluIGFkbWlyYWJsZSBjb25kaXRpb24uIEEgc3Ryb25nIGNvbGxlY3Rpb24gb2YgPGk+xYx0c3UtZTwvaT4sIGZvbGsgcGFpbnRpbmdzIHByb2R1Y2VkIGluIGFuZCBhcm91bmQgdGhlIHRvd24gb2YgxYx0c3UgZHVyaW5nIHRoZSBFZG8gcGVyaW9kLCBjYW1lIGZyb20gY29sbGVjdG9ycyBFZHNvbiBhbmQgSGFycmlldCBTcGVuY2VyIHdobyBhbHNvIGRvbmF0ZWQgdGhlaXIgY29sbGVjdGlvbiBvZiB0aWdlciBwYWludGluZ3MuYCxcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBEZXBhcnRtZW50RGVjb3JhdG9yXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/decorate/department.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/decorate/department.js",
      "sourcesContent": [
        "var React = require('react')\nvar {Link} = require('react-router')\n\nvar Markdown = require('../markdown')\nvar findDepartment = require('../department-slug')\n\nvar DepartmentDecorator = React.createClass({\n  getInitialState() {\n    var [deptName, selector, slug] = this.getNameAndSelector(this.props.department)\n    var {departmentInfo} = this.props\n    var info = departmentInfo && departmentInfo.departments[selector]\n\n    return {\n      deptName,\n      selector,\n      slug,\n      info: info,\n      blurb: info && info.content || DepartmentContent[selector] || `Sorry, there's no \"${deptName}\" department.`,\n      expanded: this.props.expanded || !!this.props.params.dept || false,\n    }\n  },\n\n  render() {\n    var {department} = this.props\n    var {deptName, selector, blurb, expanded} = this.state\n\n    var [blurbA, blurbB] = blurb.split('<hr />')\n\n    var fullInfo = expanded && this.getFullInfo(blurbB)\n\n    return <div className=\"departmentBlurb mdl-grid decorator d-department\">\n      <h2><Link to='department' params={{dept: this.state.slug, terms: department}}><span className=\"d-visit\">Visit </span>{this.state.deptName}</Link></h2>\n      <div className=\"mdl-cell mdl-cell--6-col departmentContent\">\n        {expanded ? <Markdown alreadyRendered={true}>{blurbA}</Markdown> : this.shortBlurb()}\n        {expanded && this.affinityBlurb()}\n      </div>\n      {expanded && fullInfo}\n    </div>\n  },\n\n  getNameAndSelector(term) {\n    var decodedTerm = decodeURIComponent(term)\n    var deptName = findDepartment(decodedTerm) ? decodedTerm : decodedTerm.match(/department:\"?([^\"]*)\"?/)[1]\n    return findDepartment(deptName)\n  },\n\n  shortBlurb() {\n    return <div>\n      <Markdown>{this.state.blurb.split('\\n')[0]}</Markdown>\n    </div>\n  },\n\n  getFullInfo(info) {\n    var {deptName} = this.state\n\n    return <div className=\"departmentResources mdl-cell mdl-cell--6-col\">\n      <div>{this.getCurators()}</div>\n      <Markdown alreadyRendered={true}>{info}</Markdown>\n    </div>\n  },\n\n  getCurators() {\n    var curators = this.state.info.curators\n    .map(name => this.props.departmentInfo.curators[name])\n    .filter(exists => !!exists)\n    .filter(({emeritus}) => !emeritus)\n\n    return curators.length > 0 && <div id=\"curators\">\n      <h3>Curators</h3>\n      {curators.map(curator => {\n        curator.photo = `https://collections.artsmia.org/_info/curator-portraits/${curator.slug}.jpg`\n\n        return <div className=\"curatorBio\" key={curator.slug}>\n          <Link to=\"curator\" params={{slug:curator.slug}}>\n            <div className=\"curatorPic\">\n              <img src={curator.photo} alt={`portrait of ${curator.name}`} />\n            </div>\n            <div className=\"curator-intro\">\n            <h4>{curator.name}</h4>\n            <h5><Markdown>{curator.title}</Markdown></h5>\n            </div>\n          </Link>\n        </div>\n      })}\n    </div>\n  },\n\n  getAffinity() {\n    var affinities = this.props.departmentInfo.affinityGroups\n    .filter(ag => ag.departments && ag.departments.indexOf(findDepartment(this.props.department)[1]) > -1)\n\n    return affinities.map(a => {\n      var image = <img src={a.featuredArt ? `http://api.artsMia.org/images/${a.featuredArt}/400/medium.jpg` : a.image} />\n      image = a.featuredArt ? <Link to=\"artwork\" params={{id: a.featuredArt}}>{image}</Link> : image\n\n      return <div className=\"affinity\" key={a.title}>\n        <h3>{a.title}</h3>\n        <div className=\"affinityImage\">{image}</div>\n        <div className=\"affinity-intro\">\n        <Markdown alreadyRendered={true}>{a.content}</Markdown>\n          <p>Mia’s Affinity Groups are a great way for museum members to connect more closely with special areas of art interest, allowing you to delve deeper into the curatorial area of your choice.</p>\n          <a href=\"http://new.artsmia.org/join-and-invest/affinity-groups/\" className=\"button\">Learn More</a>\n        </div>\n      </div>\n    })\n  },\n\n  affinityBlurb() {\n    return <div className=\"affinity\">\n      <p>Mia’s Affinity Groups are a great way for museum members to connect more closely with special areas of art interest, allowing you to delve deeper into the curatorial area of your choice.</p>\n      <a href=\"http://new.artsmia.org/join-and-invest/affinity-groups/\" className=\"button\">Learn More</a>\n    </div>\n  },\n})\n\nvar DepartmentContent = {\n  africa: `The Arts of Africa and the Americas Department is dedicated to the immense creativity of Native peoples across the world, from prehistory to the present. The collection has grown significantly since the department was founded more than thirty years ago, and now numbers more than 3,000 objects, including masterworks of sculpture, ceramics, metalsmithing, painting, basketry, and bead-, shell-, and quillwork, reflecting the diversity of these regions and cultures.\\r\\n\\r\\nHighlights of African art at the museum include a ceramic portrait head from the ancient civilization of Ife, a thousand-year-old wooden horse-and-rider from Djenne, and a cast bronze leopard and a carved ivory tusk, both from the eighteenth-century Kingdom of Benin. Other important pieces are a rare Luba mask, one of only two known in the world, a dramatic dance mask often known as a “firespitter” from Cote d’Ivoire, and a palace door created by the famed Yoruba artist Areogun of Osi.\\r\\n\\r\\nThe Native American galleries are equally rich in examples of the highest quality art, such as our unparalleled three-thousand-year-old Olmec jade mask, an exceptional nineteenth-century Sun Mask from the Northwest Coast, and a monumental pipe in the form of a bound prisoner, made in southeastern United States around 1200. Additional masterworks include the finely worked gold earspools from the ancient Andes, and a beaded man’s shoulder pouch made in Minnesota in the early 1800s.\\r\\n\\r\\nOur Oceanic collection contains world-class pieces, such as the Maori Poutokomanawa (Post Figure) created in the 1840s, the three fabulous Malagan figures, an early Papuan Gope Board, and the Bis Pole, a centerpiece of the gallery.`,\n  contemporary: `In 2008 the Mia launched an initiative to focus on the art of our times. Through its new Department of Contemporary Art, the museum brings a fresh dynamism to its galleries by collecting and exhibiting works by living artists. This initiative emphasizes the relationships among historical art, diverse cultures, and contemporary art-making.\\r\\n\\r\\nContemporary art of the region continues to be represented by the Minnesota Artists Exhibition Program (MAEP) as well as by selected projects with local artists, architects, designers, and other creative thinkers. In collaboration with other Mia curatorial departments, the Department of Contemporary Art engages both local and global artists to create public and site-specific work at the Mia.`,\n  dats: `Originally established to focus on furniture, metalwork, ceramics, and glass, the department today encompasses more than 18,000 works in all mediums from America and Europe, from the Middle Ages to the present.\\r\\n\\r\\nMany collectors and donors have contributed to the porcelain and pottery collection, which includes eighteenth-century French faience from Mrs. John P. Rutherfurd, seventeenth- and eighteenth-century English delft from Mr. and Mrs. George R. Steiner, and Chinese Export porcelain from Leo and Doris Hodroff. Domestic interiors and furnishings spanning four centuries are presented in the Mia’s nine period rooms, with a 1730 grand salon from the Hôtel de la Bouëxière in Paris, which has been restored with funds from the Groves Foundation.\\r\\n\\r\\nThe department’s textile collection has gained an international reputation for its spectacular individual pieces as well as its impressive holdings of European tapestries, early Italian laces, passementerie, Kashmir shawls, and Turkish embroideries. Textiles from the Jack Lenor Larsen company archive and the Norwest Modernism Collection have broadened the scope of the collection’s twentieth-century holdings, complementing its already strong collection of contemporary fiber art.\\r\\n\\r\\nA particular strength of the Mia’s decorative arts collection includes English, American and Continental silver, which is showcased in the Mary Agnes and Al McQuinn Gallery (350). Mia trustee and silver collector James Ford Bell established the foundation of the museum’s collection with numerous gifts, including a monumental eighteenth-century wine cistern by English Huguenot silversmith Paul de Lamerie and the most complete neoclassical tea service known by Paul Revere, Jr. The McQuinn Fund continues to support purchases of great English and Continental objects such as the Richmond racing cup designed by Robert Adam and an elaborate covered cup made in Strasbourg by Johann Friedrich Baer.\\r\\n\\r\\nSculpture from the Middle Ages to 1960 includes important works by Amedeo Modigliani, Sir Jacob Epstein, John Bernard Flannagan, Constantin Brancusi, Henri Matisse, and Henry Moore. Recent acquisitions in this area include Raymond Duchamp-Villon’s <em>Head of Baudelaire</em> (1911), and Alberto Giacometti’s <em>Diego</em> (196).\\r\\n\\r\\nThe Harold and Mickey Smith Gallery (362) features one of the most comprehensive permanent collections of Jewish ritual art found in an American art museum. Rotations include prints, photographs, and textiles. Purchases of modern and contemporary Judaica are made possible by the Eloise and Elliot Kaplan Fund for Judaica.\\r\\n\\r\\nThe department is strong in modernist design, including the Prairie School-style <em>Purcell-Cutts House</em> (1913), designed by William Gray Purcell and George Grant Elmslie for the Purcell family. In addition, the Mia houses one of the best collections of Prairie School material in the country, presented in the Bob Ulrich and Jill Dahlin Architecture and Design Gallery (355). The Norwest Modernism Collection is a major component of the department’s holdings, comprising nearly 500 objects dating from 1880 to 1940. In recent decades, the department has built up a significant collection of contemporary studio ceramics, glass, and wood. A current focus is design of the Scandinavian and Nordic countries. The Mia continues to showcase these collections at the Wells Fargo Center in downtown Minneapolis. On the Web, they are represented by the award-winning sites <a href=\\\"http://http//www.artsMia.org/unified-vision/\\\">Unified Vision: The Architecture and Design of the Prairie School</a> and <a href=\\\"http://www.artsMia.org/modernism/\\\">Modernism</a>.`,\n  paintings: `The Mia's internationally acclaimed collection of paintings contains nearly 900 European and American works from the fourteenth century to the present. It offers a comprehensive survey of both celebrated schools and individual artists and is notable for its concentration of masterworks.\\r\\n\\r\\nOne of the museum’s earliest acquisitions was Gustave Courbet’s Deer in a Forest, which St. Paul railroad magnate James J. Hill donated in 1914. Hill’s collection of nineteenth-century French Romantic and Realist art was exceptional. Many of his most important pictures, including Eugène Delacroix’s The Fanatics of Tangier, were given or bequeathed to the Mia by his descendants.\\r\\n\\r\\nThe present paintings collection has been expanded in varied and often delightfully unpredictable ways by a succession of astute trustees, donors, directors, and curators. It includes Claude Lorrain’s Pastoral Landscape of 1638, Nicolas Poussin’s Death of Germanicus of 1627, and Rembrandt van Rijn’s Lucretia of 1666. In addition to many wonderful French nineteenth-century pictures, the museum has rich holdings of Italian Baroque, seventeenth-century Dutch, and Fauve, Cubist, and German Expressionist works. The American collection showcases a range of artistic accomplishments from Gilbert Stuart to Larry Rivers and contains exceptional paintings by John Singer Sargent and Georgia O’Keeffe.`,\n  photography: `Begun in 1973, the Mia’s collection of photographs spans the history of photography from the 1860s to the present. Representing more than 800 photographers and 11,500 works of art, the collection has outstanding examples of twentieth-century American photography, with particular depth in the genres of documentary photography, photojournalism, and pictorialism. Since 2008, the museum has focused on expanding its holdings of contemporary photography and new media from all countries. This initiative increases the scope and relevance of the photography collection and enhances its links to the Mia’s diverse, global holdings.\\r\\n\\r\\nThe Department of Photography &amp; New Media continues to thrive thanks to the active, generous support of loyal donors. The earliest acquisitions were funded by Kate Butler and Hall James Peterson. Their initiative inspired others, including Harry Drake, Martin Weinstein, and Fred and Ellen Wells. More recently, the creation of the Alfred and Ingrid Lenz Harrison Fund and the establishment of the Harrison Photography Galleries (364 &amp; 365) have given the department enormous momentum. These superb new galleries are devoted to presenting the permanent collection. In addition, Linda and Lawrence Perlman established the Perlman Gallery (262), which is dedicated to featuring contemporary photography and is located in the Mia’s Target Wing, hosting <a href=\\\"http://www2.artsMia.org/blogs/new-pictures\\\">New Pictures</a>, a semi-annual series highlighting emerging photographers from around the world. You, too, can contribute to and enjoy special access to exhibitions and events by joining the <a href=\\\"http://new.artsMia.org/join-and-invest/affinity-groups/\\\">Photography &amp; New Media Affinity Group</a>.\\r\\n\\r\\nOver the years, the Department of Photography &amp; New Media has been committed to using its collection for educational purposes, and the Mia now serves as a major resource for the five-state region. Numerous exhibitions drawn from the collection have traveled to other institutions, and students and teachers frequently visit the galleries and <a href=\\\"http://new.artsMia.org/visit/museum-facilities/study-rooms/\\\">Photography Study Room</a> to learn from the collection firsthand. Click on the photograph below to browse the collection and prepare for your next visit to the Mia.`,\n  prints: `The Department of Prints &amp; Drawings keeps up an active program of thematic exhibitions, but it is also the Mia’s hidden treasure chest. At any given time, only a fraction of the museum’s collection of nearly 40,000 prints and 3,000 drawings is on view in the galleries. Nearly all, however, are available to the public in the comfort of the <a href=\\\"http://new.artsMia.org/visit/study-rooms/\\\">Herschel V. Jones Print Study Room</a>. To prepare for your visit, please make an appointment by phone (612) 870-3105 or by e-mail (<a href=\\\"mailto:printstudy@artsMia.org\\\">printstudy@artsMia.org</a>).\\r\\n\\r\\nMany of the greatest European and American artists from the Renaissance to the present are represented, often in considerable depth and quality. Among the highlights are old master prints by Albrecht Dürer and Rembrandt van Rijn; Jacopo de’Barbari’s amazing bird’s-eye view of Venice; a rare presentation copy of Francisco de Goya’s <em>Los Caprichos</em>; a fabulous monotype by William Blake; extensive holdings in nineteenth-century French and British prints and drawings, featuring artists such as James McNeill Whistler, Edgar Degas, and Félix Buhot; and outstanding twentieth-century drawings by Lovis Corinth, Egon Schiele, Ernst Ludwig Kirchner, Erich Heckel, Piet Mondrian, Georges Rouault, Henri Matisse, Jasper Johns, Andy Warhol, Roy Lichtenstein, Jim Dine, Ed Ruscha, Nicola Hicks, and many more. The department is building its collection of twenty-first-century prints and drawings, which is reaching ever further beyond America and Europe to other parts of the world. P&amp;D has secured works by William Kentridge, Julie Mehretu, Mequitta Ahuja, Jaune Quick-to-See Smith, Chuck Close, Luis Jimenez, Cynthia Lin, Carlos Amorales, Diane Victor, and more.\\r\\n\\r\\nThere are also fascinating collections within the collection. The department has a large number of books designed and illustrated by artists, which is especially rich in works from France. Students of modern printmaking will want to explore the Vermillion Editions Limited Archival Collection, which contains examples of all the prints published by that Twin Cities press as well as preparatory drawings, proofs, and maquettes that led to the finished work. Botanical, zoological, fashion, and ornamental illustrations from the fifteenth through the twentieth centuries all figure in the mix, as does a wide array of works by Minnesota and regional artists.\\r\\n\\r\\nThe <a href=\\\"http://new.artsMia.org/join-and-invest/affinity-groups/\\\">Prints &amp; Drawings Affinity Group</a> provides a terrific opportunity to learn more about this vital field of art, to meet others with similar interests, and to help the Mia improve its ability to make art available to the public.`,\n  cssaa: `The Department of Chinese and South and Southeast Asian Art has benefited greatly from generous gifts from knowledgeable collectors. Augustus L. Searle, Alfred F. Pillsbury, Richard P. Gale, Louis W. Hill, Jr., and Ruth and Bruce Dayton have donated collections of international reputation. These include ancient Chinese bronzes, ancient and post-Song jade, Chinese monochrome ceramics, and classical Chinese furniture. In addition, curators have built exquisite collections of Qing dynasty silk textiles and Miao textiles.\\r\\n\\r\\nSome of the first works of art to enter the museum’s collection were from South (India, Bangladesh, Sri Lanka, Pakistan, Nepal, Bhutan, and Afghanistan) and Southeast Asia (Cambodia, Laos, Myanmar, Thailand, Malaysia, Vietnam, Singapore, Indonesia, Brunei and the Philippines), beginning in 1914 when Charles Freer donated several Thai Buddhist sculptures.  In 1929 Sarah Bell Pillsbury Gale gave the museum its first major Indian work of art, a 12th century bronze (ca. 1100) Dancing Shiva (Nataraja).  The highlight of the South Asian collection is a monumental stone Yogini sculpture from 10<span style=\\\"font-size: 11px;\\\">th </span>century south India. Today the South Asian collection numbers about 150 objects and the Southeast Asian collection numbers around 183.\\r\\n\\r\\nWithin the galleries there are two Chinese period rooms including an original reception hall from the late Ming dynasty and a ca. 1700 Suzchou-area library.`,\n  jka: `The collection of Japanese and Korean art includes over 7,000 works ranging from ancient to contemporary and is amongst the top five collections in the United States. The permanent display space for Japanese art is the largest in the Western world with 15 galleries and over 10,000 square feet (930 sqm). The collection itself includes Buddhist sculpture, woodblock prints, paintings, lacquer, works of bamboo, and ceramics, and it is particularly rich in works from the Edo period (1610–1868).\\r\\n\\r\\nTwo historic rooms, a formal audience hall (<i>shoin</i>) and a teahouse (<i>chashitsu</i>), allow highly visible installations within the permanent galleries and serve to heighten awareness of the relationship between art and architecture.</p><p>The Department of Japanese and Korean art has benefited greatly from generous gifts from knowledgeable collectors. Richard P. Gale, Louis W. Hill, Jr., Ruth and Bruce Dayton, and Ellen and Fred Wells have all donated specialized collections of international reputation. With the addition of over 1,500 works of art from the collections of Elizabeth and Willard “Bill” Clark and the Clark Center for Japanese Art in 2013 and half of the world-renowned Mary Griggs Burke collection, the Japanese and Korean art galleries are no doubt a destination for both art enthusiasts and scholars alike.</p><p>The department is dedicated to providing the public with a broad overview of Japanese and Korean art. By showcasing art both chronologically and by medium, the galleries show the history of not only the objects themselves, but also of a collected process of artistic creation. This can be seen, for example, by the scope of ceramics, ranging from early utilitarian to contemporary sculptures.</p><p>Of notable strength is the collection of <i>ukiyo-e</i> paintings and prints, popularly known as “pictures of the floating world”. The core of the collection was built by Richard P. Gale and Louis W. Hill, Jr., and the Gale bequest included some 57 paintings and 206 prints, many of which are rare and in admirable condition. A strong collection of <i>Ōtsu-e</i>, folk paintings produced in and around the town of Ōtsu during the Edo period, came from collectors Edson and Harriet Spencer who also donated their collection of tiger paintings.`,\n}\n\nmodule.exports = DepartmentDecorator\n"
      ]
    },
    "mtime": 1485807805242
  },
  "{\"filename\":\"/var/www/art/src/department-slug.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar toSlug = require('speakingurl');\n\n// { full name: short name, …}\nvar representations = {\n  \"Art of Africa and the Americas\": 'africa',\n  \"Contemporary Art\": 'contemporary',\n  \"Decorative Arts, Textiles and Sculpture\": 'dats',\n  \"Paintings\": 'paintings',\n  \"Photography and New Media\": 'photography',\n  \"Prints and Drawings\": 'prints',\n  \"Chinese, South and Southeast Asian Art\": 'cssaa',\n  \"Japanese and Korean Art\": 'jka'\n};\n\n// Associate [full name, short name, slug]\nvar nameTriple = Object.keys(representations).map(function (key) {\n  return [key, representations[key], toSlug(key)];\n}, []);\n\nmodule.exports = function (deptSelector) {\n  return nameTriple.find(function (triple) {\n    if (triple.indexOf(deptSelector) > -1) return triple;\n  });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZGVwYXJ0bWVudC1zbHVnLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBOzs7QUFHbkMsSUFBSSxlQUFlLEdBQUc7QUFDcEIsa0NBQWdDLEVBQUUsUUFBUTtBQUMxQyxvQkFBa0IsRUFBRSxjQUFjO0FBQ2xDLDJDQUF5QyxFQUFFLE1BQU07QUFDakQsYUFBVyxFQUFFLFdBQVc7QUFDeEIsNkJBQTJCLEVBQUUsYUFBYTtBQUMxQyx1QkFBcUIsRUFBRSxRQUFRO0FBQy9CLDBDQUF3QyxFQUFFLE9BQU87QUFDakQsMkJBQXlCLEVBQUUsS0FBSztDQUNqQyxDQUFBOzs7QUFHRCxJQUFJLFVBQVUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFBLEdBQUc7U0FBSSxDQUFDLEdBQUcsRUFBRSxlQUFlLENBQUMsR0FBRyxDQUFDLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0NBQUEsRUFBRSxFQUFFLENBQUMsQ0FBQTs7QUFFdEcsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFBLFlBQVk7U0FBSSxVQUFVLENBQUMsSUFBSSxDQUFDLFVBQUMsTUFBTSxFQUFLO0FBQzNELFFBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxPQUFPLE1BQU0sQ0FBQTtHQUNwRCxDQUFDO0NBQUEsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2RlcGFydG1lbnQtc2x1Zy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciB0b1NsdWcgPSByZXF1aXJlKCdzcGVha2luZ3VybCcpXG5cbi8vIHsgZnVsbCBuYW1lOiBzaG9ydCBuYW1lLCDigKZ9XG52YXIgcmVwcmVzZW50YXRpb25zID0ge1xuICBcIkFydCBvZiBBZnJpY2EgYW5kIHRoZSBBbWVyaWNhc1wiOiAnYWZyaWNhJyxcbiAgXCJDb250ZW1wb3JhcnkgQXJ0XCI6ICdjb250ZW1wb3JhcnknLFxuICBcIkRlY29yYXRpdmUgQXJ0cywgVGV4dGlsZXMgYW5kIFNjdWxwdHVyZVwiOiAnZGF0cycsXG4gIFwiUGFpbnRpbmdzXCI6ICdwYWludGluZ3MnLFxuICBcIlBob3RvZ3JhcGh5IGFuZCBOZXcgTWVkaWFcIjogJ3Bob3RvZ3JhcGh5JyxcbiAgXCJQcmludHMgYW5kIERyYXdpbmdzXCI6ICdwcmludHMnLFxuICBcIkNoaW5lc2UsIFNvdXRoIGFuZCBTb3V0aGVhc3QgQXNpYW4gQXJ0XCI6ICdjc3NhYScsXG4gIFwiSmFwYW5lc2UgYW5kIEtvcmVhbiBBcnRcIjogJ2prYSdcbn1cblxuLy8gQXNzb2NpYXRlIFtmdWxsIG5hbWUsIHNob3J0IG5hbWUsIHNsdWddXG52YXIgbmFtZVRyaXBsZSA9IE9iamVjdC5rZXlzKHJlcHJlc2VudGF0aW9ucykubWFwKGtleSA9PiBba2V5LCByZXByZXNlbnRhdGlvbnNba2V5XSwgdG9TbHVnKGtleSldLCBbXSlcblxubW9kdWxlLmV4cG9ydHMgPSBkZXB0U2VsZWN0b3IgPT4gbmFtZVRyaXBsZS5maW5kKCh0cmlwbGUpID0+IHtcbiAgaWYodHJpcGxlLmluZGV4T2YoZGVwdFNlbGVjdG9yKSA+IC0xKSByZXR1cm4gdHJpcGxlXG59KVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/department-slug.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,MAAM,GAAG,OAAO,CAAC,aAAa,CAAC,CAAA;;;AAGnC,IAAI,eAAe,GAAG;AACpB,kCAAgC,EAAE,QAAQ;AAC1C,oBAAkB,EAAE,cAAc;AAClC,2CAAyC,EAAE,MAAM;AACjD,aAAW,EAAE,WAAW;AACxB,6BAA2B,EAAE,aAAa;AAC1C,uBAAqB,EAAE,QAAQ;AAC/B,0CAAwC,EAAE,OAAO;AACjD,2BAAyB,EAAE,KAAK;CACjC,CAAA;;;AAGD,IAAI,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,UAAA,GAAG;SAAI,CAAC,GAAG,EAAE,eAAe,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC;CAAA,EAAE,EAAE,CAAC,CAAA;;AAEtG,MAAM,CAAC,OAAO,GAAG,UAAA,YAAY;SAAI,UAAU,CAAC,IAAI,CAAC,UAAC,MAAM,EAAK;AAC3D,QAAG,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,MAAM,CAAA;GACpD,CAAC;CAAA,CAAA",
      "file": "/var/www/art/src/department-slug.js",
      "sourcesContent": [
        "var toSlug = require('speakingurl')\n\n// { full name: short name, …}\nvar representations = {\n  \"Art of Africa and the Americas\": 'africa',\n  \"Contemporary Art\": 'contemporary',\n  \"Decorative Arts, Textiles and Sculpture\": 'dats',\n  \"Paintings\": 'paintings',\n  \"Photography and New Media\": 'photography',\n  \"Prints and Drawings\": 'prints',\n  \"Chinese, South and Southeast Asian Art\": 'cssaa',\n  \"Japanese and Korean Art\": 'jka'\n}\n\n// Associate [full name, short name, slug]\nvar nameTriple = Object.keys(representations).map(key => [key, representations[key], toSlug(key)], [])\n\nmodule.exports = deptSelector => nameTriple.find((triple) => {\n  if(triple.indexOf(deptSelector) > -1) return triple\n})\n"
      ]
    },
    "mtime": 1465405261330
  },
  "{\"filename\":\"/var/www/art/src/decorate/gallery.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "sliced-to-array"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar React = require('react');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar rest = require('rest');\n\nvar _require2 = require('../../data/galleries.json');\n\nvar galleries = _require2.galleries;\nvar messages = _require2.messages;\n\nvar Markdown = require('../markdown');\nvar Map = require('../map');\nvar galleryPanelUrl = require('../endpoints').galleryPanel;\n\nvar GalleryDecorator = React.createClass({\n  displayName: 'GalleryDecorator',\n\n  getGalleryInfo: function getGalleryInfo(gallery) {\n    // gallery can either be `G215` or `room:G215` (or `room:\"G215\"`)\n    // or, \"Not on View\", in which case skip retrieving info\n    if (this.props.notOnView) return null;\n    var galleryId = gallery.match(/(room:)?\"?([^\"]*)\"?/)[2];\n    var number = galleryId.replace(/g/i, '');\n    if (number == '266-274') number = '266-G274';\n    var galleryInfo = galleries[number];\n    this.fetchData(number);\n\n    return {\n      number: number,\n      galleryInfo: galleryInfo,\n      panel: this.props.galleryPanel\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return this.getGalleryInfo(this.props.gallery);\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    var dontUpdate = this.props.gallery == nextProps.gallery && this.props.showFullInfo == nextProps.showFullInfo;\n\n    if (!dontUpdate) this.setState(this.getGalleryInfo(nextProps.gallery));\n  },\n\n  render: function render() {\n    if (this.props.notOnView) return React.createElement(NotOnViewGalleryDecorator, null);\n    var _state = this.state;\n    var number = _state.number;\n    var galleryInfo = _state.galleryInfo;\n    var panel = _state.panel;\n\n    var showFullInfo = this.props.showFullGalleryInfo;\n    if (panel && !showFullInfo) {\n      panel = panel.split('\\n').slice(0, 3).join('\\n');\n    }\n\n    var _nextPrevLinks = this.nextPrevLinks();\n\n    var _nextPrevLinks2 = _slicedToArray(_nextPrevLinks, 2);\n\n    var prevLink = _nextPrevLinks2[0];\n    var nextLink = _nextPrevLinks2[1];\n\n    var mapProps = {\n      closed: true,\n      number: number,\n      prevLink: prevLink,\n      nextLink: nextLink\n    };\n\n    if (!panel && !galleryInfo) return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'h1',\n        null,\n        'Gallery Not Found!'\n      ),\n      React.createElement(\n        Link,\n        { to: 'galleries' },\n        'Show all galleries'\n      )\n    );\n\n    return React.createElement(\n      'div',\n      { style: { clear: 'both' }, className: 'decorator d-gallery' },\n      React.createElement(\n        'div',\n        null,\n        React.createElement(Map, mapProps)\n      ),\n      (panel || galleryInfo) && React.createElement(\n        'div',\n        { className: 'info' },\n        panel && React.createElement(\n          Markdown,\n          null,\n          panel\n        ),\n        galleryInfo && React.createElement(\n          'p',\n          null,\n          React.createElement(\n            'strong',\n            null,\n            galleryInfo.title\n          )\n        ),\n        !showFullInfo && React.createElement(\n          Link,\n          { to: 'gallery', params: { gallery: number } },\n          'More info'\n        )\n      ),\n      React.createElement('hr', { style: { clear: 'both', visibility: 'hidden' } })\n    );\n  },\n\n  nextPrevLinks: function nextPrevLinks() {\n    var _this = this;\n\n    var _state2 = this.state;\n    var number = _state2.number;\n    var galleryInfo = _state2.galleryInfo;\n    var panel = _state2.panel;\n\n    if (!galleryInfo) return [];\n\n    var prev = galleryInfo.prev;\n    var next = galleryInfo.next;\n\n    var linkParams = function linkParams(adjacentGallery) {\n      return _this.props.showFullGalleryInfo ? { to: 'gallery', params: { gallery: adjacentGallery } } : { to: 'searchResults', params: { terms: 'G' + adjacentGallery } };\n    };\n\n    return [prev && React.createElement(\n      Link,\n      linkParams(prev),\n      '← G',\n      prev\n    ), next && React.createElement(\n      Link,\n      linkParams(next),\n      'G',\n      next,\n      ' →'\n    )];\n  },\n\n  fetchData: function fetchData(number) {\n    var _this2 = this;\n\n    rest(galleryPanelUrl(number || this.state.number)).then(function (result) {\n      _this2.setState({\n        panel: result.status.code == 200 ? result.entity : ''\n      });\n    });\n  },\n\n  componentDidMount: function componentDidMount() {\n    if (!this.props.notOnView) this.fetchData();\n  }\n});\n\nmodule.exports = GalleryDecorator;\n\nvar NotOnViewGalleryDecorator = React.createClass({\n  displayName: 'NotOnViewGalleryDecorator',\n\n  render: function render() {\n    var message = 'Very few of the artworks at Mia can be \"on view\" at any point in time.\\n\\n' + \"The museum's [Print and Photograph Study Rooms](https://new.artsmia.org/visit/study-rooms/) offer individuals and groups the opportunity to examine off-view artworks (including woodcuts, engravings, etchings, lithographs, screenprints, drawings, watercolors, artist’s books, photography, and new media) upon appointment.\";\n\n    return React.createElement(\n      Markdown,\n      null,\n      message\n    );\n  }\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZGVjb3JhdGUvZ2FsbGVyeS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBOztlQUNmLE9BQU8sQ0FBQyxjQUFjLENBQUM7O0lBQS9CLElBQUksWUFBSixJQUFJOztBQUNULElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQTs7Z0JBRUUsT0FBTyxDQUFDLDJCQUEyQixDQUFDOztJQUEzRCxTQUFTLGFBQVQsU0FBUztJQUFFLFFBQVEsYUFBUixRQUFROztBQUN4QixJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUE7QUFDckMsSUFBSSxHQUFHLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQzNCLElBQUksZUFBZSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQyxZQUFZLENBQUE7O0FBRTFELElBQUksZ0JBQWdCLEdBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ3hDLGdCQUFjLEVBQUEsd0JBQUMsT0FBTyxFQUFFOzs7QUFHdEIsUUFBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxPQUFPLElBQUksQ0FBQTtBQUNwQyxRQUFJLFNBQVMsR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDdkQsUUFBSSxNQUFNLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUE7QUFDeEMsUUFBRyxNQUFNLElBQUksU0FBUyxFQUFFLE1BQU0sR0FBRyxVQUFVLENBQUE7QUFDM0MsUUFBSSxXQUFXLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFBO0FBQ25DLFFBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUE7O0FBRXRCLFdBQU87QUFDTCxZQUFNLEVBQU4sTUFBTTtBQUNO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VSxDQUFBOztBQUVsVSxXQUFPO0FBQUMsY0FBUTs7TUFBRSxPQUFPO0tBQVksQ0FBQTtHQUN0QztDQUNGLENBQUMsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2RlY29yYXRlL2dhbGxlcnkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIge0xpbmt9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG5cbnZhciB7Z2FsbGVyaWVzLCBtZXNzYWdlc30gPSByZXF1aXJlKCcuLi8uLi9kYXRhL2dhbGxlcmllcy5qc29uJylcbnZhciBNYXJrZG93biA9IHJlcXVpcmUoJy4uL21hcmtkb3duJylcbnZhciBNYXAgPSByZXF1aXJlKCcuLi9tYXAnKVxudmFyIGdhbGxlcnlQYW5lbFVybCA9IHJlcXVpcmUoJy4uL2VuZHBvaW50cycpLmdhbGxlcnlQYW5lbFxuXG52YXIgR2FsbGVyeURlY29yYXRvciA9ICBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEdhbGxlcnlJbmZvKGdhbGxlcnkpIHtcbiAgICAvLyBnYWxsZXJ5IGNhbiBlaXRoZXIgYmUgYEcyMTVgIG9yIGByb29tOkcyMTVgIChvciBgcm9vbTpcIkcyMTVcImApXG4gICAgLy8gb3IsIFwiTm90IG9uIFZpZXdcIiwgaW4gd2hpY2ggY2FzZSBza2lwIHJldHJpZXZpbmcgaW5mb1xuICAgIGlmKHRoaXMucHJvcHMubm90T25WaWV3KSByZXR1cm4gbnVsbFxuICAgIHZhciBnYWxsZXJ5SWQgPSBnYWxsZXJ5Lm1hdGNoKC8ocm9vbTopP1wiPyhbXlwiXSopXCI/LylbMl1cbiAgICB2YXIgbnVtYmVyID0gZ2FsbGVyeUlkLnJlcGxhY2UoL2cvaSwgJycpXG4gICAgaWYobnVtYmVyID09ICcyNjYtMjc0JykgbnVtYmVyID0gJzI2Ni1HMjc0J1xuICAgIHZhciBnYWxsZXJ5SW5mbyA9IGdhbGxlcmllc1tudW1iZXJdXG4gICAgdGhpcy5mZXRjaERhdGEobnVtYmVyKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIG51bWJlcixcbiAgICAgIGdhbGxlcnlJbmZvLFxuICAgICAgcGFuZWw6IHRoaXMucHJvcHMuZ2FsbGVyeVBhbmVsLFxuICAgIH1cbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0R2FsbGVyeUluZm8odGhpcy5wcm9wcy5nYWxsZXJ5KVxuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgdmFyIGRvbnRVcGRhdGUgPSB0aGlzLnByb3BzLmdhbGxlcnkgPT0gbmV4dFByb3BzLmdhbGxlcnkgJiZcbiAgICAgIHRoaXMucHJvcHMuc2hvd0Z1bGxJbmZvID09IG5leHRQcm9wcy5zaG93RnVsbEluZm9cblxuICAgIGlmKCFkb250VXBkYXRlKSB0aGlzLnNldFN0YXRlKHRoaXMuZ2V0R2FsbGVyeUluZm8obmV4dFByb3BzLmdhbGxlcnkpKVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICBpZih0aGlzLnByb3BzLm5vdE9uVmlldykgcmV0dXJuIDxOb3RPblZpZXdHYWxsZXJ5RGVjb3JhdG9yIC8+XG4gICAgdmFyIHtudW1iZXIsIGdhbGxlcnlJbmZvLCBwYW5lbH0gPSB0aGlzLnN0YXRlXG4gICAgdmFyIHNob3dGdWxsSW5mbyA9IHRoaXMucHJvcHMuc2hvd0Z1bGxHYWxsZXJ5SW5mb1xuICAgIGlmKHBhbmVsICYmICFzaG93RnVsbEluZm8pIHtcbiAgICAgIHBhbmVsID0gcGFuZWwuc3BsaXQoJ1xcbicpLnNsaWNlKDAsMykuam9pbignXFxuJylcbiAgICB9XG5cbiAgICBsZXQgW3ByZXZMaW5rLCBuZXh0TGlua10gPSB0aGlzLm5leHRQcmV2TGlua3MoKVxuXG4gICAgbGV0IG1hcFByb3BzID0ge1xuICAgICAgY2xvc2VkOiB0cnVlLFxuICAgICAgbnVtYmVyLFxuICAgICAgcHJldkxpbmssXG4gICAgICBuZXh0TGluayxcbiAgICB9XG5cbiAgICBpZighcGFuZWwgJiYgIWdhbGxlcnlJbmZvKSByZXR1cm4gPGRpdj5cbiAgICAgIDxoMT5HYWxsZXJ5IE5vdCBGb3VuZCE8L2gxPlxuICAgICAgPExpbmsgdG89XCJnYWxsZXJpZXNcIj5TaG93IGFsbCBnYWxsZXJpZXM8L0xpbms+XG4gICAgPC9kaXY+XG5cbiAgICByZXR1cm4gPGRpdiBzdHlsZT17e2NsZWFyOiAnYm90aCd9fSBjbGFzc05hbWU9XCJkZWNvcmF0b3IgZC1nYWxsZXJ5XCI+XG4gICAgICA8ZGl2PlxuICAgICAgICA8TWFwIHsuLi5tYXBQcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgICAgeyhwYW5lbCB8fCBnYWxsZXJ5SW5mbykgJiYgPGRpdiBjbGFzc05hbWU9XCJpbmZvXCI+XG4gICAgICAgIHtwYW5lbCAmJiA8TWFya2Rvd24+e3BhbmVsfTwvTWFya2Rvd24+fVxuICAgICAgICB7Z2FsbGVyeUluZm8gJiYgPHA+PHN0cm9uZz57Z2FsbGVyeUluZm8udGl0bGV9PC9zdHJvbmc+PC9wPn1cbiAgICAgICAgeyFzaG93RnVsbEluZm8gJiYgPExpbmsgdG89J2dhbGxlcnknIHBhcmFtcz17e2dhbGxlcnk6IG51bWJlcn19Pk1vcmUgaW5mbzwvTGluaz59XG4gICAgICA8L2Rpdj59XG4gICAgICA8aHIgc3R5bGU9e3tjbGVhcjogJ2JvdGgnLCB2aXNpYmlsaXR5OiAnaGlkZGVuJ319IC8+XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgbmV4dFByZXZMaW5rcygpIHtcbiAgICB2YXIge251bWJlciwgZ2FsbGVyeUluZm8sIHBhbmVsfSA9IHRoaXMuc3RhdGVcbiAgICBpZighZ2FsbGVyeUluZm8pIHJldHVybiBbXVxuXG4gICAgdmFyIHtwcmV2LCBuZXh0fSA9IGdhbGxlcnlJbmZvXG5cbiAgICB2YXIgbGlua1BhcmFtcyA9IChhZGphY2VudEdhbGxlcnkpID0+IHRoaXMucHJvcHMuc2hvd0Z1bGxHYWxsZXJ5SW5mbyA/XG4gICAgICB7dG86ICdnYWxsZXJ5JywgcGFyYW1zOiB7Z2FsbGVyeTogYWRqYWNlbnRHYWxsZXJ5fX0gOlxuICAgICAge3RvOiAnc2VhcmNoUmVzdWx0cycsIHBhcmFtczoge3Rlcm1zOiBgRyR7YWRqYWNlbnRHYWxsZXJ5fWB9fVxuXG4gICAgcmV0dXJuIFtcbiAgICAgIHByZXYgJiYgPExpbmsgey4uLmxpbmtQYXJhbXMocHJldil9PiZsYXJyOyBHe3ByZXZ9PC9MaW5rPixcbiAgICAgIG5leHQgJiYgPExpbmsgey4uLmxpbmtQYXJhbXMobmV4dCl9Pkd7bmV4dH0gJnJhcnI7PC9MaW5rPixcbiAgICBdXG4gIH0sXG5cbiAgZmV0Y2hEYXRhKG51bWJlcikge1xuICAgIHJlc3QoZ2FsbGVyeVBhbmVsVXJsKG51bWJlciB8fCB0aGlzLnN0YXRlLm51bWJlcikpXG4gICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHBhbmVsOiByZXN1bHQuc3RhdHVzLmNvZGUgPT0gMjAwID8gcmVzdWx0LmVudGl0eSA6ICcnLFxuICAgICAgfSlcbiAgICB9KVxuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmKCF0aGlzLnByb3BzLm5vdE9uVmlldykgdGhpcy5mZXRjaERhdGEoKVxuICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBHYWxsZXJ5RGVjb3JhdG9yXG5cbnZhciBOb3RPblZpZXdHYWxsZXJ5RGVjb3JhdG9yID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIG1lc3NhZ2UgPSAnVmVyeSBmZXcgb2YgdGhlIGFydHdvcmtzIGF0IE1pYSBjYW4gYmUgXCJvbiB2aWV3XCIgYXQgYW55IHBvaW50IGluIHRpbWUuXFxuXFxuJyArXG4gICAgXCJUaGUgbXVzZXVtJ3MgW1ByaW50IGFuZCBQaG90b2dyYXBoIFN0dWR5IFJvb21zXShodHRwczovL25ldy5hcnRzbWlhLm9yZy92aXNpdC9zdHVkeS1yb29tcy8pIG9mZmVyIGluZGl2aWR1YWxzIGFuZCBncm91cHMgdGhlIG9wcG9ydHVuaXR5IHRvIGV4YW1pbmUgb2ZmLXZpZXcgYXJ0d29ya3MgKGluY2x1ZGluZyB3b29kY3V0cywgZW5ncmF2aW5ncywgZXRjaGluZ3MsIGxpdGhvZ3JhcGhzLCBzY3JlZW5wcmludHMsIGRyYXdpbmdzLCB3YXRlcmNvbG9ycywgYXJ0aXN04oCZcyBib29rcywgcGhvdG9ncmFwaHksIGFuZCBuZXcgbWVkaWEpIHVwb24gYXBwb2ludG1lbnQuXCJcblxuICAgIHJldHVybiA8TWFya2Rvd24+e21lc3NhZ2V9PC9NYXJrZG93bj5cbiAgfVxufSlcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/decorate/gallery.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/decorate/gallery.js",
      "sourcesContent": [
        "var React = require('react')\nvar {Link} = require('react-router')\nvar rest = require('rest')\n\nvar {galleries, messages} = require('../../data/galleries.json')\nvar Markdown = require('../markdown')\nvar Map = require('../map')\nvar galleryPanelUrl = require('../endpoints').galleryPanel\n\nvar GalleryDecorator =  React.createClass({\n  getGalleryInfo(gallery) {\n    // gallery can either be `G215` or `room:G215` (or `room:\"G215\"`)\n    // or, \"Not on View\", in which case skip retrieving info\n    if(this.props.notOnView) return null\n    var galleryId = gallery.match(/(room:)?\"?([^\"]*)\"?/)[2]\n    var number = galleryId.replace(/g/i, '')\n    if(number == '266-274') number = '266-G274'\n    var galleryInfo = galleries[number]\n    this.fetchData(number)\n\n    return {\n      number,\n      galleryInfo,\n      panel: this.props.galleryPanel,\n    }\n  },\n\n  getInitialState() {\n    return this.getGalleryInfo(this.props.gallery)\n  },\n\n  componentWillReceiveProps(nextProps) {\n    var dontUpdate = this.props.gallery == nextProps.gallery &&\n      this.props.showFullInfo == nextProps.showFullInfo\n\n    if(!dontUpdate) this.setState(this.getGalleryInfo(nextProps.gallery))\n  },\n\n  render() {\n    if(this.props.notOnView) return <NotOnViewGalleryDecorator />\n    var {number, galleryInfo, panel} = this.state\n    var showFullInfo = this.props.showFullGalleryInfo\n    if(panel && !showFullInfo) {\n      panel = panel.split('\\n').slice(0,3).join('\\n')\n    }\n\n    let [prevLink, nextLink] = this.nextPrevLinks()\n\n    let mapProps = {\n      closed: true,\n      number,\n      prevLink,\n      nextLink,\n    }\n\n    if(!panel && !galleryInfo) return <div>\n      <h1>Gallery Not Found!</h1>\n      <Link to=\"galleries\">Show all galleries</Link>\n    </div>\n\n    return <div style={{clear: 'both'}} className=\"decorator d-gallery\">\n      <div>\n        <Map {...mapProps} />\n      </div>\n      {(panel || galleryInfo) && <div className=\"info\">\n        {panel && <Markdown>{panel}</Markdown>}\n        {galleryInfo && <p><strong>{galleryInfo.title}</strong></p>}\n        {!showFullInfo && <Link to='gallery' params={{gallery: number}}>More info</Link>}\n      </div>}\n      <hr style={{clear: 'both', visibility: 'hidden'}} />\n    </div>\n  },\n\n  nextPrevLinks() {\n    var {number, galleryInfo, panel} = this.state\n    if(!galleryInfo) return []\n\n    var {prev, next} = galleryInfo\n\n    var linkParams = (adjacentGallery) => this.props.showFullGalleryInfo ?\n      {to: 'gallery', params: {gallery: adjacentGallery}} :\n      {to: 'searchResults', params: {terms: `G${adjacentGallery}`}}\n\n    return [\n      prev && <Link {...linkParams(prev)}>&larr; G{prev}</Link>,\n      next && <Link {...linkParams(next)}>G{next} &rarr;</Link>,\n    ]\n  },\n\n  fetchData(number) {\n    rest(galleryPanelUrl(number || this.state.number))\n    .then((result) => {\n      this.setState({\n        panel: result.status.code == 200 ? result.entity : '',\n      })\n    })\n  },\n\n  componentDidMount() {\n    if(!this.props.notOnView) this.fetchData()\n  },\n})\n\nmodule.exports = GalleryDecorator\n\nvar NotOnViewGalleryDecorator = React.createClass({\n  render() {\n    var message = 'Very few of the artworks at Mia can be \"on view\" at any point in time.\\n\\n' +\n    \"The museum's [Print and Photograph Study Rooms](https://new.artsmia.org/visit/study-rooms/) offer individuals and groups the opportunity to examine off-view artworks (including woodcuts, engravings, etchings, lithographs, screenprints, drawings, watercolors, artist’s books, photography, and new media) upon appointment.\"\n\n    return <Markdown>{message}</Markdown>\n  }\n})\n"
      ]
    },
    "mtime": 1485807805242
  },
  "{\"filename\":\"/var/www/art/src/map.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "object-without-properties"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\nvar Router = require('react-router');\nvar cx = require('classnames');\nvar Isvg = require('react-inlinesvg');\n\nvar Map = React.createClass({\n  displayName: 'Map',\n\n  mixins: [Router.Navigation],\n\n  render: function render() {\n    var _this = this;\n\n    var _props = this.props;\n    var number = _props.number;\n    var prevLink = _props.prevLink;\n    var nextLink = _props.nextLink;\n\n    var extraProps = _objectWithoutProperties(_props, ['number', 'prevLink', 'nextLink']);\n\n    var thumbnail = React.createElement('img', {\n      src: 'https://artsmia.github.io/map/galleries/' + number + '.png',\n      onClick: this.handleClick\n    });\n    var floor = this.state.floor || this.props.floor || parseInt(parseInt(number) / 100);\n    var svg = React.createElement(\n      'div',\n      { style: { cursor: 'pointer' } },\n      React.createElement(\n        'div',\n        {\n          onClick: this.handleMapClick,\n          onMouseOver: this.handleMouseOver,\n          onMouseOut: this.handleMouseOut },\n        React.createElement(\n          Isvg,\n          {\n            src: '/map/svgs/' + floor + '.svg',\n            key: floor,\n            onLoad: this.handleSvgLoad,\n            preloader: React.createClass({ render: function render() {\n                return thumbnail;\n              } })\n          },\n          thumbnail\n        )\n      ),\n      React.createElement(FloorControls, {\n        map: this,\n        active: floor,\n        handleChange: this.changeFloor,\n        closeMap: function () {\n          return _this.setState({ open: false });\n        },\n        startOpen: this.props.startOpen\n      })\n    );\n\n    return React.createElement(\n      'div',\n      extraProps,\n      React.createElement(\n        'div',\n        { className: cx('map', { open: this.state.open }) },\n        this.state.open ? svg : thumbnail\n      ),\n      number && (prevLink || nextLink) && React.createElement(\n        'div',\n        { style: { textAlign: 'center' } },\n        prevLink,\n        React.createElement(\n          'span',\n          null,\n          ' G',\n          number,\n          ' '\n        ),\n        nextLink\n      )\n    );\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      open: this.props.startOpen || false\n    };\n  },\n\n  handleClick: function handleClick() {\n    if (!this.state.open) return this.setState({ open: true });\n  },\n\n  handleMapClick: function handleMapClick(event) {\n    var text = this.getSvgText(event.target);\n    if (text) {\n      var gallery = text.textContent.match(/(\\d+a?)/)[0];\n      if (266 <= parseInt(gallery) && parseInt(gallery) <= 274) gallery = '266-G274';\n      this.highlightGallery(text);\n      this.changeGallery(gallery);\n    }\n  },\n\n  handleMouseOver: function handleMouseOver(event) {\n    if (!this.state.open) return; // don't handle mouseover until map opens\n\n    var text = this.getSvgText(event.target);\n    if (text) {\n      var gallery = text.textContent.match(/(\\d+a?)/)[0];\n      this.hoverGallery(text);\n      this.props.onHover && this.props.onHover(gallery);\n    }\n  },\n\n  handleMouseOut: function handleMouseOut(event) {\n    this.setState({ hoveredPoly: null });\n  },\n\n  // recursively climb the SVG from where the click event happened\n  // until we find a `<text>` node, which will tell us what gallery\n  // was clicked\n  getSvgText: function getSvgText(node) {\n    var wantedNode = arguments.length <= 1 || arguments[1] === undefined ? 'text' : arguments[1];\n\n    if (node.nodeName == wantedNode) return node;\n\n    var parent = node.parentElement;\n    if (parent.nodeName !== 'g') return null;\n\n    var next = parent.querySelector(wantedNode) || parent;\n    return this.getSvgText(next);\n  },\n\n  handleSvgLoad: function handleSvgLoad(event) {\n    var _this2 = this;\n\n    var allTexts = React.findDOMNode(this).querySelectorAll('svg text');\n    var activeText = Array.from(allTexts).filter(function (t) {\n      return t.textContent == _this2.props.number;\n    });\n    this.highlightGallery(activeText && activeText[0]);\n  },\n\n  changeGallery: function changeGallery(nextGallery) {\n    this.transitionTo('gallery', { gallery: nextGallery });\n  },\n\n  highlightGallery: function highlightGallery(element) {\n    var poly = this.colorGallery(element);\n    var activePoly = this.state.activePoly;\n\n    this.setState({ activePoly: poly });\n  },\n\n  hoverGallery: function hoverGallery(element) {\n    var poly = this.colorGallery(element);\n    var hoveredPoly = this.state.hoveredPoly;\n\n    this.setState({ hoveredPoly: poly });\n  },\n\n  colorGallery: function colorGallery(element) {\n    if (!element) return;\n    var accentColor = '#fff';\n    var poly = element.parentElement.querySelector('polygon');\n    poly && poly.style.setProperty('fill', accentColor);\n    return poly;\n  },\n\n  resetGallery: function resetGallery(poly) {\n    // `style.fill` overrides the `fill` attribute without clobbering it\n    // so we can reset it to the original color with `''`\n    poly && poly.style.setProperty('fill', '');\n  },\n\n  componentDidUpdate: function componentDidUpdate(prevProps, prevState) {\n    var prevActive = prevState.activePoly;\n    var prevHovered = prevState.hoveredPoly;\n    var _state = this.state;\n    var activePoly = _state.activePoly;\n    var hoveredPoly = _state.hoveredPoly;\n\n    if (prevActive != activePoly) this.resetGallery(prevActive);\n    if (prevHovered != hoveredPoly && prevHovered != activePoly) this.resetGallery(prevHovered);\n\n    if (prevProps.number !== this.props.number) {\n      this.handleSvgLoad(); // reset the highlighted gallery\n    }\n  },\n\n  changeFloor: function changeFloor(toFloor) {\n    this.setState({ floor: toFloor });\n  }\n});\n\nvar FloorControls = React.createClass({\n  displayName: 'FloorControls',\n\n  render: function render() {\n    var _this3 = this;\n\n    var buttonStyle = { display: 'block' };\n    var floorControls = [3, 2, 1].map(function (_floor) {\n      var text = _floor == _this3.props.active ? 'floor ' + _floor : _floor;\n      return React.createElement(\n        'button',\n        { style: buttonStyle, onClick: _this3.props.handleChange.bind(_this3.props.map, _floor), key: _floor },\n        text\n      );\n    });\n\n    var controlStyle = {\n      float: 'right',\n      margin: '-7em 2em 0 0',\n      position: 'relative',\n      zIndex: '10'\n    };\n\n    return React.createElement(\n      'div',\n      { style: controlStyle },\n      floorControls,\n      !this.props.startOpen && React.createElement(\n        'button',\n        { style: buttonStyle, onClick: this.props.closeMap },\n        'close map'\n      )\n    );\n  }\n});\n\nmodule.exports = Map;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvbWFwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0FBQ3BDLElBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTtBQUM5QixJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQTs7QUFFckMsSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQzFCLFFBQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUM7O0FBRTNCLFFBQU0sRUFBQSxrQkFBRzs7O2lCQUMyQyxJQUFJLENBQUMsS0FBSztRQUF2RCxNQUFNLFVBQU4sTUFBTTtRQUFFLFFBQVEsVUFBUixRQUFRO1FBQUUsUUFBUSxVQUFSLFFBQVE7O1FBQUssVUFBVTs7QUFDOUMsUUFBSSxTQUFTLEdBQUc7QUFDWixTQUFHLCtDQUE2QyxNQUFNLFNBQU87QUFDN0QsYUFBTyxFQUFFLElBQUksQ0FBQyxXQUFXLEFBQUM7TUFDeEIsQ0FBQTtBQUNOLFFBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxJQUN2QixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssSUFDaEIsUUFBUSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsR0FBQyxHQUFHLENBQUMsQ0FBQTtBQUNuQyxRQUFJLEdBQUcsR0FBRzs7UUFBSyxLQUFLLEVBQUUsRUFBQyxNQUFNLEVBQUUsU0FBUyxFQUFDLEFBQUM7TUFDeEM7OztBQUNFLGlCQUFPLEVBQUUsSUFBSSxDQUFDLGNBQWMsQUFBQztBQUM3QixxQkFBVyxFQUFFLElBQUksQ0FBQyxlQUFlLEFBQUM7QUFDbEMsb0JBQVUsRUFBRSxJQUFJLENBQUMsY0FBYyxBQUFDO1FBQ2hDO0FBQUMsY0FBSTs7QUFD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YztBQUN0QixjQUFRLEVBQUUsVUFBVTtBQUNwQixZQUFNLEVBQUUsSUFBSTtLQUNiLENBQUE7O0FBRUQsV0FBTzs7UUFBSyxLQUFLLEVBQUUsWUFBWSxBQUFDO01BQzdCLGFBQWE7TUFDYixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxJQUFJOztVQUFRLEtBQUssRUFBRSxXQUFXLEFBQUMsRUFBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEFBQUM7O09BQW1CO0tBQ2xHLENBQUE7R0FDUDtDQUNGLENBQUMsQ0FBQTs7QUFFRixNQUFNLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL21hcC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIGN4ID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpXG52YXIgSXN2ZyA9IHJlcXVpcmUoJ3JlYWN0LWlubGluZXN2ZycpXG5cbnZhciBNYXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIG1peGluczogW1JvdXRlci5OYXZpZ2F0aW9uXSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHtudW1iZXIsIHByZXZMaW5rLCBuZXh0TGluaywgLi4uZXh0cmFQcm9wc30gPSB0aGlzLnByb3BzXG4gICAgdmFyIHRodW1ibmFpbCA9IDxpbWdcbiAgICAgICAgc3JjPXtgaHR0cHM6Ly9hcnRzbWlhLmdpdGh1Yi5pby9tYXAvZ2FsbGVyaWVzLyR7bnVtYmVyfS5wbmdgfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfVxuICAgICAgICAvPlxuICAgIHZhciBmbG9vciA9IHRoaXMuc3RhdGUuZmxvb3JcbiAgICAgIHx8IHRoaXMucHJvcHMuZmxvb3JcbiAgICAgIHx8IHBhcnNlSW50KHBhcnNlSW50KG51bWJlcikvMTAwKVxuICAgIHZhciBzdmcgPSA8ZGl2IHN0eWxlPXt7Y3Vyc29yOiAncG9pbnRlcid9fT5cbiAgICAgIDxkaXZcbiAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVNYXBDbGlja31cbiAgICAgICAgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlTW91c2VPdmVyfVxuICAgICAgICBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZU1vdXNlT3V0fT5cbiAgICAgICAgPElzdmdcbiAgICAgICAgICBzcmM9e2AvbWFwL3N2Z3MvJHtmbG9vcn0uc3ZnYH1cbiAgICAgICAgICBrZXk9e2Zsb29yfVxuICAgICAgICAgIG9uTG9hZD17dGhpcy5oYW5kbGVTdmdMb2FkfVxuICAgICAgICAgIHByZWxvYWRlcj17UmVhY3QuY3JlYXRlQ2xhc3Moe3JlbmRlcjogKCkgPT4gdGh1bWJuYWlsfSl9XG4gICAgICAgID5cbiAgICAgICAgICB7dGh1bWJuYWlsfVxuICAgICAgICA8L0lzdmc+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxGbG9vckNvbnRyb2xzXG4gICAgICAgIG1hcD17dGhpc31cbiAgICAgICAgYWN0aXZlPXtmbG9vcn1cbiAgICAgICAgaGFuZGxlQ2hhbmdlPXt0aGlzLmNoYW5nZUZsb29yfVxuICAgICAgICBjbG9zZU1hcD17KCkgPT4gdGhpcy5zZXRTdGF0ZSh7b3BlbjogZmFsc2V9KX1cbiAgICAgICAgc3RhcnRPcGVuPXt0aGlzLnByb3BzLnN0YXJ0T3Blbn1cbiAgICAgICAgLz5cbiAgICA8L2Rpdj5cblxuICAgIHJldHVybiA8ZGl2IHsuLi5leHRyYVByb3BzfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjeCgnbWFwJywge29wZW46IHRoaXMuc3RhdGUub3Blbn0pfT5cbiAgICAgICAge3RoaXMuc3RhdGUub3BlbiA/IHN2ZyA6IHRodW1ibmFpbH1cbiAgICAgIDwvZGl2PlxuICAgICAge251bWJlciAmJiAocHJldkxpbmsgfHwgbmV4dExpbmspICYmIDxkaXYgc3R5bGU9e3t0ZXh0QWxpZ246ICdjZW50ZXInfX0+XG4gICAgICAgIHtwcmV2TGlua31cbiAgICAgICAgPHNwYW4+IEd7bnVtYmVyfSA8L3NwYW4+XG4gICAgICAgIHtuZXh0TGlua31cbiAgICAgIDwvZGl2Pn1cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9wZW46IHRoaXMucHJvcHMuc3RhcnRPcGVuIHx8IGZhbHNlLFxuICAgIH1cbiAgfSxcblxuICBoYW5kbGVDbGljaygpIHtcbiAgICBpZighdGhpcy5zdGF0ZS5vcGVuKSByZXR1cm4gdGhpcy5zZXRTdGF0ZSh7b3BlbjogdHJ1ZX0pXG4gIH0sXG5cbiAgaGFuZGxlTWFwQ2xpY2soZXZlbnQpIHtcbiAgICB2YXIgdGV4dCA9IHRoaXMuZ2V0U3ZnVGV4dChldmVudC50YXJnZXQpXG4gICAgaWYodGV4dCkge1xuICAgICAgdmFyIGdhbGxlcnkgPSB0ZXh0LnRleHRDb250ZW50Lm1hdGNoKC8oXFxkK2E/KS8pWzBdXG4gICAgICBpZigyNjYgPD0gcGFyc2VJbnQoZ2FsbGVyeSkgJiYgcGFyc2VJbnQoZ2FsbGVyeSkgPD0gMjc0KSBnYWxsZXJ5ID0gJzI2Ni1HMjc0J1xuICAgICAgdGhpcy5oaWdobGlnaHRHYWxsZXJ5KHRleHQpXG4gICAgICB0aGlzLmNoYW5nZUdhbGxlcnkoZ2FsbGVyeSlcbiAgICB9XG4gIH0sXG5cbiAgaGFuZGxlTW91c2VPdmVyKGV2ZW50KSB7XG4gICAgaWYoIXRoaXMuc3RhdGUub3BlbikgcmV0dXJuIC8vIGRvbid0IGhhbmRsZSBtb3VzZW92ZXIgdW50aWwgbWFwIG9wZW5zXG5cbiAgICB2YXIgdGV4dCA9IHRoaXMuZ2V0U3ZnVGV4dChldmVudC50YXJnZXQpXG4gICAgaWYodGV4dCkge1xuICAgICAgdmFyIGdhbGxlcnkgPSB0ZXh0LnRleHRDb250ZW50Lm1hdGNoKC8oXFxkK2E/KS8pWzBdXG4gICAgICB0aGlzLmhvdmVyR2FsbGVyeSh0ZXh0KVxuICAgICAgdGhpcy5wcm9wcy5vbkhvdmVyICYmIHRoaXMucHJvcHMub25Ib3ZlcihnYWxsZXJ5KVxuICAgIH1cbiAgfSxcblxuICBoYW5kbGVNb3VzZU91dChldmVudCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe2hvdmVyZWRQb2x5OiBudWxsfSlcbiAgfSxcblxuICAvLyByZWN1cnNpdmVseSBjbGltYiB0aGUgU1ZHIGZyb20gd2hlcmUgdGhlIGNsaWNrIGV2ZW50IGhhcHBlbmVkXG4gIC8vIHVudGlsIHdlIGZpbmQgYSBgPHRleHQ+YCBub2RlLCB3aGljaCB3aWxsIHRlbGwgdXMgd2hhdCBnYWxsZXJ5XG4gIC8vIHdhcyBjbGlja2VkXG4gIGdldFN2Z1RleHQobm9kZSwgd2FudGVkTm9kZT0ndGV4dCcpIHtcbiAgICBpZihub2RlLm5vZGVOYW1lID09IHdhbnRlZE5vZGUpIHJldHVybiBub2RlXG5cbiAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnRFbGVtZW50XG4gICAgaWYocGFyZW50Lm5vZGVOYW1lICE9PSAnZycpIHJldHVybiBudWxsXG5cbiAgICB2YXIgbmV4dCA9IHBhcmVudC5xdWVyeVNlbGVjdG9yKHdhbnRlZE5vZGUpIHx8IHBhcmVudFxuICAgIHJldHVybiB0aGlzLmdldFN2Z1RleHQobmV4dClcbiAgfSxcblxuICBoYW5kbGVTdmdMb2FkKGV2ZW50KSB7XG4gICAgdmFyIGFsbFRleHRzID0gUmVhY3QuZmluZERPTU5vZGUodGhpcykucXVlcnlTZWxlY3RvckFsbCgnc3ZnIHRleHQnKVxuICAgIHZhciBhY3RpdmVUZXh0ID0gQXJyYXkuZnJvbShhbGxUZXh0cylcbiAgICAuZmlsdGVyKHQgPT4gdC50ZXh0Q29udGVudCA9PSB0aGlzLnByb3BzLm51bWJlcilcbiAgICB0aGlzLmhpZ2hsaWdodEdhbGxlcnkoYWN0aXZlVGV4dCAmJiBhY3RpdmVUZXh0WzBdKVxuICB9LFxuXG4gIGNoYW5nZUdhbGxlcnkobmV4dEdhbGxlcnkpIHtcbiAgICB0aGlzLnRyYW5zaXRpb25UbygnZ2FsbGVyeScsIHtnYWxsZXJ5OiBuZXh0R2FsbGVyeX0pXG4gIH0sXG5cbiAgaGlnaGxpZ2h0R2FsbGVyeShlbGVtZW50KSB7XG4gICAgdmFyIHBvbHkgPSB0aGlzLmNvbG9yR2FsbGVyeShlbGVtZW50KVxuICAgIHZhciB7YWN0aXZlUG9seX0gPSB0aGlzLnN0YXRlXG4gICAgdGhpcy5zZXRTdGF0ZSh7YWN0aXZlUG9seTogcG9seX0pXG4gIH0sXG5cbiAgaG92ZXJHYWxsZXJ5KGVsZW1lbnQpIHtcbiAgICB2YXIgcG9seSA9IHRoaXMuY29sb3JHYWxsZXJ5KGVsZW1lbnQpXG4gICAgdmFyIHtob3ZlcmVkUG9seX0gPSB0aGlzLnN0YXRlXG4gICAgdGhpcy5zZXRTdGF0ZSh7aG92ZXJlZFBvbHk6IHBvbHl9KVxuICB9LFxuXG4gIGNvbG9yR2FsbGVyeShlbGVtZW50KSB7XG4gICAgaWYoIWVsZW1lbnQpIHJldHVyblxuICAgIHZhciBhY2NlbnRDb2xvciA9ICcjZmZmJ1xuICAgIHZhciBwb2x5ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3BvbHlnb24nKVxuICAgIHBvbHkgJiYgcG9seS5zdHlsZS5zZXRQcm9wZXJ0eSgnZmlsbCcsIGFjY2VudENvbG9yKVxuICAgIHJldHVybiBwb2x5XG4gIH0sXG5cbiAgcmVzZXRHYWxsZXJ5KHBvbHkpIHtcbiAgICAvLyBgc3R5bGUuZmlsbGAgb3ZlcnJpZGVzIHRoZSBgZmlsbGAgYXR0cmlidXRlIHdpdGhvdXQgY2xvYmJlcmluZyBpdFxuICAgIC8vIHNvIHdlIGNhbiByZXNldCBpdCB0byB0aGUgb3JpZ2luYWwgY29sb3Igd2l0aCBgJydgXG4gICAgcG9seSAmJiBwb2x5LnN0eWxlLnNldFByb3BlcnR5KCdmaWxsJywgJycpXG4gIH0sXG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgbGV0IHByZXZBY3RpdmUgPSBwcmV2U3RhdGUuYWN0aXZlUG9seVxuICAgIGxldCBwcmV2SG92ZXJlZCA9IHByZXZTdGF0ZS5ob3ZlcmVkUG9seVxuICAgIGxldCB7YWN0aXZlUG9seSwgaG92ZXJlZFBvbHl9ID0gdGhpcy5zdGF0ZVxuXG4gICAgaWYocHJldkFjdGl2ZSAhPSBhY3RpdmVQb2x5KSB0aGlzLnJlc2V0R2FsbGVyeShwcmV2QWN0aXZlKVxuICAgIGlmKHByZXZIb3ZlcmVkICE9IGhvdmVyZWRQb2x5ICYmIHByZXZIb3ZlcmVkICE9IGFjdGl2ZVBvbHkpIHRoaXMucmVzZXRHYWxsZXJ5KHByZXZIb3ZlcmVkKVxuXG4gICAgaWYocHJldlByb3BzLm51bWJlciAhPT0gdGhpcy5wcm9wcy5udW1iZXIpIHtcbiAgICAgIHRoaXMuaGFuZGxlU3ZnTG9hZCgpIC8vIHJlc2V0IHRoZSBoaWdobGlnaHRlZCBnYWxsZXJ5XG4gICAgfVxuICB9LFxuXG4gIGNoYW5nZUZsb29yKHRvRmxvb3IpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtmbG9vcjogdG9GbG9vcn0pXG4gIH0sXG59KVxuXG52YXIgRmxvb3JDb250cm9scyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciBidXR0b25TdHlsZSA9IHtkaXNwbGF5OiAnYmxvY2snfVxuICAgIHZhciBmbG9vckNvbnRyb2xzID0gWzMsMiwxXS5tYXAoX2Zsb29yID0+IHtcbiAgICAgIHZhciB0ZXh0ID0gX2Zsb29yID09IHRoaXMucHJvcHMuYWN0aXZlID8gYGZsb29yICR7X2Zsb29yfWAgOiBfZmxvb3JcbiAgICAgIHJldHVybiA8YnV0dG9uIHN0eWxlPXtidXR0b25TdHlsZX0gb25DbGljaz17dGhpcy5wcm9wcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzLnByb3BzLm1hcCwgX2Zsb29yKX0ga2V5PXtfZmxvb3J9PlxuICAgICAgICB7dGV4dH1cbiAgICAgIDwvYnV0dG9uPlxuICAgIH0pXG5cbiAgICB2YXIgY29udHJvbFN0eWxlID0ge1xuICAgICAgZmxvYXQ6ICdyaWdodCcsXG4gICAgICBtYXJnaW46ICctN2VtIDJlbSAwIDAnLFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICB6SW5kZXg6ICcxMCcsXG4gICAgfVxuXG4gICAgcmV0dXJuIDxkaXYgc3R5bGU9e2NvbnRyb2xTdHlsZX0+XG4gICAgICB7Zmxvb3JDb250cm9sc31cbiAgICAgIHshdGhpcy5wcm9wcy5zdGFydE9wZW4gJiYgPGJ1dHRvbiBzdHlsZT17YnV0dG9uU3R5bGV9IG9uQ2xpY2s9e3RoaXMucHJvcHMuY2xvc2VNYXB9PmNsb3NlIG1hcDwvYnV0dG9uPn1cbiAgICA8L2Rpdj5cbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gTWFwXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/map.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/map.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar cx = require('classnames')\nvar Isvg = require('react-inlinesvg')\n\nvar Map = React.createClass({\n  mixins: [Router.Navigation],\n\n  render() {\n    var {number, prevLink, nextLink, ...extraProps} = this.props\n    var thumbnail = <img\n        src={`https://artsmia.github.io/map/galleries/${number}.png`}\n        onClick={this.handleClick}\n        />\n    var floor = this.state.floor\n      || this.props.floor\n      || parseInt(parseInt(number)/100)\n    var svg = <div style={{cursor: 'pointer'}}>\n      <div\n        onClick={this.handleMapClick}\n        onMouseOver={this.handleMouseOver}\n        onMouseOut={this.handleMouseOut}>\n        <Isvg\n          src={`/map/svgs/${floor}.svg`}\n          key={floor}\n          onLoad={this.handleSvgLoad}\n          preloader={React.createClass({render: () => thumbnail})}\n        >\n          {thumbnail}\n        </Isvg>\n      </div>\n      <FloorControls\n        map={this}\n        active={floor}\n        handleChange={this.changeFloor}\n        closeMap={() => this.setState({open: false})}\n        startOpen={this.props.startOpen}\n        />\n    </div>\n\n    return <div {...extraProps}>\n      <div className={cx('map', {open: this.state.open})}>\n        {this.state.open ? svg : thumbnail}\n      </div>\n      {number && (prevLink || nextLink) && <div style={{textAlign: 'center'}}>\n        {prevLink}\n        <span> G{number} </span>\n        {nextLink}\n      </div>}\n    </div>\n  },\n\n  getInitialState() {\n    return {\n      open: this.props.startOpen || false,\n    }\n  },\n\n  handleClick() {\n    if(!this.state.open) return this.setState({open: true})\n  },\n\n  handleMapClick(event) {\n    var text = this.getSvgText(event.target)\n    if(text) {\n      var gallery = text.textContent.match(/(\\d+a?)/)[0]\n      if(266 <= parseInt(gallery) && parseInt(gallery) <= 274) gallery = '266-G274'\n      this.highlightGallery(text)\n      this.changeGallery(gallery)\n    }\n  },\n\n  handleMouseOver(event) {\n    if(!this.state.open) return // don't handle mouseover until map opens\n\n    var text = this.getSvgText(event.target)\n    if(text) {\n      var gallery = text.textContent.match(/(\\d+a?)/)[0]\n      this.hoverGallery(text)\n      this.props.onHover && this.props.onHover(gallery)\n    }\n  },\n\n  handleMouseOut(event) {\n    this.setState({hoveredPoly: null})\n  },\n\n  // recursively climb the SVG from where the click event happened\n  // until we find a `<text>` node, which will tell us what gallery\n  // was clicked\n  getSvgText(node, wantedNode='text') {\n    if(node.nodeName == wantedNode) return node\n\n    var parent = node.parentElement\n    if(parent.nodeName !== 'g') return null\n\n    var next = parent.querySelector(wantedNode) || parent\n    return this.getSvgText(next)\n  },\n\n  handleSvgLoad(event) {\n    var allTexts = React.findDOMNode(this).querySelectorAll('svg text')\n    var activeText = Array.from(allTexts)\n    .filter(t => t.textContent == this.props.number)\n    this.highlightGallery(activeText && activeText[0])\n  },\n\n  changeGallery(nextGallery) {\n    this.transitionTo('gallery', {gallery: nextGallery})\n  },\n\n  highlightGallery(element) {\n    var poly = this.colorGallery(element)\n    var {activePoly} = this.state\n    this.setState({activePoly: poly})\n  },\n\n  hoverGallery(element) {\n    var poly = this.colorGallery(element)\n    var {hoveredPoly} = this.state\n    this.setState({hoveredPoly: poly})\n  },\n\n  colorGallery(element) {\n    if(!element) return\n    var accentColor = '#fff'\n    var poly = element.parentElement.querySelector('polygon')\n    poly && poly.style.setProperty('fill', accentColor)\n    return poly\n  },\n\n  resetGallery(poly) {\n    // `style.fill` overrides the `fill` attribute without clobbering it\n    // so we can reset it to the original color with `''`\n    poly && poly.style.setProperty('fill', '')\n  },\n\n  componentDidUpdate(prevProps, prevState) {\n    let prevActive = prevState.activePoly\n    let prevHovered = prevState.hoveredPoly\n    let {activePoly, hoveredPoly} = this.state\n\n    if(prevActive != activePoly) this.resetGallery(prevActive)\n    if(prevHovered != hoveredPoly && prevHovered != activePoly) this.resetGallery(prevHovered)\n\n    if(prevProps.number !== this.props.number) {\n      this.handleSvgLoad() // reset the highlighted gallery\n    }\n  },\n\n  changeFloor(toFloor) {\n    this.setState({floor: toFloor})\n  },\n})\n\nvar FloorControls = React.createClass({\n  render() {\n    var buttonStyle = {display: 'block'}\n    var floorControls = [3,2,1].map(_floor => {\n      var text = _floor == this.props.active ? `floor ${_floor}` : _floor\n      return <button style={buttonStyle} onClick={this.props.handleChange.bind(this.props.map, _floor)} key={_floor}>\n        {text}\n      </button>\n    })\n\n    var controlStyle = {\n      float: 'right',\n      margin: '-7em 2em 0 0',\n      position: 'relative',\n      zIndex: '10',\n    }\n\n    return <div style={controlStyle}>\n      {floorControls}\n      {!this.props.startOpen && <button style={buttonStyle} onClick={this.props.closeMap}>close map</button>}\n    </div>\n  },\n})\n\nmodule.exports = Map\n"
      ]
    },
    "mtime": 1485807805246
  },
  "{\"filename\":\"/var/www/art/src/decorate/highlights.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "\"use strict\";\n\nvar React = require('react');\n\nvar HighlightsDecorator = React.createClass({\n  displayName: \"HighlightsDecorator\",\n\n  render: function render() {\n    return React.createElement(\n      \"div\",\n      { className: \"decorator d-highlights\" },\n      React.createElement(\n        \"p\",\n        null,\n        \"These are the highlights of Mia's collection. The must-see masterpieces, the beloved visitor favorites, the great stories of the museum. Each has something important to say about creativity and wonder, the world and our place in it. What do they say to you?\"\n      )\n    );\n  }\n});\n\nmodule.exports = HighlightsDecorator;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZGVjb3JhdGUvaGlnaGxpZ2h0cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTs7QUFFNUIsSUFBSSxtQkFBbUIsR0FBSSxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDM0MsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsV0FBTzs7UUFBSyxTQUFTLEVBQUMsd0JBQXdCO01BQUM7Ozs7T0FLM0M7S0FBTSxDQUFBO0dBQ1g7Q0FDRixDQUFDLENBQUE7O0FBRUYsTUFBTSxDQUFDLE9BQU8sR0FBRyxtQkFBbUIsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2RlY29yYXRlL2hpZ2hsaWdodHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG5cbnZhciBIaWdobGlnaHRzRGVjb3JhdG9yID0gIFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImRlY29yYXRvciBkLWhpZ2hsaWdodHNcIj48cD5cbiAgICAgIFRoZXNlIGFyZSB0aGUgaGlnaGxpZ2h0cyBvZiBNaWEncyBjb2xsZWN0aW9uLiBUaGUgbXVzdC1zZWUgbWFzdGVycGllY2VzLFxuICAgICAgdGhlIGJlbG92ZWQgdmlzaXRvciBmYXZvcml0ZXMsIHRoZSBncmVhdCBzdG9yaWVzIG9mIHRoZSBtdXNldW0uIEVhY2ggaGFzXG4gICAgICBzb21ldGhpbmcgaW1wb3J0YW50IHRvIHNheSBhYm91dCBjcmVhdGl2aXR5IGFuZCB3b25kZXIsIHRoZSB3b3JsZCBhbmQgb3VyXG4gICAgICBwbGFjZSBpbiBpdC4gV2hhdCBkbyB0aGV5IHNheSB0byB5b3U/XG4gICAgPC9wPjwvZGl2PlxuICB9XG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IEhpZ2hsaWdodHNEZWNvcmF0b3JcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/decorate/highlights.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;AAE5B,IAAI,mBAAmB,GAAI,KAAK,CAAC,WAAW,CAAC;;;AAC3C,QAAM,EAAA,kBAAG;AACP,WAAO;;QAAK,SAAS,EAAC,wBAAwB;MAAC;;;;OAK3C;KAAM,CAAA;GACX;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,mBAAmB,CAAA",
      "file": "/var/www/art/src/decorate/highlights.js",
      "sourcesContent": [
        "var React = require('react')\n\nvar HighlightsDecorator =  React.createClass({\n  render() {\n    return <div className=\"decorator d-highlights\"><p>\n      These are the highlights of Mia's collection. The must-see masterpieces,\n      the beloved visitor favorites, the great stories of the museum. Each has\n      something important to say about creativity and wonder, the world and our\n      place in it. What do they say to you?\n    </p></div>\n  }\n})\n\nmodule.exports = HighlightsDecorator\n"
      ]
    },
    "mtime": 1447960210959
  },
  "{\"filename\":\"/var/www/art/src/decorate/recent.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "\"use strict\";\n\nvar React = require('react');\n\nvar RecentDecorator = React.createClass({\n  displayName: \"RecentDecorator\",\n\n  render: function render() {\n    return React.createElement(\n      \"div\",\n      { className: \"decorator d-highlights\" },\n      React.createElement(\n        \"p\",\n        null,\n        \"Mia continues to add important artworks to its collection that enrich our perspectives on artists, eras, and cultures.\"\n      )\n    );\n  }\n});\n\nmodule.exports = RecentDecorator;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZGVjb3JhdGUvcmVjZW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBOztBQUU1QixJQUFJLGVBQWUsR0FBSSxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDdkMsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsV0FBTzs7UUFBSyxTQUFTLEVBQUMsd0JBQXdCO01BQUM7Ozs7T0FHM0M7S0FBTSxDQUFBO0dBQ1g7Q0FDRixDQUFDLENBQUE7O0FBRUYsTUFBTSxDQUFDLE9BQU8sR0FBRyxlQUFlLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9kZWNvcmF0ZS9yZWNlbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG5cbnZhciBSZWNlbnREZWNvcmF0b3IgPSAgUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiZGVjb3JhdG9yIGQtaGlnaGxpZ2h0c1wiPjxwPlxuICAgICAgTWlhIGNvbnRpbnVlcyB0byBhZGQgaW1wb3J0YW50IGFydHdvcmtzIHRvIGl0cyBjb2xsZWN0aW9uIHRoYXQgZW5yaWNoIG91clxuICAgICAgcGVyc3BlY3RpdmVzIG9uIGFydGlzdHMsIGVyYXMsIGFuZCBjdWx0dXJlcy5cbiAgICA8L3A+PC9kaXY+XG4gIH1cbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gUmVjZW50RGVjb3JhdG9yXG5cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/decorate/recent.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;AAE5B,IAAI,eAAe,GAAI,KAAK,CAAC,WAAW,CAAC;;;AACvC,QAAM,EAAA,kBAAG;AACP,WAAO;;QAAK,SAAS,EAAC,wBAAwB;MAAC;;;;OAG3C;KAAM,CAAA;GACX;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,eAAe,CAAA",
      "file": "/var/www/art/src/decorate/recent.js",
      "sourcesContent": [
        "var React = require('react')\n\nvar RecentDecorator =  React.createClass({\n  render() {\n    return <div className=\"decorator d-highlights\"><p>\n      Mia continues to add important artworks to its collection that enrich our\n      perspectives on artists, eras, and cultures.\n    </p></div>\n  }\n})\n\nmodule.exports = RecentDecorator\n\n"
      ]
    },
    "mtime": 1447960210959
  },
  "{\"filename\":\"/var/www/art/src/decorate/rights.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\n\nvar rightsDescriptions = require('../rights-types.js');\n\nvar RightsDecorator = React.createClass({\n  displayName: 'RightsDecorator',\n\n  render: function render() {\n    var rightsType = this.props.term[0].match(/rights:\"?([^\"]*)\"?/)[1];\n    var rightsDesc = rightsDescriptions[rightsType];\n    if (!rightsDesc) return React.createElement('span', null);\n\n    return React.createElement(\n      'div',\n      { className: 'decorator' },\n      React.createElement(\n        'h3',\n        null,\n        rightsType\n      ),\n      React.createElement(\n        'p',\n        null,\n        rightsDesc,\n        ' ',\n        React.createElement(\n          'a',\n          { href: 'https://new.artsmia.org/visit/policies-guidelines/#websiteimageaccess&use' },\n          'Mia\\'s Image Access & Use Policy'\n        )\n      )\n    );\n  }\n});\n\nmodule.exports = RightsDecorator;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZGVjb3JhdGUvcmlnaHRzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBOztBQUU1QixJQUFJLGtCQUFrQixHQUFHLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFBOztBQUV0RCxJQUFJLGVBQWUsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDdEMsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsUUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLG9CQUFvQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDbEUsUUFBSSxVQUFVLEdBQUcsa0JBQWtCLENBQUMsVUFBVSxDQUFDLENBQUE7QUFDL0MsUUFBRyxDQUFDLFVBQVUsRUFBRSxPQUFPLGlDQUFRLENBQUE7O0FBRS9CLFdBQU87O1FBQUssU0FBUyxFQUFDLFdBQVc7TUFDL0I7OztRQUFLLFVBQVU7T0FBTTtNQUNyQjs7O1FBQUksVUFBVTs7UUFBRTs7WUFBRyxJQUFJLEVBQUMsMkVBQTJFOztTQUFvQztPQUFJO0tBQ3ZJLENBQUE7R0FDUDtDQUNGLENBQUMsQ0FBQTs7QUFFRixNQUFNLENBQUMsT0FBTyxHQUFHLGVBQWUsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2RlY29yYXRlL3JpZ2h0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcblxudmFyIHJpZ2h0c0Rlc2NyaXB0aW9ucyA9IHJlcXVpcmUoJy4uL3JpZ2h0cy10eXBlcy5qcycpXG5cbnZhciBSaWdodHNEZWNvcmF0b3IgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIgcmlnaHRzVHlwZSA9IHRoaXMucHJvcHMudGVybVswXS5tYXRjaCgvcmlnaHRzOlwiPyhbXlwiXSopXCI/LylbMV1cbiAgICB2YXIgcmlnaHRzRGVzYyA9IHJpZ2h0c0Rlc2NyaXB0aW9uc1tyaWdodHNUeXBlXVxuICAgIGlmKCFyaWdodHNEZXNjKSByZXR1cm4gPHNwYW4gLz5cblxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImRlY29yYXRvclwiPlxuICAgICAgPGgzPntyaWdodHNUeXBlfTwvaDM+XG4gICAgICA8cD57cmlnaHRzRGVzY30gPGEgaHJlZj1cImh0dHBzOi8vbmV3LmFydHNtaWEub3JnL3Zpc2l0L3BvbGljaWVzLWd1aWRlbGluZXMvI3dlYnNpdGVpbWFnZWFjY2VzcyZ1c2VcIj5NaWEncyBJbWFnZSBBY2Nlc3MgJiBVc2UgUG9saWN5PC9hPjwvcD5cbiAgICA8L2Rpdj5cbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gUmlnaHRzRGVjb3JhdG9yXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/decorate/rights.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;AAE5B,IAAI,kBAAkB,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAA;;AAEtD,IAAI,eAAe,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACtC,QAAM,EAAA,kBAAG;AACP,QAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,CAAA;AAClE,QAAI,UAAU,GAAG,kBAAkB,CAAC,UAAU,CAAC,CAAA;AAC/C,QAAG,CAAC,UAAU,EAAE,OAAO,iCAAQ,CAAA;;AAE/B,WAAO;;QAAK,SAAS,EAAC,WAAW;MAC/B;;;QAAK,UAAU;OAAM;MACrB;;;QAAI,UAAU;;QAAE;;YAAG,IAAI,EAAC,2EAA2E;;SAAoC;OAAI;KACvI,CAAA;GACP;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,eAAe,CAAA",
      "file": "/var/www/art/src/decorate/rights.js",
      "sourcesContent": [
        "var React = require('react')\n\nvar rightsDescriptions = require('../rights-types.js')\n\nvar RightsDecorator = React.createClass({\n  render() {\n    var rightsType = this.props.term[0].match(/rights:\"?([^\"]*)\"?/)[1]\n    var rightsDesc = rightsDescriptions[rightsType]\n    if(!rightsDesc) return <span />\n\n    return <div className=\"decorator\">\n      <h3>{rightsType}</h3>\n      <p>{rightsDesc} <a href=\"https://new.artsmia.org/visit/policies-guidelines/#websiteimageaccess&use\">Mia's Image Access & Use Policy</a></p>\n    </div>\n  },\n})\n\nmodule.exports = RightsDecorator\n"
      ]
    },
    "mtime": 1485807805246
  },
  "{\"filename\":\"/var/www/art/src/rights-types.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "\"use strict\";\n\nmodule.exports = {\n  \"Copyright Protected\": \"Artwork is copyright protected. Permission from the rights holder named here may be required for use. A copyright statement and credit line must accompany image.\",\n  \"Full Permission\": \"Artwork is copyright protected. Mia holds a non-exclusive license to reproduce images from the rights holder named here. A copyright statement and credit line must accompany image.\",\n  \"Need Permission\": \"Copyright protection is assumed for this artwork. Object rights status has not yet been determined or assigned.\",\n  \"No Known Copyright Restrictions\": \"Artwork may be protected by some other intellectual property, or may be considered ineligible for copyright protection (ex. useful articles). Alternately, artwork may be in the public domain in the United States, but the public domain status has not or cannot be clearly determined.\",\n  \"Non-commercial Use\": \"Artwork is copyright protected. Mia holds a non-exclusive license to reproduce images of this artwork, for limited non-commercial uses only, from the rights holder named here. A copyright statement and credit line must accompany image.\",\n  \"Orphaned Work\": \"Artwork may be subject to copyright protection under the terms of current US copyright law. Mia has been unable to identify the creator and/or rights holder. The statement “Copyright of the artist, artist’s estate, or assignees” should accompany image.\",\n  \"Public Domain\": \"Artwork is in the public domain. Images are available for any use.\",\n  \"Permission Denied\": \"Artwork is copyright protected. Mia has contacted the rights holder and the rights holder denied Mia any use rights.\"\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvcmlnaHRzLXR5cGVzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTSxDQUFDLE9BQU8sR0FBRztBQUNmLHVCQUFxQixFQUFFLG1LQUFtSztBQUMxTCxtQkFBaUIsRUFBRSxzTEFBc0w7QUFDek0sbUJBQWlCLEVBQUUsaUhBQWlIO0FBQ3BJLG1DQUFpQyxFQUFFLDRSQUE0UjtBQUMvVCxzQkFBb0IsRUFBRSw2T0FBNk87QUFDblEsaUJBQWUsRUFBRSw4UEFBOFA7QUFDL1EsaUJBQWUsRUFBRSxvRUFBb0U7QUFDckYscUJBQW1CLEVBQUUsc0hBQXNIO0NBQzVJLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9yaWdodHMtdHlwZXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgXCJDb3B5cmlnaHQgUHJvdGVjdGVkXCI6IFwiQXJ0d29yayBpcyBjb3B5cmlnaHQgcHJvdGVjdGVkLiBQZXJtaXNzaW9uIGZyb20gdGhlIHJpZ2h0cyBob2xkZXIgbmFtZWQgaGVyZSBtYXkgYmUgcmVxdWlyZWQgZm9yIHVzZS4gQSBjb3B5cmlnaHQgc3RhdGVtZW50IGFuZCBjcmVkaXQgbGluZSBtdXN0IGFjY29tcGFueSBpbWFnZS5cIixcbiAgXCJGdWxsIFBlcm1pc3Npb25cIjogXCJBcnR3b3JrIGlzIGNvcHlyaWdodCBwcm90ZWN0ZWQuIE1pYSBob2xkcyBhIG5vbi1leGNsdXNpdmUgbGljZW5zZSB0byByZXByb2R1Y2UgaW1hZ2VzIGZyb20gdGhlIHJpZ2h0cyBob2xkZXIgbmFtZWQgaGVyZS4gQSBjb3B5cmlnaHQgc3RhdGVtZW50IGFuZCBjcmVkaXQgbGluZSBtdXN0IGFjY29tcGFueSBpbWFnZS5cIixcbiAgXCJOZWVkIFBlcm1pc3Npb25cIjogXCJDb3B5cmlnaHQgcHJvdGVjdGlvbiBpcyBhc3N1bWVkIGZvciB0aGlzIGFydHdvcmsuIE9iamVjdCByaWdodHMgc3RhdHVzIGhhcyBub3QgeWV0IGJlZW4gZGV0ZXJtaW5lZCBvciBhc3NpZ25lZC5cIixcbiAgXCJObyBLbm93biBDb3B5cmlnaHQgUmVzdHJpY3Rpb25zXCI6IFwiQXJ0d29yayBtYXkgYmUgcHJvdGVjdGVkIGJ5IHNvbWUgb3RoZXIgaW50ZWxsZWN0dWFsIHByb3BlcnR5LCBvciBtYXkgYmUgY29uc2lkZXJlZCBpbmVsaWdpYmxlIGZvciBjb3B5cmlnaHQgcHJvdGVjdGlvbiAoZXguIHVzZWZ1bCBhcnRpY2xlcykuIEFsdGVybmF0ZWx5LCBhcnR3b3JrIG1heSBiZSBpbiB0aGUgcHVibGljIGRvbWFpbiBpbiB0aGUgVW5pdGVkIFN0YXRlcywgYnV0IHRoZSBwdWJsaWMgZG9tYWluIHN0YXR1cyBoYXMgbm90IG9yIGNhbm5vdCBiZSBjbGVhcmx5IGRldGVybWluZWQuXCIsXG4gIFwiTm9uLWNvbW1lcmNpYWwgVXNlXCI6IFwiQXJ0d29yayBpcyBjb3B5cmlnaHQgcHJvdGVjdGVkLiBNaWEgaG9sZHMgYSBub24tZXhjbHVzaXZlIGxpY2Vuc2UgdG8gcmVwcm9kdWNlIGltYWdlcyBvZiB0aGlzIGFydHdvcmssIGZvciBsaW1pdGVkIG5vbi1jb21tZXJjaWFsIHVzZXMgb25seSwgZnJvbSB0aGUgcmlnaHRzIGhvbGRlciBuYW1lZCBoZXJlLiBBIGNvcHlyaWdodCBzdGF0ZW1lbnQgYW5kIGNyZWRpdCBsaW5lIG11c3QgYWNjb21wYW55IGltYWdlLlwiLFxuICBcIk9ycGhhbmVkIFdvcmtcIjogXCJBcnR3b3JrIG1heSBiZSBzdWJqZWN0IHRvIGNvcHlyaWdodCBwcm90ZWN0aW9uIHVuZGVyIHRoZSB0ZXJtcyBvZiBjdXJyZW50IFVTIGNvcHlyaWdodCBsYXcuIE1pYSBoYXMgYmVlbiB1bmFibGUgdG8gaWRlbnRpZnkgdGhlIGNyZWF0b3IgYW5kL29yIHJpZ2h0cyBob2xkZXIuIFRoZSBzdGF0ZW1lbnQg4oCcQ29weXJpZ2h0IG9mIHRoZSBhcnRpc3QsIGFydGlzdOKAmXMgZXN0YXRlLCBvciBhc3NpZ25lZXPigJ0gc2hvdWxkIGFjY29tcGFueSBpbWFnZS5cIixcbiAgXCJQdWJsaWMgRG9tYWluXCI6IFwiQXJ0d29yayBpcyBpbiB0aGUgcHVibGljIGRvbWFpbi4gSW1hZ2VzIGFyZSBhdmFpbGFibGUgZm9yIGFueSB1c2UuXCIsXG4gIFwiUGVybWlzc2lvbiBEZW5pZWRcIjogXCJBcnR3b3JrIGlzIGNvcHlyaWdodCBwcm90ZWN0ZWQuIE1pYSBoYXMgY29udGFjdGVkIHRoZSByaWdodHMgaG9sZGVyIGFuZCB0aGUgcmlnaHRzIGhvbGRlciBkZW5pZWQgTWlhIGFueSB1c2UgcmlnaHRzLlwiLFxufVxuXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/rights-types.js"
      ],
      "names": [],
      "mappings": ";;AAAA,MAAM,CAAC,OAAO,GAAG;AACf,uBAAqB,EAAE,mKAAmK;AAC1L,mBAAiB,EAAE,sLAAsL;AACzM,mBAAiB,EAAE,iHAAiH;AACpI,mCAAiC,EAAE,4RAA4R;AAC/T,sBAAoB,EAAE,6OAA6O;AACnQ,iBAAe,EAAE,8PAA8P;AAC/Q,iBAAe,EAAE,oEAAoE;AACrF,qBAAmB,EAAE,sHAAsH;CAC5I,CAAA",
      "file": "/var/www/art/src/rights-types.js",
      "sourcesContent": [
        "module.exports = {\n  \"Copyright Protected\": \"Artwork is copyright protected. Permission from the rights holder named here may be required for use. A copyright statement and credit line must accompany image.\",\n  \"Full Permission\": \"Artwork is copyright protected. Mia holds a non-exclusive license to reproduce images from the rights holder named here. A copyright statement and credit line must accompany image.\",\n  \"Need Permission\": \"Copyright protection is assumed for this artwork. Object rights status has not yet been determined or assigned.\",\n  \"No Known Copyright Restrictions\": \"Artwork may be protected by some other intellectual property, or may be considered ineligible for copyright protection (ex. useful articles). Alternately, artwork may be in the public domain in the United States, but the public domain status has not or cannot be clearly determined.\",\n  \"Non-commercial Use\": \"Artwork is copyright protected. Mia holds a non-exclusive license to reproduce images of this artwork, for limited non-commercial uses only, from the rights holder named here. A copyright statement and credit line must accompany image.\",\n  \"Orphaned Work\": \"Artwork may be subject to copyright protection under the terms of current US copyright law. Mia has been unable to identify the creator and/or rights holder. The statement “Copyright of the artist, artist’s estate, or assignees” should accompany image.\",\n  \"Public Domain\": \"Artwork is in the public domain. Images are available for any use.\",\n  \"Permission Denied\": \"Artwork is copyright protected. Mia has contacted the rights holder and the rights holder denied Mia any use rights.\",\n}\n\n"
      ]
    },
    "mtime": 1461184284483
  },
  "{\"filename\":\"/var/www/art/src/aggregations.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends",
        "sliced-to-array"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar Aggregations = React.createClass({\n  displayName: 'Aggregations',\n\n  getInitialState: function getInitialState() {\n    return {\n      aggs: this.buildAndSortAggregationsArray(),\n      showAdder: true\n    };\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    this.setState({ aggs: this.buildAndSortAggregationsArray(nextProps) });\n  },\n\n  render: function render() {\n    var _this = this;\n\n    var _props = this.props;\n    var search = _props.search;\n    var query = _props.query;\n    var _state = this.state;\n    var aggs = _state.aggs;\n    var showAdder = _state.showAdder;\n\n    var customFilters = this.customFilters;\n    var toggleAgg = function toggleAgg(agg) {\n      return _this.toggleAggregation.bind(_this, agg);\n    };\n    var toggleMoreAggs = this.toggleMoreAggs;\n    var defListStyle = { display: 'inline-block', margin: '0', verticalAlign: 'top' }; // , opacity: showAgg ? 1 : 0.5\n\n    return React.createElement(\n      'div',\n      { id: 'aggs' },\n      React.createElement(\n        'div',\n        { style: { width: '100%', overflowX: 'scroll', whiteSpace: 'nowrap', paddingBottom: '10px', paddingLeft: '10px' } },\n        this.sortBox(defListStyle),\n        aggs.map(function (agg) {\n          var aggIsActive = search.filters && search.filters.match(new RegExp(agg.name, 'i'));\n          var showAgg = agg.open || aggIsActive;\n          if (showAgg) return React.createElement(\n            'dl',\n            { key: agg.name, id: agg.name, style: defListStyle },\n            React.createElement(\n              'dt',\n              { style: { fontWeight: aggIsActive && 'bold' }, onClick: toggleAgg(agg) },\n              agg.displayName\n            ),\n            (agg.open || aggIsActive) && agg.buckets.slice(0, 5).map(function (bucket) {\n              var filterString = customFilters[agg.name] ? customFilters[agg.name][bucket.key] || bucket.key : agg.name.toLowerCase() + ':\"' + bucket.key + '\"';\n              var filterRegex = new RegExp(decodeURIComponent(filterString).replace(/([\\[\\]\\?])/, '\\\\$1'), 'i');\n              var bucketIsActive = search.filters && search.filters.match(filterRegex);\n              var newFilters = bucketIsActive ? search.filters.replace(filterRegex, '').trim() : ((search.filters || '') + ' ' + filterString).trim();\n              var bucketText = '' + (bucket.key || '\"\"');\n\n              if (bucket.key) return React.createElement(\n                'dd',\n                { key: agg.name + bucket.key, style: { margin: '0', fontWeight: bucketIsActive && 'bold', textDecoration: bucketIsActive && 'underline' } },\n                React.createElement(\n                  'span',\n                  { className: 'objectTotal' },\n                  React.createElement(\n                    Link,\n                    { to: newFilters == '' ? 'searchResults' : 'filteredSearchResults', query: query, params: { terms: '' + search.query, splat: newFilters } },\n                    bucketText,\n                    ' ',\n                    React.createElement(\n                      'span',\n                      { className: 'numbers' },\n                      bucket.doc_count\n                    )\n                  )\n                )\n              );\n            })\n          );\n        })\n      ),\n      React.createElement(\n        'div',\n        { id: 'more-aggs' },\n        React.createElement(\n          'dl',\n          null,\n          aggs.slice(3).map(function (agg) {\n            return React.createElement(\n              'dd',\n              { key: agg.name, onClick: toggleAgg(agg), style: { background: agg.open || agg.active ? 'rgb(35,35,35)' : 'white', color: agg.open || agg.active ? 'white' : 'rgb(35,35,35)' } },\n              agg.displayName\n            );\n          })\n        )\n      )\n    );\n  },\n\n  toggleAggregation: function toggleAggregation(agg) {\n    var aggs = this.state.aggs;\n\n    var open = aggs[aggs.indexOf(agg)].open;\n    aggs[aggs.indexOf(agg)].open = !open;\n    this.setState({ aggs: aggs });\n  },\n\n  toggleMoreAggs: function toggleMoreAggs() {\n    this.setState({ showAdder: !this.state.showAdder });\n  },\n\n  // Aggregations come from ES as an object with named keys.\n  //     {\"On View\": {…}, \"Artist\": {…}}\n  // I want a `map`able array of the objects:\n  //     [{name: \"On View\", …}, {name: \"Artist\", …}]\n  // This does that transform and sorts the new array in the order they should\n  // be displayed.\n  buildAndSortAggregationsArray: function buildAndSortAggregationsArray() {\n    var props = arguments.length <= 0 || arguments[0] === undefined ? this.props : arguments[0];\n    var search = props.search;\n\n    var aggs = props.search.aggregations;\n    var _aggs = [];\n    var order = [\"On View\", \"Image\", \"Department\", \"Artist\", \"Country\", \"Room\", \"Rights\", \"Title\", \"Style\"];\n\n    for (var agg in aggs) {\n      var openByDefault = order.slice(0, 3).indexOf(agg) > -1;\n      // make sure to show the value of the filter, even if there are no matches.\n      // If there's an active filter, and it's key isn't in the buckets of that aggregation,\n      // add it in.\n      // it's a big edge case, but happens when a filter is applied leading an empty\n      // result set.\n      var aggIsActive = search.filters && search.filters.match(new RegExp(agg + ':\"(.*?)\"', 'i'));\n      if (aggIsActive) {\n        var value = aggIsActive[1];\n        aggs[agg].buckets.find(function (_ref) {\n          var _ = _ref._;\n          var key = _ref.key;\n          return key == value;\n        }) || aggs[agg].buckets.push({ doc_count: 0, key: value });\n      }\n      _aggs.push(_extends({}, aggs[agg], {\n        name: agg,\n        open: openByDefault,\n        displayName: agg.replace(/_/g, ' '),\n        active: search.filters && search.filters.match(new RegExp(agg, 'i'))\n      }));\n    }\n\n    // Sort aggregations in this order, with any others sorted last\n    return _aggs.sort(function (a, b) {\n      var _map = [order.indexOf(a.name), order.indexOf(b.name)].map(function (index) {\n        return index == -1 ? 100 : index;\n      });\n\n      var _map2 = _slicedToArray(_map, 2);\n\n      var _a = _map2[0];\n      var _b = _map2[1];\n\n      return _a - _b;\n    });\n  },\n\n  customFilters: {\n    'On View': {\n      'On View': 'room:G*',\n      'Not on View': 'room:\"Not on View\"'\n    },\n    'Image': {\n      'Available': 'image:valid',\n      'Unavailable': 'image:invalid'\n    },\n    'Gist': {}\n  },\n\n  linkToCurrentSearchWithSort: function linkToCurrentSearchWithSort(newSort) {\n    var humanizeSnakeCase = function humanizeSnakeCase(s) {\n      return ('_' + s).replace(/_(.?)/g, function (_, x) {\n        return ' ' + x.toUpperCase();\n      }).trim();\n    };\n    var _props2 = this.props;\n    var search = _props2.search;\n    var query = _props2.query;\n    var params = _props2.params;\n\n    // var newParams = {terms: `${search.query}`}\n    var newFilters = '';\n\n    var _ref2 = query && query.sort ? query.sort.split('-') : [undefined, undefined];\n\n    var _ref22 = _slicedToArray(_ref2, 2);\n\n    var querySort = _ref22[0];\n    var querySortDirection = _ref22[1];\n\n    var currentSortIsDescending = querySortDirection === 'desc';\n    var sortIsActive = query && (querySort === newSort || newSort == 'relevance' && !querySort);\n    var humanName = humanizeSnakeCase(newSort.replace(/\\..*$/, ''));\n    var newQuery = _extends({}, query, {\n      sort: newSort\n    });\n    if (newSort === 'relevance') delete newQuery.sort;\n\n    var sortLink = sortIsActive ? humanName : React.createElement(\n      Link,\n      {\n        to: !params.splat ? 'searchResults' : 'filteredSearchResults',\n        query: newQuery,\n        params: params },\n      humanName\n    );\n\n    var complementarySortLink = React.createElement(\n      Link,\n      {\n        to: !params.splat ? 'searchResults' : 'filteredSearchResults',\n        query: _extends({}, newQuery, { sort: currentSortIsDescending ? newSort : newSort + '-desc' }),\n        title: 'Sort in ' + (currentSortIsDescending ? 'ascending' : 'descending') + ' order',\n        params: params },\n      currentSortIsDescending ? '↑' : '↓'\n    );\n\n    return sortIsActive && newSort !== 'relevance' ? React.createElement(\n      'span',\n      null,\n      sortLink,\n      '     ',\n      complementarySortLink\n    ) : sortLink;\n  },\n\n  sortBox: function sortBox(style) {\n    var _this2 = this;\n\n    var sorts = ['relevance', 'department.raw', 'accession_number.sort', 'title.raw', 'artist.raw', 'classification'];\n\n    return React.createElement(\n      'dl',\n      { style: style },\n      React.createElement(\n        'dt',\n        null,\n        'Sort by…'\n      ),\n      sorts.map(function (sort_key) {\n        return React.createElement(\n          'dd',\n          null,\n          _this2.linkToCurrentSearchWithSort(sort_key)\n        );\n      })\n    );\n  }\n});\n\nmodule.exports = Aggregations;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYWdncmVnYXRpb25zLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTs7ZUFDYixPQUFPLENBQUMsY0FBYyxDQUFDOztJQUFoQyxJQUFJLFlBQUosSUFBSTs7QUFFVixJQUFJLFlBQVksR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDbkMsaUJBQWUsRUFBQSwyQkFBRztBQUNoQixXQUFPO0FBQ0wsVUFBSSxFQUFFLElBQUksQ0FBQyw2QkFBNkIsRUFBRTtBQUMxQyxlQUFTLEVBQUUsSUFBSTtLQUNoQixDQUFBO0dBQ0Y7O0FBRUQsMkJBQXlCLEVBQUEsbUNBQUMsU0FBUyxFQUFFO0FBQ25DLFFBQUksQ0FBQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLDZCQUE2QixDQUFDLFNBQVMsQ0FBQyxFQUFDLENBQUMsQ0FBQTtHQUNyRTs7QUFFRCxRQUFNLEVBQUEsa0JBQUc7OztpQkFDaUIsSUFBSSxDQUFDLEtBQUs7UUFBM0IsTUFBTSxVQUFOLE1BQU07UUFBRSxLQUFLLFVBQUwsS0FBSztpQkFDTSxJQUFJLENBQUMsS0FBSztRQUE3QixJQUFJLFVBQUosSUFBSTtRQUFFLFNBQVMsVUFBVCxTQUFTOztBQUN0QixRQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFBO0FBQ3hDLFFBQU0sU0FBUyxHQUFHLFNBQVosU0FBUyxDQUFJLEdBQUc7YUFBSyxNQUFLLGlCQUFpQixDQUFDLElBQUksUUFBTyxHQUFHLENBQUM7S0FBQSxDQUFBO0FBQ2pFLFFBQU0sY0FBYyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUE7QUFDMUMsUUFBTSxZQUFZLEdBQUcsRUFBQyxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsYUFBYSxFQUFFLEtBQUssRUFBQyxDQUFBOztBQUVqRixXQUNFOztRQUFLLEVBQUUs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QUE7O0FBRXRDLFFBQU0scUJBQXFCLEdBQUc7QUFBQyxVQUFJOztBQUMvQixVQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLGVBQWUsR0FBRyx1QkFBdUIsQUFBQztBQUM5RCxhQUFLLGVBQU0sUUFBUSxJQUFFLElBQUksRUFBRSx1QkFBdUIsR0FBRyxPQUFPLEdBQU0sT0FBTyxVQUFPLEdBQUU7QUFDbEYsYUFBSyxnQkFBYSx1QkFBdUIsR0FBRyxXQUFXLEdBQUcsWUFBWSxDQUFBLFdBQVM7QUFDL0UsY0FBTSxFQUFFLE1BQU0sQUFBQztNQUFFLHVCQUF1QixHQUFHLEdBQUcsR0FBRyxHQUFHO0tBQVEsQ0FBQTs7QUFFaEUsV0FBTyxZQUFZLElBQUksT0FBTyxLQUFLLFdBQVcsR0FDNUM7OztNQUFPLFFBQVE7O01BQU8scUJBQXFCO0tBQVEsR0FDbkQsUUFBUSxDQUFBO0dBQ1g7O0FBRUQsU0FBTyxFQUFBLGlCQUFDLEtBQUssRUFBRTs7O0FBQ2IsUUFBSSxLQUFLLEdBQUcsQ0FBQyxXQUFXLEVBQUUsZ0JBQWdCLEVBQUUsdUJBQXVCLEVBQUUsV0FBVyxFQUFFLFlBQVksRUFBRSxnQkFBZ0IsQ0FBQyxDQUFBOztBQUVqSCxXQUFPOztRQUFJLEtBQUssRUFBRSxLQUFLLEFBQUM7TUFDdEI7Ozs7T0FBaUI7TUFDaEIsS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFBLFFBQVEsRUFBSTtBQUNyQixlQUFPOzs7VUFBSyxPQUFLLDJCQUEyQixDQUFDLFFBQVEsQ0FBQztTQUFNLENBQUE7T0FDN0QsQ0FBQztLQUNDLENBQUE7R0FDTjtDQUNGLENBQUMsQ0FBQTs7QUFFRixNQUFNLENBQUMsT0FBTyxHQUFHLFlBQVksQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2FnZ3JlZ2F0aW9ucy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciB7IExpbmsgfSA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG5cbnZhciBBZ2dyZWdhdGlvbnMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWdnczogdGhpcy5idWlsZEFuZFNvcnRBZ2dyZWdhdGlvbnNBcnJheSgpLFxuICAgICAgc2hvd0FkZGVyOiB0cnVlLFxuICAgIH1cbiAgfSxcblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIHRoaXMuc2V0U3RhdGUoe2FnZ3M6IHRoaXMuYnVpbGRBbmRTb3J0QWdncmVnYXRpb25zQXJyYXkobmV4dFByb3BzKX0pXG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtzZWFyY2gsIHF1ZXJ5fSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCB7YWdncywgc2hvd0FkZGVyfSA9IHRoaXMuc3RhdGVcbiAgICBjb25zdCBjdXN0b21GaWx0ZXJzID0gdGhpcy5jdXN0b21GaWx0ZXJzXG4gICAgY29uc3QgdG9nZ2xlQWdnID0gKGFnZykgPT4gdGhpcy50b2dnbGVBZ2dyZWdhdGlvbi5iaW5kKHRoaXMsIGFnZylcbiAgICBjb25zdCB0b2dnbGVNb3JlQWdncyA9IHRoaXMudG9nZ2xlTW9yZUFnZ3NcbiAgICBjb25zdCBkZWZMaXN0U3R5bGUgPSB7ZGlzcGxheTogJ2lubGluZS1ibG9jaycsIG1hcmdpbjogJzAnLCB2ZXJ0aWNhbEFsaWduOiAndG9wJ30gLy8gLCBvcGFjaXR5OiBzaG93QWdnID8gMSA6IDAuNVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgaWQ9XCJhZ2dzXCIgPlxuICAgICAgICA8ZGl2IHN0eWxlPXt7d2lkdGg6ICcxMDAlJywgb3ZlcmZsb3dYOiAnc2Nyb2xsJywgd2hpdGVTcGFjZTogJ25vd3JhcCcsIHBhZGRpbmdCb3R0b206ICcxMHB4JywgcGFkZGluZ0xlZnQ6ICcxMHB4J319PlxuICAgICAgICB7dGhpcy5zb3J0Qm94KGRlZkxpc3RTdHlsZSl9XG4gICAgICAgIHthZ2dzLm1hcChmdW5jdGlvbihhZ2cpIHtcbiAgICAgICAgICBjb25zdCBhZ2dJc0FjdGl2ZSA9IHNlYXJjaC5maWx0ZXJzICYmIHNlYXJjaC5maWx0ZXJzLm1hdGNoKG5ldyBSZWdFeHAoYWdnLm5hbWUsICdpJykpXG4gICAgICAgICAgY29uc3Qgc2hvd0FnZyA9IGFnZy5vcGVuIHx8IGFnZ0lzQWN0aXZlXG4gICAgICAgICAgaWYoc2hvd0FnZykgcmV0dXJuICg8ZGwga2V5PXthZ2cubmFtZX0gaWQ9e2FnZy5uYW1lfSBzdHlsZT17ZGVmTGlzdFN0eWxlfT5cbiAgICAgICAgICAgIDxkdCBzdHlsZT17e2ZvbnRXZWlnaHQ6IGFnZ0lzQWN0aXZlICYmICdib2xkJ319IG9uQ2xpY2s9e3RvZ2dsZUFnZyhhZ2cpfT57YWdnLmRpc3BsYXlOYW1lfTwvZHQ+XG4gICAgICAgICAgICB7KGFnZy5vcGVuIHx8IGFnZ0lzQWN0aXZlKSAmJiBhZ2cuYnVja2V0cy5zbGljZSgwLCA1KS5tYXAoZnVuY3Rpb24oYnVja2V0KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGZpbHRlclN0cmluZyA9IGN1c3RvbUZpbHRlcnNbYWdnLm5hbWVdID8gY3VzdG9tRmlsdGVyc1thZ2cubmFtZV1bYnVja2V0LmtleV0gfHwgYnVja2V0LmtleSA6IGFnZy5uYW1lLnRvTG93ZXJDYXNlKCkrJzpcIicrYnVja2V0LmtleSsnXCInXG4gICAgICAgICAgICAgIGNvbnN0IGZpbHRlclJlZ2V4ID0gbmV3IFJlZ0V4cChkZWNvZGVVUklDb21wb25lbnQoZmlsdGVyU3RyaW5nKS5yZXBsYWNlKC8oW1xcW1xcXVxcP10pLywgJ1xcXFwkMScpLCAnaScpXG4gICAgICAgICAgICAgIGNvbnN0IGJ1Y2tldElzQWN0aXZlID0gc2VhcmNoLmZpbHRlcnMgJiYgc2VhcmNoLmZpbHRlcnMubWF0Y2goZmlsdGVyUmVnZXgpXG4gICAgICAgICAgICAgIGNvbnN0IG5ld0ZpbHRlcnMgPSBidWNrZXRJc0FjdGl2ZSA/XG4gICAgICAgICAgICAgICAgc2VhcmNoLmZpbHRlcnMucmVwbGFjZShmaWx0ZXJSZWdleCwgJycpLnRyaW0oKSA6XG4gICAgICAgICAgICAgICAgYCR7c2VhcmNoLmZpbHRlcnMgfHwgJyd9ICR7ZmlsdGVyU3RyaW5nfWAudHJpbSgpXG4gICAgICAgICAgICAgIGNvbnN0IGJ1Y2tldFRleHQgPSBgJHtidWNrZXQua2V5IHx8ICdcIlwiJ31gXG5cbiAgICAgICAgICAgICAgaWYoYnVja2V0LmtleSkgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGQga2V5PXthZ2cubmFtZStidWNrZXQua2V5fSBzdHlsZT17e21hcmdpbjogJzAnLCBmb250V2VpZ2h0OiBidWNrZXRJc0FjdGl2ZSAmJiAnYm9sZCcsIHRleHREZWNvcmF0aW9uOiBidWNrZXRJc0FjdGl2ZSAmJiAndW5kZXJsaW5lJ319PjxzcGFuIGNsYXNzTmFtZT0nb2JqZWN0VG90YWwnPlxuICAgICAgICAgICAgICAgICAgezxMaW5rIHRvPXtuZXdGaWx0ZXJzID09ICcnID8gJ3NlYXJjaFJlc3VsdHMnIDogJ2ZpbHRlcmVkU2VhcmNoUmVzdWx0cyd9IHF1ZXJ5PXtxdWVyeX0gcGFyYW1zPXt7dGVybXM6IGAke3NlYXJjaC5xdWVyeX1gLCBzcGxhdDogbmV3RmlsdGVyc319PlxuICAgICAgICAgICAgICAgICAgICAgIHtidWNrZXRUZXh0fSA8c3BhbiBjbGFzc05hbWU9XCJudW1iZXJzXCI+e2J1Y2tldC5kb2NfY291bnR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9MaW5rPn08L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kZD5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPC9kbD4pXG4gICAgICAgIH0pfTwvZGl2PlxuICAgICAgICA8ZGl2IGlkPVwibW9yZS1hZ2dzXCI+XG4gICAgICAgICAgICA8ZGw+e2FnZ3Muc2xpY2UoMykubWFwKGFnZyA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiA8ZGQga2V5PXthZ2cubmFtZX0gb25DbGljaz17dG9nZ2xlQWdnKGFnZyl9IHN0eWxlPXt7IGJhY2tncm91bmQ6IGFnZy5vcGVuIHx8IGFnZy5hY3RpdmUgPyAncmdiKDM1LDM1LDM1KScgOiAnd2hpdGUnLCBjb2xvcjogYWdnLm9wZW4gfHwgYWdnLmFjdGl2ZSA/ICd3aGl0ZScgOiAncmdiKDM1LDM1LDM1KSd9fT57YWdnLmRpc3BsYXlOYW1lfTwvZGQ+XG4gICAgICAgICAgICB9KX08L2RsPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH0sXG5cbiAgdG9nZ2xlQWdncmVnYXRpb24oYWdnKSB7XG4gICAgdmFyIHthZ2dzfSA9IHRoaXMuc3RhdGVcbiAgICB2YXIgb3BlbiA9IGFnZ3NbYWdncy5pbmRleE9mKGFnZyldLm9wZW5cbiAgICBhZ2dzW2FnZ3MuaW5kZXhPZihhZ2cpXS5vcGVuID0gIW9wZW5cbiAgICB0aGlzLnNldFN0YXRlKHthZ2dzOiBhZ2dzfSlcbiAgfSxcblxuICB0b2dnbGVNb3JlQWdncygpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtzaG93QWRkZXI6ICF0aGlzLnN0YXRlLnNob3dBZGRlcn0pXG4gIH0sXG5cbiAgLy8gQWdncmVnYXRpb25zIGNvbWUgZnJvbSBFUyBhcyBhbiBvYmplY3Qgd2l0aCBuYW1lZCBrZXlzLlxuICAvLyAgICAge1wiT24gVmlld1wiOiB74oCmfSwgXCJBcnRpc3RcIjoge+KApn19XG4gIC8vIEkgd2FudCBhIGBtYXBgYWJsZSBhcnJheSBvZiB0aGUgb2JqZWN0czpcbiAgLy8gICAgIFt7bmFtZTogXCJPbiBWaWV3XCIsIOKApn0sIHtuYW1lOiBcIkFydGlzdFwiLCDigKZ9XVxuICAvLyBUaGlzIGRvZXMgdGhhdCB0cmFuc2Zvcm0gYW5kIHNvcnRzIHRoZSBuZXcgYXJyYXkgaW4gdGhlIG9yZGVyIHRoZXkgc2hvdWxkXG4gIC8vIGJlIGRpc3BsYXllZC5cbiAgYnVpbGRBbmRTb3J0QWdncmVnYXRpb25zQXJyYXkocHJvcHMgPSB0aGlzLnByb3BzKSB7XG4gICAgY29uc3Qge3NlYXJjaH0gPSBwcm9wc1xuICAgIGNvbnN0IGFnZ3MgPSBwcm9wcy5zZWFyY2guYWdncmVnYXRpb25zXG4gICAgY29uc3QgX2FnZ3MgPSBbXVxuICAgIGNvbnN0IG9yZGVyID0gW1wiT24gVmlld1wiLCBcIkltYWdlXCIsIFwiRGVwYXJ0bWVudFwiLCBcIkFydGlzdFwiLCBcIkNvdW50cnlcIiwgXCJSb29tXCIsIFwiUmlnaHRzXCIsIFwiVGl0bGVcIiwgXCJTdHlsZVwiXVxuXG4gICAgZm9yKHZhciBhZ2cgaW4gYWdncykge1xuICAgICAgY29uc3Qgb3BlbkJ5RGVmYXVsdCA9IG9yZGVyLnNsaWNlKDAsIDMpLmluZGV4T2YoYWdnKSA+IC0xXG4gICAgICAvLyBtYWtlIHN1cmUgdG8gc2hvdyB0aGUgdmFsdWUgb2YgdGhlIGZpbHRlciwgZXZlbiBpZiB0aGVyZSBhcmUgbm8gbWF0Y2hlcy5cbiAgICAgIC8vIElmIHRoZXJlJ3MgYW4gYWN0aXZlIGZpbHRlciwgYW5kIGl0J3Mga2V5IGlzbid0IGluIHRoZSBidWNrZXRzIG9mIHRoYXQgYWdncmVnYXRpb24sXG4gICAgICAvLyBhZGQgaXQgaW4uXG4gICAgICAvLyBpdCdzIGEgYmlnIGVkZ2UgY2FzZSwgYnV0IGhhcHBlbnMgd2hlbiBhIGZpbHRlciBpcyBhcHBsaWVkIGxlYWRpbmcgYW4gZW1wdHlcbiAgICAgIC8vIHJlc3VsdCBzZXQuXG4gICAgICBjb25zdCBhZ2dJc0FjdGl2ZSA9IHNlYXJjaC5maWx0ZXJzICYmIHNlYXJjaC5maWx0ZXJzLm1hdGNoKG5ldyBSZWdFeHAoYCR7YWdnfTpcIiguKj8pXCJgLCAnaScpKVxuICAgICAgaWYoYWdnSXNBY3RpdmUpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYWdnSXNBY3RpdmVbMV1cbiAgICAgICAgYWdnc1thZ2ddLmJ1Y2tldHMuZmluZCgoe18sIGtleX0pID0+IGtleSA9PSB2YWx1ZSkgfHwgYWdnc1thZ2ddLmJ1Y2tldHMucHVzaCh7ZG9jX2NvdW50OiAwLCBrZXk6IHZhbHVlfSlcbiAgICAgIH1cbiAgICAgIF9hZ2dzLnB1c2goe1xuICAgICAgICAuLi5hZ2dzW2FnZ10sXG4gICAgICAgIG5hbWU6IGFnZyxcbiAgICAgICAgb3Blbjogb3BlbkJ5RGVmYXVsdCxcbiAgICAgICAgZGlzcGxheU5hbWU6IGFnZy5yZXBsYWNlKC9fL2csICcgJyksXG4gICAgICAgIGFjdGl2ZTogc2VhcmNoLmZpbHRlcnMgJiYgc2VhcmNoLmZpbHRlcnMubWF0Y2gobmV3IFJlZ0V4cChhZ2csICdpJykpLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBTb3J0IGFnZ3JlZ2F0aW9ucyBpbiB0aGlzIG9yZGVyLCB3aXRoIGFueSBvdGhlcnMgc29ydGVkIGxhc3RcbiAgICByZXR1cm4gX2FnZ3Muc29ydCgoYSwgYikgPT4ge1xuICAgICAgbGV0IFtfYSwgX2JdID0gW29yZGVyLmluZGV4T2YoYS5uYW1lKSwgb3JkZXIuaW5kZXhPZihiLm5hbWUpXS5tYXAoaW5kZXggPT4gaW5kZXggPT0gLTEgPyAxMDAgOiBpbmRleClcbiAgICAgIHJldHVybiBfYSAtIF9iXG4gICAgfSlcbiAgfSxcblxuICBjdXN0b21GaWx0ZXJzOiB7XG4gICAgJ09uIFZpZXcnOiB7XG4gICAgICAnT24gVmlldyc6ICdyb29tOkcqJyxcbiAgICAgICdOb3Qgb24gVmlldyc6ICdyb29tOlwiTm90IG9uIFZpZXdcIidcbiAgICB9LFxuICAgICdJbWFnZSc6IHtcbiAgICAgICdBdmFpbGFibGUnOiAnaW1hZ2U6dmFsaWQnLFxuICAgICAgJ1VuYXZhaWxhYmxlJzogJ2ltYWdlOmludmFsaWQnLFxuICAgIH0sXG4gICAgJ0dpc3QnOiB7fSxcbiAgfSxcblxuICBsaW5rVG9DdXJyZW50U2VhcmNoV2l0aFNvcnQobmV3U29ydCkge1xuICAgIHZhciBodW1hbml6ZVNuYWtlQ2FzZSA9IChzKSA9PiBgXyR7c31gXG4gICAgICAucmVwbGFjZSgvXyguPykvZywgKF8sIHgpID0+IGAgJHt4LnRvVXBwZXJDYXNlKCl9YCkudHJpbSgpXG4gICAgdmFyIHtzZWFyY2gsIHF1ZXJ5LCBwYXJhbXN9ID0gdGhpcy5wcm9wc1xuICAgIC8vIHZhciBuZXdQYXJhbXMgPSB7dGVybXM6IGAke3NlYXJjaC5xdWVyeX1gfVxuICAgIHZhciBuZXdGaWx0ZXJzID0gJydcbiAgICB2YXIgW3F1ZXJ5U29ydCwgcXVlcnlTb3J0RGlyZWN0aW9uXSA9IHF1ZXJ5ICYmIHF1ZXJ5LnNvcnQgP1xuICAgICAgcXVlcnkuc29ydC5zcGxpdCgnLScpIDpcbiAgICAgIFt1bmRlZmluZWQsIHVuZGVmaW5lZF1cbiAgICB2YXIgY3VycmVudFNvcnRJc0Rlc2NlbmRpbmcgPSBxdWVyeVNvcnREaXJlY3Rpb24gPT09ICdkZXNjJ1xuICAgIHZhciBzb3J0SXNBY3RpdmUgPSBxdWVyeSAmJiAocXVlcnlTb3J0ID09PSBuZXdTb3J0IHx8IG5ld1NvcnQgPT0gJ3JlbGV2YW5jZScgJiYgIXF1ZXJ5U29ydClcbiAgICB2YXIgaHVtYW5OYW1lID0gaHVtYW5pemVTbmFrZUNhc2UobmV3U29ydC5yZXBsYWNlKC9cXC4uKiQvLCAnJykpXG4gICAgdmFyIG5ld1F1ZXJ5ID0ge1xuICAgICAgLi4ucXVlcnksXG4gICAgICBzb3J0OiBuZXdTb3J0LFxuICAgIH1cbiAgICBpZihuZXdTb3J0ID09PSAncmVsZXZhbmNlJykgZGVsZXRlIG5ld1F1ZXJ5LnNvcnRcblxuICAgIGNvbnN0IHNvcnRMaW5rID0gc29ydElzQWN0aXZlID9cbiAgICAgIGh1bWFuTmFtZSA6XG4gICAgICA8TGlua1xuICAgICAgICB0bz17IXBhcmFtcy5zcGxhdCA/ICdzZWFyY2hSZXN1bHRzJyA6ICdmaWx0ZXJlZFNlYXJjaFJlc3VsdHMnfVxuICAgICAgICBxdWVyeT17bmV3UXVlcnl9XG4gICAgICAgIHBhcmFtcz17cGFyYW1zfT57aHVtYW5OYW1lfTwvTGluaz5cblxuICAgIGNvbnN0IGNvbXBsZW1lbnRhcnlTb3J0TGluayA9IDxMaW5rXG4gICAgICAgIHRvPXshcGFyYW1zLnNwbGF0ID8gJ3NlYXJjaFJlc3VsdHMnIDogJ2ZpbHRlcmVkU2VhcmNoUmVzdWx0cyd9XG4gICAgICAgIHF1ZXJ5PXt7Li4ubmV3UXVlcnksIHNvcnQ6IGN1cnJlbnRTb3J0SXNEZXNjZW5kaW5nID8gbmV3U29ydCA6IGAke25ld1NvcnR9LWRlc2NgfX1cbiAgICAgICAgdGl0bGU9e2BTb3J0IGluICR7Y3VycmVudFNvcnRJc0Rlc2NlbmRpbmcgPyAnYXNjZW5kaW5nJyA6ICdkZXNjZW5kaW5nJ30gb3JkZXJgfVxuICAgICAgICBwYXJhbXM9e3BhcmFtc30+e2N1cnJlbnRTb3J0SXNEZXNjZW5kaW5nID8gJ+KGkScgOiAn4oaTJ308L0xpbms+XG5cbiAgICByZXR1cm4gc29ydElzQWN0aXZlICYmIG5ld1NvcnQgIT09ICdyZWxldmFuY2UnID8gXG4gICAgICA8c3Bhbj57c29ydExpbmt9ICAgICB7Y29tcGxlbWVudGFyeVNvcnRMaW5rfTwvc3Bhbj4gOlxuICAgICAgc29ydExpbmtcbiAgfSxcblxuICBzb3J0Qm94KHN0eWxlKSB7XG4gICAgdmFyIHNvcnRzID0gWydyZWxldmFuY2UnLCAnZGVwYXJ0bWVudC5yYXcnLCAnYWNjZXNzaW9uX251bWJlci5zb3J0JywgJ3RpdGxlLnJhdycsICdhcnRpc3QucmF3JywgJ2NsYXNzaWZpY2F0aW9uJ11cblxuICAgIHJldHVybiA8ZGwgc3R5bGU9e3N0eWxlfT5cbiAgICAgIDxkdD5Tb3J0IGJ54oCmPC9kdD5cbiAgICAgIHtzb3J0cy5tYXAoc29ydF9rZXkgPT4ge1xuICAgICAgICByZXR1cm4gPGRkPnt0aGlzLmxpbmtUb0N1cnJlbnRTZWFyY2hXaXRoU29ydChzb3J0X2tleSl9PC9kZD5cbiAgICAgIH0pfVxuICAgIDwvZGw+XG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFnZ3JlZ2F0aW9uc1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/aggregations.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/aggregations.js",
      "sourcesContent": [
        "var React = require('react')\nvar { Link } = require('react-router')\n\nvar Aggregations = React.createClass({\n  getInitialState() {\n    return {\n      aggs: this.buildAndSortAggregationsArray(),\n      showAdder: true,\n    }\n  },\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({aggs: this.buildAndSortAggregationsArray(nextProps)})\n  },\n\n  render() {\n    const {search, query} = this.props\n    const {aggs, showAdder} = this.state\n    const customFilters = this.customFilters\n    const toggleAgg = (agg) => this.toggleAggregation.bind(this, agg)\n    const toggleMoreAggs = this.toggleMoreAggs\n    const defListStyle = {display: 'inline-block', margin: '0', verticalAlign: 'top'} // , opacity: showAgg ? 1 : 0.5\n\n    return (\n      <div id=\"aggs\" >\n        <div style={{width: '100%', overflowX: 'scroll', whiteSpace: 'nowrap', paddingBottom: '10px', paddingLeft: '10px'}}>\n        {this.sortBox(defListStyle)}\n        {aggs.map(function(agg) {\n          const aggIsActive = search.filters && search.filters.match(new RegExp(agg.name, 'i'))\n          const showAgg = agg.open || aggIsActive\n          if(showAgg) return (<dl key={agg.name} id={agg.name} style={defListStyle}>\n            <dt style={{fontWeight: aggIsActive && 'bold'}} onClick={toggleAgg(agg)}>{agg.displayName}</dt>\n            {(agg.open || aggIsActive) && agg.buckets.slice(0, 5).map(function(bucket) {\n              const filterString = customFilters[agg.name] ? customFilters[agg.name][bucket.key] || bucket.key : agg.name.toLowerCase()+':\"'+bucket.key+'\"'\n              const filterRegex = new RegExp(decodeURIComponent(filterString).replace(/([\\[\\]\\?])/, '\\\\$1'), 'i')\n              const bucketIsActive = search.filters && search.filters.match(filterRegex)\n              const newFilters = bucketIsActive ?\n                search.filters.replace(filterRegex, '').trim() :\n                `${search.filters || ''} ${filterString}`.trim()\n              const bucketText = `${bucket.key || '\"\"'}`\n\n              if(bucket.key) return (\n                <dd key={agg.name+bucket.key} style={{margin: '0', fontWeight: bucketIsActive && 'bold', textDecoration: bucketIsActive && 'underline'}}><span className='objectTotal'>\n                  {<Link to={newFilters == '' ? 'searchResults' : 'filteredSearchResults'} query={query} params={{terms: `${search.query}`, splat: newFilters}}>\n                      {bucketText} <span className=\"numbers\">{bucket.doc_count}</span>\n                  </Link>}</span>\n                </dd>\n              )\n            })}\n          </dl>)\n        })}</div>\n        <div id=\"more-aggs\">\n            <dl>{aggs.slice(3).map(agg => {\n              return <dd key={agg.name} onClick={toggleAgg(agg)} style={{ background: agg.open || agg.active ? 'rgb(35,35,35)' : 'white', color: agg.open || agg.active ? 'white' : 'rgb(35,35,35)'}}>{agg.displayName}</dd>\n            })}</dl>\n\n          </div>\n      </div>\n    )\n  },\n\n  toggleAggregation(agg) {\n    var {aggs} = this.state\n    var open = aggs[aggs.indexOf(agg)].open\n    aggs[aggs.indexOf(agg)].open = !open\n    this.setState({aggs: aggs})\n  },\n\n  toggleMoreAggs() {\n    this.setState({showAdder: !this.state.showAdder})\n  },\n\n  // Aggregations come from ES as an object with named keys.\n  //     {\"On View\": {…}, \"Artist\": {…}}\n  // I want a `map`able array of the objects:\n  //     [{name: \"On View\", …}, {name: \"Artist\", …}]\n  // This does that transform and sorts the new array in the order they should\n  // be displayed.\n  buildAndSortAggregationsArray(props = this.props) {\n    const {search} = props\n    const aggs = props.search.aggregations\n    const _aggs = []\n    const order = [\"On View\", \"Image\", \"Department\", \"Artist\", \"Country\", \"Room\", \"Rights\", \"Title\", \"Style\"]\n\n    for(var agg in aggs) {\n      const openByDefault = order.slice(0, 3).indexOf(agg) > -1\n      // make sure to show the value of the filter, even if there are no matches.\n      // If there's an active filter, and it's key isn't in the buckets of that aggregation,\n      // add it in.\n      // it's a big edge case, but happens when a filter is applied leading an empty\n      // result set.\n      const aggIsActive = search.filters && search.filters.match(new RegExp(`${agg}:\"(.*?)\"`, 'i'))\n      if(aggIsActive) {\n        var value = aggIsActive[1]\n        aggs[agg].buckets.find(({_, key}) => key == value) || aggs[agg].buckets.push({doc_count: 0, key: value})\n      }\n      _aggs.push({\n        ...aggs[agg],\n        name: agg,\n        open: openByDefault,\n        displayName: agg.replace(/_/g, ' '),\n        active: search.filters && search.filters.match(new RegExp(agg, 'i')),\n      })\n    }\n\n    // Sort aggregations in this order, with any others sorted last\n    return _aggs.sort((a, b) => {\n      let [_a, _b] = [order.indexOf(a.name), order.indexOf(b.name)].map(index => index == -1 ? 100 : index)\n      return _a - _b\n    })\n  },\n\n  customFilters: {\n    'On View': {\n      'On View': 'room:G*',\n      'Not on View': 'room:\"Not on View\"'\n    },\n    'Image': {\n      'Available': 'image:valid',\n      'Unavailable': 'image:invalid',\n    },\n    'Gist': {},\n  },\n\n  linkToCurrentSearchWithSort(newSort) {\n    var humanizeSnakeCase = (s) => `_${s}`\n      .replace(/_(.?)/g, (_, x) => ` ${x.toUpperCase()}`).trim()\n    var {search, query, params} = this.props\n    // var newParams = {terms: `${search.query}`}\n    var newFilters = ''\n    var [querySort, querySortDirection] = query && query.sort ?\n      query.sort.split('-') :\n      [undefined, undefined]\n    var currentSortIsDescending = querySortDirection === 'desc'\n    var sortIsActive = query && (querySort === newSort || newSort == 'relevance' && !querySort)\n    var humanName = humanizeSnakeCase(newSort.replace(/\\..*$/, ''))\n    var newQuery = {\n      ...query,\n      sort: newSort,\n    }\n    if(newSort === 'relevance') delete newQuery.sort\n\n    const sortLink = sortIsActive ?\n      humanName :\n      <Link\n        to={!params.splat ? 'searchResults' : 'filteredSearchResults'}\n        query={newQuery}\n        params={params}>{humanName}</Link>\n\n    const complementarySortLink = <Link\n        to={!params.splat ? 'searchResults' : 'filteredSearchResults'}\n        query={{...newQuery, sort: currentSortIsDescending ? newSort : `${newSort}-desc`}}\n        title={`Sort in ${currentSortIsDescending ? 'ascending' : 'descending'} order`}\n        params={params}>{currentSortIsDescending ? '↑' : '↓'}</Link>\n\n    return sortIsActive && newSort !== 'relevance' ? \n      <span>{sortLink}     {complementarySortLink}</span> :\n      sortLink\n  },\n\n  sortBox(style) {\n    var sorts = ['relevance', 'department.raw', 'accession_number.sort', 'title.raw', 'artist.raw', 'classification']\n\n    return <dl style={style}>\n      <dt>Sort by…</dt>\n      {sorts.map(sort_key => {\n        return <dd>{this.linkToCurrentSearchWithSort(sort_key)}</dd>\n      })}\n    </dl>\n  },\n})\n\nmodule.exports = Aggregations\n"
      ]
    },
    "mtime": 1485807805238
  },
  "{\"filename\":\"/var/www/art/src/search-language.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar searchLanguageMap = function searchLanguageMap(queryText) {\n  var map = {\n    'recent:true': \"Recent Accessions\",\n    'highlight:true': \"Museum Highlights\",\n    'deaccessioned:\"true\"': \"Deaccessioned\",\n    '_exists_:\"provenance\"': \"provenance information exists\",\n    '_exists_:\"related:conservation\"': 'Conserved artworks',\n    '_exists_:\"related:artstories\"': \"ArtStories\",\n    '_exists_:\"related:newsflashes\"': \"NewsFlashes\",\n    '_exists_:\"related:audio-stops\"': \"Audio stops\",\n    '_exists_:\"related:stories\"': \"Mia Stories\",\n    '_exists_:\"related:adopt-a-painting\"': \"Adopt-a-Painting\",\n    'room:G*': 'On View',\n    'room:\"Not on View\"': 'Not on View',\n    'image:valid': \"Image Available\",\n    'image:invalid': \"Image Unavailable\",\n    'room:\"G320\"': \"TODO: need to match parameters more cleverly? This should return 'In Gallery 320' or something\"\n  };\n\n  var reversedMap = Object.keys(map).reduce(function (reversed, key) {\n    reversed[map[key]] = key;return reversed;\n  }, {});\n\n  var trimmedQuery = queryText && queryText.trim();\n\n  return map[trimmedQuery] || reversedMap[trimmedQuery] || queryText;\n};\n\nmodule.exports = searchLanguageMap;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvc2VhcmNoLWxhbmd1YWdlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSSxpQkFBaUIsR0FBRyxTQUFwQixpQkFBaUIsQ0FBSSxTQUFTLEVBQUs7QUFDckMsTUFBSSxHQUFHLEdBQUc7QUFDUixpQkFBYSxFQUFFLG1CQUFtQjtBQUNsQyxvQkFBZ0IsRUFBRSxtQkFBbUI7QUFDckMsMEJBQXNCLEVBQUUsZUFBZTtBQUN2QywyQkFBdUIsRUFBRSwrQkFBK0I7QUFDeEQscUNBQWlDLEVBQUUsb0JBQW9CO0FBQ3ZELG1DQUErQixFQUFFLFlBQVk7QUFDN0Msb0NBQWdDLEVBQUUsYUFBYTtBQUMvQyxvQ0FBZ0MsRUFBRSxhQUFhO0FBQy9DLGdDQUE0QixFQUFFLGFBQWE7QUFDM0MseUNBQXFDLEVBQUUsa0JBQWtCO0FBQ3pELGFBQVMsRUFBRSxTQUFTO0FBQ3BCLHdCQUFvQixFQUFFLGFBQWE7QUFDbkMsaUJBQWEsRUFBRSxpQkFBaUI7QUFDaEMsbUJBQWUsRUFBRSxtQkFBbUI7QUFDcEMsaUJBQWEsRUFBRSxnR0FBZ0c7R0FDaEgsQ0FBQTs7QUFHRCxNQUFJLFdBQVcsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUMvQixNQUFNLENBQUMsVUFBQyxRQUFRLEVBQUUsR0FBRyxFQUFLO0FBQUUsWUFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxBQUFDLE9BQU8sUUFBUSxDQUFBO0dBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQTs7QUFFL0UsTUFBSSxZQUFZLEdBQUcsU0FBUyxJQUFJLFNBQVMsQ0FBQyxJQUFJLEVBQUUsQ0FBQTs7QUFFaEQsU0FBTyxHQUFHLENBQUMsWUFBWSxDQUFDLElBQUksV0FBVyxDQUFDLFlBQVksQ0FBQyxJQUFJLFNBQVMsQ0FBQTtDQUNuRSxDQUFBOztBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUcsaUJBQWlCLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9zZWFyY2gtbGFuZ3VhZ2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgc2VhcmNoTGFuZ3VhZ2VNYXAgPSAocXVlcnlUZXh0KSA9PiB7XG4gIHZhciBtYXAgPSB7XG4gICAgJ3JlY2VudDp0cnVlJzogXCJSZWNlbnQgQWNjZXNzaW9uc1wiLFxuICAgICdoaWdobGlnaHQ6dHJ1ZSc6IFwiTXVzZXVtIEhpZ2hsaWdodHNcIixcbiAgICAnZGVhY2Nlc3Npb25lZDpcInRydWVcIic6IFwiRGVhY2Nlc3Npb25lZFwiLFxuICAgICdfZXhpc3RzXzpcInByb3ZlbmFuY2VcIic6IFwicHJvdmVuYW5jZSBpbmZvcm1hdGlvbiBleGlzdHNcIixcbiAgICAnX2V4aXN0c186XCJyZWxhdGVkOmNvbnNlcnZhdGlvblwiJzogJ0NvbnNlcnZlZCBhcnR3b3JrcycsXG4gICAgJ19leGlzdHNfOlwicmVsYXRlZDphcnRzdG9yaWVzXCInOiBcIkFydFN0b3JpZXNcIixcbiAgICAnX2V4aXN0c186XCJyZWxhdGVkOm5ld3NmbGFzaGVzXCInOiBcIk5ld3NGbGFzaGVzXCIsXG4gICAgJ19leGlzdHNfOlwicmVsYXRlZDphdWRpby1zdG9wc1wiJzogXCJBdWRpbyBzdG9wc1wiLFxuICAgICdfZXhpc3RzXzpcInJlbGF0ZWQ6c3Rvcmllc1wiJzogXCJNaWEgU3Rvcmllc1wiLFxuICAgICdfZXhpc3RzXzpcInJlbGF0ZWQ6YWRvcHQtYS1wYWludGluZ1wiJzogXCJBZG9wdC1hLVBhaW50aW5nXCIsXG4gICAgJ3Jvb206RyonOiAnT24gVmlldycsXG4gICAgJ3Jvb206XCJOb3Qgb24gVmlld1wiJzogJ05vdCBvbiBWaWV3JyxcbiAgICAnaW1hZ2U6dmFsaWQnOiBcIkltYWdlIEF2YWlsYWJsZVwiLFxuICAgICdpbWFnZTppbnZhbGlkJzogXCJJbWFnZSBVbmF2YWlsYWJsZVwiLFxuICAgICdyb29tOlwiRzMyMFwiJzogXCJUT0RPOiBuZWVkIHRvIG1hdGNoIHBhcmFtZXRlcnMgbW9yZSBjbGV2ZXJseT8gVGhpcyBzaG91bGQgcmV0dXJuICdJbiBHYWxsZXJ5IDMyMCcgb3Igc29tZXRoaW5nXCIsXG4gIH1cblxuXG4gIHZhciByZXZlcnNlZE1hcCA9IE9iamVjdC5rZXlzKG1hcClcbiAgICAucmVkdWNlKChyZXZlcnNlZCwga2V5KSA9PiB7IHJldmVyc2VkW21hcFtrZXldXSA9IGtleTsgcmV0dXJuIHJldmVyc2VkIH0sIHt9KVxuXG4gIHZhciB0cmltbWVkUXVlcnkgPSBxdWVyeVRleHQgJiYgcXVlcnlUZXh0LnRyaW0oKVxuXG4gIHJldHVybiBtYXBbdHJpbW1lZFF1ZXJ5XSB8fCByZXZlcnNlZE1hcFt0cmltbWVkUXVlcnldIHx8IHF1ZXJ5VGV4dFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNlYXJjaExhbmd1YWdlTWFwXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/search-language.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,iBAAiB,GAAG,SAApB,iBAAiB,CAAI,SAAS,EAAK;AACrC,MAAI,GAAG,GAAG;AACR,iBAAa,EAAE,mBAAmB;AAClC,oBAAgB,EAAE,mBAAmB;AACrC,0BAAsB,EAAE,eAAe;AACvC,2BAAuB,EAAE,+BAA+B;AACxD,qCAAiC,EAAE,oBAAoB;AACvD,mCAA+B,EAAE,YAAY;AAC7C,oCAAgC,EAAE,aAAa;AAC/C,oCAAgC,EAAE,aAAa;AAC/C,gCAA4B,EAAE,aAAa;AAC3C,yCAAqC,EAAE,kBAAkB;AACzD,aAAS,EAAE,SAAS;AACpB,wBAAoB,EAAE,aAAa;AACnC,iBAAa,EAAE,iBAAiB;AAChC,mBAAe,EAAE,mBAAmB;AACpC,iBAAa,EAAE,gGAAgG;GAChH,CAAA;;AAGD,MAAI,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAC/B,MAAM,CAAC,UAAC,QAAQ,EAAE,GAAG,EAAK;AAAE,YAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,AAAC,OAAO,QAAQ,CAAA;GAAE,EAAE,EAAE,CAAC,CAAA;;AAE/E,MAAI,YAAY,GAAG,SAAS,IAAI,SAAS,CAAC,IAAI,EAAE,CAAA;;AAEhD,SAAO,GAAG,CAAC,YAAY,CAAC,IAAI,WAAW,CAAC,YAAY,CAAC,IAAI,SAAS,CAAA;CACnE,CAAA;;AAED,MAAM,CAAC,OAAO,GAAG,iBAAiB,CAAA",
      "file": "/var/www/art/src/search-language.js",
      "sourcesContent": [
        "var searchLanguageMap = (queryText) => {\n  var map = {\n    'recent:true': \"Recent Accessions\",\n    'highlight:true': \"Museum Highlights\",\n    'deaccessioned:\"true\"': \"Deaccessioned\",\n    '_exists_:\"provenance\"': \"provenance information exists\",\n    '_exists_:\"related:conservation\"': 'Conserved artworks',\n    '_exists_:\"related:artstories\"': \"ArtStories\",\n    '_exists_:\"related:newsflashes\"': \"NewsFlashes\",\n    '_exists_:\"related:audio-stops\"': \"Audio stops\",\n    '_exists_:\"related:stories\"': \"Mia Stories\",\n    '_exists_:\"related:adopt-a-painting\"': \"Adopt-a-Painting\",\n    'room:G*': 'On View',\n    'room:\"Not on View\"': 'Not on View',\n    'image:valid': \"Image Available\",\n    'image:invalid': \"Image Unavailable\",\n    'room:\"G320\"': \"TODO: need to match parameters more cleverly? This should return 'In Gallery 320' or something\",\n  }\n\n\n  var reversedMap = Object.keys(map)\n    .reduce((reversed, key) => { reversed[map[key]] = key; return reversed }, {})\n\n  var trimmedQuery = queryText && queryText.trim()\n\n  return map[trimmedQuery] || reversedMap[trimmedQuery] || queryText\n}\n\nmodule.exports = searchLanguageMap\n"
      ]
    },
    "mtime": 1453913552707
  },
  "{\"filename\":\"/var/www/art/src/search-results/list.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "object-without-properties",
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\n\nvar ArtworkResult = require('../artwork-result');\nvar FocusedResult = require('./focused');\n\nvar SearchResultsList = React.createClass({\n  displayName: 'SearchResultsList',\n\n  render: function render() {\n    var _this = this;\n\n    var _props = this.props;\n    var leftColumnWidth = _props.leftColumnWidth;\n    var focusedResult = _props.focusedResult;\n    var focusHandler = _props.focusHandler;\n    var smallViewport = _props.smallViewport;\n\n    var focusedProps = _objectWithoutProperties(_props, ['leftColumnWidth', 'focusedResult', 'focusHandler', 'smallViewport']);\n\n    if (smallViewport || this.context.universal) {\n      focusedResult = null;\n    }\n    if (!focusedResult) leftColumnWidth = '100%';\n\n    var results = this.props.hits.map(function (hit) {\n      var id = hit._source.id.replace('http://api.artsmia.org/objects/', '');\n      var focused = focusedResult === hit._source;\n      return React.createElement(\n        'div',\n        { key: id, onClick: _this.handleClick.bind(_this, hit), className: focused ? 'focused' : '' },\n        React.createElement(ArtworkResult, { id: id, data: { artwork: hit._source }, highlights: hit.highlight, showMore: smallViewport })\n      );\n    });\n\n    return React.createElement(\n      'div',\n      { className: 'search-results-wrap clearfix', style: { position: 'relative', minHeight: this.props.minHeight } },\n      React.createElement(\n        'div',\n        { className: 'objects-wrap leftBar', style: { position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, width: leftColumnWidth } },\n        results,\n        this.props.postSearch\n      ),\n      focusedResult && React.createElement(FocusedResult, _extends({ key: focusedResult._source.id, art: focusedResult._source, highlights: focusedResult.highlight }, this.props))\n    );\n  },\n\n  handleClick: function handleClick(hit) {\n    this.props.focusHandler(hit, SearchResultsList);\n  }\n});\nSearchResultsList.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nmodule.exports = SearchResultsList;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvc2VhcmNoLXJlc3VsdHMvbGlzdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7O0FBRTVCLElBQUksYUFBYSxHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFBO0FBQ2hELElBQUksYUFBYSxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQTs7QUFFeEMsSUFBSSxpQkFBaUIsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDeEMsUUFBTSxFQUFBLGtCQUFHOzs7aUJBT0gsSUFBSSxDQUFDLEtBQUs7UUFMWixlQUFlLFVBQWYsZUFBZTtRQUNmLGFBQWEsVUFBYixhQUFhO1FBQ2IsWUFBWSxVQUFaLFlBQVk7UUFDWixhQUFhLFVBQWIsYUFBYTs7UUFDVixZQUFZOztBQUdqQixRQUFHLGFBQWEsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRTtBQUMxQyxtQkFBYSxHQUFHLElBQUksQ0FBQTtLQUNyQjtBQUNELFFBQUcsQ0FBQyxhQUFhLEVBQUUsZUFBZSxHQUFHLE1BQU0sQ0FBQTs7QUFFM0MsUUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQUMsR0FBRyxFQUFLO0FBQ3pDLFVBQUksRUFBRSxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxpQ0FBaUMsRUFBRSxFQUFFLENBQUMsQ0FBQTtBQUN0RSxVQUFJLE9BQU8sR0FBRyxhQUFhLEtBQUssR0FBRyxDQUFDLE9BQU8sQ0FBQTtBQUMzQyxhQUFPOztVQUFLLEdBQUcsRUFBRSxFQUFFLEFBQUMsRUFBQyxPQUFPLEVBQUUsTUFBSyxXQUFXLENBQUMsSUFBSSxRQUFPLEdBQUcsQ0FBQyxBQUFDLEVBQUMsU0FBUyxFQUFFLE9BQU8sR0FBRyxTQUFTLEdBQUcsRUFBRSxBQUFDO1FBQ2xHLG9CQUFDLGFBQWEsSUFBQyxFQUFFLEVBQUUsRUFBRSxBQUFDLEVBQUMsSUFBSSxFQUFFLEVBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxPQUFPLEVBQUMsQUFBQyxFQUFDLFVBQVUsRUFBRSxHQUFHLENBQUMsU0FBUyxBQUFDLEVBQUMsUUFBUSxFQUFFLGFBQWEsQUFBQyxHQUFHO09BQ3ZHLENBQUE7S0FDUCxDQUFDLENBQUE7O0FBRUYsV0FDRTs7UUFBSyxTQUFTLEVBQUMsOEJBQThCLEVBQUMsS0FBSyxFQUFFLEVBQUMsUUFBUSxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUMsQUFBQztNQUMzRzs7VUFBSyxTQUFTLEVBQUMsc0JBQXNCLEVBQUMsS0FBSyxFQUFFLEVBQUMsUUFBUSxFQUFFLFVBQVUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxlQUFlLEVBQUMsQUFBQztRQUMvSCxPQUFPO1FBQ1AsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVO09BQ2xCO01BQ0wsYUFBYSxJQUFJLG9CQUFDLGFBQWEsYUFBQyxHQUFHLEVBQUUsYUFBYSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEFBQUMsRUFBQyxHQUFHLEVBQUUsYUFBYSxDQUFDLE9BQU8sQUFBQyxFQUFDLFVBQVUsRUFBRSxhQUFhLENBQUMsU0FBUyxBQUFDLElBQUssSUFBSSxDQUFDLEtBQUssRUFBRztLQUM5SSxDQUNQO0dBQ0Y7O0FBRUQsYUFBVyxFQUFBLHFCQUFDLEdBQUcsRUFBRTtBQUNmLFFBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEdBQUcsRUFBRSxpQkFBaUIsQ0FBQyxDQUFBO0dBQ2hEO0NBQ0YsQ0FBQyxDQUFBO0FBQ0YsaUJBQWlCLENBQUMsWUFBWSxHQUFHO0FBQy9CLFFBQU0sRUFBRSxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUk7QUFDNUIsV0FBUyxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSTtDQUNoQyxDQUFBOztBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUcsaUJBQWlCLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9zZWFyY2gtcmVzdWx0cy9saXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxuXG52YXIgQXJ0d29ya1Jlc3VsdCA9IHJlcXVpcmUoJy4uL2FydHdvcmstcmVzdWx0JylcbnZhciBGb2N1c2VkUmVzdWx0ID0gcmVxdWlyZSgnLi9mb2N1c2VkJylcblxudmFyIFNlYXJjaFJlc3VsdHNMaXN0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHtcbiAgICAgIGxlZnRDb2x1bW5XaWR0aCxcbiAgICAgIGZvY3VzZWRSZXN1bHQsXG4gICAgICBmb2N1c0hhbmRsZXIsXG4gICAgICBzbWFsbFZpZXdwb3J0LFxuICAgICAgLi4uZm9jdXNlZFByb3BzXG4gICAgfSA9IHRoaXMucHJvcHNcblxuICAgIGlmKHNtYWxsVmlld3BvcnQgfHwgdGhpcy5jb250ZXh0LnVuaXZlcnNhbCkge1xuICAgICAgZm9jdXNlZFJlc3VsdCA9IG51bGxcbiAgICB9XG4gICAgaWYoIWZvY3VzZWRSZXN1bHQpIGxlZnRDb2x1bW5XaWR0aCA9ICcxMDAlJ1xuXG4gICAgdmFyIHJlc3VsdHMgPSB0aGlzLnByb3BzLmhpdHMubWFwKChoaXQpID0+IHtcbiAgICAgIHZhciBpZCA9IGhpdC5fc291cmNlLmlkLnJlcGxhY2UoJ2h0dHA6Ly9hcGkuYXJ0c21pYS5vcmcvb2JqZWN0cy8nLCAnJylcbiAgICAgIHZhciBmb2N1c2VkID0gZm9jdXNlZFJlc3VsdCA9PT0gaGl0Ll9zb3VyY2VcbiAgICAgIHJldHVybiA8ZGl2IGtleT17aWR9IG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzLCBoaXQpfSBjbGFzc05hbWU9e2ZvY3VzZWQgPyAnZm9jdXNlZCcgOiAnJ30+XG4gICAgICAgIDxBcnR3b3JrUmVzdWx0IGlkPXtpZH0gZGF0YT17e2FydHdvcms6IGhpdC5fc291cmNlfX0gaGlnaGxpZ2h0cz17aGl0LmhpZ2hsaWdodH0gc2hvd01vcmU9e3NtYWxsVmlld3BvcnR9IC8+XG4gICAgICA8L2Rpdj5cbiAgICB9KVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdzZWFyY2gtcmVzdWx0cy13cmFwIGNsZWFyZml4JyBzdHlsZT17e3Bvc2l0aW9uOiAncmVsYXRpdmUnLCBtaW5IZWlnaHQ6IHRoaXMucHJvcHMubWluSGVpZ2h0fX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdvYmplY3RzLXdyYXAgbGVmdEJhcicgc3R5bGU9e3twb3NpdGlvbjogJ2Fic29sdXRlJywgdG9wOiAwLCBsZWZ0OiAwLCByaWdodDogMCwgYm90dG9tOiAwLCB3aWR0aDogbGVmdENvbHVtbldpZHRofX0+XG4gICAgICAgICAge3Jlc3VsdHN9XG4gICAgICAgICAge3RoaXMucHJvcHMucG9zdFNlYXJjaH1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtmb2N1c2VkUmVzdWx0ICYmIDxGb2N1c2VkUmVzdWx0IGtleT17Zm9jdXNlZFJlc3VsdC5fc291cmNlLmlkfSBhcnQ9e2ZvY3VzZWRSZXN1bHQuX3NvdXJjZX0gaGlnaGxpZ2h0cz17Zm9jdXNlZFJlc3VsdC5oaWdobGlnaHR9IHsuLi50aGlzLnByb3BzfS8+fVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9LFxuXG4gIGhhbmRsZUNsaWNrKGhpdCkge1xuICAgIHRoaXMucHJvcHMuZm9jdXNIYW5kbGVyKGhpdCwgU2VhcmNoUmVzdWx0c0xpc3QpXG4gIH0sXG59KVxuU2VhcmNoUmVzdWx0c0xpc3QuY29udGV4dFR5cGVzID0ge1xuICByb3V0ZXI6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICB1bml2ZXJzYWw6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNlYXJjaFJlc3VsdHNMaXN0XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/search-results/list.js"
      ],
      "names": [],
      "mappings": ";;;;;;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;AAE5B,IAAI,aAAa,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAA;AAChD,IAAI,aAAa,GAAG,OAAO,CAAC,WAAW,CAAC,CAAA;;AAExC,IAAI,iBAAiB,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACxC,QAAM,EAAA,kBAAG;;;iBAOH,IAAI,CAAC,KAAK;QALZ,eAAe,UAAf,eAAe;QACf,aAAa,UAAb,aAAa;QACb,YAAY,UAAZ,YAAY;QACZ,aAAa,UAAb,aAAa;;QACV,YAAY;;AAGjB,QAAG,aAAa,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;AAC1C,mBAAa,GAAG,IAAI,CAAA;KACrB;AACD,QAAG,CAAC,aAAa,EAAE,eAAe,GAAG,MAAM,CAAA;;AAE3C,QAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,UAAC,GAAG,EAAK;AACzC,UAAI,EAAE,GAAG,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,iCAAiC,EAAE,EAAE,CAAC,CAAA;AACtE,UAAI,OAAO,GAAG,aAAa,KAAK,GAAG,CAAC,OAAO,CAAA;AAC3C,aAAO;;UAAK,GAAG,EAAE,EAAE,AAAC,EAAC,OAAO,EAAE,MAAK,WAAW,CAAC,IAAI,QAAO,GAAG,CAAC,AAAC,EAAC,SAAS,EAAE,OAAO,GAAG,SAAS,GAAG,EAAE,AAAC;QAClG,oBAAC,aAAa,IAAC,EAAE,EAAE,EAAE,AAAC,EAAC,IAAI,EAAE,EAAC,OAAO,EAAE,GAAG,CAAC,OAAO,EAAC,AAAC,EAAC,UAAU,EAAE,GAAG,CAAC,SAAS,AAAC,EAAC,QAAQ,EAAE,aAAa,AAAC,GAAG;OACvG,CAAA;KACP,CAAC,CAAA;;AAEF,WACE;;QAAK,SAAS,EAAC,8BAA8B,EAAC,KAAK,EAAE,EAAC,QAAQ,EAAE,UAAU,EAAE,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,EAAC,AAAC;MAC3G;;UAAK,SAAS,EAAC,sBAAsB,EAAC,KAAK,EAAE,EAAC,QAAQ,EAAE,UAAU,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE,eAAe,EAAC,AAAC;QAC/H,OAAO;QACP,IAAI,CAAC,KAAK,CAAC,UAAU;OAClB;MACL,aAAa,IAAI,oBAAC,aAAa,aAAC,GAAG,EAAE,aAAa,CAAC,OAAO,CAAC,EAAE,AAAC,EAAC,GAAG,EAAE,aAAa,CAAC,OAAO,AAAC,EAAC,UAAU,EAAE,aAAa,CAAC,SAAS,AAAC,IAAK,IAAI,CAAC,KAAK,EAAG;KAC9I,CACP;GACF;;AAED,aAAW,EAAA,qBAAC,GAAG,EAAE;AACf,QAAI,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,EAAE,iBAAiB,CAAC,CAAA;GAChD;CACF,CAAC,CAAA;AACF,iBAAiB,CAAC,YAAY,GAAG;AAC/B,QAAM,EAAE,KAAK,CAAC,SAAS,CAAC,IAAI;AAC5B,WAAS,EAAE,KAAK,CAAC,SAAS,CAAC,IAAI;CAChC,CAAA;;AAED,MAAM,CAAC,OAAO,GAAG,iBAAiB,CAAA",
      "file": "/var/www/art/src/search-results/list.js",
      "sourcesContent": [
        "var React = require('react')\n\nvar ArtworkResult = require('../artwork-result')\nvar FocusedResult = require('./focused')\n\nvar SearchResultsList = React.createClass({\n  render() {\n    var {\n      leftColumnWidth,\n      focusedResult,\n      focusHandler,\n      smallViewport,\n      ...focusedProps\n    } = this.props\n\n    if(smallViewport || this.context.universal) {\n      focusedResult = null\n    }\n    if(!focusedResult) leftColumnWidth = '100%'\n\n    var results = this.props.hits.map((hit) => {\n      var id = hit._source.id.replace('http://api.artsmia.org/objects/', '')\n      var focused = focusedResult === hit._source\n      return <div key={id} onClick={this.handleClick.bind(this, hit)} className={focused ? 'focused' : ''}>\n        <ArtworkResult id={id} data={{artwork: hit._source}} highlights={hit.highlight} showMore={smallViewport} />\n      </div>\n    })\n\n    return (\n      <div className='search-results-wrap clearfix' style={{position: 'relative', minHeight: this.props.minHeight}}>\n        <div className='objects-wrap leftBar' style={{position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, width: leftColumnWidth}}>\n          {results}\n          {this.props.postSearch}\n        </div>\n        {focusedResult && <FocusedResult key={focusedResult._source.id} art={focusedResult._source} highlights={focusedResult.highlight} {...this.props}/>}\n      </div>\n    )\n  },\n\n  handleClick(hit) {\n    this.props.focusHandler(hit, SearchResultsList)\n  },\n})\nSearchResultsList.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nmodule.exports = SearchResultsList\n"
      ]
    },
    "mtime": 1465414471034
  },
  "{\"filename\":\"/var/www/art/src/artwork-result.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar Artwork = require('./_artwork');\nvar Markdown = require('./markdown');\nvar highlighter = require('./highlighter');\n\nvar ArtworkResult = React.createClass({\n  displayName: 'ArtworkResult',\n\n  mixins: [Router.State],\n  statics: {\n    fetchData: function fetchData(params) {\n      return rest(SEARCH + '/id/' + params.id).then(function (r) {\n        return JSON.parse(r.entity);\n      });\n    }\n  },\n  render: function render() {\n    var art = this.props.data.artwork;\n    var id = this.props.id || art.id.replace('http://api.artsmia.org/objects/', '');\n    var title = React.createElement(Artwork.Title, { art: art, link: this.context.universal, highlights: this.props.highlights });\n\n    var roomHighlight = highlighter(art, this.props.highlights, 'room');\n    var showMore = this.props.showMore && Object.keys(art).filter(function (key) {\n      return key.match(/related:/) && !key.match(/related:exhibitions/);\n    }).length > 0;\n\n    return React.createElement(\n      Artwork.Figure,\n      { art: art, className: 'artwork-result' },\n      React.createElement(\n        'div',\n        { className: 'artwork-summary' },\n        title,\n        React.createElement(Artwork.Creator, { art: art, wrapper: 'h2', peek: false, highlights: this.props.highlights }),\n        React.createElement(\n          'p',\n          null,\n          art.room === 'Not on View' ? art.room : React.createElement(\n            'strong',\n            null,\n            React.createElement(\n              Markdown,\n              null,\n              roomHighlight\n            )\n          )\n        ),\n        showMore && React.createElement(\n          Link,\n          { to: 'artwork', params: { id: art.id, hash: 'explore' } },\n          React.createElement('img', { src: '/images/more-icon.svg', style: { width: '3em' } })\n        )\n      )\n    );\n  }\n});\nArtworkResult.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nmodule.exports = ArtworkResult;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYXJ0d29yay1yZXN1bHQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0lBQzlCLElBQUksR0FBSyxNQUFNLENBQWYsSUFBSTs7QUFFVixJQUFJLE9BQU8sR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7QUFDbkMsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBO0FBQ3BDLElBQUksV0FBVyxHQUFHLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQTs7QUFFMUMsSUFBSSxhQUFhLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ3BDLFFBQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7QUFDdEIsU0FBTyxFQUFFO0FBQ1AsYUFBUyxFQUFFLG1CQUFDLE1BQU0sRUFBSztBQUNyQixhQUFPLElBQUksQ0FBQyxBQUFHLE1BQU0sWUFBTyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsQ0FBQztlQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztPQUFBLENBQUMsQ0FBQTtLQUN6RTtHQUNGO0FBQ0QsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsUUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFBO0FBQ2pDLFFBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLGlDQUFpQyxFQUFFLEVBQUUsQ0FBQyxDQUFBO0FBQy9FLFFBQUksS0FBSyxHQUFHLG9CQUFDLE9BQU8sQ0FBQyxLQUFLLElBQUMsR0FBRyxFQUFFLEdBQUcsQUFBQyxFQUFDLElBQUksRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQUFBQyxFQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQUFBQyxHQUFHLENBQUE7O0FBRXhHLFFBQUksYUFBYSxHQUFHLFdBQVcsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUUsTUFBTSxDQUFDLENBQUE7QUFDbkUsUUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBQSxHQUFHO2FBQUksR0FBRyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMscUJBQXFCLENBQUM7S0FBQSxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQTs7QUFFM0ksV0FDRTtBQUFDLGFBQU8sQ0FBQyxNQUFNO1FBQUMsR0FBRyxFQUFFLEdBQUcsQUFBQyxFQUFDLFNBQVMsRUFBQyxnQkFBZ0I7TUFDbEQ7O1VBQUssU0FBUyxFQUFDLGlCQUFpQjtRQUM3QixLQUFLO1FBQ04sb0JBQUMsT0FBTyxDQUFDLE9BQU8sSUFBQyxHQUFHLEVBQUUsR0FBRyxBQUFDLEVBQUMsT0FBTyxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUUsS0FBSyxBQUFDLEVBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxBQUFDLEdBQUc7UUFDMUY7OztVQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssYUFBYSxHQUFHLEdBQUcsQ0FBQyxJQUFJLEdBQUc7OztZQUFRO0FBQUMsc0JBQVE7O2NBQUUsYUFBYTthQUFZO1dBQVM7U0FBSztRQUNyRyxRQUFRLElBQUk7QUFBQyxjQUFJO1lBQUMsRUFBRSxFQUFDLFNBQVMsRUFBQyxNQUFNLEVBQUUsRUFBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFDLEFBQUM7VUFBQyw2QkFBSyxHQUFHLEVBQUMsdUJBQXVCLEVBQUMsS0FBSyxFQUFFLEVBQUMsS0FBSyxFQUFFLEtBQUssRUFBQyxBQUFDLEdBQUU7U0FBTztPQUNuSTtLQUNTLENBQ2xCO0dBQ0Y7Q0FDRixDQUFDLENBQUE7QUFDRixhQUFhLENBQUMsWUFBWSxHQUFHO0FBQzNCLFFBQU0sRUFBRSxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUk7QUFDNUIsV0FBUyxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSTtDQUNoQyxDQUFBOztBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUcsYUFBYSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvYXJ0d29yay1yZXN1bHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciB7IExpbmsgfSA9IFJvdXRlclxuXG52YXIgQXJ0d29yayA9IHJlcXVpcmUoJy4vX2FydHdvcmsnKVxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi9tYXJrZG93bicpXG52YXIgaGlnaGxpZ2h0ZXIgPSByZXF1aXJlKCcuL2hpZ2hsaWdodGVyJylcblxudmFyIEFydHdvcmtSZXN1bHQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIG1peGluczogW1JvdXRlci5TdGF0ZV0sXG4gIHN0YXRpY3M6IHtcbiAgICBmZXRjaERhdGE6IChwYXJhbXMpID0+IHtcbiAgICAgIHJldHVybiByZXN0KGAke1NFQVJDSH0vaWQvYCtwYXJhbXMuaWQpLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpKVxuICAgIH1cbiAgfSxcbiAgcmVuZGVyKCkge1xuICAgIHZhciBhcnQgPSB0aGlzLnByb3BzLmRhdGEuYXJ0d29ya1xuICAgIHZhciBpZCA9IHRoaXMucHJvcHMuaWQgfHwgYXJ0LmlkLnJlcGxhY2UoJ2h0dHA6Ly9hcGkuYXJ0c21pYS5vcmcvb2JqZWN0cy8nLCAnJylcbiAgICB2YXIgdGl0bGUgPSA8QXJ0d29yay5UaXRsZSBhcnQ9e2FydH0gbGluaz17dGhpcy5jb250ZXh0LnVuaXZlcnNhbH0gaGlnaGxpZ2h0cz17dGhpcy5wcm9wcy5oaWdobGlnaHRzfSAvPlxuXG4gICAgdmFyIHJvb21IaWdobGlnaHQgPSBoaWdobGlnaHRlcihhcnQsIHRoaXMucHJvcHMuaGlnaGxpZ2h0cywgJ3Jvb20nKVxuICAgIHZhciBzaG93TW9yZSA9IHRoaXMucHJvcHMuc2hvd01vcmUgJiYgT2JqZWN0LmtleXMoYXJ0KS5maWx0ZXIoa2V5ID0+IGtleS5tYXRjaCgvcmVsYXRlZDovKSAmJiAha2V5Lm1hdGNoKC9yZWxhdGVkOmV4aGliaXRpb25zLykpLmxlbmd0aCA+IDBcblxuICAgIHJldHVybiAoXG4gICAgICA8QXJ0d29yay5GaWd1cmUgYXJ0PXthcnR9IGNsYXNzTmFtZT0nYXJ0d29yay1yZXN1bHQnPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFydHdvcmstc3VtbWFyeVwiPlxuICAgICAgICAgIHt0aXRsZX1cbiAgICAgICAgICA8QXJ0d29yay5DcmVhdG9yIGFydD17YXJ0fSB3cmFwcGVyPVwiaDJcIiBwZWVrPXtmYWxzZX0gaGlnaGxpZ2h0cz17dGhpcy5wcm9wcy5oaWdobGlnaHRzfSAvPlxuICAgICAgICAgIDxwPnthcnQucm9vbSA9PT0gJ05vdCBvbiBWaWV3JyA/IGFydC5yb29tIDogPHN0cm9uZz48TWFya2Rvd24+e3Jvb21IaWdobGlnaHR9PC9NYXJrZG93bj48L3N0cm9uZz59PC9wPlxuICAgICAgICAgIHtzaG93TW9yZSAmJiA8TGluayB0bz1cImFydHdvcmtcIiBwYXJhbXM9e3tpZDogYXJ0LmlkLCBoYXNoOiAnZXhwbG9yZSd9fT48aW1nIHNyYz1cIi9pbWFnZXMvbW9yZS1pY29uLnN2Z1wiIHN0eWxlPXt7d2lkdGg6ICczZW0nfX0vPjwvTGluaz59XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9BcnR3b3JrLkZpZ3VyZT5cbiAgICApXG4gIH1cbn0pXG5BcnR3b3JrUmVzdWx0LmNvbnRleHRUeXBlcyA9IHtcbiAgcm91dGVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgdW5pdmVyc2FsOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBcnR3b3JrUmVzdWx0XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/artwork-result.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;IAC9B,IAAI,GAAK,MAAM,CAAf,IAAI;;AAEV,IAAI,OAAO,GAAG,OAAO,CAAC,YAAY,CAAC,CAAA;AACnC,IAAI,QAAQ,GAAG,OAAO,CAAC,YAAY,CAAC,CAAA;AACpC,IAAI,WAAW,GAAG,OAAO,CAAC,eAAe,CAAC,CAAA;;AAE1C,IAAI,aAAa,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACpC,QAAM,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;AACtB,SAAO,EAAE;AACP,aAAS,EAAE,mBAAC,MAAM,EAAK;AACrB,aAAO,IAAI,CAAC,AAAG,MAAM,YAAO,MAAM,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAC,CAAC;eAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;OAAA,CAAC,CAAA;KACzE;GACF;AACD,QAAM,EAAA,kBAAG;AACP,QAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAA;AACjC,QAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,IAAI,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,iCAAiC,EAAE,EAAE,CAAC,CAAA;AAC/E,QAAI,KAAK,GAAG,oBAAC,OAAO,CAAC,KAAK,IAAC,GAAG,EAAE,GAAG,AAAC,EAAC,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,AAAC,EAAC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,AAAC,GAAG,CAAA;;AAExG,QAAI,aAAa,GAAG,WAAW,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,MAAM,CAAC,CAAA;AACnE,QAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,UAAA,GAAG;aAAI,GAAG,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,qBAAqB,CAAC;KAAA,CAAC,CAAC,MAAM,GAAG,CAAC,CAAA;;AAE3I,WACE;AAAC,aAAO,CAAC,MAAM;QAAC,GAAG,EAAE,GAAG,AAAC,EAAC,SAAS,EAAC,gBAAgB;MAClD;;UAAK,SAAS,EAAC,iBAAiB;QAC7B,KAAK;QACN,oBAAC,OAAO,CAAC,OAAO,IAAC,GAAG,EAAE,GAAG,AAAC,EAAC,OAAO,EAAC,IAAI,EAAC,IAAI,EAAE,KAAK,AAAC,EAAC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,AAAC,GAAG;QAC1F;;;UAAI,GAAG,CAAC,IAAI,KAAK,aAAa,GAAG,GAAG,CAAC,IAAI,GAAG;;;YAAQ;AAAC,sBAAQ;;cAAE,aAAa;aAAY;WAAS;SAAK;QACrG,QAAQ,IAAI;AAAC,cAAI;YAAC,EAAE,EAAC,SAAS,EAAC,MAAM,EAAE,EAAC,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,IAAI,EAAE,SAAS,EAAC,AAAC;UAAC,6BAAK,GAAG,EAAC,uBAAuB,EAAC,KAAK,EAAE,EAAC,KAAK,EAAE,KAAK,EAAC,AAAC,GAAE;SAAO;OACnI;KACS,CAClB;GACF;CACF,CAAC,CAAA;AACF,aAAa,CAAC,YAAY,GAAG;AAC3B,QAAM,EAAE,KAAK,CAAC,SAAS,CAAC,IAAI;AAC5B,WAAS,EAAE,KAAK,CAAC,SAAS,CAAC,IAAI;CAChC,CAAA;;AAED,MAAM,CAAC,OAAO,GAAG,aAAa,CAAA",
      "file": "/var/www/art/src/artwork-result.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar { Link } = Router\n\nvar Artwork = require('./_artwork')\nvar Markdown = require('./markdown')\nvar highlighter = require('./highlighter')\n\nvar ArtworkResult = React.createClass({\n  mixins: [Router.State],\n  statics: {\n    fetchData: (params) => {\n      return rest(`${SEARCH}/id/`+params.id).then((r) => JSON.parse(r.entity))\n    }\n  },\n  render() {\n    var art = this.props.data.artwork\n    var id = this.props.id || art.id.replace('http://api.artsmia.org/objects/', '')\n    var title = <Artwork.Title art={art} link={this.context.universal} highlights={this.props.highlights} />\n\n    var roomHighlight = highlighter(art, this.props.highlights, 'room')\n    var showMore = this.props.showMore && Object.keys(art).filter(key => key.match(/related:/) && !key.match(/related:exhibitions/)).length > 0\n\n    return (\n      <Artwork.Figure art={art} className='artwork-result'>\n        <div className=\"artwork-summary\">\n          {title}\n          <Artwork.Creator art={art} wrapper=\"h2\" peek={false} highlights={this.props.highlights} />\n          <p>{art.room === 'Not on View' ? art.room : <strong><Markdown>{roomHighlight}</Markdown></strong>}</p>\n          {showMore && <Link to=\"artwork\" params={{id: art.id, hash: 'explore'}}><img src=\"/images/more-icon.svg\" style={{width: '3em'}}/></Link>}\n        </div>\n      </Artwork.Figure>\n    )\n  }\n})\nArtworkResult.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nmodule.exports = ArtworkResult\n"
      ]
    },
    "mtime": 1478899433914
  },
  "{\"filename\":\"/var/www/art/src/_artwork.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "sliced-to-array",
        "object-without-properties",
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar toSlug = require('speakingurl');\nvar classnames = require('classnames');\n\nvar Creator = require('./artwork/creator.js');\nvar ArtworkImage = require('./artwork-image');\nvar Peek = require('./peek');\nvar imageCDN = require('./image-cdn');\nvar highlighter = require('./highlighter');\nvar Markdown = require('./markdown');\n\n//\n// TODO: move these into separate components at `src/artwork/`?\n//\n\nvar ConditionalLinkWrapper = React.createClass({\n  displayName: 'ConditionalLinkWrapper',\n\n  render: function render() {\n    var _props = this.props;\n    var art = _props.art;\n    var link = _props.link;\n\n    return link ? React.createElement(\n      Link,\n      { to: 'artwork', params: { id: art.id } },\n      this.props.children\n    ) : this.props.children;\n  }\n});\n\nvar Title = React.createClass({\n  displayName: 'Title',\n\n  render: function render() {\n    var _props2 = this.props;\n    var art = _props2.art;\n    var link = _props2.link;\n    var highlights = _props2.highlights;\n\n    var title = React.createElement(\n      Markdown,\n      { tag: 'span' },\n      highlighter(art, highlights, \"title\")\n    );\n    var title = React.createElement(\n      'h1',\n      { itemProp: 'name' },\n      title,\n      ', ',\n      React.createElement(\n        'span',\n        { className: 'dated' },\n        art.dated\n      )\n    );\n\n    return React.createElement(\n      ConditionalLinkWrapper,\n      this.props,\n      title\n    );\n  }\n});\n\nvar Tombstone = React.createClass({\n  displayName: 'Tombstone',\n\n  getInitialState: function getInitialState() {\n    return {\n      showLabels: false,\n      highlightAccessionNumber: false\n    };\n  },\n\n  render: function render() {\n    var _props3 = this.props;\n    var art = _props3.art;\n    var highlightAccessionNumber = _props3.highlightAccessionNumber;\n\n    var highlight = highlighter.bind(null, art, this.props.highlights);\n\n    var accessionNumber = this.props.highlighter ? this.props.highlighter(art.accession_number, highlightAccessionNumber) : art.accession_number;\n\n    return React.createElement(\n      'div',\n      { onDoubleClick: this.handleDoubleClick },\n      React.createElement(\n        'p',\n        { className: 'tombstone' },\n        React.createElement(\n          Peek,\n          { facet: 'medium', tag: 'span', highlightedValue: highlight('medium') },\n          art.medium\n        )\n      ),\n      this.state.showLabels && React.createElement(CopyableLabel, { art: art, onClose: this.handleDoubleClick }),\n      React.createElement(\n        'p',\n        { className: 'gifted' },\n        React.createElement(\n          Peek,\n          { facet: 'creditline', tag: 'span', highlightedValue: highlight('creditline') },\n          art.creditline\n        ),\n        ' ',\n        accessionNumber\n      )\n    );\n  },\n\n  handleDoubleClick: function handleDoubleClick() {\n    // show a copy-able tombstone/label in different formats\n    this.setState({ showLabels: !this.state.showLabels });\n  }\n});\n\nvar ClickToSelect = require('react-click-to-select');\n\nvar CopyableLabel = React.createClass({\n  displayName: 'CopyableLabel',\n\n  render: function render() {\n    var art = this.props.art;\n\n    var style = {\n      border: '1px solid red',\n      position: 'absolute',\n      background: 'white',\n      padding: '0.25em'\n    };\n\n    var join = this.join;\n    var formatDates = this.formatDates;\n    var titlecase = this.titlecase;\n\n    var hasValidArtist = art.artist !== \"\" && !art.artist.match(/Unknown/i);\n\n    var _Creator$getFacetAndValue = Creator.getFacetAndValue(art);\n\n    var _Creator$getFacetAndValue2 = _slicedToArray(_Creator$getFacetAndValue, 2);\n\n    var facet = _Creator$getFacetAndValue2[0];\n    var creator = _Creator$getFacetAndValue2[1];\n\n    if (facet == 'country' || facet == undefined) creator = undefined;\n\n    var title = this.state.useQuotes ? '“' + art.title + '”' : React.createElement(\n      'i',\n      null,\n      art.title\n    );\n    if (!hasValidArtist) title = art.title;\n\n    // Artist name [if known], Country of origin, birth/death dates,\n    // or\n    // Self-designation of people/tribe, location (country +/- continent)\n    // Title of object [italicized if simply nondescriptive, like Table], creation date, media,\n    // Source of purchase funds, accession number [+ © or ARS info]\n    return React.createElement(\n      'div',\n      { style: style },\n      React.createElement(\n        ClickToSelect,\n        { ref: 'click' },\n        React.createElement(\n          'p',\n          null,\n          join(hasValidArtist && [creator, art.country, formatDates(art.life_date)] || [creator, art.country, art.continent])\n        ),\n        React.createElement(\n          'p',\n          null,\n          title,\n          ', ',\n          join([formatDates(art.dated), titlecase(art.medium)])\n        ),\n        React.createElement(\n          'p',\n          null,\n          join([art.creditline, art.accession_number, decodeURIComponent(art.image_copyright)])\n        )\n      ),\n      React.createElement(\n        'div',\n        { style: { opacity: '0.5' } },\n        React.createElement(\n          'label',\n          { 'for': 'useQuotes', onDoubleClick: function (e) {\n              e.stopPropagation();e.preventDefault();\n            } },\n          React.createElement('input', { type: 'checkbox',\n            onChange: this.toggleQuotes,\n            checked: this.state.useQuotes\n          }),\n          'use quotes'\n        ),\n        React.createElement(\n          'button',\n          { onClick: this.props.onClose, style: { color: '#111', float: 'right' } },\n          '(close)'\n        )\n      )\n    );\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      useQuotes: false\n    };\n  },\n\n  toggleQuotes: function toggleQuotes(event) {\n    event.stopPropagation();\n    var useQuotes = this.state ? !this.state.useQuotes : true;\n    this.setState({ useQuotes: useQuotes });\n  },\n\n  join: function join(fields) {\n    return fields.filter(function (f) {\n      return !!f;\n    }).join(', ');\n  },\n\n  formatDates: function formatDates(dateString) {\n    var dates = dateString.replace(/^[A-Za-z \\.,\\(\\)]+/, '').split(/\\s*-\\s*/);\n    if (dates.length > 1) {\n      var _dates = _slicedToArray(dates, 2);\n\n      var start = _dates[0];\n      var end = _dates[1];\n\n      if (start.substr(0, 2) === end.substr(0, 2)) return start + \"–\" + end.substr(2);\n      return start + \"–\" + end;\n    }\n    return dates.join(\"–\");\n  },\n\n  titlecase: function titlecase(string) {\n    return string[0].toUpperCase() + string.substr(1).toLowerCase();\n  },\n\n  componentDidMount: function componentDidMount() {\n    // auto-select the text instead of requiring a click\n    var domNode = this.refs.click && React.findDOMNode(this.refs.click);\n    if (domNode) domNode.click();\n  }\n});\n\n// check if an image exists on our cloudfront distribution,\n// and if not, fall back to loading it from the API\nvar testCloudfrontImage = function testCloudfrontImage(art, callback) {\n  var cdnUrl = imageCDN(art.id, art.restricted ? 400 : 800);\n\n  if (typeof document == 'undefined') {\n    return cdnUrl;\n  }\n\n  var i = document.createElement('img');\n  i.onload = function () {\n    return callback(cdnUrl);\n  };\n  i.onerror = function () {\n    return callback('https://api.artsmia.org/images/' + art.id + '/' + (art.restricted ? '400/medium.jpg' : '800/large.jpg'));\n  };\n  i.src = cdnUrl;\n};\n\nvar LinkBar = React.createClass({\n  displayName: 'LinkBar',\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      actions: {\n        like: {\n          enabled: false,\n          icon: 'favorite_border'\n        },\n        download: {\n          enabled: true,\n          icon: 'file_download'\n        },\n        print: {\n          enabled: true\n        },\n        share: {\n          enabled: true,\n          icon: 'share'\n        }\n      }\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      showShare: false\n    };\n  },\n\n  render: function render() {\n    var _this = this;\n\n    var art = this.props.art;\n\n    var actions = Object.keys(this.props.actions).map(function (key) {\n      _this.props.actions[key].key = key;\n      return _this.props.actions[key];\n    }, []).filter(function (action) {\n      return action.enabled;\n    })\n    // don't show 'download' for art with an invalid image\n    .filter(function (action) {\n      return !(action.key == 'download' && art.image == 'invalid');\n    });\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'div',\n        { className: 'link-bar' },\n        actions.map(function (action) {\n          var key = action.key;\n          var handler = eval('_this.handle' + (key[0].toUpperCase() + key.substr(1))); // TODO alert alert warning warning (shouldn't have to reference _this, sketchy code)\n\n          var options = {\n            key: key,\n            className: \"material-icons\",\n            onClick: handler\n          };\n          if (key == 'download') {\n            options.download = '';\n            if (_this.state.resolvedImageDownloadUrl) {\n              options.href = _this.state.resolvedImageDownloadUrl;\n            } else {\n              testCloudfrontImage(art, function (url) {\n                _this.setState({ resolvedImageDownloadUrl: url });\n              });\n            }\n          }\n          var content = action.icon || action.key;\n\n          return key == 'download' ? React.createElement(\n            'a',\n            options,\n            content\n          ) : React.createElement(\n            'i',\n            options,\n            content\n          );\n        })\n      ),\n      this.state.showShare && this.showShare(),\n      React.createElement('div', { className: 'clear' }),\n      React.createElement(\n        'div',\n        { className: 'back-button' },\n        this.props.link && React.createElement(\n          Link,\n          { to: 'artwork', params: { id: art.id } },\n          'View Details ',\n          React.createElement(\n            'i',\n            { className: 'material-icons' },\n            'arrow_forward'\n          )\n        )\n      )\n    );\n  },\n\n  getUrl: function getUrl() {\n    return 'https://collections.artsmia.org' + this.context.router.getCurrentPath();\n  },\n\n  handleShare: function handleShare() {\n    var art = this.props.art;\n\n    this.setState({ showShare: !this.state.showShare });\n  },\n\n  showShare: function showShare() {\n    var art = this.props.art;\n\n    var facebookURL = 'https://www.facebook.com/sharer/sharer.php?u=' + encodeURI(this.getUrl());\n    var twitterURL = 'https://twitter.com/intent/tweet?url=' + encodeURI(this.getUrl());\n    var emailURL = 'mailto:?subject=' + art.title + '&body=' + encodeURI(this.getUrl());\n\n    return React.createElement(\n      'div',\n      { className: 'share' },\n      React.createElement(\n        'div',\n        { className: 'social' },\n        React.createElement(\n          'a',\n          { title: 'Share via email', href: emailURL, target: '_blank' },\n          React.createElement('img', { src: 'https://simpleicons.org/icons/email.svg' })\n        )\n      ),\n      React.createElement(\n        'div',\n        { className: 'social' },\n        React.createElement(\n          'a',\n          { title: 'Share on Facebook', href: facebookURL, target: '_blank' },\n          React.createElement('img', { src: 'https://cdn.rawgit.com/danleech/simple-icons/gh-pages/icons/facebook.svg' })\n        )\n      ),\n      React.createElement(\n        'div',\n        { className: 'social' },\n        React.createElement(\n          'a',\n          { title: 'Share on Twitter', href: twitterURL, target: '_blank' },\n          React.createElement('img', { src: 'https://cdn.rawgit.com/danleech/simple-icons/gh-pages/icons/twitter.svg' })\n        )\n      )\n    );\n  },\n\n  handlePrint: function handlePrint() {\n    window.print();\n  },\n\n  handleDownload: function handleDownload() {\n    var art = this.props.art;\n    var id = art.id;\n\n    if (process.env.NODE_ENV == 'production') {\n      require('react-ga').event({\n        category: 'Artwork',\n        action: 'Image Download',\n        label: art.title,\n        value: parseInt(id)\n      });\n    } else {\n      console.info('ga.event', 'downloaded', id);\n    }\n  },\n\n  handleLike: function handleLike() {\n    console.info('TODO');\n  }\n});\nLinkBar.contextTypes = {\n  router: React.PropTypes.func\n};\n\nvar Figure = React.createClass({\n  displayName: 'Figure',\n\n  render: function render() {\n    var _props4 = this.props;\n    var art = _props4.art;\n    var link = _props4.link;\n    var className = _props4.className;\n\n    var figureProps = _objectWithoutProperties(_props4, ['art', 'link', 'className']);\n\n    var id = art.id;\n    var classes = classnames(className, { validImage: art.image === 'valid' && art.image_width > 0 });\n\n    return React.createElement(\n      'figure',\n      _extends({}, figureProps, { className: classes,\n        itemScope: true, itemType: 'https://schema.org/VisualArtwork' }),\n      React.createElement('link', { itemProp: 'url', href: '/art/' + id }),\n      React.createElement(\n        ConditionalLinkWrapper,\n        { art: art, link: link },\n        React.createElement(ArtworkImage, { art: art, id: id, lazyLoad: false, className: 'artwork-image' })\n      ),\n      React.createElement(\n        'figcaption',\n        null,\n        this.props.children\n      )\n    );\n  }\n});\nFigure.contextTypes = {\n  universal: React.PropTypes.bool\n};\n\nvar slug = function slug(art) {\n  var creator = Creator.getFacetAndValue(art)[1];\n  var string = [art.title.replace(/<[^ ]+?>/g, ''), creator && creator.split(';')[0]].filter(function (e) {\n    return e;\n  }).join(' ').replace(/’|'/g, '').replace(/^(.+)\\(.*\\)/, '$1').replace('ō', 'o');\n  return toSlug(string);\n};\n\nmodule.exports = {\n  Title: Title,\n  Tombstone: Tombstone,\n  LinkBar: LinkBar,\n  Figure: Figure,\n  Creator: Creator,\n  slug: slug\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvX2FydHdvcmsuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7O2VBQ2YsT0FBTyxDQUFDLGNBQWMsQ0FBQzs7SUFBL0IsSUFBSSxZQUFKLElBQUk7O0FBQ1QsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBO0FBQ25DLElBQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTs7QUFFdEMsSUFBSSxPQUFPLEdBQUcsT0FBTyxDQUFDLHNCQUFzQixDQUFDLENBQUE7QUFDN0MsSUFBSSxZQUFZLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUE7QUFDN0MsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQzVCLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQTtBQUNyQyxJQUFJLFdBQVcsR0FBRyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUE7QUFDMUMsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBOzs7Ozs7QUFNcEMsSUFBSSxzQkFBc0IsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDN0MsUUFBTSxFQUFBLGtCQUFHO2lCQUNXLElBQUksQ0FBQyxLQUFLO1FBQXZCLEdBQUcsVUFBSCxHQUFHO1FBQUUsSUFBSSxVQUFKLElBQUk7O0FBRWQsV0FBTyxJQUFJLEdBQ1Q7QUFBQyxVQUFJO1FBQUMsRUFBRSxFQUFDLFNBQVMsRUFBQyxNQUFNLEVBQUUsRUFBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUUsRUFBQyxBQUFDO01BQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRO0tBQVEsR0FDckUsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUE7R0FDdEI7Q0FDRixDQUFDLENBQUE7O0FBRUYsSUFBSSxLQUFL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RCxNQUFNLENBQUMsT0FBTyxHQUFHO0FBQ2YsT0FBSyxFQUFMLEtBQUs7QUFDTCxXQUFTLEVBQVQsU0FBUztBQUNULFNBQU8sRUFBUCxPQUFPO0FBQ1AsUUFBTSxFQUFOLE1BQU07QUFDTixTQUFPLEVBQVAsT0FBTztBQUNQLE1BQUksRUFBSixJQUFJO0NBQ0wsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL19hcnR3b3JrLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIHtMaW5rfSA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIgdG9TbHVnID0gcmVxdWlyZSgnc3BlYWtpbmd1cmwnKVxudmFyIGNsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJylcblxudmFyIENyZWF0b3IgPSByZXF1aXJlKCcuL2FydHdvcmsvY3JlYXRvci5qcycpXG52YXIgQXJ0d29ya0ltYWdlID0gcmVxdWlyZSgnLi9hcnR3b3JrLWltYWdlJylcbnZhciBQZWVrID0gcmVxdWlyZSgnLi9wZWVrJylcbnZhciBpbWFnZUNETiA9IHJlcXVpcmUoJy4vaW1hZ2UtY2RuJylcbnZhciBoaWdobGlnaHRlciA9IHJlcXVpcmUoJy4vaGlnaGxpZ2h0ZXInKVxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi9tYXJrZG93bicpXG5cbi8vXG4vLyBUT0RPOiBtb3ZlIHRoZXNlIGludG8gc2VwYXJhdGUgY29tcG9uZW50cyBhdCBgc3JjL2FydHdvcmsvYD9cbi8vIFxuXG52YXIgQ29uZGl0aW9uYWxMaW5rV3JhcHBlciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7YXJ0LCBsaW5rfSA9IHRoaXMucHJvcHNcblxuICAgIHJldHVybiBsaW5rID9cbiAgICAgIDxMaW5rIHRvPVwiYXJ0d29ya1wiIHBhcmFtcz17e2lkOiBhcnQuaWR9fT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L0xpbms+IDpcbiAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgfVxufSlcblxudmFyIFRpdGxlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnQsIGxpbmssIGhpZ2hsaWdodHN9ID0gdGhpcy5wcm9wc1xuICAgIHZhciB0aXRsZSA9IDxNYXJrZG93biB0YWc9XCJzcGFuXCI+e2hpZ2hsaWdodGVyKGFydCwgaGlnaGxpZ2h0cywgXCJ0aXRsZVwiKX08L01hcmtkb3duPlxuICAgIHZhciB0aXRsZSA9IDxoMSBpdGVtUHJvcD1cIm5hbWVcIj57dGl0bGV9LCA8c3BhbiBjbGFzc05hbWU9XCJkYXRlZFwiPnthcnQuZGF0ZWR9PC9zcGFuPjwvaDE+XG5cbiAgICByZXR1cm4gPENvbmRpdGlvbmFsTGlua1dyYXBwZXIgey4uLnRoaXMucHJvcHN9PlxuICAgICAge3RpdGxlfVxuICAgIDwvQ29uZGl0aW9uYWxMaW5rV3JhcHBlcj5cbiAgfSxcbn0pXG5cbnZhciBUb21ic3RvbmUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2hvd0xhYmVsczogZmFsc2UsXG4gICAgICBoaWdobGlnaHRBY2Nlc3Npb25OdW1iZXI6IGZhbHNlLFxuICAgIH1cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnQsIGhpZ2hsaWdodEFjY2Vzc2lvbk51bWJlcn0gPSB0aGlzLnByb3BzXG4gICAgdmFyIGhpZ2hsaWdodCA9IGhpZ2hsaWdodGVyLmJpbmQobnVsbCwgYXJ0LCB0aGlzLnByb3BzLmhpZ2hsaWdodHMpXG5cbiAgICB2YXIgYWNjZXNzaW9uTnVtYmVyID0gdGhpcy5wcm9wcy5oaWdobGlnaHRlciA/XG4gICAgICB0aGlzLnByb3BzLmhpZ2hsaWdodGVyKGFydC5hY2Nlc3Npb25fbnVtYmVyLCBoaWdobGlnaHRBY2Nlc3Npb25OdW1iZXIpIDpcbiAgICAgIGFydC5hY2Nlc3Npb25fbnVtYmVyXG5cbiAgICByZXR1cm4gPGRpdiBvbkRvdWJsZUNsaWNrPXt0aGlzLmhhbmRsZURvdWJsZUNsaWNrfT5cbiAgICAgIDxwIGNsYXNzTmFtZT1cInRvbWJzdG9uZVwiPlxuICAgICAgICA8UGVlayBmYWNldD1cIm1lZGl1bVwiIHRhZz1cInNwYW5cIiBoaWdobGlnaHRlZFZhbHVlPXtoaWdobGlnaHQoJ21lZGl1bScpfT57YXJ0Lm1lZGl1bX08L1BlZWs+XG4gICAgICA8L3A+XG4gICAgICB7dGhpcy5zdGF0ZS5zaG93TGFiZWxzICYmIDxDb3B5YWJsZUxhYmVsIGFydD17YXJ0fSBvbkNsb3NlPXt0aGlzLmhhbmRsZURvdWJsZUNsaWNrfSAvPn1cbiAgICAgIDxwIGNsYXNzTmFtZT1cImdpZnRlZFwiPlxuICAgICAgICA8UGVlayBmYWNldD1cImNyZWRpdGxpbmVcIiB0YWc9XCJzcGFuXCIgaGlnaGxpZ2h0ZWRWYWx1ZT17aGlnaGxpZ2h0KCdjcmVkaXRsaW5lJyl9PnthcnQuY3JlZGl0bGluZX08L1BlZWs+IHthY2Nlc3Npb25OdW1iZXJ9XG4gICAgICA8L3A+XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgaGFuZGxlRG91YmxlQ2xpY2soKSB7XG4gICAgLy8gc2hvdyBhIGNvcHktYWJsZSB0b21ic3RvbmUvbGFiZWwgaW4gZGlmZmVyZW50IGZvcm1hdHNcbiAgICB0aGlzLnNldFN0YXRlKHtzaG93TGFiZWxzOiAhdGhpcy5zdGF0ZS5zaG93TGFiZWxzfSlcbiAgfVxufSlcblxudmFyIENsaWNrVG9TZWxlY3QgPSByZXF1aXJlKCdyZWFjdC1jbGljay10by1zZWxlY3QnKVxuXG52YXIgQ29weWFibGVMYWJlbCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7YXJ0fSA9IHRoaXMucHJvcHNcblxuICAgIHZhciBzdHlsZSA9IHtcbiAgICAgIGJvcmRlcjogJzFweCBzb2xpZCByZWQnLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBiYWNrZ3JvdW5kOiAnd2hpdGUnLFxuICAgICAgcGFkZGluZzogJzAuMjVlbScsXG4gICAgfVxuXG4gICAgdmFyIHtqb2luLCBmb3JtYXREYXRlcywgdGl0bGVjYXNlfSA9IHRoaXNcblxuICAgIHZhciBoYXNWYWxpZEFydGlzdCA9IGFydC5hcnRpc3QgIT09IFwiXCIgJiYgIWFydC5hcnRpc3QubWF0Y2goL1Vua25vd24vaSlcbiAgICB2YXIgW2ZhY2V0LCBjcmVhdG9yXSA9IENyZWF0b3IuZ2V0RmFjZXRBbmRWYWx1ZShhcnQpXG4gICAgaWYoZmFjZXQgPT0gJ2NvdW50cnknIHx8IGZhY2V0ID09IHVuZGVmaW5lZCkgY3JlYXRvciA9IHVuZGVmaW5lZFxuXG4gICAgdmFyIHRpdGxlID0gdGhpcy5zdGF0ZS51c2VRdW90ZXMgPyBg4oCcJHthcnQudGl0bGV94oCdYCA6IDxpPnthcnQudGl0bGV9PC9pPlxuICAgIGlmKCFoYXNWYWxpZEFydGlzdCkgdGl0bGUgPSBhcnQudGl0bGVcblxuICAgIC8vIEFydGlzdCBuYW1lIFtpZiBrbm93bl0sIENvdW50cnkgb2Ygb3JpZ2luLCBiaXJ0aC9kZWF0aCBkYXRlcyxcbiAgICAvLyBvclxuICAgIC8vIFNlbGYtZGVzaWduYXRpb24gb2YgcGVvcGxlL3RyaWJlLCBsb2NhdGlvbiAoY291bnRyeSArLy0gY29udGluZW50KVxuICAgIC8vIFRpdGxlIG9mIG9iamVjdCBbaXRhbGljaXplZCBpZiBzaW1wbHkgbm9uZGVzY3JpcHRpdmUsIGxpa2UgVGFibGVdLCBjcmVhdGlvbiBkYXRlLCBtZWRpYSxcbiAgICAvLyBTb3VyY2Ugb2YgcHVyY2hhc2UgZnVuZHMsIGFjY2Vzc2lvbiBudW1iZXIgWysgwqkgb3IgQVJTIGluZm9dXG4gICAgcmV0dXJuIDxkaXYgc3R5bGU9e3N0eWxlfT5cbiAgICAgIDxDbGlja1RvU2VsZWN0IHJlZj1cImNsaWNrXCI+XG4gICAgICAgIDxwPntqb2luKGhhc1ZhbGlkQXJ0aXN0ICYmXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgIGNyZWF0b3IsXG4gICAgICAgICAgICAgIGFydC5jb3VudHJ5LFxuICAgICAgICAgICAgICBmb3JtYXREYXRlcyhhcnQubGlmZV9kYXRlKVxuICAgICAgICAgICAgXSB8fFxuICAgICAgICAgICAgW2NyZWF0b3IsIGFydC5jb3VudHJ5LCBhcnQuY29udGluZW50XVxuICAgICAgICApfTwvcD5cbiAgICAgICAgPHA+XG4gICAgICAgICAge3RpdGxlfSwmbmJzcDt7am9pbihbZm9ybWF0RGF0ZXMoYXJ0LmRhdGVkKSwgdGl0bGVjYXNlKGFydC5tZWRpdW0pXSl9XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHA+XG4gICAgICAgICAge2pvaW4oW1xuICAgICAgICAgICAgYXJ0LmNyZWRpdGxpbmUsXG4gICAgICAgICAgICBhcnQuYWNjZXNzaW9uX251bWJlcixcbiAgICAgICAgICAgIGRlY29kZVVSSUNvbXBvbmVudChhcnQuaW1hZ2VfY29weXJpZ2h0KSxcbiAgICAgICAgICBdKX1cbiAgICAgICAgPC9wPlxuICAgICAgPC9DbGlja1RvU2VsZWN0PlxuXG4gICAgICA8ZGl2IHN0eWxlPXt7b3BhY2l0eTogJzAuNSd9fT5cbiAgICAgICAgPGxhYmVsIGZvcj1cInVzZVF1b3Rlc1wiIG9uRG91YmxlQ2xpY2s9eyhlKSA9PiB7ZS5zdG9wUHJvcGFnYXRpb24oKTsgZS5wcmV2ZW50RGVmYXVsdCgpfX0+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy50b2dnbGVRdW90ZXN9XG4gICAgICAgICAgICBjaGVja2VkPXt0aGlzLnN0YXRlLnVzZVF1b3Rlc31cbiAgICAgICAgICAvPlxuICAgICAgICAgIHVzZSBxdW90ZXNcbiAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLnByb3BzLm9uQ2xvc2V9IHN0eWxlPXt7Y29sb3I6ICcjMTExJywgZmxvYXQ6ICdyaWdodCd9fT4oY2xvc2UpPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZVF1b3RlczogZmFsc2UsXG4gICAgfVxuICB9LFxuXG4gIHRvZ2dsZVF1b3RlcyhldmVudCkge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgY29uc3QgdXNlUXVvdGVzID0gdGhpcy5zdGF0ZSA/ICF0aGlzLnN0YXRlLnVzZVF1b3RlcyA6IHRydWVcbiAgICB0aGlzLnNldFN0YXRlKHt1c2VRdW90ZXN9KVxuICB9LFxuXG4gIGpvaW4oZmllbGRzKSB7XG4gICAgcmV0dXJuIGZpZWxkcy5maWx0ZXIoZiA9PiAhIWYpLmpvaW4oJywgJylcbiAgfSxcblxuICBmb3JtYXREYXRlcyhkYXRlU3RyaW5nKSB7XG4gICAgdmFyIGRhdGVzID0gZGF0ZVN0cmluZy5yZXBsYWNlKC9eW0EtWmEteiBcXC4sXFwoXFwpXSsvLCAnJykuc3BsaXQoL1xccyotXFxzKi8pXG4gICAgaWYoZGF0ZXMubGVuZ3RoID4gMSkge1xuICAgICAgdmFyIFtzdGFydCwgZW5kXSA9IGRhdGVzXG4gICAgICBpZihzdGFydC5zdWJzdHIoMCwgMikgPT09IGVuZC5zdWJzdHIoMCwgMikpIHJldHVybiBzdGFydCtcIuKAk1wiK2VuZC5zdWJzdHIoMilcbiAgICAgIHJldHVybiBzdGFydCtcIuKAk1wiK2VuZFxuICAgIH1cbiAgICByZXR1cm4gZGF0ZXMuam9pbihcIuKAk1wiKVxuICB9LFxuXG4gIHRpdGxlY2FzZShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nWzBdLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc3Vic3RyKDEpLnRvTG93ZXJDYXNlKClcbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAvLyBhdXRvLXNlbGVjdCB0aGUgdGV4dCBpbnN0ZWFkIG9mIHJlcXVpcmluZyBhIGNsaWNrXG4gICAgdmFyIGRvbU5vZGUgPSB0aGlzLnJlZnMuY2xpY2sgJiYgUmVhY3QuZmluZERPTU5vZGUodGhpcy5yZWZzLmNsaWNrKVxuICAgIGlmKGRvbU5vZGUpIGRvbU5vZGUuY2xpY2soKVxuICB9LFxufSlcblxuLy8gY2hlY2sgaWYgYW4gaW1hZ2UgZXhpc3RzIG9uIG91ciBjbG91ZGZyb250IGRpc3RyaWJ1dGlvbixcbi8vIGFuZCBpZiBub3QsIGZhbGwgYmFjayB0byBsb2FkaW5nIGl0IGZyb20gdGhlIEFQSVxudmFyIHRlc3RDbG91ZGZyb250SW1hZ2UgPSAoYXJ0LCBjYWxsYmFjaykgPT4ge1xuICB2YXIgY2RuVXJsID0gaW1hZ2VDRE4oYXJ0LmlkLCBhcnQucmVzdHJpY3RlZCA/IDQwMCA6IDgwMClcblxuICBpZih0eXBlb2YgZG9jdW1lbnQgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gY2RuVXJsXG4gIH1cblxuICB2YXIgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpXG4gIGkub25sb2FkID0gKCkgPT4gY2FsbGJhY2soY2RuVXJsKVxuICBpLm9uZXJyb3IgPSAoKSA9PiBjYWxsYmFjayhgaHR0cHM6Ly9hcGkuYXJ0c21pYS5vcmcvaW1hZ2VzLyR7YXJ0LmlkfS8ke2FydC5yZXN0cmljdGVkID8gJzQwMC9tZWRpdW0uanBnJyA6ICc4MDAvbGFyZ2UuanBnJ31gKVxuICBpLnNyYyA9IGNkblVybFxufVxuXG52YXIgTGlua0JhciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhY3Rpb25zOiB7XG4gICAgICAgIGxpa2U6IHtcbiAgICAgICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICBpY29uOiAnZmF2b3JpdGVfYm9yZGVyJyxcbiAgICAgICAgfSxcbiAgICAgICAgZG93bmxvYWQ6IHtcbiAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgIGljb246ICdmaWxlX2Rvd25sb2FkJyxcbiAgICAgICAgfSxcbiAgICAgICAgcHJpbnQ6IHtcbiAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBzaGFyZToge1xuICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgaWNvbjogJ3NoYXJlJyxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzaG93U2hhcmU6IGZhbHNlLFxuICAgIH1cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnR9ID0gdGhpcy5wcm9wc1xuXG4gICAgdmFyIGFjdGlvbnMgPSBPYmplY3Qua2V5cyh0aGlzLnByb3BzLmFjdGlvbnMpXG4gICAgLm1hcChrZXkgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5hY3Rpb25zW2tleV0ua2V5ID0ga2V5XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5hY3Rpb25zW2tleV1cbiAgICB9LCBbXSlcbiAgICAuZmlsdGVyKGFjdGlvbiA9PiBhY3Rpb24uZW5hYmxlZClcbiAgICAvLyBkb24ndCBzaG93ICdkb3dubG9hZCcgZm9yIGFydCB3aXRoIGFuIGludmFsaWQgaW1hZ2VcbiAgICAuZmlsdGVyKGFjdGlvbiA9PiAhKGFjdGlvbi5rZXkgPT0gJ2Rvd25sb2FkJyAmJiBhcnQuaW1hZ2UgPT0gJ2ludmFsaWQnKSlcblxuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaW5rLWJhclwiPlxuICAgICAgICB7YWN0aW9uc1xuICAgICAgICAubWFwKGFjdGlvbiA9PiB7XG4gICAgICAgICAgdmFyIGtleSA9IGFjdGlvbi5rZXlcbiAgICAgICAgICB2YXIgaGFuZGxlciA9IGV2YWwoYF90aGlzLmhhbmRsZSR7a2V5WzBdLnRvVXBwZXJDYXNlKCkgKyBrZXkuc3Vic3RyKDEpfWApIC8vIFRPRE8gYWxlcnQgYWxlcnQgd2FybmluZyB3YXJuaW5nIChzaG91bGRuJ3QgaGF2ZSB0byByZWZlcmVuY2UgX3RoaXMsIHNrZXRjaHkgY29kZSlcblxuICAgICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICBjbGFzc05hbWU6IFwibWF0ZXJpYWwtaWNvbnNcIixcbiAgICAgICAgICAgIG9uQ2xpY2s6IGhhbmRsZXIsXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKGtleSA9PSAnZG93bmxvYWQnKSB7XG4gICAgICAgICAgICBvcHRpb25zLmRvd25sb2FkID0gJydcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUucmVzb2x2ZWRJbWFnZURvd25sb2FkVXJsKSB7XG4gICAgICAgICAgICAgIG9wdGlvbnMuaHJlZiA9IHRoaXMuc3RhdGUucmVzb2x2ZWRJbWFnZURvd25sb2FkVXJsXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0ZXN0Q2xvdWRmcm9udEltYWdlKGFydCwgdXJsID0+IHsgdGhpcy5zZXRTdGF0ZSh7cmVzb2x2ZWRJbWFnZURvd25sb2FkVXJsOiB1cmx9KX0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBjb250ZW50ID0gYWN0aW9uLmljb24gfHwgYWN0aW9uLmtleVxuXG4gICAgICAgICAgcmV0dXJuIChrZXkgPT0gJ2Rvd25sb2FkJykgP1xuICAgICAgICAgICAgPGEgey4uLm9wdGlvbnN9Pntjb250ZW50fTwvYT4gOlxuICAgICAgICAgICAgPGkgey4uLm9wdGlvbnN9Pntjb250ZW50fTwvaT5cbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj5cbiAgICAgIHt0aGlzLnN0YXRlLnNob3dTaGFyZSAmJiB0aGlzLnNob3dTaGFyZSgpfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhclwiPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiYWNrLWJ1dHRvblwiPnt0aGlzLnByb3BzLmxpbmsgJiYgPExpbmsgdG89XCJhcnR3b3JrXCIgcGFyYW1zPXt7aWQ6IGFydC5pZH19PlZpZXcgRGV0YWlscyA8aSBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uc1wiPmFycm93X2ZvcndhcmQ8L2k+PC9MaW5rPn08L2Rpdj5cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBnZXRVcmwoKSB7XG4gICAgcmV0dXJuICdodHRwczovL2NvbGxlY3Rpb25zLmFydHNtaWEub3JnJyt0aGlzLmNvbnRleHQucm91dGVyLmdldEN1cnJlbnRQYXRoKClcbiAgfSxcblxuICBoYW5kbGVTaGFyZSgpIHtcbiAgICB2YXIge2FydH0gPSB0aGlzLnByb3BzXG5cbiAgICB0aGlzLnNldFN0YXRlKHtzaG93U2hhcmU6ICF0aGlzLnN0YXRlLnNob3dTaGFyZX0pXG4gIH0sXG5cbiAgc2hvd1NoYXJlKCkge1xuICAgIHZhciB7YXJ0fSA9IHRoaXMucHJvcHNcblxuICAgIHZhciBmYWNlYm9va1VSTCA9IGBodHRwczovL3d3dy5mYWNlYm9vay5jb20vc2hhcmVyL3NoYXJlci5waHA/dT0ke2VuY29kZVVSSSh0aGlzLmdldFVybCgpKX1gXG4gICAgdmFyIHR3aXR0ZXJVUkwgPSBgaHR0cHM6Ly90d2l0dGVyLmNvbS9pbnRlbnQvdHdlZXQ/dXJsPSR7ZW5jb2RlVVJJKHRoaXMuZ2V0VXJsKCkpfWBcbiAgICB2YXIgZW1haWxVUkwgPSBgbWFpbHRvOj9zdWJqZWN0PSR7YXJ0LnRpdGxlfSZib2R5PSR7ZW5jb2RlVVJJKHRoaXMuZ2V0VXJsKCkpfWBcblxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInNoYXJlXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNvY2lhbFwiPjxhIHRpdGxlPVwiU2hhcmUgdmlhIGVtYWlsXCIgaHJlZj17ZW1haWxVUkx9IHRhcmdldD1cIl9ibGFua1wiPlxuICAgICAgICA8aW1nIHNyYz1cImh0dHBzOi8vc2ltcGxlaWNvbnMub3JnL2ljb25zL2VtYWlsLnN2Z1wiIC8+XG4gICAgICA8L2E+PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNvY2lhbFwiPjxhIHRpdGxlPVwiU2hhcmUgb24gRmFjZWJvb2tcIiBocmVmPXtmYWNlYm9va1VSTH0gdGFyZ2V0PVwiX2JsYW5rXCI+XG4gICAgICAgIDxpbWcgc3JjPVwiaHR0cHM6Ly9jZG4ucmF3Z2l0LmNvbS9kYW5sZWVjaC9zaW1wbGUtaWNvbnMvZ2gtcGFnZXMvaWNvbnMvZmFjZWJvb2suc3ZnXCIgLz5cbiAgICAgIDwvYT48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic29jaWFsXCI+PGEgdGl0bGU9XCJTaGFyZSBvbiBUd2l0dGVyXCIgaHJlZj17dHdpdHRlclVSTH0gdGFyZ2V0PVwiX2JsYW5rXCI+XG4gICAgICAgIDxpbWcgc3JjPVwiaHR0cHM6Ly9jZG4ucmF3Z2l0LmNvbS9kYW5sZWVjaC9zaW1wbGUtaWNvbnMvZ2gtcGFnZXMvaWNvbnMvdHdpdHRlci5zdmdcIiAvPlxuICAgICAgPC9hPjwvZGl2PlxuICAgIDwvZGl2PlxuICB9LFxuXG4gIGhhbmRsZVByaW50KCkge1xuICAgIHdpbmRvdy5wcmludCgpXG4gIH0sXG5cbiAgaGFuZGxlRG93bmxvYWQoKSB7XG4gICAgdmFyIHthcnR9ID0gdGhpcy5wcm9wc1xuICAgIHZhciB7aWR9ID0gYXJ0XG4gICAgaWYocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICByZXF1aXJlKCdyZWFjdC1nYScpLmV2ZW50KHtcbiAgICAgICAgY2F0ZWdvcnk6ICdBcnR3b3JrJyxcbiAgICAgICAgYWN0aW9uOiAnSW1hZ2UgRG93bmxvYWQnLFxuICAgICAgICBsYWJlbDogYXJ0LnRpdGxlLFxuICAgICAgICB2YWx1ZTogcGFyc2VJbnQoaWQpXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICAgY29uc29sZS5pbmZvKCdnYS5ldmVudCcsICdkb3dubG9hZGVkJywgaWQpXG4gICAgfVxuICB9LFxuXG4gIGhhbmRsZUxpa2UoKSB7XG4gICAgY29uc29sZS5pbmZvKCdUT0RPJylcbiAgfSxcbn0pXG5MaW5rQmFyLmNvbnRleHRUeXBlcyA9IHtcbiAgcm91dGVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbn1cblxudmFyIEZpZ3VyZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7YXJ0LCBsaW5rLCBjbGFzc05hbWUsIC4uLmZpZ3VyZVByb3BzfSA9IHRoaXMucHJvcHNcbiAgICB2YXIgaWQgPSBhcnQuaWRcbiAgICB2YXIgY2xhc3NlcyA9IGNsYXNzbmFtZXMoY2xhc3NOYW1lLCB7dmFsaWRJbWFnZTogYXJ0LmltYWdlID09PSAndmFsaWQnICYmIGFydC5pbWFnZV93aWR0aCA+IDB9KVxuXG4gICAgcmV0dXJuIDxmaWd1cmUgey4uLmZpZ3VyZVByb3BzfSBjbGFzc05hbWU9e2NsYXNzZXN9XG4gICAgICBpdGVtU2NvcGUgaXRlbVR5cGU9XCJodHRwczovL3NjaGVtYS5vcmcvVmlzdWFsQXJ0d29ya1wiPlxuICAgICAgPGxpbmsgaXRlbVByb3A9XCJ1cmxcIiBocmVmPXtgL2FydC8ke2lkfWB9IC8+XG4gICAgICA8Q29uZGl0aW9uYWxMaW5rV3JhcHBlciBhcnQ9e2FydH0gbGluaz17bGlua30+XG4gICAgICAgIDxBcnR3b3JrSW1hZ2UgYXJ0PXthcnR9IGlkPXtpZH0gbGF6eUxvYWQ9e2ZhbHNlfSBjbGFzc05hbWU9XCJhcnR3b3JrLWltYWdlXCIgLz5cbiAgICAgIDwvQ29uZGl0aW9uYWxMaW5rV3JhcHBlcj5cbiAgICAgIDxmaWdjYXB0aW9uPlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvZmlnY2FwdGlvbj5cbiAgICA8L2ZpZ3VyZT5cbiAgfSxcbn0pXG5GaWd1cmUuY29udGV4dFR5cGVzID0ge1xuICB1bml2ZXJzYWw6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxufVxuXG52YXIgc2x1ZyA9IChhcnQpID0+IHtcbiAgdmFyIGNyZWF0b3IgPSBDcmVhdG9yLmdldEZhY2V0QW5kVmFsdWUoYXJ0KVsxXVxuICB2YXIgc3RyaW5nID0gW2FydC50aXRsZS5yZXBsYWNlKC88W14gXSs/Pi9nLCAnJyksIGNyZWF0b3IgJiYgY3JlYXRvci5zcGxpdCgnOycpWzBdXVxuICAgIC5maWx0ZXIoZSA9PiBlKVxuICAgIC5qb2luKCcgJylcbiAgICAucmVwbGFjZSgv4oCZfCcvZywgJycpXG4gICAgLnJlcGxhY2UoL14oLispXFwoLipcXCkvLCAnJDEnKVxuICAgIC5yZXBsYWNlKCfFjScsICdvJylcbiAgcmV0dXJuIHRvU2x1ZyhzdHJpbmcpXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBUaXRsZSxcbiAgVG9tYnN0b25lLFxuICBMaW5rQmFyLFxuICBGaWd1cmUsXG4gIENyZWF0b3IsXG4gIHNsdWdcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/_artwork.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/_artwork.js",
      "sourcesContent": [
        "var React = require('react')\nvar {Link} = require('react-router')\nvar toSlug = require('speakingurl')\nvar classnames = require('classnames')\n\nvar Creator = require('./artwork/creator.js')\nvar ArtworkImage = require('./artwork-image')\nvar Peek = require('./peek')\nvar imageCDN = require('./image-cdn')\nvar highlighter = require('./highlighter')\nvar Markdown = require('./markdown')\n\n//\n// TODO: move these into separate components at `src/artwork/`?\n// \n\nvar ConditionalLinkWrapper = React.createClass({\n  render() {\n    var {art, link} = this.props\n\n    return link ?\n      <Link to=\"artwork\" params={{id: art.id}}>{this.props.children}</Link> :\n      this.props.children\n  }\n})\n\nvar Title = React.createClass({\n  render() {\n    var {art, link, highlights} = this.props\n    var title = <Markdown tag=\"span\">{highlighter(art, highlights, \"title\")}</Markdown>\n    var title = <h1 itemProp=\"name\">{title}, <span className=\"dated\">{art.dated}</span></h1>\n\n    return <ConditionalLinkWrapper {...this.props}>\n      {title}\n    </ConditionalLinkWrapper>\n  },\n})\n\nvar Tombstone = React.createClass({\n  getInitialState() {\n    return {\n      showLabels: false,\n      highlightAccessionNumber: false,\n    }\n  },\n\n  render() {\n    var {art, highlightAccessionNumber} = this.props\n    var highlight = highlighter.bind(null, art, this.props.highlights)\n\n    var accessionNumber = this.props.highlighter ?\n      this.props.highlighter(art.accession_number, highlightAccessionNumber) :\n      art.accession_number\n\n    return <div onDoubleClick={this.handleDoubleClick}>\n      <p className=\"tombstone\">\n        <Peek facet=\"medium\" tag=\"span\" highlightedValue={highlight('medium')}>{art.medium}</Peek>\n      </p>\n      {this.state.showLabels && <CopyableLabel art={art} onClose={this.handleDoubleClick} />}\n      <p className=\"gifted\">\n        <Peek facet=\"creditline\" tag=\"span\" highlightedValue={highlight('creditline')}>{art.creditline}</Peek> {accessionNumber}\n      </p>\n    </div>\n  },\n\n  handleDoubleClick() {\n    // show a copy-able tombstone/label in different formats\n    this.setState({showLabels: !this.state.showLabels})\n  }\n})\n\nvar ClickToSelect = require('react-click-to-select')\n\nvar CopyableLabel = React.createClass({\n  render() {\n    var {art} = this.props\n\n    var style = {\n      border: '1px solid red',\n      position: 'absolute',\n      background: 'white',\n      padding: '0.25em',\n    }\n\n    var {join, formatDates, titlecase} = this\n\n    var hasValidArtist = art.artist !== \"\" && !art.artist.match(/Unknown/i)\n    var [facet, creator] = Creator.getFacetAndValue(art)\n    if(facet == 'country' || facet == undefined) creator = undefined\n\n    var title = this.state.useQuotes ? `“${art.title}”` : <i>{art.title}</i>\n    if(!hasValidArtist) title = art.title\n\n    // Artist name [if known], Country of origin, birth/death dates,\n    // or\n    // Self-designation of people/tribe, location (country +/- continent)\n    // Title of object [italicized if simply nondescriptive, like Table], creation date, media,\n    // Source of purchase funds, accession number [+ © or ARS info]\n    return <div style={style}>\n      <ClickToSelect ref=\"click\">\n        <p>{join(hasValidArtist &&\n            [\n              creator,\n              art.country,\n              formatDates(art.life_date)\n            ] ||\n            [creator, art.country, art.continent]\n        )}</p>\n        <p>\n          {title},&nbsp;{join([formatDates(art.dated), titlecase(art.medium)])}\n        </p>\n        <p>\n          {join([\n            art.creditline,\n            art.accession_number,\n            decodeURIComponent(art.image_copyright),\n          ])}\n        </p>\n      </ClickToSelect>\n\n      <div style={{opacity: '0.5'}}>\n        <label for=\"useQuotes\" onDoubleClick={(e) => {e.stopPropagation(); e.preventDefault()}}>\n          <input type=\"checkbox\"\n            onChange={this.toggleQuotes}\n            checked={this.state.useQuotes}\n          />\n          use quotes\n        </label>\n        <button onClick={this.props.onClose} style={{color: '#111', float: 'right'}}>(close)</button>\n      </div>\n    </div>\n  },\n\n  getInitialState() {\n    return {\n      useQuotes: false,\n    }\n  },\n\n  toggleQuotes(event) {\n    event.stopPropagation()\n    const useQuotes = this.state ? !this.state.useQuotes : true\n    this.setState({useQuotes})\n  },\n\n  join(fields) {\n    return fields.filter(f => !!f).join(', ')\n  },\n\n  formatDates(dateString) {\n    var dates = dateString.replace(/^[A-Za-z \\.,\\(\\)]+/, '').split(/\\s*-\\s*/)\n    if(dates.length > 1) {\n      var [start, end] = dates\n      if(start.substr(0, 2) === end.substr(0, 2)) return start+\"–\"+end.substr(2)\n      return start+\"–\"+end\n    }\n    return dates.join(\"–\")\n  },\n\n  titlecase(string) {\n    return string[0].toUpperCase() + string.substr(1).toLowerCase()\n  },\n\n  componentDidMount() {\n    // auto-select the text instead of requiring a click\n    var domNode = this.refs.click && React.findDOMNode(this.refs.click)\n    if(domNode) domNode.click()\n  },\n})\n\n// check if an image exists on our cloudfront distribution,\n// and if not, fall back to loading it from the API\nvar testCloudfrontImage = (art, callback) => {\n  var cdnUrl = imageCDN(art.id, art.restricted ? 400 : 800)\n\n  if(typeof document == 'undefined') {\n    return cdnUrl\n  }\n\n  var i = document.createElement('img')\n  i.onload = () => callback(cdnUrl)\n  i.onerror = () => callback(`https://api.artsmia.org/images/${art.id}/${art.restricted ? '400/medium.jpg' : '800/large.jpg'}`)\n  i.src = cdnUrl\n}\n\nvar LinkBar = React.createClass({\n  getDefaultProps() {\n    return {\n      actions: {\n        like: {\n          enabled: false,\n          icon: 'favorite_border',\n        },\n        download: {\n          enabled: true,\n          icon: 'file_download',\n        },\n        print: {\n          enabled: true,\n        },\n        share: {\n          enabled: true,\n          icon: 'share',\n        },\n      }\n    }\n  },\n\n  getInitialState() {\n    return {\n      showShare: false,\n    }\n  },\n\n  render() {\n    var {art} = this.props\n\n    var actions = Object.keys(this.props.actions)\n    .map(key => {\n      this.props.actions[key].key = key\n      return this.props.actions[key]\n    }, [])\n    .filter(action => action.enabled)\n    // don't show 'download' for art with an invalid image\n    .filter(action => !(action.key == 'download' && art.image == 'invalid'))\n\n    return <div>\n      <div className=\"link-bar\">\n        {actions\n        .map(action => {\n          var key = action.key\n          var handler = eval(`_this.handle${key[0].toUpperCase() + key.substr(1)}`) // TODO alert alert warning warning (shouldn't have to reference _this, sketchy code)\n\n          var options = {\n            key: key,\n            className: \"material-icons\",\n            onClick: handler,\n          }\n          if(key == 'download') {\n            options.download = ''\n            if(this.state.resolvedImageDownloadUrl) {\n              options.href = this.state.resolvedImageDownloadUrl\n            } else {\n              testCloudfrontImage(art, url => { this.setState({resolvedImageDownloadUrl: url})})\n            }\n          }\n          var content = action.icon || action.key\n\n          return (key == 'download') ?\n            <a {...options}>{content}</a> :\n            <i {...options}>{content}</i>\n        })}\n      </div>\n      {this.state.showShare && this.showShare()}\n      <div className=\"clear\"></div>\n      <div className=\"back-button\">{this.props.link && <Link to=\"artwork\" params={{id: art.id}}>View Details <i className=\"material-icons\">arrow_forward</i></Link>}</div>\n    </div>\n  },\n\n  getUrl() {\n    return 'https://collections.artsmia.org'+this.context.router.getCurrentPath()\n  },\n\n  handleShare() {\n    var {art} = this.props\n\n    this.setState({showShare: !this.state.showShare})\n  },\n\n  showShare() {\n    var {art} = this.props\n\n    var facebookURL = `https://www.facebook.com/sharer/sharer.php?u=${encodeURI(this.getUrl())}`\n    var twitterURL = `https://twitter.com/intent/tweet?url=${encodeURI(this.getUrl())}`\n    var emailURL = `mailto:?subject=${art.title}&body=${encodeURI(this.getUrl())}`\n\n    return <div className=\"share\">\n      <div className=\"social\"><a title=\"Share via email\" href={emailURL} target=\"_blank\">\n        <img src=\"https://simpleicons.org/icons/email.svg\" />\n      </a></div>\n      <div className=\"social\"><a title=\"Share on Facebook\" href={facebookURL} target=\"_blank\">\n        <img src=\"https://cdn.rawgit.com/danleech/simple-icons/gh-pages/icons/facebook.svg\" />\n      </a></div>\n      <div className=\"social\"><a title=\"Share on Twitter\" href={twitterURL} target=\"_blank\">\n        <img src=\"https://cdn.rawgit.com/danleech/simple-icons/gh-pages/icons/twitter.svg\" />\n      </a></div>\n    </div>\n  },\n\n  handlePrint() {\n    window.print()\n  },\n\n  handleDownload() {\n    var {art} = this.props\n    var {id} = art\n    if(process.env.NODE_ENV == 'production') {\n      require('react-ga').event({\n        category: 'Artwork',\n        action: 'Image Download',\n        label: art.title,\n        value: parseInt(id)\n      })\n    } else {\n       console.info('ga.event', 'downloaded', id)\n    }\n  },\n\n  handleLike() {\n    console.info('TODO')\n  },\n})\nLinkBar.contextTypes = {\n  router: React.PropTypes.func,\n}\n\nvar Figure = React.createClass({\n  render() {\n    var {art, link, className, ...figureProps} = this.props\n    var id = art.id\n    var classes = classnames(className, {validImage: art.image === 'valid' && art.image_width > 0})\n\n    return <figure {...figureProps} className={classes}\n      itemScope itemType=\"https://schema.org/VisualArtwork\">\n      <link itemProp=\"url\" href={`/art/${id}`} />\n      <ConditionalLinkWrapper art={art} link={link}>\n        <ArtworkImage art={art} id={id} lazyLoad={false} className=\"artwork-image\" />\n      </ConditionalLinkWrapper>\n      <figcaption>\n        {this.props.children}\n      </figcaption>\n    </figure>\n  },\n})\nFigure.contextTypes = {\n  universal: React.PropTypes.bool,\n}\n\nvar slug = (art) => {\n  var creator = Creator.getFacetAndValue(art)[1]\n  var string = [art.title.replace(/<[^ ]+?>/g, ''), creator && creator.split(';')[0]]\n    .filter(e => e)\n    .join(' ')\n    .replace(/’|'/g, '')\n    .replace(/^(.+)\\(.*\\)/, '$1')\n    .replace('ō', 'o')\n  return toSlug(string)\n}\n\nmodule.exports = {\n  Title,\n  Tombstone,\n  LinkBar,\n  Figure,\n  Creator,\n  slug\n}\n"
      ]
    },
    "mtime": 1485968083610
  },
  "{\"filename\":\"/var/www/art/src/peek.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "to-array",
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar rest = require('rest');\nvar debounce = require('debounce');\nvar classnames = require('classnames');\n\nvar SEARCH = require('./endpoints').search;\nvar ImageQuilt = require('./image-quilt');\nvar searchLanguageMap = require('./search-language');\nvar Markdown = require('./markdown');\n\nvar Peek = React.createClass({\n  displayName: 'Peek',\n\n  mixins: [Router.State, Router.Navigation],\n  propTypes: {\n    children: React.PropTypes.string\n  },\n\n  // TODO: this is a mess, simplify to using props better so there's less\n  // state to manage\n  setup: function setup(props) {\n    var qs;\n    var q = props.q;\n    var facet = props.facet;\n\n    var results = this.state && this.state.results || {};\n    var open = this.state ? this.state.open : !!q;\n    if (q && q.props && q.props.children) q = q.props.children.replace(/<\\/?em>/g, '');\n    if (q && q.match(/:/) && !facet) {\n      var _q$split = q.split(/:/);\n\n      var _q$split2 = _toArray(_q$split);\n\n      facet = _q$split2[0];\n      qs = _q$split2.slice(1);\n\n      var q = qs.join(':');\n    }\n    if (!q) q = props.children;\n\n    return {\n      facet: facet,\n      open: open,\n      results: results,\n      offset: props.offset || 0,\n      query: q,\n      facetedQ: this.getFacetedQ(q, facet),\n      startedOpen: !!props.q\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return this.setup(this.props);\n  },\n\n  render: function render() {\n    var _this = this;\n\n    var _state = this.state;\n    var results = _state.results;\n    var facetedQ = _state.facetedQ;\n    var startedOpen = _state.startedOpen;\n\n    if (!facetedQ) return React.createElement('span', null);\n    var _props = this.props;\n    var child = _props.child;\n    var microdata = _props.microdata;\n\n    var result = results && results[facetedQ];\n    var Tag = this.props.tag;\n    var showIcon = this.props.showIcon;\n\n    var icon = React.createElement(\n      'i',\n      { className: 'material-icons' },\n      'expand_' + (this.state.open ? 'less' : 'more')\n    );\n    var linkProps = this.props.linkProps || this.props.filtered ? {\n      to: \"filteredSearchResults\",\n      params: { terms: '*', splat: this.state.facetedQ || this.state.q }\n    } : {\n      to: \"searchResults\",\n      params: { terms: this.state.facetedQ || this.state.q }\n    };\n    var text = this.props.highlightedValue ? React.createElement(\n      Markdown,\n      { tag: 'span' },\n      this.props.highlightedValue\n    ) : this.props.children;\n    var peekText = this.context.universal ? React.createElement(\n      Link,\n      _extends({ itemProp: microdata ? \"url\" : '' }, linkProps),\n      text\n    ) : text;\n\n    var queryString = decodeURIComponent(this.state.facetedQ);\n    var humanLanguage = searchLanguageMap(queryString);\n    var searchExplanation = humanLanguage !== queryString ? humanLanguage : this.state.query + ' ' + (this.state.facet && '(' + this.state.facet + ')');\n\n    return React.createElement(\n      Tag,\n      { onClick: debounce(this.onClick, 200), className: classnames(\"peek\", { startedOpen: startedOpen, startedClosed: !startedOpen, open: this.state.open }), style: { cursor: 'pointer' } },\n      this.props.children && React.createElement(\n        'i',\n        null,\n        React.createElement(\n          'span',\n          { itemProp: microdata ? \"name\" : '' },\n          peekText\n        ),\n        !this.props.universal && showIcon && icon\n      ),\n      this.state.open && this.state.facetedQ && React.createElement(\n        'div',\n        { className: 'peek', style: { fontSize: '80%', maxWidth: this.state.maxWidth || \"100%\" } },\n        result && this.quiltFromResults(),\n        React.createElement(\n          Link,\n          _extends({}, linkProps, { style: { width: '100%' } }),\n          result && result.hits && result.hits.total || 'search',\n          ' results for ',\n          searchExplanation,\n          React.createElement(\n            'span',\n            { style: { float: 'right', marginRight: '10px' }, className: 'more-results-link' },\n            'View more results'\n          )\n        )\n      ),\n      this.state.open && this.getQs().map(function (q) {\n        return React.createElement(Peek, { facet: _this.state.facet, q: q, key: q });\n      })\n    );\n  },\n\n  onClick: function onClick() {\n    if (this.state.startedOpen) return;\n    if (this.state.open) return this.setState({ open: false });\n\n    this.setState({\n      open: true,\n      loading: true\n    });\n\n    this.fetchResults();\n  },\n\n  quiltFromResults: function quiltFromResults() {\n    var _state2 = this.state;\n    var results = _state2.results;\n    var facetedQ = _state2.facetedQ;\n\n    var result = results && results[facetedQ];\n    var hits = result && result.hits && result.hits.hits || [];\n    var offset = this.props.offset || 0;\n\n    if (!result || !hits || hits.length <= (this.props.showSingleResult ? 0 : 1)) return React.createElement('span', null);\n    var wImg = ImageQuilt.getImagedResults(hits).slice(offset, offset + 10);\n    return React.createElement(ImageQuilt, _extends({\n      maxRows: 1,\n      maxWorks: 7,\n      artworks: wImg.length > 3 ? wImg : hits\n    }, this.props.quiltProps, {\n      onClick: this.linkToResults,\n      disableHover: true,\n      shuffle: this.props.shuffleQuilt\n    }));\n  },\n\n  handleResize: function handleResize() {\n    this.setState({ maxWidth: React.findDOMNode(this).clientWidth });\n  },\n  componentDidMount: function componentDidMount() {\n    if (this.state.open) this.fetchResults();\n    this.handleResize();\n    window.addEventListener('resize', this.handleResize);\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n  },\n\n  getFacetedQ: function getFacetedQ(q, facet) {\n    var q = q || (this.state ? this.state.query : \"\");\n    var facet = facet || this.state && this.state.facet;\n    if (facet == 'artist') q = q.replace(/([^;]+:)/g, '').trim();\n    if (q == null) return false;\n    return facet ? facet + ':\"' + encodeURIComponent(q.replace(/\"/g, '').replace('\\r\\n', ' ')) + '\"' : q;\n  },\n\n  getQs: function getQs() {\n    var _this2 = this;\n\n    var q = this.state.query;\n    if (q.match(';')) {\n      return q.split(/;/).map(function (_q) {\n        var cleanedQ = _q.replace(/^.*attributed to|unknown|artist|after/ig, '').trim();\n        if (_this2.state && _this2.state.facet == 'artist') cleanedQ = cleanedQ.replace(/\\w+ by/, '');\n        return cleanedQ;\n      });\n    }\n    return [];\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    this.setState(this.setup(nextProps));\n  },\n\n  componentWillUpdate: function componentWillUpdate(_, nextState) {\n    if (this.state.open !== nextState.open) this.dispatchEvent();\n  },\n\n  fetchResults: function fetchResults() {\n    var _this3 = this;\n\n    var _state3 = this.state;\n    var results = _state3.results;\n    var facetedQ = _state3.facetedQ;\n\n    this.state.results[facetedQ] || rest(SEARCH + '/' + facetedQ + '?size=20').then(function (r) {\n      var results = _this3.state.results;\n      results[facetedQ] = JSON.parse(r.entity);\n      _this3.setState({\n        results: results,\n        loading: false\n      });\n    });\n  },\n\n  linkToResults: function linkToResults(art) {\n    if (!art) return;\n    window.clickedArtwork = art;\n    if (this.props.directLinkTo) {\n      var relatedJson = JSON.parse(art._source['related:' + this.props.directLinkTo]);\n      var url = relatedJson.link;\n      if (url) return window.location = url;\n    }\n    this.props.filtered ? this.transitionTo('filteredSearchResults', { terms: '*', splat: this.state.facetedQ }) : this.transitionTo('searchResults', { terms: this.state.facetedQ });\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      tag: \"div\",\n      showIcon: true,\n      showSingleResult: false\n    };\n  },\n\n  dispatchEvent: function dispatchEvent() {\n    window.dispatchEvent(new CustomEvent('peek'));\n  }\n});\nPeek.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nmodule.exports = Peek;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvcGVlay5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0lBQzlCLElBQUksR0FBSyxNQUFNLENBQWYsSUFBSTs7QUFDVixJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUE7QUFDMUIsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFBO0FBQ2xDLElBQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTs7QUFFdEMsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLE1BQU0sQ0FBQTtBQUMxQyxJQUFJLFVBQVUsR0FBRyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUE7QUFDekMsSUFBSSxpQkFBaUIsR0FBRyxPQUFPLENBQUMsbUJBQW1CLENBQUMsQ0FBQTtBQUNwRCxJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7O0FBRXBDLElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUMzQixRQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxVQUFVLENBQUM7QUFDekMsV0FBUyxFQUFFO0FBQ1QsWUFBUSxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsTUFBTTtHQUNqQzs7OztBQUlELE9BQUssRUFBQSxlQUFDLEtBQUssRUFBRTtBQUNYLFFBQUksRUFBRSxDQUFBO1FBQ0QsQ0FBQyxHQUFXLEtBQUssQ0FBakIsQ0FBQztRQUFFLEtBQUssR0FBSSxLQUFLLENBQWQsS0FBSzs7QUFDYixRQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxJQUFJLEVBQUUsQ0FB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OztBQUVELGVBQWEsRUFBQSx5QkFBRztBQUNkLFVBQU0sQ0FBQyxhQUFhLENBQUMsSUFBSSxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQTtHQUM5QztDQUNGLENBQUMsQ0FBQTtBQUNGLElBQUksQ0FBQyxZQUFZLEdBQUc7QUFDbEIsUUFBTSxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSTtBQUM1QixXQUFTLEVBQUUsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJO0NBQ2hDLENBQUE7O0FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9wZWVrLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIgeyBMaW5rIH0gPSBSb3V0ZXJcbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG52YXIgZGVib3VuY2UgPSByZXF1aXJlKCdkZWJvdW5jZScpXG52YXIgY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKVxuXG52YXIgU0VBUkNIID0gcmVxdWlyZSgnLi9lbmRwb2ludHMnKS5zZWFyY2hcbnZhciBJbWFnZVF1aWx0ID0gcmVxdWlyZSgnLi9pbWFnZS1xdWlsdCcpXG52YXIgc2VhcmNoTGFuZ3VhZ2VNYXAgPSByZXF1aXJlKCcuL3NlYXJjaC1sYW5ndWFnZScpXG52YXIgTWFya2Rvd24gPSByZXF1aXJlKCcuL21hcmtkb3duJylcblxudmFyIFBlZWsgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIG1peGluczogW1JvdXRlci5TdGF0ZSwgUm91dGVyLk5hdmlnYXRpb25dLFxuICBwcm9wVHlwZXM6IHtcbiAgICBjaGlsZHJlbjogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgfSxcblxuICAvLyBUT0RPOiB0aGlzIGlzIGEgbWVzcywgc2ltcGxpZnkgdG8gdXNpbmcgcHJvcHMgYmV0dGVyIHNvIHRoZXJlJ3MgbGVzc1xuICAvLyBzdGF0ZSB0byBtYW5hZ2VcbiAgc2V0dXAocHJvcHMpIHtcbiAgICB2YXIgcXNcbiAgICB2YXIge3EsIGZhY2V0fSA9IHByb3BzXG4gICAgdmFyIHJlc3VsdHMgPSB0aGlzLnN0YXRlICYmIHRoaXMuc3RhdGUucmVzdWx0cyB8fCB7fVxuICAgIHZhciBvcGVuID0gdGhpcy5zdGF0ZSA/IHRoaXMuc3RhdGUub3BlbiA6ICEhcVxuICAgIGlmKHEgJiYgcS5wcm9wcyAmJiBxLnByb3BzLmNoaWxkcmVuKSBxID0gcS5wcm9wcy5jaGlsZHJlbi5yZXBsYWNlKC88XFwvP2VtPi9nLCAnJylcbiAgICBpZihxICYmIHEubWF0Y2goLzovKSAmJiAhZmFjZXQpIHtcbiAgICAgIFtmYWNldCwgLi4ucXNdID0gcS5zcGxpdCgvOi8pXG4gICAgICB2YXIgcSA9IHFzLmpvaW4oJzonKVxuICAgIH1cbiAgICBpZighcSkgcSA9IHByb3BzLmNoaWxkcmVuXG5cbiAgICByZXR1cm4ge1xuICAgICAgZmFjZXQsXG4gICAgICBvcGVuLFxuICAgICAgcmVzdWx0cyxcbiAgICAgIG9mZnNldDogcHJvcHMub2Zmc2V0IHx8IDAsXG4gICAgICBxdWVyeTogcSxcbiAgICAgIGZhY2V0ZWRROiB0aGlzLmdldEZhY2V0ZWRRKHEsIGZhY2V0KSxcbiAgICAgIHN0YXJ0ZWRPcGVuOiAhIXByb3BzLnFcbiAgICB9XG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLnNldHVwKHRoaXMucHJvcHMpXG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciB7cmVzdWx0cywgZmFjZXRlZFEsIHN0YXJ0ZWRPcGVufSA9IHRoaXMuc3RhdGVcbiAgICBpZighZmFjZXRlZFEpIHJldHVybiA8c3BhbiAvPlxuICAgIHZhciB7Y2hpbGQsIG1pY3JvZGF0YX0gPSB0aGlzLnByb3BzXG4gICAgdmFyIHJlc3VsdCA9IHJlc3VsdHMgJiYgcmVzdWx0c1tmYWNldGVkUV1cbiAgICB2YXIgVGFnID0gdGhpcy5wcm9wcy50YWdcbiAgICB2YXIge3Nob3dJY29ufSA9IHRoaXMucHJvcHNcbiAgICB2YXIgaWNvbiA9IDxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zXCI+eydleHBhbmRfJysodGhpcy5zdGF0ZS5vcGVuID8gJ2xlc3MnIDogJ21vcmUnKX08L2k+XG4gICAgdmFyIGxpbmtQcm9wcyA9IHRoaXMucHJvcHMubGlua1Byb3BzIHx8IHRoaXMucHJvcHMuZmlsdGVyZWQgPyB7XG4gICAgICB0bzogXCJmaWx0ZXJlZFNlYXJjaFJlc3VsdHNcIixcbiAgICAgIHBhcmFtczoge3Rlcm1zOiAnKicsIHNwbGF0OiB0aGlzLnN0YXRlLmZhY2V0ZWRRIHx8IHRoaXMuc3RhdGUucX1cbiAgICB9IDoge1xuICAgICAgdG86IFwic2VhcmNoUmVzdWx0c1wiLFxuICAgICAgcGFyYW1zOiB7dGVybXM6IHRoaXMuc3RhdGUuZmFjZXRlZFEgfHwgdGhpcy5zdGF0ZS5xfVxuICAgIH1cbiAgICB2YXIgdGV4dCA9IHRoaXMucHJvcHMuaGlnaGxpZ2h0ZWRWYWx1ZSA/IDxNYXJrZG93biB0YWc9XCJzcGFuXCI+e3RoaXMucHJvcHMuaGlnaGxpZ2h0ZWRWYWx1ZX08L01hcmtkb3duPiA6IHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgICB2YXIgcGVla1RleHQgPSB0aGlzLmNvbnRleHQudW5pdmVyc2FsID9cbiAgICAgIDxMaW5rIGl0ZW1Qcm9wPXttaWNyb2RhdGEgPyBcInVybFwiIDogJyd9IHsuLi5saW5rUHJvcHN9Pnt0ZXh0fTwvTGluaz4gOlxuICAgICAgdGV4dFxuXG4gICAgdmFyIHF1ZXJ5U3RyaW5nID0gZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMuc3RhdGUuZmFjZXRlZFEpXG4gICAgdmFyIGh1bWFuTGFuZ3VhZ2UgPXNlYXJjaExhbmd1YWdlTWFwKHF1ZXJ5U3RyaW5nKVxuICAgIHZhciBzZWFyY2hFeHBsYW5hdGlvbiA9IGh1bWFuTGFuZ3VhZ2UgIT09IHF1ZXJ5U3RyaW5nID9cbiAgICAgIGh1bWFuTGFuZ3VhZ2UgOlxuICAgICAgYCR7dGhpcy5zdGF0ZS5xdWVyeX0gJHt0aGlzLnN0YXRlLmZhY2V0ICYmIGAoJHt0aGlzLnN0YXRlLmZhY2V0fSlgfWBcblxuICAgIHJldHVybiA8VGFnIG9uQ2xpY2s9e2RlYm91bmNlKHRoaXMub25DbGljaywgMjAwKX0gY2xhc3NOYW1lPXtjbGFzc25hbWVzKFwicGVla1wiLCB7c3RhcnRlZE9wZW46IHN0YXJ0ZWRPcGVuLCBzdGFydGVkQ2xvc2VkOiAhc3RhcnRlZE9wZW4sIG9wZW46dGhpcy5zdGF0ZS5vcGVufSl9IHN0eWxlPXt7Y3Vyc29yOiAncG9pbnRlcid9fT5cbiAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVuICYmIDxpPlxuICAgICAgICA8c3BhbiBpdGVtUHJvcD17bWljcm9kYXRhID8gXCJuYW1lXCIgOiAnJ30+e3BlZWtUZXh0fTwvc3Bhbj5cbiAgICAgICAgeyF0aGlzLnByb3BzLnVuaXZlcnNhbCAmJiBzaG93SWNvbiAmJiBpY29ufVxuICAgICAgPC9pPn1cbiAgICAgIHt0aGlzLnN0YXRlLm9wZW4gJiYgdGhpcy5zdGF0ZS5mYWNldGVkUSAmJiA8ZGl2IGNsYXNzTmFtZT1cInBlZWtcIiBzdHlsZT17e2ZvbnRTaXplOiAnODAlJywgbWF4V2lkdGg6IHRoaXMuc3RhdGUubWF4V2lkdGggfHwgXCIxMDAlXCJ9fT5cbiAgICAgICAge3Jlc3VsdCAmJiB0aGlzLnF1aWx0RnJvbVJlc3VsdHMoKX1cbiAgICAgICAgPExpbmsgey4uLmxpbmtQcm9wc30gc3R5bGU9e3t3aWR0aDogJzEwMCUnfX0+XG4gICAgICAgICAge3Jlc3VsdCAmJiByZXN1bHQuaGl0cyAmJiByZXN1bHQuaGl0cy50b3RhbCB8fCAnc2VhcmNoJ30gcmVzdWx0cyBmb3Ige3NlYXJjaEV4cGxhbmF0aW9ufVxuICAgICAgICAgIDxzcGFuIHN0eWxlPXt7ZmxvYXQ6ICdyaWdodCcsIG1hcmdpblJpZ2h0OiAnMTBweCd9fSBjbGFzc05hbWU9XCJtb3JlLXJlc3VsdHMtbGlua1wiPlZpZXcgbW9yZSByZXN1bHRzPC9zcGFuPlxuICAgICAgICA8L0xpbms+XG4gICAgICA8L2Rpdj59XG4gICAgICB7dGhpcy5zdGF0ZS5vcGVuICYmIHRoaXMuZ2V0UXMoKS5tYXAoKHEpID0+IDxQZWVrIGZhY2V0PXt0aGlzLnN0YXRlLmZhY2V0fSBxPXtxfSBrZXk9e3F9IC8+KX1cbiAgICA8L1RhZz5cbiAgfSxcblxuICBvbkNsaWNrKCkge1xuICAgIGlmKHRoaXMuc3RhdGUuc3RhcnRlZE9wZW4pIHJldHVyblxuICAgIGlmKHRoaXMuc3RhdGUub3BlbikgcmV0dXJuIHRoaXMuc2V0U3RhdGUoe29wZW46IGZhbHNlfSlcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgb3BlbjogdHJ1ZSxcbiAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgfSlcblxuICAgIHRoaXMuZmV0Y2hSZXN1bHRzKClcbiAgfSxcblxuICBxdWlsdEZyb21SZXN1bHRzKCkge1xuICAgIHZhciB7cmVzdWx0cywgZmFjZXRlZFF9ID0gdGhpcy5zdGF0ZVxuICAgIHZhciByZXN1bHQgPSByZXN1bHRzICYmIHJlc3VsdHNbZmFjZXRlZFFdXG4gICAgdmFyIGhpdHMgPSByZXN1bHQgJiYgcmVzdWx0LmhpdHMgJiYgcmVzdWx0LmhpdHMuaGl0cyB8fCBbXVxuICAgIHZhciBvZmZzZXQgPSB0aGlzLnByb3BzLm9mZnNldCB8fCAwXG5cbiAgICBpZighcmVzdWx0IHx8ICFoaXRzIHx8IGhpdHMubGVuZ3RoIDw9ICh0aGlzLnByb3BzLnNob3dTaW5nbGVSZXN1bHQgPyAwIDogMSkpIHJldHVybiA8c3Bhbi8+XG4gICAgdmFyIHdJbWcgPSBJbWFnZVF1aWx0LmdldEltYWdlZFJlc3VsdHMoaGl0cykuc2xpY2Uob2Zmc2V0LCBvZmZzZXQrMTApXG4gICAgcmV0dXJuIDxJbWFnZVF1aWx0XG4gICAgICBtYXhSb3dzPXsxfVxuICAgICAgbWF4V29ya3M9ezd9XG4gICAgICBhcnR3b3Jrcz17d0ltZy5sZW5ndGggPiAzID8gd0ltZyA6IGhpdHN9XG4gICAgICB7Li4udGhpcy5wcm9wcy5xdWlsdFByb3BzfVxuICAgICAgb25DbGljaz17dGhpcy5saW5rVG9SZXN1bHRzfVxuICAgICAgZGlzYWJsZUhvdmVyPXt0cnVlfVxuICAgICAgc2h1ZmZsZT17dGhpcy5wcm9wcy5zaHVmZmxlUXVpbHR9XG4gICAgICAvPlxuICB9LFxuXG4gIGhhbmRsZVJlc2l6ZSgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHttYXhXaWR0aDogUmVhY3QuZmluZERPTU5vZGUodGhpcykuY2xpZW50V2lkdGh9KVxuICB9LFxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgaWYodGhpcy5zdGF0ZS5vcGVuKSB0aGlzLmZldGNoUmVzdWx0cygpXG4gICAgdGhpcy5oYW5kbGVSZXNpemUoKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmhhbmRsZVJlc2l6ZSlcbiAgfSxcbiAgY29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmhhbmRsZVJlc2l6ZSlcbiAgfSxcblxuICBnZXRGYWNldGVkUShxLCBmYWNldCkge1xuICAgIHZhciBxID0gcSB8fCAodGhpcy5zdGF0ZSA/IHRoaXMuc3RhdGUucXVlcnkgOiBcIlwiKVxuICAgIHZhciBmYWNldCA9IGZhY2V0IHx8IHRoaXMuc3RhdGUgJiYgdGhpcy5zdGF0ZS5mYWNldFxuICAgIGlmKGZhY2V0ID09ICdhcnRpc3QnKSBxID0gcS5yZXBsYWNlKC8oW147XSs6KS9nLCAnJykudHJpbSgpXG4gICAgaWYocSA9PSBudWxsKSByZXR1cm4gZmFsc2VcbiAgICByZXR1cm4gZmFjZXQgPyBgJHtmYWNldH06XCIke2VuY29kZVVSSUNvbXBvbmVudChxLnJlcGxhY2UoL1wiL2csICcnKS5yZXBsYWNlKCdcXHJcXG4nLCAnICcpKX1cImAgOiBxXG4gIH0sXG5cbiAgZ2V0UXMoKSB7XG4gICAgdmFyIHEgPSB0aGlzLnN0YXRlLnF1ZXJ5XG4gICAgaWYocS5tYXRjaCgnOycpKSB7XG4gICAgICByZXR1cm4gcS5zcGxpdCgvOy8pLm1hcChfcSA9PiB7XG4gICAgICAgIHZhciBjbGVhbmVkUSA9IF9xLnJlcGxhY2UoL14uKmF0dHJpYnV0ZWQgdG98dW5rbm93bnxhcnRpc3R8YWZ0ZXIvaWcsICcnKS50cmltKClcbiAgICAgICAgaWYodGhpcy5zdGF0ZSAmJiB0aGlzLnN0YXRlLmZhY2V0ID09ICdhcnRpc3QnKSBjbGVhbmVkUSA9IGNsZWFuZWRRLnJlcGxhY2UoL1xcdysgYnkvLCAnJylcbiAgICAgICAgcmV0dXJuIGNsZWFuZWRRXG4gICAgICB9KVxuICAgIH1cbiAgICByZXR1cm4gW11cbiAgfSxcblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIHRoaXMuc2V0U3RhdGUodGhpcy5zZXR1cChuZXh0UHJvcHMpKVxuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxVcGRhdGUoXywgbmV4dFN0YXRlKSB7XG4gICAgaWYodGhpcy5zdGF0ZS5vcGVuICE9PSBuZXh0U3RhdGUub3BlbikgdGhpcy5kaXNwYXRjaEV2ZW50KClcbiAgfSxcblxuICBmZXRjaFJlc3VsdHMoKSB7XG4gICAgdmFyIHtyZXN1bHRzLCBmYWNldGVkUX0gPSB0aGlzLnN0YXRlXG5cbiAgICB0aGlzLnN0YXRlLnJlc3VsdHNbZmFjZXRlZFFdIHx8IHJlc3QoYCR7U0VBUkNIfS8ke2ZhY2V0ZWRRfT9zaXplPTIwYCkudGhlbigocikgPT4ge1xuICAgICAgdmFyIHJlc3VsdHMgPSB0aGlzLnN0YXRlLnJlc3VsdHNcbiAgICAgIHJlc3VsdHNbZmFjZXRlZFFdID0gSlNPTi5wYXJzZShyLmVudGl0eSlcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICByZXN1bHRzOiByZXN1bHRzLFxuICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgIH0pXG4gICAgfSlcbiAgfSxcblxuICBsaW5rVG9SZXN1bHRzKGFydCkge1xuICAgIGlmKCFhcnQpIHJldHVyblxuICAgIHdpbmRvdy5jbGlja2VkQXJ0d29yayA9IGFydFxuICAgIGlmKHRoaXMucHJvcHMuZGlyZWN0TGlua1RvKSB7XG4gICAgICB2YXIgcmVsYXRlZEpzb24gPSBKU09OLnBhcnNlKGFydC5fc291cmNlW2ByZWxhdGVkOiR7dGhpcy5wcm9wcy5kaXJlY3RMaW5rVG99YF0pXG4gICAgICB2YXIgdXJsID0gcmVsYXRlZEpzb24ubGlua1xuICAgICAgaWYodXJsKSByZXR1cm4gd2luZG93LmxvY2F0aW9uID0gdXJsXG4gICAgfVxuICAgIHRoaXMucHJvcHMuZmlsdGVyZWQgP1xuICAgICAgdGhpcy50cmFuc2l0aW9uVG8oJ2ZpbHRlcmVkU2VhcmNoUmVzdWx0cycsIHt0ZXJtczogJyonLCBzcGxhdDogdGhpcy5zdGF0ZS5mYWNldGVkUX0pIDpcbiAgICAgIHRoaXMudHJhbnNpdGlvblRvKCdzZWFyY2hSZXN1bHRzJywge3Rlcm1zOiB0aGlzLnN0YXRlLmZhY2V0ZWRRfSlcbiAgfSxcblxuICBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRhZzogXCJkaXZcIixcbiAgICAgIHNob3dJY29uOiB0cnVlLFxuICAgICAgc2hvd1NpbmdsZVJlc3VsdDogZmFsc2UsXG4gICAgfVxuICB9LFxuXG4gIGRpc3BhdGNoRXZlbnQoKSB7XG4gICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdwZWVrJykpXG4gIH0sXG59KVxuUGVlay5jb250ZXh0VHlwZXMgPSB7XG4gIHJvdXRlcjogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIHVuaXZlcnNhbDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG59XG5cbm1vZHVsZS5leHBvcnRzID0gUGVla1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/peek.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/peek.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar { Link } = Router\nvar rest = require('rest')\nvar debounce = require('debounce')\nvar classnames = require('classnames')\n\nvar SEARCH = require('./endpoints').search\nvar ImageQuilt = require('./image-quilt')\nvar searchLanguageMap = require('./search-language')\nvar Markdown = require('./markdown')\n\nvar Peek = React.createClass({\n  mixins: [Router.State, Router.Navigation],\n  propTypes: {\n    children: React.PropTypes.string,\n  },\n\n  // TODO: this is a mess, simplify to using props better so there's less\n  // state to manage\n  setup(props) {\n    var qs\n    var {q, facet} = props\n    var results = this.state && this.state.results || {}\n    var open = this.state ? this.state.open : !!q\n    if(q && q.props && q.props.children) q = q.props.children.replace(/<\\/?em>/g, '')\n    if(q && q.match(/:/) && !facet) {\n      [facet, ...qs] = q.split(/:/)\n      var q = qs.join(':')\n    }\n    if(!q) q = props.children\n\n    return {\n      facet,\n      open,\n      results,\n      offset: props.offset || 0,\n      query: q,\n      facetedQ: this.getFacetedQ(q, facet),\n      startedOpen: !!props.q\n    }\n  },\n\n  getInitialState() {\n    return this.setup(this.props)\n  },\n\n  render() {\n    var {results, facetedQ, startedOpen} = this.state\n    if(!facetedQ) return <span />\n    var {child, microdata} = this.props\n    var result = results && results[facetedQ]\n    var Tag = this.props.tag\n    var {showIcon} = this.props\n    var icon = <i className=\"material-icons\">{'expand_'+(this.state.open ? 'less' : 'more')}</i>\n    var linkProps = this.props.linkProps || this.props.filtered ? {\n      to: \"filteredSearchResults\",\n      params: {terms: '*', splat: this.state.facetedQ || this.state.q}\n    } : {\n      to: \"searchResults\",\n      params: {terms: this.state.facetedQ || this.state.q}\n    }\n    var text = this.props.highlightedValue ? <Markdown tag=\"span\">{this.props.highlightedValue}</Markdown> : this.props.children\n    var peekText = this.context.universal ?\n      <Link itemProp={microdata ? \"url\" : ''} {...linkProps}>{text}</Link> :\n      text\n\n    var queryString = decodeURIComponent(this.state.facetedQ)\n    var humanLanguage =searchLanguageMap(queryString)\n    var searchExplanation = humanLanguage !== queryString ?\n      humanLanguage :\n      `${this.state.query} ${this.state.facet && `(${this.state.facet})`}`\n\n    return <Tag onClick={debounce(this.onClick, 200)} className={classnames(\"peek\", {startedOpen: startedOpen, startedClosed: !startedOpen, open:this.state.open})} style={{cursor: 'pointer'}}>\n      {this.props.children && <i>\n        <span itemProp={microdata ? \"name\" : ''}>{peekText}</span>\n        {!this.props.universal && showIcon && icon}\n      </i>}\n      {this.state.open && this.state.facetedQ && <div className=\"peek\" style={{fontSize: '80%', maxWidth: this.state.maxWidth || \"100%\"}}>\n        {result && this.quiltFromResults()}\n        <Link {...linkProps} style={{width: '100%'}}>\n          {result && result.hits && result.hits.total || 'search'} results for {searchExplanation}\n          <span style={{float: 'right', marginRight: '10px'}} className=\"more-results-link\">View more results</span>\n        </Link>\n      </div>}\n      {this.state.open && this.getQs().map((q) => <Peek facet={this.state.facet} q={q} key={q} />)}\n    </Tag>\n  },\n\n  onClick() {\n    if(this.state.startedOpen) return\n    if(this.state.open) return this.setState({open: false})\n\n    this.setState({\n      open: true,\n      loading: true,\n    })\n\n    this.fetchResults()\n  },\n\n  quiltFromResults() {\n    var {results, facetedQ} = this.state\n    var result = results && results[facetedQ]\n    var hits = result && result.hits && result.hits.hits || []\n    var offset = this.props.offset || 0\n\n    if(!result || !hits || hits.length <= (this.props.showSingleResult ? 0 : 1)) return <span/>\n    var wImg = ImageQuilt.getImagedResults(hits).slice(offset, offset+10)\n    return <ImageQuilt\n      maxRows={1}\n      maxWorks={7}\n      artworks={wImg.length > 3 ? wImg : hits}\n      {...this.props.quiltProps}\n      onClick={this.linkToResults}\n      disableHover={true}\n      shuffle={this.props.shuffleQuilt}\n      />\n  },\n\n  handleResize() {\n    this.setState({maxWidth: React.findDOMNode(this).clientWidth})\n  },\n  componentDidMount: function() {\n    if(this.state.open) this.fetchResults()\n    this.handleResize()\n    window.addEventListener('resize', this.handleResize)\n  },\n  componentWillUnmount: function() {\n    window.removeEventListener('resize', this.handleResize)\n  },\n\n  getFacetedQ(q, facet) {\n    var q = q || (this.state ? this.state.query : \"\")\n    var facet = facet || this.state && this.state.facet\n    if(facet == 'artist') q = q.replace(/([^;]+:)/g, '').trim()\n    if(q == null) return false\n    return facet ? `${facet}:\"${encodeURIComponent(q.replace(/\"/g, '').replace('\\r\\n', ' '))}\"` : q\n  },\n\n  getQs() {\n    var q = this.state.query\n    if(q.match(';')) {\n      return q.split(/;/).map(_q => {\n        var cleanedQ = _q.replace(/^.*attributed to|unknown|artist|after/ig, '').trim()\n        if(this.state && this.state.facet == 'artist') cleanedQ = cleanedQ.replace(/\\w+ by/, '')\n        return cleanedQ\n      })\n    }\n    return []\n  },\n\n  componentWillReceiveProps(nextProps) {\n    this.setState(this.setup(nextProps))\n  },\n\n  componentWillUpdate(_, nextState) {\n    if(this.state.open !== nextState.open) this.dispatchEvent()\n  },\n\n  fetchResults() {\n    var {results, facetedQ} = this.state\n\n    this.state.results[facetedQ] || rest(`${SEARCH}/${facetedQ}?size=20`).then((r) => {\n      var results = this.state.results\n      results[facetedQ] = JSON.parse(r.entity)\n      this.setState({\n        results: results,\n        loading: false,\n      })\n    })\n  },\n\n  linkToResults(art) {\n    if(!art) return\n    window.clickedArtwork = art\n    if(this.props.directLinkTo) {\n      var relatedJson = JSON.parse(art._source[`related:${this.props.directLinkTo}`])\n      var url = relatedJson.link\n      if(url) return window.location = url\n    }\n    this.props.filtered ?\n      this.transitionTo('filteredSearchResults', {terms: '*', splat: this.state.facetedQ}) :\n      this.transitionTo('searchResults', {terms: this.state.facetedQ})\n  },\n\n  getDefaultProps() {\n    return {\n      tag: \"div\",\n      showIcon: true,\n      showSingleResult: false,\n    }\n  },\n\n  dispatchEvent() {\n    window.dispatchEvent(new CustomEvent('peek'))\n  },\n})\nPeek.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nmodule.exports = Peek\n"
      ]
    },
    "mtime": 1485807805250
  },
  "{\"filename\":\"/var/www/art/src/highlighter.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "\"use strict\";\n\nfunction highlightField(source, highlights, field) {\n  if (!highlights) return source[field];\n\n  var possibleHighlights = Object.keys(highlights).filter(function (key) {\n    return key.match(field);\n  }).map(function (key) {\n    return highlights[key][0];\n  });\n\n  return highlights && possibleHighlights && possibleHighlights[0] || source[field];\n}\n\nmodule.exports = highlightField;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvaGlnaGxpZ2h0ZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxTQUFTLGNBQWMsQ0FBQyxNQUFNLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRTtBQUNqRCxNQUFHLENBQUMsVUFBVSxFQUFFLE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFBOztBQUVwQyxNQUFJLGtCQUFrQixHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQy9DLE1BQU0sQ0FBQyxVQUFBLEdBQUc7V0FBSSxHQUFHLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQztHQUFBLENBQUMsQ0FDL0IsR0FBRyxDQUFDLFVBQUEsR0FBRztXQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7R0FBQSxDQUFDLENBQUE7O0FBRS9CLFNBQU8sVUFBVSxJQUFJLGtCQUFrQixJQUFJLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxJQUMzRCxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUE7Q0FDbkI7O0FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRyxjQUFjLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9oaWdobGlnaHRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGhpZ2hsaWdodEZpZWxkKHNvdXJjZSwgaGlnaGxpZ2h0cywgZmllbGQpIHtcbiAgaWYoIWhpZ2hsaWdodHMpIHJldHVybiBzb3VyY2VbZmllbGRdXG5cbiAgdmFyIHBvc3NpYmxlSGlnaGxpZ2h0cyA9IE9iamVjdC5rZXlzKGhpZ2hsaWdodHMpXG4gIC5maWx0ZXIoa2V5ID0+IGtleS5tYXRjaChmaWVsZCkpXG4gIC5tYXAoa2V5ID0+IGhpZ2hsaWdodHNba2V5XVswXSlcblxuICByZXR1cm4gaGlnaGxpZ2h0cyAmJiBwb3NzaWJsZUhpZ2hsaWdodHMgJiYgcG9zc2libGVIaWdobGlnaHRzWzBdXG4gICAgfHwgc291cmNlW2ZpZWxkXVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhpZ2hsaWdodEZpZWxkXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/highlighter.js"
      ],
      "names": [],
      "mappings": ";;AAAA,SAAS,cAAc,CAAC,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE;AACjD,MAAG,CAAC,UAAU,EAAE,OAAO,MAAM,CAAC,KAAK,CAAC,CAAA;;AAEpC,MAAI,kBAAkB,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAC/C,MAAM,CAAC,UAAA,GAAG;WAAI,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC;GAAA,CAAC,CAC/B,GAAG,CAAC,UAAA,GAAG;WAAI,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;GAAA,CAAC,CAAA;;AAE/B,SAAO,UAAU,IAAI,kBAAkB,IAAI,kBAAkB,CAAC,CAAC,CAAC,IAC3D,MAAM,CAAC,KAAK,CAAC,CAAA;CACnB;;AAED,MAAM,CAAC,OAAO,GAAG,cAAc,CAAA",
      "file": "/var/www/art/src/highlighter.js",
      "sourcesContent": [
        "function highlightField(source, highlights, field) {\n  if(!highlights) return source[field]\n\n  var possibleHighlights = Object.keys(highlights)\n  .filter(key => key.match(field))\n  .map(key => highlights[key][0])\n\n  return highlights && possibleHighlights && possibleHighlights[0]\n    || source[field]\n}\n\nmodule.exports = highlightField\n"
      ]
    },
    "mtime": 1453913552707
  },
  "{\"filename\":\"/var/www/art/src/search-results/focused.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\n\nvar ArtworkPreview = require('../artwork-preview');\nvar Markdown = require('../markdown');\nvar Sticky = require('../bottom-sticky');\nvar ArtworkRelated = require('../artwork-related');\n\nvar FocusedResult = React.createClass({\n  displayName: 'FocusedResult',\n\n  render: function render() {\n    var leftSpacing = this.props.leftColumnWidth.replace(/(\\d+)/, function (int) {\n      return parseInt(int) + 3;\n    });\n    var _props = this.props;\n    var art = _props.art;\n    var highlights = _props.highlights;\n\n    var hasRelatedHighlight = highlights && Object.keys(highlights).join(' ').match(/related:/);\n\n    return React.createElement(\n      'div',\n      { className: 'focusedResult', style: { position: 'absolute', top: 0, left: leftSpacing, right: 0, bottom: 0, width: '60%' } },\n      React.createElement(\n        Sticky,\n        { stickyStyle: { right: 0, top: 0, position: 'fixed', left: leftSpacing, width: '60%' } },\n        React.createElement(ArtworkPreview, { art: art, highlights: highlights, onlyShowHighlightDetails: true, key: art.id }),\n        React.createElement(\n          'span',\n          { className: 'closePreview', style: { position: 'absolute', right: '1em', marginTop: '1em', cursor: 'pointer' }, onClick: this.close },\n          React.createElement(\n            'i',\n            { className: 'material-icons' },\n            'clear'\n          )\n        ),\n        React.createElement(ArtworkRelated, { id: art.id, art: art, skipWrapper: true, highlights: highlights })\n      )\n    );\n  },\n\n  close: function close() {\n    this.props.focusHandler();\n  }\n});\n\nmodule.exports = FocusedResult;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvc2VhcmNoLXJlc3VsdHMvZm9jdXNlZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTs7QUFFNUIsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLG9CQUFvQixDQUFDLENBQUE7QUFDbEQsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBO0FBQ3JDLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFBO0FBQ3hDLElBQUksY0FBYyxHQUFHLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFBOztBQUVsRCxJQUFJLGFBQWEsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDcEMsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsUUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxVQUFBLEdBQUc7YUFBSSxRQUFRLENBQUMsR0FBRyxDQUFDLEdBQUMsQ0FBQztLQUFBLENBQUMsQ0FBQTtpQkFDN0QsSUFBSSxDQUFDLEtBQUs7UUFBN0IsR0FBRyxVQUFILEdBQUc7UUFBRSxVQUFVLFVBQVYsVUFBVTs7QUFDcEIsUUFBSSxtQkFBbUIsR0FBRyxVQUFVLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFBOztBQUUzRixXQUFPOztRQUFLLFNBQVMsRUFBQyxlQUFlLEVBQUMsS0FBSyxFQUFFLEVBQUMsUUFBUSxFQUFFLFVBQVUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUMsQUFBQztNQUNoSTtBQUFDLGNBQU07VUFBQyxXQUFXLEVBQUUsRUFBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUMsQUFBQztRQUMxRixvQkFBQyxjQUFjLElBQUMsR0FBRyxFQUFFLEdBQUcsQUFBQyxFQUFDLFVBQVUsRUFBRSxVQUFVLEFBQUMsRUFBQyx3QkFBd0IsRUFBRSxJQUFJLEFBQUMsRUFBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsQUFBQyxHQUFHO1FBQ2pHOztZQUFNLFNBQVMsRUFBQyxjQUFjLEVBQUMsS0FBSyxFQUFFLEVBQUMsUUFBUSxFQUFFLFVBQVUsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBQyxBQUFDLEVBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxLQUFLLEFBQUM7VUFDbkk7O2NBQUcsU0FBUyxFQUFDLGdCQUFnQjs7V0FBVTtTQUNsQztRQUNQLG9CQUFDLGNBQWMsSUFBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUUsQUFBQyxFQUFDLEdBQUcsRUFBRSxHQUFHLEFBQUMsRUFBQyxXQUFXLEVBQUUsSUFBSSxBQUFDLEVBQUMsVUFBVSxFQUFFLFVBQVUsQUFBQyxHQUFHO09BQzVFO0tBQ0wsQ0FBQTtHQUNQOztBQUVELE9BQUssRUFBQSxpQkFBRztBQUNOLFFBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxFQUFFLENBQUE7R0FDMUI7Q0FDRixDQUFDLENBQUE7O0FBRUYsTUFBTSxDQUFDLE9BQU8sR0FBRyxhQUFhLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9zZWFyY2gtcmVzdWx0cy9mb2N1c2VkLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxuXG52YXIgQXJ0d29ya1ByZXZpZXcgPSByZXF1aXJlKCcuLi9hcnR3b3JrLXByZXZpZXcnKVxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi4vbWFya2Rvd24nKVxudmFyIFN0aWNreSA9IHJlcXVpcmUoJy4uL2JvdHRvbS1zdGlja3knKVxudmFyIEFydHdvcmtSZWxhdGVkID0gcmVxdWlyZSgnLi4vYXJ0d29yay1yZWxhdGVkJylcblxudmFyIEZvY3VzZWRSZXN1bHQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIgbGVmdFNwYWNpbmcgPSB0aGlzLnByb3BzLmxlZnRDb2x1bW5XaWR0aC5yZXBsYWNlKC8oXFxkKykvLCBpbnQgPT4gcGFyc2VJbnQoaW50KSszKVxuICAgIHZhciB7YXJ0LCBoaWdobGlnaHRzfSA9IHRoaXMucHJvcHNcbiAgICB2YXIgaGFzUmVsYXRlZEhpZ2hsaWdodCA9IGhpZ2hsaWdodHMgJiYgT2JqZWN0LmtleXMoaGlnaGxpZ2h0cykuam9pbignICcpLm1hdGNoKC9yZWxhdGVkOi8pXG5cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJmb2N1c2VkUmVzdWx0XCIgc3R5bGU9e3twb3NpdGlvbjogJ2Fic29sdXRlJywgdG9wOiAwLCBsZWZ0OiBsZWZ0U3BhY2luZywgcmlnaHQ6IDAsIGJvdHRvbTogMCwgd2lkdGg6ICc2MCUnfX0+XG4gICAgICA8U3RpY2t5IHN0aWNreVN0eWxlPXt7cmlnaHQ6IDAsIHRvcDogMCwgcG9zaXRpb246ICdmaXhlZCcsIGxlZnQ6IGxlZnRTcGFjaW5nLCB3aWR0aDogJzYwJSd9fT5cbiAgICAgICAgPEFydHdvcmtQcmV2aWV3IGFydD17YXJ0fSBoaWdobGlnaHRzPXtoaWdobGlnaHRzfSBvbmx5U2hvd0hpZ2hsaWdodERldGFpbHM9e3RydWV9IGtleT17YXJ0LmlkfSAvPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjbG9zZVByZXZpZXdcIiBzdHlsZT17e3Bvc2l0aW9uOiAnYWJzb2x1dGUnLCByaWdodDogJzFlbScsIG1hcmdpblRvcDogJzFlbScsIGN1cnNvcjogJ3BvaW50ZXInfX0gb25DbGljaz17dGhpcy5jbG9zZX0+XG4gICAgICAgICAgPGkgY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbnNcIj5jbGVhcjwvaT5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8QXJ0d29ya1JlbGF0ZWQgaWQ9e2FydC5pZH0gYXJ0PXthcnR9IHNraXBXcmFwcGVyPXt0cnVlfSBoaWdobGlnaHRzPXtoaWdobGlnaHRzfSAvPlxuICAgICAgPC9TdGlja3k+XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5wcm9wcy5mb2N1c0hhbmRsZXIoKVxuICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBGb2N1c2VkUmVzdWx0XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/search-results/focused.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;AAE5B,IAAI,cAAc,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAA;AAClD,IAAI,QAAQ,GAAG,OAAO,CAAC,aAAa,CAAC,CAAA;AACrC,IAAI,MAAM,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAA;AACxC,IAAI,cAAc,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAA;;AAElD,IAAI,aAAa,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACpC,QAAM,EAAA,kBAAG;AACP,QAAI,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,OAAO,CAAC,OAAO,EAAE,UAAA,GAAG;aAAI,QAAQ,CAAC,GAAG,CAAC,GAAC,CAAC;KAAA,CAAC,CAAA;iBAC7D,IAAI,CAAC,KAAK;QAA7B,GAAG,UAAH,GAAG;QAAE,UAAU,UAAV,UAAU;;AACpB,QAAI,mBAAmB,GAAG,UAAU,IAAI,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,CAAA;;AAE3F,WAAO;;QAAK,SAAS,EAAC,eAAe,EAAC,KAAK,EAAE,EAAC,QAAQ,EAAE,UAAU,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,EAAC,AAAC;MAChI;AAAC,cAAM;UAAC,WAAW,EAAE,EAAC,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,KAAK,EAAC,AAAC;QAC1F,oBAAC,cAAc,IAAC,GAAG,EAAE,GAAG,AAAC,EAAC,UAAU,EAAE,UAAU,AAAC,EAAC,wBAAwB,EAAE,IAAI,AAAC,EAAC,GAAG,EAAE,GAAG,CAAC,EAAE,AAAC,GAAG;QACjG;;YAAM,SAAS,EAAC,cAAc,EAAC,KAAK,EAAE,EAAC,QAAQ,EAAE,UAAU,EAAE,KAAK,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAC,AAAC,EAAC,OAAO,EAAE,IAAI,CAAC,KAAK,AAAC;UACnI;;cAAG,SAAS,EAAC,gBAAgB;;WAAU;SAClC;QACP,oBAAC,cAAc,IAAC,EAAE,EAAE,GAAG,CAAC,EAAE,AAAC,EAAC,GAAG,EAAE,GAAG,AAAC,EAAC,WAAW,EAAE,IAAI,AAAC,EAAC,UAAU,EAAE,UAAU,AAAC,GAAG;OAC5E;KACL,CAAA;GACP;;AAED,OAAK,EAAA,iBAAG;AACN,QAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAA;GAC1B;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,aAAa,CAAA",
      "file": "/var/www/art/src/search-results/focused.js",
      "sourcesContent": [
        "var React = require('react')\n\nvar ArtworkPreview = require('../artwork-preview')\nvar Markdown = require('../markdown')\nvar Sticky = require('../bottom-sticky')\nvar ArtworkRelated = require('../artwork-related')\n\nvar FocusedResult = React.createClass({\n  render() {\n    var leftSpacing = this.props.leftColumnWidth.replace(/(\\d+)/, int => parseInt(int)+3)\n    var {art, highlights} = this.props\n    var hasRelatedHighlight = highlights && Object.keys(highlights).join(' ').match(/related:/)\n\n    return <div className=\"focusedResult\" style={{position: 'absolute', top: 0, left: leftSpacing, right: 0, bottom: 0, width: '60%'}}>\n      <Sticky stickyStyle={{right: 0, top: 0, position: 'fixed', left: leftSpacing, width: '60%'}}>\n        <ArtworkPreview art={art} highlights={highlights} onlyShowHighlightDetails={true} key={art.id} />\n        <span className=\"closePreview\" style={{position: 'absolute', right: '1em', marginTop: '1em', cursor: 'pointer'}} onClick={this.close}>\n          <i className=\"material-icons\">clear</i>\n        </span>\n        <ArtworkRelated id={art.id} art={art} skipWrapper={true} highlights={highlights} />\n      </Sticky>\n    </div>\n  },\n\n  close() {\n    this.props.focusHandler()\n  },\n})\n\nmodule.exports = FocusedResult\n"
      ]
    },
    "mtime": 1481821196790
  },
  "{\"filename\":\"/var/www/art/src/artwork-preview.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar ArtworkImage = require('./artwork-image');\nvar Markdown = require('./markdown');\nvar Peek = require('./peek');\nvar Artwork = require('./_artwork');\nvar highlighter = require('./highlighter');\nvar ArtworkDetails = require('./artwork-details');\n\nvar ArtworkPreview = React.createClass({\n  displayName: 'ArtworkPreview',\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      showLink: true\n    };\n  },\n\n  render: function render() {\n    var _props = this.props;\n    var art = _props.art;\n    var style = _props.style;\n    var showLink = _props.showLink;\n    var highlights = _props.highlights;\n\n    var id = art.id.replace('http://api.artsmia.org/objects/', '');\n    var highlight = highlighter.bind(null, art, highlights);\n\n    var showHighlights = highlights && React.createElement(\n      'div',\n      { className: 'artwork-detail', style: { marginTop: '1em' } },\n      React.createElement('hr', null),\n      React.createElement(ArtworkDetails, _extends({\n        art: art,\n        highlights: highlights,\n        skipFields: !this.props.showDuplicateDetails && \"title style artist medium credit accession_number gallery text tags\"\n      }, this.props))\n    );\n\n    var details = showLink ? React.createElement(\n      Link,\n      { to: 'artwork', params: { id: art.id } },\n      React.createElement(\n        'div',\n        { className: 'objects-page-link' },\n        React.createElement('div', { className: 'objects-page-icon' }),\n        'details'\n      )\n    ) : '';\n\n    return React.createElement(\n      Artwork.Figure,\n      { art: art, className: 'objects-focus', style: style, link: showLink },\n      React.createElement(\n        'div',\n        { className: 'art-details preview-header' },\n        art.deaccessioned == 'true' && React.createElement(DeaccessionedBanner, { art: art }),\n        art.accession_number.match(/^L/i) && React.createElement(LoanBanner, { art: art }),\n        React.createElement(Artwork.Title, _extends({ art: art, link: showLink }, this.props)),\n        React.createElement(Artwork.Creator, _extends({ art: art }, this.props)),\n        React.createElement(Artwork.Tombstone, _extends({ art: art }, this.props)),\n        React.createElement(\n          'h6',\n          null,\n          React.createElement(\n            Peek,\n            { facet: 'room', highlightedValue: highlight('room') },\n            art.room\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'description', itemProp: 'description' },\n          React.createElement(\n            Markdown,\n            null,\n            highlight('text')\n          )\n        ),\n        React.createElement(Artwork.LinkBar, { art: art, link: showLink }),\n        showHighlights\n      )\n    );\n  },\n\n  displayBio: function displayBio() {\n    var art = this.props.art;\n    var nationality = art.nationality;\n    var life_date = art.life_date;\n\n    var lifeDateWithoutNationality = life_date && life_date.replace(nationality + ', ', '');\n    var nationAndDates = React.createElement(\n      'span',\n      null,\n      nationality && React.createElement(\n        'span',\n        null,\n        React.createElement(\n          Peek,\n          { facet: 'nationality', tag: 'span', showIcon: false },\n          nationality\n        ),\n        ', '\n      ),\n      lifeDateWithoutNationality && React.createElement(\n        Peek,\n        { facet: 'life_date', tag: 'span', showIcon: false },\n        lifeDateWithoutNationality\n      )\n    );\n\n    if (!nationality && !life_date) return React.createElement('span', null);\n    return React.createElement(\n      'div',\n      { className: 'display-bio' },\n      nationAndDates,\n      React.createElement('br', null),\n      art.role\n    );\n  }\n});\n\nmodule.exports = ArtworkPreview;\n\nvar DeaccessionedBanner = React.createClass({\n  displayName: 'DeaccessionedBanner',\n\n  render: function render() {\n    var art = this.props.art;\n\n    var date = art.deaccessionedDate.split('-')[0];\n    var reason = art.deaccessionedReason;\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'strong',\n        null,\n        'DEACCESSIONED'\n      ),\n      React.createElement(\n        'p',\n        null,\n        'This artwork was ',\n        React.createElement(\n          Link,\n          { to: '/info/deaccessions' },\n          'deaccessioned'\n        ),\n        reason && ' (' + reason + ')',\n        ' ',\n        date && React.createElement(\n          'span',\n          null,\n          'in ',\n          date,\n          '.'\n        )\n      )\n    );\n  }\n});\n\nvar LoanBanner = React.createClass({\n  displayName: 'LoanBanner',\n\n  render: function render() {\n    var art = this.props.art;\n\n    var date = art.deaccessionedDate;\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'strong',\n        null,\n        'LOAN'\n      ),\n      React.createElement(\n        'p',\n        null,\n        'This artwork was \"loaned\" to the museum by the owner. It was never owned by Mia. Loans are a common way to share art between museums.'\n      )\n    );\n  }\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYXJ0d29yay1wcmV2aWV3LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0lBQzlCLElBQUksR0FBSyxNQUFNLENBQWYsSUFBSTs7ZUFFRyxPQUFPLENBQUMsY0FBYyxDQUFDOztJQUEvQixJQUFJLFlBQUosSUFBSTs7QUFFVCxJQUFJLFlBQVksR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtBQUM3QyxJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7QUFDcEMsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQzVCLElBQUksT0FBTyxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTtBQUNuQyxJQUFJLFdBQVcsR0FBRyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUE7QUFDMUMsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7O0FBRWpELElBQUksY0FBYyxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUNyQyxpQkFBZSxFQUFBLDJCQUFHO0FBQ2hCLFdBQU87QUFDTCxjQUFRLEVBQUUsSUFBSTtLQUNmLENBQUE7R0FDRjs7QUFFRCxRQUFNLEVBQUEsa0JBQUc7aUJBQ2tDLElBQUksQ0FBQyxLQUFLO1FBQTlDLEdBQUcsVUFBSCxHQUFHO1FBQUUsS0FBSyxVQUFMLEtBQUs7UUFBRSxRQUFRLFVBQVIsUUFBUTtRQUFFLFVBQVUsVUFBVixVQUFVOztBQUNyQyxRQUFJLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxpQ0FBaUMsRUFBRSxFQUFFLENBQUMsQ0FBQTtBQUM5RCxRQUFJLFNBQVMsR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLElB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QXFCO01BQ3JCOzs7O09BRUk7S0FDQSxDQUFBO0dBQ1A7Q0FDRixDQUFDLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9hcnR3b3JrLXByZXZpZXcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciB7IExpbmsgfSA9IFJvdXRlclxuXG52YXIge0xpbmt9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcblxudmFyIEFydHdvcmtJbWFnZSA9IHJlcXVpcmUoJy4vYXJ0d29yay1pbWFnZScpXG52YXIgTWFya2Rvd24gPSByZXF1aXJlKCcuL21hcmtkb3duJylcbnZhciBQZWVrID0gcmVxdWlyZSgnLi9wZWVrJylcbnZhciBBcnR3b3JrID0gcmVxdWlyZSgnLi9fYXJ0d29yaycpXG52YXIgaGlnaGxpZ2h0ZXIgPSByZXF1aXJlKCcuL2hpZ2hsaWdodGVyJylcbnZhciBBcnR3b3JrRGV0YWlscyA9IHJlcXVpcmUoJy4vYXJ0d29yay1kZXRhaWxzJylcblxudmFyIEFydHdvcmtQcmV2aWV3ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNob3dMaW5rOiB0cnVlLFxuICAgIH1cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnQsIHN0eWxlLCBzaG93TGluaywgaGlnaGxpZ2h0c30gPSB0aGlzLnByb3BzXG4gICAgdmFyIGlkID0gYXJ0LmlkLnJlcGxhY2UoJ2h0dHA6Ly9hcGkuYXJ0c21pYS5vcmcvb2JqZWN0cy8nLCAnJylcbiAgICB2YXIgaGlnaGxpZ2h0ID0gaGlnaGxpZ2h0ZXIuYmluZChudWxsLCBhcnQsIGhpZ2hsaWdodHMpXG5cbiAgICB2YXIgc2hvd0hpZ2hsaWdodHMgPSBoaWdobGlnaHRzICYmIDxkaXYgY2xhc3NOYW1lPSdhcnR3b3JrLWRldGFpbCcgc3R5bGU9e3ttYXJnaW5Ub3A6ICcxZW0nfX0+XG4gICAgICA8aHIgLz5cbiAgICAgIDxBcnR3b3JrRGV0YWlsc1xuICAgICAgICBhcnQ9e2FydH1cbiAgICAgICAgaGlnaGxpZ2h0cz17aGlnaGxpZ2h0c31cbiAgICAgICAgc2tpcEZpZWxkcz17IXRoaXMucHJvcHMuc2hvd0R1cGxpY2F0ZURldGFpbHMgJiYgXCJ0aXRsZSBzdHlsZSBhcnRpc3QgbWVkaXVtIGNyZWRpdCBhY2Nlc3Npb25fbnVtYmVyIGdhbGxlcnkgdGV4dCB0YWdzXCJ9XG4gICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cblxuICAgIHZhciBkZXRhaWxzID0gc2hvd0xpbmsgPyA8TGluayB0bz1cImFydHdvcmtcIiBwYXJhbXM9e3tpZDogYXJ0LmlkfX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9iamVjdHMtcGFnZS1saW5rXCI+PGRpdiBjbGFzc05hbWU9XCJvYmplY3RzLXBhZ2UtaWNvblwiPjwvZGl2PmRldGFpbHM8L2Rpdj5cbiAgICA8L0xpbms+IDogJydcblxuICAgIHJldHVybiAoXG4gICAgICA8QXJ0d29yay5GaWd1cmUgYXJ0PXthcnR9IGNsYXNzTmFtZT0nb2JqZWN0cy1mb2N1cycgc3R5bGU9e3N0eWxlfSBsaW5rPXtzaG93TGlua30+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXJ0LWRldGFpbHMgcHJldmlldy1oZWFkZXJcIj5cbiAgICAgICAgICB7YXJ0LmRlYWNjZXNzaW9uZWQgPT0gJ3RydWUnICYmIDxEZWFjY2Vzc2lvbmVkQmFubmVyIGFydD17YXJ0fSAvPn1cbiAgICAgICAgICB7YXJ0LmFjY2Vzc2lvbl9udW1iZXIubWF0Y2goL15ML2kpICYmIDxMb2FuQmFubmVyIGFydD17YXJ0fSAvPn1cbiAgICAgICAgICA8QXJ0d29yay5UaXRsZSBhcnQ9e2FydH0gbGluaz17c2hvd0xpbmt9IHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICAgIDxBcnR3b3JrLkNyZWF0b3IgYXJ0PXthcnR9IHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICAgIDxBcnR3b3JrLlRvbWJzdG9uZSBhcnQ9e2FydH0gey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgICAgPGg2PjxQZWVrIGZhY2V0PVwicm9vbVwiIGhpZ2hsaWdodGVkVmFsdWU9e2hpZ2hsaWdodCgncm9vbScpfT57YXJ0LnJvb219PC9QZWVrPjwvaDY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkZXNjcmlwdGlvblwiIGl0ZW1Qcm9wPVwiZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgIDxNYXJrZG93bj57aGlnaGxpZ2h0KCd0ZXh0Jyl9PC9NYXJrZG93bj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8QXJ0d29yay5MaW5rQmFyIGFydD17YXJ0fSBsaW5rPXtzaG93TGlua30gLz5cbiAgICAgICAgICB7c2hvd0hpZ2hsaWdodHN9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9BcnR3b3JrLkZpZ3VyZT5cbiAgICApXG4gIH0sXG5cbiAgZGlzcGxheUJpbygpIHtcbiAgICB2YXIge2FydH0gPSB0aGlzLnByb3BzXG4gICAgdmFyIHtuYXRpb25hbGl0eSwgbGlmZV9kYXRlfSA9IGFydFxuICAgIHZhciBsaWZlRGF0ZVdpdGhvdXROYXRpb25hbGl0eSA9IGxpZmVfZGF0ZSAmJiBsaWZlX2RhdGUucmVwbGFjZShuYXRpb25hbGl0eSsnLCAnLCAnJyk7XG4gICAgdmFyIG5hdGlvbkFuZERhdGVzID0gPHNwYW4+XG4gICAgICB7bmF0aW9uYWxpdHkgJiYgKDxzcGFuPjxQZWVrIGZhY2V0PVwibmF0aW9uYWxpdHlcIiB0YWc9XCJzcGFuXCIgc2hvd0ljb249e2ZhbHNlfT57bmF0aW9uYWxpdHl9PC9QZWVrPiwgPC9zcGFuPil9XG4gICAgICB7bGlmZURhdGVXaXRob3V0TmF0aW9uYWxpdHkgJiYgPFBlZWsgZmFjZXQ9XCJsaWZlX2RhdGVcIiB0YWc9XCJzcGFuXCIgc2hvd0ljb249e2ZhbHNlfT57bGlmZURhdGVXaXRob3V0TmF0aW9uYWxpdHl9PC9QZWVrPn1cbiAgICA8L3NwYW4+XG5cbiAgICBpZighbmF0aW9uYWxpdHkgJiYgIWxpZmVfZGF0ZSkgcmV0dXJuIDxzcGFuLz5cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9J2Rpc3BsYXktYmlvJz5cbiAgICAgIHtuYXRpb25BbmREYXRlc308YnIvPlxuICAgICAge2FydC5yb2xlfVxuICAgIDwvZGl2PlxuICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBBcnR3b3JrUHJldmlld1xuXG52YXIgRGVhY2Nlc3Npb25lZEJhbm5lciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7YXJ0fSA9IHRoaXMucHJvcHNcbiAgICB2YXIgZGF0ZSA9IGFydC5kZWFjY2Vzc2lvbmVkRGF0ZS5zcGxpdCgnLScpWzBdXG4gICAgdmFyIHJlYXNvbiA9IGFydC5kZWFjY2Vzc2lvbmVkUmVhc29uXG5cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIDxzdHJvbmc+REVBQ0NFU1NJT05FRDwvc3Ryb25nPlxuICAgICAgPHA+XG4gICAgICAgIFRoaXMgYXJ0d29yayB3YXMgPExpbmsgdG89XCIvaW5mby9kZWFjY2Vzc2lvbnNcIj5kZWFjY2Vzc2lvbmVkPC9MaW5rPntyZWFzb24gJiYgYCAoJHtyZWFzb259KWB9XG4gICAgICAgICZuYnNwO3tkYXRlICYmIDxzcGFuPmluIHtkYXRlfS48L3NwYW4+fVxuICAgICAgPC9wPlxuICAgIDwvZGl2PlxuICB9LFxufSlcblxudmFyIExvYW5CYW5uZXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIge2FydH0gPSB0aGlzLnByb3BzXG4gICAgdmFyIGRhdGUgPSBhcnQuZGVhY2Nlc3Npb25lZERhdGVcblxuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPHN0cm9uZz5MT0FOPC9zdHJvbmc+XG4gICAgICA8cD5cbiAgICAgICAgVGhpcyBhcnR3b3JrIHdhcyBcImxvYW5lZFwiIHRvIHRoZSBtdXNldW0gYnkgdGhlIG93bmVyLiBJdCB3YXMgbmV2ZXIgb3duZWQgYnkgTWlhLiBMb2FucyBhcmUgYSBjb21tb24gd2F5IHRvIHNoYXJlIGFydCBiZXR3ZWVuIG11c2V1bXMuXG4gICAgICA8L3A+XG4gICAgPC9kaXY+XG4gIH0sXG59KVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/artwork-preview.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/artwork-preview.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar { Link } = Router\n\nvar {Link} = require('react-router')\n\nvar ArtworkImage = require('./artwork-image')\nvar Markdown = require('./markdown')\nvar Peek = require('./peek')\nvar Artwork = require('./_artwork')\nvar highlighter = require('./highlighter')\nvar ArtworkDetails = require('./artwork-details')\n\nvar ArtworkPreview = React.createClass({\n  getDefaultProps() {\n    return {\n      showLink: true,\n    }\n  },\n\n  render() {\n    var {art, style, showLink, highlights} = this.props\n    var id = art.id.replace('http://api.artsmia.org/objects/', '')\n    var highlight = highlighter.bind(null, art, highlights)\n\n    var showHighlights = highlights && <div className='artwork-detail' style={{marginTop: '1em'}}>\n      <hr />\n      <ArtworkDetails\n        art={art}\n        highlights={highlights}\n        skipFields={!this.props.showDuplicateDetails && \"title style artist medium credit accession_number gallery text tags\"}\n        {...this.props}\n      />\n    </div>\n\n    var details = showLink ? <Link to=\"artwork\" params={{id: art.id}}>\n      <div className=\"objects-page-link\"><div className=\"objects-page-icon\"></div>details</div>\n    </Link> : ''\n\n    return (\n      <Artwork.Figure art={art} className='objects-focus' style={style} link={showLink}>\n        <div className=\"art-details preview-header\">\n          {art.deaccessioned == 'true' && <DeaccessionedBanner art={art} />}\n          {art.accession_number.match(/^L/i) && <LoanBanner art={art} />}\n          <Artwork.Title art={art} link={showLink} {...this.props} />\n          <Artwork.Creator art={art} {...this.props} />\n          <Artwork.Tombstone art={art} {...this.props} />\n          <h6><Peek facet=\"room\" highlightedValue={highlight('room')}>{art.room}</Peek></h6>\n          <div className=\"description\" itemProp=\"description\">\n            <Markdown>{highlight('text')}</Markdown>\n          </div>\n          <Artwork.LinkBar art={art} link={showLink} />\n          {showHighlights}\n        </div>\n      </Artwork.Figure>\n    )\n  },\n\n  displayBio() {\n    var {art} = this.props\n    var {nationality, life_date} = art\n    var lifeDateWithoutNationality = life_date && life_date.replace(nationality+', ', '');\n    var nationAndDates = <span>\n      {nationality && (<span><Peek facet=\"nationality\" tag=\"span\" showIcon={false}>{nationality}</Peek>, </span>)}\n      {lifeDateWithoutNationality && <Peek facet=\"life_date\" tag=\"span\" showIcon={false}>{lifeDateWithoutNationality}</Peek>}\n    </span>\n\n    if(!nationality && !life_date) return <span/>\n    return <div className='display-bio'>\n      {nationAndDates}<br/>\n      {art.role}\n    </div>\n  },\n})\n\nmodule.exports = ArtworkPreview\n\nvar DeaccessionedBanner = React.createClass({\n  render() {\n    var {art} = this.props\n    var date = art.deaccessionedDate.split('-')[0]\n    var reason = art.deaccessionedReason\n\n    return <div>\n      <strong>DEACCESSIONED</strong>\n      <p>\n        This artwork was <Link to=\"/info/deaccessions\">deaccessioned</Link>{reason && ` (${reason})`}\n        &nbsp;{date && <span>in {date}.</span>}\n      </p>\n    </div>\n  },\n})\n\nvar LoanBanner = React.createClass({\n  render() {\n    var {art} = this.props\n    var date = art.deaccessionedDate\n\n    return <div>\n      <strong>LOAN</strong>\n      <p>\n        This artwork was \"loaned\" to the museum by the owner. It was never owned by Mia. Loans are a common way to share art between museums.\n      </p>\n    </div>\n  },\n})\n"
      ]
    },
    "mtime": 1464207848598
  },
  "{\"filename\":\"/var/www/art/src/artwork-details.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends",
        "sliced-to-array",
        "to-consumable-array"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar React = require('react');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar capitalize = require('capitalize');\nvar Isvg = require('react-inlinesvg');\nvar cx = require('classnames');\nvar ClickToSelect = require('react-click-to-select');\n\nvar Markdown = require('./markdown');\nvar Peek = require('./peek');\nvar dimensionSvg = require('./endpoints').dimensionSvg;\nvar rightsDescriptions = require('./rights-types.js');\nvar feedbackSender = require('./email-data-sender');\n\nvar ArtworkDetails = React.createClass({\n  displayName: 'ArtworkDetails',\n\n  build: function build(field, fn) {\n    var _props = this.props;\n    var art = _props.art;\n    var highlights = _props.highlights;\n\n    if (this.props.onlyShowHighlightDetails && !highlights[field]) return;\n\n    var humanFieldName = capitalize.words(field).replace('_', ' ');\n    var artAndHighlights = this.artAndHighlights();\n\n    var _ref = fn ? fn(artAndHighlights, art) : [artAndHighlights[field]];\n\n    var _ref2 = _slicedToArray(_ref, 2);\n\n    var content = _ref2[0];\n    var extraContent = _ref2[1];\n\n    if (!content || content == '') return;\n    var showExtra = extraContent && this.state.expandDetailsMatrix[field];\n    var classes = cx(\"detail-row\", { expandable: extraContent }, field);\n\n    return React.createElement(\n      'div',\n      { className: classes, key: field },\n      React.createElement(\n        'div',\n        { onClick: this.toggleExtra.bind(this, field) },\n        React.createElement(\n          'dt',\n          { className: 'detail-title' },\n          humanFieldName\n        ),\n        React.createElement(\n          'dd',\n          { className: 'detail-content' },\n          content\n        )\n      ),\n      showExtra && React.createElement(\n        'div',\n        { className: 'detail-extra' },\n        extraContent\n      )\n    );\n  },\n\n  toggleExtra: function toggleExtra(field) {\n    var expandDetailsMatrix = this.state.expandDetailsMatrix;\n\n    expandDetailsMatrix[field] = !expandDetailsMatrix[field];\n    this.setState({ expandDetailsMatrix: expandDetailsMatrix });\n  },\n\n  // merge `art` with `highlights`, replacing the un-highlighted values with\n  // their 'highlit' equivalent\n  artAndHighlights: function artAndHighlights() {\n    var _props2 = this.props;\n    var art = _props2.art;\n    var highlights = _props2.highlights;\n\n    return !highlights ? art : Object.assign(_extends({}, art), Object.keys(highlights).reduce(function (object, key) {\n      var value = highlights[key] && highlights[key][0];\n      if (typeof value == 'string') value = React.createElement(\n        Markdown,\n        null,\n        value\n      );\n      object[key] = value;\n      return object;\n    }, {}));\n  },\n\n  buildPeekableDetail: function buildPeekableDetail(field, extra, value) {\n    var art = this.props.art;\n\n    var highlights = this.artAndHighlights();\n\n    return [field, function (art) {\n      return [value || highlights[field], React.createElement(\n        'div',\n        null,\n        extra,\n        React.createElement(Peek, { facet: field, q: value || art[field] })\n      )];\n    }];\n  },\n\n  details: function details() {\n    var _this = this;\n\n    var art = this.props.art;\n\n    return [['deaccessioned', function (art, raw) {\n      return [raw.deaccessioned && '' + art.deaccessionedDate, React.createElement(\n        'div',\n        null,\n        raw.deaccessionedReason && React.createElement(\n          'p',\n          null,\n          raw.deaccessionedReason\n        ),\n        React.createElement(\n          Link,\n          { to: '/info/deaccessions' },\n          'Artworks are deaccessioned for many reasons'\n        )\n      )];\n    }], ['title'], this.buildPeekableDetail('dated'), this.buildPeekableDetail('artist', this.props.art.life_date, art.artist.replace(/^([^;]+):/, '')), this.buildPeekableDetail('nationality'), ['artist_life', function (art) {\n      return [art.life_date && art.life_date.replace(new RegExp(art.nationality + \"(, )?\"), '')];\n    }], ['role', function (_, raw) {\n      var roleFromArtistField = raw.artist.match(/^([^;]+):/);\n      return [roleFromArtistField ? roleFromArtistField[1] : raw.role];\n    }], ['gallery', function (art, raw) {\n      return [art.room, React.createElement(Peek, { facet: 'room', q: raw.room })];\n    }], this.buildPeekableDetail('department'), ['dimension', function (art, rawArt) {\n      var showFancyDimension = art.dimension && _this.dimensions().length > 0;\n\n      return [art.dimension && React.createElement(\n        'div',\n        null,\n        showFancyDimension ? _this.dimensions().map(function (_ref3) {\n          var _ref32 = _slicedToArray(_ref3, 2);\n\n          var d = _ref32[0];\n          var aspect = _ref32[1];\n\n          return React.createElement(\n            'span',\n            { style: { display: 'block' }, onMouseEnter: _this.toggleDimensionGraphic.bind(_this, aspect), key: aspect },\n            d\n          );\n        }) : art.dimension\n      ), showFancyDimension && React.createElement(\n        'div',\n        null,\n        rawArt.dimension.match(/cm/) && React.createElement(Isvg, {\n          src: dimensionSvg(art.id, _this.state.dimensionGraphicName),\n          key: _this.state.dimensionGraphicName,\n          onLoad: _this.dimensionSvgLoaded\n        })\n      )];\n    }], ['credit', function (art, raw) {\n      return [art.creditline, React.createElement(Peek, { facet: 'creditline', q: raw.creditline })];\n    }], ['accession_number'], this.buildPeekableDetail('medium'), this.buildPeekableDetail('country'), this.buildPeekableDetail('culture'), ['century', function (art, raw) {\n      return [art.style, React.createElement(Peek, { facet: 'style', q: raw.style })];\n    }], ['provenance'], ['rights', function (art, raw) {\n      return [(art.image_copyright || art.rights) && React.createElement(\n        'div',\n        null,\n        art.image_copyright && decodeURIComponent(art.image_copyright),\n        art.image_copyright && art.rights && React.createElement('br', null),\n        art.rights && React.createElement(\n          'span',\n          null,\n          art.rights\n        )\n      ), React.createElement(\n        'div',\n        null,\n        React.createElement(\n          'p',\n          null,\n          rightsDescriptions[raw.rights]\n        ),\n        React.createElement(Peek, { facet: 'rights', q: raw.rights }),\n        React.createElement(\n          'p',\n          null,\n          React.createElement(\n            'a',\n            { href: 'https://new.artsmia.org/visit/policies-guidelines/#websiteimageaccess&use' },\n            'Mia\\'s Image Access & Use Policy'\n          )\n        )\n      )];\n    }],\n    // apparently markings/inscription/signed are 'for our eyes only'\n    // ['markings', (art) => {\n    //   // show deprecated `marks` field if none of the new `markings, signature, inscription` fields exist yet\n    //   return [art.markings || (!art.signature && !art.inscription && art.marks)]\n    // }],\n    // ['inscription'],\n    // ['signed'],\n    ['classification', function (art, raw) {\n      if (!raw.classification) return [];\n\n      var classificationPeeks = raw.classification.split(',').map(function (classification, index) {\n        return React.createElement(Peek, { facet: 'classification', q: classification, key: index });\n      });\n\n      return [React.createElement(\n        'p',\n        null,\n        art.classification\n      ), React.createElement(\n        'div',\n        null,\n        classificationPeeks\n      )];\n    }], this.buildPeekableDetail('object_name'),\n    // disable tags due to frequent inaccuracies\n    // ['tags', art => {\n    //   if(!art.tags) return []\n\n    //   var linkedTags = art.tags.trim().split(' ')\n    //   .map(tag => <Link to=\"searchResults\" params={{terms: `tags:${tag}`}} key={tag}>{tag.replace(/-/g, ' ')}</Link>)\n\n    //   return [\n    //     <p>{linkedTags.map((tag, index) => {\n    //       return <span key={index}>{tag}{(index == linkedTags.length-1 || ', ')}</span>\n    //     })}</p>\n    // ]\n    // }],\n    ['catalogue_raisonne', function (art) {\n      if (!art.catalogue_raissonne) return [];\n      return [React.createElement(\n        'div',\n        null,\n        art.catalogue_raissonne\n      )];\n    }], ['wikipedia', function (art) {\n      return ['Cite this information', React.createElement(\n        'div',\n        null,\n        React.createElement(\n          ClickToSelect,\n          null,\n          React.createElement(\n            'code',\n            { name: 'Mia' },\n            '{{cite web |title=',\n            art.title,\n            ' |url=https://collections.artsmia.org/art/',\n            art.id,\n            ' |author=',\n            art.artist,\n            ' |year=',\n            art.dated,\n            ' |accessdate=',\n            new Date().toUTCString().split(' ').slice(1, 4).join(' '),\n            ' |publisher=Minneapolis Institute of Art}}'\n          )\n        )\n      )];\n    }], ['exhibition_history', function (art) {\n      if (!art.exhibition_history) return [];\n      return [React.createElement(\n        Markdown,\n        null,\n        art.exhibition_history\n      )];\n    }], ['see_also', function (art, raw) {\n      var also = raw.see_also && raw.see_also.filter(function (id) {\n        return id !== \"\" && id !== raw.id;\n      });\n      return also && also.length > 0 ? [also.length + ' other artwork' + (also.length > 1 ? 's' : ''), React.createElement(Peek, { facet: 'see_also', q: raw.id })] : [];\n    }], ['portfolio', function (art, raw) {\n      if (!raw.portfolio || raw.portfolio == 'From ') return [];\n      var portfolioName = raw.portfolio.replace('From From', 'From'); // some have double 'from'\n\n      return [portfolioName, React.createElement(Peek, { facet: 'portfolio', q: portfolioName })];\n    }], ['curator_approved', function (art) {\n      var currentUrl = window.location && window.location.href.split('/').slice(0, 5).join('/');\n      var dataSender = feedbackSender(undefined, undefined, 'Collections data feedback', currentUrl);\n      var imageSender = feedbackSender('collectionsdata+images@artsmia.org', 'Let us know', 'Collections image feedback', currentUrl);\n\n      var dataMessage = art.curator_approved ? 'This record is from historic documentation and may not have been reviewed by a curator, so may be inaccurate or incomplete. Our records are frequently revised and enhanced. If you notice a mistake or have additional information about this object, please email ' + dataSender + '.' : 'This record has been reviewed by our curatorial staff but may be incomplete. These records are frequently revised and enhanced. If you notice a mistake or have additional information about this object, please email ' + dataSender + '.';\n\n      var imageMessage = 'Does something look wrong with this image? ' + imageSender;\n\n      return [React.createElement(\n        Markdown,\n        null,\n        dataMessage + '\\n\\n' + imageMessage\n      )];\n    }]];\n  },\n\n  getInitialState: function getInitialState() {\n    var dimensions = this.dimensions();\n    var firstDimensionName = dimensions && dimensions[0] && dimensions[0][1];\n    var expandDetails = this.details().reduce(function (reduced, _ref4) {\n      var _ref42 = _slicedToArray(_ref4, 1);\n\n      var field = _ref42[0];\n\n      reduced[field] = false;\n      return reduced;\n    }, {});\n    expandDetails['dimension'] = !!firstDimensionName;\n\n    return {\n      expandDetailsMatrix: expandDetails,\n      dimensionGraphicName: firstDimensionName\n    };\n  },\n\n  render: function render() {\n    var _this2 = this;\n\n    var _props3 = this.props;\n    var art = _props3.art;\n    var highlights = _props3.highlights;\n\n    var skip = this.props.skipFields ? this.props.skipFields.split(' ') : [];\n    var details = this.details().filter(function (_ref5) {\n      var _ref52 = _slicedToArray(_ref5, 1);\n\n      var field = _ref52[0];\n      return skip.indexOf(field) < 0;\n    }).map(function (field) {\n      return _this2.build.apply(_this2, _toConsumableArray(field));\n    }).filter(function (detail) {\n      return !!detail;\n    });\n\n    return React.createElement(\n      'dl',\n      { className: 'artwork-detail' },\n      details\n    );\n  },\n\n  dimensions: function dimensions() {\n    var dimension = this.props.art.dimension;\n\n    if (!dimension) return [];\n    // var dimension = this.props.highlights ? this.props.highlights.dimension : this.props.art\n    return dimension.split(\"\\r\\n\").filter(function (string) {\n      return string.match(/[x\\|×].*cm/);\n    }).map(function (string) {\n      var aspect = string.match(/cm\\)\\s\\(*([^\\(]+)\\)$/);\n\n      return [string, aspect ? aspect[1].replace(/[^a-zA-z]+/g, '-').replace(/^-|-$/, '') : 'dimensions'];\n    });\n  },\n\n  toggleDimensionGraphic: function toggleDimensionGraphic(aspect) {\n    this.setState({ dimensionGraphicName: aspect });\n  },\n\n  dimensionSvgLoaded: function dimensionSvgLoaded() {\n    if (this.state.heightAdjusted) return;\n    this.setState({ heightAdjusted: true });\n    var domNode = React.findDOMNode(this);\n    this.context.onHeightChange && this.context.onHeightChange(domNode.parentElement.parentElement.parentElement.parentElement.clientHeight);\n  }\n});\nArtworkDetails.contextTypes = {\n  onHeightChange: React.PropTypes.func\n};\n\nmodule.exports = ArtworkDetails;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYXJ0d29yay1kZXRhaWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBOztlQUNmLE9BQU8sQ0FBQyxjQUFjLENBQUM7O0lBQS9CLElBQUksWUFBSixJQUFJOztBQUNULElBQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTtBQUN0QyxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtBQUNyQyxJQUFJLEVBQUUsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7QUFDOUIsSUFBSSxhQUFhLEdBQUcsT0FBTyxDQUFDLHVCQUF1QixDQUFDLENBQUE7O0FBRXBELElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTtBQUNwQyxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUE7QUFDNUIsSUFBSSxZQUFZLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLFlBQVksQ0FBQTtBQUN0RCxJQUFJLGtCQUFrQixHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFBO0FBQ3JELElBQUksY0FBYyxHQUFHLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFBOztBQUVuRCxJQUFJLGNBQWMsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDckMsT0FBSyxFQUFBLGVBQUMsS0FBSyxFQUFFLEVBQUUsRUFBRTtpQkFDUyxJQUFJLENBQUMsS0FBSztRQUE3QixHQUFHLFVBQUgsR0FBRztRQUFFLFVBQVUsVUFBVixVQUFVOztBQUNwQixRQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsd0JBQXdCLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEVBQUUsT0FBTTs7QUFFcEUsUUFBSSxjQUFjLEdBQUcsVUFBVSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFBO0FBQzlELFFBQUksZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUE7O2VBQ2hCLEVBQUUsR0FBRyxFQUFFLENBQUMsZ0JBQWdCLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQzs7OztRQUFuRixPQUFPO1FBQUUsWUFBWTs7QUFDMUIsUUFBRyxDQUFDLE9BQU8sSUFBSSxPQUFPLElBQUksRUFBRSxFQUFFLE9BQU07QUFDcEMsUUFBSSxTQUFTLEdBQUcsWUFBWSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsbUJBQW1CLENBQUMsS0FBSyxDQUFDLENBQUE7QUFDckUsUUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFDLFlBQVksRUFBRSxFQUFDLFVBQVUsRUFBRSxZQUFZLEVBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQTs7QUFFakUsV0FBTzs7UUFBSyxTQUFTLEVBQUUsT0FBTyxBQUFDLEVBQUMsR0FBRyxFQUFFLEtBQUssQUFBQztNQUN6Qzs7VUFBSyxPQUFPLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxBQUFDO1FBQy9DOztZQUFJLFNBQVMsRUFBQyxjQUFjO1VBQUUsY0FBYztTQUFNO1FBQ2xEOztZQUFJLFNBQVMsRUFBQyxnQkFBZ0I7VUFBRSxPQUFPO1NBQU07T0FDekM7TUFDTCxTQUFTLElBQUk7O1VBQUssU0FBUyxFQUFDLGNBQWM7UUFBRSxZQUFZO09BQU87S0FDNUQsQ0FBQTtHQUNQOztBQUVELGFBQVcsRUFBQSxxQkFBQyxLQUFLLEVBQUU7UUFDWixtQkFBbUIsR0FBSSxJQUFJLENBQUMsS0FBSyxDQUFqQyxtQkFBbUI7O0FBQ3hCLHVCQUFtQixDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsbUJBQW1CLENBQUMsS0FBSyxDQUFDLENBQUE7QUFDeEQsUUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFDLG1CQUFtQixFQUFuQixtQkFBbUIsRUFBQyxDQUFDLENBQUE7R0FDckM7Ozs7QUFJRCxrQkFBZ0IsRUFBQSw0QkFBRztrQkFDTyxJQUFJLENBQUMsS0FBSztRQUE3QixHQUFHLFdBQUgsR0FBRztRQUFFLFVBQVUsV0FBVixVQUFVOztBQUVwQixXQUFPLENBQUMsVUFBVSxHQUFHLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxjQUFLLEdBQUcsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxVQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUs7QUFDakcsVUFBSSxLQUFLLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUNqRCxVQUFHLE9BQU8sS0FBSyxJQUFJLFFBQVEsRUFBRSxLQUFLLEdBQUc7QUFBQyxnQkFBUTs7UUFBRSxLQUFLO09BQVksQ0FBQTtBQUNqRSxZQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFBO0FBQ25CLGFBQU8sTUFBTSxDQUFBO0tBQ2QsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFBO0dBQ1I7O0FBRUQscUJBQW1CLEVBQUEsNkJBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUU7UUFDbEMsR0FBRyxHQUFJLElBQUksQ0FBQyxLQUFLLENBQWpCLEdBQUc7O0FBQ1IsUUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUE7O0FBRXhDLFdBQU8sQ0FDTCxLQUFLLEVBQ0wsVUFBQSxHQUFHO2FBQUksQ0FDTCxLQUFLLElBQUksVUFBVSxDQUFDLEtBQUssQ0FBQyxFQUMxQjs7O1FBQ0csS0FBSztRQUNOLG9CQUFDLElBQUksSUFBQyxLQUFLLEVBQUUsS0FBSyxBQUFDLEVBQUMsQ0FBQyxFQUFFLEtBQUssSUFBSSxHQUFHLENBQUMsS0FBSyxDQUFDLEFBQUMsR0FBRztPQUMxQyxDQUNQO0tBQUEsQ0FDRixDQUFBO0dBQ0Y7O0FBRUQsU0FBTyxFQUFBLG1CQUFHOzs7UUFDSCxHQUFHLEdBQUksSUFBSSxDQUFDLEtBQUssQ0FBakIsR0FBRzs7QUFDUixXQUFPLENBQ0wsQ0FBQyxlQUFlLEVBQUUsVUFBQyxHQUFHLEVBQUUsR0FBRzthQUFLLENBQzlCLEdBQUcsQ0FBQyxhQUFhLFNBQU8sR0FBRyxDQUFDLGlCQUFpQixBQUFFLEVBQUU7OztRQUM5QyxHQUFHLENBQUMsbUJBQW1CLElBQUk7OztVQUFJLEdBQUcsQ0FBQyxtQkFBbUI7U0FBSztRQUM1RDtBQUFDLGNBQUk7WUFBQyxFQUFFLEVBQUMsb0JBQW9COztTQUFtRDtPQUM1RSxDQUNQO0tBQUEsQ0FBQyxFQUNGLENBQUMsT0FBTyxDQUFDLEVBQ1QsSUFBSSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxFQUNqQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFDakcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLGFBQWEsQ0FBQyxFQUN2QyxDQUFDLGFBQWEsRUFBRSxVQUFDLEdBQUc7YUFBSyxDQUFDLEdBQUcsQ0FBQyxTQUFTLElBQUksR0FBRyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsSUFBSSxNQUFNLENBQUMsR0FBRyxDQUFDLFdBQVcsR0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztLQUFBLENBQUMsRUFDM0csQ0FBQyxNQUFNLEVBQUUsVUFBQyxDQUFDLEVBQUUsR0FBRyxFQUFLO0FBQ25CLFVBQUksbUJBQW1CLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUE7QUFDdkQsYUFBTyxDQUFDLG1CQUFtQixHQUFHLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQTtLQUNqRSxDQUFDLEVBQ0YsQ0FBQyxTQUFTLEVBQUUsVUFBQyxHQUFHLEVBQUUsR0FBRzthQUFLLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxvQkFBQyxJQUFJLElBQUMsS0FBSyxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLElBQUksQUFBQyxHQUFHLENBQUM7S0FBQSxDQUFDLEVBQ3pFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxZQUFZLENBQUMsRUFDdEMsQ0FBQyxXQUFXLEVBQUUsVUFBQyxHQUFHLEVBQUUsTUFBTSxFQUFLO0FBQzdCLFVBQUksa0JBQWtCLEdBQUcsR0FBRyxDQUFDLFNBQVMsSUFBSSxNQUFLLFVBQVUsRUFBRSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUE7O0FBRXRFLGFBQU8sQ0FDTCxHQUFHLENBQUMsU0FBUyxJQUFJOzs7UUFBTSxrQkFBa0IsR0FBRyxNQUFLLFVBQVUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxVQUFDLEtBQVcsRUFBSztzQ0FBaEIsS0FBVzs7Y0FBVixDQUFDO2NBQUUsTUFBTTs7QUFDM0UsaUJBQU87O2NBQU0sS0FBSyxFQUFFLEVBQUMsT0FBTyxFQUFFLE9BQU8sRUFBQyxBQUFDLEVBQUMsWUFBWSxFQUFFLE1BQUssc0JBQXNCLENBQUMsSUFBSSxRQUFPLE1BQU0sQ0FBQyxBQUFDLEVBQUMsR0FBRyxFQUFFLE1BQU0sQUFBQztZQUFFLENBQUM7V0FBUSxDQUFBO1NBQzlILENBQUMsR0FBRyxHQUFHLENBQUMsU0FBUztPQUFPLEVBQ3pCLGtCQUFrQixJQUFJOzs7UUFDbkIsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksb0JBQUMsSUFBSTtBQUNwQyxhQUFHLEVBQUUsWUFBWSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsTUFBSyxLQUFLLENBQUMsb0JBQW9CLENBQUMsQUFBQztBQUMzRCxhQUFHLEVBQUUsTUFBSyxLQUFLLENBQUMsb0JBQW9CLEFBQUM7QUFDckMsZ0JBQU0sRUFBRSxNQUFLLGtCQUFrQixBQUFDO1VBQ2hDO09BQ0UsQ0FDUCxDQUFBO0tBQ0YsQ0FBQyxFQUNGLENBQUMsUUFBUSxFQUFFLFVBQUMsR0FBRyxFQUFFLEdBQUc7YUFBSyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsb0JBQUMsSUFBSSxJQUFDLEtBQUssRUFBQyxZQUFZLEVBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxVQUFVLEFBQUMsR0FBRyxDQUFDO0tBQUEsQ0FBQyxFQUMxRixDQUFDLGtCQUFrQixDQUFDLEVBQ3BCLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsRUFDbEMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFNBQVMsQ0FBQyxFQUNuQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsU0FBUyxDQUFDLEVBQ25DLENBQUMsU0FBUyxFQUFFLFVBQUMsR0FBRyxFQUFFLEdBQUc7YUFBSyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsb0JBQUMsSUFBSSxJQUFDLEtBQUssRUFBQyxPQUFPLEVBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxLQUFLLEFBQUMsR0FBRyxDQUFDO0tBQUEsQ0FBQyxFQUM1RSxDQUFDLFlBQVksQ0FBQyxFQUNkLENBQUMsUUFBUSxFQUFFLFVBQUMsR0FBRyxFQUFFLEdBQUcsRUFBSztBQUN2QixhQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsZUFBZSxJQUFJLEdBQUcsQ0FBQyxNQUFNLENBQUEsSUFBSzs7O1FBQzVDLEdBQUcsQ0FBQyxlQUFlLElBQUksa0JBQWtCLENBQUMsR0FBRyxDQUFDLGVBQWUsQ0FBQztRQUM5RCxHQUFHLENBQUMsZUFBZSxJQUFJLEdBQUcsQ0FBQyxNQUFNLElBQUksK0JBQUs7UUFDMUMsR0FBRyxDQUFDLE1BQU0sSUFBSTs7O1VBQU8sR0FBRyxDQUFDLE1BQU07U0FBUTtPQUNwQyxFQUNOOzs7UUFDRTs7O1VBQUksa0JBQWtCLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQztTQUFLO1FBQ3ZDLG9CQUFDLElBQUksSUFBQyxLQUFLLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsTUFBTSxBQUFDLEdBQUc7UUFDdEM7OztVQUFHOztjQUFHLElBQUksRUFBQywyRUFBMkU7O1dBQW9DO1NBQUk7T0FDMUgsQ0FDTCxDQUFBO0tBQ0YsQ0FBQzs7Ozs7Ozs7QUFRRixLQUFDLGdCQUFnQixFQUFFLFVBQUMsR0FBRyxFQUFFLEdBQUcsRUFBSztBQUMvQixVQUFHLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBRSxPQUFPLEVBQUUsQ0FBQTs7QUFFakMsVUFBSSxtQkFBbUIsR0FBRyxHQUFHLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FDdEQsR0FBRyxDQUFDLFVBQUMsY0FBYyxFQUFFLEtBQUs7ZUFBSyxvQkFBQyxJQUFJLElBQUMsS0FBSyxFQUFDLGdCQUFnQixFQUFDLENBQUMsRUFBRSxjQUFjLEFBQUMsRUFBQyxHQUFHLEVBQUUsS0FBSyxBQUFDLEdBQUc7T0FBQSxDQUFDLENBQUE7O0FBRS9GLGFBQU8sQ0FDTDs7O1FBQUksR0FBRyxDQUFDLGNBQWM7T0FBSyxFQUMzQjs7O1FBQU0sbUJBQW1CO09BQU8sQ0FDakMsQ0FBQTtLQUNGLENBQUMsRUFDRixJQUFJLENBQUMsbUJBQW1CLENBQUMsYUFBYSxDQUFDOzs7Ozs7Ozs7Ozs7OztBQWN2QyxLQUFDLG9CQUFvQixFQUFFLFVBQUMsR0FBRyxFQUFLO0FBQzlCLFVBQUcsQ0FBQyxHQUFHLENBQUMsbUJBQW1CLEVBQUUsT0FBTyxFQUFFLENBQUE7QUFDdEMsYUFBTyxDQUFFOzs7UUFBTSxHQUFHLENBQUMsbUJBQW1CO09BQU8sQ0FBQyxDQUFBO0tBQy9DLENBQUMsRUFDRixDQUFDLFdBQVcsRUFBRSxVQUFDLEdBQUcsRUFBSztBQUNyQixhQUFPLENBQUMsdUJBQXVCLEVBQUU7OztRQUMvQjtBQUFDLHVCQUFhOztVQUNaOztjQUFNLElBQUksRUFBQyxLQUFLOztZQUE4QixHQUFHLENBQUMsS0FBSzs7WUFBNEMsR0FBRyxDQUFDLEVBQUU7O1lBQVcsR0FBRyxDQUFDLE1BQU07O1lBQVMsR0FBRyxDQUFDLEtBQUs7O1lBQWUsQUFBQyxJQUFJLElBQUksRUFBQSxDQUFFLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7O1dBQTREO1NBQ3RRO09BQ1osQ0FBQyxDQUFBO0tBQ1IsQ0FBQyxFQUNGLENBQUMsb0JBQW9CLEVBQUUsVUFBQyxHQUFHLEVBQUs7QUFDOUIsVUFBRyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRSxPQUFPLEVBQUUsQ0FBQTtBQUNyQyxhQUFPLENBQUM7QUFBQyxnQkFBUTs7UUFBRSxHQUFHLENBQUMsa0JBQWtCO09BQVksQ0FBQyxDQUFBO0tBQ3ZELENBQUMsRUFDRixDQUFDLFVBQVUsRUFBRSxVQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUs7QUFDekIsVUFBSSxJQUFJLEdBQUcsR0FBRyxDQUFDLFFBQVEsSUFBSSxHQUFHLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxVQUFBLEVBQUU7ZUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSyxHQUFHLENBQUMsRUFBRTtPQUFBLENBQUMsQ0FBQTtBQUNoRixhQUFPLElBQUksSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsR0FDNUIsQ0FBSSxJQUFJLENBQUMsTUFBTSx1QkFBaUIsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQSxFQUFJLG9CQUFDLElBQUksSUFBQyxLQUFLLEVBQUMsVUFBVSxFQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxBQUFDLEdBQUcsQ0FBQyxHQUNuRyxFQUFFLENBQUE7S0FDTCxDQUFDLEVBQ0YsQ0FBQyxXQUFXLEVBQUUsVUFBQyxHQUFHLEVBQUUsR0FBRyxFQUFLO0FBQzFCLFVBQUcsQ0FBQyxHQUFHLENBQUMsU0FBUyxJQUFJLEdBQUcsQ0FBQyxTQUFTLElBQUksT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFBO0FBQ3hELFVBQUksYUFBYSxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQ2hDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsTUFBTSxDQUFDLENBQUE7O0FBRTdCLGFBQU8sQ0FBQyxhQUFhLEVBQUUsb0JBQUMsSUFBSSxJQUFDLEtBQUssRUFBQyxXQUFXLEVBQUMsQ0FBQyxFQUFFLGFBQWEsQUFBQyxHQUFHLENBQUMsQ0FBQTtLQUNyRSxDQUFDLEVBQ0YsQ0FBQyxrQkFBa0IsRUFBRSxVQUFBLEdBQUcsRUFBSTtBQUMxQixVQUFJLFVBQVUsR0FBRyxNQUFNLENBQUMsUUFBUSxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQTtBQUN6RixVQUFJLFVBQVUsR0FBRyxjQUFjLENBQUMsU0FBUyxFQUFFLFNBQVMsRUFBRSwyQkFBMkIsRUFBRSxVQUFVLENBQUMsQ0FBQTtBQUM5RixVQUFJLFdBQVcsR0FBRyxjQUFjLENBQUMsb0NBQW9DLEVBQUUsYUFBYSxFQUFFLDRCQUE0QixFQUFFLFVBQVUsQ0FBQyxDQUFBOztBQUUvSCxVQUFJLFdBQVcsR0FBRyxHQUFHLENBQUMsZ0JBQWdCLDRRQUNtTyxVQUFVLHFPQUN2RCxVQUFVLE1BQUcsQ0FBQTs7QUFFek8sVUFBSSxZQUFZLG1EQUFpRCxXQUFXLEFBQUUsQ0FBQTs7QUFFOUUsYUFBTyxDQUFDO0FBQUMsZ0JBQVE7O1FBQ2QsV0FBVyxHQUFHLE1BQU0sR0FBRyxZQUFZO09BQzNCLENBQUMsQ0FBQTtLQUNiLENBQUMsQ0FDSCxDQUFBO0dBQ0Y7O0FBRUQsaUJBQWUsRUFBQSwyQkFBRztBQUNoQixRQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUE7QUFDbEMsUUFBSSxrQkFBa0IsR0FBRyxVQUFVLElBQUksVUFBVSxDQUFDLENBQUMsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUN4RSxRQUFJLGFBQWEsR0FBRyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsTUFBTSxDQUFDLFVBQUMsT0FBTyxFQUFFLEtBQU8sRUFBSztrQ0FBWixLQUFPOztVQUFOLEtBQUs7O0FBQ3hELGFBQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUE7QUFDdEIsYUFBTyxPQUFPLENBQUE7S0FDZixFQUFFLEVBQUUsQ0FBQyxDQUFBO0FBQ04saUJBQWEsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsa0JBQWtCLENBQUE7O0FBRWpELFdBQU87QUFDTCx5QkFBbUIsRUFBRSxhQUFhO0FBQ2xDLDBCQUFvQixFQUFFLGtCQUFrQjtLQUN6QyxDQUFBO0dBQ0Y7O0FBRUQsUUFBTSxFQUFBLGtCQUFHOzs7a0JBQ2lCLElBQUksQ0FBQyxLQUFLO1FBQTdCLEdBQUcsV0FBSCxHQUFHO1FBQUUsVUFBVSxXQUFWLFVBQVU7O0FBQ3BCLFFBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUE7QUFDeEUsUUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUMzQixNQUFNLENBQUMsVUFBQyxLQUFPO2tDQUFQLEtBQU87O1VBQU4sS0FBSzthQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQztLQUFBLENBQUMsQ0FDNUMsR0FBRyxDQUFDLFVBQUEsS0FBSzthQUFJLE9BQUssS0FBSyxNQUFBLDRCQUFJLEtBQUssRUFBQztLQUFBLENBQUMsQ0FDbEMsTUFBTSxDQUFDLFVBQUEsTUFBTTthQUFJLENBQUMsQ0FBQyxNQUFNO0tBQUEsQ0FBQyxDQUFBOztBQUUzQixXQUFPOztRQUFJLFNBQVMsRUFBQyxnQkFBZ0I7TUFDbEMsT0FBTztLQUNMLENBQUE7R0FDTjs7QUFFRCxZQUFVLEVBQUEsc0JBQUc7UUFDTixTQUFTLEdBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQTNCLFNBQVM7O0FBQ2QsUUFBRyxDQUFDLFNBQVMsRUFBRSxPQUFPLEVBQUUsQ0FBQTs7QUFFeEIsV0FBTyxTQUFTLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUM3QixNQUFNLENBQUMsVUFBQSxNQUFNO2FBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUM7S0FBQSxDQUFDLENBQzVDLEdBQUcsQ0FBQyxVQUFBLE1BQU0sRUFBSTtBQUNiLFVBQUksTUFBTSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsc0JBQXNCLENBQUMsQ0FBQTs7QUFFakQsYUFBTyxDQUFDLE1BQU0sRUFBRSxNQUFNLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxhQUFhLEVBQUUsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsR0FBRyxZQUFZLENBQUMsQ0FBQTtLQUNwRyxDQUFDLENBQUE7R0FDSDs7QUFFRCx3QkFBc0IsRUFBQSxnQ0FBQyxNQUFNLEVBQUU7QUFDN0IsUUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFDLG9CQUFvQixFQUFFLE1BQU0sRUFBQyxDQUFDLENBQUE7R0FDOUM7O0FBRUQsb0JBQWtCLEVBQUEsOEJBQUc7QUFDbkIsUUFBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBRSxPQUFNO0FBQ3BDLFFBQUksQ0FBQyxRQUFRLENBQUMsRUFBQyxjQUFjLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQTtBQUNyQyxRQUFJLE9BQU8sR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFBO0FBQ3JDLFFBQUksQ0FBQyxPQUFPLENBQUMsY0FBYyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsYUFBYSxDQUFDLGFBQWEsQ0FBQyxhQUFhLENBQUMsWUFBWSxDQUFDLENBQUE7R0FDekk7Q0FDRixDQUFDLENBQUE7QUFDRixjQUFjLENBQUMsWUFBWSxHQUFHO0FBQzVCLGdCQUFjLEVBQUUsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJO0NBQ3JDLENBQUE7O0FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRyxjQUFjLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9hcnR3b3JrLWRldGFpbHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIge0xpbmt9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciBjYXBpdGFsaXplID0gcmVxdWlyZSgnY2FwaXRhbGl6ZScpXG52YXIgSXN2ZyA9IHJlcXVpcmUoJ3JlYWN0LWlubGluZXN2ZycpXG52YXIgY3ggPSByZXF1aXJlKCdjbGFzc25hbWVzJylcbnZhciBDbGlja1RvU2VsZWN0ID0gcmVxdWlyZSgncmVhY3QtY2xpY2stdG8tc2VsZWN0JylcblxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi9tYXJrZG93bicpXG52YXIgUGVlayA9IHJlcXVpcmUoJy4vcGVlaycpXG52YXIgZGltZW5zaW9uU3ZnID0gcmVxdWlyZSgnLi9lbmRwb2ludHMnKS5kaW1lbnNpb25TdmdcbnZhciByaWdodHNEZXNjcmlwdGlvbnMgPSByZXF1aXJlKCcuL3JpZ2h0cy10eXBlcy5qcycpXG52YXIgZmVlZGJhY2tTZW5kZXIgPSByZXF1aXJlKCcuL2VtYWlsLWRhdGEtc2VuZGVyJylcblxudmFyIEFydHdvcmtEZXRhaWxzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBidWlsZChmaWVsZCwgZm4pIHtcbiAgICB2YXIge2FydCwgaGlnaGxpZ2h0c30gPSB0aGlzLnByb3BzXG4gICAgaWYodGhpcy5wcm9wcy5vbmx5U2hvd0hpZ2hsaWdodERldGFpbHMgJiYgIWhpZ2hsaWdodHNbZmllbGRdKSByZXR1cm5cblxuICAgIHZhciBodW1hbkZpZWxkTmFtZSA9IGNhcGl0YWxpemUud29yZHMoZmllbGQpLnJlcGxhY2UoJ18nLCAnICcpXG4gICAgdmFyIGFydEFuZEhpZ2hsaWdodHMgPSB0aGlzLmFydEFuZEhpZ2hsaWdodHMoKVxuICAgIHZhciBbY29udGVudCwgZXh0cmFDb250ZW50XSA9IGZuID8gZm4oYXJ0QW5kSGlnaGxpZ2h0cywgYXJ0KSA6IFthcnRBbmRIaWdobGlnaHRzW2ZpZWxkXV1cbiAgICBpZighY29udGVudCB8fCBjb250ZW50ID09ICcnKSByZXR1cm5cbiAgICB2YXIgc2hvd0V4dHJhID0gZXh0cmFDb250ZW50ICYmIHRoaXMuc3RhdGUuZXhwYW5kRGV0YWlsc01hdHJpeFtmaWVsZF1cbiAgICB2YXIgY2xhc3NlcyA9IGN4KFwiZGV0YWlsLXJvd1wiLCB7ZXhwYW5kYWJsZTogZXh0cmFDb250ZW50fSwgZmllbGQpXG5cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e2NsYXNzZXN9IGtleT17ZmllbGR9PlxuICAgICAgPGRpdiBvbkNsaWNrPXt0aGlzLnRvZ2dsZUV4dHJhLmJpbmQodGhpcywgZmllbGQpfT5cbiAgICAgICAgPGR0IGNsYXNzTmFtZT1cImRldGFpbC10aXRsZVwiPntodW1hbkZpZWxkTmFtZX08L2R0PlxuICAgICAgICA8ZGQgY2xhc3NOYW1lPSdkZXRhaWwtY29udGVudCc+e2NvbnRlbnR9PC9kZD5cbiAgICAgIDwvZGl2PlxuICAgICAge3Nob3dFeHRyYSAmJiA8ZGl2IGNsYXNzTmFtZT1cImRldGFpbC1leHRyYVwiPntleHRyYUNvbnRlbnR9PC9kaXY+fVxuICAgIDwvZGl2PlxuICB9LFxuXG4gIHRvZ2dsZUV4dHJhKGZpZWxkKSB7XG4gICAgdmFyIHtleHBhbmREZXRhaWxzTWF0cml4fSA9IHRoaXMuc3RhdGVcbiAgICBleHBhbmREZXRhaWxzTWF0cml4W2ZpZWxkXSA9ICFleHBhbmREZXRhaWxzTWF0cml4W2ZpZWxkXVxuICAgIHRoaXMuc2V0U3RhdGUoe2V4cGFuZERldGFpbHNNYXRyaXh9KVxuICB9LFxuXG4gIC8vIG1lcmdlIGBhcnRgIHdpdGggYGhpZ2hsaWdodHNgLCByZXBsYWNpbmcgdGhlIHVuLWhpZ2hsaWdodGVkIHZhbHVlcyB3aXRoXG4gIC8vIHRoZWlyICdoaWdobGl0JyBlcXVpdmFsZW50XG4gIGFydEFuZEhpZ2hsaWdodHMoKSB7XG4gICAgdmFyIHthcnQsIGhpZ2hsaWdodHN9ID0gdGhpcy5wcm9wc1xuXG4gICAgcmV0dXJuICFoaWdobGlnaHRzID8gYXJ0IDogT2JqZWN0LmFzc2lnbih7Li4uYXJ0fSwgT2JqZWN0LmtleXMoaGlnaGxpZ2h0cykucmVkdWNlKChvYmplY3QsIGtleSkgPT4ge1xuICAgICAgdmFyIHZhbHVlID0gaGlnaGxpZ2h0c1trZXldICYmIGhpZ2hsaWdodHNba2V5XVswXVxuICAgICAgaWYodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB2YWx1ZSA9IDxNYXJrZG93bj57dmFsdWV9PC9NYXJrZG93bj5cbiAgICAgIG9iamVjdFtrZXldID0gdmFsdWVcbiAgICAgIHJldHVybiBvYmplY3RcbiAgICB9LCB7fSkpXG4gIH0sXG5cbiAgYnVpbGRQZWVrYWJsZURldGFpbChmaWVsZCwgZXh0cmEsIHZhbHVlKSB7XG4gICAgdmFyIHthcnR9ID0gdGhpcy5wcm9wc1xuICAgIHZhciBoaWdobGlnaHRzID0gdGhpcy5hcnRBbmRIaWdobGlnaHRzKClcblxuICAgIHJldHVybiBbXG4gICAgICBmaWVsZCxcbiAgICAgIGFydCA9PiBbXG4gICAgICAgIHZhbHVlIHx8IGhpZ2hsaWdodHNbZmllbGRdLFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIHtleHRyYX1cbiAgICAgICAgICA8UGVlayBmYWNldD17ZmllbGR9IHE9e3ZhbHVlIHx8IGFydFtmaWVsZF19IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgXVxuICAgIF1cbiAgfSxcblxuICBkZXRhaWxzKCkge1xuICAgIHZhciB7YXJ0fSA9IHRoaXMucHJvcHNcbiAgICByZXR1cm4gW1xuICAgICAgWydkZWFjY2Vzc2lvbmVkJywgKGFydCwgcmF3KSA9PiBbXG4gICAgICAgIHJhdy5kZWFjY2Vzc2lvbmVkICYmIGAke2FydC5kZWFjY2Vzc2lvbmVkRGF0ZX1gLCA8ZGl2PlxuICAgICAgICAgIHtyYXcuZGVhY2Nlc3Npb25lZFJlYXNvbiAmJiA8cD57cmF3LmRlYWNjZXNzaW9uZWRSZWFzb259PC9wPn1cbiAgICAgICAgICA8TGluayB0bz1cIi9pbmZvL2RlYWNjZXNzaW9uc1wiPkFydHdvcmtzIGFyZSBkZWFjY2Vzc2lvbmVkIGZvciBtYW55IHJlYXNvbnM8L0xpbms+XG4gICAgICAgIDwvZGl2PlxuICAgICAgXV0sXG4gICAgICBbJ3RpdGxlJ10sXG4gICAgICB0aGlzLmJ1aWxkUGVla2FibGVEZXRhaWwoJ2RhdGVkJyksXG4gICAgICB0aGlzLmJ1aWxkUGVla2FibGVEZXRhaWwoJ2FydGlzdCcsIHRoaXMucHJvcHMuYXJ0LmxpZmVfZGF0ZSwgYXJ0LmFydGlzdC5yZXBsYWNlKC9eKFteO10rKTovLCAnJykpLFxuICAgICAgdGhpcy5idWlsZFBlZWthYmxlRGV0YWlsKCduYXRpb25hbGl0eScpLFxuICAgICAgWydhcnRpc3RfbGlmZScsIChhcnQpID0+IFthcnQubGlmZV9kYXRlICYmIGFydC5saWZlX2RhdGUucmVwbGFjZShuZXcgUmVnRXhwKGFydC5uYXRpb25hbGl0eStcIigsICk/XCIpLCAnJyldXSxcbiAgICAgIFsncm9sZScsIChfLCByYXcpID0+IHtcbiAgICAgICAgdmFyIHJvbGVGcm9tQXJ0aXN0RmllbGQgPSByYXcuYXJ0aXN0Lm1hdGNoKC9eKFteO10rKTovKVxuICAgICAgICByZXR1cm4gW3JvbGVGcm9tQXJ0aXN0RmllbGQgPyByb2xlRnJvbUFydGlzdEZpZWxkWzFdIDogcmF3LnJvbGVdXG4gICAgICB9XSxcbiAgICAgIFsnZ2FsbGVyeScsIChhcnQsIHJhdykgPT4gW2FydC5yb29tLCA8UGVlayBmYWNldD1cInJvb21cIiBxPXtyYXcucm9vbX0gLz5dXSxcbiAgICAgIHRoaXMuYnVpbGRQZWVrYWJsZURldGFpbCgnZGVwYXJ0bWVudCcpLFxuICAgICAgWydkaW1lbnNpb24nLCAoYXJ0LCByYXdBcnQpID0+IHtcbiAgICAgICAgdmFyIHNob3dGYW5jeURpbWVuc2lvbiA9IGFydC5kaW1lbnNpb24gJiYgdGhpcy5kaW1lbnNpb25zKCkubGVuZ3RoID4gMFxuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgYXJ0LmRpbWVuc2lvbiAmJiA8ZGl2PntzaG93RmFuY3lEaW1lbnNpb24gPyB0aGlzLmRpbWVuc2lvbnMoKS5tYXAoKFtkLCBhc3BlY3RdKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gPHNwYW4gc3R5bGU9e3tkaXNwbGF5OiAnYmxvY2snfX0gb25Nb3VzZUVudGVyPXt0aGlzLnRvZ2dsZURpbWVuc2lvbkdyYXBoaWMuYmluZCh0aGlzLCBhc3BlY3QpfSBrZXk9e2FzcGVjdH0+e2R9PC9zcGFuPlxuICAgICAgICAgIH0pIDogYXJ0LmRpbWVuc2lvbn08L2Rpdj4sXG4gICAgICAgICAgc2hvd0ZhbmN5RGltZW5zaW9uICYmIDxkaXY+XG4gICAgICAgICAgICB7cmF3QXJ0LmRpbWVuc2lvbi5tYXRjaCgvY20vKSAmJiA8SXN2Z1xuICAgICAgICAgICAgICBzcmM9e2RpbWVuc2lvblN2ZyhhcnQuaWQsIHRoaXMuc3RhdGUuZGltZW5zaW9uR3JhcGhpY05hbWUpfVxuICAgICAgICAgICAgICBrZXk9e3RoaXMuc3RhdGUuZGltZW5zaW9uR3JhcGhpY05hbWV9XG4gICAgICAgICAgICAgIG9uTG9hZD17dGhpcy5kaW1lbnNpb25TdmdMb2FkZWR9XG4gICAgICAgICAgICAvPn1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgXVxuICAgICAgfV0sXG4gICAgICBbJ2NyZWRpdCcsIChhcnQsIHJhdykgPT4gW2FydC5jcmVkaXRsaW5lLCA8UGVlayBmYWNldD1cImNyZWRpdGxpbmVcIiBxPXtyYXcuY3JlZGl0bGluZX0gLz5dXSxcbiAgICAgIFsnYWNjZXNzaW9uX251bWJlciddLFxuICAgICAgdGhpcy5idWlsZFBlZWthYmxlRGV0YWlsKCdtZWRpdW0nKSxcbiAgICAgIHRoaXMuYnVpbGRQZWVrYWJsZURldGFpbCgnY291bnRyeScpLFxuICAgICAgdGhpcy5idWlsZFBlZWthYmxlRGV0YWlsKCdjdWx0dXJlJyksXG4gICAgICBbJ2NlbnR1cnknLCAoYXJ0LCByYXcpID0+IFthcnQuc3R5bGUsIDxQZWVrIGZhY2V0PVwic3R5bGVcIiBxPXtyYXcuc3R5bGV9IC8+XV0sXG4gICAgICBbJ3Byb3ZlbmFuY2UnXSxcbiAgICAgIFsncmlnaHRzJywgKGFydCwgcmF3KSA9PiB7XG4gICAgICAgIHJldHVybiBbKGFydC5pbWFnZV9jb3B5cmlnaHQgfHwgYXJ0LnJpZ2h0cykgJiYgPGRpdj5cbiAgICAgICAgICB7YXJ0LmltYWdlX2NvcHlyaWdodCAmJiBkZWNvZGVVUklDb21wb25lbnQoYXJ0LmltYWdlX2NvcHlyaWdodCl9XG4gICAgICAgICAge2FydC5pbWFnZV9jb3B5cmlnaHQgJiYgYXJ0LnJpZ2h0cyAmJiA8YnIvPn1cbiAgICAgICAgICB7YXJ0LnJpZ2h0cyAmJiA8c3Bhbj57YXJ0LnJpZ2h0c308L3NwYW4+fVxuICAgICAgICA8L2Rpdj4sXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPHA+e3JpZ2h0c0Rlc2NyaXB0aW9uc1tyYXcucmlnaHRzXX08L3A+XG4gICAgICAgICAgPFBlZWsgZmFjZXQ9XCJyaWdodHNcIiBxPXtyYXcucmlnaHRzfSAvPlxuICAgICAgICAgIDxwPjxhIGhyZWY9XCJodHRwczovL25ldy5hcnRzbWlhLm9yZy92aXNpdC9wb2xpY2llcy1ndWlkZWxpbmVzLyN3ZWJzaXRlaW1hZ2VhY2Nlc3MmdXNlXCI+TWlhJ3MgSW1hZ2UgQWNjZXNzICYgVXNlIFBvbGljeTwvYT48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBdXG4gICAgICB9XSxcbiAgICAgIC8vIGFwcGFyZW50bHkgbWFya2luZ3MvaW5zY3JpcHRpb24vc2lnbmVkIGFyZSAnZm9yIG91ciBleWVzIG9ubHknXG4gICAgICAvLyBbJ21hcmtpbmdzJywgKGFydCkgPT4ge1xuICAgICAgLy8gICAvLyBzaG93IGRlcHJlY2F0ZWQgYG1hcmtzYCBmaWVsZCBpZiBub25lIG9mIHRoZSBuZXcgYG1hcmtpbmdzLCBzaWduYXR1cmUsIGluc2NyaXB0aW9uYCBmaWVsZHMgZXhpc3QgeWV0XG4gICAgICAvLyAgIHJldHVybiBbYXJ0Lm1hcmtpbmdzIHx8ICghYXJ0LnNpZ25hdHVyZSAmJiAhYXJ0Lmluc2NyaXB0aW9uICYmIGFydC5tYXJrcyldXG4gICAgICAvLyB9XSxcbiAgICAgIC8vIFsnaW5zY3JpcHRpb24nXSxcbiAgICAgIC8vIFsnc2lnbmVkJ10sXG4gICAgICBbJ2NsYXNzaWZpY2F0aW9uJywgKGFydCwgcmF3KSA9PiB7XG4gICAgICAgIGlmKCFyYXcuY2xhc3NpZmljYXRpb24pIHJldHVybiBbXVxuXG4gICAgICAgIHZhciBjbGFzc2lmaWNhdGlvblBlZWtzID0gcmF3LmNsYXNzaWZpY2F0aW9uLnNwbGl0KCcsJylcbiAgICAgICAgLm1hcCgoY2xhc3NpZmljYXRpb24sIGluZGV4KSA9PiA8UGVlayBmYWNldD1cImNsYXNzaWZpY2F0aW9uXCIgcT17Y2xhc3NpZmljYXRpb259IGtleT17aW5kZXh9IC8+KVxuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgPHA+e2FydC5jbGFzc2lmaWNhdGlvbn08L3A+LFxuICAgICAgICAgIDxkaXY+e2NsYXNzaWZpY2F0aW9uUGVla3N9PC9kaXY+XG4gICAgICAgIF1cbiAgICAgIH1dLFxuICAgICAgdGhpcy5idWlsZFBlZWthYmxlRGV0YWlsKCdvYmplY3RfbmFtZScpLFxuICAgICAgLy8gZGlzYWJsZSB0YWdzIGR1ZSB0byBmcmVxdWVudCBpbmFjY3VyYWNpZXNcbiAgICAgIC8vIFsndGFncycsIGFydCA9PiB7XG4gICAgICAvLyAgIGlmKCFhcnQudGFncykgcmV0dXJuIFtdXG5cbiAgICAgIC8vICAgdmFyIGxpbmtlZFRhZ3MgPSBhcnQudGFncy50cmltKCkuc3BsaXQoJyAnKVxuICAgICAgLy8gICAubWFwKHRhZyA9PiA8TGluayB0bz1cInNlYXJjaFJlc3VsdHNcIiBwYXJhbXM9e3t0ZXJtczogYHRhZ3M6JHt0YWd9YH19IGtleT17dGFnfT57dGFnLnJlcGxhY2UoLy0vZywgJyAnKX08L0xpbms+KVxuXG4gICAgICAvLyAgIHJldHVybiBbXG4gICAgICAvLyAgICAgPHA+e2xpbmtlZFRhZ3MubWFwKCh0YWcsIGluZGV4KSA9PiB7XG4gICAgICAvLyAgICAgICByZXR1cm4gPHNwYW4ga2V5PXtpbmRleH0+e3RhZ317KGluZGV4ID09IGxpbmtlZFRhZ3MubGVuZ3RoLTEgfHwgJywgJyl9PC9zcGFuPlxuICAgICAgLy8gICAgIH0pfTwvcD5cbiAgICAgIC8vIF1cbiAgICAgIC8vIH1dLFxuICAgICAgWydjYXRhbG9ndWVfcmFpc29ubmUnLCAoYXJ0KSA9PiB7XG4gICAgICAgIGlmKCFhcnQuY2F0YWxvZ3VlX3JhaXNzb25uZSkgcmV0dXJuIFtdXG4gICAgICAgIHJldHVybiBbIDxkaXY+e2FydC5jYXRhbG9ndWVfcmFpc3Nvbm5lfTwvZGl2Pl1cbiAgICAgIH1dLFxuICAgICAgWyd3aWtpcGVkaWEnLCAoYXJ0KSA9PiB7XG4gICAgICAgIHJldHVybiBbJ0NpdGUgdGhpcyBpbmZvcm1hdGlvbicsIDxkaXY+XG4gICAgICAgICAgPENsaWNrVG9TZWxlY3Q+XG4gICAgICAgICAgICA8Y29kZSBuYW1lPVwiTWlhXCI+JiMxMjM7JiMxMjM7Y2l0ZSB3ZWIgfHRpdGxlPXthcnQudGl0bGV9IHx1cmw9aHR0cHM6Ly9jb2xsZWN0aW9ucy5hcnRzbWlhLm9yZy9hcnQve2FydC5pZH0gfGF1dGhvcj17YXJ0LmFydGlzdH0gfHllYXI9e2FydC5kYXRlZH0gfGFjY2Vzc2RhdGU9eyhuZXcgRGF0ZSkudG9VVENTdHJpbmcoKS5zcGxpdCgnICcpLnNsaWNlKDEsIDQpLmpvaW4oJyAnKX0gfHB1Ymxpc2hlcj1NaW5uZWFwb2xpcyBJbnN0aXR1dGUgb2YgQXJ0JiMxMjU7JiMxMjU7PC9jb2RlPlxuICAgICAgICAgIDwvQ2xpY2tUb1NlbGVjdD5cbiAgICAgICAgPC9kaXY+XVxuICAgICAgfV0sXG4gICAgICBbJ2V4aGliaXRpb25faGlzdG9yeScsIChhcnQpID0+IHtcbiAgICAgICAgaWYoIWFydC5leGhpYml0aW9uX2hpc3RvcnkpIHJldHVybiBbXVxuICAgICAgICByZXR1cm4gWzxNYXJrZG93bj57YXJ0LmV4aGliaXRpb25faGlzdG9yeX08L01hcmtkb3duPl1cbiAgICAgIH1dLFxuICAgICAgWydzZWVfYWxzbycsIChhcnQsIHJhdykgPT4ge1xuICAgICAgICB2YXIgYWxzbyA9IHJhdy5zZWVfYWxzbyAmJiByYXcuc2VlX2Fsc28uZmlsdGVyKGlkID0+IGlkICE9PSBcIlwiICYmIGlkICE9PSByYXcuaWQpXG4gICAgICAgIHJldHVybiBhbHNvICYmIGFsc28ubGVuZ3RoID4gMCA/XG4gICAgICAgICAgW2Ake2Fsc28ubGVuZ3RofSBvdGhlciBhcnR3b3JrJHthbHNvLmxlbmd0aCA+IDEgPyAncycgOiAnJ31gLCA8UGVlayBmYWNldD1cInNlZV9hbHNvXCIgcT17cmF3LmlkfSAvPl0gOlxuICAgICAgICAgIFtdXG4gICAgICB9XSxcbiAgICAgIFsncG9ydGZvbGlvJywgKGFydCwgcmF3KSA9PiB7XG4gICAgICAgIGlmKCFyYXcucG9ydGZvbGlvIHx8IHJhdy5wb3J0Zm9saW8gPT0gJ0Zyb20gJykgcmV0dXJuIFtdXG4gICAgICAgIHZhciBwb3J0Zm9saW9OYW1lID0gcmF3LnBvcnRmb2xpb1xuICAgICAgICAucmVwbGFjZSgnRnJvbSBGcm9tJywgJ0Zyb20nKSAvLyBzb21lIGhhdmUgZG91YmxlICdmcm9tJ1xuXG4gICAgICAgIHJldHVybiBbcG9ydGZvbGlvTmFtZSwgPFBlZWsgZmFjZXQ9XCJwb3J0Zm9saW9cIiBxPXtwb3J0Zm9saW9OYW1lfSAvPl1cbiAgICAgIH1dLFxuICAgICAgWydjdXJhdG9yX2FwcHJvdmVkJywgYXJ0ID0+IHtcbiAgICAgICAgdmFyIGN1cnJlbnRVcmwgPSB3aW5kb3cubG9jYXRpb24gJiYgd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoJy8nKS5zbGljZSgwLCA1KS5qb2luKCcvJylcbiAgICAgICAgdmFyIGRhdGFTZW5kZXIgPSBmZWVkYmFja1NlbmRlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgJ0NvbGxlY3Rpb25zIGRhdGEgZmVlZGJhY2snLCBjdXJyZW50VXJsKVxuICAgICAgICB2YXIgaW1hZ2VTZW5kZXIgPSBmZWVkYmFja1NlbmRlcignY29sbGVjdGlvbnNkYXRhK2ltYWdlc0BhcnRzbWlhLm9yZycsICdMZXQgdXMga25vdycsICdDb2xsZWN0aW9ucyBpbWFnZSBmZWVkYmFjaycsIGN1cnJlbnRVcmwpXG5cbiAgICAgICAgdmFyIGRhdGFNZXNzYWdlID0gYXJ0LmN1cmF0b3JfYXBwcm92ZWQgP1xuICAgICAgICAgIGBUaGlzIHJlY29yZCBpcyBmcm9tIGhpc3RvcmljIGRvY3VtZW50YXRpb24gYW5kIG1heSBub3QgaGF2ZSBiZWVuIHJldmlld2VkIGJ5IGEgY3VyYXRvciwgc28gbWF5IGJlIGluYWNjdXJhdGUgb3IgaW5jb21wbGV0ZS4gT3VyIHJlY29yZHMgYXJlIGZyZXF1ZW50bHkgcmV2aXNlZCBhbmQgZW5oYW5jZWQuIElmIHlvdSBub3RpY2UgYSBtaXN0YWtlIG9yIGhhdmUgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGlzIG9iamVjdCwgcGxlYXNlIGVtYWlsICR7ZGF0YVNlbmRlcn0uYCA6XG4gICAgICAgICAgYFRoaXMgcmVjb3JkIGhhcyBiZWVuIHJldmlld2VkIGJ5IG91ciBjdXJhdG9yaWFsIHN0YWZmIGJ1dCBtYXkgYmUgaW5jb21wbGV0ZS4gVGhlc2UgcmVjb3JkcyBhcmUgZnJlcXVlbnRseSByZXZpc2VkIGFuZCBlbmhhbmNlZC4gSWYgeW91IG5vdGljZSBhIG1pc3Rha2Ugb3IgaGF2ZSBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoaXMgb2JqZWN0LCBwbGVhc2UgZW1haWwgJHtkYXRhU2VuZGVyfS5gXG5cbiAgICAgICAgdmFyIGltYWdlTWVzc2FnZSA9IGBEb2VzIHNvbWV0aGluZyBsb29rIHdyb25nIHdpdGggdGhpcyBpbWFnZT8gJHtpbWFnZVNlbmRlcn1gXG5cbiAgICAgICAgcmV0dXJuIFs8TWFya2Rvd24+XG4gICAgICAgICAge2RhdGFNZXNzYWdlICsgJ1xcblxcbicgKyBpbWFnZU1lc3NhZ2V9XG4gICAgICAgIDwvTWFya2Rvd24+XVxuICAgICAgfV0sXG4gICAgXVxuICB9LFxuXG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICB2YXIgZGltZW5zaW9ucyA9IHRoaXMuZGltZW5zaW9ucygpXG4gICAgdmFyIGZpcnN0RGltZW5zaW9uTmFtZSA9IGRpbWVuc2lvbnMgJiYgZGltZW5zaW9uc1swXSAmJiBkaW1lbnNpb25zWzBdWzFdXG4gICAgdmFyIGV4cGFuZERldGFpbHMgPSB0aGlzLmRldGFpbHMoKS5yZWR1Y2UoKHJlZHVjZWQsIFtmaWVsZF0pID0+IHtcbiAgICAgIHJlZHVjZWRbZmllbGRdID0gZmFsc2VcbiAgICAgIHJldHVybiByZWR1Y2VkXG4gICAgfSwge30pXG4gICAgZXhwYW5kRGV0YWlsc1snZGltZW5zaW9uJ10gPSAhIWZpcnN0RGltZW5zaW9uTmFtZVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGV4cGFuZERldGFpbHNNYXRyaXg6IGV4cGFuZERldGFpbHMsXG4gICAgICBkaW1lbnNpb25HcmFwaGljTmFtZTogZmlyc3REaW1lbnNpb25OYW1lLFxuICAgIH1cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnQsIGhpZ2hsaWdodHN9ID0gdGhpcy5wcm9wc1xuICAgIHZhciBza2lwID0gdGhpcy5wcm9wcy5za2lwRmllbGRzID8gdGhpcy5wcm9wcy5za2lwRmllbGRzLnNwbGl0KCcgJykgOiBbXVxuICAgIHZhciBkZXRhaWxzID0gdGhpcy5kZXRhaWxzKClcbiAgICAuZmlsdGVyKChbZmllbGRdKSA9PiBza2lwLmluZGV4T2YoZmllbGQpIDwgMClcbiAgICAubWFwKGZpZWxkID0+IHRoaXMuYnVpbGQoLi4uZmllbGQpKVxuICAgIC5maWx0ZXIoZGV0YWlsID0+ICEhZGV0YWlsKVxuXG4gICAgcmV0dXJuIDxkbCBjbGFzc05hbWU9J2FydHdvcmstZGV0YWlsJz5cbiAgICAgIHtkZXRhaWxzfVxuICAgIDwvZGw+XG4gIH0sXG5cbiAgZGltZW5zaW9ucygpIHtcbiAgICB2YXIge2RpbWVuc2lvbn0gPSB0aGlzLnByb3BzLmFydFxuICAgIGlmKCFkaW1lbnNpb24pIHJldHVybiBbXVxuICAgIC8vIHZhciBkaW1lbnNpb24gPSB0aGlzLnByb3BzLmhpZ2hsaWdodHMgPyB0aGlzLnByb3BzLmhpZ2hsaWdodHMuZGltZW5zaW9uIDogdGhpcy5wcm9wcy5hcnRcbiAgICByZXR1cm4gZGltZW5zaW9uLnNwbGl0KFwiXFxyXFxuXCIpXG4gICAgLmZpbHRlcihzdHJpbmcgPT4gc3RyaW5nLm1hdGNoKC9beFxcfMOXXS4qY20vKSlcbiAgICAubWFwKHN0cmluZyA9PiB7XG4gICAgICB2YXIgYXNwZWN0ID0gc3RyaW5nLm1hdGNoKC9jbVxcKVxcc1xcKCooW15cXChdKylcXCkkLylcblxuICAgICAgcmV0dXJuIFtzdHJpbmcsIGFzcGVjdCA/IGFzcGVjdFsxXS5yZXBsYWNlKC9bXmEtekEtel0rL2csICctJykucmVwbGFjZSgvXi18LSQvLCAnJykgOiAnZGltZW5zaW9ucyddXG4gICAgfSlcbiAgfSxcblxuICB0b2dnbGVEaW1lbnNpb25HcmFwaGljKGFzcGVjdCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe2RpbWVuc2lvbkdyYXBoaWNOYW1lOiBhc3BlY3R9KVxuICB9LFxuXG4gIGRpbWVuc2lvblN2Z0xvYWRlZCgpIHtcbiAgICBpZih0aGlzLnN0YXRlLmhlaWdodEFkanVzdGVkKSByZXR1cm5cbiAgICB0aGlzLnNldFN0YXRlKHtoZWlnaHRBZGp1c3RlZDogdHJ1ZX0pXG4gICAgdmFyIGRvbU5vZGUgPSBSZWFjdC5maW5kRE9NTm9kZSh0aGlzKVxuICAgIHRoaXMuY29udGV4dC5vbkhlaWdodENoYW5nZSAmJiB0aGlzLmNvbnRleHQub25IZWlnaHRDaGFuZ2UoZG9tTm9kZS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNsaWVudEhlaWdodClcbiAgfSxcbn0pXG5BcnR3b3JrRGV0YWlscy5jb250ZXh0VHlwZXMgPSB7XG4gIG9uSGVpZ2h0Q2hhbmdlOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBcnR3b3JrRGV0YWlsc1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/artwork-details.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/artwork-details.js",
      "sourcesContent": [
        "var React = require('react')\nvar {Link} = require('react-router')\nvar capitalize = require('capitalize')\nvar Isvg = require('react-inlinesvg')\nvar cx = require('classnames')\nvar ClickToSelect = require('react-click-to-select')\n\nvar Markdown = require('./markdown')\nvar Peek = require('./peek')\nvar dimensionSvg = require('./endpoints').dimensionSvg\nvar rightsDescriptions = require('./rights-types.js')\nvar feedbackSender = require('./email-data-sender')\n\nvar ArtworkDetails = React.createClass({\n  build(field, fn) {\n    var {art, highlights} = this.props\n    if(this.props.onlyShowHighlightDetails && !highlights[field]) return\n\n    var humanFieldName = capitalize.words(field).replace('_', ' ')\n    var artAndHighlights = this.artAndHighlights()\n    var [content, extraContent] = fn ? fn(artAndHighlights, art) : [artAndHighlights[field]]\n    if(!content || content == '') return\n    var showExtra = extraContent && this.state.expandDetailsMatrix[field]\n    var classes = cx(\"detail-row\", {expandable: extraContent}, field)\n\n    return <div className={classes} key={field}>\n      <div onClick={this.toggleExtra.bind(this, field)}>\n        <dt className=\"detail-title\">{humanFieldName}</dt>\n        <dd className='detail-content'>{content}</dd>\n      </div>\n      {showExtra && <div className=\"detail-extra\">{extraContent}</div>}\n    </div>\n  },\n\n  toggleExtra(field) {\n    var {expandDetailsMatrix} = this.state\n    expandDetailsMatrix[field] = !expandDetailsMatrix[field]\n    this.setState({expandDetailsMatrix})\n  },\n\n  // merge `art` with `highlights`, replacing the un-highlighted values with\n  // their 'highlit' equivalent\n  artAndHighlights() {\n    var {art, highlights} = this.props\n\n    return !highlights ? art : Object.assign({...art}, Object.keys(highlights).reduce((object, key) => {\n      var value = highlights[key] && highlights[key][0]\n      if(typeof value == 'string') value = <Markdown>{value}</Markdown>\n      object[key] = value\n      return object\n    }, {}))\n  },\n\n  buildPeekableDetail(field, extra, value) {\n    var {art} = this.props\n    var highlights = this.artAndHighlights()\n\n    return [\n      field,\n      art => [\n        value || highlights[field],\n        <div>\n          {extra}\n          <Peek facet={field} q={value || art[field]} />\n        </div>\n      ]\n    ]\n  },\n\n  details() {\n    var {art} = this.props\n    return [\n      ['deaccessioned', (art, raw) => [\n        raw.deaccessioned && `${art.deaccessionedDate}`, <div>\n          {raw.deaccessionedReason && <p>{raw.deaccessionedReason}</p>}\n          <Link to=\"/info/deaccessions\">Artworks are deaccessioned for many reasons</Link>\n        </div>\n      ]],\n      ['title'],\n      this.buildPeekableDetail('dated'),\n      this.buildPeekableDetail('artist', this.props.art.life_date, art.artist.replace(/^([^;]+):/, '')),\n      this.buildPeekableDetail('nationality'),\n      ['artist_life', (art) => [art.life_date && art.life_date.replace(new RegExp(art.nationality+\"(, )?\"), '')]],\n      ['role', (_, raw) => {\n        var roleFromArtistField = raw.artist.match(/^([^;]+):/)\n        return [roleFromArtistField ? roleFromArtistField[1] : raw.role]\n      }],\n      ['gallery', (art, raw) => [art.room, <Peek facet=\"room\" q={raw.room} />]],\n      this.buildPeekableDetail('department'),\n      ['dimension', (art, rawArt) => {\n        var showFancyDimension = art.dimension && this.dimensions().length > 0\n\n        return [\n          art.dimension && <div>{showFancyDimension ? this.dimensions().map(([d, aspect]) => {\n            return <span style={{display: 'block'}} onMouseEnter={this.toggleDimensionGraphic.bind(this, aspect)} key={aspect}>{d}</span>\n          }) : art.dimension}</div>,\n          showFancyDimension && <div>\n            {rawArt.dimension.match(/cm/) && <Isvg\n              src={dimensionSvg(art.id, this.state.dimensionGraphicName)}\n              key={this.state.dimensionGraphicName}\n              onLoad={this.dimensionSvgLoaded}\n            />}\n          </div>\n        ]\n      }],\n      ['credit', (art, raw) => [art.creditline, <Peek facet=\"creditline\" q={raw.creditline} />]],\n      ['accession_number'],\n      this.buildPeekableDetail('medium'),\n      this.buildPeekableDetail('country'),\n      this.buildPeekableDetail('culture'),\n      ['century', (art, raw) => [art.style, <Peek facet=\"style\" q={raw.style} />]],\n      ['provenance'],\n      ['rights', (art, raw) => {\n        return [(art.image_copyright || art.rights) && <div>\n          {art.image_copyright && decodeURIComponent(art.image_copyright)}\n          {art.image_copyright && art.rights && <br/>}\n          {art.rights && <span>{art.rights}</span>}\n        </div>,\n        <div>\n          <p>{rightsDescriptions[raw.rights]}</p>\n          <Peek facet=\"rights\" q={raw.rights} />\n          <p><a href=\"https://new.artsmia.org/visit/policies-guidelines/#websiteimageaccess&use\">Mia's Image Access & Use Policy</a></p>\n        </div>\n        ]\n      }],\n      // apparently markings/inscription/signed are 'for our eyes only'\n      // ['markings', (art) => {\n      //   // show deprecated `marks` field if none of the new `markings, signature, inscription` fields exist yet\n      //   return [art.markings || (!art.signature && !art.inscription && art.marks)]\n      // }],\n      // ['inscription'],\n      // ['signed'],\n      ['classification', (art, raw) => {\n        if(!raw.classification) return []\n\n        var classificationPeeks = raw.classification.split(',')\n        .map((classification, index) => <Peek facet=\"classification\" q={classification} key={index} />)\n\n        return [\n          <p>{art.classification}</p>,\n          <div>{classificationPeeks}</div>\n        ]\n      }],\n      this.buildPeekableDetail('object_name'),\n      // disable tags due to frequent inaccuracies\n      // ['tags', art => {\n      //   if(!art.tags) return []\n\n      //   var linkedTags = art.tags.trim().split(' ')\n      //   .map(tag => <Link to=\"searchResults\" params={{terms: `tags:${tag}`}} key={tag}>{tag.replace(/-/g, ' ')}</Link>)\n\n      //   return [\n      //     <p>{linkedTags.map((tag, index) => {\n      //       return <span key={index}>{tag}{(index == linkedTags.length-1 || ', ')}</span>\n      //     })}</p>\n      // ]\n      // }],\n      ['catalogue_raisonne', (art) => {\n        if(!art.catalogue_raissonne) return []\n        return [ <div>{art.catalogue_raissonne}</div>]\n      }],\n      ['wikipedia', (art) => {\n        return ['Cite this information', <div>\n          <ClickToSelect>\n            <code name=\"Mia\">&#123;&#123;cite web |title={art.title} |url=https://collections.artsmia.org/art/{art.id} |author={art.artist} |year={art.dated} |accessdate={(new Date).toUTCString().split(' ').slice(1, 4).join(' ')} |publisher=Minneapolis Institute of Art&#125;&#125;</code>\n          </ClickToSelect>\n        </div>]\n      }],\n      ['exhibition_history', (art) => {\n        if(!art.exhibition_history) return []\n        return [<Markdown>{art.exhibition_history}</Markdown>]\n      }],\n      ['see_also', (art, raw) => {\n        var also = raw.see_also && raw.see_also.filter(id => id !== \"\" && id !== raw.id)\n        return also && also.length > 0 ?\n          [`${also.length} other artwork${also.length > 1 ? 's' : ''}`, <Peek facet=\"see_also\" q={raw.id} />] :\n          []\n      }],\n      ['portfolio', (art, raw) => {\n        if(!raw.portfolio || raw.portfolio == 'From ') return []\n        var portfolioName = raw.portfolio\n        .replace('From From', 'From') // some have double 'from'\n\n        return [portfolioName, <Peek facet=\"portfolio\" q={portfolioName} />]\n      }],\n      ['curator_approved', art => {\n        var currentUrl = window.location && window.location.href.split('/').slice(0, 5).join('/')\n        var dataSender = feedbackSender(undefined, undefined, 'Collections data feedback', currentUrl)\n        var imageSender = feedbackSender('collectionsdata+images@artsmia.org', 'Let us know', 'Collections image feedback', currentUrl)\n\n        var dataMessage = art.curator_approved ?\n          `This record is from historic documentation and may not have been reviewed by a curator, so may be inaccurate or incomplete. Our records are frequently revised and enhanced. If you notice a mistake or have additional information about this object, please email ${dataSender}.` :\n          `This record has been reviewed by our curatorial staff but may be incomplete. These records are frequently revised and enhanced. If you notice a mistake or have additional information about this object, please email ${dataSender}.`\n\n        var imageMessage = `Does something look wrong with this image? ${imageSender}`\n\n        return [<Markdown>\n          {dataMessage + '\\n\\n' + imageMessage}\n        </Markdown>]\n      }],\n    ]\n  },\n\n  getInitialState() {\n    var dimensions = this.dimensions()\n    var firstDimensionName = dimensions && dimensions[0] && dimensions[0][1]\n    var expandDetails = this.details().reduce((reduced, [field]) => {\n      reduced[field] = false\n      return reduced\n    }, {})\n    expandDetails['dimension'] = !!firstDimensionName\n\n    return {\n      expandDetailsMatrix: expandDetails,\n      dimensionGraphicName: firstDimensionName,\n    }\n  },\n\n  render() {\n    var {art, highlights} = this.props\n    var skip = this.props.skipFields ? this.props.skipFields.split(' ') : []\n    var details = this.details()\n    .filter(([field]) => skip.indexOf(field) < 0)\n    .map(field => this.build(...field))\n    .filter(detail => !!detail)\n\n    return <dl className='artwork-detail'>\n      {details}\n    </dl>\n  },\n\n  dimensions() {\n    var {dimension} = this.props.art\n    if(!dimension) return []\n    // var dimension = this.props.highlights ? this.props.highlights.dimension : this.props.art\n    return dimension.split(\"\\r\\n\")\n    .filter(string => string.match(/[x\\|×].*cm/))\n    .map(string => {\n      var aspect = string.match(/cm\\)\\s\\(*([^\\(]+)\\)$/)\n\n      return [string, aspect ? aspect[1].replace(/[^a-zA-z]+/g, '-').replace(/^-|-$/, '') : 'dimensions']\n    })\n  },\n\n  toggleDimensionGraphic(aspect) {\n    this.setState({dimensionGraphicName: aspect})\n  },\n\n  dimensionSvgLoaded() {\n    if(this.state.heightAdjusted) return\n    this.setState({heightAdjusted: true})\n    var domNode = React.findDOMNode(this)\n    this.context.onHeightChange && this.context.onHeightChange(domNode.parentElement.parentElement.parentElement.parentElement.clientHeight)\n  },\n})\nArtworkDetails.contextTypes = {\n  onHeightChange: React.PropTypes.func,\n}\n\nmodule.exports = ArtworkDetails\n"
      ]
    },
    "mtime": 1485968083610
  },
  "{\"filename\":\"/var/www/art/src/bottom-sticky.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "object-without-properties",
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\nvar Sticky = require('react-sticky');\n\n// A fixed box that's 'synthetically' scrolled along with the rest of the\n// viewport by adjusting the position `top` to 'pull the content up' the\n// screen.\nvar BottomSticky = React.createClass({\n  displayName: 'BottomSticky',\n\n  render: function render() {\n    var _props = this.props;\n    var stickyStyle = _props.stickyStyle;\n\n    var other = _objectWithoutProperties(_props, ['stickyStyle']);\n\n    var style = this.state.style;\n\n    return React.createElement(\n      Sticky,\n      _extends({ stickyStyle: style }, other, { onStickyStateChange: this.stickyChanged }),\n      this.props.children\n    );\n  },\n\n  stickyChanged: function stickyChanged(isSticky) {\n    this.setState({\n      isSticky: isSticky,\n      style: !isSticky ? this.props.stickyStyle : this.state.style,\n      initialScrollY: 0\n    });\n\n    this.getSizeAndScroll();\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      style: this.props.stickyStyle\n    };\n  },\n\n  componentDidMount: function componentDidMount() {\n    this.getSizeAndScroll();\n    window.addEventListener('scroll', this.scrolled);\n    window.addEventListener('peek', this.refresh);\n  },\n\n  componentWillUnmount: function componentWillUnmount() {\n    window.removeEventListener('scroll', this.scrolled);\n    window.removeEventListener('peek', this.refresh);\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    this.refresh(0, true);\n  },\n\n  componentWillUpdate: function componentWillUpdate(nextProps, nextState) {\n    if (this.state.isSticky !== nextState.isSticky) {\n      this.refresh(0);\n    }\n    if (this.state.height !== nextState.height && nextState.height > 0) {\n      // if the height changes, notify Search through this method exposed\n      // on `context` so it can adjust things to ensure smooth, happy\n      // scrolling\n      this.context.onHeightChange(nextState.height);\n    }\n  },\n\n  getSizeAndScroll: function getSizeAndScroll() {\n    var domNode = React.findDOMNode(this);\n\n    var state = {\n      height: domNode.clientHeight,\n      initialScrollY: this.state.isSticky && window.scrollY\n    };\n    this.setState(state);\n  },\n\n  scrolled: function scrolled() {\n    this.adjustScroll();\n  },\n\n  adjustScroll: function adjustScroll() {\n    var _state = this.state;\n    var style = _state.style;\n    var initialScrollY = _state.initialScrollY;\n    var height = _state.height;\n    var isSticky = _state.isSticky;\n\n    var currentScrollY = window.scrollY;\n    var amountToScroll = height - window.innerHeight + 200;\n    var scrollAdjustment = Math.max(0, Math.min(amountToScroll, currentScrollY - initialScrollY));\n\n    var top = scrollAdjustment + scrollAdjustment / amountToScroll * 16;\n    style.top = top === 0 ? top : -top;\n    this.setState({ style: style });\n  },\n\n  refresh: function refresh() {\n    var _this = this;\n\n    var delay = arguments.length <= 0 || arguments[0] === undefined ? 300 : arguments[0];\n    var adjustScroll = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\n    this.getSizeAndScroll();\n    adjustScroll && this.scrolled();\n    setTimeout(function () {\n      _this.getSizeAndScroll();\n      adjustScroll && _this.scrolled();\n    }, delay);\n  }\n});\nBottomSticky.contextTypes = {\n  onHeightChange: React.PropTypes.func\n};\n\nmodule.exports = BottomSticky;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYm90dG9tLXN0aWNreS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBOzs7OztBQUtwQyxJQUFJLFlBQVksR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDbkMsUUFBTSxFQUFBLGtCQUFHO2lCQUN1QixJQUFJLENBQUMsS0FBSztRQUFuQyxXQUFXLFVBQVgsV0FBVzs7UUFBSyxLQUFLOztRQUNyQixLQUFLLEdBQUksSUFBSSxDQUFDLEtBQUssQ0FBbkIsS0FBSzs7QUFFVixXQUFPO0FBQUMsWUFBTTtpQkFBQyxXQUFXLEVBQUUsS0FBSyxBQUFDLElBQUssS0FBSyxJQUFFLG1CQUFtQixFQUFFLElBQUksQ0FBQyxhQUFhLEFBQUM7TUFDbkYsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRO0tBQ2IsQ0FBQTtHQUNWOztBQUVELGVBQWEsRUFBQSx1QkFBQyxRQUFRLEVBQUU7QUFDdEIsUUFBSSxDQUFDLFFBQVEsQ0FBQztBQUNaLGNBQVEsRUFBRSxRQUFRO0FBQ2xCLFdBQUssRUFBRSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUs7QUFDNUQsb0JBQWMsRUFBRSxDQUFDO0tBQ2xCLENBQUMsQ0FBQTs7QUFFRixRQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQTtHQUN4Qjs7QUFFRCxpQkFBZSxFQUFBLDJCQUFHO0FBQ2hCLFdBQU87QUFDTCxXQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXO0tBQzlCLENBQUE7R0FDRjs7QUFFRCxtQkFBaUIsRUFBRSw2QkFBVztBQUM1QixRQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQTtBQUN2QixVQUFNLENBQUMsZ0JBQWdCLENB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QUFDRixZQUFZLENBQUMsWUFBWSxHQUFHO0FBQzFCLGdCQUFjLEVBQUUsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJO0NBQ3JDLENBQUE7O0FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRyxZQUFZLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9ib3R0b20tc3RpY2t5LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFN0aWNreSA9IHJlcXVpcmUoJ3JlYWN0LXN0aWNreScpXG5cbi8vIEEgZml4ZWQgYm94IHRoYXQncyAnc3ludGhldGljYWxseScgc2Nyb2xsZWQgYWxvbmcgd2l0aCB0aGUgcmVzdCBvZiB0aGVcbi8vIHZpZXdwb3J0IGJ5IGFkanVzdGluZyB0aGUgcG9zaXRpb24gYHRvcGAgdG8gJ3B1bGwgdGhlIGNvbnRlbnQgdXAnIHRoZVxuLy8gc2NyZWVuLlxudmFyIEJvdHRvbVN0aWNreSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7c3RpY2t5U3R5bGUsIC4uLm90aGVyfSA9IHRoaXMucHJvcHNcbiAgICB2YXIge3N0eWxlfSA9IHRoaXMuc3RhdGVcblxuICAgIHJldHVybiA8U3RpY2t5IHN0aWNreVN0eWxlPXtzdHlsZX0gey4uLm90aGVyfSBvblN0aWNreVN0YXRlQ2hhbmdlPXt0aGlzLnN0aWNreUNoYW5nZWR9PlxuICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgPC9TdGlja3k+XG4gIH0sXG5cbiAgc3RpY2t5Q2hhbmdlZChpc1N0aWNreSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNTdGlja3k6IGlzU3RpY2t5LFxuICAgICAgc3R5bGU6ICFpc1N0aWNreSA/IHRoaXMucHJvcHMuc3RpY2t5U3R5bGUgOiB0aGlzLnN0YXRlLnN0eWxlLFxuICAgICAgaW5pdGlhbFNjcm9sbFk6IDAsXG4gICAgfSlcblxuICAgIHRoaXMuZ2V0U2l6ZUFuZFNjcm9sbCgpXG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzdHlsZTogdGhpcy5wcm9wcy5zdGlja3lTdHlsZSxcbiAgICB9XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZ2V0U2l6ZUFuZFNjcm9sbCgpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuc2Nyb2xsZWQpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BlZWsnLCB0aGlzLnJlZnJlc2gpXG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuc2Nyb2xsZWQpXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BlZWsnLCB0aGlzLnJlZnJlc2gpXG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICB0aGlzLnJlZnJlc2goMCwgdHJ1ZSlcbiAgfSxcblxuICBjb21wb25lbnRXaWxsVXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgaWYodGhpcy5zdGF0ZS5pc1N0aWNreSAhPT0gbmV4dFN0YXRlLmlzU3RpY2t5KSB7XG4gICAgICB0aGlzLnJlZnJlc2goMClcbiAgICB9XG4gICAgaWYodGhpcy5zdGF0ZS5oZWlnaHQgIT09IG5leHRTdGF0ZS5oZWlnaHQgJiYgbmV4dFN0YXRlLmhlaWdodCA+IDApIHtcbiAgICAgIC8vIGlmIHRoZSBoZWlnaHQgY2hhbmdlcywgbm90aWZ5IFNlYXJjaCB0aHJvdWdoIHRoaXMgbWV0aG9kIGV4cG9zZWRcbiAgICAgIC8vIG9uIGBjb250ZXh0YCBzbyBpdCBjYW4gYWRqdXN0IHRoaW5ncyB0byBlbnN1cmUgc21vb3RoLCBoYXBweVxuICAgICAgLy8gc2Nyb2xsaW5nXG4gICAgICB0aGlzLmNvbnRleHQub25IZWlnaHRDaGFuZ2UobmV4dFN0YXRlLmhlaWdodClcbiAgICB9XG4gIH0sXG5cbiAgZ2V0U2l6ZUFuZFNjcm9sbCgpIHtcbiAgICB2YXIgZG9tTm9kZSA9IFJlYWN0LmZpbmRET01Ob2RlKHRoaXMpXG5cbiAgICB2YXIgc3RhdGUgPSB7XG4gICAgICBoZWlnaHQ6IGRvbU5vZGUuY2xpZW50SGVpZ2h0LFxuICAgICAgaW5pdGlhbFNjcm9sbFk6IHRoaXMuc3RhdGUuaXNTdGlja3kgJiYgd2luZG93LnNjcm9sbFksXG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpXG4gIH0sXG5cbiAgc2Nyb2xsZWQoKSB7XG4gICAgdGhpcy5hZGp1c3RTY3JvbGwoKVxuICB9LFxuXG4gIGFkanVzdFNjcm9sbCgpIHtcbiAgICB2YXIge3N0eWxlLCBpbml0aWFsU2Nyb2xsWSwgaGVpZ2h0LCBpc1N0aWNreX0gPSB0aGlzLnN0YXRlXG4gICAgdmFyIGN1cnJlbnRTY3JvbGxZID0gd2luZG93LnNjcm9sbFlcbiAgICB2YXIgYW1vdW50VG9TY3JvbGwgPSBoZWlnaHQgLSB3aW5kb3cuaW5uZXJIZWlnaHQgKyAyMDBcbiAgICB2YXIgc2Nyb2xsQWRqdXN0bWVudCA9IE1hdGgubWF4KDAsIE1hdGgubWluKGFtb3VudFRvU2Nyb2xsLCBjdXJyZW50U2Nyb2xsWSAtIGluaXRpYWxTY3JvbGxZKSlcblxuICAgIHZhciB0b3AgPSBzY3JvbGxBZGp1c3RtZW50K3Njcm9sbEFkanVzdG1lbnQvYW1vdW50VG9TY3JvbGwqMTZcbiAgICBzdHlsZS50b3AgPSB0b3AgPT09IDAgPyB0b3AgOiAtdG9wXG4gICAgdGhpcy5zZXRTdGF0ZSh7c3R5bGU6IHN0eWxlfSlcbiAgfSxcblxuICByZWZyZXNoKGRlbGF5PTMwMCwgYWRqdXN0U2Nyb2xsPWZhbHNlKSB7XG4gICAgdGhpcy5nZXRTaXplQW5kU2Nyb2xsKClcbiAgICBhZGp1c3RTY3JvbGwgJiYgdGhpcy5zY3JvbGxlZCgpXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmdldFNpemVBbmRTY3JvbGwoKVxuICAgICAgYWRqdXN0U2Nyb2xsICYmIHRoaXMuc2Nyb2xsZWQoKVxuICAgIH0sIGRlbGF5KVxuICB9LFxufSlcbkJvdHRvbVN0aWNreS5jb250ZXh0VHlwZXMgPSB7XG4gIG9uSGVpZ2h0Q2hhbmdlOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBCb3R0b21TdGlja3lcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/bottom-sticky.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/bottom-sticky.js",
      "sourcesContent": [
        "var React = require('react')\nvar Sticky = require('react-sticky')\n\n// A fixed box that's 'synthetically' scrolled along with the rest of the\n// viewport by adjusting the position `top` to 'pull the content up' the\n// screen.\nvar BottomSticky = React.createClass({\n  render() {\n    var {stickyStyle, ...other} = this.props\n    var {style} = this.state\n\n    return <Sticky stickyStyle={style} {...other} onStickyStateChange={this.stickyChanged}>\n      {this.props.children}\n    </Sticky>\n  },\n\n  stickyChanged(isSticky) {\n    this.setState({\n      isSticky: isSticky,\n      style: !isSticky ? this.props.stickyStyle : this.state.style,\n      initialScrollY: 0,\n    })\n\n    this.getSizeAndScroll()\n  },\n\n  getInitialState() {\n    return {\n      style: this.props.stickyStyle,\n    }\n  },\n\n  componentDidMount: function() {\n    this.getSizeAndScroll()\n    window.addEventListener('scroll', this.scrolled)\n    window.addEventListener('peek', this.refresh)\n  },\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.scrolled)\n    window.removeEventListener('peek', this.refresh)\n  },\n\n  componentWillReceiveProps(nextProps) {\n    this.refresh(0, true)\n  },\n\n  componentWillUpdate(nextProps, nextState) {\n    if(this.state.isSticky !== nextState.isSticky) {\n      this.refresh(0)\n    }\n    if(this.state.height !== nextState.height && nextState.height > 0) {\n      // if the height changes, notify Search through this method exposed\n      // on `context` so it can adjust things to ensure smooth, happy\n      // scrolling\n      this.context.onHeightChange(nextState.height)\n    }\n  },\n\n  getSizeAndScroll() {\n    var domNode = React.findDOMNode(this)\n\n    var state = {\n      height: domNode.clientHeight,\n      initialScrollY: this.state.isSticky && window.scrollY,\n    }\n    this.setState(state)\n  },\n\n  scrolled() {\n    this.adjustScroll()\n  },\n\n  adjustScroll() {\n    var {style, initialScrollY, height, isSticky} = this.state\n    var currentScrollY = window.scrollY\n    var amountToScroll = height - window.innerHeight + 200\n    var scrollAdjustment = Math.max(0, Math.min(amountToScroll, currentScrollY - initialScrollY))\n\n    var top = scrollAdjustment+scrollAdjustment/amountToScroll*16\n    style.top = top === 0 ? top : -top\n    this.setState({style: style})\n  },\n\n  refresh(delay=300, adjustScroll=false) {\n    this.getSizeAndScroll()\n    adjustScroll && this.scrolled()\n    setTimeout(() => {\n      this.getSizeAndScroll()\n      adjustScroll && this.scrolled()\n    }, delay)\n  },\n})\nBottomSticky.contextTypes = {\n  onHeightChange: React.PropTypes.func,\n}\n\nmodule.exports = BottomSticky\n"
      ]
    },
    "mtime": 1453913552707
  },
  "{\"filename\":\"/var/www/art/src/artwork-related.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar rest = require('rest');\nvar cx = require('classnames');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar ga = require('react-ga');\n\nvar Markdown = require('./markdown');\nvar imageCDN = require('./image-cdn');\n\nvar artstoryStampStyle = {\n  backgroundPosition: 'center center',\n  backgroundSize: 'contain'\n};\n\nvar ArtworkRelatedContent = React.createClass({\n  displayName: 'ArtworkRelatedContent',\n\n  render: function render() {\n    var art = this.props.art;\n\n    if (!art) return React.createElement('span', null);\n\n    var links = Object.keys(art).filter(function (key) {\n      return key.match('related:');\n    }).reduce(function (relateds, key) {\n      var linkOrListOfLinks = typeof art[key] == 'string' ? JSON.parse(art[key]) : art[key];\n      Array.isArray(linkOrListOfLinks) ? relateds = relateds.concat(linkOrListOfLinks) : relateds.push(linkOrListOfLinks);\n\n      return relateds;\n    }, []);\n\n    var explore = links.filter(function (link) {\n      return link.type !== \"exhibition\";\n    });\n    var exhibitions = links.filter(function (link) {\n      return link.type == \"exhibition\";\n    });\n    // only show exhibitions tagged `rotation`\n    var significantExhibitions = exhibitions.filter(function (ex) {\n      return ex.rotation;\n    });\n\n    var meat = React.createElement(\n      'div',\n      { className: 'explore' },\n      explore.map(this.build)\n    );\n    var exhibition_wrap = React.createElement(\n      'div',\n      { className: 'exhibition_item' },\n      significantExhibitions.map(this.build)\n    );\n\n    var bones = this.props.skipWrapper ? meat : React.createElement(\n      'div',\n      { id: 'explore', className: 'exploreWrapper' },\n      React.createElement(\n        'h5',\n        { className: 'details-title' },\n        'Explore'\n      ),\n      meat\n    );\n\n    var exhib_bones = React.createElement(\n      'div',\n      { className: 'exhibitionWrapper' },\n      React.createElement(\n        'h5',\n        { className: 'details-title' },\n        'Exhibitions'\n      ),\n      exhibition_wrap\n    );\n\n    return React.createElement(\n      'div',\n      null,\n      explore && explore.length > 0 && bones,\n      significantExhibitions && significantExhibitions.length > 0 && exhib_bones\n    );\n  },\n\n  build: function build(json) {\n    if (!json.id) json.id = this.props.id;\n    var trackRelatedClick = this.trackRelatedContentInteraction.bind(this, json);\n    return React.createElement(\n      'div',\n      { onClick: trackRelatedClick, key: json.link || json.title },\n      (this.templates[json.type] || this.templates['default']).bind(this)(json, this.props.id, this.props.highlights, trackRelatedClick)\n    );\n  },\n\n  trackRelatedContentInteraction: function trackRelatedContentInteraction(json) {\n    // track clicks on related content via more.artsmia.org fort objects on G311 and 355\n    if (window.location.hostname == \"more.artsmia.org\" && ['G311', 'G355'].indexOf(this.props.art.room) > -1) {\n      ga.event({\n        category: 'more.artsmia.org related content',\n        action: 'clicked',\n        label: json.id + ' - ' + json.type + ' - ' + json.link\n      });\n    }\n  },\n\n  templates: {\n    audio: function audio(json, id, _, track) {\n      return React.createElement(\n        'div',\n        { className: 'audioClip' },\n        React.createElement('audio', { style: { maxWidth: '100%' }, src: json.link.replace('http:', 'https:'), controls: true, onplay: track }),\n        React.createElement(\n          'a',\n          { href: json.link },\n          'Audio Clip',\n          React.createElement('br', null),\n          React.createElement(\n            'sub',\n            null,\n            'Listen.'\n          )\n        )\n      );\n    },\n    newsflash: function newsflash(json) {\n      return React.createElement(\n        'div',\n        { className: 'newsflash', style: { backgroundImage: 'url(https://newsflash.dx.artsmia.org' + json.image + ')' } },\n        React.createElement(\n          'div',\n          { className: 'overlay' },\n          React.createElement(\n            'a',\n            { href: json.link },\n            json.title,\n            React.createElement('br', null),\n            React.createElement(\n              'sub',\n              null,\n              'Read more.'\n            )\n          ),\n          React.createElement(\n            'i',\n            { className: 'material-icons' },\n            'launch'\n          )\n        )\n      );\n    },\n    artstory: function artstory(json, id, highlight) {\n      return React.createElement(\n        'div',\n        { className: cx(\"artstory\", { \"block-highlight\": highlight && highlight[\"related:artstories\"] }), style: _extends({ backgroundImage: 'url(' + imageCDN(id) + ')' }, artstoryStampStyle) },\n        React.createElement(\n          'div',\n          { className: 'overlay' },\n          React.createElement(\n            'a',\n            { href: json.link },\n            'ArtStories',\n            React.createElement('br', null),\n            React.createElement(\n              'sub',\n              null,\n              'Zoom in.'\n            )\n          ),\n          React.createElement(\n            'i',\n            { className: 'material-icons' },\n            'launch'\n          )\n        )\n      );\n    },\n    \"adopt-a-painting\": function adoptAPainting(json, id, highlights) {\n      var highlight = highlights && highlights[\"related:adopt-a-painting\"];\n      var highlight = highlight ? JSON.parse(highlight[0]) : null;\n      if (!(highlight || window.location && window.location.pathname.match(/related.*adopt/))) return React.createElement('span', null);\n\n      if (json.adopted === \"1\") {\n        return React.createElement(\n          'div',\n          { className: 'adopt-ptg', style: { clear: 'both' } },\n          React.createElement(\n            'h3',\n            null,\n            'This painting has been adopted.'\n          ),\n          React.createElement(\n            'a',\n            { href: '/info/adopt-a-painting' },\n            'Learn more about adopting a painting. ',\n            React.createElement(\n              'i',\n              { className: 'material-icons' },\n              'launch'\n            )\n          ),\n          highlight && React.createElement(\n            'div',\n            null,\n            'It needed adoption because… ',\n            React.createElement(\n              'blockquote',\n              null,\n              React.createElement(\n                Markdown,\n                null,\n                highlight.description\n              )\n            )\n          )\n        );\n      } else {\n        return React.createElement(\n          'div',\n          { className: 'adopt-ptg' },\n          React.createElement(\n            'div',\n            { style: { width: \"100%\" } },\n            React.createElement(\n              'h3',\n              null,\n              'Adopt-a-Painting'\n            ),\n            React.createElement(\n              'p',\n              null,\n              'Cost ',\n              React.createElement(\n                'span',\n                { className: 'cost' },\n                json.cost\n              )\n            ),\n            React.createElement(\n              Markdown,\n              null,\n              highlight ? highlight.description : json.description\n            ),\n            React.createElement(\n              'a',\n              { href: '/info/adopt-a-painting' },\n              'Learn how to adopt this painting. ',\n              React.createElement(\n                'i',\n                { className: 'material-icons' },\n                'launch'\n              )\n            )\n          )\n        );\n      }\n    },\n    'default': function _default(json, id, highlights) {\n      var miaStoryMatches = highlights && highlights['related:stories'] && highlights['related:stories'].filter(function (h) {\n        var h = JSON.parse(h);return json.title == h.title.replace(/<\\/?em>/g, '');\n      });\n      var defaultStyle = { backgroundColor: \"rgb(35,35,35)\" };\n\n      return React.createElement(\n        'div',\n        { className: 'explore-content', style: defaultStyle },\n        React.createElement(\n          'div',\n          { className: cx(\"overlay\", { \"block-highlight\": miaStoryMatches && miaStoryMatches.length > 0 }) },\n          React.createElement(\n            'a',\n            { href: json.link },\n            json.title,\n            React.createElement('br', null),\n            React.createElement(\n              'sub',\n              null,\n              'Explore more.'\n            )\n          ),\n          React.createElement(\n            'i',\n            { className: 'material-icons' },\n            'launch'\n          )\n        )\n      );\n    },\n    \"exhibition\": function exhibition(json, id, highlights) {\n      var otherArtCount = json.objectIds ? json.objectIds.length - 1 : '(x)';\n\n      return React.createElement(\n        'ul',\n        { className: 'exhibitions', style: { clear: \"both\" } },\n        React.createElement(\n          'li',\n          null,\n          React.createElement(\n            'h4',\n            null,\n            React.createElement(\n              Link,\n              { to: 'exhibition', params: { id: json.id } },\n              json.title\n            )\n          ),\n          ' ',\n          json.date\n        )\n      );\n    },\n    \"3d\": function d(json, id) {\n      var style = _extends({\n        backgroundColor: \"rgb(35,35,35)\",\n        backgroundImage: 'url(' + json.thumb + ')'\n      }, artstoryStampStyle);\n\n      return React.createElement(\n        'div',\n        { className: 'explore-content 3d', style: style },\n        React.createElement(\n          'div',\n          { className: 'overlay' },\n          React.createElement(\n            'a',\n            { href: json.link },\n            React.createElement('br', null),\n            '👓',\n            React.createElement(\n              'sub',\n              null,\n              'Explore in 3D'\n            )\n          ),\n          React.createElement(\n            'i',\n            { className: 'material-icons' },\n            'launch'\n          )\n        )\n      );\n    }\n  }\n});\n\nmodule.exports = ArtworkRelatedContent;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYXJ0d29yay1yZWxhdGVkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFBO0FBQzFCLElBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTs7ZUFDakIsT0FBTyxDQUFDLGNBQWMsQ0FBQzs7SUFBL0IsSUFBSSxZQUFKLElBQUk7O0FBQ1QsSUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFBOztBQUU1QixJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7QUFDcEMsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBOztBQUVyQyxJQUFJLGtCQUFrQixHQUFHO0FBQ3ZCLG9CQUFrQixFQUFFLGVBQWU7QUFDbkMsZ0JBQWMsRUFBRSxTQUFTO0NBQzFCLENBQUE7O0FBRUQsSUFBSSxxQkFBcUIsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDNUMsUUFBTSxFQUFBLGtCQUFHO1FBQ0YsR0FBRyxHQUFJLElBQUksQ0FBQyxLQUFLLENBQWpCLEdBQUc7O0FBQ1IsUUFBRyxDQUFDLEdBQUcsRUFBRSxPQUFPLGlDQUFPLENBQUE7O0FBRXZCLFFBQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLFVBQUEsR0FBRzthQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDO0tBQUEsQ0FBQyxDQUNoRSxNQUFNLENBQUMsVUFBQyxRQUFRLEVBQUUsR0FBRyxFQUFLO0FBQ3pCLFVBQUksaUJBQWlCLEdBQUcsQUFBQyxPQUFPLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxRQUFRLEdBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFH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QUFDLE9BQU8sR0FBRyxxQkFBcUIsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2FydHdvcmstcmVsYXRlZC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG52YXIgY3ggPSByZXF1aXJlKCdjbGFzc25hbWVzJylcbnZhciB7TGlua30gPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIGdhID0gcmVxdWlyZSgncmVhY3QtZ2EnKVxuXG52YXIgTWFya2Rvd24gPSByZXF1aXJlKCcuL21hcmtkb3duJylcbnZhciBpbWFnZUNETiA9IHJlcXVpcmUoJy4vaW1hZ2UtY2RuJylcblxudmFyIGFydHN0b3J5U3RhbXBTdHlsZSA9IHtcbiAgYmFja2dyb3VuZFBvc2l0aW9uOiAnY2VudGVyIGNlbnRlcicsXG4gIGJhY2tncm91bmRTaXplOiAnY29udGFpbicsXG59XG5cbnZhciBBcnR3b3JrUmVsYXRlZENvbnRlbnQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIge2FydH0gPSB0aGlzLnByb3BzXG4gICAgaWYoIWFydCkgcmV0dXJuIDxzcGFuLz5cblxuICAgIHZhciBsaW5rcyA9IE9iamVjdC5rZXlzKGFydCkuZmlsdGVyKGtleSA9PiBrZXkubWF0Y2goJ3JlbGF0ZWQ6JykpXG4gICAgLnJlZHVjZSgocmVsYXRlZHMsIGtleSkgPT4ge1xuICAgICAgdmFyIGxpbmtPckxpc3RPZkxpbmtzID0gKHR5cGVvZiBhcnRba2V5XSA9PSAnc3RyaW5nJykgPyBKU09OLnBhcnNlKGFydFtrZXldKSA6IGFydFtrZXldXG4gICAgICBBcnJheS5pc0FycmF5KGxpbmtPckxpc3RPZkxpbmtzKSA/XG4gICAgICAgICAgcmVsYXRlZHMgPSByZWxhdGVkcy5jb25jYXQobGlua09yTGlzdE9mTGlua3MpIDpcbiAgICAgICAgICByZWxhdGVkcy5wdXNoKGxpbmtPckxpc3RPZkxpbmtzKVxuXG4gICAgICByZXR1cm4gcmVsYXRlZHNcbiAgICB9LCBbXSlcblxuICAgIHZhciBleHBsb3JlID0gbGlua3MuZmlsdGVyKGxpbmsgPT4gbGluay50eXBlICE9PSBcImV4aGliaXRpb25cIilcbiAgICB2YXIgZXhoaWJpdGlvbnMgPSBsaW5rcy5maWx0ZXIobGluayA9PiBsaW5rLnR5cGUgPT0gXCJleGhpYml0aW9uXCIpXG4gICAgLy8gb25seSBzaG93IGV4aGliaXRpb25zIHRhZ2dlZCBgcm90YXRpb25gXG4gICAgdmFyIHNpZ25pZmljYW50RXhoaWJpdGlvbnMgPSBleGhpYml0aW9ucy5maWx0ZXIoZXggPT4gZXgucm90YXRpb24pXG5cbiAgICB2YXIgbWVhdCA9IDxkaXYgY2xhc3NOYW1lPVwiZXhwbG9yZVwiPlxuICAgICAge2V4cGxvcmUubWFwKHRoaXMuYnVpbGQpfVxuICAgIDwvZGl2PlxuICAgIHZhciBleGhpYml0aW9uX3dyYXAgPSA8ZGl2IGNsYXNzTmFtZT1cImV4aGliaXRpb25faXRlbVwiPlxuICAgICAge3NpZ25pZmljYW50RXhoaWJpdGlvbnMubWFwKHRoaXMuYnVpbGQpfVxuICAgIDwvZGl2PlxuXG4gICAgdmFyIGJvbmVzID0gdGhpcy5wcm9wcy5za2lwV3JhcHBlciA/XG4gICAgICBtZWF0IDpcbiAgICAgIDxkaXYgaWQ9XCJleHBsb3JlXCIgY2xhc3NOYW1lPVwiZXhwbG9yZVdyYXBwZXJcIj5cbiAgICAgICAgPGg1IGNsYXNzTmFtZT1cImRldGFpbHMtdGl0bGVcIj5FeHBsb3JlPC9oNT5cbiAgICAgICAge21lYXR9XG4gICAgICA8L2Rpdj5cblxuICAgIHZhciBleGhpYl9ib25lcyA9IDxkaXYgY2xhc3NOYW1lPVwiZXhoaWJpdGlvbldyYXBwZXJcIj5cbiAgICAgICAgPGg1IGNsYXNzTmFtZT1cImRldGFpbHMtdGl0bGVcIj5FeGhpYml0aW9uczwvaDU+XG4gICAgICAgIHtleGhpYml0aW9uX3dyYXB9XG4gICAgICA8L2Rpdj5cblxuICAgIHJldHVybiA8ZGl2PlxuICAgICAge2V4cGxvcmUgJiYgZXhwbG9yZS5sZW5ndGggPiAwICYmIGJvbmVzfVxuICAgICAge3NpZ25pZmljYW50RXhoaWJpdGlvbnMgJiYgc2lnbmlmaWNhbnRFeGhpYml0aW9ucy5sZW5ndGggPiAwICYmIGV4aGliX2JvbmVzfVxuICAgIDwvZGl2PlxuICB9LFxuXG4gIGJ1aWxkKGpzb24pIHtcbiAgICBpZighanNvbi5pZCkganNvbi5pZCA9IHRoaXMucHJvcHMuaWRcbiAgICB2YXIgdHJhY2tSZWxhdGVkQ2xpY2sgPSB0aGlzLnRyYWNrUmVsYXRlZENvbnRlbnRJbnRlcmFjdGlvbi5iaW5kKHRoaXMsIGpzb24pXG4gICAgcmV0dXJuIDxkaXYgb25DbGljaz17dHJhY2tSZWxhdGVkQ2xpY2t9IGtleT17anNvbi5saW5rIHx8IGpzb24udGl0bGV9PlxuICAgICAgeyh0aGlzLnRlbXBsYXRlc1tqc29uLnR5cGVdIHx8IHRoaXMudGVtcGxhdGVzLmRlZmF1bHQpLmJpbmQodGhpcykoanNvbiwgdGhpcy5wcm9wcy5pZCwgdGhpcy5wcm9wcy5oaWdobGlnaHRzLCB0cmFja1JlbGF0ZWRDbGljayl9XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgdHJhY2tSZWxhdGVkQ29udGVudEludGVyYWN0aW9uKGpzb24pIHtcbiAgICAvLyB0cmFjayBjbGlja3Mgb24gcmVsYXRlZCBjb250ZW50IHZpYSBtb3JlLmFydHNtaWEub3JnIGZvcnQgb2JqZWN0cyBvbiBHMzExIGFuZCAzNTVcbiAgICBpZih3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgPT0gXCJtb3JlLmFydHNtaWEub3JnXCIgJiYgWydHMzExJywgJ0czNTUnXS5pbmRleE9mKHRoaXMucHJvcHMuYXJ0LnJvb20pID4gLTEpIHtcbiAgICAgIGdhLmV2ZW50KHtcbiAgICAgICAgY2F0ZWdvcnk6ICdtb3JlLmFydHNtaWEub3JnIHJlbGF0ZWQgY29udGVudCcsXG4gICAgICAgIGFjdGlvbjogJ2NsaWNrZWQnLFxuICAgICAgICBsYWJlbDogYCR7anNvbi5pZH0gLSAke2pzb24udHlwZX0gLSAke2pzb24ubGlua31gLFxuICAgICAgfSlcbiAgICB9XG4gIH0sXG5cbiAgdGVtcGxhdGVzOiB7XG4gICAgYXVkaW86IChqc29uLCBpZCwgXywgdHJhY2spID0+IDxkaXYgY2xhc3NOYW1lPVwiYXVkaW9DbGlwXCI+XG4gICAgICA8YXVkaW8gc3R5bGU9e3ttYXhXaWR0aDogJzEwMCUnfX0gc3JjPXtqc29uLmxpbmsucmVwbGFjZSgnaHR0cDonLCAnaHR0cHM6Jyl9IGNvbnRyb2xzIG9ucGxheT17dHJhY2t9PjwvYXVkaW8+XG4gICAgICA8YSBocmVmPXtqc29uLmxpbmt9PkF1ZGlvIENsaXA8YnIvPjxzdWI+TGlzdGVuLjwvc3ViPjwvYT5cbiAgICA8L2Rpdj4sXG4gICAgbmV3c2ZsYXNoOiAoanNvbikgPT4gPGRpdiBjbGFzc05hbWU9XCJuZXdzZmxhc2hcIiBzdHlsZT17e2JhY2tncm91bmRJbWFnZTogYHVybChodHRwczovL25ld3NmbGFzaC5keC5hcnRzbWlhLm9yZyR7anNvbi5pbWFnZX0pYH19PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJvdmVybGF5XCI+XG4gICAgICA8YSBocmVmPXtqc29uLmxpbmt9Pntqc29uLnRpdGxlfTxici8+PHN1Yj5SZWFkIG1vcmUuPC9zdWI+PC9hPlxuICAgICAgPGkgY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbnNcIj5sYXVuY2g8L2k+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj4sXG4gICAgYXJ0c3Rvcnk6IChqc29uLCBpZCwgaGlnaGxpZ2h0KSA9PiA8ZGl2IGNsYXNzTmFtZT17Y3goXCJhcnRzdG9yeVwiLCB7XCJibG9jay1oaWdobGlnaHRcIjogaGlnaGxpZ2h0ICYmIGhpZ2hsaWdodFtcInJlbGF0ZWQ6YXJ0c3Rvcmllc1wiXX0pfSBzdHlsZT17e2JhY2tncm91bmRJbWFnZTogYHVybCgke2ltYWdlQ0ROKGlkKX0pYCwgLi4uYXJ0c3RvcnlTdGFtcFN0eWxlfX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm92ZXJsYXlcIj5cbiAgICAgICAgPGEgaHJlZj17anNvbi5saW5rfT5BcnRTdG9yaWVzPGJyLz48c3ViPlpvb20gaW4uPC9zdWI+PC9hPlxuICAgICAgICA8aSBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uc1wiPmxhdW5jaDwvaT5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PixcbiAgICBcImFkb3B0LWEtcGFpbnRpbmdcIjogKGpzb24sIGlkLCBoaWdobGlnaHRzKSA9PiB7XG4gICAgICB2YXIgaGlnaGxpZ2h0ID0gaGlnaGxpZ2h0cyAmJiBoaWdobGlnaHRzW1wicmVsYXRlZDphZG9wdC1hLXBhaW50aW5nXCJdXG4gICAgICB2YXIgaGlnaGxpZ2h0ID0gaGlnaGxpZ2h0ID8gSlNPTi5wYXJzZShoaWdobGlnaHRbMF0pIDogbnVsbFxuICAgICAgaWYoIShoaWdobGlnaHQgfHwgd2luZG93LmxvY2F0aW9uICYmIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5tYXRjaCgvcmVsYXRlZC4qYWRvcHQvKSkpIHJldHVybiA8c3BhbiAvPlxuXG4gICAgICBpZihqc29uLmFkb3B0ZWQgPT09IFwiMVwiKSB7XG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImFkb3B0LXB0Z1wiIHN0eWxlPXt7Y2xlYXI6J2JvdGgnfX0+XG4gICAgICAgICAgPGgzPlRoaXMgcGFpbnRpbmcgaGFzIGJlZW4gYWRvcHRlZC48L2gzPlxuICAgICAgICAgIDxhIGhyZWY9XCIvaW5mby9hZG9wdC1hLXBhaW50aW5nXCI+TGVhcm4gbW9yZSBhYm91dCBhZG9wdGluZyBhIHBhaW50aW5nLiA8aSBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uc1wiPmxhdW5jaDwvaT48L2E+XG4gICAgICAgICAge2hpZ2hsaWdodCAmJiA8ZGl2Pkl0IG5lZWRlZCBhZG9wdGlvbiBiZWNhdXNl4oCmIDxibG9ja3F1b3RlPjxNYXJrZG93bj57aGlnaGxpZ2h0LmRlc2NyaXB0aW9ufTwvTWFya2Rvd24+PC9ibG9ja3F1b3RlPjwvZGl2Pn1cbiAgICAgICAgPC9kaXY+XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJhZG9wdC1wdGdcIj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7d2lkdGg6IFwiMTAwJVwifX0+XG4gICAgICAgICAgPGgzPkFkb3B0LWEtUGFpbnRpbmc8L2gzPlxuICAgICAgICAgIDxwPkNvc3QgPHNwYW4gY2xhc3NOYW1lPVwiY29zdFwiPntqc29uLmNvc3R9PC9zcGFuPjwvcD5cbiAgICAgICAgICA8TWFya2Rvd24+e2hpZ2hsaWdodCA/IGhpZ2hsaWdodC5kZXNjcmlwdGlvbiA6IGpzb24uZGVzY3JpcHRpb259PC9NYXJrZG93bj5cbiAgICAgICAgICA8YSBocmVmPVwiL2luZm8vYWRvcHQtYS1wYWludGluZ1wiPkxlYXJuIGhvdyB0byBhZG9wdCB0aGlzIHBhaW50aW5nLiA8aSBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uc1wiPmxhdW5jaDwvaT48L2E+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgfVxuICAgIH0sXG4gICAgZGVmYXVsdDogKGpzb24sIGlkLCBoaWdobGlnaHRzKSA9PiB7XG4gICAgICB2YXIgbWlhU3RvcnlNYXRjaGVzID0gaGlnaGxpZ2h0cyAmJiBoaWdobGlnaHRzWydyZWxhdGVkOnN0b3JpZXMnXSAmJiBoaWdobGlnaHRzWydyZWxhdGVkOnN0b3JpZXMnXS5maWx0ZXIoaCA9PiB7IHZhciBoID0gSlNPTi5wYXJzZShoKTsgcmV0dXJuIGpzb24udGl0bGUgPT0gaC50aXRsZS5yZXBsYWNlKC88XFwvP2VtPi9nLCAnJykgfSlcbiAgICAgIHZhciBkZWZhdWx0U3R5bGUgPSB7YmFja2dyb3VuZENvbG9yOiBcInJnYigzNSwzNSwzNSlcIn1cblxuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiZXhwbG9yZS1jb250ZW50XCIgc3R5bGU9e2RlZmF1bHRTdHlsZX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjeChcIm92ZXJsYXlcIiwge1wiYmxvY2staGlnaGxpZ2h0XCI6IG1pYVN0b3J5TWF0Y2hlcyAmJiBtaWFTdG9yeU1hdGNoZXMubGVuZ3RoID4gMH0pfT5cbiAgICAgICAgICA8YSBocmVmPXtqc29uLmxpbmt9Pntqc29uLnRpdGxlfTxici8+PHN1Yj5FeHBsb3JlIG1vcmUuPC9zdWI+PC9hPlxuICAgICAgICAgIDxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zXCI+bGF1bmNoPC9pPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIH0sXG4gICAgXCJleGhpYml0aW9uXCI6IChqc29uLCBpZCwgaGlnaGxpZ2h0cykgPT4ge1xuICAgICAgdmFyIG90aGVyQXJ0Q291bnQgPSBqc29uLm9iamVjdElkcyA/IGpzb24ub2JqZWN0SWRzLmxlbmd0aC0xIDogJyh4KSdcblxuICAgICAgcmV0dXJuIDx1bCBjbGFzc05hbWU9XCJleGhpYml0aW9uc1wiIHN0eWxlPXt7Y2xlYXI6IFwiYm90aFwifX0+XG4gICAgICAgIDxsaT48aDQ+PExpbmsgdG89XCJleGhpYml0aW9uXCIgcGFyYW1zPXt7aWQ6IGpzb24uaWR9fT57anNvbi50aXRsZX08L0xpbms+PC9oND4ge2pzb24uZGF0ZX08L2xpPlxuICAgICAgPC91bD5cbiAgICB9LFxuICAgIFwiM2RcIjogKGpzb24sIGlkKSA9PiB7XG4gICAgICB2YXIgc3R5bGUgPSB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJyZ2IoMzUsMzUsMzUpXCIsXG4gICAgICAgIGJhY2tncm91bmRJbWFnZTogYHVybCgke2pzb24udGh1bWJ9KWAsXG4gICAgICAgIC4uLmFydHN0b3J5U3RhbXBTdHlsZVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJleHBsb3JlLWNvbnRlbnQgM2RcIiBzdHlsZT17c3R5bGV9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm92ZXJsYXlcIj5cbiAgICAgICAgICA8YSBocmVmPXtqc29uLmxpbmt9Pjxici8+8J+RkzxzdWI+RXhwbG9yZSBpbiAzRDwvc3ViPjwvYT5cbiAgICAgICAgICA8aSBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uc1wiPmxhdW5jaDwvaT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICB9XG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFydHdvcmtSZWxhdGVkQ29udGVudFxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/artwork-related.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/artwork-related.js",
      "sourcesContent": [
        "var React = require('react')\nvar rest = require('rest')\nvar cx = require('classnames')\nvar {Link} = require('react-router')\nvar ga = require('react-ga')\n\nvar Markdown = require('./markdown')\nvar imageCDN = require('./image-cdn')\n\nvar artstoryStampStyle = {\n  backgroundPosition: 'center center',\n  backgroundSize: 'contain',\n}\n\nvar ArtworkRelatedContent = React.createClass({\n  render() {\n    var {art} = this.props\n    if(!art) return <span/>\n\n    var links = Object.keys(art).filter(key => key.match('related:'))\n    .reduce((relateds, key) => {\n      var linkOrListOfLinks = (typeof art[key] == 'string') ? JSON.parse(art[key]) : art[key]\n      Array.isArray(linkOrListOfLinks) ?\n          relateds = relateds.concat(linkOrListOfLinks) :\n          relateds.push(linkOrListOfLinks)\n\n      return relateds\n    }, [])\n\n    var explore = links.filter(link => link.type !== \"exhibition\")\n    var exhibitions = links.filter(link => link.type == \"exhibition\")\n    // only show exhibitions tagged `rotation`\n    var significantExhibitions = exhibitions.filter(ex => ex.rotation)\n\n    var meat = <div className=\"explore\">\n      {explore.map(this.build)}\n    </div>\n    var exhibition_wrap = <div className=\"exhibition_item\">\n      {significantExhibitions.map(this.build)}\n    </div>\n\n    var bones = this.props.skipWrapper ?\n      meat :\n      <div id=\"explore\" className=\"exploreWrapper\">\n        <h5 className=\"details-title\">Explore</h5>\n        {meat}\n      </div>\n\n    var exhib_bones = <div className=\"exhibitionWrapper\">\n        <h5 className=\"details-title\">Exhibitions</h5>\n        {exhibition_wrap}\n      </div>\n\n    return <div>\n      {explore && explore.length > 0 && bones}\n      {significantExhibitions && significantExhibitions.length > 0 && exhib_bones}\n    </div>\n  },\n\n  build(json) {\n    if(!json.id) json.id = this.props.id\n    var trackRelatedClick = this.trackRelatedContentInteraction.bind(this, json)\n    return <div onClick={trackRelatedClick} key={json.link || json.title}>\n      {(this.templates[json.type] || this.templates.default).bind(this)(json, this.props.id, this.props.highlights, trackRelatedClick)}\n    </div>\n  },\n\n  trackRelatedContentInteraction(json) {\n    // track clicks on related content via more.artsmia.org fort objects on G311 and 355\n    if(window.location.hostname == \"more.artsmia.org\" && ['G311', 'G355'].indexOf(this.props.art.room) > -1) {\n      ga.event({\n        category: 'more.artsmia.org related content',\n        action: 'clicked',\n        label: `${json.id} - ${json.type} - ${json.link}`,\n      })\n    }\n  },\n\n  templates: {\n    audio: (json, id, _, track) => <div className=\"audioClip\">\n      <audio style={{maxWidth: '100%'}} src={json.link.replace('http:', 'https:')} controls onplay={track}></audio>\n      <a href={json.link}>Audio Clip<br/><sub>Listen.</sub></a>\n    </div>,\n    newsflash: (json) => <div className=\"newsflash\" style={{backgroundImage: `url(https://newsflash.dx.artsmia.org${json.image})`}}>\n      <div className=\"overlay\">\n      <a href={json.link}>{json.title}<br/><sub>Read more.</sub></a>\n      <i className=\"material-icons\">launch</i>\n      </div>\n    </div>,\n    artstory: (json, id, highlight) => <div className={cx(\"artstory\", {\"block-highlight\": highlight && highlight[\"related:artstories\"]})} style={{backgroundImage: `url(${imageCDN(id)})`, ...artstoryStampStyle}}>\n      <div className=\"overlay\">\n        <a href={json.link}>ArtStories<br/><sub>Zoom in.</sub></a>\n        <i className=\"material-icons\">launch</i>\n      </div>\n    </div>,\n    \"adopt-a-painting\": (json, id, highlights) => {\n      var highlight = highlights && highlights[\"related:adopt-a-painting\"]\n      var highlight = highlight ? JSON.parse(highlight[0]) : null\n      if(!(highlight || window.location && window.location.pathname.match(/related.*adopt/))) return <span />\n\n      if(json.adopted === \"1\") {\n        return <div className=\"adopt-ptg\" style={{clear:'both'}}>\n          <h3>This painting has been adopted.</h3>\n          <a href=\"/info/adopt-a-painting\">Learn more about adopting a painting. <i className=\"material-icons\">launch</i></a>\n          {highlight && <div>It needed adoption because… <blockquote><Markdown>{highlight.description}</Markdown></blockquote></div>}\n        </div>\n      } else {\n        return <div className=\"adopt-ptg\">\n          <div style={{width: \"100%\"}}>\n          <h3>Adopt-a-Painting</h3>\n          <p>Cost <span className=\"cost\">{json.cost}</span></p>\n          <Markdown>{highlight ? highlight.description : json.description}</Markdown>\n          <a href=\"/info/adopt-a-painting\">Learn how to adopt this painting. <i className=\"material-icons\">launch</i></a>\n          </div>\n        </div>\n      }\n    },\n    default: (json, id, highlights) => {\n      var miaStoryMatches = highlights && highlights['related:stories'] && highlights['related:stories'].filter(h => { var h = JSON.parse(h); return json.title == h.title.replace(/<\\/?em>/g, '') })\n      var defaultStyle = {backgroundColor: \"rgb(35,35,35)\"}\n\n      return <div className=\"explore-content\" style={defaultStyle}>\n        <div className={cx(\"overlay\", {\"block-highlight\": miaStoryMatches && miaStoryMatches.length > 0})}>\n          <a href={json.link}>{json.title}<br/><sub>Explore more.</sub></a>\n          <i className=\"material-icons\">launch</i>\n        </div>\n      </div>\n    },\n    \"exhibition\": (json, id, highlights) => {\n      var otherArtCount = json.objectIds ? json.objectIds.length-1 : '(x)'\n\n      return <ul className=\"exhibitions\" style={{clear: \"both\"}}>\n        <li><h4><Link to=\"exhibition\" params={{id: json.id}}>{json.title}</Link></h4> {json.date}</li>\n      </ul>\n    },\n    \"3d\": (json, id) => {\n      var style = {\n        backgroundColor: \"rgb(35,35,35)\",\n        backgroundImage: `url(${json.thumb})`,\n        ...artstoryStampStyle\n      }\n\n      return <div className=\"explore-content 3d\" style={style}>\n        <div className=\"overlay\">\n          <a href={json.link}><br/>👓<sub>Explore in 3D</sub></a>\n          <i className=\"material-icons\">launch</i>\n        </div>\n      </div>\n    }\n  },\n})\n\nmodule.exports = ArtworkRelatedContent\n"
      ]
    },
    "mtime": 1485807805242
  },
  "{\"filename\":\"/var/www/art/src/search-results/grid.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "object-without-properties",
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\nvar Router = require('react-router');\nvar splitArray = require('split-array');\n\nvar ImageQuilt = require('../image-quilt');\nvar ArtworkImage = require('../artwork-image');\nvar FocusedResult = require('./focused.js');\nvar SearchSummary = require('../search-summary');\n\nvar SearchResultsGrid = React.createClass({\n  displayName: 'SearchResultsGrid',\n\n  mixins: [Router.Navigation],\n\n  componentWillMount: function componentWillMount() {\n    this.cachedQuilts = [];\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    var searchChanged = this.props.search.query != nextProps.search.query || this.props.search.filters != nextProps.search.filters || this.props.hits.slice(0, 10) !== nextProps.hits.slice(0, 10);\n\n    if (searchChanged) {\n      this.cachedQuilts = [];\n    }\n  },\n\n  render: function render() {\n    var _this = this;\n\n    var _props = this.props;\n    var hits = _props.hits;\n    var leftColumnWidth = _props.leftColumnWidth;\n    var focusedResult = _props.focusedResult;\n    var smallViewport = _props.smallViewport;\n    var focusHandler = _props.focusHandler;\n\n    var focusedProps = _objectWithoutProperties(_props, ['hits', 'leftColumnWidth', 'focusedResult', 'smallViewport', 'focusHandler']);\n\n    var targetHeight = hits.length < 20 ? 250 : 150;\n    var quilts = splitArray(hits, 50).map(function (chunkedHits, index) {\n      var chunkedQuilt = _this.cachedQuilts[index] || React.createElement(ImageQuilt, {\n        artworks: chunkedHits,\n        maxRows: 1000,\n        rowHeight: targetHeight,\n        maxRowHeight: 500,\n        onClick: _this.clickResult,\n        key: index,\n        disableHover: true });\n\n      if (chunkedHits.length >= 50) _this.cachedQuilts[index] = chunkedQuilt;\n      return chunkedQuilt;\n    });\n\n    var dividedQuilts = quilts.map(function (quilt, index) {\n      var start = index * 50;\n      var end = (index + 1) * 50;\n      return React.createElement(\n        'div',\n        { id: 'range:' + start + '-' + end },\n        quilt\n      );\n    });\n    var more = this.props.postSearch;\n\n    var stuff = React.createElement(\n      'div',\n      null,\n      dividedQuilts,\n      more\n    );\n\n    if (smallViewport || this.context.universal) {\n      focusedResult = null;\n    }\n\n    if (!focusedResult) leftColumnWidth = '100%';\n\n    var wrappedQuilt = !focusedResult ? stuff : React.createElement(\n      'div',\n      { className: 'leftBar', style: { position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, width: leftColumnWidth } },\n      stuff\n    );\n\n    return React.createElement(\n      'div',\n      { style: { position: 'relative', minHeight: this.props.minHeight } },\n      wrappedQuilt,\n      focusedResult && React.createElement(FocusedResult, _extends({ key: focusedResult._source.id, art: focusedResult._source, highlights: focusedResult.highlight }, this.props))\n    );\n  },\n\n  clickResult: function clickResult(art) {\n    art && this.props.focusHandler(art, SearchResultsGrid);\n  }\n});\n\nmodule.exports = SearchResultsGrid;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvc2VhcmNoLXJlc3VsdHMvZ3JpZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0FBQ3BDLElBQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQTs7QUFFdkMsSUFBSSxVQUFVLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUE7QUFDMUMsSUFBSSxZQUFZLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUE7QUFDOUMsSUFBSSxhQUFhLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0FBQzNDLElBQUksYUFBYSxHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFBOztBQUVoRCxJQUFJLGlCQUFpQixHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUN4QyxRQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDOztBQUUzQixvQkFBa0IsRUFBQSw4QkFBRztBQUNuQixRQUFJLENBQUMsWUFBWSxHQUFHLEVBQUUsQ0FBQTtHQUN2Qjs7QUFFRCwyQkFBeUIsRUFBQSxtQ0FBQyxTQUFTLEVBQUU7QUFDbkMsUUFBSSxhQUFhLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxJQUFJLFNBQVMsQ0FBQyxNQUFNLENBQUMsS0FBSyxJQUNoRSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxPQUFPLElBQUksU0FBUyxDQUFDLE1BQU0sQ0FBQyxPQUFPLElBQ3JELElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEtBQUssU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFBOztBQUVq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RyxFQUFFO0FBQ2YsT0FBRyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEdBQUcsRUFBRSxpQkFBaUIsQ0FBQyxDQUFBO0dBQ3ZEO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsaUJBQWlCLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9zZWFyY2gtcmVzdWx0cy9ncmlkLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIgc3BsaXRBcnJheSA9IHJlcXVpcmUoJ3NwbGl0LWFycmF5JylcblxudmFyIEltYWdlUXVpbHQgPSByZXF1aXJlKCcuLi9pbWFnZS1xdWlsdCcpXG52YXIgQXJ0d29ya0ltYWdlID0gcmVxdWlyZSgnLi4vYXJ0d29yay1pbWFnZScpXG52YXIgRm9jdXNlZFJlc3VsdCA9IHJlcXVpcmUoJy4vZm9jdXNlZC5qcycpXG52YXIgU2VhcmNoU3VtbWFyeSA9IHJlcXVpcmUoJy4uL3NlYXJjaC1zdW1tYXJ5JylcblxudmFyIFNlYXJjaFJlc3VsdHNHcmlkID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBtaXhpbnM6IFtSb3V0ZXIuTmF2aWdhdGlvbl0sXG5cbiAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHRoaXMuY2FjaGVkUXVpbHRzID0gW11cbiAgfSxcblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIHZhciBzZWFyY2hDaGFuZ2VkID0gdGhpcy5wcm9wcy5zZWFyY2gucXVlcnkgIT0gbmV4dFByb3BzLnNlYXJjaC5xdWVyeVxuICAgICAgfHwgdGhpcy5wcm9wcy5zZWFyY2guZmlsdGVycyAhPSBuZXh0UHJvcHMuc2VhcmNoLmZpbHRlcnNcbiAgICAgIHx8IHRoaXMucHJvcHMuaGl0cy5zbGljZSgwLCAxMCkgIT09IG5leHRQcm9wcy5oaXRzLnNsaWNlKDAsIDEwKVxuXG4gICAgaWYoc2VhcmNoQ2hhbmdlZCkge1xuICAgICAgdGhpcy5jYWNoZWRRdWlsdHMgPSBbXVxuICAgIH1cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHtoaXRzLCBsZWZ0Q29sdW1uV2lkdGgsIGZvY3VzZWRSZXN1bHQsIHNtYWxsVmlld3BvcnQsIGZvY3VzSGFuZGxlciwgLi4uZm9jdXNlZFByb3BzfSA9IHRoaXMucHJvcHNcbiAgICB2YXIgdGFyZ2V0SGVpZ2h0ID0gaGl0cy5sZW5ndGggPCAyMCA/IDI1MCA6IDE1MFxuICAgIHZhciBxdWlsdHMgPSBzcGxpdEFycmF5KGhpdHMsIDUwKS5tYXAoKGNodW5rZWRIaXRzLCBpbmRleCkgPT4ge1xuICAgICAgdmFyIGNodW5rZWRRdWlsdCA9IHRoaXMuY2FjaGVkUXVpbHRzW2luZGV4XSB8fCA8SW1hZ2VRdWlsdFxuICAgICAgICBhcnR3b3Jrcz17Y2h1bmtlZEhpdHN9XG4gICAgICAgIG1heFJvd3M9ezEwMDB9XG4gICAgICAgIHJvd0hlaWdodD17dGFyZ2V0SGVpZ2h0fVxuICAgICAgICBtYXhSb3dIZWlnaHQ9ezUwMH1cbiAgICAgICAgb25DbGljaz17dGhpcy5jbGlja1Jlc3VsdH1cbiAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgZGlzYWJsZUhvdmVyPXt0cnVlfSAvPlxuXG4gICAgICBpZihjaHVua2VkSGl0cy5sZW5ndGggPj0gNTApIHRoaXMuY2FjaGVkUXVpbHRzW2luZGV4XSA9IGNodW5rZWRRdWlsdFxuICAgICAgcmV0dXJuIGNodW5rZWRRdWlsdFxuICAgIH0pXG5cbiAgICB2YXIgZGl2aWRlZFF1aWx0cyA9IHF1aWx0cy5tYXAoKHF1aWx0LCBpbmRleCkgPT4ge1xuICAgICAgdmFyIHN0YXJ0ID0gaW5kZXgqNTBcbiAgICAgIHZhciBlbmQgPSAoaW5kZXgrMSkqNTBcbiAgICAgIHJldHVybiA8ZGl2IGlkPXtgcmFuZ2U6JHtzdGFydH0tJHtlbmR9YH0+XG4gICAgICAgIHtxdWlsdH1cbiAgICAgIDwvZGl2PlxuICAgIH0pXG4gICAgdmFyIG1vcmUgPSB0aGlzLnByb3BzLnBvc3RTZWFyY2hcblxuICAgIHZhciBzdHVmZiA9IDxkaXY+XG4gICAgICB7ZGl2aWRlZFF1aWx0c31cbiAgICAgIHttb3JlfVxuICAgIDwvZGl2PlxuXG4gICAgaWYoc21hbGxWaWV3cG9ydCB8fCB0aGlzLmNvbnRleHQudW5pdmVyc2FsKSB7XG4gICAgICBmb2N1c2VkUmVzdWx0ID0gbnVsbFxuICAgIH1cblxuICAgIGlmKCFmb2N1c2VkUmVzdWx0KSBsZWZ0Q29sdW1uV2lkdGggPSAnMTAwJSdcblxuICAgIHZhciB3cmFwcGVkUXVpbHQgPSAhZm9jdXNlZFJlc3VsdCA/XG4gICAgICBzdHVmZiA6XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImxlZnRCYXJcIiBzdHlsZT17e3Bvc2l0aW9uOiAnYWJzb2x1dGUnLCB0b3A6IDAsIGxlZnQ6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAsIHdpZHRoOiBsZWZ0Q29sdW1uV2lkdGh9fT5cbiAgICAgICAge3N0dWZmfVxuICAgICAgPC9kaXY+XG5cbiAgICByZXR1cm4gPGRpdiBzdHlsZT17e3Bvc2l0aW9uOiAncmVsYXRpdmUnLCBtaW5IZWlnaHQ6IHRoaXMucHJvcHMubWluSGVpZ2h0fX0+XG4gICAgICB7d3JhcHBlZFF1aWx0fVxuICAgICAge2ZvY3VzZWRSZXN1bHQgJiYgPEZvY3VzZWRSZXN1bHQga2V5PXtmb2N1c2VkUmVzdWx0Ll9zb3VyY2UuaWR9IGFydD17Zm9jdXNlZFJlc3VsdC5fc291cmNlfSBoaWdobGlnaHRzPXtmb2N1c2VkUmVzdWx0LmhpZ2hsaWdodH0gey4uLnRoaXMucHJvcHN9Lz59XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgY2xpY2tSZXN1bHQoYXJ0KSB7XG4gICAgYXJ0ICYmIHRoaXMucHJvcHMuZm9jdXNIYW5kbGVyKGFydCwgU2VhcmNoUmVzdWx0c0dyaWQpXG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNlYXJjaFJlc3VsdHNHcmlkXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/search-results/grid.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/search-results/grid.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar splitArray = require('split-array')\n\nvar ImageQuilt = require('../image-quilt')\nvar ArtworkImage = require('../artwork-image')\nvar FocusedResult = require('./focused.js')\nvar SearchSummary = require('../search-summary')\n\nvar SearchResultsGrid = React.createClass({\n  mixins: [Router.Navigation],\n\n  componentWillMount() {\n    this.cachedQuilts = []\n  },\n\n  componentWillReceiveProps(nextProps) {\n    var searchChanged = this.props.search.query != nextProps.search.query\n      || this.props.search.filters != nextProps.search.filters\n      || this.props.hits.slice(0, 10) !== nextProps.hits.slice(0, 10)\n\n    if(searchChanged) {\n      this.cachedQuilts = []\n    }\n  },\n\n  render() {\n    var {hits, leftColumnWidth, focusedResult, smallViewport, focusHandler, ...focusedProps} = this.props\n    var targetHeight = hits.length < 20 ? 250 : 150\n    var quilts = splitArray(hits, 50).map((chunkedHits, index) => {\n      var chunkedQuilt = this.cachedQuilts[index] || <ImageQuilt\n        artworks={chunkedHits}\n        maxRows={1000}\n        rowHeight={targetHeight}\n        maxRowHeight={500}\n        onClick={this.clickResult}\n        key={index}\n        disableHover={true} />\n\n      if(chunkedHits.length >= 50) this.cachedQuilts[index] = chunkedQuilt\n      return chunkedQuilt\n    })\n\n    var dividedQuilts = quilts.map((quilt, index) => {\n      var start = index*50\n      var end = (index+1)*50\n      return <div id={`range:${start}-${end}`}>\n        {quilt}\n      </div>\n    })\n    var more = this.props.postSearch\n\n    var stuff = <div>\n      {dividedQuilts}\n      {more}\n    </div>\n\n    if(smallViewport || this.context.universal) {\n      focusedResult = null\n    }\n\n    if(!focusedResult) leftColumnWidth = '100%'\n\n    var wrappedQuilt = !focusedResult ?\n      stuff :\n      <div className=\"leftBar\" style={{position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, width: leftColumnWidth}}>\n        {stuff}\n      </div>\n\n    return <div style={{position: 'relative', minHeight: this.props.minHeight}}>\n      {wrappedQuilt}\n      {focusedResult && <FocusedResult key={focusedResult._source.id} art={focusedResult._source} highlights={focusedResult.highlight} {...this.props}/>}\n    </div>\n  },\n\n  clickResult(art) {\n    art && this.props.focusHandler(art, SearchResultsGrid)\n  },\n})\n\nmodule.exports = SearchResultsGrid\n"
      ]
    },
    "mtime": 1485807805250
  },
  "{\"filename\":\"/var/www/art/src/suggest.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar Suggest = React.createClass({\n  displayName: 'Suggest',\n\n  render: function render() {\n    var search = this.props.search;\n\n    var suggestions = Array.from(this.getSuggestions()).slice(0, 5);\n\n    if (suggestions.length == 0) return React.createElement('span', { className: 'noSuggestions' });\n\n    var suggestionLinks = suggestions.map(function (name) {\n      return React.createElement(\n        Link,\n        { to: '/search/' + name },\n        name\n      );\n    }).map(function (link, index) {\n      return React.createElement(\n        'span',\n        { key: index },\n        link,\n        index === suggestions.length - 1 || ', '\n      );\n    });\n\n    var style = _extends({ marginBottom: '1em', textAlign: 'center' }, this.props.style);\n\n    return React.createElement(\n      'div',\n      { id: 'suggestions', style: style },\n      React.createElement(\n        'p',\n        null,\n        'Looking for ',\n        suggestionLinks,\n        '?'\n      ),\n      React.createElement(\n        'datalist',\n        { id: 'searchCompletions' },\n        suggestions.map(function (option) {\n          return React.createElement(\n            'option',\n            { key: option },\n            option\n          );\n        })\n      )\n    );\n  },\n\n  getSuggestions: function getSuggestions() {\n    var search = this.props.search;\n\n    var suggest = this.props.completions || search && search.suggest || {};\n\n    var suggestions = Object.keys(suggest).filter(function (key) {\n      return key !== '_shards' && suggest[key].length > 0;\n    }).map(function (key) {\n      return suggest[key][0].options.map(function (suggestion) {\n        return _extends({}, suggestion, { type: key });\n      });\n    }).reduce(function (flattenedArray, options) {\n      return flattenedArray.concat(options);\n    }, [])\n    // re-score title completions to 10%, artist is more important\n    .map(function (option) {\n      return _extends({}, option, { score: option.score / (option.type == 'title_completion' ? 10 : 1) });\n    })\n    // re-score highlight completions\n    .map(function (option) {\n      return _extends({}, option, { score: option.score * (option.type == 'highlight_artist_completion' ? 5000 : 1) });\n    }).sort(function (a, b) {\n      return a.score < b.score;\n    }).map(function (option) {\n      return option ? option.text : null;\n    }).filter(function (text) {\n      return search ? text && text !== search.query : true;\n    });\n\n    return new Set(suggestions);\n  }\n});\n\nmodule.exports = Suggest;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvc3VnZ2VzdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBOztlQUNmLE9BQU8sQ0FBQyxjQUFjLENBQUM7O0lBQS9CLElBQUksWUFBSixJQUFJOztBQUVULElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUM5QixRQUFNLEVBQUEsa0JBQUc7UUFDRixNQUFNLEdBQUksSUFBSSxDQUFDLEtBQUssQ0FBcEIsTUFBTTs7QUFDWCxRQUFJLFdBQVcsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUNsRCxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBOztBQUVaLFFBQUcsV0FBVyxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUUsT0FBTyw4QkFBTSxTQUFTLEVBQUMsZUFBZSxHQUFRLENBQUE7O0FBRTFFLFFBQUksZUFBZSxHQUFHLFdBQVcsQ0FDaEMsR0FBRyxDQUFDLFVBQUEsSUFBSTthQUFJO0FBQUMsWUFBSTtVQUFDLEVBQUUsZUFBYSxJQUFJLEFBQUc7UUFBRSxJQUFJO09BQVE7S0FBQSxDQUFDLENBQ3ZELEdBQUcsQ0FBQyxVQUFDLElBQUksRUFBRSxLQUFLO2FBQUs7O1VBQU0sR0FBRyxFQUFFLEtBQUssQUFBQztRQUFFLElBQUk7UUFBRSxLQUFLLEtBQUssV0FBVyxDQUFDLE1BQU0sR0FBQyxDQUFDLElBQUksSUFBSTtPQUFRO0tBQUEsQ0FBQyxDQUFBOztBQUU5RixRQUFJLEtBQUssY0FBSSxZQUFZLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxRQUFRLElBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQTs7QUFFM0UsV0FBTzs7UUFBSyxFQUFFLEVBQUMsYUFBYSxFQUFDLEtBQUssRUFBRSxLQUFLLEFBQUM7TUFDeEM7Ozs7UUFBZ0IsZUFBZTs7T0FBTTtNQUNyQzs7VUFBVSxFQUFFLEVBQUMsbUJBQW1CO1FBQzdCLFdBQVcsQ0FBQyxHQUFHLENBQUMsVUFBQSxNQUFNO2lCQUFJOztjQUFRLEdBQUcsRUFBRSxNQUFNLEFBQUM7WUFBRSxNQUFNO1dBQVU7U0FBQSxDQUFDO09BQ3pEO0tBQ1AsQ0FBQTtHQUNQOztBQUVELGdCQUFjLEVBQUEsMEJBQUc7UUFDVixNQUFNLEdBQUksSUFBSSxDQUFDLEtBQUssQ0FBcEIsTUFBTTs7QUFDWCxRQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsSUFBSSxNQUFNLElBQUksTUFBTSxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUE7O0FBRXRFLFFBQUksV0FBVyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQ3JDLE1BQU0sQ0FBQyxVQUFBLEdBQUc7YUFBSSxHQUFHLEtBQUssU0FBUyxJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQztLQUFBLENBQUMsQ0FDM0QsR0FBRyxDQUFDLFVBQUEsR0FBRzthQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQUEsVUFBVTs0QkFBUyxVQUFVLElBQUUsSUFBSSxFQUFFLEdBQUc7T0FBRSxDQUFDO0tBQUEsQ0FBQyxDQUNuRixNQUFNLENBQUMsVUFBQyxjQUFjLEVBQUUsT0FBTzthQUFLLGNBQWMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDO0tBQUEsRUFBRSxFQUFFLENBQUM7O0tBRXZFLEdBQUcsQ0FBQyxVQUFBLE1BQU07MEJBQVMsTUFBTSxJQUFFLEtBQUssRUFBRSxNQUFNLENBQUMsS0FBSyxJQUFJLE1BQU0sQ0FBQyxJQUFJLElBQUksa0JBQWtCLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQSxBQUFDO0tBQUUsQ0FBQzs7S0FFaEcsR0FBRyxDQUFDLFVBQUEsTUFBTTswQkFBUyxNQUFNLElBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxLQUFLLElBQUksTUFBTSxDQUFDLElBQUksSUFBSSw2QkFBNkIsR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFBLEFBQUM7S0FBRSxDQUFDLENBQzdHLElBQUksQ0FBQyxVQUFDLENBQUMsRUFBRSxDQUFDO2FBQUssQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsS0FBSztLQUFBLENBQUMsQ0FDakMsR0FBRyxDQUFDLFVBQUEsTUFBTTthQUFJLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxHQUFHLElBQUk7S0FBQSxDQUFDLENBQzFDLE1BQU0sQ0FBQyxVQUFBLElBQUk7YUFBSSxNQUFNLEdBQUksSUFBSSxJQUFJLElBQUksS0FBSyxNQUFNLENBQUMsS0FBSyxHQUFJLElBQUk7S0FBQSxDQUFDLENBQUE7O0FBRWhFLFdBQU8sSUFBSSxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUE7R0FDNUI7Q0FDRixDQUFDLENBQUE7O0FBRUYsTUFBTSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9zdWdnZXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIHtMaW5rfSA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG5cbnZhciBTdWdnZXN0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHtzZWFyY2h9ID0gdGhpcy5wcm9wc1xuICAgIHZhciBzdWdnZXN0aW9ucyA9IEFycmF5LmZyb20odGhpcy5nZXRTdWdnZXN0aW9ucygpKVxuICAgIC5zbGljZSgwLCA1KVxuXG4gICAgaWYoc3VnZ2VzdGlvbnMubGVuZ3RoID09IDApIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJub1N1Z2dlc3Rpb25zXCI+PC9zcGFuPlxuXG4gICAgdmFyIHN1Z2dlc3Rpb25MaW5rcyA9IHN1Z2dlc3Rpb25zXG4gICAgLm1hcChuYW1lID0+IDxMaW5rIHRvPXtgL3NlYXJjaC8ke25hbWV9YH0+e25hbWV9PC9MaW5rPilcbiAgICAubWFwKChsaW5rLCBpbmRleCkgPT4gPHNwYW4ga2V5PXtpbmRleH0+e2xpbmt9e2luZGV4ID09PSBzdWdnZXN0aW9ucy5sZW5ndGgtMSB8fCAnLCAnfTwvc3Bhbj4pXG5cbiAgICB2YXIgc3R5bGUgPSB7bWFyZ2luQm90dG9tOiAnMWVtJywgdGV4dEFsaWduOiAnY2VudGVyJywgLi4udGhpcy5wcm9wcy5zdHlsZX1cblxuICAgIHJldHVybiA8ZGl2IGlkPVwic3VnZ2VzdGlvbnNcIiBzdHlsZT17c3R5bGV9PlxuICAgICAgPHA+TG9va2luZyBmb3Ige3N1Z2dlc3Rpb25MaW5rc30/PC9wPlxuICAgICAgPGRhdGFsaXN0IGlkPVwic2VhcmNoQ29tcGxldGlvbnNcIj5cbiAgICAgICAge3N1Z2dlc3Rpb25zLm1hcChvcHRpb24gPT4gPG9wdGlvbiBrZXk9e29wdGlvbn0+e29wdGlvbn08L29wdGlvbj4pfVxuICAgICAgPC9kYXRhbGlzdD5cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBnZXRTdWdnZXN0aW9ucygpIHtcbiAgICB2YXIge3NlYXJjaH0gPSB0aGlzLnByb3BzXG4gICAgdmFyIHN1Z2dlc3QgPSB0aGlzLnByb3BzLmNvbXBsZXRpb25zIHx8IHNlYXJjaCAmJiBzZWFyY2guc3VnZ2VzdCB8fCB7fVxuXG4gICAgdmFyIHN1Z2dlc3Rpb25zID0gT2JqZWN0LmtleXMoc3VnZ2VzdClcbiAgICAuZmlsdGVyKGtleSA9PiBrZXkgIT09ICdfc2hhcmRzJyAmJiBzdWdnZXN0W2tleV0ubGVuZ3RoID4gMClcbiAgICAubWFwKGtleSA9PiBzdWdnZXN0W2tleV1bMF0ub3B0aW9ucy5tYXAoc3VnZ2VzdGlvbiA9PiAoey4uLnN1Z2dlc3Rpb24sIHR5cGU6IGtleX0pKSlcbiAgICAucmVkdWNlKChmbGF0dGVuZWRBcnJheSwgb3B0aW9ucykgPT4gZmxhdHRlbmVkQXJyYXkuY29uY2F0KG9wdGlvbnMpLCBbXSlcbiAgICAvLyByZS1zY29yZSB0aXRsZSBjb21wbGV0aW9ucyB0byAxMCUsIGFydGlzdCBpcyBtb3JlIGltcG9ydGFudFxuICAgIC5tYXAob3B0aW9uID0+ICh7Li4ub3B0aW9uLCBzY29yZTogb3B0aW9uLnNjb3JlIC8gKG9wdGlvbi50eXBlID09ICd0aXRsZV9jb21wbGV0aW9uJyA/IDEwIDogMSl9KSlcbiAgICAvLyByZS1zY29yZSBoaWdobGlnaHQgY29tcGxldGlvbnNcbiAgICAubWFwKG9wdGlvbiA9PiAoey4uLm9wdGlvbiwgc2NvcmU6IG9wdGlvbi5zY29yZSAqIChvcHRpb24udHlwZSA9PSAnaGlnaGxpZ2h0X2FydGlzdF9jb21wbGV0aW9uJyA/IDUwMDAgOiAxKX0pKVxuICAgIC5zb3J0KChhLCBiKSA9PiBhLnNjb3JlIDwgYi5zY29yZSlcbiAgICAubWFwKG9wdGlvbiA9PiBvcHRpb24gPyBvcHRpb24udGV4dCA6IG51bGwpXG4gICAgLmZpbHRlcih0ZXh0ID0+IHNlYXJjaCA/ICh0ZXh0ICYmIHRleHQgIT09IHNlYXJjaC5xdWVyeSkgOiB0cnVlKVxuXG4gICAgcmV0dXJuIG5ldyBTZXQoc3VnZ2VzdGlvbnMpXG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IFN1Z2dlc3RcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/suggest.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/suggest.js",
      "sourcesContent": [
        "var React = require('react')\nvar {Link} = require('react-router')\n\nvar Suggest = React.createClass({\n  render() {\n    var {search} = this.props\n    var suggestions = Array.from(this.getSuggestions())\n    .slice(0, 5)\n\n    if(suggestions.length == 0) return <span className=\"noSuggestions\"></span>\n\n    var suggestionLinks = suggestions\n    .map(name => <Link to={`/search/${name}`}>{name}</Link>)\n    .map((link, index) => <span key={index}>{link}{index === suggestions.length-1 || ', '}</span>)\n\n    var style = {marginBottom: '1em', textAlign: 'center', ...this.props.style}\n\n    return <div id=\"suggestions\" style={style}>\n      <p>Looking for {suggestionLinks}?</p>\n      <datalist id=\"searchCompletions\">\n        {suggestions.map(option => <option key={option}>{option}</option>)}\n      </datalist>\n    </div>\n  },\n\n  getSuggestions() {\n    var {search} = this.props\n    var suggest = this.props.completions || search && search.suggest || {}\n\n    var suggestions = Object.keys(suggest)\n    .filter(key => key !== '_shards' && suggest[key].length > 0)\n    .map(key => suggest[key][0].options.map(suggestion => ({...suggestion, type: key})))\n    .reduce((flattenedArray, options) => flattenedArray.concat(options), [])\n    // re-score title completions to 10%, artist is more important\n    .map(option => ({...option, score: option.score / (option.type == 'title_completion' ? 10 : 1)}))\n    // re-score highlight completions\n    .map(option => ({...option, score: option.score * (option.type == 'highlight_artist_completion' ? 5000 : 1)}))\n    .sort((a, b) => a.score < b.score)\n    .map(option => option ? option.text : null)\n    .filter(text => search ? (text && text !== search.query) : true)\n\n    return new Set(suggestions)\n  },\n})\n\nmodule.exports = Suggest\n"
      ]
    },
    "mtime": 1456957925207
  },
  "{\"filename\":\"/var/www/art/src/navigation.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\n//var {main_nav, quick_links, collections_nav} = require('../data/navigation.json')\n\nvar GlobalNavigation = React.createClass({\n  displayName: 'GlobalNavigation',\n\n  mainnav: [{ navItem: 'Exhibitions', link: 'https://new.artsmia.org/exhibitions' }, { navItem: 'Collection', link: 'httpss://collections.artsmia.org/' }, { navItem: 'Visit', link: 'https://new.artsmia.org/visit/' }, { navItem: 'Discover', link: 'https://new.artsmia.org/discover/' }, { navItem: 'Shop', link: 'https://new.artsmia.org/shop/' }, { navItem: 'Join', link: 'https://new.artsmia.org/join-and-invest/' }, { navItem: 'About', link: 'https://new.artsmia.org/about/' }],\n  quicknav: [{ navItem: 'tickets', link: 'https://artsmia.org/donate' }, { navItem: 'calendar', link: 'https://new.artsmia.org/visit/calendar/' }, { navItem: 'donate', link: 'https://artsmia.org/donate' }],\n  render: function render() {\n\n    var smallViewport = window && window.innerWidth <= 780;\n\n    if (smallViewport) {\n      return React.createElement(\n        'div',\n        { className: 'mobile-nav nav_bar', onClick: this.closeNav },\n        React.createElement(\n          'div',\n          { className: 'global_nav' },\n          React.createElement(\n            'ul',\n            { className: 'nav_list' },\n            this.mainnav.map(function (_ref) {\n              var navItem = _ref.navItem;\n              var link = _ref.link;\n\n              return React.createElement(\n                'li',\n                { key: navItem, className: 'nav_item' },\n                navItem == 'Collection' ? React.createElement(\n                  Link,\n                  { to: '/' },\n                  'Collection'\n                ) : React.createElement(\n                  'a',\n                  { href: link },\n                  navItem\n                )\n              );\n            })\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'quick_nav' },\n          React.createElement(\n            'ul',\n            { className: 'nav_list' },\n            this.quicknav.map(function (_ref2) {\n              var navItem = _ref2.navItem;\n              var link = _ref2.link;\n\n              return React.createElement(\n                'li',\n                { key: navItem, className: [navItem, \"button nav_item\"].join(' ') },\n                React.createElement(\n                  'a',\n                  { href: link },\n                  navItem\n                )\n              );\n            })\n          )\n        )\n      );\n    } else {\n      return React.createElement(\n        'div',\n        { className: 'nav_bar', onClick: this.closeNav },\n        React.createElement(\n          'div',\n          { className: 'global_nav' },\n          React.createElement(\n            'ul',\n            { className: 'nav_list' },\n            this.mainnav.map(function (_ref3) {\n              var navItem = _ref3.navItem;\n              var link = _ref3.link;\n\n              return React.createElement(\n                'li',\n                { key: navItem, className: 'nav_item' },\n                navItem == 'Collection' ? React.createElement(\n                  Link,\n                  { to: '/' },\n                  'Collection'\n                ) : React.createElement(\n                  'a',\n                  { href: link },\n                  navItem\n                )\n              );\n            })\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'quick_nav' },\n          React.createElement(\n            'ul',\n            { className: 'nav_list' },\n            this.quicknav.map(function (_ref4) {\n              var navItem = _ref4.navItem;\n              var link = _ref4.link;\n\n              return React.createElement(\n                'li',\n                { key: navItem, className: [navItem, \"button nav_item\"].join(' ') },\n                React.createElement(\n                  'a',\n                  { href: link },\n                  navItem\n                )\n              );\n            })\n          )\n        )\n      );\n    }\n  },\n\n  closeNav: function closeNav() {\n    this.props.closeNav && this.props.closeNav();\n  }\n});\n\nmodule.exports = GlobalNavigation;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvbmF2aWdhdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTs7ZUFDZCxPQUFPLENBQUMsY0FBYyxDQUFDOztJQUEvQixJQUFJLFlBQUosSUFBSTs7OztBQUlWLElBQUksZ0JBQWdCLEdBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ3hDLFNBQU8sRUFBRSxDQUNQLEVBQUMsT0FBTyxFQUFDLGFBQWEsRUFBRSxJQUFJLEVBQUMscUNBQXFDLEVBQUMsRUFDbkUsRUFBQyxPQUFPLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBQyxtQ0FBbUMsRUFBQyxFQUNqRSxFQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFDLGdDQUFnQyxFQUFDLEVBQ3pELEVBQUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUMsbUNBQW1DLEVBQUMsRUFDL0QsRUFBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBQywrQkFBK0IsRUFBQyxFQUN2RCxFQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFDLDBDQUEwQyxFQUFDLEVBQ2xFLEVBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUMsZ0NBQWdDLEVBQUMsQ0FFMUQ7QUFDRCxVQUFRLEVBQUUsQ0FDUixFQUFDLE9BQU8sRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFDLDRCQUE0QixFQUFDLEVBQ3ZELEVBQUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUMseUNBQXlDLEVBQUMsRUFDckUsRUFBQyxPQUFPLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBQyw0QkFBNEIsRUFBQyxDQUN2RDtBQUNELFFBQU0sRUFBQSxrQkFBRzs7QUFFUCxRQUFJLGFBQWEsR0FBRyxNQUFNLElBQUksTUFBTSxDQUFDLFVBQVUsSUFBSSxHQUFHLENBQUE7O0FBR3BELFFBQUcsYUFBYSxFQUFDO0FB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ImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL25hdmlnYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgIHtMaW5rfSA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG5cbi8vdmFyIHttYWluX25hdiwgcXVpY2tfbGlua3MsIGNvbGxlY3Rpb25zX25hdn0gPSByZXF1aXJlKCcuLi9kYXRhL25hdmlnYXRpb24uanNvbicpXG5cbnZhciBHbG9iYWxOYXZpZ2F0aW9uID0gIFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgbWFpbm5hdjogW1xuICAgIHtuYXZJdGVtOidFeGhpYml0aW9ucycsIGxpbms6J2h0dHBzOi8vbmV3LmFydHNtaWEub3JnL2V4aGliaXRpb25zJ30sXG4gICAge25hdkl0ZW06ICdDb2xsZWN0aW9uJywgbGluazonaHR0cHNzOi8vY29sbGVjdGlvbnMuYXJ0c21pYS5vcmcvJ30sXG4gICAge25hdkl0ZW06ICdWaXNpdCcsIGxpbms6J2h0dHBzOi8vbmV3LmFydHNtaWEub3JnL3Zpc2l0Lyd9LFxuICAgIHtuYXZJdGVtOiAnRGlzY292ZXInLCBsaW5rOidodHRwczovL25ldy5hcnRzbWlhLm9yZy9kaXNjb3Zlci8nfSxcbiAgICB7bmF2SXRlbTogJ1Nob3AnLCBsaW5rOidodHRwczovL25ldy5hcnRzbWlhLm9yZy9zaG9wLyd9LFxuICAgIHtuYXZJdGVtOiAnSm9pbicsIGxpbms6J2h0dHBzOi8vbmV3LmFydHNtaWEub3JnL2pvaW4tYW5kLWludmVzdC8nfSxcbiAgICB7bmF2SXRlbTogJ0Fib3V0JywgbGluazonaHR0cHM6Ly9uZXcuYXJ0c21pYS5vcmcvYWJvdXQvJ31cblxuICBdLFxuICBxdWlja25hdjogW1xuICAgIHtuYXZJdGVtOiAndGlja2V0cycsIGxpbms6J2h0dHBzOi8vYXJ0c21pYS5vcmcvZG9uYXRlJ30sXG4gICAge25hdkl0ZW06ICdjYWxlbmRhcicsIGxpbms6J2h0dHBzOi8vbmV3LmFydHNtaWEub3JnL3Zpc2l0L2NhbGVuZGFyLyd9LFxuICAgIHtuYXZJdGVtOiAnZG9uYXRlJywgbGluazonaHR0cHM6Ly9hcnRzbWlhLm9yZy9kb25hdGUnfVxuICBdLFxuICByZW5kZXIoKSB7XG5cbiAgICB2YXIgc21hbGxWaWV3cG9ydCA9IHdpbmRvdyAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8PSA3ODBcblxuXG4gICAgICBpZihzbWFsbFZpZXdwb3J0KXtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbW9iaWxlLW5hdiBuYXZfYmFyJyBvbkNsaWNrPXt0aGlzLmNsb3NlTmF2fT5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbG9iYWxfbmF2XCI+XG4gICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJuYXZfbGlzdFwiPlxuICAgICAgICAgICAgICAgIHt0aGlzLm1haW5uYXYubWFwKCh7bmF2SXRlbSwgbGlua30pID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiA8bGkga2V5PXtuYXZJdGVtfSBjbGFzc05hbWU9XCJuYXZfaXRlbVwiPlxuICAgICAgICAgICAgICAgICAgICB7bmF2SXRlbSA9PSAnQ29sbGVjdGlvbicgP1xuICAgICAgICAgICAgICAgICAgICAgIDxMaW5rIHRvPVwiL1wiPkNvbGxlY3Rpb248L0xpbms+IDpcbiAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPXtsaW5rfT57bmF2SXRlbX08L2E+fVxuICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJxdWlja19uYXZcIj5cbiAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cIm5hdl9saXN0XCI+XG4gICAgICAgICAgICAgIHt0aGlzLnF1aWNrbmF2Lm1hcCgoe25hdkl0ZW0sIGxpbmt9KSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gPGxpIGtleT17bmF2SXRlbX0gY2xhc3NOYW1lPXtbbmF2SXRlbSwgXCJidXR0b24gbmF2X2l0ZW1cIl0uam9pbignICcpfT5cbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj17bGlua30+e25hdkl0ZW19PC9hPlxuICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmF2X2JhclwiIG9uQ2xpY2s9e3RoaXMuY2xvc2VOYXZ9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbG9iYWxfbmF2XCI+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJuYXZfbGlzdFwiPlxuICAgICAgICAgIHt0aGlzLm1haW5uYXYubWFwKCh7bmF2SXRlbSwgbGlua30pID0+IHtcbiAgICAgICAgICAgIHJldHVybiA8bGkga2V5PXtuYXZJdGVtfSBjbGFzc05hbWU9XCJuYXZfaXRlbVwiPlxuICAgICAgICAgICAgICB7bmF2SXRlbSA9PSAnQ29sbGVjdGlvbicgP1xuICAgICAgICAgICAgICAgIDxMaW5rIHRvPVwiL1wiPkNvbGxlY3Rpb248L0xpbms+IDpcbiAgICAgICAgICAgICAgICA8YSBocmVmPXtsaW5rfT57bmF2SXRlbX08L2E+fVxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICB9KX1cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJxdWlja19uYXZcIj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cIm5hdl9saXN0XCI+XG4gICAgICAgIHt0aGlzLnF1aWNrbmF2Lm1hcCgoe25hdkl0ZW0sIGxpbmt9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gPGxpIGtleT17bmF2SXRlbX0gY2xhc3NOYW1lPXtbbmF2SXRlbSwgXCJidXR0b24gbmF2X2l0ZW1cIl0uam9pbignICcpfT5cbiAgICAgICAgICAgICAgPGEgaHJlZj17bGlua30+e25hdkl0ZW19PC9hPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICB9KX1cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApfVxufSxcblxuICBjbG9zZU5hdigpIHtcbiAgICB0aGlzLnByb3BzLmNsb3NlTmF2ICYmIHRoaXMucHJvcHMuY2xvc2VOYXYoKVxuICB9XG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IEdsb2JhbE5hdmlnYXRpb25cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/navigation.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/navigation.js",
      "sourcesContent": [
        "var React = require('react')\nvar  {Link} = require('react-router')\n\n//var {main_nav, quick_links, collections_nav} = require('../data/navigation.json')\n\nvar GlobalNavigation =  React.createClass({\n  mainnav: [\n    {navItem:'Exhibitions', link:'https://new.artsmia.org/exhibitions'},\n    {navItem: 'Collection', link:'httpss://collections.artsmia.org/'},\n    {navItem: 'Visit', link:'https://new.artsmia.org/visit/'},\n    {navItem: 'Discover', link:'https://new.artsmia.org/discover/'},\n    {navItem: 'Shop', link:'https://new.artsmia.org/shop/'},\n    {navItem: 'Join', link:'https://new.artsmia.org/join-and-invest/'},\n    {navItem: 'About', link:'https://new.artsmia.org/about/'}\n\n  ],\n  quicknav: [\n    {navItem: 'tickets', link:'https://artsmia.org/donate'},\n    {navItem: 'calendar', link:'https://new.artsmia.org/visit/calendar/'},\n    {navItem: 'donate', link:'https://artsmia.org/donate'}\n  ],\n  render() {\n\n    var smallViewport = window && window.innerWidth <= 780\n\n\n      if(smallViewport){\n        return (\n          <div className='mobile-nav nav_bar' onClick={this.closeNav}>\n\n            <div className=\"global_nav\">\n              <ul className=\"nav_list\">\n                {this.mainnav.map(({navItem, link}) => {\n                  return <li key={navItem} className=\"nav_item\">\n                    {navItem == 'Collection' ?\n                      <Link to=\"/\">Collection</Link> :\n                      <a href={link}>{navItem}</a>}\n                  </li>\n                })}\n              </ul>\n            </div>\n            <div className=\"quick_nav\">\n              <ul className=\"nav_list\">\n              {this.quicknav.map(({navItem, link}) => {\n                  return <li key={navItem} className={[navItem, \"button nav_item\"].join(' ')}>\n                    <a href={link}>{navItem}</a>\n                  </li>\n                })}\n              </ul>\n            </div>\n          </div>\n        )\n      } else {\n        return (\n          <div className=\"nav_bar\" onClick={this.closeNav}>\n      <div className=\"global_nav\">\n        <ul className=\"nav_list\">\n          {this.mainnav.map(({navItem, link}) => {\n            return <li key={navItem} className=\"nav_item\">\n              {navItem == 'Collection' ?\n                <Link to=\"/\">Collection</Link> :\n                <a href={link}>{navItem}</a>}\n            </li>\n          })}\n        </ul>\n      </div>\n      <div className=\"quick_nav\">\n        <ul className=\"nav_list\">\n        {this.quicknav.map(({navItem, link}) => {\n            return <li key={navItem} className={[navItem, \"button nav_item\"].join(' ')}>\n              <a href={link}>{navItem}</a>\n            </li>\n          })}\n        </ul>\n      </div>\n    </div>\n  )}\n},\n\n  closeNav() {\n    this.props.closeNav && this.props.closeNav()\n  }\n})\n\nmodule.exports = GlobalNavigation\n"
      ]
    },
    "mtime": 1485807805250
  },
  "{\"filename\":\"/var/www/art/src/home.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar toSlug = require('speakingurl');\nvar LazyLoad = require('react-lazy-load');\n\nvar SEARCH = require('./endpoints').search;\nvar rest = require('rest');\nvar Search = require('./search');\nvar findDepartment = require('./department-slug');\nvar MapPage = require('./map-page');\n\nvar Home = React.createClass({\n  displayName: 'Home',\n\n  statics: {\n    fetchData: {\n      searchResults: function searchResults(params, query) {\n        var searchUrl = SEARCH + '/highlight:true';\n        return rest(searchUrl).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var smallViewport = window && window.innerWidth < 600;\n    var quiltProps = smallViewport ? { maxRows: 2, maxWorks: 7 } : { maxRows: 3, maxWorks: 30 };\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(Search, _extends({\n        hideResults: true,\n        activateInput: true,\n        quiltProps: quiltProps,\n        facet: 'highlight:true',\n        searchAll: true,\n        suggestStyle: { margin: \"1em 3em\" },\n        bumpSearchBox: smallViewport,\n        shuffleQuilt: true\n      }, this.props)),\n      React.createElement(HomeDepartmentsAndPages, null),\n      React.createElement(\n        'div',\n        { id: 'map' },\n        React.createElement(\n          MapPage,\n          { hideList: true },\n          React.createElement(\n            Link,\n            { to: 'map', style: { textAlign: 'center', float: 'right', paddingRight: '1em' } },\n            'All galleries'\n          )\n        )\n      )\n    );\n  }\n});\n\nmodule.exports = Home;\n\nvar HomeDepartmentsAndPages = React.createClass({\n  displayName: 'HomeDepartmentsAndPages',\n\n  departments: [\"Art of Africa and the Americas\", \"Chinese, South and Southeast Asian Art\", \"Contemporary Art\", \"Decorative Arts, Textiles and Sculpture\", \"Japanese and Korean Art\", \"Paintings\", \"Photography and New Media\", \"Prints and Drawings\"],\n\n  pages: ['Purcell-Cutts House', 'Provenance Research', 'Deaccessions', 'Conservation'],\n\n  render: function render() {\n    return React.createElement(\n      'div',\n      { className: 'landingPageBody' },\n      React.createElement(\n        'div',\n        { className: 'mdl-grid' },\n        React.createElement(\n          'ul',\n          { className: 'info' },\n          React.createElement(\n            'li',\n            { className: 'mdl-cell mdl-cell--4-col' },\n            React.createElement(\n              Link,\n              { to: 'searchResults', params: { terms: 'highlight:true' } },\n              'Highlights'\n            )\n          ),\n          React.createElement(\n            'li',\n            { className: 'mdl-cell mdl-cell--4-col' },\n            React.createElement(\n              Link,\n              { to: 'searchResults', params: { terms: 'recent:true' } },\n              'New to Mia'\n            )\n          ),\n          React.createElement(\n            'li',\n            { className: 'mdl-cell mdl-cell--4-col' },\n            React.createElement(\n              Link,\n              { to: 'explore' },\n              'Explore'\n            )\n          )\n        )\n      ),\n      React.createElement(\n        'div',\n        { className: 'welcome mdl-grid' },\n        React.createElement(\n          'div',\n          { className: 'mdl-cell mdl-cell--9-col' },\n          React.createElement(\n            'p',\n            null,\n            'It is our mission to enrich the community by collecting, preserving, and making accessible outstanding works of art from the world’s diverse cultures. With over 89,000 artworks, Mia’s collection includes art from six continents, spanning about 20,000 years.  Here you will find world-famous artworks that embody the highest levels of artistic achievement and speak to the enduring power of human creativity to shape our world. '\n          )\n        )\n      ),\n      React.createElement(\n        'div',\n        { className: 'departmentList mdl-grid' },\n        React.createElement(\n          'h2',\n          null,\n          'Departments'\n        ),\n        this.departments.map(function (dept) {\n          var name = function name(index) {\n            return findDepartment(dept)[index];\n          };\n          return React.createElement(\n            Link,\n            { to: 'department', key: name(1), params: { dept: name(2) }, className: 'departmentLink mdl-cell mdl-cell--3-col' },\n            React.createElement(\n              LazyLoad,\n              { height: '150px' },\n              React.createElement('div', { className: [name(1), \"departmentListItem\"].join(' ') })\n            ),\n            React.createElement(\n              'h2',\n              null,\n              dept\n            )\n          );\n        })\n      ),\n      React.createElement(\n        'div',\n        { className: 'mdl-grid' },\n        React.createElement(\n          'ul',\n          { className: 'info' },\n          this.pages.map(function (name) {\n            return React.createElement(\n              'li',\n              { key: name, className: 'mdl-cell mdl-cell--3-col' },\n              React.createElement(\n                Link,\n                { to: 'page', params: { name: toSlug(name) } },\n                name\n              )\n            );\n          })\n        )\n      )\n    );\n  }\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvaG9tZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtJQUMvQixJQUFJLEdBQUksTUFBTSxDQUFkLElBQUk7O0FBRVQsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBO0FBQ25DLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFBOztBQUV6QyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsTUFBTSxDQUFBO0FBQzFDLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQTtBQUMxQixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUE7QUFDaEMsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7QUFDakQsSUFBSSxPQUFPLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBOztBQUVuQyxJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDM0IsU0FBTyxFQUFFO0FBQ1AsYUFBUyxFQUFFO0FBQ1QsbUJBQWEsRUFBRSx1QkFBQyxNQUFNLEVBQUUsS0FBSyxFQUFLO0FBQ2hDLFlBQUksU0FBUyxHQUFNLE1BQU0sb0JBQWlCLENBQUE7QUFDMUMsZUFBTyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsQ0FBQztpQkFBSyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7U0FBQSxDQUFDLENBQUE7T0FDekQ7S0FDRjtHQUNGOztBQUVELFFBQU0sRUFBQSxrQkFBRztBQUNQLFFBQUksYUFBYSxHQUFHLE1BQU0sSUFBSSxNQUFNLENBQUMsVUFBVSxHQUFHLEdB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Q0FBQyxDQUFDLEVBQUMsQUFBQyxFQUFDLFNBQVMsRUFBQyx5Q0FBeUM7WUFDckg7QUFBQyxzQkFBUTtnQkFBQyxNQUFNLEVBQUMsT0FBTztjQUFDLDZCQUFLLFNBQVMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxvQkFBb0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQUFBQyxHQUFPO2FBQVc7WUFDckc7OztjQUFLLElBQUk7YUFBTTtXQUNWLENBQUE7U0FDTixDQUNGO09BQ0c7TUFFTjs7VUFBSyxTQUFTLEVBQUMsVUFBVTtRQUN2Qjs7WUFBSSxTQUFTLEVBQUMsTUFBTTtVQUNqQixJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFBLElBQUksRUFBSTtBQUN0QixtQkFBTzs7Z0JBQUksR0FBRyxFQUFFLElBQUksQUFBQyxFQUFDLFNBQVMsRUFBQywwQkFBMEI7Y0FDeEQ7QUFBQyxvQkFBSTtrQkFBQyxFQUFFLEVBQUMsTUFBTSxFQUFDLE1BQU0sRUFBRSxFQUFDLElBQUksRUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUMsQUFBQztnQkFBRSxJQUFJO2VBQVE7YUFDeEQsQ0FBQTtXQUNOLENBQUM7U0FDQztPQUNIO0tBQ0YsQ0FBQTtHQUNMO0NBQ0YsQ0FBQyxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvaG9tZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHtMaW5rfSA9IFJvdXRlclxuXG52YXIgdG9TbHVnID0gcmVxdWlyZSgnc3BlYWtpbmd1cmwnKVxudmFyIExhenlMb2FkID0gcmVxdWlyZSgncmVhY3QtbGF6eS1sb2FkJylcblxudmFyIFNFQVJDSCA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJykuc2VhcmNoXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxudmFyIFNlYXJjaCA9IHJlcXVpcmUoJy4vc2VhcmNoJylcbnZhciBmaW5kRGVwYXJ0bWVudCA9IHJlcXVpcmUoJy4vZGVwYXJ0bWVudC1zbHVnJylcbnZhciBNYXBQYWdlID0gcmVxdWlyZSgnLi9tYXAtcGFnZScpXG5cbnZhciBIb21lID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBzdGF0aWNzOiB7XG4gICAgZmV0Y2hEYXRhOiB7XG4gICAgICBzZWFyY2hSZXN1bHRzOiAocGFyYW1zLCBxdWVyeSkgPT4ge1xuICAgICAgICBsZXQgc2VhcmNoVXJsID0gYCR7U0VBUkNIfS9oaWdobGlnaHQ6dHJ1ZWBcbiAgICAgICAgcmV0dXJuIHJlc3Qoc2VhcmNoVXJsKS50aGVuKChyKSA9PiBKU09OLnBhcnNlKHIuZW50aXR5KSlcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCBzbWFsbFZpZXdwb3J0ID0gd2luZG93ICYmIHdpbmRvdy5pbm5lcldpZHRoIDwgNjAwXG4gICAgbGV0IHF1aWx0UHJvcHMgPSBzbWFsbFZpZXdwb3J0ID9cbiAgICAgIHttYXhSb3dzOiAyLCBtYXhXb3JrczogN30gOlxuICAgICAge21heFJvd3M6IDMsIG1heFdvcmtzOiAzMH1cblxuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPFNlYXJjaFxuICAgICAgICBoaWRlUmVzdWx0cz17dHJ1ZX1cbiAgICAgICAgYWN0aXZhdGVJbnB1dD17dHJ1ZX1cbiAgICAgICAgcXVpbHRQcm9wcz17cXVpbHRQcm9wc31cbiAgICAgICAgZmFjZXQ9eydoaWdobGlnaHQ6dHJ1ZSd9XG4gICAgICAgIHNlYXJjaEFsbD17dHJ1ZX1cbiAgICAgICAgc3VnZ2VzdFN0eWxlPXt7bWFyZ2luOiBcIjFlbSAzZW1cIn19XG4gICAgICAgIGJ1bXBTZWFyY2hCb3g9e3NtYWxsVmlld3BvcnR9XG4gICAgICAgIHNodWZmbGVRdWlsdD17dHJ1ZX1cbiAgICAgICAgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICA8SG9tZURlcGFydG1lbnRzQW5kUGFnZXMgLz5cbiAgICAgIDxkaXYgaWQ9XCJtYXBcIj5cbiAgICAgICAgPE1hcFBhZ2UgaGlkZUxpc3Q9e3RydWV9PlxuICAgICAgICAgIDxMaW5rIHRvPVwibWFwXCIgc3R5bGU9e3t0ZXh0QWxpZ246ICdjZW50ZXInLCBmbG9hdDogJ3JpZ2h0JywgcGFkZGluZ1JpZ2h0OiAnMWVtJ319PlxuICAgICAgICAgICAgQWxsIGdhbGxlcmllc1xuICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgPC9NYXBQYWdlPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IEhvbWVcblxudmFyIEhvbWVEZXBhcnRtZW50c0FuZFBhZ2VzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBkZXBhcnRtZW50czogW1xuICAgIFwiQXJ0IG9mIEFmcmljYSBhbmQgdGhlIEFtZXJpY2FzXCIsXG4gICAgXCJDaGluZXNlLCBTb3V0aCBhbmQgU291dGhlYXN0IEFzaWFuIEFydFwiLFxuICAgIFwiQ29udGVtcG9yYXJ5IEFydFwiLFxuICAgIFwiRGVjb3JhdGl2ZSBBcnRzLCBUZXh0aWxlcyBhbmQgU2N1bHB0dXJlXCIsXG4gICAgXCJKYXBhbmVzZSBhbmQgS29yZWFuIEFydFwiLFxuICAgIFwiUGFpbnRpbmdzXCIsXG4gICAgXCJQaG90b2dyYXBoeSBhbmQgTmV3IE1lZGlhXCIsXG4gICAgXCJQcmludHMgYW5kIERyYXdpbmdzXCIsXG4gIF0sXG5cbiAgcGFnZXM6IFsnUHVyY2VsbC1DdXR0cyBIb3VzZScsICdQcm92ZW5hbmNlIFJlc2VhcmNoJywgJ0RlYWNjZXNzaW9ucycsICdDb25zZXJ2YXRpb24nXSxcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibGFuZGluZ1BhZ2VCb2R5XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1kbC1ncmlkXCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwiaW5mb1wiPlxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwibWRsLWNlbGwgbWRsLWNlbGwtLTQtY29sXCI+XG4gICAgICAgICAgPExpbmsgdG89J3NlYXJjaFJlc3VsdHMnIHBhcmFtcz17e3Rlcm1zOiAnaGlnaGxpZ2h0OnRydWUnfX0+XG4gICAgICAgICAgICBIaWdobGlnaHRzXG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICA8L2xpPlxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwibWRsLWNlbGwgbWRsLWNlbGwtLTQtY29sXCI+XG4gICAgICAgICAgPExpbmsgdG89XCJzZWFyY2hSZXN1bHRzXCIgcGFyYW1zPXt7dGVybXM6ICdyZWNlbnQ6dHJ1ZSd9fT5cbiAgICAgICAgICAgIE5ldyB0byBNaWFcbiAgICAgICAgICA8L0xpbms+XG4gICAgICAgIDwvbGk+XG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJtZGwtY2VsbCBtZGwtY2VsbC0tNC1jb2xcIj5cbiAgICAgICAgICA8TGluayB0bz0nZXhwbG9yZSc+XG4gICAgICAgICAgICBFeHBsb3JlXG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICA8L2xpPlxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIndlbGNvbWUgbWRsLWdyaWRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWRsLWNlbGwgbWRsLWNlbGwtLTktY29sXCI+XG4gICAgICAgIDxwPkl0IGlzIG91ciBtaXNzaW9uIHRvIGVucmljaCB0aGUgY29tbXVuaXR5IGJ5IGNvbGxlY3RpbmcsIHByZXNlcnZpbmcsIGFuZCBtYWtpbmcgYWNjZXNzaWJsZSBvdXRzdGFuZGluZyB3b3JrcyBvZiBhcnQgZnJvbSB0aGUgd29ybGTigJlzIGRpdmVyc2UgY3VsdHVyZXMuIFdpdGggb3ZlciA4OSwwMDAgYXJ0d29ya3MsIE1pYeKAmXMgY29sbGVjdGlvbiBpbmNsdWRlcyBhcnQgZnJvbSBzaXggY29udGluZW50cywgc3Bhbm5pbmcgYWJvdXQgMjAsMDAwIHllYXJzLiAgSGVyZSB5b3Ugd2lsbCBmaW5kIHdvcmxkLWZhbW91cyBhcnR3b3JrcyB0aGF0IGVtYm9keSB0aGUgaGlnaGVzdCBsZXZlbHMgb2YgYXJ0aXN0aWMgYWNoaWV2ZW1lbnQgYW5kIHNwZWFrIHRvIHRoZSBlbmR1cmluZyBwb3dlciBvZiBodW1hbiBjcmVhdGl2aXR5IHRvIHNoYXBlIG91ciB3b3JsZC4gPC9wPlxuICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGVwYXJ0bWVudExpc3QgbWRsLWdyaWRcIj5cbiAgICAgIDxoMj5EZXBhcnRtZW50czwvaDI+XG4gICAgICAgIHt0aGlzLmRlcGFydG1lbnRzLm1hcCgoZGVwdCkgPT4ge1xuICAgICAgICAgIHZhciBuYW1lID0gaW5kZXggPT4gZmluZERlcGFydG1lbnQoZGVwdClbaW5kZXhdXG4gICAgICAgICAgcmV0dXJuIDxMaW5rIHRvPSdkZXBhcnRtZW50JyBrZXk9e25hbWUoMSl9IHBhcmFtcz17e2RlcHQ6IG5hbWUoMil9fSBjbGFzc05hbWU9XCJkZXBhcnRtZW50TGluayBtZGwtY2VsbCBtZGwtY2VsbC0tMy1jb2xcIj5cbiAgICAgICAgICAgIDxMYXp5TG9hZCBoZWlnaHQ9XCIxNTBweFwiPjxkaXYgY2xhc3NOYW1lPXtbbmFtZSgxKSwgXCJkZXBhcnRtZW50TGlzdEl0ZW1cIl0uam9pbignICcpfT48L2Rpdj48L0xhenlMb2FkPlxuICAgICAgICAgICAgPGgyPntkZXB0fTwvaDI+XG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgIH1cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1kbC1ncmlkXCI+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJpbmZvXCI+XG4gICAgICAgICAge3RoaXMucGFnZXMubWFwKG5hbWUgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIDxsaSBrZXk9e25hbWV9IGNsYXNzTmFtZT1cIm1kbC1jZWxsIG1kbC1jZWxsLS0zLWNvbFwiPlxuICAgICAgICAgICAgICA8TGluayB0bz1cInBhZ2VcIiBwYXJhbXM9e3tuYW1lOiB0b1NsdWcobmFtZSl9fT57bmFtZX08L0xpbms+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgIH0pfVxuICAgICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgfSxcbn0pXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/home.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/home.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\n\nvar toSlug = require('speakingurl')\nvar LazyLoad = require('react-lazy-load')\n\nvar SEARCH = require('./endpoints').search\nvar rest = require('rest')\nvar Search = require('./search')\nvar findDepartment = require('./department-slug')\nvar MapPage = require('./map-page')\n\nvar Home = React.createClass({\n  statics: {\n    fetchData: {\n      searchResults: (params, query) => {\n        let searchUrl = `${SEARCH}/highlight:true`\n        return rest(searchUrl).then((r) => JSON.parse(r.entity))\n      }\n    }\n  },\n\n  render() {\n    let smallViewport = window && window.innerWidth < 600\n    let quiltProps = smallViewport ?\n      {maxRows: 2, maxWorks: 7} :\n      {maxRows: 3, maxWorks: 30}\n\n    return <div>\n      <Search\n        hideResults={true}\n        activateInput={true}\n        quiltProps={quiltProps}\n        facet={'highlight:true'}\n        searchAll={true}\n        suggestStyle={{margin: \"1em 3em\"}}\n        bumpSearchBox={smallViewport}\n        shuffleQuilt={true}\n        {...this.props} />\n      <HomeDepartmentsAndPages />\n      <div id=\"map\">\n        <MapPage hideList={true}>\n          <Link to=\"map\" style={{textAlign: 'center', float: 'right', paddingRight: '1em'}}>\n            All galleries\n          </Link>\n        </MapPage>\n      </div>\n    </div>\n  },\n})\n\nmodule.exports = Home\n\nvar HomeDepartmentsAndPages = React.createClass({\n  departments: [\n    \"Art of Africa and the Americas\",\n    \"Chinese, South and Southeast Asian Art\",\n    \"Contemporary Art\",\n    \"Decorative Arts, Textiles and Sculpture\",\n    \"Japanese and Korean Art\",\n    \"Paintings\",\n    \"Photography and New Media\",\n    \"Prints and Drawings\",\n  ],\n\n  pages: ['Purcell-Cutts House', 'Provenance Research', 'Deaccessions', 'Conservation'],\n\n  render() {\n    return <div className=\"landingPageBody\">\n      <div className=\"mdl-grid\">\n      <ul className=\"info\">\n        <li className=\"mdl-cell mdl-cell--4-col\">\n          <Link to='searchResults' params={{terms: 'highlight:true'}}>\n            Highlights\n          </Link>\n        </li>\n        <li className=\"mdl-cell mdl-cell--4-col\">\n          <Link to=\"searchResults\" params={{terms: 'recent:true'}}>\n            New to Mia\n          </Link>\n        </li>\n        <li className=\"mdl-cell mdl-cell--4-col\">\n          <Link to='explore'>\n            Explore\n          </Link>\n        </li>\n        </ul>\n      </div>\n      <div className=\"welcome mdl-grid\">\n      <div className=\"mdl-cell mdl-cell--9-col\">\n        <p>It is our mission to enrich the community by collecting, preserving, and making accessible outstanding works of art from the world’s diverse cultures. With over 89,000 artworks, Mia’s collection includes art from six continents, spanning about 20,000 years.  Here you will find world-famous artworks that embody the highest levels of artistic achievement and speak to the enduring power of human creativity to shape our world. </p>\n      </div>\n      </div>\n      <div className=\"departmentList mdl-grid\">\n      <h2>Departments</h2>\n        {this.departments.map((dept) => {\n          var name = index => findDepartment(dept)[index]\n          return <Link to='department' key={name(1)} params={{dept: name(2)}} className=\"departmentLink mdl-cell mdl-cell--3-col\">\n            <LazyLoad height=\"150px\"><div className={[name(1), \"departmentListItem\"].join(' ')}></div></LazyLoad>\n            <h2>{dept}</h2>\n          </Link>\n          }\n        )}\n      </div>\n\n      <div className=\"mdl-grid\">\n        <ul className=\"info\">\n          {this.pages.map(name => {\n            return <li key={name} className=\"mdl-cell mdl-cell--3-col\">\n              <Link to=\"page\" params={{name: toSlug(name)}}>{name}</Link>\n            </li>\n          })}\n        </ul>\n    </div>\n  </div>\n  },\n})\n"
      ]
    },
    "mtime": 1465405261330
  },
  "{\"filename\":\"/var/www/art/src/map-page.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar debounce = require('debounce');\n\nvar galleries = require('../data/galleries.json').galleries;\nvar Map = require('./map');\nvar Peek = require('./peek');\n\nvar MapPage = React.createClass({\n  displayName: 'MapPage',\n\n  render: function render() {\n    var gallery = this.state && this.state.hoveredGallery;\n    var galleryInfo = galleries[gallery];\n\n    var minHeight = this.props.hideList ? '15rem' : '1rem';\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'div',\n        { style: { backgroundColor: 'rgba(35, 35, 35, 0.8)', paddingBottom: '3em', width: '100%', overflow: 'scroll' } },\n        React.createElement(Map, {\n          startOpen: true,\n          floor: 3,\n          style: { maxWidth: '60em', margin: '0 auto' },\n          onHover: this.handleGalleryHover,\n          onMouseLeave: this.focusLost\n        }),\n        this.props.children && this.props.children\n      ),\n      React.createElement(\n        'div',\n        { style: { minHeight: minHeight } },\n        gallery && React.createElement(\n          'div',\n          null,\n          React.createElement(\n            'h3',\n            { style: { textAlign: 'center' } },\n            galleryInfo.id,\n            ' — ',\n            galleryInfo.title\n          ),\n          React.createElement(Peek, {\n            key: 'preview-' + gallery, q: 'room:G' + gallery,\n            showSingleResult: true\n          })\n        )\n      ),\n      this.props.hideList || this.listGalleries()\n    );\n  },\n\n  listGalleries: function listGalleries() {\n    var skipGalleries = [111, 112, 113, 114, 267, 268, 269, 270, 271, 272, 273, 274];\n    var gs = Object.keys(galleries).filter(function (g) {\n      return skipGalleries.indexOf(parseInt(g)) < 0;\n    }).map(function (number) {\n      return galleries[number];\n    });\n\n    return React.createElement(\n      'ul',\n      { id: 'map-and-gallery-list', style: { margin: '1em' } },\n      gs.map(function (g) {\n        return React.createElement(GalleryPeek, { key: g.id, g: g, style: { minHeight: '78px' } });\n      })\n    );\n  },\n\n  // Wait a second before 'Peek'ing the hovered gallery\n  handleGalleryHover: function handleGalleryHover(gallery) {\n    clearTimeout(this.debouncedPeek);\n    this.debouncedPeek = setTimeout(this.showGalleryPeek.bind(this, gallery), this.state && this.state.hoveredGallery ? 700 : 0);\n  },\n\n  showGalleryPeek: function showGalleryPeek(gallery) {\n    this.setState({ hoveredGallery: gallery });\n  },\n\n  componentWillUnmount: function componentWillUnmount() {\n    clearTimeout(this.debouncedPeek);\n  },\n\n  focusLost: function focusLost() {\n    clearTimeout(this.debouncedPeek);\n  }\n});\n\nvar LazyLoad = require('react-lazy-load');\n\nvar GalleryPeek = React.createClass({\n  displayName: 'GalleryPeek',\n\n  render: function render() {\n    var g = this.props.g;\n    var universal = this.context.universal;\n\n    var link = { to: \"gallery\", params: { gallery: g.id } };\n    var peek = React.createElement(\n      'li',\n      { style: { marginTop: !universal ? '1em' : 0 } },\n      React.createElement(\n        Peek,\n        { q: 'room:G' + g.id, linkProps: link, showIcon: false, showSingleResult: true },\n        React.createElement(\n          'span',\n          null,\n          g.id,\n          ' — ',\n          g.title\n        )\n      )\n    );\n\n    return universal ? peek : React.createElement(\n      'div',\n      { style: this.props.style },\n      React.createElement(\n        LazyLoad,\n        null,\n        peek\n      )\n    );\n  }\n});\nGalleryPeek.contextTypes = {\n  universal: React.PropTypes.bool\n};\n\nmodule.exports = MapPage;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvbWFwLXBhZ2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0lBQy9CLElBQUksR0FBSSxNQUFNLENBQWQsSUFBSTs7QUFDVCxJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUE7O0FBRWxDLElBQUksU0FBUyxHQUFHLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLFNBQVMsQ0FBQTtBQUMzRCxJQUFJLEdBQUcsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDMUIsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFBOztBQUU1QixJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDOUIsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsUUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQTtBQUNyRCxRQUFJLFdBQVcsR0FBRyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUE7O0FBRXBDLFFBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLE9BQU8sR0FBRyxNQUFNLENBQUE7O0FBRXRELFdBQU87OztNQUNMOztVQUFLLEtBQUssRUFBRSxFQUFDLGVBQWUsRUFBRSx1QkFBdUIsRUFBRSxhQUFhLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBQyxBQUFDO1FBQzlHLG9CQUFDLEdBQUc7QUFDRixtQkFBUyxFQUFFLElBQUksQUFBQztBQUNoQixlQUFLLEVBQUUsQ0FBQyxBQUFDO0FBQ1QsZUFBSyxFQUFFLEVBQUMsUUFBUSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUs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SUFBSSxDQUFDLEtBQUssQ0FBZixDQUFDO1FBQ0QsU0FBUyxHQUFJLElBQUksQ0FBQyxPQUFPLENBQXpCLFNBQVM7O0FBQ2QsUUFBSSxJQUFJLEdBQUcsRUFBQyxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxFQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFDLEVBQUMsQ0FBQTtBQUNuRCxRQUFJLElBQUksR0FBRzs7UUFBSSxLQUFLLEVBQUUsRUFBQyxTQUFTLEVBQUUsQ0FBQyxTQUFTLEdBQUcsS0FBSyxHQUFHLENBQUMsRUFBQyxBQUFDO01BQ3hEO0FBQUMsWUFBSTtVQUFDLENBQUMsYUFBVyxDQUFDLENBQUMsRUFBRSxBQUFHLEVBQUMsU0FBUyxFQUFFLElBQUksQUFBQyxFQUFDLFFBQVEsRUFBRSxLQUFLLEFBQUMsRUFBQyxnQkFBZ0IsRUFBRSxJQUFJLEFBQUM7UUFDakY7OztVQUFPLENBQUMsQ0FBQyxFQUFFOztVQUFLLENBQUMsQ0FBQyxLQUFLO1NBQVE7T0FDMUI7S0FDSixDQUFBOztBQUVMLFdBQU8sU0FBUyxHQUNkLElBQUksR0FDSjs7UUFBSyxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEFBQUM7TUFDM0I7QUFBQyxnQkFBUTs7UUFBRSxJQUFJO09BQVk7S0FDdkIsQ0FBQTtHQUNUO0NBQ0YsQ0FBQyxDQUFBO0FBQ0YsV0FBVyxDQUFDLFlBQVksR0FBRztBQUN6QixXQUFTLEVBQUUsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJO0NBQ2hDLENBQUE7O0FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9tYXAtcGFnZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHtMaW5rfSA9IFJvdXRlclxudmFyIGRlYm91bmNlID0gcmVxdWlyZSgnZGVib3VuY2UnKVxuXG52YXIgZ2FsbGVyaWVzID0gcmVxdWlyZSgnLi4vZGF0YS9nYWxsZXJpZXMuanNvbicpLmdhbGxlcmllc1xudmFyIE1hcCA9IHJlcXVpcmUoJy4vbWFwJylcbnZhciBQZWVrID0gcmVxdWlyZSgnLi9wZWVrJylcblxudmFyIE1hcFBhZ2UgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIgZ2FsbGVyeSA9IHRoaXMuc3RhdGUgJiYgdGhpcy5zdGF0ZS5ob3ZlcmVkR2FsbGVyeVxuICAgIHZhciBnYWxsZXJ5SW5mbyA9IGdhbGxlcmllc1tnYWxsZXJ5XVxuXG4gICAgdmFyIG1pbkhlaWdodCA9IHRoaXMucHJvcHMuaGlkZUxpc3QgPyAnMTVyZW0nIDogJzFyZW0nXG5cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIDxkaXYgc3R5bGU9e3tiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDM1LCAzNSwgMzUsIDAuOCknLCBwYWRkaW5nQm90dG9tOiAnM2VtJywgd2lkdGg6ICcxMDAlJywgb3ZlcmZsb3c6ICdzY3JvbGwnfX0+XG4gICAgICAgIDxNYXBcbiAgICAgICAgICBzdGFydE9wZW49e3RydWV9XG4gICAgICAgICAgZmxvb3I9ezN9XG4gICAgICAgICAgc3R5bGU9e3ttYXhXaWR0aDogJzYwZW0nLCBtYXJnaW46ICcwIGF1dG8nfX1cbiAgICAgICAgICBvbkhvdmVyPXt0aGlzLmhhbmRsZUdhbGxlcnlIb3Zlcn1cbiAgICAgICAgICBvbk1vdXNlTGVhdmU9e3RoaXMuZm9jdXNMb3N0fVxuICAgICAgICAvPlxuXG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVuICYmIHRoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBzdHlsZT17e21pbkhlaWdodH19PlxuICAgICAgICB7Z2FsbGVyeSAmJiA8ZGl2PlxuICAgICAgICAgIDxoMyBzdHlsZT17e3RleHRBbGlnbjogJ2NlbnRlcid9fT57Z2FsbGVyeUluZm8uaWR9IOKAlCB7Z2FsbGVyeUluZm8udGl0bGV9PC9oMz5cbiAgICAgICAgICA8UGVla1xuICAgICAgICAgICAga2V5PXtgcHJldmlldy0ke2dhbGxlcnl9YH0gcT17YHJvb206RyR7Z2FsbGVyeX1gfVxuICAgICAgICAgICAgc2hvd1NpbmdsZVJlc3VsdD17dHJ1ZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2Pn1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7dGhpcy5wcm9wcy5oaWRlTGlzdCB8fCB0aGlzLmxpc3RHYWxsZXJpZXMoKX1cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBsaXN0R2FsbGVyaWVzKCkge1xuICAgIHZhciBza2lwR2FsbGVyaWVzID0gWzExMSwgMTEyLCAxMTMsIDExNCwgMjY3LCAyNjgsIDI2OSwgMjcwLCAyNzEsIDI3MiwgMjczLCAyNzRdXG4gICAgdmFyIGdzID0gT2JqZWN0LmtleXMoZ2FsbGVyaWVzKVxuICAgIC5maWx0ZXIoZyA9PiBza2lwR2FsbGVyaWVzLmluZGV4T2YocGFyc2VJbnQoZykpIDwgMClcbiAgICAubWFwKG51bWJlciA9PiBnYWxsZXJpZXNbbnVtYmVyXSlcblxuICAgIHJldHVybiA8dWwgaWQ9XCJtYXAtYW5kLWdhbGxlcnktbGlzdFwiIHN0eWxlPXt7bWFyZ2luOiAnMWVtJ319PlxuICAgICAge2dzLm1hcChnID0+IDxHYWxsZXJ5UGVlayBrZXk9e2cuaWR9IGc9e2d9IHN0eWxlPXt7bWluSGVpZ2h0OiAnNzhweCd9fSAvPil9XG4gICAgPC91bD5cbiAgfSxcblxuICAvLyBXYWl0IGEgc2Vjb25kIGJlZm9yZSAnUGVlaydpbmcgdGhlIGhvdmVyZWQgZ2FsbGVyeVxuICBoYW5kbGVHYWxsZXJ5SG92ZXIoZ2FsbGVyeSkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmRlYm91bmNlZFBlZWspXG4gICAgdGhpcy5kZWJvdW5jZWRQZWVrID0gc2V0VGltZW91dChcbiAgICAgIHRoaXMuc2hvd0dhbGxlcnlQZWVrLmJpbmQodGhpcywgZ2FsbGVyeSksXG4gICAgICB0aGlzLnN0YXRlICYmIHRoaXMuc3RhdGUuaG92ZXJlZEdhbGxlcnkgPyA3MDAgOiAwXG4gICAgKVxuICB9LFxuXG4gIHNob3dHYWxsZXJ5UGVlayhnYWxsZXJ5KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7aG92ZXJlZEdhbGxlcnk6IGdhbGxlcnl9KVxuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmRlYm91bmNlZFBlZWspXG4gIH0sXG5cbiAgZm9jdXNMb3N0KCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmRlYm91bmNlZFBlZWspXG4gIH1cbn0pXG5cbnZhciBMYXp5TG9hZCA9IHJlcXVpcmUoJ3JlYWN0LWxhenktbG9hZCcpXG5cbnZhciBHYWxsZXJ5UGVlayA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7Z30gPSB0aGlzLnByb3BzXG4gICAgdmFyIHt1bml2ZXJzYWx9ID0gdGhpcy5jb250ZXh0XG4gICAgdmFyIGxpbmsgPSB7dG86IFwiZ2FsbGVyeVwiLCBwYXJhbXM6IHtnYWxsZXJ5OiBnLmlkfX1cbiAgICB2YXIgcGVlayA9IDxsaSBzdHlsZT17e21hcmdpblRvcDogIXVuaXZlcnNhbCA/ICcxZW0nIDogMH19PlxuICAgICAgPFBlZWsgcT17YHJvb206RyR7Zy5pZH1gfSBsaW5rUHJvcHM9e2xpbmt9IHNob3dJY29uPXtmYWxzZX0gc2hvd1NpbmdsZVJlc3VsdD17dHJ1ZX0+XG4gICAgICAgIDxzcGFuPntnLmlkfSDigJTCoHtnLnRpdGxlfTwvc3Bhbj5cbiAgICAgIDwvUGVlaz5cbiAgICA8L2xpPlxuXG4gICAgcmV0dXJuIHVuaXZlcnNhbCA/XG4gICAgICBwZWVrIDpcbiAgICAgIDxkaXYgc3R5bGU9e3RoaXMucHJvcHMuc3R5bGV9PlxuICAgICAgICA8TGF6eUxvYWQ+e3BlZWt9PC9MYXp5TG9hZD5cbiAgICAgIDwvZGl2PlxuICB9LFxufSlcbkdhbGxlcnlQZWVrLmNvbnRleHRUeXBlcyA9IHtcbiAgdW5pdmVyc2FsOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE1hcFBhZ2VcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/map-page.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/map-page.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\nvar debounce = require('debounce')\n\nvar galleries = require('../data/galleries.json').galleries\nvar Map = require('./map')\nvar Peek = require('./peek')\n\nvar MapPage = React.createClass({\n  render() {\n    var gallery = this.state && this.state.hoveredGallery\n    var galleryInfo = galleries[gallery]\n\n    var minHeight = this.props.hideList ? '15rem' : '1rem'\n\n    return <div>\n      <div style={{backgroundColor: 'rgba(35, 35, 35, 0.8)', paddingBottom: '3em', width: '100%', overflow: 'scroll'}}>\n        <Map\n          startOpen={true}\n          floor={3}\n          style={{maxWidth: '60em', margin: '0 auto'}}\n          onHover={this.handleGalleryHover}\n          onMouseLeave={this.focusLost}\n        />\n\n        {this.props.children && this.props.children}\n      </div>\n\n      <div style={{minHeight}}>\n        {gallery && <div>\n          <h3 style={{textAlign: 'center'}}>{galleryInfo.id} — {galleryInfo.title}</h3>\n          <Peek\n            key={`preview-${gallery}`} q={`room:G${gallery}`}\n            showSingleResult={true}\n            />\n        </div>}\n      </div>\n\n      {this.props.hideList || this.listGalleries()}\n    </div>\n  },\n\n  listGalleries() {\n    var skipGalleries = [111, 112, 113, 114, 267, 268, 269, 270, 271, 272, 273, 274]\n    var gs = Object.keys(galleries)\n    .filter(g => skipGalleries.indexOf(parseInt(g)) < 0)\n    .map(number => galleries[number])\n\n    return <ul id=\"map-and-gallery-list\" style={{margin: '1em'}}>\n      {gs.map(g => <GalleryPeek key={g.id} g={g} style={{minHeight: '78px'}} />)}\n    </ul>\n  },\n\n  // Wait a second before 'Peek'ing the hovered gallery\n  handleGalleryHover(gallery) {\n    clearTimeout(this.debouncedPeek)\n    this.debouncedPeek = setTimeout(\n      this.showGalleryPeek.bind(this, gallery),\n      this.state && this.state.hoveredGallery ? 700 : 0\n    )\n  },\n\n  showGalleryPeek(gallery) {\n    this.setState({hoveredGallery: gallery})\n  },\n\n  componentWillUnmount() {\n    clearTimeout(this.debouncedPeek)\n  },\n\n  focusLost() {\n    clearTimeout(this.debouncedPeek)\n  }\n})\n\nvar LazyLoad = require('react-lazy-load')\n\nvar GalleryPeek = React.createClass({\n  render() {\n    var {g} = this.props\n    var {universal} = this.context\n    var link = {to: \"gallery\", params: {gallery: g.id}}\n    var peek = <li style={{marginTop: !universal ? '1em' : 0}}>\n      <Peek q={`room:G${g.id}`} linkProps={link} showIcon={false} showSingleResult={true}>\n        <span>{g.id} — {g.title}</span>\n      </Peek>\n    </li>\n\n    return universal ?\n      peek :\n      <div style={this.props.style}>\n        <LazyLoad>{peek}</LazyLoad>\n      </div>\n  },\n})\nGalleryPeek.contextTypes = {\n  universal: React.PropTypes.bool\n}\n\nmodule.exports = MapPage\n"
      ]
    },
    "mtime": 1478899433914
  },
  "{\"filename\":\"/var/www/art/src/artwork.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar rest = require('rest');\nvar humanizeNumber = require('humanize-number');\nvar Helmet = require('react-helmet');\nvar cx = require('classnames');\n\nvar ArtworkImage = require('./artwork-image');\nvar Markdown = require('./markdown');\nvar ArtworkPreview = require('./artwork-preview');\nvar ArtworkDetails = require('./artwork-details');\nvar _Artwork = require('./_artwork');\nvar Image = require('./image');\nvar imageCDN = require('./image-cdn');\nvar SEARCH = require('./endpoints').search;\nvar ArtworkRelatedContent = require('./artwork-related');\n\nvar Sticky = require('react-sticky');\n\nvar Artwork = React.createClass({\n  displayName: 'Artwork',\n\n  mixins: [Router.State],\n  statics: {\n    fetchData: {\n      artwork: function artwork(params, existingData) {\n        if (existingData && existingData.id && existingData.id == params.id) return Promise.resolve(existingData);\n        return rest(SEARCH + '/id/' + params.id).then(function (r) {\n          return JSON.parse(r.entity);\n        }).then(function (art) {\n          art.slug = _Artwork.slug(art);\n          return art;\n        });\n      }\n    },\n\n    willTransitionTo: function willTransitionTo(transition, params, query, callback) {\n      var existingArt = window.__DATA__ && window.__DATA__.artwork;\n      Artwork.fetchData.artwork(params, existingArt).then(function (art) {\n        window.__DATA__ = { artwork: art };\n        if (art.slug !== params.slug) {\n          params.slug = art.slug;\n          transition.redirect('artworkSlug', params);\n        }\n      }).then(callback);\n    }\n  },\n\n  render: function render() {\n    var art = this.state.art;\n    var id = this.props.id || this.state.id;\n    var highlights = this.props.highlights;\n    var stickyMapStyle = this.context.universal ? { position: 'fixed' } : {};\n    var smallViewport = window && window.innerWidth <= 500;\n\n    var pageTitle = [art.title.replace(/<[^ ]+?>/g, '\"'), _Artwork.Creator.getFacetAndValue(art)[1]].filter(function (e) {\n      return e;\n    }).join(', ');\n    var imageUrl = imageCDN(id);\n    var canonicalURL = 'https://collections.artsmia.org/art/' + art.id + '/' + art.slug;\n\n    var image = React.createElement(Image, { art: art,\n      style: { width: 400, height: 400, maxWidth: '100%' },\n      ignoreStyle: true });\n\n    var aspectRatio = art.image_width / art.image_height;\n    var mapHeight = art.image == \"valid\" ? Math.max(40, Math.min(65, 1 / aspectRatio * 80)) : 20;\n    if (smallViewport && this.state.show3d) mapHeight = 67;\n\n    var showMoreIcon = Object.keys(art).filter(function (key) {\n      return key.match(/related:/) && !key.match(/related:exhibitions/);\n    }).length > 0 && !this.state.fullscreenImage;\n    var exploreIcon = showMoreIcon && React.createElement(\n      'a',\n      { href: '#explore', style: { position: 'absolute', zIndex: '10000', right: '7px', bottom: '0px' } },\n      React.createElement('img', { src: '/images/more-icon.svg', style: { width: '3em' } })\n    );\n\n    var mapStyle = smallViewport ? { width: '100%', display: 'inline-block', height: mapHeight + 'vh' } : stickyMapStyle;\n\n    var zoomLoaded = this.state.zoomLoaded;\n\n    var zoomLoadedSuccessfully = zoomLoaded && zoomLoaded !== 'error';\n\n    var map = React.createElement(\n      'div',\n      { ref: 'map', id: 'map', style: mapStyle },\n      this.state.has3d && React.createElement(SketchfabEmbed, { model: this.state.has3d, show: this.state.show3d }),\n      zoomLoadedSuccessfully || art.image == 'valid' && art.rights !== 'Permission Denied' && React.createElement(\n        'div',\n        { style: { position: 'absolute', top: '50%', left: '50%', transform: 'translate(-50%, -50%)', WebkitTransform: 'translate(-50%, -50%)', width: '100%', textAlign: 'center' } },\n        image,\n        art.image_copyright && React.createElement(\n          'p',\n          { style: { fontSize: '0.8em' } },\n          decodeURIComponent(art.image_copyright)\n        )\n      ) || React.createElement(NoImagePlaceholder, { art: art }),\n      this.imageStatus(),\n      smallViewport && exploreIcon\n    );\n\n    var info = React.createElement(\n      'div',\n      { className: 'info' },\n      React.createElement(ArtworkPreview, { art: art, showLink: false, showDuplicateDetails: true }),\n      this.state.has3d && React.createElement(\n        'div',\n        { className: 'images' },\n        React.createElement(\n          'p',\n          { onClick: this.toggle3d },\n          this.state.show3d ? 'show zoomable image' : 'show 3D model'\n        )\n      ),\n      React.createElement(\n        'div',\n        { className: 'back-button' },\n        React.createElement(\n          'a',\n          { href: '#', onClick: function () {\n              return history.go(-1);\n            } },\n          React.createElement(\n            'i',\n            { className: 'material-icons' },\n            'arrow_back'\n          ),\n          ' back'\n        )\n      ),\n      React.createElement(ArtworkRelatedContent, { id: id, art: art }),\n      React.createElement(\n        'div',\n        null,\n        React.createElement(\n          'h5',\n          { className: 'details-title' },\n          'Details'\n        ),\n        React.createElement(ArtworkDetails, { art: art, show3d: this.state.show3d })\n      )\n    );\n\n    var content;\n    if (smallViewport) {\n      content = React.createElement(\n        'div',\n        null,\n        map,\n        info\n      );\n    } else {\n      content = React.createElement(\n        'div',\n        null,\n        info,\n        React.createElement(\n          Sticky,\n          {\n            stickyStyle: { position: 'fixed', height: '100%', width: '65%', top: 0, transform: 'translate3d(0px,0px,0px)' },\n            onStickyStateChange: this.resizeMap },\n          map\n        )\n      );\n    }\n\n    return React.createElement(\n      'div',\n      { className: cx('artwork', { smallviewport: smallViewport }) },\n      content,\n      React.createElement(Helmet, {\n        title: pageTitle,\n        meta: [{ property: \"og:title\", content: pageTitle + ' | Minneapolis Institute of Art' }, { property: \"og:description\", content: art.text }, { property: \"og:image\", content: imageUrl }, { property: \"twitter:card\", content: \"summary_large_image\" }, { property: \"twitter:site\", content: \"@artsmia\" }, { property: \"robots\", content: this.noIndex() ? 'follow,noindex' : 'all' }]\n      })\n    );\n  },\n\n  toggle3d: function toggle3d() {\n    var nextShow3d = !this.state.show3d;\n    this.setState({ show3d: nextShow3d });\n    if (!nextShow3d) {\n      if (!this.state.zoomLoaded) this.loadZoom();\n    }\n    if (nextShow3d && this.state.zoomLoaded) {}\n  },\n\n  getInitialState: function getInitialState() {\n    var art = this.props.data.artwork;\n    art.id = this.props.id || art.id.replace('http://api.artsmia.org/objects/', '');\n\n    var has3Dmodel = art[\"related:3dmodels\"] && art[\"related:3dmodels\"][0];\n    return {\n      art: art,\n      id: art.id,\n      fullscreenImage: false,\n      has3d: has3Dmodel,\n      show3d: has3Dmodel\n    };\n  },\n\n  componentDidMount: function componentDidMount() {\n    var art = this.state.art;\n    if (art.image === 'valid' && art.restricted != 1 && !this.isLoan() && !this.state.show3d) this.loadZoom();\n    var smallViewport = window && window.innerWidth <= 500;\n    // push the viewport down past the header to maximize image/text on the page\n    // scrolling back up reveals the menu\n    // TODO: is there a way to automatically trigger safari's minimal chrome other than a user-initiated scroll event? (probably not https://stackoverflow.com/a/26884561)\n    if (smallViewport && window.scrollX == 0) setTimeout(function () {\n      return window.scrollTo(0, 56);\n    }, 0);\n  },\n\n  loadZoom: function loadZoom() {\n    var _this = this;\n\n    var L = require('museum-tile-layer');\n    var fullscreen = require('leaflet-fullscreen');\n\n    var art = this.state.art;\n    this.setState({ zoomLoaded: false, zoomLoading: true });\n\n    rest('//tiles.dx.artsmia.org/' + this.state.id + '.json').then(function (response) {\n      return JSON.parse(response.entity);\n    }, function (rejected) {\n      // TODO: log this somewhere\n      _this.setState({ zoomLoaded: 'error' });\n      return Promise.reject(new Error('can\\'t load tiles for ' + art.id));\n    }).then(function (data) {\n      _this.map = L.map(_this.refs.map.getDOMNode(), {\n        crs: L.CRS.Simple,\n        zoomControl: false\n      });\n      _this.map.attributionControl.setPrefix('');\n      _this.map.setView([art.image_width / 2, art.image_height / 2], 0);\n      if (!L.Browser.touch) new L.Control.Zoom({ position: 'topright' }).addTo(_this.map);\n      new L.Control.Fullscreen({\n        position: 'topright',\n        pseudoFullscreen: true\n      }).addTo(_this.map);\n\n      _this.tiles = L.museumTileLayer('https://{s}.tiles.dx.artsmia.org/{id}/{z}/{x}/{y}.png', {\n        attribution: art.image_copyright ? decodeURIComponent(art.image_copyright) : '',\n        id: _this.state.id,\n        width: data.width,\n        height: data.height,\n        tileSize: data.tileSize || 256\n      });\n      _this.tiles.addTo(_this.map);\n\n      // this.tiles.fillContainer()\n      _this.setState({ zoomLoading: false, zoomLoaded: true });\n      _this.map.on('fullscreenchange', function () {\n        _this.setState({ fullscreenImage: !_this.state.fullscreenImage });\n        _this.props.toggleAppHeader();\n      });\n      var zoomCount, zoomInCount, zoomOutCount, prevZoom, nowZoom;\n      var zoomCount = zoomInCount = zoomOutCount = 0;\n      var prevZoom = nowZoom = _this.map.getZoom();\n      var recentlyAutoZoomed = false;\n\n      _this.map.on('zoomstart zoomend', function (event) {\n        var _ref = [nowZoom, _this.map.getZoom()];\n        prevZoom = _ref[0];\n        nowZoom = _ref[1];\n\n        zoomCount += 1;\n        nowZoom > prevZoom ? zoomInCount += 1 : zoomOutCount += 1;\n\n        var smallViewport = window && window.innerWidth <= 500;\n        var isSecondZoomInAction = zoomInCount == 2;\n        if (smallViewport && !recentlyAutoZoomed) {\n          // fullscreen the image when a user zooms twice in a row\n          // leave fullscreen when they return to minZoom\n          // mobile-only for now\n          var reasonsToChangeFullscreen = [event.type == 'zoomstart' && zoomInCount == 2 && !_this.map.isFullscreen(), // zooming in when not fullscreen\n          event.type == 'zoomend' && nowZoom >= 3 && !_this.map.isFullscreen(), // not fullscreen and zoomed in quite far\n          event.type == 'zoomend' && _this.map.getZoom() == _this.map.getMinZoom() && _this.map.isFullscreen()];\n          // in fullscreen, zooming out to minZoom\n          if (reasonsToChangeFullscreen.find(function (reason) {\n            return reason;\n          })) {\n            // if any of the valid reasons evaluate to true\n            _this.map.toggleFullscreen({ pseudoFullscreen: true });\n            recentlyAutoZoomed = true;\n            clearTimeout(_this.zoomCountResetTimer);\n            _this.zoomCountResetTimer = setTimeout(function () {\n              zoomCount = zoomInCount = zoomOutCount = 0;recentlyAutoZoomed = false;\n            }, 1000);\n          }\n        }\n      });\n    })['catch'](function (err) {\n      return _this.setState({ zoomLoading: false });\n    });\n  },\n\n  resizeMap: function resizeMap() {\n    if (this.map && this.tiles) {\n      this.map.invalidateSize();\n      this.tiles.fitBoundsExactly();\n    }\n  },\n\n  imageStatus: function imageStatus() {\n    var _state = this.state;\n    var art = _state.art;\n    var zoomLoaded = _state.zoomLoaded;\n    var zoomLoading = _state.zoomLoading;\n\n    var copyrightAndOnViewMessage = art.room[0] == 'G' ? \" (You'll have to come see it in person.)\" : '';\n    var loadingZoomMessage = '\\n      (—Is that the best image you\\'ve got!!?\\n      —Nope! We\\'re loading ' + humanizeNumber(this.getPixelDifference(400)) + ' more pixels right now.\\n      It can take a few seconds.)';\n    var showLoadingMessage = zoomLoading && zoomLoaded === false && !this.context.universal;\n    var showErrorMessage = zoomLoaded === 'error';\n    var smallViewport = window && window.innerWidth <= 500;\n\n    return art.image === 'valid' && React.createElement(\n      'span',\n      { className: 'imageStatus' },\n      showLoadingMessage && loadingZoomMessage,\n      showErrorMessage && React.createElement(\n        'p',\n        null,\n        'Error loading high resolution image. ',\n        React.createElement(\n          'a',\n          { href: 'mailto:collectionsdata+images@artsmia.org' },\n          'Report this problem'\n        ),\n        '.'\n      ),\n      art.restricted === 1 && !smallViewport && \"Because of © restrictions, we can only show you a small image of this artwork.\" + copyrightAndOnViewMessage\n    );\n  },\n\n  calculateImagePixelSize: function calculateImagePixelSize(size) {\n    var _state$art = this.state.art;\n    var image_width = _state$art.image_width;\n    var image_height = _state$art.image_height;\n\n    var maxDimension = Math.max(image_width, image_height);\n    var size = size || maxDimension;\n    var ratio = Math.floor(maxDimension / size);\n\n    return Math.floor(image_width / ratio) * Math.floor(image_height / ratio);\n  },\n\n  // how many more pixels are in the full sized image than the given thumbnail?\n  getPixelDifference: function getPixelDifference() {\n    var size = arguments.length <= 0 || arguments[0] === undefined ? 400 : arguments[0];\n\n    return Math.floor(this.calculateImagePixelSize() - this.calculateImagePixelSize(400));\n  },\n\n  isLoan: function isLoan() {\n    return this.state.art.accession_number.match(/^L/i);\n  },\n\n  // different from the noIndex set at `App` - this factors in object status\n  noIndex: function noIndex() {\n    return this.isLoan() || this.state.art.public_access == '0' || process.env.NODE_ENV !== 'production';\n  }\n});\nArtwork.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nvar noImageStyle = {\n  wrapper: {\n    \"position\": 'absolute',\n    \"top\": '50%',\n    \"left\": '50%',\n    \"transform\": 'translate(-50%, -50%)',\n    \"WebkitTransform\": 'translate(-50%, -50%)',\n    \"width\": '77%',\n    \"textAlign\": 'center'\n  },\n  pattern: {}\n};\nvar NoImagePlaceholder = React.createClass({\n  displayName: 'NoImagePlaceholder',\n\n  render: function render() {\n    var art = this.props.art;\n\n    var model = art[\"related:3dmodels\"] && art[\"related:3dmodels\"][0];\n    return model ? React.createElement(SketchfabEmbed, { model: model }) : React.createElement(\n      'div',\n      { style: noImageStyle.wrapper },\n      React.createElement(\n        'div',\n        { className: 'noImage invalid' },\n        React.createElement(\n          'p',\n          null,\n          'No Image Available'\n        )\n      )\n    );\n  }\n});\n\nvar SketchfabEmbed = React.createClass({\n  displayName: 'SketchfabEmbed',\n\n  render: function render() {\n    var showHideStyle = {};\n    if (!this.props.show) showHideStyle.visibility = 'hidden';\n    return React.createElement(\n      'div',\n      { className: 'sketchfab-embed-wrapper', style: showHideStyle },\n      React.createElement('iframe', {\n        src: this.props.model.link + '/embed?autostart=1&preload=1&ui_infos=0',\n        frameborder: '0',\n        allowvr: true,\n        allowfullscreen: true, mozallowfullscreen: 'true', webkitallowfullscreen: 'true',\n        onmousewheel: '' })\n    );\n  }\n});\n\nmodule.exports = Artwork;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYXJ0d29yay5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUM1QixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7SUFDL0IsSUFBSSxHQUFJLE1BQU0sQ0FBZCxJQUFJOztBQUNULElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQTtBQUMxQixJQUFJLGNBQWMsR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtBQUMvQyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7QUFDcEMsSUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBOztBQUU5QixJQUFJLFlBQVksR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtBQUM3QyxJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7QUFDcEMsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7QUFDakQsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7QUFDakQsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBO0FBQ3BDLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQTtBQUM5QixJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUE7QUFDckMsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLE1BQU0sQ0FBQTtBQUMxQyxJQUFJLHFCQUFxQixHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFBOztBQUV4RCxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7O0FBRXBDLElBQUksT0FBTyxHQUFHLEtBQUssQ0FB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QUFDLENBQUE7QUFDakUsV0FBTyxLQUFLLEdBQUcsb0JBQUMsY0FBYyxJQUFDLEtBQUssRUFBRSxLQUFLLEFBQUMsR0FBRyxHQUM3Qzs7UUFBSyxLQUFLLEVBQUUsWUFBWSxDQUFDLE9BQU8sQUFBQztNQUMvQjs7VUFBSyxTQUFTLEVBQUMsaUJBQWlCO1FBQUM7Ozs7U0FBeUI7T0FBTTtLQUM1RCxDQUFBO0dBQ1Q7Q0FDRixDQUFDLENBQUE7O0FBRUYsSUFBSSxjQUFjLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ3JDLFFBQU0sRUFBQSxrQkFBRztBQUNQLFFBQUksYUFBYSxHQUFHLEVBQUUsQ0FBQTtBQUN0QixRQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsYUFBYSxDQUFDLFVBQVUsR0FBRyxRQUFRLENBQUE7QUFDeEQsV0FBTzs7UUFBSyxTQUFTLEVBQUMseUJBQXlCLEVBQUMsS0FBSyxFQUFFLGFBQWEsQUFBQztNQUNuRTtBQUNFLFdBQUcsRUFBSyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLDRDQUEwQztBQUN2RSxtQkFBVyxFQUFDLEdBQUc7QUFDZixlQUFPLE1BQUE7QUFDUCx1QkFBZSxNQUFBLEVBQUMsa0JBQWtCLEVBQUMsTUFBTSxFQUFDLHFCQUFxQixFQUFDLE1BQU07QUFDdEUsb0JBQVksRUFBQyxFQUFFLEdBQVU7S0FDdkIsQ0FBQTtHQUNQO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvYXJ0d29yay5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHtMaW5rfSA9IFJvdXRlclxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcbnZhciBodW1hbml6ZU51bWJlciA9IHJlcXVpcmUoJ2h1bWFuaXplLW51bWJlcicpXG52YXIgSGVsbWV0ID0gcmVxdWlyZSgncmVhY3QtaGVsbWV0JylcbnZhciBjeCA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKVxuXG52YXIgQXJ0d29ya0ltYWdlID0gcmVxdWlyZSgnLi9hcnR3b3JrLWltYWdlJylcbnZhciBNYXJrZG93biA9IHJlcXVpcmUoJy4vbWFya2Rvd24nKVxudmFyIEFydHdvcmtQcmV2aWV3ID0gcmVxdWlyZSgnLi9hcnR3b3JrLXByZXZpZXcnKVxudmFyIEFydHdvcmtEZXRhaWxzID0gcmVxdWlyZSgnLi9hcnR3b3JrLWRldGFpbHMnKVxudmFyIF9BcnR3b3JrID0gcmVxdWlyZSgnLi9fYXJ0d29yaycpXG52YXIgSW1hZ2UgPSByZXF1aXJlKCcuL2ltYWdlJylcbnZhciBpbWFnZUNETiA9IHJlcXVpcmUoJy4vaW1hZ2UtY2RuJylcbnZhciBTRUFSQ0ggPSByZXF1aXJlKCcuL2VuZHBvaW50cycpLnNlYXJjaFxudmFyIEFydHdvcmtSZWxhdGVkQ29udGVudCA9IHJlcXVpcmUoJy4vYXJ0d29yay1yZWxhdGVkJylcblxudmFyIFN0aWNreSA9IHJlcXVpcmUoJ3JlYWN0LXN0aWNreScpXG5cbnZhciBBcnR3b3JrID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBtaXhpbnM6IFtSb3V0ZXIuU3RhdGVdLFxuICBzdGF0aWNzOiB7XG4gICAgZmV0Y2hEYXRhOiB7XG4gICAgICBhcnR3b3JrOiAocGFyYW1zLCBleGlzdGluZ0RhdGEpID0+IHtcbiAgICAgICAgaWYoZXhpc3RpbmdEYXRhICYmIGV4aXN0aW5nRGF0YS5pZCAmJiBleGlzdGluZ0RhdGEuaWQgPT0gcGFyYW1zLmlkKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGV4aXN0aW5nRGF0YSlcbiAgICAgICAgcmV0dXJuIHJlc3QoYCR7U0VBUkNIfS9pZC9gK3BhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpKVxuICAgICAgICAudGhlbihhcnQgPT4ge1xuICAgICAgICAgIGFydC5zbHVnID0gX0FydHdvcmsuc2x1ZyhhcnQpXG4gICAgICAgICAgcmV0dXJuIGFydFxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICB9LFxuXG4gICAgd2lsbFRyYW5zaXRpb25UbzogZnVuY3Rpb24gKHRyYW5zaXRpb24sIHBhcmFtcywgcXVlcnksIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgZXhpc3RpbmdBcnQgPSB3aW5kb3cuX19EQVRBX18gJiYgd2luZG93Ll9fREFUQV9fLmFydHdvcmtcbiAgICAgIEFydHdvcmsuZmV0Y2hEYXRhLmFydHdvcmsocGFyYW1zLCBleGlzdGluZ0FydCkudGhlbihhcnQgPT4ge1xuICAgICAgICB3aW5kb3cuX19EQVRBX18gPSB7YXJ0d29yazogYXJ0fVxuICAgICAgICBpZihhcnQuc2x1ZyAhPT0gcGFyYW1zLnNsdWcpIHtcbiAgICAgICAgICBwYXJhbXMuc2x1ZyA9IGFydC5zbHVnXG4gICAgICAgICAgdHJhbnNpdGlvbi5yZWRpcmVjdCgnYXJ0d29ya1NsdWcnLCBwYXJhbXMpXG4gICAgICAgIH1cbiAgICAgIH0pLnRoZW4oY2FsbGJhY2spXG4gICAgfVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIgYXJ0ID0gdGhpcy5zdGF0ZS5hcnRcbiAgICB2YXIgaWQgPSB0aGlzLnByb3BzLmlkIHx8IHRoaXMuc3RhdGUuaWRcbiAgICBjb25zdCBoaWdobGlnaHRzID0gdGhpcy5wcm9wcy5oaWdobGlnaHRzXG4gICAgdmFyIHN0aWNreU1hcFN0eWxlID0gdGhpcy5jb250ZXh0LnVuaXZlcnNhbCA/IHtwb3NpdGlvbjogJ2ZpeGVkJ30gOiB7fVxuICAgIHZhciBzbWFsbFZpZXdwb3J0ID0gd2luZG93ICYmIHdpbmRvdy5pbm5lcldpZHRoIDw9IDUwMFxuXG4gICAgdmFyIHBhZ2VUaXRsZSA9IFtcbiAgICAgIGFydC50aXRsZS5yZXBsYWNlKC88W14gXSs/Pi9nLCAnXCInKSxcbiAgICAgIF9BcnR3b3JrLkNyZWF0b3IuZ2V0RmFjZXRBbmRWYWx1ZShhcnQpWzFdXG4gICAgXS5maWx0ZXIoZSA9PiBlKS5qb2luKCcsICcpXG4gICAgdmFyIGltYWdlVXJsID0gaW1hZ2VDRE4oaWQpXG4gICAgdmFyIGNhbm9uaWNhbFVSTCA9IGBodHRwczovL2NvbGxlY3Rpb25zLmFydHNtaWEub3JnL2FydC8ke2FydC5pZH0vJHthcnQuc2x1Z31gXG5cbiAgICB2YXIgaW1hZ2UgPSA8SW1hZ2UgYXJ0PXthcnR9XG4gICAgICBzdHlsZT17e3dpZHRoOiA0MDAsIGhlaWdodDogNDAwLCBtYXhXaWR0aDogJzEwMCUnfX1cbiAgICAgIGlnbm9yZVN0eWxlPXt0cnVlfSAvPlxuXG4gICAgdmFyIGFzcGVjdFJhdGlvID0gYXJ0LmltYWdlX3dpZHRoL2FydC5pbWFnZV9oZWlnaHRcbiAgICB2YXIgbWFwSGVpZ2h0ID0gYXJ0LmltYWdlID09IFwidmFsaWRcIiA/XG4gICAgICBNYXRoLm1heCg0MCwgTWF0aC5taW4oNjUsIDEvYXNwZWN0UmF0aW8qODApKSA6XG4gICAgICAyMFxuICAgIGlmKHNtYWxsVmlld3BvcnQgJiYgdGhpcy5zdGF0ZS5zaG93M2QpIG1hcEhlaWdodCA9IDY3XG5cbiAgICB2YXIgc2hvd01vcmVJY29uID0gT2JqZWN0LmtleXMoYXJ0KS5maWx0ZXIoa2V5ID0+IGtleS5tYXRjaCgvcmVsYXRlZDovKSAmJiAha2V5Lm1hdGNoKC9yZWxhdGVkOmV4aGliaXRpb25zLykpLmxlbmd0aCA+IDAgJiZcbiAgICAgICF0aGlzLnN0YXRlLmZ1bGxzY3JlZW5JbWFnZVxuICAgIHZhciBleHBsb3JlSWNvbiA9IHNob3dNb3JlSWNvbiAmJiA8YSBocmVmPVwiI2V4cGxvcmVcIiBzdHlsZT17e3Bvc2l0aW9uOiAnYWJzb2x1dGUnLCB6SW5kZXg6ICcxMDAwMCcsIHJpZ2h0OiAnN3B4JywgYm90dG9tOiAnMHB4J319PlxuICAgICAgPGltZyBzcmM9XCIvaW1hZ2VzL21vcmUtaWNvbi5zdmdcIiBzdHlsZT17e3dpZHRoOiAnM2VtJ319Lz5cbiAgICA8L2E+XG5cbiAgICB2YXIgbWFwU3R5bGUgPSBzbWFsbFZpZXdwb3J0ID9cbiAgICAgIHt3aWR0aDogJzEwMCUnLCBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJywgaGVpZ2h0OiBtYXBIZWlnaHQrJ3ZoJ30gOlxuICAgICAgc3RpY2t5TWFwU3R5bGVcblxuICAgIHZhciB7em9vbUxvYWRlZH0gPSB0aGlzLnN0YXRlXG4gICAgdmFyIHpvb21Mb2FkZWRTdWNjZXNzZnVsbHkgPSB6b29tTG9hZGVkICYmIHpvb21Mb2FkZWQgIT09ICdlcnJvcidcblxuICAgIHZhciBtYXAgPSA8ZGl2IHJlZj0nbWFwJyBpZD0nbWFwJyBzdHlsZT17bWFwU3R5bGV9PlxuICAgICAge3RoaXMuc3RhdGUuaGFzM2QgJiYgPFNrZXRjaGZhYkVtYmVkIG1vZGVsPXt0aGlzLnN0YXRlLmhhczNkfSBzaG93PXt0aGlzLnN0YXRlLnNob3czZH0gLz59XG4gICAgICB7em9vbUxvYWRlZFN1Y2Nlc3NmdWxseSB8fCAoYXJ0LmltYWdlID09ICd2YWxpZCcgJiYgYXJ0LnJpZ2h0cyAhPT0gJ1Blcm1pc3Npb24gRGVuaWVkJykgJiYgPGRpdiBzdHlsZT17e3Bvc2l0aW9uOiAnYWJzb2x1dGUnLCB0b3A6ICc1MCUnLCBsZWZ0OiAnNTAlJywgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJywgV2Via2l0VHJhbnNmb3JtOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJywgd2lkdGg6ICcxMDAlJywgdGV4dEFsaWduOiAnY2VudGVyJ319PlxuICAgICAgICB7aW1hZ2V9XG4gICAgICAgIHthcnQuaW1hZ2VfY29weXJpZ2h0ICYmIDxwIHN0eWxlPXt7Zm9udFNpemU6ICcwLjhlbSd9fT57ZGVjb2RlVVJJQ29tcG9uZW50KGFydC5pbWFnZV9jb3B5cmlnaHQpfTwvcD59XG4gICAgICA8L2Rpdj4gfHwgPE5vSW1hZ2VQbGFjZWhvbGRlciBhcnQ9e2FydH0gLz59XG4gICAgICB7dGhpcy5pbWFnZVN0YXR1cygpfVxuICAgICAge3NtYWxsVmlld3BvcnQgJiYgZXhwbG9yZUljb259XG4gICAgPC9kaXY+XG5cbiAgICB2YXIgaW5mbyA9IDxkaXYgY2xhc3NOYW1lPSdpbmZvJz5cbiAgICAgIDxBcnR3b3JrUHJldmlldyBhcnQ9e2FydH0gc2hvd0xpbms9e2ZhbHNlfSBzaG93RHVwbGljYXRlRGV0YWlscz17dHJ1ZX0gLz5cbiAgICAgIHt0aGlzLnN0YXRlLmhhczNkICYmIDxkaXYgY2xhc3NOYW1lPVwiaW1hZ2VzXCI+XG4gICAgICAgIDxwIG9uQ2xpY2s9e3RoaXMudG9nZ2xlM2R9Pnt0aGlzLnN0YXRlLnNob3czZCA/ICdzaG93IHpvb21hYmxlIGltYWdlJyA6ICdzaG93IDNEIG1vZGVsJ308L3A+IFxuICAgICAgPC9kaXY+fVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiYWNrLWJ1dHRvblwiPjxhIGhyZWY9XCIjXCIgb25DbGljaz17KCkgPT4gaGlzdG9yeS5nbygtMSl9PjxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zXCI+YXJyb3dfYmFjazwvaT4gYmFjazwvYT48L2Rpdj5cbiAgICAgIDxBcnR3b3JrUmVsYXRlZENvbnRlbnQgaWQ9e2lkfSBhcnQ9e2FydH0gLz5cbiAgICAgIDxkaXY+XG4gICAgICAgIDxoNSBjbGFzc05hbWU9J2RldGFpbHMtdGl0bGUnPkRldGFpbHM8L2g1PlxuICAgICAgICA8QXJ0d29ya0RldGFpbHMgYXJ0PXthcnR9IHNob3czZD17dGhpcy5zdGF0ZS5zaG93M2R9IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIHZhciBjb250ZW50XG4gICAgaWYoc21hbGxWaWV3cG9ydCkge1xuICAgICAgY29udGVudCA9IDxkaXY+XG4gICAgICAgIHttYXB9XG4gICAgICAgIHtpbmZvfVxuICAgICAgPC9kaXY+XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRlbnQgPSA8ZGl2PlxuICAgICAgICB7aW5mb31cblxuICAgICAgICA8U3RpY2t5XG4gICAgICAgICAgc3RpY2t5U3R5bGU9e3twb3NpdGlvbjogJ2ZpeGVkJywgaGVpZ2h0OiAnMTAwJScsIHdpZHRoOiAnNjUlJywgdG9wOiAwLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgwcHgsMHB4LDBweCknfX1cbiAgICAgICAgICBvblN0aWNreVN0YXRlQ2hhbmdlPXt0aGlzLnJlc2l6ZU1hcH0+XG4gICAgICAgICAge21hcH1cbiAgICAgICAgPC9TdGlja3k+XG4gICAgICA8L2Rpdj5cbiAgICB9XG5cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e2N4KCdhcnR3b3JrJywge3NtYWxsdmlld3BvcnQ6IHNtYWxsVmlld3BvcnR9KX0+XG4gICAgICB7Y29udGVudH1cbiAgICAgIDxIZWxtZXRcbiAgICAgICAgdGl0bGU9e3BhZ2VUaXRsZX1cbiAgICAgICAgbWV0YT17W1xuICAgICAgICAgIHtwcm9wZXJ0eTogXCJvZzp0aXRsZVwiLCBjb250ZW50OiBwYWdlVGl0bGUgKyAnIHwgTWlubmVhcG9saXMgSW5zdGl0dXRlIG9mIEFydCd9LFxuICAgICAgICAgIHtwcm9wZXJ0eTogXCJvZzpkZXNjcmlwdGlvblwiLCBjb250ZW50OiBhcnQudGV4dH0sXG4gICAgICAgICAge3Byb3BlcnR5OiBcIm9nOmltYWdlXCIsIGNvbnRlbnQ6IGltYWdlVXJsfSxcbiAgICAgICAgICB7cHJvcGVydHk6IFwidHdpdHRlcjpjYXJkXCIsIGNvbnRlbnQ6IFwic3VtbWFyeV9sYXJnZV9pbWFnZVwifSxcbiAgICAgICAgICB7cHJvcGVydHk6IFwidHdpdHRlcjpzaXRlXCIsIGNvbnRlbnQ6IFwiQGFydHNtaWFcIn0sXG4gICAgICAgICAge3Byb3BlcnR5OiBcInJvYm90c1wiLCBjb250ZW50OiB0aGlzLm5vSW5kZXgoKSA/ICdmb2xsb3csbm9pbmRleCcgOiAnYWxsJ30sXG4gICAgICAgIF19XG4gICAgICAgIC8+XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgdG9nZ2xlM2QoKSB7XG4gICAgdmFyIG5leHRTaG93M2QgPSAhdGhpcy5zdGF0ZS5zaG93M2RcbiAgICB0aGlzLnNldFN0YXRlKHtzaG93M2Q6IG5leHRTaG93M2R9KVxuICAgIGlmKCFuZXh0U2hvdzNkKSB7XG4gICAgICBpZighdGhpcy5zdGF0ZS56b29tTG9hZGVkKSB0aGlzLmxvYWRab29tKClcbiAgICB9XG4gICAgaWYobmV4dFNob3czZCAmJiB0aGlzLnN0YXRlLnpvb21Mb2FkZWQpIHtcbiAgICB9XG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHZhciBhcnQgPSB0aGlzLnByb3BzLmRhdGEuYXJ0d29ya1xuICAgIGFydC5pZCA9IHRoaXMucHJvcHMuaWQgfHwgYXJ0LmlkLnJlcGxhY2UoJ2h0dHA6Ly9hcGkuYXJ0c21pYS5vcmcvb2JqZWN0cy8nLCAnJylcblxuICAgIHZhciBoYXMzRG1vZGVsID0gYXJ0W1wicmVsYXRlZDozZG1vZGVsc1wiXSAmJiBhcnRbXCJyZWxhdGVkOjNkbW9kZWxzXCJdWzBdXG4gICAgcmV0dXJuIHtcbiAgICAgIGFydDogYXJ0LFxuICAgICAgaWQ6IGFydC5pZCxcbiAgICAgIGZ1bGxzY3JlZW5JbWFnZTogZmFsc2UsXG4gICAgICBoYXMzZDogaGFzM0Rtb2RlbCxcbiAgICAgIHNob3czZDogaGFzM0Rtb2RlbCxcbiAgICB9XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdmFyIGFydCA9IHRoaXMuc3RhdGUuYXJ0XG4gICAgaWYoYXJ0LmltYWdlID09PSAndmFsaWQnICYmIGFydC5yZXN0cmljdGVkICE9IDEgJiYgIXRoaXMuaXNMb2FuKCkgJiYgIXRoaXMuc3RhdGUuc2hvdzNkKSB0aGlzLmxvYWRab29tKClcbiAgICB2YXIgc21hbGxWaWV3cG9ydCA9IHdpbmRvdyAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8PSA1MDBcbiAgICAvLyBwdXNoIHRoZSB2aWV3cG9ydCBkb3duIHBhc3QgdGhlIGhlYWRlciB0byBtYXhpbWl6ZSBpbWFnZS90ZXh0IG9uIHRoZSBwYWdlXG4gICAgLy8gc2Nyb2xsaW5nIGJhY2sgdXAgcmV2ZWFscyB0aGUgbWVudVxuICAgIC8vIFRPRE86IGlzIHRoZXJlIGEgd2F5IHRvIGF1dG9tYXRpY2FsbHkgdHJpZ2dlciBzYWZhcmkncyBtaW5pbWFsIGNocm9tZSBvdGhlciB0aGFuIGEgdXNlci1pbml0aWF0ZWQgc2Nyb2xsIGV2ZW50PyAocHJvYmFibHkgbm90IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjg4NDU2MSlcbiAgICBpZihzbWFsbFZpZXdwb3J0ICYmIHdpbmRvdy5zY3JvbGxYID09IDApIHNldFRpbWVvdXQoKCkgPT4gd2luZG93LnNjcm9sbFRvKDAsIDU2KSwgMClcbiAgfSxcblxuICBsb2FkWm9vbSgpIHtcbiAgICB2YXIgTCA9IHJlcXVpcmUoJ211c2V1bS10aWxlLWxheWVyJylcbiAgICB2YXIgZnVsbHNjcmVlbiA9IHJlcXVpcmUoJ2xlYWZsZXQtZnVsbHNjcmVlbicpXG5cbiAgICB2YXIgYXJ0ID0gdGhpcy5zdGF0ZS5hcnRcbiAgICB0aGlzLnNldFN0YXRlKHt6b29tTG9hZGVkOiBmYWxzZSwgem9vbUxvYWRpbmc6IHRydWV9KVxuXG4gICAgcmVzdChgLy90aWxlcy5keC5hcnRzbWlhLm9yZy8ke3RoaXMuc3RhdGUuaWR9Lmpzb25gKVxuICAgIC50aGVuKFxuICAgICAgcmVzcG9uc2UgPT4gSlNPTi5wYXJzZShyZXNwb25zZS5lbnRpdHkpLFxuICAgICAgcmVqZWN0ZWQgPT4ge1xuICAgICAgICAvLyBUT0RPOiBsb2cgdGhpcyBzb21ld2hlcmVcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7em9vbUxvYWRlZDogJ2Vycm9yJ30pXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoYGNhbid0IGxvYWQgdGlsZXMgZm9yICR7YXJ0LmlkfWApKVxuICAgICAgfVxuICAgIClcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgdGhpcy5tYXAgPSBMLm1hcCh0aGlzLnJlZnMubWFwLmdldERPTU5vZGUoKSwge1xuICAgICAgICBjcnM6IEwuQ1JTLlNpbXBsZSxcbiAgICAgICAgem9vbUNvbnRyb2w6IGZhbHNlLFxuICAgICAgfSlcbiAgICAgIHRoaXMubWFwLmF0dHJpYnV0aW9uQ29udHJvbC5zZXRQcmVmaXgoJycpXG4gICAgICB0aGlzLm1hcC5zZXRWaWV3KFthcnQuaW1hZ2Vfd2lkdGgvMiwgYXJ0LmltYWdlX2hlaWdodC8yXSwgMClcbiAgICAgIGlmKCFMLkJyb3dzZXIudG91Y2gpIG5ldyBMLkNvbnRyb2wuWm9vbSh7IHBvc2l0aW9uOiAndG9wcmlnaHQnIH0pLmFkZFRvKHRoaXMubWFwKVxuICAgICAgbmV3IEwuQ29udHJvbC5GdWxsc2NyZWVuKHtcbiAgICAgICAgcG9zaXRpb246ICd0b3ByaWdodCcsXG4gICAgICAgIHBzZXVkb0Z1bGxzY3JlZW46IHRydWUsXG4gICAgICB9KS5hZGRUbyh0aGlzLm1hcClcblxuICAgICAgdGhpcy50aWxlcyA9IEwubXVzZXVtVGlsZUxheWVyKCdodHRwczovL3tzfS50aWxlcy5keC5hcnRzbWlhLm9yZy97aWR9L3t6fS97eH0ve3l9LnBuZycsIHtcbiAgICAgICAgYXR0cmlidXRpb246IGFydC5pbWFnZV9jb3B5cmlnaHQgPyBkZWNvZGVVUklDb21wb25lbnQoYXJ0LmltYWdlX2NvcHlyaWdodCkgOiAnJyxcbiAgICAgICAgaWQ6IHRoaXMuc3RhdGUuaWQsXG4gICAgICAgIHdpZHRoOiBkYXRhLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IGRhdGEuaGVpZ2h0LFxuICAgICAgICB0aWxlU2l6ZTogZGF0YS50aWxlU2l6ZSB8fCAyNTYsXG4gICAgICB9KVxuICAgICAgdGhpcy50aWxlcy5hZGRUbyh0aGlzLm1hcClcblxuICAgICAgLy8gdGhpcy50aWxlcy5maWxsQ29udGFpbmVyKClcbiAgICAgIHRoaXMuc2V0U3RhdGUoe3pvb21Mb2FkaW5nOiBmYWxzZSwgem9vbUxvYWRlZDogdHJ1ZX0pXG4gICAgICB0aGlzLm1hcC5vbignZnVsbHNjcmVlbmNoYW5nZScsICgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7ZnVsbHNjcmVlbkltYWdlOiAhdGhpcy5zdGF0ZS5mdWxsc2NyZWVuSW1hZ2V9KVxuICAgICAgICB0aGlzLnByb3BzLnRvZ2dsZUFwcEhlYWRlcigpXG4gICAgICB9KVxuICAgICAgdmFyIHpvb21Db3VudCwgem9vbUluQ291bnQsIHpvb21PdXRDb3VudCwgcHJldlpvb20sIG5vd1pvb207XG4gICAgICB2YXIgem9vbUNvdW50ID0gem9vbUluQ291bnQgPSB6b29tT3V0Q291bnQgPSAwO1xuICAgICAgdmFyIHByZXZab29tID0gbm93Wm9vbSA9IHRoaXMubWFwLmdldFpvb20oKTtcbiAgICAgIHZhciByZWNlbnRseUF1dG9ab29tZWQgPSBmYWxzZTtcblxuICAgICAgdGhpcy5tYXAub24oJ3pvb21zdGFydCB6b29tZW5kJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIFtwcmV2Wm9vbSwgbm93Wm9vbV0gPSBbbm93Wm9vbSwgdGhpcy5tYXAuZ2V0Wm9vbSgpXVxuICAgICAgICB6b29tQ291bnQgKz0gMVxuICAgICAgICBub3dab29tID4gcHJldlpvb20gPyB6b29tSW5Db3VudCArPSAxIDogem9vbU91dENvdW50ICs9IDFcblxuICAgICAgICB2YXIgc21hbGxWaWV3cG9ydCA9IHdpbmRvdyAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8PSA1MDBcbiAgICAgICAgdmFyIGlzU2Vjb25kWm9vbUluQWN0aW9uID0gem9vbUluQ291bnQgPT0gMlxuICAgICAgICBpZihzbWFsbFZpZXdwb3J0ICYmICFyZWNlbnRseUF1dG9ab29tZWQpIHtcbiAgICAgICAgICAvLyBmdWxsc2NyZWVuIHRoZSBpbWFnZSB3aGVuIGEgdXNlciB6b29tcyB0d2ljZSBpbiBhIHJvd1xuICAgICAgICAgIC8vIGxlYXZlIGZ1bGxzY3JlZW4gd2hlbiB0aGV5IHJldHVybiB0byBtaW5ab29tXG4gICAgICAgICAgLy8gbW9iaWxlLW9ubHkgZm9yIG5vd1xuICAgICAgICAgIHZhciByZWFzb25zVG9DaGFuZ2VGdWxsc2NyZWVuID0gW1xuICAgICAgICAgICAgZXZlbnQudHlwZSA9PSAnem9vbXN0YXJ0JyAmJiB6b29tSW5Db3VudCA9PSAyICYmICF0aGlzLm1hcC5pc0Z1bGxzY3JlZW4oKSwgLy8gem9vbWluZyBpbiB3aGVuIG5vdCBmdWxsc2NyZWVuXG4gICAgICAgICAgICBldmVudC50eXBlID09ICd6b29tZW5kJyAmJiBub3dab29tID49IDMgJiYgIXRoaXMubWFwLmlzRnVsbHNjcmVlbigpLCAvLyBub3QgZnVsbHNjcmVlbiBhbmQgem9vbWVkIGluIHF1aXRlIGZhclxuICAgICAgICAgICAgZXZlbnQudHlwZSA9PSAnem9vbWVuZCcgJiYgdGhpcy5tYXAuZ2V0Wm9vbSgpID09IHRoaXMubWFwLmdldE1pblpvb20oKSAmJiB0aGlzLm1hcC5pc0Z1bGxzY3JlZW4oKSwgLy8gaW4gZnVsbHNjcmVlbiwgem9vbWluZyBvdXQgdG8gbWluWm9vbVxuICAgICAgICAgIF1cbiAgICAgICAgICBpZihyZWFzb25zVG9DaGFuZ2VGdWxsc2NyZWVuLmZpbmQocmVhc29uID0+IHJlYXNvbikpIHsgLy8gaWYgYW55IG9mIHRoZSB2YWxpZCByZWFzb25zIGV2YWx1YXRlIHRvIHRydWVcbiAgICAgICAgICAgIHRoaXMubWFwLnRvZ2dsZUZ1bGxzY3JlZW4oe3BzZXVkb0Z1bGxzY3JlZW46IHRydWV9KVxuICAgICAgICAgICAgcmVjZW50bHlBdXRvWm9vbWVkID0gdHJ1ZVxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuem9vbUNvdW50UmVzZXRUaW1lcilcbiAgICAgICAgICAgIHRoaXMuem9vbUNvdW50UmVzZXRUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4geyB6b29tQ291bnQgPSB6b29tSW5Db3VudCA9IHpvb21PdXRDb3VudCA9IDA7IHJlY2VudGx5QXV0b1pvb21lZCA9IGZhbHNlIH0sIDEwMDApXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gICAgLmNhdGNoKGVyciA9PiB0aGlzLnNldFN0YXRlKHt6b29tTG9hZGluZzogZmFsc2V9KSlcbiAgfSxcblxuICByZXNpemVNYXAoKSB7XG4gICAgaWYodGhpcy5tYXAgJiYgdGhpcy50aWxlcykge1xuICAgICAgdGhpcy5tYXAuaW52YWxpZGF0ZVNpemUoKVxuICAgICAgdGhpcy50aWxlcy5maXRCb3VuZHNFeGFjdGx5KClcbiAgICB9XG4gIH0sXG5cbiAgaW1hZ2VTdGF0dXMoKSB7XG4gICAgdmFyIHthcnQsIHpvb21Mb2FkZWQsIHpvb21Mb2FkaW5nfSA9IHRoaXMuc3RhdGVcbiAgICB2YXIgY29weXJpZ2h0QW5kT25WaWV3TWVzc2FnZSA9IGFydC5yb29tWzBdID09ICdHJyA/IFwiIChZb3UnbGwgaGF2ZSB0byBjb21lIHNlZSBpdCBpbiBwZXJzb24uKVwiIDogJydcbiAgICB2YXIgbG9hZGluZ1pvb21NZXNzYWdlID0gIGBcbiAgICAgICjigJRJcyB0aGF0IHRoZSBiZXN0IGltYWdlIHlvdSd2ZSBnb3QhIT9cbiAgICAgIOKAlE5vcGUhIFdlJ3JlIGxvYWRpbmcgJHtodW1hbml6ZU51bWJlcih0aGlzLmdldFBpeGVsRGlmZmVyZW5jZSg0MDApKX0gbW9yZSBwaXhlbHMgcmlnaHQgbm93LlxuICAgICAgSXQgY2FuIHRha2UgYSBmZXcgc2Vjb25kcy4pYFxuICAgIHZhciBzaG93TG9hZGluZ01lc3NhZ2UgPSB6b29tTG9hZGluZyAmJiB6b29tTG9hZGVkID09PSBmYWxzZSAmJiAhdGhpcy5jb250ZXh0LnVuaXZlcnNhbFxuICAgIHZhciBzaG93RXJyb3JNZXNzYWdlID0gem9vbUxvYWRlZCA9PT0gJ2Vycm9yJ1xuICAgIHZhciBzbWFsbFZpZXdwb3J0ID0gd2luZG93ICYmIHdpbmRvdy5pbm5lcldpZHRoIDw9IDUwMFxuXG4gICAgcmV0dXJuIGFydC5pbWFnZSA9PT0gJ3ZhbGlkJyAmJiA8c3BhbiBjbGFzc05hbWU9XCJpbWFnZVN0YXR1c1wiPlxuICAgICAge3Nob3dMb2FkaW5nTWVzc2FnZSAmJiBsb2FkaW5nWm9vbU1lc3NhZ2V9XG4gICAgICB7c2hvd0Vycm9yTWVzc2FnZSAmJiA8cD5FcnJvciBsb2FkaW5nIGhpZ2ggcmVzb2x1dGlvbiBpbWFnZS4gPGEgaHJlZj1cIm1haWx0bzpjb2xsZWN0aW9uc2RhdGEraW1hZ2VzQGFydHNtaWEub3JnXCI+UmVwb3J0IHRoaXMgcHJvYmxlbTwvYT4uPC9wPn1cbiAgICAgIHthcnQucmVzdHJpY3RlZCA9PT0gMSAmJiAhc21hbGxWaWV3cG9ydCAmJiBcIkJlY2F1c2Ugb2YgwqkgcmVzdHJpY3Rpb25zLCB3ZSBjYW4gb25seSBzaG93IHlvdSBhIHNtYWxsIGltYWdlIG9mIHRoaXMgYXJ0d29yay5cIiArIGNvcHlyaWdodEFuZE9uVmlld01lc3NhZ2V9XG4gICAgPC9zcGFuPlxuICB9LFxuXG4gIGNhbGN1bGF0ZUltYWdlUGl4ZWxTaXplKHNpemUpIHtcbiAgICB2YXIge2ltYWdlX3dpZHRoLCBpbWFnZV9oZWlnaHR9ID0gdGhpcy5zdGF0ZS5hcnRcbiAgICB2YXIgbWF4RGltZW5zaW9uID0gTWF0aC5tYXgoaW1hZ2Vfd2lkdGgsIGltYWdlX2hlaWdodClcbiAgICB2YXIgc2l6ZSA9IHNpemUgfHwgbWF4RGltZW5zaW9uXG4gICAgdmFyIHJhdGlvID0gTWF0aC5mbG9vcihtYXhEaW1lbnNpb24vc2l6ZSlcblxuICAgIHJldHVybiBNYXRoLmZsb29yKGltYWdlX3dpZHRoL3JhdGlvKSAqIE1hdGguZmxvb3IoaW1hZ2VfaGVpZ2h0L3JhdGlvKVxuICB9LFxuXG4gIC8vIGhvdyBtYW55IG1vcmUgcGl4ZWxzIGFyZSBpbiB0aGUgZnVsbCBzaXplZCBpbWFnZSB0aGFuIHRoZSBnaXZlbiB0aHVtYm5haWw/XG4gIGdldFBpeGVsRGlmZmVyZW5jZShzaXplPTQwMCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKFxuICAgICAgdGhpcy5jYWxjdWxhdGVJbWFnZVBpeGVsU2l6ZSgpIC0gdGhpcy5jYWxjdWxhdGVJbWFnZVBpeGVsU2l6ZSg0MDApXG4gICAgKVxuICB9LFxuXG4gIGlzTG9hbigpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5hcnQuYWNjZXNzaW9uX251bWJlci5tYXRjaCgvXkwvaSlcbiAgfSxcblxuICAvLyBkaWZmZXJlbnQgZnJvbSB0aGUgbm9JbmRleCBzZXQgYXQgYEFwcGAgLSB0aGlzIGZhY3RvcnMgaW4gb2JqZWN0IHN0YXR1cyBcbiAgbm9JbmRleCgpIHtcbiAgICByZXR1cm4gdGhpcy5pc0xvYW4oKVxuICAgICAgfHwgdGhpcy5zdGF0ZS5hcnQucHVibGljX2FjY2VzcyA9PSAnMCdcbiAgICAgIHx8IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbidcbiAgfSxcbn0pXG5BcnR3b3JrLmNvbnRleHRUeXBlcyA9IHtcbiAgcm91dGVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgdW5pdmVyc2FsOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbn1cblxudmFyIG5vSW1hZ2VTdHlsZSA9IHtcbiAgd3JhcHBlcjoge1xuICAgIFwicG9zaXRpb25cIjogJ2Fic29sdXRlJyxcbiAgICBcInRvcFwiOiAnNTAlJyxcbiAgICBcImxlZnRcIjogJzUwJScsXG4gICAgXCJ0cmFuc2Zvcm1cIjogJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKScsXG4gICAgXCJXZWJraXRUcmFuc2Zvcm1cIjogJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKScsXG4gICAgXCJ3aWR0aFwiOiAnNzclJyxcbiAgICBcInRleHRBbGlnblwiOiAnY2VudGVyJyxcbiAgfSxcbiAgcGF0dGVybjoge1xuICB9XG59XG52YXIgTm9JbWFnZVBsYWNlaG9sZGVyID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnR9ID0gdGhpcy5wcm9wc1xuICAgIHZhciBtb2RlbCA9IGFydFtcInJlbGF0ZWQ6M2Rtb2RlbHNcIl0gJiYgYXJ0W1wicmVsYXRlZDozZG1vZGVsc1wiXVswXVxuICAgIHJldHVybiBtb2RlbCA/IDxTa2V0Y2hmYWJFbWJlZCBtb2RlbD17bW9kZWx9IC8+IDpcbiAgICAgIDxkaXYgc3R5bGU9e25vSW1hZ2VTdHlsZS53cmFwcGVyfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJub0ltYWdlIGludmFsaWRcIj48cD5ObyBJbWFnZSBBdmFpbGFibGU8L3A+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgfVxufSlcblxudmFyIFNrZXRjaGZhYkVtYmVkID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHNob3dIaWRlU3R5bGUgPSB7fVxuICAgIGlmKCF0aGlzLnByb3BzLnNob3cpIHNob3dIaWRlU3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwic2tldGNoZmFiLWVtYmVkLXdyYXBwZXJcIiBzdHlsZT17c2hvd0hpZGVTdHlsZX0+XG4gICAgICA8aWZyYW1lXG4gICAgICAgIHNyYz17YCR7dGhpcy5wcm9wcy5tb2RlbC5saW5rfS9lbWJlZD9hdXRvc3RhcnQ9MSZwcmVsb2FkPTEmdWlfaW5mb3M9MGB9XG4gICAgICAgIGZyYW1lYm9yZGVyPVwiMFwiXG4gICAgICAgIGFsbG93dnJcbiAgICAgICAgYWxsb3dmdWxsc2NyZWVuIG1vemFsbG93ZnVsbHNjcmVlbj1cInRydWVcIiB3ZWJraXRhbGxvd2Z1bGxzY3JlZW49XCJ0cnVlXCJcbiAgICAgICAgb25tb3VzZXdoZWVsPVwiXCI+PC9pZnJhbWU+XG4gICAgPC9kaXY+XG4gIH1cbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gQXJ0d29ya1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/artwork.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/artwork.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\nvar rest = require('rest')\nvar humanizeNumber = require('humanize-number')\nvar Helmet = require('react-helmet')\nvar cx = require('classnames')\n\nvar ArtworkImage = require('./artwork-image')\nvar Markdown = require('./markdown')\nvar ArtworkPreview = require('./artwork-preview')\nvar ArtworkDetails = require('./artwork-details')\nvar _Artwork = require('./_artwork')\nvar Image = require('./image')\nvar imageCDN = require('./image-cdn')\nvar SEARCH = require('./endpoints').search\nvar ArtworkRelatedContent = require('./artwork-related')\n\nvar Sticky = require('react-sticky')\n\nvar Artwork = React.createClass({\n  mixins: [Router.State],\n  statics: {\n    fetchData: {\n      artwork: (params, existingData) => {\n        if(existingData && existingData.id && existingData.id == params.id) return Promise.resolve(existingData)\n        return rest(`${SEARCH}/id/`+params.id)\n        .then((r) => JSON.parse(r.entity))\n        .then(art => {\n          art.slug = _Artwork.slug(art)\n          return art\n        })\n      },\n    },\n\n    willTransitionTo: function (transition, params, query, callback) {\n      var existingArt = window.__DATA__ && window.__DATA__.artwork\n      Artwork.fetchData.artwork(params, existingArt).then(art => {\n        window.__DATA__ = {artwork: art}\n        if(art.slug !== params.slug) {\n          params.slug = art.slug\n          transition.redirect('artworkSlug', params)\n        }\n      }).then(callback)\n    }\n  },\n\n  render() {\n    var art = this.state.art\n    var id = this.props.id || this.state.id\n    const highlights = this.props.highlights\n    var stickyMapStyle = this.context.universal ? {position: 'fixed'} : {}\n    var smallViewport = window && window.innerWidth <= 500\n\n    var pageTitle = [\n      art.title.replace(/<[^ ]+?>/g, '\"'),\n      _Artwork.Creator.getFacetAndValue(art)[1]\n    ].filter(e => e).join(', ')\n    var imageUrl = imageCDN(id)\n    var canonicalURL = `https://collections.artsmia.org/art/${art.id}/${art.slug}`\n\n    var image = <Image art={art}\n      style={{width: 400, height: 400, maxWidth: '100%'}}\n      ignoreStyle={true} />\n\n    var aspectRatio = art.image_width/art.image_height\n    var mapHeight = art.image == \"valid\" ?\n      Math.max(40, Math.min(65, 1/aspectRatio*80)) :\n      20\n    if(smallViewport && this.state.show3d) mapHeight = 67\n\n    var showMoreIcon = Object.keys(art).filter(key => key.match(/related:/) && !key.match(/related:exhibitions/)).length > 0 &&\n      !this.state.fullscreenImage\n    var exploreIcon = showMoreIcon && <a href=\"#explore\" style={{position: 'absolute', zIndex: '10000', right: '7px', bottom: '0px'}}>\n      <img src=\"/images/more-icon.svg\" style={{width: '3em'}}/>\n    </a>\n\n    var mapStyle = smallViewport ?\n      {width: '100%', display: 'inline-block', height: mapHeight+'vh'} :\n      stickyMapStyle\n\n    var {zoomLoaded} = this.state\n    var zoomLoadedSuccessfully = zoomLoaded && zoomLoaded !== 'error'\n\n    var map = <div ref='map' id='map' style={mapStyle}>\n      {this.state.has3d && <SketchfabEmbed model={this.state.has3d} show={this.state.show3d} />}\n      {zoomLoadedSuccessfully || (art.image == 'valid' && art.rights !== 'Permission Denied') && <div style={{position: 'absolute', top: '50%', left: '50%', transform: 'translate(-50%, -50%)', WebkitTransform: 'translate(-50%, -50%)', width: '100%', textAlign: 'center'}}>\n        {image}\n        {art.image_copyright && <p style={{fontSize: '0.8em'}}>{decodeURIComponent(art.image_copyright)}</p>}\n      </div> || <NoImagePlaceholder art={art} />}\n      {this.imageStatus()}\n      {smallViewport && exploreIcon}\n    </div>\n\n    var info = <div className='info'>\n      <ArtworkPreview art={art} showLink={false} showDuplicateDetails={true} />\n      {this.state.has3d && <div className=\"images\">\n        <p onClick={this.toggle3d}>{this.state.show3d ? 'show zoomable image' : 'show 3D model'}</p> \n      </div>}\n      <div className=\"back-button\"><a href=\"#\" onClick={() => history.go(-1)}><i className=\"material-icons\">arrow_back</i> back</a></div>\n      <ArtworkRelatedContent id={id} art={art} />\n      <div>\n        <h5 className='details-title'>Details</h5>\n        <ArtworkDetails art={art} show3d={this.state.show3d} />\n      </div>\n    </div>\n\n    var content\n    if(smallViewport) {\n      content = <div>\n        {map}\n        {info}\n      </div>\n    } else {\n      content = <div>\n        {info}\n\n        <Sticky\n          stickyStyle={{position: 'fixed', height: '100%', width: '65%', top: 0, transform: 'translate3d(0px,0px,0px)'}}\n          onStickyStateChange={this.resizeMap}>\n          {map}\n        </Sticky>\n      </div>\n    }\n\n    return <div className={cx('artwork', {smallviewport: smallViewport})}>\n      {content}\n      <Helmet\n        title={pageTitle}\n        meta={[\n          {property: \"og:title\", content: pageTitle + ' | Minneapolis Institute of Art'},\n          {property: \"og:description\", content: art.text},\n          {property: \"og:image\", content: imageUrl},\n          {property: \"twitter:card\", content: \"summary_large_image\"},\n          {property: \"twitter:site\", content: \"@artsmia\"},\n          {property: \"robots\", content: this.noIndex() ? 'follow,noindex' : 'all'},\n        ]}\n        />\n    </div>\n  },\n\n  toggle3d() {\n    var nextShow3d = !this.state.show3d\n    this.setState({show3d: nextShow3d})\n    if(!nextShow3d) {\n      if(!this.state.zoomLoaded) this.loadZoom()\n    }\n    if(nextShow3d && this.state.zoomLoaded) {\n    }\n  },\n\n  getInitialState() {\n    var art = this.props.data.artwork\n    art.id = this.props.id || art.id.replace('http://api.artsmia.org/objects/', '')\n\n    var has3Dmodel = art[\"related:3dmodels\"] && art[\"related:3dmodels\"][0]\n    return {\n      art: art,\n      id: art.id,\n      fullscreenImage: false,\n      has3d: has3Dmodel,\n      show3d: has3Dmodel,\n    }\n  },\n\n  componentDidMount() {\n    var art = this.state.art\n    if(art.image === 'valid' && art.restricted != 1 && !this.isLoan() && !this.state.show3d) this.loadZoom()\n    var smallViewport = window && window.innerWidth <= 500\n    // push the viewport down past the header to maximize image/text on the page\n    // scrolling back up reveals the menu\n    // TODO: is there a way to automatically trigger safari's minimal chrome other than a user-initiated scroll event? (probably not https://stackoverflow.com/a/26884561)\n    if(smallViewport && window.scrollX == 0) setTimeout(() => window.scrollTo(0, 56), 0)\n  },\n\n  loadZoom() {\n    var L = require('museum-tile-layer')\n    var fullscreen = require('leaflet-fullscreen')\n\n    var art = this.state.art\n    this.setState({zoomLoaded: false, zoomLoading: true})\n\n    rest(`//tiles.dx.artsmia.org/${this.state.id}.json`)\n    .then(\n      response => JSON.parse(response.entity),\n      rejected => {\n        // TODO: log this somewhere\n        this.setState({zoomLoaded: 'error'})\n        return Promise.reject(new Error(`can't load tiles for ${art.id}`))\n      }\n    )\n    .then((data) => {\n      this.map = L.map(this.refs.map.getDOMNode(), {\n        crs: L.CRS.Simple,\n        zoomControl: false,\n      })\n      this.map.attributionControl.setPrefix('')\n      this.map.setView([art.image_width/2, art.image_height/2], 0)\n      if(!L.Browser.touch) new L.Control.Zoom({ position: 'topright' }).addTo(this.map)\n      new L.Control.Fullscreen({\n        position: 'topright',\n        pseudoFullscreen: true,\n      }).addTo(this.map)\n\n      this.tiles = L.museumTileLayer('https://{s}.tiles.dx.artsmia.org/{id}/{z}/{x}/{y}.png', {\n        attribution: art.image_copyright ? decodeURIComponent(art.image_copyright) : '',\n        id: this.state.id,\n        width: data.width,\n        height: data.height,\n        tileSize: data.tileSize || 256,\n      })\n      this.tiles.addTo(this.map)\n\n      // this.tiles.fillContainer()\n      this.setState({zoomLoading: false, zoomLoaded: true})\n      this.map.on('fullscreenchange', () => {\n        this.setState({fullscreenImage: !this.state.fullscreenImage})\n        this.props.toggleAppHeader()\n      })\n      var zoomCount, zoomInCount, zoomOutCount, prevZoom, nowZoom;\n      var zoomCount = zoomInCount = zoomOutCount = 0;\n      var prevZoom = nowZoom = this.map.getZoom();\n      var recentlyAutoZoomed = false;\n\n      this.map.on('zoomstart zoomend', (event) => {\n        [prevZoom, nowZoom] = [nowZoom, this.map.getZoom()]\n        zoomCount += 1\n        nowZoom > prevZoom ? zoomInCount += 1 : zoomOutCount += 1\n\n        var smallViewport = window && window.innerWidth <= 500\n        var isSecondZoomInAction = zoomInCount == 2\n        if(smallViewport && !recentlyAutoZoomed) {\n          // fullscreen the image when a user zooms twice in a row\n          // leave fullscreen when they return to minZoom\n          // mobile-only for now\n          var reasonsToChangeFullscreen = [\n            event.type == 'zoomstart' && zoomInCount == 2 && !this.map.isFullscreen(), // zooming in when not fullscreen\n            event.type == 'zoomend' && nowZoom >= 3 && !this.map.isFullscreen(), // not fullscreen and zoomed in quite far\n            event.type == 'zoomend' && this.map.getZoom() == this.map.getMinZoom() && this.map.isFullscreen(), // in fullscreen, zooming out to minZoom\n          ]\n          if(reasonsToChangeFullscreen.find(reason => reason)) { // if any of the valid reasons evaluate to true\n            this.map.toggleFullscreen({pseudoFullscreen: true})\n            recentlyAutoZoomed = true\n            clearTimeout(this.zoomCountResetTimer)\n            this.zoomCountResetTimer = setTimeout(() => { zoomCount = zoomInCount = zoomOutCount = 0; recentlyAutoZoomed = false }, 1000)\n          }\n        }\n      })\n    })\n    .catch(err => this.setState({zoomLoading: false}))\n  },\n\n  resizeMap() {\n    if(this.map && this.tiles) {\n      this.map.invalidateSize()\n      this.tiles.fitBoundsExactly()\n    }\n  },\n\n  imageStatus() {\n    var {art, zoomLoaded, zoomLoading} = this.state\n    var copyrightAndOnViewMessage = art.room[0] == 'G' ? \" (You'll have to come see it in person.)\" : ''\n    var loadingZoomMessage =  `\n      (—Is that the best image you've got!!?\n      —Nope! We're loading ${humanizeNumber(this.getPixelDifference(400))} more pixels right now.\n      It can take a few seconds.)`\n    var showLoadingMessage = zoomLoading && zoomLoaded === false && !this.context.universal\n    var showErrorMessage = zoomLoaded === 'error'\n    var smallViewport = window && window.innerWidth <= 500\n\n    return art.image === 'valid' && <span className=\"imageStatus\">\n      {showLoadingMessage && loadingZoomMessage}\n      {showErrorMessage && <p>Error loading high resolution image. <a href=\"mailto:collectionsdata+images@artsmia.org\">Report this problem</a>.</p>}\n      {art.restricted === 1 && !smallViewport && \"Because of © restrictions, we can only show you a small image of this artwork.\" + copyrightAndOnViewMessage}\n    </span>\n  },\n\n  calculateImagePixelSize(size) {\n    var {image_width, image_height} = this.state.art\n    var maxDimension = Math.max(image_width, image_height)\n    var size = size || maxDimension\n    var ratio = Math.floor(maxDimension/size)\n\n    return Math.floor(image_width/ratio) * Math.floor(image_height/ratio)\n  },\n\n  // how many more pixels are in the full sized image than the given thumbnail?\n  getPixelDifference(size=400) {\n    return Math.floor(\n      this.calculateImagePixelSize() - this.calculateImagePixelSize(400)\n    )\n  },\n\n  isLoan() {\n    return this.state.art.accession_number.match(/^L/i)\n  },\n\n  // different from the noIndex set at `App` - this factors in object status \n  noIndex() {\n    return this.isLoan()\n      || this.state.art.public_access == '0'\n      || process.env.NODE_ENV !== 'production'\n  },\n})\nArtwork.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nvar noImageStyle = {\n  wrapper: {\n    \"position\": 'absolute',\n    \"top\": '50%',\n    \"left\": '50%',\n    \"transform\": 'translate(-50%, -50%)',\n    \"WebkitTransform\": 'translate(-50%, -50%)',\n    \"width\": '77%',\n    \"textAlign\": 'center',\n  },\n  pattern: {\n  }\n}\nvar NoImagePlaceholder = React.createClass({\n  render() {\n    var {art} = this.props\n    var model = art[\"related:3dmodels\"] && art[\"related:3dmodels\"][0]\n    return model ? <SketchfabEmbed model={model} /> :\n      <div style={noImageStyle.wrapper}>\n        <div className=\"noImage invalid\"><p>No Image Available</p></div>\n      </div>\n  }\n})\n\nvar SketchfabEmbed = React.createClass({\n  render() {\n    var showHideStyle = {}\n    if(!this.props.show) showHideStyle.visibility = 'hidden'\n    return <div className=\"sketchfab-embed-wrapper\" style={showHideStyle}>\n      <iframe\n        src={`${this.props.model.link}/embed?autostart=1&preload=1&ui_infos=0`}\n        frameborder=\"0\"\n        allowvr\n        allowfullscreen mozallowfullscreen=\"true\" webkitallowfullscreen=\"true\"\n        onmousewheel=\"\"></iframe>\n    </div>\n  }\n})\n\nmodule.exports = Artwork\n"
      ]
    },
    "mtime": 1485968083610
  },
  "{\"filename\":\"/var/www/art/src/artists-by-letter.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar rest = require('rest');\n\nvar ArtistsByLetter = React.createClass({\n  displayName: 'ArtistsByLetter',\n\n  mixins: [Router.State, Router.Navigation],\n\n  statics: {\n    fetchData: function fetchData(params) {\n      return rest('https://cdn.dx.artsmia.org/artists.json').then(function (r) {\n        return JSON.parse(r.entity).aggregations.artist.buckets;\n      });\n    }\n  },\n\n  render: function render() {\n    if (!this.props.data.artistsByName) return React.createElement('div', { className: 'loading' });\n    var letter = this.getParams().letter;\n    var letters = this.props.data.artistsByName.map(function (a) {\n      return a;\n    });\n    console.info(letters);\n    return React.createElement(\n      'dl',\n      null,\n      letters.map(function (l) {\n        return React.createElement(\n          'div',\n          { className: 'artist-by-letter' },\n          React.createElement(\n            'dt',\n            { key: l.key },\n            React.createElement(\n              Link,\n              { to: 'artistsByName', params: { letter: l.key } },\n              l.key\n            )\n          ),\n          letter === l.key && React.createElement(\n            'dd',\n            { style: { position: 'absolute', top: '3em' } },\n            l.byName.buckets.map(function (b) {\n              return React.createElement(\n                Link,\n                { to: 'filteredSearchResults', params: { terms: '*', splat: 'artist.raw:%22' + b.key + '%22' }, style: { display: 'block' } },\n                b.key\n              );\n            })\n          )\n        );\n      })\n    );\n  }\n});\n\nmodule.exports = ArtistsByLetter;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYXJ0aXN0cy1ieS1sZXR0ZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0lBQzlCLElBQUksR0FBSyxNQUFNLENBQWYsSUFBSTs7QUFDVixJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUE7O0FBRTFCLElBQUksZUFBZSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUN0QyxRQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxVQUFVLENBQUM7O0FBRXpDLFNBQU8sRUFBRTtBQUNQLGFBQVMsRUFBRSxtQkFBQyxNQUFNLEVBQUs7QUFDckIsYUFBTyxJQUFJLENBQUMseUNBQXlDLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQyxDQUFDLEVBQUs7QUFDakUsZUFBTyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQTtPQUN4RCxDQUFDLENBQUE7S0FDSDtHQUNGOztBQUVELFFBQU0sRUFBQSxrQkFBRztBQUNQLFFBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsT0FBTyw2QkFBSyxTQUFTLEVBQUMsU0FBUyxHQUFPLENBQUE7QUFDekUsUUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLE1BQU0sQ0FBQTtBQUNwQyxRQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLFVBQUMsQ0FBQzthQUFLLENBQUM7S0FBQSxDQUFDLENBQUE7QUFDekQsV0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUNyQixXQUNFOzs7TUFDQyxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQUMsQ0FBQyxFQUFLO0FBQ2xCLGVBQU87O1lBQUssU0FBUyxFQUFDLGtCQUFrQjtVQUN0Qzs7Y0FBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQUFBQztZQUFDO0FBQUMsa0JBQUk7Z0JBQUMsRUFBRSxFQUFDLGVBQWUsRUFBQyxNQUFNLEVBQUUsRUFBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBQyxBQUFDO2NBQUUsQ0FBQyxDQUFDLEdBQUc7YUFBUTtXQUFLO1VBQ3BGLE1BQU0sS0FBSyxDQUFDLENBQUMsR0FBRyxJQUFJOztjQUFJLEtBQUssRUFBRSxFQUFDLFFBQVEsRUFBRSxVQUFVLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBQyxBQUFDO1lBQ2hFLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFDLENBQUM7cUJBQUs7QUFBQyxvQkFBSTtrQkFBQyxFQUFFLEVBQUMsdUJBQXVCLEVBQUMsTUFBTSxFQUFFLEVBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxLQUFLLHFCQUFtQixDQUFDLENBQUMsR0FBRyxRQUFLLEVBQUMsQUFBQyxFQUFDLEtBQUssRUFBRSxFQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUMsQUFBQztnQkFBRSxDQUFDLENBQUMsR0FBRztlQUFRO2FBQUEsQ0FBQztXQUMvSjtTQUNELENBQUE7T0FDUCxDQUFDO0tBQ0csQ0FDTjtHQUNGO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsZUFBZSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvYXJ0aXN0cy1ieS1sZXR0ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciB7IExpbmsgfSA9IFJvdXRlclxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcblxudmFyIEFydGlzdHNCeUxldHRlciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgbWl4aW5zOiBbUm91dGVyLlN0YXRlLCBSb3V0ZXIuTmF2aWdhdGlvbl0sXG5cbiAgc3RhdGljczogeyBcbiAgICBmZXRjaERhdGE6IChwYXJhbXMpID0+IHtcbiAgICAgIHJldHVybiByZXN0KCdodHRwczovL2Nkbi5keC5hcnRzbWlhLm9yZy9hcnRpc3RzLmpzb24nKS50aGVuKChyKSA9PiB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHIuZW50aXR5KS5hZ2dyZWdhdGlvbnMuYXJ0aXN0LmJ1Y2tldHNcbiAgICAgIH0pXG4gICAgfVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICBpZighdGhpcy5wcm9wcy5kYXRhLmFydGlzdHNCeU5hbWUpIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImxvYWRpbmdcIj48L2Rpdj5cbiAgICB2YXIgbGV0dGVyID0gdGhpcy5nZXRQYXJhbXMoKS5sZXR0ZXJcbiAgICB2YXIgbGV0dGVycyA9IHRoaXMucHJvcHMuZGF0YS5hcnRpc3RzQnlOYW1lLm1hcCgoYSkgPT4gYSlcbiAgICBjb25zb2xlLmluZm8obGV0dGVycylcbiAgICByZXR1cm4gKFxuICAgICAgPGRsPlxuICAgICAge2xldHRlcnMubWFwKChsKSA9PiB7XG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT0nYXJ0aXN0LWJ5LWxldHRlcic+XG4gICAgICAgICAgPGR0IGtleT17bC5rZXl9PjxMaW5rIHRvPVwiYXJ0aXN0c0J5TmFtZVwiIHBhcmFtcz17e2xldHRlcjogbC5rZXl9fT57bC5rZXl9PC9MaW5rPjwvZHQ+XG4gICAgICAgICAge2xldHRlciA9PT0gbC5rZXkgJiYgPGRkIHN0eWxlPXt7cG9zaXRpb246ICdhYnNvbHV0ZScsIHRvcDogJzNlbSd9fT5cbiAgICAgICAgICAgIHtsLmJ5TmFtZS5idWNrZXRzLm1hcCgoYikgPT4gPExpbmsgdG89XCJmaWx0ZXJlZFNlYXJjaFJlc3VsdHNcIiBwYXJhbXM9e3t0ZXJtczogJyonLCBzcGxhdDogYGFydGlzdC5yYXc6JTIyJHtiLmtleX0lMjJgfX0gc3R5bGU9e3tkaXNwbGF5OiAnYmxvY2snfX0+e2Iua2V5fTwvTGluaz4pfVxuICAgICAgICAgIDwvZGQ+fVxuICAgICAgICA8L2Rpdj5cbiAgICAgIH0pfVxuICAgICAgPC9kbD5cbiAgICApXG4gIH1cbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gQXJ0aXN0c0J5TGV0dGVyXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/artists-by-letter.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;IAC9B,IAAI,GAAK,MAAM,CAAf,IAAI;;AACV,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;;AAE1B,IAAI,eAAe,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACtC,QAAM,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,UAAU,CAAC;;AAEzC,SAAO,EAAE;AACP,aAAS,EAAE,mBAAC,MAAM,EAAK;AACrB,aAAO,IAAI,CAAC,yCAAyC,CAAC,CAAC,IAAI,CAAC,UAAC,CAAC,EAAK;AACjE,eAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,CAAA;OACxD,CAAC,CAAA;KACH;GACF;;AAED,QAAM,EAAA,kBAAG;AACP,QAAG,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,EAAE,OAAO,6BAAK,SAAS,EAAC,SAAS,GAAO,CAAA;AACzE,QAAI,MAAM,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC,MAAM,CAAA;AACpC,QAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,UAAC,CAAC;aAAK,CAAC;KAAA,CAAC,CAAA;AACzD,WAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;AACrB,WACE;;;MACC,OAAO,CAAC,GAAG,CAAC,UAAC,CAAC,EAAK;AAClB,eAAO;;YAAK,SAAS,EAAC,kBAAkB;UACtC;;cAAI,GAAG,EAAE,CAAC,CAAC,GAAG,AAAC;YAAC;AAAC,kBAAI;gBAAC,EAAE,EAAC,eAAe,EAAC,MAAM,EAAE,EAAC,MAAM,EAAE,CAAC,CAAC,GAAG,EAAC,AAAC;cAAE,CAAC,CAAC,GAAG;aAAQ;WAAK;UACpF,MAAM,KAAK,CAAC,CAAC,GAAG,IAAI;;cAAI,KAAK,EAAE,EAAC,QAAQ,EAAE,UAAU,EAAE,GAAG,EAAE,KAAK,EAAC,AAAC;YAChE,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,UAAC,CAAC;qBAAK;AAAC,oBAAI;kBAAC,EAAE,EAAC,uBAAuB,EAAC,MAAM,EAAE,EAAC,KAAK,EAAE,GAAG,EAAE,KAAK,qBAAmB,CAAC,CAAC,GAAG,QAAK,EAAC,AAAC,EAAC,KAAK,EAAE,EAAC,OAAO,EAAE,OAAO,EAAC,AAAC;gBAAE,CAAC,CAAC,GAAG;eAAQ;aAAA,CAAC;WAC/J;SACD,CAAA;OACP,CAAC;KACG,CACN;GACF;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,eAAe,CAAA",
      "file": "/var/www/art/src/artists-by-letter.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar { Link } = Router\nvar rest = require('rest')\n\nvar ArtistsByLetter = React.createClass({\n  mixins: [Router.State, Router.Navigation],\n\n  statics: { \n    fetchData: (params) => {\n      return rest('https://cdn.dx.artsmia.org/artists.json').then((r) => {\n        return JSON.parse(r.entity).aggregations.artist.buckets\n      })\n    }\n  },\n\n  render() {\n    if(!this.props.data.artistsByName) return <div className=\"loading\"></div>\n    var letter = this.getParams().letter\n    var letters = this.props.data.artistsByName.map((a) => a)\n    console.info(letters)\n    return (\n      <dl>\n      {letters.map((l) => {\n        return <div className='artist-by-letter'>\n          <dt key={l.key}><Link to=\"artistsByName\" params={{letter: l.key}}>{l.key}</Link></dt>\n          {letter === l.key && <dd style={{position: 'absolute', top: '3em'}}>\n            {l.byName.buckets.map((b) => <Link to=\"filteredSearchResults\" params={{terms: '*', splat: `artist.raw:%22${b.key}%22`}} style={{display: 'block'}}>{b.key}</Link>)}\n          </dd>}\n        </div>\n      })}\n      </dl>\n    )\n  }\n})\n\nmodule.exports = ArtistsByLetter\n"
      ]
    },
    "mtime": 1485807805238
  },
  "{\"filename\":\"/var/www/art/src/objects-by-id.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar rest = require('rest');\n\nvar SEARCH = require('./endpoints').search;\nvar ArtworkResult = require('./artwork-result');\nvar Search = require('./search');\n\nvar ObjectsById = React.createClass({\n  displayName: 'ObjectsById',\n\n  mixins: [Router.State],\n\n  statics: {\n    fetchData: {\n      searchResults: function searchResults(params) {\n        return rest(SEARCH + '/ids/' + params.ids).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    return React.createElement(Search, this.props);\n  }\n});\n\nmodule.exports = ObjectsById;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvb2JqZWN0cy1ieS1pZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUM1QixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7QUFDcEMsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFBOztBQUUxQixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsTUFBTSxDQUFBO0FBQzFDLElBQUksYUFBYSxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFBO0FBQy9DLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQTs7QUFFaEMsSUFBSSxXQUFXLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ2xDLFFBQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7O0FBRXRCLFNBQU8sRUFBRTtBQUNQLGFBQVMsRUFBRTtBQUNULG1CQUFhLEVBQUUsdUJBQUMsTUFBTTtlQUFLLElBQUksQ0FBSSxNQUFNLGFBQVEsTUFBTSxDQUFDLEdBQUcsQ0FBRyxDQUFDLElBQUksQ0FBQyxVQUFDLENBQUM7aUJBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO1NBQUEsQ0FBQztPQUFBO0tBQ2pHO0dBQ0Y7O0FBRUQsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsV0FBTyxvQkFBQyxNQUFNLEVBQUssSUFBSSxDQUFDLEtBQUssQ0FBSSxDQUFBO0dBQ2xDO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsV0FBVyxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvb2JqZWN0cy1ieS1pZC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcblxudmFyIFNFQVJDSCA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJykuc2VhcmNoXG52YXIgQXJ0d29ya1Jlc3VsdCA9IHJlcXVpcmUoJy4vYXJ0d29yay1yZXN1bHQnKVxudmFyIFNlYXJjaCA9IHJlcXVpcmUoJy4vc2VhcmNoJylcblxudmFyIE9iamVjdHNCeUlkID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBtaXhpbnM6IFtSb3V0ZXIuU3RhdGVdLFxuXG4gIHN0YXRpY3M6IHtcbiAgICBmZXRjaERhdGE6IHtcbiAgICAgIHNlYXJjaFJlc3VsdHM6IChwYXJhbXMpID0+IHJlc3QoYCR7U0VBUkNIfS9pZHMvJHtwYXJhbXMuaWRzfWApLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpKSxcbiAgICB9LFxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPFNlYXJjaCB7Li4udGhpcy5wcm9wc30gLz5cbiAgfVxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3RzQnlJZFxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/objects-by-id.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACpC,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;;AAE1B,IAAI,MAAM,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC,MAAM,CAAA;AAC1C,IAAI,aAAa,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAA;AAC/C,IAAI,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA;;AAEhC,IAAI,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAClC,QAAM,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;;AAEtB,SAAO,EAAE;AACP,aAAS,EAAE;AACT,mBAAa,EAAE,uBAAC,MAAM;eAAK,IAAI,CAAI,MAAM,aAAQ,MAAM,CAAC,GAAG,CAAG,CAAC,IAAI,CAAC,UAAC,CAAC;iBAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;SAAA,CAAC;OAAA;KACjG;GACF;;AAED,QAAM,EAAA,kBAAG;AACP,WAAO,oBAAC,MAAM,EAAK,IAAI,CAAC,KAAK,CAAI,CAAA;GAClC;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,WAAW,CAAA",
      "file": "/var/www/art/src/objects-by-id.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar rest = require('rest')\n\nvar SEARCH = require('./endpoints').search\nvar ArtworkResult = require('./artwork-result')\nvar Search = require('./search')\n\nvar ObjectsById = React.createClass({\n  mixins: [Router.State],\n\n  statics: {\n    fetchData: {\n      searchResults: (params) => rest(`${SEARCH}/ids/${params.ids}`).then((r) => JSON.parse(r.entity)),\n    },\n  },\n\n  render() {\n    return <Search {...this.props} />\n  }\n})\n\nmodule.exports = ObjectsById\n"
      ]
    },
    "mtime": 1456957925207
  },
  "{\"filename\":\"/var/www/art/src/department.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "sliced-to-array",
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Helmet = require('react-helmet');\n\nvar rest = require('rest');\n\nvar Search = require('./search');\nvar SearchResults = require('./search-results');\nvar Peek = require('./peek');\nvar DepartmentDecorator = require('./decorate/department');\nvar findDepartment = require('./department-slug');\nvar endpoint = require('./endpoints').info;\n\nvar Department = React.createClass({\n  displayName: 'Department',\n\n  mixins: [Router.State],\n\n  statics: {\n    fetchData: {\n      searchResults: function searchResults(params, query) {\n        params.terms = '*';\n        var name = findDepartment(params.dept)[0];\n        params.splat = 'department:\"' + name + '\"';\n        return SearchResults.fetchData.searchResults(params, query);\n      },\n      departments: function departments(params, query) {\n        return rest(endpoint).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var _findDepartment = findDepartment(this.props.params.dept);\n\n    var _findDepartment2 = _slicedToArray(_findDepartment, 3);\n\n    var deptName = _findDepartment2[0];\n    var _ = _findDepartment2[1];\n    var slug = _findDepartment2[2];\n\n    var facet = 'department:\"' + deptName + '\"';\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(Search, _extends({\n        facet: facet\n      }, this.props, {\n        hideInput: true,\n        hideResults: true })),\n      React.createElement(\n        'div',\n        { className: 'departmentPage' },\n        React.createElement(DepartmentDecorator, { department: deptName, params: this.props.params, departmentInfo: this.props.data.departments })\n      ),\n      React.createElement(Peek, { facet: 'department', q: deptName, quiltProps: { maxRowHeight: 400 }, offset: 10 }),\n      React.createElement(Helmet, { title: deptName })\n    );\n  }\n});\n\nmodule.exports = Department;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZGVwYXJ0bWVudC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0FBQ3BDLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTs7QUFFcEMsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFBOztBQUUxQixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUE7QUFDaEMsSUFBSSxhQUFhLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUE7QUFDL0MsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQzVCLElBQUksbUJBQW1CLEdBQUcsT0FBTyxDQUFDLHVCQUF1QixDQUFDLENBQUE7QUFDMUQsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7QUFDakQsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLElBQUksQ0FBQTs7QUFFMUMsSUFBSSxVQUFVLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ2pDLFFBQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7O0FBRXRCLFNBQU8sRUFBRTtBQUNQLGFBQVMsRUFBRTtBQUNULG1CQUFhLEVBQUUsdUJBQUMsTUFBTSxFQUFFLEtBQUssRUFBSztBQUNoQyxjQUFNLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQTtBQUNsQixZQUFJLElBQUksR0FBRyxjQUFjLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQ3pDLGNBQU0sQ0FBQyxLQUFLLEdBQUcsY0FBYyxHQUFDLElBQUksR0FBQyxHQUFHLENBQUE7QUFDdEMsZUFBTyxhQUFhLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUE7T0FDNUQ7QUFDRCxpQkFBVyxFQUFFLHFCQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUs7QUFDOUIsZUFBTyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsQ0FBQztpQkFBSyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7U0FBQSxDQUFDLENBQUE7T0FDeEQ7S0FDRjtHQUNGOztBQUVELFFBQU0sRUFBQSxrQkFBRzswQkFDbUIsY0FBYyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQzs7OztRQUEzRCxRQUFRO1FBQUUsQ0FBQztRQUFFLElBQUk7O0FBQ3RCLFFBQUksS0FBSyxvQkFBa0IsUUFBUSxNQUFHLENBQUE7QUFDdEMsV0FBTzs7O01BQ0wsb0JBQUMsTUFBTTtBQUNMLGFBQUssRUFBRSxLQUFLLEFBQUM7U0FDVCxJQUFJLENBQUMsS0FBSztBQUNkLGlCQUFTLEVBQUUsSUFBSSxBQUFDO0FBQ2hCLG1CQUFXLEVBQUUsSUFBSSxBQUFDLElBQUc7TUFDdkI7O1VBQUssU0FBUyxFQUFDLGdCQUFnQjtRQUM3QixvQkFBQyxtQkFBbUIsSUFBQyxVQUFVLEVBQUUsUUFBUSxBQUFDLEVBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxBQUFDLEVBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFdBQVcsQUFBQyxHQUFHO09BQ2pIO01BQ04sb0JBQUMsSUFBSSxJQUFDLEtBQUssRUFBQyxZQUFZLEVBQUMsQ0FBQyxFQUFFLFFBQVEsQUFBQyxFQUFDLFVBQVUsRUFBRSxFQUFDLFlBQVksRUFBRSxHQUFHLEVBQUMsQUFBQyxFQUFDLE1BQU0sRUFBRSxFQUFFLEFBQUMsR0FBRTtNQUNwRixvQkFBQyxNQUFNLElBQUMsS0FBSyxFQUFFLFFBQVEsQUFBQyxHQUFHO0tBQ3ZCLENBQUE7R0FDUDtDQUNGLENBQUMsQ0FBQTs7QUFFRixNQUFNLENBQUMsT0FBTyxHQUFHLFVBQVUsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2RlcGFydG1lbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxuXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxuXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zZWFyY2gnKVxudmFyIFNlYXJjaFJlc3VsdHMgPSByZXF1aXJlKCcuL3NlYXJjaC1yZXN1bHRzJylcbnZhciBQZWVrID0gcmVxdWlyZSgnLi9wZWVrJylcbnZhciBEZXBhcnRtZW50RGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9kZXBhcnRtZW50JylcbnZhciBmaW5kRGVwYXJ0bWVudCA9IHJlcXVpcmUoJy4vZGVwYXJ0bWVudC1zbHVnJylcbnZhciBlbmRwb2ludCA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJykuaW5mb1xuXG52YXIgRGVwYXJ0bWVudCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgbWl4aW5zOiBbUm91dGVyLlN0YXRlXSxcblxuICBzdGF0aWNzOiB7XG4gICAgZmV0Y2hEYXRhOiB7XG4gICAgICBzZWFyY2hSZXN1bHRzOiAocGFyYW1zLCBxdWVyeSkgPT4ge1xuICAgICAgICBwYXJhbXMudGVybXMgPSAnKidcbiAgICAgICAgdmFyIG5hbWUgPSBmaW5kRGVwYXJ0bWVudChwYXJhbXMuZGVwdClbMF1cbiAgICAgICAgcGFyYW1zLnNwbGF0ID0gJ2RlcGFydG1lbnQ6XCInK25hbWUrJ1wiJ1xuICAgICAgICByZXR1cm4gU2VhcmNoUmVzdWx0cy5mZXRjaERhdGEuc2VhcmNoUmVzdWx0cyhwYXJhbXMsIHF1ZXJ5KVxuICAgICAgfSxcbiAgICAgIGRlcGFydG1lbnRzOiAocGFyYW1zLCBxdWVyeSkgPT4ge1xuICAgICAgICByZXR1cm4gcmVzdChlbmRwb2ludCkudGhlbigocikgPT4gSlNPTi5wYXJzZShyLmVudGl0eSkpXG4gICAgICB9XG4gICAgfSxcbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIFtkZXB0TmFtZSwgXywgc2x1Z10gPSBmaW5kRGVwYXJ0bWVudCh0aGlzLnByb3BzLnBhcmFtcy5kZXB0KVxuICAgIHZhciBmYWNldCA9IGBkZXBhcnRtZW50OlwiJHtkZXB0TmFtZX1cImBcbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIDxTZWFyY2hcbiAgICAgICAgZmFjZXQ9e2ZhY2V0fVxuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgaGlkZUlucHV0PXt0cnVlfVxuICAgICAgICBoaWRlUmVzdWx0cz17dHJ1ZX0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGVwYXJ0bWVudFBhZ2VcIj5cbiAgICAgICAgPERlcGFydG1lbnREZWNvcmF0b3IgZGVwYXJ0bWVudD17ZGVwdE5hbWV9IHBhcmFtcz17dGhpcy5wcm9wcy5wYXJhbXN9IGRlcGFydG1lbnRJbmZvPXt0aGlzLnByb3BzLmRhdGEuZGVwYXJ0bWVudHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxQZWVrIGZhY2V0PVwiZGVwYXJ0bWVudFwiIHE9e2RlcHROYW1lfSBxdWlsdFByb3BzPXt7bWF4Um93SGVpZ2h0OiA0MDB9fSBvZmZzZXQ9ezEwfS8+XG4gICAgICA8SGVsbWV0IHRpdGxlPXtkZXB0TmFtZX0gLz5cbiAgICA8L2Rpdj5cbiAgfVxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBEZXBhcnRtZW50XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/department.js"
      ],
      "names": [],
      "mappings": ";;;;;;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACpC,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;;AAEpC,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;;AAE1B,IAAI,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA;AAChC,IAAI,aAAa,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAA;AAC/C,IAAI,IAAI,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAA;AAC5B,IAAI,mBAAmB,GAAG,OAAO,CAAC,uBAAuB,CAAC,CAAA;AAC1D,IAAI,cAAc,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAA;AACjD,IAAI,QAAQ,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC,IAAI,CAAA;;AAE1C,IAAI,UAAU,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACjC,QAAM,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;;AAEtB,SAAO,EAAE;AACP,aAAS,EAAE;AACT,mBAAa,EAAE,uBAAC,MAAM,EAAE,KAAK,EAAK;AAChC,cAAM,CAAC,KAAK,GAAG,GAAG,CAAA;AAClB,YAAI,IAAI,GAAG,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAA;AACzC,cAAM,CAAC,KAAK,GAAG,cAAc,GAAC,IAAI,GAAC,GAAG,CAAA;AACtC,eAAO,aAAa,CAAC,SAAS,CAAC,aAAa,CAAC,MAAM,EAAE,KAAK,CAAC,CAAA;OAC5D;AACD,iBAAW,EAAE,qBAAC,MAAM,EAAE,KAAK,EAAK;AAC9B,eAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,CAAC;iBAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;SAAA,CAAC,CAAA;OACxD;KACF;GACF;;AAED,QAAM,EAAA,kBAAG;0BACmB,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC;;;;QAA3D,QAAQ;QAAE,CAAC;QAAE,IAAI;;AACtB,QAAI,KAAK,oBAAkB,QAAQ,MAAG,CAAA;AACtC,WAAO;;;MACL,oBAAC,MAAM;AACL,aAAK,EAAE,KAAK,AAAC;SACT,IAAI,CAAC,KAAK;AACd,iBAAS,EAAE,IAAI,AAAC;AAChB,mBAAW,EAAE,IAAI,AAAC,IAAG;MACvB;;UAAK,SAAS,EAAC,gBAAgB;QAC7B,oBAAC,mBAAmB,IAAC,UAAU,EAAE,QAAQ,AAAC,EAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,AAAC,EAAC,cAAc,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,AAAC,GAAG;OACjH;MACN,oBAAC,IAAI,IAAC,KAAK,EAAC,YAAY,EAAC,CAAC,EAAE,QAAQ,AAAC,EAAC,UAAU,EAAE,EAAC,YAAY,EAAE,GAAG,EAAC,AAAC,EAAC,MAAM,EAAE,EAAE,AAAC,GAAE;MACpF,oBAAC,MAAM,IAAC,KAAK,EAAE,QAAQ,AAAC,GAAG;KACvB,CAAA;GACP;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,UAAU,CAAA",
      "file": "/var/www/art/src/department.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar Helmet = require('react-helmet')\n\nvar rest = require('rest')\n\nvar Search = require('./search')\nvar SearchResults = require('./search-results')\nvar Peek = require('./peek')\nvar DepartmentDecorator = require('./decorate/department')\nvar findDepartment = require('./department-slug')\nvar endpoint = require('./endpoints').info\n\nvar Department = React.createClass({\n  mixins: [Router.State],\n\n  statics: {\n    fetchData: {\n      searchResults: (params, query) => {\n        params.terms = '*'\n        var name = findDepartment(params.dept)[0]\n        params.splat = 'department:\"'+name+'\"'\n        return SearchResults.fetchData.searchResults(params, query)\n      },\n      departments: (params, query) => {\n        return rest(endpoint).then((r) => JSON.parse(r.entity))\n      }\n    },\n  },\n\n  render() {\n    var [deptName, _, slug] = findDepartment(this.props.params.dept)\n    var facet = `department:\"${deptName}\"`\n    return <div>\n      <Search\n        facet={facet}\n        {...this.props}\n        hideInput={true}\n        hideResults={true} />\n      <div className=\"departmentPage\">\n        <DepartmentDecorator department={deptName} params={this.props.params} departmentInfo={this.props.data.departments} />\n      </div>\n      <Peek facet=\"department\" q={deptName} quiltProps={{maxRowHeight: 400}} offset={10}/>\n      <Helmet title={deptName} />\n    </div>\n  }\n})\n\nmodule.exports = Department\n"
      ]
    },
    "mtime": 1449524147383
  },
  "{\"filename\":\"/var/www/art/src/curator.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "sliced-to-array"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar Helmet = require('react-helmet');\n\nvar rest = require('rest');\n\nvar Markdown = require('./markdown');\nvar endpoint = require('./endpoints').info;\nvar Search = require('./search');\nvar SearchResults = require('./search-results');\nvar Peek = require('./peek');\nvar DepartmentDecorator = require('./decorate/department');\nvar findDepartment = require('./department-slug');\n\nvar Curator = React.createClass({\n  displayName: 'Curator',\n\n  mixins: [Router.State],\n  headers: [{ curator: 'aaron-rio', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'andreas-marks', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'dennis-michael-jon', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'jan-lodewijk-grootaers', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'jennifer-komar-olivarez', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'jill-ahlberg-yohe', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'liu-yang', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'nicole-labouff', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'patrick-noon', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'rachel-mcgarry', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'thomas-rassieur', image: 'http://new.artsmia.org/exhibitions' }],\n  statics: {\n    fetchData: {\n      curator: function curator(params, query) {\n        return rest(endpoint).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var curator = this.props.data.curator.curators[this.props.params.slug];\n    var departmentLink;\n    var departmentNames = findDepartment(curator.department);\n    if (departmentNames) {\n      var _departmentNames = _slicedToArray(departmentNames, 3);\n\n      var _ = _departmentNames[0];\n      var _ = _departmentNames[1];\n      var departmentSlug = _departmentNames[2];\n\n      var departmentLink = React.createElement(\n        Link,\n        { to: 'department', params: { dept: departmentSlug } },\n        curator.department\n      );\n    }\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement('div', { className: 'curator-header' }),\n      React.createElement(\n        'div',\n        { className: 'curatorProfile pageText' },\n        React.createElement(\n          'h2',\n          null,\n          curator.name\n        ),\n        React.createElement(\n          'h4',\n          null,\n          departmentLink || curator.department\n        ),\n        React.createElement(\n          'h5',\n          null,\n          React.createElement(\n            Markdown,\n            null,\n            curator.title\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'curatorContent' },\n          React.createElement(\n            'div',\n            { className: 'curatorPic' },\n            React.createElement('img', { src: 'https://collections.artsmia.org/_info/curator-portraits/' + curator.slug + '.jpg', alt: 'portrait of ' + curator.name })\n          ),\n          React.createElement(\n            Markdown,\n            { alreadyRendered: true },\n            curator.output\n          )\n        ),\n        curator.cv && React.createElement(\n          'p',\n          null,\n          React.createElement(\n            'a',\n            { href: 'https://collections.artsmia.org/_info/cv/' + curator.cv },\n            'Curriculum Vitae'\n          )\n        )\n      )\n    );\n  }\n});\n\nmodule.exports = Curator;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvY3VyYXRvci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtJQUMvQixJQUFJLEdBQUksTUFBTSxDQUFkLElBQUk7O0FBQ1QsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBOztBQUVwQyxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUE7O0FBRTFCLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTtBQUNwQyxJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFBO0FBQzFDLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQTtBQUNoQyxJQUFJLGFBQWEsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQTtBQUMvQyxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUE7QUFDNUIsSUFBSSxtQkFBbUIsR0FBRyxPQUFPLENBQUMsdUJBQXVCLENBQUMsQ0FBQTtBQUMxRCxJQUFJLGNBQWMsR0FBRyxPQUFPLENBQUMsbUJBQW1CLENBQUMsQ0FBQTs7QUFFakQsSUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQzlCLFFBQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7QUFDdEIsU0FBTyxFQUFFLENBQ1AsRUFBQyxPQUFPLEVBQUMsV0FBVyxFQUFFLEtBQUssRUFBQyxvQ0FBb0MsRUFBQyxFQUNqRSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUUsS0FBSyxFQUFDLG9DQUFvQyxFQUFDLEVBQ3JFLEVBQUMsT0FBTyxFQUFDLG9CQUFvQixFQUFFLEtBQUssRUFBQyxvQ0FBb0MsRUFBQyxFQUMxRSxFQUFDLE9BQU8sRUFBQyx3QkFBd0IsRUFBRSxLQUFLLEVBQUMsb0NBQW9DLEVBQUMsRUFDOUUsRUFBQyxPQUFPLEVBQUMseUJBQXlCLEVBQUUsS0FBSyxFQUFDLG9DQUFvQyxFQUFDLEVBQy9FLEVBQUMsT0FBTyxFQUFDLG1CQUFtQixFQUFFLEtBQUssRUFBQyxvQ0FBb0MsRUFBQyxFQUN6RSxFQUFDLE9BQU8sRUFBQyxVQUFVLEVBQUUsS0FBSyxFQUFDLG9DQUFvQyxFQUFDLEVBQ2hFLEVBQUMsT0FBTyxFQUFDLGdCQUFnQixFQUFFLEtBQUssRUFBQyxvQ0FBb0MsRUFBQyxFQUN0RSxFQUFDLE9BQU8sRUFBQyxjQUFjLEVBQUUsS0FBSyxFQUFDLG9DQUFvQyxFQUFDLEVBQ3BFLEVBQUMsT0FBTyxFQUFDLGdCQUFnQixFQUFFLEtBQUssRUFBQyxvQ0FBb0MsRUFBQyxFQUN0RSxFQUFDLE9BQU8sRUFBQyxpQkFBaUIsRUFBRSxLQUFLLEVBQUMsb0NBQW9DLEVBQUMsQ0FDMUU7QUFDQyxTQUFPLEVBQUU7QUFDUCxhQUFTLEVBQUU7QUFDVCxhQUFPLEVBQUUsaUJBQUMsTUFBTSxFQUFFLEtBQUssRUFBSztBQUMxQixlQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQyxDQUFDO2lCQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztTQUFBLENBQUMsQ0FBQTtPQUN4RDtLQUNGO0dBQ0Y7O0FBRUQsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsUUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQTtBQUN0RSxRQUFJLGNBQWMsQ0FBQTtBQUNsQixRQUFJLGVBQWUsR0FBRyxjQUFjLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFBO0FBQ3hELFFBQUcsZUFBZSxFQUFFOzRDQUNXLGVBQWU7O1VBQXZDLENBQUM7VUFBRSxDQUFDO1VBQUUsY0FBYzs7QUFDekIsVUFBSSxjQUFjLEdBQUc7QUFBQyxZQUFJO1VBQUMsRUFBRSxFQUFDLFlBQVksRUFBQyxNQUFNLEVBQUUsRUFBQyxJQUFJLEVBQUUsY0FBYyxFQUFDLEFBQUM7UUFBRSxPQUFPLENBQUMsVUFBVTtPQUFRLENBQUE7S0FDdkc7O0FBR0gsV0FBTzs7O01BQ0wsNkJBQUssU0FBUyxFQUFDLGdCQUFnQixHQUFPO01BQ3RDOztVQUFLLFNBQVMsRUFBQyx5QkFBeUI7UUFDdEM7OztVQUFLLE9BQU8sQ0FBQyxJQUFJO1NBQU07UUFDdkI7OztVQUFLLGNBQWMsSUFBSSxPQUFPLENBQUMsVUFBVTtTQUFNO1FBQy9DOzs7VUFBSTtBQUFDLG9CQUFROztZQUFFLE9BQU8sQ0FBQyxLQUFLO1dBQVk7U0FBSztRQUM3Qzs7WUFBSyxTQUFTLEVBQUMsZ0JBQWdCO1VBQzdCOztjQUFLLFNBQVMsRUFBQyxZQUFZO1lBQ3pCLDZCQUFLLEdBQUcsK0RBQTZELE9BQU8sQ0FBQyxJQUFJLFNBQU8sRUFBQyxHQUFHLG1CQUFpQixPQUFPLENBQUMsSUFBSSxBQUFHLEdBQUc7V0FDM0g7VUFDTjtBQUFDLG9CQUFRO2NBQUMsZUFBZSxFQUFFLElBQUksQUFBQztZQUFFLE9BQU8sQ0FBQyxNQUFNO1dBQVk7U0FDeEQ7UUFDTCxPQUFPLENBQUMsRUFBRSxJQUFJOzs7VUFBRzs7Y0FBRyxJQUFJLGdEQUE4QyxPQUFPLENBQUMsRUFBRSxBQUFHOztXQUFxQjtTQUFJO09BQ3pHO0tBQ0YsQ0FBQTtHQUNMO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvY3VyYXRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHtMaW5rfSA9IFJvdXRlclxudmFyIEhlbG1ldCA9IHJlcXVpcmUoJ3JlYWN0LWhlbG1ldCcpXG5cbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG5cbnZhciBNYXJrZG93biA9IHJlcXVpcmUoJy4vbWFya2Rvd24nKVxudmFyIGVuZHBvaW50ID0gcmVxdWlyZSgnLi9lbmRwb2ludHMnKS5pbmZvXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zZWFyY2gnKVxudmFyIFNlYXJjaFJlc3VsdHMgPSByZXF1aXJlKCcuL3NlYXJjaC1yZXN1bHRzJylcbnZhciBQZWVrID0gcmVxdWlyZSgnLi9wZWVrJylcbnZhciBEZXBhcnRtZW50RGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9kZXBhcnRtZW50JylcbnZhciBmaW5kRGVwYXJ0bWVudCA9IHJlcXVpcmUoJy4vZGVwYXJ0bWVudC1zbHVnJylcblxudmFyIEN1cmF0b3IgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIG1peGluczogW1JvdXRlci5TdGF0ZV0sXG4gIGhlYWRlcnM6IFtcbiAgICB7Y3VyYXRvcjonYWFyb24tcmlvJywgaW1hZ2U6J2h0dHA6Ly9uZXcuYXJ0c21pYS5vcmcvZXhoaWJpdGlvbnMnfSxcbiAgICB7Y3VyYXRvcjonYW5kcmVhcy1tYXJrcycsIGltYWdlOidodHRwOi8vbmV3LmFydHNtaWEub3JnL2V4aGliaXRpb25zJ30sXG4gICAge2N1cmF0b3I6J2Rlbm5pcy1taWNoYWVsLWpvbicsIGltYWdlOidodHRwOi8vbmV3LmFydHNtaWEub3JnL2V4aGliaXRpb25zJ30sXG4gICAge2N1cmF0b3I6J2phbi1sb2Rld2lqay1ncm9vdGFlcnMnLCBpbWFnZTonaHR0cDovL25ldy5hcnRzbWlhLm9yZy9leGhpYml0aW9ucyd9LFxuICAgIHtjdXJhdG9yOidqZW5uaWZlci1rb21hci1vbGl2YXJleicsIGltYWdlOidodHRwOi8vbmV3LmFydHNtaWEub3JnL2V4aGliaXRpb25zJ30sXG4gICAge2N1cmF0b3I6J2ppbGwtYWhsYmVyZy15b2hlJywgaW1hZ2U6J2h0dHA6Ly9uZXcuYXJ0c21pYS5vcmcvZXhoaWJpdGlvbnMnfSxcbiAgICB7Y3VyYXRvcjonbGl1LXlhbmcnLCBpbWFnZTonaHR0cDovL25ldy5hcnRzbWlhLm9yZy9leGhpYml0aW9ucyd9LFxuICAgIHtjdXJhdG9yOiduaWNvbGUtbGFib3VmZicsIGltYWdlOidodHRwOi8vbmV3LmFydHNtaWEub3JnL2V4aGliaXRpb25zJ30sXG4gICAge2N1cmF0b3I6J3BhdHJpY2stbm9vbicsIGltYWdlOidodHRwOi8vbmV3LmFydHNtaWEub3JnL2V4aGliaXRpb25zJ30sXG4gICAge2N1cmF0b3I6J3JhY2hlbC1tY2dhcnJ5JywgaW1hZ2U6J2h0dHA6Ly9uZXcuYXJ0c21pYS5vcmcvZXhoaWJpdGlvbnMnfSxcbiAgICB7Y3VyYXRvcjondGhvbWFzLXJhc3NpZXVyJywgaW1hZ2U6J2h0dHA6Ly9uZXcuYXJ0c21pYS5vcmcvZXhoaWJpdGlvbnMnfSxcbl0sXG4gIHN0YXRpY3M6IHtcbiAgICBmZXRjaERhdGE6IHtcbiAgICAgIGN1cmF0b3I6IChwYXJhbXMsIHF1ZXJ5KSA9PiB7XG4gICAgICAgIHJldHVybiByZXN0KGVuZHBvaW50KS50aGVuKChyKSA9PiBKU09OLnBhcnNlKHIuZW50aXR5KSlcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIgY3VyYXRvciA9IHRoaXMucHJvcHMuZGF0YS5jdXJhdG9yLmN1cmF0b3JzW3RoaXMucHJvcHMucGFyYW1zLnNsdWddXG4gICAgdmFyIGRlcGFydG1lbnRMaW5rXG4gICAgdmFyIGRlcGFydG1lbnROYW1lcyA9IGZpbmREZXBhcnRtZW50KGN1cmF0b3IuZGVwYXJ0bWVudClcbiAgICBpZihkZXBhcnRtZW50TmFtZXMpIHtcbiAgICAgIHZhciBbXywgXywgZGVwYXJ0bWVudFNsdWddID0gZGVwYXJ0bWVudE5hbWVzXG4gICAgICB2YXIgZGVwYXJ0bWVudExpbmsgPSA8TGluayB0bz1cImRlcGFydG1lbnRcIiBwYXJhbXM9e3tkZXB0OiBkZXBhcnRtZW50U2x1Z319PntjdXJhdG9yLmRlcGFydG1lbnR9PC9MaW5rPlxuICAgIH1cblxuXG4gIHJldHVybiA8ZGl2PlxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY3VyYXRvci1oZWFkZXJcIj48L2Rpdj5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cImN1cmF0b3JQcm9maWxlIHBhZ2VUZXh0XCI+XG4gICAgICA8aDI+e2N1cmF0b3IubmFtZX08L2gyPlxuICAgICAgPGg0PntkZXBhcnRtZW50TGluayB8fCBjdXJhdG9yLmRlcGFydG1lbnR9PC9oND5cbiAgICAgIDxoNT48TWFya2Rvd24+e2N1cmF0b3IudGl0bGV9PC9NYXJrZG93bj48L2g1PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdXJhdG9yQ29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1cmF0b3JQaWNcIj5cbiAgICAgICAgICA8aW1nIHNyYz17YGh0dHBzOi8vY29sbGVjdGlvbnMuYXJ0c21pYS5vcmcvX2luZm8vY3VyYXRvci1wb3J0cmFpdHMvJHtjdXJhdG9yLnNsdWd9LmpwZ2B9IGFsdD17YHBvcnRyYWl0IG9mICR7Y3VyYXRvci5uYW1lfWB9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8TWFya2Rvd24gYWxyZWFkeVJlbmRlcmVkPXt0cnVlfT57Y3VyYXRvci5vdXRwdXR9PC9NYXJrZG93bj5cbiAgICAgIDwvZGl2PlxuICAgICAge2N1cmF0b3IuY3YgJiYgPHA+PGEgaHJlZj17YGh0dHBzOi8vY29sbGVjdGlvbnMuYXJ0c21pYS5vcmcvX2luZm8vY3YvJHtjdXJhdG9yLmN2fWB9PkN1cnJpY3VsdW0gVml0YWU8L2E+PC9wPn1cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIH1cbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gQ3VyYXRvclxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/curator.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/curator.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\nvar Helmet = require('react-helmet')\n\nvar rest = require('rest')\n\nvar Markdown = require('./markdown')\nvar endpoint = require('./endpoints').info\nvar Search = require('./search')\nvar SearchResults = require('./search-results')\nvar Peek = require('./peek')\nvar DepartmentDecorator = require('./decorate/department')\nvar findDepartment = require('./department-slug')\n\nvar Curator = React.createClass({\n  mixins: [Router.State],\n  headers: [\n    {curator:'aaron-rio', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'andreas-marks', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'dennis-michael-jon', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'jan-lodewijk-grootaers', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'jennifer-komar-olivarez', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'jill-ahlberg-yohe', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'liu-yang', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'nicole-labouff', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'patrick-noon', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'rachel-mcgarry', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'thomas-rassieur', image:'http://new.artsmia.org/exhibitions'},\n],\n  statics: {\n    fetchData: {\n      curator: (params, query) => {\n        return rest(endpoint).then((r) => JSON.parse(r.entity))\n      }\n    },\n  },\n\n  render() {\n    var curator = this.props.data.curator.curators[this.props.params.slug]\n    var departmentLink\n    var departmentNames = findDepartment(curator.department)\n    if(departmentNames) {\n      var [_, _, departmentSlug] = departmentNames\n      var departmentLink = <Link to=\"department\" params={{dept: departmentSlug}}>{curator.department}</Link>\n    }\n\n\n  return <div>\n    <div className=\"curator-header\"></div>\n    <div className=\"curatorProfile pageText\">\n      <h2>{curator.name}</h2>\n      <h4>{departmentLink || curator.department}</h4>\n      <h5><Markdown>{curator.title}</Markdown></h5>\n      <div className=\"curatorContent\">\n        <div className=\"curatorPic\">\n          <img src={`https://collections.artsmia.org/_info/curator-portraits/${curator.slug}.jpg`} alt={`portrait of ${curator.name}`} />\n        </div>\n        <Markdown alreadyRendered={true}>{curator.output}</Markdown>\n      </div>\n      {curator.cv && <p><a href={`https://collections.artsmia.org/_info/cv/${curator.cv}`}>Curriculum Vitae</a></p>}\n    </div>\n  </div>\n  }\n})\n\nmodule.exports = Curator\n"
      ]
    },
    "mtime": 1485807805242
  },
  "{\"filename\":\"/var/www/art/src/curators.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Helmet = require('react-helmet');\nvar Link = Router.Link;\n\nvar Markdown = require('./markdown');\nvar rest = require('rest');\nvar endpoint = require('./endpoints').info;\n\nvar Curators = React.createClass({\n  displayName: 'Curators',\n\n  mixins: [Router.State],\n\n  statics: {\n    fetchData: {\n      curators: function curators(params, query) {\n        return rest(endpoint).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var curators = this.props.data.curators.curators;\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement('div', { className: 'explore-header' }),\n      React.createElement(\n        'div',\n        { className: 'mdl-grid curatorsPage', id: 'curators' },\n        React.createElement(\n          'h2',\n          null,\n          'Curators'\n        ),\n        Object.keys(curators).filter(function (name) {\n          return ['kaywin-feldman', 'matthew-welch'].indexOf(name) == -1;\n        }).map(function (name) {\n          var curator = curators[name];\n          if (!curator || !curator.slug) return;\n\n          return React.createElement(\n            'div',\n            { className: 'mdl-cell curatorBio', key: curator.slug },\n            React.createElement(\n              Link,\n              { to: 'curator', params: { slug: curator.slug } },\n              React.createElement(\n                'div',\n                { className: 'curatorPic' },\n                React.createElement('img', { src: 'https://collections.artsmia.org/_info/curator-portraits/' + curator.slug + '.jpg', alt: 'portrait of ' + curator.name })\n              ),\n              React.createElement(\n                'div',\n                { className: 'curator-intro' },\n                React.createElement(\n                  'h4',\n                  null,\n                  curator.name\n                ),\n                React.createElement(\n                  'h5',\n                  null,\n                  React.createElement(\n                    Markdown,\n                    null,\n                    curator.title\n                  )\n                )\n              )\n            )\n          );\n        })\n      ),\n      React.createElement(Helmet, { title: 'Curators' })\n    );\n  }\n});\n\nmodule.exports = Curators;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvY3VyYXRvcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0FBQ3BDLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtJQUMvQixJQUFJLEdBQUksTUFBTSxDQUFkLElBQUk7O0FBRVQsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBO0FBQ3BDLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQTtBQUMxQixJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFBOztBQUcxQyxJQUFJLFFBQVEsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDL0IsUUFBTSxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQzs7QUFFdEIsU0FBTyxFQUFFO0FBQ1AsYUFBUyxFQUFFO0FBQ1QsY0FBUSxFQUFFLGtCQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUs7QUFDM0IsZUFBTyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsQ0FBQztpQkFBSyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7U0FBQSxDQUFDLENBQUE7T0FDeEQ7S0FDRjtHQUNGOztBQUVELFFBQU0sRUFBQSxrQkFBRztBQUNQLFFBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUE7O0FBRWhELFdBQU87OztNQUNQLDZCQUFLLFNBQVMsRUFBQyxnQkFBZ0IsR0FBTztNQUN0Qzs7VUFBSyxTQUFTLEVBQUMsdUJBQXVCLEVBQUMsRUFBRSxFQUFDLFVBQVU7UUFDbEQ7Ozs7U0FBaUI7UUFDaEIsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FDckIsTUFBTSxDQUFDLFVBQUEsSUFBSTtpQkFBSSxDQUFDLGdCQUFnQixFQUFFLGVBQWUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7U0FBQSxDQUFDLENBQ3ZFLEdBQUcsQ0FBQyxVQUFBLElBQUksRUFBSTtBQUNYLGNBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQTtBQUM1QixjQUFHLENBQUMsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxPQUFNOztBQUVwQyxpQkFBTzs7Y0FBSyxTQUFTLEVBQUMscUJBQXFCLEVBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxJQUFJLEFBQUM7WUFDNUQ7QUFBQyxrQkFBSTtnQkFBQyxFQUFFLEVBQUMsU0FBUyxFQUFDLE1BQU0sRUFBRSxFQUFDLElBQUksRUFBQyxPQUFPLENBQUMsSUFBSSxFQUFDLEFBQUM7Y0FDN0M7O2tCQUFLLFNBQVMsRUFBQyxZQUFZO2dCQUN6Qiw2QkFBSyxHQUFHLCtEQUE2RCxPQUFPLENBQUMsSUFBSSxTQUFPLEVBQUMsR0FBRyxtQkFBaUIsT0FBTyxDQUFDLElBQUksQUFBRyxHQUFHO2VBQzNIO2NBQ047O2tCQUFLLFNBQVMsRUFBQyxlQUFlO2dCQUM1Qjs7O2tCQUFLLE9BQU8sQ0FBQyxJQUFJO2lCQUFNO2dCQUN2Qjs7O2tCQUFJO0FBQUMsNEJBQVE7O29CQUFFLE9BQU8sQ0FBQyxLQUFLO21CQUFZO2lCQUFLO2VBQ3pDO2FBQ0Q7V0FDSCxDQUFBO1NBQ1AsQ0FBQztPQUNFO01BQ04sb0JBQUMsTUFBTSxJQUFDLEtBQUssRUFBQyxVQUFVLEdBQUc7S0FDckIsQ0FBQTtHQUNQO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvY3VyYXRvcnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxudmFyIHtMaW5rfSA9IFJvdXRlclxuXG52YXIgTWFya2Rvd24gPSByZXF1aXJlKCcuL21hcmtkb3duJylcbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG52YXIgZW5kcG9pbnQgPSByZXF1aXJlKCcuL2VuZHBvaW50cycpLmluZm9cblxuXG52YXIgQ3VyYXRvcnMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIG1peGluczogW1JvdXRlci5TdGF0ZV0sXG5cbiAgc3RhdGljczoge1xuICAgIGZldGNoRGF0YToge1xuICAgICAgY3VyYXRvcnM6IChwYXJhbXMsIHF1ZXJ5KSA9PiB7XG4gICAgICAgIHJldHVybiByZXN0KGVuZHBvaW50KS50aGVuKChyKSA9PiBKU09OLnBhcnNlKHIuZW50aXR5KSlcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIgY3VyYXRvcnMgPSB0aGlzLnByb3BzLmRhdGEuY3VyYXRvcnMuY3VyYXRvcnNcblxuICAgIHJldHVybiA8ZGl2PlxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZXhwbG9yZS1oZWFkZXJcIj48L2Rpdj5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1kbC1ncmlkIGN1cmF0b3JzUGFnZVwiIGlkPVwiY3VyYXRvcnNcIj5cbiAgICAgIDxoMj5DdXJhdG9yczwvaDI+XG4gICAgICB7T2JqZWN0LmtleXMoY3VyYXRvcnMpXG4gICAgICAuZmlsdGVyKG5hbWUgPT4gWydrYXl3aW4tZmVsZG1hbicsICdtYXR0aGV3LXdlbGNoJ10uaW5kZXhPZihuYW1lKSA9PSAtMSlcbiAgICAgIC5tYXAobmFtZSA9PiB7XG4gICAgICAgIHZhciBjdXJhdG9yID0gY3VyYXRvcnNbbmFtZV1cbiAgICAgICAgaWYoIWN1cmF0b3IgfHwgIWN1cmF0b3Iuc2x1ZykgcmV0dXJuXG5cbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibWRsLWNlbGwgY3VyYXRvckJpb1wiIGtleT17Y3VyYXRvci5zbHVnfT5cbiAgICAgICAgICA8TGluayB0bz1cImN1cmF0b3JcIiBwYXJhbXM9e3tzbHVnOmN1cmF0b3Iuc2x1Z319PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdXJhdG9yUGljXCI+XG4gICAgICAgICAgICAgIDxpbWcgc3JjPXtgaHR0cHM6Ly9jb2xsZWN0aW9ucy5hcnRzbWlhLm9yZy9faW5mby9jdXJhdG9yLXBvcnRyYWl0cy8ke2N1cmF0b3Iuc2x1Z30uanBnYH0gYWx0PXtgcG9ydHJhaXQgb2YgJHtjdXJhdG9yLm5hbWV9YH0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdXJhdG9yLWludHJvXCI+XG4gICAgICAgICAgICAgIDxoND57Y3VyYXRvci5uYW1lfTwvaDQ+XG4gICAgICAgICAgICAgIDxoNT48TWFya2Rvd24+e2N1cmF0b3IudGl0bGV9PC9NYXJrZG93bj48L2g1PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIH0pfVxuICAgIDwvZGl2PlxuICAgIDxIZWxtZXQgdGl0bGU9XCJDdXJhdG9yc1wiIC8+XG4gICAgPC9kaXY+XG4gIH1cbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gQ3VyYXRvcnNcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/curators.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACpC,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;IAC/B,IAAI,GAAI,MAAM,CAAd,IAAI;;AAET,IAAI,QAAQ,GAAG,OAAO,CAAC,YAAY,CAAC,CAAA;AACpC,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;AAC1B,IAAI,QAAQ,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC,IAAI,CAAA;;AAG1C,IAAI,QAAQ,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC/B,QAAM,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;;AAEtB,SAAO,EAAE;AACP,aAAS,EAAE;AACT,cAAQ,EAAE,kBAAC,MAAM,EAAE,KAAK,EAAK;AAC3B,eAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,CAAC;iBAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;SAAA,CAAC,CAAA;OACxD;KACF;GACF;;AAED,QAAM,EAAA,kBAAG;AACP,QAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAA;;AAEhD,WAAO;;;MACP,6BAAK,SAAS,EAAC,gBAAgB,GAAO;MACtC;;UAAK,SAAS,EAAC,uBAAuB,EAAC,EAAE,EAAC,UAAU;QAClD;;;;SAAiB;QAChB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CACrB,MAAM,CAAC,UAAA,IAAI;iBAAI,CAAC,gBAAgB,EAAE,eAAe,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAAA,CAAC,CACvE,GAAG,CAAC,UAAA,IAAI,EAAI;AACX,cAAI,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;AAC5B,cAAG,CAAC,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,OAAM;;AAEpC,iBAAO;;cAAK,SAAS,EAAC,qBAAqB,EAAC,GAAG,EAAE,OAAO,CAAC,IAAI,AAAC;YAC5D;AAAC,kBAAI;gBAAC,EAAE,EAAC,SAAS,EAAC,MAAM,EAAE,EAAC,IAAI,EAAC,OAAO,CAAC,IAAI,EAAC,AAAC;cAC7C;;kBAAK,SAAS,EAAC,YAAY;gBACzB,6BAAK,GAAG,+DAA6D,OAAO,CAAC,IAAI,SAAO,EAAC,GAAG,mBAAiB,OAAO,CAAC,IAAI,AAAG,GAAG;eAC3H;cACN;;kBAAK,SAAS,EAAC,eAAe;gBAC5B;;;kBAAK,OAAO,CAAC,IAAI;iBAAM;gBACvB;;;kBAAI;AAAC,4BAAQ;;oBAAE,OAAO,CAAC,KAAK;mBAAY;iBAAK;eACzC;aACD;WACH,CAAA;SACP,CAAC;OACE;MACN,oBAAC,MAAM,IAAC,KAAK,EAAC,UAAU,GAAG;KACrB,CAAA;GACP;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,QAAQ,CAAA",
      "file": "/var/www/art/src/curators.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar Helmet = require('react-helmet')\nvar {Link} = Router\n\nvar Markdown = require('./markdown')\nvar rest = require('rest')\nvar endpoint = require('./endpoints').info\n\n\nvar Curators = React.createClass({\n  mixins: [Router.State],\n\n  statics: {\n    fetchData: {\n      curators: (params, query) => {\n        return rest(endpoint).then((r) => JSON.parse(r.entity))\n      }\n    },\n  },\n\n  render() {\n    var curators = this.props.data.curators.curators\n\n    return <div>\n    <div className=\"explore-header\"></div>\n    <div className=\"mdl-grid curatorsPage\" id=\"curators\">\n      <h2>Curators</h2>\n      {Object.keys(curators)\n      .filter(name => ['kaywin-feldman', 'matthew-welch'].indexOf(name) == -1)\n      .map(name => {\n        var curator = curators[name]\n        if(!curator || !curator.slug) return\n\n        return <div className=\"mdl-cell curatorBio\" key={curator.slug}>\n          <Link to=\"curator\" params={{slug:curator.slug}}>\n            <div className=\"curatorPic\">\n              <img src={`https://collections.artsmia.org/_info/curator-portraits/${curator.slug}.jpg`} alt={`portrait of ${curator.name}`} />\n            </div>\n            <div className=\"curator-intro\">\n              <h4>{curator.name}</h4>\n              <h5><Markdown>{curator.title}</Markdown></h5>\n            </div>\n          </Link>\n        </div>\n      })}\n    </div>\n    <Helmet title=\"Curators\" />\n    </div>\n  }\n})\n\nmodule.exports = Curators\n"
      ]
    },
    "mtime": 1485807805242
  },
  "{\"filename\":\"/var/www/art/src/explore.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "to-array"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\nvar React = require('react');\nvar Helmet = require('react-helmet');\n\nvar Peek = require('./peek');\nvar Department = require('./department');\nvar Search = require('./search');\nvar Artwork = require('./artwork');\n\nvar Explore = React.createClass({\n  displayName: 'Explore',\n\n  statics: {\n    searchResults: Department.fetchData.searchResults\n  },\n\n  render: function render() {\n    return React.createElement(\n      'div',\n      null,\n      React.createElement('a', { href: '/art/8747', className: 'explore-header' }),\n      React.createElement(\n        'div',\n        { className: 'explore-section', style: { padding: '0 2.5em' } },\n        this.searches.map(function (_ref, index) {\n          var term = _ref.term;\n          var blurb = _ref.blurb;\n\n          var _term$split = term.split(':');\n\n          var _term$split2 = _toArray(_term$split);\n\n          var facet = _term$split2[0];\n\n          var terms = _term$split2.slice(1);\n\n          return React.createElement(\n            'section',\n            null,\n            React.createElement(\n              'h2',\n              null,\n              'Explore ',\n              React.createElement(\n                'span',\n                { style: { fontFamily: '\"MiaGrotesk-Light\",sans-serif' } },\n                terms[1]\n              )\n            ),\n            React.createElement(\n              'p',\n              null,\n              blurb\n            ),\n            React.createElement(Peek, {\n              offset: index * 5,\n              facet: facet,\n              q: terms.join(':'),\n              quiltProps: { maxRowHeight: 600 },\n              directLinkTo: terms[1],\n              shuffleQuilt: true\n            }),\n            React.createElement('hr', { style: { visibility: 'hidden' } })\n          );\n        }),\n        React.createElement(Helmet, { title: 'Explore the art' })\n      )\n    );\n  },\n\n  searches: [{ term: '_exists_:related:artstories', blurb: 'ArtStories are digital explorations of Mia’s highlights and hidden gems—from intriguing details to secret backstories—available on your computer, phone, or tablet.' }, { term: '_exists_:related:newsflashes', blurb: 'Thought-provoking and a little cheeky, Newsflash updates connect current events to the art in the museum. Look for new updates taped to the gallery walls, or find old ones online.' }, { term: '_exists_:related:audio-stops', blurb: 'Audio Stops are mini-podcasts that present many of Mia’s highlights and favorite artworks through sound and stories. Connect in the galleries or at home.' }, { term: '_exists_:related:stories', blurb: 'Mia Stories is the museum beyond the walls, outside the frame, at the lively intersection of life and art. From behind-the-scenes buzz to inspiring connections with current events, it’s the museum in conversation.' }]\n});\n\nmodule.exports = Explore;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZXhwbG9yZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTs7QUFFcEMsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQzVCLElBQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtBQUN4QyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUE7QUFDaEMsSUFBSSxPQUFPLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFBOztBQUVsQyxJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDOUIsU0FBTyxFQUFFO0FBQ1AsaUJBQWEsRUFBRSxVQUFVLENBQUMsU0FBUyxDQUFDLGFBQWE7R0FDbEQ7O0FBRUQsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsV0FBTzs7O01BQ0wsMkJBQUcsSUFBSSxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsZ0JBQWdCLEdBQUs7TUFDbkQ7O1VBQUssU0FBUyxFQUFDLGlCQUFpQixFQUFDLEtBQUssRUFBRSxFQUFDLE9BQU8sRUFBRSxTQUFTLEVBQUMsQUFBQztRQUM1RCxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxVQUFDLElBQWEsRUFBRSxLQUFLLEVBQUs7Y0FBeEIsSUFBSSxHQUFMLElBQWEsQ0FBWixJQUFJO2NBQUUsS0FBSyxHQUFaLElBQWEsQ0FBTixLQUFLOzs0QkFDTixJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQzs7OztjQUFsQyxLQUFLOztjQUFLLEtBQUs7O0FBQ3BCLGlCQUFPOzs7WUFDTDs7OztjQUFZOztrQkFBTSxLQUFLLEVBQUUsRUFBQyxVQUFVLEVBQUUsK0JBQStCLEVBQUMsQUFBQztnQkFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO2VBQVE7YUFBSztZQUM5Rjs7O2NBQUksS0FBSzthQUFLO1lBQ2Qsb0JBQUMsSUFBSTtBQUNILG9CQUFNLEVBQUUsS0FBSyxHQUFDLENBQUMsQUFBQztBQUNoQixtQkFBSyxFQUFFLEtBQUssQUFBQztBQUNiLGVBQUMsRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxBQUFDO0FBQ25CLHdCQUFVLEVBQUUsRUFBQyxZQUFZLEVBQUUsR0FBRyxFQUFDLEFBQUM7QUFDaEMsMEJBQVksRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLEFBQUM7QUFDdkIsMEJBQVksRUFBRSxJQUFJLEFBQUM7Y0FDakI7WUFDSiw0QkFBSSxLQUFLLEVBQUUsRUFBQyxVQUFVLEVBQUUsUUFBUSxFQUFDLEFBQUMsR0FBRztXQUM3QixDQUFBO1NBQ1gsQ0FBQztRQUNGLG9CQUFDLE1BQU0sSUFBQyxLQUFLLEVBQUMsaUJBQWlCLEdBQUc7T0FDOUI7S0FBTSxDQUFBO0dBQ2I7O0FBR0QsVUFBUSxFQUFFLENBQ1IsRUFBQyxJQUFJLEVBQUMsNkJBQTZCLEVBQUUsS0FBSyxFQUFDLHFLQUFxSyxFQUFDLEVBQ2pOLEVBQUMsSUFBSSxFQUFDLDhCQUE4QixFQUFFLEtBQUssRUFBQyxxTEFBcUwsRUFBQyxFQUNsTyxFQUFDLElBQUksRUFBQyw4QkFBOEIsRUFBRSxLQUFLLEVBQUMsMkpBQTJKLEVBQUMsRUFDeE0sRUFBQyxJQUFJLEVBQUMsMEJBQTBCLEVBQUUsS0FBSyxFQUFDLHVOQUF1TixFQUFDLENBQ2pRO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvZXhwbG9yZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxuXG52YXIgUGVlayA9IHJlcXVpcmUoJy4vcGVlaycpXG52YXIgRGVwYXJ0bWVudCA9IHJlcXVpcmUoJy4vZGVwYXJ0bWVudCcpXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zZWFyY2gnKVxudmFyIEFydHdvcmsgPSByZXF1aXJlKCcuL2FydHdvcmsnKVxuXG52YXIgRXhwbG9yZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgc3RhdGljczoge1xuICAgIHNlYXJjaFJlc3VsdHM6IERlcGFydG1lbnQuZmV0Y2hEYXRhLnNlYXJjaFJlc3VsdHNcbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8YSBocmVmPVwiL2FydC84NzQ3XCIgY2xhc3NOYW1lPVwiZXhwbG9yZS1oZWFkZXJcIj48L2E+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImV4cGxvcmUtc2VjdGlvblwiIHN0eWxlPXt7cGFkZGluZzogJzAgMi41ZW0nfX0+XG4gICAgICB7dGhpcy5zZWFyY2hlcy5tYXAoKHt0ZXJtLCBibHVyYn0sIGluZGV4KSA9PiB7XG4gICAgICAgIHZhciBbZmFjZXQsIC4uLnRlcm1zXSA9IHRlcm0uc3BsaXQoJzonKVxuICAgICAgICByZXR1cm4gPHNlY3Rpb24+XG4gICAgICAgICAgPGgyPkV4cGxvcmUgPHNwYW4gc3R5bGU9e3tmb250RmFtaWx5OiAnXCJNaWFHcm90ZXNrLUxpZ2h0XCIsc2Fucy1zZXJpZid9fT57dGVybXNbMV19PC9zcGFuPjwvaDI+XG4gICAgICAgICAgPHA+e2JsdXJifTwvcD5cbiAgICAgICAgICA8UGVla1xuICAgICAgICAgICAgb2Zmc2V0PXtpbmRleCo1fVxuICAgICAgICAgICAgZmFjZXQ9e2ZhY2V0fVxuICAgICAgICAgICAgcT17dGVybXMuam9pbignOicpfVxuICAgICAgICAgICAgcXVpbHRQcm9wcz17e21heFJvd0hlaWdodDogNjAwfX1cbiAgICAgICAgICAgIGRpcmVjdExpbmtUbz17dGVybXNbMV19XG4gICAgICAgICAgICBzaHVmZmxlUXVpbHQ9e3RydWV9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDxociBzdHlsZT17e3Zpc2liaWxpdHk6ICdoaWRkZW4nfX0gLz5cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgfSl9XG4gICAgICA8SGVsbWV0IHRpdGxlPVwiRXhwbG9yZSB0aGUgYXJ0XCIgLz5cbiAgICA8L2Rpdj48L2Rpdj5cbiAgfSxcblxuXG4gIHNlYXJjaGVzOiBbXG4gICAge3Rlcm06J19leGlzdHNfOnJlbGF0ZWQ6YXJ0c3RvcmllcycsIGJsdXJiOidBcnRTdG9yaWVzIGFyZSBkaWdpdGFsIGV4cGxvcmF0aW9ucyBvZiBNaWHigJlzIGhpZ2hsaWdodHMgYW5kIGhpZGRlbiBnZW1z4oCUZnJvbSBpbnRyaWd1aW5nIGRldGFpbHMgdG8gc2VjcmV0IGJhY2tzdG9yaWVz4oCUYXZhaWxhYmxlIG9uIHlvdXIgY29tcHV0ZXIsIHBob25lLCBvciB0YWJsZXQuJ30sXG4gICAge3Rlcm06J19leGlzdHNfOnJlbGF0ZWQ6bmV3c2ZsYXNoZXMnLCBibHVyYjonVGhvdWdodC1wcm92b2tpbmcgYW5kIGEgbGl0dGxlIGNoZWVreSwgTmV3c2ZsYXNoIHVwZGF0ZXMgY29ubmVjdCBjdXJyZW50IGV2ZW50cyB0byB0aGUgYXJ0IGluIHRoZSBtdXNldW0uIExvb2sgZm9yIG5ldyB1cGRhdGVzIHRhcGVkIHRvIHRoZSBnYWxsZXJ5IHdhbGxzLCBvciBmaW5kIG9sZCBvbmVzIG9ubGluZS4nfSxcbiAgICB7dGVybTonX2V4aXN0c186cmVsYXRlZDphdWRpby1zdG9wcycsIGJsdXJiOidBdWRpbyBTdG9wcyBhcmUgbWluaS1wb2RjYXN0cyB0aGF0IHByZXNlbnQgbWFueSBvZiBNaWHigJlzIGhpZ2hsaWdodHMgYW5kIGZhdm9yaXRlIGFydHdvcmtzIHRocm91Z2ggc291bmQgYW5kIHN0b3JpZXMuIENvbm5lY3QgaW4gdGhlIGdhbGxlcmllcyBvciBhdCBob21lLid9LFxuICAgIHt0ZXJtOidfZXhpc3RzXzpyZWxhdGVkOnN0b3JpZXMnLCBibHVyYjonTWlhIFN0b3JpZXMgaXMgdGhlIG11c2V1bSBiZXlvbmQgdGhlIHdhbGxzLCBvdXRzaWRlIHRoZSBmcmFtZSwgYXQgdGhlIGxpdmVseSBpbnRlcnNlY3Rpb24gb2YgbGlmZSBhbmQgYXJ0LiBGcm9tIGJlaGluZC10aGUtc2NlbmVzIGJ1enogdG8gaW5zcGlyaW5nIGNvbm5lY3Rpb25zIHdpdGggY3VycmVudCBldmVudHMsIGl04oCZcyB0aGUgbXVzZXVtIGluIGNvbnZlcnNhdGlvbi4nfSxcbiAgXSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gRXhwbG9yZVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/explore.js"
      ],
      "names": [],
      "mappings": ";;;;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;;AAEpC,IAAI,IAAI,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAA;AAC5B,IAAI,UAAU,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACxC,IAAI,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA;AAChC,IAAI,OAAO,GAAG,OAAO,CAAC,WAAW,CAAC,CAAA;;AAElC,IAAI,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC9B,SAAO,EAAE;AACP,iBAAa,EAAE,UAAU,CAAC,SAAS,CAAC,aAAa;GAClD;;AAED,QAAM,EAAA,kBAAG;AACP,WAAO;;;MACL,2BAAG,IAAI,EAAC,WAAW,EAAC,SAAS,EAAC,gBAAgB,GAAK;MACnD;;UAAK,SAAS,EAAC,iBAAiB,EAAC,KAAK,EAAE,EAAC,OAAO,EAAE,SAAS,EAAC,AAAC;QAC5D,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAC,IAAa,EAAE,KAAK,EAAK;cAAxB,IAAI,GAAL,IAAa,CAAZ,IAAI;cAAE,KAAK,GAAZ,IAAa,CAAN,KAAK;;4BACN,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;;;;cAAlC,KAAK;;cAAK,KAAK;;AACpB,iBAAO;;;YACL;;;;cAAY;;kBAAM,KAAK,EAAE,EAAC,UAAU,EAAE,+BAA+B,EAAC,AAAC;gBAAE,KAAK,CAAC,CAAC,CAAC;eAAQ;aAAK;YAC9F;;;cAAI,KAAK;aAAK;YACd,oBAAC,IAAI;AACH,oBAAM,EAAE,KAAK,GAAC,CAAC,AAAC;AAChB,mBAAK,EAAE,KAAK,AAAC;AACb,eAAC,EAAE,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,AAAC;AACnB,wBAAU,EAAE,EAAC,YAAY,EAAE,GAAG,EAAC,AAAC;AAChC,0BAAY,EAAE,KAAK,CAAC,CAAC,CAAC,AAAC;AACvB,0BAAY,EAAE,IAAI,AAAC;cACjB;YACJ,4BAAI,KAAK,EAAE,EAAC,UAAU,EAAE,QAAQ,EAAC,AAAC,GAAG;WAC7B,CAAA;SACX,CAAC;QACF,oBAAC,MAAM,IAAC,KAAK,EAAC,iBAAiB,GAAG;OAC9B;KAAM,CAAA;GACb;;AAGD,UAAQ,EAAE,CACR,EAAC,IAAI,EAAC,6BAA6B,EAAE,KAAK,EAAC,qKAAqK,EAAC,EACjN,EAAC,IAAI,EAAC,8BAA8B,EAAE,KAAK,EAAC,qLAAqL,EAAC,EAClO,EAAC,IAAI,EAAC,8BAA8B,EAAE,KAAK,EAAC,2JAA2J,EAAC,EACxM,EAAC,IAAI,EAAC,0BAA0B,EAAE,KAAK,EAAC,uNAAuN,EAAC,CACjQ;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,OAAO,CAAA",
      "file": "/var/www/art/src/explore.js",
      "sourcesContent": [
        "var React = require('react')\nvar Helmet = require('react-helmet')\n\nvar Peek = require('./peek')\nvar Department = require('./department')\nvar Search = require('./search')\nvar Artwork = require('./artwork')\n\nvar Explore = React.createClass({\n  statics: {\n    searchResults: Department.fetchData.searchResults\n  },\n\n  render() {\n    return <div>\n      <a href=\"/art/8747\" className=\"explore-header\"></a>\n      <div className=\"explore-section\" style={{padding: '0 2.5em'}}>\n      {this.searches.map(({term, blurb}, index) => {\n        var [facet, ...terms] = term.split(':')\n        return <section>\n          <h2>Explore <span style={{fontFamily: '\"MiaGrotesk-Light\",sans-serif'}}>{terms[1]}</span></h2>\n          <p>{blurb}</p>\n          <Peek\n            offset={index*5}\n            facet={facet}\n            q={terms.join(':')}\n            quiltProps={{maxRowHeight: 600}}\n            directLinkTo={terms[1]}\n            shuffleQuilt={true}\n            />\n          <hr style={{visibility: 'hidden'}} />\n        </section>\n      })}\n      <Helmet title=\"Explore the art\" />\n    </div></div>\n  },\n\n\n  searches: [\n    {term:'_exists_:related:artstories', blurb:'ArtStories are digital explorations of Mia’s highlights and hidden gems—from intriguing details to secret backstories—available on your computer, phone, or tablet.'},\n    {term:'_exists_:related:newsflashes', blurb:'Thought-provoking and a little cheeky, Newsflash updates connect current events to the art in the museum. Look for new updates taped to the gallery walls, or find old ones online.'},\n    {term:'_exists_:related:audio-stops', blurb:'Audio Stops are mini-podcasts that present many of Mia’s highlights and favorite artworks through sound and stories. Connect in the galleries or at home.'},\n    {term:'_exists_:related:stories', blurb:'Mia Stories is the museum beyond the walls, outside the frame, at the lively intersection of life and art. From behind-the-scenes buzz to inspiring connections with current events, it’s the museum in conversation.'},\n  ],\n})\n\nmodule.exports = Explore\n"
      ]
    },
    "mtime": 1478899433914
  },
  "{\"filename\":\"/var/www/art/src/page.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Helmet = require('react-helmet');\nvar rest = require('rest');\n\nvar Search = require('./search');\nvar SearchResults = require('./search-results');\nvar Markdown = require('./markdown');\nvar Peek = require('./peek');\nvar collectionInfo = require('./endpoints').info;\n\nvar Page = React.createClass({\n  displayName: 'Page',\n\n  statics: {\n    fetchData: {\n      page: function page(params, query) {\n        return rest(collectionInfo).then(function (r) {\n          return JSON.parse(r.entity).pages;\n        }).then(function (pages) {\n          return pages[params.name];\n        });\n      },\n      searchResults: function searchResults(params, query) {\n        return Page.fetchData.page(params, query).then(function (page) {\n          return SearchResults.fetchData.searchResults({ terms: page.query });\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var _props$data$page = this.props.data.page;\n    var title = _props$data$page.title;\n    var content = _props$data$page.content;\n    var query = _props$data$page.query;\n\n    return React.createElement(\n      'section',\n      { className: 'page' },\n      query && React.createElement(Search, _extends({\n        hideResults: true,\n        hideInput: true,\n        facet: query\n      }, this.props)),\n      React.createElement(\n        'div',\n        { className: 'pageText' },\n        React.createElement(\n          'h1',\n          null,\n          title\n        ),\n        React.createElement(\n          Markdown,\n          null,\n          content\n        )\n      ),\n      query && React.createElement(Peek, { q: query, filtered: true, quiltProps: { maxRowHeight: 400 }, offset: 10 }),\n      React.createElement(Helmet, { title: title })\n    );\n  }\n});\n\nmodule.exports = Page;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvcGFnZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtBQUNwQyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7QUFDcEMsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFBOztBQUUxQixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUE7QUFDaEMsSUFBSSxhQUFhLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUE7QUFDL0MsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBO0FBQ3BDLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQTtBQUM1QixJQUFJLGNBQWMsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFBOztBQUVoRCxJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDM0IsU0FBTyxFQUFFO0FBQ1AsYUFBUyxFQUFFO0FBQ1QsVUFBSSxFQUFFLGNBQUMsTUFBTSxFQUFFLEtBQUs7ZUFBSyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQzFDLElBQUksQ0FBQyxVQUFBLENBQUM7aUJBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSztTQUFBLENBQUMsQ0FDckMsSUFBSSxDQUFDLFVBQUEsS0FBSztpQkFBSSxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQztTQUFBLENBQUM7T0FBQTtBQUNwQyxtQkFBYSxFQUFFLHVCQUFDLE1BQU0sRUFBRSxLQUFLO2VBQUssSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUNqRSxJQUFJLENBQUMsVUFBQSxJQUFJO2lCQUFJLGFBQWEsQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLEVBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUMsQ0FBQztTQUFBLENBQUM7T0FBQTtLQUM1RTtHQUNGOztBQUVELFFBQU0sRUFBQSxrQkFBRzsyQkFDdUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSTtRQUE3QyxLQUFLLG9CQUFMLEtBQUs7UUFBRSxPQUFPLG9CQUFQLE9BQU87UUFBRSxLQUFLLG9CQUFMLEtBQUs7O0FBRTFCLFdBQU87O1FBQVMsU0FBUyxFQUFDLE1BQU07TUFDN0IsS0FBSyxJQUFJLG9CQUFDLE1BQU07QUFDZixtQkFBVyxFQUFFLElBQUksQUFBQztBQUNsQixpQkFBUyxFQUFFLElBQUksQUFBQztBQUNoQixhQUFLLEVBQUUsS0FBSyxBQUFDO1NBQ1QsSUFBSSxDQUFDLEtBQUssRUFDZDtNQUVGOztVQUFLLFNBQVMsRUFBQyxVQUFVO1FBQ3ZCOzs7VUFBSyxLQUFLO1NBQU07UUFDaEI7QUFBQyxrQkFBUTs7VUFBRSxPQUFPO1NBQVk7T0FDMUI7TUFFTCxLQUFLLElBQUksb0JBQUMsSUFBSSxJQUFDLENBQUMsRUFBRSxLQUFLLEFBQUMsRUFBQyxRQUFRLEVBQUUsSUFBSSxBQUFDLEVBQUMsVUFBVSxFQUFFLEVBQUMsWUFBWSxFQUFFLEdBQUcsRUFBQyxBQUFDLEVBQUMsTUFBTSxFQUFFLEVBQUUsQUFBQyxHQUFHO01BQ3pGLG9CQUFDLE1BQU0sSUFBQyxLQUFLLEVBQUUsS0FBSyxBQUFDLEdBQUc7S0FDaEIsQ0FBQTtHQUNYO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvcGFnZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIEhlbG1ldCA9IHJlcXVpcmUoJ3JlYWN0LWhlbG1ldCcpXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxuXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zZWFyY2gnKVxudmFyIFNlYXJjaFJlc3VsdHMgPSByZXF1aXJlKCcuL3NlYXJjaC1yZXN1bHRzJylcbnZhciBNYXJrZG93biA9IHJlcXVpcmUoJy4vbWFya2Rvd24nKVxudmFyIFBlZWsgPSByZXF1aXJlKCcuL3BlZWsnKVxudmFyIGNvbGxlY3Rpb25JbmZvID0gcmVxdWlyZSgnLi9lbmRwb2ludHMnKS5pbmZvXG5cbnZhciBQYWdlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBzdGF0aWNzOiB7XG4gICAgZmV0Y2hEYXRhOiB7XG4gICAgICBwYWdlOiAocGFyYW1zLCBxdWVyeSkgPT4gcmVzdChjb2xsZWN0aW9uSW5mbylcbiAgICAgICAgLnRoZW4ociA9PiBKU09OLnBhcnNlKHIuZW50aXR5KS5wYWdlcylcbiAgICAgICAgLnRoZW4ocGFnZXMgPT4gcGFnZXNbcGFyYW1zLm5hbWVdKSxcbiAgICAgIHNlYXJjaFJlc3VsdHM6IChwYXJhbXMsIHF1ZXJ5KSA9PiBQYWdlLmZldGNoRGF0YS5wYWdlKHBhcmFtcywgcXVlcnkpXG4gICAgICAgIC50aGVuKHBhZ2UgPT4gU2VhcmNoUmVzdWx0cy5mZXRjaERhdGEuc2VhcmNoUmVzdWx0cyh7dGVybXM6IHBhZ2UucXVlcnl9KSlcbiAgICB9XG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciB7dGl0bGUsIGNvbnRlbnQsIHF1ZXJ5fSA9IHRoaXMucHJvcHMuZGF0YS5wYWdlXG5cbiAgICByZXR1cm4gPHNlY3Rpb24gY2xhc3NOYW1lPVwicGFnZVwiPlxuICAgICAge3F1ZXJ5ICYmIDxTZWFyY2hcbiAgICAgICAgaGlkZVJlc3VsdHM9e3RydWV9XG4gICAgICAgIGhpZGVJbnB1dD17dHJ1ZX1cbiAgICAgICAgZmFjZXQ9e3F1ZXJ5fVxuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgIC8+fVxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2VUZXh0XCI+XG4gICAgICAgIDxoMT57dGl0bGV9PC9oMT5cbiAgICAgICAgPE1hcmtkb3duPntjb250ZW50fTwvTWFya2Rvd24+XG4gICAgICA8L2Rpdj5cblxuICAgICAge3F1ZXJ5ICYmIDxQZWVrIHE9e3F1ZXJ5fSBmaWx0ZXJlZD17dHJ1ZX0gcXVpbHRQcm9wcz17e21heFJvd0hlaWdodDogNDAwfX0gb2Zmc2V0PXsxMH0gLz59XG4gICAgICA8SGVsbWV0IHRpdGxlPXt0aXRsZX0gLz5cbiAgICA8L3NlY3Rpb24+XG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IFBhZ2VcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/page.js"
      ],
      "names": [],
      "mappings": ";;;;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACpC,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACpC,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;;AAE1B,IAAI,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA;AAChC,IAAI,aAAa,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAA;AAC/C,IAAI,QAAQ,GAAG,OAAO,CAAC,YAAY,CAAC,CAAA;AACpC,IAAI,IAAI,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAA;AAC5B,IAAI,cAAc,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC,IAAI,CAAA;;AAEhD,IAAI,IAAI,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC3B,SAAO,EAAE;AACP,aAAS,EAAE;AACT,UAAI,EAAE,cAAC,MAAM,EAAE,KAAK;eAAK,IAAI,CAAC,cAAc,CAAC,CAC1C,IAAI,CAAC,UAAA,CAAC;iBAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK;SAAA,CAAC,CACrC,IAAI,CAAC,UAAA,KAAK;iBAAI,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC;SAAA,CAAC;OAAA;AACpC,mBAAa,EAAE,uBAAC,MAAM,EAAE,KAAK;eAAK,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CACjE,IAAI,CAAC,UAAA,IAAI;iBAAI,aAAa,CAAC,SAAS,CAAC,aAAa,CAAC,EAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAC,CAAC;SAAA,CAAC;OAAA;KAC5E;GACF;;AAED,QAAM,EAAA,kBAAG;2BACuB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI;QAA7C,KAAK,oBAAL,KAAK;QAAE,OAAO,oBAAP,OAAO;QAAE,KAAK,oBAAL,KAAK;;AAE1B,WAAO;;QAAS,SAAS,EAAC,MAAM;MAC7B,KAAK,IAAI,oBAAC,MAAM;AACf,mBAAW,EAAE,IAAI,AAAC;AAClB,iBAAS,EAAE,IAAI,AAAC;AAChB,aAAK,EAAE,KAAK,AAAC;SACT,IAAI,CAAC,KAAK,EACd;MAEF;;UAAK,SAAS,EAAC,UAAU;QACvB;;;UAAK,KAAK;SAAM;QAChB;AAAC,kBAAQ;;UAAE,OAAO;SAAY;OAC1B;MAEL,KAAK,IAAI,oBAAC,IAAI,IAAC,CAAC,EAAE,KAAK,AAAC,EAAC,QAAQ,EAAE,IAAI,AAAC,EAAC,UAAU,EAAE,EAAC,YAAY,EAAE,GAAG,EAAC,AAAC,EAAC,MAAM,EAAE,EAAE,AAAC,GAAG;MACzF,oBAAC,MAAM,IAAC,KAAK,EAAE,KAAK,AAAC,GAAG;KAChB,CAAA;GACX;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,IAAI,CAAA",
      "file": "/var/www/art/src/page.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar Helmet = require('react-helmet')\nvar rest = require('rest')\n\nvar Search = require('./search')\nvar SearchResults = require('./search-results')\nvar Markdown = require('./markdown')\nvar Peek = require('./peek')\nvar collectionInfo = require('./endpoints').info\n\nvar Page = React.createClass({\n  statics: {\n    fetchData: {\n      page: (params, query) => rest(collectionInfo)\n        .then(r => JSON.parse(r.entity).pages)\n        .then(pages => pages[params.name]),\n      searchResults: (params, query) => Page.fetchData.page(params, query)\n        .then(page => SearchResults.fetchData.searchResults({terms: page.query}))\n    }\n  },\n\n  render() {\n    var {title, content, query} = this.props.data.page\n\n    return <section className=\"page\">\n      {query && <Search\n        hideResults={true}\n        hideInput={true}\n        facet={query}\n        {...this.props}\n      />}\n\n      <div className=\"pageText\">\n        <h1>{title}</h1>\n        <Markdown>{content}</Markdown>\n      </div>\n\n      {query && <Peek q={query} filtered={true} quiltProps={{maxRowHeight: 400}} offset={10} />}\n      <Helmet title={title} />\n    </section>\n  },\n})\n\nmodule.exports = Page\n"
      ]
    },
    "mtime": 1456957925207
  },
  "{\"filename\":\"/var/www/art/src/info.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar Helmet = require('react-helmet');\nvar rest = require('rest');\nvar toSlug = require('speakingurl');\nvar collectionInfo = require('./endpoints').info;\n\nvar Info = React.createClass({\n  displayName: 'Info',\n\n  statics: {\n    fetchData: {\n      pages: function pages(params, query) {\n        return rest(collectionInfo).then(function (r) {\n          return JSON.parse(r.entity).pages;\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var _this = this;\n\n    var pages = Object.keys(this.props.data.pages).filter(function (key) {\n      return !key.match('index');\n    }).map(function (name) {\n      return _this.props.data.pages[name];\n    });\n\n    return React.createElement(\n      'ul',\n      null,\n      pages.map(function (page) {\n        return React.createElement(\n          'li',\n          null,\n          React.createElement(\n            Link,\n            { to: 'page', params: { name: toSlug(page.title) } },\n            page.title\n          )\n        );\n      })\n    );\n  }\n});\n\nmodule.exports = Info;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvaW5mby5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUM1QixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7SUFDL0IsSUFBSSxHQUFJLE1BQU0sQ0FBZCxJQUFJOztBQUNULElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtBQUNwQyxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUE7QUFDMUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBO0FBQ25DLElBQUksY0FBYyxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQyxJQUFJLENBQUE7O0FBRWhELElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUMzQixTQUFPLEVBQUU7QUFDUCxhQUFTLEVBQUU7QUFDVCxXQUFLLEVBQUUsZUFBQyxNQUFNLEVBQUUsS0FBSztlQUFLLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FDM0MsSUFBSSxDQUFDLFVBQUEsQ0FBQztpQkFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLO1NBQUEsQ0FBQztPQUFBO0tBQ3pDO0dBQ0Y7O0FBRUQsUUFBTSxFQUFBLGtCQUFHOzs7QUFDUCxRQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUM3QyxNQUFNLENBQUMsVUFBQSxHQUFHO2FBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQztLQUFBLENBQUMsQ0FDbEMsR0FBRyxDQUFDLFVBQUEsSUFBSTthQUFJLE1BQUssS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO0tBQUEsQ0FBQyxDQUFBOztBQUV6QyxXQUFPOzs7TUFBSyxLQUFLLENBQUMsR0FBRyxDQUFDLFVBQUEsSUFBSSxFQUFJO0FBQzVCLGVBQU87OztVQUFJO0FBQUMsZ0JBQUk7Y0FBQyxFQUFFLEVBQUMsTUFBTSxFQUFDLE1BQU0sRUFBRSxFQUFDLElBQUksRUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFDLEFBQUM7WUFBRSxJQUFJLENBQUMsS0FBSztXQUFRO1NBQUssQ0FBQTtPQUN4RixDQUFDO0tBQU0sQ0FBQTtHQUNUO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvaW5mby5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHtMaW5rfSA9IFJvdXRlclxudmFyIEhlbG1ldCA9IHJlcXVpcmUoJ3JlYWN0LWhlbG1ldCcpXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxudmFyIHRvU2x1ZyA9IHJlcXVpcmUoJ3NwZWFraW5ndXJsJylcbnZhciBjb2xsZWN0aW9uSW5mbyA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJykuaW5mb1xuXG52YXIgSW5mbyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgc3RhdGljczoge1xuICAgIGZldGNoRGF0YToge1xuICAgICAgcGFnZXM6IChwYXJhbXMsIHF1ZXJ5KSA9PiByZXN0KGNvbGxlY3Rpb25JbmZvKVxuICAgICAgICAudGhlbihyID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpLnBhZ2VzKVxuICAgIH1cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHBhZ2VzID0gT2JqZWN0LmtleXModGhpcy5wcm9wcy5kYXRhLnBhZ2VzKVxuICAgIC5maWx0ZXIoa2V5ID0+ICFrZXkubWF0Y2goJ2luZGV4JykpXG4gICAgLm1hcChuYW1lID0+IHRoaXMucHJvcHMuZGF0YS5wYWdlc1tuYW1lXSlcblxuICAgIHJldHVybiA8dWw+e3BhZ2VzLm1hcChwYWdlID0+IHtcbiAgICAgIHJldHVybiA8bGk+PExpbmsgdG89XCJwYWdlXCIgcGFyYW1zPXt7bmFtZTogdG9TbHVnKHBhZ2UudGl0bGUpfX0+e3BhZ2UudGl0bGV9PC9MaW5rPjwvbGk+XG4gICAgfSl9PC91bD5cbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gSW5mb1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/info.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;IAC/B,IAAI,GAAI,MAAM,CAAd,IAAI;;AACT,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACpC,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;AAC1B,IAAI,MAAM,GAAG,OAAO,CAAC,aAAa,CAAC,CAAA;AACnC,IAAI,cAAc,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC,IAAI,CAAA;;AAEhD,IAAI,IAAI,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC3B,SAAO,EAAE;AACP,aAAS,EAAE;AACT,WAAK,EAAE,eAAC,MAAM,EAAE,KAAK;eAAK,IAAI,CAAC,cAAc,CAAC,CAC3C,IAAI,CAAC,UAAA,CAAC;iBAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK;SAAA,CAAC;OAAA;KACzC;GACF;;AAED,QAAM,EAAA,kBAAG;;;AACP,QAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAC7C,MAAM,CAAC,UAAA,GAAG;aAAI,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC;KAAA,CAAC,CAClC,GAAG,CAAC,UAAA,IAAI;aAAI,MAAK,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;KAAA,CAAC,CAAA;;AAEzC,WAAO;;;MAAK,KAAK,CAAC,GAAG,CAAC,UAAA,IAAI,EAAI;AAC5B,eAAO;;;UAAI;AAAC,gBAAI;cAAC,EAAE,EAAC,MAAM,EAAC,MAAM,EAAE,EAAC,IAAI,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,EAAC,AAAC;YAAE,IAAI,CAAC,KAAK;WAAQ;SAAK,CAAA;OACxF,CAAC;KAAM,CAAA;GACT;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,IAAI,CAAA",
      "file": "/var/www/art/src/info.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\nvar Helmet = require('react-helmet')\nvar rest = require('rest')\nvar toSlug = require('speakingurl')\nvar collectionInfo = require('./endpoints').info\n\nvar Info = React.createClass({\n  statics: {\n    fetchData: {\n      pages: (params, query) => rest(collectionInfo)\n        .then(r => JSON.parse(r.entity).pages)\n    }\n  },\n\n  render() {\n    var pages = Object.keys(this.props.data.pages)\n    .filter(key => !key.match('index'))\n    .map(name => this.props.data.pages[name])\n\n    return <ul>{pages.map(page => {\n      return <li><Link to=\"page\" params={{name: toSlug(page.title)}}>{page.title}</Link></li>\n    })}</ul>\n  },\n})\n\nmodule.exports = Info\n"
      ]
    },
    "mtime": 1456957925207
  },
  "{\"filename\":\"/var/www/art/src/gallery.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Helmet = require('react-helmet');\n\nvar rest = require('rest');\n\nvar Search = require('./search');\nvar SearchResults = require('./search-results');\nvar GalleryDecorator = require('./decorate/gallery.js');\nvar Markdown = require('./markdown');\nvar Peek = require('./peek');\n\nvar _require = require('../data/galleries.json');\n\nvar galleries = _require.galleries;\nvar messages = _require.messages;\n\nvar galleryPanelUrl = require('./endpoints').galleryPanel;\n\nvar Gallery = React.createClass({\n  displayName: 'Gallery',\n\n  mixins: [Router.State, Router.Navigation],\n\n  statics: {\n    fetchData: {\n      gallery: function gallery(params, query) {\n        var id = params.gallery.replace(/g/i, '');\n        var url = galleryPanelUrl(id);\n        return rest(url).then(function (result) {\n          return result.status.code == 200 ? result.entity : false;\n        });\n      },\n      searchResults: function searchResults(params, query) {\n        if (!params.gallery.match(/^g/i)) params.gallery = 'G' + params.gallery;\n        params.terms = '*';\n        params.splat = 'room:\"' + params.gallery + '\"';\n        return SearchResults.fetchData.searchResults(params, query);\n      }\n    },\n\n    willTransitionTo: function willTransitionTo(transition, params, query, callback) {\n      var gallery = params.gallery;\n\n      var isWithinTargetGalleries = gallery !== '266-G274' && 266 <= parseInt(gallery) && parseInt(gallery) <= 274;\n\n      if (isWithinTargetGalleries) {\n        transition.redirect('gallery', _extends({}, params, { gallery: '266-G274' }));\n      }\n\n      callback();\n    }\n  },\n\n  render: function render() {\n    var gallery = this.props.params.gallery;\n\n    var facet = 'room:\"' + gallery + '\"';\n    var galleryPanel = this.props.data.gallery;\n    var number = gallery.replace(/g/i, '');\n    if (number == '266-274') number = '266-G274';\n    var galleryInfo = galleries[number];\n    var galleryTitle = galleryPanel ? galleryPanel.replace(/^# /, '').split('\\n')[0] : galleryInfo.title;\n    var pageTitle = gallery + ': ' + (galleryTitle || 'On view now');\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(Search, _extends({\n        facet: facet\n      }, this.props, {\n        summaryProps: {\n          galleryPanel: galleryPanel,\n          showFullGalleryInfo: true\n        },\n        // changeTo: this.changeGallery,\n        disableHover: true // TODO: fix :hover going to the search results page\n      })),\n      React.createElement(Helmet, {\n        title: pageTitle,\n        meta: [{ property: \"og:title\", content: pageTitle + ' ^ Minneapolis Institute of Art' }, { property: \"og:description\", content: galleryTitle || '' }]\n      })\n    );\n  }\n});\n\nmodule.exports = Gallery;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZ2FsbGVyeS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtBQUNwQyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7O0FBRXBDLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQTs7QUFFMUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFBO0FBQ2hDLElBQUksYUFBYSxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFBO0FBQy9DLElBQUksZ0JBQWdCLEdBQUcsT0FBTyxDQUFDLHVCQUF1QixDQUFDLENBQUE7QUFDdkQsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBO0FBQ3BDLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQTs7ZUFDQSxPQUFPLENBQUMsd0JBQXdCLENBQUM7O0lBQXhELFNBQVMsWUFBVCxTQUFTO0lBQUUsUUFBUSxZQUFSLFFBQVE7O0FBQ3hCLElBQUksZUFBZSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQyxZQUFZLENBQUE7O0FBRXpELElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUM5QixRQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxVQUFVLENBQUM7O0FBRXpDLFNBQU8sRUFBRTtBQUNQLGFBQVMsRUFBRTtBQUNULGFBQU8sRUFBRSxpQkFBQyxNQUFNLEVBQUUsS0FBSyxFQUFLO0FBQzFCLFlBQUksRUFBRSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQTtBQUN6QyxZQUFJLEdBQUcs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QUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvZ2FsbGVyeS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIEhlbG1ldCA9IHJlcXVpcmUoJ3JlYWN0LWhlbG1ldCcpXG5cbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG5cbnZhciBTZWFyY2ggPSByZXF1aXJlKCcuL3NlYXJjaCcpXG52YXIgU2VhcmNoUmVzdWx0cyA9IHJlcXVpcmUoJy4vc2VhcmNoLXJlc3VsdHMnKVxudmFyIEdhbGxlcnlEZWNvcmF0b3IgPSByZXF1aXJlKCcuL2RlY29yYXRlL2dhbGxlcnkuanMnKVxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi9tYXJrZG93bicpXG52YXIgUGVlayA9IHJlcXVpcmUoJy4vcGVlaycpXG52YXIge2dhbGxlcmllcywgbWVzc2FnZXN9ID0gcmVxdWlyZSgnLi4vZGF0YS9nYWxsZXJpZXMuanNvbicpXG52YXIgZ2FsbGVyeVBhbmVsVXJsID0gcmVxdWlyZSgnLi9lbmRwb2ludHMnKS5nYWxsZXJ5UGFuZWxcblxudmFyIEdhbGxlcnkgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIG1peGluczogW1JvdXRlci5TdGF0ZSwgUm91dGVyLk5hdmlnYXRpb25dLFxuXG4gIHN0YXRpY3M6IHtcbiAgICBmZXRjaERhdGE6IHtcbiAgICAgIGdhbGxlcnk6IChwYXJhbXMsIHF1ZXJ5KSA9PiB7XG4gICAgICAgIHZhciBpZCA9IHBhcmFtcy5nYWxsZXJ5LnJlcGxhY2UoL2cvaSwgJycpXG4gICAgICAgIHZhciB1cmwgPSBnYWxsZXJ5UGFuZWxVcmwoaWQpXG4gICAgICAgIHJldHVybiByZXN0KHVybCkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgIHJldHVybiByZXN1bHQuc3RhdHVzLmNvZGUgPT0gMjAwID8gcmVzdWx0LmVudGl0eSA6IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgc2VhcmNoUmVzdWx0czogKHBhcmFtcywgcXVlcnkpID0+IHtcbiAgICAgICAgaWYoIXBhcmFtcy5nYWxsZXJ5Lm1hdGNoKC9eZy9pKSkgcGFyYW1zLmdhbGxlcnkgPSBgRyR7cGFyYW1zLmdhbGxlcnl9YFxuICAgICAgICBwYXJhbXMudGVybXMgPSAnKidcbiAgICAgICAgcGFyYW1zLnNwbGF0ID0gJ3Jvb206XCInK3BhcmFtcy5nYWxsZXJ5KydcIidcbiAgICAgICAgcmV0dXJuIFNlYXJjaFJlc3VsdHMuZmV0Y2hEYXRhLnNlYXJjaFJlc3VsdHMocGFyYW1zLCBxdWVyeSlcbiAgICAgIH0sXG4gICAgfSxcblxuICAgIHdpbGxUcmFuc2l0aW9uVG86IGZ1bmN0aW9uICh0cmFuc2l0aW9uLCBwYXJhbXMsIHF1ZXJ5LCBjYWxsYmFjaykge1xuICAgICAgdmFyIHtnYWxsZXJ5fSA9IHBhcmFtc1xuXG4gICAgICB2YXIgaXNXaXRoaW5UYXJnZXRHYWxsZXJpZXMgPSBnYWxsZXJ5ICE9PSAnMjY2LUcyNzQnICYmXG4gICAgICAgIDI2NiA8PSBwYXJzZUludChnYWxsZXJ5KVxuICAgICAgICAmJiBwYXJzZUludChnYWxsZXJ5KSA8PSAyNzRcblxuICAgICAgaWYoaXNXaXRoaW5UYXJnZXRHYWxsZXJpZXMpIHtcbiAgICAgICAgdHJhbnNpdGlvbi5yZWRpcmVjdCgnZ2FsbGVyeScsIHsuLi5wYXJhbXMsIGdhbGxlcnk6ICcyNjYtRzI3NCd9KVxuICAgICAgfVxuXG4gICAgICBjYWxsYmFjaygpXG4gICAgfSxcbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHtnYWxsZXJ5fSA9IHRoaXMucHJvcHMucGFyYW1zXG4gICAgdmFyIGZhY2V0ID0gYHJvb206XCIke2dhbGxlcnl9XCJgXG4gICAgdmFyIGdhbGxlcnlQYW5lbCA9IHRoaXMucHJvcHMuZGF0YS5nYWxsZXJ5XG4gICAgdmFyIG51bWJlciA9IGdhbGxlcnkucmVwbGFjZSgvZy9pLCAnJylcbiAgICBpZihudW1iZXIgPT0gJzI2Ni0yNzQnKSBudW1iZXIgPSAnMjY2LUcyNzQnXG4gICAgdmFyIGdhbGxlcnlJbmZvID0gZ2FsbGVyaWVzW251bWJlcl1cbiAgICB2YXIgZ2FsbGVyeVRpdGxlID0gZ2FsbGVyeVBhbmVsID9cbiAgICAgIGdhbGxlcnlQYW5lbC5yZXBsYWNlKC9eIyAvLCAnJykuc3BsaXQoJ1xcbicpWzBdIDpcbiAgICAgIGdhbGxlcnlJbmZvLnRpdGxlXG4gICAgdmFyIHBhZ2VUaXRsZSA9IGAke2dhbGxlcnl9OiAke2dhbGxlcnlUaXRsZSB8fCAnT24gdmlldyBub3cnfWBcblxuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPFNlYXJjaFxuICAgICAgICBmYWNldD17ZmFjZXR9XG4gICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICBzdW1tYXJ5UHJvcHM9e3tcbiAgICAgICAgICBnYWxsZXJ5UGFuZWw6IGdhbGxlcnlQYW5lbCxcbiAgICAgICAgICBzaG93RnVsbEdhbGxlcnlJbmZvOiB0cnVlLFxuICAgICAgICAgIC8vIGNoYW5nZVRvOiB0aGlzLmNoYW5nZUdhbGxlcnksXG4gICAgICAgIH19XG4gICAgICAgIGRpc2FibGVIb3Zlcj17dHJ1ZX0gLy8gVE9ETzogZml4IDpob3ZlciBnb2luZyB0byB0aGUgc2VhcmNoIHJlc3VsdHMgcGFnZVxuICAgICAgLz5cbiAgICAgIDxIZWxtZXRcbiAgICAgICAgdGl0bGU9e3BhZ2VUaXRsZX1cbiAgICAgICAgbWV0YT17W1xuICAgICAgICAgIHtwcm9wZXJ0eTogXCJvZzp0aXRsZVwiLCBjb250ZW50OiBwYWdlVGl0bGUgKyAnIF4gTWlubmVhcG9saXMgSW5zdGl0dXRlIG9mIEFydCd9LFxuICAgICAgICAgIHtwcm9wZXJ0eTogXCJvZzpkZXNjcmlwdGlvblwiLCBjb250ZW50OiBnYWxsZXJ5VGl0bGUgfHwgJyd9LFxuICAgICAgICBdfVxuICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBHYWxsZXJ5XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/gallery.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/gallery.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar Helmet = require('react-helmet')\n\nvar rest = require('rest')\n\nvar Search = require('./search')\nvar SearchResults = require('./search-results')\nvar GalleryDecorator = require('./decorate/gallery.js')\nvar Markdown = require('./markdown')\nvar Peek = require('./peek')\nvar {galleries, messages} = require('../data/galleries.json')\nvar galleryPanelUrl = require('./endpoints').galleryPanel\n\nvar Gallery = React.createClass({\n  mixins: [Router.State, Router.Navigation],\n\n  statics: {\n    fetchData: {\n      gallery: (params, query) => {\n        var id = params.gallery.replace(/g/i, '')\n        var url = galleryPanelUrl(id)\n        return rest(url).then(result => {\n          return result.status.code == 200 ? result.entity : false\n        })\n      },\n      searchResults: (params, query) => {\n        if(!params.gallery.match(/^g/i)) params.gallery = `G${params.gallery}`\n        params.terms = '*'\n        params.splat = 'room:\"'+params.gallery+'\"'\n        return SearchResults.fetchData.searchResults(params, query)\n      },\n    },\n\n    willTransitionTo: function (transition, params, query, callback) {\n      var {gallery} = params\n\n      var isWithinTargetGalleries = gallery !== '266-G274' &&\n        266 <= parseInt(gallery)\n        && parseInt(gallery) <= 274\n\n      if(isWithinTargetGalleries) {\n        transition.redirect('gallery', {...params, gallery: '266-G274'})\n      }\n\n      callback()\n    },\n  },\n\n  render() {\n    var {gallery} = this.props.params\n    var facet = `room:\"${gallery}\"`\n    var galleryPanel = this.props.data.gallery\n    var number = gallery.replace(/g/i, '')\n    if(number == '266-274') number = '266-G274'\n    var galleryInfo = galleries[number]\n    var galleryTitle = galleryPanel ?\n      galleryPanel.replace(/^# /, '').split('\\n')[0] :\n      galleryInfo.title\n    var pageTitle = `${gallery}: ${galleryTitle || 'On view now'}`\n\n    return <div>\n      <Search\n        facet={facet}\n        {...this.props}\n        summaryProps={{\n          galleryPanel: galleryPanel,\n          showFullGalleryInfo: true,\n          // changeTo: this.changeGallery,\n        }}\n        disableHover={true} // TODO: fix :hover going to the search results page\n      />\n      <Helmet\n        title={pageTitle}\n        meta={[\n          {property: \"og:title\", content: pageTitle + ' ^ Minneapolis Institute of Art'},\n          {property: \"og:description\", content: galleryTitle || ''},\n        ]}\n      />\n      </div>\n  },\n})\n\nmodule.exports = Gallery\n"
      ]
    },
    "mtime": 1456957925207
  },
  "{\"filename\":\"/var/www/art/src/more.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar toSlug = require('speakingurl');\nvar LazyLoad = require('react-lazy-load');\n\nvar SEARCH = require('./endpoints').search;\nvar rest = require('rest');\nvar Search = require('./search');\nvar MapPage = require('./map-page');\nvar Markdown = require('./markdown');\n\n// TODO: de-dupe this and src/home.js\nvar More = React.createClass({\n  displayName: 'More',\n\n  statics: {\n    fetchData: {\n      searchResults: function searchResults(params, query) {\n        var searchUrl = SEARCH + '/highlight:true';\n        return rest(searchUrl).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var smallViewport = window && window.innerWidth < 600;\n    var quiltProps = smallViewport ? { maxRows: 1, maxWorks: 5 } : { maxRows: 2, maxWorks: 9 };\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(Search, _extends({\n        hideResults: true,\n        activateInput: true,\n        quiltProps: quiltProps,\n        facet: 'highlight:true',\n        searchAll: true,\n        suggestStyle: { margin: \"1em 3em\" },\n        bumpSearchBox: smallViewport,\n        shuffleQuilt: true\n      }, this.props)),\n      React.createElement(\n        'div',\n        { id: 'more', className: 'welcome mdl-grid' },\n        React.createElement(\n          'div',\n          { className: 'mdl-cell mdl-cell--9-col' },\n          React.createElement(\n            'p',\n            null,\n            smallViewport && React.createElement('img', { src: '/images/more-icon.svg', style: { maxWidth: '7em', padding: '2em 1em 0.25em 1em', float: 'right' } }),\n            'There\\'s more to explore. Use your digital device to visit more.artsmia.org and enjoy additional multimedia content wherever you see this symbol.'\n          ),\n          React.createElement(\n            'p',\n            { 'class': 'labelHelper', style: { position: 'relative' } },\n            'To find more, search for an artwork by ',\n            React.createElement(\n              TombstoneTooltip,\n              null,\n              'title'\n            ),\n            ', ',\n            React.createElement(\n              TombstoneTooltip,\n              null,\n              'artist'\n            ),\n            ', or ',\n            React.createElement(\n              TombstoneTooltip,\n              null,\n              'accession number'\n            ),\n            '.'\n          ),\n          smallViewport || React.createElement(\n            'p',\n            null,\n            React.createElement('img', { src: '/images/more-icon.svg', style: { maxWidth: '11em' } })\n          ),\n          React.createElement(\n            'div',\n            null,\n            React.createElement(\n              'h2',\n              null,\n              'Personalize your Mia experience with new ways to explore art.'\n            ),\n            React.createElement(\n              'h3',\n              null,\n              'Journeys'\n            ),\n            React.createElement(\n              'p',\n              null,\n              'Use this new app to create a personalized journey through the museum or follow the suggestions of others. Either way, we’ll map it out for you. ',\n              React.createElement(\n                'a',\n                { href: 'https://itunes.apple.com/us/app/mia-journeys/id1058993004' },\n                'Download the app free (iOS).'\n              )\n            ),\n            React.createElement(ExpandableNewArtsmiaContentBlock, { page: 'journeys' }),\n            React.createElement(\n              'h3',\n              null,\n              'Overheard'\n            ),\n            React.createElement(\n              'p',\n              null,\n              'Eavesdrop on the conversations of fictional fellow visitors as they wander the galleries, using this playful new audio app. ',\n              React.createElement(\n                'a',\n                { href: 'https://itunes.apple.com/us/app/overheard-mia/id1116319582' },\n                'Download it free (iOS)'\n              ),\n              '.'\n            ),\n            React.createElement(ExpandableNewArtsmiaContentBlock, { page: 'overheard' }),\n            React.createElement(\n              'h3',\n              null,\n              'ArtStories'\n            ),\n            React.createElement(\n              'p',\n              null,\n              'In-depth multimedia explorations of Mia’s highlights and hidden gems—from intriguing details to secret backstories. Available on iPads in the galleries, and optimized for your smartphone or home computer: ',\n              React.createElement(\n                'a',\n                { href: 'https://artstories.artsmia.org' },\n                'ArtStories'\n              ),\n              '.'\n            ),\n            React.createElement(ExpandableNewArtsmiaContentBlock, { page: 'artstories' })\n          )\n        )\n      ),\n      React.createElement(\n        'div',\n        { id: 'map' },\n        React.createElement(\n          MapPage,\n          { hideList: true },\n          React.createElement(\n            Link,\n            { to: 'map', style: { textAlign: 'center', float: 'right', paddingRight: '1em' } },\n            'All galleries'\n          )\n        )\n      )\n    );\n  }\n});\n\nmodule.exports = More;\n\nvar ExpandableNewArtsmiaContentBlock = React.createClass({\n  displayName: 'ExpandableNewArtsmiaContentBlock',\n\n  // statics: {\n  //   fetchData: (params, query) => {\n  //   }\n  // },\n  getInitialState: function getInitialState() {\n    return {\n      expanded: false,\n      loaded: false\n    };\n  },\n\n  componentWillMount: function componentWillMount() {\n    this.loadExternalContent();\n  },\n\n  loadExternalContent: function loadExternalContent() {\n    var _this = this;\n\n    return rest('https://new.artsmia.org/wp-json/wp/v2/pages?slug=' + this.props.page).then(function (r) {\n      return JSON.parse(r.entity);\n    }).then(function (json) {\n      return _this.setState({ loaded: true, json: json });\n    });\n  },\n\n  render: function render() {\n    var _state = this.state;\n    var loaded = _state.loaded;\n    var expanded = _state.expanded;\n    var json = _state.json;\n\n    var toggleButton = React.createElement(\n      'a',\n      { href: '#', onClick: this.toggle },\n      expanded ? 'Less' : 'More',\n      ' Info'\n    );\n\n    var content = loaded && React.createElement(\n      'div',\n      null,\n      React.createElement(\n        Markdown,\n        null,\n        json[0].acf.modules[1].content[0].text\n      ),\n      React.createElement('hr', null)\n    );\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'p',\n        null,\n        toggleButton\n      ),\n      loaded && expanded && content\n    );\n  },\n\n  toggle: function toggle(event) {\n    this.setState({ expanded: !this.state.expanded });\n    event.preventDefault();\n    return false;\n  }\n});\n\nvar RandomArtworkTombstone = require('./random-artwork-tombstone');\nvar TombstoneTooltip = React.createClass({\n  displayName: 'TombstoneTooltip',\n\n  render: function render() {\n    var _state2 = this.state;\n    var expanded = _state2.expanded;\n    var timeClicked = _state2.timeClicked;\n\n    var styles = {\n      position: 'absolute',\n      background: 'white',\n      zIndex: 1000,\n      width: '90vw',\n      padding: '1em',\n      border: '1px solid black',\n      marginTop: '1em'\n    };\n\n    var fieldToHighlight = this.props.children;\n\n    return React.createElement(\n      'span',\n      { style: { display: 'inline', cursor: 'pointer' },\n        onMouseOver: this.toggleExpanded.bind(this, true),\n        onMouseOut: this.toggleExpanded.bind(this, false),\n        onClick: this.toggleExpanded },\n      React.createElement(\n        'a',\n        { onclick: 'return false' },\n        this.props.children\n      ),\n      expanded && React.createElement(\n        'div',\n        { style: styles },\n        React.createElement(RandomArtworkTombstone, { fieldToHighlight: fieldToHighlight })\n      )\n    );\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      expanded: false\n    };\n  },\n\n  toggleExpanded: function toggleExpanded(value) {\n    this.setState({\n      expanded: value || !this.state.expanded\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvbW9yZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtJQUMvQixJQUFJLEdBQUksTUFBTSxDQUFkLElBQUk7O0FBRVQsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBO0FBQ25DLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFBOztBQUV6QyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsTUFBTSxDQUFBO0FBQzFDLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQTtBQUMxQixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUE7QUFDaEMsSUFBSSxPQUFPLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBO0FBQ25DLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTs7O0FBR3BDLElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUMzQixTQUFPLEVBQUU7QUFDUCxhQUFTLEVBQUU7QUFDVCxtQkFBYSxFQUFFLHVCQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUs7QUFDaEMsWUFBSSxTQUFTLEdBQU0sTUFBTSxvQkFBaUIsQ0FBQTtBQUMxQyxlQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQyxDQUFDO2lCQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztTQUFBLENBQUMsQ0FBQTtPQUN6RDtLQUNGO0dBQ0Y7O0FBRUQsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsUUFBSSxhQUFhLEdBQUcsTUFBTSxJQUFJLE1BQU0sQ0FBQyxVQUFVLEdBQUcsR0FB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QUUsS0FBSztLQUNoQixDQUFBO0dBQ0Y7O0FBRUQsZ0JBQWMsRUFBQSx3QkFBQyxLQUFLLEVBQUU7QUFDcEIsUUFBSSxDQUFDLFFBQVEsQ0FBQztBQUNaLGNBQVEsRUFBRSxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVE7S0FDeEMsQ0FBQyxDQUFBO0dBQ0g7Q0FDRixDQUFDLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9tb3JlLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIge0xpbmt9ID0gUm91dGVyXG5cbnZhciB0b1NsdWcgPSByZXF1aXJlKCdzcGVha2luZ3VybCcpXG52YXIgTGF6eUxvYWQgPSByZXF1aXJlKCdyZWFjdC1sYXp5LWxvYWQnKVxuXG52YXIgU0VBUkNIID0gcmVxdWlyZSgnLi9lbmRwb2ludHMnKS5zZWFyY2hcbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zZWFyY2gnKVxudmFyIE1hcFBhZ2UgPSByZXF1aXJlKCcuL21hcC1wYWdlJylcbnZhciBNYXJrZG93biA9IHJlcXVpcmUoJy4vbWFya2Rvd24nKVxuXG4vLyBUT0RPOiBkZS1kdXBlIHRoaXMgYW5kIHNyYy9ob21lLmpzXG52YXIgTW9yZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgc3RhdGljczoge1xuICAgIGZldGNoRGF0YToge1xuICAgICAgc2VhcmNoUmVzdWx0czogKHBhcmFtcywgcXVlcnkpID0+IHtcbiAgICAgICAgbGV0IHNlYXJjaFVybCA9IGAke1NFQVJDSH0vaGlnaGxpZ2h0OnRydWVgXG4gICAgICAgIHJldHVybiByZXN0KHNlYXJjaFVybCkudGhlbigocikgPT4gSlNPTi5wYXJzZShyLmVudGl0eSkpXG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgc21hbGxWaWV3cG9ydCA9IHdpbmRvdyAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8IDYwMFxuICAgIGxldCBxdWlsdFByb3BzID0gc21hbGxWaWV3cG9ydCA/IFxuICAgICAge21heFJvd3M6IDEsIG1heFdvcmtzOiA1fSA6XG4gICAgICB7bWF4Um93czogMiwgbWF4V29ya3M6IDl9XG5cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIDxTZWFyY2hcbiAgICAgICAgaGlkZVJlc3VsdHM9e3RydWV9XG4gICAgICAgIGFjdGl2YXRlSW5wdXQ9e3RydWV9XG4gICAgICAgIHF1aWx0UHJvcHM9e3F1aWx0UHJvcHN9XG4gICAgICAgIGZhY2V0PXsnaGlnaGxpZ2h0OnRydWUnfVxuICAgICAgICBzZWFyY2hBbGw9e3RydWV9XG4gICAgICAgIHN1Z2dlc3RTdHlsZT17e21hcmdpbjogXCIxZW0gM2VtXCJ9fVxuICAgICAgICBidW1wU2VhcmNoQm94PXtzbWFsbFZpZXdwb3J0fVxuICAgICAgICBzaHVmZmxlUXVpbHQ9e3RydWV9XG4gICAgICAgIHsuLi50aGlzLnByb3BzfSAvPlxuXG4gICAgICA8ZGl2IGlkPVwibW9yZVwiIGNsYXNzTmFtZT1cIndlbGNvbWUgbWRsLWdyaWRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZGwtY2VsbCBtZGwtY2VsbC0tOS1jb2xcIj5cbiAgICAgICAgICA8cD5cbiAgICAgICAgICAgIHtzbWFsbFZpZXdwb3J0ICYmIDxpbWcgc3JjPVwiL2ltYWdlcy9tb3JlLWljb24uc3ZnXCIgc3R5bGU9e3ttYXhXaWR0aDogJzdlbScsIHBhZGRpbmc6ICcyZW0gMWVtIDAuMjVlbSAxZW0nLCBmbG9hdDogJ3JpZ2h0J319IC8+fVxuICAgICAgICAgICAgVGhlcmUncyBtb3JlIHRvIGV4cGxvcmUuIFVzZSB5b3VyIGRpZ2l0YWwgZGV2aWNlIHRvIHZpc2l0IG1vcmUuYXJ0c21pYS5vcmcgYW5kIGVuam95IGFkZGl0aW9uYWwgbXVsdGltZWRpYSBjb250ZW50IHdoZXJldmVyIHlvdSBzZWUgdGhpcyBzeW1ib2wuXG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxwIGNsYXNzPVwibGFiZWxIZWxwZXJcIiBzdHlsZT17e3Bvc2l0aW9uOiAncmVsYXRpdmUnfX0+VG8gZmluZCBtb3JlLCBzZWFyY2ggZm9yIGFuIGFydHdvcmsgYnkgPFRvbWJzdG9uZVRvb2x0aXA+dGl0bGU8L1RvbWJzdG9uZVRvb2x0aXA+LCA8VG9tYnN0b25lVG9vbHRpcD5hcnRpc3Q8L1RvbWJzdG9uZVRvb2x0aXA+LCBvciA8VG9tYnN0b25lVG9vbHRpcD5hY2Nlc3Npb24gbnVtYmVyPC9Ub21ic3RvbmVUb29sdGlwPi48L3A+XG4gICAgICAgICAge3NtYWxsVmlld3BvcnQgfHwgPHA+PGltZyBzcmM9XCIvaW1hZ2VzL21vcmUtaWNvbi5zdmdcIiBzdHlsZT17e21heFdpZHRoOiAnMTFlbSd9fSAvPjwvcD59XG5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGgyPlBlcnNvbmFsaXplIHlvdXIgTWlhIGV4cGVyaWVuY2Ugd2l0aCBuZXcgd2F5cyB0byBleHBsb3JlIGFydC48L2gyPlxuXG4gICAgICAgICAgICA8aDM+Sm91cm5leXM8L2gzPlxuICAgICAgICAgICAgPHA+VXNlIHRoaXMgbmV3IGFwcCB0byBjcmVhdGUgYSBwZXJzb25hbGl6ZWQgam91cm5leSB0aHJvdWdoIHRoZSBtdXNldW0gb3IgZm9sbG93IHRoZSBzdWdnZXN0aW9ucyBvZiBvdGhlcnMuIEVpdGhlciB3YXksIHdl4oCZbGwgbWFwIGl0IG91dCBmb3IgeW91LiA8YSBocmVmPVwiaHR0cHM6Ly9pdHVuZXMuYXBwbGUuY29tL3VzL2FwcC9taWEtam91cm5leXMvaWQxMDU4OTkzMDA0XCI+RG93bmxvYWQgdGhlIGFwcCBmcmVlIChpT1MpLjwvYT48L3A+XG4gICAgICAgICAgICA8RXhwYW5kYWJsZU5ld0FydHNtaWFDb250ZW50QmxvY2sgcGFnZT1cImpvdXJuZXlzXCIgLz5cblxuICAgICAgICAgICAgPGgzPk92ZXJoZWFyZDwvaDM+XG4gICAgICAgICAgICA8cD5FYXZlc2Ryb3Agb24gdGhlIGNvbnZlcnNhdGlvbnMgb2YgZmljdGlvbmFsIGZlbGxvdyB2aXNpdG9ycyBhcyB0aGV5IHdhbmRlciB0aGUgZ2FsbGVyaWVzLCB1c2luZyB0aGlzIHBsYXlmdWwgbmV3IGF1ZGlvIGFwcC4gPGEgaHJlZj1cImh0dHBzOi8vaXR1bmVzLmFwcGxlLmNvbS91cy9hcHAvb3ZlcmhlYXJkLW1pYS9pZDExMTYzMTk1ODJcIj5Eb3dubG9hZCBpdCBmcmVlIChpT1MpPC9hPi48L3A+XG4gICAgICAgICAgICA8RXhwYW5kYWJsZU5ld0FydHNtaWFDb250ZW50QmxvY2sgcGFnZT1cIm92ZXJoZWFyZFwiIC8+XG5cbiAgICAgICAgICAgIDxoMz5BcnRTdG9yaWVzPC9oMz5cbiAgICAgICAgICAgIDxwPkluLWRlcHRoIG11bHRpbWVkaWEgZXhwbG9yYXRpb25zIG9mIE1pYeKAmXMgaGlnaGxpZ2h0cyBhbmQgaGlkZGVuIGdlbXPigJRmcm9tIGludHJpZ3VpbmcgZGV0YWlscyB0byBzZWNyZXQgYmFja3N0b3JpZXMuIEF2YWlsYWJsZSBvbiBpUGFkcyBpbiB0aGUgZ2FsbGVyaWVzLCBhbmQgb3B0aW1pemVkIGZvciB5b3VyIHNtYXJ0cGhvbmUgb3IgaG9tZSBjb21wdXRlcjogPGEgaHJlZj1cImh0dHBzOi8vYXJ0c3Rvcmllcy5hcnRzbWlhLm9yZ1wiPkFydFN0b3JpZXM8L2E+LjwvcD5cbiAgICAgICAgICAgIDxFeHBhbmRhYmxlTmV3QXJ0c21pYUNvbnRlbnRCbG9jayBwYWdlPVwiYXJ0c3Rvcmllc1wiIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgaWQ9XCJtYXBcIj5cbiAgICAgICAgPE1hcFBhZ2UgaGlkZUxpc3Q9e3RydWV9PlxuICAgICAgICAgIDxMaW5rIHRvPVwibWFwXCIgc3R5bGU9e3t0ZXh0QWxpZ246ICdjZW50ZXInLCBmbG9hdDogJ3JpZ2h0JywgcGFkZGluZ1JpZ2h0OiAnMWVtJ319PlxuICAgICAgICAgICAgQWxsIGdhbGxlcmllc1xuICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgPC9NYXBQYWdlPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IE1vcmVcblxudmFyIEV4cGFuZGFibGVOZXdBcnRzbWlhQ29udGVudEJsb2NrID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAvLyBzdGF0aWNzOiB7XG4gIC8vICAgZmV0Y2hEYXRhOiAocGFyYW1zLCBxdWVyeSkgPT4ge1xuICAvLyAgIH1cbiAgLy8gfSxcbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBleHBhbmRlZDogZmFsc2UsXG4gICAgICBsb2FkZWQ6IGZhbHNlLFxuICAgIH1cbiAgfSxcblxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdGhpcy5sb2FkRXh0ZXJuYWxDb250ZW50KClcbiAgfSxcblxuICBsb2FkRXh0ZXJuYWxDb250ZW50KCkge1xuICAgIHJldHVybiByZXN0KCdodHRwczovL25ldy5hcnRzbWlhLm9yZy93cC1qc29uL3dwL3YyL3BhZ2VzP3NsdWc9Jyt0aGlzLnByb3BzLnBhZ2UpXG4gICAgLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpKVxuICAgIC50aGVuKGpzb24gPT4gdGhpcy5zZXRTdGF0ZSh7bG9hZGVkOiB0cnVlLCBqc29uOiBqc29ufSkpXG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciB7bG9hZGVkLCBleHBhbmRlZCwganNvbn0gPSB0aGlzLnN0YXRlXG4gICAgdmFyIHRvZ2dsZUJ1dHRvbiA9IDxhIGhyZWY9XCIjXCIgb25DbGljaz17dGhpcy50b2dnbGV9PntleHBhbmRlZCA/ICdMZXNzJyA6ICdNb3JlJ30gSW5mbzwvYT5cblxuICAgIHZhciBjb250ZW50ID0gbG9hZGVkICYmIDxkaXY+PE1hcmtkb3duPlxuICAgICAge2pzb25bMF0uYWNmLm1vZHVsZXNbMV0uY29udGVudFswXS50ZXh0fVxuICAgIDwvTWFya2Rvd24+PGhyIC8+PC9kaXY+XG5cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIDxwPnt0b2dnbGVCdXR0b259PC9wPlxuICAgICAge2xvYWRlZCAmJiBleHBhbmRlZCAmJiBjb250ZW50fVxuICAgIDwvZGl2PlxuICB9LFxuXG4gIHRvZ2dsZShldmVudCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe2V4cGFuZGVkOiAhdGhpcy5zdGF0ZS5leHBhbmRlZH0pXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIHJldHVybiBmYWxzZVxuICB9LFxufSlcblxudmFyIFJhbmRvbUFydHdvcmtUb21ic3RvbmUgPSByZXF1aXJlKCcuL3JhbmRvbS1hcnR3b3JrLXRvbWJzdG9uZScpXG52YXIgVG9tYnN0b25lVG9vbHRpcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7ZXhwYW5kZWQsIHRpbWVDbGlja2VkfSA9IHRoaXMuc3RhdGVcblxuICAgIHZhciBzdHlsZXMgPSB7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIGJhY2tncm91bmQ6ICd3aGl0ZScsXG4gICAgICB6SW5kZXg6IDEwMDAsXG4gICAgICB3aWR0aDogJzkwdncnLFxuICAgICAgcGFkZGluZzogJzFlbScsXG4gICAgICBib3JkZXI6ICcxcHggc29saWQgYmxhY2snLFxuICAgICAgbWFyZ2luVG9wOiAnMWVtJyxcbiAgICB9XG5cbiAgICB2YXIgZmllbGRUb0hpZ2hsaWdodCA9IHRoaXMucHJvcHMuY2hpbGRyZW5cblxuICAgIHJldHVybiA8c3BhbiBzdHlsZT17e2Rpc3BsYXk6ICdpbmxpbmUnLCBjdXJzb3I6ICdwb2ludGVyJ319XG4gICAgICBvbk1vdXNlT3Zlcj17dGhpcy50b2dnbGVFeHBhbmRlZC5iaW5kKHRoaXMsIHRydWUpfVxuICAgICAgb25Nb3VzZU91dD17dGhpcy50b2dnbGVFeHBhbmRlZC5iaW5kKHRoaXMsIGZhbHNlKX1cbiAgICAgIG9uQ2xpY2s9e3RoaXMudG9nZ2xlRXhwYW5kZWR9PlxuICAgICAgPGEgb25jbGljaz1cInJldHVybiBmYWxzZVwiPnt0aGlzLnByb3BzLmNoaWxkcmVufTwvYT5cbiAgICAgIHtleHBhbmRlZCAmJiA8ZGl2IHN0eWxlPXtzdHlsZXN9PlxuICAgICAgICA8UmFuZG9tQXJ0d29ya1RvbWJzdG9uZSBmaWVsZFRvSGlnaGxpZ2h0PXtmaWVsZFRvSGlnaGxpZ2h0fSAvPlxuICAgICAgPC9kaXY+fVxuICAgIDwvc3Bhbj5cbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGV4cGFuZGVkOiBmYWxzZSxcbiAgICB9XG4gIH0sXG5cbiAgdG9nZ2xlRXhwYW5kZWQodmFsdWUpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGV4cGFuZGVkOiB2YWx1ZSB8fCAhdGhpcy5zdGF0ZS5leHBhbmRlZCxcbiAgICB9KVxuICB9LFxufSlcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/more.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/more.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\n\nvar toSlug = require('speakingurl')\nvar LazyLoad = require('react-lazy-load')\n\nvar SEARCH = require('./endpoints').search\nvar rest = require('rest')\nvar Search = require('./search')\nvar MapPage = require('./map-page')\nvar Markdown = require('./markdown')\n\n// TODO: de-dupe this and src/home.js\nvar More = React.createClass({\n  statics: {\n    fetchData: {\n      searchResults: (params, query) => {\n        let searchUrl = `${SEARCH}/highlight:true`\n        return rest(searchUrl).then((r) => JSON.parse(r.entity))\n      }\n    }\n  },\n\n  render() {\n    let smallViewport = window && window.innerWidth < 600\n    let quiltProps = smallViewport ? \n      {maxRows: 1, maxWorks: 5} :\n      {maxRows: 2, maxWorks: 9}\n\n    return <div>\n      <Search\n        hideResults={true}\n        activateInput={true}\n        quiltProps={quiltProps}\n        facet={'highlight:true'}\n        searchAll={true}\n        suggestStyle={{margin: \"1em 3em\"}}\n        bumpSearchBox={smallViewport}\n        shuffleQuilt={true}\n        {...this.props} />\n\n      <div id=\"more\" className=\"welcome mdl-grid\">\n        <div className=\"mdl-cell mdl-cell--9-col\">\n          <p>\n            {smallViewport && <img src=\"/images/more-icon.svg\" style={{maxWidth: '7em', padding: '2em 1em 0.25em 1em', float: 'right'}} />}\n            There's more to explore. Use your digital device to visit more.artsmia.org and enjoy additional multimedia content wherever you see this symbol.\n          </p>\n          <p class=\"labelHelper\" style={{position: 'relative'}}>To find more, search for an artwork by <TombstoneTooltip>title</TombstoneTooltip>, <TombstoneTooltip>artist</TombstoneTooltip>, or <TombstoneTooltip>accession number</TombstoneTooltip>.</p>\n          {smallViewport || <p><img src=\"/images/more-icon.svg\" style={{maxWidth: '11em'}} /></p>}\n\n          <div>\n            <h2>Personalize your Mia experience with new ways to explore art.</h2>\n\n            <h3>Journeys</h3>\n            <p>Use this new app to create a personalized journey through the museum or follow the suggestions of others. Either way, we’ll map it out for you. <a href=\"https://itunes.apple.com/us/app/mia-journeys/id1058993004\">Download the app free (iOS).</a></p>\n            <ExpandableNewArtsmiaContentBlock page=\"journeys\" />\n\n            <h3>Overheard</h3>\n            <p>Eavesdrop on the conversations of fictional fellow visitors as they wander the galleries, using this playful new audio app. <a href=\"https://itunes.apple.com/us/app/overheard-mia/id1116319582\">Download it free (iOS)</a>.</p>\n            <ExpandableNewArtsmiaContentBlock page=\"overheard\" />\n\n            <h3>ArtStories</h3>\n            <p>In-depth multimedia explorations of Mia’s highlights and hidden gems—from intriguing details to secret backstories. Available on iPads in the galleries, and optimized for your smartphone or home computer: <a href=\"https://artstories.artsmia.org\">ArtStories</a>.</p>\n            <ExpandableNewArtsmiaContentBlock page=\"artstories\" />\n          </div>\n        </div>\n      </div>\n\n      <div id=\"map\">\n        <MapPage hideList={true}>\n          <Link to=\"map\" style={{textAlign: 'center', float: 'right', paddingRight: '1em'}}>\n            All galleries\n          </Link>\n        </MapPage>\n      </div>\n    </div>\n  },\n})\n\nmodule.exports = More\n\nvar ExpandableNewArtsmiaContentBlock = React.createClass({\n  // statics: {\n  //   fetchData: (params, query) => {\n  //   }\n  // },\n  getInitialState() {\n    return {\n      expanded: false,\n      loaded: false,\n    }\n  },\n\n  componentWillMount() {\n    this.loadExternalContent()\n  },\n\n  loadExternalContent() {\n    return rest('https://new.artsmia.org/wp-json/wp/v2/pages?slug='+this.props.page)\n    .then((r) => JSON.parse(r.entity))\n    .then(json => this.setState({loaded: true, json: json}))\n  },\n\n  render() {\n    var {loaded, expanded, json} = this.state\n    var toggleButton = <a href=\"#\" onClick={this.toggle}>{expanded ? 'Less' : 'More'} Info</a>\n\n    var content = loaded && <div><Markdown>\n      {json[0].acf.modules[1].content[0].text}\n    </Markdown><hr /></div>\n\n    return <div>\n      <p>{toggleButton}</p>\n      {loaded && expanded && content}\n    </div>\n  },\n\n  toggle(event) {\n    this.setState({expanded: !this.state.expanded})\n    event.preventDefault()\n    return false\n  },\n})\n\nvar RandomArtworkTombstone = require('./random-artwork-tombstone')\nvar TombstoneTooltip = React.createClass({\n  render() {\n    var {expanded, timeClicked} = this.state\n\n    var styles = {\n      position: 'absolute',\n      background: 'white',\n      zIndex: 1000,\n      width: '90vw',\n      padding: '1em',\n      border: '1px solid black',\n      marginTop: '1em',\n    }\n\n    var fieldToHighlight = this.props.children\n\n    return <span style={{display: 'inline', cursor: 'pointer'}}\n      onMouseOver={this.toggleExpanded.bind(this, true)}\n      onMouseOut={this.toggleExpanded.bind(this, false)}\n      onClick={this.toggleExpanded}>\n      <a onclick=\"return false\">{this.props.children}</a>\n      {expanded && <div style={styles}>\n        <RandomArtworkTombstone fieldToHighlight={fieldToHighlight} />\n      </div>}\n    </span>\n  },\n\n  getInitialState() {\n    return {\n      expanded: false,\n    }\n  },\n\n  toggleExpanded(value) {\n    this.setState({\n      expanded: value || !this.state.expanded,\n    })\n  },\n})\n"
      ]
    },
    "mtime": 1485807805246
  },
  "{\"filename\":\"/var/www/art/src/random-artwork-tombstone.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar rest = require('rest');\n\nvar Artwork = require('./_artwork');\nvar ArtworkPreview = require('./artwork-preview');\nvar SEARCH = require('./endpoints').search;\n\nmodule.exports = React.createClass({\n  displayName: 'exports',\n\n  render: function render() {\n    var art = this.state.art;\n    var fieldToHighlight = this.props.fieldToHighlight;\n\n    var highlight = function highlight(children, _highlight) {\n      return _highlight ? React.createElement(\n        'span',\n        { style: { color: 'red', fontWeight: 'bold', borderBottom: '1px solid black !important' } },\n        children\n      ) : children;\n    };\n\n    // and check on mobile = does touch work?\n    var rawTitle = React.createElement(Artwork.Title, { art: art, link: false });\n    var rawArtist = React.createElement(Artwork.Creator, { art: art });\n\n    return art && React.createElement(\n      'div',\n      { key: fieldToHighlight },\n      highlight(rawTitle, fieldToHighlight == 'title'),\n      highlight(rawArtist, fieldToHighlight == 'artist'),\n      React.createElement(Artwork.Tombstone, { art: art,\n        highlightAccessionNumber: fieldToHighlight == 'accession number',\n        highlighter: highlight })\n    );\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      art: null\n    };\n  },\n\n  componentDidMount: function componentDidMount() {\n    var _this = this;\n\n    rest(SEARCH + '/random/art').then(function (data) {\n      return _this.setState({ art: JSON.parse(data.entity) });\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvcmFuZG9tLWFydHdvcmstdG9tYnN0b25lLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtJQUMvQixJQUFJLEdBQUksTUFBTSxDQUFkLElBQUk7O0FBQ1QsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFBOztBQUUxQixJQUFJLE9BQU8sR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7QUFDbkMsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7QUFDakQsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLE1BQU0sQ0FBQTs7QUFFMUMsTUFBTSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDakMsUUFBTSxFQUFBLGtCQUFHO1FBQ0YsR0FBRyxHQUFJLElBQUksQ0FBQyxLQUFLLENBQWpCLEdBQUc7UUFDSCxnQkFBZ0IsR0FBSSxJQUFJLENBQUMsS0FBSyxDQUE5QixnQkFBZ0I7O0FBQ3JCLFFBQUksU0FBUyxHQUFHLG1CQUFDLFFBQVEsRUFBRSxVQUFTO2FBQUssVUFBUyxHQUFHOztVQUFNLEtBQUssRUFBRSxFQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsNEJBQTRCLEVBQUMsQUFBQztRQUM5SSxRQUFRO09BQ0osR0FBRyxRQUFRO0tBQUEsQ0FBQTs7O0FBR2xCLFFBQUksUUFBUSxHQUFHLG9CQUFDLE9BQU8sQ0FBQyxLQUFLLElBQUMsR0FBRyxFQUFFLEdBQUcsQUFBQyxFQUFDLElBQUksRUFBRSxLQUFLLEFBQUMsR0FBRyxDQUFBO0FBQ3ZELFFBQUksU0FBUyxHQUFHLG9CQUFDLE9BQU8sQ0FBQyxPQUFPLElBQUMsR0FBRyxFQUFFLEdBQUcsQUFBQyxHQUFHLENBQUE7O0FBRTdDLFdBQU8sR0FBRyxJQUFJOztRQUFLLEdBQUcsRUFBRSxnQkFBZ0IsQUFBQztNQUN0QyxTQUFTLENBQUMsUUFBUSxFQUFFLGdCQUFnQixJQUFJLE9BQU8sQ0FBQztNQUNoRCxTQUFTLENBQUMsU0FBUyxFQUFFLGdCQUFnQixJQUFJLFFBQVEsQ0FBQztNQUNuRCxvQkFBQyxPQUFPLENBQUMsU0FBUyxJQUFDLEdBQUcsRUFBRSxHQUFHLEFBQUM7QUFDMUIsZ0NBQXdCLEVBQUUsZ0JBQWdCLElBQUksa0JBQWtCLEFBQUM7QUFDakUsbUJBQVcsRUFBRSxTQUFTLEFBQUMsR0FBRztLQUN4QixDQUFBO0dBQ1A7O0FBRUQsaUJBQWUsRUFBQSwyQkFBRztBQUNoQixXQUFPO0FBQ0wsU0FBRyxFQUFFLElBQUk7S0FDVixDQUFBO0dBQ0Y7O0FBRUQsbUJBQWlCLEVBQUEsNkJBQUc7OztBQUNsQixRQUFJLENBQUksTUFBTSxpQkFBYyxDQUMzQixJQUFJLENBQUMsVUFBQSxJQUFJO2FBQUksTUFBSyxRQUFRLENBQUMsRUFBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQztLQUFBLENBQUMsQ0FBQTtHQUM3RDtDQUNGLENBQUMsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL3JhbmRvbS1hcnR3b3JrLXRvbWJzdG9uZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHtMaW5rfSA9IFJvdXRlclxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcblxudmFyIEFydHdvcmsgPSByZXF1aXJlKCcuL19hcnR3b3JrJylcbnZhciBBcnR3b3JrUHJldmlldyA9IHJlcXVpcmUoJy4vYXJ0d29yay1wcmV2aWV3JylcbnZhciBTRUFSQ0ggPSByZXF1aXJlKCcuL2VuZHBvaW50cycpLnNlYXJjaFxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7YXJ0fSA9IHRoaXMuc3RhdGVcbiAgICB2YXIge2ZpZWxkVG9IaWdobGlnaHR9ID0gdGhpcy5wcm9wc1xuICAgIHZhciBoaWdobGlnaHQgPSAoY2hpbGRyZW4sIGhpZ2hsaWdodCkgPT4gaGlnaGxpZ2h0ID8gPHNwYW4gc3R5bGU9e3tjb2xvcjogJ3JlZCcsIGZvbnRXZWlnaHQ6ICdib2xkJywgYm9yZGVyQm90dG9tOiAnMXB4IHNvbGlkIGJsYWNrICFpbXBvcnRhbnQnfX0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9zcGFuPiA6IGNoaWxkcmVuXG5cbiAgICAvLyBhbmQgY2hlY2sgb24gbW9iaWxlID0gZG9lcyB0b3VjaCB3b3JrP1xuICAgIHZhciByYXdUaXRsZSA9IDxBcnR3b3JrLlRpdGxlIGFydD17YXJ0fSBsaW5rPXtmYWxzZX0gLz5cbiAgICB2YXIgcmF3QXJ0aXN0ID0gPEFydHdvcmsuQ3JlYXRvciBhcnQ9e2FydH0gLz5cblxuICAgIHJldHVybiBhcnQgJiYgPGRpdiBrZXk9e2ZpZWxkVG9IaWdobGlnaHR9PlxuICAgICAge2hpZ2hsaWdodChyYXdUaXRsZSwgZmllbGRUb0hpZ2hsaWdodCA9PSAndGl0bGUnKX1cbiAgICAgIHtoaWdobGlnaHQocmF3QXJ0aXN0LCBmaWVsZFRvSGlnaGxpZ2h0ID09ICdhcnRpc3QnKX1cbiAgICAgIDxBcnR3b3JrLlRvbWJzdG9uZSBhcnQ9e2FydH1cbiAgICAgICAgaGlnaGxpZ2h0QWNjZXNzaW9uTnVtYmVyPXtmaWVsZFRvSGlnaGxpZ2h0ID09ICdhY2Nlc3Npb24gbnVtYmVyJ31cbiAgICAgICAgaGlnaGxpZ2h0ZXI9e2hpZ2hsaWdodH0gLz5cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFydDogbnVsbCxcbiAgICB9XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgcmVzdChgJHtTRUFSQ0h9L3JhbmRvbS9hcnRgKVxuICAgIC50aGVuKGRhdGEgPT4gdGhpcy5zZXRTdGF0ZSh7YXJ0OiBKU09OLnBhcnNlKGRhdGEuZW50aXR5KX0pKVxuICB9LFxufSlcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/random-artwork-tombstone.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;IAC/B,IAAI,GAAI,MAAM,CAAd,IAAI;;AACT,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;;AAE1B,IAAI,OAAO,GAAG,OAAO,CAAC,YAAY,CAAC,CAAA;AACnC,IAAI,cAAc,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAA;AACjD,IAAI,MAAM,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC,MAAM,CAAA;;AAE1C,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACjC,QAAM,EAAA,kBAAG;QACF,GAAG,GAAI,IAAI,CAAC,KAAK,CAAjB,GAAG;QACH,gBAAgB,GAAI,IAAI,CAAC,KAAK,CAA9B,gBAAgB;;AACrB,QAAI,SAAS,GAAG,mBAAC,QAAQ,EAAE,UAAS;aAAK,UAAS,GAAG;;UAAM,KAAK,EAAE,EAAC,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,MAAM,EAAE,YAAY,EAAE,4BAA4B,EAAC,AAAC;QAC9I,QAAQ;OACJ,GAAG,QAAQ;KAAA,CAAA;;;AAGlB,QAAI,QAAQ,GAAG,oBAAC,OAAO,CAAC,KAAK,IAAC,GAAG,EAAE,GAAG,AAAC,EAAC,IAAI,EAAE,KAAK,AAAC,GAAG,CAAA;AACvD,QAAI,SAAS,GAAG,oBAAC,OAAO,CAAC,OAAO,IAAC,GAAG,EAAE,GAAG,AAAC,GAAG,CAAA;;AAE7C,WAAO,GAAG,IAAI;;QAAK,GAAG,EAAE,gBAAgB,AAAC;MACtC,SAAS,CAAC,QAAQ,EAAE,gBAAgB,IAAI,OAAO,CAAC;MAChD,SAAS,CAAC,SAAS,EAAE,gBAAgB,IAAI,QAAQ,CAAC;MACnD,oBAAC,OAAO,CAAC,SAAS,IAAC,GAAG,EAAE,GAAG,AAAC;AAC1B,gCAAwB,EAAE,gBAAgB,IAAI,kBAAkB,AAAC;AACjE,mBAAW,EAAE,SAAS,AAAC,GAAG;KACxB,CAAA;GACP;;AAED,iBAAe,EAAA,2BAAG;AAChB,WAAO;AACL,SAAG,EAAE,IAAI;KACV,CAAA;GACF;;AAED,mBAAiB,EAAA,6BAAG;;;AAClB,QAAI,CAAI,MAAM,iBAAc,CAC3B,IAAI,CAAC,UAAA,IAAI;aAAI,MAAK,QAAQ,CAAC,EAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,EAAC,CAAC;KAAA,CAAC,CAAA;GAC7D;CACF,CAAC,CAAA",
      "file": "/var/www/art/src/random-artwork-tombstone.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\nvar rest = require('rest')\n\nvar Artwork = require('./_artwork')\nvar ArtworkPreview = require('./artwork-preview')\nvar SEARCH = require('./endpoints').search\n\nmodule.exports = React.createClass({\n  render() {\n    var {art} = this.state\n    var {fieldToHighlight} = this.props\n    var highlight = (children, highlight) => highlight ? <span style={{color: 'red', fontWeight: 'bold', borderBottom: '1px solid black !important'}}>\n      {children}\n    </span> : children\n\n    // and check on mobile = does touch work?\n    var rawTitle = <Artwork.Title art={art} link={false} />\n    var rawArtist = <Artwork.Creator art={art} />\n\n    return art && <div key={fieldToHighlight}>\n      {highlight(rawTitle, fieldToHighlight == 'title')}\n      {highlight(rawArtist, fieldToHighlight == 'artist')}\n      <Artwork.Tombstone art={art}\n        highlightAccessionNumber={fieldToHighlight == 'accession number'}\n        highlighter={highlight} />\n    </div>\n  },\n\n  getInitialState() {\n    return {\n      art: null,\n    }\n  },\n\n  componentDidMount() {\n    rest(`${SEARCH}/random/art`)\n    .then(data => this.setState({art: JSON.parse(data.entity)}))\n  },\n})\n"
      ]
    },
    "mtime": 1466630779302
  },
  "{\"filename\":\"/var/www/art/src/exhibition.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar rest = require('rest');\nvar Helmet = require('react-helmet');\n\nvar Search = require('./search');\nvar endpoints = require('./endpoints');\nvar SEARCH = endpoints.search;\nvar toSlug = require('speakingurl');\nvar Markdown = require('./markdown');\n\nvar Exhibition = React.createClass({\n  displayName: 'Exhibition',\n\n  mixins: [Router.State],\n  statics: {\n    fetchData: {\n      exhibition: function exhibition(params) {\n        var id = params.id;\n\n        return rest(endpoints.exhibition(id)).then(function (r) {\n          return JSON.parse(r.entity);\n        }).then(function (exh) {\n          exh.slug = toSlug(exh.exhibition_title);\n          return exh;\n        });\n      },\n\n      searchResults: function searchResults(params, query) {\n        return Exhibition.fetchData.exhibition(params).then(function (exhibition) {\n          var searchUrl = SEARCH + '/ids/' + exhibition.objects.join(',');\n          return rest(searchUrl).then(function (r) {\n            return JSON.parse(r.entity);\n          });\n        });\n      }\n    },\n\n    willTransitionTo: function willTransitionTo(transition, params, query, callback) {\n      Exhibition.fetchData.exhibition(params).then(function (exhibition) {\n        if (exhibition.slug !== params.slug) {\n          params.slug = exhibition.slug;\n          transition.redirect('exhibitionSlug', params);\n        }\n      })['catch'](function (err) {\n        return transition.redirect('home');\n      }).then(callback);\n    }\n  },\n\n  render: function render() {\n    var exhibition = this.props.data.exhibition;\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        Search,\n        _extends({}, this.props, {\n          disableHover: true // TODO: fix :hover going to the search results page\n        }),\n        React.createElement(\n          'div',\n          { style: { margin: '0.5em 3em 2em', maxWidth: '37em' } },\n          React.createElement(\n            'h2',\n            null,\n            exhibition.exhibition_title\n          ),\n          React.createElement(\n            'p',\n            { style: { margin: '-1em 0 0.5em 0' } },\n            exhibition.display_date\n          ),\n          React.createElement(\n            Markdown,\n            null,\n            exhibition.exhibition_description\n          )\n        ),\n        React.createElement('hr', null)\n      ),\n      React.createElement(Helmet, {\n        title: 'Exhibition: ' + exhibition.exhibition_title,\n        meta: [{ property: \"og:title\", content: exhibition.exhibition_title + ' ^ Minneapolis Institute of Art' }, { property: \"og:description\", content: 'An exhibition at the Minneapolis Institute of Art. ' + exhibition.display_date }]\n      })\n    );\n  }\n});\n\nmodule.exports = Exhibition;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZXhoaWJpdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtBQUNwQyxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUE7QUFDMUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBOztBQUVwQyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUE7QUFDaEMsSUFBSSxTQUFTLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBO0FBQ3RDLElBQUksTUFBTSxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUE7QUFDN0IsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBO0FBQ25DLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTs7QUFFcEMsSUFBSSxVQUFVLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ2pDLFFBQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7QUFDdEIsU0FBTyxFQUFFO0FBQ1AsYUFBUyxFQUFFO0FBQ1QsZ0JBQVUsRUFBRSxvQkFBQyxNQUFNLEVBQUs7WUFDakIsRUFBRSxHQUFJLE1BQU0sQ0FBWixFQUFFOztBQUNQLGVBQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FDcEMsSUFBSSxDQUFDLFVBQUMsQ0FBQztpQkFBSyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7U0FBQSxDQUFDLENBQ2pDLElBQUksQ0FBQyxVQUFBLEdBQUcsRUFBSTtBQUNYLGFBQUcsQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFBO0FBQ3ZDLGlCQUFPLEdBQUcsQ0FBQTtTQUNYLENBQUMsQ0FBQTtPQUNIOztBQUVELG1CQUFhLEVBQUUsdUJBQUMsTUFBTSxFQUFFLEtBQUssRUFBSztBQUNoQyxlQUFPLFVBQVUsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFBLFVBQVUsRUFBSTtBQUNoRSxjQUFJLFNBQVMsR0FBTSxNQUFNLGFBQVEsVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEFBQUUsQ0FBQTtBQUMvRCxpQkFBTyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsQ0FBQzttQkFBSyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7V0FBQSxDQUFDLENBQUE7U0FDekQsQ0FBQyxDQUFBO09BQ0g7S0FDRjs7QUFFRCxvQkFBZ0IsRUFBRSwwQkFBVSxVQUFVLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUU7QUFDL0QsZ0JBQVUsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFBLFVBQVUsRUFBSTtBQUN6RCxZQUFHLFVBQVUsQ0FBQyxJQUFJLEtBQUssTUFBTSxDQUFDLElBQUksRUFBRTtBQUNsQyxnQkFBTSxDQUFDLElBQUksR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFBO0FBQzdCLG9CQUFVLENBQUMsUUFBUSxDQUFDLGdCQUFnQixFQUFFLE1BQU0sQ0FBQyxDQUFBO1NBQzlDO09BQ0YsQ0FBQyxTQUNJLENBQUMsVUFBQSxHQUFHO2VBQUksVUFBVSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUM7T0FBQSxDQUFDLENBQ3pDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQTtLQUNoQjtHQUNGOztBQUVELFFBQU0sRUFBQSxrQkFBRztRQUNGLFVBQVUsR0FBSSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBN0IsVUFBVTs7QUFFZixXQUFPOzs7TUFDTDtBQUFDLGNBQU07cUJBQ0QsSUFBSSxDQUFDLEtBQUs7QUFDZCxzQkFBWSxFQUFFLElBQUksQUFBQzs7UUFFbkI7O1lBQUssS0FBSyxFQUFFLEVBQUMsTUFBTSxFQUFFLGVBQWUsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFDLEFBQUM7VUFDdEQ7OztZQUFLLFVBQVUsQ0FBQyxnQkFBZ0I7V0FBTTtVQUN0Qzs7Y0FBRyxLQUFLLEVBQUUsRUFBQyxNQUFNLEVBQUUsZ0JBQWdCLEVBQUMsQUFBQztZQUFFLFVBQVUsQ0FBQyxZQUFZO1dBQUs7VUFDbkU7QUFBQyxvQkFBUTs7WUFBRSxVQUFVLENBQUMsc0JBQXNCO1dBQVk7U0FDcEQ7UUFDTiwrQkFBTTtPQUNDO01BQ1Qsb0JBQUMsTUFBTTtBQUNMLGFBQUssbUJBQWlCLFVBQVUsQ0FBQyxnQkFBZ0IsQUFBRztBQUNwRCxZQUFJLEVBQUUsQ0FDSixFQUFDLFFBQVEsRUFBRSxVQUFVLEVBQUUsT0FBTyxFQUFFLFVBQVUsQ0FBQyxnQkFBZ0IsR0FBRyxpQ0FBaUMsRUFBQyxFQUNoRyxFQUFDLFFBQVEsRUFBRSxnQkFBZ0IsRUFBRSxPQUFPLDBEQUF3RCxVQUFVLENBQUMsWUFBWSxBQUFFLEVBQUMsQ0FDdkgsQUFBQztRQUNGO0tBQ0UsQ0FBQTtHQUNQO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvZXhoaWJpdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxuXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zZWFyY2gnKVxudmFyIGVuZHBvaW50cyA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJylcbnZhciBTRUFSQ0ggPSBlbmRwb2ludHMuc2VhcmNoXG52YXIgdG9TbHVnID0gcmVxdWlyZSgnc3BlYWtpbmd1cmwnKVxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi9tYXJrZG93bicpXG5cbnZhciBFeGhpYml0aW9uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBtaXhpbnM6IFtSb3V0ZXIuU3RhdGVdLFxuICBzdGF0aWNzOiB7XG4gICAgZmV0Y2hEYXRhOiB7XG4gICAgICBleGhpYml0aW9uOiAocGFyYW1zKSA9PiB7XG4gICAgICAgIHZhciB7aWR9ID0gcGFyYW1zXG4gICAgICAgIHJldHVybiByZXN0KGVuZHBvaW50cy5leGhpYml0aW9uKGlkKSlcbiAgICAgICAgLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpKVxuICAgICAgICAudGhlbihleGggPT4ge1xuICAgICAgICAgIGV4aC5zbHVnID0gdG9TbHVnKGV4aC5leGhpYml0aW9uX3RpdGxlKVxuICAgICAgICAgIHJldHVybiBleGhcbiAgICAgICAgfSlcbiAgICAgIH0sXG5cbiAgICAgIHNlYXJjaFJlc3VsdHM6IChwYXJhbXMsIHF1ZXJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBFeGhpYml0aW9uLmZldGNoRGF0YS5leGhpYml0aW9uKHBhcmFtcykudGhlbihleGhpYml0aW9uID0+IHtcbiAgICAgICAgICB2YXIgc2VhcmNoVXJsID0gYCR7U0VBUkNIfS9pZHMvJHtleGhpYml0aW9uLm9iamVjdHMuam9pbignLCcpfWBcbiAgICAgICAgICByZXR1cm4gcmVzdChzZWFyY2hVcmwpLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpKVxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICB9LFxuXG4gICAgd2lsbFRyYW5zaXRpb25UbzogZnVuY3Rpb24gKHRyYW5zaXRpb24sIHBhcmFtcywgcXVlcnksIGNhbGxiYWNrKSB7XG4gICAgICBFeGhpYml0aW9uLmZldGNoRGF0YS5leGhpYml0aW9uKHBhcmFtcykudGhlbihleGhpYml0aW9uID0+IHtcbiAgICAgICAgaWYoZXhoaWJpdGlvbi5zbHVnICE9PSBwYXJhbXMuc2x1Zykge1xuICAgICAgICAgIHBhcmFtcy5zbHVnID0gZXhoaWJpdGlvbi5zbHVnXG4gICAgICAgICAgdHJhbnNpdGlvbi5yZWRpcmVjdCgnZXhoaWJpdGlvblNsdWcnLCBwYXJhbXMpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyID0+IHRyYW5zaXRpb24ucmVkaXJlY3QoJ2hvbWUnKSlcbiAgICAgIC50aGVuKGNhbGxiYWNrKVxuICAgIH0sXG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciB7ZXhoaWJpdGlvbn0gPSB0aGlzLnByb3BzLmRhdGFcblxuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPFNlYXJjaFxuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgZGlzYWJsZUhvdmVyPXt0cnVlfSAvLyBUT0RPOiBmaXggOmhvdmVyIGdvaW5nIHRvIHRoZSBzZWFyY2ggcmVzdWx0cyBwYWdlXG4gICAgICA+XG4gICAgICAgIDxkaXYgc3R5bGU9e3ttYXJnaW46ICcwLjVlbSAzZW0gMmVtJywgbWF4V2lkdGg6ICczN2VtJ319PlxuICAgICAgICAgIDxoMj57ZXhoaWJpdGlvbi5leGhpYml0aW9uX3RpdGxlfTwvaDI+XG4gICAgICAgICAgPHAgc3R5bGU9e3ttYXJnaW46ICctMWVtIDAgMC41ZW0gMCd9fT57ZXhoaWJpdGlvbi5kaXNwbGF5X2RhdGV9PC9wPlxuICAgICAgICAgIDxNYXJrZG93bj57ZXhoaWJpdGlvbi5leGhpYml0aW9uX2Rlc2NyaXB0aW9ufTwvTWFya2Rvd24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8aHIgLz5cbiAgICAgIDwvU2VhcmNoPlxuICAgICAgPEhlbG1ldFxuICAgICAgICB0aXRsZT17YEV4aGliaXRpb246ICR7ZXhoaWJpdGlvbi5leGhpYml0aW9uX3RpdGxlfWB9XG4gICAgICAgIG1ldGE9e1tcbiAgICAgICAgICB7cHJvcGVydHk6IFwib2c6dGl0bGVcIiwgY29udGVudDogZXhoaWJpdGlvbi5leGhpYml0aW9uX3RpdGxlICsgJyBeIE1pbm5lYXBvbGlzIEluc3RpdHV0ZSBvZiBBcnQnfSxcbiAgICAgICAgICB7cHJvcGVydHk6IFwib2c6ZGVzY3JpcHRpb25cIiwgY29udGVudDogYEFuIGV4aGliaXRpb24gYXQgdGhlIE1pbm5lYXBvbGlzIEluc3RpdHV0ZSBvZiBBcnQuICR7ZXhoaWJpdGlvbi5kaXNwbGF5X2RhdGV9YH0sXG4gICAgICAgIF19XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBFeGhpYml0aW9uXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/exhibition.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/exhibition.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar rest = require('rest')\nvar Helmet = require('react-helmet')\n\nvar Search = require('./search')\nvar endpoints = require('./endpoints')\nvar SEARCH = endpoints.search\nvar toSlug = require('speakingurl')\nvar Markdown = require('./markdown')\n\nvar Exhibition = React.createClass({\n  mixins: [Router.State],\n  statics: {\n    fetchData: {\n      exhibition: (params) => {\n        var {id} = params\n        return rest(endpoints.exhibition(id))\n        .then((r) => JSON.parse(r.entity))\n        .then(exh => {\n          exh.slug = toSlug(exh.exhibition_title)\n          return exh\n        })\n      },\n\n      searchResults: (params, query) => {\n        return Exhibition.fetchData.exhibition(params).then(exhibition => {\n          var searchUrl = `${SEARCH}/ids/${exhibition.objects.join(',')}`\n          return rest(searchUrl).then((r) => JSON.parse(r.entity))\n        })\n      },\n    },\n\n    willTransitionTo: function (transition, params, query, callback) {\n      Exhibition.fetchData.exhibition(params).then(exhibition => {\n        if(exhibition.slug !== params.slug) {\n          params.slug = exhibition.slug\n          transition.redirect('exhibitionSlug', params)\n        }\n      })\n      .catch(err => transition.redirect('home'))\n      .then(callback)\n    },\n  },\n\n  render() {\n    var {exhibition} = this.props.data\n\n    return <div>\n      <Search\n        {...this.props}\n        disableHover={true} // TODO: fix :hover going to the search results page\n      >\n        <div style={{margin: '0.5em 3em 2em', maxWidth: '37em'}}>\n          <h2>{exhibition.exhibition_title}</h2>\n          <p style={{margin: '-1em 0 0.5em 0'}}>{exhibition.display_date}</p>\n          <Markdown>{exhibition.exhibition_description}</Markdown>\n        </div>\n        <hr />\n      </Search>\n      <Helmet\n        title={`Exhibition: ${exhibition.exhibition_title}`}\n        meta={[\n          {property: \"og:title\", content: exhibition.exhibition_title + ' ^ Minneapolis Institute of Art'},\n          {property: \"og:description\", content: `An exhibition at the Minneapolis Institute of Art. ${exhibition.display_date}`},\n        ]}\n      />\n    </div>\n  },\n})\n\nmodule.exports = Exhibition\n"
      ]
    },
    "mtime": 1481821196786
  },
  "{\"filename\":\"/var/www/art/src/artwork/creator.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "sliced-to-array",
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar React = require('react');\n\nvar highlighter = require('../highlighter');\nvar Markdown = require('../markdown');\n\nvar Creator = React.createClass({\n  displayName: 'Creator',\n\n  render: function render() {\n    var Peek = require('../peek'); // required here to avoid circular react dependency - yikes!\n    var Wrapper = this.props.wrapper || \"h5\";\n\n    var _Creator$getFacetAndValue = Creator.getFacetAndValue(this.props.art, this.props.highlights);\n\n    var _Creator$getFacetAndValue2 = _slicedToArray(_Creator$getFacetAndValue, 3);\n\n    var facet = _Creator$getFacetAndValue2[0];\n    var value = _Creator$getFacetAndValue2[1];\n    var highlightedValue = _Creator$getFacetAndValue2[2];\n\n    var creatorPeek = (facet == 'artist' || facet == 'culture') && React.createElement(\n      Peek,\n      _extends({ microdata: true, facet: facet }, { highlightedValue: highlightedValue }),\n      value\n    ) || facet == 'country' && React.createElement(\n      'span',\n      null,\n      'Unknown artist, ',\n      React.createElement(\n        Peek,\n        _extends({ microdata: true, facet: 'country', tag: 'span', showIcon: this.props.showIcon }, { highlightedValue: highlightedValue }),\n        value\n      )\n    );\n\n    return React.createElement(\n      Wrapper,\n      { itemProp: 'creator', itemScope: true, itemType: 'https://schema.org/Person' },\n      this.props.peek ? creatorPeek : highlightedValue ? React.createElement(\n        Markdown,\n        null,\n        highlightedValue\n      ) : value\n    );\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return { peek: true };\n  }\n});\nCreator.getFacetAndValue = function (art, highlights) {\n  var artist = art.artist;\n  var culture = art.culture;\n  var country = art.country;\n\n  var highlight = highlighter.bind(null, art, highlights);\n\n  return !(artist == '' || artist.match(/^unknown/i)) && ['artist', art.artist.replace(/^([^;]+):/, ''), highlight('artist').replace(/^([^;]+):/, '')] || !!culture && ['culture', art.culture.replace(/ culture/i, ''), highlight('culture').replace(/ culture/i, '')] || !!country && ['country', art.country, highlight('country')] || [undefined, undefined];\n};\n\nmodule.exports = Creator;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYXJ0d29yay9jcmVhdG9yLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTs7QUFFNUIsSUFBSSxXQUFXLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUE7QUFDM0MsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBOztBQUVyQyxJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDOUIsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsUUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFBO0FBQzdCLFFBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQTs7b0NBQ0QsT0FBTyxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDOzs7O1FBQWpHLEtBQUs7UUFBRSxLQUFLO1FBQUUsZ0JBQWdCOztBQUNuQyxRQUFJLFdBQVcsR0FBRyxDQUFDLEtBQUssSUFBSSxRQUFRLElBQUksS0FBSyxJQUFJLFNBQVMsQ0FBQSxJQUNyRDtBQUFDLFVBQUk7aUJBQUMsU0FBUyxFQUFFLElBQUksQUFBQyxFQUFDLEtBQUssRUFBRSxLQUFLLEFBQUMsSUFBSyxFQUFDLGdCQUFnQixFQUFoQixnQkFBZ0IsRUFBQztNQUFHLEtBQUs7S0FBUSxJQUMzRSxLQUFLLElBQUksU0FBUyxJQUNsQjs7OztNQUFzQjtBQUFDLFlBQUk7bUJBQUMsU0FBUyxFQUFFLElBQUksQUFBQyxFQUFDLEtBQUssRUFBQyxTQUFTLEVBQUMsR0FBRyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEFBQUMsSUFBSyxFQUFDLGdCQUFnQixFQUFoQixnQkFBZ0IsRUFBQztRQUFHLEtBQUs7T0FBUTtLQUFPLENBQUE7O0FBRXpKLFdBQU87QUFBQyxhQUFPO1FBQUMsUUFBUSxFQUFDLFNBQVMsRUFBQyxTQUFTLE1BQUEsRUFBQyxRQUFRLEVBQUMsMkJBQTJCO01BQzlFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLFdBQVcsR0FBSSxnQkFBZ0IsR0FBRztBQUFDLGdCQUFROztRQUFFLGdCQUFnQjtPQUFZLEdBQUcsS0FBSyxBQUFDO0tBQzdGLENBQUE7R0FDWDs7QUFFRCxpQkFBZSxFQUFBLDJCQUFHO0FBQ2hCLFdBQU8sRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFDLENBQUE7R0FDcEI7Q0FDRixDQUFDLENBQUE7QUFDRixPQUFPLENBQUMsZ0JBQWdCLEdBQUcsVUFBQyxHQUFHLEVBQUUsVUFBVSxFQUFLO01BQ3pDLE1BQU0sR0FBc0IsR0FBRyxDQUEvQixNQUFNO01BQUUsT0FBTyxHQUFhLEdBQUcsQ0FBdkIsT0FBTztNQUFFLE9BQU8sR0FBSSxHQUFHLENBQWQsT0FBTzs7QUFDN0IsTUFBSSxTQUFTLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFBOztBQUV2RCxTQUFPLEVBQUUsTUFBTSxJQUFJLEVBQUUsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFBLEFBQUMsSUFDakQsQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQzVGLENBQUMsQ0FBQyxPQUFPLElBQ1AsQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQ2xHLENBQUMsQ0FBQyxPQUFPLElBQ1AsQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsSUFDaEQsQ0FBQyxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUE7Q0FDMUIsQ0FBQTs7QUFFRCxNQUFNLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2FydHdvcmsvY3JlYXRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcblxudmFyIGhpZ2hsaWdodGVyID0gcmVxdWlyZSgnLi4vaGlnaGxpZ2h0ZXInKVxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi4vbWFya2Rvd24nKVxuXG52YXIgQ3JlYXRvciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciBQZWVrID0gcmVxdWlyZSgnLi4vcGVlaycpIC8vIHJlcXVpcmVkIGhlcmUgdG8gYXZvaWQgY2lyY3VsYXIgcmVhY3QgZGVwZW5kZW5jeSAtIHlpa2VzIVxuICAgIHZhciBXcmFwcGVyID0gdGhpcy5wcm9wcy53cmFwcGVyIHx8IFwiaDVcIlxuICAgIHZhciBbZmFjZXQsIHZhbHVlLCBoaWdobGlnaHRlZFZhbHVlXSA9IENyZWF0b3IuZ2V0RmFjZXRBbmRWYWx1ZSh0aGlzLnByb3BzLmFydCwgdGhpcy5wcm9wcy5oaWdobGlnaHRzKVxuICAgIHZhciBjcmVhdG9yUGVlayA9IChmYWNldCA9PSAnYXJ0aXN0JyB8fCBmYWNldCA9PSAnY3VsdHVyZScpXG4gICAgICAmJiA8UGVlayBtaWNyb2RhdGE9e3RydWV9IGZhY2V0PXtmYWNldH0gey4uLntoaWdobGlnaHRlZFZhbHVlfX0+e3ZhbHVlfTwvUGVlaz5cbiAgICAgIHx8IGZhY2V0ID09ICdjb3VudHJ5J1xuICAgICAgJiYgPHNwYW4+VW5rbm93biBhcnRpc3QsIDxQZWVrIG1pY3JvZGF0YT17dHJ1ZX0gZmFjZXQ9XCJjb3VudHJ5XCIgdGFnPVwic3BhblwiIHNob3dJY29uPXt0aGlzLnByb3BzLnNob3dJY29ufSB7Li4ue2hpZ2hsaWdodGVkVmFsdWV9fT57dmFsdWV9PC9QZWVrPjwvc3Bhbj5cblxuICAgIHJldHVybiA8V3JhcHBlciBpdGVtUHJvcD1cImNyZWF0b3JcIiBpdGVtU2NvcGUgaXRlbVR5cGU9XCJodHRwczovL3NjaGVtYS5vcmcvUGVyc29uXCI+XG4gICAgICB7dGhpcy5wcm9wcy5wZWVrID8gY3JlYXRvclBlZWsgOiAoaGlnaGxpZ2h0ZWRWYWx1ZSA/IDxNYXJrZG93bj57aGlnaGxpZ2h0ZWRWYWx1ZX08L01hcmtkb3duPiA6IHZhbHVlKX1cbiAgICA8L1dyYXBwZXI+XG4gIH0sXG5cbiAgZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7cGVlazogdHJ1ZX1cbiAgfSxcbn0pXG5DcmVhdG9yLmdldEZhY2V0QW5kVmFsdWUgPSAoYXJ0LCBoaWdobGlnaHRzKSA9PiB7XG4gIHZhciB7YXJ0aXN0LCBjdWx0dXJlLCBjb3VudHJ5fSA9IGFydFxuICB2YXIgaGlnaGxpZ2h0ID0gaGlnaGxpZ2h0ZXIuYmluZChudWxsLCBhcnQsIGhpZ2hsaWdodHMpXG5cbiAgcmV0dXJuICEoYXJ0aXN0ID09ICcnIHx8IGFydGlzdC5tYXRjaCgvXnVua25vd24vaSkpICYmXG4gICAgWydhcnRpc3QnLCBhcnQuYXJ0aXN0LnJlcGxhY2UoL14oW147XSspOi8sICcnKSwgaGlnaGxpZ2h0KCdhcnRpc3QnKS5yZXBsYWNlKC9eKFteO10rKTovLCAnJyldXG4gIHx8ICEhY3VsdHVyZVxuICAgICYmIFsnY3VsdHVyZScsIGFydC5jdWx0dXJlLnJlcGxhY2UoLyBjdWx0dXJlL2ksICcnKSwgaGlnaGxpZ2h0KCdjdWx0dXJlJykucmVwbGFjZSgvIGN1bHR1cmUvaSwgJycpXVxuICB8fCAhIWNvdW50cnlcbiAgICAmJiBbJ2NvdW50cnknLCBhcnQuY291bnRyeSwgaGlnaGxpZ2h0KCdjb3VudHJ5JyldXG4gIHx8IFt1bmRlZmluZWQsIHVuZGVmaW5lZF1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDcmVhdG9yXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/artwork/creator.js"
      ],
      "names": [],
      "mappings": ";;;;;;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;AAE5B,IAAI,WAAW,GAAG,OAAO,CAAC,gBAAgB,CAAC,CAAA;AAC3C,IAAI,QAAQ,GAAG,OAAO,CAAC,aAAa,CAAC,CAAA;;AAErC,IAAI,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC9B,QAAM,EAAA,kBAAG;AACP,QAAI,IAAI,GAAG,OAAO,CAAC,SAAS,CAAC,CAAA;AAC7B,QAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,IAAI,IAAI,CAAA;;oCACD,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC;;;;QAAjG,KAAK;QAAE,KAAK;QAAE,gBAAgB;;AACnC,QAAI,WAAW,GAAG,CAAC,KAAK,IAAI,QAAQ,IAAI,KAAK,IAAI,SAAS,CAAA,IACrD;AAAC,UAAI;iBAAC,SAAS,EAAE,IAAI,AAAC,EAAC,KAAK,EAAE,KAAK,AAAC,IAAK,EAAC,gBAAgB,EAAhB,gBAAgB,EAAC;MAAG,KAAK;KAAQ,IAC3E,KAAK,IAAI,SAAS,IAClB;;;;MAAsB;AAAC,YAAI;mBAAC,SAAS,EAAE,IAAI,AAAC,EAAC,KAAK,EAAC,SAAS,EAAC,GAAG,EAAC,MAAM,EAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,AAAC,IAAK,EAAC,gBAAgB,EAAhB,gBAAgB,EAAC;QAAG,KAAK;OAAQ;KAAO,CAAA;;AAEzJ,WAAO;AAAC,aAAO;QAAC,QAAQ,EAAC,SAAS,EAAC,SAAS,MAAA,EAAC,QAAQ,EAAC,2BAA2B;MAC9E,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,WAAW,GAAI,gBAAgB,GAAG;AAAC,gBAAQ;;QAAE,gBAAgB;OAAY,GAAG,KAAK,AAAC;KAC7F,CAAA;GACX;;AAED,iBAAe,EAAA,2BAAG;AAChB,WAAO,EAAC,IAAI,EAAE,IAAI,EAAC,CAAA;GACpB;CACF,CAAC,CAAA;AACF,OAAO,CAAC,gBAAgB,GAAG,UAAC,GAAG,EAAE,UAAU,EAAK;MACzC,MAAM,GAAsB,GAAG,CAA/B,MAAM;MAAE,OAAO,GAAa,GAAG,CAAvB,OAAO;MAAE,OAAO,GAAI,GAAG,CAAd,OAAO;;AAC7B,MAAI,SAAS,GAAG,WAAW,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,EAAE,UAAU,CAAC,CAAA;;AAEvD,SAAO,EAAE,MAAM,IAAI,EAAE,IAAI,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,CAAA,AAAC,IACjD,CAAC,QAAQ,EAAE,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,EAAE,SAAS,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC,IAC5F,CAAC,CAAC,OAAO,IACP,CAAC,SAAS,EAAE,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC,IAClG,CAAC,CAAC,OAAO,IACP,CAAC,SAAS,EAAE,GAAG,CAAC,OAAO,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,IAChD,CAAC,SAAS,EAAE,SAAS,CAAC,CAAA;CAC1B,CAAA;;AAED,MAAM,CAAC,OAAO,GAAG,OAAO,CAAA",
      "file": "/var/www/art/src/artwork/creator.js",
      "sourcesContent": [
        "var React = require('react')\n\nvar highlighter = require('../highlighter')\nvar Markdown = require('../markdown')\n\nvar Creator = React.createClass({\n  render() {\n    var Peek = require('../peek') // required here to avoid circular react dependency - yikes!\n    var Wrapper = this.props.wrapper || \"h5\"\n    var [facet, value, highlightedValue] = Creator.getFacetAndValue(this.props.art, this.props.highlights)\n    var creatorPeek = (facet == 'artist' || facet == 'culture')\n      && <Peek microdata={true} facet={facet} {...{highlightedValue}}>{value}</Peek>\n      || facet == 'country'\n      && <span>Unknown artist, <Peek microdata={true} facet=\"country\" tag=\"span\" showIcon={this.props.showIcon} {...{highlightedValue}}>{value}</Peek></span>\n\n    return <Wrapper itemProp=\"creator\" itemScope itemType=\"https://schema.org/Person\">\n      {this.props.peek ? creatorPeek : (highlightedValue ? <Markdown>{highlightedValue}</Markdown> : value)}\n    </Wrapper>\n  },\n\n  getDefaultProps() {\n    return {peek: true}\n  },\n})\nCreator.getFacetAndValue = (art, highlights) => {\n  var {artist, culture, country} = art\n  var highlight = highlighter.bind(null, art, highlights)\n\n  return !(artist == '' || artist.match(/^unknown/i)) &&\n    ['artist', art.artist.replace(/^([^;]+):/, ''), highlight('artist').replace(/^([^;]+):/, '')]\n  || !!culture\n    && ['culture', art.culture.replace(/ culture/i, ''), highlight('culture').replace(/ culture/i, '')]\n  || !!country\n    && ['country', art.country, highlight('country')]\n  || [undefined, undefined]\n}\n\nmodule.exports = Creator\n"
      ]
    },
    "mtime": 1485807805242
  },
  "{\"filename\":\"/var/www/art/src/email-data-sender.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar EmailDataSender = function EmailDataSender(address, text, subject, body) {\n  address = address || 'collectionsdata@artsmia.org';\n  return '<a href=\"mailto:' + address + '?subject=' + subject + '&body=%0A%0A---%0A' + body + '\">' + (text || address) + '</a>';\n};\n\nmodule.exports = EmailDataSender;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZW1haWwtZGF0YS1zZW5kZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLGVBQWUsR0FBRyxTQUFsQixlQUFlLENBQUksT0FBTyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFLO0FBQ3RELFNBQU8sR0FBRyxPQUFPLElBQUksNkJBQTZCLENBQUE7QUFDbEQsOEJBQTBCLE9BQU8saUJBQVksT0FBTywwQkFBcUIsSUFBSSxXQUFLLElBQUksSUFBSSxPQUFPLENBQUEsVUFBTTtDQUN4RyxDQUFBOztBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUcsZUFBZSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvZW1haWwtZGF0YS1zZW5kZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgRW1haWxEYXRhU2VuZGVyID0gKGFkZHJlc3MsIHRleHQsIHN1YmplY3QsIGJvZHkpID0+IHtcbiAgYWRkcmVzcyA9IGFkZHJlc3MgfHwgJ2NvbGxlY3Rpb25zZGF0YUBhcnRzbWlhLm9yZydcbiAgcmV0dXJuIGA8YSBocmVmPVwibWFpbHRvOiR7YWRkcmVzc30/c3ViamVjdD0ke3N1YmplY3R9JmJvZHk9JTBBJTBBLS0tJTBBJHtib2R5fVwiPiR7dGV4dCB8fCBhZGRyZXNzfTwvYT5gXG59XG5cbm1vZHVsZS5leHBvcnRzID0gRW1haWxEYXRhU2VuZGVyXG5cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/email-data-sender.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,eAAe,GAAG,SAAlB,eAAe,CAAI,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAK;AACtD,SAAO,GAAG,OAAO,IAAI,6BAA6B,CAAA;AAClD,8BAA0B,OAAO,iBAAY,OAAO,0BAAqB,IAAI,WAAK,IAAI,IAAI,OAAO,CAAA,UAAM;CACxG,CAAA;;AAED,MAAM,CAAC,OAAO,GAAG,eAAe,CAAA",
      "file": "/var/www/art/src/email-data-sender.js",
      "sourcesContent": [
        "var EmailDataSender = (address, text, subject, body) => {\n  address = address || 'collectionsdata@artsmia.org'\n  return `<a href=\"mailto:${address}?subject=${subject}&body=%0A%0A---%0A${body}\">${text || address}</a>`\n}\n\nmodule.exports = EmailDataSender\n\n"
      ]
    },
    "mtime": 1485807805246
  },
  "{\"filename\":\"/var/www/art/server.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Helmet = require('react-helmet');\nvar express = require('express');\nvar ga = require('react-ga');\nvar fs = require('fs');\nvar index = fs.readFileSync('./index.html', 'utf-8');\n\nvar fetchComponentData = require('./fetch');\nvar routes = require('./routes');\n\nvar app = express();\nvar serveStatic = require('serve-static');\napp.locals.settings['x-powered-by'] = false;\n\nif (typeof window === \"undefined\") GLOBAL.window = GLOBAL;\n\n// ga.initialize(process.env.GA_TRACKING_ID)\n\napp.get('/search/', function (req, res, next) {\n  // catch searches with JS disabled\n  var match = req.url.match(/\\/search\\/\\?q=(.*)/);\n  if (match && match[1]) return res.redirect(301, '/search/' + match[1]);\n  next();\n});\n\nvar html = function html(_ref, data, body) {\n  var title = _ref.title;\n  var meta = _ref.meta;\n  var link = _ref.link;\n  return index.replace('<!--HEAD-->', ['<title>' + title + '</title>', meta, link, '<script>window.__DATA__ = ' + JSON.stringify(data) + ';</script>'].filter(function (e) {\n    return e;\n  }).join('  \\n')).replace('<!--BODY-->', body);\n};\n\napp.use(function (req, res, next) {\n  var actingUrl = req.url.replace(/\\/(.*)\\/$/, '/$1');\n\n  var router = Router.create({\n    routes: routes,\n    location: actingUrl,\n    onAbort: function onAbort(_ref2) {\n      var to = _ref2.to;\n      var params = _ref2.params;\n      var query = _ref2.query;\n\n      var url = to && router.makePath(to, params, query) || '/';\n      res.redirect(301, url);\n    }\n  });\n\n  if (!router.match(actingUrl)) return next();\n\n  router.run(function (Handler, state) {\n    // ga.pageview(state.pathname)\n\n    fetchComponentData(state).then(function (data) {\n      var body = React.renderToString(React.createElement(Handler, _extends({}, state, { data: data, universal: true })));\n      res.send(html(Helmet.rewind(), data, body));\n    });\n  });\n});\n\napp.use(serveStatic('.'));\n\nvar port = process.env.PORT || 3413;\napp.listen(port, function () {\n  return console.info('👌 ', port);\n});\n//# sourceMappingURL=data:application/json;base64,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LENBQUMsUUFBUSxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLElBQUksR0FBRyxDQUFBO0FBQ3pELFNBQUcsQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFBO0tBQ3ZCO0dBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxFQUFFLE9BQU8sSUFBSSxFQUFFLENBQUE7O0FBRTFDLFFBQU0sQ0FBQyxHQUFHLENBQUMsVUFBQyxPQUFPLEVBQUUsS0FBSyxFQUFLOzs7QUFHN0Isc0JBQWtCLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUEsSUFBSSxFQUFJO0FBQ3JDLFVBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxjQUFjLENBQUMsb0JBQUMsT0FBTyxlQUFLLEtBQUssSUFBRSxJQUFJLEVBQUUsSUFBSSxBQUFDLEVBQUMsU0FBUyxFQUFFLElBQUksQUFBQyxJQUFHLENBQUMsQ0FBQTtBQUNwRixTQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUE7S0FDNUMsQ0FBQyxDQUFBO0dBQ0gsQ0FBQyxDQUFBO0NBQ0gsQ0FBQyxDQUFBOztBQUVGLEdBQUcsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUE7O0FBRXpCLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQTtBQUNuQyxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRTtTQUFNLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQztDQUFBLENBQUMsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc2VydmVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIgSGVsbWV0ID0gcmVxdWlyZSgncmVhY3QtaGVsbWV0JylcbnZhciBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpXG52YXIgZ2EgPSByZXF1aXJlKCdyZWFjdC1nYScpXG52YXIgZnMgPSByZXF1aXJlKCdmcycpXG52YXIgaW5kZXggPSBmcy5yZWFkRmlsZVN5bmMoJy4vaW5kZXguaHRtbCcsICd1dGYtOCcpXG5cbnZhciBmZXRjaENvbXBvbmVudERhdGEgPSByZXF1aXJlKCcuL2ZldGNoJylcbnZhciByb3V0ZXMgPSByZXF1aXJlKCcuL3JvdXRlcycpXG5cbnZhciBhcHAgPSBleHByZXNzKClcbnZhciBzZXJ2ZVN0YXRpYyA9IHJlcXVpcmUoJ3NlcnZlLXN0YXRpYycpXG5hcHAubG9jYWxzLnNldHRpbmdzWyd4LXBvd2VyZWQtYnknXSA9IGZhbHNlXG5cbmlmKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIEdMT0JBTC53aW5kb3cgPSBHTE9CQUxcblxuLy8gZ2EuaW5pdGlhbGl6ZShwcm9jZXNzLmVudi5HQV9UUkFDS0lOR19JRClcblxuYXBwLmdldCgnL3NlYXJjaC8nLCAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgLy8gY2F0Y2ggc2VhcmNoZXMgd2l0aCBKUyBkaXNhYmxlZFxuICB2YXIgbWF0Y2ggPSByZXEudXJsLm1hdGNoKC9cXC9zZWFyY2hcXC9cXD9xPSguKikvKVxuICBpZihtYXRjaCAmJiBtYXRjaFsxXSkgcmV0dXJuIHJlcy5yZWRpcmVjdCgzMDEsICcvc2VhcmNoLycrbWF0Y2hbMV0pXG4gIG5leHQoKVxufSlcblxudmFyIGh0bWwgPSAoe3RpdGxlLCBtZXRhLCBsaW5rfSwgZGF0YSwgYm9keSkgPT4gaW5kZXhcbiAgLnJlcGxhY2UoJzwhLS1IRUFELS0+JyxcbiAgICAgICAgICAgW1xuICAgICAgICAgICAgIGA8dGl0bGU+JHt0aXRsZX08L3RpdGxlPmAsXG4gICAgICAgICAgICAgbWV0YSxcbiAgICAgICAgICAgICBsaW5rLFxuICAgICAgICAgICAgIGA8c2NyaXB0PndpbmRvdy5fX0RBVEFfXyA9ICR7SlNPTi5zdHJpbmdpZnkoZGF0YSl9Ozwvc2NyaXB0PmBcbiAgICAgICAgICAgXVxuICAgIC5maWx0ZXIoZSA9PiBlKS5qb2luKCcgIFxcbicpKVxuICAucmVwbGFjZSgnPCEtLUJPRFktLT4nLCBib2R5KTtcblxuYXBwLnVzZSgocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdmFyIGFjdGluZ1VybCA9IHJlcS51cmwucmVwbGFjZSgvXFwvKC4qKVxcLyQvLCAnLyQxJylcblxuICB2YXIgcm91dGVyID0gUm91dGVyLmNyZWF0ZSh7XG4gICAgcm91dGVzLFxuICAgIGxvY2F0aW9uOiBhY3RpbmdVcmwsXG4gICAgb25BYm9ydDogKHt0bywgcGFyYW1zLCBxdWVyeX0pID0+IHtcbiAgICAgIHZhciB1cmwgPSB0byAmJiByb3V0ZXIubWFrZVBhdGgodG8sIHBhcmFtcywgcXVlcnkpIHx8ICcvJ1xuICAgICAgcmVzLnJlZGlyZWN0KDMwMSwgdXJsKVxuICAgIH0sXG4gIH0pXG5cbiAgaWYoIXJvdXRlci5tYXRjaChhY3RpbmdVcmwpKSByZXR1cm4gbmV4dCgpXG5cbiAgcm91dGVyLnJ1bigoSGFuZGxlciwgc3RhdGUpID0+IHtcbiAgICAvLyBnYS5wYWdldmlldyhzdGF0ZS5wYXRobmFtZSlcblxuICAgIGZldGNoQ29tcG9uZW50RGF0YShzdGF0ZSkudGhlbihkYXRhID0+IHtcbiAgICAgIHZhciBib2R5ID0gUmVhY3QucmVuZGVyVG9TdHJpbmcoPEhhbmRsZXIgey4uLnN0YXRlfSBkYXRhPXtkYXRhfSB1bml2ZXJzYWw9e3RydWV9IC8+KVxuICAgICAgcmVzLnNlbmQoaHRtbChIZWxtZXQucmV3aW5kKCksIGRhdGEsIGJvZHkpKVxuICAgIH0pXG4gIH0pXG59KVxuXG5hcHAudXNlKHNlcnZlU3RhdGljKCcuJykpXG5cbnZhciBwb3J0ID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCAzNDEzXG5hcHAubGlzdGVuKHBvcnQsICgpID0+IGNvbnNvbGUuaW5mbygn8J+RjCAnLCBwb3J0KSlcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/server.js"
      ],
      "names": [],
      "mappings": ";;;;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACpC,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACpC,IAAI,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAA;AAChC,IAAI,EAAE,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA;AAC5B,IAAI,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAA;AACtB,IAAI,KAAK,GAAG,EAAE,CAAC,YAAY,CAAC,cAAc,EAAE,OAAO,CAAC,CAAA;;AAEpD,IAAI,kBAAkB,GAAG,OAAO,CAAC,SAAS,CAAC,CAAA;AAC3C,IAAI,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA;;AAEhC,IAAI,GAAG,GAAG,OAAO,EAAE,CAAA;AACnB,IAAI,WAAW,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACzC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,KAAK,CAAA;;AAE3C,IAAG,OAAO,MAAM,KAAK,WAAW,EAAE,MAAM,CAAC,MAAM,GAAG,MAAM,CAAA;;;;AAIxD,GAAG,CAAC,GAAG,CAAC,UAAU,EAAE,UAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAK;;AAEtC,MAAI,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,oBAAoB,CAAC,CAAA;AAC/C,MAAG,KAAK,IAAI,KAAK,CAAC,CAAC,CAAC,EAAE,OAAO,GAAG,CAAC,QAAQ,CAAC,GAAG,EAAE,UAAU,GAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAA;AACnE,MAAI,EAAE,CAAA;CACP,CAAC,CAAA;;AAEF,IAAI,IAAI,GAAG,SAAP,IAAI,CAAI,IAAmB,EAAE,IAAI,EAAE,IAAI;MAA9B,KAAK,GAAN,IAAmB,CAAlB,KAAK;MAAE,IAAI,GAAZ,IAAmB,CAAX,IAAI;MAAE,IAAI,GAAlB,IAAmB,CAAL,IAAI;SAAkB,KAAK,CAClD,OAAO,CAAC,aAAa,EACb,aACY,KAAK,eACf,IAAI,EACJ,IAAI,iCACyB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,gBAClD,CACP,MAAM,CAAC,UAAA,CAAC;WAAI,CAAC;GAAA,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAC9B,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC;CAAA,CAAC;;AAEhC,GAAG,CAAC,GAAG,CAAC,UAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAK;AAC1B,MAAI,SAAS,GAAG,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,CAAC,CAAA;;AAEnD,MAAI,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;AACzB,UAAM,EAAN,MAAM;AACN,YAAQ,EAAE,SAAS;AACnB,WAAO,EAAE,iBAAC,KAAmB,EAAK;UAAvB,EAAE,GAAH,KAAmB,CAAlB,EAAE;UAAE,MAAM,GAAX,KAAmB,CAAd,MAAM;UAAE,KAAK,GAAlB,KAAmB,CAAN,KAAK;;AAC1B,UAAI,GAAG,GAAG,EAAE,IAAI,MAAM,CAAC,QAAQ,CAAC,EAAE,EAAE,MAAM,EAAE,KAAK,CAAC,IAAI,GAAG,CAAA;AACzD,SAAG,CAAC,QAAQ,CAAC,GAAG,EAAE,GAAG,CAAC,CAAA;KACvB;GACF,CAAC,CAAA;;AAEF,MAAG,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE,OAAO,IAAI,EAAE,CAAA;;AAE1C,QAAM,CAAC,GAAG,CAAC,UAAC,OAAO,EAAE,KAAK,EAAK;;;AAG7B,sBAAkB,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,UAAA,IAAI,EAAI;AACrC,UAAI,IAAI,GAAG,KAAK,CAAC,cAAc,CAAC,oBAAC,OAAO,eAAK,KAAK,IAAE,IAAI,EAAE,IAAI,AAAC,EAAC,SAAS,EAAE,IAAI,AAAC,IAAG,CAAC,CAAA;AACpF,SAAG,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAA;KAC5C,CAAC,CAAA;GACH,CAAC,CAAA;CACH,CAAC,CAAA;;AAEF,GAAG,CAAC,GAAG,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAA;;AAEzB,IAAI,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,CAAA;AACnC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE;SAAM,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC;CAAA,CAAC,CAAA",
      "file": "/var/www/art/server.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar Helmet = require('react-helmet')\nvar express = require('express')\nvar ga = require('react-ga')\nvar fs = require('fs')\nvar index = fs.readFileSync('./index.html', 'utf-8')\n\nvar fetchComponentData = require('./fetch')\nvar routes = require('./routes')\n\nvar app = express()\nvar serveStatic = require('serve-static')\napp.locals.settings['x-powered-by'] = false\n\nif(typeof window === \"undefined\") GLOBAL.window = GLOBAL\n\n// ga.initialize(process.env.GA_TRACKING_ID)\n\napp.get('/search/', (req, res, next) => {\n  // catch searches with JS disabled\n  var match = req.url.match(/\\/search\\/\\?q=(.*)/)\n  if(match && match[1]) return res.redirect(301, '/search/'+match[1])\n  next()\n})\n\nvar html = ({title, meta, link}, data, body) => index\n  .replace('<!--HEAD-->',\n           [\n             `<title>${title}</title>`,\n             meta,\n             link,\n             `<script>window.__DATA__ = ${JSON.stringify(data)};</script>`\n           ]\n    .filter(e => e).join('  \\n'))\n  .replace('<!--BODY-->', body);\n\napp.use((req, res, next) => {\n  var actingUrl = req.url.replace(/\\/(.*)\\/$/, '/$1')\n\n  var router = Router.create({\n    routes,\n    location: actingUrl,\n    onAbort: ({to, params, query}) => {\n      var url = to && router.makePath(to, params, query) || '/'\n      res.redirect(301, url)\n    },\n  })\n\n  if(!router.match(actingUrl)) return next()\n\n  router.run((Handler, state) => {\n    // ga.pageview(state.pathname)\n\n    fetchComponentData(state).then(data => {\n      var body = React.renderToString(<Handler {...state} data={data} universal={true} />)\n      res.send(html(Helmet.rewind(), data, body))\n    })\n  })\n})\n\napp.use(serveStatic('.'))\n\nvar port = process.env.PORT || 3413\napp.listen(port, () => console.info('👌 ', port))\n"
      ]
    },
    "mtime": 1487953287526
  },
  "{\"filename\":\"/var/www/art/fetch.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "sliced-to-array"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar resolveHash = require('when/keys').all;\n\nfunction fetchComponentData(state, initialData) {\n  var promises = state.routes.filter(function (route, index, allRoutes) {\n    // Don't `fetchData` twice for nested routes with the same `Handler`\n    // Prefer the parent\n    var prevRoute = index > 0 && allRoutes[index - 1];\n    if (prevRoute && route.handler.fetchData === prevRoute.handler.fetchData) return;\n\n    return route.handler.fetchData;\n  }).reduce(function (promises, route) {\n    if (initialData) {\n      Object.keys(initialData).forEach(function (key) {\n        promises[key] = Promise.resolve(initialData[key]);\n      });\n      return promises;\n    }\n\n    // `fetchData` is either a function, or an object with keyed functions.\n    // If a component requires custom-named data or pulls data from multiple sources,\n    // each data is fetched from the value of each entry in the object and made\n    // available under the key\n    var fetchData = route.handler.fetchData;\n    if (typeof fetchData == 'function') {\n      promises[route.name] = fetchData(state.params, state.query);\n    } else if (typeof fetchData == 'object') {\n      Object.entries(fetchData).map(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2);\n\n        var name = _ref2[0];\n        var _fetchData = _ref2[1];\n\n        promises[name] = _fetchData(state.params, state.query);\n      });\n    }\n\n    return promises;\n  }, {});\n\n  return resolveHash(promises);\n}\n\nmodule.exports = fetchComponentData;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9mZXRjaC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxXQUFXLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEdBQUcsQ0FBQTs7QUFFMUMsU0FBUyxrQkFBa0IsQ0FBQyxLQUFLLEVBQUUsV0FBVyxFQUFFO0FBQzlDLE1BQUksUUFBUSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUs7OztBQUc5RCxRQUFNLFNBQVMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxJQUFJLFNBQVMsQ0FBQyxLQUFLLEdBQUMsQ0FBQyxDQUFDLENBQUE7QUFDakQsUUFBRyxTQUFTLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEtBQUssU0FBUyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsT0FBTTs7QUFFL0UsV0FBTyxLQUFLLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQTtHQUMvQixDQUFDLENBQUMsTUFBTSxDQUFDLFVBQUMsUUFBUSxFQUFFLEtBQUssRUFBSztBQUM3QixRQUFHLFdBQVcsRUFBRTtBQUNkLFlBQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQ3ZCLE9BQU8sQ0FBQyxVQUFBLEdBQUcsRUFBSTtBQUNkLGdCQUFRLENBQUMsR0FBRyxDQUFDLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQTtPQUNsRCxDQUFDLENBQUE7QUFDRixhQUFPLFFBQVEsQ0FBQTtLQUNoQjs7Ozs7O0FBTUQsUUFBTSxTQUFTLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUE7QUFDekMsUUFBRyxPQUFPLFNBQVMsSUFBSSxVQUFVLEVBQUU7QUFDakMsY0FBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUE7S0FDNUQsTUFBTSxJQUFHLE9BQU8sU0FBUyxJQUFJLFFBQVEsRUFBRTtBQUN0QyxZQUFNLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFDLElBQWtCLEVBQUs7bUNBQXZCLElBQWtCOztZQUFqQixJQUFJO1lBQUUsVUFBVTs7QUFDOUMsZ0JBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxVQUFVLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUE7T0FDdkQsQ0FBQyxDQUFBO0tBQ0g7O0FBRUQsV0FBTyxRQUFRLENBQUE7R0FDaEIsRUFBRSxFQUFFLENBQUMsQ0FBQTs7QUFFTixTQUFPLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQTtDQUM3Qjs7QUFFRCxNQUFNLENBQUMsT0FBTyxHQUFHLGtCQUFrQixDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9mZXRjaC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciByZXNvbHZlSGFzaCA9IHJlcXVpcmUoJ3doZW4va2V5cycpLmFsbFxuXG5mdW5jdGlvbiBmZXRjaENvbXBvbmVudERhdGEoc3RhdGUsIGluaXRpYWxEYXRhKSB7XG4gIHZhciBwcm9taXNlcyA9IHN0YXRlLnJvdXRlcy5maWx0ZXIoKHJvdXRlLCBpbmRleCwgYWxsUm91dGVzKSA9PiB7XG4gICAgLy8gRG9uJ3QgYGZldGNoRGF0YWAgdHdpY2UgZm9yIG5lc3RlZCByb3V0ZXMgd2l0aCB0aGUgc2FtZSBgSGFuZGxlcmBcbiAgICAvLyBQcmVmZXIgdGhlIHBhcmVudFxuICAgIGNvbnN0IHByZXZSb3V0ZSA9IGluZGV4ID4gMCAmJiBhbGxSb3V0ZXNbaW5kZXgtMV1cbiAgICBpZihwcmV2Um91dGUgJiYgcm91dGUuaGFuZGxlci5mZXRjaERhdGEgPT09IHByZXZSb3V0ZS5oYW5kbGVyLmZldGNoRGF0YSkgcmV0dXJuXG5cbiAgICByZXR1cm4gcm91dGUuaGFuZGxlci5mZXRjaERhdGFcbiAgfSkucmVkdWNlKChwcm9taXNlcywgcm91dGUpID0+IHtcbiAgICBpZihpbml0aWFsRGF0YSkge1xuICAgICAgT2JqZWN0LmtleXMoaW5pdGlhbERhdGEpXG4gICAgICAuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBwcm9taXNlc1trZXldID0gUHJvbWlzZS5yZXNvbHZlKGluaXRpYWxEYXRhW2tleV0pXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHByb21pc2VzXG4gICAgfVxuXG4gICAgLy8gYGZldGNoRGF0YWAgaXMgZWl0aGVyIGEgZnVuY3Rpb24sIG9yIGFuIG9iamVjdCB3aXRoIGtleWVkIGZ1bmN0aW9ucy5cbiAgICAvLyBJZiBhIGNvbXBvbmVudCByZXF1aXJlcyBjdXN0b20tbmFtZWQgZGF0YSBvciBwdWxscyBkYXRhIGZyb20gbXVsdGlwbGUgc291cmNlcyxcbiAgICAvLyBlYWNoIGRhdGEgaXMgZmV0Y2hlZCBmcm9tIHRoZSB2YWx1ZSBvZiBlYWNoIGVudHJ5IGluIHRoZSBvYmplY3QgYW5kIG1hZGVcbiAgICAvLyBhdmFpbGFibGUgdW5kZXIgdGhlIGtleVxuICAgIGNvbnN0IGZldGNoRGF0YSA9IHJvdXRlLmhhbmRsZXIuZmV0Y2hEYXRhXG4gICAgaWYodHlwZW9mIGZldGNoRGF0YSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwcm9taXNlc1tyb3V0ZS5uYW1lXSA9IGZldGNoRGF0YShzdGF0ZS5wYXJhbXMsIHN0YXRlLnF1ZXJ5KVxuICAgIH0gZWxzZSBpZih0eXBlb2YgZmV0Y2hEYXRhID09ICdvYmplY3QnKSB7XG4gICAgICBPYmplY3QuZW50cmllcyhmZXRjaERhdGEpLm1hcCgoW25hbWUsIF9mZXRjaERhdGFdKSA9PiB7XG4gICAgICAgIHByb21pc2VzW25hbWVdID0gX2ZldGNoRGF0YShzdGF0ZS5wYXJhbXMsIHN0YXRlLnF1ZXJ5KVxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZXNcbiAgfSwge30pXG5cbiAgcmV0dXJuIHJlc29sdmVIYXNoKHByb21pc2VzKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZldGNoQ29tcG9uZW50RGF0YVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/fetch.js"
      ],
      "names": [],
      "mappings": ";;;;AAAA,IAAI,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC,GAAG,CAAA;;AAE1C,SAAS,kBAAkB,CAAC,KAAK,EAAE,WAAW,EAAE;AAC9C,MAAI,QAAQ,GAAG,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,UAAC,KAAK,EAAE,KAAK,EAAE,SAAS,EAAK;;;AAG9D,QAAM,SAAS,GAAG,KAAK,GAAG,CAAC,IAAI,SAAS,CAAC,KAAK,GAAC,CAAC,CAAC,CAAA;AACjD,QAAG,SAAS,IAAI,KAAK,CAAC,OAAO,CAAC,SAAS,KAAK,SAAS,CAAC,OAAO,CAAC,SAAS,EAAE,OAAM;;AAE/E,WAAO,KAAK,CAAC,OAAO,CAAC,SAAS,CAAA;GAC/B,CAAC,CAAC,MAAM,CAAC,UAAC,QAAQ,EAAE,KAAK,EAAK;AAC7B,QAAG,WAAW,EAAE;AACd,YAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CACvB,OAAO,CAAC,UAAA,GAAG,EAAI;AACd,gBAAQ,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAA;OAClD,CAAC,CAAA;AACF,aAAO,QAAQ,CAAA;KAChB;;;;;;AAMD,QAAM,SAAS,GAAG,KAAK,CAAC,OAAO,CAAC,SAAS,CAAA;AACzC,QAAG,OAAO,SAAS,IAAI,UAAU,EAAE;AACjC,cAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,KAAK,CAAC,CAAA;KAC5D,MAAM,IAAG,OAAO,SAAS,IAAI,QAAQ,EAAE;AACtC,YAAM,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,UAAC,IAAkB,EAAK;mCAAvB,IAAkB;;YAAjB,IAAI;YAAE,UAAU;;AAC9C,gBAAQ,CAAC,IAAI,CAAC,GAAG,UAAU,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,KAAK,CAAC,CAAA;OACvD,CAAC,CAAA;KACH;;AAED,WAAO,QAAQ,CAAA;GAChB,EAAE,EAAE,CAAC,CAAA;;AAEN,SAAO,WAAW,CAAC,QAAQ,CAAC,CAAA;CAC7B;;AAED,MAAM,CAAC,OAAO,GAAG,kBAAkB,CAAA",
      "file": "/var/www/art/fetch.js",
      "sourcesContent": [
        "var resolveHash = require('when/keys').all\n\nfunction fetchComponentData(state, initialData) {\n  var promises = state.routes.filter((route, index, allRoutes) => {\n    // Don't `fetchData` twice for nested routes with the same `Handler`\n    // Prefer the parent\n    const prevRoute = index > 0 && allRoutes[index-1]\n    if(prevRoute && route.handler.fetchData === prevRoute.handler.fetchData) return\n\n    return route.handler.fetchData\n  }).reduce((promises, route) => {\n    if(initialData) {\n      Object.keys(initialData)\n      .forEach(key => {\n        promises[key] = Promise.resolve(initialData[key])\n      })\n      return promises\n    }\n\n    // `fetchData` is either a function, or an object with keyed functions.\n    // If a component requires custom-named data or pulls data from multiple sources,\n    // each data is fetched from the value of each entry in the object and made\n    // available under the key\n    const fetchData = route.handler.fetchData\n    if(typeof fetchData == 'function') {\n      promises[route.name] = fetchData(state.params, state.query)\n    } else if(typeof fetchData == 'object') {\n      Object.entries(fetchData).map(([name, _fetchData]) => {\n        promises[name] = _fetchData(state.params, state.query)\n      })\n    }\n\n    return promises\n  }, {})\n\n  return resolveHash(promises)\n}\n\nmodule.exports = fetchComponentData\n"
      ]
    },
    "mtime": 1485807805238
  },
  "{\"filename\":\"/var/www/art/routes.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Route = Router.Route;\nvar Redirect = Router.Redirect;\nvar DefaultRoute = Router.DefaultRoute;\n\nvar App = require('./src/app');\nvar Home = require('./src/home');\nvar Search = require('./src/search');\nvar SearchResults = require('./src/search-results');\nvar Artwork = require('./src/artwork');\nvar ArtistsByLetter = require('./src/artists-by-letter');\nvar ObjectsById = require('./src/objects-by-id');\nvar Department = require('./src/department');\nvar Curator = require('./src/curator');\nvar Curators = require('./src/curators');\nvar Explore = require('./src/explore');\nvar Page = require('./src/page');\nvar Info = require('./src/info');\nvar Gallery = require('./src/gallery');\nvar Map = require('./src/map-page');\nvar More = require('./src/more');\nvar Exhibition = require('./src/exhibition');\nvar Artist = require('./src/artist');\n\nvar routes = React.createElement(\n  Route,\n  { handler: App, path: '/' },\n  React.createElement(DefaultRoute, { name: 'home', handler: Home }),\n  React.createElement(Route, { name: 'artwork', path: 'art/:id', handler: Artwork }),\n  React.createElement(Route, { name: 'artworkSlug', path: 'art/:id/:slug', handler: Artwork }),\n  React.createElement(\n    Route,\n    { name: 'search', path: '/search/', handler: Search },\n    React.createElement(\n      Route,\n      { name: 'searchResults', path: ':terms', handler: SearchResults },\n      React.createElement(Route, { name: 'filteredSearchResults', path: 'filters/*', handler: SearchResults })\n    )\n  ),\n  React.createElement(Route, { name: 'department', path: '/departments/:dept', handler: Department }),\n  React.createElement(Route, { name: 'curator', path: '/curators/:slug', handler: Curator }),\n  React.createElement(Route, { name: 'curators', path: '/curators', handler: Curators }),\n  React.createElement(Route, { name: 'explore', path: '/explore', handler: Explore }),\n  React.createElement(Route, { name: 'artistsByName', path: '/search/artists/:letter', handler: ArtistsByLetter }),\n  React.createElement(Route, { name: 'artist', path: '/people/:id', handler: Artist }),\n  React.createElement(Route, { name: 'artistSlug', path: '/people/:id/:slug', handler: Artist }),\n  React.createElement(Route, { name: 'objectsById', path: '/search/ids/:ids', handler: ObjectsById }),\n  React.createElement(Route, { name: 'page', path: '/info/:name', handler: Page }),\n  React.createElement(Route, { name: 'info', path: '/info', handler: Info }),\n  React.createElement(Route, { name: 'gallery', path: '/galleries/:gallery', handler: Gallery }),\n  React.createElement(Route, { name: 'map', path: '/map', handler: Map }),\n  React.createElement(Route, { name: 'galleries', path: '/galleries', handler: Map }),\n  React.createElement(Route, { name: 'more', path: '/more', handler: More }),\n  React.createElement(Route, { name: 'exhibition', path: '/exhibitions/:id', handler: Exhibition }),\n  React.createElement(Route, { name: 'exhibitionSlug', path: 'exhibitions/:id/:slug', handler: Exhibition })\n);\n\nmodule.exports = routes;\n//# sourceMappingURL=data:application/json;base64,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RUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFFLEdBQUcsQUFBQyxHQUFHO0VBQzlDLG9CQUFDLEtBQUssSUFBQyxJQUFJLEVBQUMsV0FBVyxFQUFDLElBQUksRUFBQyxZQUFZLEVBQUMsT0FBTyxFQUFFLEdBQUcsQUFBQyxHQUFHO0VBQzFELG9CQUFDLEtBQUssSUFBQyxJQUFJLEVBQUMsTUFBTSxFQUFDLElBQUksRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFFLElBQUksQUFBQyxHQUFHO0VBQ2pELG9CQUFDLEtBQUssSUFBQyxJQUFJLEVBQUMsWUFBWSxFQUFDLElBQUksRUFBQyxrQkFBa0IsRUFBQyxPQUFPLEVBQUUsVUFBVSxBQUFDLEdBQUc7RUFDeEUsb0JBQUMsS0FBSyxJQUFDLElBQUksRUFBQyxnQkFBZ0IsRUFBQyxJQUFJLEVBQUMsdUJBQXVCLEVBQUMsT0FBTyxFQUFFLFVBQVUsQUFBQyxHQUFHO0NBQzNFLEFBQ1QsQ0FBQzs7QUFFRixNQUFNLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvcm91dGVzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIge1JvdXRlLCBSZWRpcmVjdCwgRGVmYXVsdFJvdXRlfSA9IFJvdXRlclxuXG52YXIgQXBwID0gcmVxdWlyZSgnLi9zcmMvYXBwJylcbnZhciBIb21lID0gcmVxdWlyZSgnLi9zcmMvaG9tZScpXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zcmMvc2VhcmNoJylcbnZhciBTZWFyY2hSZXN1bHRzID0gcmVxdWlyZSgnLi9zcmMvc2VhcmNoLXJlc3VsdHMnKVxudmFyIEFydHdvcmsgPSByZXF1aXJlKCcuL3NyYy9hcnR3b3JrJylcbnZhciBBcnRpc3RzQnlMZXR0ZXIgPSByZXF1aXJlKCcuL3NyYy9hcnRpc3RzLWJ5LWxldHRlcicpXG52YXIgT2JqZWN0c0J5SWQgPSByZXF1aXJlKCcuL3NyYy9vYmplY3RzLWJ5LWlkJylcbnZhciBEZXBhcnRtZW50ID0gcmVxdWlyZSgnLi9zcmMvZGVwYXJ0bWVudCcpXG52YXIgQ3VyYXRvciA9IHJlcXVpcmUoJy4vc3JjL2N1cmF0b3InKVxudmFyIEN1cmF0b3JzID0gcmVxdWlyZSgnLi9zcmMvY3VyYXRvcnMnKVxudmFyIEV4cGxvcmUgPSByZXF1aXJlKCcuL3NyYy9leHBsb3JlJylcbnZhciBQYWdlID0gcmVxdWlyZSgnLi9zcmMvcGFnZScpXG52YXIgSW5mbyA9IHJlcXVpcmUoJy4vc3JjL2luZm8nKVxudmFyIEdhbGxlcnkgPSByZXF1aXJlKCcuL3NyYy9nYWxsZXJ5JylcbnZhciBNYXAgPSByZXF1aXJlKCcuL3NyYy9tYXAtcGFnZScpXG52YXIgTW9yZSA9IHJlcXVpcmUoJy4vc3JjL21vcmUnKVxudmFyIEV4aGliaXRpb24gPSByZXF1aXJlKCcuL3NyYy9leGhpYml0aW9uJylcbnZhciBBcnRpc3QgPSByZXF1aXJlKCcuL3NyYy9hcnRpc3QnKVxuXG52YXIgcm91dGVzID0gKFxuICA8Um91dGUgaGFuZGxlcj17QXBwfSBwYXRoPVwiL1wiPlxuICAgIDxEZWZhdWx0Um91dGUgbmFtZT1cImhvbWVcIiBoYW5kbGVyPXtIb21lfS8+XG4gICAgPFJvdXRlIG5hbWU9XCJhcnR3b3JrXCIgcGF0aD1cImFydC86aWRcIiBoYW5kbGVyPXtBcnR3b3JrfSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwiYXJ0d29ya1NsdWdcIiBwYXRoPVwiYXJ0LzppZC86c2x1Z1wiIGhhbmRsZXI9e0FydHdvcmt9IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJzZWFyY2hcIiBwYXRoPVwiL3NlYXJjaC9cIiBoYW5kbGVyPXtTZWFyY2h9PlxuICAgICAgPFJvdXRlIG5hbWU9XCJzZWFyY2hSZXN1bHRzXCIgcGF0aD1cIjp0ZXJtc1wiIGhhbmRsZXI9e1NlYXJjaFJlc3VsdHN9PlxuICAgICAgICA8Um91dGUgbmFtZT1cImZpbHRlcmVkU2VhcmNoUmVzdWx0c1wiIHBhdGg9XCJmaWx0ZXJzLypcIiBoYW5kbGVyPXtTZWFyY2hSZXN1bHRzfSAvPlxuICAgICAgPC9Sb3V0ZT5cbiAgICA8L1JvdXRlPlxuICAgIDxSb3V0ZSBuYW1lPVwiZGVwYXJ0bWVudFwiIHBhdGg9XCIvZGVwYXJ0bWVudHMvOmRlcHRcIiBoYW5kbGVyPXtEZXBhcnRtZW50fSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwiY3VyYXRvclwiIHBhdGg9XCIvY3VyYXRvcnMvOnNsdWdcIiBoYW5kbGVyPXtDdXJhdG9yfSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwiY3VyYXRvcnNcIiBwYXRoPVwiL2N1cmF0b3JzXCIgaGFuZGxlcj17Q3VyYXRvcnN9IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJleHBsb3JlXCIgcGF0aD1cIi9leHBsb3JlXCIgaGFuZGxlcj17RXhwbG9yZX0gLz5cbiAgICA8Um91dGUgbmFtZT1cImFydGlzdHNCeU5hbWVcIiBwYXRoPVwiL3NlYXJjaC9hcnRpc3RzLzpsZXR0ZXJcIiBoYW5kbGVyPXtBcnRpc3RzQnlMZXR0ZXJ9IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJhcnRpc3RcIiBwYXRoPVwiL3Blb3BsZS86aWRcIiBoYW5kbGVyPXtBcnRpc3R9IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJhcnRpc3RTbHVnXCIgcGF0aD1cIi9wZW9wbGUvOmlkLzpzbHVnXCIgaGFuZGxlcj17QXJ0aXN0fSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwib2JqZWN0c0J5SWRcIiBwYXRoPVwiL3NlYXJjaC9pZHMvOmlkc1wiIGhhbmRsZXI9e09iamVjdHNCeUlkfSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwicGFnZVwiIHBhdGg9XCIvaW5mby86bmFtZVwiIGhhbmRsZXI9e1BhZ2V9IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJpbmZvXCIgcGF0aD1cIi9pbmZvXCIgaGFuZGxlcj17SW5mb30gLz5cbiAgICA8Um91dGUgbmFtZT1cImdhbGxlcnlcIiBwYXRoPVwiL2dhbGxlcmllcy86Z2FsbGVyeVwiIGhhbmRsZXI9e0dhbGxlcnl9IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJtYXBcIiBwYXRoPVwiL21hcFwiIGhhbmRsZXI9e01hcH0gLz5cbiAgICA8Um91dGUgbmFtZT1cImdhbGxlcmllc1wiIHBhdGg9XCIvZ2FsbGVyaWVzXCIgaGFuZGxlcj17TWFwfSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwibW9yZVwiIHBhdGg9XCIvbW9yZVwiIGhhbmRsZXI9e01vcmV9IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJleGhpYml0aW9uXCIgcGF0aD1cIi9leGhpYml0aW9ucy86aWRcIiBoYW5kbGVyPXtFeGhpYml0aW9ufSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwiZXhoaWJpdGlvblNsdWdcIiBwYXRoPVwiZXhoaWJpdGlvbnMvOmlkLzpzbHVnXCIgaGFuZGxlcj17RXhoaWJpdGlvbn0gLz5cbiAgPC9Sb3V0ZT5cbik7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVzXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/routes.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/routes.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Route, Redirect, DefaultRoute} = Router\n\nvar App = require('./src/app')\nvar Home = require('./src/home')\nvar Search = require('./src/search')\nvar SearchResults = require('./src/search-results')\nvar Artwork = require('./src/artwork')\nvar ArtistsByLetter = require('./src/artists-by-letter')\nvar ObjectsById = require('./src/objects-by-id')\nvar Department = require('./src/department')\nvar Curator = require('./src/curator')\nvar Curators = require('./src/curators')\nvar Explore = require('./src/explore')\nvar Page = require('./src/page')\nvar Info = require('./src/info')\nvar Gallery = require('./src/gallery')\nvar Map = require('./src/map-page')\nvar More = require('./src/more')\nvar Exhibition = require('./src/exhibition')\nvar Artist = require('./src/artist')\n\nvar routes = (\n  <Route handler={App} path=\"/\">\n    <DefaultRoute name=\"home\" handler={Home}/>\n    <Route name=\"artwork\" path=\"art/:id\" handler={Artwork} />\n    <Route name=\"artworkSlug\" path=\"art/:id/:slug\" handler={Artwork} />\n    <Route name=\"search\" path=\"/search/\" handler={Search}>\n      <Route name=\"searchResults\" path=\":terms\" handler={SearchResults}>\n        <Route name=\"filteredSearchResults\" path=\"filters/*\" handler={SearchResults} />\n      </Route>\n    </Route>\n    <Route name=\"department\" path=\"/departments/:dept\" handler={Department} />\n    <Route name=\"curator\" path=\"/curators/:slug\" handler={Curator} />\n    <Route name=\"curators\" path=\"/curators\" handler={Curators} />\n    <Route name=\"explore\" path=\"/explore\" handler={Explore} />\n    <Route name=\"artistsByName\" path=\"/search/artists/:letter\" handler={ArtistsByLetter} />\n    <Route name=\"artist\" path=\"/people/:id\" handler={Artist} />\n    <Route name=\"artistSlug\" path=\"/people/:id/:slug\" handler={Artist} />\n    <Route name=\"objectsById\" path=\"/search/ids/:ids\" handler={ObjectsById} />\n    <Route name=\"page\" path=\"/info/:name\" handler={Page} />\n    <Route name=\"info\" path=\"/info\" handler={Info} />\n    <Route name=\"gallery\" path=\"/galleries/:gallery\" handler={Gallery} />\n    <Route name=\"map\" path=\"/map\" handler={Map} />\n    <Route name=\"galleries\" path=\"/galleries\" handler={Map} />\n    <Route name=\"more\" path=\"/more\" handler={More} />\n    <Route name=\"exhibition\" path=\"/exhibitions/:id\" handler={Exhibition} />\n    <Route name=\"exhibitionSlug\" path=\"exhibitions/:id/:slug\" handler={Exhibition} />\n  </Route>\n);\n\nmodule.exports = routes\n"
      ]
    },
    "mtime": 1485987477910
  },
  "{\"filename\":\"/var/www/art/src/app.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\n\nvar _require = require('react-router');\n\nvar RouteHandler = _require.RouteHandler;\nvar Link = _require.Link;\n\nvar Helmet = require('react-helmet');\n\nvar LiveSearch = require('./live-search');\nvar GlobalNavigation = require('./navigation');\n\nvar App = React.createClass({\n  displayName: 'App',\n\n  render: function render() {\n    var logo = this.makeLogo();\n    var canonicalURL = \"https://collections.artsmia.org\" + this.props.path;\n\n    return React.createElement(\n      'div',\n      { className: this.props.universal && 'universal' },\n      this.state.hideHeader || React.createElement(\n        'header',\n        { style: { zIndex: this.state.showMenu || this.state.showSearch ? 5 : 1 } },\n        logo,\n        this.globalToolBar()\n      ),\n      React.createElement(Helmet, {\n        title: 'Collection | Minneapolis Institute of Art',\n        titleTemplate: '%s | Mia',\n        link: [{ \"rel\": \"canonical\", \"href\": canonicalURL }],\n        meta: [{ property: \"robots\", content: this.noIndex() ? 'follow,noindex' : 'all' }, { property: \"og:url\", content: canonicalURL }]\n      }),\n      React.createElement(RouteHandler, _extends({}, this.props, {\n        activateSearch: this.state.activateSearch,\n        toggleAppHeader: this.toggleHeader\n      }))\n    );\n  },\n\n  toggleHeader: function toggleHeader() {\n    this.setState({ hideHeader: !this.state.hideHeader });\n  },\n\n  getChildContext: function getChildContext() {\n    return {\n      universal: this.props.universal\n    };\n  },\n\n  globalToolBar: function globalToolBar() {\n    var searchButton = React.createElement(\n      'button',\n      { className: 'material-icons search', onClick: this.toggleSearch },\n      this.state.showSearch ? 'close' : 'search'\n    );\n    var searchTrigger = this.props.universal ? React.createElement(\n      Link,\n      { to: 'home' },\n      searchButton\n    ) : searchButton;\n    var menuButton = React.createElement(\n      'button',\n      { className: 'material-icons menu', onClick: this.toggleMenu },\n      this.state.showMenu ? 'close' : 'menu'\n    );\n    var menuTrigger = menuButton;\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'div',\n        { className: 'global_buttons' },\n        menuTrigger,\n        searchTrigger\n      ),\n      React.createElement(\n        'div',\n        { className: 'global_display' },\n        this.state.showMenu && React.createElement(GlobalNavigation, { closeNav: this.toggleMenu }),\n        this.state.showSearch && React.createElement(LiveSearch, { afterSearch: this.toggleSearch })\n      )\n    );\n  },\n\n  toggleSearch: function toggleSearch(event) {\n    var _ref = arguments.length <= 1 || arguments[1] === undefined ? { 'false': false } : arguments[1];\n\n    var forceClose = _ref.forceClose;\n    var data = this.props.data;\n\n    this.setState(data && data.searchResults && !forceClose ? { activateSearch: event.timeStamp } : { showSearch: forceClose ? false : !this.state.showSearch });\n    this.setState({ showMenu: false });\n  },\n  toggleMenu: function toggleMenu(event) {\n    this.setState({\n      showMenu: !this.state.showMenu,\n      showSearch: false\n    });\n\n    event && event.preventDefault();\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      showSearch: false\n    };\n  },\n\n  // wrap in a click handler when the navigation isn't visible, and open the nav\n  // once nav is open, a second click goes to artsmia.org\n  makeLogo: function makeLogo() {\n    var showMenu = this.state.showMenu;\n\n    var logo = React.createElement('div', { className: 'logo-container' });\n\n    if (this.props.universal) return React.createElement(\n      'a',\n      { href: '/' },\n      logo\n    );\n\n    return showMenu ? React.createElement(\n      'a',\n      { href: 'https://new.artsmia.org', title: 'Back to artsmia.org' },\n      logo\n    ) : React.createElement(\n      'a',\n      { href: '#', title: 'Show menu', onClick: this.toggleMenu },\n      logo\n    );\n  },\n\n  noIndex: function noIndex() {\n    return process.env.NODE_ENV !== 'production';\n  }\n});\nApp.childContextTypes = { universal: React.PropTypes.bool };\n\nmodule.exports = App;\n//# sourceMappingURL=data:application/json;base64,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LGNBQWMsRUFBRSxDQUFBO0dBQ2hDOztBQUVELGlCQUFlLEVBQUEsMkJBQUc7QUFDaEIsV0FBTztBQUNMLGdCQUFVLEVBQUUsS0FBSztLQUNsQixDQUFBO0dBQ0Y7Ozs7QUFJRCxVQUFRLEVBQUEsb0JBQUc7UUFDSixRQUFRLEdBQUksSUFBSSxDQUFDLEtBQUssQ0FBdEIsUUFBUTs7QUFDYixRQUFJLElBQUksR0FBRyw2QkFBSyxTQUFTLEVBQUMsZ0JBQWdCLEdBQU8sQ0FBQTs7QUFFakQsUUFBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxPQUFPOztRQUFHLElBQUksRUFBQyxHQUFHO01BQUUsSUFBSTtLQUFLLENBQUE7O0FBRXRELFdBQU8sUUFBUSxHQUNiOztRQUFHLElBQUksRUFBQyx5QkFBeUIsRUFBQyxLQUFLLEVBQUMscUJBQXFCO01BQUUsSUFBSTtLQUFLLEdBQ3hFOztRQUFHLElBQUksRUFBQyxHQUFHLEVBQUMsS0FBSyxFQUFDLFdBQVcsRUFBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLFVBQVUsQUFBQztNQUFFLElBQUk7S0FBSyxDQUFBO0dBQ3JFOztBQUVELFNBQU8sRUFBQSxtQkFBRztBQUNSLFdBQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEtBQUssWUFBWSxDQUFBO0dBQzdDO0NBQ0YsQ0FBQyxDQUFBO0FBQ0YsR0FBRyxDQUFDLGlCQUFpQixHQUFHLEVBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFDLENBQUE7O0FBRXpELE1BQU0sQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIHtSb3V0ZUhhbmRsZXIsIExpbmt9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxuXG52YXIgTGl2ZVNlYXJjaCA9IHJlcXVpcmUoJy4vbGl2ZS1zZWFyY2gnKVxudmFyIEdsb2JhbE5hdmlnYXRpb24gPSByZXF1aXJlKCcuL25hdmlnYXRpb24nKVxuXG52YXIgQXBwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIGxvZ28gPSB0aGlzLm1ha2VMb2dvKClcbiAgICB2YXIgY2Fub25pY2FsVVJMID0gXCJodHRwczovL2NvbGxlY3Rpb25zLmFydHNtaWEub3JnXCIrdGhpcy5wcm9wcy5wYXRoXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMucHJvcHMudW5pdmVyc2FsICYmICd1bml2ZXJzYWwnfT5cbiAgICAgICAge3RoaXMuc3RhdGUuaGlkZUhlYWRlciB8fCA8aGVhZGVyIHN0eWxlPXt7ekluZGV4OiB0aGlzLnN0YXRlLnNob3dNZW51IHx8IHRoaXMuc3RhdGUuc2hvd1NlYXJjaCA/IDUgOiAxfX0+XG4gICAgICAgICAge2xvZ299XG4gICAgICAgICAge3RoaXMuZ2xvYmFsVG9vbEJhcigpfVxuICAgICAgICA8L2hlYWRlcj59XG4gICAgICAgIDxIZWxtZXRcbiAgICAgICAgICB0aXRsZT1cIkNvbGxlY3Rpb24gfCBNaW5uZWFwb2xpcyBJbnN0aXR1dGUgb2YgQXJ0XCJcbiAgICAgICAgICB0aXRsZVRlbXBsYXRlPVwiJXMgfCBNaWFcIlxuICAgICAgICAgIGxpbms9e1tcbiAgICAgICAgICAgIHtcInJlbFwiOiBcImNhbm9uaWNhbFwiLCBcImhyZWZcIjogY2Fub25pY2FsVVJMfSxcbiAgICAgICAgICBdfVxuICAgICAgICAgIG1ldGE9e1tcbiAgICAgICAgICAgIHtwcm9wZXJ0eTogXCJyb2JvdHNcIiwgY29udGVudDogdGhpcy5ub0luZGV4KCkgPyAnZm9sbG93LG5vaW5kZXgnIDogJ2FsbCd9LFxuICAgICAgICAgICAge3Byb3BlcnR5OiBcIm9nOnVybFwiLCBjb250ZW50OiBjYW5vbmljYWxVUkx9LFxuICAgICAgICAgIF19XG4gICAgICAgICAgLz5cbiAgICAgICAgPFJvdXRlSGFuZGxlclxuICAgICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAgIGFjdGl2YXRlU2VhcmNoPXt0aGlzLnN0YXRlLmFjdGl2YXRlU2VhcmNofVxuICAgICAgICAgIHRvZ2dsZUFwcEhlYWRlcj17dGhpcy50b2dnbGVIZWFkZXJ9XG4gICAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfSxcblxuICB0b2dnbGVIZWFkZXIoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7aGlkZUhlYWRlcjogIXRoaXMuc3RhdGUuaGlkZUhlYWRlcn0pXG4gIH0sXG5cbiAgZ2V0Q2hpbGRDb250ZXh0KCkge1xuICAgIHJldHVybiB7XG4gICAgICB1bml2ZXJzYWw6IHRoaXMucHJvcHMudW5pdmVyc2FsLFxuICAgIH1cbiAgfSxcblxuICBnbG9iYWxUb29sQmFyKCkge1xuICAgIHZhciBzZWFyY2hCdXR0b24gPSA8YnV0dG9uIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zIHNlYXJjaFwiIG9uQ2xpY2s9e3RoaXMudG9nZ2xlU2VhcmNofT5cbiAgICAgIHt0aGlzLnN0YXRlLnNob3dTZWFyY2ggPyAnY2xvc2UnIDogJ3NlYXJjaCd9XG4gICAgPC9idXR0b24+XG4gICAgdmFyIHNlYXJjaFRyaWdnZXIgPSB0aGlzLnByb3BzLnVuaXZlcnNhbCA/IDxMaW5rIHRvPVwiaG9tZVwiPntzZWFyY2hCdXR0b259PC9MaW5rPiA6IHNlYXJjaEJ1dHRvblxuICAgIHZhciBtZW51QnV0dG9uID0gPGJ1dHRvbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29ucyBtZW51XCIgb25DbGljaz17dGhpcy50b2dnbGVNZW51fT5cbiAgICAgIHt0aGlzLnN0YXRlLnNob3dNZW51ID8gJ2Nsb3NlJyA6ICdtZW51J31cbiAgICA8L2J1dHRvbj5cbiAgICB2YXIgbWVudVRyaWdnZXIgPSBtZW51QnV0dG9uXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdsb2JhbF9idXR0b25zXCI+XG4gICAgICAgIHttZW51VHJpZ2dlcn1cbiAgICAgICAge3NlYXJjaFRyaWdnZXJ9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2xvYmFsX2Rpc3BsYXlcIj5cbiAgICAgIHt0aGlzLnN0YXRlLnNob3dNZW51ICYmIDxHbG9iYWxOYXZpZ2F0aW9uIGNsb3NlTmF2PXt0aGlzLnRvZ2dsZU1lbnV9IC8+fVxuICAgICAge3RoaXMuc3RhdGUuc2hvd1NlYXJjaCAmJiA8TGl2ZVNlYXJjaCBhZnRlclNlYXJjaD17dGhpcy50b2dnbGVTZWFyY2h9IC8+fVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgdG9nZ2xlU2VhcmNoKGV2ZW50LCB7Zm9yY2VDbG9zZX09e2ZhbHNlfSkge1xuICAgIHZhciB7ZGF0YX0gPSB0aGlzLnByb3BzXG4gICAgdGhpcy5zZXRTdGF0ZShcbiAgICAgIGRhdGEgJiYgZGF0YS5zZWFyY2hSZXN1bHRzICYmICFmb3JjZUNsb3NlID9cbiAgICAgICAge2FjdGl2YXRlU2VhcmNoOiBldmVudC50aW1lU3RhbXB9IDpcbiAgICAgICAge3Nob3dTZWFyY2g6IGZvcmNlQ2xvc2UgPyBmYWxzZSA6ICF0aGlzLnN0YXRlLnNob3dTZWFyY2h9XG4gICAgICApXG4gICAgICB0aGlzLnNldFN0YXRlKHtzaG93TWVudTogZmFsc2V9KVxuICB9LFxuICB0b2dnbGVNZW51KGV2ZW50KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzaG93TWVudTogIXRoaXMuc3RhdGUuc2hvd01lbnUsXG4gICAgICBzaG93U2VhcmNoOiBmYWxzZVxuICAgIH0pXG5cbiAgICBldmVudCAmJiBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzaG93U2VhcmNoOiBmYWxzZVxuICAgIH1cbiAgfSxcblxuICAvLyB3cmFwIGluIGEgY2xpY2sgaGFuZGxlciB3aGVuIHRoZSBuYXZpZ2F0aW9uIGlzbid0IHZpc2libGUsIGFuZCBvcGVuIHRoZSBuYXZcbiAgLy8gb25jZSBuYXYgaXMgb3BlbiwgYSBzZWNvbmQgY2xpY2sgZ29lcyB0byBhcnRzbWlhLm9yZ1xuICBtYWtlTG9nbygpIHtcbiAgICB2YXIge3Nob3dNZW51fSA9IHRoaXMuc3RhdGVcbiAgICB2YXIgbG9nbyA9IDxkaXYgY2xhc3NOYW1lPSdsb2dvLWNvbnRhaW5lcic+PC9kaXY+XG5cbiAgICBpZih0aGlzLnByb3BzLnVuaXZlcnNhbCkgcmV0dXJuIDxhIGhyZWY9XCIvXCI+e2xvZ299PC9hPlxuXG4gICAgcmV0dXJuIHNob3dNZW51ID9cbiAgICAgIDxhIGhyZWY9XCJodHRwczovL25ldy5hcnRzbWlhLm9yZ1wiIHRpdGxlPVwiQmFjayB0byBhcnRzbWlhLm9yZ1wiPntsb2dvfTwvYT4gOlxuICAgICAgPGEgaHJlZj1cIiNcIiB0aXRsZT1cIlNob3cgbWVudVwiIG9uQ2xpY2s9e3RoaXMudG9nZ2xlTWVudX0+e2xvZ299PC9hPlxuICB9LFxuXG4gIG5vSW5kZXgoKSB7XG4gICAgcmV0dXJuIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbidcbiAgfSxcbn0pXG5BcHAuY2hpbGRDb250ZXh0VHlwZXMgPSB7dW5pdmVyc2FsOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbH1cblxubW9kdWxlLmV4cG9ydHMgPSBBcHBcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/app.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/app.js",
      "sourcesContent": [
        "var React = require('react')\nvar {RouteHandler, Link} = require('react-router')\nvar Helmet = require('react-helmet')\n\nvar LiveSearch = require('./live-search')\nvar GlobalNavigation = require('./navigation')\n\nvar App = React.createClass({\n  render() {\n    var logo = this.makeLogo()\n    var canonicalURL = \"https://collections.artsmia.org\"+this.props.path\n\n    return (\n      <div className={this.props.universal && 'universal'}>\n        {this.state.hideHeader || <header style={{zIndex: this.state.showMenu || this.state.showSearch ? 5 : 1}}>\n          {logo}\n          {this.globalToolBar()}\n        </header>}\n        <Helmet\n          title=\"Collection | Minneapolis Institute of Art\"\n          titleTemplate=\"%s | Mia\"\n          link={[\n            {\"rel\": \"canonical\", \"href\": canonicalURL},\n          ]}\n          meta={[\n            {property: \"robots\", content: this.noIndex() ? 'follow,noindex' : 'all'},\n            {property: \"og:url\", content: canonicalURL},\n          ]}\n          />\n        <RouteHandler\n          {...this.props}\n          activateSearch={this.state.activateSearch}\n          toggleAppHeader={this.toggleHeader}\n          />\n      </div>\n    )\n  },\n\n  toggleHeader() {\n    this.setState({hideHeader: !this.state.hideHeader})\n  },\n\n  getChildContext() {\n    return {\n      universal: this.props.universal,\n    }\n  },\n\n  globalToolBar() {\n    var searchButton = <button className=\"material-icons search\" onClick={this.toggleSearch}>\n      {this.state.showSearch ? 'close' : 'search'}\n    </button>\n    var searchTrigger = this.props.universal ? <Link to=\"home\">{searchButton}</Link> : searchButton\n    var menuButton = <button className=\"material-icons menu\" onClick={this.toggleMenu}>\n      {this.state.showMenu ? 'close' : 'menu'}\n    </button>\n    var menuTrigger = menuButton\n    return <div>\n      <div className=\"global_buttons\">\n        {menuTrigger}\n        {searchTrigger}\n      </div>\n      <div className=\"global_display\">\n      {this.state.showMenu && <GlobalNavigation closeNav={this.toggleMenu} />}\n      {this.state.showSearch && <LiveSearch afterSearch={this.toggleSearch} />}\n      </div>\n    </div>\n  },\n\n  toggleSearch(event, {forceClose}={false}) {\n    var {data} = this.props\n    this.setState(\n      data && data.searchResults && !forceClose ?\n        {activateSearch: event.timeStamp} :\n        {showSearch: forceClose ? false : !this.state.showSearch}\n      )\n      this.setState({showMenu: false})\n  },\n  toggleMenu(event) {\n    this.setState({\n      showMenu: !this.state.showMenu,\n      showSearch: false\n    })\n\n    event && event.preventDefault()\n  },\n\n  getInitialState() {\n    return {\n      showSearch: false\n    }\n  },\n\n  // wrap in a click handler when the navigation isn't visible, and open the nav\n  // once nav is open, a second click goes to artsmia.org\n  makeLogo() {\n    var {showMenu} = this.state\n    var logo = <div className='logo-container'></div>\n\n    if(this.props.universal) return <a href=\"/\">{logo}</a>\n\n    return showMenu ?\n      <a href=\"https://new.artsmia.org\" title=\"Back to artsmia.org\">{logo}</a> :\n      <a href=\"#\" title=\"Show menu\" onClick={this.toggleMenu}>{logo}</a>\n  },\n\n  noIndex() {\n    return process.env.NODE_ENV !== 'production'\n  },\n})\nApp.childContextTypes = {universal: React.PropTypes.bool}\n\nmodule.exports = App\n"
      ]
    },
    "mtime": 1487953287526
  },
  "{\"filename\":\"/var/www/art/src/live-search.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\n\nvar Search = require('./search');\nvar SearchResults = require('./search-results');\n\nvar styles = {\n  searchBox: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    minHeight: '3em',\n    zIndex: '1',\n    backgroundColor: 'white',\n    borderBottom: '1em solid #222',\n    background: 'rgb(35,35,35)',\n    color: 'white',\n    paddingTop: '3.3em'\n  },\n\n  message: {\n    textAlign: 'center',\n    display: 'inline-block',\n    width: '100%',\n    paddingTop: '1em'\n  }\n};\n\nvar LiveSearch = React.createClass({\n  displayName: 'LiveSearch',\n\n  render: function render() {\n    return React.createElement(\n      'div',\n      { style: styles.searchBox },\n      React.createElement(\n        Search,\n        {\n          hideResults: true,\n          blank: this.state.blank,\n          activateInput: true,\n          onUpdate: this.updateQuilt,\n          onSearch: this.afterSearch,\n          terms: this.state.terms,\n          results: this.state.results,\n          link: ['searchResults', { terms: this.state.terms }],\n          delay: 1000,\n          suggestStyle: { margin: \"1em 3em\" }\n        },\n        React.createElement(\n          'span',\n          { style: styles.message },\n          this.getText()\n        )\n      )\n    );\n  },\n\n  updateQuilt: function updateQuilt(terms) {\n    var _this = this;\n\n    !!terms && SearchResults.fetchData.searchResults({ terms: terms }).then(function (results) {\n      return _this.setState({ results: results, blank: false, terms: terms });\n    });\n  },\n\n  afterSearch: function afterSearch(terms) {\n    this.props.afterSearch({ forceClose: true });\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      results: [],\n      blank: true\n    };\n  },\n\n  getText: function getText() {\n    var results = this.state.results;\n\n    return results.hits && '(' + Math.min(results.hits.total, 10) + ' of ' + results.hits.total + '\\n      results for \\'' + this.state.terms + '\\'.\\n      hit enter to see the rest)';\n  }\n});\n\nmodule.exports = LiveSearch;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvbGl2ZS1zZWFyY2guanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7O0FBRTVCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQTtBQUNoQyxJQUFJLGFBQWEsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQTs7QUFFL0MsSUFBSSxNQUFNLEdBQUc7QUFDWCxXQUFTLEVBQUU7QUFDVCxZQUFRLEVBQUUsVUFBVTtBQUNwQixPQUFHLEVBQUUsQ0FBQztBQUNOLFFBQUksRUFBRSxDQUFDO0FBQ1AsU0FBSyxFQUFFLENBQUM7QUFDUixhQUFTLEVBQUUsS0FBSztBQUNoQixVQUFNLEVBQUUsR0FBRztBQUNYLG1CQUFlLEVBQUUsT0FBTztBQUN4QixnQkFBWSxFQUFFLGdCQUFnQjtBQUM5QixjQUFVLEVBQUUsZUFBZTtBQUMzQixTQUFLLEVBQUUsT0FBTztBQUNkLGNBQVUsRUFBQyxPQUFPO0dBQ25COztBQUVELFNBQU8sRUFBRTtBQUNQLGFBQVMsRUFBRSxRQUFRO0FBQ25CLFdBQU8sRUFBRSxjQUFjO0FBQ3ZCLFNBQUssRUFBRSxNQUFNO0FBQ2IsY0FBVSxFQUFFLEtBQUs7R0FDbEI7Q0FDRixDQUFBOztBQUVELElBQUksVUFBVSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUNqQyxRQUFNLEVBQUEsa0JBQUc7QUFDUCxXQUFPOztRQUFLLEtBQUssRUFBRSxNQUFNLENBQUMsU0FBUyxBQUFDO01BQ2xDO0FBQUMsY0FBTTs7QUFDTCxxQkFBVyxFQUFFLElBQUksQUFBQztBQUNsQixlQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEFBQUM7QUFDeEIsdUJBQWEsRUFBRSxJQUFJLEFBQUM7QUFDcEIsa0JBQVEsRUFBRSxJQUFJLENBQUMsV0FBVyxBQUFDO0FBQzNCLGtCQUFRLEVBQUUsSUFBSSxDQUFDLFdBQVcsQUFBQztBQUMzQixlQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEFBQUM7QUFDeEIsaUJBQU8sRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQUFBQztBQUM1QixjQUFJLEVBQUUsQ0FBQyxlQUFlLEVBQUUsRUFBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUMsQ0FBQyxBQUFDO0FBQ25ELGVBQUssRUFBRSxJQUFJLEFBQUM7QUFDWixzQkFBWSxFQUFFLEVBQUMsTUFBTSxFQUFFLFNBQVMsRUFBQyxBQUFDOztRQUVsQzs7WUFBTSxLQUFLLEVBQUUsTUFBTSxDQUFDLE9BQU8sQUFBQztVQUFFLElBQUksQ0FBQyxPQUFPLEVBQUU7U0FBUTtPQUM3QztLQUNMLENBQUE7R0FDUDs7QUFFRCxhQUFXLEVBQUEscUJBQUMsS0FBSyxFQUFFOzs7QUFDakIsS0FBQyxDQUFDLEtBQUssSUFDTCxhQUFhLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxFQUFDLEtBQUssRUFBTCxLQUFLLEVBQUMsQ0FBQyxDQUM3QyxJQUFJLENBQUMsVUFBQSxPQUFPO2FBQUksTUFBSyxRQUFRLENBQUMsRUFBQyxPQUFPLEVBQVAsT0FBTyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFMLEtBQUssRUFBQyxDQUFDO0tBQUEsQ0FBQyxDQUFBO0dBQ2xFOztBQUVELGFBQVcsRUFBQSxxQkFBQyxLQUFLLEVBQUU7QUFDakIsUUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsRUFBQyxVQUFVLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQTtHQUMzQzs7QUFFRCxpQkFBZSxFQUFBLDJCQUFHO0FBQ2hCLFdBQU87QUFDTCxhQUFPLEVBQUUsRUFBRTtBQUNYLFdBQUssRUFBRSxJQUFJO0tBQ1osQ0FBQTtHQUNGOztBQUVELFNBQU8sRUFBQSxtQkFBRztRQUNILE9BQU8sR0FBSSxJQUFJLENBQUMsS0FBSyxDQUFyQixPQUFPOztBQUNaLFdBQU8sT0FBTyxDQUFDLElBQUksVUFDYixJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxZQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyw4QkFDOUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLDBDQUNKLENBQUE7R0FDOUI7Q0FDRixDQUFDLENBQUE7O0FBRUYsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFVLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9saXZlLXNlYXJjaC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcblxudmFyIFNlYXJjaCA9IHJlcXVpcmUoJy4vc2VhcmNoJylcbnZhciBTZWFyY2hSZXN1bHRzID0gcmVxdWlyZSgnLi9zZWFyY2gtcmVzdWx0cycpXG5cbnZhciBzdHlsZXMgPSB7XG4gIHNlYXJjaEJveDoge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRvcDogMCxcbiAgICBsZWZ0OiAwLFxuICAgIHJpZ2h0OiAwLFxuICAgIG1pbkhlaWdodDogJzNlbScsXG4gICAgekluZGV4OiAnMScsXG4gICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgIGJvcmRlckJvdHRvbTogJzFlbSBzb2xpZCAjMjIyJyxcbiAgICBiYWNrZ3JvdW5kOiAncmdiKDM1LDM1LDM1KScsXG4gICAgY29sb3I6ICd3aGl0ZScsXG4gICAgcGFkZGluZ1RvcDonMy4zZW0nXG4gIH0sXG5cbiAgbWVzc2FnZToge1xuICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgd2lkdGg6ICcxMDAlJyxcbiAgICBwYWRkaW5nVG9wOiAnMWVtJyxcbiAgfSxcbn1cblxudmFyIExpdmVTZWFyY2ggPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPGRpdiBzdHlsZT17c3R5bGVzLnNlYXJjaEJveH0+XG4gICAgICA8U2VhcmNoXG4gICAgICAgIGhpZGVSZXN1bHRzPXt0cnVlfVxuICAgICAgICBibGFuaz17dGhpcy5zdGF0ZS5ibGFua31cbiAgICAgICAgYWN0aXZhdGVJbnB1dD17dHJ1ZX1cbiAgICAgICAgb25VcGRhdGU9e3RoaXMudXBkYXRlUXVpbHR9XG4gICAgICAgIG9uU2VhcmNoPXt0aGlzLmFmdGVyU2VhcmNofVxuICAgICAgICB0ZXJtcz17dGhpcy5zdGF0ZS50ZXJtc31cbiAgICAgICAgcmVzdWx0cz17dGhpcy5zdGF0ZS5yZXN1bHRzfVxuICAgICAgICBsaW5rPXtbJ3NlYXJjaFJlc3VsdHMnLCB7dGVybXM6IHRoaXMuc3RhdGUudGVybXN9XX1cbiAgICAgICAgZGVsYXk9ezEwMDB9XG4gICAgICAgIHN1Z2dlc3RTdHlsZT17e21hcmdpbjogXCIxZW0gM2VtXCJ9fVxuICAgICAgICA+XG4gICAgICAgIDxzcGFuIHN0eWxlPXtzdHlsZXMubWVzc2FnZX0+e3RoaXMuZ2V0VGV4dCgpfTwvc3Bhbj5cbiAgICAgIDwvU2VhcmNoPlxuICAgIDwvZGl2PlxuICB9LFxuXG4gIHVwZGF0ZVF1aWx0KHRlcm1zKSB7XG4gICAgISF0ZXJtcyAmJlxuICAgICAgU2VhcmNoUmVzdWx0cy5mZXRjaERhdGEuc2VhcmNoUmVzdWx0cyh7dGVybXN9KVxuICAgICAgLnRoZW4ocmVzdWx0cyA9PiB0aGlzLnNldFN0YXRlKHtyZXN1bHRzLCBibGFuazogZmFsc2UsIHRlcm1zfSkpXG4gIH0sXG5cbiAgYWZ0ZXJTZWFyY2godGVybXMpIHtcbiAgICB0aGlzLnByb3BzLmFmdGVyU2VhcmNoKHtmb3JjZUNsb3NlOiB0cnVlfSlcbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3VsdHM6IFtdLFxuICAgICAgYmxhbms6IHRydWVcbiAgICB9XG4gIH0sXG5cbiAgZ2V0VGV4dCgpIHtcbiAgICB2YXIge3Jlc3VsdHN9ID0gdGhpcy5zdGF0ZVxuICAgIHJldHVybiByZXN1bHRzLmhpdHMgJiZcbiAgICAgIGAoJHtNYXRoLm1pbihyZXN1bHRzLmhpdHMudG90YWwsIDEwKX0gb2YgJHtyZXN1bHRzLmhpdHMudG90YWx9XG4gICAgICByZXN1bHRzIGZvciAnJHt0aGlzLnN0YXRlLnRlcm1zfScuXG4gICAgICBoaXQgZW50ZXIgdG8gc2VlIHRoZSByZXN0KWBcbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gTGl2ZVNlYXJjaFxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/live-search.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;AAE5B,IAAI,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA;AAChC,IAAI,aAAa,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAA;;AAE/C,IAAI,MAAM,GAAG;AACX,WAAS,EAAE;AACT,YAAQ,EAAE,UAAU;AACpB,OAAG,EAAE,CAAC;AACN,QAAI,EAAE,CAAC;AACP,SAAK,EAAE,CAAC;AACR,aAAS,EAAE,KAAK;AAChB,UAAM,EAAE,GAAG;AACX,mBAAe,EAAE,OAAO;AACxB,gBAAY,EAAE,gBAAgB;AAC9B,cAAU,EAAE,eAAe;AAC3B,SAAK,EAAE,OAAO;AACd,cAAU,EAAC,OAAO;GACnB;;AAED,SAAO,EAAE;AACP,aAAS,EAAE,QAAQ;AACnB,WAAO,EAAE,cAAc;AACvB,SAAK,EAAE,MAAM;AACb,cAAU,EAAE,KAAK;GAClB;CACF,CAAA;;AAED,IAAI,UAAU,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACjC,QAAM,EAAA,kBAAG;AACP,WAAO;;QAAK,KAAK,EAAE,MAAM,CAAC,SAAS,AAAC;MAClC;AAAC,cAAM;;AACL,qBAAW,EAAE,IAAI,AAAC;AAClB,eAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,AAAC;AACxB,uBAAa,EAAE,IAAI,AAAC;AACpB,kBAAQ,EAAE,IAAI,CAAC,WAAW,AAAC;AAC3B,kBAAQ,EAAE,IAAI,CAAC,WAAW,AAAC;AAC3B,eAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,AAAC;AACxB,iBAAO,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,AAAC;AAC5B,cAAI,EAAE,CAAC,eAAe,EAAE,EAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,EAAC,CAAC,AAAC;AACnD,eAAK,EAAE,IAAI,AAAC;AACZ,sBAAY,EAAE,EAAC,MAAM,EAAE,SAAS,EAAC,AAAC;;QAElC;;YAAM,KAAK,EAAE,MAAM,CAAC,OAAO,AAAC;UAAE,IAAI,CAAC,OAAO,EAAE;SAAQ;OAC7C;KACL,CAAA;GACP;;AAED,aAAW,EAAA,qBAAC,KAAK,EAAE;;;AACjB,KAAC,CAAC,KAAK,IACL,aAAa,CAAC,SAAS,CAAC,aAAa,CAAC,EAAC,KAAK,EAAL,KAAK,EAAC,CAAC,CAC7C,IAAI,CAAC,UAAA,OAAO;aAAI,MAAK,QAAQ,CAAC,EAAC,OAAO,EAAP,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAL,KAAK,EAAC,CAAC;KAAA,CAAC,CAAA;GAClE;;AAED,aAAW,EAAA,qBAAC,KAAK,EAAE;AACjB,QAAI,CAAC,KAAK,CAAC,WAAW,CAAC,EAAC,UAAU,EAAE,IAAI,EAAC,CAAC,CAAA;GAC3C;;AAED,iBAAe,EAAA,2BAAG;AAChB,WAAO;AACL,aAAO,EAAE,EAAE;AACX,WAAK,EAAE,IAAI;KACZ,CAAA;GACF;;AAED,SAAO,EAAA,mBAAG;QACH,OAAO,GAAI,IAAI,CAAC,KAAK,CAArB,OAAO;;AACZ,WAAO,OAAO,CAAC,IAAI,UACb,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,CAAC,YAAO,OAAO,CAAC,IAAI,CAAC,KAAK,8BAC9C,IAAI,CAAC,KAAK,CAAC,KAAK,0CACJ,CAAA;GAC9B;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,UAAU,CAAA",
      "file": "/var/www/art/src/live-search.js",
      "sourcesContent": [
        "var React = require('react')\n\nvar Search = require('./search')\nvar SearchResults = require('./search-results')\n\nvar styles = {\n  searchBox: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    minHeight: '3em',\n    zIndex: '1',\n    backgroundColor: 'white',\n    borderBottom: '1em solid #222',\n    background: 'rgb(35,35,35)',\n    color: 'white',\n    paddingTop:'3.3em'\n  },\n\n  message: {\n    textAlign: 'center',\n    display: 'inline-block',\n    width: '100%',\n    paddingTop: '1em',\n  },\n}\n\nvar LiveSearch = React.createClass({\n  render() {\n    return <div style={styles.searchBox}>\n      <Search\n        hideResults={true}\n        blank={this.state.blank}\n        activateInput={true}\n        onUpdate={this.updateQuilt}\n        onSearch={this.afterSearch}\n        terms={this.state.terms}\n        results={this.state.results}\n        link={['searchResults', {terms: this.state.terms}]}\n        delay={1000}\n        suggestStyle={{margin: \"1em 3em\"}}\n        >\n        <span style={styles.message}>{this.getText()}</span>\n      </Search>\n    </div>\n  },\n\n  updateQuilt(terms) {\n    !!terms &&\n      SearchResults.fetchData.searchResults({terms})\n      .then(results => this.setState({results, blank: false, terms}))\n  },\n\n  afterSearch(terms) {\n    this.props.afterSearch({forceClose: true})\n  },\n\n  getInitialState() {\n    return {\n      results: [],\n      blank: true\n    }\n  },\n\n  getText() {\n    var {results} = this.state\n    return results.hits &&\n      `(${Math.min(results.hits.total, 10)} of ${results.hits.total}\n      results for '${this.state.terms}'.\n      hit enter to see the rest)`\n  },\n})\n\nmodule.exports = LiveSearch\n"
      ]
    },
    "mtime": 1447960210959
  },
  "{\"filename\":\"/var/www/art/src/search.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar NotFoundRoute = Router.NotFoundRoute;\nvar Navigation = Router.Navigation;\nvar State = Router.State;\nvar Link = Router.Link;\nvar Route = Router.Route;\nvar RouteHandler = Router.RouteHandler;\nvar DefaultRoute = Router.DefaultRoute;\nvar Redirect = Router.Redirect;\n\nvar rest = require('rest');\nvar debounce = require('debounce');\nvar SEARCH = require('./endpoints').search;\n\nvar ImageQuilt = require('./image-quilt');\nvar SearchResults = require('./search-results');\nvar Suggest = require('./suggest');\nvar searchLanguageMap = require('./search-language');\n\nvar Search = React.createClass({\n  displayName: 'Search',\n\n  mixins: [Router.State, Router.Navigation],\n\n  getInitialState: function getInitialState() {\n    var blank = this.props.blank;\n\n    var results = this.props.results || this.props.data && this.props.data.searchResults || [];\n    results || this.props.blank || this.transitionTo('home');\n\n    return {\n      results: results,\n      terms: blank ? '' : this.props.params && this.props.params.terms && decodeURIComponent(this.props.params.terms),\n      hits: results && results.hits && results.hits.hits || [],\n      showAggs: this.props.showAggs,\n      blank: this.props.blank\n    };\n  },\n\n  render: function render() {\n    var results = this.state.results;\n    var hits = results && results.hits && results.hits.hits; // this has to be different from `state.hits` so artworks don't change order when hovered in the quilt\n    var darkenQuilt = this.props.path && this.props.path.match(/\\/search/);\n    var headerArtworks = ImageQuilt.getImagedResults(hits);\n    var showQuilt = !darkenQuilt && headerArtworks;\n    var quiltProps = Object.assign({\n      maxRows: this.state.showAggs ? 1 : 2,\n      maxWorks: 10,\n      artworks: headerArtworks,\n      onClick: this.updateFromQuilt,\n      disableHover: this.props.hideResults || this.props.disableHover,\n      lazyLoad: !this.context.universal,\n      darken: darkenQuilt,\n      shuffle: this.props.shuffleQuilt\n    }, this.props.quiltProps || {});\n\n    var idealSearchBoxWidth = Math.max(17, this.state.terms && this.state.terms.length * 1.1 || 0);\n    var nakedSimpleSearchBox = React.createElement(\n      'div',\n      { className: 'search-wrapper', style: { width: idealSearchBoxWidth + 'em' } },\n      React.createElement(\n        'form',\n        { action: '' },\n        React.createElement('input', { className: 'search-input', type: 'search',\n          placeholder: 'search',\n          value: searchLanguageMap(this.state.terms),\n          onKeyDown: this.keyDown,\n          onChange: this.throttledSearch,\n          onFocus: function (_ref) {\n            var target = _ref.target;\n            return target && target.select();\n          },\n          style: { width: '100%', pointerEvents: 'all' },\n          name: 'q',\n          ref: 'searchInput',\n          autoComplete: 'off',\n          list: 'searchCompletions'\n        })\n      )\n    );\n\n    var simpleSearchBox = this.context.universal ? React.createElement(\n      'form',\n      { action: '/search/', method: 'get' },\n      nakedSimpleSearchBox\n    ) : nakedSimpleSearchBox;\n\n    var hideInput = this.props.hideInput && !this.state.activateSearch;\n    var searchStyles = {\n      left: 0,\n      right: 0,\n      width: '100%',\n      textAlign: 'center',\n      pointerEvents: 'none',\n      display: hideInput ? 'none' : 'inherit',\n      padding: this.props.bumpSearchBox ? '0.5em' : '0'\n    };\n\n    var searchOverQuiltStyles = _extends({}, searchStyles, {\n      position: 'absolute',\n      top: '50%',\n      transform: \"translateY(-50%)\",\n      WebkitTransform: \"translateY(-50%)\"\n    });\n\n    var searchBox = React.createElement(\n      'div',\n      { className: 'quilt-search-wrap', style: showQuilt && { position: 'relative', width: '100%', overflow: 'hidden' } || {} },\n      showQuilt && React.createElement(ImageQuilt, quiltProps) || React.createElement('span', { style: { display: 'block', minHeight: '3.5rem' } }),\n      React.createElement(\n        'div',\n        { className: 'search-wrap',\n          style: showQuilt && !this.props.bumpSearchBox ? searchOverQuiltStyles : searchStyles },\n        React.createElement(\n          'div',\n          null,\n          simpleSearchBox\n        )\n      )\n    );\n\n    var aggsProps = {\n      showAggs: this.state.showAggs,\n      toggleAggs: this.toggleAggs\n    };\n\n    var suggestions = React.createElement(Suggest, {\n      search: this.props.data && this.props.data.searchResults,\n      completions: this.state.completions,\n      style: this.props.suggestStyle\n    });\n\n    return React.createElement(\n      'div',\n      { id: 'search' },\n      searchBox,\n      this.props.children,\n      this.props.hideResults && suggestions || React.createElement(\n        'div',\n        null,\n        React.createElement(SearchResults, _extends({}, this.props, {\n          hits: this.state.hits\n        }, aggsProps, {\n          suggestions: suggestions,\n          minHeight: this.state.minHeight\n        }))\n      )\n    );\n  },\n\n  componentWillMount: function componentWillMount() {\n    var update = this.props.onUpdate || this.search;\n    var delay = this.props.delay;\n\n    var isDesktop = typeof window.orientation === 'undefined';\n\n    this.debouncedSearch = delay || isDesktop ? debounce(update, this.props.delay || 3000) : undefined;\n    this.debouncedAutocomplete = debounce(this.autocomplete, 300);\n  },\n\n  autocomplete: function autocomplete(terms) {\n    var _this = this;\n\n    if (terms == '') return;\n    rest(SEARCH + '/autofill/' + decodeURIComponent(terms)).then(function (r) {\n      return JSON.parse(r.entity);\n    }).then(function (completions) {\n      return _this.setState({ completions: completions });\n    });\n  },\n\n  componentDidMount: function componentDidMount() {\n    if (this.props.activateInput) {\n      this.activateSearch();\n    }\n  },\n\n  throttledSearch: function throttledSearch(event) {\n    var terms = searchLanguageMap(event.target.value);\n    this.setState({ terms: terms });\n    this.debouncedSearch && this.debouncedSearch(terms);\n    this.debouncedAutocomplete(terms);\n  },\n\n  search: function search() {\n    var terms = this.normalizeTerms(this.state.terms);\n    var _props = this.props;\n    var facet = _props.facet;\n    var searchAll = _props.searchAll;\n\n    if (terms === '') return;\n\n    var filters = this.props.params && this.props.params.splat;\n    if (filters && filters.match(/deaccessioned:.?true.?/)) facet = filters;\n    this.props.onSearch && this.props.onSearch(terms);\n    this.transitionTo(facet && !searchAll ? 'filteredSearchResults' : 'searchResults', { terms: terms, splat: facet });\n  },\n\n  keyDown: function keyDown(event) {\n    if (event.key == 'Enter') {\n      this.search();\n      event.preventDefault();\n    }\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    // Replace `terms` with the terms from the current search, so back+forward\n    // work correctly. UNLESS the only difference is insignificant whitespace.\n    var nextTerms = nextProps.params && nextProps.params.terms || nextProps.terms;\n    if (this.normalizeTerms() != nextTerms) {\n      this.setState({ terms: nextTerms });\n    }\n    var results = nextProps.results || nextProps.data && nextProps.data.searchResults;\n    this.setState({ results: results, hits: results && results.hits && results.hits.hits || [] });\n  },\n\n  componentDidUpdate: function componentDidUpdate(prevProps) {\n    var activateSearch = this.props.activateSearch;\n\n    if (activateSearch && activateSearch !== this.state.activateSearch) {\n      this.activateSearch();\n      this.setState({ activateSearch: activateSearch });\n    }\n  },\n\n  normalizeTerms: function normalizeTerms() {\n    var terms = arguments.length <= 0 || arguments[0] === undefined ? this.state.terms : arguments[0];\n\n    return terms && terms.replace(/\\s+/, ' ').trim();\n  },\n\n  // update `state.hits` to float a hit from the quilt to the top.\n  // If no `art` is passed, that means the quilt has lost focus,\n  // reset hits to be the searchResults straigt from ES\n  updateFromQuilt: function updateFromQuilt(art) {\n    var hits = this.state.results.hits.hits;\n    if (art) {\n      if (this.props.facet) this.linkToClickedArtwork(this.props.facet, art);\n      var index = hits.indexOf(art) + 1;\n      if (hits.indexOf(art) === -1) {\n        var sameArtDifferentObject = hits.filter(function (h) {\n          return h._id === art._id;\n        });\n        if (sameArtDifferentObject) index = hits.indexOf(sameArtDifferentObject[0]) + 1;\n      }\n      var nextHits = [art].concat(hits);\n      nextHits.splice(index, 1);\n      this.setState({ hits: nextHits || hits });\n    }\n  },\n\n  linkToClickedArtwork: function linkToClickedArtwork(facet, art) {\n    window.clickedArtwork = art;\n    this.props.onSearch && this.props.onSearch('clicked a link');\n    this.transitionTo(facet ? 'filteredSearchResults' : 'searchResults', { terms: '*', splat: facet });\n  },\n\n  toggleAggs: function toggleAggs() {\n    this.setState({ showAggs: !this.state.showAggs });\n  },\n\n  activateSearch: function activateSearch() {\n    var node = React.findDOMNode(this.refs.searchInput);\n    if (node) {\n      node.focus();\n      node.value && node.setSelectionRange(0, node.value.length);\n    }\n  }\n});\nSearch.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nmodule.exports = Search;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvc2VhcmNoLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0lBQzlCLGFBQWEsR0FBMkUsTUFBTSxDQUE5RixhQUFhO0lBQUUsVUFBVSxHQUErRCxNQUFNLENBQS9FLFVBQVU7SUFBRSxLQUFLLEdBQXdELE1BQU0sQ0FBbkUsS0FBSztJQUFFLElBQUksR0FBa0QsTUFBTSxDQUE1RCxJQUFJO0lBQUUsS0FBSyxHQUEyQyxNQUFNLENBQXRELEtBQUs7SUFBRSxZQUFZLEdBQTZCLE1BQU0sQ0FBL0MsWUFBWTtJQUFFLFlBQVksR0FBZSxNQUFNLENBQWpDLFlBQVk7SUFBRSxRQUFRLEdBQUssTUFBTSxDQUFuQixRQUFROztBQUN6RixJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUE7QUFDMUIsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFBO0FBQ2xDLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQyxNQUFNLENBQUE7O0FBRTFDLElBQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQTtBQUN6QyxJQUFJLGFBQWEsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQTtBQUMvQyxJQUFJLE9BQU8sR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUE7QUFDbEMsSUFBSSxpQkFBaUIsR0FBRyxPQUFPLENBQUMsbUJBQW1CLENBQUMsQ0FBQTs7QUFHcEQsSUFBSSxNQUFNLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQzdCLFFBQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLFVBQVUsQ0FBQzs7QUFFekMsaUJBQWUsRUFBQSwyQkFBRztRQUNULEtBQUssR0FBSSxJQUFJLENBQUMsS0FBSyxDQUFuQixLQUFLOztBQUNaLFFBQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGFBQWEsSUFBSSxFQUFFLENBQUE7QUFDNUYsV0FBTyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUE7O0FBRXhELFdBQU87QUFDTCxhQUFPLEVBQUUsT0FBTztBQUNoQixXQUFLLEVBQUUsS0FBSyxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxLQUFLLElBQUksa0JBQWtCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDO0FBQy9HLFVBQUksRUFBRSxPQUFPLElBQUksT0FBTyxDQUFDLElBQUksSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxFQUFFO0FBQ3hELGNBQVEsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVE7QUFDN0IsV0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSztLQUN4QixDQUFBO0dBQ0Y7O0FBRUQsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsUUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUE7QUFDbEMsUUFBTSxJQUFJLEdBQUcsT0FBTyxJQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUE7QUFDekQsUUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFBO0FBQ3hFLFFBQU0sY0FBYyxHQUFHLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQTtBQUN4RCxRQUFNLFNBQVMsR0FBRyxDQUFDLFdBQVcsSUFBSSxjQUFjLENBQUE7QUFDaEQsUUFBSSxVQUFVLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztBQUM3QixhQUFPLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsQ0FBQyxHQUFHLENBQUM7QUFDcEMsY0FBUSxFQUFFLEVBQUU7QUFDWixjQUFRLEVBQUUsY0FBYztBQUN4QixhQUFPLEVBQUUsSUFBSSxDQUFDLGVBQWU7QUFDN0Isa0JBQVksRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVk7QUFDL0QsY0FBUSxFQUFFLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTO0FBQ2pDLFlBQU0sRUFBRSxXQUFXO0FBQ25CLGFBQU8sRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVk7S0FDakMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsSUFBSSxFQUFFLENBQUMsQ0FBQTs7QUFFL0IsUUFBTSxtQkFBbUIsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFBO0FBQzlGLFFBQU0sb0JBQW9CLEdBQUc7O1FBQUssU0FBUyxFQUFDLGdCQUFnQixFQUFDLEtBQUssRUFBRSxFQUFDLEtBQUssRUFBRSxtQkFBbUIsR0FBRyxJQUFJLEVBQUMsQUFBQztNQUN0Rzs7VUFBTSxNQUFNLEVBQUMsRUFBRTtRQUFDLCtCQUFPLFNBQVMsRUFBQyxjQUFjLEVBQUMsSUFBSSxFQUFDLFFBQVE7QUFDM0QscUJBQVcsRUFBQyxRQUFRO0FBQ3BCLGVBQUssRUFBRSxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxBQUFDO0FBQzNDLG1CQUFTLEVBQUUsSUFBSSxDQUFDLE9BQU8sQUFBQztBQUN4QixrQkFBUSxFQUFFLElBQUksQ0FBQyxlQUFlLEFBQUM7QUFDL0IsaUJBQU8sRUFBRSxVQUFDLElBQVE7Z0JBQVAsTUFBTSxHQUFQLElBQVEsQ0FBUCxNQUFNO21CQUFNLE1BQU0sSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFO1dBQUEsQUFBQztBQUNqRCxlQUFLLEVBQUUsRUFBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLGFBQWEsRUFBRSxLQUFLLEVBQUMsQUFBQztBQUM3QyxjQUFJLEVBQUMsR0FBRztBQUNSLGFBQUcsRUFBQyxhQUFhO0FBQ2pCLHNCQUFZLEVBQUMsS0FBSztBQUNsQixjQUFJLEVBQUMsbUJBQW1CO1VBQ3RCO09BQU87S0FDUCxDQUFBOztBQUVOLFFBQU0sZUFBZSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxHQUM1Qzs7UUFBTSxNQUFNLEVBQUMsVUFBVSxFQUFDLE1BQU0sRUFBQyxLQUFLO01BQUUsb0JBQW9CO0tBQVEsR0FDbEUsb0JBQW9CLENBQUE7O0FBRXRCLFFBQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUE7QUFDcEUsUUFBSSxZQUFZLEdBQUc7QUFDakIsVUFBSSxFQUFFLENBQUM7QUFDUCxXQUFLLEVBQUUsQ0FBQztBQUNSLFdBQUssRUFBRSxNQUFNO0FBQ2IsZUFBUyxFQUFFLFFBQVE7QUFDbkIsbUJBQWEsRUFBRSxNQUFNO0FBQ3JCLGFBQU8sRUFBRSxTQUFTLEdBQUcsTUFBTSxHQUFHLFNBQVM7QUFDdkMsYUFBTyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxHQUFHLE9BQU8sR0FBRyxHQUFHO0tBQ2xELENBQUE7O0FBRUQsUUFBSSxxQkFBcUIsZ0JBQ3BCLFlBQVk7QUFDZixjQUFRLEVBQUUsVUFBVTtBQUNwQixTQUFHLEVBQUUsS0FBSztBQUNWLGVBQVMsRUFBRSxrQkFBa0I7QUFDN0IscUJBQWUsRUFBRSxrQkFBa0I7TUFDcEMsQ0FBQTs7QUFFRCxRQUFNLFNBQVMsR0FDYjs7UUFBSyxTQUFTLEVBQUMsbUJBQW1CLEVBQUMsS0FBSyxFQUFFLFNBQVMsSUFBSSxFQUFDLFFBQVEsRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFDLElBQUksRUFBRSxBQUFDO01BQ3BILFNBQVMsSUFBSSxvQkFBQyxVQUFVLEVBQUssVUFBVSxDQUFJLElBQUksOEJBQU0sS0FBSyxFQUFFLEVBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFDLEFBQUMsR0FBRztNQUN4Rzs7VUFBSyxTQUFTLEVBQUMsYUFBYTtBQUMxQixlQUFLLEVBQUUsU0FBUyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLEdBQUcscUJBQXFCLEdBQUcsWUFBWSxBQUFDO1FBQ3JGOzs7VUFBTSxlQUFlO1NBQU87T0FDeEI7S0FDRixBQUNQLENBQUE7O0FBRUQsUUFBSSxTQUFTLEdBQUc7QUFDZCxjQUFRLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRO0FBQzdCLGdCQUFVLEVBQUUsSUFBSSxDQUFDLFVBQVU7S0FDNUIsQ0FBQTs7QUFFRCxRQUFJLFdBQVcsR0FBRyxvQkFBQyxPQUFPO0FBQ3hCLFlBQU0sRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxhQUFhLEFBQUM7QUFDekQsaUJBQVcsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQUFBQztBQUNwQyxXQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLEFBQUM7TUFDN0IsQ0FBQTs7QUFFSixXQUNFOztRQUFLLEVBQUUsRUFBQyxRQUFRO01BQ2IsU0FBUztNQUNULElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUTtNQUNuQixJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsSUFBSSxXQUFXLElBQUk7OztRQUN4QyxvQkFBQyxhQUFhLGVBQUssSUFBSSxDQUFDLEtBQUs7QUFDM0IsY0FBSSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxBQUFDO1dBQ2xCLFNBQVM7QUFDYixxQkFBVyxFQUFFLFdBQVcsQUFBQztBQUN6QixtQkFBUyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxBQUFDO1dBQ2hDO09BQ0U7S0FDRixDQUNQO0dBQ0Y7O0FBRUQsb0JBQWtCLEVBQUEsOEJBQUc7QUFDbkIsUUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQTtRQUMxQyxLQUFLLEdBQUksSUFBSSxDQUFDLEtBQUssQ0FBbkIsS0FBSzs7QUFDVixRQUFJLFNBQVMsR0FBRyxPQUFPLE1BQU0sQ0FBQyxXQUFXLEtBQUssV0FBVyxDQUFBOztBQUV6RCxRQUFJLENBQUMsZUFBZSxHQUFHLEFBQUMsS0FBSyxJQUFJLFNBQVMsR0FDeEMsUUFBUSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsR0FDMUMsU0FBUyxDQUFBO0FBQ1gsUUFBSSxDQUFDLHFCQUFxQixHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLEdBQUcsQ0FBQyxDQUFBO0dBQzlEOztBQUVELGNBQVksRUFBQSxzQkFBQyxLQUFLLEVBQUU7OztBQUNsQixRQUFHLEtBQUssSUFBSSxFQUFFLEVBQUUsT0FBTTtBQUN0QixRQUFJLENBQUksTUFBTSxrQkFBYSxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsQ0FBRyxDQUN0RCxJQUFJLENBQUMsVUFBQyxDQUFDO2FBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO0tBQUEsQ0FBRSxDQUNsQyxJQUFJLENBQUMsVUFBQSxXQUFXO2FBQUksTUFBSyxRQUFRLENBQUMsRUFBQyxXQUFXLEVBQVgsV0FBVyxFQUFDLENBQUM7S0FBQSxDQUFDLENBQUE7R0FDbkQ7O0FBRUQsbUJBQWlCLEVBQUEsNkJBQUc7QUFDbEIsUUFBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsRUFBRTtBQUMzQixVQUFJLENBQUMsY0FBYyxFQUFFLENBQUE7S0FDdEI7R0FDRjs7QUFFRCxpQkFBZSxFQUFBLHlCQUFDLEtBQUssRUFBRTtBQUNyQixRQUFJLEtBQUssR0FBRyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFBO0FBQ2pELFFBQUksQ0FBQyxRQUFRLENBQUMsRUFBQyxLQUFLLEVBQUUsS0FBSyxFQUFDLENBQUMsQ0FBQTtBQUM3QixRQUFJLENBQUMsZUFBZSxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUE7QUFDbkQsUUFBSSxDQUFDLHFCQUFxQixDQUFDLEtBQUssQ0FBQyxDQUFBO0dBQ2xDOztBQUVELFFBQU0sRUFBQSxrQkFBRztBQUNQLFFBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQTtpQkFDeEIsSUFBSSxDQUFDLEtBQUs7UUFBOUIsS0FBSyxVQUFMLEtBQUs7UUFBRSxTQUFTLFVBQVQsU0FBUzs7QUFDckIsUUFBRyxLQUFLLEtBQUssRUFBRSxFQUFFLE9BQU07O0FBRXZCLFFBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQTtBQUMxRCxRQUFHLE9BQU8sSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDLHdCQUF3QixDQUFDLEVBQUUsS0FBSyxHQUFHLE9BQU8sQ0FBQTtBQUN0RSxRQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQTtBQUNqRCxRQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssSUFBSSxDQUFDLFNBQVMsR0FBRyx1QkFBdUIsR0FBRyxlQUFlLEVBQUUsRUFBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUMsQ0FBQyxDQUFBO0dBQ2pIOztBQUVELFNBQU8sRUFBQSxpQkFBQyxLQUFLLEVBQUU7QUFDYixRQUFHLEtBQUssQ0FBQyxHQUFHLElBQUksT0FBTyxFQUFFO0FBQ3ZCLFVBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQTtBQUNiLFdBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQTtLQUN2QjtHQUNGOztBQUVELDJCQUF5QixFQUFBLG1DQUFDLFNBQVMsRUFBRTs7O0FBR25DLFFBQUksU0FBUyxHQUFHLFNBQVMsQ0FBQyxNQUFNLElBQUksU0FBUyxDQUFDLE1BQU0sQ0FBQyxLQUFLLElBQUksU0FBUyxDQUFDLEtBQUssQ0FBQTtBQUM3RSxRQUFHLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxTQUFTLEVBQUU7QUFDckMsVUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFDLEtBQUssRUFBRSxTQUFTLEVBQUMsQ0FBQyxDQUFBO0tBQ2xDO0FBQ0QsUUFBTSxPQUFPLEdBQUcsU0FBUyxDQUFDLE9BQU8sSUFBSSxTQUFTLENBQUMsSUFBSSxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFBO0FBQ25GLFFBQUksQ0FBQyxRQUFRLENBQUMsRUFBQyxPQUFPLEVBQVAsT0FBTyxFQUFFLElBQUksRUFBRSxPQUFPLElBQUksT0FBTyxDQUFDLElBQUksSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxFQUFFLEVBQUMsQ0FBQyxDQUFBO0dBQ25GOztBQUVELG9CQUFrQixFQUFBLDRCQUFDLFNBQVMsRUFBRTtRQUN2QixjQUFjLEdBQUksSUFBSSxDQUFDLEtBQUssQ0FBNUIsY0FBYzs7QUFDbkIsUUFBRyxjQUFjLElBQUksY0FBYyxLQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYyxFQUFFO0FBQ2pFLFVBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQTtBQUNyQixVQUFJLENBQUMsUUFBUSxDQUFDLEVBQUMsY0FBYyxFQUFFLGNBQWMsRUFBQyxDQUFDLENBQUE7S0FDaEQ7R0FDRjs7QUFFRCxnQkFBYyxFQUFBLDBCQUF5QjtRQUF4QixLQUFLLHlEQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSzs7QUFDbkMsV0FBTyxLQUFLLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUE7R0FDakQ7Ozs7O0FBS0QsaUJBQWUsRUFBQSx5QkFBQyxHQUFHLEVBQUU7QUFDbkIsUUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQTtBQUN6QyxRQUFHLEdBQUcsRUFBRTtBQUNOLFVBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFBO0FBQ3JFLFVBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUMsQ0FBQyxDQUFBO0FBQy9CLFVBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRTtBQUMzQixZQUFJLHNCQUFzQixHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBQSxDQUFDO2lCQUFJLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEdBQUc7U0FBQSxDQUFDLENBQUE7QUFDaEUsWUFBRyxzQkFBc0IsRUFBRSxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQTtPQUM3RTtBQUNELFVBQUksUUFBUSxHQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxBQUFDLENBQUE7QUFDbkMsY0FBUSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUE7QUFDekIsVUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBRSxRQUFRLElBQUksSUFBSSxFQUFDLENBQUMsQ0FBQTtLQUN4QztHQUNGOztBQUVELHNCQUFvQixFQUFBLDhCQUFDLEtBQUssRUFBRSxHQUFHLEVBQUU7QUFDL0IsVUFBTSxDQUFDLGNBQWMsR0FBRyxHQUFHLENBQUE7QUFDM0IsUUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsQ0FBQTtBQUM1RCxRQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssR0FBRyx1QkFBdUIsR0FBRyxlQUFlLEVBQUUsRUFBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUMsQ0FBQyxDQUFBO0dBQ2pHOztBQUVELFlBQVUsRUFBQSxzQkFBRztBQUNYLFFBQUksQ0FBQyxRQUFRLENBQUMsRUFBQyxRQUFRLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBQyxDQUFDLENBQUE7R0FDaEQ7O0FBRUQsZ0JBQWMsRUFBQSwwQkFBRztBQUNmLFFBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQTtBQUNuRCxRQUFHLElBQUksRUFBRTtBQUNQLFVBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQTtBQUNaLFVBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFBO0tBQzNEO0dBQ0Y7Q0FDRixDQUFDLENBQUE7QUFDRixNQUFNLENBQUMsWUFBWSxHQUFHO0FBQ3BCLFFBQU0sRUFBRSxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUk7QUFDNUIsV0FBUyxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSTtDQUNoQyxDQUFBOztBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvc2VhcmNoLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIgeyBOb3RGb3VuZFJvdXRlLCBOYXZpZ2F0aW9uLCBTdGF0ZSwgTGluaywgUm91dGUsIFJvdXRlSGFuZGxlciwgRGVmYXVsdFJvdXRlLCBSZWRpcmVjdCB9ID0gUm91dGVyXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxudmFyIGRlYm91bmNlID0gcmVxdWlyZSgnZGVib3VuY2UnKVxudmFyIFNFQVJDSCA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJykuc2VhcmNoXG5cbnZhciBJbWFnZVF1aWx0ID0gcmVxdWlyZSgnLi9pbWFnZS1xdWlsdCcpXG52YXIgU2VhcmNoUmVzdWx0cyA9IHJlcXVpcmUoJy4vc2VhcmNoLXJlc3VsdHMnKVxudmFyIFN1Z2dlc3QgPSByZXF1aXJlKCcuL3N1Z2dlc3QnKVxudmFyIHNlYXJjaExhbmd1YWdlTWFwID0gcmVxdWlyZSgnLi9zZWFyY2gtbGFuZ3VhZ2UnKVxuXG5cbnZhciBTZWFyY2ggPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIG1peGluczogW1JvdXRlci5TdGF0ZSwgUm91dGVyLk5hdmlnYXRpb25dLFxuXG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICBjb25zdCB7Ymxhbmt9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IHJlc3VsdHMgPSB0aGlzLnByb3BzLnJlc3VsdHMgfHwgdGhpcy5wcm9wcy5kYXRhICYmIHRoaXMucHJvcHMuZGF0YS5zZWFyY2hSZXN1bHRzIHx8IFtdXG4gICAgcmVzdWx0cyB8fCB0aGlzLnByb3BzLmJsYW5rIHx8IHRoaXMudHJhbnNpdGlvblRvKCdob21lJylcblxuICAgIHJldHVybiB7XG4gICAgICByZXN1bHRzOiByZXN1bHRzLFxuICAgICAgdGVybXM6IGJsYW5rID8gJycgOiB0aGlzLnByb3BzLnBhcmFtcyAmJiB0aGlzLnByb3BzLnBhcmFtcy50ZXJtcyAmJiBkZWNvZGVVUklDb21wb25lbnQodGhpcy5wcm9wcy5wYXJhbXMudGVybXMpLFxuICAgICAgaGl0czogcmVzdWx0cyAmJiByZXN1bHRzLmhpdHMgJiYgcmVzdWx0cy5oaXRzLmhpdHMgfHwgW10sXG4gICAgICBzaG93QWdnczogdGhpcy5wcm9wcy5zaG93QWdncyxcbiAgICAgIGJsYW5rOiB0aGlzLnByb3BzLmJsYW5rLFxuICAgIH1cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgcmVzdWx0cyA9IHRoaXMuc3RhdGUucmVzdWx0c1xuICAgIGNvbnN0IGhpdHMgPSByZXN1bHRzICYmIHJlc3VsdHMuaGl0cyAmJiByZXN1bHRzLmhpdHMuaGl0cyAvLyB0aGlzIGhhcyB0byBiZSBkaWZmZXJlbnQgZnJvbSBgc3RhdGUuaGl0c2Agc28gYXJ0d29ya3MgZG9uJ3QgY2hhbmdlIG9yZGVyIHdoZW4gaG92ZXJlZCBpbiB0aGUgcXVpbHRcbiAgICBjb25zdCBkYXJrZW5RdWlsdCA9IHRoaXMucHJvcHMucGF0aCAmJiB0aGlzLnByb3BzLnBhdGgubWF0Y2goL1xcL3NlYXJjaC8pXG4gICAgY29uc3QgaGVhZGVyQXJ0d29ya3MgPSBJbWFnZVF1aWx0LmdldEltYWdlZFJlc3VsdHMoaGl0cylcbiAgICBjb25zdCBzaG93UXVpbHQgPSAhZGFya2VuUXVpbHQgJiYgaGVhZGVyQXJ0d29ya3NcbiAgICB2YXIgcXVpbHRQcm9wcyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgbWF4Um93czogdGhpcy5zdGF0ZS5zaG93QWdncyA/IDEgOiAyLFxuICAgICAgbWF4V29ya3M6IDEwLFxuICAgICAgYXJ0d29ya3M6IGhlYWRlckFydHdvcmtzLFxuICAgICAgb25DbGljazogdGhpcy51cGRhdGVGcm9tUXVpbHQsXG4gICAgICBkaXNhYmxlSG92ZXI6IHRoaXMucHJvcHMuaGlkZVJlc3VsdHMgfHwgdGhpcy5wcm9wcy5kaXNhYmxlSG92ZXIsXG4gICAgICBsYXp5TG9hZDogIXRoaXMuY29udGV4dC51bml2ZXJzYWwsXG4gICAgICBkYXJrZW46IGRhcmtlblF1aWx0LFxuICAgICAgc2h1ZmZsZTogdGhpcy5wcm9wcy5zaHVmZmxlUXVpbHQsXG4gICAgfSwgdGhpcy5wcm9wcy5xdWlsdFByb3BzIHx8IHt9KVxuXG4gICAgY29uc3QgaWRlYWxTZWFyY2hCb3hXaWR0aCA9IE1hdGgubWF4KDE3LCB0aGlzLnN0YXRlLnRlcm1zICYmIHRoaXMuc3RhdGUudGVybXMubGVuZ3RoKjEuMSB8fCAwKVxuICAgIGNvbnN0IG5ha2VkU2ltcGxlU2VhcmNoQm94ID0gPGRpdiBjbGFzc05hbWU9J3NlYXJjaC13cmFwcGVyJyBzdHlsZT17e3dpZHRoOiBpZGVhbFNlYXJjaEJveFdpZHRoICsgJ2VtJ319PlxuICAgICAgPGZvcm0gYWN0aW9uPScnPjxpbnB1dCBjbGFzc05hbWU9J3NlYXJjaC1pbnB1dCcgdHlwZT1cInNlYXJjaFwiXG4gICAgICAgIHBsYWNlaG9sZGVyPVwic2VhcmNoXCJcbiAgICAgICAgdmFsdWU9e3NlYXJjaExhbmd1YWdlTWFwKHRoaXMuc3RhdGUudGVybXMpfVxuICAgICAgICBvbktleURvd249e3RoaXMua2V5RG93bn1cbiAgICAgICAgb25DaGFuZ2U9e3RoaXMudGhyb3R0bGVkU2VhcmNofVxuICAgICAgICBvbkZvY3VzPXsoe3RhcmdldH0pID0+IHRhcmdldCAmJiB0YXJnZXQuc2VsZWN0KCl9XG4gICAgICAgIHN0eWxlPXt7d2lkdGg6ICcxMDAlJywgcG9pbnRlckV2ZW50czogJ2FsbCd9fVxuICAgICAgICBuYW1lPVwicVwiXG4gICAgICAgIHJlZj1cInNlYXJjaElucHV0XCJcbiAgICAgICAgYXV0b0NvbXBsZXRlPVwib2ZmXCJcbiAgICAgICAgbGlzdD1cInNlYXJjaENvbXBsZXRpb25zXCJcbiAgICAgICAgLz48L2Zvcm0+XG4gICAgPC9kaXY+XG5cbiAgICBjb25zdCBzaW1wbGVTZWFyY2hCb3ggPSB0aGlzLmNvbnRleHQudW5pdmVyc2FsID9cbiAgICAgIDxmb3JtIGFjdGlvbj1cIi9zZWFyY2gvXCIgbWV0aG9kPVwiZ2V0XCI+e25ha2VkU2ltcGxlU2VhcmNoQm94fTwvZm9ybT4gOlxuICAgICAgbmFrZWRTaW1wbGVTZWFyY2hCb3hcblxuICAgIGNvbnN0IGhpZGVJbnB1dCA9IHRoaXMucHJvcHMuaGlkZUlucHV0ICYmICF0aGlzLnN0YXRlLmFjdGl2YXRlU2VhcmNoXG4gICAgdmFyIHNlYXJjaFN0eWxlcyA9IHtcbiAgICAgIGxlZnQ6IDAsXG4gICAgICByaWdodDogMCxcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgZGlzcGxheTogaGlkZUlucHV0ID8gJ25vbmUnIDogJ2luaGVyaXQnLFxuICAgICAgcGFkZGluZzogdGhpcy5wcm9wcy5idW1wU2VhcmNoQm94ID8gJzAuNWVtJyA6ICcwJyxcbiAgICB9XG5cbiAgICB2YXIgc2VhcmNoT3ZlclF1aWx0U3R5bGVzID0ge1xuICAgICAgLi4uc2VhcmNoU3R5bGVzLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB0b3A6ICc1MCUnLFxuICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZVkoLTUwJSlcIixcbiAgICAgIFdlYmtpdFRyYW5zZm9ybTogXCJ0cmFuc2xhdGVZKC01MCUpXCIsXG4gICAgfVxuXG4gICAgY29uc3Qgc2VhcmNoQm94ID0gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J3F1aWx0LXNlYXJjaC13cmFwJyBzdHlsZT17c2hvd1F1aWx0ICYmIHtwb3NpdGlvbjogJ3JlbGF0aXZlJywgd2lkdGg6ICcxMDAlJywgb3ZlcmZsb3c6ICdoaWRkZW4nfSB8fCB7fX0+XG4gICAgICAgIHtzaG93UXVpbHQgJiYgPEltYWdlUXVpbHQgey4uLnF1aWx0UHJvcHN9IC8+IHx8IDxzcGFuIHN0eWxlPXt7ZGlzcGxheTogJ2Jsb2NrJywgbWluSGVpZ2h0OiAnMy41cmVtJ319IC8+fVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc2VhcmNoLXdyYXAnXG4gICAgICAgICAgc3R5bGU9e3Nob3dRdWlsdCAmJiAhdGhpcy5wcm9wcy5idW1wU2VhcmNoQm94ID8gc2VhcmNoT3ZlclF1aWx0U3R5bGVzIDogc2VhcmNoU3R5bGVzfT5cbiAgICAgICAgICA8ZGl2PntzaW1wbGVTZWFyY2hCb3h9PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuXG4gICAgdmFyIGFnZ3NQcm9wcyA9IHtcbiAgICAgIHNob3dBZ2dzOiB0aGlzLnN0YXRlLnNob3dBZ2dzLFxuICAgICAgdG9nZ2xlQWdnczogdGhpcy50b2dnbGVBZ2dzLFxuICAgIH1cblxuICAgIHZhciBzdWdnZXN0aW9ucyA9IDxTdWdnZXN0XG4gICAgICBzZWFyY2g9e3RoaXMucHJvcHMuZGF0YSAmJiB0aGlzLnByb3BzLmRhdGEuc2VhcmNoUmVzdWx0c31cbiAgICAgIGNvbXBsZXRpb25zPXt0aGlzLnN0YXRlLmNvbXBsZXRpb25zfVxuICAgICAgc3R5bGU9e3RoaXMucHJvcHMuc3VnZ2VzdFN0eWxlfVxuICAgICAgLz5cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGlkPVwic2VhcmNoXCI+XG4gICAgICAgIHtzZWFyY2hCb3h9XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICB7dGhpcy5wcm9wcy5oaWRlUmVzdWx0cyAmJiBzdWdnZXN0aW9ucyB8fCA8ZGl2PlxuICAgICAgICAgIDxTZWFyY2hSZXN1bHRzIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAgICAgaGl0cz17dGhpcy5zdGF0ZS5oaXRzfVxuICAgICAgICAgICAgey4uLmFnZ3NQcm9wc31cbiAgICAgICAgICAgIHN1Z2dlc3Rpb25zPXtzdWdnZXN0aW9uc31cbiAgICAgICAgICAgIG1pbkhlaWdodD17dGhpcy5zdGF0ZS5taW5IZWlnaHR9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+fVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICB2YXIgdXBkYXRlID0gdGhpcy5wcm9wcy5vblVwZGF0ZSB8fCB0aGlzLnNlYXJjaFxuICAgIHZhciB7ZGVsYXl9ID0gdGhpcy5wcm9wc1xuICAgIHZhciBpc0Rlc2t0b3AgPSB0eXBlb2Ygd2luZG93Lm9yaWVudGF0aW9uID09PSAndW5kZWZpbmVkJ1xuXG4gICAgdGhpcy5kZWJvdW5jZWRTZWFyY2ggPSAoZGVsYXkgfHwgaXNEZXNrdG9wKSA/XG4gICAgICBkZWJvdW5jZSh1cGRhdGUsIHRoaXMucHJvcHMuZGVsYXkgfHwgMzAwMCkgOlxuICAgICAgdW5kZWZpbmVkXG4gICAgdGhpcy5kZWJvdW5jZWRBdXRvY29tcGxldGUgPSBkZWJvdW5jZSh0aGlzLmF1dG9jb21wbGV0ZSwgMzAwKVxuICB9LFxuXG4gIGF1dG9jb21wbGV0ZSh0ZXJtcykge1xuICAgIGlmKHRlcm1zID09ICcnKSByZXR1cm5cbiAgICByZXN0KGAke1NFQVJDSH0vYXV0b2ZpbGwvJHtkZWNvZGVVUklDb21wb25lbnQodGVybXMpfWApXG4gICAgLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpIClcbiAgICAudGhlbihjb21wbGV0aW9ucyA9PiB0aGlzLnNldFN0YXRlKHtjb21wbGV0aW9uc30pKVxuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmKHRoaXMucHJvcHMuYWN0aXZhdGVJbnB1dCkge1xuICAgICAgdGhpcy5hY3RpdmF0ZVNlYXJjaCgpXG4gICAgfVxuICB9LFxuXG4gIHRocm90dGxlZFNlYXJjaChldmVudCkge1xuICAgIHZhciB0ZXJtcyA9IHNlYXJjaExhbmd1YWdlTWFwKGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgICB0aGlzLnNldFN0YXRlKHt0ZXJtczogdGVybXN9KVxuICAgIHRoaXMuZGVib3VuY2VkU2VhcmNoICYmIHRoaXMuZGVib3VuY2VkU2VhcmNoKHRlcm1zKVxuICAgIHRoaXMuZGVib3VuY2VkQXV0b2NvbXBsZXRlKHRlcm1zKVxuICB9LFxuXG4gIHNlYXJjaCgpIHtcbiAgICB2YXIgdGVybXMgPSB0aGlzLm5vcm1hbGl6ZVRlcm1zKHRoaXMuc3RhdGUudGVybXMpXG4gICAgdmFyIHtmYWNldCwgc2VhcmNoQWxsfSA9IHRoaXMucHJvcHNcbiAgICBpZih0ZXJtcyA9PT0gJycpIHJldHVyblxuXG4gICAgdmFyIGZpbHRlcnMgPSB0aGlzLnByb3BzLnBhcmFtcyAmJiB0aGlzLnByb3BzLnBhcmFtcy5zcGxhdFxuICAgIGlmKGZpbHRlcnMgJiYgZmlsdGVycy5tYXRjaCgvZGVhY2Nlc3Npb25lZDouP3RydWUuPy8pKSBmYWNldCA9IGZpbHRlcnNcbiAgICB0aGlzLnByb3BzLm9uU2VhcmNoICYmIHRoaXMucHJvcHMub25TZWFyY2godGVybXMpXG4gICAgdGhpcy50cmFuc2l0aW9uVG8oZmFjZXQgJiYgIXNlYXJjaEFsbCA/ICdmaWx0ZXJlZFNlYXJjaFJlc3VsdHMnIDogJ3NlYXJjaFJlc3VsdHMnLCB7dGVybXM6IHRlcm1zLCBzcGxhdDogZmFjZXR9KVxuICB9LFxuXG4gIGtleURvd24oZXZlbnQpIHtcbiAgICBpZihldmVudC5rZXkgPT0gJ0VudGVyJykge1xuICAgICAgdGhpcy5zZWFyY2goKVxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIH1cbiAgfSxcblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIC8vIFJlcGxhY2UgYHRlcm1zYCB3aXRoIHRoZSB0ZXJtcyBmcm9tIHRoZSBjdXJyZW50IHNlYXJjaCwgc28gYmFjaytmb3J3YXJkXG4gICAgLy8gd29yayBjb3JyZWN0bHkuIFVOTEVTUyB0aGUgb25seSBkaWZmZXJlbmNlIGlzIGluc2lnbmlmaWNhbnQgd2hpdGVzcGFjZS5cbiAgICB2YXIgbmV4dFRlcm1zID0gbmV4dFByb3BzLnBhcmFtcyAmJiBuZXh0UHJvcHMucGFyYW1zLnRlcm1zIHx8IG5leHRQcm9wcy50ZXJtc1xuICAgIGlmKHRoaXMubm9ybWFsaXplVGVybXMoKSAhPSBuZXh0VGVybXMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe3Rlcm1zOiBuZXh0VGVybXN9KVxuICAgIH1cbiAgICBjb25zdCByZXN1bHRzID0gbmV4dFByb3BzLnJlc3VsdHMgfHwgbmV4dFByb3BzLmRhdGEgJiYgbmV4dFByb3BzLmRhdGEuc2VhcmNoUmVzdWx0c1xuICAgIHRoaXMuc2V0U3RhdGUoe3Jlc3VsdHMsIGhpdHM6IHJlc3VsdHMgJiYgcmVzdWx0cy5oaXRzICYmIHJlc3VsdHMuaGl0cy5oaXRzIHx8IFtdfSlcbiAgfSxcblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgdmFyIHthY3RpdmF0ZVNlYXJjaH0gPSB0aGlzLnByb3BzXG4gICAgaWYoYWN0aXZhdGVTZWFyY2ggJiYgYWN0aXZhdGVTZWFyY2ggIT09IHRoaXMuc3RhdGUuYWN0aXZhdGVTZWFyY2gpIHtcbiAgICAgIHRoaXMuYWN0aXZhdGVTZWFyY2goKVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7YWN0aXZhdGVTZWFyY2g6IGFjdGl2YXRlU2VhcmNofSlcbiAgICB9XG4gIH0sXG5cbiAgbm9ybWFsaXplVGVybXModGVybXM9dGhpcy5zdGF0ZS50ZXJtcykge1xuICAgIHJldHVybiB0ZXJtcyAmJiB0ZXJtcy5yZXBsYWNlKC9cXHMrLywgJyAnKS50cmltKClcbiAgfSxcblxuICAvLyB1cGRhdGUgYHN0YXRlLmhpdHNgIHRvIGZsb2F0IGEgaGl0IGZyb20gdGhlIHF1aWx0IHRvIHRoZSB0b3AuXG4gIC8vIElmIG5vIGBhcnRgIGlzIHBhc3NlZCwgdGhhdCBtZWFucyB0aGUgcXVpbHQgaGFzIGxvc3QgZm9jdXMsXG4gIC8vIHJlc2V0IGhpdHMgdG8gYmUgdGhlIHNlYXJjaFJlc3VsdHMgc3RyYWlndCBmcm9tIEVTXG4gIHVwZGF0ZUZyb21RdWlsdChhcnQpIHtcbiAgICBjb25zdCBoaXRzID0gdGhpcy5zdGF0ZS5yZXN1bHRzLmhpdHMuaGl0c1xuICAgIGlmKGFydCkge1xuICAgICAgaWYodGhpcy5wcm9wcy5mYWNldCkgdGhpcy5saW5rVG9DbGlja2VkQXJ0d29yayh0aGlzLnByb3BzLmZhY2V0LCBhcnQpXG4gICAgICB2YXIgaW5kZXggPSBoaXRzLmluZGV4T2YoYXJ0KSsxXG4gICAgICBpZihoaXRzLmluZGV4T2YoYXJ0KSA9PT0gLTEpIHtcbiAgICAgICAgdmFyIHNhbWVBcnREaWZmZXJlbnRPYmplY3QgPSBoaXRzLmZpbHRlcihoID0+IGguX2lkID09PSBhcnQuX2lkKVxuICAgICAgICBpZihzYW1lQXJ0RGlmZmVyZW50T2JqZWN0KSBpbmRleCA9IGhpdHMuaW5kZXhPZihzYW1lQXJ0RGlmZmVyZW50T2JqZWN0WzBdKSsxXG4gICAgICB9XG4gICAgICB2YXIgbmV4dEhpdHMgPSAoW2FydF0uY29uY2F0KGhpdHMpKVxuICAgICAgbmV4dEhpdHMuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7aGl0czogbmV4dEhpdHMgfHwgaGl0c30pXG4gICAgfVxuICB9LFxuXG4gIGxpbmtUb0NsaWNrZWRBcnR3b3JrKGZhY2V0LCBhcnQpIHtcbiAgICB3aW5kb3cuY2xpY2tlZEFydHdvcmsgPSBhcnRcbiAgICB0aGlzLnByb3BzLm9uU2VhcmNoICYmIHRoaXMucHJvcHMub25TZWFyY2goJ2NsaWNrZWQgYSBsaW5rJylcbiAgICB0aGlzLnRyYW5zaXRpb25UbyhmYWNldCA/ICdmaWx0ZXJlZFNlYXJjaFJlc3VsdHMnIDogJ3NlYXJjaFJlc3VsdHMnLCB7dGVybXM6ICcqJywgc3BsYXQ6IGZhY2V0fSlcbiAgfSxcblxuICB0b2dnbGVBZ2dzKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe3Nob3dBZ2dzOiAhdGhpcy5zdGF0ZS5zaG93QWdnc30pXG4gIH0sXG5cbiAgYWN0aXZhdGVTZWFyY2goKSB7XG4gICAgdmFyIG5vZGUgPSBSZWFjdC5maW5kRE9NTm9kZSh0aGlzLnJlZnMuc2VhcmNoSW5wdXQpXG4gICAgaWYobm9kZSkge1xuICAgICAgbm9kZS5mb2N1cygpXG4gICAgICBub2RlLnZhbHVlICYmIG5vZGUuc2V0U2VsZWN0aW9uUmFuZ2UoMCwgbm9kZS52YWx1ZS5sZW5ndGgpXG4gICAgfVxuICB9LFxufSlcblNlYXJjaC5jb250ZXh0VHlwZXMgPSB7XG4gIHJvdXRlcjogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIHVuaXZlcnNhbDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG59XG5cbm1vZHVsZS5leHBvcnRzID0gU2VhcmNoXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/search.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/search.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar { NotFoundRoute, Navigation, State, Link, Route, RouteHandler, DefaultRoute, Redirect } = Router\nvar rest = require('rest')\nvar debounce = require('debounce')\nvar SEARCH = require('./endpoints').search\n\nvar ImageQuilt = require('./image-quilt')\nvar SearchResults = require('./search-results')\nvar Suggest = require('./suggest')\nvar searchLanguageMap = require('./search-language')\n\n\nvar Search = React.createClass({\n  mixins: [Router.State, Router.Navigation],\n\n  getInitialState() {\n    const {blank} = this.props\n    const results = this.props.results || this.props.data && this.props.data.searchResults || []\n    results || this.props.blank || this.transitionTo('home')\n\n    return {\n      results: results,\n      terms: blank ? '' : this.props.params && this.props.params.terms && decodeURIComponent(this.props.params.terms),\n      hits: results && results.hits && results.hits.hits || [],\n      showAggs: this.props.showAggs,\n      blank: this.props.blank,\n    }\n  },\n\n  render() {\n    const results = this.state.results\n    const hits = results && results.hits && results.hits.hits // this has to be different from `state.hits` so artworks don't change order when hovered in the quilt\n    const darkenQuilt = this.props.path && this.props.path.match(/\\/search/)\n    const headerArtworks = ImageQuilt.getImagedResults(hits)\n    const showQuilt = !darkenQuilt && headerArtworks\n    var quiltProps = Object.assign({\n      maxRows: this.state.showAggs ? 1 : 2,\n      maxWorks: 10,\n      artworks: headerArtworks,\n      onClick: this.updateFromQuilt,\n      disableHover: this.props.hideResults || this.props.disableHover,\n      lazyLoad: !this.context.universal,\n      darken: darkenQuilt,\n      shuffle: this.props.shuffleQuilt,\n    }, this.props.quiltProps || {})\n\n    const idealSearchBoxWidth = Math.max(17, this.state.terms && this.state.terms.length*1.1 || 0)\n    const nakedSimpleSearchBox = <div className='search-wrapper' style={{width: idealSearchBoxWidth + 'em'}}>\n      <form action=''><input className='search-input' type=\"search\"\n        placeholder=\"search\"\n        value={searchLanguageMap(this.state.terms)}\n        onKeyDown={this.keyDown}\n        onChange={this.throttledSearch}\n        onFocus={({target}) => target && target.select()}\n        style={{width: '100%', pointerEvents: 'all'}}\n        name=\"q\"\n        ref=\"searchInput\"\n        autoComplete=\"off\"\n        list=\"searchCompletions\"\n        /></form>\n    </div>\n\n    const simpleSearchBox = this.context.universal ?\n      <form action=\"/search/\" method=\"get\">{nakedSimpleSearchBox}</form> :\n      nakedSimpleSearchBox\n\n    const hideInput = this.props.hideInput && !this.state.activateSearch\n    var searchStyles = {\n      left: 0,\n      right: 0,\n      width: '100%',\n      textAlign: 'center',\n      pointerEvents: 'none',\n      display: hideInput ? 'none' : 'inherit',\n      padding: this.props.bumpSearchBox ? '0.5em' : '0',\n    }\n\n    var searchOverQuiltStyles = {\n      ...searchStyles,\n      position: 'absolute',\n      top: '50%',\n      transform: \"translateY(-50%)\",\n      WebkitTransform: \"translateY(-50%)\",\n    }\n\n    const searchBox = (\n      <div className='quilt-search-wrap' style={showQuilt && {position: 'relative', width: '100%', overflow: 'hidden'} || {}}>\n        {showQuilt && <ImageQuilt {...quiltProps} /> || <span style={{display: 'block', minHeight: '3.5rem'}} />}\n        <div className='search-wrap'\n          style={showQuilt && !this.props.bumpSearchBox ? searchOverQuiltStyles : searchStyles}>\n          <div>{simpleSearchBox}</div>\n        </div>\n      </div>\n    )\n\n    var aggsProps = {\n      showAggs: this.state.showAggs,\n      toggleAggs: this.toggleAggs,\n    }\n\n    var suggestions = <Suggest\n      search={this.props.data && this.props.data.searchResults}\n      completions={this.state.completions}\n      style={this.props.suggestStyle}\n      />\n\n    return (\n      <div id=\"search\">\n        {searchBox}\n        {this.props.children}\n        {this.props.hideResults && suggestions || <div>\n          <SearchResults {...this.props}\n            hits={this.state.hits}\n            {...aggsProps}\n            suggestions={suggestions}\n            minHeight={this.state.minHeight}\n          />\n        </div>}\n      </div>\n    )\n  },\n\n  componentWillMount() {\n    var update = this.props.onUpdate || this.search\n    var {delay} = this.props\n    var isDesktop = typeof window.orientation === 'undefined'\n\n    this.debouncedSearch = (delay || isDesktop) ?\n      debounce(update, this.props.delay || 3000) :\n      undefined\n    this.debouncedAutocomplete = debounce(this.autocomplete, 300)\n  },\n\n  autocomplete(terms) {\n    if(terms == '') return\n    rest(`${SEARCH}/autofill/${decodeURIComponent(terms)}`)\n    .then((r) => JSON.parse(r.entity) )\n    .then(completions => this.setState({completions}))\n  },\n\n  componentDidMount() {\n    if(this.props.activateInput) {\n      this.activateSearch()\n    }\n  },\n\n  throttledSearch(event) {\n    var terms = searchLanguageMap(event.target.value)\n    this.setState({terms: terms})\n    this.debouncedSearch && this.debouncedSearch(terms)\n    this.debouncedAutocomplete(terms)\n  },\n\n  search() {\n    var terms = this.normalizeTerms(this.state.terms)\n    var {facet, searchAll} = this.props\n    if(terms === '') return\n\n    var filters = this.props.params && this.props.params.splat\n    if(filters && filters.match(/deaccessioned:.?true.?/)) facet = filters\n    this.props.onSearch && this.props.onSearch(terms)\n    this.transitionTo(facet && !searchAll ? 'filteredSearchResults' : 'searchResults', {terms: terms, splat: facet})\n  },\n\n  keyDown(event) {\n    if(event.key == 'Enter') {\n      this.search()\n      event.preventDefault()\n    }\n  },\n\n  componentWillReceiveProps(nextProps) {\n    // Replace `terms` with the terms from the current search, so back+forward\n    // work correctly. UNLESS the only difference is insignificant whitespace.\n    var nextTerms = nextProps.params && nextProps.params.terms || nextProps.terms\n    if(this.normalizeTerms() != nextTerms) {\n      this.setState({terms: nextTerms})\n    }\n    const results = nextProps.results || nextProps.data && nextProps.data.searchResults\n    this.setState({results, hits: results && results.hits && results.hits.hits || []})\n  },\n\n  componentDidUpdate(prevProps) {\n    var {activateSearch} = this.props\n    if(activateSearch && activateSearch !== this.state.activateSearch) {\n      this.activateSearch()\n      this.setState({activateSearch: activateSearch})\n    }\n  },\n\n  normalizeTerms(terms=this.state.terms) {\n    return terms && terms.replace(/\\s+/, ' ').trim()\n  },\n\n  // update `state.hits` to float a hit from the quilt to the top.\n  // If no `art` is passed, that means the quilt has lost focus,\n  // reset hits to be the searchResults straigt from ES\n  updateFromQuilt(art) {\n    const hits = this.state.results.hits.hits\n    if(art) {\n      if(this.props.facet) this.linkToClickedArtwork(this.props.facet, art)\n      var index = hits.indexOf(art)+1\n      if(hits.indexOf(art) === -1) {\n        var sameArtDifferentObject = hits.filter(h => h._id === art._id)\n        if(sameArtDifferentObject) index = hits.indexOf(sameArtDifferentObject[0])+1\n      }\n      var nextHits = ([art].concat(hits))\n      nextHits.splice(index, 1)\n      this.setState({hits: nextHits || hits})\n    }\n  },\n\n  linkToClickedArtwork(facet, art) {\n    window.clickedArtwork = art\n    this.props.onSearch && this.props.onSearch('clicked a link')\n    this.transitionTo(facet ? 'filteredSearchResults' : 'searchResults', {terms: '*', splat: facet})\n  },\n\n  toggleAggs() {\n    this.setState({showAggs: !this.state.showAggs})\n  },\n\n  activateSearch() {\n    var node = React.findDOMNode(this.refs.searchInput)\n    if(node) {\n      node.focus()\n      node.value && node.setSelectionRange(0, node.value.length)\n    }\n  },\n})\nSearch.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nmodule.exports = Search\n"
      ]
    },
    "mtime": 1487953287538
  },
  "{\"filename\":\"/var/www/art/src/endpoints.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "\"use strict\";\n\nvar protocol = (typeof window == \"undefined\" ? \"http\" : \"https\") + \"://\";\nmodule.exports = {\n  search: protocol + \"search.artsmia.org\",\n  info: protocol + \"collections.artsmia.org/_info/index.json\",\n  dimensionSvg: function dimensionSvg(id, file) {\n    return \"https://mia-dimensions.s3.amazonaws.com/\" + id + \"/\" + (file || 'dimensions') + \".svg\";\n  },\n  galleryPanel: function galleryPanel(room) {\n    return \"https://cdn.rawgit.com/artsmia/mia-gallery-panels/master/\" + room + \".md\";\n  },\n  exhibition: function exhibition(id) {\n    return protocol + (\"cdn.dx.artsmia.org/exhibitions/\" + Math.floor(id / 1000) + \"/\" + id + \".json\");\n  }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZW5kcG9pbnRzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSSxRQUFRLEdBQUcsQ0FBQyxPQUFPLE1BQU0sQUFBQyxJQUFJLFdBQVcsR0FBRyxNQUFNLEdBQUcsT0FBTyxDQUFBLEdBQUUsS0FBSyxDQUFBO0FBQ3ZFLE1BQU0sQ0FBQyxPQUFPLEdBQUc7QUFDZixRQUFNLEVBQUUsUUFBUSxHQUFDLG9CQUFvQjtBQUNyQyxNQUFJLEVBQUUsUUFBUSxHQUFDLDBDQUEwQztBQUN6RCxjQUFZLEVBQUUsc0JBQUMsRUFBRSxFQUFFLElBQUk7d0RBQWdELEVBQUUsVUFBSSxJQUFJLElBQUksWUFBWSxDQUFBO0dBQU07QUFDdkcsY0FBWSxFQUFFLHNCQUFDLElBQUk7eUVBQWlFLElBQUk7R0FBSztBQUM3RixZQUFVLEVBQUUsb0JBQUMsRUFBRTtXQUFLLFFBQVEsd0NBQW1DLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxHQUFDLElBQUksQ0FBQyxTQUFJLEVBQUUsV0FBTztHQUFBO0NBQ2hHLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9lbmRwb2ludHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcHJvdG9jb2wgPSAodHlwZW9mKHdpbmRvdykgPT0gXCJ1bmRlZmluZWRcIiA/IFwiaHR0cFwiIDogXCJodHRwc1wiKStcIjovL1wiXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2VhcmNoOiBwcm90b2NvbCtcInNlYXJjaC5hcnRzbWlhLm9yZ1wiLFxuICBpbmZvOiBwcm90b2NvbCtcImNvbGxlY3Rpb25zLmFydHNtaWEub3JnL19pbmZvL2luZGV4Lmpzb25cIixcbiAgZGltZW5zaW9uU3ZnOiAoaWQsIGZpbGUpID0+IGBodHRwczovL21pYS1kaW1lbnNpb25zLnMzLmFtYXpvbmF3cy5jb20vJHtpZH0vJHtmaWxlIHx8ICdkaW1lbnNpb25zJ30uc3ZnYCxcbiAgZ2FsbGVyeVBhbmVsOiAocm9vbSkgPT4gYGh0dHBzOi8vY2RuLnJhd2dpdC5jb20vYXJ0c21pYS9taWEtZ2FsbGVyeS1wYW5lbHMvbWFzdGVyLyR7cm9vbX0ubWRgLFxuICBleGhpYml0aW9uOiAoaWQpID0+IHByb3RvY29sK2BjZG4uZHguYXJ0c21pYS5vcmcvZXhoaWJpdGlvbnMvJHtNYXRoLmZsb29yKGlkLzEwMDApfS8ke2lkfS5qc29uYCxcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/endpoints.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,QAAQ,GAAG,CAAC,OAAO,MAAM,AAAC,IAAI,WAAW,GAAG,MAAM,GAAG,OAAO,CAAA,GAAE,KAAK,CAAA;AACvE,MAAM,CAAC,OAAO,GAAG;AACf,QAAM,EAAE,QAAQ,GAAC,oBAAoB;AACrC,MAAI,EAAE,QAAQ,GAAC,0CAA0C;AACzD,cAAY,EAAE,sBAAC,EAAE,EAAE,IAAI;wDAAgD,EAAE,UAAI,IAAI,IAAI,YAAY,CAAA;GAAM;AACvG,cAAY,EAAE,sBAAC,IAAI;yEAAiE,IAAI;GAAK;AAC7F,YAAU,EAAE,oBAAC,EAAE;WAAK,QAAQ,wCAAmC,IAAI,CAAC,KAAK,CAAC,EAAE,GAAC,IAAI,CAAC,SAAI,EAAE,WAAO;GAAA;CAChG,CAAA",
      "file": "/var/www/art/src/endpoints.js",
      "sourcesContent": [
        "var protocol = (typeof(window) == \"undefined\" ? \"http\" : \"https\")+\"://\"\nmodule.exports = {\n  search: protocol+\"search.artsmia.org\",\n  info: protocol+\"collections.artsmia.org/_info/index.json\",\n  dimensionSvg: (id, file) => `https://mia-dimensions.s3.amazonaws.com/${id}/${file || 'dimensions'}.svg`,\n  galleryPanel: (room) => `https://cdn.rawgit.com/artsmia/mia-gallery-panels/master/${room}.md`,\n  exhibition: (id) => protocol+`cdn.dx.artsmia.org/exhibitions/${Math.floor(id/1000)}/${id}.json`,\n}\n"
      ]
    },
    "mtime": 1485968083610
  },
  "{\"filename\":\"/var/www/art/src/image-quilt.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends",
        "object-without-properties"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar PureRenderMixin = require('react/addons').addons.PureRenderMixin;\nvar debounce = require('debounce');\nvar cookie = require('react-cookie');\n\nvar linearPartition = require('linear-partitioning');\nvar ArtworkImage = require('./artwork-image');\nvar Image = require('./image');\n\nvar ImageQuilt = React.createClass({\n  displayName: 'ImageQuilt',\n\n  mixins: [PureRenderMixin],\n\n  getInitialState: function getInitialState() {\n    var artworks = this.props.artworks.slice(0, this.props.maxWorks);\n    var maybeShuffledArtworks = this.props.shuffle ? artworks.sort(function () {\n      return .5 - Math.random();\n    }) : artworks;\n\n    return {\n      active: null,\n      unpinned: false,\n      width: window.innerWidth || this.context.universal && 1000,\n      alwaysShow: cookie.load('freeTheQuilt'),\n      shuffledArtworks: this.props.shuffle ? maybeShuffledArtworks : undefined\n    };\n  },\n\n  handleResize: function handleResize(e) {\n    if (!this.isMounted()) return;\n    this.setState({ width: React.findDOMNode(this).clientWidth });\n  },\n  componentDidMount: function componentDidMount() {\n    this.handleResize();\n    window.addEventListener('resize', debounce(this.handleResize, 200));\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n  },\n\n  render: function render() {\n    var _this = this;\n\n    if (this.hideDarkenedQuilt()) return this.emptyQuiltToggleControl();\n\n    var artworks = this.props.artworks.slice(0, this.props.maxWorks);\n    var _art = artworks.map(function (art) {\n      var s = art._source;\n      if (s.image == 'invalid' || s.image_width == 0 && s.image_height == 0 || s.rights == 'Permission Denied') {\n        s.image = 'invalid';\n        var splitOn = /,|;|:|\\]/;\n        var _ref = [s.title.split(splitOn)[0], s.artist.split(splitOn)[0]];\n        s.title_short = _ref[0];\n        s.artist_short = _ref[1];\n\n        var text = s.title_short;\n        s.text_length = text.length;\n        var deltaAverageTextLength = text.length / 17; // bigger box for items with more text\n        s.image_width = deltaAverageTextLength > 2 ? 300 : 200;\n        s.image_height = 200;\n      }\n      return s;\n    });\n\n    _art.map(function (art) {\n      return art.aspect_ratio = art.image_width / art.image_height;\n    });\n    var summedAspectRatio = _art.reduce(function (sum, art) {\n      return sum + art.aspect_ratio;\n    }, 0);\n    // Fit the images into `maxRows` or however many rows it would take to show each\n    // approx 200px tall\n    var rowHeight = this.props.rowHeight || 200;\n    var numRows = Math.min(this.props.maxRows, Math.max(Math.floor(summedAspectRatio * rowHeight / this.state.width), 1));\n\n    var rows = this.getPartition(this.state.shuffledArtworks || artworks, numRows);\n\n    var images = rows.map(function (row, index) {\n      var rowSummedAspectRatio = row.reduce(function (sum, art) {\n        return sum + art._source.aspect_ratio;\n      }, 0);\n      var rowAspectRatio = rowSummedAspectRatio / row.length;\n      var unadjustedHeight = _this.state.width / rowSummedAspectRatio;\n\n      var images = row.map(function (art) {\n        var _art = art._source;\n        var id = _art.id;\n        var width = _art.aspect_ratio / rowSummedAspectRatio * _this.state.width;\n        var height = width / _art.aspect_ratio;\n        var maxRowHeight = _this.props.maxRowHeight || 200;\n        var widthAdjustedToClipTallRows = unadjustedHeight > maxRowHeight ? width / (unadjustedHeight / maxRowHeight) : width;\n\n        return React.createElement(QuiltPatch, { art: _art,\n          width: widthAdjustedToClipTallRows,\n          onClick: _this.clicked.bind(_this, art),\n          onMouseEnter: _this.hovered.bind(_this, art, true),\n          onMouseLeave: _this.hovered.bind(_this, art, false),\n          onImageInvalidation: _this.forceUpdate.bind(_this),\n          key: _art.id,\n          lazyLoad: _this.props.lazyLoad\n        });\n      });\n\n      // centered doesn't work on the first row because the search box is in the way\n      // space-around looks best on bottom rows\n      var justify = index == 0 && row.length <= 3 ? 'space-around' : 'center';\n      var rowStyle = {\n        minHeight: Math.min(unadjustedHeight, _this.props.maxRowHeight || 200, 50),\n        display: 'flex',\n        justifyContent: justify,\n        whiteSpace: 'nowrap'\n      };\n\n      return React.createElement(\n        'div',\n        { className: 'quilt-row-wrap',\n          key: 'row' + index,\n          style: rowStyle },\n        images\n      );\n    });\n\n    var quiltStyle = _extends({\n      cursor: 'pointer'\n    }, this.props.style);\n\n    return React.createElement(\n      'div',\n      { className: 'quilt-wrap', onMouseLeave: this.hovered.bind(this, null, false), style: quiltStyle },\n      images\n    );\n  },\n\n  cachedPartitions: {},\n\n  getPartition: function getPartition(artworks, numRows) {\n    var memoKey = 'rows:' + this.props.maxRows + '|width:' + this.state.width + '|' + artworks.map(function (art) {\n      return art._id;\n    }).join('-');\n    var memo = this.cachedPartitions[memoKey];\n    if (memo) return memo;\n\n    var partitionBy = function partitionBy(collection, weightFn, k) {\n      var weights = collection.map(weightFn);\n      var partition = linearPartition(weights, k);\n\n      var index = 0;\n      return partition.map(function (weightedRow) {\n        return weightedRow.map(function (weight, i) {\n          return collection[index++];\n        });\n      });\n    };\n\n    var rows = partitionBy(artworks, function (art) {\n      return art._source.aspect_ratio * 100;\n    }, numRows);\n    this.cachedPartitions[memoKey] = rows;\n    return rows;\n  },\n\n  // The quilt changes the order of search results in 2 ways:\n  // * clicking pins a result to the top, in which case it will stay there\n  // * hovering 'floats' a result to the top, but it will sink back down\n  // …after the interaction is finished.\n  // Clicking the pinned artwork un-pins it\n  clicked: function clicked(art) {\n    var updateState = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];\n    var onClick = this.props.onClick;\n\n    if (updateState) this.setState({ active: art, unpinned: false });\n    var sameArt = this.state.unpinned && !updateState || updateState && this.state.active && art == this.state.active;\n    if (sameArt) {\n      this.setState({ active: null, unpinned: true });\n      art = null;\n    }\n    onClick && onClick(art);\n    this.state.unpinned && this.setState({ unpinned: false });\n  },\n  hovered: function hovered(art, active) {\n    if (this.props.disableHover) return;\n    // cancel the delayed 'float' on mouseleave\n    // if an artwork was clicked, leave it pinned\n    if (!active) {\n      clearTimeout(this.activate);\n      if (!art) this.clicked(this.state.active, false);\n      return;\n    }\n    this.activate = setTimeout(this.clicked.bind(this, art, false), 300);\n  },\n\n  hideDarkenedQuilt: function hideDarkenedQuilt() {\n    return this.props.darken && !this.state.alwaysShow;\n  },\n\n  emptyQuiltToggleControl: function emptyQuiltToggleControl() {\n    var styles = {\n      minHeight: '7rem',\n      display: 'inline-block',\n      width: '100%',\n      WebkitUserSelect: 'none',\n      cursor: 'pointer',\n      zIndex: 100\n    };\n\n    return React.createElement('span', { style: styles, onDoubleClick: this.freeTheQuilt });\n  },\n\n  freeTheQuilt: function freeTheQuilt() {\n    cookie.save('freeTheQuilt', true);\n    this.setState({ alwaysShow: true });\n  }\n});\nImageQuilt.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nImageQuilt.getImagedResults = function (hits) {\n  return hits && hits.filter(function (hit) {\n    return hit._source.image == 'valid' && hit._source.image_width > 0;\n  });\n};\n\nmodule.exports = ImageQuilt;\n\nvar QuiltPatch = React.createClass({\n  displayName: 'QuiltPatch',\n\n  render: function render() {\n    var _props = this.props;\n    var art = _props.art;\n    var width = _props.width;\n\n    var other = _objectWithoutProperties(_props, ['art', 'width']);\n\n    var id = art.id;\n\n    var style = {\n      display: 'inline-block',\n      verticalAlign: 'top',\n      overflow: 'hidden',\n      width: width,\n      height: width / art.aspect_ratio\n    };\n\n    var image = React.createElement(Image, _extends({\n      art: art,\n      style: style\n    }, other));\n\n    var textStyle = _extends({}, style, {\n      display: 'table',\n      whiteSpace: 'normal'\n    });\n\n    var patch = art.image == 'valid' ? image : React.createElement(\n      'span',\n      _extends({ className: 'invalid', style: textStyle }, other),\n      React.createElement(\n        'p',\n        null,\n        React.createElement(\n          'strong',\n          null,\n          art.title_short\n        )\n      )\n    );\n\n    return React.createElement(\n      Link,\n      { onClick: this.clickOrDontClick, style: style, to: 'artwork', params: { id: art.id } },\n      patch\n    );\n  },\n\n  // halt the click event if javascript is loaded\n  // clicking triggers the right-hand preview, not the `<a>`\n  clickOrDontClick: function clickOrDontClick(event) {\n    if (!this.context.universal) event.preventDefault();\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      lazyLoad: true,\n      darken: false\n    };\n  }\n});\nQuiltPatch.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvaW1hZ2UtcXVpbHQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBOztlQUNmLE9BQU8sQ0FBQyxjQUFjLENBQUM7O0lBQS9CLElBQUksWUFBSixJQUFJOztBQUNULElBQUksZUFBZSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFBO0FBQ3BFLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQTtBQUNsQyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7O0FBRXBDLElBQUksZUFBZSxHQUFHLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFBO0FBQ3BELElBQUksWUFBWSxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFBO0FBQzdDLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQTs7QUFFOUIsSUFBTSxVQUFVLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ25DLFFBQU0sRUFBRSxDQUFDLGVBQWUsQ0FBQzs7QUFFekIsaUJBQWUsRUFBQSwyQkFBRztBQUNoQixRQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUE7QUFDbEUsUUFBTSxxQkFBcUIsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FDOUMsUUFBUSxDQUFDLElBQUksQ0FBQzthQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFO0tBQUEsQ0FBQyxHQUN2QyxRQUFRLENBQUE7O0FBRVYsV0FBTztBQUNMLFlBQU0sRUFBRSxJQUFJO0FBQ1osY0FBUSxFQUFFLEtBQUs7QUFDZixXQUFLLEVBQUUsTUFBTSxDQUFDLFVB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QUFLO0FBQ1IsYUFBTyxFQUFFLE9BQU87QUFDaEIsZ0JBQVUsRUFBRSxRQUFRO01BQ3ZCLENBQUE7O0FBRUQsUUFBSSxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssSUFBSSxPQUFPLEdBQUcsS0FBSyxHQUFHOztpQkFBTSxTQUFTLEVBQUMsU0FBUyxFQUFDLEtBQUssRUFBRSxTQUFTLEFBQUMsSUFBSyxLQUFLO01BQzlGOzs7UUFBRzs7O1VBQVMsR0FBRyxDQUFDLFdBQVc7U0FBVTtPQUFJO0tBQ3BDLENBQUE7O0FBRVAsV0FBTztBQUFDLFVBQUk7UUFBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixBQUFDLEVBQUMsS0FBSyxFQUFFLEtBQUssQUFBQyxFQUFDLEVBQUUsRUFBQyxTQUFTLEVBQUMsTUFBTSxFQUFFLEVBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUMsQUFBQztNQUFFLEtBQUs7S0FBUSxDQUFBO0dBQzdHOzs7O0FBSUQsa0JBQWdCLEVBQUEsMEJBQUMsS0FBSyxFQUFFO0FBQ3RCLFFBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsY0FBYyxFQUFFLENBQUE7R0FDbkQ7O0FBRUQsaUJBQWUsRUFBQSwyQkFBRztBQUNoQixXQUFPO0FBQ0wsY0FBUSxFQUFFLElBQUk7QUFDZCxZQUFNLEVBQUUsS0FBSztLQUNkLENBQUE7R0FDRjtDQUNGLENBQUMsQ0FBQTtBQUNGLFVBQVUsQ0FBQyxZQUFZLEdBQUc7QUFDeEIsUUFBTSxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSTtBQUM1QixXQUFTLEVBQUUsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJO0NBQ2hDLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9pbWFnZS1xdWlsdC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciB7TGlua30gPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIFB1cmVSZW5kZXJNaXhpbiA9IHJlcXVpcmUoJ3JlYWN0L2FkZG9ucycpLmFkZG9ucy5QdXJlUmVuZGVyTWl4aW5cbnZhciBkZWJvdW5jZSA9IHJlcXVpcmUoJ2RlYm91bmNlJylcbnZhciBjb29raWUgPSByZXF1aXJlKCdyZWFjdC1jb29raWUnKVxuXG52YXIgbGluZWFyUGFydGl0aW9uID0gcmVxdWlyZSgnbGluZWFyLXBhcnRpdGlvbmluZycpXG52YXIgQXJ0d29ya0ltYWdlID0gcmVxdWlyZSgnLi9hcnR3b3JrLWltYWdlJylcbnZhciBJbWFnZSA9IHJlcXVpcmUoJy4vaW1hZ2UnKVxuXG5jb25zdCBJbWFnZVF1aWx0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBtaXhpbnM6IFtQdXJlUmVuZGVyTWl4aW5dLFxuXG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICBjb25zdCBhcnR3b3JrcyA9IHRoaXMucHJvcHMuYXJ0d29ya3Muc2xpY2UoMCwgdGhpcy5wcm9wcy5tYXhXb3JrcylcbiAgICBjb25zdCBtYXliZVNodWZmbGVkQXJ0d29ya3MgPSB0aGlzLnByb3BzLnNodWZmbGUgP1xuICAgICAgYXJ0d29ya3Muc29ydCgoKSA9PiAuNSAtIE1hdGgucmFuZG9tKCkpIDpcbiAgICAgIGFydHdvcmtzXG5cbiAgICByZXR1cm4ge1xuICAgICAgYWN0aXZlOiBudWxsLFxuICAgICAgdW5waW5uZWQ6IGZhbHNlLFxuICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoIHx8IHRoaXMuY29udGV4dC51bml2ZXJzYWwgJiYgMTAwMCxcbiAgICAgIGFsd2F5c1Nob3c6IGNvb2tpZS5sb2FkKCdmcmVlVGhlUXVpbHQnKSxcbiAgICAgIHNodWZmbGVkQXJ0d29ya3M6IHRoaXMucHJvcHMuc2h1ZmZsZSA/IG1heWJlU2h1ZmZsZWRBcnR3b3JrcyA6IHVuZGVmaW5lZCxcbiAgICB9XG4gIH0sXG5cbiAgaGFuZGxlUmVzaXplOiBmdW5jdGlvbihlKSB7XG4gICAgaWYoIXRoaXMuaXNNb3VudGVkKCkpIHJldHVyblxuICAgIHRoaXMuc2V0U3RhdGUoe3dpZHRoOiBSZWFjdC5maW5kRE9NTm9kZSh0aGlzKS5jbGllbnRXaWR0aH0pXG4gIH0sXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmhhbmRsZVJlc2l6ZSgpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGRlYm91bmNlKHRoaXMuaGFuZGxlUmVzaXplLCAyMDApKVxuICB9LFxuICBjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24oKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuaGFuZGxlUmVzaXplKVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICBpZih0aGlzLmhpZGVEYXJrZW5lZFF1aWx0KCkpIHJldHVybiB0aGlzLmVtcHR5UXVpbHRUb2dnbGVDb250cm9sKClcblxuICAgIGNvbnN0IGFydHdvcmtzID0gdGhpcy5wcm9wcy5hcnR3b3Jrcy5zbGljZSgwLCB0aGlzLnByb3BzLm1heFdvcmtzKVxuICAgIGNvbnN0IF9hcnQgPSBhcnR3b3Jrcy5tYXAoKGFydCkgPT4ge1xuICAgICAgdmFyIHMgPSBhcnQuX3NvdXJjZVxuICAgICAgaWYocy5pbWFnZSA9PSAnaW52YWxpZCcgfHwgKHMuaW1hZ2Vfd2lkdGggPT0gMCAmJiBzLmltYWdlX2hlaWdodCA9PSAwKSB8fCBzLnJpZ2h0cyA9PSAnUGVybWlzc2lvbiBEZW5pZWQnKSB7XG4gICAgICAgIHMuaW1hZ2UgPSAnaW52YWxpZCdcbiAgICAgICAgdmFyIHNwbGl0T24gPSAvLHw7fDp8XFxdLztcbiAgICAgICAgKFtzLnRpdGxlX3Nob3J0LCBzLmFydGlzdF9zaG9ydF0gPSBbcy50aXRsZS5zcGxpdChzcGxpdE9uKVswXSwgcy5hcnRpc3Quc3BsaXQoc3BsaXRPbilbMF1dKVxuICAgICAgICB2YXIgdGV4dCA9IHMudGl0bGVfc2hvcnRcbiAgICAgICAgcy50ZXh0X2xlbmd0aCA9IHRleHQubGVuZ3RoXG4gICAgICAgIHZhciBkZWx0YUF2ZXJhZ2VUZXh0TGVuZ3RoID0gdGV4dC5sZW5ndGgvMTcgLy8gYmlnZ2VyIGJveCBmb3IgaXRlbXMgd2l0aCBtb3JlIHRleHRcbiAgICAgICAgcy5pbWFnZV93aWR0aCA9IGRlbHRhQXZlcmFnZVRleHRMZW5ndGggPiAyID8gMzAwIDogMjAwXG4gICAgICAgIHMuaW1hZ2VfaGVpZ2h0ID0gMjAwXG4gICAgICB9XG4gICAgICByZXR1cm4gc1xuICAgIH0pXG5cbiAgICBfYXJ0Lm1hcCgoYXJ0KSA9PiBhcnQuYXNwZWN0X3JhdGlvID0gYXJ0LmltYWdlX3dpZHRoL2FydC5pbWFnZV9oZWlnaHQpXG4gICAgY29uc3Qgc3VtbWVkQXNwZWN0UmF0aW8gPSBfYXJ0LnJlZHVjZSgoc3VtLCBhcnQpID0+IHtyZXR1cm4gc3VtK2FydC5hc3BlY3RfcmF0aW99LCAwKVxuICAgIC8vIEZpdCB0aGUgaW1hZ2VzIGludG8gYG1heFJvd3NgIG9yIGhvd2V2ZXIgbWFueSByb3dzIGl0IHdvdWxkIHRha2UgdG8gc2hvdyBlYWNoXG4gICAgLy8gYXBwcm94IDIwMHB4IHRhbGxcbiAgICB2YXIgcm93SGVpZ2h0ID0gdGhpcy5wcm9wcy5yb3dIZWlnaHQgfHwgMjAwXG4gICAgdmFyIG51bVJvd3MgPSBNYXRoLm1pbih0aGlzLnByb3BzLm1heFJvd3MsIE1hdGgubWF4KE1hdGguZmxvb3Ioc3VtbWVkQXNwZWN0UmF0aW8qcm93SGVpZ2h0L3RoaXMuc3RhdGUud2lkdGgpLCAxKSlcblxuICAgIHZhciByb3dzID0gdGhpcy5nZXRQYXJ0aXRpb24odGhpcy5zdGF0ZS5zaHVmZmxlZEFydHdvcmtzIHx8IGFydHdvcmtzLCBudW1Sb3dzKVxuXG4gICAgY29uc3QgaW1hZ2VzID0gcm93cy5tYXAoKHJvdywgaW5kZXgpID0+IHtcbiAgICAgIHZhciByb3dTdW1tZWRBc3BlY3RSYXRpbyA9IHJvdy5yZWR1Y2UoKHN1bSwgYXJ0KSA9PiB7cmV0dXJuIHN1bSthcnQuX3NvdXJjZS5hc3BlY3RfcmF0aW99LCAwKVxuICAgICAgdmFyIHJvd0FzcGVjdFJhdGlvID0gcm93U3VtbWVkQXNwZWN0UmF0aW8vcm93Lmxlbmd0aFxuICAgICAgdmFyIHVuYWRqdXN0ZWRIZWlnaHQgPSB0aGlzLnN0YXRlLndpZHRoL3Jvd1N1bW1lZEFzcGVjdFJhdGlvXG5cbiAgICAgIHZhciBpbWFnZXMgPSByb3cubWFwKChhcnQpID0+IHtcbiAgICAgICAgdmFyIF9hcnQgPSBhcnQuX3NvdXJjZVxuICAgICAgICBjb25zdCBpZCA9IF9hcnQuaWRcbiAgICAgICAgY29uc3Qgd2lkdGggPSBfYXJ0LmFzcGVjdF9yYXRpby9yb3dTdW1tZWRBc3BlY3RSYXRpbyp0aGlzLnN0YXRlLndpZHRoXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHdpZHRoL19hcnQuYXNwZWN0X3JhdGlvXG4gICAgICAgIGNvbnN0IG1heFJvd0hlaWdodCA9IHRoaXMucHJvcHMubWF4Um93SGVpZ2h0IHx8IDIwMFxuICAgICAgICBjb25zdCB3aWR0aEFkanVzdGVkVG9DbGlwVGFsbFJvd3MgPSB1bmFkanVzdGVkSGVpZ2h0ID4gbWF4Um93SGVpZ2h0ID8gd2lkdGgvKHVuYWRqdXN0ZWRIZWlnaHQvbWF4Um93SGVpZ2h0KSA6IHdpZHRoXG5cbiAgICAgICAgcmV0dXJuIDxRdWlsdFBhdGNoIGFydD17X2FydH1cbiAgICAgICAgICB3aWR0aD17d2lkdGhBZGp1c3RlZFRvQ2xpcFRhbGxSb3dzfVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xpY2tlZC5iaW5kKHRoaXMsIGFydCl9XG4gICAgICAgICAgb25Nb3VzZUVudGVyPXt0aGlzLmhvdmVyZWQuYmluZCh0aGlzLCBhcnQsIHRydWUpfVxuICAgICAgICAgIG9uTW91c2VMZWF2ZT17dGhpcy5ob3ZlcmVkLmJpbmQodGhpcywgYXJ0LCBmYWxzZSl9XG4gICAgICAgICAgb25JbWFnZUludmFsaWRhdGlvbj17dGhpcy5mb3JjZVVwZGF0ZS5iaW5kKHRoaXMpfVxuICAgICAgICAgIGtleT17X2FydC5pZH1cbiAgICAgICAgICBsYXp5TG9hZD17dGhpcy5wcm9wcy5sYXp5TG9hZH1cbiAgICAgICAgICAvPlxuICAgICAgfSlcblxuICAgICAgLy8gY2VudGVyZWQgZG9lc24ndCB3b3JrIG9uIHRoZSBmaXJzdCByb3cgYmVjYXVzZSB0aGUgc2VhcmNoIGJveCBpcyBpbiB0aGUgd2F5XG4gICAgICAvLyBzcGFjZS1hcm91bmQgbG9va3MgYmVzdCBvbiBib3R0b20gcm93c1xuICAgICAgY29uc3QganVzdGlmeSA9IGluZGV4ID09IDAgJiYgcm93Lmxlbmd0aCA8PTMgPyAnc3BhY2UtYXJvdW5kJyA6ICdjZW50ZXInXG4gICAgICB2YXIgcm93U3R5bGUgPSB7XG4gICAgICAgIG1pbkhlaWdodDogTWF0aC5taW4odW5hZGp1c3RlZEhlaWdodCwgdGhpcy5wcm9wcy5tYXhSb3dIZWlnaHQgfHwgMjAwLCA1MCksXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6IGp1c3RpZnksXG4gICAgICAgIHdoaXRlU3BhY2U6ICdub3dyYXAnLFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9J3F1aWx0LXJvdy13cmFwJ1xuICAgICAgICBrZXk9eydyb3cnK2luZGV4fVxuICAgICAgICBzdHlsZT17cm93U3R5bGV9PlxuICAgICAgICB7aW1hZ2VzfVxuICAgICAgPC9kaXY+XG4gICAgfSlcblxuICAgIHZhciBxdWlsdFN0eWxlID0ge1xuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAuLi50aGlzLnByb3BzLnN0eWxlLFxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0ncXVpbHQtd3JhcCcgb25Nb3VzZUxlYXZlPXt0aGlzLmhvdmVyZWQuYmluZCh0aGlzLCBudWxsLCBmYWxzZSl9IHN0eWxlPXtxdWlsdFN0eWxlfT5cbiAgICAgICAge2ltYWdlc31cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfSxcblxuICBjYWNoZWRQYXJ0aXRpb25zOiB7fSxcblxuICBnZXRQYXJ0aXRpb24oYXJ0d29ya3MsIG51bVJvd3MpIHtcbiAgICB2YXIgbWVtb0tleSA9IGByb3dzOiR7dGhpcy5wcm9wcy5tYXhSb3dzfXx3aWR0aDoke3RoaXMuc3RhdGUud2lkdGh9fCR7YXJ0d29ya3MubWFwKGFydCA9PiBhcnQuX2lkKS5qb2luKCctJyl9YFxuICAgIHZhciBtZW1vID0gdGhpcy5jYWNoZWRQYXJ0aXRpb25zW21lbW9LZXldXG4gICAgaWYobWVtbykgcmV0dXJuIG1lbW9cblxuICAgIGNvbnN0IHBhcnRpdGlvbkJ5ID0gZnVuY3Rpb24oY29sbGVjdGlvbiwgd2VpZ2h0Rm4sIGspIHtcbiAgICAgIGxldCB3ZWlnaHRzID0gY29sbGVjdGlvbi5tYXAod2VpZ2h0Rm4pXG4gICAgICBsZXQgcGFydGl0aW9uID0gbGluZWFyUGFydGl0aW9uKHdlaWdodHMsIGspXG5cbiAgICAgIGxldCBpbmRleCA9IDBcbiAgICAgIHJldHVybiBwYXJ0aXRpb24ubWFwKCh3ZWlnaHRlZFJvdykgPT4ge1xuICAgICAgICByZXR1cm4gd2VpZ2h0ZWRSb3cubWFwKCh3ZWlnaHQsIGkpID0+IGNvbGxlY3Rpb25baW5kZXgrK10pXG4gICAgICB9KVxuICAgIH1cblxuICAgIHZhciByb3dzID0gcGFydGl0aW9uQnkoYXJ0d29ya3MsIChhcnQpID0+IGFydC5fc291cmNlLmFzcGVjdF9yYXRpbyoxMDAsIG51bVJvd3MpXG4gICAgdGhpcy5jYWNoZWRQYXJ0aXRpb25zW21lbW9LZXldID0gcm93c1xuICAgIHJldHVybiByb3dzXG4gIH0sXG5cbiAgLy8gVGhlIHF1aWx0IGNoYW5nZXMgdGhlIG9yZGVyIG9mIHNlYXJjaCByZXN1bHRzIGluIDIgd2F5czpcbiAgLy8gKiBjbGlja2luZyBwaW5zIGEgcmVzdWx0IHRvIHRoZSB0b3AsIGluIHdoaWNoIGNhc2UgaXQgd2lsbCBzdGF5IHRoZXJlXG4gIC8vICogaG92ZXJpbmcgJ2Zsb2F0cycgYSByZXN1bHQgdG8gdGhlIHRvcCwgYnV0IGl0IHdpbGwgc2luayBiYWNrIGRvd25cbiAgLy8g4oCmYWZ0ZXIgdGhlIGludGVyYWN0aW9uIGlzIGZpbmlzaGVkLlxuICAvLyBDbGlja2luZyB0aGUgcGlubmVkIGFydHdvcmsgdW4tcGlucyBpdFxuICBjbGlja2VkKGFydCwgdXBkYXRlU3RhdGU9dHJ1ZSkge1xuICAgIHZhciB7b25DbGlja30gPSB0aGlzLnByb3BzXG4gICAgaWYodXBkYXRlU3RhdGUpIHRoaXMuc2V0U3RhdGUoe2FjdGl2ZTogYXJ0LCB1bnBpbm5lZDogZmFsc2V9KVxuICAgIGNvbnN0IHNhbWVBcnQgPSB0aGlzLnN0YXRlLnVucGlubmVkICYmICF1cGRhdGVTdGF0ZSB8fFxuICAgICAgdXBkYXRlU3RhdGUgJiYgdGhpcy5zdGF0ZS5hY3RpdmUgJiYgYXJ0ID09IHRoaXMuc3RhdGUuYWN0aXZlXG4gICAgaWYoc2FtZUFydCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7YWN0aXZlOiBudWxsLCB1bnBpbm5lZDogdHJ1ZX0pXG4gICAgICBhcnQgPSBudWxsXG4gICAgfVxuICAgIG9uQ2xpY2sgJiYgb25DbGljayhhcnQpXG4gICAgdGhpcy5zdGF0ZS51bnBpbm5lZCAmJiB0aGlzLnNldFN0YXRlKHt1bnBpbm5lZDogZmFsc2V9KVxuICB9LFxuICBob3ZlcmVkKGFydCwgYWN0aXZlKSB7XG4gICAgaWYodGhpcy5wcm9wcy5kaXNhYmxlSG92ZXIpIHJldHVyblxuICAgIC8vIGNhbmNlbCB0aGUgZGVsYXllZCAnZmxvYXQnIG9uIG1vdXNlbGVhdmVcbiAgICAvLyBpZiBhbiBhcnR3b3JrIHdhcyBjbGlja2VkLCBsZWF2ZSBpdCBwaW5uZWRcbiAgICBpZighYWN0aXZlKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0ZSlcbiAgICAgIGlmKCFhcnQpIHRoaXMuY2xpY2tlZCh0aGlzLnN0YXRlLmFjdGl2ZSwgZmFsc2UpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgdGhpcy5hY3RpdmF0ZSA9IHNldFRpbWVvdXQodGhpcy5jbGlja2VkLmJpbmQodGhpcywgYXJ0LCBmYWxzZSksIDMwMClcbiAgfSxcblxuICBoaWRlRGFya2VuZWRRdWlsdCgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5kYXJrZW4gJiYgIXRoaXMuc3RhdGUuYWx3YXlzU2hvd1xuICB9LFxuXG4gIGVtcHR5UXVpbHRUb2dnbGVDb250cm9sKCkge1xuICAgIHZhciBzdHlsZXMgPSB7XG4gICAgICBtaW5IZWlnaHQ6ICc3cmVtJyxcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIFdlYmtpdFVzZXJTZWxlY3Q6ICdub25lJyxcbiAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgekluZGV4OiAxMDAsXG4gICAgfVxuXG4gICAgcmV0dXJuIDxzcGFuIHN0eWxlPXtzdHlsZXN9IG9uRG91YmxlQ2xpY2s9e3RoaXMuZnJlZVRoZVF1aWx0fSAvPlxuICB9LFxuXG4gIGZyZWVUaGVRdWlsdCgpIHtcbiAgICBjb29raWUuc2F2ZSgnZnJlZVRoZVF1aWx0JywgdHJ1ZSlcbiAgICB0aGlzLnNldFN0YXRlKHthbHdheXNTaG93OiB0cnVlfSlcbiAgfSxcbn0pXG5JbWFnZVF1aWx0LmNvbnRleHRUeXBlcyA9IHtcbiAgcm91dGVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgdW5pdmVyc2FsOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbn1cblxuSW1hZ2VRdWlsdC5nZXRJbWFnZWRSZXN1bHRzID0gKGhpdHMpID0+IGhpdHMgJiYgaGl0c1xuICAuZmlsdGVyKChoaXQpID0+IGhpdC5fc291cmNlLmltYWdlID09ICd2YWxpZCcgJiYgaGl0Ll9zb3VyY2UuaW1hZ2Vfd2lkdGggPiAwKVxuXG5tb2R1bGUuZXhwb3J0cyA9IEltYWdlUXVpbHRcblxudmFyIFF1aWx0UGF0Y2ggPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIge2FydCwgd2lkdGgsIC4uLm90aGVyfSA9IHRoaXMucHJvcHNcbiAgICB2YXIgaWQgPSBhcnQuaWRcblxuICAgIHZhciBzdHlsZSA9IHtcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgdmVydGljYWxBbGlnbjogJ3RvcCcsXG4gICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICB3aWR0aDogd2lkdGgsXG4gICAgICBoZWlnaHQ6IHdpZHRoL2FydC5hc3BlY3RfcmF0aW9cbiAgICB9XG5cbiAgICB2YXIgaW1hZ2UgPSA8SW1hZ2VcbiAgICAgIGFydD17YXJ0fVxuICAgICAgc3R5bGU9e3N0eWxlfVxuICAgICAgey4uLm90aGVyfVxuICAgIC8+XG5cbiAgICB2YXIgdGV4dFN0eWxlID0ge1xuICAgICAgICAuLi5zdHlsZSxcbiAgICAgICAgZGlzcGxheTogJ3RhYmxlJyxcbiAgICAgICAgd2hpdGVTcGFjZTogJ25vcm1hbCcsXG4gICAgfVxuXG4gICAgdmFyIHBhdGNoID0gYXJ0LmltYWdlID09ICd2YWxpZCcgPyBpbWFnZSA6IDxzcGFuIGNsYXNzTmFtZT0naW52YWxpZCcgc3R5bGU9e3RleHRTdHlsZX0gey4uLm90aGVyfT5cbiAgICAgIDxwPjxzdHJvbmc+e2FydC50aXRsZV9zaG9ydH08L3N0cm9uZz48L3A+XG4gICAgPC9zcGFuPlxuXG4gICAgcmV0dXJuIDxMaW5rIG9uQ2xpY2s9e3RoaXMuY2xpY2tPckRvbnRDbGlja30gc3R5bGU9e3N0eWxlfSB0bz1cImFydHdvcmtcIiBwYXJhbXM9e3tpZDogYXJ0LmlkfX0+e3BhdGNofTwvTGluaz5cbiAgfSxcblxuICAvLyBoYWx0IHRoZSBjbGljayBldmVudCBpZiBqYXZhc2NyaXB0IGlzIGxvYWRlZFxuICAvLyBjbGlja2luZyB0cmlnZ2VycyB0aGUgcmlnaHQtaGFuZCBwcmV2aWV3LCBub3QgdGhlIGA8YT5gXG4gIGNsaWNrT3JEb250Q2xpY2soZXZlbnQpIHtcbiAgICBpZighdGhpcy5jb250ZXh0LnVuaXZlcnNhbCkgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICB9LFxuXG4gIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGF6eUxvYWQ6IHRydWUsXG4gICAgICBkYXJrZW46IGZhbHNlLFxuICAgIH1cbiAgfSxcbn0pXG5RdWlsdFBhdGNoLmNvbnRleHRUeXBlcyA9IHtcbiAgcm91dGVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgdW5pdmVyc2FsOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/image-quilt.js"
      ],
      "names": [],
      "mappings": ";;;;;;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;eACf,OAAO,CAAC,cAAc,CAAC;;IAA/B,IAAI,YAAJ,IAAI;;AACT,IAAI,eAAe,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC,MAAM,CAAC,eAAe,CAAA;AACpE,IAAI,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA;AAClC,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;;AAEpC,IAAI,eAAe,GAAG,OAAO,CAAC,qBAAqB,CAAC,CAAA;AACpD,IAAI,YAAY,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAA;AAC7C,IAAI,KAAK,GAAG,OAAO,CAAC,SAAS,CAAC,CAAA;;AAE9B,IAAM,UAAU,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACnC,QAAM,EAAE,CAAC,eAAe,CAAC;;AAEzB,iBAAe,EAAA,2BAAG;AAChB,QAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAA;AAClE,QAAM,qBAAqB,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,GAC9C,QAAQ,CAAC,IAAI,CAAC;aAAM,EAAE,GAAG,IAAI,CAAC,MAAM,EAAE;KAAA,CAAC,GACvC,QAAQ,CAAA;;AAEV,WAAO;AACL,YAAM,EAAE,IAAI;AACZ,cAAQ,EAAE,KAAK;AACf,WAAK,EAAE,MAAM,CAAC,UAAU,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,IAAI,IAAI;AAC1D,gBAAU,EAAE,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC;AACvC,sBAAgB,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,qBAAqB,GAAG,SAAS;KACzE,CAAA;GACF;;AAED,cAAY,EAAE,sBAAS,CAAC,EAAE;AACxB,QAAG,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,OAAM;AAC5B,QAAI,CAAC,QAAQ,CAAC,EAAC,KAAK,EAAE,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,WAAW,EAAC,CAAC,CAAA;GAC5D;AACD,mBAAiB,EAAE,6BAAW;AAC5B,QAAI,CAAC,YAAY,EAAE,CAAA;AACnB,UAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,QAAQ,CAAC,IAAI,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC,CAAA;GACpE;AACD,sBAAoB,EAAE,gCAAW;AAC/B,UAAM,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,CAAA;GACxD;;AAED,QAAM,EAAA,kBAAG;;;AACP,QAAG,IAAI,CAAC,iBAAiB,EAAE,EAAE,OAAO,IAAI,CAAC,uBAAuB,EAAE,CAAA;;AAElE,QAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAA;AAClE,QAAM,IAAI,GAAG,QAAQ,CAAC,GAAG,CAAC,UAAC,GAAG,EAAK;AACjC,UAAI,CAAC,GAAG,GAAG,CAAC,OAAO,CAAA;AACnB,UAAG,CAAC,CAAC,KAAK,IAAI,SAAS,IAAK,CAAC,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,CAAC,YAAY,IAAI,CAAC,AAAC,IAAI,CAAC,CAAC,MAAM,IAAI,mBAAmB,EAAE;AACzG,SAAC,CAAC,KAAK,GAAG,SAAS,CAAA;AACnB,YAAI,OAAO,GAAG,UAAU,CAAC;mBACU,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AAAxF,SAAC,CAAC,WAAW;AAAE,SAAC,CAAC,YAAY;;AAC/B,YAAI,IAAI,GAAG,CAAC,CAAC,WAAW,CAAA;AACxB,SAAC,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAA;AAC3B,YAAI,sBAAsB,GAAG,IAAI,CAAC,MAAM,GAAC,EAAE,CAAA;AAC3C,SAAC,CAAC,WAAW,GAAG,sBAAsB,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,CAAA;AACtD,SAAC,CAAC,YAAY,GAAG,GAAG,CAAA;OACrB;AACD,aAAO,CAAC,CAAA;KACT,CAAC,CAAA;;AAEF,QAAI,CAAC,GAAG,CAAC,UAAC,GAAG;aAAK,GAAG,CAAC,YAAY,GAAG,GAAG,CAAC,WAAW,GAAC,GAAG,CAAC,YAAY;KAAA,CAAC,CAAA;AACtE,QAAM,iBAAiB,GAAG,IAAI,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,GAAG,EAAK;AAAC,aAAO,GAAG,GAAC,GAAG,CAAC,YAAY,CAAA;KAAC,EAAE,CAAC,CAAC,CAAA;;;AAGrF,QAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,GAAG,CAAA;AAC3C,QAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,iBAAiB,GAAC,SAAS,GAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAA;;AAEjH,QAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,IAAI,QAAQ,EAAE,OAAO,CAAC,CAAA;;AAE9E,QAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,UAAC,GAAG,EAAE,KAAK,EAAK;AACtC,UAAI,oBAAoB,GAAG,GAAG,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,GAAG,EAAK;AAAC,eAAO,GAAG,GAAC,GAAG,CAAC,OAAO,CAAC,YAAY,CAAA;OAAC,EAAE,CAAC,CAAC,CAAA;AAC7F,UAAI,cAAc,GAAG,oBAAoB,GAAC,GAAG,CAAC,MAAM,CAAA;AACpD,UAAI,gBAAgB,GAAG,MAAK,KAAK,CAAC,KAAK,GAAC,oBAAoB,CAAA;;AAE5D,UAAI,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,UAAC,GAAG,EAAK;AAC5B,YAAI,IAAI,GAAG,GAAG,CAAC,OAAO,CAAA;AACtB,YAAM,EAAE,GAAG,IAAI,CAAC,EAAE,CAAA;AAClB,YAAM,KAAK,GAAG,IAAI,CAAC,YAAY,GAAC,oBAAoB,GAAC,MAAK,KAAK,CAAC,KAAK,CAAA;AACrE,YAAM,MAAM,GAAG,KAAK,GAAC,IAAI,CAAC,YAAY,CAAA;AACtC,YAAM,YAAY,GAAG,MAAK,KAAK,CAAC,YAAY,IAAI,GAAG,CAAA;AACnD,YAAM,2BAA2B,GAAG,gBAAgB,GAAG,YAAY,GAAG,KAAK,IAAE,gBAAgB,GAAC,YAAY,CAAA,AAAC,GAAG,KAAK,CAAA;;AAEnH,eAAO,oBAAC,UAAU,IAAC,GAAG,EAAE,IAAI,AAAC;AAC3B,eAAK,EAAE,2BAA2B,AAAC;AACnC,iBAAO,EAAE,MAAK,OAAO,CAAC,IAAI,QAAO,GAAG,CAAC,AAAC;AACtC,sBAAY,EAAE,MAAK,OAAO,CAAC,IAAI,QAAO,GAAG,EAAE,IAAI,CAAC,AAAC;AACjD,sBAAY,EAAE,MAAK,OAAO,CAAC,IAAI,QAAO,GAAG,EAAE,KAAK,CAAC,AAAC;AAClD,6BAAmB,EAAE,MAAK,WAAW,CAAC,IAAI,OAAM,AAAC;AACjD,aAAG,EAAE,IAAI,CAAC,EAAE,AAAC;AACb,kBAAQ,EAAE,MAAK,KAAK,CAAC,QAAQ,AAAC;UAC5B,CAAA;OACL,CAAC,CAAA;;;;AAIF,UAAM,OAAO,GAAG,KAAK,IAAI,CAAC,IAAI,GAAG,CAAC,MAAM,IAAG,CAAC,GAAG,cAAc,GAAG,QAAQ,CAAA;AACxE,UAAI,QAAQ,GAAG;AACb,iBAAS,EAAE,IAAI,CAAC,GAAG,CAAC,gBAAgB,EAAE,MAAK,KAAK,CAAC,YAAY,IAAI,GAAG,EAAE,EAAE,CAAC;AACzE,eAAO,EAAE,MAAM;AACf,sBAAc,EAAE,OAAO;AACvB,kBAAU,EAAE,QAAQ;OACrB,CAAA;;AAED,aAAO;;UAAK,SAAS,EAAC,gBAAgB;AACpC,aAAG,EAAE,KAAK,GAAC,KAAK,AAAC;AACjB,eAAK,EAAE,QAAQ,AAAC;QACf,MAAM;OACH,CAAA;KACP,CAAC,CAAA;;AAEF,QAAI,UAAU;AACZ,YAAM,EAAE,SAAS;OACd,IAAI,CAAC,KAAK,CAAC,KAAK,CACpB,CAAA;;AAED,WACE;;QAAK,SAAS,EAAC,YAAY,EAAC,YAAY,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,AAAC,EAAC,KAAK,EAAE,UAAU,AAAC;MAC/F,MAAM;KACH,CACP;GACF;;AAED,kBAAgB,EAAE,EAAE;;AAEpB,cAAY,EAAA,sBAAC,QAAQ,EAAE,OAAO,EAAE;AAC9B,QAAI,OAAO,aAAW,IAAI,CAAC,KAAK,CAAC,OAAO,eAAU,IAAI,CAAC,KAAK,CAAC,KAAK,SAAI,QAAQ,CAAC,GAAG,CAAC,UAAA,GAAG;aAAI,GAAG,CAAC,GAAG;KAAA,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,AAAE,CAAA;AAC9G,QAAI,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAA;AACzC,QAAG,IAAI,EAAE,OAAO,IAAI,CAAA;;AAEpB,QAAM,WAAW,GAAG,SAAd,WAAW,CAAY,UAAU,EAAE,QAAQ,EAAE,CAAC,EAAE;AACpD,UAAI,OAAO,GAAG,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAA;AACtC,UAAI,SAAS,GAAG,eAAe,CAAC,OAAO,EAAE,CAAC,CAAC,CAAA;;AAE3C,UAAI,KAAK,GAAG,CAAC,CAAA;AACb,aAAO,SAAS,CAAC,GAAG,CAAC,UAAC,WAAW,EAAK;AACpC,eAAO,WAAW,CAAC,GAAG,CAAC,UAAC,MAAM,EAAE,CAAC;iBAAK,UAAU,CAAC,KAAK,EAAE,CAAC;SAAA,CAAC,CAAA;OAC3D,CAAC,CAAA;KACH,CAAA;;AAED,QAAI,IAAI,GAAG,WAAW,CAAC,QAAQ,EAAE,UAAC,GAAG;aAAK,GAAG,CAAC,OAAO,CAAC,YAAY,GAAC,GAAG;KAAA,EAAE,OAAO,CAAC,CAAA;AAChF,QAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,GAAG,IAAI,CAAA;AACrC,WAAO,IAAI,CAAA;GACZ;;;;;;;AAOD,SAAO,EAAA,iBAAC,GAAG,EAAoB;QAAlB,WAAW,yDAAC,IAAI;QACtB,OAAO,GAAI,IAAI,CAAC,KAAK,CAArB,OAAO;;AACZ,QAAG,WAAW,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAC,MAAM,EAAE,GAAG,EAAE,QAAQ,EAAE,KAAK,EAAC,CAAC,CAAA;AAC7D,QAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,CAAC,WAAW,IACjD,WAAW,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAA;AAC9D,QAAG,OAAO,EAAE;AACV,UAAI,CAAC,QAAQ,CAAC,EAAC,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAC,CAAC,CAAA;AAC7C,SAAG,GAAG,IAAI,CAAA;KACX;AACD,WAAO,IAAI,OAAO,CAAC,GAAG,CAAC,CAAA;AACvB,QAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAC,QAAQ,EAAE,KAAK,EAAC,CAAC,CAAA;GACxD;AACD,SAAO,EAAA,iBAAC,GAAG,EAAE,MAAM,EAAE;AACnB,QAAG,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,OAAM;;;AAGlC,QAAG,CAAC,MAAM,EAAE;AACV,kBAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;AAC3B,UAAG,CAAC,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,CAAA;AAC/C,aAAM;KACP;AACD,QAAI,CAAC,QAAQ,GAAG,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,EAAE,KAAK,CAAC,EAAE,GAAG,CAAC,CAAA;GACrE;;AAED,mBAAiB,EAAA,6BAAG;AAClB,WAAO,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAA;GACnD;;AAED,yBAAuB,EAAA,mCAAG;AACxB,QAAI,MAAM,GAAG;AACX,eAAS,EAAE,MAAM;AACjB,aAAO,EAAE,cAAc;AACvB,WAAK,EAAE,MAAM;AACb,sBAAgB,EAAE,MAAM;AACxB,YAAM,EAAE,SAAS;AACjB,YAAM,EAAE,GAAG;KACZ,CAAA;;AAED,WAAO,8BAAM,KAAK,EAAE,MAAM,AAAC,EAAC,aAAa,EAAE,IAAI,CAAC,YAAY,AAAC,GAAG,CAAA;GACjE;;AAED,cAAY,EAAA,wBAAG;AACb,UAAM,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAA;AACjC,QAAI,CAAC,QAAQ,CAAC,EAAC,UAAU,EAAE,IAAI,EAAC,CAAC,CAAA;GAClC;CACF,CAAC,CAAA;AACF,UAAU,CAAC,YAAY,GAAG;AACxB,QAAM,EAAE,KAAK,CAAC,SAAS,CAAC,IAAI;AAC5B,WAAS,EAAE,KAAK,CAAC,SAAS,CAAC,IAAI;CAChC,CAAA;;AAED,UAAU,CAAC,gBAAgB,GAAG,UAAC,IAAI;SAAK,IAAI,IAAI,IAAI,CACjD,MAAM,CAAC,UAAC,GAAG;WAAK,GAAG,CAAC,OAAO,CAAC,KAAK,IAAI,OAAO,IAAI,GAAG,CAAC,OAAO,CAAC,WAAW,GAAG,CAAC;GAAA,CAAC;CAAA,CAAA;;AAE/E,MAAM,CAAC,OAAO,GAAG,UAAU,CAAA;;AAE3B,IAAI,UAAU,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACjC,QAAM,EAAA,kBAAG;iBACsB,IAAI,CAAC,KAAK;QAAlC,GAAG,UAAH,GAAG;QAAE,KAAK,UAAL,KAAK;;QAAK,KAAK;;AACzB,QAAI,EAAE,GAAG,GAAG,CAAC,EAAE,CAAA;;AAEf,QAAI,KAAK,GAAG;AACV,aAAO,EAAE,cAAc;AACvB,mBAAa,EAAE,KAAK;AACpB,cAAQ,EAAE,QAAQ;AAClB,WAAK,EAAE,KAAK;AACZ,YAAM,EAAE,KAAK,GAAC,GAAG,CAAC,YAAY;KAC/B,CAAA;;AAED,QAAI,KAAK,GAAG,oBAAC,KAAK;AAChB,SAAG,EAAE,GAAG,AAAC;AACT,WAAK,EAAE,KAAK,AAAC;OACT,KAAK,EACT,CAAA;;AAEF,QAAI,SAAS,gBACN,KAAK;AACR,aAAO,EAAE,OAAO;AAChB,gBAAU,EAAE,QAAQ;MACvB,CAAA;;AAED,QAAI,KAAK,GAAG,GAAG,CAAC,KAAK,IAAI,OAAO,GAAG,KAAK,GAAG;;iBAAM,SAAS,EAAC,SAAS,EAAC,KAAK,EAAE,SAAS,AAAC,IAAK,KAAK;MAC9F;;;QAAG;;;UAAS,GAAG,CAAC,WAAW;SAAU;OAAI;KACpC,CAAA;;AAEP,WAAO;AAAC,UAAI;QAAC,OAAO,EAAE,IAAI,CAAC,gBAAgB,AAAC,EAAC,KAAK,EAAE,KAAK,AAAC,EAAC,EAAE,EAAC,SAAS,EAAC,MAAM,EAAE,EAAC,EAAE,EAAE,GAAG,CAAC,EAAE,EAAC,AAAC;MAAE,KAAK;KAAQ,CAAA;GAC7G;;;;AAID,kBAAgB,EAAA,0BAAC,KAAK,EAAE;AACtB,QAAG,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC,cAAc,EAAE,CAAA;GACnD;;AAED,iBAAe,EAAA,2BAAG;AAChB,WAAO;AACL,cAAQ,EAAE,IAAI;AACd,YAAM,EAAE,KAAK;KACd,CAAA;GACF;CACF,CAAC,CAAA;AACF,UAAU,CAAC,YAAY,GAAG;AACxB,QAAM,EAAE,KAAK,CAAC,SAAS,CAAC,IAAI;AAC5B,WAAS,EAAE,KAAK,CAAC,SAAS,CAAC,IAAI;CAChC,CAAA",
      "file": "/var/www/art/src/image-quilt.js",
      "sourcesContent": [
        "var React = require('react')\nvar {Link} = require('react-router')\nvar PureRenderMixin = require('react/addons').addons.PureRenderMixin\nvar debounce = require('debounce')\nvar cookie = require('react-cookie')\n\nvar linearPartition = require('linear-partitioning')\nvar ArtworkImage = require('./artwork-image')\nvar Image = require('./image')\n\nconst ImageQuilt = React.createClass({\n  mixins: [PureRenderMixin],\n\n  getInitialState() {\n    const artworks = this.props.artworks.slice(0, this.props.maxWorks)\n    const maybeShuffledArtworks = this.props.shuffle ?\n      artworks.sort(() => .5 - Math.random()) :\n      artworks\n\n    return {\n      active: null,\n      unpinned: false,\n      width: window.innerWidth || this.context.universal && 1000,\n      alwaysShow: cookie.load('freeTheQuilt'),\n      shuffledArtworks: this.props.shuffle ? maybeShuffledArtworks : undefined,\n    }\n  },\n\n  handleResize: function(e) {\n    if(!this.isMounted()) return\n    this.setState({width: React.findDOMNode(this).clientWidth})\n  },\n  componentDidMount: function() {\n    this.handleResize()\n    window.addEventListener('resize', debounce(this.handleResize, 200))\n  },\n  componentWillUnmount: function() {\n    window.removeEventListener('resize', this.handleResize)\n  },\n\n  render() {\n    if(this.hideDarkenedQuilt()) return this.emptyQuiltToggleControl()\n\n    const artworks = this.props.artworks.slice(0, this.props.maxWorks)\n    const _art = artworks.map((art) => {\n      var s = art._source\n      if(s.image == 'invalid' || (s.image_width == 0 && s.image_height == 0) || s.rights == 'Permission Denied') {\n        s.image = 'invalid'\n        var splitOn = /,|;|:|\\]/;\n        ([s.title_short, s.artist_short] = [s.title.split(splitOn)[0], s.artist.split(splitOn)[0]])\n        var text = s.title_short\n        s.text_length = text.length\n        var deltaAverageTextLength = text.length/17 // bigger box for items with more text\n        s.image_width = deltaAverageTextLength > 2 ? 300 : 200\n        s.image_height = 200\n      }\n      return s\n    })\n\n    _art.map((art) => art.aspect_ratio = art.image_width/art.image_height)\n    const summedAspectRatio = _art.reduce((sum, art) => {return sum+art.aspect_ratio}, 0)\n    // Fit the images into `maxRows` or however many rows it would take to show each\n    // approx 200px tall\n    var rowHeight = this.props.rowHeight || 200\n    var numRows = Math.min(this.props.maxRows, Math.max(Math.floor(summedAspectRatio*rowHeight/this.state.width), 1))\n\n    var rows = this.getPartition(this.state.shuffledArtworks || artworks, numRows)\n\n    const images = rows.map((row, index) => {\n      var rowSummedAspectRatio = row.reduce((sum, art) => {return sum+art._source.aspect_ratio}, 0)\n      var rowAspectRatio = rowSummedAspectRatio/row.length\n      var unadjustedHeight = this.state.width/rowSummedAspectRatio\n\n      var images = row.map((art) => {\n        var _art = art._source\n        const id = _art.id\n        const width = _art.aspect_ratio/rowSummedAspectRatio*this.state.width\n        const height = width/_art.aspect_ratio\n        const maxRowHeight = this.props.maxRowHeight || 200\n        const widthAdjustedToClipTallRows = unadjustedHeight > maxRowHeight ? width/(unadjustedHeight/maxRowHeight) : width\n\n        return <QuiltPatch art={_art}\n          width={widthAdjustedToClipTallRows}\n          onClick={this.clicked.bind(this, art)}\n          onMouseEnter={this.hovered.bind(this, art, true)}\n          onMouseLeave={this.hovered.bind(this, art, false)}\n          onImageInvalidation={this.forceUpdate.bind(this)}\n          key={_art.id}\n          lazyLoad={this.props.lazyLoad}\n          />\n      })\n\n      // centered doesn't work on the first row because the search box is in the way\n      // space-around looks best on bottom rows\n      const justify = index == 0 && row.length <=3 ? 'space-around' : 'center'\n      var rowStyle = {\n        minHeight: Math.min(unadjustedHeight, this.props.maxRowHeight || 200, 50),\n        display: 'flex',\n        justifyContent: justify,\n        whiteSpace: 'nowrap',\n      }\n\n      return <div className='quilt-row-wrap'\n        key={'row'+index}\n        style={rowStyle}>\n        {images}\n      </div>\n    })\n\n    var quiltStyle = {\n      cursor: 'pointer',\n      ...this.props.style,\n    }\n\n    return (\n      <div className='quilt-wrap' onMouseLeave={this.hovered.bind(this, null, false)} style={quiltStyle}>\n        {images}\n      </div>\n    )\n  },\n\n  cachedPartitions: {},\n\n  getPartition(artworks, numRows) {\n    var memoKey = `rows:${this.props.maxRows}|width:${this.state.width}|${artworks.map(art => art._id).join('-')}`\n    var memo = this.cachedPartitions[memoKey]\n    if(memo) return memo\n\n    const partitionBy = function(collection, weightFn, k) {\n      let weights = collection.map(weightFn)\n      let partition = linearPartition(weights, k)\n\n      let index = 0\n      return partition.map((weightedRow) => {\n        return weightedRow.map((weight, i) => collection[index++])\n      })\n    }\n\n    var rows = partitionBy(artworks, (art) => art._source.aspect_ratio*100, numRows)\n    this.cachedPartitions[memoKey] = rows\n    return rows\n  },\n\n  // The quilt changes the order of search results in 2 ways:\n  // * clicking pins a result to the top, in which case it will stay there\n  // * hovering 'floats' a result to the top, but it will sink back down\n  // …after the interaction is finished.\n  // Clicking the pinned artwork un-pins it\n  clicked(art, updateState=true) {\n    var {onClick} = this.props\n    if(updateState) this.setState({active: art, unpinned: false})\n    const sameArt = this.state.unpinned && !updateState ||\n      updateState && this.state.active && art == this.state.active\n    if(sameArt) {\n      this.setState({active: null, unpinned: true})\n      art = null\n    }\n    onClick && onClick(art)\n    this.state.unpinned && this.setState({unpinned: false})\n  },\n  hovered(art, active) {\n    if(this.props.disableHover) return\n    // cancel the delayed 'float' on mouseleave\n    // if an artwork was clicked, leave it pinned\n    if(!active) {\n      clearTimeout(this.activate)\n      if(!art) this.clicked(this.state.active, false)\n      return\n    }\n    this.activate = setTimeout(this.clicked.bind(this, art, false), 300)\n  },\n\n  hideDarkenedQuilt() {\n    return this.props.darken && !this.state.alwaysShow\n  },\n\n  emptyQuiltToggleControl() {\n    var styles = {\n      minHeight: '7rem',\n      display: 'inline-block',\n      width: '100%',\n      WebkitUserSelect: 'none',\n      cursor: 'pointer',\n      zIndex: 100,\n    }\n\n    return <span style={styles} onDoubleClick={this.freeTheQuilt} />\n  },\n\n  freeTheQuilt() {\n    cookie.save('freeTheQuilt', true)\n    this.setState({alwaysShow: true})\n  },\n})\nImageQuilt.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nImageQuilt.getImagedResults = (hits) => hits && hits\n  .filter((hit) => hit._source.image == 'valid' && hit._source.image_width > 0)\n\nmodule.exports = ImageQuilt\n\nvar QuiltPatch = React.createClass({\n  render() {\n    var {art, width, ...other} = this.props\n    var id = art.id\n\n    var style = {\n      display: 'inline-block',\n      verticalAlign: 'top',\n      overflow: 'hidden',\n      width: width,\n      height: width/art.aspect_ratio\n    }\n\n    var image = <Image\n      art={art}\n      style={style}\n      {...other}\n    />\n\n    var textStyle = {\n        ...style,\n        display: 'table',\n        whiteSpace: 'normal',\n    }\n\n    var patch = art.image == 'valid' ? image : <span className='invalid' style={textStyle} {...other}>\n      <p><strong>{art.title_short}</strong></p>\n    </span>\n\n    return <Link onClick={this.clickOrDontClick} style={style} to=\"artwork\" params={{id: art.id}}>{patch}</Link>\n  },\n\n  // halt the click event if javascript is loaded\n  // clicking triggers the right-hand preview, not the `<a>`\n  clickOrDontClick(event) {\n    if(!this.context.universal) event.preventDefault()\n  },\n\n  getDefaultProps() {\n    return {\n      lazyLoad: true,\n      darken: false,\n    }\n  },\n})\nQuiltPatch.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n"
      ]
    },
    "mtime": 1487953287530
  },
  "{\"filename\":\"/var/www/art/src/artwork-image.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar LazyLoad = require('react-lazy-load');\n\nvar Markdown = require('./markdown');\nvar Image = require('./image');\n\nvar ArtworkImage = React.createClass({\n  displayName: 'ArtworkImage',\n\n  render: function render() {\n    var _props = this.props;\n    var art = _props.art;\n    var id = _props.id;\n\n    var aspectRatio = art.image_width / art.image_height;\n    var maxWidth = window.innerWidth ? Math.min(window.innerWidth, 400) : 400;\n    var width = aspectRatio >= 1 ? maxWidth : maxWidth / aspectRatio;\n    var height = aspectRatio >= 1 ? maxWidth / aspectRatio : maxWidth;\n    var padding = width >= maxWidth ? -8 : -8 + (maxWidth - width) / 2;\n\n    var image = React.createElement(Image, { art: art,\n      style: { width: width, height: height },\n      ignoreStyle: true,\n      itemProp: 'image',\n      alt: art.description,\n      lazyLoad: this.props.lazyLoad });\n\n    var showImage = art.image == 'valid' && art.image_width > 0 && art.rights !== 'Permission Denied';\n\n    return showImage && React.createElement(\n      'div',\n      { className: 'artwork-image', style: { minHeight: '173px' } },\n      image,\n      React.createElement(\n        Markdown,\n        null,\n        art.image_copyright\n      )\n    );\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return { lazyLoad: true };\n  }\n});\n\nmodule.exports = ArtworkImage;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYXJ0d29yay1pbWFnZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUM1QixJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQTs7QUFFekMsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBO0FBQ3BDLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQTs7QUFFOUIsSUFBSSxZQUFZLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ25DLFFBQU0sRUFBQSxrQkFBRztpQkFDUyxJQUFJLENBQUMsS0FBSztRQUFyQixHQUFHLFVBQUgsR0FBRztRQUFFLEVBQUUsVUFBRixFQUFFOztBQUNaLFFBQUksV0FBVyxHQUFHLEdBQUcsQ0FBQyxXQUFXLEdBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQTtBQUNsRCxRQUFJLFFBQVEsR0FBRyxNQUFNLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUE7QUFDekUsUUFBSSxLQUFLLEdBQUcsV0FBVyxJQUFJLENBQUMsR0FBRyxRQUFRLEdBQUcsUUFBUSxHQUFDLFdBQVcsQ0FBQTtBQUM5RCxRQUFJLE1BQU0sR0FBRyxXQUFXLElBQUksQ0FBQyxHQUFHLFFBQVEsR0FBQyxXQUFXLEdBQUcsUUFBUSxDQUFBO0FBQy9ELFFBQUksT0FBTyxHQUFHLEtBQUssSUFBSSxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxRQUFRLEdBQUMsS0FBSyxDQUFBLEdBQUUsQ0FBQyxDQUFBOztBQUU1RCxRQUFJLEtBQUssR0FBRyxvQkFBQyxLQUFLLElBQUMsR0FBRyxFQUFFLEdBQUcsQUFBQztBQUMxQixXQUFLLEVBQUUsRUFBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUMsQUFBQztBQUN0QyxpQkFBVyxFQUFFLElBQUksQUFBQztBQUNsQixjQUFRLEVBQUMsT0FBTztBQUNoQixTQUFHLEVBQUUsR0FBRyxDQUFDLFdBQVcsQUFBQztBQUNyQixjQUFRLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEFBQUMsR0FBRyxDQUFBOztBQUVuQyxRQUFJLFNBQVMsR0FBRyxHQUFHLENBQUMsS0FBSyxJQUFJLE9BQU8sSUFBSSxHQUFHLENBQUMsV0FBVyxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsTUFBTSxLQUFLLG1CQUFtQixDQUFBOztBQUVqRyxXQUFPLFNBQVMsSUFDZDs7UUFBSyxTQUFTLEVBQUMsZUFBZSxFQUFDLEtBQUssRUFBRSxFQUFDLFNBQVMsRUFBRSxPQUFPLEVBQUMsQUFBQztNQUN4RCxLQUFLO01BQ047QUFBQyxnQkFBUTs7UUFBRSxHQUFHLENBQUMsZUFBZTtPQUFZO0tBQ3RDLEFBQ1AsQ0FBQTtHQUNGOztBQUVELGlCQUFlLEVBQUEsMkJBQUc7QUFDaEIsV0FBTyxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMsQ0FBQTtHQUN4QjtDQUNGLENBQUMsQ0FBQTs7QUFFRixNQUFNLENBQUMsT0FBTyxHQUFHLFlBQVksQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2FydHdvcmstaW1hZ2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG5sZXQgTGF6eUxvYWQgPSByZXF1aXJlKCdyZWFjdC1sYXp5LWxvYWQnKVxuXG52YXIgTWFya2Rvd24gPSByZXF1aXJlKCcuL21hcmtkb3duJylcbnZhciBJbWFnZSA9IHJlcXVpcmUoJy4vaW1hZ2UnKVxuXG52YXIgQXJ0d29ya0ltYWdlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgbGV0IHthcnQsIGlkfSA9IHRoaXMucHJvcHNcbiAgICBsZXQgYXNwZWN0UmF0aW8gPSBhcnQuaW1hZ2Vfd2lkdGgvYXJ0LmltYWdlX2hlaWdodFxuICAgIGxldCBtYXhXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoID8gTWF0aC5taW4od2luZG93LmlubmVyV2lkdGgsIDQwMCkgOiA0MDBcbiAgICBsZXQgd2lkdGggPSBhc3BlY3RSYXRpbyA+PSAxID8gbWF4V2lkdGggOiBtYXhXaWR0aC9hc3BlY3RSYXRpb1xuICAgIGxldCBoZWlnaHQgPSBhc3BlY3RSYXRpbyA+PSAxID8gbWF4V2lkdGgvYXNwZWN0UmF0aW8gOiBtYXhXaWR0aFxuICAgIGxldCBwYWRkaW5nID0gd2lkdGggPj0gbWF4V2lkdGggPyAtOCA6IC04KyhtYXhXaWR0aC13aWR0aCkvMlxuXG4gICAgdmFyIGltYWdlID0gPEltYWdlIGFydD17YXJ0fVxuICAgICAgc3R5bGU9e3t3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0fX1cbiAgICAgIGlnbm9yZVN0eWxlPXt0cnVlfVxuICAgICAgaXRlbVByb3A9XCJpbWFnZVwiXG4gICAgICBhbHQ9e2FydC5kZXNjcmlwdGlvbn1cbiAgICAgIGxhenlMb2FkPXt0aGlzLnByb3BzLmxhenlMb2FkfSAvPlxuXG4gICAgdmFyIHNob3dJbWFnZSA9IGFydC5pbWFnZSA9PSAndmFsaWQnICYmIGFydC5pbWFnZV93aWR0aCA+IDAgJiYgYXJ0LnJpZ2h0cyAhPT0gJ1Blcm1pc3Npb24gRGVuaWVkJ1xuXG4gICAgcmV0dXJuIHNob3dJbWFnZSAmJiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nYXJ0d29yay1pbWFnZScgc3R5bGU9e3ttaW5IZWlnaHQ6ICcxNzNweCd9fT5cbiAgICAgICAge2ltYWdlfVxuICAgICAgICA8TWFya2Rvd24+e2FydC5pbWFnZV9jb3B5cmlnaHR9PC9NYXJrZG93bj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfSxcblxuICBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtsYXp5TG9hZDogdHJ1ZX1cbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gQXJ0d29ya0ltYWdlXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/artwork-image.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,QAAQ,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAA;;AAEzC,IAAI,QAAQ,GAAG,OAAO,CAAC,YAAY,CAAC,CAAA;AACpC,IAAI,KAAK,GAAG,OAAO,CAAC,SAAS,CAAC,CAAA;;AAE9B,IAAI,YAAY,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACnC,QAAM,EAAA,kBAAG;iBACS,IAAI,CAAC,KAAK;QAArB,GAAG,UAAH,GAAG;QAAE,EAAE,UAAF,EAAE;;AACZ,QAAI,WAAW,GAAG,GAAG,CAAC,WAAW,GAAC,GAAG,CAAC,YAAY,CAAA;AAClD,QAAI,QAAQ,GAAG,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,UAAU,EAAE,GAAG,CAAC,GAAG,GAAG,CAAA;AACzE,QAAI,KAAK,GAAG,WAAW,IAAI,CAAC,GAAG,QAAQ,GAAG,QAAQ,GAAC,WAAW,CAAA;AAC9D,QAAI,MAAM,GAAG,WAAW,IAAI,CAAC,GAAG,QAAQ,GAAC,WAAW,GAAG,QAAQ,CAAA;AAC/D,QAAI,OAAO,GAAG,KAAK,IAAI,QAAQ,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAC,CAAC,QAAQ,GAAC,KAAK,CAAA,GAAE,CAAC,CAAA;;AAE5D,QAAI,KAAK,GAAG,oBAAC,KAAK,IAAC,GAAG,EAAE,GAAG,AAAC;AAC1B,WAAK,EAAE,EAAC,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAC,AAAC;AACtC,iBAAW,EAAE,IAAI,AAAC;AAClB,cAAQ,EAAC,OAAO;AAChB,SAAG,EAAE,GAAG,CAAC,WAAW,AAAC;AACrB,cAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,AAAC,GAAG,CAAA;;AAEnC,QAAI,SAAS,GAAG,GAAG,CAAC,KAAK,IAAI,OAAO,IAAI,GAAG,CAAC,WAAW,GAAG,CAAC,IAAI,GAAG,CAAC,MAAM,KAAK,mBAAmB,CAAA;;AAEjG,WAAO,SAAS,IACd;;QAAK,SAAS,EAAC,eAAe,EAAC,KAAK,EAAE,EAAC,SAAS,EAAE,OAAO,EAAC,AAAC;MACxD,KAAK;MACN;AAAC,gBAAQ;;QAAE,GAAG,CAAC,eAAe;OAAY;KACtC,AACP,CAAA;GACF;;AAED,iBAAe,EAAA,2BAAG;AAChB,WAAO,EAAC,QAAQ,EAAE,IAAI,EAAC,CAAA;GACxB;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,YAAY,CAAA",
      "file": "/var/www/art/src/artwork-image.js",
      "sourcesContent": [
        "var React = require('react')\nlet LazyLoad = require('react-lazy-load')\n\nvar Markdown = require('./markdown')\nvar Image = require('./image')\n\nvar ArtworkImage = React.createClass({\n  render() {\n    let {art, id} = this.props\n    let aspectRatio = art.image_width/art.image_height\n    let maxWidth = window.innerWidth ? Math.min(window.innerWidth, 400) : 400\n    let width = aspectRatio >= 1 ? maxWidth : maxWidth/aspectRatio\n    let height = aspectRatio >= 1 ? maxWidth/aspectRatio : maxWidth\n    let padding = width >= maxWidth ? -8 : -8+(maxWidth-width)/2\n\n    var image = <Image art={art}\n      style={{width: width, height: height}}\n      ignoreStyle={true}\n      itemProp=\"image\"\n      alt={art.description}\n      lazyLoad={this.props.lazyLoad} />\n\n    var showImage = art.image == 'valid' && art.image_width > 0 && art.rights !== 'Permission Denied'\n\n    return showImage && (\n      <div className='artwork-image' style={{minHeight: '173px'}}>\n        {image}\n        <Markdown>{art.image_copyright}</Markdown>\n      </div>\n    )\n  },\n\n  getDefaultProps() {\n    return {lazyLoad: true}\n  },\n})\n\nmodule.exports = ArtworkImage\n"
      ]
    },
    "mtime": 1487953287526
  },
  "{\"filename\":\"/var/www/art/src/markdown.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\n\nvar marked = require('marked');\nmarked.setOptions({\n  gfm: true,\n  breaks: true\n});\n\nvar Markdown = React.createClass({\n  displayName: 'Markdown',\n\n  render: function render() {\n    if (!this.props.children) return React.createElement('span', null);\n\n    var content = this.props.children.replace('\\n', '\\n\\n').replace(/<i>([^<]+)<\\/?i>/gi, '<i>$1</i>');\n\n    var Tag = this.props.tag || 'div';\n    var rendered = this.props.alreadyRendered ? content : marked(content);\n    if (this.props.tag) rendered = rendered.replace(/<.?p>/g, '').trim();\n    return React.createElement(Tag, { dangerouslySetInnerHTML: { __html: rendered } });\n  }\n});\n\nmodule.exports = Markdown;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvbWFya2Rvd24uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7O0FBRTVCLElBQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQTtBQUNoQyxNQUFNLENBQUMsVUFBVSxDQUFDO0FBQ2hCLEtBQUcsRUFBRSxJQUFJO0FBQ1QsUUFBTSxFQUFFLElBQUk7Q0FDYixDQUFDLENBQUE7O0FBRUYsSUFBSSxRQUFRLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQy9CLFFBQU0sRUFBQSxrQkFBRztBQUNQLFFBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxPQUFPLGlDQUFRLENBQUE7O0FBRXhDLFFBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUM5QixPQUFPLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUNyQixPQUFPLENBQUMsb0JBQW9CLEVBQUUsV0FBVyxDQUFDLENBQUE7O0FBRTdDLFFBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQTtBQUNqQyxRQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsR0FBRyxPQUFPLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQ3JFLFFBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsUUFBUSxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFBO0FBQ25FLFdBQU8sb0JBQUMsR0FBRyxJQUFDLHVCQUF1QixFQUFFLEVBQUMsTUFBTSxFQUFFLFFBQVEsRUFBQyxBQUFDLEdBQU8sQ0FBQTtHQUNoRTtDQUNGLENBQUMsQ0FBQTs7QUFHRixNQUFNLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL21hcmtkb3duLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxuXG5jb25zdCBtYXJrZWQgPSByZXF1aXJlKCdtYXJrZWQnKVxubWFya2VkLnNldE9wdGlvbnMoe1xuICBnZm06IHRydWUsXG4gIGJyZWFrczogdHJ1ZSxcbn0pXG5cbnZhciBNYXJrZG93biA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIGlmKCF0aGlzLnByb3BzLmNoaWxkcmVuKSByZXR1cm4gPHNwYW4gLz5cblxuICAgIHZhciBjb250ZW50ID0gdGhpcy5wcm9wcy5jaGlsZHJlblxuICAgICAgLnJlcGxhY2UoJ1xcbicsICdcXG5cXG4nKVxuICAgICAgLnJlcGxhY2UoLzxpPihbXjxdKyk8XFwvP2k+L2dpLCAnPGk+JDE8L2k+JylcblxuICAgIGxldCBUYWcgPSB0aGlzLnByb3BzLnRhZyB8fCAnZGl2J1xuICAgIGxldCByZW5kZXJlZCA9IHRoaXMucHJvcHMuYWxyZWFkeVJlbmRlcmVkID8gY29udGVudCA6IG1hcmtlZChjb250ZW50KVxuICAgIGlmKHRoaXMucHJvcHMudGFnKSByZW5kZXJlZCA9IHJlbmRlcmVkLnJlcGxhY2UoLzwuP3A+L2csICcnKS50cmltKClcbiAgICByZXR1cm4gPFRhZyBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogcmVuZGVyZWR9fT48L1RhZz5cbiAgfSxcbn0pXG5cblxubW9kdWxlLmV4cG9ydHMgPSBNYXJrZG93blxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/markdown.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;AAE5B,IAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAA;AAChC,MAAM,CAAC,UAAU,CAAC;AAChB,KAAG,EAAE,IAAI;AACT,QAAM,EAAE,IAAI;CACb,CAAC,CAAA;;AAEF,IAAI,QAAQ,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC/B,QAAM,EAAA,kBAAG;AACP,QAAG,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,OAAO,iCAAQ,CAAA;;AAExC,QAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAC9B,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC,CACrB,OAAO,CAAC,oBAAoB,EAAE,WAAW,CAAC,CAAA;;AAE7C,QAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,KAAK,CAAA;AACjC,QAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,GAAG,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,CAAA;AACrE,QAAG,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE,CAAA;AACnE,WAAO,oBAAC,GAAG,IAAC,uBAAuB,EAAE,EAAC,MAAM,EAAE,QAAQ,EAAC,AAAC,GAAO,CAAA;GAChE;CACF,CAAC,CAAA;;AAGF,MAAM,CAAC,OAAO,GAAG,QAAQ,CAAA",
      "file": "/var/www/art/src/markdown.js",
      "sourcesContent": [
        "var React = require('react')\n\nconst marked = require('marked')\nmarked.setOptions({\n  gfm: true,\n  breaks: true,\n})\n\nvar Markdown = React.createClass({\n  render() {\n    if(!this.props.children) return <span />\n\n    var content = this.props.children\n      .replace('\\n', '\\n\\n')\n      .replace(/<i>([^<]+)<\\/?i>/gi, '<i>$1</i>')\n\n    let Tag = this.props.tag || 'div'\n    let rendered = this.props.alreadyRendered ? content : marked(content)\n    if(this.props.tag) rendered = rendered.replace(/<.?p>/g, '').trim()\n    return <Tag dangerouslySetInnerHTML={{__html: rendered}}></Tag>\n  },\n})\n\n\nmodule.exports = Markdown\n"
      ]
    },
    "mtime": 1487953287534
  },
  "{\"filename\":\"/var/www/art/src/image.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends",
        "object-without-properties"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\nvar cx = require('classnames');\nvar LazyLoad = require('react-lazy-load');\n\nvar imageCDN = require('./image-cdn');\n\nvar _require = require('./artwork/creator');\n\nvar getFacetAndValue = _require.getFacetAndValue;\n\nvar Image = React.createClass({\n  displayName: 'Image',\n\n  render: function render() {\n    var _props = this.props;\n    var art = _props.art;\n    var style = _props.style;\n    var lazyLoad = _props.lazyLoad;\n    var ignoreStyle = _props.ignoreStyle;\n\n    var other = _objectWithoutProperties(_props, ['art', 'style', 'lazyLoad', 'ignoreStyle']);\n\n    var id = art.id;\n    var width = style.width;\n    var height = style.height;\n\n    var classes = cx('image', {\n      loading: !this.state.loaded,\n      loaded: this.state.loaded,\n      error: this.state.error,\n      invalid: this.state.error\n    });\n\n    var loadingStyle = _extends({}, style);\n\n    var nakedImage = React.createElement('img', _extends({\n      key: id,\n      style: ignoreStyle ? { maxWidth: '100%' } : style,\n      src: this.imageURL(),\n      onLoad: this.handleImageLoad,\n      onError: this.handleError,\n      className: classes,\n      title: art.title + ', ' + getFacetAndValue(art)[1],\n      alt: art.description\n    }, other));\n\n    if (art.rights == 'Permission Denied') return React.createElement('span', null);\n\n    var image = !lazyLoad ? nakedImage : React.createElement(\n      LazyLoad,\n      { wrapper: 'span', style: { display: 'inline' }, width: width, height: '' + height },\n      nakedImage\n    );\n\n    return image;\n  },\n\n  imageURL: function imageURL() {\n    var id = this.props.art.id;\n\n    return this.state.skipCDN ? 'https://api.artsmia.org/images/' + id + '/400/medium.jpg' : imageCDN(id);\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    if (this.props.art !== nextProps.art) this.setState({ skipCDN: false });\n  },\n\n  handleImageLoad: function handleImageLoad() {\n    this.setState({ loaded: true });\n  },\n\n  // if the image doesn't load, it's probably because it's not on the CDN\n  // yet. Fall back and load it from the API\n  // If it also won't load from there, we've got problems\n  handleError: function handleError(event) {\n    if (!this.state.skipCDN) {\n      this.setState({ skipCDN: true });\n    } else {\n      // problems! the image isn't working on the CDN or via the api.\n      this.setState({ loaded: true, error: true });\n      this.props.art.image = 'invalid';\n      this.props.onImageInvalidation && this.props.onImageInvalidation();\n    }\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      loaded: this.context.universal || false,\n      skipCDN: false\n    };\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      ignoreStyle: false\n    };\n  }\n});\nImage.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nmodule.exports = Image;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvaW1hZ2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTtBQUM5QixJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQTs7QUFFekMsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBOztlQUNaLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQzs7SUFBaEQsZ0JBQWdCLFlBQWhCLGdCQUFnQjs7QUFFckIsSUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQzlCLFFBQU0sRUFBQSxrQkFBRztpQkFDNkMsSUFBSSxDQUFDLEtBQUs7UUFBekQsR0FBRyxVQUFILEdBQUc7UUFBRSxLQUFLLFVBQUwsS0FBSztRQUFFLFFBQVEsVUFBUixRQUFRO1FBQUUsV0FBVyxVQUFYLFdBQVc7O1FBQUssS0FBSzs7UUFDM0MsRUFBRSxHQUFJLEdBQUcsQ0FBVCxFQUFFO1FBQ0YsS0FBSyxHQUFZLEtBQUssQ0FBdEIsS0FBSztRQUFFLE1BQU0sR0FBSSxLQUFLLENBQWYsTUFBTTs7QUFFbEIsUUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRTtBQUN4QixhQUFPLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU07QUFDM0IsWUFBTSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTTtBQUN6QixXQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLO0FBQ3ZCLGFBQU8sRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUs7S0FDMUIsQ0FBQyxDQUFBOztBQUVGLFFBQUksWUFBWSxnQkFDWCxLQUFLLENBQ1QsQ0FBQTs7QUFFRCxRQUFJLFVBQVUsR0FBRztBQUNmLFNBQUcsRUFBRSxFQUFF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b3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgY3ggPSByZXF1aXJlKCdjbGFzc25hbWVzJylcbnZhciBMYXp5TG9hZCA9IHJlcXVpcmUoJ3JlYWN0LWxhenktbG9hZCcpXG5cbnZhciBpbWFnZUNETiA9IHJlcXVpcmUoJy4vaW1hZ2UtY2RuJylcbnZhciB7Z2V0RmFjZXRBbmRWYWx1ZX0gPSByZXF1aXJlKCcuL2FydHdvcmsvY3JlYXRvcicpXG5cbmNvbnN0IEltYWdlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnQsIHN0eWxlLCBsYXp5TG9hZCwgaWdub3JlU3R5bGUsIC4uLm90aGVyfSA9IHRoaXMucHJvcHNcbiAgICB2YXIge2lkfSA9IGFydFxuICAgIHZhciB7d2lkdGgsIGhlaWdodH0gPSBzdHlsZVxuXG4gICAgdmFyIGNsYXNzZXMgPSBjeCgnaW1hZ2UnLCB7XG4gICAgICBsb2FkaW5nOiAhdGhpcy5zdGF0ZS5sb2FkZWQsXG4gICAgICBsb2FkZWQ6IHRoaXMuc3RhdGUubG9hZGVkLFxuICAgICAgZXJyb3I6IHRoaXMuc3RhdGUuZXJyb3IsXG4gICAgICBpbnZhbGlkOiB0aGlzLnN0YXRlLmVycm9yLFxuICAgIH0pXG5cbiAgICB2YXIgbG9hZGluZ1N0eWxlID0ge1xuICAgICAgLi4uc3R5bGUsXG4gICAgfVxuXG4gICAgdmFyIG5ha2VkSW1hZ2UgPSA8aW1nXG4gICAgICBrZXk9e2lkfVxuICAgICAgc3R5bGU9e2lnbm9yZVN0eWxlID8ge21heFdpZHRoOiAnMTAwJSd9IDogc3R5bGV9XG4gICAgICBzcmM9e3RoaXMuaW1hZ2VVUkwoKX1cbiAgICAgIG9uTG9hZD17dGhpcy5oYW5kbGVJbWFnZUxvYWR9XG4gICAgICBvbkVycm9yPXt0aGlzLmhhbmRsZUVycm9yfVxuICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzfVxuICAgICAgdGl0bGU9e2Ake2FydC50aXRsZX0sICR7Z2V0RmFjZXRBbmRWYWx1ZShhcnQpWzFdfWB9XG4gICAgICBhbHQ9e2FydC5kZXNjcmlwdGlvbn1cbiAgICAgIHsuLi5vdGhlcn0gLz5cblxuICAgIGlmKGFydC5yaWdodHMgPT0gJ1Blcm1pc3Npb24gRGVuaWVkJykgcmV0dXJuIDxzcGFuIC8+XG5cbiAgICB2YXIgaW1hZ2UgPSAhbGF6eUxvYWQgPyBuYWtlZEltYWdlIDogPExhenlMb2FkIHdyYXBwZXI9XCJzcGFuXCIgc3R5bGU9e3tkaXNwbGF5OiAnaW5saW5lJ319IHdpZHRoPXt3aWR0aH0gaGVpZ2h0PXtgJHtoZWlnaHR9YH0+XG4gICAgICB7bmFrZWRJbWFnZX1cbiAgICA8L0xhenlMb2FkPlxuXG4gICAgcmV0dXJuIGltYWdlXG4gIH0sXG5cbiAgaW1hZ2VVUkwoKSB7XG4gICAgdmFyIHtpZH0gPSB0aGlzLnByb3BzLmFydFxuXG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuc2tpcENETiA/XG4gICAgICBgaHR0cHM6Ly9hcGkuYXJ0c21pYS5vcmcvaW1hZ2VzLyR7aWR9LzQwMC9tZWRpdW0uanBnYCA6XG4gICAgICBpbWFnZUNETihpZClcbiAgfSxcblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIGlmKHRoaXMucHJvcHMuYXJ0ICE9PSBuZXh0UHJvcHMuYXJ0KSB0aGlzLnNldFN0YXRlKHtza2lwQ0ROOiBmYWxzZX0pXG4gIH0sXG5cbiAgaGFuZGxlSW1hZ2VMb2FkKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe2xvYWRlZDogdHJ1ZX0pXG4gIH0sXG5cbiAgLy8gaWYgdGhlIGltYWdlIGRvZXNuJ3QgbG9hZCwgaXQncyBwcm9iYWJseSBiZWNhdXNlIGl0J3Mgbm90IG9uIHRoZSBDRE5cbiAgLy8geWV0LiBGYWxsIGJhY2sgYW5kIGxvYWQgaXQgZnJvbSB0aGUgQVBJXG4gIC8vIElmIGl0IGFsc28gd29uJ3QgbG9hZCBmcm9tIHRoZXJlLCB3ZSd2ZSBnb3QgcHJvYmxlbXNcbiAgaGFuZGxlRXJyb3IoZXZlbnQpIHtcbiAgICBpZighdGhpcy5zdGF0ZS5za2lwQ0ROKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtza2lwQ0ROOiB0cnVlfSlcbiAgICB9IGVsc2UgeyAvLyBwcm9ibGVtcyEgdGhlIGltYWdlIGlzbid0IHdvcmtpbmcgb24gdGhlIENETiBvciB2aWEgdGhlIGFwaS5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe2xvYWRlZDogdHJ1ZSwgZXJyb3I6IHRydWV9KVxuICAgICAgdGhpcy5wcm9wcy5hcnQuaW1hZ2UgPSAnaW52YWxpZCcgXG4gICAgICB0aGlzLnByb3BzLm9uSW1hZ2VJbnZhbGlkYXRpb24gJiYgdGhpcy5wcm9wcy5vbkltYWdlSW52YWxpZGF0aW9uKClcbiAgICB9XG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBsb2FkZWQ6IHRoaXMuY29udGV4dC51bml2ZXJzYWwgfHwgZmFsc2UsXG4gICAgICBza2lwQ0ROOiBmYWxzZSxcbiAgICB9XG4gIH0sXG5cbiAgZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpZ25vcmVTdHlsZTogZmFsc2UsXG4gICAgfVxuICB9LFxufSlcbkltYWdlLmNvbnRleHRUeXBlcyA9IHtcbiAgcm91dGVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgdW5pdmVyc2FsOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBJbWFnZVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/image.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/image.js",
      "sourcesContent": [
        "var React = require('react')\nvar cx = require('classnames')\nvar LazyLoad = require('react-lazy-load')\n\nvar imageCDN = require('./image-cdn')\nvar {getFacetAndValue} = require('./artwork/creator')\n\nconst Image = React.createClass({\n  render() {\n    var {art, style, lazyLoad, ignoreStyle, ...other} = this.props\n    var {id} = art\n    var {width, height} = style\n\n    var classes = cx('image', {\n      loading: !this.state.loaded,\n      loaded: this.state.loaded,\n      error: this.state.error,\n      invalid: this.state.error,\n    })\n\n    var loadingStyle = {\n      ...style,\n    }\n\n    var nakedImage = <img\n      key={id}\n      style={ignoreStyle ? {maxWidth: '100%'} : style}\n      src={this.imageURL()}\n      onLoad={this.handleImageLoad}\n      onError={this.handleError}\n      className={classes}\n      title={`${art.title}, ${getFacetAndValue(art)[1]}`}\n      alt={art.description}\n      {...other} />\n\n    if(art.rights == 'Permission Denied') return <span />\n\n    var image = !lazyLoad ? nakedImage : <LazyLoad wrapper=\"span\" style={{display: 'inline'}} width={width} height={`${height}`}>\n      {nakedImage}\n    </LazyLoad>\n\n    return image\n  },\n\n  imageURL() {\n    var {id} = this.props.art\n\n    return this.state.skipCDN ?\n      `https://api.artsmia.org/images/${id}/400/medium.jpg` :\n      imageCDN(id)\n  },\n\n  componentWillReceiveProps(nextProps) {\n    if(this.props.art !== nextProps.art) this.setState({skipCDN: false})\n  },\n\n  handleImageLoad() {\n    this.setState({loaded: true})\n  },\n\n  // if the image doesn't load, it's probably because it's not on the CDN\n  // yet. Fall back and load it from the API\n  // If it also won't load from there, we've got problems\n  handleError(event) {\n    if(!this.state.skipCDN) {\n      this.setState({skipCDN: true})\n    } else { // problems! the image isn't working on the CDN or via the api.\n      this.setState({loaded: true, error: true})\n      this.props.art.image = 'invalid' \n      this.props.onImageInvalidation && this.props.onImageInvalidation()\n    }\n  },\n\n  getInitialState() {\n    return {\n      loaded: this.context.universal || false,\n      skipCDN: false,\n    }\n  },\n\n  getDefaultProps() {\n    return {\n      ignoreStyle: false,\n    }\n  },\n})\nImage.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nmodule.exports = Image\n"
      ]
    },
    "mtime": 1487953287530
  },
  "{\"filename\":\"/var/www/art/src/image-cdn.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction imageUrlForId(id) {\n  var size = arguments.length <= 1 || arguments[1] === undefined ? 400 : arguments[1];\n\n  var size = size > 400 ? '800/' : '';\n  return 'https://' + id % 7 + '.api.artsmia.org/' + size + id + '.jpg';\n}\n\nmodule.exports = imageUrlForId;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvaW1hZ2UtY2RuLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsU0FBUyxhQUFhLENBQUMsRUFBRSxFQUFZO01BQVYsSUFBSSx5REFBQyxHQUFHOztBQUNqQyxNQUFJLElBQUksR0FBRyxBQUFDLElBQUksR0FBRyxHQUFHLEdBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQTtBQUNyQyxzQkFBa0IsRUFBRSxHQUFDLENBQUMseUJBQW9CLElBQUksR0FBRyxFQUFFLFVBQU07Q0FDMUQ7O0FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRyxhQUFhLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9pbWFnZS1jZG4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBpbWFnZVVybEZvcklkKGlkLCBzaXplPTQwMCkge1xuICB2YXIgc2l6ZSA9IChzaXplID4gNDAwKSA/ICc4MDAvJyA6ICcnXG4gIHJldHVybiBgaHR0cHM6Ly8ke2lkJTd9LmFwaS5hcnRzbWlhLm9yZy8ke3NpemV9JHtpZH0uanBnYFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGltYWdlVXJsRm9ySWRcblxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/image-cdn.js"
      ],
      "names": [],
      "mappings": ";;AAAA,SAAS,aAAa,CAAC,EAAE,EAAY;MAAV,IAAI,yDAAC,GAAG;;AACjC,MAAI,IAAI,GAAG,AAAC,IAAI,GAAG,GAAG,GAAI,MAAM,GAAG,EAAE,CAAA;AACrC,sBAAkB,EAAE,GAAC,CAAC,yBAAoB,IAAI,GAAG,EAAE,UAAM;CAC1D;;AAED,MAAM,CAAC,OAAO,GAAG,aAAa,CAAA",
      "file": "/var/www/art/src/image-cdn.js",
      "sourcesContent": [
        "function imageUrlForId(id, size=400) {\n  var size = (size > 400) ? '800/' : ''\n  return `https://${id%7}.api.artsmia.org/${size}${id}.jpg`\n}\n\nmodule.exports = imageUrlForId\n\n"
      ]
    },
    "mtime": 1485807805246
  },
  "{\"filename\":\"/var/www/art/src/artwork/creator.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "sliced-to-array",
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar React = require('react');\n\nvar highlighter = require('../highlighter');\nvar Markdown = require('../markdown');\n\nvar Creator = React.createClass({\n  displayName: 'Creator',\n\n  render: function render() {\n    var Peek = require('../peek'); // required here to avoid circular react dependency - yikes!\n    var Wrapper = this.props.wrapper || \"h5\";\n\n    var _Creator$getFacetAndValue = Creator.getFacetAndValue(this.props.art, this.props.highlights);\n\n    var _Creator$getFacetAndValue2 = _slicedToArray(_Creator$getFacetAndValue, 3);\n\n    var facet = _Creator$getFacetAndValue2[0];\n    var value = _Creator$getFacetAndValue2[1];\n    var highlightedValue = _Creator$getFacetAndValue2[2];\n\n    var creatorPeek = (facet == 'artist' || facet == 'culture') && React.createElement(\n      Peek,\n      _extends({ microdata: true, facet: facet }, { highlightedValue: highlightedValue }),\n      value\n    ) || facet == 'country' && React.createElement(\n      'span',\n      null,\n      'Unknown artist, ',\n      React.createElement(\n        Peek,\n        _extends({ microdata: true, facet: 'country', tag: 'span', showIcon: this.props.showIcon }, { highlightedValue: highlightedValue }),\n        value\n      )\n    );\n\n    return React.createElement(\n      Wrapper,\n      { itemProp: 'creator', itemScope: true, itemType: 'https://schema.org/Person' },\n      this.props.peek ? creatorPeek : highlightedValue ? React.createElement(\n        Markdown,\n        null,\n        highlightedValue\n      ) : value\n    );\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return { peek: true };\n  }\n});\nCreator.getFacetAndValue = function (art, highlights) {\n  var artist = art.artist;\n  var culture = art.culture;\n  var country = art.country;\n\n  var highlight = highlighter.bind(null, art, highlights);\n\n  return !(artist == '' || artist.match(/^unknown/i)) && ['artist', art.artist.replace(/^([^;]+):/, ''), highlight('artist').replace(/^([^;]+):/, '')] || !!culture && ['culture', art.culture.replace(/ culture/i, ''), highlight('culture').replace(/ culture/i, '')] || !!country && ['country', art.country, highlight('country')] || [undefined, undefined];\n};\n\nmodule.exports = Creator;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYXJ0d29yay9jcmVhdG9yLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTs7QUFFNUIsSUFBSSxXQUFXLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUE7QUFDM0MsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBOztBQUVyQyxJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDOUIsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsUUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFBO0FBQzdCLFFBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQTs7b0NBQ0QsT0FBTyxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDOzs7O1FBQWpHLEtBQUs7UUFBRSxLQUFLO1FBQUUsZ0JBQWdCOztBQUNuQyxRQUFJLFdBQVcsR0FBRyxDQUFDLEtBQUssSUFBSSxRQUFRLElBQUksS0FBSyxJQUFJLFNBQVMsQ0FBQSxJQUNyRDtBQUFDLFVBQUk7aUJBQUMsU0FBUyxFQUFFLElBQUksQUFBQyxFQUFDLEtBQUssRUFBRSxLQUFLLEFBQUMsSUFBSyxFQUFDLGdCQUFnQixFQUFoQixnQkFBZ0IsRUFBQztNQUFHLEtBQUs7S0FBUSxJQUMzRSxLQUFLLElBQUksU0FBUyxJQUNsQjs7OztNQUFzQjtBQUFDLFlBQUk7bUJBQUMsU0FBUyxFQUFFLElBQUksQUFBQyxFQUFDLEtBQUssRUFBQyxTQUFTLEVBQUMsR0FBRyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEFBQUMsSUFBSyxFQUFDLGdCQUFnQixFQUFoQixnQkFBZ0IsRUFBQztRQUFHLEtBQUs7T0FBUTtLQUFPLENBQUE7O0FBRXpKLFdBQU87QUFBQyxhQUFPO1FBQUMsUUFBUSxFQUFDLFNBQVMsRUFBQyxTQUFTLE1BQUEsRUFBQyxRQUFRLEVBQUMsMkJBQTJCO01BQzlFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLFdBQVcsR0FBSSxnQkFBZ0IsR0FBRztBQUFDLGdCQUFROztRQUFFLGdCQUFnQjtPQUFZLEdBQUcsS0FBSyxBQUFDO0tBQzdGLENBQUE7R0FDWDs7QUFFRCxpQkFBZSxFQUFBLDJCQUFHO0FBQ2hCLFdBQU8sRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFDLENBQUE7R0FDcEI7Q0FDRixDQUFDLENBQUE7QUFDRixPQUFPLENBQUMsZ0JBQWdCLEdBQUcsVUFBQyxHQUFHLEVBQUUsVUFBVSxFQUFLO01BQ3pDLE1BQU0sR0FBc0IsR0FBRyxDQUEvQixNQUFNO01BQUUsT0FBTyxHQUFhLEdBQUcsQ0FBdkIsT0FBTztNQUFFLE9BQU8sR0FBSSxHQUFHLENBQWQsT0FBTzs7QUFDN0IsTUFBSSxTQUFTLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFBOztBQUV2RCxTQUFPLEVBQUUsTUFBTSxJQUFJLEVBQUUsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFBLEFBQUMsSUFDakQsQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQzVGLENBQUMsQ0FBQyxPQUFPLElBQ1AsQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQ2xHLENBQUMsQ0FBQyxPQUFPLElBQ1AsQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsSUFDaEQsQ0FBQyxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUE7Q0FDMUIsQ0FBQTs7QUFFRCxNQUFNLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2FydHdvcmsvY3JlYXRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcblxudmFyIGhpZ2hsaWdodGVyID0gcmVxdWlyZSgnLi4vaGlnaGxpZ2h0ZXInKVxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi4vbWFya2Rvd24nKVxuXG52YXIgQ3JlYXRvciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciBQZWVrID0gcmVxdWlyZSgnLi4vcGVlaycpIC8vIHJlcXVpcmVkIGhlcmUgdG8gYXZvaWQgY2lyY3VsYXIgcmVhY3QgZGVwZW5kZW5jeSAtIHlpa2VzIVxuICAgIHZhciBXcmFwcGVyID0gdGhpcy5wcm9wcy53cmFwcGVyIHx8IFwiaDVcIlxuICAgIHZhciBbZmFjZXQsIHZhbHVlLCBoaWdobGlnaHRlZFZhbHVlXSA9IENyZWF0b3IuZ2V0RmFjZXRBbmRWYWx1ZSh0aGlzLnByb3BzLmFydCwgdGhpcy5wcm9wcy5oaWdobGlnaHRzKVxuICAgIHZhciBjcmVhdG9yUGVlayA9IChmYWNldCA9PSAnYXJ0aXN0JyB8fCBmYWNldCA9PSAnY3VsdHVyZScpXG4gICAgICAmJiA8UGVlayBtaWNyb2RhdGE9e3RydWV9IGZhY2V0PXtmYWNldH0gey4uLntoaWdobGlnaHRlZFZhbHVlfX0+e3ZhbHVlfTwvUGVlaz5cbiAgICAgIHx8IGZhY2V0ID09ICdjb3VudHJ5J1xuICAgICAgJiYgPHNwYW4+VW5rbm93biBhcnRpc3QsIDxQZWVrIG1pY3JvZGF0YT17dHJ1ZX0gZmFjZXQ9XCJjb3VudHJ5XCIgdGFnPVwic3BhblwiIHNob3dJY29uPXt0aGlzLnByb3BzLnNob3dJY29ufSB7Li4ue2hpZ2hsaWdodGVkVmFsdWV9fT57dmFsdWV9PC9QZWVrPjwvc3Bhbj5cblxuICAgIHJldHVybiA8V3JhcHBlciBpdGVtUHJvcD1cImNyZWF0b3JcIiBpdGVtU2NvcGUgaXRlbVR5cGU9XCJodHRwczovL3NjaGVtYS5vcmcvUGVyc29uXCI+XG4gICAgICB7dGhpcy5wcm9wcy5wZWVrID8gY3JlYXRvclBlZWsgOiAoaGlnaGxpZ2h0ZWRWYWx1ZSA/IDxNYXJrZG93bj57aGlnaGxpZ2h0ZWRWYWx1ZX08L01hcmtkb3duPiA6IHZhbHVlKX1cbiAgICA8L1dyYXBwZXI+XG4gIH0sXG5cbiAgZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7cGVlazogdHJ1ZX1cbiAgfSxcbn0pXG5DcmVhdG9yLmdldEZhY2V0QW5kVmFsdWUgPSAoYXJ0LCBoaWdobGlnaHRzKSA9PiB7XG4gIHZhciB7YXJ0aXN0LCBjdWx0dXJlLCBjb3VudHJ5fSA9IGFydFxuICB2YXIgaGlnaGxpZ2h0ID0gaGlnaGxpZ2h0ZXIuYmluZChudWxsLCBhcnQsIGhpZ2hsaWdodHMpXG5cbiAgcmV0dXJuICEoYXJ0aXN0ID09ICcnIHx8IGFydGlzdC5tYXRjaCgvXnVua25vd24vaSkpICYmXG4gICAgWydhcnRpc3QnLCBhcnQuYXJ0aXN0LnJlcGxhY2UoL14oW147XSspOi8sICcnKSwgaGlnaGxpZ2h0KCdhcnRpc3QnKS5yZXBsYWNlKC9eKFteO10rKTovLCAnJyldXG4gIHx8ICEhY3VsdHVyZVxuICAgICYmIFsnY3VsdHVyZScsIGFydC5jdWx0dXJlLnJlcGxhY2UoLyBjdWx0dXJlL2ksICcnKSwgaGlnaGxpZ2h0KCdjdWx0dXJlJykucmVwbGFjZSgvIGN1bHR1cmUvaSwgJycpXVxuICB8fCAhIWNvdW50cnlcbiAgICAmJiBbJ2NvdW50cnknLCBhcnQuY291bnRyeSwgaGlnaGxpZ2h0KCdjb3VudHJ5JyldXG4gIHx8IFt1bmRlZmluZWQsIHVuZGVmaW5lZF1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDcmVhdG9yXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/artwork/creator.js"
      ],
      "names": [],
      "mappings": ";;;;;;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;AAE5B,IAAI,WAAW,GAAG,OAAO,CAAC,gBAAgB,CAAC,CAAA;AAC3C,IAAI,QAAQ,GAAG,OAAO,CAAC,aAAa,CAAC,CAAA;;AAErC,IAAI,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC9B,QAAM,EAAA,kBAAG;AACP,QAAI,IAAI,GAAG,OAAO,CAAC,SAAS,CAAC,CAAA;AAC7B,QAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,IAAI,IAAI,CAAA;;oCACD,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC;;;;QAAjG,KAAK;QAAE,KAAK;QAAE,gBAAgB;;AACnC,QAAI,WAAW,GAAG,CAAC,KAAK,IAAI,QAAQ,IAAI,KAAK,IAAI,SAAS,CAAA,IACrD;AAAC,UAAI;iBAAC,SAAS,EAAE,IAAI,AAAC,EAAC,KAAK,EAAE,KAAK,AAAC,IAAK,EAAC,gBAAgB,EAAhB,gBAAgB,EAAC;MAAG,KAAK;KAAQ,IAC3E,KAAK,IAAI,SAAS,IAClB;;;;MAAsB;AAAC,YAAI;mBAAC,SAAS,EAAE,IAAI,AAAC,EAAC,KAAK,EAAC,SAAS,EAAC,GAAG,EAAC,MAAM,EAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,AAAC,IAAK,EAAC,gBAAgB,EAAhB,gBAAgB,EAAC;QAAG,KAAK;OAAQ;KAAO,CAAA;;AAEzJ,WAAO;AAAC,aAAO;QAAC,QAAQ,EAAC,SAAS,EAAC,SAAS,MAAA,EAAC,QAAQ,EAAC,2BAA2B;MAC9E,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,WAAW,GAAI,gBAAgB,GAAG;AAAC,gBAAQ;;QAAE,gBAAgB;OAAY,GAAG,KAAK,AAAC;KAC7F,CAAA;GACX;;AAED,iBAAe,EAAA,2BAAG;AAChB,WAAO,EAAC,IAAI,EAAE,IAAI,EAAC,CAAA;GACpB;CACF,CAAC,CAAA;AACF,OAAO,CAAC,gBAAgB,GAAG,UAAC,GAAG,EAAE,UAAU,EAAK;MACzC,MAAM,GAAsB,GAAG,CAA/B,MAAM;MAAE,OAAO,GAAa,GAAG,CAAvB,OAAO;MAAE,OAAO,GAAI,GAAG,CAAd,OAAO;;AAC7B,MAAI,SAAS,GAAG,WAAW,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,EAAE,UAAU,CAAC,CAAA;;AAEvD,SAAO,EAAE,MAAM,IAAI,EAAE,IAAI,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,CAAA,AAAC,IACjD,CAAC,QAAQ,EAAE,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,EAAE,SAAS,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC,IAC5F,CAAC,CAAC,OAAO,IACP,CAAC,SAAS,EAAE,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC,IAClG,CAAC,CAAC,OAAO,IACP,CAAC,SAAS,EAAE,GAAG,CAAC,OAAO,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,IAChD,CAAC,SAAS,EAAE,SAAS,CAAC,CAAA;CAC1B,CAAA;;AAED,MAAM,CAAC,OAAO,GAAG,OAAO,CAAA",
      "file": "/var/www/art/src/artwork/creator.js",
      "sourcesContent": [
        "var React = require('react')\n\nvar highlighter = require('../highlighter')\nvar Markdown = require('../markdown')\n\nvar Creator = React.createClass({\n  render() {\n    var Peek = require('../peek') // required here to avoid circular react dependency - yikes!\n    var Wrapper = this.props.wrapper || \"h5\"\n    var [facet, value, highlightedValue] = Creator.getFacetAndValue(this.props.art, this.props.highlights)\n    var creatorPeek = (facet == 'artist' || facet == 'culture')\n      && <Peek microdata={true} facet={facet} {...{highlightedValue}}>{value}</Peek>\n      || facet == 'country'\n      && <span>Unknown artist, <Peek microdata={true} facet=\"country\" tag=\"span\" showIcon={this.props.showIcon} {...{highlightedValue}}>{value}</Peek></span>\n\n    return <Wrapper itemProp=\"creator\" itemScope itemType=\"https://schema.org/Person\">\n      {this.props.peek ? creatorPeek : (highlightedValue ? <Markdown>{highlightedValue}</Markdown> : value)}\n    </Wrapper>\n  },\n\n  getDefaultProps() {\n    return {peek: true}\n  },\n})\nCreator.getFacetAndValue = (art, highlights) => {\n  var {artist, culture, country} = art\n  var highlight = highlighter.bind(null, art, highlights)\n\n  return !(artist == '' || artist.match(/^unknown/i)) &&\n    ['artist', art.artist.replace(/^([^;]+):/, ''), highlight('artist').replace(/^([^;]+):/, '')]\n  || !!culture\n    && ['culture', art.culture.replace(/ culture/i, ''), highlight('culture').replace(/ culture/i, '')]\n  || !!country\n    && ['country', art.country, highlight('country')]\n  || [undefined, undefined]\n}\n\nmodule.exports = Creator\n"
      ]
    },
    "mtime": 1485807805242
  },
  "{\"filename\":\"/var/www/art/src/highlighter.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "\"use strict\";\n\nfunction highlightField(source, highlights, field) {\n  if (!highlights) return source[field];\n\n  var possibleHighlights = Object.keys(highlights).filter(function (key) {\n    return key.match(new RegExp(\"^\" + field));\n  }).map(function (key) {\n    return highlights[key][0];\n  });\n\n  return highlights && possibleHighlights && possibleHighlights[0] || source[field];\n}\n\nmodule.exports = highlightField;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvaGlnaGxpZ2h0ZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxTQUFTLGNBQWMsQ0FBQyxNQUFNLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRTtBQUNqRCxNQUFHLENBQUMsVUFBVSxFQUFFLE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFBOztBQUVwQyxNQUFJLGtCQUFrQixHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQy9DLE1BQU0sQ0FBQyxVQUFBLEdBQUc7V0FBSSxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksTUFBTSxDQUFDLEdBQUcsR0FBQyxLQUFLLENBQUMsQ0FBQztHQUFBLENBQUMsQ0FDL0MsR0FBRyxDQUFDLFVBQUEsR0FBRztXQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7R0FBQSxDQUFDLENBQUE7O0FBRS9CLFNBQU8sVUFBVSxJQUFJLGtCQUFrQixJQUFJLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxJQUMzRCxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUE7Q0FDbkI7O0FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRyxjQUFjLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9oaWdobGlnaHRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGhpZ2hsaWdodEZpZWxkKHNvdXJjZSwgaGlnaGxpZ2h0cywgZmllbGQpIHtcbiAgaWYoIWhpZ2hsaWdodHMpIHJldHVybiBzb3VyY2VbZmllbGRdXG5cbiAgdmFyIHBvc3NpYmxlSGlnaGxpZ2h0cyA9IE9iamVjdC5rZXlzKGhpZ2hsaWdodHMpXG4gIC5maWx0ZXIoa2V5ID0+IGtleS5tYXRjaChuZXcgUmVnRXhwKFwiXlwiK2ZpZWxkKSkpXG4gIC5tYXAoa2V5ID0+IGhpZ2hsaWdodHNba2V5XVswXSlcblxuICByZXR1cm4gaGlnaGxpZ2h0cyAmJiBwb3NzaWJsZUhpZ2hsaWdodHMgJiYgcG9zc2libGVIaWdobGlnaHRzWzBdXG4gICAgfHwgc291cmNlW2ZpZWxkXVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhpZ2hsaWdodEZpZWxkXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/highlighter.js"
      ],
      "names": [],
      "mappings": ";;AAAA,SAAS,cAAc,CAAC,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE;AACjD,MAAG,CAAC,UAAU,EAAE,OAAO,MAAM,CAAC,KAAK,CAAC,CAAA;;AAEpC,MAAI,kBAAkB,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAC/C,MAAM,CAAC,UAAA,GAAG;WAAI,GAAG,CAAC,KAAK,CAAC,IAAI,MAAM,CAAC,GAAG,GAAC,KAAK,CAAC,CAAC;GAAA,CAAC,CAC/C,GAAG,CAAC,UAAA,GAAG;WAAI,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;GAAA,CAAC,CAAA;;AAE/B,SAAO,UAAU,IAAI,kBAAkB,IAAI,kBAAkB,CAAC,CAAC,CAAC,IAC3D,MAAM,CAAC,KAAK,CAAC,CAAA;CACnB;;AAED,MAAM,CAAC,OAAO,GAAG,cAAc,CAAA",
      "file": "/var/www/art/src/highlighter.js",
      "sourcesContent": [
        "function highlightField(source, highlights, field) {\n  if(!highlights) return source[field]\n\n  var possibleHighlights = Object.keys(highlights)\n  .filter(key => key.match(new RegExp(\"^\"+field)))\n  .map(key => highlights[key][0])\n\n  return highlights && possibleHighlights && possibleHighlights[0]\n    || source[field]\n}\n\nmodule.exports = highlightField\n"
      ]
    },
    "mtime": 1485987477910
  },
  "{\"filename\":\"/var/www/art/src/search-results.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar rest = require('rest');\n\nvar SEARCH = require('./endpoints').search;\nvar SearchSummary = require('./search-summary');\nvar ResultsList = require('./search-results/list');\nvar ResultsGrid = require('./search-results/grid');\n\nvar SearchResults = React.createClass({\n  displayName: 'SearchResults',\n\n  mixins: [Router.State, Router.Navigation],\n\n  statics: {\n    fetchData: {\n      searchResults: function searchResults(params, query) {\n        var size = query && query.size || 100;\n        var sort = query && query.sort;\n        var filters = params.splat;\n        var properlyCodedFilters = encodeURIComponent(decodeURIComponent(filters)); // yuck\n        var searchUrl = SEARCH + '/' + params.terms + '?size=' + size;\n        if (sort) searchUrl += '&sort=' + sort;\n        if (filters) searchUrl += '&filters=' + properlyCodedFilters;\n        return rest(searchUrl).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  getInitialState: function getInitialState() {\n    var focus = window.clickedArtwork || this.props.hits[0];\n    setTimeout(function () {\n      return window.clickedArtwork = null;\n    });\n    var smallViewport = window && window.innerWidth <= 500;\n\n    var _props$query = this.props.query;\n    var view = _props$query.view;\n    var showPreview = _props$query.preview;\n\n    var initialView = view && view == 'list' ? ResultsList : ResultsGrid;\n    var defaultView = smallViewport || this.context.universal ? ResultsList : ResultsGrid;\n    var showPreview = showPreview == \"false\" ? false : true;\n\n    return {\n      focusedResult: showPreview && focus && focus,\n      view: initialView || defaultView,\n      smallViewport: smallViewport\n    };\n  },\n\n  shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {\n    return this.props.data.searchResults != nextProps.data.searchResults || this.props.hits != nextProps.hits || this.props.completions !== nextProps.completions || this.props.query.sort !== nextProps.query.sort || this.state !== nextState;\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    var focused = window.clickedArtwork || this.state && this.state.focusedResult || nextProps.hits[0];\n    this.focusResult(focused);\n    if (window.clickedArtwork) window.clickedArtwork = null;\n  },\n\n  maxResults: 5000,\n\n  triggerLoad: function triggerLoad(nextPage) {\n    this.setState({ loadingMore: nextPage });\n  },\n\n  render: function render() {\n    var search = this.props.data.searchResults;\n    var focusedResult = this.state.focusedResult;\n\n    var leftColumnWidth = '35%';\n    var unloadedResults = search.hits.total - this.props.hits.length;\n    var loadThisManyMore = Math.min(200, unloadedResults);\n    var nextPage = Math.min(this.maxResults, this.props.hits.length + loadThisManyMore);\n    var showMoreLink = search && React.createElement(\n      'span',\n      null,\n      '. (',\n      React.createElement(\n        Link,\n        { to: search.filters ? 'filteredSearchResults' : 'searchResults',\n          params: { terms: search.query, splat: search.filters },\n          query: _extends({ size: nextPage }, this.props.query),\n          onClick: this.triggerLoad.bind(this, nextPage)\n        },\n        'load ',\n        loadThisManyMore,\n        ' more'\n      ),\n      ')'\n    );\n\n    if (this.state.loadingMore) showMoreLink = ' (…loading)';\n\n    var summaryProps = _extends({\n      search: this.props.data.searchResults,\n      hits: this.props.hits,\n      params: this.props.params,\n      showAggs: this.props.showAggs,\n      toggleAggs: this.props.toggleAggs,\n      showMoreLink: showMoreLink,\n      maxResults: this.maxResults,\n      query: this.props.query\n    }, this.props.summaryProps);\n\n    var _props$params = this.props.params;\n    var terms = _props$params.terms;\n    var splat = _props$params.splat;\n\n    var showFocusRelatedContent = [terms, splat].join(' ').match(/related/);\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        SearchSummary,\n        summaryProps,\n        React.createElement(SearchResultViewToggle, {\n          click: this.changeView,\n          activeView: this.state.view,\n          views: [ResultsList, ResultsGrid]\n        })\n      ),\n      this.props.suggestions,\n      React.createElement(this.state.view, {\n        leftColumnWidth: leftColumnWidth,\n        focusedResult: focusedResult,\n        focusHandler: this.focusResult,\n        search: search,\n        hits: this.props.hits,\n        postSearch: this.postSearch(summaryProps, this.state.postSearchOffset),\n        smallViewport: this.state.smallViewport,\n        showRelated: showFocusRelatedContent\n      })\n    );\n  },\n\n  focusResult: function focusResult(hit) {\n    var nextView = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n    var smallViewport = this.state.smallViewport;\n\n    if (smallViewport && nextView) {\n      this.transitionTo('artwork', { id: hit._id });\n    } else {\n      !smallViewport && nextView && this.changeView(nextView);\n      this.setState({ focusedResult: hit ? hit : null });\n    }\n  },\n\n  changeView: function changeView(next) {\n    next && this.setState({ view: next });\n  },\n\n  // How to code this: after seeing all the results (on a page?)\n  // summarize them and give the chance to do something. Such as:\n  // * load more\n  // * did you find what you were looking for? (solicit feedback)\n  // * related searches?\n  //\n  // Also fudge the height of this so the right column scroll doesn't get cut off.\n  postSearch: function postSearch(_ref, postSearchOffset) {\n    var hits = _ref.hits;\n    var search = _ref.search;\n    var showMoreLink = _ref.showMoreLink;\n\n    var showingAll = hits.length == search.hits.total || hits.length >= this.maxResults;\n\n    var style = {\n      marginTop: '1em',\n      padding: '1em',\n      borderTop: '1em solid #232323',\n      minHeight: Math.max(50, this.state.minHeight - postSearchOffset)\n    };\n\n    return React.createElement(\n      'div',\n      { ref: 'postSearch', style: style },\n      'showing ',\n      hits.length,\n      ' ',\n      ' ',\n      showingAll || React.createElement(\n        'span',\n        null,\n        'of ',\n        search.hits.total,\n        ' ',\n        ' '\n      ),\n      'results matching ',\n      React.createElement(\n        'code',\n        null,\n        search.query\n      ),\n      search.filters && React.createElement(\n        'span',\n        null,\n        ' and ',\n        React.createElement(\n          'code',\n          null,\n          search.filters\n        )\n      ),\n      showingAll || showMoreLink\n    );\n  },\n\n  componentDidUpdate: function componentDidUpdate(prevProps, prevState) {\n    var domNode = this.refs.postSearch && React.findDOMNode(this.refs.postSearch);\n    var offset = domNode.getBoundingClientRect().top;\n    if (domNode && offset != prevState.postSearchOffset) {\n      this.setState({ postSearchOffset: offset || 0 });\n    }\n\n    if (this.props.query.size == this.state.loadingMore) this.setState({ loadingMore: false });\n  },\n\n  onHeightChange: function onHeightChange(newHeight) {\n    this.setState({ minHeight: newHeight });\n  },\n\n  getChildContext: function getChildContext() {\n    return {\n      onHeightChange: this.onHeightChange\n    };\n  }\n});\nSearchResults.childContextTypes = { onHeightChange: React.PropTypes.func };\nSearchResults.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nmodule.exports = SearchResults;\n\nvar SearchResultViewToggle = React.createClass({\n  displayName: 'SearchResultViewToggle',\n\n  render: function render() {\n    var _this = this;\n\n    var _props = this.props;\n    var views = _props.views;\n    var click = _props.click;\n    var activeView = _props.activeView;\n\n    var toggles = views.map(function (r) {\n      var name = r.displayName.replace('SearchResults', '');\n      var activeStyle = activeView === r && {\n        color: '#222',\n        backgroundColor: 'white',\n        borderRadius: 5,\n        margin: '0 5px',\n        display: 'inline-block'\n      } || {};\n      return React.createElement(\n        'span',\n        { key: name, onClick: _this.toggleView.bind(_this, r), style: activeStyle },\n        React.createElement('i', { className: name })\n      );\n    });\n\n    return React.createElement(\n      'div',\n      { className: 'mdl-cell mdl-cell--2-col views' },\n      toggles\n    );\n  },\n\n  toggleView: function toggleView(view) {\n    this.props.click(view);\n  }\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvc2VhcmNoLXJlc3VsdHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUM1QixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7O2VBQ3ZCLE9BQU8sQ0FBQyxjQUFjLENBQUM7O0lBQS9CLElBQUksWUFBSixJQUFJOztBQUNULElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQTs7QUFFMUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLE1BQU0sQ0FBQTtBQUMxQyxJQUFJLGFBQWEsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQTtBQUMvQyxJQUFJLFdBQVcsR0FBRyxPQUFPLENBQUMsdUJBQXVCLENBQUMsQ0FBQTtBQUNsRCxJQUFJLFdBQVcsR0FBRyxPQUFPLENBQUMsdUJBQXVCLENBQUMsQ0FBQTs7QUFFbEQsSUFBSSxhQUFhLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ3BDLFFBQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLFVBQVUsQ0FBQzs7QUFFekMsU0FBTyxFQUFFO0FBQ1AsYUFBUyxFQUFFO0FBQ1QsbUJBQWEsRUFBRSx1QkFBQyxNQUFNLEVBQUUsS0FBSyxFQUFLO0FBQ2hDLFlBQUksSUFBSSxHQUFHLEtBQUssSUFBSSxLQUFLLENBQUMsSUFBSSxJQUFJLEdBQUcsQ0FBQTtBQUNyQyxZQUFJLElBQUksR0FBRyxLQUFLLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQTtBQUM5QixZQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFBO0FBQzVCLFlBQU0sb0JBQW9CLEdBQUcsa0JBQWtCLENBQUMsa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQTtBQUM1RSxZQUFJLFNBQVMsR0FBTSxNQUFN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QUMsSUFBSSxRQUFPLENBQUMsQ0FBQyxBQUFDLEVBQUMsS0FBSyxFQUFFLFdBQVcsQUFBQztRQUFDLDJCQUFHLFNBQVMsRUFBRSxJQUFJLEFBQUMsR0FBSztPQUFPLENBQUE7S0FDcEgsQ0FBQyxDQUFBOztBQUVGLFdBQU87O1FBQUssU0FBUyxFQUFDLGdDQUFnQztNQUFFLE9BQU87S0FBTyxDQUFBO0dBQ3ZFOztBQUVELFlBQVUsRUFBQSxvQkFBQyxJQUFJLEVBQUU7QUFDZixRQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQTtHQUN2QjtDQUNGLENBQUMsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL3NlYXJjaC1yZXN1bHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIge0xpbmt9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG5cbnZhciBTRUFSQ0ggPSByZXF1aXJlKCcuL2VuZHBvaW50cycpLnNlYXJjaFxudmFyIFNlYXJjaFN1bW1hcnkgPSByZXF1aXJlKCcuL3NlYXJjaC1zdW1tYXJ5JylcbnZhciBSZXN1bHRzTGlzdCA9IHJlcXVpcmUoJy4vc2VhcmNoLXJlc3VsdHMvbGlzdCcpXG52YXIgUmVzdWx0c0dyaWQgPSByZXF1aXJlKCcuL3NlYXJjaC1yZXN1bHRzL2dyaWQnKVxuXG52YXIgU2VhcmNoUmVzdWx0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgbWl4aW5zOiBbUm91dGVyLlN0YXRlLCBSb3V0ZXIuTmF2aWdhdGlvbl0sXG5cbiAgc3RhdGljczoge1xuICAgIGZldGNoRGF0YToge1xuICAgICAgc2VhcmNoUmVzdWx0czogKHBhcmFtcywgcXVlcnkpID0+IHtcbiAgICAgICAgdmFyIHNpemUgPSBxdWVyeSAmJiBxdWVyeS5zaXplIHx8IDEwMFxuICAgICAgICB2YXIgc29ydCA9IHF1ZXJ5ICYmIHF1ZXJ5LnNvcnRcbiAgICAgICAgY29uc3QgZmlsdGVycyA9IHBhcmFtcy5zcGxhdFxuICAgICAgICBjb25zdCBwcm9wZXJseUNvZGVkRmlsdGVycyA9IGVuY29kZVVSSUNvbXBvbmVudChkZWNvZGVVUklDb21wb25lbnQoZmlsdGVycykpIC8vIHl1Y2tcbiAgICAgICAgbGV0IHNlYXJjaFVybCA9IGAke1NFQVJDSH0vJHtwYXJhbXMudGVybXN9P3NpemU9JHtzaXplfWBcbiAgICAgICAgaWYoc29ydCkgc2VhcmNoVXJsICs9IGAmc29ydD0ke3NvcnR9YFxuICAgICAgICBpZihmaWx0ZXJzKSBzZWFyY2hVcmwgKz0gYCZmaWx0ZXJzPSR7cHJvcGVybHlDb2RlZEZpbHRlcnN9YFxuICAgICAgICByZXR1cm4gcmVzdChzZWFyY2hVcmwpLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpKVxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgdmFyIGZvY3VzID0gd2luZG93LmNsaWNrZWRBcnR3b3JrIHx8IHRoaXMucHJvcHMuaGl0c1swXVxuICAgIHNldFRpbWVvdXQoKCkgPT4gd2luZG93LmNsaWNrZWRBcnR3b3JrID0gbnVsbClcbiAgICB2YXIgc21hbGxWaWV3cG9ydCA9IHdpbmRvdyAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8PSA1MDBcblxuICAgIHZhciB7dmlldywgcHJldmlldzogc2hvd1ByZXZpZXd9ID0gdGhpcy5wcm9wcy5xdWVyeVxuICAgIHZhciBpbml0aWFsVmlldyA9IHZpZXcgJiYgdmlldyA9PSAnbGlzdCcgPyBSZXN1bHRzTGlzdCA6IFJlc3VsdHNHcmlkXG4gICAgdmFyIGRlZmF1bHRWaWV3ID0gKHNtYWxsVmlld3BvcnQgfHwgdGhpcy5jb250ZXh0LnVuaXZlcnNhbCkgPyBSZXN1bHRzTGlzdCA6IFJlc3VsdHNHcmlkXG4gICAgdmFyIHNob3dQcmV2aWV3ID0gc2hvd1ByZXZpZXcgPT0gXCJmYWxzZVwiID8gZmFsc2UgOiB0cnVlXG5cbiAgICByZXR1cm4ge1xuICAgICAgZm9jdXNlZFJlc3VsdDogc2hvd1ByZXZpZXcgJiYgZm9jdXMgJiYgZm9jdXMsXG4gICAgICB2aWV3OiBpbml0aWFsVmlldyB8fCBkZWZhdWx0VmlldyxcbiAgICAgIHNtYWxsVmlld3BvcnQsXG4gICAgfVxuICB9LFxuXG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmRhdGEuc2VhcmNoUmVzdWx0cyAhPSBuZXh0UHJvcHMuZGF0YS5zZWFyY2hSZXN1bHRzIHx8XG4gICAgICB0aGlzLnByb3BzLmhpdHMgIT0gbmV4dFByb3BzLmhpdHMgfHxcbiAgICAgIHRoaXMucHJvcHMuY29tcGxldGlvbnMgIT09IG5leHRQcm9wcy5jb21wbGV0aW9ucyB8fFxuICAgICAgdGhpcy5wcm9wcy5xdWVyeS5zb3J0ICE9PSBuZXh0UHJvcHMucXVlcnkuc29ydCB8fFxuICAgICAgdGhpcy5zdGF0ZSAhPT0gbmV4dFN0YXRlXG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICB2YXIgZm9jdXNlZCA9IHdpbmRvdy5jbGlja2VkQXJ0d29yayB8fCB0aGlzLnN0YXRlICYmIHRoaXMuc3RhdGUuZm9jdXNlZFJlc3VsdCB8fCBuZXh0UHJvcHMuaGl0c1swXVxuICAgIHRoaXMuZm9jdXNSZXN1bHQoZm9jdXNlZClcbiAgICBpZih3aW5kb3cuY2xpY2tlZEFydHdvcmspIHdpbmRvdy5jbGlja2VkQXJ0d29yayA9IG51bGxcbiAgfSxcblxuICBtYXhSZXN1bHRzOiA1MDAwLFxuXG4gIHRyaWdnZXJMb2FkKG5leHRQYWdlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7bG9hZGluZ01vcmU6IG5leHRQYWdlfSlcbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHNlYXJjaCA9IHRoaXMucHJvcHMuZGF0YS5zZWFyY2hSZXN1bHRzXG4gICAgdmFyIHtmb2N1c2VkUmVzdWx0fSA9IHRoaXMuc3RhdGVcbiAgICB2YXIgbGVmdENvbHVtbldpZHRoID0gJzM1JSdcbiAgICB2YXIgdW5sb2FkZWRSZXN1bHRzID0gc2VhcmNoLmhpdHMudG90YWwgLSB0aGlzLnByb3BzLmhpdHMubGVuZ3RoXG4gICAgdmFyIGxvYWRUaGlzTWFueU1vcmUgPSBNYXRoLm1pbigyMDAsIHVubG9hZGVkUmVzdWx0cylcbiAgICB2YXIgbmV4dFBhZ2UgPSBNYXRoLm1pbih0aGlzLm1heFJlc3VsdHMsIHRoaXMucHJvcHMuaGl0cy5sZW5ndGgrbG9hZFRoaXNNYW55TW9yZSlcbiAgICB2YXIgc2hvd01vcmVMaW5rID0gc2VhcmNoICYmXG4gICAgICA8c3Bhbj4uJm5ic3A7KDxMaW5rIHRvPXtzZWFyY2guZmlsdGVycyA/ICdmaWx0ZXJlZFNlYXJjaFJlc3VsdHMnIDogJ3NlYXJjaFJlc3VsdHMnfVxuICAgICAgICAgICAgIHBhcmFtcz17e3Rlcm1zOiBzZWFyY2gucXVlcnksIHNwbGF0OiBzZWFyY2guZmlsdGVyc319XG4gICAgICAgICAgICAgcXVlcnk9e3tzaXplOiBuZXh0UGFnZSwgLi4udGhpcy5wcm9wcy5xdWVyeX19XG4gICAgICAgICAgICAgb25DbGljaz17dGhpcy50cmlnZ2VyTG9hZC5iaW5kKHRoaXMsIG5leHRQYWdlKX1cbiAgICAgICAgICAgID5sb2FkIHtsb2FkVGhpc01hbnlNb3JlfSBtb3JlPC9MaW5rPilcbiAgICAgIDwvc3Bhbj5cblxuICAgIGlmKHRoaXMuc3RhdGUubG9hZGluZ01vcmUpIHNob3dNb3JlTGluayA9ICcgKOKApmxvYWRpbmcpJ1xuXG4gICAgdmFyIHN1bW1hcnlQcm9wcyA9IHtcbiAgICAgIHNlYXJjaDogdGhpcy5wcm9wcy5kYXRhLnNlYXJjaFJlc3VsdHMsXG4gICAgICBoaXRzOiB0aGlzLnByb3BzLmhpdHMsXG4gICAgICBwYXJhbXM6IHRoaXMucHJvcHMucGFyYW1zLFxuICAgICAgc2hvd0FnZ3M6IHRoaXMucHJvcHMuc2hvd0FnZ3MsXG4gICAgICB0b2dnbGVBZ2dzOiB0aGlzLnByb3BzLnRvZ2dsZUFnZ3MsXG4gICAgICBzaG93TW9yZUxpbmssXG4gICAgICBtYXhSZXN1bHRzOiB0aGlzLm1heFJlc3VsdHMsXG4gICAgICBxdWVyeTogdGhpcy5wcm9wcy5xdWVyeSxcbiAgICAgIC4uLnRoaXMucHJvcHMuc3VtbWFyeVByb3BzXG4gICAgfVxuXG4gICAgdmFyIHt0ZXJtcywgc3BsYXR9ID0gdGhpcy5wcm9wcy5wYXJhbXNcbiAgICB2YXIgc2hvd0ZvY3VzUmVsYXRlZENvbnRlbnQgPSBbdGVybXMsIHNwbGF0XS5qb2luKCcgJykubWF0Y2goL3JlbGF0ZWQvKVxuXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8U2VhcmNoU3VtbWFyeSB7Li4uc3VtbWFyeVByb3BzfT5cbiAgICAgICAgPFNlYXJjaFJlc3VsdFZpZXdUb2dnbGVcbiAgICAgICAgICBjbGljaz17dGhpcy5jaGFuZ2VWaWV3fVxuICAgICAgICAgIGFjdGl2ZVZpZXc9e3RoaXMuc3RhdGUudmlld31cbiAgICAgICAgICB2aWV3cz17W1Jlc3VsdHNMaXN0LCBSZXN1bHRzR3JpZF19XG4gICAgICAgIC8+XG4gICAgICA8L1NlYXJjaFN1bW1hcnk+XG4gICAgICB7dGhpcy5wcm9wcy5zdWdnZXN0aW9uc31cbiAgICAgIDx0aGlzLnN0YXRlLnZpZXdcbiAgICAgICAgbGVmdENvbHVtbldpZHRoPXtsZWZ0Q29sdW1uV2lkdGh9XG4gICAgICAgIGZvY3VzZWRSZXN1bHQ9e2ZvY3VzZWRSZXN1bHR9XG4gICAgICAgIGZvY3VzSGFuZGxlcj17dGhpcy5mb2N1c1Jlc3VsdH1cbiAgICAgICAgc2VhcmNoPXtzZWFyY2h9XG4gICAgICAgIGhpdHM9e3RoaXMucHJvcHMuaGl0c31cbiAgICAgICAgcG9zdFNlYXJjaD17dGhpcy5wb3N0U2VhcmNoKHN1bW1hcnlQcm9wcywgdGhpcy5zdGF0ZS5wb3N0U2VhcmNoT2Zmc2V0KX1cbiAgICAgICAgc21hbGxWaWV3cG9ydD17dGhpcy5zdGF0ZS5zbWFsbFZpZXdwb3J0fVxuICAgICAgICBzaG93UmVsYXRlZD17c2hvd0ZvY3VzUmVsYXRlZENvbnRlbnR9XG4gICAgICAgIC8+XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgZm9jdXNSZXN1bHQoaGl0LCBuZXh0VmlldyA9IGZhbHNlKSB7XG4gICAgdmFyIHtzbWFsbFZpZXdwb3J0fSA9IHRoaXMuc3RhdGVcblxuICAgIGlmKHNtYWxsVmlld3BvcnQgJiYgbmV4dFZpZXcpIHtcbiAgICAgIHRoaXMudHJhbnNpdGlvblRvKCdhcnR3b3JrJywge2lkOiBoaXQuX2lkfSlcbiAgICB9IGVsc2Uge1xuICAgICAgIXNtYWxsVmlld3BvcnQgJiYgbmV4dFZpZXcgJiYgdGhpcy5jaGFuZ2VWaWV3KG5leHRWaWV3KVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7Zm9jdXNlZFJlc3VsdDogaGl0ID8gaGl0IDogbnVsbH0pXG4gICAgfVxuICB9LFxuXG4gIGNoYW5nZVZpZXcobmV4dCkge1xuICAgIG5leHQgJiYgdGhpcy5zZXRTdGF0ZSh7dmlldzogbmV4dH0pXG4gIH0sXG5cbiAgLy8gSG93IHRvIGNvZGUgdGhpczogYWZ0ZXIgc2VlaW5nIGFsbCB0aGUgcmVzdWx0cyAob24gYSBwYWdlPylcbiAgLy8gc3VtbWFyaXplIHRoZW0gYW5kIGdpdmUgdGhlIGNoYW5jZSB0byBkbyBzb21ldGhpbmcuIFN1Y2ggYXM6XG4gIC8vICogbG9hZCBtb3JlXG4gIC8vICogZGlkIHlvdSBmaW5kIHdoYXQgeW91IHdlcmUgbG9va2luZyBmb3I/IChzb2xpY2l0IGZlZWRiYWNrKVxuICAvLyAqIHJlbGF0ZWQgc2VhcmNoZXM/XG4gIC8vXG4gIC8vIEFsc28gZnVkZ2UgdGhlIGhlaWdodCBvZiB0aGlzIHNvIHRoZSByaWdodCBjb2x1bW4gc2Nyb2xsIGRvZXNuJ3QgZ2V0IGN1dCBvZmYuXG4gIHBvc3RTZWFyY2goe2hpdHMsIHNlYXJjaCwgc2hvd01vcmVMaW5rfSwgcG9zdFNlYXJjaE9mZnNldCkge1xuICAgIHZhciBzaG93aW5nQWxsID0gaGl0cy5sZW5ndGggPT0gc2VhcmNoLmhpdHMudG90YWwgfHwgaGl0cy5sZW5ndGggPj0gdGhpcy5tYXhSZXN1bHRzXG5cbiAgICB2YXIgc3R5bGUgPSB7XG4gICAgICBtYXJnaW5Ub3A6ICcxZW0nLFxuICAgICAgcGFkZGluZzogJzFlbScsXG4gICAgICBib3JkZXJUb3A6ICcxZW0gc29saWQgIzIzMjMyMycsXG4gICAgICBtaW5IZWlnaHQ6IE1hdGgubWF4KDUwLCB0aGlzLnN0YXRlLm1pbkhlaWdodCAtIHBvc3RTZWFyY2hPZmZzZXQpXG4gICAgfVxuXG4gICAgcmV0dXJuIDxkaXYgcmVmPVwicG9zdFNlYXJjaFwiIHN0eWxlPXtzdHlsZX0+XG4gICAgICBzaG93aW5nIHtoaXRzLmxlbmd0aH0geycgJ31cbiAgICAgIHtzaG93aW5nQWxsIHx8IDxzcGFuPm9mIHtzZWFyY2guaGl0cy50b3RhbH0geycgJ308L3NwYW4+fVxuICAgICAgcmVzdWx0cyBtYXRjaGluZyA8Y29kZT57c2VhcmNoLnF1ZXJ5fTwvY29kZT5cbiAgICAgIHtzZWFyY2guZmlsdGVycyAmJiA8c3Bhbj4gYW5kIDxjb2RlPntzZWFyY2guZmlsdGVyc308L2NvZGU+PC9zcGFuPn1cbiAgICAgIHtzaG93aW5nQWxsIHx8IHNob3dNb3JlTGlua31cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICB2YXIgZG9tTm9kZSA9IHRoaXMucmVmcy5wb3N0U2VhcmNoICYmIFJlYWN0LmZpbmRET01Ob2RlKHRoaXMucmVmcy5wb3N0U2VhcmNoKVxuICAgIHZhciBvZmZzZXQgPSBkb21Ob2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcFxuICAgIGlmKGRvbU5vZGUgJiYgb2Zmc2V0ICE9IHByZXZTdGF0ZS5wb3N0U2VhcmNoT2Zmc2V0KSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtwb3N0U2VhcmNoT2Zmc2V0OiBvZmZzZXQgfHwgMH0pXG4gICAgfVxuXG4gICAgaWYodGhpcy5wcm9wcy5xdWVyeS5zaXplID09IHRoaXMuc3RhdGUubG9hZGluZ01vcmUpIHRoaXMuc2V0U3RhdGUoe2xvYWRpbmdNb3JlOiBmYWxzZX0pXG4gIH0sXG5cbiAgb25IZWlnaHRDaGFuZ2UobmV3SGVpZ2h0KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7bWluSGVpZ2h0OiBuZXdIZWlnaHR9KVxuICB9LFxuXG4gIGdldENoaWxkQ29udGV4dCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb25IZWlnaHRDaGFuZ2U6IHRoaXMub25IZWlnaHRDaGFuZ2UsXG4gICAgfVxuICB9LFxufSlcblNlYXJjaFJlc3VsdHMuY2hpbGRDb250ZXh0VHlwZXMgPSB7b25IZWlnaHRDaGFuZ2U6IFJlYWN0LlByb3BUeXBlcy5mdW5jfVxuU2VhcmNoUmVzdWx0cy5jb250ZXh0VHlwZXMgPSB7XG4gIHJvdXRlcjogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIHVuaXZlcnNhbDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG59XG5cbm1vZHVsZS5leHBvcnRzID0gU2VhcmNoUmVzdWx0c1xuXG52YXIgU2VhcmNoUmVzdWx0Vmlld1RvZ2dsZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7dmlld3MsIGNsaWNrLCBhY3RpdmVWaWV3fSA9IHRoaXMucHJvcHNcblxuICAgIHZhciB0b2dnbGVzID0gdmlld3MubWFwKChyKSA9PiB7XG4gICAgICB2YXIgbmFtZSA9IHIuZGlzcGxheU5hbWUucmVwbGFjZSgnU2VhcmNoUmVzdWx0cycsICcnKVxuICAgICAgdmFyIGFjdGl2ZVN0eWxlID0gYWN0aXZlVmlldyA9PT0gciAmJiB7XG4gICAgICAgIGNvbG9yOiAnIzIyMicsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJyxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiA1LFxuICAgICAgICBtYXJnaW46ICcwIDVweCcsXG4gICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgfSB8fCB7fVxuICAgICAgcmV0dXJuIDxzcGFuIGtleT17bmFtZX0gb25DbGljaz17dGhpcy50b2dnbGVWaWV3LmJpbmQodGhpcywgcil9IHN0eWxlPXthY3RpdmVTdHlsZX0+PGkgY2xhc3NOYW1lPXtuYW1lfT48L2k+PC9zcGFuPlxuICAgIH0pXG5cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJtZGwtY2VsbCBtZGwtY2VsbC0tMi1jb2wgdmlld3NcIj57dG9nZ2xlc308L2Rpdj5cbiAgfSxcblxuICB0b2dnbGVWaWV3KHZpZXcpIHtcbiAgICB0aGlzLnByb3BzLmNsaWNrKHZpZXcpXG4gIH0sXG59KVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/search-results.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/search-results.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = require('react-router')\nvar rest = require('rest')\n\nvar SEARCH = require('./endpoints').search\nvar SearchSummary = require('./search-summary')\nvar ResultsList = require('./search-results/list')\nvar ResultsGrid = require('./search-results/grid')\n\nvar SearchResults = React.createClass({\n  mixins: [Router.State, Router.Navigation],\n\n  statics: {\n    fetchData: {\n      searchResults: (params, query) => {\n        var size = query && query.size || 100\n        var sort = query && query.sort\n        const filters = params.splat\n        const properlyCodedFilters = encodeURIComponent(decodeURIComponent(filters)) // yuck\n        let searchUrl = `${SEARCH}/${params.terms}?size=${size}`\n        if(sort) searchUrl += `&sort=${sort}`\n        if(filters) searchUrl += `&filters=${properlyCodedFilters}`\n        return rest(searchUrl).then((r) => JSON.parse(r.entity))\n      }\n    }\n  },\n\n  getInitialState() {\n    var focus = window.clickedArtwork || this.props.hits[0]\n    setTimeout(() => window.clickedArtwork = null)\n    var smallViewport = window && window.innerWidth <= 500\n\n    var {view, preview: showPreview} = this.props.query\n    var initialView = view && view == 'list' ? ResultsList : ResultsGrid\n    var defaultView = (smallViewport || this.context.universal) ? ResultsList : ResultsGrid\n    var showPreview = showPreview == \"false\" ? false : true\n\n    return {\n      focusedResult: showPreview && focus && focus,\n      view: initialView || defaultView,\n      smallViewport,\n    }\n  },\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return this.props.data.searchResults != nextProps.data.searchResults ||\n      this.props.hits != nextProps.hits ||\n      this.props.completions !== nextProps.completions ||\n      this.props.query.sort !== nextProps.query.sort ||\n      this.state !== nextState\n  },\n\n  componentWillReceiveProps(nextProps) {\n    var focused = window.clickedArtwork || this.state && this.state.focusedResult || nextProps.hits[0]\n    this.focusResult(focused)\n    if(window.clickedArtwork) window.clickedArtwork = null\n  },\n\n  maxResults: 5000,\n\n  triggerLoad(nextPage) {\n    this.setState({loadingMore: nextPage})\n  },\n\n  render() {\n    var search = this.props.data.searchResults\n    var {focusedResult} = this.state\n    var leftColumnWidth = '35%'\n    var unloadedResults = search.hits.total - this.props.hits.length\n    var loadThisManyMore = Math.min(200, unloadedResults)\n    var nextPage = Math.min(this.maxResults, this.props.hits.length+loadThisManyMore)\n    var showMoreLink = search &&\n      <span>.&nbsp;(<Link to={search.filters ? 'filteredSearchResults' : 'searchResults'}\n             params={{terms: search.query, splat: search.filters}}\n             query={{size: nextPage, ...this.props.query}}\n             onClick={this.triggerLoad.bind(this, nextPage)}\n            >load {loadThisManyMore} more</Link>)\n      </span>\n\n    if(this.state.loadingMore) showMoreLink = ' (…loading)'\n\n    var summaryProps = {\n      search: this.props.data.searchResults,\n      hits: this.props.hits,\n      params: this.props.params,\n      showAggs: this.props.showAggs,\n      toggleAggs: this.props.toggleAggs,\n      showMoreLink,\n      maxResults: this.maxResults,\n      query: this.props.query,\n      ...this.props.summaryProps\n    }\n\n    var {terms, splat} = this.props.params\n    var showFocusRelatedContent = [terms, splat].join(' ').match(/related/)\n\n    return <div>\n      <SearchSummary {...summaryProps}>\n        <SearchResultViewToggle\n          click={this.changeView}\n          activeView={this.state.view}\n          views={[ResultsList, ResultsGrid]}\n        />\n      </SearchSummary>\n      {this.props.suggestions}\n      <this.state.view\n        leftColumnWidth={leftColumnWidth}\n        focusedResult={focusedResult}\n        focusHandler={this.focusResult}\n        search={search}\n        hits={this.props.hits}\n        postSearch={this.postSearch(summaryProps, this.state.postSearchOffset)}\n        smallViewport={this.state.smallViewport}\n        showRelated={showFocusRelatedContent}\n        />\n    </div>\n  },\n\n  focusResult(hit, nextView = false) {\n    var {smallViewport} = this.state\n\n    if(smallViewport && nextView) {\n      this.transitionTo('artwork', {id: hit._id})\n    } else {\n      !smallViewport && nextView && this.changeView(nextView)\n      this.setState({focusedResult: hit ? hit : null})\n    }\n  },\n\n  changeView(next) {\n    next && this.setState({view: next})\n  },\n\n  // How to code this: after seeing all the results (on a page?)\n  // summarize them and give the chance to do something. Such as:\n  // * load more\n  // * did you find what you were looking for? (solicit feedback)\n  // * related searches?\n  //\n  // Also fudge the height of this so the right column scroll doesn't get cut off.\n  postSearch({hits, search, showMoreLink}, postSearchOffset) {\n    var showingAll = hits.length == search.hits.total || hits.length >= this.maxResults\n\n    var style = {\n      marginTop: '1em',\n      padding: '1em',\n      borderTop: '1em solid #232323',\n      minHeight: Math.max(50, this.state.minHeight - postSearchOffset)\n    }\n\n    return <div ref=\"postSearch\" style={style}>\n      showing {hits.length} {' '}\n      {showingAll || <span>of {search.hits.total} {' '}</span>}\n      results matching <code>{search.query}</code>\n      {search.filters && <span> and <code>{search.filters}</code></span>}\n      {showingAll || showMoreLink}\n    </div>\n  },\n\n  componentDidUpdate(prevProps, prevState) {\n    var domNode = this.refs.postSearch && React.findDOMNode(this.refs.postSearch)\n    var offset = domNode.getBoundingClientRect().top\n    if(domNode && offset != prevState.postSearchOffset) {\n      this.setState({postSearchOffset: offset || 0})\n    }\n\n    if(this.props.query.size == this.state.loadingMore) this.setState({loadingMore: false})\n  },\n\n  onHeightChange(newHeight) {\n    this.setState({minHeight: newHeight})\n  },\n\n  getChildContext() {\n    return {\n      onHeightChange: this.onHeightChange,\n    }\n  },\n})\nSearchResults.childContextTypes = {onHeightChange: React.PropTypes.func}\nSearchResults.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nmodule.exports = SearchResults\n\nvar SearchResultViewToggle = React.createClass({\n  render() {\n    var {views, click, activeView} = this.props\n\n    var toggles = views.map((r) => {\n      var name = r.displayName.replace('SearchResults', '')\n      var activeStyle = activeView === r && {\n        color: '#222',\n        backgroundColor: 'white',\n        borderRadius: 5,\n        margin: '0 5px',\n        display: 'inline-block',\n      } || {}\n      return <span key={name} onClick={this.toggleView.bind(this, r)} style={activeStyle}><i className={name}></i></span>\n    })\n\n    return <div className=\"mdl-cell mdl-cell--2-col views\">{toggles}</div>\n  },\n\n  toggleView(view) {\n    this.props.click(view)\n  },\n})\n"
      ]
    },
    "mtime": 1487953287538
  },
  "{\"filename\":\"/var/www/art/src/search-summary.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Helmet = require('react-helmet');\n\nvar Decorate = require('./decorate');\nvar Aggregations = require('./aggregations');\nvar searchLanguageMap = require('./search-language');\n\nvar SearchSummary = React.createClass({\n  displayName: 'SearchSummary',\n\n  render: function render() {\n    var search = this.props.search;\n    if (!search || !search.hits) return React.createElement('div', null);\n    var hits = this.props.hits;\n    var results = this.props.results;\n    var showAggs = this.props.showAggs;\n\n    // only allow opening the filters box when\n    // 1. there's more than 1 result\n    // 2. there are filters applied that could be reducing the results to 0\n    var toggleAggs = (hits.length > 1 || search.filters && search.filters.length > 0) && React.createElement(\n      'span',\n      { className: 'filter-button' },\n      React.createElement(\n        'a',\n        { onClick: this.toggleAggs, style: { cursor: 'pointer' } },\n        showAggs ? 'hide filters' : 'filter search'\n      )\n    );\n\n    var showingAll = hits.length == search.hits.total || hits.length >= this.props.maxResults;\n\n    var smallViewport = window && window.innerWidth <= 500;\n    var toolbarClasses = \"summaryText mdl-cell \" + (smallViewport ? \"mdl-cell--4-col\" : \"mdl-cell--8-col mdl-cell--4-col-tablet\");\n\n    var pretty = {\n      query: searchLanguageMap(search.query),\n      filters: searchLanguageMap(search.filters)\n    };\n    pretty['searchString'] = [pretty.query, pretty.filters].filter(function (string) {\n      return !!string && string !== '*' && string !== 'undefined';\n    }).join(', ');\n\n    var sort = this.props.query.sort;\n\n    var humanizeSnakeCase = function humanizeSnakeCase(s) {\n      return ('_' + s).replace(/_(.?)/g, function (_, x) {\n        return ' ' + x.toUpperCase();\n      }).trim();\n    };\n\n    return React.createElement(\n      'div',\n      { className: 'agg-wrap' },\n      React.createElement(\n        'div',\n        { className: 'toolbar mdl-grid' },\n        this.props.children,\n        React.createElement(\n          'div',\n          { className: toolbarClasses },\n          React.createElement(\n            'h2',\n            { onClick: this.toggleContent },\n            'showing ',\n            hits.length,\n            ' ',\n            ' ',\n            showingAll || React.createElement(\n              'span',\n              null,\n              'of ',\n              search.hits.total,\n              ' ',\n              ' '\n            ),\n            'results matching ',\n            React.createElement(\n              'code',\n              null,\n              pretty.query\n            ),\n            search.filters && React.createElement(\n              'span',\n              null,\n              ' and ',\n              React.createElement(\n                'code',\n                null,\n                decodeURIComponent(pretty.filters)\n              )\n            ),\n            sort && React.createElement(\n              'span',\n              null,\n              ' sorted by ',\n              humanizeSnakeCase(sort.replace(/(-|\\.).*/, ''))\n            ),\n            showingAll || this.props.showMoreLink\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'mdl-cell mdl-cell--2-col' },\n          toggleAggs\n        )\n      ),\n      showAggs && React.createElement(Aggregations, _extends({ search: search }, this.props)),\n      React.createElement(Decorate, _extends({ search: search, params: this.props.params }, this.props)),\n      React.createElement(Helmet, {\n        title: '🔎 ' + pretty.searchString,\n        meta: [{ property: \"robots\", content: \"noindex\" }, { property: \"og:title\", content: pretty.searchString + ' | Minneapolis Institute of Art' }]\n      })\n    );\n  },\n\n  toggleAggs: function toggleAggs() {\n    this.props.toggleAggs();\n  }\n});\n\nmodule.exports = SearchSummary;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvc2VhcmNoLXN1bW1hcnkuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUM1QixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7O0FBRXBDLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTtBQUNwQyxJQUFJLFlBQVksR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQTtBQUM1QyxJQUFJLGlCQUFpQixHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFBOztBQUVwRCxJQUFNLGFBQWEsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDdEMsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsUUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUE7QUFDaEMsUUFBRyxDQUFDLE1BQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsT0FBTyxnQ0FBTyxDQUFBO0FBQzFDLFFBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFBO0FBQzVCLFFBQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFBO1FBQzNCLFFBQVEsR0FBSSxJQUFJLENBQUMsS0FBSyxDQUF0QixRQUFROzs7OztBQUtmLFFBQU0sVUFBVSxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksTUFBTSxDQUFDLE9BQU8sSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUEsSUFBSzs7UUFBTSxTQUFTLEVBQUMsZUFBZTtNQUNwSDs7VUFBRyxPQUFPLEVBQUUsSUFBSSxDQUFDLFVBQVUsQUFBQyxFQUFDLEtBQUssRUFBRSxFQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUMsQUFBQztRQUFFLFFBQVEsR0FBRyxj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QTtLQUNBLENBQ1A7R0FDRjs7QUFFRCxZQUFVLEVBQUEsc0JBQUc7QUFDWCxRQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRSxDQUFBO0dBQ3hCO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsYUFBYSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvc2VhcmNoLXN1bW1hcnkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgSGVsbWV0ID0gcmVxdWlyZSgncmVhY3QtaGVsbWV0JylcblxudmFyIERlY29yYXRlID0gcmVxdWlyZSgnLi9kZWNvcmF0ZScpXG52YXIgQWdncmVnYXRpb25zID0gcmVxdWlyZSgnLi9hZ2dyZWdhdGlvbnMnKVxudmFyIHNlYXJjaExhbmd1YWdlTWFwID0gcmVxdWlyZSgnLi9zZWFyY2gtbGFuZ3VhZ2UnKVxuXG5jb25zdCBTZWFyY2hTdW1tYXJ5ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgY29uc3Qgc2VhcmNoID0gdGhpcy5wcm9wcy5zZWFyY2hcbiAgICBpZighc2VhcmNoIHx8ICFzZWFyY2guaGl0cykgcmV0dXJuIDxkaXYgLz5cbiAgICBjb25zdCBoaXRzID0gdGhpcy5wcm9wcy5oaXRzXG4gICAgY29uc3QgcmVzdWx0cyA9IHRoaXMucHJvcHMucmVzdWx0c1xuICAgIGNvbnN0IHtzaG93QWdnc30gPSB0aGlzLnByb3BzXG5cbiAgICAvLyBvbmx5IGFsbG93IG9wZW5pbmcgdGhlIGZpbHRlcnMgYm94IHdoZW5cbiAgICAvLyAxLiB0aGVyZSdzIG1vcmUgdGhhbiAxIHJlc3VsdFxuICAgIC8vIDIuIHRoZXJlIGFyZSBmaWx0ZXJzIGFwcGxpZWQgdGhhdCBjb3VsZCBiZSByZWR1Y2luZyB0aGUgcmVzdWx0cyB0byAwXG4gICAgY29uc3QgdG9nZ2xlQWdncyA9IChoaXRzLmxlbmd0aCA+IDEgfHwgc2VhcmNoLmZpbHRlcnMgJiYgc2VhcmNoLmZpbHRlcnMubGVuZ3RoID4gMCkgJiYgPHNwYW4gY2xhc3NOYW1lPVwiZmlsdGVyLWJ1dHRvblwiPlxuICAgICAgPGEgb25DbGljaz17dGhpcy50b2dnbGVBZ2dzfSBzdHlsZT17e2N1cnNvcjogJ3BvaW50ZXInfX0+e3Nob3dBZ2dzID8gJ2hpZGUgZmlsdGVycycgOiAnZmlsdGVyIHNlYXJjaCd9PC9hPlxuICAgIDwvc3Bhbj5cblxuICAgIGNvbnN0IHNob3dpbmdBbGwgPSBoaXRzLmxlbmd0aCA9PSBzZWFyY2guaGl0cy50b3RhbCB8fCBoaXRzLmxlbmd0aCA+PSB0aGlzLnByb3BzLm1heFJlc3VsdHNcblxuICAgIHZhciBzbWFsbFZpZXdwb3J0ID0gd2luZG93ICYmIHdpbmRvdy5pbm5lcldpZHRoIDw9IDUwMFxuICAgIHZhciB0b29sYmFyQ2xhc3NlcyA9IFwic3VtbWFyeVRleHQgbWRsLWNlbGwgXCIgKyAoc21hbGxWaWV3cG9ydCA/XG4gICAgICBcIm1kbC1jZWxsLS00LWNvbFwiIDpcbiAgICAgIFwibWRsLWNlbGwtLTgtY29sIG1kbC1jZWxsLS00LWNvbC10YWJsZXRcIilcblxuICAgIHZhciBwcmV0dHkgPSB7XG4gICAgICBxdWVyeTogc2VhcmNoTGFuZ3VhZ2VNYXAoc2VhcmNoLnF1ZXJ5KSxcbiAgICAgIGZpbHRlcnM6IHNlYXJjaExhbmd1YWdlTWFwKHNlYXJjaC5maWx0ZXJzKSxcbiAgICB9XG4gICAgcHJldHR5WydzZWFyY2hTdHJpbmcnXSA9IFtwcmV0dHkucXVlcnksIHByZXR0eS5maWx0ZXJzXVxuICAgICAgLmZpbHRlcihzdHJpbmcgPT4gISFzdHJpbmcgJiYgc3RyaW5nICE9PSAnKicgJiYgc3RyaW5nICE9PSAndW5kZWZpbmVkJylcbiAgICAgIC5qb2luKCcsICcpXG5cbiAgICB2YXIge3NvcnR9ID0gdGhpcy5wcm9wcy5xdWVyeVxuICAgIHZhciBodW1hbml6ZVNuYWtlQ2FzZSA9IChzKSA9PiBgXyR7c31gXG4gICAgICAucmVwbGFjZSgvXyguPykvZywgKF8sIHgpID0+IGAgJHt4LnRvVXBwZXJDYXNlKCl9YCkudHJpbSgpXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J2FnZy13cmFwJz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b29sYmFyIG1kbC1ncmlkXCI+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17dG9vbGJhckNsYXNzZXN9PjxoMiBvbkNsaWNrPXt0aGlzLnRvZ2dsZUNvbnRlbnR9PlxuICAgICAgICAgIHNob3dpbmcge2hpdHMubGVuZ3RofSB7JyAnfVxuICAgICAgICAgIHtzaG93aW5nQWxsIHx8IDxzcGFuPm9mIHtzZWFyY2guaGl0cy50b3RhbH0geycgJ308L3NwYW4+fVxuICAgICAgICAgIHJlc3VsdHMgbWF0Y2hpbmcgPGNvZGU+e3ByZXR0eS5xdWVyeX08L2NvZGU+XG4gICAgICAgICAge3NlYXJjaC5maWx0ZXJzICYmIDxzcGFuPiBhbmQgPGNvZGU+e2RlY29kZVVSSUNvbXBvbmVudChwcmV0dHkuZmlsdGVycyl9PC9jb2RlPjwvc3Bhbj59XG4gICAgICAgICAge3NvcnQgJiYgPHNwYW4+IHNvcnRlZCBieSB7aHVtYW5pemVTbmFrZUNhc2Uoc29ydC5yZXBsYWNlKC8oLXxcXC4pLiovLCAnJykpfTwvc3Bhbj59XG4gICAgICAgICAge3Nob3dpbmdBbGwgfHwgdGhpcy5wcm9wcy5zaG93TW9yZUxpbmt9XG4gICAgICAgIDwvaDI+PC9kaXY+PGRpdiBjbGFzc05hbWU9XCJtZGwtY2VsbCBtZGwtY2VsbC0tMi1jb2xcIj57dG9nZ2xlQWdnc308L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAge3Nob3dBZ2dzICYmIDxBZ2dyZWdhdGlvbnMgc2VhcmNoPXtzZWFyY2h9IHsuLi50aGlzLnByb3BzfSAvPn1cbiAgICAgICAgPERlY29yYXRlIHNlYXJjaD17c2VhcmNofSBwYXJhbXM9e3RoaXMucHJvcHMucGFyYW1zfSB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgPEhlbG1ldFxuICAgICAgICAgIHRpdGxlPXtg8J+UjiAke3ByZXR0eS5zZWFyY2hTdHJpbmd9YH1cbiAgICAgICAgICBtZXRhPXtbXG4gICAgICAgICAgICB7cHJvcGVydHk6IFwicm9ib3RzXCIsIGNvbnRlbnQ6IFwibm9pbmRleFwifSxcbiAgICAgICAgICAgIHtwcm9wZXJ0eTogXCJvZzp0aXRsZVwiLCBjb250ZW50OiBgJHtwcmV0dHkuc2VhcmNoU3RyaW5nfSB8IE1pbm5lYXBvbGlzIEluc3RpdHV0ZSBvZiBBcnRgfSxcbiAgICAgICAgICBdfVxuICAgICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH0sXG5cbiAgdG9nZ2xlQWdncygpIHtcbiAgICB0aGlzLnByb3BzLnRvZ2dsZUFnZ3MoKVxuICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBTZWFyY2hTdW1tYXJ5XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/search-summary.js"
      ],
      "names": [],
      "mappings": ";;;;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;;AAEpC,IAAI,QAAQ,GAAG,OAAO,CAAC,YAAY,CAAC,CAAA;AACpC,IAAI,YAAY,GAAG,OAAO,CAAC,gBAAgB,CAAC,CAAA;AAC5C,IAAI,iBAAiB,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAA;;AAEpD,IAAM,aAAa,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACtC,QAAM,EAAA,kBAAG;AACP,QAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAA;AAChC,QAAG,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO,gCAAO,CAAA;AAC1C,QAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAA;AAC5B,QAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAA;QAC3B,QAAQ,GAAI,IAAI,CAAC,KAAK,CAAtB,QAAQ;;;;;AAKf,QAAM,UAAU,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,MAAM,CAAC,OAAO,IAAI,MAAM,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAA,IAAK;;QAAM,SAAS,EAAC,eAAe;MACpH;;UAAG,OAAO,EAAE,IAAI,CAAC,UAAU,AAAC,EAAC,KAAK,EAAE,EAAC,MAAM,EAAE,SAAS,EAAC,AAAC;QAAE,QAAQ,GAAG,cAAc,GAAG,eAAe;OAAK;KACrG,CAAA;;AAEP,QAAM,UAAU,GAAG,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,UAAU,CAAA;;AAE3F,QAAI,aAAa,GAAG,MAAM,IAAI,MAAM,CAAC,UAAU,IAAI,GAAG,CAAA;AACtD,QAAI,cAAc,GAAG,uBAAuB,IAAI,aAAa,GAC3D,iBAAiB,GACjB,wCAAwC,CAAA,AAAC,CAAA;;AAE3C,QAAI,MAAM,GAAG;AACX,WAAK,EAAE,iBAAiB,CAAC,MAAM,CAAC,KAAK,CAAC;AACtC,aAAO,EAAE,iBAAiB,CAAC,MAAM,CAAC,OAAO,CAAC;KAC3C,CAAA;AACD,UAAM,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,OAAO,CAAC,CACpD,MAAM,CAAC,UAAA,MAAM;aAAI,CAAC,CAAC,MAAM,IAAI,MAAM,KAAK,GAAG,IAAI,MAAM,KAAK,WAAW;KAAA,CAAC,CACtE,IAAI,CAAC,IAAI,CAAC,CAAA;;QAER,IAAI,GAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAxB,IAAI;;AACT,QAAI,iBAAiB,GAAG,SAApB,iBAAiB,CAAI,CAAC;aAAK,OAAI,CAAC,EACjC,OAAO,CAAC,QAAQ,EAAE,UAAC,CAAC,EAAE,CAAC;qBAAS,CAAC,CAAC,WAAW,EAAE;OAAE,CAAC,CAAC,IAAI,EAAE;KAAA,CAAA;;AAE5D,WACE;;QAAK,SAAS,EAAC,UAAU;MACvB;;UAAK,SAAS,EAAC,kBAAkB;QAChC,IAAI,CAAC,KAAK,CAAC,QAAQ;QACpB;;YAAK,SAAS,EAAE,cAAc,AAAC;UAAC;;cAAI,OAAO,EAAE,IAAI,CAAC,aAAa,AAAC;;YACrD,IAAI,CAAC,MAAM;;YAAG,GAAG;YACzB,UAAU,IAAI;;;;cAAU,MAAM,CAAC,IAAI,CAAC,KAAK;;cAAG,GAAG;aAAQ;;YACvC;;;cAAO,MAAM,CAAC,KAAK;aAAQ;YAC3C,MAAM,CAAC,OAAO,IAAI;;;;cAAW;;;gBAAO,kBAAkB,CAAC,MAAM,CAAC,OAAO,CAAC;eAAQ;aAAO;YACrF,IAAI,IAAI;;;;cAAkB,iBAAiB,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;aAAQ;YACjF,UAAU,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY;WACnC;SAAM;QAAA;;YAAK,SAAS,EAAC,0BAA0B;UAAE,UAAU;SAAO;OACjE;MAEL,QAAQ,IAAI,oBAAC,YAAY,aAAC,MAAM,EAAE,MAAM,AAAC,IAAK,IAAI,CAAC,KAAK,EAAI;MAC7D,oBAAC,QAAQ,aAAC,MAAM,EAAE,MAAM,AAAC,EAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,AAAC,IAAK,IAAI,CAAC,KAAK,EAAI;MACvE,oBAAC,MAAM;AACL,aAAK,UAAQ,MAAM,CAAC,YAAY,AAAG;AACnC,YAAI,EAAE,CACJ,EAAC,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,SAAS,EAAC,EACxC,EAAC,QAAQ,EAAE,UAAU,EAAE,OAAO,EAAK,MAAM,CAAC,YAAY,oCAAiC,EAAC,CACzF,AAAC;QACA;KACA,CACP;GACF;;AAED,YAAU,EAAA,sBAAG;AACX,QAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAA;GACxB;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,aAAa,CAAA",
      "file": "/var/www/art/src/search-summary.js",
      "sourcesContent": [
        "var React = require('react')\nvar Helmet = require('react-helmet')\n\nvar Decorate = require('./decorate')\nvar Aggregations = require('./aggregations')\nvar searchLanguageMap = require('./search-language')\n\nconst SearchSummary = React.createClass({\n  render() {\n    const search = this.props.search\n    if(!search || !search.hits) return <div />\n    const hits = this.props.hits\n    const results = this.props.results\n    const {showAggs} = this.props\n\n    // only allow opening the filters box when\n    // 1. there's more than 1 result\n    // 2. there are filters applied that could be reducing the results to 0\n    const toggleAggs = (hits.length > 1 || search.filters && search.filters.length > 0) && <span className=\"filter-button\">\n      <a onClick={this.toggleAggs} style={{cursor: 'pointer'}}>{showAggs ? 'hide filters' : 'filter search'}</a>\n    </span>\n\n    const showingAll = hits.length == search.hits.total || hits.length >= this.props.maxResults\n\n    var smallViewport = window && window.innerWidth <= 500\n    var toolbarClasses = \"summaryText mdl-cell \" + (smallViewport ?\n      \"mdl-cell--4-col\" :\n      \"mdl-cell--8-col mdl-cell--4-col-tablet\")\n\n    var pretty = {\n      query: searchLanguageMap(search.query),\n      filters: searchLanguageMap(search.filters),\n    }\n    pretty['searchString'] = [pretty.query, pretty.filters]\n      .filter(string => !!string && string !== '*' && string !== 'undefined')\n      .join(', ')\n\n    var {sort} = this.props.query\n    var humanizeSnakeCase = (s) => `_${s}`\n      .replace(/_(.?)/g, (_, x) => ` ${x.toUpperCase()}`).trim()\n\n    return (\n      <div className='agg-wrap'>\n        <div className=\"toolbar mdl-grid\">\n        {this.props.children}\n        <div className={toolbarClasses}><h2 onClick={this.toggleContent}>\n          showing {hits.length} {' '}\n          {showingAll || <span>of {search.hits.total} {' '}</span>}\n          results matching <code>{pretty.query}</code>\n          {search.filters && <span> and <code>{decodeURIComponent(pretty.filters)}</code></span>}\n          {sort && <span> sorted by {humanizeSnakeCase(sort.replace(/(-|\\.).*/, ''))}</span>}\n          {showingAll || this.props.showMoreLink}\n        </h2></div><div className=\"mdl-cell mdl-cell--2-col\">{toggleAggs}</div>\n        </div>\n\n        {showAggs && <Aggregations search={search} {...this.props} />}\n        <Decorate search={search} params={this.props.params} {...this.props} />\n        <Helmet\n          title={`🔎 ${pretty.searchString}`}\n          meta={[\n            {property: \"robots\", content: \"noindex\"},\n            {property: \"og:title\", content: `${pretty.searchString} | Minneapolis Institute of Art`},\n          ]}\n          />\n      </div>\n    )\n  },\n\n  toggleAggs() {\n    this.props.toggleAggs()\n  },\n})\n\nmodule.exports = SearchSummary\n"
      ]
    },
    "mtime": 1487953287538
  },
  "{\"filename\":\"/var/www/art/src/decorate.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar cx = require('classnames');\n\nvar Markdown = require('./markdown');\n\nvar DepartmentDecorator = require('./decorate/department');\nvar GalleryDecorator = require('./decorate/gallery');\nvar HighlightsDecorator = require('./decorate/highlights');\nvar RecentDecorator = require('./decorate/recent');\nvar RightsDecorator = require('./decorate/rights');\n\nvar Decorate = React.createClass({\n  displayName: 'Decorate',\n\n  render: function render() {\n    var _props$search = this.props.search;\n    var query = _props$search.query;\n    var filters = _props$search.filters;\n\n    if (!query && !filters) return React.createElement('span', null);\n    var decorations = DecorationFinder(query, filters, this.props);\n    var showDecorators = this.state.showDecorators;\n\n    return decorations.length > 0 && React.createElement(\n      'div',\n      {\n        className: cx('decorator-wrap', { closed: !showDecorators }),\n        onClick: !showDecorators && this.toggleDecoration\n      },\n      showDecorators && decorations,\n      React.createElement(\n        'i',\n        { className: 'control material-icons', onClick: this.toggleDecoration },\n        false && 'expand_' + (showDecorators ? 'less' : 'more'),\n        showDecorators ? 'close' : 'info'\n      )\n    );\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      showDecorators: true\n    };\n  },\n\n  toggleDecoration: function toggleDecoration() {\n    this.setState({ showDecorators: !this.state.showDecorators });\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    // unhide decorators when query changes\n    var _props$search2 = this.props.search;\n    var query = _props$search2.query;\n    var filters = _props$search2.filters;\n\n    var nextQuery = nextProps.search.query;\n    var nextFilters = nextProps.search.filters;\n\n    if (query !== nextQuery || filters !== nextFilters) this.setState({ showDecorators: true });\n  }\n});\n\nmodule.exports = Decorate;\n\nvar DecorationFinder = function DecorationFinder(search, filters, props) {\n  var params = props.params;\n\n  var terms = search.match(/\\w+.+|\"(?:\\\\\"|[^\"])+\"/g) || search.split(' ');\n  if (filters) terms = terms.concat(filters.split('\" ').map(function (f) {\n    return f.trim();\n  }));\n\n  var Decor = {\n    \"department:\": function department(term) {\n      return React.createElement(DepartmentDecorator, { department: term, params: params, key: term });\n    },\n    \"g[0-9]{3}a?\": function g093A(gallery) {\n      return React.createElement(GalleryDecorator, _extends({ gallery: gallery[0] }, props, { key: gallery }));\n    },\n    \"Not on View\": function NotOnView(gallery) {\n      return React.createElement(GalleryDecorator, { notOnView: true, key: gallery });\n    },\n    \"highlight:\": function highlight() {\n      return React.createElement(HighlightsDecorator, { key: 'highlight' });\n    },\n    \"recent:\": function recent() {\n      return React.createElement(RecentDecorator, { key: 'recent' });\n    },\n    \"rights:\": function rights(term) {\n      return React.createElement(RightsDecorator, { term: term, params: params, key: term });\n    }\n  };\n\n  var m = Object.keys(Decor).reduce(function (matches, d) {\n    var _m = terms.filter(function (term) {\n      return term.match(new RegExp(d, 'i'));\n    });\n    if (_m.length > 0) matches[d] = _m;\n    return matches;\n  }, {});\n\n  return Object.keys(m).map(function (key) {\n    return Decor[key](m[key]);\n  });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZGVjb3JhdGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUM1QixJQUFJLEVBQUUsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7O0FBRTlCLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTs7QUFFcEMsSUFBSSxtQkFBbUIsR0FBRyxPQUFPLENBQUMsdUJBQXVCLENBQUMsQ0FBQTtBQUMxRCxJQUFJLGdCQUFnQixHQUFHLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFBO0FBQ3BELElBQUksbUJBQW1CLEdBQUcsT0FBTyxDQUFDLHVCQUF1QixDQUFDLENBQUE7QUFDMUQsSUFBSSxlQUFlLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7QUFDbEQsSUFBSSxlQUFlLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7O0FBRWxELElBQUksUUFBUSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUMvQixRQUFNLEVBQUEsa0JBQUc7d0JBQ2dCLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTTtRQUFuQyxLQUFLLGlCQUFMLEtBQUs7UUFBRSxPQUFPLGlCQUFQLE9BQU87O0FBQ25CLFFBQUcsQ0FBQyxLQUFLLElBQUksQ0FBQyxPQUFPLEVBQUUsT0FBTyxpQ0FBUSxDQUFBO0FBQ3RDLFFBQUksV0FBVyxHQUFHLGdCQUFnQixDQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFBO1FBQ3pELGNBQWMsR0FBSSxJQUFJLENBQUMsS0FBSyxDQUE1QixjQUFjOztBQUVuQixXQUFPLFdBQVcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxJQUFJOzs7QUFDL0IsaUJBQVMsRUFBRSxFQUFFLENBQUMsZ0JBQWdCLEVBQUUsRUFBQyxNQUFNLEVBQUUsQ0FBQyxjQUFjLEVBQUMs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SSxBQUFDLEdBQUc7S0FBQTtHQUNoRixDQUFBOztBQUVELE1BQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDLFVBQUMsT0FBTyxFQUFFLENBQUMsRUFBSztBQUNoRCxRQUFJLEVBQUUsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLFVBQUEsSUFBSTthQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxNQUFNLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0tBQUEsQ0FBQyxDQUFBO0FBQzdELFFBQUcsRUFBRSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQTtBQUNqQyxXQUFPLE9BQU8sQ0FBQTtHQUNmLEVBQUUsRUFBRSxDQUFDLENBQUE7O0FBRU4sU0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFBLEdBQUcsRUFBSTtBQUMvQixXQUFPLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQTtHQUMxQixDQUFDLENBQUE7Q0FDSCxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvZGVjb3JhdGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgY3ggPSByZXF1aXJlKCdjbGFzc25hbWVzJylcblxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi9tYXJrZG93bicpXG5cbnZhciBEZXBhcnRtZW50RGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9kZXBhcnRtZW50JylcbnZhciBHYWxsZXJ5RGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9nYWxsZXJ5JylcbnZhciBIaWdobGlnaHRzRGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9oaWdobGlnaHRzJylcbnZhciBSZWNlbnREZWNvcmF0b3IgPSByZXF1aXJlKCcuL2RlY29yYXRlL3JlY2VudCcpXG52YXIgUmlnaHRzRGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9yaWdodHMnKVxuXG52YXIgRGVjb3JhdGUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIge3F1ZXJ5LCBmaWx0ZXJzfSA9IHRoaXMucHJvcHMuc2VhcmNoXG4gICAgaWYoIXF1ZXJ5ICYmICFmaWx0ZXJzKSByZXR1cm4gPHNwYW4gLz5cbiAgICB2YXIgZGVjb3JhdGlvbnMgPSBEZWNvcmF0aW9uRmluZGVyKHF1ZXJ5LCBmaWx0ZXJzLCB0aGlzLnByb3BzKVxuICAgIHZhciB7c2hvd0RlY29yYXRvcnN9ID0gdGhpcy5zdGF0ZVxuXG4gICAgcmV0dXJuIGRlY29yYXRpb25zLmxlbmd0aCA+IDAgJiYgPGRpdlxuICAgICAgY2xhc3NOYW1lPXtjeCgnZGVjb3JhdG9yLXdyYXAnLCB7Y2xvc2VkOiAhc2hvd0RlY29yYXRvcnN9KX1cbiAgICAgIG9uQ2xpY2s9eyFzaG93RGVjb3JhdG9ycyAmJiB0aGlzLnRvZ2dsZURlY29yYXRpb259XG4gICAgPlxuICAgICAge3Nob3dEZWNvcmF0b3JzICYmIGRlY29yYXRpb25zfVxuICAgICAgPGkgY2xhc3NOYW1lPVwiY29udHJvbCBtYXRlcmlhbC1pY29uc1wiIG9uQ2xpY2s9e3RoaXMudG9nZ2xlRGVjb3JhdGlvbn0+XG4gICAgICAgIHtmYWxzZSAmJiAnZXhwYW5kXycrKHNob3dEZWNvcmF0b3JzID8gJ2xlc3MnIDogJ21vcmUnKX1cbiAgICAgICAge3Nob3dEZWNvcmF0b3JzID8gJ2Nsb3NlJyA6ICdpbmZvJ31cbiAgICAgIDwvaT5cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNob3dEZWNvcmF0b3JzOiB0cnVlLFxuICAgIH1cbiAgfSxcblxuICB0b2dnbGVEZWNvcmF0aW9uKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe3Nob3dEZWNvcmF0b3JzOiAhdGhpcy5zdGF0ZS5zaG93RGVjb3JhdG9yc30pXG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAvLyB1bmhpZGUgZGVjb3JhdG9ycyB3aGVuIHF1ZXJ5IGNoYW5nZXNcbiAgICB2YXIge3F1ZXJ5LCBmaWx0ZXJzfSA9IHRoaXMucHJvcHMuc2VhcmNoXG4gICAgdmFyIG5leHRRdWVyeSA9IG5leHRQcm9wcy5zZWFyY2gucXVlcnlcbiAgICB2YXIgbmV4dEZpbHRlcnMgPSBuZXh0UHJvcHMuc2VhcmNoLmZpbHRlcnNcblxuICAgIGlmKHF1ZXJ5ICE9PSBuZXh0UXVlcnkgfHwgZmlsdGVycyAhPT0gbmV4dEZpbHRlcnMpIHRoaXMuc2V0U3RhdGUoe3Nob3dEZWNvcmF0b3JzOiB0cnVlfSlcbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gRGVjb3JhdGVcblxudmFyIERlY29yYXRpb25GaW5kZXIgPSAoc2VhcmNoLCBmaWx0ZXJzLCBwcm9wcykgPT4ge1xuICBsZXQge3BhcmFtc30gPSBwcm9wc1xuICBsZXQgdGVybXMgPSBzZWFyY2gubWF0Y2goL1xcdysuK3xcIig/OlxcXFxcInxbXlwiXSkrXCIvZykgfHwgc2VhcmNoLnNwbGl0KCcgJylcbiAgaWYoZmlsdGVycykgdGVybXMgPSB0ZXJtcy5jb25jYXQoZmlsdGVycy5zcGxpdCgnXCIgJykubWFwKGYgPT4gZi50cmltKCkpKVxuXG4gIHZhciBEZWNvciA9IHtcbiAgICBcImRlcGFydG1lbnQ6XCI6ICh0ZXJtKSA9PiA8RGVwYXJ0bWVudERlY29yYXRvciBkZXBhcnRtZW50PXt0ZXJtfSBwYXJhbXM9e3BhcmFtc30ga2V5PXt0ZXJtfSAvPixcbiAgICBcImdbMC05XXszfWE/XCI6IChnYWxsZXJ5KSA9PiA8R2FsbGVyeURlY29yYXRvciBnYWxsZXJ5PXtnYWxsZXJ5WzBdfSB7Li4ucHJvcHN9IGtleT17Z2FsbGVyeX0gLz4sXG4gICAgXCJOb3Qgb24gVmlld1wiOiAoZ2FsbGVyeSkgPT4gPEdhbGxlcnlEZWNvcmF0b3Igbm90T25WaWV3PXt0cnVlfSBrZXk9e2dhbGxlcnl9IC8+LFxuICAgIFwiaGlnaGxpZ2h0OlwiOiAoKSA9PiA8SGlnaGxpZ2h0c0RlY29yYXRvciBrZXk9XCJoaWdobGlnaHRcIiAvPixcbiAgICBcInJlY2VudDpcIjogKCkgPT4gPFJlY2VudERlY29yYXRvciBrZXk9XCJyZWNlbnRcIiAvPixcbiAgICBcInJpZ2h0czpcIjogKHRlcm0pID0+IDxSaWdodHNEZWNvcmF0b3IgdGVybT17dGVybX0gcGFyYW1zPXtwYXJhbXN9IGtleT17dGVybX0gLz4sXG4gIH1cblxuICBsZXQgbSA9IE9iamVjdC5rZXlzKERlY29yKS5yZWR1Y2UoKG1hdGNoZXMsIGQpID0+IHtcbiAgICB2YXIgX20gPSB0ZXJtcy5maWx0ZXIodGVybSA9PiB0ZXJtLm1hdGNoKG5ldyBSZWdFeHAoZCwgJ2knKSkpXG4gICAgaWYoX20ubGVuZ3RoID4gMCkgbWF0Y2hlc1tkXSA9IF9tXG4gICAgcmV0dXJuIG1hdGNoZXNcbiAgfSwge30pXG5cbiAgcmV0dXJuIE9iamVjdC5rZXlzKG0pLm1hcChrZXkgPT4ge1xuICAgIHJldHVybiBEZWNvcltrZXldKG1ba2V5XSlcbiAgfSlcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/decorate.js"
      ],
      "names": [],
      "mappings": ";;;;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,EAAE,GAAG,OAAO,CAAC,YAAY,CAAC,CAAA;;AAE9B,IAAI,QAAQ,GAAG,OAAO,CAAC,YAAY,CAAC,CAAA;;AAEpC,IAAI,mBAAmB,GAAG,OAAO,CAAC,uBAAuB,CAAC,CAAA;AAC1D,IAAI,gBAAgB,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAA;AACpD,IAAI,mBAAmB,GAAG,OAAO,CAAC,uBAAuB,CAAC,CAAA;AAC1D,IAAI,eAAe,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAA;AAClD,IAAI,eAAe,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAA;;AAElD,IAAI,QAAQ,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC/B,QAAM,EAAA,kBAAG;wBACgB,IAAI,CAAC,KAAK,CAAC,MAAM;QAAnC,KAAK,iBAAL,KAAK;QAAE,OAAO,iBAAP,OAAO;;AACnB,QAAG,CAAC,KAAK,IAAI,CAAC,OAAO,EAAE,OAAO,iCAAQ,CAAA;AACtC,QAAI,WAAW,GAAG,gBAAgB,CAAC,KAAK,EAAE,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,CAAA;QACzD,cAAc,GAAI,IAAI,CAAC,KAAK,CAA5B,cAAc;;AAEnB,WAAO,WAAW,CAAC,MAAM,GAAG,CAAC,IAAI;;;AAC/B,iBAAS,EAAE,EAAE,CAAC,gBAAgB,EAAE,EAAC,MAAM,EAAE,CAAC,cAAc,EAAC,CAAC,AAAC;AAC3D,eAAO,EAAE,CAAC,cAAc,IAAI,IAAI,CAAC,gBAAgB,AAAC;;MAEjD,cAAc,IAAI,WAAW;MAC9B;;UAAG,SAAS,EAAC,wBAAwB,EAAC,OAAO,EAAE,IAAI,CAAC,gBAAgB,AAAC;QAClE,KAAK,IAAI,SAAS,IAAE,cAAc,GAAG,MAAM,GAAG,MAAM,CAAA,AAAC;QACrD,cAAc,GAAG,OAAO,GAAG,MAAM;OAChC;KACA,CAAA;GACP;;AAED,iBAAe,EAAA,2BAAG;AAChB,WAAO;AACL,oBAAc,EAAE,IAAI;KACrB,CAAA;GACF;;AAED,kBAAgB,EAAA,4BAAG;AACjB,QAAI,CAAC,QAAQ,CAAC,EAAC,cAAc,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,EAAC,CAAC,CAAA;GAC5D;;AAED,2BAAyB,EAAA,mCAAC,SAAS,EAAE;;yBAEZ,IAAI,CAAC,KAAK,CAAC,MAAM;QAAnC,KAAK,kBAAL,KAAK;QAAE,OAAO,kBAAP,OAAO;;AACnB,QAAI,SAAS,GAAG,SAAS,CAAC,MAAM,CAAC,KAAK,CAAA;AACtC,QAAI,WAAW,GAAG,SAAS,CAAC,MAAM,CAAC,OAAO,CAAA;;AAE1C,QAAG,KAAK,KAAK,SAAS,IAAI,OAAO,KAAK,WAAW,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAC,cAAc,EAAE,IAAI,EAAC,CAAC,CAAA;GACzF;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,QAAQ,CAAA;;AAEzB,IAAI,gBAAgB,GAAG,SAAnB,gBAAgB,CAAI,MAAM,EAAE,OAAO,EAAE,KAAK,EAAK;MAC5C,MAAM,GAAI,KAAK,CAAf,MAAM;;AACX,MAAI,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,wBAAwB,CAAC,IAAI,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;AACvE,MAAG,OAAO,EAAE,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,UAAA,CAAC;WAAI,CAAC,CAAC,IAAI,EAAE;GAAA,CAAC,CAAC,CAAA;;AAExE,MAAI,KAAK,GAAG;AACV,iBAAa,EAAE,oBAAC,IAAI;aAAK,oBAAC,mBAAmB,IAAC,UAAU,EAAE,IAAI,AAAC,EAAC,MAAM,EAAE,MAAM,AAAC,EAAC,GAAG,EAAE,IAAI,AAAC,GAAG;KAAA;AAC7F,iBAAa,EAAE,eAAC,OAAO;aAAK,oBAAC,gBAAgB,aAAC,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC,AAAC,IAAK,KAAK,IAAE,GAAG,EAAE,OAAO,AAAC,IAAG;KAAA;AAC9F,iBAAa,EAAE,mBAAC,OAAO;aAAK,oBAAC,gBAAgB,IAAC,SAAS,EAAE,IAAI,AAAC,EAAC,GAAG,EAAE,OAAO,AAAC,GAAG;KAAA;AAC/E,gBAAY,EAAE;aAAM,oBAAC,mBAAmB,IAAC,GAAG,EAAC,WAAW,GAAG;KAAA;AAC3D,aAAS,EAAE;aAAM,oBAAC,eAAe,IAAC,GAAG,EAAC,QAAQ,GAAG;KAAA;AACjD,aAAS,EAAE,gBAAC,IAAI;aAAK,oBAAC,eAAe,IAAC,IAAI,EAAE,IAAI,AAAC,EAAC,MAAM,EAAE,MAAM,AAAC,EAAC,GAAG,EAAE,IAAI,AAAC,GAAG;KAAA;GAChF,CAAA;;AAED,MAAI,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,UAAC,OAAO,EAAE,CAAC,EAAK;AAChD,QAAI,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC,UAAA,IAAI;aAAI,IAAI,CAAC,KAAK,CAAC,IAAI,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;KAAA,CAAC,CAAA;AAC7D,QAAG,EAAE,CAAC,MAAM,GAAG,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,CAAA;AACjC,WAAO,OAAO,CAAA;GACf,EAAE,EAAE,CAAC,CAAA;;AAEN,SAAO,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,UAAA,GAAG,EAAI;AAC/B,WAAO,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAA;GAC1B,CAAC,CAAA;CACH,CAAA",
      "file": "/var/www/art/src/decorate.js",
      "sourcesContent": [
        "var React = require('react')\nvar cx = require('classnames')\n\nvar Markdown = require('./markdown')\n\nvar DepartmentDecorator = require('./decorate/department')\nvar GalleryDecorator = require('./decorate/gallery')\nvar HighlightsDecorator = require('./decorate/highlights')\nvar RecentDecorator = require('./decorate/recent')\nvar RightsDecorator = require('./decorate/rights')\n\nvar Decorate = React.createClass({\n  render() {\n    var {query, filters} = this.props.search\n    if(!query && !filters) return <span />\n    var decorations = DecorationFinder(query, filters, this.props)\n    var {showDecorators} = this.state\n\n    return decorations.length > 0 && <div\n      className={cx('decorator-wrap', {closed: !showDecorators})}\n      onClick={!showDecorators && this.toggleDecoration}\n    >\n      {showDecorators && decorations}\n      <i className=\"control material-icons\" onClick={this.toggleDecoration}>\n        {false && 'expand_'+(showDecorators ? 'less' : 'more')}\n        {showDecorators ? 'close' : 'info'}\n      </i>\n    </div>\n  },\n\n  getInitialState() {\n    return {\n      showDecorators: true,\n    }\n  },\n\n  toggleDecoration() {\n    this.setState({showDecorators: !this.state.showDecorators})\n  },\n\n  componentWillReceiveProps(nextProps) {\n    // unhide decorators when query changes\n    var {query, filters} = this.props.search\n    var nextQuery = nextProps.search.query\n    var nextFilters = nextProps.search.filters\n\n    if(query !== nextQuery || filters !== nextFilters) this.setState({showDecorators: true})\n  },\n})\n\nmodule.exports = Decorate\n\nvar DecorationFinder = (search, filters, props) => {\n  let {params} = props\n  let terms = search.match(/\\w+.+|\"(?:\\\\\"|[^\"])+\"/g) || search.split(' ')\n  if(filters) terms = terms.concat(filters.split('\" ').map(f => f.trim()))\n\n  var Decor = {\n    \"department:\": (term) => <DepartmentDecorator department={term} params={params} key={term} />,\n    \"g[0-9]{3}a?\": (gallery) => <GalleryDecorator gallery={gallery[0]} {...props} key={gallery} />,\n    \"Not on View\": (gallery) => <GalleryDecorator notOnView={true} key={gallery} />,\n    \"highlight:\": () => <HighlightsDecorator key=\"highlight\" />,\n    \"recent:\": () => <RecentDecorator key=\"recent\" />,\n    \"rights:\": (term) => <RightsDecorator term={term} params={params} key={term} />,\n  }\n\n  let m = Object.keys(Decor).reduce((matches, d) => {\n    var _m = terms.filter(term => term.match(new RegExp(d, 'i')))\n    if(_m.length > 0) matches[d] = _m\n    return matches\n  }, {})\n\n  return Object.keys(m).map(key => {\n    return Decor[key](m[key])\n  })\n}\n"
      ]
    },
    "mtime": 1487953287530
  },
  "{\"filename\":\"/var/www/art/src/decorate/department.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "sliced-to-array"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar React = require('react');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar Markdown = require('../markdown');\nvar findDepartment = require('../department-slug');\n\nvar DepartmentDecorator = React.createClass({\n  displayName: 'DepartmentDecorator',\n\n  getInitialState: function getInitialState() {\n    var _getNameAndSelector = this.getNameAndSelector(this.props.department);\n\n    var _getNameAndSelector2 = _slicedToArray(_getNameAndSelector, 3);\n\n    var deptName = _getNameAndSelector2[0];\n    var selector = _getNameAndSelector2[1];\n    var slug = _getNameAndSelector2[2];\n    var departmentInfo = this.props.departmentInfo;\n\n    var info = departmentInfo && departmentInfo.departments[selector];\n\n    return {\n      deptName: deptName,\n      selector: selector,\n      slug: slug,\n      info: info,\n      blurb: info && info.content || DepartmentContent[selector] || 'Sorry, there\\'s no \"' + deptName + '\" department.',\n      expanded: this.props.expanded || !!this.props.params.dept || false\n    };\n  },\n\n  render: function render() {\n    var department = this.props.department;\n    var _state = this.state;\n    var deptName = _state.deptName;\n    var selector = _state.selector;\n    var blurb = _state.blurb;\n    var expanded = _state.expanded;\n\n    var _blurb$split = blurb.split('<hr />');\n\n    var _blurb$split2 = _slicedToArray(_blurb$split, 2);\n\n    var blurbA = _blurb$split2[0];\n    var blurbB = _blurb$split2[1];\n\n    var fullInfo = expanded && this.getFullInfo(blurbB);\n\n    return React.createElement(\n      'div',\n      { className: 'departmentBlurb mdl-grid decorator d-department' },\n      React.createElement(\n        'h2',\n        null,\n        React.createElement(\n          Link,\n          { to: 'department', params: { dept: this.state.slug, terms: department } },\n          React.createElement(\n            'span',\n            { className: 'd-visit' },\n            'Visit '\n          ),\n          this.state.deptName\n        )\n      ),\n      React.createElement(\n        'div',\n        { className: 'mdl-cell mdl-cell--6-col departmentContent' },\n        expanded ? React.createElement(\n          Markdown,\n          { alreadyRendered: true },\n          blurbA\n        ) : this.shortBlurb(),\n        expanded && this.affinityBlurb()\n      ),\n      expanded && fullInfo\n    );\n  },\n\n  getNameAndSelector: function getNameAndSelector(term) {\n    var decodedTerm = decodeURIComponent(term);\n    var deptName = findDepartment(decodedTerm) ? decodedTerm : decodedTerm.match(/department:\"?([^\"]*)\"?/)[1];\n    return findDepartment(deptName);\n  },\n\n  shortBlurb: function shortBlurb() {\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        Markdown,\n        null,\n        this.state.blurb.split('\\n')[0]\n      )\n    );\n  },\n\n  getFullInfo: function getFullInfo(info) {\n    var deptName = this.state.deptName;\n\n    return React.createElement(\n      'div',\n      { className: 'departmentResources mdl-cell mdl-cell--6-col' },\n      React.createElement(\n        'div',\n        null,\n        this.getCurators()\n      ),\n      React.createElement(\n        Markdown,\n        { alreadyRendered: true },\n        info\n      )\n    );\n  },\n\n  getCurators: function getCurators() {\n    var _this = this;\n\n    var curators = this.state.info.curators.map(function (name) {\n      return _this.props.departmentInfo.curators[name];\n    }).filter(function (exists) {\n      return !!exists;\n    }).filter(function (_ref) {\n      var emeritus = _ref.emeritus;\n      return !emeritus;\n    });\n\n    return curators.length > 0 && React.createElement(\n      'div',\n      { id: 'curators' },\n      React.createElement(\n        'h3',\n        null,\n        'Curators'\n      ),\n      curators.map(function (curator) {\n        curator.photo = 'https://collections.artsmia.org/_info/curator-portraits/' + curator.slug + '.jpg';\n\n        return React.createElement(\n          'div',\n          { className: 'curatorBio', key: curator.slug },\n          React.createElement(\n            Link,\n            { to: 'curator', params: { slug: curator.slug } },\n            React.createElement(\n              'div',\n              { className: 'curatorPic' },\n              React.createElement('img', { src: curator.photo, alt: 'portrait of ' + curator.name })\n            ),\n            React.createElement(\n              'div',\n              { className: 'curator-intro' },\n              React.createElement(\n                'h4',\n                null,\n                curator.name\n              ),\n              React.createElement(\n                'h5',\n                null,\n                React.createElement(\n                  Markdown,\n                  null,\n                  curator.title\n                )\n              )\n            )\n          )\n        );\n      })\n    );\n  },\n\n  getAffinity: function getAffinity() {\n    var _this2 = this;\n\n    var affinities = this.props.departmentInfo.affinityGroups.filter(function (ag) {\n      return ag.departments && ag.departments.indexOf(findDepartment(_this2.props.department)[1]) > -1;\n    });\n\n    return affinities.map(function (a) {\n      var image = React.createElement('img', { src: a.featuredArt ? 'http://api.artsMia.org/images/' + a.featuredArt + '/400/medium.jpg' : a.image });\n      image = a.featuredArt ? React.createElement(\n        Link,\n        { to: 'artwork', params: { id: a.featuredArt } },\n        image\n      ) : image;\n\n      return React.createElement(\n        'div',\n        { className: 'affinity', key: a.title },\n        React.createElement(\n          'h3',\n          null,\n          a.title\n        ),\n        React.createElement(\n          'div',\n          { className: 'affinityImage' },\n          image\n        ),\n        React.createElement(\n          'div',\n          { className: 'affinity-intro' },\n          React.createElement(\n            Markdown,\n            { alreadyRendered: true },\n            a.content\n          ),\n          React.createElement(\n            'p',\n            null,\n            'Mia’s Affinity Groups are a great way for museum members to connect more closely with special areas of art interest, allowing you to delve deeper into the curatorial area of your choice.'\n          ),\n          React.createElement(\n            'a',\n            { href: 'http://new.artsmia.org/join-and-invest/affinity-groups/', className: 'button' },\n            'Learn More'\n          )\n        )\n      );\n    });\n  },\n\n  affinityBlurb: function affinityBlurb() {\n    return React.createElement(\n      'div',\n      { className: 'affinity' },\n      React.createElement(\n        'p',\n        null,\n        'Mia’s Affinity Groups are a great way for museum members to connect more closely with special areas of art interest, allowing you to delve deeper into the curatorial area of your choice.'\n      ),\n      React.createElement(\n        'a',\n        { href: 'http://new.artsmia.org/join-and-invest/affinity-groups/', className: 'button' },\n        'Learn More'\n      )\n    );\n  }\n});\n\nvar DepartmentContent = {\n  africa: 'The Arts of Africa and the Americas Department is dedicated to the immense creativity of Native peoples across the world, from prehistory to the present. The collection has grown significantly since the department was founded more than thirty years ago, and now numbers more than 3,000 objects, including masterworks of sculpture, ceramics, metalsmithing, painting, basketry, and bead-, shell-, and quillwork, reflecting the diversity of these regions and cultures.\\r\\n\\r\\nHighlights of African art at the museum include a ceramic portrait head from the ancient civilization of Ife, a thousand-year-old wooden horse-and-rider from Djenne, and a cast bronze leopard and a carved ivory tusk, both from the eighteenth-century Kingdom of Benin. Other important pieces are a rare Luba mask, one of only two known in the world, a dramatic dance mask often known as a “firespitter” from Cote d’Ivoire, and a palace door created by the famed Yoruba artist Areogun of Osi.\\r\\n\\r\\nThe Native American galleries are equally rich in examples of the highest quality art, such as our unparalleled three-thousand-year-old Olmec jade mask, an exceptional nineteenth-century Sun Mask from the Northwest Coast, and a monumental pipe in the form of a bound prisoner, made in southeastern United States around 1200. Additional masterworks include the finely worked gold earspools from the ancient Andes, and a beaded man’s shoulder pouch made in Minnesota in the early 1800s.\\r\\n\\r\\nOur Oceanic collection contains world-class pieces, such as the Maori Poutokomanawa (Post Figure) created in the 1840s, the three fabulous Malagan figures, an early Papuan Gope Board, and the Bis Pole, a centerpiece of the gallery.',\n  contemporary: 'In 2008 the Mia launched an initiative to focus on the art of our times. Through its new Department of Contemporary Art, the museum brings a fresh dynamism to its galleries by collecting and exhibiting works by living artists. This initiative emphasizes the relationships among historical art, diverse cultures, and contemporary art-making.\\r\\n\\r\\nContemporary art of the region continues to be represented by the Minnesota Artists Exhibition Program (MAEP) as well as by selected projects with local artists, architects, designers, and other creative thinkers. In collaboration with other Mia curatorial departments, the Department of Contemporary Art engages both local and global artists to create public and site-specific work at the Mia.',\n  dats: 'Originally established to focus on furniture, metalwork, ceramics, and glass, the department today encompasses more than 18,000 works in all mediums from America and Europe, from the Middle Ages to the present.\\r\\n\\r\\nMany collectors and donors have contributed to the porcelain and pottery collection, which includes eighteenth-century French faience from Mrs. John P. Rutherfurd, seventeenth- and eighteenth-century English delft from Mr. and Mrs. George R. Steiner, and Chinese Export porcelain from Leo and Doris Hodroff. Domestic interiors and furnishings spanning four centuries are presented in the Mia’s nine period rooms, with a 1730 grand salon from the Hôtel de la Bouëxière in Paris, which has been restored with funds from the Groves Foundation.\\r\\n\\r\\nThe department’s textile collection has gained an international reputation for its spectacular individual pieces as well as its impressive holdings of European tapestries, early Italian laces, passementerie, Kashmir shawls, and Turkish embroideries. Textiles from the Jack Lenor Larsen company archive and the Norwest Modernism Collection have broadened the scope of the collection’s twentieth-century holdings, complementing its already strong collection of contemporary fiber art.\\r\\n\\r\\nA particular strength of the Mia’s decorative arts collection includes English, American and Continental silver, which is showcased in the Mary Agnes and Al McQuinn Gallery (350). Mia trustee and silver collector James Ford Bell established the foundation of the museum’s collection with numerous gifts, including a monumental eighteenth-century wine cistern by English Huguenot silversmith Paul de Lamerie and the most complete neoclassical tea service known by Paul Revere, Jr. The McQuinn Fund continues to support purchases of great English and Continental objects such as the Richmond racing cup designed by Robert Adam and an elaborate covered cup made in Strasbourg by Johann Friedrich Baer.\\r\\n\\r\\nSculpture from the Middle Ages to 1960 includes important works by Amedeo Modigliani, Sir Jacob Epstein, John Bernard Flannagan, Constantin Brancusi, Henri Matisse, and Henry Moore. Recent acquisitions in this area include Raymond Duchamp-Villon’s <em>Head of Baudelaire</em> (1911), and Alberto Giacometti’s <em>Diego</em> (196).\\r\\n\\r\\nThe Harold and Mickey Smith Gallery (362) features one of the most comprehensive permanent collections of Jewish ritual art found in an American art museum. Rotations include prints, photographs, and textiles. Purchases of modern and contemporary Judaica are made possible by the Eloise and Elliot Kaplan Fund for Judaica.\\r\\n\\r\\nThe department is strong in modernist design, including the Prairie School-style <em>Purcell-Cutts House</em> (1913), designed by William Gray Purcell and George Grant Elmslie for the Purcell family. In addition, the Mia houses one of the best collections of Prairie School material in the country, presented in the Bob Ulrich and Jill Dahlin Architecture and Design Gallery (355). The Norwest Modernism Collection is a major component of the department’s holdings, comprising nearly 500 objects dating from 1880 to 1940. In recent decades, the department has built up a significant collection of contemporary studio ceramics, glass, and wood. A current focus is design of the Scandinavian and Nordic countries. The Mia continues to showcase these collections at the Wells Fargo Center in downtown Minneapolis. On the Web, they are represented by the award-winning sites <a href=\"http://http//www.artsMia.org/unified-vision/\">Unified Vision: The Architecture and Design of the Prairie School</a> and <a href=\"http://www.artsMia.org/modernism/\">Modernism</a>.',\n  paintings: 'The Mia\\'s internationally acclaimed collection of paintings contains nearly 900 European and American works from the fourteenth century to the present. It offers a comprehensive survey of both celebrated schools and individual artists and is notable for its concentration of masterworks.\\r\\n\\r\\nOne of the museum’s earliest acquisitions was Gustave Courbet’s Deer in a Forest, which St. Paul railroad magnate James J. Hill donated in 1914. Hill’s collection of nineteenth-century French Romantic and Realist art was exceptional. Many of his most important pictures, including Eugène Delacroix’s The Fanatics of Tangier, were given or bequeathed to the Mia by his descendants.\\r\\n\\r\\nThe present paintings collection has been expanded in varied and often delightfully unpredictable ways by a succession of astute trustees, donors, directors, and curators. It includes Claude Lorrain’s Pastoral Landscape of 1638, Nicolas Poussin’s Death of Germanicus of 1627, and Rembrandt van Rijn’s Lucretia of 1666. In addition to many wonderful French nineteenth-century pictures, the museum has rich holdings of Italian Baroque, seventeenth-century Dutch, and Fauve, Cubist, and German Expressionist works. The American collection showcases a range of artistic accomplishments from Gilbert Stuart to Larry Rivers and contains exceptional paintings by John Singer Sargent and Georgia O’Keeffe.',\n  photography: 'Begun in 1973, the Mia’s collection of photographs spans the history of photography from the 1860s to the present. Representing more than 800 photographers and 11,500 works of art, the collection has outstanding examples of twentieth-century American photography, with particular depth in the genres of documentary photography, photojournalism, and pictorialism. Since 2008, the museum has focused on expanding its holdings of contemporary photography and new media from all countries. This initiative increases the scope and relevance of the photography collection and enhances its links to the Mia’s diverse, global holdings.\\r\\n\\r\\nThe Department of Photography &amp; New Media continues to thrive thanks to the active, generous support of loyal donors. The earliest acquisitions were funded by Kate Butler and Hall James Peterson. Their initiative inspired others, including Harry Drake, Martin Weinstein, and Fred and Ellen Wells. More recently, the creation of the Alfred and Ingrid Lenz Harrison Fund and the establishment of the Harrison Photography Galleries (364 &amp; 365) have given the department enormous momentum. These superb new galleries are devoted to presenting the permanent collection. In addition, Linda and Lawrence Perlman established the Perlman Gallery (262), which is dedicated to featuring contemporary photography and is located in the Mia’s Target Wing, hosting <a href=\"http://www2.artsMia.org/blogs/new-pictures\">New Pictures</a>, a semi-annual series highlighting emerging photographers from around the world. You, too, can contribute to and enjoy special access to exhibitions and events by joining the <a href=\"http://new.artsMia.org/join-and-invest/affinity-groups/\">Photography &amp; New Media Affinity Group</a>.\\r\\n\\r\\nOver the years, the Department of Photography &amp; New Media has been committed to using its collection for educational purposes, and the Mia now serves as a major resource for the five-state region. Numerous exhibitions drawn from the collection have traveled to other institutions, and students and teachers frequently visit the galleries and <a href=\"http://new.artsMia.org/visit/museum-facilities/study-rooms/\">Photography Study Room</a> to learn from the collection firsthand. Click on the photograph below to browse the collection and prepare for your next visit to the Mia.',\n  prints: 'The Department of Prints &amp; Drawings keeps up an active program of thematic exhibitions, but it is also the Mia’s hidden treasure chest. At any given time, only a fraction of the museum’s collection of nearly 40,000 prints and 3,000 drawings is on view in the galleries. Nearly all, however, are available to the public in the comfort of the <a href=\"http://new.artsMia.org/visit/study-rooms/\">Herschel V. Jones Print Study Room</a>. To prepare for your visit, please make an appointment by phone (612) 870-3105 or by e-mail (<a href=\"mailto:printstudy@artsMia.org\">printstudy@artsMia.org</a>).\\r\\n\\r\\nMany of the greatest European and American artists from the Renaissance to the present are represented, often in considerable depth and quality. Among the highlights are old master prints by Albrecht Dürer and Rembrandt van Rijn; Jacopo de’Barbari’s amazing bird’s-eye view of Venice; a rare presentation copy of Francisco de Goya’s <em>Los Caprichos</em>; a fabulous monotype by William Blake; extensive holdings in nineteenth-century French and British prints and drawings, featuring artists such as James McNeill Whistler, Edgar Degas, and Félix Buhot; and outstanding twentieth-century drawings by Lovis Corinth, Egon Schiele, Ernst Ludwig Kirchner, Erich Heckel, Piet Mondrian, Georges Rouault, Henri Matisse, Jasper Johns, Andy Warhol, Roy Lichtenstein, Jim Dine, Ed Ruscha, Nicola Hicks, and many more. The department is building its collection of twenty-first-century prints and drawings, which is reaching ever further beyond America and Europe to other parts of the world. P&amp;D has secured works by William Kentridge, Julie Mehretu, Mequitta Ahuja, Jaune Quick-to-See Smith, Chuck Close, Luis Jimenez, Cynthia Lin, Carlos Amorales, Diane Victor, and more.\\r\\n\\r\\nThere are also fascinating collections within the collection. The department has a large number of books designed and illustrated by artists, which is especially rich in works from France. Students of modern printmaking will want to explore the Vermillion Editions Limited Archival Collection, which contains examples of all the prints published by that Twin Cities press as well as preparatory drawings, proofs, and maquettes that led to the finished work. Botanical, zoological, fashion, and ornamental illustrations from the fifteenth through the twentieth centuries all figure in the mix, as does a wide array of works by Minnesota and regional artists.\\r\\n\\r\\nThe <a href=\"http://new.artsMia.org/join-and-invest/affinity-groups/\">Prints &amp; Drawings Affinity Group</a> provides a terrific opportunity to learn more about this vital field of art, to meet others with similar interests, and to help the Mia improve its ability to make art available to the public.',\n  cssaa: 'The Department of Chinese and South and Southeast Asian Art has benefited greatly from generous gifts from knowledgeable collectors. Augustus L. Searle, Alfred F. Pillsbury, Richard P. Gale, Louis W. Hill, Jr., and Ruth and Bruce Dayton have donated collections of international reputation. These include ancient Chinese bronzes, ancient and post-Song jade, Chinese monochrome ceramics, and classical Chinese furniture. In addition, curators have built exquisite collections of Qing dynasty silk textiles and Miao textiles.\\r\\n\\r\\nSome of the first works of art to enter the museum’s collection were from South (India, Bangladesh, Sri Lanka, Pakistan, Nepal, Bhutan, and Afghanistan) and Southeast Asia (Cambodia, Laos, Myanmar, Thailand, Malaysia, Vietnam, Singapore, Indonesia, Brunei and the Philippines), beginning in 1914 when Charles Freer donated several Thai Buddhist sculptures.  In 1929 Sarah Bell Pillsbury Gale gave the museum its first major Indian work of art, a 12th century bronze (ca. 1100) Dancing Shiva (Nataraja).  The highlight of the South Asian collection is a monumental stone Yogini sculpture from 10<span style=\"font-size: 11px;\">th </span>century south India. Today the South Asian collection numbers about 150 objects and the Southeast Asian collection numbers around 183.\\r\\n\\r\\nWithin the galleries there are two Chinese period rooms including an original reception hall from the late Ming dynasty and a ca. 1700 Suzchou-area library.',\n  jka: 'The collection of Japanese and Korean art includes over 7,000 works ranging from ancient to contemporary and is amongst the top five collections in the United States. The permanent display space for Japanese art is the largest in the Western world with 15 galleries and over 10,000 square feet (930 sqm). The collection itself includes Buddhist sculpture, woodblock prints, paintings, lacquer, works of bamboo, and ceramics, and it is particularly rich in works from the Edo period (1610–1868).\\r\\n\\r\\nTwo historic rooms, a formal audience hall (<i>shoin</i>) and a teahouse (<i>chashitsu</i>), allow highly visible installations within the permanent galleries and serve to heighten awareness of the relationship between art and architecture.</p><p>The Department of Japanese and Korean art has benefited greatly from generous gifts from knowledgeable collectors. Richard P. Gale, Louis W. Hill, Jr., Ruth and Bruce Dayton, and Ellen and Fred Wells have all donated specialized collections of international reputation. With the addition of over 1,500 works of art from the collections of Elizabeth and Willard “Bill” Clark and the Clark Center for Japanese Art in 2013 and half of the world-renowned Mary Griggs Burke collection, the Japanese and Korean art galleries are no doubt a destination for both art enthusiasts and scholars alike.</p><p>The department is dedicated to providing the public with a broad overview of Japanese and Korean art. By showcasing art both chronologically and by medium, the galleries show the history of not only the objects themselves, but also of a collected process of artistic creation. This can be seen, for example, by the scope of ceramics, ranging from early utilitarian to contemporary sculptures.</p><p>Of notable strength is the collection of <i>ukiyo-e</i> paintings and prints, popularly known as “pictures of the floating world”. The core of the collection was built by Richard P. Gale and Louis W. Hill, Jr., and the Gale bequest included some 57 paintings and 206 prints, many of which are rare and in admirable condition. A strong collection of <i>Ōtsu-e</i>, folk paintings produced in and around the town of Ōtsu during the Edo period, came from collectors Edson and Harriet Spencer who also donated their collection of tiger paintings.'\n};\n\nmodule.exports = DepartmentDecorator;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZGVjb3JhdGUvZGVwYXJ0bWVudC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBOztlQUNmLE9BQU8sQ0FBQyxjQUFjLENBQUM7O0lBQS9CLElBQUksWUFBSixJQUFJOztBQUVULElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQTtBQUNyQyxJQUFJLGNBQWMsR0FBRyxPQUFPLENBQUMsb0JBQW9CLENBQUMsQ0FBQTs7QUFFbEQsSUFBSSxtQkFBbUIsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDMUMsaUJBQWUsRUFBQSwyQkFBRzs4QkFDaUIsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDOzs7O1FBQTFFLFFBQVE7UUFBRSxRQUFRO1FBQUUsSUFBSTtRQUN4QixjQUFjLEdBQUksSUFBSSxDQUFDLEtBQUssQ0FBNUIsY0FBYzs7QUFDbkIsUUFBSSxJQUFJLEdBQUcsY0FBYyxJQUFJLGNBQWMsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUE7O0FBRWpFLFdBQU87QUFDTCxjQUFRLEVBQVIsUUFBUTtBQUNSLGNBQVEsRUFBUixRQUFRO0FBQ1IsVUFBSSxFQUFKLElBQUk7QUFDSixVQUFJLEVBQUUsSUFBSTtBQUNWLFdBQUssRUFBRSxJQUFJLElBQUksSUFBSSxDQUFDLE9BQU8sSUFBSSxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsNkJBQTBCLFFBQVEsa0JBQWU7QUFDM0csY0FBUSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLElBQUksS0FBSztLQUNuRSxDQUFBO0dBQ0Y7O0FBRUQsUUFBTSxFQUFBLGtCQUFHO1FBQ0YsVUFBVSxHQUFJLElBQUksQ0FBQyxLQUFLLENB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QVcsRUFBQyxBQUFDO1FBQUUsS0FBSztPQUFRLEdBQUcsS0FBSyxDQUFBOztBQUU5RixhQUFPOztVQUFLLFNBQVMsRUFBQyxVQUFVLEVBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxLQUFLLEFBQUM7UUFDNUM7OztVQUFLLENBQUMsQ0FBQyxLQUFLO1NBQU07UUFDbEI7O1lBQUssU0FBUyxFQUFDLGVBQWU7VUFBRSxLQUFLO1NBQU87UUFDNUM7O1lBQUssU0FBUyxFQUFDLGdCQUFnQjtVQUMvQjtBQUFDLG9CQUFRO2NBQUMsZUFBZSxFQUFFLElBQUksQUFBQztZQUFFLENBQUMsQ0FBQyxPQUFPO1dBQVk7VUFDckQ7Ozs7V0FBaU07VUFDak07O2NBQUcsSUFBSSxFQUFDLHlEQUF5RCxFQUFDLFNBQVMsRUFBQyxRQUFROztXQUFlO1NBQy9GO09BQ0YsQ0FBQTtLQUNQLENBQUMsQ0FBQTtHQUNIOztBQUVELGVBQWEsRUFBQSx5QkFBRztBQUNkLFdBQU87O1FBQUssU0FBUyxFQUFDLFVBQVU7TUFDOUI7Ozs7T0FBaU07TUFDak07O1VBQUcsSUFBSSxFQUFDLHlEQUF5RCxFQUFDLFNBQVMsRUFBQyxRQUFROztPQUFlO0tBQy9GLENBQUE7R0FDUDtDQUNGLENBQUMsQ0FBQTs7QUFFRixJQUFJLGlCQUFpQixHQUFHO0FBQ3RCLFFBQU0sa3FEQUFrcUQ7QUFDeHFELGNBQVksMHVCQUEwdUI7QUFDdHZCLE1BQUksNG1IQUFnbkg7QUFDcG5ILFdBQVMseTJDQUF3MkM7QUFDajNDLGFBQVcsd3lFQUE4eUU7QUFDenpFLFFBQU0saXNGQUF1c0Y7QUFDN3NGLE9BQUssNDdDQUE4N0M7QUFDbjhDLEtBQUcsbXZFQUFtdkU7Q0FDdnZFLENBQUE7O0FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRyxtQkFBbUIsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2RlY29yYXRlL2RlcGFydG1lbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIge0xpbmt9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcblxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi4vbWFya2Rvd24nKVxudmFyIGZpbmREZXBhcnRtZW50ID0gcmVxdWlyZSgnLi4vZGVwYXJ0bWVudC1zbHVnJylcblxudmFyIERlcGFydG1lbnREZWNvcmF0b3IgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICB2YXIgW2RlcHROYW1lLCBzZWxlY3Rvciwgc2x1Z10gPSB0aGlzLmdldE5hbWVBbmRTZWxlY3Rvcih0aGlzLnByb3BzLmRlcGFydG1lbnQpXG4gICAgdmFyIHtkZXBhcnRtZW50SW5mb30gPSB0aGlzLnByb3BzXG4gICAgdmFyIGluZm8gPSBkZXBhcnRtZW50SW5mbyAmJiBkZXBhcnRtZW50SW5mby5kZXBhcnRtZW50c1tzZWxlY3Rvcl1cblxuICAgIHJldHVybiB7XG4gICAgICBkZXB0TmFtZSxcbiAgICAgIHNlbGVjdG9yLFxuICAgICAgc2x1ZyxcbiAgICAgIGluZm86IGluZm8sXG4gICAgICBibHVyYjogaW5mbyAmJiBpbmZvLmNvbnRlbnQgfHwgRGVwYXJ0bWVudENvbnRlbnRbc2VsZWN0b3JdIHx8IGBTb3JyeSwgdGhlcmUncyBubyBcIiR7ZGVwdE5hbWV9XCIgZGVwYXJ0bWVudC5gLFxuICAgICAgZXhwYW5kZWQ6IHRoaXMucHJvcHMuZXhwYW5kZWQgfHwgISF0aGlzLnByb3BzLnBhcmFtcy5kZXB0IHx8IGZhbHNlLFxuICAgIH1cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHtkZXBhcnRtZW50fSA9IHRoaXMucHJvcHNcbiAgICB2YXIge2RlcHROYW1lLCBzZWxlY3RvciwgYmx1cmIsIGV4cGFuZGVkfSA9IHRoaXMuc3RhdGVcblxuICAgIHZhciBbYmx1cmJBLCBibHVyYkJdID0gYmx1cmIuc3BsaXQoJzxociAvPicpXG5cbiAgICB2YXIgZnVsbEluZm8gPSBleHBhbmRlZCAmJiB0aGlzLmdldEZ1bGxJbmZvKGJsdXJiQilcblxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImRlcGFydG1lbnRCbHVyYiBtZGwtZ3JpZCBkZWNvcmF0b3IgZC1kZXBhcnRtZW50XCI+XG4gICAgICA8aDI+PExpbmsgdG89J2RlcGFydG1lbnQnIHBhcmFtcz17e2RlcHQ6IHRoaXMuc3RhdGUuc2x1ZywgdGVybXM6IGRlcGFydG1lbnR9fT48c3BhbiBjbGFzc05hbWU9XCJkLXZpc2l0XCI+VmlzaXQgPC9zcGFuPnt0aGlzLnN0YXRlLmRlcHROYW1lfTwvTGluaz48L2gyPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZGwtY2VsbCBtZGwtY2VsbC0tNi1jb2wgZGVwYXJ0bWVudENvbnRlbnRcIj5cbiAgICAgICAge2V4cGFuZGVkID8gPE1hcmtkb3duIGFscmVhZHlSZW5kZXJlZD17dHJ1ZX0+e2JsdXJiQX08L01hcmtkb3duPiA6IHRoaXMuc2hvcnRCbHVyYigpfVxuICAgICAgICB7ZXhwYW5kZWQgJiYgdGhpcy5hZmZpbml0eUJsdXJiKCl9XG4gICAgICA8L2Rpdj5cbiAgICAgIHtleHBhbmRlZCAmJiBmdWxsSW5mb31cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBnZXROYW1lQW5kU2VsZWN0b3IodGVybSkge1xuICAgIHZhciBkZWNvZGVkVGVybSA9IGRlY29kZVVSSUNvbXBvbmVudCh0ZXJtKVxuICAgIHZhciBkZXB0TmFtZSA9IGZpbmREZXBhcnRtZW50KGRlY29kZWRUZXJtKSA/IGRlY29kZWRUZXJtIDogZGVjb2RlZFRlcm0ubWF0Y2goL2RlcGFydG1lbnQ6XCI/KFteXCJdKilcIj8vKVsxXVxuICAgIHJldHVybiBmaW5kRGVwYXJ0bWVudChkZXB0TmFtZSlcbiAgfSxcblxuICBzaG9ydEJsdXJiKCkge1xuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPE1hcmtkb3duPnt0aGlzLnN0YXRlLmJsdXJiLnNwbGl0KCdcXG4nKVswXX08L01hcmtkb3duPlxuICAgIDwvZGl2PlxuICB9LFxuXG4gIGdldEZ1bGxJbmZvKGluZm8pIHtcbiAgICB2YXIge2RlcHROYW1lfSA9IHRoaXMuc3RhdGVcblxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImRlcGFydG1lbnRSZXNvdXJjZXMgbWRsLWNlbGwgbWRsLWNlbGwtLTYtY29sXCI+XG4gICAgICA8ZGl2Pnt0aGlzLmdldEN1cmF0b3JzKCl9PC9kaXY+XG4gICAgICA8TWFya2Rvd24gYWxyZWFkeVJlbmRlcmVkPXt0cnVlfT57aW5mb308L01hcmtkb3duPlxuICAgIDwvZGl2PlxuICB9LFxuXG4gIGdldEN1cmF0b3JzKCkge1xuICAgIHZhciBjdXJhdG9ycyA9IHRoaXMuc3RhdGUuaW5mby5jdXJhdG9yc1xuICAgIC5tYXAobmFtZSA9PiB0aGlzLnByb3BzLmRlcGFydG1lbnRJbmZvLmN1cmF0b3JzW25hbWVdKVxuICAgIC5maWx0ZXIoZXhpc3RzID0+ICEhZXhpc3RzKVxuICAgIC5maWx0ZXIoKHtlbWVyaXR1c30pID0+ICFlbWVyaXR1cylcblxuICAgIHJldHVybiBjdXJhdG9ycy5sZW5ndGggPiAwICYmIDxkaXYgaWQ9XCJjdXJhdG9yc1wiPlxuICAgICAgPGgzPkN1cmF0b3JzPC9oMz5cbiAgICAgIHtjdXJhdG9ycy5tYXAoY3VyYXRvciA9PiB7XG4gICAgICAgIGN1cmF0b3IucGhvdG8gPSBgaHR0cHM6Ly9jb2xsZWN0aW9ucy5hcnRzbWlhLm9yZy9faW5mby9jdXJhdG9yLXBvcnRyYWl0cy8ke2N1cmF0b3Iuc2x1Z30uanBnYFxuXG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImN1cmF0b3JCaW9cIiBrZXk9e2N1cmF0b3Iuc2x1Z30+XG4gICAgICAgICAgPExpbmsgdG89XCJjdXJhdG9yXCIgcGFyYW1zPXt7c2x1ZzpjdXJhdG9yLnNsdWd9fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3VyYXRvclBpY1wiPlxuICAgICAgICAgICAgICA8aW1nIHNyYz17Y3VyYXRvci5waG90b30gYWx0PXtgcG9ydHJhaXQgb2YgJHtjdXJhdG9yLm5hbWV9YH0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdXJhdG9yLWludHJvXCI+XG4gICAgICAgICAgICA8aDQ+e2N1cmF0b3IubmFtZX08L2g0PlxuICAgICAgICAgICAgPGg1PjxNYXJrZG93bj57Y3VyYXRvci50aXRsZX08L01hcmtkb3duPjwvaDU+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L0xpbms+XG4gICAgICAgIDwvZGl2PlxuICAgICAgfSl9XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgZ2V0QWZmaW5pdHkoKSB7XG4gICAgdmFyIGFmZmluaXRpZXMgPSB0aGlzLnByb3BzLmRlcGFydG1lbnRJbmZvLmFmZmluaXR5R3JvdXBzXG4gICAgLmZpbHRlcihhZyA9PiBhZy5kZXBhcnRtZW50cyAmJiBhZy5kZXBhcnRtZW50cy5pbmRleE9mKGZpbmREZXBhcnRtZW50KHRoaXMucHJvcHMuZGVwYXJ0bWVudClbMV0pID4gLTEpXG5cbiAgICByZXR1cm4gYWZmaW5pdGllcy5tYXAoYSA9PiB7XG4gICAgICB2YXIgaW1hZ2UgPSA8aW1nIHNyYz17YS5mZWF0dXJlZEFydCA/IGBodHRwOi8vYXBpLmFydHNNaWEub3JnL2ltYWdlcy8ke2EuZmVhdHVyZWRBcnR9LzQwMC9tZWRpdW0uanBnYCA6IGEuaW1hZ2V9IC8+XG4gICAgICBpbWFnZSA9IGEuZmVhdHVyZWRBcnQgPyA8TGluayB0bz1cImFydHdvcmtcIiBwYXJhbXM9e3tpZDogYS5mZWF0dXJlZEFydH19PntpbWFnZX08L0xpbms+IDogaW1hZ2VcblxuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiYWZmaW5pdHlcIiBrZXk9e2EudGl0bGV9PlxuICAgICAgICA8aDM+e2EudGl0bGV9PC9oMz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZmZpbml0eUltYWdlXCI+e2ltYWdlfTwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFmZmluaXR5LWludHJvXCI+XG4gICAgICAgIDxNYXJrZG93biBhbHJlYWR5UmVuZGVyZWQ9e3RydWV9PnthLmNvbnRlbnR9PC9NYXJrZG93bj5cbiAgICAgICAgICA8cD5NaWHigJlzIEFmZmluaXR5IEdyb3VwcyBhcmUgYSBncmVhdCB3YXkgZm9yIG11c2V1bSBtZW1iZXJzIHRvIGNvbm5lY3QgbW9yZSBjbG9zZWx5IHdpdGggc3BlY2lhbCBhcmVhcyBvZiBhcnQgaW50ZXJlc3QsIGFsbG93aW5nIHlvdSB0byBkZWx2ZSBkZWVwZXIgaW50byB0aGUgY3VyYXRvcmlhbCBhcmVhIG9mIHlvdXIgY2hvaWNlLjwvcD5cbiAgICAgICAgICA8YSBocmVmPVwiaHR0cDovL25ldy5hcnRzbWlhLm9yZy9qb2luLWFuZC1pbnZlc3QvYWZmaW5pdHktZ3JvdXBzL1wiIGNsYXNzTmFtZT1cImJ1dHRvblwiPkxlYXJuIE1vcmU8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgfSlcbiAgfSxcblxuICBhZmZpbml0eUJsdXJiKCkge1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImFmZmluaXR5XCI+XG4gICAgICA8cD5NaWHigJlzIEFmZmluaXR5IEdyb3VwcyBhcmUgYSBncmVhdCB3YXkgZm9yIG11c2V1bSBtZW1iZXJzIHRvIGNvbm5lY3QgbW9yZSBjbG9zZWx5IHdpdGggc3BlY2lhbCBhcmVhcyBvZiBhcnQgaW50ZXJlc3QsIGFsbG93aW5nIHlvdSB0byBkZWx2ZSBkZWVwZXIgaW50byB0aGUgY3VyYXRvcmlhbCBhcmVhIG9mIHlvdXIgY2hvaWNlLjwvcD5cbiAgICAgIDxhIGhyZWY9XCJodHRwOi8vbmV3LmFydHNtaWEub3JnL2pvaW4tYW5kLWludmVzdC9hZmZpbml0eS1ncm91cHMvXCIgY2xhc3NOYW1lPVwiYnV0dG9uXCI+TGVhcm4gTW9yZTwvYT5cbiAgICA8L2Rpdj5cbiAgfSxcbn0pXG5cbnZhciBEZXBhcnRtZW50Q29udGVudCA9IHtcbiAgYWZyaWNhOiBgVGhlIEFydHMgb2YgQWZyaWNhIGFuZCB0aGUgQW1lcmljYXMgRGVwYXJ0bWVudCBpcyBkZWRpY2F0ZWQgdG8gdGhlIGltbWVuc2UgY3JlYXRpdml0eSBvZiBOYXRpdmUgcGVvcGxlcyBhY3Jvc3MgdGhlIHdvcmxkLCBmcm9tIHByZWhpc3RvcnkgdG8gdGhlIHByZXNlbnQuIFRoZSBjb2xsZWN0aW9uIGhhcyBncm93biBzaWduaWZpY2FudGx5IHNpbmNlIHRoZSBkZXBhcnRtZW50IHdhcyBmb3VuZGVkIG1vcmUgdGhhbiB0aGlydHkgeWVhcnMgYWdvLCBhbmQgbm93IG51bWJlcnMgbW9yZSB0aGFuIDMsMDAwIG9iamVjdHMsIGluY2x1ZGluZyBtYXN0ZXJ3b3JrcyBvZiBzY3VscHR1cmUsIGNlcmFtaWNzLCBtZXRhbHNtaXRoaW5nLCBwYWludGluZywgYmFza2V0cnksIGFuZCBiZWFkLSwgc2hlbGwtLCBhbmQgcXVpbGx3b3JrLCByZWZsZWN0aW5nIHRoZSBkaXZlcnNpdHkgb2YgdGhlc2UgcmVnaW9ucyBhbmQgY3VsdHVyZXMuXFxyXFxuXFxyXFxuSGlnaGxpZ2h0cyBvZiBBZnJpY2FuIGFydCBhdCB0aGUgbXVzZXVtIGluY2x1ZGUgYSBjZXJhbWljIHBvcnRyYWl0IGhlYWQgZnJvbSB0aGUgYW5jaWVudCBjaXZpbGl6YXRpb24gb2YgSWZlLCBhIHRob3VzYW5kLXllYXItb2xkIHdvb2RlbiBob3JzZS1hbmQtcmlkZXIgZnJvbSBEamVubmUsIGFuZCBhIGNhc3QgYnJvbnplIGxlb3BhcmQgYW5kIGEgY2FydmVkIGl2b3J5IHR1c2ssIGJvdGggZnJvbSB0aGUgZWlnaHRlZW50aC1jZW50dXJ5IEtpbmdkb20gb2YgQmVuaW4uIE90aGVyIGltcG9ydGFudCBwaWVjZXMgYXJlIGEgcmFyZSBMdWJhIG1hc2ssIG9uZSBvZiBvbmx5IHR3byBrbm93biBpbiB0aGUgd29ybGQsIGEgZHJhbWF0aWMgZGFuY2UgbWFzayBvZnRlbiBrbm93biBhcyBhIOKAnGZpcmVzcGl0dGVy4oCdIGZyb20gQ290ZSBk4oCZSXZvaXJlLCBhbmQgYSBwYWxhY2UgZG9vciBjcmVhdGVkIGJ5IHRoZSBmYW1lZCBZb3J1YmEgYXJ0aXN0IEFyZW9ndW4gb2YgT3NpLlxcclxcblxcclxcblRoZSBOYXRpdmUgQW1lcmljYW4gZ2FsbGVyaWVzIGFyZSBlcXVhbGx5IHJpY2ggaW4gZXhhbXBsZXMgb2YgdGhlIGhpZ2hlc3QgcXVhbGl0eSBhcnQsIHN1Y2ggYXMgb3VyIHVucGFyYWxsZWxlZCB0aHJlZS10aG91c2FuZC15ZWFyLW9sZCBPbG1lYyBqYWRlIG1hc2ssIGFuIGV4Y2VwdGlvbmFsIG5pbmV0ZWVudGgtY2VudHVyeSBTdW4gTWFzayBmcm9tIHRoZSBOb3J0aHdlc3QgQ29hc3QsIGFuZCBhIG1vbnVtZW50YWwgcGlwZSBpbiB0aGUgZm9ybSBvZiBhIGJvdW5kIHByaXNvbmVyLCBtYWRlIGluIHNvdXRoZWFzdGVybiBVbml0ZWQgU3RhdGVzIGFyb3VuZCAxMjAwLiBBZGRpdGlvbmFsIG1hc3RlcndvcmtzIGluY2x1ZGUgdGhlIGZpbmVseSB3b3JrZWQgZ29sZCBlYXJzcG9vbHMgZnJvbSB0aGUgYW5jaWVudCBBbmRlcywgYW5kIGEgYmVhZGVkIG1hbuKAmXMgc2hvdWxkZXIgcG91Y2ggbWFkZSBpbiBNaW5uZXNvdGEgaW4gdGhlIGVhcmx5IDE4MDBzLlxcclxcblxcclxcbk91ciBPY2VhbmljIGNvbGxlY3Rpb24gY29udGFpbnMgd29ybGQtY2xhc3MgcGllY2VzLCBzdWNoIGFzIHRoZSBNYW9yaSBQb3V0b2tvbWFuYXdhIChQb3N0IEZpZ3VyZSkgY3JlYXRlZCBpbiB0aGUgMTg0MHMsIHRoZSB0aHJlZSBmYWJ1bG91cyBNYWxhZ2FuIGZpZ3VyZXMsIGFuIGVhcmx5IFBhcHVhbiBHb3BlIEJvYXJkLCBhbmQgdGhlIEJpcyBQb2xlLCBhIGNlbnRlcnBpZWNlIG9mIHRoZSBnYWxsZXJ5LmAsXG4gIGNvbnRlbXBvcmFyeTogYEluIDIwMDggdGhlIE1pYSBsYXVuY2hlZCBhbiBpbml0aWF0aXZlIHRvIGZvY3VzIG9uIHRoZSBhcnQgb2Ygb3VyIHRpbWVzLiBUaHJvdWdoIGl0cyBuZXcgRGVwYXJ0bWVudCBvZiBDb250ZW1wb3JhcnkgQXJ0LCB0aGUgbXVzZXVtIGJyaW5ncyBhIGZyZXNoIGR5bmFtaXNtIHRvIGl0cyBnYWxsZXJpZXMgYnkgY29sbGVjdGluZyBhbmQgZXhoaWJpdGluZyB3b3JrcyBieSBsaXZpbmcgYXJ0aXN0cy4gVGhpcyBpbml0aWF0aXZlIGVtcGhhc2l6ZXMgdGhlIHJlbGF0aW9uc2hpcHMgYW1vbmcgaGlzdG9yaWNhbCBhcnQsIGRpdmVyc2UgY3VsdHVyZXMsIGFuZCBjb250ZW1wb3JhcnkgYXJ0LW1ha2luZy5cXHJcXG5cXHJcXG5Db250ZW1wb3JhcnkgYXJ0IG9mIHRoZSByZWdpb24gY29udGludWVzIHRvIGJlIHJlcHJlc2VudGVkIGJ5IHRoZSBNaW5uZXNvdGEgQXJ0aXN0cyBFeGhpYml0aW9uIFByb2dyYW0gKE1BRVApIGFzIHdlbGwgYXMgYnkgc2VsZWN0ZWQgcHJvamVjdHMgd2l0aCBsb2NhbCBhcnRpc3RzLCBhcmNoaXRlY3RzLCBkZXNpZ25lcnMsIGFuZCBvdGhlciBjcmVhdGl2ZSB0aGlua2Vycy4gSW4gY29sbGFib3JhdGlvbiB3aXRoIG90aGVyIE1pYSBjdXJhdG9yaWFsIGRlcGFydG1lbnRzLCB0aGUgRGVwYXJ0bWVudCBvZiBDb250ZW1wb3JhcnkgQXJ0IGVuZ2FnZXMgYm90aCBsb2NhbCBhbmQgZ2xvYmFsIGFydGlzdHMgdG8gY3JlYXRlIHB1YmxpYyBhbmQgc2l0ZS1zcGVjaWZpYyB3b3JrIGF0IHRoZSBNaWEuYCxcbiAgZGF0czogYE9yaWdpbmFsbHkgZXN0YWJsaXNoZWQgdG8gZm9jdXMgb24gZnVybml0dXJlLCBtZXRhbHdvcmssIGNlcmFtaWNzLCBhbmQgZ2xhc3MsIHRoZSBkZXBhcnRtZW50IHRvZGF5IGVuY29tcGFzc2VzIG1vcmUgdGhhbiAxOCwwMDAgd29ya3MgaW4gYWxsIG1lZGl1bXMgZnJvbSBBbWVyaWNhIGFuZCBFdXJvcGUsIGZyb20gdGhlIE1pZGRsZSBBZ2VzIHRvIHRoZSBwcmVzZW50Llxcclxcblxcclxcbk1hbnkgY29sbGVjdG9ycyBhbmQgZG9ub3JzIGhhdmUgY29udHJpYnV0ZWQgdG8gdGhlIHBvcmNlbGFpbiBhbmQgcG90dGVyeSBjb2xsZWN0aW9uLCB3aGljaCBpbmNsdWRlcyBlaWdodGVlbnRoLWNlbnR1cnkgRnJlbmNoIGZhaWVuY2UgZnJvbSBNcnMuIEpvaG4gUC4gUnV0aGVyZnVyZCwgc2V2ZW50ZWVudGgtIGFuZCBlaWdodGVlbnRoLWNlbnR1cnkgRW5nbGlzaCBkZWxmdCBmcm9tIE1yLiBhbmQgTXJzLiBHZW9yZ2UgUi4gU3RlaW5lciwgYW5kIENoaW5lc2UgRXhwb3J0IHBvcmNlbGFpbiBmcm9tIExlbyBhbmQgRG9yaXMgSG9kcm9mZi4gRG9tZXN0aWMgaW50ZXJpb3JzIGFuZCBmdXJuaXNoaW5ncyBzcGFubmluZyBmb3VyIGNlbnR1cmllcyBhcmUgcHJlc2VudGVkIGluIHRoZSBNaWHigJlzIG5pbmUgcGVyaW9kIHJvb21zLCB3aXRoIGEgMTczMCBncmFuZCBzYWxvbiBmcm9tIHRoZSBIw7R0ZWwgZGUgbGEgQm91w6t4acOocmUgaW4gUGFyaXMsIHdoaWNoIGhhcyBiZWVuIHJlc3RvcmVkIHdpdGggZnVuZHMgZnJvbSB0aGUgR3JvdmVzIEZvdW5kYXRpb24uXFxyXFxuXFxyXFxuVGhlIGRlcGFydG1lbnTigJlzIHRleHRpbGUgY29sbGVjdGlvbiBoYXMgZ2FpbmVkIGFuIGludGVybmF0aW9uYWwgcmVwdXRhdGlvbiBmb3IgaXRzIHNwZWN0YWN1bGFyIGluZGl2aWR1YWwgcGllY2VzIGFzIHdlbGwgYXMgaXRzIGltcHJlc3NpdmUgaG9sZGluZ3Mgb2YgRXVyb3BlYW4gdGFwZXN0cmllcywgZWFybHkgSXRhbGlhbiBsYWNlcywgcGFzc2VtZW50ZXJpZSwgS2FzaG1pciBzaGF3bHMsIGFuZCBUdXJraXNoIGVtYnJvaWRlcmllcy4gVGV4dGlsZXMgZnJvbSB0aGUgSmFjayBMZW5vciBMYXJzZW4gY29tcGFueSBhcmNoaXZlIGFuZCB0aGUgTm9yd2VzdCBNb2Rlcm5pc20gQ29sbGVjdGlvbiBoYXZlIGJyb2FkZW5lZCB0aGUgc2NvcGUgb2YgdGhlIGNvbGxlY3Rpb27igJlzIHR3ZW50aWV0aC1jZW50dXJ5IGhvbGRpbmdzLCBjb21wbGVtZW50aW5nIGl0cyBhbHJlYWR5IHN0cm9uZyBjb2xsZWN0aW9uIG9mIGNvbnRlbXBvcmFyeSBmaWJlciBhcnQuXFxyXFxuXFxyXFxuQSBwYXJ0aWN1bGFyIHN0cmVuZ3RoIG9mIHRoZSBNaWHigJlzIGRlY29yYXRpdmUgYXJ0cyBjb2xsZWN0aW9uIGluY2x1ZGVzIEVuZ2xpc2gsIEFtZXJpY2FuIGFuZCBDb250aW5lbnRhbCBzaWx2ZXIsIHdoaWNoIGlzIHNob3djYXNlZCBpbiB0aGUgTWFyeSBBZ25lcyBhbmQgQWwgTWNRdWlubiBHYWxsZXJ5ICgzNTApLiBNaWEgdHJ1c3RlZSBhbmQgc2lsdmVyIGNvbGxlY3RvciBKYW1lcyBGb3JkIEJlbGwgZXN0YWJsaXNoZWQgdGhlIGZvdW5kYXRpb24gb2YgdGhlIG11c2V1beKAmXMgY29sbGVjdGlvbiB3aXRoIG51bWVyb3VzIGdpZnRzLCBpbmNsdWRpbmcgYSBtb251bWVudGFsIGVpZ2h0ZWVudGgtY2VudHVyeSB3aW5lIGNpc3Rlcm4gYnkgRW5nbGlzaCBIdWd1ZW5vdCBzaWx2ZXJzbWl0aCBQYXVsIGRlIExhbWVyaWUgYW5kIHRoZSBtb3N0IGNvbXBsZXRlIG5lb2NsYXNzaWNhbCB0ZWEgc2VydmljZSBrbm93biBieSBQYXVsIFJldmVyZSwgSnIuIFRoZSBNY1F1aW5uIEZ1bmQgY29udGludWVzIHRvIHN1cHBvcnQgcHVyY2hhc2VzIG9mIGdyZWF0IEVuZ2xpc2ggYW5kIENvbnRpbmVudGFsIG9iamVjdHMgc3VjaCBhcyB0aGUgUmljaG1vbmQgcmFjaW5nIGN1cCBkZXNpZ25lZCBieSBSb2JlcnQgQWRhbSBhbmQgYW4gZWxhYm9yYXRlIGNvdmVyZWQgY3VwIG1hZGUgaW4gU3RyYXNib3VyZyBieSBKb2hhbm4gRnJpZWRyaWNoIEJhZXIuXFxyXFxuXFxyXFxuU2N1bHB0dXJlIGZyb20gdGhlIE1pZGRsZSBBZ2VzIHRvIDE5NjAgaW5jbHVkZXMgaW1wb3J0YW50IHdvcmtzIGJ5IEFtZWRlbyBNb2RpZ2xpYW5pLCBTaXIgSmFjb2IgRXBzdGVpbiwgSm9obiBCZXJuYXJkIEZsYW5uYWdhbiwgQ29uc3RhbnRpbiBCcmFuY3VzaSwgSGVucmkgTWF0aXNzZSwgYW5kIEhlbnJ5IE1vb3JlLiBSZWNlbnQgYWNxdWlzaXRpb25zIGluIHRoaXMgYXJlYSBpbmNsdWRlIFJheW1vbmQgRHVjaGFtcC1WaWxsb27igJlzwqA8ZW0+SGVhZCBvZiBCYXVkZWxhaXJlPC9lbT7CoCgxOTExKSwgYW5kIEFsYmVydG8gR2lhY29tZXR0aeKAmXPCoDxlbT5EaWVnbzwvZW0+wqAoMTk2KS5cXHJcXG5cXHJcXG5UaGUgSGFyb2xkIGFuZCBNaWNrZXkgU21pdGggR2FsbGVyeSAoMzYyKSBmZWF0dXJlcyBvbmUgb2YgdGhlIG1vc3QgY29tcHJlaGVuc2l2ZSBwZXJtYW5lbnQgY29sbGVjdGlvbnMgb2YgSmV3aXNoIHJpdHVhbCBhcnQgZm91bmQgaW4gYW4gQW1lcmljYW4gYXJ0IG11c2V1bS4gUm90YXRpb25zIGluY2x1ZGUgcHJpbnRzLCBwaG90b2dyYXBocywgYW5kIHRleHRpbGVzLiBQdXJjaGFzZXMgb2YgbW9kZXJuIGFuZCBjb250ZW1wb3JhcnkgSnVkYWljYSBhcmUgbWFkZSBwb3NzaWJsZSBieSB0aGUgRWxvaXNlIGFuZCBFbGxpb3QgS2FwbGFuIEZ1bmQgZm9yIEp1ZGFpY2EuXFxyXFxuXFxyXFxuVGhlIGRlcGFydG1lbnQgaXMgc3Ryb25nIGluIG1vZGVybmlzdCBkZXNpZ24sIGluY2x1ZGluZyB0aGUgUHJhaXJpZSBTY2hvb2wtc3R5bGXCoDxlbT5QdXJjZWxsLUN1dHRzIEhvdXNlPC9lbT7CoCgxOTEzKSwgZGVzaWduZWQgYnkgV2lsbGlhbSBHcmF5IFB1cmNlbGwgYW5kIEdlb3JnZSBHcmFudCBFbG1zbGllIGZvciB0aGUgUHVyY2VsbCBmYW1pbHkuIEluIGFkZGl0aW9uLCB0aGUgTWlhIGhvdXNlcyBvbmUgb2YgdGhlIGJlc3QgY29sbGVjdGlvbnMgb2YgUHJhaXJpZSBTY2hvb2wgbWF0ZXJpYWwgaW4gdGhlIGNvdW50cnksIHByZXNlbnRlZCBpbiB0aGUgQm9iIFVscmljaCBhbmQgSmlsbCBEYWhsaW4gQXJjaGl0ZWN0dXJlIGFuZCBEZXNpZ24gR2FsbGVyeSAoMzU1KS4gVGhlIE5vcndlc3QgTW9kZXJuaXNtIENvbGxlY3Rpb24gaXMgYSBtYWpvciBjb21wb25lbnQgb2YgdGhlIGRlcGFydG1lbnTigJlzIGhvbGRpbmdzLCBjb21wcmlzaW5nIG5lYXJseSA1MDAgb2JqZWN0cyBkYXRpbmcgZnJvbSAxODgwIHRvIDE5NDAuIEluIHJlY2VudCBkZWNhZGVzLCB0aGUgZGVwYXJ0bWVudCBoYXMgYnVpbHQgdXAgYSBzaWduaWZpY2FudCBjb2xsZWN0aW9uIG9mIGNvbnRlbXBvcmFyeSBzdHVkaW8gY2VyYW1pY3MsIGdsYXNzLCBhbmQgd29vZC4gQSBjdXJyZW50IGZvY3VzIGlzIGRlc2lnbiBvZiB0aGUgU2NhbmRpbmF2aWFuIGFuZCBOb3JkaWMgY291bnRyaWVzLiBUaGUgTWlhIGNvbnRpbnVlcyB0byBzaG93Y2FzZSB0aGVzZSBjb2xsZWN0aW9ucyBhdCB0aGUgV2VsbHMgRmFyZ28gQ2VudGVyIGluIGRvd250b3duIE1pbm5lYXBvbGlzLiBPbiB0aGUgV2ViLCB0aGV5IGFyZSByZXByZXNlbnRlZCBieSB0aGUgYXdhcmQtd2lubmluZyBzaXRlc8KgPGEgaHJlZj1cXFwiaHR0cDovL2h0dHAvL3d3dy5hcnRzTWlhLm9yZy91bmlmaWVkLXZpc2lvbi9cXFwiPlVuaWZpZWQgVmlzaW9uOiBUaGUgQXJjaGl0ZWN0dXJlIGFuZCBEZXNpZ24gb2YgdGhlIFByYWlyaWUgU2Nob29sPC9hPsKgYW5kwqA8YSBocmVmPVxcXCJodHRwOi8vd3d3LmFydHNNaWEub3JnL21vZGVybmlzbS9cXFwiPk1vZGVybmlzbTwvYT4uYCxcbiAgcGFpbnRpbmdzOiBgVGhlIE1pYSdzIGludGVybmF0aW9uYWxseSBhY2NsYWltZWQgY29sbGVjdGlvbiBvZiBwYWludGluZ3MgY29udGFpbnMgbmVhcmx5IDkwMCBFdXJvcGVhbiBhbmQgQW1lcmljYW4gd29ya3MgZnJvbSB0aGUgZm91cnRlZW50aCBjZW50dXJ5IHRvIHRoZSBwcmVzZW50LiBJdCBvZmZlcnMgYSBjb21wcmVoZW5zaXZlIHN1cnZleSBvZiBib3RoIGNlbGVicmF0ZWQgc2Nob29scyBhbmQgaW5kaXZpZHVhbCBhcnRpc3RzIGFuZCBpcyBub3RhYmxlIGZvciBpdHMgY29uY2VudHJhdGlvbiBvZiBtYXN0ZXJ3b3Jrcy5cXHJcXG5cXHJcXG5PbmUgb2YgdGhlIG11c2V1beKAmXMgZWFybGllc3QgYWNxdWlzaXRpb25zIHdhcyBHdXN0YXZlIENvdXJiZXTigJlzIERlZXIgaW4gYSBGb3Jlc3QsIHdoaWNoIFN0LiBQYXVsIHJhaWxyb2FkIG1hZ25hdGUgSmFtZXMgSi4gSGlsbCBkb25hdGVkIGluIDE5MTQuIEhpbGzigJlzIGNvbGxlY3Rpb24gb2YgbmluZXRlZW50aC1jZW50dXJ5IEZyZW5jaCBSb21hbnRpYyBhbmQgUmVhbGlzdCBhcnQgd2FzIGV4Y2VwdGlvbmFsLiBNYW55IG9mIGhpcyBtb3N0IGltcG9ydGFudCBwaWN0dXJlcywgaW5jbHVkaW5nIEV1Z8OobmUgRGVsYWNyb2l44oCZcyBUaGUgRmFuYXRpY3Mgb2YgVGFuZ2llciwgd2VyZSBnaXZlbiBvciBiZXF1ZWF0aGVkIHRvIHRoZSBNaWEgYnkgaGlzIGRlc2NlbmRhbnRzLlxcclxcblxcclxcblRoZSBwcmVzZW50IHBhaW50aW5ncyBjb2xsZWN0aW9uIGhhcyBiZWVuIGV4cGFuZGVkIGluIHZhcmllZCBhbmQgb2Z0ZW4gZGVsaWdodGZ1bGx5IHVucHJlZGljdGFibGUgd2F5cyBieSBhIHN1Y2Nlc3Npb24gb2YgYXN0dXRlIHRydXN0ZWVzLCBkb25vcnMsIGRpcmVjdG9ycywgYW5kIGN1cmF0b3JzLiBJdCBpbmNsdWRlcyBDbGF1ZGUgTG9ycmFpbuKAmXMgUGFzdG9yYWwgTGFuZHNjYXBlIG9mIDE2MzgsIE5pY29sYXMgUG91c3NpbuKAmXMgRGVhdGggb2YgR2VybWFuaWN1cyBvZiAxNjI3LCBhbmQgUmVtYnJhbmR0IHZhbiBSaWpu4oCZcyBMdWNyZXRpYSBvZiAxNjY2LiBJbiBhZGRpdGlvbiB0byBtYW55IHdvbmRlcmZ1bCBGcmVuY2ggbmluZXRlZW50aC1jZW50dXJ5IHBpY3R1cmVzLCB0aGUgbXVzZXVtIGhhcyByaWNoIGhvbGRpbmdzIG9mIEl0YWxpYW4gQmFyb3F1ZSwgc2V2ZW50ZWVudGgtY2VudHVyeSBEdXRjaCwgYW5kIEZhdXZlLCBDdWJpc3QsIGFuZCBHZXJtYW4gRXhwcmVzc2lvbmlzdCB3b3Jrcy4gVGhlIEFtZXJpY2FuIGNvbGxlY3Rpb24gc2hvd2Nhc2VzIGEgcmFuZ2Ugb2YgYXJ0aXN0aWMgYWNjb21wbGlzaG1lbnRzIGZyb20gR2lsYmVydCBTdHVhcnQgdG8gTGFycnkgUml2ZXJzIGFuZCBjb250YWlucyBleGNlcHRpb25hbCBwYWludGluZ3MgYnkgSm9obiBTaW5nZXIgU2FyZ2VudCBhbmQgR2VvcmdpYSBP4oCZS2VlZmZlLmAsXG4gIHBob3RvZ3JhcGh5OiBgQmVndW4gaW4gMTk3MywgdGhlIE1pYeKAmXMgY29sbGVjdGlvbiBvZiBwaG90b2dyYXBocyBzcGFucyB0aGUgaGlzdG9yeSBvZiBwaG90b2dyYXBoeSBmcm9tIHRoZSAxODYwcyB0byB0aGUgcHJlc2VudC4gUmVwcmVzZW50aW5nIG1vcmUgdGhhbiA4MDAgcGhvdG9ncmFwaGVycyBhbmQgMTEsNTAwIHdvcmtzIG9mIGFydCwgdGhlIGNvbGxlY3Rpb24gaGFzIG91dHN0YW5kaW5nIGV4YW1wbGVzIG9mIHR3ZW50aWV0aC1jZW50dXJ5IEFtZXJpY2FuIHBob3RvZ3JhcGh5LCB3aXRoIHBhcnRpY3VsYXIgZGVwdGggaW4gdGhlIGdlbnJlcyBvZiBkb2N1bWVudGFyeSBwaG90b2dyYXBoeSwgcGhvdG9qb3VybmFsaXNtLCBhbmQgcGljdG9yaWFsaXNtLiBTaW5jZSAyMDA4LCB0aGUgbXVzZXVtIGhhcyBmb2N1c2VkIG9uIGV4cGFuZGluZyBpdHMgaG9sZGluZ3Mgb2YgY29udGVtcG9yYXJ5IHBob3RvZ3JhcGh5IGFuZCBuZXcgbWVkaWEgZnJvbSBhbGwgY291bnRyaWVzLiBUaGlzIGluaXRpYXRpdmUgaW5jcmVhc2VzIHRoZSBzY29wZSBhbmQgcmVsZXZhbmNlIG9mIHRoZSBwaG90b2dyYXBoeSBjb2xsZWN0aW9uIGFuZCBlbmhhbmNlcyBpdHMgbGlua3MgdG8gdGhlIE1pYeKAmXMgZGl2ZXJzZSwgZ2xvYmFsIGhvbGRpbmdzLlxcclxcblxcclxcblRoZSBEZXBhcnRtZW50IG9mIFBob3RvZ3JhcGh5ICZhbXA7IE5ldyBNZWRpYSBjb250aW51ZXMgdG8gdGhyaXZlIHRoYW5rcyB0byB0aGUgYWN0aXZlLCBnZW5lcm91cyBzdXBwb3J0IG9mIGxveWFsIGRvbm9ycy4gVGhlIGVhcmxpZXN0IGFjcXVpc2l0aW9ucyB3ZXJlIGZ1bmRlZCBieSBLYXRlIEJ1dGxlciBhbmQgSGFsbCBKYW1lcyBQZXRlcnNvbi4gVGhlaXIgaW5pdGlhdGl2ZSBpbnNwaXJlZCBvdGhlcnMsIGluY2x1ZGluZyBIYXJyeSBEcmFrZSwgTWFydGluIFdlaW5zdGVpbiwgYW5kIEZyZWQgYW5kIEVsbGVuIFdlbGxzLiBNb3JlIHJlY2VudGx5LCB0aGUgY3JlYXRpb24gb2YgdGhlIEFsZnJlZCBhbmQgSW5ncmlkIExlbnogSGFycmlzb24gRnVuZCBhbmQgdGhlIGVzdGFibGlzaG1lbnQgb2YgdGhlIEhhcnJpc29uIFBob3RvZ3JhcGh5IEdhbGxlcmllcyAoMzY0ICZhbXA7IDM2NSkgaGF2ZSBnaXZlbiB0aGUgZGVwYXJ0bWVudCBlbm9ybW91cyBtb21lbnR1bS4gVGhlc2Ugc3VwZXJiIG5ldyBnYWxsZXJpZXMgYXJlIGRldm90ZWQgdG8gcHJlc2VudGluZyB0aGUgcGVybWFuZW50IGNvbGxlY3Rpb24uIEluIGFkZGl0aW9uLCBMaW5kYSBhbmQgTGF3cmVuY2UgUGVybG1hbiBlc3RhYmxpc2hlZCB0aGUgUGVybG1hbiBHYWxsZXJ5ICgyNjIpLCB3aGljaCBpcyBkZWRpY2F0ZWQgdG8gZmVhdHVyaW5nIGNvbnRlbXBvcmFyeSBwaG90b2dyYXBoeSBhbmQgaXMgbG9jYXRlZCBpbiB0aGUgTWlh4oCZcyBUYXJnZXQgV2luZywgaG9zdGluZ8KgPGEgaHJlZj1cXFwiaHR0cDovL3d3dzIuYXJ0c01pYS5vcmcvYmxvZ3MvbmV3LXBpY3R1cmVzXFxcIj5OZXcgUGljdHVyZXM8L2E+LCBhIHNlbWktYW5udWFsIHNlcmllcyBoaWdobGlnaHRpbmcgZW1lcmdpbmcgcGhvdG9ncmFwaGVycyBmcm9tIGFyb3VuZCB0aGUgd29ybGQuIFlvdSwgdG9vLCBjYW4gY29udHJpYnV0ZSB0byBhbmQgZW5qb3kgc3BlY2lhbCBhY2Nlc3MgdG8gZXhoaWJpdGlvbnMgYW5kIGV2ZW50cyBieSBqb2luaW5nIHRoZcKgPGEgaHJlZj1cXFwiaHR0cDovL25ldy5hcnRzTWlhLm9yZy9qb2luLWFuZC1pbnZlc3QvYWZmaW5pdHktZ3JvdXBzL1xcXCI+UGhvdG9ncmFwaHkgJmFtcDsgTmV3IE1lZGlhIEFmZmluaXR5IEdyb3VwPC9hPi5cXHJcXG5cXHJcXG5PdmVyIHRoZSB5ZWFycywgdGhlIERlcGFydG1lbnQgb2YgUGhvdG9ncmFwaHkgJmFtcDsgTmV3IE1lZGlhIGhhcyBiZWVuIGNvbW1pdHRlZCB0byB1c2luZyBpdHMgY29sbGVjdGlvbiBmb3IgZWR1Y2F0aW9uYWwgcHVycG9zZXMsIGFuZCB0aGUgTWlhIG5vdyBzZXJ2ZXMgYXMgYSBtYWpvciByZXNvdXJjZSBmb3IgdGhlIGZpdmUtc3RhdGUgcmVnaW9uLiBOdW1lcm91cyBleGhpYml0aW9ucyBkcmF3biBmcm9tIHRoZSBjb2xsZWN0aW9uIGhhdmUgdHJhdmVsZWQgdG8gb3RoZXIgaW5zdGl0dXRpb25zLCBhbmQgc3R1ZGVudHMgYW5kIHRlYWNoZXJzIGZyZXF1ZW50bHkgdmlzaXQgdGhlIGdhbGxlcmllcyBhbmTCoDxhIGhyZWY9XFxcImh0dHA6Ly9uZXcuYXJ0c01pYS5vcmcvdmlzaXQvbXVzZXVtLWZhY2lsaXRpZXMvc3R1ZHktcm9vbXMvXFxcIj5QaG90b2dyYXBoeSBTdHVkeSBSb29tPC9hPsKgdG8gbGVhcm4gZnJvbSB0aGUgY29sbGVjdGlvbiBmaXJzdGhhbmQuIENsaWNrIG9uIHRoZSBwaG90b2dyYXBoIGJlbG93IHRvIGJyb3dzZSB0aGUgY29sbGVjdGlvbiBhbmQgcHJlcGFyZSBmb3IgeW91ciBuZXh0IHZpc2l0IHRvIHRoZSBNaWEuYCxcbiAgcHJpbnRzOiBgVGhlIERlcGFydG1lbnQgb2YgUHJpbnRzICZhbXA7IERyYXdpbmdzIGtlZXBzIHVwIGFuIGFjdGl2ZSBwcm9ncmFtIG9mIHRoZW1hdGljIGV4aGliaXRpb25zLCBidXQgaXQgaXMgYWxzbyB0aGUgTWlh4oCZcyBoaWRkZW4gdHJlYXN1cmUgY2hlc3QuIEF0IGFueSBnaXZlbiB0aW1lLCBvbmx5IGEgZnJhY3Rpb24gb2YgdGhlIG11c2V1beKAmXMgY29sbGVjdGlvbiBvZiBuZWFybHkgNDAsMDAwIHByaW50cyBhbmQgMywwMDAgZHJhd2luZ3MgaXMgb24gdmlldyBpbiB0aGUgZ2FsbGVyaWVzLiBOZWFybHkgYWxsLCBob3dldmVyLCBhcmUgYXZhaWxhYmxlIHRvIHRoZSBwdWJsaWMgaW4gdGhlIGNvbWZvcnQgb2YgdGhlwqA8YSBocmVmPVxcXCJodHRwOi8vbmV3LmFydHNNaWEub3JnL3Zpc2l0L3N0dWR5LXJvb21zL1xcXCI+SGVyc2NoZWwgVi4gSm9uZXMgUHJpbnQgU3R1ZHkgUm9vbTwvYT4uIFRvIHByZXBhcmUgZm9yIHlvdXIgdmlzaXQsIHBsZWFzZSBtYWtlIGFuIGFwcG9pbnRtZW50IGJ5IHBob25lICg2MTIpIDg3MC0zMTA1IG9yIGJ5IGUtbWFpbCAoPGEgaHJlZj1cXFwibWFpbHRvOnByaW50c3R1ZHlAYXJ0c01pYS5vcmdcXFwiPnByaW50c3R1ZHlAYXJ0c01pYS5vcmc8L2E+KS5cXHJcXG5cXHJcXG5NYW55IG9mIHRoZSBncmVhdGVzdCBFdXJvcGVhbiBhbmQgQW1lcmljYW4gYXJ0aXN0cyBmcm9tIHRoZSBSZW5haXNzYW5jZSB0byB0aGUgcHJlc2VudCBhcmUgcmVwcmVzZW50ZWQsIG9mdGVuIGluIGNvbnNpZGVyYWJsZSBkZXB0aCBhbmQgcXVhbGl0eS4gQW1vbmcgdGhlIGhpZ2hsaWdodHMgYXJlIG9sZCBtYXN0ZXIgcHJpbnRzIGJ5IEFsYnJlY2h0IETDvHJlciBhbmQgUmVtYnJhbmR0IHZhbiBSaWpuOyBKYWNvcG8gZGXigJlCYXJiYXJp4oCZcyBhbWF6aW5nIGJpcmTigJlzLWV5ZSB2aWV3IG9mIFZlbmljZTsgYSByYXJlIHByZXNlbnRhdGlvbiBjb3B5IG9mIEZyYW5jaXNjbyBkZSBHb3lh4oCZc8KgPGVtPkxvcyBDYXByaWNob3M8L2VtPjsgYSBmYWJ1bG91cyBtb25vdHlwZSBieSBXaWxsaWFtIEJsYWtlOyBleHRlbnNpdmUgaG9sZGluZ3MgaW4gbmluZXRlZW50aC1jZW50dXJ5IEZyZW5jaCBhbmQgQnJpdGlzaCBwcmludHMgYW5kIGRyYXdpbmdzLCBmZWF0dXJpbmcgYXJ0aXN0cyBzdWNoIGFzIEphbWVzIE1jTmVpbGwgV2hpc3RsZXIsIEVkZ2FyIERlZ2FzLCBhbmQgRsOpbGl4IEJ1aG90OyBhbmQgb3V0c3RhbmRpbmcgdHdlbnRpZXRoLWNlbnR1cnkgZHJhd2luZ3MgYnkgTG92aXMgQ29yaW50aCwgRWdvbiBTY2hpZWxlLCBFcm5zdCBMdWR3aWcgS2lyY2huZXIsIEVyaWNoIEhlY2tlbCwgUGlldCBNb25kcmlhbiwgR2VvcmdlcyBSb3VhdWx0LCBIZW5yaSBNYXRpc3NlLCBKYXNwZXIgSm9obnMsIEFuZHkgV2FyaG9sLCBSb3kgTGljaHRlbnN0ZWluLCBKaW0gRGluZSwgRWQgUnVzY2hhLCBOaWNvbGEgSGlja3MsIGFuZCBtYW55IG1vcmUuIFRoZSBkZXBhcnRtZW50IGlzIGJ1aWxkaW5nIGl0cyBjb2xsZWN0aW9uIG9mIHR3ZW50eS1maXJzdC1jZW50dXJ5IHByaW50cyBhbmQgZHJhd2luZ3MsIHdoaWNoIGlzIHJlYWNoaW5nIGV2ZXIgZnVydGhlciBiZXlvbmQgQW1lcmljYSBhbmQgRXVyb3BlIHRvIG90aGVyIHBhcnRzIG9mIHRoZSB3b3JsZC4gUCZhbXA7RCBoYXMgc2VjdXJlZCB3b3JrcyBieSBXaWxsaWFtIEtlbnRyaWRnZSwgSnVsaWUgTWVocmV0dSwgTWVxdWl0dGEgQWh1amEsIEphdW5lIFF1aWNrLXRvLVNlZSBTbWl0aCwgQ2h1Y2sgQ2xvc2UsIEx1aXMgSmltZW5leiwgQ3ludGhpYSBMaW4sIENhcmxvcyBBbW9yYWxlcywgRGlhbmUgVmljdG9yLCBhbmQgbW9yZS5cXHJcXG5cXHJcXG5UaGVyZSBhcmUgYWxzbyBmYXNjaW5hdGluZyBjb2xsZWN0aW9ucyB3aXRoaW4gdGhlIGNvbGxlY3Rpb24uIFRoZSBkZXBhcnRtZW50IGhhcyBhIGxhcmdlIG51bWJlciBvZiBib29rcyBkZXNpZ25lZCBhbmQgaWxsdXN0cmF0ZWQgYnkgYXJ0aXN0cywgd2hpY2ggaXMgZXNwZWNpYWxseSByaWNoIGluIHdvcmtzIGZyb20gRnJhbmNlLiBTdHVkZW50cyBvZiBtb2Rlcm4gcHJpbnRtYWtpbmcgd2lsbCB3YW50IHRvIGV4cGxvcmUgdGhlIFZlcm1pbGxpb24gRWRpdGlvbnMgTGltaXRlZCBBcmNoaXZhbCBDb2xsZWN0aW9uLCB3aGljaCBjb250YWlucyBleGFtcGxlcyBvZiBhbGwgdGhlIHByaW50cyBwdWJsaXNoZWQgYnkgdGhhdCBUd2luIENpdGllcyBwcmVzcyBhcyB3ZWxsIGFzIHByZXBhcmF0b3J5IGRyYXdpbmdzLCBwcm9vZnMsIGFuZCBtYXF1ZXR0ZXMgdGhhdCBsZWQgdG8gdGhlIGZpbmlzaGVkIHdvcmsuIEJvdGFuaWNhbCwgem9vbG9naWNhbCwgZmFzaGlvbiwgYW5kIG9ybmFtZW50YWwgaWxsdXN0cmF0aW9ucyBmcm9tIHRoZSBmaWZ0ZWVudGggdGhyb3VnaCB0aGUgdHdlbnRpZXRoIGNlbnR1cmllcyBhbGwgZmlndXJlIGluIHRoZSBtaXgsIGFzIGRvZXMgYSB3aWRlIGFycmF5IG9mIHdvcmtzIGJ5IE1pbm5lc290YSBhbmQgcmVnaW9uYWwgYXJ0aXN0cy5cXHJcXG5cXHJcXG5UaGXCoDxhIGhyZWY9XFxcImh0dHA6Ly9uZXcuYXJ0c01pYS5vcmcvam9pbi1hbmQtaW52ZXN0L2FmZmluaXR5LWdyb3Vwcy9cXFwiPlByaW50cyAmYW1wOyBEcmF3aW5ncyBBZmZpbml0eSBHcm91cDwvYT7CoHByb3ZpZGVzIGEgdGVycmlmaWMgb3Bwb3J0dW5pdHkgdG8gbGVhcm4gbW9yZSBhYm91dCB0aGlzIHZpdGFsIGZpZWxkIG9mIGFydCwgdG8gbWVldCBvdGhlcnMgd2l0aCBzaW1pbGFyIGludGVyZXN0cywgYW5kIHRvIGhlbHAgdGhlIE1pYSBpbXByb3ZlIGl0cyBhYmlsaXR5IHRvIG1ha2UgYXJ0IGF2YWlsYWJsZSB0byB0aGUgcHVibGljLmAsXG4gIGNzc2FhOiBgVGhlIERlcGFydG1lbnQgb2YgQ2hpbmVzZSBhbmQgU291dGggYW5kIFNvdXRoZWFzdCBBc2lhbiBBcnQgaGFzIGJlbmVmaXRlZCBncmVhdGx5IGZyb20gZ2VuZXJvdXMgZ2lmdHMgZnJvbSBrbm93bGVkZ2VhYmxlIGNvbGxlY3RvcnMuIEF1Z3VzdHVzIEwuIFNlYXJsZSwgQWxmcmVkIEYuIFBpbGxzYnVyeSwgUmljaGFyZCBQLiBHYWxlLCBMb3VpcyBXLiBIaWxsLCBKci4sIGFuZCBSdXRoIGFuZCBCcnVjZSBEYXl0b24gaGF2ZSBkb25hdGVkIGNvbGxlY3Rpb25zIG9mIGludGVybmF0aW9uYWwgcmVwdXRhdGlvbi4gVGhlc2UgaW5jbHVkZSBhbmNpZW50IENoaW5lc2UgYnJvbnplcywgYW5jaWVudCBhbmQgcG9zdC1Tb25nIGphZGUsIENoaW5lc2UgbW9ub2Nocm9tZSBjZXJhbWljcywgYW5kIGNsYXNzaWNhbCBDaGluZXNlIGZ1cm5pdHVyZS4gSW4gYWRkaXRpb24sIGN1cmF0b3JzIGhhdmUgYnVpbHQgZXhxdWlzaXRlIGNvbGxlY3Rpb25zIG9mIFFpbmcgZHluYXN0eSBzaWxrIHRleHRpbGVzIGFuZCBNaWFvIHRleHRpbGVzLlxcclxcblxcclxcblNvbWUgb2YgdGhlIGZpcnN0IHdvcmtzIG9mIGFydCB0byBlbnRlciB0aGUgbXVzZXVt4oCZcyBjb2xsZWN0aW9uIHdlcmUgZnJvbSBTb3V0aCAoSW5kaWEsIEJhbmdsYWRlc2gsIFNyaSBMYW5rYSwgUGFraXN0YW4sIE5lcGFsLCBCaHV0YW4sIGFuZCBBZmdoYW5pc3RhbikgYW5kIFNvdXRoZWFzdCBBc2lhIChDYW1ib2RpYSwgTGFvcywgTXlhbm1hciwgVGhhaWxhbmQsIE1hbGF5c2lhLCBWaWV0bmFtLCBTaW5nYXBvcmUsIEluZG9uZXNpYSwgQnJ1bmVpIGFuZCB0aGUgUGhpbGlwcGluZXMpLCBiZWdpbm5pbmcgaW4gMTkxNCB3aGVuIENoYXJsZXMgRnJlZXIgZG9uYXRlZCBzZXZlcmFsIFRoYWkgQnVkZGhpc3Qgc2N1bHB0dXJlcy7CoCBJbiAxOTI5IFNhcmFoIEJlbGwgUGlsbHNidXJ5IEdhbGUgZ2F2ZSB0aGUgbXVzZXVtIGl0cyBmaXJzdCBtYWpvciBJbmRpYW4gd29yayBvZiBhcnQsIGEgMTJ0aCBjZW50dXJ5IGJyb256ZSAoY2EuIDExMDApIERhbmNpbmcgU2hpdmEgKE5hdGFyYWphKS7CoCBUaGUgaGlnaGxpZ2h0IG9mIHRoZSBTb3V0aCBBc2lhbiBjb2xsZWN0aW9uIGlzIGEgbW9udW1lbnRhbCBzdG9uZSBZb2dpbmkgc2N1bHB0dXJlIGZyb20gMTA8c3BhbiBzdHlsZT1cXFwiZm9udC1zaXplOiAxMXB4O1xcXCI+dGjCoDwvc3Bhbj5jZW50dXJ5IHNvdXRoIEluZGlhLiBUb2RheSB0aGUgU291dGggQXNpYW4gY29sbGVjdGlvbiBudW1iZXJzIGFib3V0IDE1MCBvYmplY3RzIGFuZCB0aGUgU291dGhlYXN0IEFzaWFuIGNvbGxlY3Rpb24gbnVtYmVycyBhcm91bmQgMTgzLlxcclxcblxcclxcbldpdGhpbiB0aGUgZ2FsbGVyaWVzIHRoZXJlIGFyZSB0d28gQ2hpbmVzZSBwZXJpb2Qgcm9vbXMgaW5jbHVkaW5nIGFuIG9yaWdpbmFsIHJlY2VwdGlvbiBoYWxsIGZyb20gdGhlIGxhdGUgTWluZyBkeW5hc3R5IGFuZCBhIGNhLiAxNzAwIFN1emNob3UtYXJlYSBsaWJyYXJ5LmAsXG4gIGprYTogYFRoZSBjb2xsZWN0aW9uIG9mIEphcGFuZXNlIGFuZCBLb3JlYW4gYXJ0IGluY2x1ZGVzIG92ZXIgNywwMDAgd29ya3MgcmFuZ2luZyBmcm9tIGFuY2llbnQgdG8gY29udGVtcG9yYXJ5IGFuZCBpcyBhbW9uZ3N0IHRoZSB0b3AgZml2ZSBjb2xsZWN0aW9ucyBpbiB0aGUgVW5pdGVkIFN0YXRlcy4gVGhlIHBlcm1hbmVudCBkaXNwbGF5IHNwYWNlIGZvciBKYXBhbmVzZSBhcnQgaXMgdGhlIGxhcmdlc3QgaW4gdGhlIFdlc3Rlcm4gd29ybGQgd2l0aCAxNSBnYWxsZXJpZXMgYW5kIG92ZXIgMTAsMDAwIHNxdWFyZSBmZWV0ICg5MzAgc3FtKS4gVGhlIGNvbGxlY3Rpb24gaXRzZWxmIGluY2x1ZGVzIEJ1ZGRoaXN0IHNjdWxwdHVyZSwgd29vZGJsb2NrIHByaW50cywgcGFpbnRpbmdzLCBsYWNxdWVyLCB3b3JrcyBvZiBiYW1ib28sIGFuZCBjZXJhbWljcywgYW5kIGl0IGlzIHBhcnRpY3VsYXJseSByaWNoIGluIHdvcmtzIGZyb20gdGhlIEVkbyBwZXJpb2QgKDE2MTDigJMxODY4KS5cXHJcXG5cXHJcXG5Ud28gaGlzdG9yaWMgcm9vbXMsIGEgZm9ybWFsIGF1ZGllbmNlIGhhbGwgKDxpPnNob2luPC9pPikgYW5kIGEgdGVhaG91c2UgKDxpPmNoYXNoaXRzdTwvaT4pLCBhbGxvdyBoaWdobHkgdmlzaWJsZSBpbnN0YWxsYXRpb25zIHdpdGhpbiB0aGUgcGVybWFuZW50IGdhbGxlcmllcyBhbmQgc2VydmUgdG8gaGVpZ2h0ZW4gYXdhcmVuZXNzIG9mIHRoZSByZWxhdGlvbnNoaXAgYmV0d2VlbiBhcnQgYW5kIGFyY2hpdGVjdHVyZS48L3A+PHA+VGhlIERlcGFydG1lbnQgb2YgSmFwYW5lc2UgYW5kIEtvcmVhbiBhcnQgaGFzIGJlbmVmaXRlZCBncmVhdGx5IGZyb20gZ2VuZXJvdXMgZ2lmdHMgZnJvbSBrbm93bGVkZ2VhYmxlIGNvbGxlY3RvcnMuIFJpY2hhcmQgUC4gR2FsZSwgTG91aXMgVy4gSGlsbCwgSnIuLCBSdXRoIGFuZCBCcnVjZSBEYXl0b24sIGFuZCBFbGxlbiBhbmQgRnJlZCBXZWxscyBoYXZlIGFsbCBkb25hdGVkIHNwZWNpYWxpemVkIGNvbGxlY3Rpb25zIG9mIGludGVybmF0aW9uYWwgcmVwdXRhdGlvbi4gV2l0aCB0aGUgYWRkaXRpb24gb2Ygb3ZlciAxLDUwMCB3b3JrcyBvZiBhcnQgZnJvbSB0aGUgY29sbGVjdGlvbnMgb2YgRWxpemFiZXRoIGFuZCBXaWxsYXJkIOKAnEJpbGzigJ0gQ2xhcmsgYW5kIHRoZSBDbGFyayBDZW50ZXIgZm9yIEphcGFuZXNlIEFydCBpbiAyMDEzIGFuZCBoYWxmIG9mIHRoZSB3b3JsZC1yZW5vd25lZCBNYXJ5IEdyaWdncyBCdXJrZSBjb2xsZWN0aW9uLCB0aGUgSmFwYW5lc2UgYW5kIEtvcmVhbiBhcnQgZ2FsbGVyaWVzIGFyZSBubyBkb3VidCBhIGRlc3RpbmF0aW9uIGZvciBib3RoIGFydCBlbnRodXNpYXN0cyBhbmQgc2Nob2xhcnMgYWxpa2UuPC9wPjxwPlRoZSBkZXBhcnRtZW50IGlzIGRlZGljYXRlZCB0byBwcm92aWRpbmcgdGhlIHB1YmxpYyB3aXRoIGEgYnJvYWQgb3ZlcnZpZXcgb2YgSmFwYW5lc2UgYW5kIEtvcmVhbiBhcnQuIEJ5IHNob3djYXNpbmcgYXJ0IGJvdGggY2hyb25vbG9naWNhbGx5IGFuZCBieSBtZWRpdW0sIHRoZSBnYWxsZXJpZXMgc2hvdyB0aGUgaGlzdG9yeSBvZiBub3Qgb25seSB0aGUgb2JqZWN0cyB0aGVtc2VsdmVzLCBidXQgYWxzbyBvZiBhIGNvbGxlY3RlZCBwcm9jZXNzIG9mIGFydGlzdGljIGNyZWF0aW9uLiBUaGlzIGNhbiBiZSBzZWVuLCBmb3IgZXhhbXBsZSwgYnkgdGhlIHNjb3BlIG9mIGNlcmFtaWNzLCByYW5naW5nIGZyb20gZWFybHkgdXRpbGl0YXJpYW4gdG8gY29udGVtcG9yYXJ5IHNjdWxwdHVyZXMuPC9wPjxwPk9mIG5vdGFibGUgc3RyZW5ndGggaXMgdGhlIGNvbGxlY3Rpb24gb2YgPGk+dWtpeW8tZTwvaT4gcGFpbnRpbmdzIGFuZCBwcmludHMsIHBvcHVsYXJseSBrbm93biBhcyDigJxwaWN0dXJlcyBvZiB0aGUgZmxvYXRpbmcgd29ybGTigJ0uIFRoZSBjb3JlIG9mIHRoZSBjb2xsZWN0aW9uIHdhcyBidWlsdCBieSBSaWNoYXJkIFAuIEdhbGUgYW5kIExvdWlzIFcuIEhpbGwsIEpyLiwgYW5kIHRoZSBHYWxlIGJlcXVlc3QgaW5jbHVkZWQgc29tZSA1NyBwYWludGluZ3MgYW5kIDIwNiBwcmludHMsIG1hbnkgb2Ygd2hpY2ggYXJlIHJhcmUgYW5kIGluIGFkbWlyYWJsZSBjb25kaXRpb24uIEEgc3Ryb25nIGNvbGxlY3Rpb24gb2YgPGk+xYx0c3UtZTwvaT4sIGZvbGsgcGFpbnRpbmdzIHByb2R1Y2VkIGluIGFuZCBhcm91bmQgdGhlIHRvd24gb2YgxYx0c3UgZHVyaW5nIHRoZSBFZG8gcGVyaW9kLCBjYW1lIGZyb20gY29sbGVjdG9ycyBFZHNvbiBhbmQgSGFycmlldCBTcGVuY2VyIHdobyBhbHNvIGRvbmF0ZWQgdGhlaXIgY29sbGVjdGlvbiBvZiB0aWdlciBwYWludGluZ3MuYCxcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBEZXBhcnRtZW50RGVjb3JhdG9yXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/decorate/department.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/decorate/department.js",
      "sourcesContent": [
        "var React = require('react')\nvar {Link} = require('react-router')\n\nvar Markdown = require('../markdown')\nvar findDepartment = require('../department-slug')\n\nvar DepartmentDecorator = React.createClass({\n  getInitialState() {\n    var [deptName, selector, slug] = this.getNameAndSelector(this.props.department)\n    var {departmentInfo} = this.props\n    var info = departmentInfo && departmentInfo.departments[selector]\n\n    return {\n      deptName,\n      selector,\n      slug,\n      info: info,\n      blurb: info && info.content || DepartmentContent[selector] || `Sorry, there's no \"${deptName}\" department.`,\n      expanded: this.props.expanded || !!this.props.params.dept || false,\n    }\n  },\n\n  render() {\n    var {department} = this.props\n    var {deptName, selector, blurb, expanded} = this.state\n\n    var [blurbA, blurbB] = blurb.split('<hr />')\n\n    var fullInfo = expanded && this.getFullInfo(blurbB)\n\n    return <div className=\"departmentBlurb mdl-grid decorator d-department\">\n      <h2><Link to='department' params={{dept: this.state.slug, terms: department}}><span className=\"d-visit\">Visit </span>{this.state.deptName}</Link></h2>\n      <div className=\"mdl-cell mdl-cell--6-col departmentContent\">\n        {expanded ? <Markdown alreadyRendered={true}>{blurbA}</Markdown> : this.shortBlurb()}\n        {expanded && this.affinityBlurb()}\n      </div>\n      {expanded && fullInfo}\n    </div>\n  },\n\n  getNameAndSelector(term) {\n    var decodedTerm = decodeURIComponent(term)\n    var deptName = findDepartment(decodedTerm) ? decodedTerm : decodedTerm.match(/department:\"?([^\"]*)\"?/)[1]\n    return findDepartment(deptName)\n  },\n\n  shortBlurb() {\n    return <div>\n      <Markdown>{this.state.blurb.split('\\n')[0]}</Markdown>\n    </div>\n  },\n\n  getFullInfo(info) {\n    var {deptName} = this.state\n\n    return <div className=\"departmentResources mdl-cell mdl-cell--6-col\">\n      <div>{this.getCurators()}</div>\n      <Markdown alreadyRendered={true}>{info}</Markdown>\n    </div>\n  },\n\n  getCurators() {\n    var curators = this.state.info.curators\n    .map(name => this.props.departmentInfo.curators[name])\n    .filter(exists => !!exists)\n    .filter(({emeritus}) => !emeritus)\n\n    return curators.length > 0 && <div id=\"curators\">\n      <h3>Curators</h3>\n      {curators.map(curator => {\n        curator.photo = `https://collections.artsmia.org/_info/curator-portraits/${curator.slug}.jpg`\n\n        return <div className=\"curatorBio\" key={curator.slug}>\n          <Link to=\"curator\" params={{slug:curator.slug}}>\n            <div className=\"curatorPic\">\n              <img src={curator.photo} alt={`portrait of ${curator.name}`} />\n            </div>\n            <div className=\"curator-intro\">\n            <h4>{curator.name}</h4>\n            <h5><Markdown>{curator.title}</Markdown></h5>\n            </div>\n          </Link>\n        </div>\n      })}\n    </div>\n  },\n\n  getAffinity() {\n    var affinities = this.props.departmentInfo.affinityGroups\n    .filter(ag => ag.departments && ag.departments.indexOf(findDepartment(this.props.department)[1]) > -1)\n\n    return affinities.map(a => {\n      var image = <img src={a.featuredArt ? `http://api.artsMia.org/images/${a.featuredArt}/400/medium.jpg` : a.image} />\n      image = a.featuredArt ? <Link to=\"artwork\" params={{id: a.featuredArt}}>{image}</Link> : image\n\n      return <div className=\"affinity\" key={a.title}>\n        <h3>{a.title}</h3>\n        <div className=\"affinityImage\">{image}</div>\n        <div className=\"affinity-intro\">\n        <Markdown alreadyRendered={true}>{a.content}</Markdown>\n          <p>Mia’s Affinity Groups are a great way for museum members to connect more closely with special areas of art interest, allowing you to delve deeper into the curatorial area of your choice.</p>\n          <a href=\"http://new.artsmia.org/join-and-invest/affinity-groups/\" className=\"button\">Learn More</a>\n        </div>\n      </div>\n    })\n  },\n\n  affinityBlurb() {\n    return <div className=\"affinity\">\n      <p>Mia’s Affinity Groups are a great way for museum members to connect more closely with special areas of art interest, allowing you to delve deeper into the curatorial area of your choice.</p>\n      <a href=\"http://new.artsmia.org/join-and-invest/affinity-groups/\" className=\"button\">Learn More</a>\n    </div>\n  },\n})\n\nvar DepartmentContent = {\n  africa: `The Arts of Africa and the Americas Department is dedicated to the immense creativity of Native peoples across the world, from prehistory to the present. The collection has grown significantly since the department was founded more than thirty years ago, and now numbers more than 3,000 objects, including masterworks of sculpture, ceramics, metalsmithing, painting, basketry, and bead-, shell-, and quillwork, reflecting the diversity of these regions and cultures.\\r\\n\\r\\nHighlights of African art at the museum include a ceramic portrait head from the ancient civilization of Ife, a thousand-year-old wooden horse-and-rider from Djenne, and a cast bronze leopard and a carved ivory tusk, both from the eighteenth-century Kingdom of Benin. Other important pieces are a rare Luba mask, one of only two known in the world, a dramatic dance mask often known as a “firespitter” from Cote d’Ivoire, and a palace door created by the famed Yoruba artist Areogun of Osi.\\r\\n\\r\\nThe Native American galleries are equally rich in examples of the highest quality art, such as our unparalleled three-thousand-year-old Olmec jade mask, an exceptional nineteenth-century Sun Mask from the Northwest Coast, and a monumental pipe in the form of a bound prisoner, made in southeastern United States around 1200. Additional masterworks include the finely worked gold earspools from the ancient Andes, and a beaded man’s shoulder pouch made in Minnesota in the early 1800s.\\r\\n\\r\\nOur Oceanic collection contains world-class pieces, such as the Maori Poutokomanawa (Post Figure) created in the 1840s, the three fabulous Malagan figures, an early Papuan Gope Board, and the Bis Pole, a centerpiece of the gallery.`,\n  contemporary: `In 2008 the Mia launched an initiative to focus on the art of our times. Through its new Department of Contemporary Art, the museum brings a fresh dynamism to its galleries by collecting and exhibiting works by living artists. This initiative emphasizes the relationships among historical art, diverse cultures, and contemporary art-making.\\r\\n\\r\\nContemporary art of the region continues to be represented by the Minnesota Artists Exhibition Program (MAEP) as well as by selected projects with local artists, architects, designers, and other creative thinkers. In collaboration with other Mia curatorial departments, the Department of Contemporary Art engages both local and global artists to create public and site-specific work at the Mia.`,\n  dats: `Originally established to focus on furniture, metalwork, ceramics, and glass, the department today encompasses more than 18,000 works in all mediums from America and Europe, from the Middle Ages to the present.\\r\\n\\r\\nMany collectors and donors have contributed to the porcelain and pottery collection, which includes eighteenth-century French faience from Mrs. John P. Rutherfurd, seventeenth- and eighteenth-century English delft from Mr. and Mrs. George R. Steiner, and Chinese Export porcelain from Leo and Doris Hodroff. Domestic interiors and furnishings spanning four centuries are presented in the Mia’s nine period rooms, with a 1730 grand salon from the Hôtel de la Bouëxière in Paris, which has been restored with funds from the Groves Foundation.\\r\\n\\r\\nThe department’s textile collection has gained an international reputation for its spectacular individual pieces as well as its impressive holdings of European tapestries, early Italian laces, passementerie, Kashmir shawls, and Turkish embroideries. Textiles from the Jack Lenor Larsen company archive and the Norwest Modernism Collection have broadened the scope of the collection’s twentieth-century holdings, complementing its already strong collection of contemporary fiber art.\\r\\n\\r\\nA particular strength of the Mia’s decorative arts collection includes English, American and Continental silver, which is showcased in the Mary Agnes and Al McQuinn Gallery (350). Mia trustee and silver collector James Ford Bell established the foundation of the museum’s collection with numerous gifts, including a monumental eighteenth-century wine cistern by English Huguenot silversmith Paul de Lamerie and the most complete neoclassical tea service known by Paul Revere, Jr. The McQuinn Fund continues to support purchases of great English and Continental objects such as the Richmond racing cup designed by Robert Adam and an elaborate covered cup made in Strasbourg by Johann Friedrich Baer.\\r\\n\\r\\nSculpture from the Middle Ages to 1960 includes important works by Amedeo Modigliani, Sir Jacob Epstein, John Bernard Flannagan, Constantin Brancusi, Henri Matisse, and Henry Moore. Recent acquisitions in this area include Raymond Duchamp-Villon’s <em>Head of Baudelaire</em> (1911), and Alberto Giacometti’s <em>Diego</em> (196).\\r\\n\\r\\nThe Harold and Mickey Smith Gallery (362) features one of the most comprehensive permanent collections of Jewish ritual art found in an American art museum. Rotations include prints, photographs, and textiles. Purchases of modern and contemporary Judaica are made possible by the Eloise and Elliot Kaplan Fund for Judaica.\\r\\n\\r\\nThe department is strong in modernist design, including the Prairie School-style <em>Purcell-Cutts House</em> (1913), designed by William Gray Purcell and George Grant Elmslie for the Purcell family. In addition, the Mia houses one of the best collections of Prairie School material in the country, presented in the Bob Ulrich and Jill Dahlin Architecture and Design Gallery (355). The Norwest Modernism Collection is a major component of the department’s holdings, comprising nearly 500 objects dating from 1880 to 1940. In recent decades, the department has built up a significant collection of contemporary studio ceramics, glass, and wood. A current focus is design of the Scandinavian and Nordic countries. The Mia continues to showcase these collections at the Wells Fargo Center in downtown Minneapolis. On the Web, they are represented by the award-winning sites <a href=\\\"http://http//www.artsMia.org/unified-vision/\\\">Unified Vision: The Architecture and Design of the Prairie School</a> and <a href=\\\"http://www.artsMia.org/modernism/\\\">Modernism</a>.`,\n  paintings: `The Mia's internationally acclaimed collection of paintings contains nearly 900 European and American works from the fourteenth century to the present. It offers a comprehensive survey of both celebrated schools and individual artists and is notable for its concentration of masterworks.\\r\\n\\r\\nOne of the museum’s earliest acquisitions was Gustave Courbet’s Deer in a Forest, which St. Paul railroad magnate James J. Hill donated in 1914. Hill’s collection of nineteenth-century French Romantic and Realist art was exceptional. Many of his most important pictures, including Eugène Delacroix’s The Fanatics of Tangier, were given or bequeathed to the Mia by his descendants.\\r\\n\\r\\nThe present paintings collection has been expanded in varied and often delightfully unpredictable ways by a succession of astute trustees, donors, directors, and curators. It includes Claude Lorrain’s Pastoral Landscape of 1638, Nicolas Poussin’s Death of Germanicus of 1627, and Rembrandt van Rijn’s Lucretia of 1666. In addition to many wonderful French nineteenth-century pictures, the museum has rich holdings of Italian Baroque, seventeenth-century Dutch, and Fauve, Cubist, and German Expressionist works. The American collection showcases a range of artistic accomplishments from Gilbert Stuart to Larry Rivers and contains exceptional paintings by John Singer Sargent and Georgia O’Keeffe.`,\n  photography: `Begun in 1973, the Mia’s collection of photographs spans the history of photography from the 1860s to the present. Representing more than 800 photographers and 11,500 works of art, the collection has outstanding examples of twentieth-century American photography, with particular depth in the genres of documentary photography, photojournalism, and pictorialism. Since 2008, the museum has focused on expanding its holdings of contemporary photography and new media from all countries. This initiative increases the scope and relevance of the photography collection and enhances its links to the Mia’s diverse, global holdings.\\r\\n\\r\\nThe Department of Photography &amp; New Media continues to thrive thanks to the active, generous support of loyal donors. The earliest acquisitions were funded by Kate Butler and Hall James Peterson. Their initiative inspired others, including Harry Drake, Martin Weinstein, and Fred and Ellen Wells. More recently, the creation of the Alfred and Ingrid Lenz Harrison Fund and the establishment of the Harrison Photography Galleries (364 &amp; 365) have given the department enormous momentum. These superb new galleries are devoted to presenting the permanent collection. In addition, Linda and Lawrence Perlman established the Perlman Gallery (262), which is dedicated to featuring contemporary photography and is located in the Mia’s Target Wing, hosting <a href=\\\"http://www2.artsMia.org/blogs/new-pictures\\\">New Pictures</a>, a semi-annual series highlighting emerging photographers from around the world. You, too, can contribute to and enjoy special access to exhibitions and events by joining the <a href=\\\"http://new.artsMia.org/join-and-invest/affinity-groups/\\\">Photography &amp; New Media Affinity Group</a>.\\r\\n\\r\\nOver the years, the Department of Photography &amp; New Media has been committed to using its collection for educational purposes, and the Mia now serves as a major resource for the five-state region. Numerous exhibitions drawn from the collection have traveled to other institutions, and students and teachers frequently visit the galleries and <a href=\\\"http://new.artsMia.org/visit/museum-facilities/study-rooms/\\\">Photography Study Room</a> to learn from the collection firsthand. Click on the photograph below to browse the collection and prepare for your next visit to the Mia.`,\n  prints: `The Department of Prints &amp; Drawings keeps up an active program of thematic exhibitions, but it is also the Mia’s hidden treasure chest. At any given time, only a fraction of the museum’s collection of nearly 40,000 prints and 3,000 drawings is on view in the galleries. Nearly all, however, are available to the public in the comfort of the <a href=\\\"http://new.artsMia.org/visit/study-rooms/\\\">Herschel V. Jones Print Study Room</a>. To prepare for your visit, please make an appointment by phone (612) 870-3105 or by e-mail (<a href=\\\"mailto:printstudy@artsMia.org\\\">printstudy@artsMia.org</a>).\\r\\n\\r\\nMany of the greatest European and American artists from the Renaissance to the present are represented, often in considerable depth and quality. Among the highlights are old master prints by Albrecht Dürer and Rembrandt van Rijn; Jacopo de’Barbari’s amazing bird’s-eye view of Venice; a rare presentation copy of Francisco de Goya’s <em>Los Caprichos</em>; a fabulous monotype by William Blake; extensive holdings in nineteenth-century French and British prints and drawings, featuring artists such as James McNeill Whistler, Edgar Degas, and Félix Buhot; and outstanding twentieth-century drawings by Lovis Corinth, Egon Schiele, Ernst Ludwig Kirchner, Erich Heckel, Piet Mondrian, Georges Rouault, Henri Matisse, Jasper Johns, Andy Warhol, Roy Lichtenstein, Jim Dine, Ed Ruscha, Nicola Hicks, and many more. The department is building its collection of twenty-first-century prints and drawings, which is reaching ever further beyond America and Europe to other parts of the world. P&amp;D has secured works by William Kentridge, Julie Mehretu, Mequitta Ahuja, Jaune Quick-to-See Smith, Chuck Close, Luis Jimenez, Cynthia Lin, Carlos Amorales, Diane Victor, and more.\\r\\n\\r\\nThere are also fascinating collections within the collection. The department has a large number of books designed and illustrated by artists, which is especially rich in works from France. Students of modern printmaking will want to explore the Vermillion Editions Limited Archival Collection, which contains examples of all the prints published by that Twin Cities press as well as preparatory drawings, proofs, and maquettes that led to the finished work. Botanical, zoological, fashion, and ornamental illustrations from the fifteenth through the twentieth centuries all figure in the mix, as does a wide array of works by Minnesota and regional artists.\\r\\n\\r\\nThe <a href=\\\"http://new.artsMia.org/join-and-invest/affinity-groups/\\\">Prints &amp; Drawings Affinity Group</a> provides a terrific opportunity to learn more about this vital field of art, to meet others with similar interests, and to help the Mia improve its ability to make art available to the public.`,\n  cssaa: `The Department of Chinese and South and Southeast Asian Art has benefited greatly from generous gifts from knowledgeable collectors. Augustus L. Searle, Alfred F. Pillsbury, Richard P. Gale, Louis W. Hill, Jr., and Ruth and Bruce Dayton have donated collections of international reputation. These include ancient Chinese bronzes, ancient and post-Song jade, Chinese monochrome ceramics, and classical Chinese furniture. In addition, curators have built exquisite collections of Qing dynasty silk textiles and Miao textiles.\\r\\n\\r\\nSome of the first works of art to enter the museum’s collection were from South (India, Bangladesh, Sri Lanka, Pakistan, Nepal, Bhutan, and Afghanistan) and Southeast Asia (Cambodia, Laos, Myanmar, Thailand, Malaysia, Vietnam, Singapore, Indonesia, Brunei and the Philippines), beginning in 1914 when Charles Freer donated several Thai Buddhist sculptures.  In 1929 Sarah Bell Pillsbury Gale gave the museum its first major Indian work of art, a 12th century bronze (ca. 1100) Dancing Shiva (Nataraja).  The highlight of the South Asian collection is a monumental stone Yogini sculpture from 10<span style=\\\"font-size: 11px;\\\">th </span>century south India. Today the South Asian collection numbers about 150 objects and the Southeast Asian collection numbers around 183.\\r\\n\\r\\nWithin the galleries there are two Chinese period rooms including an original reception hall from the late Ming dynasty and a ca. 1700 Suzchou-area library.`,\n  jka: `The collection of Japanese and Korean art includes over 7,000 works ranging from ancient to contemporary and is amongst the top five collections in the United States. The permanent display space for Japanese art is the largest in the Western world with 15 galleries and over 10,000 square feet (930 sqm). The collection itself includes Buddhist sculpture, woodblock prints, paintings, lacquer, works of bamboo, and ceramics, and it is particularly rich in works from the Edo period (1610–1868).\\r\\n\\r\\nTwo historic rooms, a formal audience hall (<i>shoin</i>) and a teahouse (<i>chashitsu</i>), allow highly visible installations within the permanent galleries and serve to heighten awareness of the relationship between art and architecture.</p><p>The Department of Japanese and Korean art has benefited greatly from generous gifts from knowledgeable collectors. Richard P. Gale, Louis W. Hill, Jr., Ruth and Bruce Dayton, and Ellen and Fred Wells have all donated specialized collections of international reputation. With the addition of over 1,500 works of art from the collections of Elizabeth and Willard “Bill” Clark and the Clark Center for Japanese Art in 2013 and half of the world-renowned Mary Griggs Burke collection, the Japanese and Korean art galleries are no doubt a destination for both art enthusiasts and scholars alike.</p><p>The department is dedicated to providing the public with a broad overview of Japanese and Korean art. By showcasing art both chronologically and by medium, the galleries show the history of not only the objects themselves, but also of a collected process of artistic creation. This can be seen, for example, by the scope of ceramics, ranging from early utilitarian to contemporary sculptures.</p><p>Of notable strength is the collection of <i>ukiyo-e</i> paintings and prints, popularly known as “pictures of the floating world”. The core of the collection was built by Richard P. Gale and Louis W. Hill, Jr., and the Gale bequest included some 57 paintings and 206 prints, many of which are rare and in admirable condition. A strong collection of <i>Ōtsu-e</i>, folk paintings produced in and around the town of Ōtsu during the Edo period, came from collectors Edson and Harriet Spencer who also donated their collection of tiger paintings.`,\n}\n\nmodule.exports = DepartmentDecorator\n"
      ]
    },
    "mtime": 1485807805242
  },
  "{\"filename\":\"/var/www/art/src/department-slug.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar toSlug = require('speakingurl');\n\n// { full name: short name, …}\nvar representations = {\n  \"Art of Africa and the Americas\": 'africa',\n  \"Contemporary Art\": 'contemporary',\n  \"Decorative Arts, Textiles and Sculpture\": 'dats',\n  \"Paintings\": 'paintings',\n  \"Photography and New Media\": 'photography',\n  \"Prints and Drawings\": 'prints',\n  \"Chinese, South and Southeast Asian Art\": 'cssaa',\n  \"Japanese and Korean Art\": 'jka'\n};\n\n// Associate [full name, short name, slug]\nvar nameTriple = Object.keys(representations).map(function (key) {\n  return [key, representations[key], toSlug(key)];\n}, []);\n\nmodule.exports = function (deptSelector) {\n  return nameTriple.find(function (triple) {\n    if (triple.indexOf(deptSelector) > -1) return triple;\n  });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZGVwYXJ0bWVudC1zbHVnLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBOzs7QUFHbkMsSUFBSSxlQUFlLEdBQUc7QUFDcEIsa0NBQWdDLEVBQUUsUUFBUTtBQUMxQyxvQkFBa0IsRUFBRSxjQUFjO0FBQ2xDLDJDQUF5QyxFQUFFLE1BQU07QUFDakQsYUFBVyxFQUFFLFdBQVc7QUFDeEIsNkJBQTJCLEVBQUUsYUFBYTtBQUMxQyx1QkFBcUIsRUFBRSxRQUFRO0FBQy9CLDBDQUF3QyxFQUFFLE9BQU87QUFDakQsMkJBQXlCLEVBQUUsS0FBSztDQUNqQyxDQUFBOzs7QUFHRCxJQUFJLFVBQVUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFBLEdBQUc7U0FBSSxDQUFDLEdBQUcsRUFBRSxlQUFlLENBQUMsR0FBRyxDQUFDLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0NBQUEsRUFBRSxFQUFFLENBQUMsQ0FBQTs7QUFFdEcsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFBLFlBQVk7U0FBSSxVQUFVLENBQUMsSUFBSSxDQUFDLFVBQUMsTUFBTSxFQUFLO0FBQzNELFFBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxPQUFPLE1BQU0sQ0FBQTtHQUNwRCxDQUFDO0NBQUEsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2RlcGFydG1lbnQtc2x1Zy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciB0b1NsdWcgPSByZXF1aXJlKCdzcGVha2luZ3VybCcpXG5cbi8vIHsgZnVsbCBuYW1lOiBzaG9ydCBuYW1lLCDigKZ9XG52YXIgcmVwcmVzZW50YXRpb25zID0ge1xuICBcIkFydCBvZiBBZnJpY2EgYW5kIHRoZSBBbWVyaWNhc1wiOiAnYWZyaWNhJyxcbiAgXCJDb250ZW1wb3JhcnkgQXJ0XCI6ICdjb250ZW1wb3JhcnknLFxuICBcIkRlY29yYXRpdmUgQXJ0cywgVGV4dGlsZXMgYW5kIFNjdWxwdHVyZVwiOiAnZGF0cycsXG4gIFwiUGFpbnRpbmdzXCI6ICdwYWludGluZ3MnLFxuICBcIlBob3RvZ3JhcGh5IGFuZCBOZXcgTWVkaWFcIjogJ3Bob3RvZ3JhcGh5JyxcbiAgXCJQcmludHMgYW5kIERyYXdpbmdzXCI6ICdwcmludHMnLFxuICBcIkNoaW5lc2UsIFNvdXRoIGFuZCBTb3V0aGVhc3QgQXNpYW4gQXJ0XCI6ICdjc3NhYScsXG4gIFwiSmFwYW5lc2UgYW5kIEtvcmVhbiBBcnRcIjogJ2prYSdcbn1cblxuLy8gQXNzb2NpYXRlIFtmdWxsIG5hbWUsIHNob3J0IG5hbWUsIHNsdWddXG52YXIgbmFtZVRyaXBsZSA9IE9iamVjdC5rZXlzKHJlcHJlc2VudGF0aW9ucykubWFwKGtleSA9PiBba2V5LCByZXByZXNlbnRhdGlvbnNba2V5XSwgdG9TbHVnKGtleSldLCBbXSlcblxubW9kdWxlLmV4cG9ydHMgPSBkZXB0U2VsZWN0b3IgPT4gbmFtZVRyaXBsZS5maW5kKCh0cmlwbGUpID0+IHtcbiAgaWYodHJpcGxlLmluZGV4T2YoZGVwdFNlbGVjdG9yKSA+IC0xKSByZXR1cm4gdHJpcGxlXG59KVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/department-slug.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,MAAM,GAAG,OAAO,CAAC,aAAa,CAAC,CAAA;;;AAGnC,IAAI,eAAe,GAAG;AACpB,kCAAgC,EAAE,QAAQ;AAC1C,oBAAkB,EAAE,cAAc;AAClC,2CAAyC,EAAE,MAAM;AACjD,aAAW,EAAE,WAAW;AACxB,6BAA2B,EAAE,aAAa;AAC1C,uBAAqB,EAAE,QAAQ;AAC/B,0CAAwC,EAAE,OAAO;AACjD,2BAAyB,EAAE,KAAK;CACjC,CAAA;;;AAGD,IAAI,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,UAAA,GAAG;SAAI,CAAC,GAAG,EAAE,eAAe,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC;CAAA,EAAE,EAAE,CAAC,CAAA;;AAEtG,MAAM,CAAC,OAAO,GAAG,UAAA,YAAY;SAAI,UAAU,CAAC,IAAI,CAAC,UAAC,MAAM,EAAK;AAC3D,QAAG,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,MAAM,CAAA;GACpD,CAAC;CAAA,CAAA",
      "file": "/var/www/art/src/department-slug.js",
      "sourcesContent": [
        "var toSlug = require('speakingurl')\n\n// { full name: short name, …}\nvar representations = {\n  \"Art of Africa and the Americas\": 'africa',\n  \"Contemporary Art\": 'contemporary',\n  \"Decorative Arts, Textiles and Sculpture\": 'dats',\n  \"Paintings\": 'paintings',\n  \"Photography and New Media\": 'photography',\n  \"Prints and Drawings\": 'prints',\n  \"Chinese, South and Southeast Asian Art\": 'cssaa',\n  \"Japanese and Korean Art\": 'jka'\n}\n\n// Associate [full name, short name, slug]\nvar nameTriple = Object.keys(representations).map(key => [key, representations[key], toSlug(key)], [])\n\nmodule.exports = deptSelector => nameTriple.find((triple) => {\n  if(triple.indexOf(deptSelector) > -1) return triple\n})\n"
      ]
    },
    "mtime": 1465405261330
  },
  "{\"filename\":\"/var/www/art/src/decorate/gallery.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "sliced-to-array"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar React = require('react');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar rest = require('rest');\n\nvar _require2 = require('../../data/galleries.json');\n\nvar galleries = _require2.galleries;\nvar messages = _require2.messages;\n\nvar Markdown = require('../markdown');\nvar Map = require('../map');\nvar galleryPanelUrl = require('../endpoints').galleryPanel;\n\nvar GalleryDecorator = React.createClass({\n  displayName: 'GalleryDecorator',\n\n  getGalleryInfo: function getGalleryInfo(gallery) {\n    // gallery can either be `G215` or `room:G215` (or `room:\"G215\"`)\n    // or, \"Not on View\", in which case skip retrieving info\n    if (this.props.notOnView) return null;\n    var galleryId = gallery.match(/(room:)?\"?([^\"]*)\"?/)[2];\n    var number = galleryId.replace(/g/i, '');\n    if (number == '266-274') number = '266-G274';\n    var galleryInfo = galleries[number];\n    this.fetchData(number);\n\n    return {\n      number: number,\n      galleryInfo: galleryInfo,\n      panel: this.props.galleryPanel\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return this.getGalleryInfo(this.props.gallery);\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    var dontUpdate = this.props.gallery == nextProps.gallery && this.props.showFullInfo == nextProps.showFullInfo;\n\n    if (!dontUpdate) this.setState(this.getGalleryInfo(nextProps.gallery));\n  },\n\n  render: function render() {\n    if (this.props.notOnView) return React.createElement(NotOnViewGalleryDecorator, null);\n    var _state = this.state;\n    var number = _state.number;\n    var galleryInfo = _state.galleryInfo;\n    var panel = _state.panel;\n\n    var showFullInfo = this.props.showFullGalleryInfo;\n    if (panel && !showFullInfo) {\n      panel = panel.split('\\n').slice(0, 3).join('\\n');\n    }\n\n    var _nextPrevLinks = this.nextPrevLinks();\n\n    var _nextPrevLinks2 = _slicedToArray(_nextPrevLinks, 2);\n\n    var prevLink = _nextPrevLinks2[0];\n    var nextLink = _nextPrevLinks2[1];\n\n    var mapProps = {\n      closed: true,\n      number: number,\n      prevLink: prevLink,\n      nextLink: nextLink\n    };\n\n    if (!panel && !galleryInfo) return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'h1',\n        null,\n        'Gallery Not Found!'\n      ),\n      React.createElement(\n        Link,\n        { to: 'galleries' },\n        'Show all galleries'\n      )\n    );\n\n    return React.createElement(\n      'div',\n      { style: { clear: 'both' }, className: 'decorator d-gallery' },\n      React.createElement(\n        'div',\n        null,\n        React.createElement(Map, mapProps)\n      ),\n      (panel || galleryInfo) && React.createElement(\n        'div',\n        { className: 'info' },\n        panel && React.createElement(\n          Markdown,\n          null,\n          panel\n        ),\n        galleryInfo && React.createElement(\n          'p',\n          null,\n          React.createElement(\n            'strong',\n            null,\n            galleryInfo.title\n          )\n        ),\n        !showFullInfo && React.createElement(\n          Link,\n          { to: 'gallery', params: { gallery: number } },\n          'More info'\n        )\n      ),\n      React.createElement('hr', { style: { clear: 'both', visibility: 'hidden' } })\n    );\n  },\n\n  nextPrevLinks: function nextPrevLinks() {\n    var _this = this;\n\n    var _state2 = this.state;\n    var number = _state2.number;\n    var galleryInfo = _state2.galleryInfo;\n    var panel = _state2.panel;\n\n    if (!galleryInfo) return [];\n\n    var prev = galleryInfo.prev;\n    var next = galleryInfo.next;\n\n    var linkParams = function linkParams(adjacentGallery) {\n      return _this.props.showFullGalleryInfo ? { to: 'gallery', params: { gallery: adjacentGallery } } : { to: 'searchResults', params: { terms: 'G' + adjacentGallery } };\n    };\n\n    return [prev && React.createElement(\n      Link,\n      linkParams(prev),\n      '← G',\n      prev\n    ), next && React.createElement(\n      Link,\n      linkParams(next),\n      'G',\n      next,\n      ' →'\n    )];\n  },\n\n  fetchData: function fetchData(number) {\n    var _this2 = this;\n\n    rest(galleryPanelUrl(number || this.state.number)).then(function (result) {\n      _this2.setState({\n        panel: result.status.code == 200 ? result.entity : ''\n      });\n    });\n  },\n\n  componentDidMount: function componentDidMount() {\n    if (!this.props.notOnView) this.fetchData();\n  }\n});\n\nmodule.exports = GalleryDecorator;\n\nvar NotOnViewGalleryDecorator = React.createClass({\n  displayName: 'NotOnViewGalleryDecorator',\n\n  render: function render() {\n    var message = 'Very few of the artworks at Mia can be \"on view\" at any point in time.\\n\\n' + \"The museum's [Print and Photograph Study Rooms](https://new.artsmia.org/visit/study-rooms/) offer individuals and groups the opportunity to examine off-view artworks (including woodcuts, engravings, etchings, lithographs, screenprints, drawings, watercolors, artist’s books, photography, and new media) upon appointment.\";\n\n    return React.createElement(\n      Markdown,\n      null,\n      message\n    );\n  }\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZGVjb3JhdGUvZ2FsbGVyeS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBOztlQUNmLE9BQU8sQ0FBQyxjQUFjLENBQUM7O0lBQS9CLElBQUksWUFBSixJQUFJOztBQUNULElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQTs7Z0JBRUUsT0FBTyxDQUFDLDJCQUEyQixDQUFDOztJQUEzRCxTQUFTLGFBQVQsU0FBUztJQUFFLFFBQVEsYUFBUixRQUFROztBQUN4QixJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUE7QUFDckMsSUFBSSxHQUFHLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQzNCLElBQUksZUFBZSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQyxZQUFZLENBQUE7O0FBRTFELElBQUksZ0JBQWdCLEdBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ3hDLGdCQUFjLEVBQUEsd0JBQUMsT0FBTyxFQUFFOzs7QUFHdEIsUUFBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxPQUFPLElBQUksQ0FBQTtBQUNwQyxRQUFJLFNBQVMsR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDdkQsUUFBSSxNQUFNLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUE7QUFDeEMsUUFBRyxNQUFNLElBQUksU0FBUyxFQUFFLE1BQU0sR0FBRyxVQUFVLENBQUE7QUFDM0MsUUFBSSxXQUFXLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFBO0FBQ25DLFFBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUE7O0FBRXRCLFdBQU87QUFDTCxZQUFNLEVBQU4sTUFBTTtBQUNO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VSxDQUFBOztBQUVsVSxXQUFPO0FBQUMsY0FBUTs7TUFBRSxPQUFPO0tBQVksQ0FBQTtHQUN0QztDQUNGLENBQUMsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2RlY29yYXRlL2dhbGxlcnkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIge0xpbmt9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG5cbnZhciB7Z2FsbGVyaWVzLCBtZXNzYWdlc30gPSByZXF1aXJlKCcuLi8uLi9kYXRhL2dhbGxlcmllcy5qc29uJylcbnZhciBNYXJrZG93biA9IHJlcXVpcmUoJy4uL21hcmtkb3duJylcbnZhciBNYXAgPSByZXF1aXJlKCcuLi9tYXAnKVxudmFyIGdhbGxlcnlQYW5lbFVybCA9IHJlcXVpcmUoJy4uL2VuZHBvaW50cycpLmdhbGxlcnlQYW5lbFxuXG52YXIgR2FsbGVyeURlY29yYXRvciA9ICBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEdhbGxlcnlJbmZvKGdhbGxlcnkpIHtcbiAgICAvLyBnYWxsZXJ5IGNhbiBlaXRoZXIgYmUgYEcyMTVgIG9yIGByb29tOkcyMTVgIChvciBgcm9vbTpcIkcyMTVcImApXG4gICAgLy8gb3IsIFwiTm90IG9uIFZpZXdcIiwgaW4gd2hpY2ggY2FzZSBza2lwIHJldHJpZXZpbmcgaW5mb1xuICAgIGlmKHRoaXMucHJvcHMubm90T25WaWV3KSByZXR1cm4gbnVsbFxuICAgIHZhciBnYWxsZXJ5SWQgPSBnYWxsZXJ5Lm1hdGNoKC8ocm9vbTopP1wiPyhbXlwiXSopXCI/LylbMl1cbiAgICB2YXIgbnVtYmVyID0gZ2FsbGVyeUlkLnJlcGxhY2UoL2cvaSwgJycpXG4gICAgaWYobnVtYmVyID09ICcyNjYtMjc0JykgbnVtYmVyID0gJzI2Ni1HMjc0J1xuICAgIHZhciBnYWxsZXJ5SW5mbyA9IGdhbGxlcmllc1tudW1iZXJdXG4gICAgdGhpcy5mZXRjaERhdGEobnVtYmVyKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIG51bWJlcixcbiAgICAgIGdhbGxlcnlJbmZvLFxuICAgICAgcGFuZWw6IHRoaXMucHJvcHMuZ2FsbGVyeVBhbmVsLFxuICAgIH1cbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0R2FsbGVyeUluZm8odGhpcy5wcm9wcy5nYWxsZXJ5KVxuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgdmFyIGRvbnRVcGRhdGUgPSB0aGlzLnByb3BzLmdhbGxlcnkgPT0gbmV4dFByb3BzLmdhbGxlcnkgJiZcbiAgICAgIHRoaXMucHJvcHMuc2hvd0Z1bGxJbmZvID09IG5leHRQcm9wcy5zaG93RnVsbEluZm9cblxuICAgIGlmKCFkb250VXBkYXRlKSB0aGlzLnNldFN0YXRlKHRoaXMuZ2V0R2FsbGVyeUluZm8obmV4dFByb3BzLmdhbGxlcnkpKVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICBpZih0aGlzLnByb3BzLm5vdE9uVmlldykgcmV0dXJuIDxOb3RPblZpZXdHYWxsZXJ5RGVjb3JhdG9yIC8+XG4gICAgdmFyIHtudW1iZXIsIGdhbGxlcnlJbmZvLCBwYW5lbH0gPSB0aGlzLnN0YXRlXG4gICAgdmFyIHNob3dGdWxsSW5mbyA9IHRoaXMucHJvcHMuc2hvd0Z1bGxHYWxsZXJ5SW5mb1xuICAgIGlmKHBhbmVsICYmICFzaG93RnVsbEluZm8pIHtcbiAgICAgIHBhbmVsID0gcGFuZWwuc3BsaXQoJ1xcbicpLnNsaWNlKDAsMykuam9pbignXFxuJylcbiAgICB9XG5cbiAgICBsZXQgW3ByZXZMaW5rLCBuZXh0TGlua10gPSB0aGlzLm5leHRQcmV2TGlua3MoKVxuXG4gICAgbGV0IG1hcFByb3BzID0ge1xuICAgICAgY2xvc2VkOiB0cnVlLFxuICAgICAgbnVtYmVyLFxuICAgICAgcHJldkxpbmssXG4gICAgICBuZXh0TGluayxcbiAgICB9XG5cbiAgICBpZighcGFuZWwgJiYgIWdhbGxlcnlJbmZvKSByZXR1cm4gPGRpdj5cbiAgICAgIDxoMT5HYWxsZXJ5IE5vdCBGb3VuZCE8L2gxPlxuICAgICAgPExpbmsgdG89XCJnYWxsZXJpZXNcIj5TaG93IGFsbCBnYWxsZXJpZXM8L0xpbms+XG4gICAgPC9kaXY+XG5cbiAgICByZXR1cm4gPGRpdiBzdHlsZT17e2NsZWFyOiAnYm90aCd9fSBjbGFzc05hbWU9XCJkZWNvcmF0b3IgZC1nYWxsZXJ5XCI+XG4gICAgICA8ZGl2PlxuICAgICAgICA8TWFwIHsuLi5tYXBQcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgICAgeyhwYW5lbCB8fCBnYWxsZXJ5SW5mbykgJiYgPGRpdiBjbGFzc05hbWU9XCJpbmZvXCI+XG4gICAgICAgIHtwYW5lbCAmJiA8TWFya2Rvd24+e3BhbmVsfTwvTWFya2Rvd24+fVxuICAgICAgICB7Z2FsbGVyeUluZm8gJiYgPHA+PHN0cm9uZz57Z2FsbGVyeUluZm8udGl0bGV9PC9zdHJvbmc+PC9wPn1cbiAgICAgICAgeyFzaG93RnVsbEluZm8gJiYgPExpbmsgdG89J2dhbGxlcnknIHBhcmFtcz17e2dhbGxlcnk6IG51bWJlcn19Pk1vcmUgaW5mbzwvTGluaz59XG4gICAgICA8L2Rpdj59XG4gICAgICA8aHIgc3R5bGU9e3tjbGVhcjogJ2JvdGgnLCB2aXNpYmlsaXR5OiAnaGlkZGVuJ319IC8+XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgbmV4dFByZXZMaW5rcygpIHtcbiAgICB2YXIge251bWJlciwgZ2FsbGVyeUluZm8sIHBhbmVsfSA9IHRoaXMuc3RhdGVcbiAgICBpZighZ2FsbGVyeUluZm8pIHJldHVybiBbXVxuXG4gICAgdmFyIHtwcmV2LCBuZXh0fSA9IGdhbGxlcnlJbmZvXG5cbiAgICB2YXIgbGlua1BhcmFtcyA9IChhZGphY2VudEdhbGxlcnkpID0+IHRoaXMucHJvcHMuc2hvd0Z1bGxHYWxsZXJ5SW5mbyA/XG4gICAgICB7dG86ICdnYWxsZXJ5JywgcGFyYW1zOiB7Z2FsbGVyeTogYWRqYWNlbnRHYWxsZXJ5fX0gOlxuICAgICAge3RvOiAnc2VhcmNoUmVzdWx0cycsIHBhcmFtczoge3Rlcm1zOiBgRyR7YWRqYWNlbnRHYWxsZXJ5fWB9fVxuXG4gICAgcmV0dXJuIFtcbiAgICAgIHByZXYgJiYgPExpbmsgey4uLmxpbmtQYXJhbXMocHJldil9PiZsYXJyOyBHe3ByZXZ9PC9MaW5rPixcbiAgICAgIG5leHQgJiYgPExpbmsgey4uLmxpbmtQYXJhbXMobmV4dCl9Pkd7bmV4dH0gJnJhcnI7PC9MaW5rPixcbiAgICBdXG4gIH0sXG5cbiAgZmV0Y2hEYXRhKG51bWJlcikge1xuICAgIHJlc3QoZ2FsbGVyeVBhbmVsVXJsKG51bWJlciB8fCB0aGlzLnN0YXRlLm51bWJlcikpXG4gICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHBhbmVsOiByZXN1bHQuc3RhdHVzLmNvZGUgPT0gMjAwID8gcmVzdWx0LmVudGl0eSA6ICcnLFxuICAgICAgfSlcbiAgICB9KVxuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmKCF0aGlzLnByb3BzLm5vdE9uVmlldykgdGhpcy5mZXRjaERhdGEoKVxuICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBHYWxsZXJ5RGVjb3JhdG9yXG5cbnZhciBOb3RPblZpZXdHYWxsZXJ5RGVjb3JhdG9yID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIG1lc3NhZ2UgPSAnVmVyeSBmZXcgb2YgdGhlIGFydHdvcmtzIGF0IE1pYSBjYW4gYmUgXCJvbiB2aWV3XCIgYXQgYW55IHBvaW50IGluIHRpbWUuXFxuXFxuJyArXG4gICAgXCJUaGUgbXVzZXVtJ3MgW1ByaW50IGFuZCBQaG90b2dyYXBoIFN0dWR5IFJvb21zXShodHRwczovL25ldy5hcnRzbWlhLm9yZy92aXNpdC9zdHVkeS1yb29tcy8pIG9mZmVyIGluZGl2aWR1YWxzIGFuZCBncm91cHMgdGhlIG9wcG9ydHVuaXR5IHRvIGV4YW1pbmUgb2ZmLXZpZXcgYXJ0d29ya3MgKGluY2x1ZGluZyB3b29kY3V0cywgZW5ncmF2aW5ncywgZXRjaGluZ3MsIGxpdGhvZ3JhcGhzLCBzY3JlZW5wcmludHMsIGRyYXdpbmdzLCB3YXRlcmNvbG9ycywgYXJ0aXN04oCZcyBib29rcywgcGhvdG9ncmFwaHksIGFuZCBuZXcgbWVkaWEpIHVwb24gYXBwb2ludG1lbnQuXCJcblxuICAgIHJldHVybiA8TWFya2Rvd24+e21lc3NhZ2V9PC9NYXJrZG93bj5cbiAgfVxufSlcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/decorate/gallery.js"
      ],
      "names": [],
      "mappings": ";;;;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;eACf,OAAO,CAAC,cAAc,CAAC;;IAA/B,IAAI,YAAJ,IAAI;;AACT,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;;gBAEE,OAAO,CAAC,2BAA2B,CAAC;;IAA3D,SAAS,aAAT,SAAS;IAAE,QAAQ,aAAR,QAAQ;;AACxB,IAAI,QAAQ,GAAG,OAAO,CAAC,aAAa,CAAC,CAAA;AACrC,IAAI,GAAG,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAA;AAC3B,IAAI,eAAe,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC,YAAY,CAAA;;AAE1D,IAAI,gBAAgB,GAAI,KAAK,CAAC,WAAW,CAAC;;;AACxC,gBAAc,EAAA,wBAAC,OAAO,EAAE;;;AAGtB,QAAG,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,OAAO,IAAI,CAAA;AACpC,QAAI,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,CAAA;AACvD,QAAI,MAAM,GAAG,SAAS,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAA;AACxC,QAAG,MAAM,IAAI,SAAS,EAAE,MAAM,GAAG,UAAU,CAAA;AAC3C,QAAI,WAAW,GAAG,SAAS,CAAC,MAAM,CAAC,CAAA;AACnC,QAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAA;;AAEtB,WAAO;AACL,YAAM,EAAN,MAAM;AACN,iBAAW,EAAX,WAAW;AACX,WAAK,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY;KAC/B,CAAA;GACF;;AAED,iBAAe,EAAA,2BAAG;AAChB,WAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAA;GAC/C;;AAED,2BAAyB,EAAA,mCAAC,SAAS,EAAE;AACnC,QAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,IAAI,SAAS,CAAC,OAAO,IACtD,IAAI,CAAC,KAAK,CAAC,YAAY,IAAI,SAAS,CAAC,YAAY,CAAA;;AAEnD,QAAG,CAAC,UAAU,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAA;GACtE;;AAED,QAAM,EAAA,kBAAG;AACP,QAAG,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,OAAO,oBAAC,yBAAyB,OAAG,CAAA;iBAC1B,IAAI,CAAC,KAAK;QAAxC,MAAM,UAAN,MAAM;QAAE,WAAW,UAAX,WAAW;QAAE,KAAK,UAAL,KAAK;;AAC/B,QAAI,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,mBAAmB,CAAA;AACjD,QAAG,KAAK,IAAI,CAAC,YAAY,EAAE;AACzB,WAAK,GAAG,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;KAChD;;yBAE0B,IAAI,CAAC,aAAa,EAAE;;;;QAA1C,QAAQ;QAAE,QAAQ;;AAEvB,QAAI,QAAQ,GAAG;AACb,YAAM,EAAE,IAAI;AACZ,YAAM,EAAN,MAAM;AACN,cAAQ,EAAR,QAAQ;AACR,cAAQ,EAAR,QAAQ;KACT,CAAA;;AAED,QAAG,CAAC,KAAK,IAAI,CAAC,WAAW,EAAE,OAAO;;;MAChC;;;;OAA2B;MAC3B;AAAC,YAAI;UAAC,EAAE,EAAC,WAAW;;OAA0B;KAC1C,CAAA;;AAEN,WAAO;;QAAK,KAAK,EAAE,EAAC,KAAK,EAAE,MAAM,EAAC,AAAC,EAAC,SAAS,EAAC,qBAAqB;MACjE;;;QACE,oBAAC,GAAG,EAAK,QAAQ,CAAI;OACjB;MACL,CAAC,KAAK,IAAI,WAAW,CAAA,IAAK;;UAAK,SAAS,EAAC,MAAM;QAC7C,KAAK,IAAI;AAAC,kBAAQ;;UAAE,KAAK;SAAY;QACrC,WAAW,IAAI;;;UAAG;;;YAAS,WAAW,CAAC,KAAK;WAAU;SAAI;QAC1D,CAAC,YAAY,IAAI;AAAC,cAAI;YAAC,EAAE,EAAC,SAAS,EAAC,MAAM,EAAE,EAAC,OAAO,EAAE,MAAM,EAAC,AAAC;;SAAiB;OAC5E;MACN,4BAAI,KAAK,EAAE,EAAC,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAC,AAAC,GAAG;KAChD,CAAA;GACP;;AAED,eAAa,EAAA,yBAAG;;;kBACqB,IAAI,CAAC,KAAK;QAAxC,MAAM,WAAN,MAAM;QAAE,WAAW,WAAX,WAAW;QAAE,KAAK,WAAL,KAAK;;AAC/B,QAAG,CAAC,WAAW,EAAE,OAAO,EAAE,CAAA;;QAErB,IAAI,GAAU,WAAW,CAAzB,IAAI;QAAE,IAAI,GAAI,WAAW,CAAnB,IAAI;;AAEf,QAAI,UAAU,GAAG,SAAb,UAAU,CAAI,eAAe;aAAK,MAAK,KAAK,CAAC,mBAAmB,GAClE,EAAC,EAAE,EAAE,SAAS,EAAE,MAAM,EAAE,EAAC,OAAO,EAAE,eAAe,EAAC,EAAC,GACnD,EAAC,EAAE,EAAE,eAAe,EAAE,MAAM,EAAE,EAAC,KAAK,QAAM,eAAe,AAAE,EAAC,EAAC;KAAA,CAAA;;AAE/D,WAAO,CACL,IAAI,IAAI;AAAC,UAAI;MAAK,UAAU,CAAC,IAAI,CAAC;;MAAW,IAAI;KAAQ,EACzD,IAAI,IAAI;AAAC,UAAI;MAAK,UAAU,CAAC,IAAI,CAAC;;MAAI,IAAI;;KAAe,CAC1D,CAAA;GACF;;AAED,WAAS,EAAA,mBAAC,MAAM,EAAE;;;AAChB,QAAI,CAAC,eAAe,CAAC,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CACjD,IAAI,CAAC,UAAC,MAAM,EAAK;AAChB,aAAK,QAAQ,CAAC;AACZ,aAAK,EAAE,MAAM,CAAC,MAAM,CAAC,IAAI,IAAI,GAAG,GAAG,MAAM,CAAC,MAAM,GAAG,EAAE;OACtD,CAAC,CAAA;KACH,CAAC,CAAA;GACH;;AAED,mBAAiB,EAAA,6BAAG;AAClB,QAAG,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,CAAA;GAC3C;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,gBAAgB,CAAA;;AAEjC,IAAI,yBAAyB,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAChD,QAAM,EAAA,kBAAG;AACP,QAAI,OAAO,GAAG,4EAA4E,GAC1F,kUAAkU,CAAA;;AAElU,WAAO;AAAC,cAAQ;;MAAE,OAAO;KAAY,CAAA;GACtC;CACF,CAAC,CAAA",
      "file": "/var/www/art/src/decorate/gallery.js",
      "sourcesContent": [
        "var React = require('react')\nvar {Link} = require('react-router')\nvar rest = require('rest')\n\nvar {galleries, messages} = require('../../data/galleries.json')\nvar Markdown = require('../markdown')\nvar Map = require('../map')\nvar galleryPanelUrl = require('../endpoints').galleryPanel\n\nvar GalleryDecorator =  React.createClass({\n  getGalleryInfo(gallery) {\n    // gallery can either be `G215` or `room:G215` (or `room:\"G215\"`)\n    // or, \"Not on View\", in which case skip retrieving info\n    if(this.props.notOnView) return null\n    var galleryId = gallery.match(/(room:)?\"?([^\"]*)\"?/)[2]\n    var number = galleryId.replace(/g/i, '')\n    if(number == '266-274') number = '266-G274'\n    var galleryInfo = galleries[number]\n    this.fetchData(number)\n\n    return {\n      number,\n      galleryInfo,\n      panel: this.props.galleryPanel,\n    }\n  },\n\n  getInitialState() {\n    return this.getGalleryInfo(this.props.gallery)\n  },\n\n  componentWillReceiveProps(nextProps) {\n    var dontUpdate = this.props.gallery == nextProps.gallery &&\n      this.props.showFullInfo == nextProps.showFullInfo\n\n    if(!dontUpdate) this.setState(this.getGalleryInfo(nextProps.gallery))\n  },\n\n  render() {\n    if(this.props.notOnView) return <NotOnViewGalleryDecorator />\n    var {number, galleryInfo, panel} = this.state\n    var showFullInfo = this.props.showFullGalleryInfo\n    if(panel && !showFullInfo) {\n      panel = panel.split('\\n').slice(0,3).join('\\n')\n    }\n\n    let [prevLink, nextLink] = this.nextPrevLinks()\n\n    let mapProps = {\n      closed: true,\n      number,\n      prevLink,\n      nextLink,\n    }\n\n    if(!panel && !galleryInfo) return <div>\n      <h1>Gallery Not Found!</h1>\n      <Link to=\"galleries\">Show all galleries</Link>\n    </div>\n\n    return <div style={{clear: 'both'}} className=\"decorator d-gallery\">\n      <div>\n        <Map {...mapProps} />\n      </div>\n      {(panel || galleryInfo) && <div className=\"info\">\n        {panel && <Markdown>{panel}</Markdown>}\n        {galleryInfo && <p><strong>{galleryInfo.title}</strong></p>}\n        {!showFullInfo && <Link to='gallery' params={{gallery: number}}>More info</Link>}\n      </div>}\n      <hr style={{clear: 'both', visibility: 'hidden'}} />\n    </div>\n  },\n\n  nextPrevLinks() {\n    var {number, galleryInfo, panel} = this.state\n    if(!galleryInfo) return []\n\n    var {prev, next} = galleryInfo\n\n    var linkParams = (adjacentGallery) => this.props.showFullGalleryInfo ?\n      {to: 'gallery', params: {gallery: adjacentGallery}} :\n      {to: 'searchResults', params: {terms: `G${adjacentGallery}`}}\n\n    return [\n      prev && <Link {...linkParams(prev)}>&larr; G{prev}</Link>,\n      next && <Link {...linkParams(next)}>G{next} &rarr;</Link>,\n    ]\n  },\n\n  fetchData(number) {\n    rest(galleryPanelUrl(number || this.state.number))\n    .then((result) => {\n      this.setState({\n        panel: result.status.code == 200 ? result.entity : '',\n      })\n    })\n  },\n\n  componentDidMount() {\n    if(!this.props.notOnView) this.fetchData()\n  },\n})\n\nmodule.exports = GalleryDecorator\n\nvar NotOnViewGalleryDecorator = React.createClass({\n  render() {\n    var message = 'Very few of the artworks at Mia can be \"on view\" at any point in time.\\n\\n' +\n    \"The museum's [Print and Photograph Study Rooms](https://new.artsmia.org/visit/study-rooms/) offer individuals and groups the opportunity to examine off-view artworks (including woodcuts, engravings, etchings, lithographs, screenprints, drawings, watercolors, artist’s books, photography, and new media) upon appointment.\"\n\n    return <Markdown>{message}</Markdown>\n  }\n})\n"
      ]
    },
    "mtime": 1485807805242
  },
  "{\"filename\":\"/var/www/art/src/map.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "object-without-properties"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\nvar Router = require('react-router');\nvar cx = require('classnames');\nvar Isvg = require('react-inlinesvg');\n\nvar Map = React.createClass({\n  displayName: 'Map',\n\n  mixins: [Router.Navigation],\n\n  render: function render() {\n    var _this = this;\n\n    var _props = this.props;\n    var number = _props.number;\n    var prevLink = _props.prevLink;\n    var nextLink = _props.nextLink;\n\n    var extraProps = _objectWithoutProperties(_props, ['number', 'prevLink', 'nextLink']);\n\n    var thumbnail = React.createElement('img', {\n      src: 'https://artsmia.github.io/map/galleries/' + number + '.png',\n      onClick: this.handleClick\n    });\n    var floor = this.state.floor || this.props.floor || parseInt(parseInt(number) / 100);\n    var svg = React.createElement(\n      'div',\n      { style: { cursor: 'pointer' } },\n      React.createElement(\n        'div',\n        {\n          onClick: this.handleMapClick,\n          onMouseOver: this.handleMouseOver,\n          onMouseOut: this.handleMouseOut },\n        React.createElement(\n          Isvg,\n          {\n            src: '/map/svgs/' + floor + '.svg',\n            key: floor,\n            onLoad: this.handleSvgLoad,\n            preloader: React.createClass({ render: function render() {\n                return thumbnail;\n              } })\n          },\n          thumbnail\n        )\n      ),\n      React.createElement(FloorControls, {\n        map: this,\n        active: floor,\n        handleChange: this.changeFloor,\n        closeMap: function () {\n          return _this.setState({ open: false });\n        },\n        startOpen: this.props.startOpen\n      })\n    );\n\n    return React.createElement(\n      'div',\n      extraProps,\n      React.createElement(\n        'div',\n        { className: cx('map', { open: this.state.open }) },\n        this.state.open ? svg : thumbnail\n      ),\n      number && (prevLink || nextLink) && React.createElement(\n        'div',\n        { style: { textAlign: 'center' } },\n        prevLink,\n        React.createElement(\n          'span',\n          null,\n          ' G',\n          number,\n          ' '\n        ),\n        nextLink\n      )\n    );\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      open: this.props.startOpen || false\n    };\n  },\n\n  handleClick: function handleClick() {\n    if (!this.state.open) return this.setState({ open: true });\n  },\n\n  handleMapClick: function handleMapClick(event) {\n    var text = this.getSvgText(event.target);\n    if (text) {\n      var gallery = text.textContent.match(/(\\d+a?)/)[0];\n      if (266 <= parseInt(gallery) && parseInt(gallery) <= 274) gallery = '266-G274';\n      this.highlightGallery(text);\n      this.changeGallery(gallery);\n    }\n  },\n\n  handleMouseOver: function handleMouseOver(event) {\n    if (!this.state.open) return; // don't handle mouseover until map opens\n\n    var text = this.getSvgText(event.target);\n    if (text) {\n      var gallery = text.textContent.match(/(\\d+a?)/)[0];\n      this.hoverGallery(text);\n      this.props.onHover && this.props.onHover(gallery);\n    }\n  },\n\n  handleMouseOut: function handleMouseOut(event) {\n    this.setState({ hoveredPoly: null });\n  },\n\n  // recursively climb the SVG from where the click event happened\n  // until we find a `<text>` node, which will tell us what gallery\n  // was clicked\n  getSvgText: function getSvgText(node) {\n    var wantedNode = arguments.length <= 1 || arguments[1] === undefined ? 'text' : arguments[1];\n\n    if (node.nodeName == wantedNode) return node;\n\n    var parent = node.parentElement;\n    if (parent.nodeName !== 'g') return null;\n\n    var next = parent.querySelector(wantedNode) || parent;\n    return this.getSvgText(next);\n  },\n\n  handleSvgLoad: function handleSvgLoad(event) {\n    var _this2 = this;\n\n    var allTexts = React.findDOMNode(this).querySelectorAll('svg text');\n    var activeText = Array.from(allTexts).filter(function (t) {\n      return t.textContent == _this2.props.number;\n    });\n    this.highlightGallery(activeText && activeText[0]);\n  },\n\n  changeGallery: function changeGallery(nextGallery) {\n    this.transitionTo('gallery', { gallery: nextGallery });\n  },\n\n  highlightGallery: function highlightGallery(element) {\n    var poly = this.colorGallery(element);\n    var activePoly = this.state.activePoly;\n\n    this.setState({ activePoly: poly });\n  },\n\n  hoverGallery: function hoverGallery(element) {\n    var poly = this.colorGallery(element);\n    var hoveredPoly = this.state.hoveredPoly;\n\n    this.setState({ hoveredPoly: poly });\n  },\n\n  colorGallery: function colorGallery(element) {\n    if (!element) return;\n    var accentColor = '#fff';\n    var poly = element.parentElement.querySelector('polygon');\n    poly && poly.style.setProperty('fill', accentColor);\n    return poly;\n  },\n\n  resetGallery: function resetGallery(poly) {\n    // `style.fill` overrides the `fill` attribute without clobbering it\n    // so we can reset it to the original color with `''`\n    poly && poly.style.setProperty('fill', '');\n  },\n\n  componentDidUpdate: function componentDidUpdate(prevProps, prevState) {\n    var prevActive = prevState.activePoly;\n    var prevHovered = prevState.hoveredPoly;\n    var _state = this.state;\n    var activePoly = _state.activePoly;\n    var hoveredPoly = _state.hoveredPoly;\n\n    if (prevActive != activePoly) this.resetGallery(prevActive);\n    if (prevHovered != hoveredPoly && prevHovered != activePoly) this.resetGallery(prevHovered);\n\n    if (prevProps.number !== this.props.number) {\n      this.handleSvgLoad(); // reset the highlighted gallery\n    }\n  },\n\n  changeFloor: function changeFloor(toFloor) {\n    this.setState({ floor: toFloor });\n  }\n});\n\nvar FloorControls = React.createClass({\n  displayName: 'FloorControls',\n\n  render: function render() {\n    var _this3 = this;\n\n    var buttonStyle = { display: 'block' };\n    var floorControls = [3, 2, 1].map(function (_floor) {\n      var text = _floor == _this3.props.active ? 'floor ' + _floor : _floor;\n      return React.createElement(\n        'button',\n        { style: buttonStyle, onClick: _this3.props.handleChange.bind(_this3.props.map, _floor), key: _floor },\n        text\n      );\n    });\n\n    var controlStyle = {\n      float: 'right',\n      margin: '-7em 2em 0 0',\n      position: 'relative',\n      zIndex: '10'\n    };\n\n    return React.createElement(\n      'div',\n      { style: controlStyle },\n      floorControls,\n      !this.props.startOpen && React.createElement(\n        'button',\n        { style: buttonStyle, onClick: this.props.closeMap },\n        'close map'\n      )\n    );\n  }\n});\n\nmodule.exports = Map;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvbWFwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0FBQ3BDLElBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTtBQUM5QixJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQTs7QUFFckMsSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQzFCLFFBQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUM7O0FBRTNCLFFBQU0sRUFBQSxrQkFBRzs7O2lCQUMyQyxJQUFJLENBQUMsS0FBSztRQUF2RCxNQUFNLFVBQU4sTUFBTTtRQUFFLFFBQVEsVUFBUixRQUFRO1FBQUUsUUFBUSxVQUFSLFFBQVE7O1FBQUssVUFBVTs7QUFDOUMsUUFBSSxTQUFTLEdBQUc7QUFDWixTQUFHLCtDQUE2QyxNQUFNLFNBQU87QUFDN0QsYUFBTyxFQUFFLElBQUksQ0FBQyxXQUFXLEFBQUM7TUFDeEIsQ0FBQTtBQUNOLFFBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxJQUN2QixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssSUFDaEIsUUFBUSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsR0FBQyxHQUFHLENBQUMsQ0FBQTtBQUNuQyxRQUFJLEdBQUcsR0FBRzs7UUFBSyxLQUFLLEVBQUUsRUFBQyxNQUFNLEVBQUUsU0FBUyxFQUFDLEFBQUM7TUFDeEM7OztBQUNFLGlCQUFPLEVBQUUsSUFBSSxDQUFDLGNBQWMsQUFBQztBQUM3QixxQkFBVyxFQUFFLElBQUksQ0FBQyxlQUFlLEFBQUM7QUFDbEMsb0JBQVUsRUFBRSxJQUFJLENBQUMsY0FBYyxBQUFDO1FBQ2hDO0FBQUMsY0FBSTs7QUFD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YztBQUN0QixjQUFRLEVBQUUsVUFBVTtBQUNwQixZQUFNLEVBQUUsSUFBSTtLQUNiLENBQUE7O0FBRUQsV0FBTzs7UUFBSyxLQUFLLEVBQUUsWUFBWSxBQUFDO01BQzdCLGFBQWE7TUFDYixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxJQUFJOztVQUFRLEtBQUssRUFBRSxXQUFXLEFBQUMsRUFBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEFBQUM7O09BQW1CO0tBQ2xHLENBQUE7R0FDUDtDQUNGLENBQUMsQ0FBQTs7QUFFRixNQUFNLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL21hcC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIGN4ID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpXG52YXIgSXN2ZyA9IHJlcXVpcmUoJ3JlYWN0LWlubGluZXN2ZycpXG5cbnZhciBNYXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIG1peGluczogW1JvdXRlci5OYXZpZ2F0aW9uXSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHtudW1iZXIsIHByZXZMaW5rLCBuZXh0TGluaywgLi4uZXh0cmFQcm9wc30gPSB0aGlzLnByb3BzXG4gICAgdmFyIHRodW1ibmFpbCA9IDxpbWdcbiAgICAgICAgc3JjPXtgaHR0cHM6Ly9hcnRzbWlhLmdpdGh1Yi5pby9tYXAvZ2FsbGVyaWVzLyR7bnVtYmVyfS5wbmdgfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfVxuICAgICAgICAvPlxuICAgIHZhciBmbG9vciA9IHRoaXMuc3RhdGUuZmxvb3JcbiAgICAgIHx8IHRoaXMucHJvcHMuZmxvb3JcbiAgICAgIHx8IHBhcnNlSW50KHBhcnNlSW50KG51bWJlcikvMTAwKVxuICAgIHZhciBzdmcgPSA8ZGl2IHN0eWxlPXt7Y3Vyc29yOiAncG9pbnRlcid9fT5cbiAgICAgIDxkaXZcbiAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVNYXBDbGlja31cbiAgICAgICAgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlTW91c2VPdmVyfVxuICAgICAgICBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZU1vdXNlT3V0fT5cbiAgICAgICAgPElzdmdcbiAgICAgICAgICBzcmM9e2AvbWFwL3N2Z3MvJHtmbG9vcn0uc3ZnYH1cbiAgICAgICAgICBrZXk9e2Zsb29yfVxuICAgICAgICAgIG9uTG9hZD17dGhpcy5oYW5kbGVTdmdMb2FkfVxuICAgICAgICAgIHByZWxvYWRlcj17UmVhY3QuY3JlYXRlQ2xhc3Moe3JlbmRlcjogKCkgPT4gdGh1bWJuYWlsfSl9XG4gICAgICAgID5cbiAgICAgICAgICB7dGh1bWJuYWlsfVxuICAgICAgICA8L0lzdmc+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxGbG9vckNvbnRyb2xzXG4gICAgICAgIG1hcD17dGhpc31cbiAgICAgICAgYWN0aXZlPXtmbG9vcn1cbiAgICAgICAgaGFuZGxlQ2hhbmdlPXt0aGlzLmNoYW5nZUZsb29yfVxuICAgICAgICBjbG9zZU1hcD17KCkgPT4gdGhpcy5zZXRTdGF0ZSh7b3BlbjogZmFsc2V9KX1cbiAgICAgICAgc3RhcnRPcGVuPXt0aGlzLnByb3BzLnN0YXJ0T3Blbn1cbiAgICAgICAgLz5cbiAgICA8L2Rpdj5cblxuICAgIHJldHVybiA8ZGl2IHsuLi5leHRyYVByb3BzfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjeCgnbWFwJywge29wZW46IHRoaXMuc3RhdGUub3Blbn0pfT5cbiAgICAgICAge3RoaXMuc3RhdGUub3BlbiA/IHN2ZyA6IHRodW1ibmFpbH1cbiAgICAgIDwvZGl2PlxuICAgICAge251bWJlciAmJiAocHJldkxpbmsgfHwgbmV4dExpbmspICYmIDxkaXYgc3R5bGU9e3t0ZXh0QWxpZ246ICdjZW50ZXInfX0+XG4gICAgICAgIHtwcmV2TGlua31cbiAgICAgICAgPHNwYW4+IEd7bnVtYmVyfSA8L3NwYW4+XG4gICAgICAgIHtuZXh0TGlua31cbiAgICAgIDwvZGl2Pn1cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9wZW46IHRoaXMucHJvcHMuc3RhcnRPcGVuIHx8IGZhbHNlLFxuICAgIH1cbiAgfSxcblxuICBoYW5kbGVDbGljaygpIHtcbiAgICBpZighdGhpcy5zdGF0ZS5vcGVuKSByZXR1cm4gdGhpcy5zZXRTdGF0ZSh7b3BlbjogdHJ1ZX0pXG4gIH0sXG5cbiAgaGFuZGxlTWFwQ2xpY2soZXZlbnQpIHtcbiAgICB2YXIgdGV4dCA9IHRoaXMuZ2V0U3ZnVGV4dChldmVudC50YXJnZXQpXG4gICAgaWYodGV4dCkge1xuICAgICAgdmFyIGdhbGxlcnkgPSB0ZXh0LnRleHRDb250ZW50Lm1hdGNoKC8oXFxkK2E/KS8pWzBdXG4gICAgICBpZigyNjYgPD0gcGFyc2VJbnQoZ2FsbGVyeSkgJiYgcGFyc2VJbnQoZ2FsbGVyeSkgPD0gMjc0KSBnYWxsZXJ5ID0gJzI2Ni1HMjc0J1xuICAgICAgdGhpcy5oaWdobGlnaHRHYWxsZXJ5KHRleHQpXG4gICAgICB0aGlzLmNoYW5nZUdhbGxlcnkoZ2FsbGVyeSlcbiAgICB9XG4gIH0sXG5cbiAgaGFuZGxlTW91c2VPdmVyKGV2ZW50KSB7XG4gICAgaWYoIXRoaXMuc3RhdGUub3BlbikgcmV0dXJuIC8vIGRvbid0IGhhbmRsZSBtb3VzZW92ZXIgdW50aWwgbWFwIG9wZW5zXG5cbiAgICB2YXIgdGV4dCA9IHRoaXMuZ2V0U3ZnVGV4dChldmVudC50YXJnZXQpXG4gICAgaWYodGV4dCkge1xuICAgICAgdmFyIGdhbGxlcnkgPSB0ZXh0LnRleHRDb250ZW50Lm1hdGNoKC8oXFxkK2E/KS8pWzBdXG4gICAgICB0aGlzLmhvdmVyR2FsbGVyeSh0ZXh0KVxuICAgICAgdGhpcy5wcm9wcy5vbkhvdmVyICYmIHRoaXMucHJvcHMub25Ib3ZlcihnYWxsZXJ5KVxuICAgIH1cbiAgfSxcblxuICBoYW5kbGVNb3VzZU91dChldmVudCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe2hvdmVyZWRQb2x5OiBudWxsfSlcbiAgfSxcblxuICAvLyByZWN1cnNpdmVseSBjbGltYiB0aGUgU1ZHIGZyb20gd2hlcmUgdGhlIGNsaWNrIGV2ZW50IGhhcHBlbmVkXG4gIC8vIHVudGlsIHdlIGZpbmQgYSBgPHRleHQ+YCBub2RlLCB3aGljaCB3aWxsIHRlbGwgdXMgd2hhdCBnYWxsZXJ5XG4gIC8vIHdhcyBjbGlja2VkXG4gIGdldFN2Z1RleHQobm9kZSwgd2FudGVkTm9kZT0ndGV4dCcpIHtcbiAgICBpZihub2RlLm5vZGVOYW1lID09IHdhbnRlZE5vZGUpIHJldHVybiBub2RlXG5cbiAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnRFbGVtZW50XG4gICAgaWYocGFyZW50Lm5vZGVOYW1lICE9PSAnZycpIHJldHVybiBudWxsXG5cbiAgICB2YXIgbmV4dCA9IHBhcmVudC5xdWVyeVNlbGVjdG9yKHdhbnRlZE5vZGUpIHx8IHBhcmVudFxuICAgIHJldHVybiB0aGlzLmdldFN2Z1RleHQobmV4dClcbiAgfSxcblxuICBoYW5kbGVTdmdMb2FkKGV2ZW50KSB7XG4gICAgdmFyIGFsbFRleHRzID0gUmVhY3QuZmluZERPTU5vZGUodGhpcykucXVlcnlTZWxlY3RvckFsbCgnc3ZnIHRleHQnKVxuICAgIHZhciBhY3RpdmVUZXh0ID0gQXJyYXkuZnJvbShhbGxUZXh0cylcbiAgICAuZmlsdGVyKHQgPT4gdC50ZXh0Q29udGVudCA9PSB0aGlzLnByb3BzLm51bWJlcilcbiAgICB0aGlzLmhpZ2hsaWdodEdhbGxlcnkoYWN0aXZlVGV4dCAmJiBhY3RpdmVUZXh0WzBdKVxuICB9LFxuXG4gIGNoYW5nZUdhbGxlcnkobmV4dEdhbGxlcnkpIHtcbiAgICB0aGlzLnRyYW5zaXRpb25UbygnZ2FsbGVyeScsIHtnYWxsZXJ5OiBuZXh0R2FsbGVyeX0pXG4gIH0sXG5cbiAgaGlnaGxpZ2h0R2FsbGVyeShlbGVtZW50KSB7XG4gICAgdmFyIHBvbHkgPSB0aGlzLmNvbG9yR2FsbGVyeShlbGVtZW50KVxuICAgIHZhciB7YWN0aXZlUG9seX0gPSB0aGlzLnN0YXRlXG4gICAgdGhpcy5zZXRTdGF0ZSh7YWN0aXZlUG9seTogcG9seX0pXG4gIH0sXG5cbiAgaG92ZXJHYWxsZXJ5KGVsZW1lbnQpIHtcbiAgICB2YXIgcG9seSA9IHRoaXMuY29sb3JHYWxsZXJ5KGVsZW1lbnQpXG4gICAgdmFyIHtob3ZlcmVkUG9seX0gPSB0aGlzLnN0YXRlXG4gICAgdGhpcy5zZXRTdGF0ZSh7aG92ZXJlZFBvbHk6IHBvbHl9KVxuICB9LFxuXG4gIGNvbG9yR2FsbGVyeShlbGVtZW50KSB7XG4gICAgaWYoIWVsZW1lbnQpIHJldHVyblxuICAgIHZhciBhY2NlbnRDb2xvciA9ICcjZmZmJ1xuICAgIHZhciBwb2x5ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3BvbHlnb24nKVxuICAgIHBvbHkgJiYgcG9seS5zdHlsZS5zZXRQcm9wZXJ0eSgnZmlsbCcsIGFjY2VudENvbG9yKVxuICAgIHJldHVybiBwb2x5XG4gIH0sXG5cbiAgcmVzZXRHYWxsZXJ5KHBvbHkpIHtcbiAgICAvLyBgc3R5bGUuZmlsbGAgb3ZlcnJpZGVzIHRoZSBgZmlsbGAgYXR0cmlidXRlIHdpdGhvdXQgY2xvYmJlcmluZyBpdFxuICAgIC8vIHNvIHdlIGNhbiByZXNldCBpdCB0byB0aGUgb3JpZ2luYWwgY29sb3Igd2l0aCBgJydgXG4gICAgcG9seSAmJiBwb2x5LnN0eWxlLnNldFByb3BlcnR5KCdmaWxsJywgJycpXG4gIH0sXG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgbGV0IHByZXZBY3RpdmUgPSBwcmV2U3RhdGUuYWN0aXZlUG9seVxuICAgIGxldCBwcmV2SG92ZXJlZCA9IHByZXZTdGF0ZS5ob3ZlcmVkUG9seVxuICAgIGxldCB7YWN0aXZlUG9seSwgaG92ZXJlZFBvbHl9ID0gdGhpcy5zdGF0ZVxuXG4gICAgaWYocHJldkFjdGl2ZSAhPSBhY3RpdmVQb2x5KSB0aGlzLnJlc2V0R2FsbGVyeShwcmV2QWN0aXZlKVxuICAgIGlmKHByZXZIb3ZlcmVkICE9IGhvdmVyZWRQb2x5ICYmIHByZXZIb3ZlcmVkICE9IGFjdGl2ZVBvbHkpIHRoaXMucmVzZXRHYWxsZXJ5KHByZXZIb3ZlcmVkKVxuXG4gICAgaWYocHJldlByb3BzLm51bWJlciAhPT0gdGhpcy5wcm9wcy5udW1iZXIpIHtcbiAgICAgIHRoaXMuaGFuZGxlU3ZnTG9hZCgpIC8vIHJlc2V0IHRoZSBoaWdobGlnaHRlZCBnYWxsZXJ5XG4gICAgfVxuICB9LFxuXG4gIGNoYW5nZUZsb29yKHRvRmxvb3IpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtmbG9vcjogdG9GbG9vcn0pXG4gIH0sXG59KVxuXG52YXIgRmxvb3JDb250cm9scyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciBidXR0b25TdHlsZSA9IHtkaXNwbGF5OiAnYmxvY2snfVxuICAgIHZhciBmbG9vckNvbnRyb2xzID0gWzMsMiwxXS5tYXAoX2Zsb29yID0+IHtcbiAgICAgIHZhciB0ZXh0ID0gX2Zsb29yID09IHRoaXMucHJvcHMuYWN0aXZlID8gYGZsb29yICR7X2Zsb29yfWAgOiBfZmxvb3JcbiAgICAgIHJldHVybiA8YnV0dG9uIHN0eWxlPXtidXR0b25TdHlsZX0gb25DbGljaz17dGhpcy5wcm9wcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzLnByb3BzLm1hcCwgX2Zsb29yKX0ga2V5PXtfZmxvb3J9PlxuICAgICAgICB7dGV4dH1cbiAgICAgIDwvYnV0dG9uPlxuICAgIH0pXG5cbiAgICB2YXIgY29udHJvbFN0eWxlID0ge1xuICAgICAgZmxvYXQ6ICdyaWdodCcsXG4gICAgICBtYXJnaW46ICctN2VtIDJlbSAwIDAnLFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICB6SW5kZXg6ICcxMCcsXG4gICAgfVxuXG4gICAgcmV0dXJuIDxkaXYgc3R5bGU9e2NvbnRyb2xTdHlsZX0+XG4gICAgICB7Zmxvb3JDb250cm9sc31cbiAgICAgIHshdGhpcy5wcm9wcy5zdGFydE9wZW4gJiYgPGJ1dHRvbiBzdHlsZT17YnV0dG9uU3R5bGV9IG9uQ2xpY2s9e3RoaXMucHJvcHMuY2xvc2VNYXB9PmNsb3NlIG1hcDwvYnV0dG9uPn1cbiAgICA8L2Rpdj5cbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gTWFwXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/map.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/map.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar cx = require('classnames')\nvar Isvg = require('react-inlinesvg')\n\nvar Map = React.createClass({\n  mixins: [Router.Navigation],\n\n  render() {\n    var {number, prevLink, nextLink, ...extraProps} = this.props\n    var thumbnail = <img\n        src={`https://artsmia.github.io/map/galleries/${number}.png`}\n        onClick={this.handleClick}\n        />\n    var floor = this.state.floor\n      || this.props.floor\n      || parseInt(parseInt(number)/100)\n    var svg = <div style={{cursor: 'pointer'}}>\n      <div\n        onClick={this.handleMapClick}\n        onMouseOver={this.handleMouseOver}\n        onMouseOut={this.handleMouseOut}>\n        <Isvg\n          src={`/map/svgs/${floor}.svg`}\n          key={floor}\n          onLoad={this.handleSvgLoad}\n          preloader={React.createClass({render: () => thumbnail})}\n        >\n          {thumbnail}\n        </Isvg>\n      </div>\n      <FloorControls\n        map={this}\n        active={floor}\n        handleChange={this.changeFloor}\n        closeMap={() => this.setState({open: false})}\n        startOpen={this.props.startOpen}\n        />\n    </div>\n\n    return <div {...extraProps}>\n      <div className={cx('map', {open: this.state.open})}>\n        {this.state.open ? svg : thumbnail}\n      </div>\n      {number && (prevLink || nextLink) && <div style={{textAlign: 'center'}}>\n        {prevLink}\n        <span> G{number} </span>\n        {nextLink}\n      </div>}\n    </div>\n  },\n\n  getInitialState() {\n    return {\n      open: this.props.startOpen || false,\n    }\n  },\n\n  handleClick() {\n    if(!this.state.open) return this.setState({open: true})\n  },\n\n  handleMapClick(event) {\n    var text = this.getSvgText(event.target)\n    if(text) {\n      var gallery = text.textContent.match(/(\\d+a?)/)[0]\n      if(266 <= parseInt(gallery) && parseInt(gallery) <= 274) gallery = '266-G274'\n      this.highlightGallery(text)\n      this.changeGallery(gallery)\n    }\n  },\n\n  handleMouseOver(event) {\n    if(!this.state.open) return // don't handle mouseover until map opens\n\n    var text = this.getSvgText(event.target)\n    if(text) {\n      var gallery = text.textContent.match(/(\\d+a?)/)[0]\n      this.hoverGallery(text)\n      this.props.onHover && this.props.onHover(gallery)\n    }\n  },\n\n  handleMouseOut(event) {\n    this.setState({hoveredPoly: null})\n  },\n\n  // recursively climb the SVG from where the click event happened\n  // until we find a `<text>` node, which will tell us what gallery\n  // was clicked\n  getSvgText(node, wantedNode='text') {\n    if(node.nodeName == wantedNode) return node\n\n    var parent = node.parentElement\n    if(parent.nodeName !== 'g') return null\n\n    var next = parent.querySelector(wantedNode) || parent\n    return this.getSvgText(next)\n  },\n\n  handleSvgLoad(event) {\n    var allTexts = React.findDOMNode(this).querySelectorAll('svg text')\n    var activeText = Array.from(allTexts)\n    .filter(t => t.textContent == this.props.number)\n    this.highlightGallery(activeText && activeText[0])\n  },\n\n  changeGallery(nextGallery) {\n    this.transitionTo('gallery', {gallery: nextGallery})\n  },\n\n  highlightGallery(element) {\n    var poly = this.colorGallery(element)\n    var {activePoly} = this.state\n    this.setState({activePoly: poly})\n  },\n\n  hoverGallery(element) {\n    var poly = this.colorGallery(element)\n    var {hoveredPoly} = this.state\n    this.setState({hoveredPoly: poly})\n  },\n\n  colorGallery(element) {\n    if(!element) return\n    var accentColor = '#fff'\n    var poly = element.parentElement.querySelector('polygon')\n    poly && poly.style.setProperty('fill', accentColor)\n    return poly\n  },\n\n  resetGallery(poly) {\n    // `style.fill` overrides the `fill` attribute without clobbering it\n    // so we can reset it to the original color with `''`\n    poly && poly.style.setProperty('fill', '')\n  },\n\n  componentDidUpdate(prevProps, prevState) {\n    let prevActive = prevState.activePoly\n    let prevHovered = prevState.hoveredPoly\n    let {activePoly, hoveredPoly} = this.state\n\n    if(prevActive != activePoly) this.resetGallery(prevActive)\n    if(prevHovered != hoveredPoly && prevHovered != activePoly) this.resetGallery(prevHovered)\n\n    if(prevProps.number !== this.props.number) {\n      this.handleSvgLoad() // reset the highlighted gallery\n    }\n  },\n\n  changeFloor(toFloor) {\n    this.setState({floor: toFloor})\n  },\n})\n\nvar FloorControls = React.createClass({\n  render() {\n    var buttonStyle = {display: 'block'}\n    var floorControls = [3,2,1].map(_floor => {\n      var text = _floor == this.props.active ? `floor ${_floor}` : _floor\n      return <button style={buttonStyle} onClick={this.props.handleChange.bind(this.props.map, _floor)} key={_floor}>\n        {text}\n      </button>\n    })\n\n    var controlStyle = {\n      float: 'right',\n      margin: '-7em 2em 0 0',\n      position: 'relative',\n      zIndex: '10',\n    }\n\n    return <div style={controlStyle}>\n      {floorControls}\n      {!this.props.startOpen && <button style={buttonStyle} onClick={this.props.closeMap}>close map</button>}\n    </div>\n  },\n})\n\nmodule.exports = Map\n"
      ]
    },
    "mtime": 1487953287530
  },
  "{\"filename\":\"/var/www/art/src/decorate/highlights.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "\"use strict\";\n\nvar React = require('react');\n\nvar HighlightsDecorator = React.createClass({\n  displayName: \"HighlightsDecorator\",\n\n  render: function render() {\n    return React.createElement(\n      \"div\",\n      { className: \"decorator d-highlights\" },\n      React.createElement(\n        \"p\",\n        null,\n        \"These are the highlights of Mia's collection. The must-see masterpieces, the beloved visitor favorites, the great stories of the museum. Each has something important to say about creativity and wonder, the world and our place in it. What do they say to you?\"\n      )\n    );\n  }\n});\n\nmodule.exports = HighlightsDecorator;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZGVjb3JhdGUvaGlnaGxpZ2h0cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTs7QUFFNUIsSUFBSSxtQkFBbUIsR0FBSSxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDM0MsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsV0FBTzs7UUFBSyxTQUFTLEVBQUMsd0JBQXdCO01BQUM7Ozs7T0FLM0M7S0FBTSxDQUFBO0dBQ1g7Q0FDRixDQUFDLENBQUE7O0FBRUYsTUFBTSxDQUFDLE9BQU8sR0FBRyxtQkFBbUIsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2RlY29yYXRlL2hpZ2hsaWdodHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG5cbnZhciBIaWdobGlnaHRzRGVjb3JhdG9yID0gIFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImRlY29yYXRvciBkLWhpZ2hsaWdodHNcIj48cD5cbiAgICAgIFRoZXNlIGFyZSB0aGUgaGlnaGxpZ2h0cyBvZiBNaWEncyBjb2xsZWN0aW9uLiBUaGUgbXVzdC1zZWUgbWFzdGVycGllY2VzLFxuICAgICAgdGhlIGJlbG92ZWQgdmlzaXRvciBmYXZvcml0ZXMsIHRoZSBncmVhdCBzdG9yaWVzIG9mIHRoZSBtdXNldW0uIEVhY2ggaGFzXG4gICAgICBzb21ldGhpbmcgaW1wb3J0YW50IHRvIHNheSBhYm91dCBjcmVhdGl2aXR5IGFuZCB3b25kZXIsIHRoZSB3b3JsZCBhbmQgb3VyXG4gICAgICBwbGFjZSBpbiBpdC4gV2hhdCBkbyB0aGV5IHNheSB0byB5b3U/XG4gICAgPC9wPjwvZGl2PlxuICB9XG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IEhpZ2hsaWdodHNEZWNvcmF0b3JcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/decorate/highlights.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;AAE5B,IAAI,mBAAmB,GAAI,KAAK,CAAC,WAAW,CAAC;;;AAC3C,QAAM,EAAA,kBAAG;AACP,WAAO;;QAAK,SAAS,EAAC,wBAAwB;MAAC;;;;OAK3C;KAAM,CAAA;GACX;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,mBAAmB,CAAA",
      "file": "/var/www/art/src/decorate/highlights.js",
      "sourcesContent": [
        "var React = require('react')\n\nvar HighlightsDecorator =  React.createClass({\n  render() {\n    return <div className=\"decorator d-highlights\"><p>\n      These are the highlights of Mia's collection. The must-see masterpieces,\n      the beloved visitor favorites, the great stories of the museum. Each has\n      something important to say about creativity and wonder, the world and our\n      place in it. What do they say to you?\n    </p></div>\n  }\n})\n\nmodule.exports = HighlightsDecorator\n"
      ]
    },
    "mtime": 1447960210959
  },
  "{\"filename\":\"/var/www/art/src/decorate/recent.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "\"use strict\";\n\nvar React = require('react');\n\nvar RecentDecorator = React.createClass({\n  displayName: \"RecentDecorator\",\n\n  render: function render() {\n    return React.createElement(\n      \"div\",\n      { className: \"decorator d-highlights\" },\n      React.createElement(\n        \"p\",\n        null,\n        \"Mia continues to add important artworks to its collection that enrich our perspectives on artists, eras, and cultures.\"\n      )\n    );\n  }\n});\n\nmodule.exports = RecentDecorator;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZGVjb3JhdGUvcmVjZW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBOztBQUU1QixJQUFJLGVBQWUsR0FBSSxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDdkMsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsV0FBTzs7UUFBSyxTQUFTLEVBQUMsd0JBQXdCO01BQUM7Ozs7T0FHM0M7S0FBTSxDQUFBO0dBQ1g7Q0FDRixDQUFDLENBQUE7O0FBRUYsTUFBTSxDQUFDLE9BQU8sR0FBRyxlQUFlLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9kZWNvcmF0ZS9yZWNlbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG5cbnZhciBSZWNlbnREZWNvcmF0b3IgPSAgUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiZGVjb3JhdG9yIGQtaGlnaGxpZ2h0c1wiPjxwPlxuICAgICAgTWlhIGNvbnRpbnVlcyB0byBhZGQgaW1wb3J0YW50IGFydHdvcmtzIHRvIGl0cyBjb2xsZWN0aW9uIHRoYXQgZW5yaWNoIG91clxuICAgICAgcGVyc3BlY3RpdmVzIG9uIGFydGlzdHMsIGVyYXMsIGFuZCBjdWx0dXJlcy5cbiAgICA8L3A+PC9kaXY+XG4gIH1cbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gUmVjZW50RGVjb3JhdG9yXG5cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/decorate/recent.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;AAE5B,IAAI,eAAe,GAAI,KAAK,CAAC,WAAW,CAAC;;;AACvC,QAAM,EAAA,kBAAG;AACP,WAAO;;QAAK,SAAS,EAAC,wBAAwB;MAAC;;;;OAG3C;KAAM,CAAA;GACX;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,eAAe,CAAA",
      "file": "/var/www/art/src/decorate/recent.js",
      "sourcesContent": [
        "var React = require('react')\n\nvar RecentDecorator =  React.createClass({\n  render() {\n    return <div className=\"decorator d-highlights\"><p>\n      Mia continues to add important artworks to its collection that enrich our\n      perspectives on artists, eras, and cultures.\n    </p></div>\n  }\n})\n\nmodule.exports = RecentDecorator\n\n"
      ]
    },
    "mtime": 1447960210959
  },
  "{\"filename\":\"/var/www/art/src/decorate/rights.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\n\nvar rightsDescriptions = require('../rights-types.js');\n\nvar RightsDecorator = React.createClass({\n  displayName: 'RightsDecorator',\n\n  render: function render() {\n    var rightsType = this.props.term[0].match(/rights:\"?([^\"]*)\"?/)[1];\n    var rightsDesc = rightsDescriptions[rightsType];\n    if (!rightsDesc) return React.createElement('span', null);\n\n    return React.createElement(\n      'div',\n      { className: 'decorator' },\n      React.createElement(\n        'h3',\n        null,\n        rightsType\n      ),\n      React.createElement(\n        'p',\n        null,\n        rightsDesc,\n        ' ',\n        React.createElement(\n          'a',\n          { href: 'https://new.artsmia.org/visit/policies-guidelines/#websiteimageaccess&use' },\n          'Mia\\'s Image Access & Use Policy'\n        )\n      )\n    );\n  }\n});\n\nmodule.exports = RightsDecorator;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZGVjb3JhdGUvcmlnaHRzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBOztBQUU1QixJQUFJLGtCQUFrQixHQUFHLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFBOztBQUV0RCxJQUFJLGVBQWUsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDdEMsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsUUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLG9CQUFvQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDbEUsUUFBSSxVQUFVLEdBQUcsa0JBQWtCLENBQUMsVUFBVSxDQUFDLENBQUE7QUFDL0MsUUFBRyxDQUFDLFVBQVUsRUFBRSxPQUFPLGlDQUFRLENBQUE7O0FBRS9CLFdBQU87O1FBQUssU0FBUyxFQUFDLFdBQVc7TUFDL0I7OztRQUFLLFVBQVU7T0FBTTtNQUNyQjs7O1FBQUksVUFBVTs7UUFBRTs7WUFBRyxJQUFJLEVBQUMsMkVBQTJFOztTQUFvQztPQUFJO0tBQ3ZJLENBQUE7R0FDUDtDQUNGLENBQUMsQ0FBQTs7QUFFRixNQUFNLENBQUMsT0FBTyxHQUFHLGVBQWUsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2RlY29yYXRlL3JpZ2h0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcblxudmFyIHJpZ2h0c0Rlc2NyaXB0aW9ucyA9IHJlcXVpcmUoJy4uL3JpZ2h0cy10eXBlcy5qcycpXG5cbnZhciBSaWdodHNEZWNvcmF0b3IgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIgcmlnaHRzVHlwZSA9IHRoaXMucHJvcHMudGVybVswXS5tYXRjaCgvcmlnaHRzOlwiPyhbXlwiXSopXCI/LylbMV1cbiAgICB2YXIgcmlnaHRzRGVzYyA9IHJpZ2h0c0Rlc2NyaXB0aW9uc1tyaWdodHNUeXBlXVxuICAgIGlmKCFyaWdodHNEZXNjKSByZXR1cm4gPHNwYW4gLz5cblxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImRlY29yYXRvclwiPlxuICAgICAgPGgzPntyaWdodHNUeXBlfTwvaDM+XG4gICAgICA8cD57cmlnaHRzRGVzY30gPGEgaHJlZj1cImh0dHBzOi8vbmV3LmFydHNtaWEub3JnL3Zpc2l0L3BvbGljaWVzLWd1aWRlbGluZXMvI3dlYnNpdGVpbWFnZWFjY2VzcyZ1c2VcIj5NaWEncyBJbWFnZSBBY2Nlc3MgJiBVc2UgUG9saWN5PC9hPjwvcD5cbiAgICA8L2Rpdj5cbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gUmlnaHRzRGVjb3JhdG9yXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/decorate/rights.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;AAE5B,IAAI,kBAAkB,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAA;;AAEtD,IAAI,eAAe,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACtC,QAAM,EAAA,kBAAG;AACP,QAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,CAAA;AAClE,QAAI,UAAU,GAAG,kBAAkB,CAAC,UAAU,CAAC,CAAA;AAC/C,QAAG,CAAC,UAAU,EAAE,OAAO,iCAAQ,CAAA;;AAE/B,WAAO;;QAAK,SAAS,EAAC,WAAW;MAC/B;;;QAAK,UAAU;OAAM;MACrB;;;QAAI,UAAU;;QAAE;;YAAG,IAAI,EAAC,2EAA2E;;SAAoC;OAAI;KACvI,CAAA;GACP;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,eAAe,CAAA",
      "file": "/var/www/art/src/decorate/rights.js",
      "sourcesContent": [
        "var React = require('react')\n\nvar rightsDescriptions = require('../rights-types.js')\n\nvar RightsDecorator = React.createClass({\n  render() {\n    var rightsType = this.props.term[0].match(/rights:\"?([^\"]*)\"?/)[1]\n    var rightsDesc = rightsDescriptions[rightsType]\n    if(!rightsDesc) return <span />\n\n    return <div className=\"decorator\">\n      <h3>{rightsType}</h3>\n      <p>{rightsDesc} <a href=\"https://new.artsmia.org/visit/policies-guidelines/#websiteimageaccess&use\">Mia's Image Access & Use Policy</a></p>\n    </div>\n  },\n})\n\nmodule.exports = RightsDecorator\n"
      ]
    },
    "mtime": 1485807805246
  },
  "{\"filename\":\"/var/www/art/src/rights-types.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "\"use strict\";\n\nmodule.exports = {\n  \"Copyright Protected\": \"Artwork is copyright protected. Permission from the rights holder named here may be required for use. A copyright statement and credit line must accompany image.\",\n  \"Full Permission\": \"Artwork is copyright protected. Mia holds a non-exclusive license to reproduce images from the rights holder named here. A copyright statement and credit line must accompany image.\",\n  \"Need Permission\": \"Copyright protection is assumed for this artwork. Object rights status has not yet been determined or assigned.\",\n  \"No Known Copyright Restrictions\": \"Artwork may be protected by some other intellectual property, or may be considered ineligible for copyright protection (ex. useful articles). Alternately, artwork may be in the public domain in the United States, but the public domain status has not or cannot be clearly determined.\",\n  \"Non-commercial Use\": \"Artwork is copyright protected. Mia holds a non-exclusive license to reproduce images of this artwork, for limited non-commercial uses only, from the rights holder named here. A copyright statement and credit line must accompany image.\",\n  \"Orphaned Work\": \"Artwork may be subject to copyright protection under the terms of current US copyright law. Mia has been unable to identify the creator and/or rights holder. The statement “Copyright of the artist, artist’s estate, or assignees” should accompany image.\",\n  \"Public Domain\": \"Artwork is in the public domain. Images are available for any use.\",\n  \"Permission Denied\": \"Artwork is copyright protected. Mia has contacted the rights holder and the rights holder denied Mia any use rights.\"\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvcmlnaHRzLXR5cGVzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTSxDQUFDLE9BQU8sR0FBRztBQUNmLHVCQUFxQixFQUFFLG1LQUFtSztBQUMxTCxtQkFBaUIsRUFBRSxzTEFBc0w7QUFDek0sbUJBQWlCLEVBQUUsaUhBQWlIO0FBQ3BJLG1DQUFpQyxFQUFFLDRSQUE0UjtBQUMvVCxzQkFBb0IsRUFBRSw2T0FBNk87QUFDblEsaUJBQWUsRUFBRSw4UEFBOFA7QUFDL1EsaUJBQWUsRUFBRSxvRUFBb0U7QUFDckYscUJBQW1CLEVBQUUsc0hBQXNIO0NBQzVJLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9yaWdodHMtdHlwZXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgXCJDb3B5cmlnaHQgUHJvdGVjdGVkXCI6IFwiQXJ0d29yayBpcyBjb3B5cmlnaHQgcHJvdGVjdGVkLiBQZXJtaXNzaW9uIGZyb20gdGhlIHJpZ2h0cyBob2xkZXIgbmFtZWQgaGVyZSBtYXkgYmUgcmVxdWlyZWQgZm9yIHVzZS4gQSBjb3B5cmlnaHQgc3RhdGVtZW50IGFuZCBjcmVkaXQgbGluZSBtdXN0IGFjY29tcGFueSBpbWFnZS5cIixcbiAgXCJGdWxsIFBlcm1pc3Npb25cIjogXCJBcnR3b3JrIGlzIGNvcHlyaWdodCBwcm90ZWN0ZWQuIE1pYSBob2xkcyBhIG5vbi1leGNsdXNpdmUgbGljZW5zZSB0byByZXByb2R1Y2UgaW1hZ2VzIGZyb20gdGhlIHJpZ2h0cyBob2xkZXIgbmFtZWQgaGVyZS4gQSBjb3B5cmlnaHQgc3RhdGVtZW50IGFuZCBjcmVkaXQgbGluZSBtdXN0IGFjY29tcGFueSBpbWFnZS5cIixcbiAgXCJOZWVkIFBlcm1pc3Npb25cIjogXCJDb3B5cmlnaHQgcHJvdGVjdGlvbiBpcyBhc3N1bWVkIGZvciB0aGlzIGFydHdvcmsuIE9iamVjdCByaWdodHMgc3RhdHVzIGhhcyBub3QgeWV0IGJlZW4gZGV0ZXJtaW5lZCBvciBhc3NpZ25lZC5cIixcbiAgXCJObyBLbm93biBDb3B5cmlnaHQgUmVzdHJpY3Rpb25zXCI6IFwiQXJ0d29yayBtYXkgYmUgcHJvdGVjdGVkIGJ5IHNvbWUgb3RoZXIgaW50ZWxsZWN0dWFsIHByb3BlcnR5LCBvciBtYXkgYmUgY29uc2lkZXJlZCBpbmVsaWdpYmxlIGZvciBjb3B5cmlnaHQgcHJvdGVjdGlvbiAoZXguIHVzZWZ1bCBhcnRpY2xlcykuIEFsdGVybmF0ZWx5LCBhcnR3b3JrIG1heSBiZSBpbiB0aGUgcHVibGljIGRvbWFpbiBpbiB0aGUgVW5pdGVkIFN0YXRlcywgYnV0IHRoZSBwdWJsaWMgZG9tYWluIHN0YXR1cyBoYXMgbm90IG9yIGNhbm5vdCBiZSBjbGVhcmx5IGRldGVybWluZWQuXCIsXG4gIFwiTm9uLWNvbW1lcmNpYWwgVXNlXCI6IFwiQXJ0d29yayBpcyBjb3B5cmlnaHQgcHJvdGVjdGVkLiBNaWEgaG9sZHMgYSBub24tZXhjbHVzaXZlIGxpY2Vuc2UgdG8gcmVwcm9kdWNlIGltYWdlcyBvZiB0aGlzIGFydHdvcmssIGZvciBsaW1pdGVkIG5vbi1jb21tZXJjaWFsIHVzZXMgb25seSwgZnJvbSB0aGUgcmlnaHRzIGhvbGRlciBuYW1lZCBoZXJlLiBBIGNvcHlyaWdodCBzdGF0ZW1lbnQgYW5kIGNyZWRpdCBsaW5lIG11c3QgYWNjb21wYW55IGltYWdlLlwiLFxuICBcIk9ycGhhbmVkIFdvcmtcIjogXCJBcnR3b3JrIG1heSBiZSBzdWJqZWN0IHRvIGNvcHlyaWdodCBwcm90ZWN0aW9uIHVuZGVyIHRoZSB0ZXJtcyBvZiBjdXJyZW50IFVTIGNvcHlyaWdodCBsYXcuIE1pYSBoYXMgYmVlbiB1bmFibGUgdG8gaWRlbnRpZnkgdGhlIGNyZWF0b3IgYW5kL29yIHJpZ2h0cyBob2xkZXIuIFRoZSBzdGF0ZW1lbnQg4oCcQ29weXJpZ2h0IG9mIHRoZSBhcnRpc3QsIGFydGlzdOKAmXMgZXN0YXRlLCBvciBhc3NpZ25lZXPigJ0gc2hvdWxkIGFjY29tcGFueSBpbWFnZS5cIixcbiAgXCJQdWJsaWMgRG9tYWluXCI6IFwiQXJ0d29yayBpcyBpbiB0aGUgcHVibGljIGRvbWFpbi4gSW1hZ2VzIGFyZSBhdmFpbGFibGUgZm9yIGFueSB1c2UuXCIsXG4gIFwiUGVybWlzc2lvbiBEZW5pZWRcIjogXCJBcnR3b3JrIGlzIGNvcHlyaWdodCBwcm90ZWN0ZWQuIE1pYSBoYXMgY29udGFjdGVkIHRoZSByaWdodHMgaG9sZGVyIGFuZCB0aGUgcmlnaHRzIGhvbGRlciBkZW5pZWQgTWlhIGFueSB1c2UgcmlnaHRzLlwiLFxufVxuXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/rights-types.js"
      ],
      "names": [],
      "mappings": ";;AAAA,MAAM,CAAC,OAAO,GAAG;AACf,uBAAqB,EAAE,mKAAmK;AAC1L,mBAAiB,EAAE,sLAAsL;AACzM,mBAAiB,EAAE,iHAAiH;AACpI,mCAAiC,EAAE,4RAA4R;AAC/T,sBAAoB,EAAE,6OAA6O;AACnQ,iBAAe,EAAE,8PAA8P;AAC/Q,iBAAe,EAAE,oEAAoE;AACrF,qBAAmB,EAAE,sHAAsH;CAC5I,CAAA",
      "file": "/var/www/art/src/rights-types.js",
      "sourcesContent": [
        "module.exports = {\n  \"Copyright Protected\": \"Artwork is copyright protected. Permission from the rights holder named here may be required for use. A copyright statement and credit line must accompany image.\",\n  \"Full Permission\": \"Artwork is copyright protected. Mia holds a non-exclusive license to reproduce images from the rights holder named here. A copyright statement and credit line must accompany image.\",\n  \"Need Permission\": \"Copyright protection is assumed for this artwork. Object rights status has not yet been determined or assigned.\",\n  \"No Known Copyright Restrictions\": \"Artwork may be protected by some other intellectual property, or may be considered ineligible for copyright protection (ex. useful articles). Alternately, artwork may be in the public domain in the United States, but the public domain status has not or cannot be clearly determined.\",\n  \"Non-commercial Use\": \"Artwork is copyright protected. Mia holds a non-exclusive license to reproduce images of this artwork, for limited non-commercial uses only, from the rights holder named here. A copyright statement and credit line must accompany image.\",\n  \"Orphaned Work\": \"Artwork may be subject to copyright protection under the terms of current US copyright law. Mia has been unable to identify the creator and/or rights holder. The statement “Copyright of the artist, artist’s estate, or assignees” should accompany image.\",\n  \"Public Domain\": \"Artwork is in the public domain. Images are available for any use.\",\n  \"Permission Denied\": \"Artwork is copyright protected. Mia has contacted the rights holder and the rights holder denied Mia any use rights.\",\n}\n\n"
      ]
    },
    "mtime": 1461184284483
  },
  "{\"filename\":\"/var/www/art/src/aggregations.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends",
        "sliced-to-array"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar Aggregations = React.createClass({\n  displayName: 'Aggregations',\n\n  getInitialState: function getInitialState() {\n    return {\n      aggs: this.buildAndSortAggregationsArray(),\n      showAdder: true\n    };\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    this.setState({ aggs: this.buildAndSortAggregationsArray(nextProps) });\n  },\n\n  render: function render() {\n    var _this = this;\n\n    var _props = this.props;\n    var search = _props.search;\n    var query = _props.query;\n    var _state = this.state;\n    var aggs = _state.aggs;\n    var showAdder = _state.showAdder;\n\n    var customFilters = this.customFilters;\n    var toggleAgg = function toggleAgg(agg) {\n      return _this.toggleAggregation.bind(_this, agg);\n    };\n    var toggleMoreAggs = this.toggleMoreAggs;\n    var defListStyle = { display: 'inline-block', margin: '0', verticalAlign: 'top' }; // , opacity: showAgg ? 1 : 0.5\n\n    return React.createElement(\n      'div',\n      { id: 'aggs' },\n      React.createElement(\n        'div',\n        { style: { width: '100%', overflowX: 'scroll', whiteSpace: 'nowrap', paddingBottom: '10px', paddingLeft: '10px' } },\n        this.sortBox(defListStyle),\n        aggs.map(function (agg) {\n          var aggIsActive = search.filters && search.filters.match(new RegExp(agg.name, 'i'));\n          var showAgg = agg.open || aggIsActive;\n          if (showAgg) return React.createElement(\n            'dl',\n            { key: agg.name, id: agg.name, style: defListStyle },\n            React.createElement(\n              'dt',\n              { style: { fontWeight: aggIsActive && 'bold' }, onClick: toggleAgg(agg) },\n              agg.displayName\n            ),\n            (agg.open || aggIsActive) && agg.buckets.slice(0, 5).map(function (bucket) {\n              var filterString = customFilters[agg.name] ? customFilters[agg.name][bucket.key] || bucket.key : agg.name.toLowerCase() + ':\"' + bucket.key + '\"';\n              var filterRegex = new RegExp(decodeURIComponent(filterString).replace(/([\\[\\]\\?])/, '\\\\$1'), 'i');\n              var bucketIsActive = search.filters && search.filters.match(filterRegex);\n              var newFilters = bucketIsActive ? search.filters.replace(filterRegex, '').trim() : ((search.filters || '') + ' ' + filterString).trim();\n              var bucketText = '' + (bucket.key || '\"\"');\n\n              if (bucket.key) return React.createElement(\n                'dd',\n                { key: agg.name + bucket.key, style: { margin: '0', fontWeight: bucketIsActive && 'bold', textDecoration: bucketIsActive && 'underline' } },\n                React.createElement(\n                  'span',\n                  { className: 'objectTotal' },\n                  React.createElement(\n                    Link,\n                    { to: newFilters == '' ? 'searchResults' : 'filteredSearchResults', query: query, params: { terms: '' + search.query, splat: newFilters } },\n                    bucketText,\n                    ' ',\n                    React.createElement(\n                      'span',\n                      { className: 'numbers' },\n                      bucket.doc_count\n                    )\n                  )\n                )\n              );\n            })\n          );\n        })\n      ),\n      React.createElement(\n        'div',\n        { id: 'more-aggs' },\n        React.createElement(\n          'dl',\n          null,\n          aggs.slice(3).map(function (agg) {\n            return React.createElement(\n              'dd',\n              { key: agg.name, onClick: toggleAgg(agg), style: { background: agg.open || agg.active ? 'rgb(35,35,35)' : 'white', color: agg.open || agg.active ? 'white' : 'rgb(35,35,35)' } },\n              agg.displayName\n            );\n          })\n        )\n      )\n    );\n  },\n\n  toggleAggregation: function toggleAggregation(agg) {\n    var aggs = this.state.aggs;\n\n    var open = aggs[aggs.indexOf(agg)].open;\n    aggs[aggs.indexOf(agg)].open = !open;\n    this.setState({ aggs: aggs });\n  },\n\n  toggleMoreAggs: function toggleMoreAggs() {\n    this.setState({ showAdder: !this.state.showAdder });\n  },\n\n  // Aggregations come from ES as an object with named keys.\n  //     {\"On View\": {…}, \"Artist\": {…}}\n  // I want a `map`able array of the objects:\n  //     [{name: \"On View\", …}, {name: \"Artist\", …}]\n  // This does that transform and sorts the new array in the order they should\n  // be displayed.\n  buildAndSortAggregationsArray: function buildAndSortAggregationsArray() {\n    var props = arguments.length <= 0 || arguments[0] === undefined ? this.props : arguments[0];\n    var search = props.search;\n\n    var aggs = props.search.aggregations;\n    var _aggs = [];\n    var order = [\"On View\", \"Image\", \"Department\", \"Artist\", \"Country\", \"Room\", \"Rights\", \"Title\", \"Style\"];\n\n    for (var agg in aggs) {\n      var openByDefault = order.slice(0, 3).indexOf(agg) > -1;\n      // make sure to show the value of the filter, even if there are no matches.\n      // If there's an active filter, and it's key isn't in the buckets of that aggregation,\n      // add it in.\n      // it's a big edge case, but happens when a filter is applied leading an empty\n      // result set.\n      var aggIsActive = search.filters && search.filters.match(new RegExp(agg + ':\"(.*?)\"', 'i'));\n      if (aggIsActive) {\n        var value = aggIsActive[1];\n        aggs[agg].buckets.find(function (_ref) {\n          var _ = _ref._;\n          var key = _ref.key;\n          return key == value;\n        }) || aggs[agg].buckets.push({ doc_count: 0, key: value });\n      }\n      _aggs.push(_extends({}, aggs[agg], {\n        name: agg,\n        open: openByDefault,\n        displayName: agg.replace(/_/g, ' '),\n        active: search.filters && search.filters.match(new RegExp(agg, 'i'))\n      }));\n    }\n\n    // Sort aggregations in this order, with any others sorted last\n    return _aggs.sort(function (a, b) {\n      var _map = [order.indexOf(a.name), order.indexOf(b.name)].map(function (index) {\n        return index == -1 ? 100 : index;\n      });\n\n      var _map2 = _slicedToArray(_map, 2);\n\n      var _a = _map2[0];\n      var _b = _map2[1];\n\n      return _a - _b;\n    });\n  },\n\n  customFilters: {\n    'On View': {\n      'On View': 'room:G*',\n      'Not on View': 'room:\"Not on View\"'\n    },\n    'Image': {\n      'Available': 'image:valid',\n      'Unavailable': 'image:invalid'\n    },\n    'Gist': {}\n  },\n\n  linkToCurrentSearchWithSort: function linkToCurrentSearchWithSort(newSort) {\n    var humanizeSnakeCase = function humanizeSnakeCase(s) {\n      return ('_' + s).replace(/_(.?)/g, function (_, x) {\n        return ' ' + x.toUpperCase();\n      }).trim();\n    };\n    var _props2 = this.props;\n    var search = _props2.search;\n    var query = _props2.query;\n    var params = _props2.params;\n\n    // var newParams = {terms: `${search.query}`}\n    var newFilters = '';\n\n    var _ref2 = query && query.sort ? query.sort.split('-') : [undefined, undefined];\n\n    var _ref22 = _slicedToArray(_ref2, 2);\n\n    var querySort = _ref22[0];\n    var querySortDirection = _ref22[1];\n\n    var currentSortIsDescending = querySortDirection === 'desc';\n    var sortIsActive = query && (querySort === newSort || newSort == 'relevance' && !querySort);\n    var humanName = humanizeSnakeCase(newSort.replace(/\\..*$/, ''));\n    var newQuery = _extends({}, query, {\n      sort: newSort\n    });\n    if (newSort === 'relevance') delete newQuery.sort;\n\n    var sortLink = sortIsActive ? humanName : React.createElement(\n      Link,\n      {\n        to: !params.splat ? 'searchResults' : 'filteredSearchResults',\n        query: newQuery,\n        params: params },\n      humanName\n    );\n\n    var complementarySortLink = React.createElement(\n      Link,\n      {\n        to: !params.splat ? 'searchResults' : 'filteredSearchResults',\n        query: _extends({}, newQuery, { sort: currentSortIsDescending ? newSort : newSort + '-desc' }),\n        title: 'Sort in ' + (currentSortIsDescending ? 'ascending' : 'descending') + ' order',\n        params: params },\n      currentSortIsDescending ? '↑' : '↓'\n    );\n\n    return sortIsActive && newSort !== 'relevance' ? React.createElement(\n      'span',\n      null,\n      sortLink,\n      '     ',\n      complementarySortLink\n    ) : sortLink;\n  },\n\n  sortBox: function sortBox(style) {\n    var _this2 = this;\n\n    var sorts = ['relevance', 'department.raw', 'accession_number.sort', 'title.raw', 'artist.raw', 'classification'];\n\n    return React.createElement(\n      'dl',\n      { style: style },\n      React.createElement(\n        'dt',\n        null,\n        'Sort by…'\n      ),\n      sorts.map(function (sort_key) {\n        return React.createElement(\n          'dd',\n          null,\n          _this2.linkToCurrentSearchWithSort(sort_key)\n        );\n      })\n    );\n  }\n});\n\nmodule.exports = Aggregations;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYWdncmVnYXRpb25zLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTs7ZUFDYixPQUFPLENBQUMsY0FBYyxDQUFDOztJQUFoQyxJQUFJLFlBQUosSUFBSTs7QUFFVixJQUFJLFlBQVksR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDbkMsaUJBQWUsRUFBQSwyQkFBRztBQUNoQixXQUFPO0FBQ0wsVUFBSSxFQUFFLElBQUksQ0FBQyw2QkFBNkIsRUFBRTtBQUMxQyxlQUFTLEVBQUUsSUFBSTtLQUNoQixDQUFBO0dBQ0Y7O0FBRUQsMkJBQXlCLEVBQUEsbUNBQUMsU0FBUyxFQUFFO0FBQ25DLFFBQUksQ0FBQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLDZCQUE2QixDQUFDLFNBQVMsQ0FBQyxFQUFDLENBQUMsQ0FBQTtHQUNyRTs7QUFFRCxRQUFNLEVBQUEsa0JBQUc7OztpQkFDaUIsSUFBSSxDQUFDLEtBQUs7UUFBM0IsTUFBTSxVQUFOLE1BQU07UUFBRSxLQUFLLFVBQUwsS0FBSztpQkFDTSxJQUFJLENBQUMsS0FBSztRQUE3QixJQUFJLFVBQUosSUFBSTtRQUFFLFNBQVMsVUFBVCxTQUFTOztBQUN0QixRQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFBO0FBQ3hDLFFBQU0sU0FBUyxHQUFHLFNBQVosU0FBUyxDQUFJLEdBQUc7YUFBSyxNQUFLLGlCQUFpQixDQUFDLElBQUksUUFBTyxHQUFHLENBQUM7S0FBQSxDQUFBO0FBQ2pFLFFBQU0sY0FBYyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUE7QUFDMUMsUUFBTSxZQUFZLEdBQUcsRUFBQyxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsYUFBYSxFQUFFLEtBQUssRUFBQyxDQUFBOztBQUVqRixXQUNFOztRQUFLLEVBQUUs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QUE7O0FBRXRDLFFBQU0scUJBQXFCLEdBQUc7QUFBQyxVQUFJOztBQUMvQixVQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLGVBQWUsR0FBRyx1QkFBdUIsQUFBQztBQUM5RCxhQUFLLGVBQU0sUUFBUSxJQUFFLElBQUksRUFBRSx1QkFBdUIsR0FBRyxPQUFPLEdBQU0sT0FBTyxVQUFPLEdBQUU7QUFDbEYsYUFBSyxnQkFBYSx1QkFBdUIsR0FBRyxXQUFXLEdBQUcsWUFBWSxDQUFBLFdBQVM7QUFDL0UsY0FBTSxFQUFFLE1BQU0sQUFBQztNQUFFLHVCQUF1QixHQUFHLEdBQUcsR0FBRyxHQUFHO0tBQVEsQ0FBQTs7QUFFaEUsV0FBTyxZQUFZLElBQUksT0FBTyxLQUFLLFdBQVcsR0FDNUM7OztNQUFPLFFBQVE7O01BQU8scUJBQXFCO0tBQVEsR0FDbkQsUUFBUSxDQUFBO0dBQ1g7O0FBRUQsU0FBTyxFQUFBLGlCQUFDLEtBQUssRUFBRTs7O0FBQ2IsUUFBSSxLQUFLLEdBQUcsQ0FBQyxXQUFXLEVBQUUsZ0JBQWdCLEVBQUUsdUJBQXVCLEVBQUUsV0FBVyxFQUFFLFlBQVksRUFBRSxnQkFBZ0IsQ0FBQyxDQUFBOztBQUVqSCxXQUFPOztRQUFJLEtBQUssRUFBRSxLQUFLLEFBQUM7TUFDdEI7Ozs7T0FBaUI7TUFDaEIsS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFBLFFBQVEsRUFBSTtBQUNyQixlQUFPOzs7VUFBSyxPQUFLLDJCQUEyQixDQUFDLFFBQVEsQ0FBQztTQUFNLENBQUE7T0FDN0QsQ0FBQztLQUNDLENBQUE7R0FDTjtDQUNGLENBQUMsQ0FBQTs7QUFFRixNQUFNLENBQUMsT0FBTyxHQUFHLFlBQVksQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2FnZ3JlZ2F0aW9ucy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciB7IExpbmsgfSA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG5cbnZhciBBZ2dyZWdhdGlvbnMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWdnczogdGhpcy5idWlsZEFuZFNvcnRBZ2dyZWdhdGlvbnNBcnJheSgpLFxuICAgICAgc2hvd0FkZGVyOiB0cnVlLFxuICAgIH1cbiAgfSxcblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIHRoaXMuc2V0U3RhdGUoe2FnZ3M6IHRoaXMuYnVpbGRBbmRTb3J0QWdncmVnYXRpb25zQXJyYXkobmV4dFByb3BzKX0pXG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtzZWFyY2gsIHF1ZXJ5fSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCB7YWdncywgc2hvd0FkZGVyfSA9IHRoaXMuc3RhdGVcbiAgICBjb25zdCBjdXN0b21GaWx0ZXJzID0gdGhpcy5jdXN0b21GaWx0ZXJzXG4gICAgY29uc3QgdG9nZ2xlQWdnID0gKGFnZykgPT4gdGhpcy50b2dnbGVBZ2dyZWdhdGlvbi5iaW5kKHRoaXMsIGFnZylcbiAgICBjb25zdCB0b2dnbGVNb3JlQWdncyA9IHRoaXMudG9nZ2xlTW9yZUFnZ3NcbiAgICBjb25zdCBkZWZMaXN0U3R5bGUgPSB7ZGlzcGxheTogJ2lubGluZS1ibG9jaycsIG1hcmdpbjogJzAnLCB2ZXJ0aWNhbEFsaWduOiAndG9wJ30gLy8gLCBvcGFjaXR5OiBzaG93QWdnID8gMSA6IDAuNVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgaWQ9XCJhZ2dzXCIgPlxuICAgICAgICA8ZGl2IHN0eWxlPXt7d2lkdGg6ICcxMDAlJywgb3ZlcmZsb3dYOiAnc2Nyb2xsJywgd2hpdGVTcGFjZTogJ25vd3JhcCcsIHBhZGRpbmdCb3R0b206ICcxMHB4JywgcGFkZGluZ0xlZnQ6ICcxMHB4J319PlxuICAgICAgICB7dGhpcy5zb3J0Qm94KGRlZkxpc3RTdHlsZSl9XG4gICAgICAgIHthZ2dzLm1hcChmdW5jdGlvbihhZ2cpIHtcbiAgICAgICAgICBjb25zdCBhZ2dJc0FjdGl2ZSA9IHNlYXJjaC5maWx0ZXJzICYmIHNlYXJjaC5maWx0ZXJzLm1hdGNoKG5ldyBSZWdFeHAoYWdnLm5hbWUsICdpJykpXG4gICAgICAgICAgY29uc3Qgc2hvd0FnZyA9IGFnZy5vcGVuIHx8IGFnZ0lzQWN0aXZlXG4gICAgICAgICAgaWYoc2hvd0FnZykgcmV0dXJuICg8ZGwga2V5PXthZ2cubmFtZX0gaWQ9e2FnZy5uYW1lfSBzdHlsZT17ZGVmTGlzdFN0eWxlfT5cbiAgICAgICAgICAgIDxkdCBzdHlsZT17e2ZvbnRXZWlnaHQ6IGFnZ0lzQWN0aXZlICYmICdib2xkJ319IG9uQ2xpY2s9e3RvZ2dsZUFnZyhhZ2cpfT57YWdnLmRpc3BsYXlOYW1lfTwvZHQ+XG4gICAgICAgICAgICB7KGFnZy5vcGVuIHx8IGFnZ0lzQWN0aXZlKSAmJiBhZ2cuYnVja2V0cy5zbGljZSgwLCA1KS5tYXAoZnVuY3Rpb24oYnVja2V0KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGZpbHRlclN0cmluZyA9IGN1c3RvbUZpbHRlcnNbYWdnLm5hbWVdID8gY3VzdG9tRmlsdGVyc1thZ2cubmFtZV1bYnVja2V0LmtleV0gfHwgYnVja2V0LmtleSA6IGFnZy5uYW1lLnRvTG93ZXJDYXNlKCkrJzpcIicrYnVja2V0LmtleSsnXCInXG4gICAgICAgICAgICAgIGNvbnN0IGZpbHRlclJlZ2V4ID0gbmV3IFJlZ0V4cChkZWNvZGVVUklDb21wb25lbnQoZmlsdGVyU3RyaW5nKS5yZXBsYWNlKC8oW1xcW1xcXVxcP10pLywgJ1xcXFwkMScpLCAnaScpXG4gICAgICAgICAgICAgIGNvbnN0IGJ1Y2tldElzQWN0aXZlID0gc2VhcmNoLmZpbHRlcnMgJiYgc2VhcmNoLmZpbHRlcnMubWF0Y2goZmlsdGVyUmVnZXgpXG4gICAgICAgICAgICAgIGNvbnN0IG5ld0ZpbHRlcnMgPSBidWNrZXRJc0FjdGl2ZSA/XG4gICAgICAgICAgICAgICAgc2VhcmNoLmZpbHRlcnMucmVwbGFjZShmaWx0ZXJSZWdleCwgJycpLnRyaW0oKSA6XG4gICAgICAgICAgICAgICAgYCR7c2VhcmNoLmZpbHRlcnMgfHwgJyd9ICR7ZmlsdGVyU3RyaW5nfWAudHJpbSgpXG4gICAgICAgICAgICAgIGNvbnN0IGJ1Y2tldFRleHQgPSBgJHtidWNrZXQua2V5IHx8ICdcIlwiJ31gXG5cbiAgICAgICAgICAgICAgaWYoYnVja2V0LmtleSkgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGQga2V5PXthZ2cubmFtZStidWNrZXQua2V5fSBzdHlsZT17e21hcmdpbjogJzAnLCBmb250V2VpZ2h0OiBidWNrZXRJc0FjdGl2ZSAmJiAnYm9sZCcsIHRleHREZWNvcmF0aW9uOiBidWNrZXRJc0FjdGl2ZSAmJiAndW5kZXJsaW5lJ319PjxzcGFuIGNsYXNzTmFtZT0nb2JqZWN0VG90YWwnPlxuICAgICAgICAgICAgICAgICAgezxMaW5rIHRvPXtuZXdGaWx0ZXJzID09ICcnID8gJ3NlYXJjaFJlc3VsdHMnIDogJ2ZpbHRlcmVkU2VhcmNoUmVzdWx0cyd9IHF1ZXJ5PXtxdWVyeX0gcGFyYW1zPXt7dGVybXM6IGAke3NlYXJjaC5xdWVyeX1gLCBzcGxhdDogbmV3RmlsdGVyc319PlxuICAgICAgICAgICAgICAgICAgICAgIHtidWNrZXRUZXh0fSA8c3BhbiBjbGFzc05hbWU9XCJudW1iZXJzXCI+e2J1Y2tldC5kb2NfY291bnR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9MaW5rPn08L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kZD5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPC9kbD4pXG4gICAgICAgIH0pfTwvZGl2PlxuICAgICAgICA8ZGl2IGlkPVwibW9yZS1hZ2dzXCI+XG4gICAgICAgICAgICA8ZGw+e2FnZ3Muc2xpY2UoMykubWFwKGFnZyA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiA8ZGQga2V5PXthZ2cubmFtZX0gb25DbGljaz17dG9nZ2xlQWdnKGFnZyl9IHN0eWxlPXt7IGJhY2tncm91bmQ6IGFnZy5vcGVuIHx8IGFnZy5hY3RpdmUgPyAncmdiKDM1LDM1LDM1KScgOiAnd2hpdGUnLCBjb2xvcjogYWdnLm9wZW4gfHwgYWdnLmFjdGl2ZSA/ICd3aGl0ZScgOiAncmdiKDM1LDM1LDM1KSd9fT57YWdnLmRpc3BsYXlOYW1lfTwvZGQ+XG4gICAgICAgICAgICB9KX08L2RsPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH0sXG5cbiAgdG9nZ2xlQWdncmVnYXRpb24oYWdnKSB7XG4gICAgdmFyIHthZ2dzfSA9IHRoaXMuc3RhdGVcbiAgICB2YXIgb3BlbiA9IGFnZ3NbYWdncy5pbmRleE9mKGFnZyldLm9wZW5cbiAgICBhZ2dzW2FnZ3MuaW5kZXhPZihhZ2cpXS5vcGVuID0gIW9wZW5cbiAgICB0aGlzLnNldFN0YXRlKHthZ2dzOiBhZ2dzfSlcbiAgfSxcblxuICB0b2dnbGVNb3JlQWdncygpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtzaG93QWRkZXI6ICF0aGlzLnN0YXRlLnNob3dBZGRlcn0pXG4gIH0sXG5cbiAgLy8gQWdncmVnYXRpb25zIGNvbWUgZnJvbSBFUyBhcyBhbiBvYmplY3Qgd2l0aCBuYW1lZCBrZXlzLlxuICAvLyAgICAge1wiT24gVmlld1wiOiB74oCmfSwgXCJBcnRpc3RcIjoge+KApn19XG4gIC8vIEkgd2FudCBhIGBtYXBgYWJsZSBhcnJheSBvZiB0aGUgb2JqZWN0czpcbiAgLy8gICAgIFt7bmFtZTogXCJPbiBWaWV3XCIsIOKApn0sIHtuYW1lOiBcIkFydGlzdFwiLCDigKZ9XVxuICAvLyBUaGlzIGRvZXMgdGhhdCB0cmFuc2Zvcm0gYW5kIHNvcnRzIHRoZSBuZXcgYXJyYXkgaW4gdGhlIG9yZGVyIHRoZXkgc2hvdWxkXG4gIC8vIGJlIGRpc3BsYXllZC5cbiAgYnVpbGRBbmRTb3J0QWdncmVnYXRpb25zQXJyYXkocHJvcHMgPSB0aGlzLnByb3BzKSB7XG4gICAgY29uc3Qge3NlYXJjaH0gPSBwcm9wc1xuICAgIGNvbnN0IGFnZ3MgPSBwcm9wcy5zZWFyY2guYWdncmVnYXRpb25zXG4gICAgY29uc3QgX2FnZ3MgPSBbXVxuICAgIGNvbnN0IG9yZGVyID0gW1wiT24gVmlld1wiLCBcIkltYWdlXCIsIFwiRGVwYXJ0bWVudFwiLCBcIkFydGlzdFwiLCBcIkNvdW50cnlcIiwgXCJSb29tXCIsIFwiUmlnaHRzXCIsIFwiVGl0bGVcIiwgXCJTdHlsZVwiXVxuXG4gICAgZm9yKHZhciBhZ2cgaW4gYWdncykge1xuICAgICAgY29uc3Qgb3BlbkJ5RGVmYXVsdCA9IG9yZGVyLnNsaWNlKDAsIDMpLmluZGV4T2YoYWdnKSA+IC0xXG4gICAgICAvLyBtYWtlIHN1cmUgdG8gc2hvdyB0aGUgdmFsdWUgb2YgdGhlIGZpbHRlciwgZXZlbiBpZiB0aGVyZSBhcmUgbm8gbWF0Y2hlcy5cbiAgICAgIC8vIElmIHRoZXJlJ3MgYW4gYWN0aXZlIGZpbHRlciwgYW5kIGl0J3Mga2V5IGlzbid0IGluIHRoZSBidWNrZXRzIG9mIHRoYXQgYWdncmVnYXRpb24sXG4gICAgICAvLyBhZGQgaXQgaW4uXG4gICAgICAvLyBpdCdzIGEgYmlnIGVkZ2UgY2FzZSwgYnV0IGhhcHBlbnMgd2hlbiBhIGZpbHRlciBpcyBhcHBsaWVkIGxlYWRpbmcgYW4gZW1wdHlcbiAgICAgIC8vIHJlc3VsdCBzZXQuXG4gICAgICBjb25zdCBhZ2dJc0FjdGl2ZSA9IHNlYXJjaC5maWx0ZXJzICYmIHNlYXJjaC5maWx0ZXJzLm1hdGNoKG5ldyBSZWdFeHAoYCR7YWdnfTpcIiguKj8pXCJgLCAnaScpKVxuICAgICAgaWYoYWdnSXNBY3RpdmUpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYWdnSXNBY3RpdmVbMV1cbiAgICAgICAgYWdnc1thZ2ddLmJ1Y2tldHMuZmluZCgoe18sIGtleX0pID0+IGtleSA9PSB2YWx1ZSkgfHwgYWdnc1thZ2ddLmJ1Y2tldHMucHVzaCh7ZG9jX2NvdW50OiAwLCBrZXk6IHZhbHVlfSlcbiAgICAgIH1cbiAgICAgIF9hZ2dzLnB1c2goe1xuICAgICAgICAuLi5hZ2dzW2FnZ10sXG4gICAgICAgIG5hbWU6IGFnZyxcbiAgICAgICAgb3Blbjogb3BlbkJ5RGVmYXVsdCxcbiAgICAgICAgZGlzcGxheU5hbWU6IGFnZy5yZXBsYWNlKC9fL2csICcgJyksXG4gICAgICAgIGFjdGl2ZTogc2VhcmNoLmZpbHRlcnMgJiYgc2VhcmNoLmZpbHRlcnMubWF0Y2gobmV3IFJlZ0V4cChhZ2csICdpJykpLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBTb3J0IGFnZ3JlZ2F0aW9ucyBpbiB0aGlzIG9yZGVyLCB3aXRoIGFueSBvdGhlcnMgc29ydGVkIGxhc3RcbiAgICByZXR1cm4gX2FnZ3Muc29ydCgoYSwgYikgPT4ge1xuICAgICAgbGV0IFtfYSwgX2JdID0gW29yZGVyLmluZGV4T2YoYS5uYW1lKSwgb3JkZXIuaW5kZXhPZihiLm5hbWUpXS5tYXAoaW5kZXggPT4gaW5kZXggPT0gLTEgPyAxMDAgOiBpbmRleClcbiAgICAgIHJldHVybiBfYSAtIF9iXG4gICAgfSlcbiAgfSxcblxuICBjdXN0b21GaWx0ZXJzOiB7XG4gICAgJ09uIFZpZXcnOiB7XG4gICAgICAnT24gVmlldyc6ICdyb29tOkcqJyxcbiAgICAgICdOb3Qgb24gVmlldyc6ICdyb29tOlwiTm90IG9uIFZpZXdcIidcbiAgICB9LFxuICAgICdJbWFnZSc6IHtcbiAgICAgICdBdmFpbGFibGUnOiAnaW1hZ2U6dmFsaWQnLFxuICAgICAgJ1VuYXZhaWxhYmxlJzogJ2ltYWdlOmludmFsaWQnLFxuICAgIH0sXG4gICAgJ0dpc3QnOiB7fSxcbiAgfSxcblxuICBsaW5rVG9DdXJyZW50U2VhcmNoV2l0aFNvcnQobmV3U29ydCkge1xuICAgIHZhciBodW1hbml6ZVNuYWtlQ2FzZSA9IChzKSA9PiBgXyR7c31gXG4gICAgICAucmVwbGFjZSgvXyguPykvZywgKF8sIHgpID0+IGAgJHt4LnRvVXBwZXJDYXNlKCl9YCkudHJpbSgpXG4gICAgdmFyIHtzZWFyY2gsIHF1ZXJ5LCBwYXJhbXN9ID0gdGhpcy5wcm9wc1xuICAgIC8vIHZhciBuZXdQYXJhbXMgPSB7dGVybXM6IGAke3NlYXJjaC5xdWVyeX1gfVxuICAgIHZhciBuZXdGaWx0ZXJzID0gJydcbiAgICB2YXIgW3F1ZXJ5U29ydCwgcXVlcnlTb3J0RGlyZWN0aW9uXSA9IHF1ZXJ5ICYmIHF1ZXJ5LnNvcnQgP1xuICAgICAgcXVlcnkuc29ydC5zcGxpdCgnLScpIDpcbiAgICAgIFt1bmRlZmluZWQsIHVuZGVmaW5lZF1cbiAgICB2YXIgY3VycmVudFNvcnRJc0Rlc2NlbmRpbmcgPSBxdWVyeVNvcnREaXJlY3Rpb24gPT09ICdkZXNjJ1xuICAgIHZhciBzb3J0SXNBY3RpdmUgPSBxdWVyeSAmJiAocXVlcnlTb3J0ID09PSBuZXdTb3J0IHx8IG5ld1NvcnQgPT0gJ3JlbGV2YW5jZScgJiYgIXF1ZXJ5U29ydClcbiAgICB2YXIgaHVtYW5OYW1lID0gaHVtYW5pemVTbmFrZUNhc2UobmV3U29ydC5yZXBsYWNlKC9cXC4uKiQvLCAnJykpXG4gICAgdmFyIG5ld1F1ZXJ5ID0ge1xuICAgICAgLi4ucXVlcnksXG4gICAgICBzb3J0OiBuZXdTb3J0LFxuICAgIH1cbiAgICBpZihuZXdTb3J0ID09PSAncmVsZXZhbmNlJykgZGVsZXRlIG5ld1F1ZXJ5LnNvcnRcblxuICAgIGNvbnN0IHNvcnRMaW5rID0gc29ydElzQWN0aXZlID9cbiAgICAgIGh1bWFuTmFtZSA6XG4gICAgICA8TGlua1xuICAgICAgICB0bz17IXBhcmFtcy5zcGxhdCA/ICdzZWFyY2hSZXN1bHRzJyA6ICdmaWx0ZXJlZFNlYXJjaFJlc3VsdHMnfVxuICAgICAgICBxdWVyeT17bmV3UXVlcnl9XG4gICAgICAgIHBhcmFtcz17cGFyYW1zfT57aHVtYW5OYW1lfTwvTGluaz5cblxuICAgIGNvbnN0IGNvbXBsZW1lbnRhcnlTb3J0TGluayA9IDxMaW5rXG4gICAgICAgIHRvPXshcGFyYW1zLnNwbGF0ID8gJ3NlYXJjaFJlc3VsdHMnIDogJ2ZpbHRlcmVkU2VhcmNoUmVzdWx0cyd9XG4gICAgICAgIHF1ZXJ5PXt7Li4ubmV3UXVlcnksIHNvcnQ6IGN1cnJlbnRTb3J0SXNEZXNjZW5kaW5nID8gbmV3U29ydCA6IGAke25ld1NvcnR9LWRlc2NgfX1cbiAgICAgICAgdGl0bGU9e2BTb3J0IGluICR7Y3VycmVudFNvcnRJc0Rlc2NlbmRpbmcgPyAnYXNjZW5kaW5nJyA6ICdkZXNjZW5kaW5nJ30gb3JkZXJgfVxuICAgICAgICBwYXJhbXM9e3BhcmFtc30+e2N1cnJlbnRTb3J0SXNEZXNjZW5kaW5nID8gJ+KGkScgOiAn4oaTJ308L0xpbms+XG5cbiAgICByZXR1cm4gc29ydElzQWN0aXZlICYmIG5ld1NvcnQgIT09ICdyZWxldmFuY2UnID8gXG4gICAgICA8c3Bhbj57c29ydExpbmt9ICAgICB7Y29tcGxlbWVudGFyeVNvcnRMaW5rfTwvc3Bhbj4gOlxuICAgICAgc29ydExpbmtcbiAgfSxcblxuICBzb3J0Qm94KHN0eWxlKSB7XG4gICAgdmFyIHNvcnRzID0gWydyZWxldmFuY2UnLCAnZGVwYXJ0bWVudC5yYXcnLCAnYWNjZXNzaW9uX251bWJlci5zb3J0JywgJ3RpdGxlLnJhdycsICdhcnRpc3QucmF3JywgJ2NsYXNzaWZpY2F0aW9uJ11cblxuICAgIHJldHVybiA8ZGwgc3R5bGU9e3N0eWxlfT5cbiAgICAgIDxkdD5Tb3J0IGJ54oCmPC9kdD5cbiAgICAgIHtzb3J0cy5tYXAoc29ydF9rZXkgPT4ge1xuICAgICAgICByZXR1cm4gPGRkPnt0aGlzLmxpbmtUb0N1cnJlbnRTZWFyY2hXaXRoU29ydChzb3J0X2tleSl9PC9kZD5cbiAgICAgIH0pfVxuICAgIDwvZGw+XG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFnZ3JlZ2F0aW9uc1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/aggregations.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/aggregations.js",
      "sourcesContent": [
        "var React = require('react')\nvar { Link } = require('react-router')\n\nvar Aggregations = React.createClass({\n  getInitialState() {\n    return {\n      aggs: this.buildAndSortAggregationsArray(),\n      showAdder: true,\n    }\n  },\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({aggs: this.buildAndSortAggregationsArray(nextProps)})\n  },\n\n  render() {\n    const {search, query} = this.props\n    const {aggs, showAdder} = this.state\n    const customFilters = this.customFilters\n    const toggleAgg = (agg) => this.toggleAggregation.bind(this, agg)\n    const toggleMoreAggs = this.toggleMoreAggs\n    const defListStyle = {display: 'inline-block', margin: '0', verticalAlign: 'top'} // , opacity: showAgg ? 1 : 0.5\n\n    return (\n      <div id=\"aggs\" >\n        <div style={{width: '100%', overflowX: 'scroll', whiteSpace: 'nowrap', paddingBottom: '10px', paddingLeft: '10px'}}>\n        {this.sortBox(defListStyle)}\n        {aggs.map(function(agg) {\n          const aggIsActive = search.filters && search.filters.match(new RegExp(agg.name, 'i'))\n          const showAgg = agg.open || aggIsActive\n          if(showAgg) return (<dl key={agg.name} id={agg.name} style={defListStyle}>\n            <dt style={{fontWeight: aggIsActive && 'bold'}} onClick={toggleAgg(agg)}>{agg.displayName}</dt>\n            {(agg.open || aggIsActive) && agg.buckets.slice(0, 5).map(function(bucket) {\n              const filterString = customFilters[agg.name] ? customFilters[agg.name][bucket.key] || bucket.key : agg.name.toLowerCase()+':\"'+bucket.key+'\"'\n              const filterRegex = new RegExp(decodeURIComponent(filterString).replace(/([\\[\\]\\?])/, '\\\\$1'), 'i')\n              const bucketIsActive = search.filters && search.filters.match(filterRegex)\n              const newFilters = bucketIsActive ?\n                search.filters.replace(filterRegex, '').trim() :\n                `${search.filters || ''} ${filterString}`.trim()\n              const bucketText = `${bucket.key || '\"\"'}`\n\n              if(bucket.key) return (\n                <dd key={agg.name+bucket.key} style={{margin: '0', fontWeight: bucketIsActive && 'bold', textDecoration: bucketIsActive && 'underline'}}><span className='objectTotal'>\n                  {<Link to={newFilters == '' ? 'searchResults' : 'filteredSearchResults'} query={query} params={{terms: `${search.query}`, splat: newFilters}}>\n                      {bucketText} <span className=\"numbers\">{bucket.doc_count}</span>\n                  </Link>}</span>\n                </dd>\n              )\n            })}\n          </dl>)\n        })}</div>\n        <div id=\"more-aggs\">\n            <dl>{aggs.slice(3).map(agg => {\n              return <dd key={agg.name} onClick={toggleAgg(agg)} style={{ background: agg.open || agg.active ? 'rgb(35,35,35)' : 'white', color: agg.open || agg.active ? 'white' : 'rgb(35,35,35)'}}>{agg.displayName}</dd>\n            })}</dl>\n\n          </div>\n      </div>\n    )\n  },\n\n  toggleAggregation(agg) {\n    var {aggs} = this.state\n    var open = aggs[aggs.indexOf(agg)].open\n    aggs[aggs.indexOf(agg)].open = !open\n    this.setState({aggs: aggs})\n  },\n\n  toggleMoreAggs() {\n    this.setState({showAdder: !this.state.showAdder})\n  },\n\n  // Aggregations come from ES as an object with named keys.\n  //     {\"On View\": {…}, \"Artist\": {…}}\n  // I want a `map`able array of the objects:\n  //     [{name: \"On View\", …}, {name: \"Artist\", …}]\n  // This does that transform and sorts the new array in the order they should\n  // be displayed.\n  buildAndSortAggregationsArray(props = this.props) {\n    const {search} = props\n    const aggs = props.search.aggregations\n    const _aggs = []\n    const order = [\"On View\", \"Image\", \"Department\", \"Artist\", \"Country\", \"Room\", \"Rights\", \"Title\", \"Style\"]\n\n    for(var agg in aggs) {\n      const openByDefault = order.slice(0, 3).indexOf(agg) > -1\n      // make sure to show the value of the filter, even if there are no matches.\n      // If there's an active filter, and it's key isn't in the buckets of that aggregation,\n      // add it in.\n      // it's a big edge case, but happens when a filter is applied leading an empty\n      // result set.\n      const aggIsActive = search.filters && search.filters.match(new RegExp(`${agg}:\"(.*?)\"`, 'i'))\n      if(aggIsActive) {\n        var value = aggIsActive[1]\n        aggs[agg].buckets.find(({_, key}) => key == value) || aggs[agg].buckets.push({doc_count: 0, key: value})\n      }\n      _aggs.push({\n        ...aggs[agg],\n        name: agg,\n        open: openByDefault,\n        displayName: agg.replace(/_/g, ' '),\n        active: search.filters && search.filters.match(new RegExp(agg, 'i')),\n      })\n    }\n\n    // Sort aggregations in this order, with any others sorted last\n    return _aggs.sort((a, b) => {\n      let [_a, _b] = [order.indexOf(a.name), order.indexOf(b.name)].map(index => index == -1 ? 100 : index)\n      return _a - _b\n    })\n  },\n\n  customFilters: {\n    'On View': {\n      'On View': 'room:G*',\n      'Not on View': 'room:\"Not on View\"'\n    },\n    'Image': {\n      'Available': 'image:valid',\n      'Unavailable': 'image:invalid',\n    },\n    'Gist': {},\n  },\n\n  linkToCurrentSearchWithSort(newSort) {\n    var humanizeSnakeCase = (s) => `_${s}`\n      .replace(/_(.?)/g, (_, x) => ` ${x.toUpperCase()}`).trim()\n    var {search, query, params} = this.props\n    // var newParams = {terms: `${search.query}`}\n    var newFilters = ''\n    var [querySort, querySortDirection] = query && query.sort ?\n      query.sort.split('-') :\n      [undefined, undefined]\n    var currentSortIsDescending = querySortDirection === 'desc'\n    var sortIsActive = query && (querySort === newSort || newSort == 'relevance' && !querySort)\n    var humanName = humanizeSnakeCase(newSort.replace(/\\..*$/, ''))\n    var newQuery = {\n      ...query,\n      sort: newSort,\n    }\n    if(newSort === 'relevance') delete newQuery.sort\n\n    const sortLink = sortIsActive ?\n      humanName :\n      <Link\n        to={!params.splat ? 'searchResults' : 'filteredSearchResults'}\n        query={newQuery}\n        params={params}>{humanName}</Link>\n\n    const complementarySortLink = <Link\n        to={!params.splat ? 'searchResults' : 'filteredSearchResults'}\n        query={{...newQuery, sort: currentSortIsDescending ? newSort : `${newSort}-desc`}}\n        title={`Sort in ${currentSortIsDescending ? 'ascending' : 'descending'} order`}\n        params={params}>{currentSortIsDescending ? '↑' : '↓'}</Link>\n\n    return sortIsActive && newSort !== 'relevance' ? \n      <span>{sortLink}     {complementarySortLink}</span> :\n      sortLink\n  },\n\n  sortBox(style) {\n    var sorts = ['relevance', 'department.raw', 'accession_number.sort', 'title.raw', 'artist.raw', 'classification']\n\n    return <dl style={style}>\n      <dt>Sort by…</dt>\n      {sorts.map(sort_key => {\n        return <dd>{this.linkToCurrentSearchWithSort(sort_key)}</dd>\n      })}\n    </dl>\n  },\n})\n\nmodule.exports = Aggregations\n"
      ]
    },
    "mtime": 1485807805238
  },
  "{\"filename\":\"/var/www/art/src/search-language.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar searchLanguageMap = function searchLanguageMap(queryText) {\n  var map = {\n    'recent:true': \"Recent Accessions\",\n    'highlight:true': \"Museum Highlights\",\n    'deaccessioned:\"true\"': \"Deaccessioned\",\n    '_exists_:\"provenance\"': \"provenance information exists\",\n    '_exists_:\"related:conservation\"': 'Conserved artworks',\n    '_exists_:\"related:artstories\"': \"ArtStories\",\n    '_exists_:\"related:newsflashes\"': \"NewsFlashes\",\n    '_exists_:\"related:audio-stops\"': \"Audio stops\",\n    '_exists_:\"related:stories\"': \"Mia Stories\",\n    '_exists_:\"related:adopt-a-painting\"': \"Adopt-a-Painting\",\n    'room:G*': 'On View',\n    'room:\"Not on View\"': 'Not on View',\n    'image:valid': \"Image Available\",\n    'image:invalid': \"Image Unavailable\",\n    'room:\"G320\"': \"TODO: need to match parameters more cleverly? This should return 'In Gallery 320' or something\"\n  };\n\n  var reversedMap = Object.keys(map).reduce(function (reversed, key) {\n    reversed[map[key]] = key;return reversed;\n  }, {});\n\n  var trimmedQuery = queryText && queryText.trim();\n\n  return map[trimmedQuery] || reversedMap[trimmedQuery] || queryText;\n};\n\nmodule.exports = searchLanguageMap;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvc2VhcmNoLWxhbmd1YWdlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSSxpQkFBaUIsR0FBRyxTQUFwQixpQkFBaUIsQ0FBSSxTQUFTLEVBQUs7QUFDckMsTUFBSSxHQUFHLEdBQUc7QUFDUixpQkFBYSxFQUFFLG1CQUFtQjtBQUNsQyxvQkFBZ0IsRUFBRSxtQkFBbUI7QUFDckMsMEJBQXNCLEVBQUUsZUFBZTtBQUN2QywyQkFBdUIsRUFBRSwrQkFBK0I7QUFDeEQscUNBQWlDLEVBQUUsb0JBQW9CO0FBQ3ZELG1DQUErQixFQUFFLFlBQVk7QUFDN0Msb0NBQWdDLEVBQUUsYUFBYTtBQUMvQyxvQ0FBZ0MsRUFBRSxhQUFhO0FBQy9DLGdDQUE0QixFQUFFLGFBQWE7QUFDM0MseUNBQXFDLEVBQUUsa0JBQWtCO0FBQ3pELGFBQVMsRUFBRSxTQUFTO0FBQ3BCLHdCQUFvQixFQUFFLGFBQWE7QUFDbkMsaUJBQWEsRUFBRSxpQkFBaUI7QUFDaEMsbUJBQWUsRUFBRSxtQkFBbUI7QUFDcEMsaUJBQWEsRUFBRSxnR0FBZ0c7R0FDaEgsQ0FBQTs7QUFHRCxNQUFJLFdBQVcsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUMvQixNQUFNLENBQUMsVUFBQyxRQUFRLEVBQUUsR0FBRyxFQUFLO0FBQUUsWUFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxBQUFDLE9BQU8sUUFBUSxDQUFBO0dBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQTs7QUFFL0UsTUFBSSxZQUFZLEdBQUcsU0FBUyxJQUFJLFNBQVMsQ0FBQyxJQUFJLEVBQUUsQ0FBQTs7QUFFaEQsU0FBTyxHQUFHLENBQUMsWUFBWSxDQUFDLElBQUksV0FBVyxDQUFDLFlBQVksQ0FBQyxJQUFJLFNBQVMsQ0FBQTtDQUNuRSxDQUFBOztBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUcsaUJBQWlCLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9zZWFyY2gtbGFuZ3VhZ2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgc2VhcmNoTGFuZ3VhZ2VNYXAgPSAocXVlcnlUZXh0KSA9PiB7XG4gIHZhciBtYXAgPSB7XG4gICAgJ3JlY2VudDp0cnVlJzogXCJSZWNlbnQgQWNjZXNzaW9uc1wiLFxuICAgICdoaWdobGlnaHQ6dHJ1ZSc6IFwiTXVzZXVtIEhpZ2hsaWdodHNcIixcbiAgICAnZGVhY2Nlc3Npb25lZDpcInRydWVcIic6IFwiRGVhY2Nlc3Npb25lZFwiLFxuICAgICdfZXhpc3RzXzpcInByb3ZlbmFuY2VcIic6IFwicHJvdmVuYW5jZSBpbmZvcm1hdGlvbiBleGlzdHNcIixcbiAgICAnX2V4aXN0c186XCJyZWxhdGVkOmNvbnNlcnZhdGlvblwiJzogJ0NvbnNlcnZlZCBhcnR3b3JrcycsXG4gICAgJ19leGlzdHNfOlwicmVsYXRlZDphcnRzdG9yaWVzXCInOiBcIkFydFN0b3JpZXNcIixcbiAgICAnX2V4aXN0c186XCJyZWxhdGVkOm5ld3NmbGFzaGVzXCInOiBcIk5ld3NGbGFzaGVzXCIsXG4gICAgJ19leGlzdHNfOlwicmVsYXRlZDphdWRpby1zdG9wc1wiJzogXCJBdWRpbyBzdG9wc1wiLFxuICAgICdfZXhpc3RzXzpcInJlbGF0ZWQ6c3Rvcmllc1wiJzogXCJNaWEgU3Rvcmllc1wiLFxuICAgICdfZXhpc3RzXzpcInJlbGF0ZWQ6YWRvcHQtYS1wYWludGluZ1wiJzogXCJBZG9wdC1hLVBhaW50aW5nXCIsXG4gICAgJ3Jvb206RyonOiAnT24gVmlldycsXG4gICAgJ3Jvb206XCJOb3Qgb24gVmlld1wiJzogJ05vdCBvbiBWaWV3JyxcbiAgICAnaW1hZ2U6dmFsaWQnOiBcIkltYWdlIEF2YWlsYWJsZVwiLFxuICAgICdpbWFnZTppbnZhbGlkJzogXCJJbWFnZSBVbmF2YWlsYWJsZVwiLFxuICAgICdyb29tOlwiRzMyMFwiJzogXCJUT0RPOiBuZWVkIHRvIG1hdGNoIHBhcmFtZXRlcnMgbW9yZSBjbGV2ZXJseT8gVGhpcyBzaG91bGQgcmV0dXJuICdJbiBHYWxsZXJ5IDMyMCcgb3Igc29tZXRoaW5nXCIsXG4gIH1cblxuXG4gIHZhciByZXZlcnNlZE1hcCA9IE9iamVjdC5rZXlzKG1hcClcbiAgICAucmVkdWNlKChyZXZlcnNlZCwga2V5KSA9PiB7IHJldmVyc2VkW21hcFtrZXldXSA9IGtleTsgcmV0dXJuIHJldmVyc2VkIH0sIHt9KVxuXG4gIHZhciB0cmltbWVkUXVlcnkgPSBxdWVyeVRleHQgJiYgcXVlcnlUZXh0LnRyaW0oKVxuXG4gIHJldHVybiBtYXBbdHJpbW1lZFF1ZXJ5XSB8fCByZXZlcnNlZE1hcFt0cmltbWVkUXVlcnldIHx8IHF1ZXJ5VGV4dFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNlYXJjaExhbmd1YWdlTWFwXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/search-language.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,iBAAiB,GAAG,SAApB,iBAAiB,CAAI,SAAS,EAAK;AACrC,MAAI,GAAG,GAAG;AACR,iBAAa,EAAE,mBAAmB;AAClC,oBAAgB,EAAE,mBAAmB;AACrC,0BAAsB,EAAE,eAAe;AACvC,2BAAuB,EAAE,+BAA+B;AACxD,qCAAiC,EAAE,oBAAoB;AACvD,mCAA+B,EAAE,YAAY;AAC7C,oCAAgC,EAAE,aAAa;AAC/C,oCAAgC,EAAE,aAAa;AAC/C,gCAA4B,EAAE,aAAa;AAC3C,yCAAqC,EAAE,kBAAkB;AACzD,aAAS,EAAE,SAAS;AACpB,wBAAoB,EAAE,aAAa;AACnC,iBAAa,EAAE,iBAAiB;AAChC,mBAAe,EAAE,mBAAmB;AACpC,iBAAa,EAAE,gGAAgG;GAChH,CAAA;;AAGD,MAAI,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAC/B,MAAM,CAAC,UAAC,QAAQ,EAAE,GAAG,EAAK;AAAE,YAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,AAAC,OAAO,QAAQ,CAAA;GAAE,EAAE,EAAE,CAAC,CAAA;;AAE/E,MAAI,YAAY,GAAG,SAAS,IAAI,SAAS,CAAC,IAAI,EAAE,CAAA;;AAEhD,SAAO,GAAG,CAAC,YAAY,CAAC,IAAI,WAAW,CAAC,YAAY,CAAC,IAAI,SAAS,CAAA;CACnE,CAAA;;AAED,MAAM,CAAC,OAAO,GAAG,iBAAiB,CAAA",
      "file": "/var/www/art/src/search-language.js",
      "sourcesContent": [
        "var searchLanguageMap = (queryText) => {\n  var map = {\n    'recent:true': \"Recent Accessions\",\n    'highlight:true': \"Museum Highlights\",\n    'deaccessioned:\"true\"': \"Deaccessioned\",\n    '_exists_:\"provenance\"': \"provenance information exists\",\n    '_exists_:\"related:conservation\"': 'Conserved artworks',\n    '_exists_:\"related:artstories\"': \"ArtStories\",\n    '_exists_:\"related:newsflashes\"': \"NewsFlashes\",\n    '_exists_:\"related:audio-stops\"': \"Audio stops\",\n    '_exists_:\"related:stories\"': \"Mia Stories\",\n    '_exists_:\"related:adopt-a-painting\"': \"Adopt-a-Painting\",\n    'room:G*': 'On View',\n    'room:\"Not on View\"': 'Not on View',\n    'image:valid': \"Image Available\",\n    'image:invalid': \"Image Unavailable\",\n    'room:\"G320\"': \"TODO: need to match parameters more cleverly? This should return 'In Gallery 320' or something\",\n  }\n\n\n  var reversedMap = Object.keys(map)\n    .reduce((reversed, key) => { reversed[map[key]] = key; return reversed }, {})\n\n  var trimmedQuery = queryText && queryText.trim()\n\n  return map[trimmedQuery] || reversedMap[trimmedQuery] || queryText\n}\n\nmodule.exports = searchLanguageMap\n"
      ]
    },
    "mtime": 1453913552707
  },
  "{\"filename\":\"/var/www/art/src/search-results/list.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "object-without-properties",
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\n\nvar ArtworkResult = require('../artwork-result');\nvar FocusedResult = require('./focused');\n\nvar SearchResultsList = React.createClass({\n  displayName: 'SearchResultsList',\n\n  render: function render() {\n    var _this = this;\n\n    var _props = this.props;\n    var leftColumnWidth = _props.leftColumnWidth;\n    var focusedResult = _props.focusedResult;\n    var focusHandler = _props.focusHandler;\n    var smallViewport = _props.smallViewport;\n\n    var focusedProps = _objectWithoutProperties(_props, ['leftColumnWidth', 'focusedResult', 'focusHandler', 'smallViewport']);\n\n    if (smallViewport || this.context.universal) {\n      focusedResult = null;\n    }\n    if (!focusedResult) leftColumnWidth = '100%';\n\n    var results = this.props.hits.map(function (hit) {\n      var id = hit._source.id.replace('http://api.artsmia.org/objects/', '');\n      var focused = focusedResult === hit._source;\n      return React.createElement(\n        'div',\n        { key: id, onClick: _this.handleClick.bind(_this, hit), className: focused ? 'focused' : '' },\n        React.createElement(ArtworkResult, { id: id, data: { artwork: hit._source }, highlights: hit.highlight, showMore: smallViewport })\n      );\n    });\n\n    return React.createElement(\n      'div',\n      { className: 'search-results-wrap clearfix', style: { position: 'relative', minHeight: this.props.minHeight } },\n      React.createElement(\n        'div',\n        { className: 'objects-wrap leftBar', style: { position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, width: leftColumnWidth } },\n        results,\n        this.props.postSearch\n      ),\n      focusedResult && React.createElement(FocusedResult, _extends({ key: focusedResult._source.id, art: focusedResult._source, highlights: focusedResult.highlight }, this.props))\n    );\n  },\n\n  handleClick: function handleClick(hit) {\n    this.props.focusHandler(hit, SearchResultsList);\n  }\n});\nSearchResultsList.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nmodule.exports = SearchResultsList;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvc2VhcmNoLXJlc3VsdHMvbGlzdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7O0FBRTVCLElBQUksYUFBYSxHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFBO0FBQ2hELElBQUksYUFBYSxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQTs7QUFFeEMsSUFBSSxpQkFBaUIsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDeEMsUUFBTSxFQUFBLGtCQUFHOzs7aUJBT0gsSUFBSSxDQUFDLEtBQUs7UUFMWixlQUFlLFVBQWYsZUFBZTtRQUNmLGFBQWEsVUFBYixhQUFhO1FBQ2IsWUFBWSxVQUFaLFlBQVk7UUFDWixhQUFhLFVBQWIsYUFBYTs7UUFDVixZQUFZOztBQUdqQixRQUFHLGFBQWEsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRTtBQUMxQyxtQkFBYSxHQUFHLElBQUksQ0FBQTtLQUNyQjtBQUNELFFBQUcsQ0FBQyxhQUFhLEVBQUUsZUFBZSxHQUFHLE1BQU0sQ0FBQTs7QUFFM0MsUUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQUMsR0FBRyxFQUFLO0FBQ3pDLFVBQUksRUFBRSxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxpQ0FBaUMsRUFBRSxFQUFFLENBQUMsQ0FBQTtBQUN0RSxVQUFJLE9BQU8sR0FBRyxhQUFhLEtBQUssR0FBRyxDQUFDLE9BQU8sQ0FBQTtBQUMzQyxhQUFPOztVQUFLLEdBQUcsRUFBRSxFQUFFLEFBQUMsRUFBQyxPQUFPLEVBQUUsTUFBSyxXQUFXLENBQUMsSUFBSSxRQUFPLEdBQUcsQ0FBQyxBQUFDLEVBQUMsU0FBUyxFQUFFLE9BQU8sR0FBRyxTQUFTLEdBQUcsRUFBRSxBQUFDO1FBQ2xHLG9CQUFDLGFBQWEsSUFBQyxFQUFFLEVBQUUsRUFBRSxBQUFDLEVBQUMsSUFBSSxFQUFFLEVBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxPQUFPLEVBQUMsQUFBQyxFQUFDLFVBQVUsRUFBRSxHQUFHLENBQUMsU0FBUyxBQUFDLEVBQUMsUUFBUSxFQUFFLGFBQWEsQUFBQyxHQUFHO09BQ3ZHLENBQUE7S0FDUCxDQUFDLENBQUE7O0FBRUYsV0FDRTs7UUFBSyxTQUFTLEVBQUMsOEJBQThCLEVBQUMsS0FBSyxFQUFFLEVBQUMsUUFBUSxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUMsQUFBQztNQUMzRzs7VUFBSyxTQUFTLEVBQUMsc0JBQXNCLEVBQUMsS0FBSyxFQUFFLEVBQUMsUUFBUSxFQUFFLFVBQVUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxlQUFlLEVBQUMsQUFBQztRQUMvSCxPQUFPO1FBQ1AsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVO09BQ2xCO01BQ0wsYUFBYSxJQUFJLG9CQUFDLGFBQWEsYUFBQyxHQUFHLEVBQUUsYUFBYSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEFBQUMsRUFBQyxHQUFHLEVBQUUsYUFBYSxDQUFDLE9BQU8sQUFBQyxFQUFDLFVBQVUsRUFBRSxhQUFhLENBQUMsU0FBUyxBQUFDLElBQUssSUFBSSxDQUFDLEtBQUssRUFBRztLQUM5SSxDQUNQO0dBQ0Y7O0FBRUQsYUFBVyxFQUFBLHFCQUFDLEdBQUcsRUFBRTtBQUNmLFFBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEdBQUcsRUFBRSxpQkFBaUIsQ0FBQyxDQUFBO0dBQ2hEO0NBQ0YsQ0FBQyxDQUFBO0FBQ0YsaUJBQWlCLENBQUMsWUFBWSxHQUFHO0FBQy9CLFFBQU0sRUFBRSxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUk7QUFDNUIsV0FBUyxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSTtDQUNoQyxDQUFBOztBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUcsaUJBQWlCLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9zZWFyY2gtcmVzdWx0cy9saXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxuXG52YXIgQXJ0d29ya1Jlc3VsdCA9IHJlcXVpcmUoJy4uL2FydHdvcmstcmVzdWx0JylcbnZhciBGb2N1c2VkUmVzdWx0ID0gcmVxdWlyZSgnLi9mb2N1c2VkJylcblxudmFyIFNlYXJjaFJlc3VsdHNMaXN0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHtcbiAgICAgIGxlZnRDb2x1bW5XaWR0aCxcbiAgICAgIGZvY3VzZWRSZXN1bHQsXG4gICAgICBmb2N1c0hhbmRsZXIsXG4gICAgICBzbWFsbFZpZXdwb3J0LFxuICAgICAgLi4uZm9jdXNlZFByb3BzXG4gICAgfSA9IHRoaXMucHJvcHNcblxuICAgIGlmKHNtYWxsVmlld3BvcnQgfHwgdGhpcy5jb250ZXh0LnVuaXZlcnNhbCkge1xuICAgICAgZm9jdXNlZFJlc3VsdCA9IG51bGxcbiAgICB9XG4gICAgaWYoIWZvY3VzZWRSZXN1bHQpIGxlZnRDb2x1bW5XaWR0aCA9ICcxMDAlJ1xuXG4gICAgdmFyIHJlc3VsdHMgPSB0aGlzLnByb3BzLmhpdHMubWFwKChoaXQpID0+IHtcbiAgICAgIHZhciBpZCA9IGhpdC5fc291cmNlLmlkLnJlcGxhY2UoJ2h0dHA6Ly9hcGkuYXJ0c21pYS5vcmcvb2JqZWN0cy8nLCAnJylcbiAgICAgIHZhciBmb2N1c2VkID0gZm9jdXNlZFJlc3VsdCA9PT0gaGl0Ll9zb3VyY2VcbiAgICAgIHJldHVybiA8ZGl2IGtleT17aWR9IG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzLCBoaXQpfSBjbGFzc05hbWU9e2ZvY3VzZWQgPyAnZm9jdXNlZCcgOiAnJ30+XG4gICAgICAgIDxBcnR3b3JrUmVzdWx0IGlkPXtpZH0gZGF0YT17e2FydHdvcms6IGhpdC5fc291cmNlfX0gaGlnaGxpZ2h0cz17aGl0LmhpZ2hsaWdodH0gc2hvd01vcmU9e3NtYWxsVmlld3BvcnR9IC8+XG4gICAgICA8L2Rpdj5cbiAgICB9KVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdzZWFyY2gtcmVzdWx0cy13cmFwIGNsZWFyZml4JyBzdHlsZT17e3Bvc2l0aW9uOiAncmVsYXRpdmUnLCBtaW5IZWlnaHQ6IHRoaXMucHJvcHMubWluSGVpZ2h0fX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdvYmplY3RzLXdyYXAgbGVmdEJhcicgc3R5bGU9e3twb3NpdGlvbjogJ2Fic29sdXRlJywgdG9wOiAwLCBsZWZ0OiAwLCByaWdodDogMCwgYm90dG9tOiAwLCB3aWR0aDogbGVmdENvbHVtbldpZHRofX0+XG4gICAgICAgICAge3Jlc3VsdHN9XG4gICAgICAgICAge3RoaXMucHJvcHMucG9zdFNlYXJjaH1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtmb2N1c2VkUmVzdWx0ICYmIDxGb2N1c2VkUmVzdWx0IGtleT17Zm9jdXNlZFJlc3VsdC5fc291cmNlLmlkfSBhcnQ9e2ZvY3VzZWRSZXN1bHQuX3NvdXJjZX0gaGlnaGxpZ2h0cz17Zm9jdXNlZFJlc3VsdC5oaWdobGlnaHR9IHsuLi50aGlzLnByb3BzfS8+fVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9LFxuXG4gIGhhbmRsZUNsaWNrKGhpdCkge1xuICAgIHRoaXMucHJvcHMuZm9jdXNIYW5kbGVyKGhpdCwgU2VhcmNoUmVzdWx0c0xpc3QpXG4gIH0sXG59KVxuU2VhcmNoUmVzdWx0c0xpc3QuY29udGV4dFR5cGVzID0ge1xuICByb3V0ZXI6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICB1bml2ZXJzYWw6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNlYXJjaFJlc3VsdHNMaXN0XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/search-results/list.js"
      ],
      "names": [],
      "mappings": ";;;;;;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;AAE5B,IAAI,aAAa,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAA;AAChD,IAAI,aAAa,GAAG,OAAO,CAAC,WAAW,CAAC,CAAA;;AAExC,IAAI,iBAAiB,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACxC,QAAM,EAAA,kBAAG;;;iBAOH,IAAI,CAAC,KAAK;QALZ,eAAe,UAAf,eAAe;QACf,aAAa,UAAb,aAAa;QACb,YAAY,UAAZ,YAAY;QACZ,aAAa,UAAb,aAAa;;QACV,YAAY;;AAGjB,QAAG,aAAa,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;AAC1C,mBAAa,GAAG,IAAI,CAAA;KACrB;AACD,QAAG,CAAC,aAAa,EAAE,eAAe,GAAG,MAAM,CAAA;;AAE3C,QAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,UAAC,GAAG,EAAK;AACzC,UAAI,EAAE,GAAG,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,iCAAiC,EAAE,EAAE,CAAC,CAAA;AACtE,UAAI,OAAO,GAAG,aAAa,KAAK,GAAG,CAAC,OAAO,CAAA;AAC3C,aAAO;;UAAK,GAAG,EAAE,EAAE,AAAC,EAAC,OAAO,EAAE,MAAK,WAAW,CAAC,IAAI,QAAO,GAAG,CAAC,AAAC,EAAC,SAAS,EAAE,OAAO,GAAG,SAAS,GAAG,EAAE,AAAC;QAClG,oBAAC,aAAa,IAAC,EAAE,EAAE,EAAE,AAAC,EAAC,IAAI,EAAE,EAAC,OAAO,EAAE,GAAG,CAAC,OAAO,EAAC,AAAC,EAAC,UAAU,EAAE,GAAG,CAAC,SAAS,AAAC,EAAC,QAAQ,EAAE,aAAa,AAAC,GAAG;OACvG,CAAA;KACP,CAAC,CAAA;;AAEF,WACE;;QAAK,SAAS,EAAC,8BAA8B,EAAC,KAAK,EAAE,EAAC,QAAQ,EAAE,UAAU,EAAE,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,EAAC,AAAC;MAC3G;;UAAK,SAAS,EAAC,sBAAsB,EAAC,KAAK,EAAE,EAAC,QAAQ,EAAE,UAAU,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE,eAAe,EAAC,AAAC;QAC/H,OAAO;QACP,IAAI,CAAC,KAAK,CAAC,UAAU;OAClB;MACL,aAAa,IAAI,oBAAC,aAAa,aAAC,GAAG,EAAE,aAAa,CAAC,OAAO,CAAC,EAAE,AAAC,EAAC,GAAG,EAAE,aAAa,CAAC,OAAO,AAAC,EAAC,UAAU,EAAE,aAAa,CAAC,SAAS,AAAC,IAAK,IAAI,CAAC,KAAK,EAAG;KAC9I,CACP;GACF;;AAED,aAAW,EAAA,qBAAC,GAAG,EAAE;AACf,QAAI,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,EAAE,iBAAiB,CAAC,CAAA;GAChD;CACF,CAAC,CAAA;AACF,iBAAiB,CAAC,YAAY,GAAG;AAC/B,QAAM,EAAE,KAAK,CAAC,SAAS,CAAC,IAAI;AAC5B,WAAS,EAAE,KAAK,CAAC,SAAS,CAAC,IAAI;CAChC,CAAA;;AAED,MAAM,CAAC,OAAO,GAAG,iBAAiB,CAAA",
      "file": "/var/www/art/src/search-results/list.js",
      "sourcesContent": [
        "var React = require('react')\n\nvar ArtworkResult = require('../artwork-result')\nvar FocusedResult = require('./focused')\n\nvar SearchResultsList = React.createClass({\n  render() {\n    var {\n      leftColumnWidth,\n      focusedResult,\n      focusHandler,\n      smallViewport,\n      ...focusedProps\n    } = this.props\n\n    if(smallViewport || this.context.universal) {\n      focusedResult = null\n    }\n    if(!focusedResult) leftColumnWidth = '100%'\n\n    var results = this.props.hits.map((hit) => {\n      var id = hit._source.id.replace('http://api.artsmia.org/objects/', '')\n      var focused = focusedResult === hit._source\n      return <div key={id} onClick={this.handleClick.bind(this, hit)} className={focused ? 'focused' : ''}>\n        <ArtworkResult id={id} data={{artwork: hit._source}} highlights={hit.highlight} showMore={smallViewport} />\n      </div>\n    })\n\n    return (\n      <div className='search-results-wrap clearfix' style={{position: 'relative', minHeight: this.props.minHeight}}>\n        <div className='objects-wrap leftBar' style={{position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, width: leftColumnWidth}}>\n          {results}\n          {this.props.postSearch}\n        </div>\n        {focusedResult && <FocusedResult key={focusedResult._source.id} art={focusedResult._source} highlights={focusedResult.highlight} {...this.props}/>}\n      </div>\n    )\n  },\n\n  handleClick(hit) {\n    this.props.focusHandler(hit, SearchResultsList)\n  },\n})\nSearchResultsList.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nmodule.exports = SearchResultsList\n"
      ]
    },
    "mtime": 1465414471034
  },
  "{\"filename\":\"/var/www/art/src/artwork-result.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar Artwork = require('./_artwork');\nvar Markdown = require('./markdown');\nvar highlighter = require('./highlighter');\n\nvar ArtworkResult = React.createClass({\n  displayName: 'ArtworkResult',\n\n  mixins: [Router.State],\n  statics: {\n    fetchData: function fetchData(params) {\n      return rest(SEARCH + '/id/' + params.id).then(function (r) {\n        return JSON.parse(r.entity);\n      });\n    }\n  },\n  render: function render() {\n    var art = this.props.data.artwork;\n    var id = this.props.id || art.id.replace('http://api.artsmia.org/objects/', '');\n    var title = React.createElement(Artwork.Title, { art: art, link: this.context.universal, highlights: this.props.highlights });\n\n    var roomHighlight = highlighter(art, this.props.highlights, 'room');\n    var showMore = this.props.showMore && Object.keys(art).filter(function (key) {\n      return key.match(/related:/) && !key.match(/related:exhibitions/);\n    }).length > 0;\n\n    return React.createElement(\n      Artwork.Figure,\n      { art: art, className: 'artwork-result' },\n      React.createElement(\n        'div',\n        { className: 'artwork-summary' },\n        title,\n        React.createElement(Artwork.Creator, { art: art, wrapper: 'h2', peek: false, highlights: this.props.highlights }),\n        React.createElement(\n          'p',\n          null,\n          art.room === 'Not on View' ? art.room : React.createElement(\n            'strong',\n            null,\n            React.createElement(\n              Markdown,\n              null,\n              roomHighlight\n            )\n          )\n        ),\n        showMore && React.createElement(\n          Link,\n          { to: 'artwork', params: { id: art.id, hash: 'explore' } },\n          React.createElement('img', { src: '/images/more-icon.svg', style: { width: '3em' } })\n        )\n      )\n    );\n  }\n});\nArtworkResult.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nmodule.exports = ArtworkResult;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYXJ0d29yay1yZXN1bHQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0lBQzlCLElBQUksR0FBSyxNQUFNLENBQWYsSUFBSTs7QUFFVixJQUFJLE9BQU8sR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7QUFDbkMsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBO0FBQ3BDLElBQUksV0FBVyxHQUFHLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQTs7QUFFMUMsSUFBSSxhQUFhLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ3BDLFFBQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7QUFDdEIsU0FBTyxFQUFFO0FBQ1AsYUFBUyxFQUFFLG1CQUFDLE1BQU0sRUFBSztBQUNyQixhQUFPLElBQUksQ0FBQyxBQUFHLE1BQU0sWUFBTyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsQ0FBQztlQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztPQUFBLENBQUMsQ0FBQTtLQUN6RTtHQUNGO0FBQ0QsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsUUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFBO0FBQ2pDLFFBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLGlDQUFpQyxFQUFFLEVBQUUsQ0FBQyxDQUFBO0FBQy9FLFFBQUksS0FBSyxHQUFHLG9CQUFDLE9BQU8sQ0FBQyxLQUFLLElBQUMsR0FBRyxFQUFFLEdBQUcsQUFBQyxFQUFDLElBQUksRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQUFBQyxFQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQUFBQyxHQUFHLENBQUE7O0FBRXhHLFFBQUksYUFBYSxHQUFHLFdBQVcsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUUsTUFBTSxDQUFDLENBQUE7QUFDbkUsUUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBQSxHQUFHO2FBQUksR0FBRyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMscUJBQXFCLENBQUM7S0FBQSxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQTs7QUFFM0ksV0FDRTtBQUFDLGFBQU8sQ0FBQyxNQUFNO1FBQUMsR0FBRyxFQUFFLEdBQUcsQUFBQyxFQUFDLFNBQVMsRUFBQyxnQkFBZ0I7TUFDbEQ7O1VBQUssU0FBUyxFQUFDLGlCQUFpQjtRQUM3QixLQUFLO1FBQ04sb0JBQUMsT0FBTyxDQUFDLE9BQU8sSUFBQyxHQUFHLEVBQUUsR0FBRyxBQUFDLEVBQUMsT0FBTyxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUUsS0FBSyxBQUFDLEVBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxBQUFDLEdBQUc7UUFDMUY7OztVQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssYUFBYSxHQUFHLEdBQUcsQ0FBQyxJQUFJLEdBQUc7OztZQUFRO0FBQUMsc0JBQVE7O2NBQUUsYUFBYTthQUFZO1dBQVM7U0FBSztRQUNyRyxRQUFRLElBQUk7QUFBQyxjQUFJO1lBQUMsRUFBRSxFQUFDLFNBQVMsRUFBQyxNQUFNLEVBQUUsRUFBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFDLEFBQUM7VUFBQyw2QkFBSyxHQUFHLEVBQUMsdUJBQXVCLEVBQUMsS0FBSyxFQUFFLEVBQUMsS0FBSyxFQUFFLEtBQUssRUFBQyxBQUFDLEdBQUU7U0FBTztPQUNuSTtLQUNTLENBQ2xCO0dBQ0Y7Q0FDRixDQUFDLENBQUE7QUFDRixhQUFhLENBQUMsWUFBWSxHQUFHO0FBQzNCLFFBQU0sRUFBRSxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUk7QUFDNUIsV0FBUyxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSTtDQUNoQyxDQUFBOztBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUcsYUFBYSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvYXJ0d29yay1yZXN1bHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciB7IExpbmsgfSA9IFJvdXRlclxuXG52YXIgQXJ0d29yayA9IHJlcXVpcmUoJy4vX2FydHdvcmsnKVxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi9tYXJrZG93bicpXG52YXIgaGlnaGxpZ2h0ZXIgPSByZXF1aXJlKCcuL2hpZ2hsaWdodGVyJylcblxudmFyIEFydHdvcmtSZXN1bHQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIG1peGluczogW1JvdXRlci5TdGF0ZV0sXG4gIHN0YXRpY3M6IHtcbiAgICBmZXRjaERhdGE6IChwYXJhbXMpID0+IHtcbiAgICAgIHJldHVybiByZXN0KGAke1NFQVJDSH0vaWQvYCtwYXJhbXMuaWQpLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpKVxuICAgIH1cbiAgfSxcbiAgcmVuZGVyKCkge1xuICAgIHZhciBhcnQgPSB0aGlzLnByb3BzLmRhdGEuYXJ0d29ya1xuICAgIHZhciBpZCA9IHRoaXMucHJvcHMuaWQgfHwgYXJ0LmlkLnJlcGxhY2UoJ2h0dHA6Ly9hcGkuYXJ0c21pYS5vcmcvb2JqZWN0cy8nLCAnJylcbiAgICB2YXIgdGl0bGUgPSA8QXJ0d29yay5UaXRsZSBhcnQ9e2FydH0gbGluaz17dGhpcy5jb250ZXh0LnVuaXZlcnNhbH0gaGlnaGxpZ2h0cz17dGhpcy5wcm9wcy5oaWdobGlnaHRzfSAvPlxuXG4gICAgdmFyIHJvb21IaWdobGlnaHQgPSBoaWdobGlnaHRlcihhcnQsIHRoaXMucHJvcHMuaGlnaGxpZ2h0cywgJ3Jvb20nKVxuICAgIHZhciBzaG93TW9yZSA9IHRoaXMucHJvcHMuc2hvd01vcmUgJiYgT2JqZWN0LmtleXMoYXJ0KS5maWx0ZXIoa2V5ID0+IGtleS5tYXRjaCgvcmVsYXRlZDovKSAmJiAha2V5Lm1hdGNoKC9yZWxhdGVkOmV4aGliaXRpb25zLykpLmxlbmd0aCA+IDBcblxuICAgIHJldHVybiAoXG4gICAgICA8QXJ0d29yay5GaWd1cmUgYXJ0PXthcnR9IGNsYXNzTmFtZT0nYXJ0d29yay1yZXN1bHQnPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFydHdvcmstc3VtbWFyeVwiPlxuICAgICAgICAgIHt0aXRsZX1cbiAgICAgICAgICA8QXJ0d29yay5DcmVhdG9yIGFydD17YXJ0fSB3cmFwcGVyPVwiaDJcIiBwZWVrPXtmYWxzZX0gaGlnaGxpZ2h0cz17dGhpcy5wcm9wcy5oaWdobGlnaHRzfSAvPlxuICAgICAgICAgIDxwPnthcnQucm9vbSA9PT0gJ05vdCBvbiBWaWV3JyA/IGFydC5yb29tIDogPHN0cm9uZz48TWFya2Rvd24+e3Jvb21IaWdobGlnaHR9PC9NYXJrZG93bj48L3N0cm9uZz59PC9wPlxuICAgICAgICAgIHtzaG93TW9yZSAmJiA8TGluayB0bz1cImFydHdvcmtcIiBwYXJhbXM9e3tpZDogYXJ0LmlkLCBoYXNoOiAnZXhwbG9yZSd9fT48aW1nIHNyYz1cIi9pbWFnZXMvbW9yZS1pY29uLnN2Z1wiIHN0eWxlPXt7d2lkdGg6ICczZW0nfX0vPjwvTGluaz59XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9BcnR3b3JrLkZpZ3VyZT5cbiAgICApXG4gIH1cbn0pXG5BcnR3b3JrUmVzdWx0LmNvbnRleHRUeXBlcyA9IHtcbiAgcm91dGVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgdW5pdmVyc2FsOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBcnR3b3JrUmVzdWx0XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/artwork-result.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;IAC9B,IAAI,GAAK,MAAM,CAAf,IAAI;;AAEV,IAAI,OAAO,GAAG,OAAO,CAAC,YAAY,CAAC,CAAA;AACnC,IAAI,QAAQ,GAAG,OAAO,CAAC,YAAY,CAAC,CAAA;AACpC,IAAI,WAAW,GAAG,OAAO,CAAC,eAAe,CAAC,CAAA;;AAE1C,IAAI,aAAa,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACpC,QAAM,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;AACtB,SAAO,EAAE;AACP,aAAS,EAAE,mBAAC,MAAM,EAAK;AACrB,aAAO,IAAI,CAAC,AAAG,MAAM,YAAO,MAAM,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAC,CAAC;eAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;OAAA,CAAC,CAAA;KACzE;GACF;AACD,QAAM,EAAA,kBAAG;AACP,QAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAA;AACjC,QAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,IAAI,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,iCAAiC,EAAE,EAAE,CAAC,CAAA;AAC/E,QAAI,KAAK,GAAG,oBAAC,OAAO,CAAC,KAAK,IAAC,GAAG,EAAE,GAAG,AAAC,EAAC,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,AAAC,EAAC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,AAAC,GAAG,CAAA;;AAExG,QAAI,aAAa,GAAG,WAAW,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,MAAM,CAAC,CAAA;AACnE,QAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,UAAA,GAAG;aAAI,GAAG,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,qBAAqB,CAAC;KAAA,CAAC,CAAC,MAAM,GAAG,CAAC,CAAA;;AAE3I,WACE;AAAC,aAAO,CAAC,MAAM;QAAC,GAAG,EAAE,GAAG,AAAC,EAAC,SAAS,EAAC,gBAAgB;MAClD;;UAAK,SAAS,EAAC,iBAAiB;QAC7B,KAAK;QACN,oBAAC,OAAO,CAAC,OAAO,IAAC,GAAG,EAAE,GAAG,AAAC,EAAC,OAAO,EAAC,IAAI,EAAC,IAAI,EAAE,KAAK,AAAC,EAAC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,AAAC,GAAG;QAC1F;;;UAAI,GAAG,CAAC,IAAI,KAAK,aAAa,GAAG,GAAG,CAAC,IAAI,GAAG;;;YAAQ;AAAC,sBAAQ;;cAAE,aAAa;aAAY;WAAS;SAAK;QACrG,QAAQ,IAAI;AAAC,cAAI;YAAC,EAAE,EAAC,SAAS,EAAC,MAAM,EAAE,EAAC,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,IAAI,EAAE,SAAS,EAAC,AAAC;UAAC,6BAAK,GAAG,EAAC,uBAAuB,EAAC,KAAK,EAAE,EAAC,KAAK,EAAE,KAAK,EAAC,AAAC,GAAE;SAAO;OACnI;KACS,CAClB;GACF;CACF,CAAC,CAAA;AACF,aAAa,CAAC,YAAY,GAAG;AAC3B,QAAM,EAAE,KAAK,CAAC,SAAS,CAAC,IAAI;AAC5B,WAAS,EAAE,KAAK,CAAC,SAAS,CAAC,IAAI;CAChC,CAAA;;AAED,MAAM,CAAC,OAAO,GAAG,aAAa,CAAA",
      "file": "/var/www/art/src/artwork-result.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar { Link } = Router\n\nvar Artwork = require('./_artwork')\nvar Markdown = require('./markdown')\nvar highlighter = require('./highlighter')\n\nvar ArtworkResult = React.createClass({\n  mixins: [Router.State],\n  statics: {\n    fetchData: (params) => {\n      return rest(`${SEARCH}/id/`+params.id).then((r) => JSON.parse(r.entity))\n    }\n  },\n  render() {\n    var art = this.props.data.artwork\n    var id = this.props.id || art.id.replace('http://api.artsmia.org/objects/', '')\n    var title = <Artwork.Title art={art} link={this.context.universal} highlights={this.props.highlights} />\n\n    var roomHighlight = highlighter(art, this.props.highlights, 'room')\n    var showMore = this.props.showMore && Object.keys(art).filter(key => key.match(/related:/) && !key.match(/related:exhibitions/)).length > 0\n\n    return (\n      <Artwork.Figure art={art} className='artwork-result'>\n        <div className=\"artwork-summary\">\n          {title}\n          <Artwork.Creator art={art} wrapper=\"h2\" peek={false} highlights={this.props.highlights} />\n          <p>{art.room === 'Not on View' ? art.room : <strong><Markdown>{roomHighlight}</Markdown></strong>}</p>\n          {showMore && <Link to=\"artwork\" params={{id: art.id, hash: 'explore'}}><img src=\"/images/more-icon.svg\" style={{width: '3em'}}/></Link>}\n        </div>\n      </Artwork.Figure>\n    )\n  }\n})\nArtworkResult.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nmodule.exports = ArtworkResult\n"
      ]
    },
    "mtime": 1487953287530
  },
  "{\"filename\":\"/var/www/art/src/_artwork.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "sliced-to-array",
        "object-without-properties",
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar toSlug = require('speakingurl');\nvar classnames = require('classnames');\n\nvar Creator = require('./artwork/creator.js');\nvar ArtworkImage = require('./artwork-image');\nvar Peek = require('./peek');\nvar imageCDN = require('./image-cdn');\nvar highlighter = require('./highlighter');\nvar Markdown = require('./markdown');\n\n//\n// TODO: move these into separate components at `src/artwork/`?\n//\n\nvar ConditionalLinkWrapper = React.createClass({\n  displayName: 'ConditionalLinkWrapper',\n\n  render: function render() {\n    var _props = this.props;\n    var art = _props.art;\n    var link = _props.link;\n\n    return link ? React.createElement(\n      Link,\n      { to: 'artwork', params: { id: art.id } },\n      this.props.children\n    ) : this.props.children;\n  }\n});\n\nvar Title = React.createClass({\n  displayName: 'Title',\n\n  render: function render() {\n    var _props2 = this.props;\n    var art = _props2.art;\n    var link = _props2.link;\n    var highlights = _props2.highlights;\n\n    var title = React.createElement(\n      Markdown,\n      { tag: 'span' },\n      highlighter(art, highlights, \"title\")\n    );\n    var title = React.createElement(\n      'h1',\n      { itemProp: 'name' },\n      title,\n      ', ',\n      React.createElement(\n        'span',\n        { className: 'dated' },\n        art.dated\n      )\n    );\n\n    return React.createElement(\n      ConditionalLinkWrapper,\n      this.props,\n      title\n    );\n  }\n});\n\nvar Tombstone = React.createClass({\n  displayName: 'Tombstone',\n\n  getInitialState: function getInitialState() {\n    return {\n      showLabels: false,\n      highlightAccessionNumber: false\n    };\n  },\n\n  render: function render() {\n    var _props3 = this.props;\n    var art = _props3.art;\n    var highlightAccessionNumber = _props3.highlightAccessionNumber;\n\n    var highlight = highlighter.bind(null, art, this.props.highlights);\n\n    var accessionNumber = this.props.highlighter ? this.props.highlighter(art.accession_number, highlightAccessionNumber) : art.accession_number;\n\n    return React.createElement(\n      'div',\n      { onDoubleClick: this.handleDoubleClick },\n      React.createElement(\n        'p',\n        { className: 'tombstone' },\n        React.createElement(\n          Peek,\n          { facet: 'medium', tag: 'span', highlightedValue: highlight('medium') },\n          art.medium\n        )\n      ),\n      this.state.showLabels && React.createElement(CopyableLabel, { art: art, onClose: this.handleDoubleClick }),\n      React.createElement(\n        'p',\n        { className: 'gifted' },\n        React.createElement(\n          Peek,\n          { facet: 'creditline', tag: 'span', highlightedValue: highlight('creditline') },\n          art.creditline\n        ),\n        ' ',\n        accessionNumber\n      )\n    );\n  },\n\n  handleDoubleClick: function handleDoubleClick() {\n    // show a copy-able tombstone/label in different formats\n    this.setState({ showLabels: !this.state.showLabels });\n  }\n});\n\nvar ClickToSelect = require('react-click-to-select');\n\nvar CopyableLabel = React.createClass({\n  displayName: 'CopyableLabel',\n\n  render: function render() {\n    var art = this.props.art;\n\n    var style = {\n      border: '1px solid red',\n      position: 'absolute',\n      background: 'white',\n      padding: '0.25em'\n    };\n\n    var join = this.join;\n    var formatDates = this.formatDates;\n    var titlecase = this.titlecase;\n\n    var hasValidArtist = art.artist !== \"\" && !art.artist.match(/Unknown/i);\n\n    var _Creator$getFacetAndValue = Creator.getFacetAndValue(art);\n\n    var _Creator$getFacetAndValue2 = _slicedToArray(_Creator$getFacetAndValue, 2);\n\n    var facet = _Creator$getFacetAndValue2[0];\n    var creator = _Creator$getFacetAndValue2[1];\n\n    if (facet == 'country' || facet == undefined) creator = undefined;\n\n    var title = this.state.useQuotes ? '“' + art.title + '”' : React.createElement(\n      'i',\n      null,\n      art.title\n    );\n    if (!hasValidArtist) title = art.title;\n\n    // Artist name [if known], Country of origin, birth/death dates,\n    // or\n    // Self-designation of people/tribe, location (country +/- continent)\n    // Title of object [italicized if simply nondescriptive, like Table], creation date, media,\n    // Source of purchase funds, accession number [+ © or ARS info]\n    return React.createElement(\n      'div',\n      { style: style },\n      React.createElement(\n        ClickToSelect,\n        { ref: 'click' },\n        React.createElement(\n          'p',\n          null,\n          join(hasValidArtist && [creator, art.country, formatDates(art.life_date)] || [creator, art.country, art.continent])\n        ),\n        React.createElement(\n          'p',\n          null,\n          title,\n          ', ',\n          join([formatDates(art.dated), titlecase(art.medium)])\n        ),\n        React.createElement(\n          'p',\n          null,\n          join([art.creditline, art.accession_number, decodeURIComponent(art.image_copyright)])\n        )\n      ),\n      React.createElement(\n        'div',\n        { style: { opacity: '0.5' } },\n        React.createElement(\n          'label',\n          { 'for': 'useQuotes', onDoubleClick: function (e) {\n              e.stopPropagation();e.preventDefault();\n            } },\n          React.createElement('input', { type: 'checkbox',\n            onChange: this.toggleQuotes,\n            checked: this.state.useQuotes\n          }),\n          'use quotes'\n        ),\n        React.createElement(\n          'button',\n          { onClick: this.props.onClose, style: { color: '#111', float: 'right' } },\n          '(close)'\n        )\n      )\n    );\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      useQuotes: false\n    };\n  },\n\n  toggleQuotes: function toggleQuotes(event) {\n    event.stopPropagation();\n    var useQuotes = this.state ? !this.state.useQuotes : true;\n    this.setState({ useQuotes: useQuotes });\n  },\n\n  join: function join(fields) {\n    return fields.filter(function (f) {\n      return !!f;\n    }).join(', ');\n  },\n\n  formatDates: function formatDates(dateString) {\n    var dates = dateString.replace(/^[A-Za-z \\.,\\(\\)]+/, '').split(/\\s*-\\s*/);\n    if (dates.length > 1) {\n      var _dates = _slicedToArray(dates, 2);\n\n      var start = _dates[0];\n      var end = _dates[1];\n\n      if (start.substr(0, 2) === end.substr(0, 2)) return start + \"–\" + end.substr(2);\n      return start + \"–\" + end;\n    }\n    return dates.join(\"–\");\n  },\n\n  titlecase: function titlecase(string) {\n    return string[0].toUpperCase() + string.substr(1).toLowerCase();\n  },\n\n  componentDidMount: function componentDidMount() {\n    // auto-select the text instead of requiring a click\n    var domNode = this.refs.click && React.findDOMNode(this.refs.click);\n    if (domNode) domNode.click();\n  }\n});\n\n// check if an image exists on our cloudfront distribution,\n// and if not, fall back to loading it from the API\nvar testCloudfrontImage = function testCloudfrontImage(art, callback) {\n  var cdnUrl = imageCDN(art.id, art.restricted ? 400 : 800);\n\n  if (typeof document == 'undefined') {\n    return cdnUrl;\n  }\n\n  var i = document.createElement('img');\n  i.onload = function () {\n    return callback(cdnUrl);\n  };\n  i.onerror = function () {\n    return callback('https://api.artsmia.org/images/' + art.id + '/' + (art.restricted ? '400/medium.jpg' : '800/large.jpg'));\n  };\n  i.src = cdnUrl;\n};\n\nvar LinkBar = React.createClass({\n  displayName: 'LinkBar',\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      actions: {\n        like: {\n          enabled: false,\n          icon: 'favorite_border'\n        },\n        download: {\n          enabled: true,\n          icon: 'file_download'\n        },\n        print: {\n          enabled: true\n        },\n        share: {\n          enabled: true,\n          icon: 'share'\n        }\n      }\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      showShare: false\n    };\n  },\n\n  render: function render() {\n    var _this = this;\n\n    var art = this.props.art;\n\n    var actions = Object.keys(this.props.actions).map(function (key) {\n      _this.props.actions[key].key = key;\n      return _this.props.actions[key];\n    }, []).filter(function (action) {\n      return action.enabled;\n    })\n    // don't show 'download' for art with an invalid image\n    .filter(function (action) {\n      return !(action.key == 'download' && art.image == 'invalid');\n    });\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'div',\n        { className: 'link-bar' },\n        actions.map(function (action) {\n          var key = action.key;\n          var handler = eval('_this.handle' + (key[0].toUpperCase() + key.substr(1))); // TODO alert alert warning warning (shouldn't have to reference _this, sketchy code)\n\n          var options = {\n            key: key,\n            className: \"material-icons\",\n            onClick: handler\n          };\n          if (key == 'download') {\n            options.download = '';\n            if (_this.state.resolvedImageDownloadUrl) {\n              options.href = _this.state.resolvedImageDownloadUrl;\n            } else {\n              testCloudfrontImage(art, function (url) {\n                _this.setState({ resolvedImageDownloadUrl: url });\n              });\n            }\n          }\n          var content = action.icon || action.key;\n\n          return key == 'download' ? React.createElement(\n            'a',\n            options,\n            content\n          ) : React.createElement(\n            'i',\n            options,\n            content\n          );\n        })\n      ),\n      this.state.showShare && this.showShare(),\n      React.createElement('div', { className: 'clear' }),\n      React.createElement(\n        'div',\n        { className: 'back-button' },\n        this.props.link && React.createElement(\n          Link,\n          { to: 'artwork', params: { id: art.id } },\n          'View Details ',\n          React.createElement(\n            'i',\n            { className: 'material-icons' },\n            'arrow_forward'\n          )\n        )\n      )\n    );\n  },\n\n  getUrl: function getUrl() {\n    return 'https://collections.artsmia.org' + this.context.router.getCurrentPath();\n  },\n\n  handleShare: function handleShare() {\n    var art = this.props.art;\n\n    this.setState({ showShare: !this.state.showShare });\n  },\n\n  showShare: function showShare() {\n    var art = this.props.art;\n\n    var facebookURL = 'https://www.facebook.com/sharer/sharer.php?u=' + encodeURI(this.getUrl());\n    var twitterURL = 'https://twitter.com/intent/tweet?url=' + encodeURI(this.getUrl());\n    var emailURL = 'mailto:?subject=' + art.title + '&body=' + encodeURI(this.getUrl());\n\n    return React.createElement(\n      'div',\n      { className: 'share' },\n      React.createElement(\n        'div',\n        { className: 'social' },\n        React.createElement(\n          'a',\n          { title: 'Share via email', href: emailURL, target: '_blank' },\n          React.createElement('img', { src: 'https://simpleicons.org/icons/email.svg' })\n        )\n      ),\n      React.createElement(\n        'div',\n        { className: 'social' },\n        React.createElement(\n          'a',\n          { title: 'Share on Facebook', href: facebookURL, target: '_blank' },\n          React.createElement('img', { src: 'https://cdn.rawgit.com/danleech/simple-icons/gh-pages/icons/facebook.svg' })\n        )\n      ),\n      React.createElement(\n        'div',\n        { className: 'social' },\n        React.createElement(\n          'a',\n          { title: 'Share on Twitter', href: twitterURL, target: '_blank' },\n          React.createElement('img', { src: 'https://cdn.rawgit.com/danleech/simple-icons/gh-pages/icons/twitter.svg' })\n        )\n      )\n    );\n  },\n\n  handlePrint: function handlePrint() {\n    window.print();\n  },\n\n  handleDownload: function handleDownload() {\n    var art = this.props.art;\n    var id = art.id;\n\n    if (process.env.NODE_ENV == 'production') {\n      require('react-ga').event({\n        category: 'Artwork',\n        action: 'Image Download',\n        label: art.title,\n        value: parseInt(id)\n      });\n    } else {\n      console.info('ga.event', 'downloaded', id);\n    }\n  },\n\n  handleLike: function handleLike() {\n    console.info('TODO');\n  }\n});\nLinkBar.contextTypes = {\n  router: React.PropTypes.func\n};\n\nvar Figure = React.createClass({\n  displayName: 'Figure',\n\n  render: function render() {\n    var _props4 = this.props;\n    var art = _props4.art;\n    var link = _props4.link;\n    var className = _props4.className;\n\n    var figureProps = _objectWithoutProperties(_props4, ['art', 'link', 'className']);\n\n    var id = art.id;\n    var classes = classnames(className, { validImage: art.image === 'valid' && art.image_width > 0 });\n\n    return React.createElement(\n      'figure',\n      _extends({}, figureProps, { className: classes,\n        itemScope: true, itemType: 'https://schema.org/VisualArtwork' }),\n      React.createElement('link', { itemProp: 'url', href: '/art/' + id }),\n      React.createElement(\n        ConditionalLinkWrapper,\n        { art: art, link: link },\n        React.createElement(ArtworkImage, { art: art, id: id, lazyLoad: false, className: 'artwork-image' })\n      ),\n      React.createElement(\n        'figcaption',\n        null,\n        this.props.children\n      )\n    );\n  }\n});\nFigure.contextTypes = {\n  universal: React.PropTypes.bool\n};\n\nvar slug = function slug(art) {\n  var creator = Creator.getFacetAndValue(art)[1];\n  var string = [art.title.replace(/<[^ ]+?>/g, ''), creator && creator.split(';')[0]].filter(function (e) {\n    return e;\n  }).join(' ').replace(/’|'/g, '').replace(/^(.+)\\(.*\\)/, '$1').replace('ō', 'o');\n  return toSlug(string);\n};\n\nmodule.exports = {\n  Title: Title,\n  Tombstone: Tombstone,\n  LinkBar: LinkBar,\n  Figure: Figure,\n  Creator: Creator,\n  slug: slug\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvX2FydHdvcmsuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7O2VBQ2YsT0FBTyxDQUFDLGNBQWMsQ0FBQzs7SUFBL0IsSUFBSSxZQUFKLElBQUk7O0FBQ1QsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBO0FBQ25DLElBQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTs7QUFFdEMsSUFBSSxPQUFPLEdBQUcsT0FBTyxDQUFDLHNCQUFzQixDQUFDLENBQUE7QUFDN0MsSUFBSSxZQUFZLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUE7QUFDN0MsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQzVCLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQTtBQUNyQyxJQUFJLFdBQVcsR0FBRyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUE7QUFDMUMsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBOzs7Ozs7QUFNcEMsSUFBSSxzQkFBc0IsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDN0MsUUFBTSxFQUFBLGtCQUFHO2lCQUNXLElBQUksQ0FBQyxLQUFLO1FBQXZCLEdBQUcsVUFBSCxHQUFHO1FBQUUsSUFBSSxVQUFKLElBQUk7O0FBRWQsV0FBTyxJQUFJLEdBQ1Q7QUFBQyxVQUFJO1FBQUMsRUFBRSxFQUFDLFNBQVMsRUFBQyxNQUFNLEVBQUUsRUFBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUUsRUFBQyxBQUFDO01BQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRO0tBQVEsR0FDckUsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUE7R0FDdEI7Q0FDRixDQUFDLENBQUE7O0FBRUYsSUFBSSxLQUFL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RCxNQUFNLENBQUMsT0FBTyxHQUFHO0FBQ2YsT0FBSyxFQUFMLEtBQUs7QUFDTCxXQUFTLEVBQVQsU0FBUztBQUNULFNBQU8sRUFBUCxPQUFPO0FBQ1AsUUFBTSxFQUFOLE1BQU07QUFDTixTQUFPLEVBQVAsT0FBTztBQUNQLE1BQUksRUFBSixJQUFJO0NBQ0wsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL19hcnR3b3JrLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIHtMaW5rfSA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIgdG9TbHVnID0gcmVxdWlyZSgnc3BlYWtpbmd1cmwnKVxudmFyIGNsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJylcblxudmFyIENyZWF0b3IgPSByZXF1aXJlKCcuL2FydHdvcmsvY3JlYXRvci5qcycpXG52YXIgQXJ0d29ya0ltYWdlID0gcmVxdWlyZSgnLi9hcnR3b3JrLWltYWdlJylcbnZhciBQZWVrID0gcmVxdWlyZSgnLi9wZWVrJylcbnZhciBpbWFnZUNETiA9IHJlcXVpcmUoJy4vaW1hZ2UtY2RuJylcbnZhciBoaWdobGlnaHRlciA9IHJlcXVpcmUoJy4vaGlnaGxpZ2h0ZXInKVxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi9tYXJrZG93bicpXG5cbi8vXG4vLyBUT0RPOiBtb3ZlIHRoZXNlIGludG8gc2VwYXJhdGUgY29tcG9uZW50cyBhdCBgc3JjL2FydHdvcmsvYD9cbi8vIFxuXG52YXIgQ29uZGl0aW9uYWxMaW5rV3JhcHBlciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7YXJ0LCBsaW5rfSA9IHRoaXMucHJvcHNcblxuICAgIHJldHVybiBsaW5rID9cbiAgICAgIDxMaW5rIHRvPVwiYXJ0d29ya1wiIHBhcmFtcz17e2lkOiBhcnQuaWR9fT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L0xpbms+IDpcbiAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgfVxufSlcblxudmFyIFRpdGxlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnQsIGxpbmssIGhpZ2hsaWdodHN9ID0gdGhpcy5wcm9wc1xuICAgIHZhciB0aXRsZSA9IDxNYXJrZG93biB0YWc9XCJzcGFuXCI+e2hpZ2hsaWdodGVyKGFydCwgaGlnaGxpZ2h0cywgXCJ0aXRsZVwiKX08L01hcmtkb3duPlxuICAgIHZhciB0aXRsZSA9IDxoMSBpdGVtUHJvcD1cIm5hbWVcIj57dGl0bGV9LCA8c3BhbiBjbGFzc05hbWU9XCJkYXRlZFwiPnthcnQuZGF0ZWR9PC9zcGFuPjwvaDE+XG5cbiAgICByZXR1cm4gPENvbmRpdGlvbmFsTGlua1dyYXBwZXIgey4uLnRoaXMucHJvcHN9PlxuICAgICAge3RpdGxlfVxuICAgIDwvQ29uZGl0aW9uYWxMaW5rV3JhcHBlcj5cbiAgfSxcbn0pXG5cbnZhciBUb21ic3RvbmUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2hvd0xhYmVsczogZmFsc2UsXG4gICAgICBoaWdobGlnaHRBY2Nlc3Npb25OdW1iZXI6IGZhbHNlLFxuICAgIH1cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnQsIGhpZ2hsaWdodEFjY2Vzc2lvbk51bWJlcn0gPSB0aGlzLnByb3BzXG4gICAgdmFyIGhpZ2hsaWdodCA9IGhpZ2hsaWdodGVyLmJpbmQobnVsbCwgYXJ0LCB0aGlzLnByb3BzLmhpZ2hsaWdodHMpXG5cbiAgICB2YXIgYWNjZXNzaW9uTnVtYmVyID0gdGhpcy5wcm9wcy5oaWdobGlnaHRlciA/XG4gICAgICB0aGlzLnByb3BzLmhpZ2hsaWdodGVyKGFydC5hY2Nlc3Npb25fbnVtYmVyLCBoaWdobGlnaHRBY2Nlc3Npb25OdW1iZXIpIDpcbiAgICAgIGFydC5hY2Nlc3Npb25fbnVtYmVyXG5cbiAgICByZXR1cm4gPGRpdiBvbkRvdWJsZUNsaWNrPXt0aGlzLmhhbmRsZURvdWJsZUNsaWNrfT5cbiAgICAgIDxwIGNsYXNzTmFtZT1cInRvbWJzdG9uZVwiPlxuICAgICAgICA8UGVlayBmYWNldD1cIm1lZGl1bVwiIHRhZz1cInNwYW5cIiBoaWdobGlnaHRlZFZhbHVlPXtoaWdobGlnaHQoJ21lZGl1bScpfT57YXJ0Lm1lZGl1bX08L1BlZWs+XG4gICAgICA8L3A+XG4gICAgICB7dGhpcy5zdGF0ZS5zaG93TGFiZWxzICYmIDxDb3B5YWJsZUxhYmVsIGFydD17YXJ0fSBvbkNsb3NlPXt0aGlzLmhhbmRsZURvdWJsZUNsaWNrfSAvPn1cbiAgICAgIDxwIGNsYXNzTmFtZT1cImdpZnRlZFwiPlxuICAgICAgICA8UGVlayBmYWNldD1cImNyZWRpdGxpbmVcIiB0YWc9XCJzcGFuXCIgaGlnaGxpZ2h0ZWRWYWx1ZT17aGlnaGxpZ2h0KCdjcmVkaXRsaW5lJyl9PnthcnQuY3JlZGl0bGluZX08L1BlZWs+IHthY2Nlc3Npb25OdW1iZXJ9XG4gICAgICA8L3A+XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgaGFuZGxlRG91YmxlQ2xpY2soKSB7XG4gICAgLy8gc2hvdyBhIGNvcHktYWJsZSB0b21ic3RvbmUvbGFiZWwgaW4gZGlmZmVyZW50IGZvcm1hdHNcbiAgICB0aGlzLnNldFN0YXRlKHtzaG93TGFiZWxzOiAhdGhpcy5zdGF0ZS5zaG93TGFiZWxzfSlcbiAgfVxufSlcblxudmFyIENsaWNrVG9TZWxlY3QgPSByZXF1aXJlKCdyZWFjdC1jbGljay10by1zZWxlY3QnKVxuXG52YXIgQ29weWFibGVMYWJlbCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7YXJ0fSA9IHRoaXMucHJvcHNcblxuICAgIHZhciBzdHlsZSA9IHtcbiAgICAgIGJvcmRlcjogJzFweCBzb2xpZCByZWQnLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBiYWNrZ3JvdW5kOiAnd2hpdGUnLFxuICAgICAgcGFkZGluZzogJzAuMjVlbScsXG4gICAgfVxuXG4gICAgdmFyIHtqb2luLCBmb3JtYXREYXRlcywgdGl0bGVjYXNlfSA9IHRoaXNcblxuICAgIHZhciBoYXNWYWxpZEFydGlzdCA9IGFydC5hcnRpc3QgIT09IFwiXCIgJiYgIWFydC5hcnRpc3QubWF0Y2goL1Vua25vd24vaSlcbiAgICB2YXIgW2ZhY2V0LCBjcmVhdG9yXSA9IENyZWF0b3IuZ2V0RmFjZXRBbmRWYWx1ZShhcnQpXG4gICAgaWYoZmFjZXQgPT0gJ2NvdW50cnknIHx8IGZhY2V0ID09IHVuZGVmaW5lZCkgY3JlYXRvciA9IHVuZGVmaW5lZFxuXG4gICAgdmFyIHRpdGxlID0gdGhpcy5zdGF0ZS51c2VRdW90ZXMgPyBg4oCcJHthcnQudGl0bGV94oCdYCA6IDxpPnthcnQudGl0bGV9PC9pPlxuICAgIGlmKCFoYXNWYWxpZEFydGlzdCkgdGl0bGUgPSBhcnQudGl0bGVcblxuICAgIC8vIEFydGlzdCBuYW1lIFtpZiBrbm93bl0sIENvdW50cnkgb2Ygb3JpZ2luLCBiaXJ0aC9kZWF0aCBkYXRlcyxcbiAgICAvLyBvclxuICAgIC8vIFNlbGYtZGVzaWduYXRpb24gb2YgcGVvcGxlL3RyaWJlLCBsb2NhdGlvbiAoY291bnRyeSArLy0gY29udGluZW50KVxuICAgIC8vIFRpdGxlIG9mIG9iamVjdCBbaXRhbGljaXplZCBpZiBzaW1wbHkgbm9uZGVzY3JpcHRpdmUsIGxpa2UgVGFibGVdLCBjcmVhdGlvbiBkYXRlLCBtZWRpYSxcbiAgICAvLyBTb3VyY2Ugb2YgcHVyY2hhc2UgZnVuZHMsIGFjY2Vzc2lvbiBudW1iZXIgWysgwqkgb3IgQVJTIGluZm9dXG4gICAgcmV0dXJuIDxkaXYgc3R5bGU9e3N0eWxlfT5cbiAgICAgIDxDbGlja1RvU2VsZWN0IHJlZj1cImNsaWNrXCI+XG4gICAgICAgIDxwPntqb2luKGhhc1ZhbGlkQXJ0aXN0ICYmXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgIGNyZWF0b3IsXG4gICAgICAgICAgICAgIGFydC5jb3VudHJ5LFxuICAgICAgICAgICAgICBmb3JtYXREYXRlcyhhcnQubGlmZV9kYXRlKVxuICAgICAgICAgICAgXSB8fFxuICAgICAgICAgICAgW2NyZWF0b3IsIGFydC5jb3VudHJ5LCBhcnQuY29udGluZW50XVxuICAgICAgICApfTwvcD5cbiAgICAgICAgPHA+XG4gICAgICAgICAge3RpdGxlfSwmbmJzcDt7am9pbihbZm9ybWF0RGF0ZXMoYXJ0LmRhdGVkKSwgdGl0bGVjYXNlKGFydC5tZWRpdW0pXSl9XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHA+XG4gICAgICAgICAge2pvaW4oW1xuICAgICAgICAgICAgYXJ0LmNyZWRpdGxpbmUsXG4gICAgICAgICAgICBhcnQuYWNjZXNzaW9uX251bWJlcixcbiAgICAgICAgICAgIGRlY29kZVVSSUNvbXBvbmVudChhcnQuaW1hZ2VfY29weXJpZ2h0KSxcbiAgICAgICAgICBdKX1cbiAgICAgICAgPC9wPlxuICAgICAgPC9DbGlja1RvU2VsZWN0PlxuXG4gICAgICA8ZGl2IHN0eWxlPXt7b3BhY2l0eTogJzAuNSd9fT5cbiAgICAgICAgPGxhYmVsIGZvcj1cInVzZVF1b3Rlc1wiIG9uRG91YmxlQ2xpY2s9eyhlKSA9PiB7ZS5zdG9wUHJvcGFnYXRpb24oKTsgZS5wcmV2ZW50RGVmYXVsdCgpfX0+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy50b2dnbGVRdW90ZXN9XG4gICAgICAgICAgICBjaGVja2VkPXt0aGlzLnN0YXRlLnVzZVF1b3Rlc31cbiAgICAgICAgICAvPlxuICAgICAgICAgIHVzZSBxdW90ZXNcbiAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLnByb3BzLm9uQ2xvc2V9IHN0eWxlPXt7Y29sb3I6ICcjMTExJywgZmxvYXQ6ICdyaWdodCd9fT4oY2xvc2UpPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZVF1b3RlczogZmFsc2UsXG4gICAgfVxuICB9LFxuXG4gIHRvZ2dsZVF1b3RlcyhldmVudCkge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgY29uc3QgdXNlUXVvdGVzID0gdGhpcy5zdGF0ZSA/ICF0aGlzLnN0YXRlLnVzZVF1b3RlcyA6IHRydWVcbiAgICB0aGlzLnNldFN0YXRlKHt1c2VRdW90ZXN9KVxuICB9LFxuXG4gIGpvaW4oZmllbGRzKSB7XG4gICAgcmV0dXJuIGZpZWxkcy5maWx0ZXIoZiA9PiAhIWYpLmpvaW4oJywgJylcbiAgfSxcblxuICBmb3JtYXREYXRlcyhkYXRlU3RyaW5nKSB7XG4gICAgdmFyIGRhdGVzID0gZGF0ZVN0cmluZy5yZXBsYWNlKC9eW0EtWmEteiBcXC4sXFwoXFwpXSsvLCAnJykuc3BsaXQoL1xccyotXFxzKi8pXG4gICAgaWYoZGF0ZXMubGVuZ3RoID4gMSkge1xuICAgICAgdmFyIFtzdGFydCwgZW5kXSA9IGRhdGVzXG4gICAgICBpZihzdGFydC5zdWJzdHIoMCwgMikgPT09IGVuZC5zdWJzdHIoMCwgMikpIHJldHVybiBzdGFydCtcIuKAk1wiK2VuZC5zdWJzdHIoMilcbiAgICAgIHJldHVybiBzdGFydCtcIuKAk1wiK2VuZFxuICAgIH1cbiAgICByZXR1cm4gZGF0ZXMuam9pbihcIuKAk1wiKVxuICB9LFxuXG4gIHRpdGxlY2FzZShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nWzBdLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc3Vic3RyKDEpLnRvTG93ZXJDYXNlKClcbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAvLyBhdXRvLXNlbGVjdCB0aGUgdGV4dCBpbnN0ZWFkIG9mIHJlcXVpcmluZyBhIGNsaWNrXG4gICAgdmFyIGRvbU5vZGUgPSB0aGlzLnJlZnMuY2xpY2sgJiYgUmVhY3QuZmluZERPTU5vZGUodGhpcy5yZWZzLmNsaWNrKVxuICAgIGlmKGRvbU5vZGUpIGRvbU5vZGUuY2xpY2soKVxuICB9LFxufSlcblxuLy8gY2hlY2sgaWYgYW4gaW1hZ2UgZXhpc3RzIG9uIG91ciBjbG91ZGZyb250IGRpc3RyaWJ1dGlvbixcbi8vIGFuZCBpZiBub3QsIGZhbGwgYmFjayB0byBsb2FkaW5nIGl0IGZyb20gdGhlIEFQSVxudmFyIHRlc3RDbG91ZGZyb250SW1hZ2UgPSAoYXJ0LCBjYWxsYmFjaykgPT4ge1xuICB2YXIgY2RuVXJsID0gaW1hZ2VDRE4oYXJ0LmlkLCBhcnQucmVzdHJpY3RlZCA/IDQwMCA6IDgwMClcblxuICBpZih0eXBlb2YgZG9jdW1lbnQgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gY2RuVXJsXG4gIH1cblxuICB2YXIgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpXG4gIGkub25sb2FkID0gKCkgPT4gY2FsbGJhY2soY2RuVXJsKVxuICBpLm9uZXJyb3IgPSAoKSA9PiBjYWxsYmFjayhgaHR0cHM6Ly9hcGkuYXJ0c21pYS5vcmcvaW1hZ2VzLyR7YXJ0LmlkfS8ke2FydC5yZXN0cmljdGVkID8gJzQwMC9tZWRpdW0uanBnJyA6ICc4MDAvbGFyZ2UuanBnJ31gKVxuICBpLnNyYyA9IGNkblVybFxufVxuXG52YXIgTGlua0JhciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhY3Rpb25zOiB7XG4gICAgICAgIGxpa2U6IHtcbiAgICAgICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICBpY29uOiAnZmF2b3JpdGVfYm9yZGVyJyxcbiAgICAgICAgfSxcbiAgICAgICAgZG93bmxvYWQ6IHtcbiAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgIGljb246ICdmaWxlX2Rvd25sb2FkJyxcbiAgICAgICAgfSxcbiAgICAgICAgcHJpbnQ6IHtcbiAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBzaGFyZToge1xuICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgaWNvbjogJ3NoYXJlJyxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzaG93U2hhcmU6IGZhbHNlLFxuICAgIH1cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnR9ID0gdGhpcy5wcm9wc1xuXG4gICAgdmFyIGFjdGlvbnMgPSBPYmplY3Qua2V5cyh0aGlzLnByb3BzLmFjdGlvbnMpXG4gICAgLm1hcChrZXkgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5hY3Rpb25zW2tleV0ua2V5ID0ga2V5XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5hY3Rpb25zW2tleV1cbiAgICB9LCBbXSlcbiAgICAuZmlsdGVyKGFjdGlvbiA9PiBhY3Rpb24uZW5hYmxlZClcbiAgICAvLyBkb24ndCBzaG93ICdkb3dubG9hZCcgZm9yIGFydCB3aXRoIGFuIGludmFsaWQgaW1hZ2VcbiAgICAuZmlsdGVyKGFjdGlvbiA9PiAhKGFjdGlvbi5rZXkgPT0gJ2Rvd25sb2FkJyAmJiBhcnQuaW1hZ2UgPT0gJ2ludmFsaWQnKSlcblxuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaW5rLWJhclwiPlxuICAgICAgICB7YWN0aW9uc1xuICAgICAgICAubWFwKGFjdGlvbiA9PiB7XG4gICAgICAgICAgdmFyIGtleSA9IGFjdGlvbi5rZXlcbiAgICAgICAgICB2YXIgaGFuZGxlciA9IGV2YWwoYF90aGlzLmhhbmRsZSR7a2V5WzBdLnRvVXBwZXJDYXNlKCkgKyBrZXkuc3Vic3RyKDEpfWApIC8vIFRPRE8gYWxlcnQgYWxlcnQgd2FybmluZyB3YXJuaW5nIChzaG91bGRuJ3QgaGF2ZSB0byByZWZlcmVuY2UgX3RoaXMsIHNrZXRjaHkgY29kZSlcblxuICAgICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICBjbGFzc05hbWU6IFwibWF0ZXJpYWwtaWNvbnNcIixcbiAgICAgICAgICAgIG9uQ2xpY2s6IGhhbmRsZXIsXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKGtleSA9PSAnZG93bmxvYWQnKSB7XG4gICAgICAgICAgICBvcHRpb25zLmRvd25sb2FkID0gJydcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUucmVzb2x2ZWRJbWFnZURvd25sb2FkVXJsKSB7XG4gICAgICAgICAgICAgIG9wdGlvbnMuaHJlZiA9IHRoaXMuc3RhdGUucmVzb2x2ZWRJbWFnZURvd25sb2FkVXJsXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0ZXN0Q2xvdWRmcm9udEltYWdlKGFydCwgdXJsID0+IHsgdGhpcy5zZXRTdGF0ZSh7cmVzb2x2ZWRJbWFnZURvd25sb2FkVXJsOiB1cmx9KX0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBjb250ZW50ID0gYWN0aW9uLmljb24gfHwgYWN0aW9uLmtleVxuXG4gICAgICAgICAgcmV0dXJuIChrZXkgPT0gJ2Rvd25sb2FkJykgP1xuICAgICAgICAgICAgPGEgey4uLm9wdGlvbnN9Pntjb250ZW50fTwvYT4gOlxuICAgICAgICAgICAgPGkgey4uLm9wdGlvbnN9Pntjb250ZW50fTwvaT5cbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj5cbiAgICAgIHt0aGlzLnN0YXRlLnNob3dTaGFyZSAmJiB0aGlzLnNob3dTaGFyZSgpfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhclwiPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiYWNrLWJ1dHRvblwiPnt0aGlzLnByb3BzLmxpbmsgJiYgPExpbmsgdG89XCJhcnR3b3JrXCIgcGFyYW1zPXt7aWQ6IGFydC5pZH19PlZpZXcgRGV0YWlscyA8aSBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uc1wiPmFycm93X2ZvcndhcmQ8L2k+PC9MaW5rPn08L2Rpdj5cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBnZXRVcmwoKSB7XG4gICAgcmV0dXJuICdodHRwczovL2NvbGxlY3Rpb25zLmFydHNtaWEub3JnJyt0aGlzLmNvbnRleHQucm91dGVyLmdldEN1cnJlbnRQYXRoKClcbiAgfSxcblxuICBoYW5kbGVTaGFyZSgpIHtcbiAgICB2YXIge2FydH0gPSB0aGlzLnByb3BzXG5cbiAgICB0aGlzLnNldFN0YXRlKHtzaG93U2hhcmU6ICF0aGlzLnN0YXRlLnNob3dTaGFyZX0pXG4gIH0sXG5cbiAgc2hvd1NoYXJlKCkge1xuICAgIHZhciB7YXJ0fSA9IHRoaXMucHJvcHNcblxuICAgIHZhciBmYWNlYm9va1VSTCA9IGBodHRwczovL3d3dy5mYWNlYm9vay5jb20vc2hhcmVyL3NoYXJlci5waHA/dT0ke2VuY29kZVVSSSh0aGlzLmdldFVybCgpKX1gXG4gICAgdmFyIHR3aXR0ZXJVUkwgPSBgaHR0cHM6Ly90d2l0dGVyLmNvbS9pbnRlbnQvdHdlZXQ/dXJsPSR7ZW5jb2RlVVJJKHRoaXMuZ2V0VXJsKCkpfWBcbiAgICB2YXIgZW1haWxVUkwgPSBgbWFpbHRvOj9zdWJqZWN0PSR7YXJ0LnRpdGxlfSZib2R5PSR7ZW5jb2RlVVJJKHRoaXMuZ2V0VXJsKCkpfWBcblxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInNoYXJlXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNvY2lhbFwiPjxhIHRpdGxlPVwiU2hhcmUgdmlhIGVtYWlsXCIgaHJlZj17ZW1haWxVUkx9IHRhcmdldD1cIl9ibGFua1wiPlxuICAgICAgICA8aW1nIHNyYz1cImh0dHBzOi8vc2ltcGxlaWNvbnMub3JnL2ljb25zL2VtYWlsLnN2Z1wiIC8+XG4gICAgICA8L2E+PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNvY2lhbFwiPjxhIHRpdGxlPVwiU2hhcmUgb24gRmFjZWJvb2tcIiBocmVmPXtmYWNlYm9va1VSTH0gdGFyZ2V0PVwiX2JsYW5rXCI+XG4gICAgICAgIDxpbWcgc3JjPVwiaHR0cHM6Ly9jZG4ucmF3Z2l0LmNvbS9kYW5sZWVjaC9zaW1wbGUtaWNvbnMvZ2gtcGFnZXMvaWNvbnMvZmFjZWJvb2suc3ZnXCIgLz5cbiAgICAgIDwvYT48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic29jaWFsXCI+PGEgdGl0bGU9XCJTaGFyZSBvbiBUd2l0dGVyXCIgaHJlZj17dHdpdHRlclVSTH0gdGFyZ2V0PVwiX2JsYW5rXCI+XG4gICAgICAgIDxpbWcgc3JjPVwiaHR0cHM6Ly9jZG4ucmF3Z2l0LmNvbS9kYW5sZWVjaC9zaW1wbGUtaWNvbnMvZ2gtcGFnZXMvaWNvbnMvdHdpdHRlci5zdmdcIiAvPlxuICAgICAgPC9hPjwvZGl2PlxuICAgIDwvZGl2PlxuICB9LFxuXG4gIGhhbmRsZVByaW50KCkge1xuICAgIHdpbmRvdy5wcmludCgpXG4gIH0sXG5cbiAgaGFuZGxlRG93bmxvYWQoKSB7XG4gICAgdmFyIHthcnR9ID0gdGhpcy5wcm9wc1xuICAgIHZhciB7aWR9ID0gYXJ0XG4gICAgaWYocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICByZXF1aXJlKCdyZWFjdC1nYScpLmV2ZW50KHtcbiAgICAgICAgY2F0ZWdvcnk6ICdBcnR3b3JrJyxcbiAgICAgICAgYWN0aW9uOiAnSW1hZ2UgRG93bmxvYWQnLFxuICAgICAgICBsYWJlbDogYXJ0LnRpdGxlLFxuICAgICAgICB2YWx1ZTogcGFyc2VJbnQoaWQpXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICAgY29uc29sZS5pbmZvKCdnYS5ldmVudCcsICdkb3dubG9hZGVkJywgaWQpXG4gICAgfVxuICB9LFxuXG4gIGhhbmRsZUxpa2UoKSB7XG4gICAgY29uc29sZS5pbmZvKCdUT0RPJylcbiAgfSxcbn0pXG5MaW5rQmFyLmNvbnRleHRUeXBlcyA9IHtcbiAgcm91dGVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbn1cblxudmFyIEZpZ3VyZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7YXJ0LCBsaW5rLCBjbGFzc05hbWUsIC4uLmZpZ3VyZVByb3BzfSA9IHRoaXMucHJvcHNcbiAgICB2YXIgaWQgPSBhcnQuaWRcbiAgICB2YXIgY2xhc3NlcyA9IGNsYXNzbmFtZXMoY2xhc3NOYW1lLCB7dmFsaWRJbWFnZTogYXJ0LmltYWdlID09PSAndmFsaWQnICYmIGFydC5pbWFnZV93aWR0aCA+IDB9KVxuXG4gICAgcmV0dXJuIDxmaWd1cmUgey4uLmZpZ3VyZVByb3BzfSBjbGFzc05hbWU9e2NsYXNzZXN9XG4gICAgICBpdGVtU2NvcGUgaXRlbVR5cGU9XCJodHRwczovL3NjaGVtYS5vcmcvVmlzdWFsQXJ0d29ya1wiPlxuICAgICAgPGxpbmsgaXRlbVByb3A9XCJ1cmxcIiBocmVmPXtgL2FydC8ke2lkfWB9IC8+XG4gICAgICA8Q29uZGl0aW9uYWxMaW5rV3JhcHBlciBhcnQ9e2FydH0gbGluaz17bGlua30+XG4gICAgICAgIDxBcnR3b3JrSW1hZ2UgYXJ0PXthcnR9IGlkPXtpZH0gbGF6eUxvYWQ9e2ZhbHNlfSBjbGFzc05hbWU9XCJhcnR3b3JrLWltYWdlXCIgLz5cbiAgICAgIDwvQ29uZGl0aW9uYWxMaW5rV3JhcHBlcj5cbiAgICAgIDxmaWdjYXB0aW9uPlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvZmlnY2FwdGlvbj5cbiAgICA8L2ZpZ3VyZT5cbiAgfSxcbn0pXG5GaWd1cmUuY29udGV4dFR5cGVzID0ge1xuICB1bml2ZXJzYWw6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxufVxuXG52YXIgc2x1ZyA9IChhcnQpID0+IHtcbiAgdmFyIGNyZWF0b3IgPSBDcmVhdG9yLmdldEZhY2V0QW5kVmFsdWUoYXJ0KVsxXVxuICB2YXIgc3RyaW5nID0gW2FydC50aXRsZS5yZXBsYWNlKC88W14gXSs/Pi9nLCAnJyksIGNyZWF0b3IgJiYgY3JlYXRvci5zcGxpdCgnOycpWzBdXVxuICAgIC5maWx0ZXIoZSA9PiBlKVxuICAgIC5qb2luKCcgJylcbiAgICAucmVwbGFjZSgv4oCZfCcvZywgJycpXG4gICAgLnJlcGxhY2UoL14oLispXFwoLipcXCkvLCAnJDEnKVxuICAgIC5yZXBsYWNlKCfFjScsICdvJylcbiAgcmV0dXJuIHRvU2x1ZyhzdHJpbmcpXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBUaXRsZSxcbiAgVG9tYnN0b25lLFxuICBMaW5rQmFyLFxuICBGaWd1cmUsXG4gIENyZWF0b3IsXG4gIHNsdWdcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/_artwork.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/_artwork.js",
      "sourcesContent": [
        "var React = require('react')\nvar {Link} = require('react-router')\nvar toSlug = require('speakingurl')\nvar classnames = require('classnames')\n\nvar Creator = require('./artwork/creator.js')\nvar ArtworkImage = require('./artwork-image')\nvar Peek = require('./peek')\nvar imageCDN = require('./image-cdn')\nvar highlighter = require('./highlighter')\nvar Markdown = require('./markdown')\n\n//\n// TODO: move these into separate components at `src/artwork/`?\n// \n\nvar ConditionalLinkWrapper = React.createClass({\n  render() {\n    var {art, link} = this.props\n\n    return link ?\n      <Link to=\"artwork\" params={{id: art.id}}>{this.props.children}</Link> :\n      this.props.children\n  }\n})\n\nvar Title = React.createClass({\n  render() {\n    var {art, link, highlights} = this.props\n    var title = <Markdown tag=\"span\">{highlighter(art, highlights, \"title\")}</Markdown>\n    var title = <h1 itemProp=\"name\">{title}, <span className=\"dated\">{art.dated}</span></h1>\n\n    return <ConditionalLinkWrapper {...this.props}>\n      {title}\n    </ConditionalLinkWrapper>\n  },\n})\n\nvar Tombstone = React.createClass({\n  getInitialState() {\n    return {\n      showLabels: false,\n      highlightAccessionNumber: false,\n    }\n  },\n\n  render() {\n    var {art, highlightAccessionNumber} = this.props\n    var highlight = highlighter.bind(null, art, this.props.highlights)\n\n    var accessionNumber = this.props.highlighter ?\n      this.props.highlighter(art.accession_number, highlightAccessionNumber) :\n      art.accession_number\n\n    return <div onDoubleClick={this.handleDoubleClick}>\n      <p className=\"tombstone\">\n        <Peek facet=\"medium\" tag=\"span\" highlightedValue={highlight('medium')}>{art.medium}</Peek>\n      </p>\n      {this.state.showLabels && <CopyableLabel art={art} onClose={this.handleDoubleClick} />}\n      <p className=\"gifted\">\n        <Peek facet=\"creditline\" tag=\"span\" highlightedValue={highlight('creditline')}>{art.creditline}</Peek> {accessionNumber}\n      </p>\n    </div>\n  },\n\n  handleDoubleClick() {\n    // show a copy-able tombstone/label in different formats\n    this.setState({showLabels: !this.state.showLabels})\n  }\n})\n\nvar ClickToSelect = require('react-click-to-select')\n\nvar CopyableLabel = React.createClass({\n  render() {\n    var {art} = this.props\n\n    var style = {\n      border: '1px solid red',\n      position: 'absolute',\n      background: 'white',\n      padding: '0.25em',\n    }\n\n    var {join, formatDates, titlecase} = this\n\n    var hasValidArtist = art.artist !== \"\" && !art.artist.match(/Unknown/i)\n    var [facet, creator] = Creator.getFacetAndValue(art)\n    if(facet == 'country' || facet == undefined) creator = undefined\n\n    var title = this.state.useQuotes ? `“${art.title}”` : <i>{art.title}</i>\n    if(!hasValidArtist) title = art.title\n\n    // Artist name [if known], Country of origin, birth/death dates,\n    // or\n    // Self-designation of people/tribe, location (country +/- continent)\n    // Title of object [italicized if simply nondescriptive, like Table], creation date, media,\n    // Source of purchase funds, accession number [+ © or ARS info]\n    return <div style={style}>\n      <ClickToSelect ref=\"click\">\n        <p>{join(hasValidArtist &&\n            [\n              creator,\n              art.country,\n              formatDates(art.life_date)\n            ] ||\n            [creator, art.country, art.continent]\n        )}</p>\n        <p>\n          {title},&nbsp;{join([formatDates(art.dated), titlecase(art.medium)])}\n        </p>\n        <p>\n          {join([\n            art.creditline,\n            art.accession_number,\n            decodeURIComponent(art.image_copyright),\n          ])}\n        </p>\n      </ClickToSelect>\n\n      <div style={{opacity: '0.5'}}>\n        <label for=\"useQuotes\" onDoubleClick={(e) => {e.stopPropagation(); e.preventDefault()}}>\n          <input type=\"checkbox\"\n            onChange={this.toggleQuotes}\n            checked={this.state.useQuotes}\n          />\n          use quotes\n        </label>\n        <button onClick={this.props.onClose} style={{color: '#111', float: 'right'}}>(close)</button>\n      </div>\n    </div>\n  },\n\n  getInitialState() {\n    return {\n      useQuotes: false,\n    }\n  },\n\n  toggleQuotes(event) {\n    event.stopPropagation()\n    const useQuotes = this.state ? !this.state.useQuotes : true\n    this.setState({useQuotes})\n  },\n\n  join(fields) {\n    return fields.filter(f => !!f).join(', ')\n  },\n\n  formatDates(dateString) {\n    var dates = dateString.replace(/^[A-Za-z \\.,\\(\\)]+/, '').split(/\\s*-\\s*/)\n    if(dates.length > 1) {\n      var [start, end] = dates\n      if(start.substr(0, 2) === end.substr(0, 2)) return start+\"–\"+end.substr(2)\n      return start+\"–\"+end\n    }\n    return dates.join(\"–\")\n  },\n\n  titlecase(string) {\n    return string[0].toUpperCase() + string.substr(1).toLowerCase()\n  },\n\n  componentDidMount() {\n    // auto-select the text instead of requiring a click\n    var domNode = this.refs.click && React.findDOMNode(this.refs.click)\n    if(domNode) domNode.click()\n  },\n})\n\n// check if an image exists on our cloudfront distribution,\n// and if not, fall back to loading it from the API\nvar testCloudfrontImage = (art, callback) => {\n  var cdnUrl = imageCDN(art.id, art.restricted ? 400 : 800)\n\n  if(typeof document == 'undefined') {\n    return cdnUrl\n  }\n\n  var i = document.createElement('img')\n  i.onload = () => callback(cdnUrl)\n  i.onerror = () => callback(`https://api.artsmia.org/images/${art.id}/${art.restricted ? '400/medium.jpg' : '800/large.jpg'}`)\n  i.src = cdnUrl\n}\n\nvar LinkBar = React.createClass({\n  getDefaultProps() {\n    return {\n      actions: {\n        like: {\n          enabled: false,\n          icon: 'favorite_border',\n        },\n        download: {\n          enabled: true,\n          icon: 'file_download',\n        },\n        print: {\n          enabled: true,\n        },\n        share: {\n          enabled: true,\n          icon: 'share',\n        },\n      }\n    }\n  },\n\n  getInitialState() {\n    return {\n      showShare: false,\n    }\n  },\n\n  render() {\n    var {art} = this.props\n\n    var actions = Object.keys(this.props.actions)\n    .map(key => {\n      this.props.actions[key].key = key\n      return this.props.actions[key]\n    }, [])\n    .filter(action => action.enabled)\n    // don't show 'download' for art with an invalid image\n    .filter(action => !(action.key == 'download' && art.image == 'invalid'))\n\n    return <div>\n      <div className=\"link-bar\">\n        {actions\n        .map(action => {\n          var key = action.key\n          var handler = eval(`_this.handle${key[0].toUpperCase() + key.substr(1)}`) // TODO alert alert warning warning (shouldn't have to reference _this, sketchy code)\n\n          var options = {\n            key: key,\n            className: \"material-icons\",\n            onClick: handler,\n          }\n          if(key == 'download') {\n            options.download = ''\n            if(this.state.resolvedImageDownloadUrl) {\n              options.href = this.state.resolvedImageDownloadUrl\n            } else {\n              testCloudfrontImage(art, url => { this.setState({resolvedImageDownloadUrl: url})})\n            }\n          }\n          var content = action.icon || action.key\n\n          return (key == 'download') ?\n            <a {...options}>{content}</a> :\n            <i {...options}>{content}</i>\n        })}\n      </div>\n      {this.state.showShare && this.showShare()}\n      <div className=\"clear\"></div>\n      <div className=\"back-button\">{this.props.link && <Link to=\"artwork\" params={{id: art.id}}>View Details <i className=\"material-icons\">arrow_forward</i></Link>}</div>\n    </div>\n  },\n\n  getUrl() {\n    return 'https://collections.artsmia.org'+this.context.router.getCurrentPath()\n  },\n\n  handleShare() {\n    var {art} = this.props\n\n    this.setState({showShare: !this.state.showShare})\n  },\n\n  showShare() {\n    var {art} = this.props\n\n    var facebookURL = `https://www.facebook.com/sharer/sharer.php?u=${encodeURI(this.getUrl())}`\n    var twitterURL = `https://twitter.com/intent/tweet?url=${encodeURI(this.getUrl())}`\n    var emailURL = `mailto:?subject=${art.title}&body=${encodeURI(this.getUrl())}`\n\n    return <div className=\"share\">\n      <div className=\"social\"><a title=\"Share via email\" href={emailURL} target=\"_blank\">\n        <img src=\"https://simpleicons.org/icons/email.svg\" />\n      </a></div>\n      <div className=\"social\"><a title=\"Share on Facebook\" href={facebookURL} target=\"_blank\">\n        <img src=\"https://cdn.rawgit.com/danleech/simple-icons/gh-pages/icons/facebook.svg\" />\n      </a></div>\n      <div className=\"social\"><a title=\"Share on Twitter\" href={twitterURL} target=\"_blank\">\n        <img src=\"https://cdn.rawgit.com/danleech/simple-icons/gh-pages/icons/twitter.svg\" />\n      </a></div>\n    </div>\n  },\n\n  handlePrint() {\n    window.print()\n  },\n\n  handleDownload() {\n    var {art} = this.props\n    var {id} = art\n    if(process.env.NODE_ENV == 'production') {\n      require('react-ga').event({\n        category: 'Artwork',\n        action: 'Image Download',\n        label: art.title,\n        value: parseInt(id)\n      })\n    } else {\n       console.info('ga.event', 'downloaded', id)\n    }\n  },\n\n  handleLike() {\n    console.info('TODO')\n  },\n})\nLinkBar.contextTypes = {\n  router: React.PropTypes.func,\n}\n\nvar Figure = React.createClass({\n  render() {\n    var {art, link, className, ...figureProps} = this.props\n    var id = art.id\n    var classes = classnames(className, {validImage: art.image === 'valid' && art.image_width > 0})\n\n    return <figure {...figureProps} className={classes}\n      itemScope itemType=\"https://schema.org/VisualArtwork\">\n      <link itemProp=\"url\" href={`/art/${id}`} />\n      <ConditionalLinkWrapper art={art} link={link}>\n        <ArtworkImage art={art} id={id} lazyLoad={false} className=\"artwork-image\" />\n      </ConditionalLinkWrapper>\n      <figcaption>\n        {this.props.children}\n      </figcaption>\n    </figure>\n  },\n})\nFigure.contextTypes = {\n  universal: React.PropTypes.bool,\n}\n\nvar slug = (art) => {\n  var creator = Creator.getFacetAndValue(art)[1]\n  var string = [art.title.replace(/<[^ ]+?>/g, ''), creator && creator.split(';')[0]]\n    .filter(e => e)\n    .join(' ')\n    .replace(/’|'/g, '')\n    .replace(/^(.+)\\(.*\\)/, '$1')\n    .replace('ō', 'o')\n  return toSlug(string)\n}\n\nmodule.exports = {\n  Title,\n  Tombstone,\n  LinkBar,\n  Figure,\n  Creator,\n  slug\n}\n"
      ]
    },
    "mtime": 1487953287526
  },
  "{\"filename\":\"/var/www/art/src/peek.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "to-array",
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar rest = require('rest');\nvar debounce = require('debounce');\nvar classnames = require('classnames');\n\nvar SEARCH = require('./endpoints').search;\nvar ImageQuilt = require('./image-quilt');\nvar searchLanguageMap = require('./search-language');\nvar Markdown = require('./markdown');\n\nvar Peek = React.createClass({\n  displayName: 'Peek',\n\n  mixins: [Router.State, Router.Navigation],\n  propTypes: {\n    children: React.PropTypes.string\n  },\n\n  // TODO: this is a mess, simplify to using props better so there's less\n  // state to manage\n  setup: function setup(props) {\n    var qs;\n    var q = props.q;\n    var facet = props.facet;\n\n    var results = this.state && this.state.results || {};\n    var open = this.state ? this.state.open : !!q;\n    if (q && q.props && q.props.children) q = q.props.children.replace(/<\\/?em>/g, '');\n    if (q && q.match(/:/) && !facet) {\n      var _q$split = q.split(/:/);\n\n      var _q$split2 = _toArray(_q$split);\n\n      facet = _q$split2[0];\n      qs = _q$split2.slice(1);\n\n      var q = qs.join(':');\n    }\n    if (!q) q = props.children;\n\n    return {\n      facet: facet,\n      open: open,\n      results: results,\n      offset: props.offset || 0,\n      query: q,\n      facetedQ: this.getFacetedQ(q, facet),\n      startedOpen: !!props.q\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return this.setup(this.props);\n  },\n\n  render: function render() {\n    var _this = this;\n\n    var _state = this.state;\n    var results = _state.results;\n    var facetedQ = _state.facetedQ;\n    var startedOpen = _state.startedOpen;\n\n    if (!facetedQ) return React.createElement('span', null);\n    var _props = this.props;\n    var child = _props.child;\n    var microdata = _props.microdata;\n\n    var result = results && results[facetedQ];\n    var Tag = this.props.tag;\n    var showIcon = this.props.showIcon;\n\n    var icon = React.createElement(\n      'i',\n      { className: 'material-icons' },\n      'expand_' + (this.state.open ? 'less' : 'more')\n    );\n    var linkProps = this.props.linkProps || this.props.filtered ? {\n      to: \"filteredSearchResults\",\n      params: { terms: '*', splat: this.state.facetedQ || this.state.q }\n    } : {\n      to: \"searchResults\",\n      params: { terms: this.state.facetedQ || this.state.q }\n    };\n    var text = this.props.highlightedValue ? React.createElement(\n      Markdown,\n      { tag: 'span' },\n      this.props.highlightedValue\n    ) : this.props.children;\n    var peekText = this.context.universal ? React.createElement(\n      Link,\n      _extends({ itemProp: microdata ? \"url\" : '' }, linkProps),\n      text\n    ) : text;\n\n    var queryString = decodeURIComponent(this.state.facetedQ);\n    var humanLanguage = searchLanguageMap(queryString);\n    var searchExplanation = humanLanguage !== queryString ? humanLanguage : this.state.query + ' ' + (this.state.facet && '(' + this.state.facet + ')');\n\n    return React.createElement(\n      Tag,\n      { onClick: debounce(this.onClick, 200), className: classnames(\"peek\", { startedOpen: startedOpen, startedClosed: !startedOpen, open: this.state.open }), style: { cursor: 'pointer' } },\n      this.props.children && React.createElement(\n        'i',\n        null,\n        React.createElement(\n          'span',\n          { itemProp: microdata ? \"name\" : '' },\n          peekText\n        ),\n        !this.props.universal && showIcon && icon\n      ),\n      this.state.open && this.state.facetedQ && React.createElement(\n        'div',\n        { className: 'peek', style: { fontSize: '80%', maxWidth: this.state.maxWidth || \"100%\" } },\n        result && this.quiltFromResults(),\n        React.createElement(\n          Link,\n          _extends({}, linkProps, { style: { width: '100%' } }),\n          result && result.hits && result.hits.total || 'search',\n          ' results for ',\n          searchExplanation,\n          React.createElement(\n            'span',\n            { style: { float: 'right', marginRight: '10px' }, className: 'more-results-link' },\n            'View more results'\n          )\n        )\n      ),\n      this.state.open && this.getQs().map(function (q) {\n        return React.createElement(Peek, { facet: _this.state.facet, q: q, key: q });\n      })\n    );\n  },\n\n  onClick: function onClick() {\n    if (this.state.startedOpen) return;\n    if (this.state.open) return this.setState({ open: false });\n\n    this.setState({\n      open: true,\n      loading: true\n    });\n\n    this.fetchResults();\n  },\n\n  quiltFromResults: function quiltFromResults() {\n    var _state2 = this.state;\n    var results = _state2.results;\n    var facetedQ = _state2.facetedQ;\n\n    var result = results && results[facetedQ];\n    var hits = result && result.hits && result.hits.hits || [];\n    var offset = this.props.offset || 0;\n\n    if (!result || !hits || hits.length <= (this.props.showSingleResult ? 0 : 1)) return React.createElement('span', null);\n    var wImg = ImageQuilt.getImagedResults(hits).slice(offset, offset + 10);\n    return React.createElement(ImageQuilt, _extends({\n      maxRows: 1,\n      maxWorks: 7,\n      artworks: wImg.length > 3 ? wImg : hits\n    }, this.props.quiltProps, {\n      onClick: this.linkToResults,\n      disableHover: true,\n      shuffle: this.props.shuffleQuilt\n    }));\n  },\n\n  handleResize: function handleResize() {\n    this.setState({ maxWidth: React.findDOMNode(this).clientWidth });\n  },\n  componentDidMount: function componentDidMount() {\n    if (this.state.open) this.fetchResults();\n    this.handleResize();\n    window.addEventListener('resize', this.handleResize);\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n  },\n\n  getFacetedQ: function getFacetedQ(q, facet) {\n    var q = q || (this.state ? this.state.query : \"\");\n    var facet = facet || this.state && this.state.facet;\n    if (facet == 'artist') q = q.replace(/([^;]+:)/g, '').trim();\n    if (q == null) return false;\n    return facet ? facet + ':\"' + encodeURIComponent(q.replace(/\"/g, '').replace('\\r\\n', ' ')) + '\"' : q;\n  },\n\n  getQs: function getQs() {\n    var _this2 = this;\n\n    var q = this.state.query;\n    if (q.match(';')) {\n      return q.split(/;/).map(function (_q) {\n        var cleanedQ = _q.replace(/^.*attributed to|unknown|artist|after/ig, '').trim();\n        if (_this2.state && _this2.state.facet == 'artist') cleanedQ = cleanedQ.replace(/\\w+ by/, '');\n        return cleanedQ;\n      });\n    }\n    return [];\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    this.setState(this.setup(nextProps));\n  },\n\n  componentWillUpdate: function componentWillUpdate(_, nextState) {\n    if (this.state.open !== nextState.open) this.dispatchEvent();\n  },\n\n  fetchResults: function fetchResults() {\n    var _this3 = this;\n\n    var _state3 = this.state;\n    var results = _state3.results;\n    var facetedQ = _state3.facetedQ;\n\n    this.state.results[facetedQ] || rest(SEARCH + '/' + facetedQ + '?size=20').then(function (r) {\n      var results = _this3.state.results;\n      results[facetedQ] = JSON.parse(r.entity);\n      _this3.setState({\n        results: results,\n        loading: false\n      });\n    });\n  },\n\n  linkToResults: function linkToResults(art) {\n    if (!art) return;\n    window.clickedArtwork = art;\n    if (this.props.directLinkTo) {\n      var relatedJson = JSON.parse(art._source['related:' + this.props.directLinkTo]);\n      var url = relatedJson.link;\n      if (url) return window.location = url;\n    }\n    this.props.filtered ? this.transitionTo('filteredSearchResults', { terms: '*', splat: this.state.facetedQ }) : this.transitionTo('searchResults', { terms: this.state.facetedQ });\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      tag: \"div\",\n      showIcon: true,\n      showSingleResult: false\n    };\n  },\n\n  dispatchEvent: function dispatchEvent() {\n    window.dispatchEvent(new CustomEvent('peek'));\n  }\n});\nPeek.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nmodule.exports = Peek;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvcGVlay5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0lBQzlCLElBQUksR0FBSyxNQUFNLENBQWYsSUFBSTs7QUFDVixJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUE7QUFDMUIsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFBO0FBQ2xDLElBQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTs7QUFFdEMsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLE1BQU0sQ0FBQTtBQUMxQyxJQUFJLFVBQVUsR0FBRyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUE7QUFDekMsSUFBSSxpQkFBaUIsR0FBRyxPQUFPLENBQUMsbUJBQW1CLENBQUMsQ0FBQTtBQUNwRCxJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7O0FBRXBDLElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUMzQixRQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxVQUFVLENBQUM7QUFDekMsV0FBUyxFQUFFO0FBQ1QsWUFBUSxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsTUFBTTtHQUNqQzs7OztBQUlELE9BQUssRUFBQSxlQUFDLEtBQUssRUFBRTtBQUNYLFFBQUksRUFBRSxDQUFBO1FBQ0QsQ0FBQyxHQUFXLEtBQUssQ0FBakIsQ0FBQztRQUFFLEtBQUssR0FBSSxLQUFLLENBQWQsS0FBSzs7QUFDYixRQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxJQUFJLEVBQUUsQ0FB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OztBQUVELGVBQWEsRUFBQSx5QkFBRztBQUNkLFVBQU0sQ0FBQyxhQUFhLENBQUMsSUFBSSxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQTtHQUM5QztDQUNGLENBQUMsQ0FBQTtBQUNGLElBQUksQ0FBQyxZQUFZLEdBQUc7QUFDbEIsUUFBTSxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSTtBQUM1QixXQUFTLEVBQUUsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJO0NBQ2hDLENBQUE7O0FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9wZWVrLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIgeyBMaW5rIH0gPSBSb3V0ZXJcbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG52YXIgZGVib3VuY2UgPSByZXF1aXJlKCdkZWJvdW5jZScpXG52YXIgY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKVxuXG52YXIgU0VBUkNIID0gcmVxdWlyZSgnLi9lbmRwb2ludHMnKS5zZWFyY2hcbnZhciBJbWFnZVF1aWx0ID0gcmVxdWlyZSgnLi9pbWFnZS1xdWlsdCcpXG52YXIgc2VhcmNoTGFuZ3VhZ2VNYXAgPSByZXF1aXJlKCcuL3NlYXJjaC1sYW5ndWFnZScpXG52YXIgTWFya2Rvd24gPSByZXF1aXJlKCcuL21hcmtkb3duJylcblxudmFyIFBlZWsgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIG1peGluczogW1JvdXRlci5TdGF0ZSwgUm91dGVyLk5hdmlnYXRpb25dLFxuICBwcm9wVHlwZXM6IHtcbiAgICBjaGlsZHJlbjogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgfSxcblxuICAvLyBUT0RPOiB0aGlzIGlzIGEgbWVzcywgc2ltcGxpZnkgdG8gdXNpbmcgcHJvcHMgYmV0dGVyIHNvIHRoZXJlJ3MgbGVzc1xuICAvLyBzdGF0ZSB0byBtYW5hZ2VcbiAgc2V0dXAocHJvcHMpIHtcbiAgICB2YXIgcXNcbiAgICB2YXIge3EsIGZhY2V0fSA9IHByb3BzXG4gICAgdmFyIHJlc3VsdHMgPSB0aGlzLnN0YXRlICYmIHRoaXMuc3RhdGUucmVzdWx0cyB8fCB7fVxuICAgIHZhciBvcGVuID0gdGhpcy5zdGF0ZSA/IHRoaXMuc3RhdGUub3BlbiA6ICEhcVxuICAgIGlmKHEgJiYgcS5wcm9wcyAmJiBxLnByb3BzLmNoaWxkcmVuKSBxID0gcS5wcm9wcy5jaGlsZHJlbi5yZXBsYWNlKC88XFwvP2VtPi9nLCAnJylcbiAgICBpZihxICYmIHEubWF0Y2goLzovKSAmJiAhZmFjZXQpIHtcbiAgICAgIFtmYWNldCwgLi4ucXNdID0gcS5zcGxpdCgvOi8pXG4gICAgICB2YXIgcSA9IHFzLmpvaW4oJzonKVxuICAgIH1cbiAgICBpZighcSkgcSA9IHByb3BzLmNoaWxkcmVuXG5cbiAgICByZXR1cm4ge1xuICAgICAgZmFjZXQsXG4gICAgICBvcGVuLFxuICAgICAgcmVzdWx0cyxcbiAgICAgIG9mZnNldDogcHJvcHMub2Zmc2V0IHx8IDAsXG4gICAgICBxdWVyeTogcSxcbiAgICAgIGZhY2V0ZWRROiB0aGlzLmdldEZhY2V0ZWRRKHEsIGZhY2V0KSxcbiAgICAgIHN0YXJ0ZWRPcGVuOiAhIXByb3BzLnFcbiAgICB9XG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLnNldHVwKHRoaXMucHJvcHMpXG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciB7cmVzdWx0cywgZmFjZXRlZFEsIHN0YXJ0ZWRPcGVufSA9IHRoaXMuc3RhdGVcbiAgICBpZighZmFjZXRlZFEpIHJldHVybiA8c3BhbiAvPlxuICAgIHZhciB7Y2hpbGQsIG1pY3JvZGF0YX0gPSB0aGlzLnByb3BzXG4gICAgdmFyIHJlc3VsdCA9IHJlc3VsdHMgJiYgcmVzdWx0c1tmYWNldGVkUV1cbiAgICB2YXIgVGFnID0gdGhpcy5wcm9wcy50YWdcbiAgICB2YXIge3Nob3dJY29ufSA9IHRoaXMucHJvcHNcbiAgICB2YXIgaWNvbiA9IDxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zXCI+eydleHBhbmRfJysodGhpcy5zdGF0ZS5vcGVuID8gJ2xlc3MnIDogJ21vcmUnKX08L2k+XG4gICAgdmFyIGxpbmtQcm9wcyA9IHRoaXMucHJvcHMubGlua1Byb3BzIHx8IHRoaXMucHJvcHMuZmlsdGVyZWQgPyB7XG4gICAgICB0bzogXCJmaWx0ZXJlZFNlYXJjaFJlc3VsdHNcIixcbiAgICAgIHBhcmFtczoge3Rlcm1zOiAnKicsIHNwbGF0OiB0aGlzLnN0YXRlLmZhY2V0ZWRRIHx8IHRoaXMuc3RhdGUucX1cbiAgICB9IDoge1xuICAgICAgdG86IFwic2VhcmNoUmVzdWx0c1wiLFxuICAgICAgcGFyYW1zOiB7dGVybXM6IHRoaXMuc3RhdGUuZmFjZXRlZFEgfHwgdGhpcy5zdGF0ZS5xfVxuICAgIH1cbiAgICB2YXIgdGV4dCA9IHRoaXMucHJvcHMuaGlnaGxpZ2h0ZWRWYWx1ZSA/IDxNYXJrZG93biB0YWc9XCJzcGFuXCI+e3RoaXMucHJvcHMuaGlnaGxpZ2h0ZWRWYWx1ZX08L01hcmtkb3duPiA6IHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgICB2YXIgcGVla1RleHQgPSB0aGlzLmNvbnRleHQudW5pdmVyc2FsID9cbiAgICAgIDxMaW5rIGl0ZW1Qcm9wPXttaWNyb2RhdGEgPyBcInVybFwiIDogJyd9IHsuLi5saW5rUHJvcHN9Pnt0ZXh0fTwvTGluaz4gOlxuICAgICAgdGV4dFxuXG4gICAgdmFyIHF1ZXJ5U3RyaW5nID0gZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMuc3RhdGUuZmFjZXRlZFEpXG4gICAgdmFyIGh1bWFuTGFuZ3VhZ2UgPXNlYXJjaExhbmd1YWdlTWFwKHF1ZXJ5U3RyaW5nKVxuICAgIHZhciBzZWFyY2hFeHBsYW5hdGlvbiA9IGh1bWFuTGFuZ3VhZ2UgIT09IHF1ZXJ5U3RyaW5nID9cbiAgICAgIGh1bWFuTGFuZ3VhZ2UgOlxuICAgICAgYCR7dGhpcy5zdGF0ZS5xdWVyeX0gJHt0aGlzLnN0YXRlLmZhY2V0ICYmIGAoJHt0aGlzLnN0YXRlLmZhY2V0fSlgfWBcblxuICAgIHJldHVybiA8VGFnIG9uQ2xpY2s9e2RlYm91bmNlKHRoaXMub25DbGljaywgMjAwKX0gY2xhc3NOYW1lPXtjbGFzc25hbWVzKFwicGVla1wiLCB7c3RhcnRlZE9wZW46IHN0YXJ0ZWRPcGVuLCBzdGFydGVkQ2xvc2VkOiAhc3RhcnRlZE9wZW4sIG9wZW46dGhpcy5zdGF0ZS5vcGVufSl9IHN0eWxlPXt7Y3Vyc29yOiAncG9pbnRlcid9fT5cbiAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVuICYmIDxpPlxuICAgICAgICA8c3BhbiBpdGVtUHJvcD17bWljcm9kYXRhID8gXCJuYW1lXCIgOiAnJ30+e3BlZWtUZXh0fTwvc3Bhbj5cbiAgICAgICAgeyF0aGlzLnByb3BzLnVuaXZlcnNhbCAmJiBzaG93SWNvbiAmJiBpY29ufVxuICAgICAgPC9pPn1cbiAgICAgIHt0aGlzLnN0YXRlLm9wZW4gJiYgdGhpcy5zdGF0ZS5mYWNldGVkUSAmJiA8ZGl2IGNsYXNzTmFtZT1cInBlZWtcIiBzdHlsZT17e2ZvbnRTaXplOiAnODAlJywgbWF4V2lkdGg6IHRoaXMuc3RhdGUubWF4V2lkdGggfHwgXCIxMDAlXCJ9fT5cbiAgICAgICAge3Jlc3VsdCAmJiB0aGlzLnF1aWx0RnJvbVJlc3VsdHMoKX1cbiAgICAgICAgPExpbmsgey4uLmxpbmtQcm9wc30gc3R5bGU9e3t3aWR0aDogJzEwMCUnfX0+XG4gICAgICAgICAge3Jlc3VsdCAmJiByZXN1bHQuaGl0cyAmJiByZXN1bHQuaGl0cy50b3RhbCB8fCAnc2VhcmNoJ30gcmVzdWx0cyBmb3Ige3NlYXJjaEV4cGxhbmF0aW9ufVxuICAgICAgICAgIDxzcGFuIHN0eWxlPXt7ZmxvYXQ6ICdyaWdodCcsIG1hcmdpblJpZ2h0OiAnMTBweCd9fSBjbGFzc05hbWU9XCJtb3JlLXJlc3VsdHMtbGlua1wiPlZpZXcgbW9yZSByZXN1bHRzPC9zcGFuPlxuICAgICAgICA8L0xpbms+XG4gICAgICA8L2Rpdj59XG4gICAgICB7dGhpcy5zdGF0ZS5vcGVuICYmIHRoaXMuZ2V0UXMoKS5tYXAoKHEpID0+IDxQZWVrIGZhY2V0PXt0aGlzLnN0YXRlLmZhY2V0fSBxPXtxfSBrZXk9e3F9IC8+KX1cbiAgICA8L1RhZz5cbiAgfSxcblxuICBvbkNsaWNrKCkge1xuICAgIGlmKHRoaXMuc3RhdGUuc3RhcnRlZE9wZW4pIHJldHVyblxuICAgIGlmKHRoaXMuc3RhdGUub3BlbikgcmV0dXJuIHRoaXMuc2V0U3RhdGUoe29wZW46IGZhbHNlfSlcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgb3BlbjogdHJ1ZSxcbiAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgfSlcblxuICAgIHRoaXMuZmV0Y2hSZXN1bHRzKClcbiAgfSxcblxuICBxdWlsdEZyb21SZXN1bHRzKCkge1xuICAgIHZhciB7cmVzdWx0cywgZmFjZXRlZFF9ID0gdGhpcy5zdGF0ZVxuICAgIHZhciByZXN1bHQgPSByZXN1bHRzICYmIHJlc3VsdHNbZmFjZXRlZFFdXG4gICAgdmFyIGhpdHMgPSByZXN1bHQgJiYgcmVzdWx0LmhpdHMgJiYgcmVzdWx0LmhpdHMuaGl0cyB8fCBbXVxuICAgIHZhciBvZmZzZXQgPSB0aGlzLnByb3BzLm9mZnNldCB8fCAwXG5cbiAgICBpZighcmVzdWx0IHx8ICFoaXRzIHx8IGhpdHMubGVuZ3RoIDw9ICh0aGlzLnByb3BzLnNob3dTaW5nbGVSZXN1bHQgPyAwIDogMSkpIHJldHVybiA8c3Bhbi8+XG4gICAgdmFyIHdJbWcgPSBJbWFnZVF1aWx0LmdldEltYWdlZFJlc3VsdHMoaGl0cykuc2xpY2Uob2Zmc2V0LCBvZmZzZXQrMTApXG4gICAgcmV0dXJuIDxJbWFnZVF1aWx0XG4gICAgICBtYXhSb3dzPXsxfVxuICAgICAgbWF4V29ya3M9ezd9XG4gICAgICBhcnR3b3Jrcz17d0ltZy5sZW5ndGggPiAzID8gd0ltZyA6IGhpdHN9XG4gICAgICB7Li4udGhpcy5wcm9wcy5xdWlsdFByb3BzfVxuICAgICAgb25DbGljaz17dGhpcy5saW5rVG9SZXN1bHRzfVxuICAgICAgZGlzYWJsZUhvdmVyPXt0cnVlfVxuICAgICAgc2h1ZmZsZT17dGhpcy5wcm9wcy5zaHVmZmxlUXVpbHR9XG4gICAgICAvPlxuICB9LFxuXG4gIGhhbmRsZVJlc2l6ZSgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHttYXhXaWR0aDogUmVhY3QuZmluZERPTU5vZGUodGhpcykuY2xpZW50V2lkdGh9KVxuICB9LFxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgaWYodGhpcy5zdGF0ZS5vcGVuKSB0aGlzLmZldGNoUmVzdWx0cygpXG4gICAgdGhpcy5oYW5kbGVSZXNpemUoKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmhhbmRsZVJlc2l6ZSlcbiAgfSxcbiAgY29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmhhbmRsZVJlc2l6ZSlcbiAgfSxcblxuICBnZXRGYWNldGVkUShxLCBmYWNldCkge1xuICAgIHZhciBxID0gcSB8fCAodGhpcy5zdGF0ZSA/IHRoaXMuc3RhdGUucXVlcnkgOiBcIlwiKVxuICAgIHZhciBmYWNldCA9IGZhY2V0IHx8IHRoaXMuc3RhdGUgJiYgdGhpcy5zdGF0ZS5mYWNldFxuICAgIGlmKGZhY2V0ID09ICdhcnRpc3QnKSBxID0gcS5yZXBsYWNlKC8oW147XSs6KS9nLCAnJykudHJpbSgpXG4gICAgaWYocSA9PSBudWxsKSByZXR1cm4gZmFsc2VcbiAgICByZXR1cm4gZmFjZXQgPyBgJHtmYWNldH06XCIke2VuY29kZVVSSUNvbXBvbmVudChxLnJlcGxhY2UoL1wiL2csICcnKS5yZXBsYWNlKCdcXHJcXG4nLCAnICcpKX1cImAgOiBxXG4gIH0sXG5cbiAgZ2V0UXMoKSB7XG4gICAgdmFyIHEgPSB0aGlzLnN0YXRlLnF1ZXJ5XG4gICAgaWYocS5tYXRjaCgnOycpKSB7XG4gICAgICByZXR1cm4gcS5zcGxpdCgvOy8pLm1hcChfcSA9PiB7XG4gICAgICAgIHZhciBjbGVhbmVkUSA9IF9xLnJlcGxhY2UoL14uKmF0dHJpYnV0ZWQgdG98dW5rbm93bnxhcnRpc3R8YWZ0ZXIvaWcsICcnKS50cmltKClcbiAgICAgICAgaWYodGhpcy5zdGF0ZSAmJiB0aGlzLnN0YXRlLmZhY2V0ID09ICdhcnRpc3QnKSBjbGVhbmVkUSA9IGNsZWFuZWRRLnJlcGxhY2UoL1xcdysgYnkvLCAnJylcbiAgICAgICAgcmV0dXJuIGNsZWFuZWRRXG4gICAgICB9KVxuICAgIH1cbiAgICByZXR1cm4gW11cbiAgfSxcblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIHRoaXMuc2V0U3RhdGUodGhpcy5zZXR1cChuZXh0UHJvcHMpKVxuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxVcGRhdGUoXywgbmV4dFN0YXRlKSB7XG4gICAgaWYodGhpcy5zdGF0ZS5vcGVuICE9PSBuZXh0U3RhdGUub3BlbikgdGhpcy5kaXNwYXRjaEV2ZW50KClcbiAgfSxcblxuICBmZXRjaFJlc3VsdHMoKSB7XG4gICAgdmFyIHtyZXN1bHRzLCBmYWNldGVkUX0gPSB0aGlzLnN0YXRlXG5cbiAgICB0aGlzLnN0YXRlLnJlc3VsdHNbZmFjZXRlZFFdIHx8IHJlc3QoYCR7U0VBUkNIfS8ke2ZhY2V0ZWRRfT9zaXplPTIwYCkudGhlbigocikgPT4ge1xuICAgICAgdmFyIHJlc3VsdHMgPSB0aGlzLnN0YXRlLnJlc3VsdHNcbiAgICAgIHJlc3VsdHNbZmFjZXRlZFFdID0gSlNPTi5wYXJzZShyLmVudGl0eSlcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICByZXN1bHRzOiByZXN1bHRzLFxuICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgIH0pXG4gICAgfSlcbiAgfSxcblxuICBsaW5rVG9SZXN1bHRzKGFydCkge1xuICAgIGlmKCFhcnQpIHJldHVyblxuICAgIHdpbmRvdy5jbGlja2VkQXJ0d29yayA9IGFydFxuICAgIGlmKHRoaXMucHJvcHMuZGlyZWN0TGlua1RvKSB7XG4gICAgICB2YXIgcmVsYXRlZEpzb24gPSBKU09OLnBhcnNlKGFydC5fc291cmNlW2ByZWxhdGVkOiR7dGhpcy5wcm9wcy5kaXJlY3RMaW5rVG99YF0pXG4gICAgICB2YXIgdXJsID0gcmVsYXRlZEpzb24ubGlua1xuICAgICAgaWYodXJsKSByZXR1cm4gd2luZG93LmxvY2F0aW9uID0gdXJsXG4gICAgfVxuICAgIHRoaXMucHJvcHMuZmlsdGVyZWQgP1xuICAgICAgdGhpcy50cmFuc2l0aW9uVG8oJ2ZpbHRlcmVkU2VhcmNoUmVzdWx0cycsIHt0ZXJtczogJyonLCBzcGxhdDogdGhpcy5zdGF0ZS5mYWNldGVkUX0pIDpcbiAgICAgIHRoaXMudHJhbnNpdGlvblRvKCdzZWFyY2hSZXN1bHRzJywge3Rlcm1zOiB0aGlzLnN0YXRlLmZhY2V0ZWRRfSlcbiAgfSxcblxuICBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRhZzogXCJkaXZcIixcbiAgICAgIHNob3dJY29uOiB0cnVlLFxuICAgICAgc2hvd1NpbmdsZVJlc3VsdDogZmFsc2UsXG4gICAgfVxuICB9LFxuXG4gIGRpc3BhdGNoRXZlbnQoKSB7XG4gICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdwZWVrJykpXG4gIH0sXG59KVxuUGVlay5jb250ZXh0VHlwZXMgPSB7XG4gIHJvdXRlcjogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIHVuaXZlcnNhbDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG59XG5cbm1vZHVsZS5leHBvcnRzID0gUGVla1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/peek.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/peek.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar { Link } = Router\nvar rest = require('rest')\nvar debounce = require('debounce')\nvar classnames = require('classnames')\n\nvar SEARCH = require('./endpoints').search\nvar ImageQuilt = require('./image-quilt')\nvar searchLanguageMap = require('./search-language')\nvar Markdown = require('./markdown')\n\nvar Peek = React.createClass({\n  mixins: [Router.State, Router.Navigation],\n  propTypes: {\n    children: React.PropTypes.string,\n  },\n\n  // TODO: this is a mess, simplify to using props better so there's less\n  // state to manage\n  setup(props) {\n    var qs\n    var {q, facet} = props\n    var results = this.state && this.state.results || {}\n    var open = this.state ? this.state.open : !!q\n    if(q && q.props && q.props.children) q = q.props.children.replace(/<\\/?em>/g, '')\n    if(q && q.match(/:/) && !facet) {\n      [facet, ...qs] = q.split(/:/)\n      var q = qs.join(':')\n    }\n    if(!q) q = props.children\n\n    return {\n      facet,\n      open,\n      results,\n      offset: props.offset || 0,\n      query: q,\n      facetedQ: this.getFacetedQ(q, facet),\n      startedOpen: !!props.q\n    }\n  },\n\n  getInitialState() {\n    return this.setup(this.props)\n  },\n\n  render() {\n    var {results, facetedQ, startedOpen} = this.state\n    if(!facetedQ) return <span />\n    var {child, microdata} = this.props\n    var result = results && results[facetedQ]\n    var Tag = this.props.tag\n    var {showIcon} = this.props\n    var icon = <i className=\"material-icons\">{'expand_'+(this.state.open ? 'less' : 'more')}</i>\n    var linkProps = this.props.linkProps || this.props.filtered ? {\n      to: \"filteredSearchResults\",\n      params: {terms: '*', splat: this.state.facetedQ || this.state.q}\n    } : {\n      to: \"searchResults\",\n      params: {terms: this.state.facetedQ || this.state.q}\n    }\n    var text = this.props.highlightedValue ? <Markdown tag=\"span\">{this.props.highlightedValue}</Markdown> : this.props.children\n    var peekText = this.context.universal ?\n      <Link itemProp={microdata ? \"url\" : ''} {...linkProps}>{text}</Link> :\n      text\n\n    var queryString = decodeURIComponent(this.state.facetedQ)\n    var humanLanguage =searchLanguageMap(queryString)\n    var searchExplanation = humanLanguage !== queryString ?\n      humanLanguage :\n      `${this.state.query} ${this.state.facet && `(${this.state.facet})`}`\n\n    return <Tag onClick={debounce(this.onClick, 200)} className={classnames(\"peek\", {startedOpen: startedOpen, startedClosed: !startedOpen, open:this.state.open})} style={{cursor: 'pointer'}}>\n      {this.props.children && <i>\n        <span itemProp={microdata ? \"name\" : ''}>{peekText}</span>\n        {!this.props.universal && showIcon && icon}\n      </i>}\n      {this.state.open && this.state.facetedQ && <div className=\"peek\" style={{fontSize: '80%', maxWidth: this.state.maxWidth || \"100%\"}}>\n        {result && this.quiltFromResults()}\n        <Link {...linkProps} style={{width: '100%'}}>\n          {result && result.hits && result.hits.total || 'search'} results for {searchExplanation}\n          <span style={{float: 'right', marginRight: '10px'}} className=\"more-results-link\">View more results</span>\n        </Link>\n      </div>}\n      {this.state.open && this.getQs().map((q) => <Peek facet={this.state.facet} q={q} key={q} />)}\n    </Tag>\n  },\n\n  onClick() {\n    if(this.state.startedOpen) return\n    if(this.state.open) return this.setState({open: false})\n\n    this.setState({\n      open: true,\n      loading: true,\n    })\n\n    this.fetchResults()\n  },\n\n  quiltFromResults() {\n    var {results, facetedQ} = this.state\n    var result = results && results[facetedQ]\n    var hits = result && result.hits && result.hits.hits || []\n    var offset = this.props.offset || 0\n\n    if(!result || !hits || hits.length <= (this.props.showSingleResult ? 0 : 1)) return <span/>\n    var wImg = ImageQuilt.getImagedResults(hits).slice(offset, offset+10)\n    return <ImageQuilt\n      maxRows={1}\n      maxWorks={7}\n      artworks={wImg.length > 3 ? wImg : hits}\n      {...this.props.quiltProps}\n      onClick={this.linkToResults}\n      disableHover={true}\n      shuffle={this.props.shuffleQuilt}\n      />\n  },\n\n  handleResize() {\n    this.setState({maxWidth: React.findDOMNode(this).clientWidth})\n  },\n  componentDidMount: function() {\n    if(this.state.open) this.fetchResults()\n    this.handleResize()\n    window.addEventListener('resize', this.handleResize)\n  },\n  componentWillUnmount: function() {\n    window.removeEventListener('resize', this.handleResize)\n  },\n\n  getFacetedQ(q, facet) {\n    var q = q || (this.state ? this.state.query : \"\")\n    var facet = facet || this.state && this.state.facet\n    if(facet == 'artist') q = q.replace(/([^;]+:)/g, '').trim()\n    if(q == null) return false\n    return facet ? `${facet}:\"${encodeURIComponent(q.replace(/\"/g, '').replace('\\r\\n', ' '))}\"` : q\n  },\n\n  getQs() {\n    var q = this.state.query\n    if(q.match(';')) {\n      return q.split(/;/).map(_q => {\n        var cleanedQ = _q.replace(/^.*attributed to|unknown|artist|after/ig, '').trim()\n        if(this.state && this.state.facet == 'artist') cleanedQ = cleanedQ.replace(/\\w+ by/, '')\n        return cleanedQ\n      })\n    }\n    return []\n  },\n\n  componentWillReceiveProps(nextProps) {\n    this.setState(this.setup(nextProps))\n  },\n\n  componentWillUpdate(_, nextState) {\n    if(this.state.open !== nextState.open) this.dispatchEvent()\n  },\n\n  fetchResults() {\n    var {results, facetedQ} = this.state\n\n    this.state.results[facetedQ] || rest(`${SEARCH}/${facetedQ}?size=20`).then((r) => {\n      var results = this.state.results\n      results[facetedQ] = JSON.parse(r.entity)\n      this.setState({\n        results: results,\n        loading: false,\n      })\n    })\n  },\n\n  linkToResults(art) {\n    if(!art) return\n    window.clickedArtwork = art\n    if(this.props.directLinkTo) {\n      var relatedJson = JSON.parse(art._source[`related:${this.props.directLinkTo}`])\n      var url = relatedJson.link\n      if(url) return window.location = url\n    }\n    this.props.filtered ?\n      this.transitionTo('filteredSearchResults', {terms: '*', splat: this.state.facetedQ}) :\n      this.transitionTo('searchResults', {terms: this.state.facetedQ})\n  },\n\n  getDefaultProps() {\n    return {\n      tag: \"div\",\n      showIcon: true,\n      showSingleResult: false,\n    }\n  },\n\n  dispatchEvent() {\n    window.dispatchEvent(new CustomEvent('peek'))\n  },\n})\nPeek.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nmodule.exports = Peek\n"
      ]
    },
    "mtime": 1487953287534
  },
  "{\"filename\":\"/var/www/art/src/search-results/focused.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\n\nvar ArtworkPreview = require('../artwork-preview');\nvar Markdown = require('../markdown');\nvar Sticky = require('../bottom-sticky');\nvar ArtworkRelated = require('../artwork-related');\n\nvar FocusedResult = React.createClass({\n  displayName: 'FocusedResult',\n\n  render: function render() {\n    var leftSpacing = this.props.leftColumnWidth.replace(/(\\d+)/, function (int) {\n      return parseInt(int) + 3;\n    });\n    var _props = this.props;\n    var art = _props.art;\n    var highlights = _props.highlights;\n\n    var hasRelatedHighlight = highlights && Object.keys(highlights).join(' ').match(/related:/);\n\n    return React.createElement(\n      'div',\n      { className: 'focusedResult', style: { position: 'absolute', top: 0, left: leftSpacing, right: 0, bottom: 0, width: '60%' } },\n      React.createElement(\n        Sticky,\n        { stickyStyle: { right: 0, top: 0, position: 'fixed', left: leftSpacing, width: '60%' } },\n        React.createElement(ArtworkPreview, { art: art, highlights: highlights, onlyShowHighlightDetails: true, key: art.id }),\n        React.createElement(\n          'span',\n          { className: 'closePreview', style: { position: 'absolute', right: '1em', marginTop: '1em', cursor: 'pointer' }, onClick: this.close },\n          React.createElement(\n            'i',\n            { className: 'material-icons' },\n            'clear'\n          )\n        ),\n        React.createElement(ArtworkRelated, { id: art.id, art: art, skipWrapper: true, highlights: highlights })\n      )\n    );\n  },\n\n  close: function close() {\n    this.props.focusHandler();\n  }\n});\n\nmodule.exports = FocusedResult;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvc2VhcmNoLXJlc3VsdHMvZm9jdXNlZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTs7QUFFNUIsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLG9CQUFvQixDQUFDLENBQUE7QUFDbEQsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBO0FBQ3JDLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFBO0FBQ3hDLElBQUksY0FBYyxHQUFHLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFBOztBQUVsRCxJQUFJLGFBQWEsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDcEMsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsUUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxVQUFBLEdBQUc7YUFBSSxRQUFRLENBQUMsR0FBRyxDQUFDLEdBQUMsQ0FBQztLQUFBLENBQUMsQ0FBQTtpQkFDN0QsSUFBSSxDQUFDLEtBQUs7UUFBN0IsR0FBRyxVQUFILEdBQUc7UUFBRSxVQUFVLFVBQVYsVUFBVTs7QUFDcEIsUUFBSSxtQkFBbUIsR0FBRyxVQUFVLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFBOztBQUUzRixXQUFPOztRQUFLLFNBQVMsRUFBQyxlQUFlLEVBQUMsS0FBSyxFQUFFLEVBQUMsUUFBUSxFQUFFLFVBQVUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUMsQUFBQztNQUNoSTtBQUFDLGNBQU07VUFBQyxXQUFXLEVBQUUsRUFBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUMsQUFBQztRQUMxRixvQkFBQyxjQUFjLElBQUMsR0FBRyxFQUFFLEdBQUcsQUFBQyxFQUFDLFVBQVUsRUFBRSxVQUFVLEFBQUMsRUFBQyx3QkFBd0IsRUFBRSxJQUFJLEFBQUMsRUFBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsQUFBQyxHQUFHO1FBQ2pHOztZQUFNLFNBQVMsRUFBQyxjQUFjLEVBQUMsS0FBSyxFQUFFLEVBQUMsUUFBUSxFQUFFLFVBQVUsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBQyxBQUFDLEVBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxLQUFLLEFBQUM7VUFDbkk7O2NBQUcsU0FBUyxFQUFDLGdCQUFnQjs7V0FBVTtTQUNsQztRQUNQLG9CQUFDLGNBQWMsSUFBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUUsQUFBQyxFQUFDLEdBQUcsRUFBRSxHQUFHLEFBQUMsRUFBQyxXQUFXLEVBQUUsSUFBSSxBQUFDLEVBQUMsVUFBVSxFQUFFLFVBQVUsQUFBQyxHQUFHO09BQzVFO0tBQ0wsQ0FBQTtHQUNQOztBQUVELE9BQUssRUFBQSxpQkFBRztBQUNOLFFBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxFQUFFLENBQUE7R0FDMUI7Q0FDRixDQUFDLENBQUE7O0FBRUYsTUFBTSxDQUFDLE9BQU8sR0FBRyxhQUFhLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9zZWFyY2gtcmVzdWx0cy9mb2N1c2VkLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxuXG52YXIgQXJ0d29ya1ByZXZpZXcgPSByZXF1aXJlKCcuLi9hcnR3b3JrLXByZXZpZXcnKVxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi4vbWFya2Rvd24nKVxudmFyIFN0aWNreSA9IHJlcXVpcmUoJy4uL2JvdHRvbS1zdGlja3knKVxudmFyIEFydHdvcmtSZWxhdGVkID0gcmVxdWlyZSgnLi4vYXJ0d29yay1yZWxhdGVkJylcblxudmFyIEZvY3VzZWRSZXN1bHQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIgbGVmdFNwYWNpbmcgPSB0aGlzLnByb3BzLmxlZnRDb2x1bW5XaWR0aC5yZXBsYWNlKC8oXFxkKykvLCBpbnQgPT4gcGFyc2VJbnQoaW50KSszKVxuICAgIHZhciB7YXJ0LCBoaWdobGlnaHRzfSA9IHRoaXMucHJvcHNcbiAgICB2YXIgaGFzUmVsYXRlZEhpZ2hsaWdodCA9IGhpZ2hsaWdodHMgJiYgT2JqZWN0LmtleXMoaGlnaGxpZ2h0cykuam9pbignICcpLm1hdGNoKC9yZWxhdGVkOi8pXG5cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJmb2N1c2VkUmVzdWx0XCIgc3R5bGU9e3twb3NpdGlvbjogJ2Fic29sdXRlJywgdG9wOiAwLCBsZWZ0OiBsZWZ0U3BhY2luZywgcmlnaHQ6IDAsIGJvdHRvbTogMCwgd2lkdGg6ICc2MCUnfX0+XG4gICAgICA8U3RpY2t5IHN0aWNreVN0eWxlPXt7cmlnaHQ6IDAsIHRvcDogMCwgcG9zaXRpb246ICdmaXhlZCcsIGxlZnQ6IGxlZnRTcGFjaW5nLCB3aWR0aDogJzYwJSd9fT5cbiAgICAgICAgPEFydHdvcmtQcmV2aWV3IGFydD17YXJ0fSBoaWdobGlnaHRzPXtoaWdobGlnaHRzfSBvbmx5U2hvd0hpZ2hsaWdodERldGFpbHM9e3RydWV9IGtleT17YXJ0LmlkfSAvPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjbG9zZVByZXZpZXdcIiBzdHlsZT17e3Bvc2l0aW9uOiAnYWJzb2x1dGUnLCByaWdodDogJzFlbScsIG1hcmdpblRvcDogJzFlbScsIGN1cnNvcjogJ3BvaW50ZXInfX0gb25DbGljaz17dGhpcy5jbG9zZX0+XG4gICAgICAgICAgPGkgY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbnNcIj5jbGVhcjwvaT5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8QXJ0d29ya1JlbGF0ZWQgaWQ9e2FydC5pZH0gYXJ0PXthcnR9IHNraXBXcmFwcGVyPXt0cnVlfSBoaWdobGlnaHRzPXtoaWdobGlnaHRzfSAvPlxuICAgICAgPC9TdGlja3k+XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5wcm9wcy5mb2N1c0hhbmRsZXIoKVxuICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBGb2N1c2VkUmVzdWx0XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/search-results/focused.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;AAE5B,IAAI,cAAc,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAA;AAClD,IAAI,QAAQ,GAAG,OAAO,CAAC,aAAa,CAAC,CAAA;AACrC,IAAI,MAAM,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAA;AACxC,IAAI,cAAc,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAA;;AAElD,IAAI,aAAa,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACpC,QAAM,EAAA,kBAAG;AACP,QAAI,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,OAAO,CAAC,OAAO,EAAE,UAAA,GAAG;aAAI,QAAQ,CAAC,GAAG,CAAC,GAAC,CAAC;KAAA,CAAC,CAAA;iBAC7D,IAAI,CAAC,KAAK;QAA7B,GAAG,UAAH,GAAG;QAAE,UAAU,UAAV,UAAU;;AACpB,QAAI,mBAAmB,GAAG,UAAU,IAAI,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,CAAA;;AAE3F,WAAO;;QAAK,SAAS,EAAC,eAAe,EAAC,KAAK,EAAE,EAAC,QAAQ,EAAE,UAAU,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,EAAC,AAAC;MAChI;AAAC,cAAM;UAAC,WAAW,EAAE,EAAC,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,KAAK,EAAC,AAAC;QAC1F,oBAAC,cAAc,IAAC,GAAG,EAAE,GAAG,AAAC,EAAC,UAAU,EAAE,UAAU,AAAC,EAAC,wBAAwB,EAAE,IAAI,AAAC,EAAC,GAAG,EAAE,GAAG,CAAC,EAAE,AAAC,GAAG;QACjG;;YAAM,SAAS,EAAC,cAAc,EAAC,KAAK,EAAE,EAAC,QAAQ,EAAE,UAAU,EAAE,KAAK,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAC,AAAC,EAAC,OAAO,EAAE,IAAI,CAAC,KAAK,AAAC;UACnI;;cAAG,SAAS,EAAC,gBAAgB;;WAAU;SAClC;QACP,oBAAC,cAAc,IAAC,EAAE,EAAE,GAAG,CAAC,EAAE,AAAC,EAAC,GAAG,EAAE,GAAG,AAAC,EAAC,WAAW,EAAE,IAAI,AAAC,EAAC,UAAU,EAAE,UAAU,AAAC,GAAG;OAC5E;KACL,CAAA;GACP;;AAED,OAAK,EAAA,iBAAG;AACN,QAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAA;GAC1B;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,aAAa,CAAA",
      "file": "/var/www/art/src/search-results/focused.js",
      "sourcesContent": [
        "var React = require('react')\n\nvar ArtworkPreview = require('../artwork-preview')\nvar Markdown = require('../markdown')\nvar Sticky = require('../bottom-sticky')\nvar ArtworkRelated = require('../artwork-related')\n\nvar FocusedResult = React.createClass({\n  render() {\n    var leftSpacing = this.props.leftColumnWidth.replace(/(\\d+)/, int => parseInt(int)+3)\n    var {art, highlights} = this.props\n    var hasRelatedHighlight = highlights && Object.keys(highlights).join(' ').match(/related:/)\n\n    return <div className=\"focusedResult\" style={{position: 'absolute', top: 0, left: leftSpacing, right: 0, bottom: 0, width: '60%'}}>\n      <Sticky stickyStyle={{right: 0, top: 0, position: 'fixed', left: leftSpacing, width: '60%'}}>\n        <ArtworkPreview art={art} highlights={highlights} onlyShowHighlightDetails={true} key={art.id} />\n        <span className=\"closePreview\" style={{position: 'absolute', right: '1em', marginTop: '1em', cursor: 'pointer'}} onClick={this.close}>\n          <i className=\"material-icons\">clear</i>\n        </span>\n        <ArtworkRelated id={art.id} art={art} skipWrapper={true} highlights={highlights} />\n      </Sticky>\n    </div>\n  },\n\n  close() {\n    this.props.focusHandler()\n  },\n})\n\nmodule.exports = FocusedResult\n"
      ]
    },
    "mtime": 1481821196790
  },
  "{\"filename\":\"/var/www/art/src/artwork-preview.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar ArtworkImage = require('./artwork-image');\nvar Markdown = require('./markdown');\nvar Peek = require('./peek');\nvar Artwork = require('./_artwork');\nvar highlighter = require('./highlighter');\nvar ArtworkDetails = require('./artwork-details');\n\nvar ArtworkPreview = React.createClass({\n  displayName: 'ArtworkPreview',\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      showLink: true\n    };\n  },\n\n  render: function render() {\n    var _props = this.props;\n    var art = _props.art;\n    var style = _props.style;\n    var showLink = _props.showLink;\n    var highlights = _props.highlights;\n\n    var id = art.id.replace('http://api.artsmia.org/objects/', '');\n    var highlight = highlighter.bind(null, art, highlights);\n\n    var showHighlights = highlights && React.createElement(\n      'div',\n      { className: 'artwork-detail', style: { marginTop: '1em' } },\n      React.createElement('hr', null),\n      React.createElement(ArtworkDetails, _extends({\n        art: art,\n        highlights: highlights,\n        skipFields: !this.props.showDuplicateDetails && \"title style artist medium credit accession_number gallery text tags\"\n      }, this.props))\n    );\n\n    var details = showLink ? React.createElement(\n      Link,\n      { to: 'artwork', params: { id: art.id } },\n      React.createElement(\n        'div',\n        { className: 'objects-page-link' },\n        React.createElement('div', { className: 'objects-page-icon' }),\n        'details'\n      )\n    ) : '';\n\n    return React.createElement(\n      Artwork.Figure,\n      { art: art, className: 'objects-focus', style: style, link: showLink },\n      React.createElement(\n        'div',\n        { className: 'art-details preview-header' },\n        art.deaccessioned == 'true' && React.createElement(DeaccessionedBanner, { art: art }),\n        art.accession_number.match(/^L/i) && React.createElement(LoanBanner, { art: art }),\n        React.createElement(Artwork.Title, _extends({ art: art, link: showLink }, this.props)),\n        React.createElement(Artwork.Creator, _extends({ art: art }, this.props)),\n        React.createElement(Artwork.Tombstone, _extends({ art: art }, this.props)),\n        React.createElement(\n          'h6',\n          null,\n          React.createElement(\n            Peek,\n            { facet: 'room', highlightedValue: highlight('room') },\n            art.room\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'description', itemProp: 'description' },\n          React.createElement(\n            Markdown,\n            null,\n            highlight('text')\n          )\n        ),\n        React.createElement(Artwork.LinkBar, { art: art, link: showLink }),\n        showHighlights\n      )\n    );\n  },\n\n  displayBio: function displayBio() {\n    var art = this.props.art;\n    var nationality = art.nationality;\n    var life_date = art.life_date;\n\n    var lifeDateWithoutNationality = life_date && life_date.replace(nationality + ', ', '');\n    var nationAndDates = React.createElement(\n      'span',\n      null,\n      nationality && React.createElement(\n        'span',\n        null,\n        React.createElement(\n          Peek,\n          { facet: 'nationality', tag: 'span', showIcon: false },\n          nationality\n        ),\n        ', '\n      ),\n      lifeDateWithoutNationality && React.createElement(\n        Peek,\n        { facet: 'life_date', tag: 'span', showIcon: false },\n        lifeDateWithoutNationality\n      )\n    );\n\n    if (!nationality && !life_date) return React.createElement('span', null);\n    return React.createElement(\n      'div',\n      { className: 'display-bio' },\n      nationAndDates,\n      React.createElement('br', null),\n      art.role\n    );\n  }\n});\n\nmodule.exports = ArtworkPreview;\n\nvar DeaccessionedBanner = React.createClass({\n  displayName: 'DeaccessionedBanner',\n\n  render: function render() {\n    var art = this.props.art;\n\n    var date = art.deaccessionedDate.split('-')[0];\n    var reason = art.deaccessionedReason;\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'strong',\n        null,\n        'DEACCESSIONED'\n      ),\n      React.createElement(\n        'p',\n        null,\n        'This artwork was ',\n        React.createElement(\n          Link,\n          { to: '/info/deaccessions' },\n          'deaccessioned'\n        ),\n        reason && ' (' + reason + ')',\n        ' ',\n        date && React.createElement(\n          'span',\n          null,\n          'in ',\n          date,\n          '.'\n        )\n      )\n    );\n  }\n});\n\nvar LoanBanner = React.createClass({\n  displayName: 'LoanBanner',\n\n  render: function render() {\n    var art = this.props.art;\n\n    var date = art.deaccessionedDate;\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'strong',\n        null,\n        'LOAN'\n      ),\n      React.createElement(\n        'p',\n        null,\n        'This artwork was \"loaned\" to the museum by the owner. It was never owned by Mia. Loans are a common way to share art between museums.'\n      )\n    );\n  }\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYXJ0d29yay1wcmV2aWV3LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0lBQzlCLElBQUksR0FBSyxNQUFNLENBQWYsSUFBSTs7ZUFFRyxPQUFPLENBQUMsY0FBYyxDQUFDOztJQUEvQixJQUFJLFlBQUosSUFBSTs7QUFFVCxJQUFJLFlBQVksR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtBQUM3QyxJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7QUFDcEMsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQzVCLElBQUksT0FBTyxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTtBQUNuQyxJQUFJLFdBQVcsR0FBRyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUE7QUFDMUMsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7O0FBRWpELElBQUksY0FBYyxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUNyQyxpQkFBZSxFQUFBLDJCQUFHO0FBQ2hCLFdBQU87QUFDTCxjQUFRLEVBQUUsSUFBSTtLQUNmLENBQUE7R0FDRjs7QUFFRCxRQUFNLEVBQUEsa0JBQUc7aUJBQ2tDLElBQUksQ0FBQyxLQUFLO1FBQTlDLEdBQUcsVUFBSCxHQUFHO1FBQUUsS0FBSyxVQUFMLEtBQUs7UUFBRSxRQUFRLFVBQVIsUUFBUTtRQUFFLFVBQVUsVUFBVixVQUFVOztBQUNyQyxRQUFJLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxpQ0FBaUMsRUFBRSxFQUFFLENBQUMsQ0FBQTtBQUM5RCxRQUFJLFNBQVMsR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLElB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QXFCO01BQ3JCOzs7O09BRUk7S0FDQSxDQUFBO0dBQ1A7Q0FDRixDQUFDLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9hcnR3b3JrLXByZXZpZXcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciB7IExpbmsgfSA9IFJvdXRlclxuXG52YXIge0xpbmt9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcblxudmFyIEFydHdvcmtJbWFnZSA9IHJlcXVpcmUoJy4vYXJ0d29yay1pbWFnZScpXG52YXIgTWFya2Rvd24gPSByZXF1aXJlKCcuL21hcmtkb3duJylcbnZhciBQZWVrID0gcmVxdWlyZSgnLi9wZWVrJylcbnZhciBBcnR3b3JrID0gcmVxdWlyZSgnLi9fYXJ0d29yaycpXG52YXIgaGlnaGxpZ2h0ZXIgPSByZXF1aXJlKCcuL2hpZ2hsaWdodGVyJylcbnZhciBBcnR3b3JrRGV0YWlscyA9IHJlcXVpcmUoJy4vYXJ0d29yay1kZXRhaWxzJylcblxudmFyIEFydHdvcmtQcmV2aWV3ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNob3dMaW5rOiB0cnVlLFxuICAgIH1cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnQsIHN0eWxlLCBzaG93TGluaywgaGlnaGxpZ2h0c30gPSB0aGlzLnByb3BzXG4gICAgdmFyIGlkID0gYXJ0LmlkLnJlcGxhY2UoJ2h0dHA6Ly9hcGkuYXJ0c21pYS5vcmcvb2JqZWN0cy8nLCAnJylcbiAgICB2YXIgaGlnaGxpZ2h0ID0gaGlnaGxpZ2h0ZXIuYmluZChudWxsLCBhcnQsIGhpZ2hsaWdodHMpXG5cbiAgICB2YXIgc2hvd0hpZ2hsaWdodHMgPSBoaWdobGlnaHRzICYmIDxkaXYgY2xhc3NOYW1lPSdhcnR3b3JrLWRldGFpbCcgc3R5bGU9e3ttYXJnaW5Ub3A6ICcxZW0nfX0+XG4gICAgICA8aHIgLz5cbiAgICAgIDxBcnR3b3JrRGV0YWlsc1xuICAgICAgICBhcnQ9e2FydH1cbiAgICAgICAgaGlnaGxpZ2h0cz17aGlnaGxpZ2h0c31cbiAgICAgICAgc2tpcEZpZWxkcz17IXRoaXMucHJvcHMuc2hvd0R1cGxpY2F0ZURldGFpbHMgJiYgXCJ0aXRsZSBzdHlsZSBhcnRpc3QgbWVkaXVtIGNyZWRpdCBhY2Nlc3Npb25fbnVtYmVyIGdhbGxlcnkgdGV4dCB0YWdzXCJ9XG4gICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cblxuICAgIHZhciBkZXRhaWxzID0gc2hvd0xpbmsgPyA8TGluayB0bz1cImFydHdvcmtcIiBwYXJhbXM9e3tpZDogYXJ0LmlkfX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9iamVjdHMtcGFnZS1saW5rXCI+PGRpdiBjbGFzc05hbWU9XCJvYmplY3RzLXBhZ2UtaWNvblwiPjwvZGl2PmRldGFpbHM8L2Rpdj5cbiAgICA8L0xpbms+IDogJydcblxuICAgIHJldHVybiAoXG4gICAgICA8QXJ0d29yay5GaWd1cmUgYXJ0PXthcnR9IGNsYXNzTmFtZT0nb2JqZWN0cy1mb2N1cycgc3R5bGU9e3N0eWxlfSBsaW5rPXtzaG93TGlua30+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXJ0LWRldGFpbHMgcHJldmlldy1oZWFkZXJcIj5cbiAgICAgICAgICB7YXJ0LmRlYWNjZXNzaW9uZWQgPT0gJ3RydWUnICYmIDxEZWFjY2Vzc2lvbmVkQmFubmVyIGFydD17YXJ0fSAvPn1cbiAgICAgICAgICB7YXJ0LmFjY2Vzc2lvbl9udW1iZXIubWF0Y2goL15ML2kpICYmIDxMb2FuQmFubmVyIGFydD17YXJ0fSAvPn1cbiAgICAgICAgICA8QXJ0d29yay5UaXRsZSBhcnQ9e2FydH0gbGluaz17c2hvd0xpbmt9IHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICAgIDxBcnR3b3JrLkNyZWF0b3IgYXJ0PXthcnR9IHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICAgIDxBcnR3b3JrLlRvbWJzdG9uZSBhcnQ9e2FydH0gey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgICAgPGg2PjxQZWVrIGZhY2V0PVwicm9vbVwiIGhpZ2hsaWdodGVkVmFsdWU9e2hpZ2hsaWdodCgncm9vbScpfT57YXJ0LnJvb219PC9QZWVrPjwvaDY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkZXNjcmlwdGlvblwiIGl0ZW1Qcm9wPVwiZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgIDxNYXJrZG93bj57aGlnaGxpZ2h0KCd0ZXh0Jyl9PC9NYXJrZG93bj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8QXJ0d29yay5MaW5rQmFyIGFydD17YXJ0fSBsaW5rPXtzaG93TGlua30gLz5cbiAgICAgICAgICB7c2hvd0hpZ2hsaWdodHN9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9BcnR3b3JrLkZpZ3VyZT5cbiAgICApXG4gIH0sXG5cbiAgZGlzcGxheUJpbygpIHtcbiAgICB2YXIge2FydH0gPSB0aGlzLnByb3BzXG4gICAgdmFyIHtuYXRpb25hbGl0eSwgbGlmZV9kYXRlfSA9IGFydFxuICAgIHZhciBsaWZlRGF0ZVdpdGhvdXROYXRpb25hbGl0eSA9IGxpZmVfZGF0ZSAmJiBsaWZlX2RhdGUucmVwbGFjZShuYXRpb25hbGl0eSsnLCAnLCAnJyk7XG4gICAgdmFyIG5hdGlvbkFuZERhdGVzID0gPHNwYW4+XG4gICAgICB7bmF0aW9uYWxpdHkgJiYgKDxzcGFuPjxQZWVrIGZhY2V0PVwibmF0aW9uYWxpdHlcIiB0YWc9XCJzcGFuXCIgc2hvd0ljb249e2ZhbHNlfT57bmF0aW9uYWxpdHl9PC9QZWVrPiwgPC9zcGFuPil9XG4gICAgICB7bGlmZURhdGVXaXRob3V0TmF0aW9uYWxpdHkgJiYgPFBlZWsgZmFjZXQ9XCJsaWZlX2RhdGVcIiB0YWc9XCJzcGFuXCIgc2hvd0ljb249e2ZhbHNlfT57bGlmZURhdGVXaXRob3V0TmF0aW9uYWxpdHl9PC9QZWVrPn1cbiAgICA8L3NwYW4+XG5cbiAgICBpZighbmF0aW9uYWxpdHkgJiYgIWxpZmVfZGF0ZSkgcmV0dXJuIDxzcGFuLz5cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9J2Rpc3BsYXktYmlvJz5cbiAgICAgIHtuYXRpb25BbmREYXRlc308YnIvPlxuICAgICAge2FydC5yb2xlfVxuICAgIDwvZGl2PlxuICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBBcnR3b3JrUHJldmlld1xuXG52YXIgRGVhY2Nlc3Npb25lZEJhbm5lciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7YXJ0fSA9IHRoaXMucHJvcHNcbiAgICB2YXIgZGF0ZSA9IGFydC5kZWFjY2Vzc2lvbmVkRGF0ZS5zcGxpdCgnLScpWzBdXG4gICAgdmFyIHJlYXNvbiA9IGFydC5kZWFjY2Vzc2lvbmVkUmVhc29uXG5cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIDxzdHJvbmc+REVBQ0NFU1NJT05FRDwvc3Ryb25nPlxuICAgICAgPHA+XG4gICAgICAgIFRoaXMgYXJ0d29yayB3YXMgPExpbmsgdG89XCIvaW5mby9kZWFjY2Vzc2lvbnNcIj5kZWFjY2Vzc2lvbmVkPC9MaW5rPntyZWFzb24gJiYgYCAoJHtyZWFzb259KWB9XG4gICAgICAgICZuYnNwO3tkYXRlICYmIDxzcGFuPmluIHtkYXRlfS48L3NwYW4+fVxuICAgICAgPC9wPlxuICAgIDwvZGl2PlxuICB9LFxufSlcblxudmFyIExvYW5CYW5uZXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIge2FydH0gPSB0aGlzLnByb3BzXG4gICAgdmFyIGRhdGUgPSBhcnQuZGVhY2Nlc3Npb25lZERhdGVcblxuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPHN0cm9uZz5MT0FOPC9zdHJvbmc+XG4gICAgICA8cD5cbiAgICAgICAgVGhpcyBhcnR3b3JrIHdhcyBcImxvYW5lZFwiIHRvIHRoZSBtdXNldW0gYnkgdGhlIG93bmVyLiBJdCB3YXMgbmV2ZXIgb3duZWQgYnkgTWlhLiBMb2FucyBhcmUgYSBjb21tb24gd2F5IHRvIHNoYXJlIGFydCBiZXR3ZWVuIG11c2V1bXMuXG4gICAgICA8L3A+XG4gICAgPC9kaXY+XG4gIH0sXG59KVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/artwork-preview.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/artwork-preview.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar { Link } = Router\n\nvar {Link} = require('react-router')\n\nvar ArtworkImage = require('./artwork-image')\nvar Markdown = require('./markdown')\nvar Peek = require('./peek')\nvar Artwork = require('./_artwork')\nvar highlighter = require('./highlighter')\nvar ArtworkDetails = require('./artwork-details')\n\nvar ArtworkPreview = React.createClass({\n  getDefaultProps() {\n    return {\n      showLink: true,\n    }\n  },\n\n  render() {\n    var {art, style, showLink, highlights} = this.props\n    var id = art.id.replace('http://api.artsmia.org/objects/', '')\n    var highlight = highlighter.bind(null, art, highlights)\n\n    var showHighlights = highlights && <div className='artwork-detail' style={{marginTop: '1em'}}>\n      <hr />\n      <ArtworkDetails\n        art={art}\n        highlights={highlights}\n        skipFields={!this.props.showDuplicateDetails && \"title style artist medium credit accession_number gallery text tags\"}\n        {...this.props}\n      />\n    </div>\n\n    var details = showLink ? <Link to=\"artwork\" params={{id: art.id}}>\n      <div className=\"objects-page-link\"><div className=\"objects-page-icon\"></div>details</div>\n    </Link> : ''\n\n    return (\n      <Artwork.Figure art={art} className='objects-focus' style={style} link={showLink}>\n        <div className=\"art-details preview-header\">\n          {art.deaccessioned == 'true' && <DeaccessionedBanner art={art} />}\n          {art.accession_number.match(/^L/i) && <LoanBanner art={art} />}\n          <Artwork.Title art={art} link={showLink} {...this.props} />\n          <Artwork.Creator art={art} {...this.props} />\n          <Artwork.Tombstone art={art} {...this.props} />\n          <h6><Peek facet=\"room\" highlightedValue={highlight('room')}>{art.room}</Peek></h6>\n          <div className=\"description\" itemProp=\"description\">\n            <Markdown>{highlight('text')}</Markdown>\n          </div>\n          <Artwork.LinkBar art={art} link={showLink} />\n          {showHighlights}\n        </div>\n      </Artwork.Figure>\n    )\n  },\n\n  displayBio() {\n    var {art} = this.props\n    var {nationality, life_date} = art\n    var lifeDateWithoutNationality = life_date && life_date.replace(nationality+', ', '');\n    var nationAndDates = <span>\n      {nationality && (<span><Peek facet=\"nationality\" tag=\"span\" showIcon={false}>{nationality}</Peek>, </span>)}\n      {lifeDateWithoutNationality && <Peek facet=\"life_date\" tag=\"span\" showIcon={false}>{lifeDateWithoutNationality}</Peek>}\n    </span>\n\n    if(!nationality && !life_date) return <span/>\n    return <div className='display-bio'>\n      {nationAndDates}<br/>\n      {art.role}\n    </div>\n  },\n})\n\nmodule.exports = ArtworkPreview\n\nvar DeaccessionedBanner = React.createClass({\n  render() {\n    var {art} = this.props\n    var date = art.deaccessionedDate.split('-')[0]\n    var reason = art.deaccessionedReason\n\n    return <div>\n      <strong>DEACCESSIONED</strong>\n      <p>\n        This artwork was <Link to=\"/info/deaccessions\">deaccessioned</Link>{reason && ` (${reason})`}\n        &nbsp;{date && <span>in {date}.</span>}\n      </p>\n    </div>\n  },\n})\n\nvar LoanBanner = React.createClass({\n  render() {\n    var {art} = this.props\n    var date = art.deaccessionedDate\n\n    return <div>\n      <strong>LOAN</strong>\n      <p>\n        This artwork was \"loaned\" to the museum by the owner. It was never owned by Mia. Loans are a common way to share art between museums.\n      </p>\n    </div>\n  },\n})\n"
      ]
    },
    "mtime": 1464207848598
  },
  "{\"filename\":\"/var/www/art/src/artwork-details.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends",
        "sliced-to-array",
        "to-consumable-array"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar React = require('react');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar capitalize = require('capitalize');\nvar Isvg = require('react-inlinesvg');\nvar cx = require('classnames');\nvar ClickToSelect = require('react-click-to-select');\n\nvar Markdown = require('./markdown');\nvar Peek = require('./peek');\nvar dimensionSvg = require('./endpoints').dimensionSvg;\nvar rightsDescriptions = require('./rights-types.js');\nvar feedbackSender = require('./email-data-sender');\n\nvar ArtworkDetails = React.createClass({\n  displayName: 'ArtworkDetails',\n\n  build: function build(field, fn) {\n    var _props = this.props;\n    var art = _props.art;\n    var highlights = _props.highlights;\n\n    if (this.props.onlyShowHighlightDetails && !highlights[field]) return;\n\n    var humanFieldName = capitalize.words(field).replace('_', ' ');\n    var artAndHighlights = this.artAndHighlights();\n\n    var _ref = fn ? fn(artAndHighlights, art) : [artAndHighlights[field]];\n\n    var _ref2 = _slicedToArray(_ref, 2);\n\n    var content = _ref2[0];\n    var extraContent = _ref2[1];\n\n    if (!content || content == '') return;\n    var showExtra = extraContent && this.state.expandDetailsMatrix[field];\n    var classes = cx(\"detail-row\", { expandable: extraContent }, field);\n\n    return React.createElement(\n      'div',\n      { className: classes, key: field },\n      React.createElement(\n        'div',\n        { onClick: this.toggleExtra.bind(this, field) },\n        React.createElement(\n          'dt',\n          { className: 'detail-title' },\n          humanFieldName\n        ),\n        React.createElement(\n          'dd',\n          { className: 'detail-content' },\n          content\n        )\n      ),\n      showExtra && React.createElement(\n        'div',\n        { className: 'detail-extra' },\n        extraContent\n      )\n    );\n  },\n\n  toggleExtra: function toggleExtra(field) {\n    var expandDetailsMatrix = this.state.expandDetailsMatrix;\n\n    expandDetailsMatrix[field] = !expandDetailsMatrix[field];\n    this.setState({ expandDetailsMatrix: expandDetailsMatrix });\n  },\n\n  // merge `art` with `highlights`, replacing the un-highlighted values with\n  // their 'highlit' equivalent\n  artAndHighlights: function artAndHighlights() {\n    var _props2 = this.props;\n    var art = _props2.art;\n    var highlights = _props2.highlights;\n\n    return !highlights ? art : Object.assign(_extends({}, art), Object.keys(highlights).reduce(function (object, key) {\n      var value = highlights[key] && highlights[key][0];\n      if (typeof value == 'string') value = React.createElement(\n        Markdown,\n        null,\n        value\n      );\n      object[key] = value;\n      return object;\n    }, {}));\n  },\n\n  buildPeekableDetail: function buildPeekableDetail(field, extra, value) {\n    var art = this.props.art;\n\n    var highlights = this.artAndHighlights();\n\n    return [field, function (art) {\n      return [value || highlights[field], React.createElement(\n        'div',\n        null,\n        extra,\n        React.createElement(Peek, { facet: field, q: value || art[field] })\n      )];\n    }];\n  },\n\n  details: function details() {\n    var _this = this;\n\n    var art = this.props.art;\n\n    return [['deaccessioned', function (art, raw) {\n      return [raw.deaccessioned && '' + art.deaccessionedDate, React.createElement(\n        'div',\n        null,\n        raw.deaccessionedReason && React.createElement(\n          'p',\n          null,\n          raw.deaccessionedReason\n        ),\n        React.createElement(\n          Link,\n          { to: '/info/deaccessions' },\n          'Artworks are deaccessioned for many reasons'\n        )\n      )];\n    }], ['title'], this.buildPeekableDetail('dated'), this.buildPeekableDetail('artist', this.props.art.life_date, art.artist.replace(/^([^;]+):/, '')), this.buildPeekableDetail('nationality'), ['artist_life', function (art) {\n      return [art.life_date && art.life_date.replace(new RegExp(art.nationality + \"(, )?\"), '')];\n    }], ['role', function (_, raw) {\n      var roleFromArtistField = raw.artist.match(/^([^;]+):/);\n      return [roleFromArtistField ? roleFromArtistField[1] : raw.role];\n    }], ['gallery', function (art, raw) {\n      return [art.room, React.createElement(Peek, { facet: 'room', q: raw.room })];\n    }], this.buildPeekableDetail('department'), ['dimension', function (art, rawArt) {\n      var showFancyDimension = art.dimension && _this.dimensions().length > 0;\n\n      return [art.dimension && React.createElement(\n        'div',\n        null,\n        showFancyDimension ? _this.dimensions().map(function (_ref3) {\n          var _ref32 = _slicedToArray(_ref3, 2);\n\n          var d = _ref32[0];\n          var aspect = _ref32[1];\n\n          return React.createElement(\n            'span',\n            { style: { display: 'block' }, onMouseEnter: _this.toggleDimensionGraphic.bind(_this, aspect), key: aspect },\n            d\n          );\n        }) : art.dimension\n      ), showFancyDimension && React.createElement(\n        'div',\n        null,\n        rawArt.dimension.match(/cm/) && React.createElement(Isvg, {\n          src: dimensionSvg(art.id, _this.state.dimensionGraphicName),\n          key: _this.state.dimensionGraphicName,\n          onLoad: _this.dimensionSvgLoaded\n        })\n      )];\n    }], ['credit', function (art, raw) {\n      return [art.creditline, React.createElement(Peek, { facet: 'creditline', q: raw.creditline })];\n    }], ['accession_number'], this.buildPeekableDetail('medium'), this.buildPeekableDetail('country'), this.buildPeekableDetail('culture'), ['century', function (art, raw) {\n      return [art.style, React.createElement(Peek, { facet: 'style', q: raw.style })];\n    }], ['provenance'], ['rights', function (art, raw) {\n      return [(art.image_copyright || art.rights) && React.createElement(\n        'div',\n        null,\n        art.image_copyright && decodeURIComponent(art.image_copyright),\n        art.image_copyright && art.rights && React.createElement('br', null),\n        art.rights && React.createElement(\n          'span',\n          null,\n          art.rights\n        )\n      ), React.createElement(\n        'div',\n        null,\n        React.createElement(\n          'p',\n          null,\n          rightsDescriptions[raw.rights]\n        ),\n        React.createElement(Peek, { facet: 'rights', q: raw.rights }),\n        React.createElement(\n          'p',\n          null,\n          React.createElement(\n            'a',\n            { href: 'https://new.artsmia.org/visit/policies-guidelines/#websiteimageaccess&use' },\n            'Mia\\'s Image Access & Use Policy'\n          )\n        )\n      )];\n    }],\n    // apparently markings/inscription/signed are 'for our eyes only'\n    // ['markings', (art) => {\n    //   // show deprecated `marks` field if none of the new `markings, signature, inscription` fields exist yet\n    //   return [art.markings || (!art.signature && !art.inscription && art.marks)]\n    // }],\n    // ['inscription'],\n    // ['signed'],\n    ['classification', function (art, raw) {\n      if (!raw.classification) return [];\n\n      var classificationPeeks = raw.classification.split(',').map(function (classification, index) {\n        return React.createElement(Peek, { facet: 'classification', q: classification, key: index });\n      });\n\n      return [React.createElement(\n        'p',\n        null,\n        art.classification\n      ), React.createElement(\n        'div',\n        null,\n        classificationPeeks\n      )];\n    }], this.buildPeekableDetail('object_name'),\n    // disable tags due to frequent inaccuracies\n    // ['tags', art => {\n    //   if(!art.tags) return []\n\n    //   var linkedTags = art.tags.trim().split(' ')\n    //   .map(tag => <Link to=\"searchResults\" params={{terms: `tags:${tag}`}} key={tag}>{tag.replace(/-/g, ' ')}</Link>)\n\n    //   return [\n    //     <p>{linkedTags.map((tag, index) => {\n    //       return <span key={index}>{tag}{(index == linkedTags.length-1 || ', ')}</span>\n    //     })}</p>\n    // ]\n    // }],\n    ['catalogue_raisonne', function (art) {\n      if (!art.catalogue_raissonne) return [];\n      return [React.createElement(\n        'div',\n        null,\n        art.catalogue_raissonne\n      )];\n    }], ['wikipedia', function (art) {\n      return ['Cite this information', React.createElement(\n        'div',\n        null,\n        React.createElement(\n          ClickToSelect,\n          null,\n          React.createElement(\n            'code',\n            { name: 'Mia' },\n            '{{cite web |title=',\n            art.title,\n            ' |url=https://collections.artsmia.org/art/',\n            art.id,\n            ' |author=',\n            art.artist,\n            ' |year=',\n            art.dated,\n            ' |accessdate=',\n            new Date().toUTCString().split(' ').slice(1, 4).join(' '),\n            ' |publisher=Minneapolis Institute of Art}}'\n          )\n        )\n      )];\n    }], ['exhibition_history', function (art) {\n      if (!art.exhibition_history) return [];\n      return [React.createElement(\n        Markdown,\n        null,\n        art.exhibition_history\n      )];\n    }], ['see_also', function (art, raw) {\n      var also = raw.see_also && raw.see_also.filter(function (id) {\n        return id !== \"\" && id !== raw.id;\n      });\n      return also && also.length > 0 ? [also.length + ' other artwork' + (also.length > 1 ? 's' : ''), React.createElement(Peek, { facet: 'see_also', q: raw.id })] : [];\n    }], ['portfolio', function (art, raw) {\n      if (!raw.portfolio || raw.portfolio == 'From ') return [];\n      var portfolioName = raw.portfolio.replace('From From', 'From'); // some have double 'from'\n\n      return [portfolioName, React.createElement(Peek, { facet: 'portfolio', q: portfolioName })];\n    }], ['curator_approved', function (art) {\n      var currentUrl = window.location && window.location.href.split('/').slice(0, 5).join('/');\n      var dataSender = feedbackSender(undefined, undefined, 'Collections data feedback', currentUrl);\n      var imageSender = feedbackSender('collectionsdata+images@artsmia.org', 'Let us know', 'Collections image feedback', currentUrl);\n\n      var dataMessage = art.curator_approved ? 'This record is from historic documentation and may not have been reviewed by a curator, so may be inaccurate or incomplete. Our records are frequently revised and enhanced. If you notice a mistake or have additional information about this object, please email ' + dataSender + '.' : 'This record has been reviewed by our curatorial staff but may be incomplete. These records are frequently revised and enhanced. If you notice a mistake or have additional information about this object, please email ' + dataSender + '.';\n\n      var imageMessage = 'Does something look wrong with this image? ' + imageSender;\n\n      return [React.createElement(\n        Markdown,\n        null,\n        dataMessage + '\\n\\n' + imageMessage\n      )];\n    }]];\n  },\n\n  getInitialState: function getInitialState() {\n    var dimensions = this.dimensions();\n    var firstDimensionName = dimensions && dimensions[0] && dimensions[0][1];\n    var expandDetails = this.details().reduce(function (reduced, _ref4) {\n      var _ref42 = _slicedToArray(_ref4, 1);\n\n      var field = _ref42[0];\n\n      reduced[field] = false;\n      return reduced;\n    }, {});\n    expandDetails['dimension'] = !!firstDimensionName;\n\n    return {\n      expandDetailsMatrix: expandDetails,\n      dimensionGraphicName: firstDimensionName\n    };\n  },\n\n  render: function render() {\n    var _this2 = this;\n\n    var _props3 = this.props;\n    var art = _props3.art;\n    var highlights = _props3.highlights;\n\n    var skip = this.props.skipFields ? this.props.skipFields.split(' ') : [];\n    var details = this.details().filter(function (_ref5) {\n      var _ref52 = _slicedToArray(_ref5, 1);\n\n      var field = _ref52[0];\n      return skip.indexOf(field) < 0;\n    }).map(function (field) {\n      return _this2.build.apply(_this2, _toConsumableArray(field));\n    }).filter(function (detail) {\n      return !!detail;\n    });\n\n    return React.createElement(\n      'dl',\n      { className: 'artwork-detail' },\n      details\n    );\n  },\n\n  dimensions: function dimensions() {\n    var dimension = this.props.art.dimension;\n\n    if (!dimension) return [];\n    // var dimension = this.props.highlights ? this.props.highlights.dimension : this.props.art\n    return dimension.split(\"\\r\\n\").filter(function (string) {\n      return string.match(/[x\\|×].*cm/);\n    }).map(function (string) {\n      var aspect = string.match(/cm\\)\\s\\(*([^\\(]+)\\)$/);\n\n      return [string, aspect ? aspect[1].replace(/[^a-zA-z]+/g, '-').replace(/^-|-$/, '') : 'dimensions'];\n    });\n  },\n\n  toggleDimensionGraphic: function toggleDimensionGraphic(aspect) {\n    this.setState({ dimensionGraphicName: aspect });\n  },\n\n  dimensionSvgLoaded: function dimensionSvgLoaded() {\n    if (this.state.heightAdjusted) return;\n    this.setState({ heightAdjusted: true });\n    var domNode = React.findDOMNode(this);\n    this.context.onHeightChange && this.context.onHeightChange(domNode.parentElement.parentElement.parentElement.parentElement.clientHeight);\n  }\n});\nArtworkDetails.contextTypes = {\n  onHeightChange: React.PropTypes.func\n};\n\nmodule.exports = ArtworkDetails;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYXJ0d29yay1kZXRhaWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBOztlQUNmLE9BQU8sQ0FBQyxjQUFjLENBQUM7O0lBQS9CLElBQUksWUFBSixJQUFJOztBQUNULElBQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTtBQUN0QyxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtBQUNyQyxJQUFJLEVBQUUsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7QUFDOUIsSUFBSSxhQUFhLEdBQUcsT0FBTyxDQUFDLHVCQUF1QixDQUFDLENBQUE7O0FBRXBELElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTtBQUNwQyxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUE7QUFDNUIsSUFBSSxZQUFZLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLFlBQVksQ0FBQTtBQUN0RCxJQUFJLGtCQUFrQixHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFBO0FBQ3JELElBQUksY0FBYyxHQUFHLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFBOztBQUVuRCxJQUFJLGNBQWMsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDckMsT0FBSyxFQUFBLGVBQUMsS0FBSyxFQUFFLEVBQUUsRUFBRTtpQkFDUyxJQUFJLENBQUMsS0FBSztRQUE3QixHQUFHLFVBQUgsR0FBRztRQUFFLFVBQVUsVUFBVixVQUFVOztBQUNwQixRQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsd0JBQXdCLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEVBQUUsT0FBTTs7QUFFcEUsUUFBSSxjQUFjLEdBQUcsVUFBVSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFBO0FBQzlELFFBQUksZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUE7O2VBQ2hCLEVBQUUsR0FBRyxFQUFFLENBQUMsZ0JBQWdCLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQzs7OztRQUFuRixPQUFPO1FBQUUsWUFBWTs7QUFDMUIsUUFBRyxDQUFDLE9BQU8sSUFBSSxPQUFPLElBQUksRUFBRSxFQUFFLE9BQU07QUFDcEMsUUFBSSxTQUFTLEdBQUcsWUFBWSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsbUJBQW1CLENBQUMsS0FBSyxDQUFDLENBQUE7QUFDckUsUUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFDLFlBQVksRUFBRSxFQUFDLFVBQVUsRUFBRSxZQUFZLEVBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQTs7QUFFakUsV0FBTzs7UUFBSyxTQUFTLEVBQUUsT0FBTyxBQUFDLEVBQUMsR0FBRyxFQUFFLEtBQUssQUFBQztNQUN6Qzs7VUFBSyxPQUFPLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxBQUFDO1FBQy9DOztZQUFJLFNBQVMsRUFBQyxjQUFjO1VBQUUsY0FBYztTQUFNO1FBQ2xEOztZQUFJLFNBQVMsRUFBQyxnQkFBZ0I7VUFBRSxPQUFPO1NBQU07T0FDekM7TUFDTCxTQUFTLElBQUk7O1VBQUssU0FBUyxFQUFDLGNBQWM7UUFBRSxZQUFZO09BQU87S0FDNUQsQ0FBQTtHQUNQOztBQUVELGFBQVcsRUFBQSxxQkFBQyxLQUFLLEVBQUU7UUFDWixtQkFBbUIsR0FBSSxJQUFJLENBQUMsS0FBSyxDQUFqQyxtQkFBbUI7O0FBQ3hCLHVCQUFtQixDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsbUJBQW1CLENBQUMsS0FBSyxDQUFDLENBQUE7QUFDeEQsUUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFDLG1CQUFtQixFQUFuQixtQkFBbUIsRUFBQyxDQUFDLENBQUE7R0FDckM7Ozs7QUFJRCxrQkFBZ0IsRUFBQSw0QkFBRztrQkFDTyxJQUFJLENBQUMsS0FBSztRQUE3QixHQUFHLFdBQUgsR0FBRztRQUFFLFVBQVUsV0FBVixVQUFVOztBQUVwQixXQUFPLENBQUMsVUFBVSxHQUFHLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxjQUFLLEdBQUcsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxVQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUs7QUFDakcsVUFBSSxLQUFLLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUNqRCxVQUFHLE9BQU8sS0FBSyxJQUFJLFFBQVEsRUFBRSxLQUFLLEdBQUc7QUFBQyxnQkFBUTs7UUFBRSxLQUFLO09BQVksQ0FBQTtBQUNqRSxZQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFBO0FBQ25CLGFBQU8sTUFBTSxDQUFBO0tBQ2QsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFBO0dBQ1I7O0FBRUQscUJBQW1CLEVBQUEsNkJBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUU7UUFDbEMsR0FBRyxHQUFJLElBQUksQ0FBQyxLQUFLLENBQWpCLEdBQUc7O0FBQ1IsUUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUE7O0FBRXhDLFdBQU8sQ0FDTCxLQUFLLEVBQ0wsVUFBQSxHQUFHO2FBQUksQ0FDTCxLQUFLLElBQUksVUFBVSxDQUFDLEtBQUssQ0FBQyxFQUMxQjs7O1FBQ0csS0FBSztRQUNOLG9CQUFDLElBQUksSUFBQyxLQUFLLEVBQUUsS0FBSyxBQUFDLEVBQUMsQ0FBQyxFQUFFLEtBQUssSUFBSSxHQUFHLENBQUMsS0FBSyxDQUFDLEFBQUMsR0FBRztPQUMxQyxDQUNQO0tBQUEsQ0FDRixDQUFBO0dBQ0Y7O0FBRUQsU0FBTyxFQUFBLG1CQUFHOzs7UUFDSCxHQUFHLEdBQUksSUFBSSxDQUFDLEtBQUssQ0FBakIsR0FBRzs7QUFDUixXQUFPLENBQ0wsQ0FBQyxlQUFlLEVBQUUsVUFBQyxHQUFHLEVBQUUsR0FBRzthQUFLLENBQzlCLEdBQUcsQ0FBQyxhQUFhLFNBQU8sR0FBRyxDQUFDLGlCQUFpQixBQUFFLEVBQUU7OztRQUM5QyxHQUFHLENBQUMsbUJBQW1CLElBQUk7OztVQUFJLEdBQUcsQ0FBQyxtQkFBbUI7U0FBSztRQUM1RDtBQUFDLGNBQUk7WUFBQyxFQUFFLEVBQUMsb0JBQW9COztTQUFtRDtPQUM1RSxDQUNQO0tBQUEsQ0FBQyxFQUNGLENBQUMsT0FBTyxDQUFDLEVBQ1QsSUFBSSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxFQUNqQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFDakcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLGFBQWEsQ0FBQyxFQUN2QyxDQUFDLGFBQWEsRUFBRSxVQUFDLEdBQUc7YUFBSyxDQUFDLEdBQUcsQ0FBQyxTQUFTLElBQUksR0FBRyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsSUFBSSxNQUFNLENBQUMsR0FBRyxDQUFDLFdBQVcsR0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztLQUFBLENBQUMsRUFDM0csQ0FBQyxNQUFNLEVBQUUsVUFBQyxDQUFDLEVBQUUsR0FBRyxFQUFLO0FBQ25CLFVBQUksbUJBQW1CLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUE7QUFDdkQsYUFBTyxDQUFDLG1CQUFtQixHQUFHLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQTtLQUNqRSxDQUFDLEVBQ0YsQ0FBQyxTQUFTLEVBQUUsVUFBQyxHQUFHLEVBQUUsR0FBRzthQUFLLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxvQkFBQyxJQUFJLElBQUMsS0FBSyxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLElBQUksQUFBQyxHQUFHLENBQUM7S0FBQSxDQUFDLEVBQ3pFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxZQUFZLENBQUMsRUFDdEMsQ0FBQyxXQUFXLEVBQUUsVUFBQyxHQUFHLEVBQUUsTUFBTSxFQUFLO0FBQzdCLFVBQUksa0JBQWtCLEdBQUcsR0FBRyxDQUFDLFNBQVMsSUFBSSxNQUFLLFVBQVUsRUFBRSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUE7O0FBRXRFLGFBQU8sQ0FDTCxHQUFHLENBQUMsU0FBUyxJQUFJOzs7UUFBTSxrQkFBa0IsR0FBRyxNQUFLLFVBQVUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxVQUFDLEtBQVcsRUFBSztzQ0FBaEIsS0FBVzs7Y0FBVixDQUFDO2NBQUUsTUFBTTs7QUFDM0UsaUJBQU87O2NBQU0sS0FBSyxFQUFFLEVBQUMsT0FBTyxFQUFFLE9BQU8sRUFBQyxBQUFDLEVBQUMsWUFBWSxFQUFFLE1BQUssc0JBQXNCLENBQUMsSUFBSSxRQUFPLE1BQU0sQ0FBQyxBQUFDLEVBQUMsR0FBRyxFQUFFLE1BQU0sQUFBQztZQUFFLENBQUM7V0FBUSxDQUFBO1NBQzlILENBQUMsR0FBRyxHQUFHLENBQUMsU0FBUztPQUFPLEVBQ3pCLGtCQUFrQixJQUFJOzs7UUFDbkIsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksb0JBQUMsSUFBSTtBQUNwQyxhQUFHLEVBQUUsWUFBWSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsTUFBSyxLQUFLLENBQUMsb0JBQW9CLENBQUMsQUFBQztBQUMzRCxhQUFHLEVBQUUsTUFBSyxLQUFLLENBQUMsb0JBQW9CLEFBQUM7QUFDckMsZ0JBQU0sRUFBRSxNQUFLLGtCQUFrQixBQUFDO1VBQ2hDO09BQ0UsQ0FDUCxDQUFBO0tBQ0YsQ0FBQyxFQUNGLENBQUMsUUFBUSxFQUFFLFVBQUMsR0FBRyxFQUFFLEdBQUc7YUFBSyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsb0JBQUMsSUFBSSxJQUFDLEtBQUssRUFBQyxZQUFZLEVBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxVQUFVLEFBQUMsR0FBRyxDQUFDO0tBQUEsQ0FBQyxFQUMxRixDQUFDLGtCQUFrQixDQUFDLEVBQ3BCLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsRUFDbEMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFNBQVMsQ0FBQyxFQUNuQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsU0FBUyxDQUFDLEVBQ25DLENBQUMsU0FBUyxFQUFFLFVBQUMsR0FBRyxFQUFFLEdBQUc7YUFBSyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsb0JBQUMsSUFBSSxJQUFDLEtBQUssRUFBQyxPQUFPLEVBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxLQUFLLEFBQUMsR0FBRyxDQUFDO0tBQUEsQ0FBQyxFQUM1RSxDQUFDLFlBQVksQ0FBQyxFQUNkLENBQUMsUUFBUSxFQUFFLFVBQUMsR0FBRyxFQUFFLEdBQUcsRUFBSztBQUN2QixhQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsZUFBZSxJQUFJLEdBQUcsQ0FBQyxNQUFNLENBQUEsSUFBSzs7O1FBQzVDLEdBQUcsQ0FBQyxlQUFlLElBQUksa0JBQWtCLENBQUMsR0FBRyxDQUFDLGVBQWUsQ0FBQztRQUM5RCxHQUFHLENBQUMsZUFBZSxJQUFJLEdBQUcsQ0FBQyxNQUFNLElBQUksK0JBQUs7UUFDMUMsR0FBRyxDQUFDLE1BQU0sSUFBSTs7O1VBQU8sR0FBRyxDQUFDLE1BQU07U0FBUTtPQUNwQyxFQUNOOzs7UUFDRTs7O1VBQUksa0JBQWtCLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQztTQUFLO1FBQ3ZDLG9CQUFDLElBQUksSUFBQyxLQUFLLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsTUFBTSxBQUFDLEdBQUc7UUFDdEM7OztVQUFHOztjQUFHLElBQUksRUFBQywyRUFBMkU7O1dBQW9DO1NBQUk7T0FDMUgsQ0FDTCxDQUFBO0tBQ0YsQ0FBQzs7Ozs7Ozs7QUFRRixLQUFDLGdCQUFnQixFQUFFLFVBQUMsR0FBRyxFQUFFLEdBQUcsRUFBSztBQUMvQixVQUFHLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBRSxPQUFPLEVBQUUsQ0FBQTs7QUFFakMsVUFBSSxtQkFBbUIsR0FBRyxHQUFHLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FDdEQsR0FBRyxDQUFDLFVBQUMsY0FBYyxFQUFFLEtBQUs7ZUFBSyxvQkFBQyxJQUFJLElBQUMsS0FBSyxFQUFDLGdCQUFnQixFQUFDLENBQUMsRUFBRSxjQUFjLEFBQUMsRUFBQyxHQUFHLEVBQUUsS0FBSyxBQUFDLEdBQUc7T0FBQSxDQUFDLENBQUE7O0FBRS9GLGFBQU8sQ0FDTDs7O1FBQUksR0FBRyxDQUFDLGNBQWM7T0FBSyxFQUMzQjs7O1FBQU0sbUJBQW1CO09BQU8sQ0FDakMsQ0FBQTtLQUNGLENBQUMsRUFDRixJQUFJLENBQUMsbUJBQW1CLENBQUMsYUFBYSxDQUFDOzs7Ozs7Ozs7Ozs7OztBQWN2QyxLQUFDLG9CQUFvQixFQUFFLFVBQUMsR0FBRyxFQUFLO0FBQzlCLFVBQUcsQ0FBQyxHQUFHLENBQUMsbUJBQW1CLEVBQUUsT0FBTyxFQUFFLENBQUE7QUFDdEMsYUFBTyxDQUFFOzs7UUFBTSxHQUFHLENBQUMsbUJBQW1CO09BQU8sQ0FBQyxDQUFBO0tBQy9DLENBQUMsRUFDRixDQUFDLFdBQVcsRUFBRSxVQUFDLEdBQUcsRUFBSztBQUNyQixhQUFPLENBQUMsdUJBQXVCLEVBQUU7OztRQUMvQjtBQUFDLHVCQUFhOztVQUNaOztjQUFNLElBQUksRUFBQyxLQUFLOztZQUE4QixHQUFHLENBQUMsS0FBSzs7WUFBNEMsR0FBRyxDQUFDLEVBQUU7O1lBQVcsR0FBRyxDQUFDLE1BQU07O1lBQVMsR0FBRyxDQUFDLEtBQUs7O1lBQWUsQUFBQyxJQUFJLElBQUksRUFBQSxDQUFFLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7O1dBQTREO1NBQ3RRO09BQ1osQ0FBQyxDQUFBO0tBQ1IsQ0FBQyxFQUNGLENBQUMsb0JBQW9CLEVBQUUsVUFBQyxHQUFHLEVBQUs7QUFDOUIsVUFBRyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRSxPQUFPLEVBQUUsQ0FBQTtBQUNyQyxhQUFPLENBQUM7QUFBQyxnQkFBUTs7UUFBRSxHQUFHLENBQUMsa0JBQWtCO09BQVksQ0FBQyxDQUFBO0tBQ3ZELENBQUMsRUFDRixDQUFDLFVBQVUsRUFBRSxVQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUs7QUFDekIsVUFBSSxJQUFJLEdBQUcsR0FBRyxDQUFDLFFBQVEsSUFBSSxHQUFHLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxVQUFBLEVBQUU7ZUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSyxHQUFHLENBQUMsRUFBRTtPQUFBLENBQUMsQ0FBQTtBQUNoRixhQUFPLElBQUksSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsR0FDNUIsQ0FBSSxJQUFJLENBQUMsTUFBTSx1QkFBaUIsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQSxFQUFJLG9CQUFDLElBQUksSUFBQyxLQUFLLEVBQUMsVUFBVSxFQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxBQUFDLEdBQUcsQ0FBQyxHQUNuRyxFQUFFLENBQUE7S0FDTCxDQUFDLEVBQ0YsQ0FBQyxXQUFXLEVBQUUsVUFBQyxHQUFHLEVBQUUsR0FBRyxFQUFLO0FBQzFCLFVBQUcsQ0FBQyxHQUFHLENBQUMsU0FBUyxJQUFJLEdBQUcsQ0FBQyxTQUFTLElBQUksT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFBO0FBQ3hELFVBQUksYUFBYSxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQ2hDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsTUFBTSxDQUFDLENBQUE7O0FBRTdCLGFBQU8sQ0FBQyxhQUFhLEVBQUUsb0JBQUMsSUFBSSxJQUFDLEtBQUssRUFBQyxXQUFXLEVBQUMsQ0FBQyxFQUFFLGFBQWEsQUFBQyxHQUFHLENBQUMsQ0FBQTtLQUNyRSxDQUFDLEVBQ0YsQ0FBQyxrQkFBa0IsRUFBRSxVQUFBLEdBQUcsRUFBSTtBQUMxQixVQUFJLFVBQVUsR0FBRyxNQUFNLENBQUMsUUFBUSxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQTtBQUN6RixVQUFJLFVBQVUsR0FBRyxjQUFjLENBQUMsU0FBUyxFQUFFLFNBQVMsRUFBRSwyQkFBMkIsRUFBRSxVQUFVLENBQUMsQ0FBQTtBQUM5RixVQUFJLFdBQVcsR0FBRyxjQUFjLENBQUMsb0NBQW9DLEVBQUUsYUFBYSxFQUFFLDRCQUE0QixFQUFFLFVBQVUsQ0FBQyxDQUFBOztBQUUvSCxVQUFJLFdBQVcsR0FBRyxHQUFHLENBQUMsZ0JBQWdCLDRRQUNtTyxVQUFVLHFPQUN2RCxVQUFVLE1BQUcsQ0FBQTs7QUFFek8sVUFBSSxZQUFZLG1EQUFpRCxXQUFXLEFBQUUsQ0FBQTs7QUFFOUUsYUFBTyxDQUFDO0FBQUMsZ0JBQVE7O1FBQ2QsV0FBVyxHQUFHLE1BQU0sR0FBRyxZQUFZO09BQzNCLENBQUMsQ0FBQTtLQUNiLENBQUMsQ0FDSCxDQUFBO0dBQ0Y7O0FBRUQsaUJBQWUsRUFBQSwyQkFBRztBQUNoQixRQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUE7QUFDbEMsUUFBSSxrQkFBa0IsR0FBRyxVQUFVLElBQUksVUFBVSxDQUFDLENBQUMsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUN4RSxRQUFJLGFBQWEsR0FBRyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsTUFBTSxDQUFDLFVBQUMsT0FBTyxFQUFFLEtBQU8sRUFBSztrQ0FBWixLQUFPOztVQUFOLEtBQUs7O0FBQ3hELGFBQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUE7QUFDdEIsYUFBTyxPQUFPLENBQUE7S0FDZixFQUFFLEVBQUUsQ0FBQyxDQUFBO0FBQ04saUJBQWEsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsa0JBQWtCLENBQUE7O0FBRWpELFdBQU87QUFDTCx5QkFBbUIsRUFBRSxhQUFhO0FBQ2xDLDBCQUFvQixFQUFFLGtCQUFrQjtLQUN6QyxDQUFBO0dBQ0Y7O0FBRUQsUUFBTSxFQUFBLGtCQUFHOzs7a0JBQ2lCLElBQUksQ0FBQyxLQUFLO1FBQTdCLEdBQUcsV0FBSCxHQUFHO1FBQUUsVUFBVSxXQUFWLFVBQVU7O0FBQ3BCLFFBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUE7QUFDeEUsUUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUMzQixNQUFNLENBQUMsVUFBQyxLQUFPO2tDQUFQLEtBQU87O1VBQU4sS0FBSzthQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQztLQUFBLENBQUMsQ0FDNUMsR0FBRyxDQUFDLFVBQUEsS0FBSzthQUFJLE9BQUssS0FBSyxNQUFBLDRCQUFJLEtBQUssRUFBQztLQUFBLENBQUMsQ0FDbEMsTUFBTSxDQUFDLFVBQUEsTUFBTTthQUFJLENBQUMsQ0FBQyxNQUFNO0tBQUEsQ0FBQyxDQUFBOztBQUUzQixXQUFPOztRQUFJLFNBQVMsRUFBQyxnQkFBZ0I7TUFDbEMsT0FBTztLQUNMLENBQUE7R0FDTjs7QUFFRCxZQUFVLEVBQUEsc0JBQUc7UUFDTixTQUFTLEdBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQTNCLFNBQVM7O0FBQ2QsUUFBRyxDQUFDLFNBQVMsRUFBRSxPQUFPLEVBQUUsQ0FBQTs7QUFFeEIsV0FBTyxTQUFTLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUM3QixNQUFNLENBQUMsVUFBQSxNQUFNO2FBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUM7S0FBQSxDQUFDLENBQzVDLEdBQUcsQ0FBQyxVQUFBLE1BQU0sRUFBSTtBQUNiLFVBQUksTUFBTSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsc0JBQXNCLENBQUMsQ0FBQTs7QUFFakQsYUFBTyxDQUFDLE1BQU0sRUFBRSxNQUFNLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxhQUFhLEVBQUUsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsR0FBRyxZQUFZLENBQUMsQ0FBQTtLQUNwRyxDQUFDLENBQUE7R0FDSDs7QUFFRCx3QkFBc0IsRUFBQSxnQ0FBQyxNQUFNLEVBQUU7QUFDN0IsUUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFDLG9CQUFvQixFQUFFLE1BQU0sRUFBQyxDQUFDLENBQUE7R0FDOUM7O0FBRUQsb0JBQWtCLEVBQUEsOEJBQUc7QUFDbkIsUUFBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBRSxPQUFNO0FBQ3BDLFFBQUksQ0FBQyxRQUFRLENBQUMsRUFBQyxjQUFjLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQTtBQUNyQyxRQUFJLE9BQU8sR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFBO0FBQ3JDLFFBQUksQ0FBQyxPQUFPLENBQUMsY0FBYyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsYUFBYSxDQUFDLGFBQWEsQ0FBQyxhQUFhLENBQUMsWUFBWSxDQUFDLENBQUE7R0FDekk7Q0FDRixDQUFDLENBQUE7QUFDRixjQUFjLENBQUMsWUFBWSxHQUFHO0FBQzVCLGdCQUFjLEVBQUUsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJO0NBQ3JDLENBQUE7O0FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRyxjQUFjLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9hcnR3b3JrLWRldGFpbHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIge0xpbmt9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciBjYXBpdGFsaXplID0gcmVxdWlyZSgnY2FwaXRhbGl6ZScpXG52YXIgSXN2ZyA9IHJlcXVpcmUoJ3JlYWN0LWlubGluZXN2ZycpXG52YXIgY3ggPSByZXF1aXJlKCdjbGFzc25hbWVzJylcbnZhciBDbGlja1RvU2VsZWN0ID0gcmVxdWlyZSgncmVhY3QtY2xpY2stdG8tc2VsZWN0JylcblxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi9tYXJrZG93bicpXG52YXIgUGVlayA9IHJlcXVpcmUoJy4vcGVlaycpXG52YXIgZGltZW5zaW9uU3ZnID0gcmVxdWlyZSgnLi9lbmRwb2ludHMnKS5kaW1lbnNpb25TdmdcbnZhciByaWdodHNEZXNjcmlwdGlvbnMgPSByZXF1aXJlKCcuL3JpZ2h0cy10eXBlcy5qcycpXG52YXIgZmVlZGJhY2tTZW5kZXIgPSByZXF1aXJlKCcuL2VtYWlsLWRhdGEtc2VuZGVyJylcblxudmFyIEFydHdvcmtEZXRhaWxzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBidWlsZChmaWVsZCwgZm4pIHtcbiAgICB2YXIge2FydCwgaGlnaGxpZ2h0c30gPSB0aGlzLnByb3BzXG4gICAgaWYodGhpcy5wcm9wcy5vbmx5U2hvd0hpZ2hsaWdodERldGFpbHMgJiYgIWhpZ2hsaWdodHNbZmllbGRdKSByZXR1cm5cblxuICAgIHZhciBodW1hbkZpZWxkTmFtZSA9IGNhcGl0YWxpemUud29yZHMoZmllbGQpLnJlcGxhY2UoJ18nLCAnICcpXG4gICAgdmFyIGFydEFuZEhpZ2hsaWdodHMgPSB0aGlzLmFydEFuZEhpZ2hsaWdodHMoKVxuICAgIHZhciBbY29udGVudCwgZXh0cmFDb250ZW50XSA9IGZuID8gZm4oYXJ0QW5kSGlnaGxpZ2h0cywgYXJ0KSA6IFthcnRBbmRIaWdobGlnaHRzW2ZpZWxkXV1cbiAgICBpZighY29udGVudCB8fCBjb250ZW50ID09ICcnKSByZXR1cm5cbiAgICB2YXIgc2hvd0V4dHJhID0gZXh0cmFDb250ZW50ICYmIHRoaXMuc3RhdGUuZXhwYW5kRGV0YWlsc01hdHJpeFtmaWVsZF1cbiAgICB2YXIgY2xhc3NlcyA9IGN4KFwiZGV0YWlsLXJvd1wiLCB7ZXhwYW5kYWJsZTogZXh0cmFDb250ZW50fSwgZmllbGQpXG5cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e2NsYXNzZXN9IGtleT17ZmllbGR9PlxuICAgICAgPGRpdiBvbkNsaWNrPXt0aGlzLnRvZ2dsZUV4dHJhLmJpbmQodGhpcywgZmllbGQpfT5cbiAgICAgICAgPGR0IGNsYXNzTmFtZT1cImRldGFpbC10aXRsZVwiPntodW1hbkZpZWxkTmFtZX08L2R0PlxuICAgICAgICA8ZGQgY2xhc3NOYW1lPSdkZXRhaWwtY29udGVudCc+e2NvbnRlbnR9PC9kZD5cbiAgICAgIDwvZGl2PlxuICAgICAge3Nob3dFeHRyYSAmJiA8ZGl2IGNsYXNzTmFtZT1cImRldGFpbC1leHRyYVwiPntleHRyYUNvbnRlbnR9PC9kaXY+fVxuICAgIDwvZGl2PlxuICB9LFxuXG4gIHRvZ2dsZUV4dHJhKGZpZWxkKSB7XG4gICAgdmFyIHtleHBhbmREZXRhaWxzTWF0cml4fSA9IHRoaXMuc3RhdGVcbiAgICBleHBhbmREZXRhaWxzTWF0cml4W2ZpZWxkXSA9ICFleHBhbmREZXRhaWxzTWF0cml4W2ZpZWxkXVxuICAgIHRoaXMuc2V0U3RhdGUoe2V4cGFuZERldGFpbHNNYXRyaXh9KVxuICB9LFxuXG4gIC8vIG1lcmdlIGBhcnRgIHdpdGggYGhpZ2hsaWdodHNgLCByZXBsYWNpbmcgdGhlIHVuLWhpZ2hsaWdodGVkIHZhbHVlcyB3aXRoXG4gIC8vIHRoZWlyICdoaWdobGl0JyBlcXVpdmFsZW50XG4gIGFydEFuZEhpZ2hsaWdodHMoKSB7XG4gICAgdmFyIHthcnQsIGhpZ2hsaWdodHN9ID0gdGhpcy5wcm9wc1xuXG4gICAgcmV0dXJuICFoaWdobGlnaHRzID8gYXJ0IDogT2JqZWN0LmFzc2lnbih7Li4uYXJ0fSwgT2JqZWN0LmtleXMoaGlnaGxpZ2h0cykucmVkdWNlKChvYmplY3QsIGtleSkgPT4ge1xuICAgICAgdmFyIHZhbHVlID0gaGlnaGxpZ2h0c1trZXldICYmIGhpZ2hsaWdodHNba2V5XVswXVxuICAgICAgaWYodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB2YWx1ZSA9IDxNYXJrZG93bj57dmFsdWV9PC9NYXJrZG93bj5cbiAgICAgIG9iamVjdFtrZXldID0gdmFsdWVcbiAgICAgIHJldHVybiBvYmplY3RcbiAgICB9LCB7fSkpXG4gIH0sXG5cbiAgYnVpbGRQZWVrYWJsZURldGFpbChmaWVsZCwgZXh0cmEsIHZhbHVlKSB7XG4gICAgdmFyIHthcnR9ID0gdGhpcy5wcm9wc1xuICAgIHZhciBoaWdobGlnaHRzID0gdGhpcy5hcnRBbmRIaWdobGlnaHRzKClcblxuICAgIHJldHVybiBbXG4gICAgICBmaWVsZCxcbiAgICAgIGFydCA9PiBbXG4gICAgICAgIHZhbHVlIHx8IGhpZ2hsaWdodHNbZmllbGRdLFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIHtleHRyYX1cbiAgICAgICAgICA8UGVlayBmYWNldD17ZmllbGR9IHE9e3ZhbHVlIHx8IGFydFtmaWVsZF19IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgXVxuICAgIF1cbiAgfSxcblxuICBkZXRhaWxzKCkge1xuICAgIHZhciB7YXJ0fSA9IHRoaXMucHJvcHNcbiAgICByZXR1cm4gW1xuICAgICAgWydkZWFjY2Vzc2lvbmVkJywgKGFydCwgcmF3KSA9PiBbXG4gICAgICAgIHJhdy5kZWFjY2Vzc2lvbmVkICYmIGAke2FydC5kZWFjY2Vzc2lvbmVkRGF0ZX1gLCA8ZGl2PlxuICAgICAgICAgIHtyYXcuZGVhY2Nlc3Npb25lZFJlYXNvbiAmJiA8cD57cmF3LmRlYWNjZXNzaW9uZWRSZWFzb259PC9wPn1cbiAgICAgICAgICA8TGluayB0bz1cIi9pbmZvL2RlYWNjZXNzaW9uc1wiPkFydHdvcmtzIGFyZSBkZWFjY2Vzc2lvbmVkIGZvciBtYW55IHJlYXNvbnM8L0xpbms+XG4gICAgICAgIDwvZGl2PlxuICAgICAgXV0sXG4gICAgICBbJ3RpdGxlJ10sXG4gICAgICB0aGlzLmJ1aWxkUGVla2FibGVEZXRhaWwoJ2RhdGVkJyksXG4gICAgICB0aGlzLmJ1aWxkUGVla2FibGVEZXRhaWwoJ2FydGlzdCcsIHRoaXMucHJvcHMuYXJ0LmxpZmVfZGF0ZSwgYXJ0LmFydGlzdC5yZXBsYWNlKC9eKFteO10rKTovLCAnJykpLFxuICAgICAgdGhpcy5idWlsZFBlZWthYmxlRGV0YWlsKCduYXRpb25hbGl0eScpLFxuICAgICAgWydhcnRpc3RfbGlmZScsIChhcnQpID0+IFthcnQubGlmZV9kYXRlICYmIGFydC5saWZlX2RhdGUucmVwbGFjZShuZXcgUmVnRXhwKGFydC5uYXRpb25hbGl0eStcIigsICk/XCIpLCAnJyldXSxcbiAgICAgIFsncm9sZScsIChfLCByYXcpID0+IHtcbiAgICAgICAgdmFyIHJvbGVGcm9tQXJ0aXN0RmllbGQgPSByYXcuYXJ0aXN0Lm1hdGNoKC9eKFteO10rKTovKVxuICAgICAgICByZXR1cm4gW3JvbGVGcm9tQXJ0aXN0RmllbGQgPyByb2xlRnJvbUFydGlzdEZpZWxkWzFdIDogcmF3LnJvbGVdXG4gICAgICB9XSxcbiAgICAgIFsnZ2FsbGVyeScsIChhcnQsIHJhdykgPT4gW2FydC5yb29tLCA8UGVlayBmYWNldD1cInJvb21cIiBxPXtyYXcucm9vbX0gLz5dXSxcbiAgICAgIHRoaXMuYnVpbGRQZWVrYWJsZURldGFpbCgnZGVwYXJ0bWVudCcpLFxuICAgICAgWydkaW1lbnNpb24nLCAoYXJ0LCByYXdBcnQpID0+IHtcbiAgICAgICAgdmFyIHNob3dGYW5jeURpbWVuc2lvbiA9IGFydC5kaW1lbnNpb24gJiYgdGhpcy5kaW1lbnNpb25zKCkubGVuZ3RoID4gMFxuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgYXJ0LmRpbWVuc2lvbiAmJiA8ZGl2PntzaG93RmFuY3lEaW1lbnNpb24gPyB0aGlzLmRpbWVuc2lvbnMoKS5tYXAoKFtkLCBhc3BlY3RdKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gPHNwYW4gc3R5bGU9e3tkaXNwbGF5OiAnYmxvY2snfX0gb25Nb3VzZUVudGVyPXt0aGlzLnRvZ2dsZURpbWVuc2lvbkdyYXBoaWMuYmluZCh0aGlzLCBhc3BlY3QpfSBrZXk9e2FzcGVjdH0+e2R9PC9zcGFuPlxuICAgICAgICAgIH0pIDogYXJ0LmRpbWVuc2lvbn08L2Rpdj4sXG4gICAgICAgICAgc2hvd0ZhbmN5RGltZW5zaW9uICYmIDxkaXY+XG4gICAgICAgICAgICB7cmF3QXJ0LmRpbWVuc2lvbi5tYXRjaCgvY20vKSAmJiA8SXN2Z1xuICAgICAgICAgICAgICBzcmM9e2RpbWVuc2lvblN2ZyhhcnQuaWQsIHRoaXMuc3RhdGUuZGltZW5zaW9uR3JhcGhpY05hbWUpfVxuICAgICAgICAgICAgICBrZXk9e3RoaXMuc3RhdGUuZGltZW5zaW9uR3JhcGhpY05hbWV9XG4gICAgICAgICAgICAgIG9uTG9hZD17dGhpcy5kaW1lbnNpb25TdmdMb2FkZWR9XG4gICAgICAgICAgICAvPn1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgXVxuICAgICAgfV0sXG4gICAgICBbJ2NyZWRpdCcsIChhcnQsIHJhdykgPT4gW2FydC5jcmVkaXRsaW5lLCA8UGVlayBmYWNldD1cImNyZWRpdGxpbmVcIiBxPXtyYXcuY3JlZGl0bGluZX0gLz5dXSxcbiAgICAgIFsnYWNjZXNzaW9uX251bWJlciddLFxuICAgICAgdGhpcy5idWlsZFBlZWthYmxlRGV0YWlsKCdtZWRpdW0nKSxcbiAgICAgIHRoaXMuYnVpbGRQZWVrYWJsZURldGFpbCgnY291bnRyeScpLFxuICAgICAgdGhpcy5idWlsZFBlZWthYmxlRGV0YWlsKCdjdWx0dXJlJyksXG4gICAgICBbJ2NlbnR1cnknLCAoYXJ0LCByYXcpID0+IFthcnQuc3R5bGUsIDxQZWVrIGZhY2V0PVwic3R5bGVcIiBxPXtyYXcuc3R5bGV9IC8+XV0sXG4gICAgICBbJ3Byb3ZlbmFuY2UnXSxcbiAgICAgIFsncmlnaHRzJywgKGFydCwgcmF3KSA9PiB7XG4gICAgICAgIHJldHVybiBbKGFydC5pbWFnZV9jb3B5cmlnaHQgfHwgYXJ0LnJpZ2h0cykgJiYgPGRpdj5cbiAgICAgICAgICB7YXJ0LmltYWdlX2NvcHlyaWdodCAmJiBkZWNvZGVVUklDb21wb25lbnQoYXJ0LmltYWdlX2NvcHlyaWdodCl9XG4gICAgICAgICAge2FydC5pbWFnZV9jb3B5cmlnaHQgJiYgYXJ0LnJpZ2h0cyAmJiA8YnIvPn1cbiAgICAgICAgICB7YXJ0LnJpZ2h0cyAmJiA8c3Bhbj57YXJ0LnJpZ2h0c308L3NwYW4+fVxuICAgICAgICA8L2Rpdj4sXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPHA+e3JpZ2h0c0Rlc2NyaXB0aW9uc1tyYXcucmlnaHRzXX08L3A+XG4gICAgICAgICAgPFBlZWsgZmFjZXQ9XCJyaWdodHNcIiBxPXtyYXcucmlnaHRzfSAvPlxuICAgICAgICAgIDxwPjxhIGhyZWY9XCJodHRwczovL25ldy5hcnRzbWlhLm9yZy92aXNpdC9wb2xpY2llcy1ndWlkZWxpbmVzLyN3ZWJzaXRlaW1hZ2VhY2Nlc3MmdXNlXCI+TWlhJ3MgSW1hZ2UgQWNjZXNzICYgVXNlIFBvbGljeTwvYT48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBdXG4gICAgICB9XSxcbiAgICAgIC8vIGFwcGFyZW50bHkgbWFya2luZ3MvaW5zY3JpcHRpb24vc2lnbmVkIGFyZSAnZm9yIG91ciBleWVzIG9ubHknXG4gICAgICAvLyBbJ21hcmtpbmdzJywgKGFydCkgPT4ge1xuICAgICAgLy8gICAvLyBzaG93IGRlcHJlY2F0ZWQgYG1hcmtzYCBmaWVsZCBpZiBub25lIG9mIHRoZSBuZXcgYG1hcmtpbmdzLCBzaWduYXR1cmUsIGluc2NyaXB0aW9uYCBmaWVsZHMgZXhpc3QgeWV0XG4gICAgICAvLyAgIHJldHVybiBbYXJ0Lm1hcmtpbmdzIHx8ICghYXJ0LnNpZ25hdHVyZSAmJiAhYXJ0Lmluc2NyaXB0aW9uICYmIGFydC5tYXJrcyldXG4gICAgICAvLyB9XSxcbiAgICAgIC8vIFsnaW5zY3JpcHRpb24nXSxcbiAgICAgIC8vIFsnc2lnbmVkJ10sXG4gICAgICBbJ2NsYXNzaWZpY2F0aW9uJywgKGFydCwgcmF3KSA9PiB7XG4gICAgICAgIGlmKCFyYXcuY2xhc3NpZmljYXRpb24pIHJldHVybiBbXVxuXG4gICAgICAgIHZhciBjbGFzc2lmaWNhdGlvblBlZWtzID0gcmF3LmNsYXNzaWZpY2F0aW9uLnNwbGl0KCcsJylcbiAgICAgICAgLm1hcCgoY2xhc3NpZmljYXRpb24sIGluZGV4KSA9PiA8UGVlayBmYWNldD1cImNsYXNzaWZpY2F0aW9uXCIgcT17Y2xhc3NpZmljYXRpb259IGtleT17aW5kZXh9IC8+KVxuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgPHA+e2FydC5jbGFzc2lmaWNhdGlvbn08L3A+LFxuICAgICAgICAgIDxkaXY+e2NsYXNzaWZpY2F0aW9uUGVla3N9PC9kaXY+XG4gICAgICAgIF1cbiAgICAgIH1dLFxuICAgICAgdGhpcy5idWlsZFBlZWthYmxlRGV0YWlsKCdvYmplY3RfbmFtZScpLFxuICAgICAgLy8gZGlzYWJsZSB0YWdzIGR1ZSB0byBmcmVxdWVudCBpbmFjY3VyYWNpZXNcbiAgICAgIC8vIFsndGFncycsIGFydCA9PiB7XG4gICAgICAvLyAgIGlmKCFhcnQudGFncykgcmV0dXJuIFtdXG5cbiAgICAgIC8vICAgdmFyIGxpbmtlZFRhZ3MgPSBhcnQudGFncy50cmltKCkuc3BsaXQoJyAnKVxuICAgICAgLy8gICAubWFwKHRhZyA9PiA8TGluayB0bz1cInNlYXJjaFJlc3VsdHNcIiBwYXJhbXM9e3t0ZXJtczogYHRhZ3M6JHt0YWd9YH19IGtleT17dGFnfT57dGFnLnJlcGxhY2UoLy0vZywgJyAnKX08L0xpbms+KVxuXG4gICAgICAvLyAgIHJldHVybiBbXG4gICAgICAvLyAgICAgPHA+e2xpbmtlZFRhZ3MubWFwKCh0YWcsIGluZGV4KSA9PiB7XG4gICAgICAvLyAgICAgICByZXR1cm4gPHNwYW4ga2V5PXtpbmRleH0+e3RhZ317KGluZGV4ID09IGxpbmtlZFRhZ3MubGVuZ3RoLTEgfHwgJywgJyl9PC9zcGFuPlxuICAgICAgLy8gICAgIH0pfTwvcD5cbiAgICAgIC8vIF1cbiAgICAgIC8vIH1dLFxuICAgICAgWydjYXRhbG9ndWVfcmFpc29ubmUnLCAoYXJ0KSA9PiB7XG4gICAgICAgIGlmKCFhcnQuY2F0YWxvZ3VlX3JhaXNzb25uZSkgcmV0dXJuIFtdXG4gICAgICAgIHJldHVybiBbIDxkaXY+e2FydC5jYXRhbG9ndWVfcmFpc3Nvbm5lfTwvZGl2Pl1cbiAgICAgIH1dLFxuICAgICAgWyd3aWtpcGVkaWEnLCAoYXJ0KSA9PiB7XG4gICAgICAgIHJldHVybiBbJ0NpdGUgdGhpcyBpbmZvcm1hdGlvbicsIDxkaXY+XG4gICAgICAgICAgPENsaWNrVG9TZWxlY3Q+XG4gICAgICAgICAgICA8Y29kZSBuYW1lPVwiTWlhXCI+JiMxMjM7JiMxMjM7Y2l0ZSB3ZWIgfHRpdGxlPXthcnQudGl0bGV9IHx1cmw9aHR0cHM6Ly9jb2xsZWN0aW9ucy5hcnRzbWlhLm9yZy9hcnQve2FydC5pZH0gfGF1dGhvcj17YXJ0LmFydGlzdH0gfHllYXI9e2FydC5kYXRlZH0gfGFjY2Vzc2RhdGU9eyhuZXcgRGF0ZSkudG9VVENTdHJpbmcoKS5zcGxpdCgnICcpLnNsaWNlKDEsIDQpLmpvaW4oJyAnKX0gfHB1Ymxpc2hlcj1NaW5uZWFwb2xpcyBJbnN0aXR1dGUgb2YgQXJ0JiMxMjU7JiMxMjU7PC9jb2RlPlxuICAgICAgICAgIDwvQ2xpY2tUb1NlbGVjdD5cbiAgICAgICAgPC9kaXY+XVxuICAgICAgfV0sXG4gICAgICBbJ2V4aGliaXRpb25faGlzdG9yeScsIChhcnQpID0+IHtcbiAgICAgICAgaWYoIWFydC5leGhpYml0aW9uX2hpc3RvcnkpIHJldHVybiBbXVxuICAgICAgICByZXR1cm4gWzxNYXJrZG93bj57YXJ0LmV4aGliaXRpb25faGlzdG9yeX08L01hcmtkb3duPl1cbiAgICAgIH1dLFxuICAgICAgWydzZWVfYWxzbycsIChhcnQsIHJhdykgPT4ge1xuICAgICAgICB2YXIgYWxzbyA9IHJhdy5zZWVfYWxzbyAmJiByYXcuc2VlX2Fsc28uZmlsdGVyKGlkID0+IGlkICE9PSBcIlwiICYmIGlkICE9PSByYXcuaWQpXG4gICAgICAgIHJldHVybiBhbHNvICYmIGFsc28ubGVuZ3RoID4gMCA/XG4gICAgICAgICAgW2Ake2Fsc28ubGVuZ3RofSBvdGhlciBhcnR3b3JrJHthbHNvLmxlbmd0aCA+IDEgPyAncycgOiAnJ31gLCA8UGVlayBmYWNldD1cInNlZV9hbHNvXCIgcT17cmF3LmlkfSAvPl0gOlxuICAgICAgICAgIFtdXG4gICAgICB9XSxcbiAgICAgIFsncG9ydGZvbGlvJywgKGFydCwgcmF3KSA9PiB7XG4gICAgICAgIGlmKCFyYXcucG9ydGZvbGlvIHx8IHJhdy5wb3J0Zm9saW8gPT0gJ0Zyb20gJykgcmV0dXJuIFtdXG4gICAgICAgIHZhciBwb3J0Zm9saW9OYW1lID0gcmF3LnBvcnRmb2xpb1xuICAgICAgICAucmVwbGFjZSgnRnJvbSBGcm9tJywgJ0Zyb20nKSAvLyBzb21lIGhhdmUgZG91YmxlICdmcm9tJ1xuXG4gICAgICAgIHJldHVybiBbcG9ydGZvbGlvTmFtZSwgPFBlZWsgZmFjZXQ9XCJwb3J0Zm9saW9cIiBxPXtwb3J0Zm9saW9OYW1lfSAvPl1cbiAgICAgIH1dLFxuICAgICAgWydjdXJhdG9yX2FwcHJvdmVkJywgYXJ0ID0+IHtcbiAgICAgICAgdmFyIGN1cnJlbnRVcmwgPSB3aW5kb3cubG9jYXRpb24gJiYgd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoJy8nKS5zbGljZSgwLCA1KS5qb2luKCcvJylcbiAgICAgICAgdmFyIGRhdGFTZW5kZXIgPSBmZWVkYmFja1NlbmRlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgJ0NvbGxlY3Rpb25zIGRhdGEgZmVlZGJhY2snLCBjdXJyZW50VXJsKVxuICAgICAgICB2YXIgaW1hZ2VTZW5kZXIgPSBmZWVkYmFja1NlbmRlcignY29sbGVjdGlvbnNkYXRhK2ltYWdlc0BhcnRzbWlhLm9yZycsICdMZXQgdXMga25vdycsICdDb2xsZWN0aW9ucyBpbWFnZSBmZWVkYmFjaycsIGN1cnJlbnRVcmwpXG5cbiAgICAgICAgdmFyIGRhdGFNZXNzYWdlID0gYXJ0LmN1cmF0b3JfYXBwcm92ZWQgP1xuICAgICAgICAgIGBUaGlzIHJlY29yZCBpcyBmcm9tIGhpc3RvcmljIGRvY3VtZW50YXRpb24gYW5kIG1heSBub3QgaGF2ZSBiZWVuIHJldmlld2VkIGJ5IGEgY3VyYXRvciwgc28gbWF5IGJlIGluYWNjdXJhdGUgb3IgaW5jb21wbGV0ZS4gT3VyIHJlY29yZHMgYXJlIGZyZXF1ZW50bHkgcmV2aXNlZCBhbmQgZW5oYW5jZWQuIElmIHlvdSBub3RpY2UgYSBtaXN0YWtlIG9yIGhhdmUgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGlzIG9iamVjdCwgcGxlYXNlIGVtYWlsICR7ZGF0YVNlbmRlcn0uYCA6XG4gICAgICAgICAgYFRoaXMgcmVjb3JkIGhhcyBiZWVuIHJldmlld2VkIGJ5IG91ciBjdXJhdG9yaWFsIHN0YWZmIGJ1dCBtYXkgYmUgaW5jb21wbGV0ZS4gVGhlc2UgcmVjb3JkcyBhcmUgZnJlcXVlbnRseSByZXZpc2VkIGFuZCBlbmhhbmNlZC4gSWYgeW91IG5vdGljZSBhIG1pc3Rha2Ugb3IgaGF2ZSBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoaXMgb2JqZWN0LCBwbGVhc2UgZW1haWwgJHtkYXRhU2VuZGVyfS5gXG5cbiAgICAgICAgdmFyIGltYWdlTWVzc2FnZSA9IGBEb2VzIHNvbWV0aGluZyBsb29rIHdyb25nIHdpdGggdGhpcyBpbWFnZT8gJHtpbWFnZVNlbmRlcn1gXG5cbiAgICAgICAgcmV0dXJuIFs8TWFya2Rvd24+XG4gICAgICAgICAge2RhdGFNZXNzYWdlICsgJ1xcblxcbicgKyBpbWFnZU1lc3NhZ2V9XG4gICAgICAgIDwvTWFya2Rvd24+XVxuICAgICAgfV0sXG4gICAgXVxuICB9LFxuXG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICB2YXIgZGltZW5zaW9ucyA9IHRoaXMuZGltZW5zaW9ucygpXG4gICAgdmFyIGZpcnN0RGltZW5zaW9uTmFtZSA9IGRpbWVuc2lvbnMgJiYgZGltZW5zaW9uc1swXSAmJiBkaW1lbnNpb25zWzBdWzFdXG4gICAgdmFyIGV4cGFuZERldGFpbHMgPSB0aGlzLmRldGFpbHMoKS5yZWR1Y2UoKHJlZHVjZWQsIFtmaWVsZF0pID0+IHtcbiAgICAgIHJlZHVjZWRbZmllbGRdID0gZmFsc2VcbiAgICAgIHJldHVybiByZWR1Y2VkXG4gICAgfSwge30pXG4gICAgZXhwYW5kRGV0YWlsc1snZGltZW5zaW9uJ10gPSAhIWZpcnN0RGltZW5zaW9uTmFtZVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGV4cGFuZERldGFpbHNNYXRyaXg6IGV4cGFuZERldGFpbHMsXG4gICAgICBkaW1lbnNpb25HcmFwaGljTmFtZTogZmlyc3REaW1lbnNpb25OYW1lLFxuICAgIH1cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnQsIGhpZ2hsaWdodHN9ID0gdGhpcy5wcm9wc1xuICAgIHZhciBza2lwID0gdGhpcy5wcm9wcy5za2lwRmllbGRzID8gdGhpcy5wcm9wcy5za2lwRmllbGRzLnNwbGl0KCcgJykgOiBbXVxuICAgIHZhciBkZXRhaWxzID0gdGhpcy5kZXRhaWxzKClcbiAgICAuZmlsdGVyKChbZmllbGRdKSA9PiBza2lwLmluZGV4T2YoZmllbGQpIDwgMClcbiAgICAubWFwKGZpZWxkID0+IHRoaXMuYnVpbGQoLi4uZmllbGQpKVxuICAgIC5maWx0ZXIoZGV0YWlsID0+ICEhZGV0YWlsKVxuXG4gICAgcmV0dXJuIDxkbCBjbGFzc05hbWU9J2FydHdvcmstZGV0YWlsJz5cbiAgICAgIHtkZXRhaWxzfVxuICAgIDwvZGw+XG4gIH0sXG5cbiAgZGltZW5zaW9ucygpIHtcbiAgICB2YXIge2RpbWVuc2lvbn0gPSB0aGlzLnByb3BzLmFydFxuICAgIGlmKCFkaW1lbnNpb24pIHJldHVybiBbXVxuICAgIC8vIHZhciBkaW1lbnNpb24gPSB0aGlzLnByb3BzLmhpZ2hsaWdodHMgPyB0aGlzLnByb3BzLmhpZ2hsaWdodHMuZGltZW5zaW9uIDogdGhpcy5wcm9wcy5hcnRcbiAgICByZXR1cm4gZGltZW5zaW9uLnNwbGl0KFwiXFxyXFxuXCIpXG4gICAgLmZpbHRlcihzdHJpbmcgPT4gc3RyaW5nLm1hdGNoKC9beFxcfMOXXS4qY20vKSlcbiAgICAubWFwKHN0cmluZyA9PiB7XG4gICAgICB2YXIgYXNwZWN0ID0gc3RyaW5nLm1hdGNoKC9jbVxcKVxcc1xcKCooW15cXChdKylcXCkkLylcblxuICAgICAgcmV0dXJuIFtzdHJpbmcsIGFzcGVjdCA/IGFzcGVjdFsxXS5yZXBsYWNlKC9bXmEtekEtel0rL2csICctJykucmVwbGFjZSgvXi18LSQvLCAnJykgOiAnZGltZW5zaW9ucyddXG4gICAgfSlcbiAgfSxcblxuICB0b2dnbGVEaW1lbnNpb25HcmFwaGljKGFzcGVjdCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe2RpbWVuc2lvbkdyYXBoaWNOYW1lOiBhc3BlY3R9KVxuICB9LFxuXG4gIGRpbWVuc2lvblN2Z0xvYWRlZCgpIHtcbiAgICBpZih0aGlzLnN0YXRlLmhlaWdodEFkanVzdGVkKSByZXR1cm5cbiAgICB0aGlzLnNldFN0YXRlKHtoZWlnaHRBZGp1c3RlZDogdHJ1ZX0pXG4gICAgdmFyIGRvbU5vZGUgPSBSZWFjdC5maW5kRE9NTm9kZSh0aGlzKVxuICAgIHRoaXMuY29udGV4dC5vbkhlaWdodENoYW5nZSAmJiB0aGlzLmNvbnRleHQub25IZWlnaHRDaGFuZ2UoZG9tTm9kZS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNsaWVudEhlaWdodClcbiAgfSxcbn0pXG5BcnR3b3JrRGV0YWlscy5jb250ZXh0VHlwZXMgPSB7XG4gIG9uSGVpZ2h0Q2hhbmdlOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBcnR3b3JrRGV0YWlsc1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/artwork-details.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/artwork-details.js",
      "sourcesContent": [
        "var React = require('react')\nvar {Link} = require('react-router')\nvar capitalize = require('capitalize')\nvar Isvg = require('react-inlinesvg')\nvar cx = require('classnames')\nvar ClickToSelect = require('react-click-to-select')\n\nvar Markdown = require('./markdown')\nvar Peek = require('./peek')\nvar dimensionSvg = require('./endpoints').dimensionSvg\nvar rightsDescriptions = require('./rights-types.js')\nvar feedbackSender = require('./email-data-sender')\n\nvar ArtworkDetails = React.createClass({\n  build(field, fn) {\n    var {art, highlights} = this.props\n    if(this.props.onlyShowHighlightDetails && !highlights[field]) return\n\n    var humanFieldName = capitalize.words(field).replace('_', ' ')\n    var artAndHighlights = this.artAndHighlights()\n    var [content, extraContent] = fn ? fn(artAndHighlights, art) : [artAndHighlights[field]]\n    if(!content || content == '') return\n    var showExtra = extraContent && this.state.expandDetailsMatrix[field]\n    var classes = cx(\"detail-row\", {expandable: extraContent}, field)\n\n    return <div className={classes} key={field}>\n      <div onClick={this.toggleExtra.bind(this, field)}>\n        <dt className=\"detail-title\">{humanFieldName}</dt>\n        <dd className='detail-content'>{content}</dd>\n      </div>\n      {showExtra && <div className=\"detail-extra\">{extraContent}</div>}\n    </div>\n  },\n\n  toggleExtra(field) {\n    var {expandDetailsMatrix} = this.state\n    expandDetailsMatrix[field] = !expandDetailsMatrix[field]\n    this.setState({expandDetailsMatrix})\n  },\n\n  // merge `art` with `highlights`, replacing the un-highlighted values with\n  // their 'highlit' equivalent\n  artAndHighlights() {\n    var {art, highlights} = this.props\n\n    return !highlights ? art : Object.assign({...art}, Object.keys(highlights).reduce((object, key) => {\n      var value = highlights[key] && highlights[key][0]\n      if(typeof value == 'string') value = <Markdown>{value}</Markdown>\n      object[key] = value\n      return object\n    }, {}))\n  },\n\n  buildPeekableDetail(field, extra, value) {\n    var {art} = this.props\n    var highlights = this.artAndHighlights()\n\n    return [\n      field,\n      art => [\n        value || highlights[field],\n        <div>\n          {extra}\n          <Peek facet={field} q={value || art[field]} />\n        </div>\n      ]\n    ]\n  },\n\n  details() {\n    var {art} = this.props\n    return [\n      ['deaccessioned', (art, raw) => [\n        raw.deaccessioned && `${art.deaccessionedDate}`, <div>\n          {raw.deaccessionedReason && <p>{raw.deaccessionedReason}</p>}\n          <Link to=\"/info/deaccessions\">Artworks are deaccessioned for many reasons</Link>\n        </div>\n      ]],\n      ['title'],\n      this.buildPeekableDetail('dated'),\n      this.buildPeekableDetail('artist', this.props.art.life_date, art.artist.replace(/^([^;]+):/, '')),\n      this.buildPeekableDetail('nationality'),\n      ['artist_life', (art) => [art.life_date && art.life_date.replace(new RegExp(art.nationality+\"(, )?\"), '')]],\n      ['role', (_, raw) => {\n        var roleFromArtistField = raw.artist.match(/^([^;]+):/)\n        return [roleFromArtistField ? roleFromArtistField[1] : raw.role]\n      }],\n      ['gallery', (art, raw) => [art.room, <Peek facet=\"room\" q={raw.room} />]],\n      this.buildPeekableDetail('department'),\n      ['dimension', (art, rawArt) => {\n        var showFancyDimension = art.dimension && this.dimensions().length > 0\n\n        return [\n          art.dimension && <div>{showFancyDimension ? this.dimensions().map(([d, aspect]) => {\n            return <span style={{display: 'block'}} onMouseEnter={this.toggleDimensionGraphic.bind(this, aspect)} key={aspect}>{d}</span>\n          }) : art.dimension}</div>,\n          showFancyDimension && <div>\n            {rawArt.dimension.match(/cm/) && <Isvg\n              src={dimensionSvg(art.id, this.state.dimensionGraphicName)}\n              key={this.state.dimensionGraphicName}\n              onLoad={this.dimensionSvgLoaded}\n            />}\n          </div>\n        ]\n      }],\n      ['credit', (art, raw) => [art.creditline, <Peek facet=\"creditline\" q={raw.creditline} />]],\n      ['accession_number'],\n      this.buildPeekableDetail('medium'),\n      this.buildPeekableDetail('country'),\n      this.buildPeekableDetail('culture'),\n      ['century', (art, raw) => [art.style, <Peek facet=\"style\" q={raw.style} />]],\n      ['provenance'],\n      ['rights', (art, raw) => {\n        return [(art.image_copyright || art.rights) && <div>\n          {art.image_copyright && decodeURIComponent(art.image_copyright)}\n          {art.image_copyright && art.rights && <br/>}\n          {art.rights && <span>{art.rights}</span>}\n        </div>,\n        <div>\n          <p>{rightsDescriptions[raw.rights]}</p>\n          <Peek facet=\"rights\" q={raw.rights} />\n          <p><a href=\"https://new.artsmia.org/visit/policies-guidelines/#websiteimageaccess&use\">Mia's Image Access & Use Policy</a></p>\n        </div>\n        ]\n      }],\n      // apparently markings/inscription/signed are 'for our eyes only'\n      // ['markings', (art) => {\n      //   // show deprecated `marks` field if none of the new `markings, signature, inscription` fields exist yet\n      //   return [art.markings || (!art.signature && !art.inscription && art.marks)]\n      // }],\n      // ['inscription'],\n      // ['signed'],\n      ['classification', (art, raw) => {\n        if(!raw.classification) return []\n\n        var classificationPeeks = raw.classification.split(',')\n        .map((classification, index) => <Peek facet=\"classification\" q={classification} key={index} />)\n\n        return [\n          <p>{art.classification}</p>,\n          <div>{classificationPeeks}</div>\n        ]\n      }],\n      this.buildPeekableDetail('object_name'),\n      // disable tags due to frequent inaccuracies\n      // ['tags', art => {\n      //   if(!art.tags) return []\n\n      //   var linkedTags = art.tags.trim().split(' ')\n      //   .map(tag => <Link to=\"searchResults\" params={{terms: `tags:${tag}`}} key={tag}>{tag.replace(/-/g, ' ')}</Link>)\n\n      //   return [\n      //     <p>{linkedTags.map((tag, index) => {\n      //       return <span key={index}>{tag}{(index == linkedTags.length-1 || ', ')}</span>\n      //     })}</p>\n      // ]\n      // }],\n      ['catalogue_raisonne', (art) => {\n        if(!art.catalogue_raissonne) return []\n        return [ <div>{art.catalogue_raissonne}</div>]\n      }],\n      ['wikipedia', (art) => {\n        return ['Cite this information', <div>\n          <ClickToSelect>\n            <code name=\"Mia\">&#123;&#123;cite web |title={art.title} |url=https://collections.artsmia.org/art/{art.id} |author={art.artist} |year={art.dated} |accessdate={(new Date).toUTCString().split(' ').slice(1, 4).join(' ')} |publisher=Minneapolis Institute of Art&#125;&#125;</code>\n          </ClickToSelect>\n        </div>]\n      }],\n      ['exhibition_history', (art) => {\n        if(!art.exhibition_history) return []\n        return [<Markdown>{art.exhibition_history}</Markdown>]\n      }],\n      ['see_also', (art, raw) => {\n        var also = raw.see_also && raw.see_also.filter(id => id !== \"\" && id !== raw.id)\n        return also && also.length > 0 ?\n          [`${also.length} other artwork${also.length > 1 ? 's' : ''}`, <Peek facet=\"see_also\" q={raw.id} />] :\n          []\n      }],\n      ['portfolio', (art, raw) => {\n        if(!raw.portfolio || raw.portfolio == 'From ') return []\n        var portfolioName = raw.portfolio\n        .replace('From From', 'From') // some have double 'from'\n\n        return [portfolioName, <Peek facet=\"portfolio\" q={portfolioName} />]\n      }],\n      ['curator_approved', art => {\n        var currentUrl = window.location && window.location.href.split('/').slice(0, 5).join('/')\n        var dataSender = feedbackSender(undefined, undefined, 'Collections data feedback', currentUrl)\n        var imageSender = feedbackSender('collectionsdata+images@artsmia.org', 'Let us know', 'Collections image feedback', currentUrl)\n\n        var dataMessage = art.curator_approved ?\n          `This record is from historic documentation and may not have been reviewed by a curator, so may be inaccurate or incomplete. Our records are frequently revised and enhanced. If you notice a mistake or have additional information about this object, please email ${dataSender}.` :\n          `This record has been reviewed by our curatorial staff but may be incomplete. These records are frequently revised and enhanced. If you notice a mistake or have additional information about this object, please email ${dataSender}.`\n\n        var imageMessage = `Does something look wrong with this image? ${imageSender}`\n\n        return [<Markdown>\n          {dataMessage + '\\n\\n' + imageMessage}\n        </Markdown>]\n      }],\n    ]\n  },\n\n  getInitialState() {\n    var dimensions = this.dimensions()\n    var firstDimensionName = dimensions && dimensions[0] && dimensions[0][1]\n    var expandDetails = this.details().reduce((reduced, [field]) => {\n      reduced[field] = false\n      return reduced\n    }, {})\n    expandDetails['dimension'] = !!firstDimensionName\n\n    return {\n      expandDetailsMatrix: expandDetails,\n      dimensionGraphicName: firstDimensionName,\n    }\n  },\n\n  render() {\n    var {art, highlights} = this.props\n    var skip = this.props.skipFields ? this.props.skipFields.split(' ') : []\n    var details = this.details()\n    .filter(([field]) => skip.indexOf(field) < 0)\n    .map(field => this.build(...field))\n    .filter(detail => !!detail)\n\n    return <dl className='artwork-detail'>\n      {details}\n    </dl>\n  },\n\n  dimensions() {\n    var {dimension} = this.props.art\n    if(!dimension) return []\n    // var dimension = this.props.highlights ? this.props.highlights.dimension : this.props.art\n    return dimension.split(\"\\r\\n\")\n    .filter(string => string.match(/[x\\|×].*cm/))\n    .map(string => {\n      var aspect = string.match(/cm\\)\\s\\(*([^\\(]+)\\)$/)\n\n      return [string, aspect ? aspect[1].replace(/[^a-zA-z]+/g, '-').replace(/^-|-$/, '') : 'dimensions']\n    })\n  },\n\n  toggleDimensionGraphic(aspect) {\n    this.setState({dimensionGraphicName: aspect})\n  },\n\n  dimensionSvgLoaded() {\n    if(this.state.heightAdjusted) return\n    this.setState({heightAdjusted: true})\n    var domNode = React.findDOMNode(this)\n    this.context.onHeightChange && this.context.onHeightChange(domNode.parentElement.parentElement.parentElement.parentElement.clientHeight)\n  },\n})\nArtworkDetails.contextTypes = {\n  onHeightChange: React.PropTypes.func,\n}\n\nmodule.exports = ArtworkDetails\n"
      ]
    },
    "mtime": 1487953287526
  },
  "{\"filename\":\"/var/www/art/src/email-data-sender.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar EmailDataSender = function EmailDataSender(address, text, subject, body) {\n  address = address || 'collectionsdata@artsmia.org';\n  return '<a href=\"mailto:' + address + '?subject=' + subject + '&body=%0A%0A---%0A' + body + '\">' + (text || address) + '</a>';\n};\n\nmodule.exports = EmailDataSender;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZW1haWwtZGF0YS1zZW5kZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLGVBQWUsR0FBRyxTQUFsQixlQUFlLENBQUksT0FBTyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFLO0FBQ3RELFNBQU8sR0FBRyxPQUFPLElBQUksNkJBQTZCLENBQUE7QUFDbEQsOEJBQTBCLE9BQU8saUJBQVksT0FBTywwQkFBcUIsSUFBSSxXQUFLLElBQUksSUFBSSxPQUFPLENBQUEsVUFBTTtDQUN4RyxDQUFBOztBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUcsZUFBZSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvZW1haWwtZGF0YS1zZW5kZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgRW1haWxEYXRhU2VuZGVyID0gKGFkZHJlc3MsIHRleHQsIHN1YmplY3QsIGJvZHkpID0+IHtcbiAgYWRkcmVzcyA9IGFkZHJlc3MgfHwgJ2NvbGxlY3Rpb25zZGF0YUBhcnRzbWlhLm9yZydcbiAgcmV0dXJuIGA8YSBocmVmPVwibWFpbHRvOiR7YWRkcmVzc30/c3ViamVjdD0ke3N1YmplY3R9JmJvZHk9JTBBJTBBLS0tJTBBJHtib2R5fVwiPiR7dGV4dCB8fCBhZGRyZXNzfTwvYT5gXG59XG5cbm1vZHVsZS5leHBvcnRzID0gRW1haWxEYXRhU2VuZGVyXG5cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/email-data-sender.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,eAAe,GAAG,SAAlB,eAAe,CAAI,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAK;AACtD,SAAO,GAAG,OAAO,IAAI,6BAA6B,CAAA;AAClD,8BAA0B,OAAO,iBAAY,OAAO,0BAAqB,IAAI,WAAK,IAAI,IAAI,OAAO,CAAA,UAAM;CACxG,CAAA;;AAED,MAAM,CAAC,OAAO,GAAG,eAAe,CAAA",
      "file": "/var/www/art/src/email-data-sender.js",
      "sourcesContent": [
        "var EmailDataSender = (address, text, subject, body) => {\n  address = address || 'collectionsdata@artsmia.org'\n  return `<a href=\"mailto:${address}?subject=${subject}&body=%0A%0A---%0A${body}\">${text || address}</a>`\n}\n\nmodule.exports = EmailDataSender\n\n"
      ]
    },
    "mtime": 1485807805246
  },
  "{\"filename\":\"/var/www/art/src/bottom-sticky.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "object-without-properties",
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\nvar Sticky = require('react-sticky');\n\n// A fixed box that's 'synthetically' scrolled along with the rest of the\n// viewport by adjusting the position `top` to 'pull the content up' the\n// screen.\nvar BottomSticky = React.createClass({\n  displayName: 'BottomSticky',\n\n  render: function render() {\n    var _props = this.props;\n    var stickyStyle = _props.stickyStyle;\n\n    var other = _objectWithoutProperties(_props, ['stickyStyle']);\n\n    var style = this.state.style;\n\n    return React.createElement(\n      Sticky,\n      _extends({ stickyStyle: style }, other, { onStickyStateChange: this.stickyChanged }),\n      this.props.children\n    );\n  },\n\n  stickyChanged: function stickyChanged(isSticky) {\n    this.setState({\n      isSticky: isSticky,\n      style: !isSticky ? this.props.stickyStyle : this.state.style,\n      initialScrollY: 0\n    });\n\n    this.getSizeAndScroll();\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      style: this.props.stickyStyle\n    };\n  },\n\n  componentDidMount: function componentDidMount() {\n    this.getSizeAndScroll();\n    window.addEventListener('scroll', this.scrolled);\n    window.addEventListener('peek', this.refresh);\n  },\n\n  componentWillUnmount: function componentWillUnmount() {\n    window.removeEventListener('scroll', this.scrolled);\n    window.removeEventListener('peek', this.refresh);\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    this.refresh(0, true);\n  },\n\n  componentWillUpdate: function componentWillUpdate(nextProps, nextState) {\n    if (this.state.isSticky !== nextState.isSticky) {\n      this.refresh(0);\n    }\n    if (this.state.height !== nextState.height && nextState.height > 0) {\n      // if the height changes, notify Search through this method exposed\n      // on `context` so it can adjust things to ensure smooth, happy\n      // scrolling\n      this.context.onHeightChange(nextState.height);\n    }\n  },\n\n  getSizeAndScroll: function getSizeAndScroll() {\n    var domNode = React.findDOMNode(this);\n\n    var state = {\n      height: domNode.clientHeight,\n      initialScrollY: this.state.isSticky && window.scrollY\n    };\n    this.setState(state);\n  },\n\n  scrolled: function scrolled() {\n    this.adjustScroll();\n  },\n\n  adjustScroll: function adjustScroll() {\n    var _state = this.state;\n    var style = _state.style;\n    var initialScrollY = _state.initialScrollY;\n    var height = _state.height;\n    var isSticky = _state.isSticky;\n\n    var currentScrollY = window.scrollY;\n    var amountToScroll = height - window.innerHeight + 200;\n    var scrollAdjustment = Math.max(0, Math.min(amountToScroll, currentScrollY - initialScrollY));\n\n    var top = scrollAdjustment + scrollAdjustment / amountToScroll * 16;\n    style.top = top === 0 ? top : -top;\n    this.setState({ style: style });\n  },\n\n  refresh: function refresh() {\n    var _this = this;\n\n    var delay = arguments.length <= 0 || arguments[0] === undefined ? 300 : arguments[0];\n    var adjustScroll = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\n    this.getSizeAndScroll();\n    adjustScroll && this.scrolled();\n    setTimeout(function () {\n      _this.getSizeAndScroll();\n      adjustScroll && _this.scrolled();\n    }, delay);\n  }\n});\nBottomSticky.contextTypes = {\n  onHeightChange: React.PropTypes.func\n};\n\nmodule.exports = BottomSticky;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYm90dG9tLXN0aWNreS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBOzs7OztBQUtwQyxJQUFJLFlBQVksR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDbkMsUUFBTSxFQUFBLGtCQUFHO2lCQUN1QixJQUFJLENBQUMsS0FBSztRQUFuQyxXQUFXLFVBQVgsV0FBVzs7UUFBSyxLQUFLOztRQUNyQixLQUFLLEdBQUksSUFBSSxDQUFDLEtBQUssQ0FBbkIsS0FBSzs7QUFFVixXQUFPO0FBQUMsWUFBTTtpQkFBQyxXQUFXLEVBQUUsS0FBSyxBQUFDLElBQUssS0FBSyxJQUFFLG1CQUFtQixFQUFFLElBQUksQ0FBQyxhQUFhLEFBQUM7TUFDbkYsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRO0tBQ2IsQ0FBQTtHQUNWOztBQUVELGVBQWEsRUFBQSx1QkFBQyxRQUFRLEVBQUU7QUFDdEIsUUFBSSxDQUFDLFFBQVEsQ0FBQztBQUNaLGNBQVEsRUFBRSxRQUFRO0FBQ2xCLFdBQUssRUFBRSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUs7QUFDNUQsb0JBQWMsRUFBRSxDQUFDO0tBQ2xCLENBQUMsQ0FBQTs7QUFFRixRQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQTtHQUN4Qjs7QUFFRCxpQkFBZSxFQUFBLDJCQUFHO0FBQ2hCLFdBQU87QUFDTCxXQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXO0tBQzlCLENBQUE7R0FDRjs7QUFFRCxtQkFBaUIsRUFBRSw2QkFBVztBQUM1QixRQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQTtBQUN2QixVQUFNLENBQUMsZ0JBQWdCLENB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QUFDRixZQUFZLENBQUMsWUFBWSxHQUFHO0FBQzFCLGdCQUFjLEVBQUUsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJO0NBQ3JDLENBQUE7O0FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRyxZQUFZLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9ib3R0b20tc3RpY2t5LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFN0aWNreSA9IHJlcXVpcmUoJ3JlYWN0LXN0aWNreScpXG5cbi8vIEEgZml4ZWQgYm94IHRoYXQncyAnc3ludGhldGljYWxseScgc2Nyb2xsZWQgYWxvbmcgd2l0aCB0aGUgcmVzdCBvZiB0aGVcbi8vIHZpZXdwb3J0IGJ5IGFkanVzdGluZyB0aGUgcG9zaXRpb24gYHRvcGAgdG8gJ3B1bGwgdGhlIGNvbnRlbnQgdXAnIHRoZVxuLy8gc2NyZWVuLlxudmFyIEJvdHRvbVN0aWNreSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7c3RpY2t5U3R5bGUsIC4uLm90aGVyfSA9IHRoaXMucHJvcHNcbiAgICB2YXIge3N0eWxlfSA9IHRoaXMuc3RhdGVcblxuICAgIHJldHVybiA8U3RpY2t5IHN0aWNreVN0eWxlPXtzdHlsZX0gey4uLm90aGVyfSBvblN0aWNreVN0YXRlQ2hhbmdlPXt0aGlzLnN0aWNreUNoYW5nZWR9PlxuICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgPC9TdGlja3k+XG4gIH0sXG5cbiAgc3RpY2t5Q2hhbmdlZChpc1N0aWNreSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNTdGlja3k6IGlzU3RpY2t5LFxuICAgICAgc3R5bGU6ICFpc1N0aWNreSA/IHRoaXMucHJvcHMuc3RpY2t5U3R5bGUgOiB0aGlzLnN0YXRlLnN0eWxlLFxuICAgICAgaW5pdGlhbFNjcm9sbFk6IDAsXG4gICAgfSlcblxuICAgIHRoaXMuZ2V0U2l6ZUFuZFNjcm9sbCgpXG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzdHlsZTogdGhpcy5wcm9wcy5zdGlja3lTdHlsZSxcbiAgICB9XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZ2V0U2l6ZUFuZFNjcm9sbCgpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuc2Nyb2xsZWQpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BlZWsnLCB0aGlzLnJlZnJlc2gpXG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuc2Nyb2xsZWQpXG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BlZWsnLCB0aGlzLnJlZnJlc2gpXG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICB0aGlzLnJlZnJlc2goMCwgdHJ1ZSlcbiAgfSxcblxuICBjb21wb25lbnRXaWxsVXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgaWYodGhpcy5zdGF0ZS5pc1N0aWNreSAhPT0gbmV4dFN0YXRlLmlzU3RpY2t5KSB7XG4gICAgICB0aGlzLnJlZnJlc2goMClcbiAgICB9XG4gICAgaWYodGhpcy5zdGF0ZS5oZWlnaHQgIT09IG5leHRTdGF0ZS5oZWlnaHQgJiYgbmV4dFN0YXRlLmhlaWdodCA+IDApIHtcbiAgICAgIC8vIGlmIHRoZSBoZWlnaHQgY2hhbmdlcywgbm90aWZ5IFNlYXJjaCB0aHJvdWdoIHRoaXMgbWV0aG9kIGV4cG9zZWRcbiAgICAgIC8vIG9uIGBjb250ZXh0YCBzbyBpdCBjYW4gYWRqdXN0IHRoaW5ncyB0byBlbnN1cmUgc21vb3RoLCBoYXBweVxuICAgICAgLy8gc2Nyb2xsaW5nXG4gICAgICB0aGlzLmNvbnRleHQub25IZWlnaHRDaGFuZ2UobmV4dFN0YXRlLmhlaWdodClcbiAgICB9XG4gIH0sXG5cbiAgZ2V0U2l6ZUFuZFNjcm9sbCgpIHtcbiAgICB2YXIgZG9tTm9kZSA9IFJlYWN0LmZpbmRET01Ob2RlKHRoaXMpXG5cbiAgICB2YXIgc3RhdGUgPSB7XG4gICAgICBoZWlnaHQ6IGRvbU5vZGUuY2xpZW50SGVpZ2h0LFxuICAgICAgaW5pdGlhbFNjcm9sbFk6IHRoaXMuc3RhdGUuaXNTdGlja3kgJiYgd2luZG93LnNjcm9sbFksXG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpXG4gIH0sXG5cbiAgc2Nyb2xsZWQoKSB7XG4gICAgdGhpcy5hZGp1c3RTY3JvbGwoKVxuICB9LFxuXG4gIGFkanVzdFNjcm9sbCgpIHtcbiAgICB2YXIge3N0eWxlLCBpbml0aWFsU2Nyb2xsWSwgaGVpZ2h0LCBpc1N0aWNreX0gPSB0aGlzLnN0YXRlXG4gICAgdmFyIGN1cnJlbnRTY3JvbGxZID0gd2luZG93LnNjcm9sbFlcbiAgICB2YXIgYW1vdW50VG9TY3JvbGwgPSBoZWlnaHQgLSB3aW5kb3cuaW5uZXJIZWlnaHQgKyAyMDBcbiAgICB2YXIgc2Nyb2xsQWRqdXN0bWVudCA9IE1hdGgubWF4KDAsIE1hdGgubWluKGFtb3VudFRvU2Nyb2xsLCBjdXJyZW50U2Nyb2xsWSAtIGluaXRpYWxTY3JvbGxZKSlcblxuICAgIHZhciB0b3AgPSBzY3JvbGxBZGp1c3RtZW50K3Njcm9sbEFkanVzdG1lbnQvYW1vdW50VG9TY3JvbGwqMTZcbiAgICBzdHlsZS50b3AgPSB0b3AgPT09IDAgPyB0b3AgOiAtdG9wXG4gICAgdGhpcy5zZXRTdGF0ZSh7c3R5bGU6IHN0eWxlfSlcbiAgfSxcblxuICByZWZyZXNoKGRlbGF5PTMwMCwgYWRqdXN0U2Nyb2xsPWZhbHNlKSB7XG4gICAgdGhpcy5nZXRTaXplQW5kU2Nyb2xsKClcbiAgICBhZGp1c3RTY3JvbGwgJiYgdGhpcy5zY3JvbGxlZCgpXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmdldFNpemVBbmRTY3JvbGwoKVxuICAgICAgYWRqdXN0U2Nyb2xsICYmIHRoaXMuc2Nyb2xsZWQoKVxuICAgIH0sIGRlbGF5KVxuICB9LFxufSlcbkJvdHRvbVN0aWNreS5jb250ZXh0VHlwZXMgPSB7XG4gIG9uSGVpZ2h0Q2hhbmdlOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBCb3R0b21TdGlja3lcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/bottom-sticky.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/bottom-sticky.js",
      "sourcesContent": [
        "var React = require('react')\nvar Sticky = require('react-sticky')\n\n// A fixed box that's 'synthetically' scrolled along with the rest of the\n// viewport by adjusting the position `top` to 'pull the content up' the\n// screen.\nvar BottomSticky = React.createClass({\n  render() {\n    var {stickyStyle, ...other} = this.props\n    var {style} = this.state\n\n    return <Sticky stickyStyle={style} {...other} onStickyStateChange={this.stickyChanged}>\n      {this.props.children}\n    </Sticky>\n  },\n\n  stickyChanged(isSticky) {\n    this.setState({\n      isSticky: isSticky,\n      style: !isSticky ? this.props.stickyStyle : this.state.style,\n      initialScrollY: 0,\n    })\n\n    this.getSizeAndScroll()\n  },\n\n  getInitialState() {\n    return {\n      style: this.props.stickyStyle,\n    }\n  },\n\n  componentDidMount: function() {\n    this.getSizeAndScroll()\n    window.addEventListener('scroll', this.scrolled)\n    window.addEventListener('peek', this.refresh)\n  },\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.scrolled)\n    window.removeEventListener('peek', this.refresh)\n  },\n\n  componentWillReceiveProps(nextProps) {\n    this.refresh(0, true)\n  },\n\n  componentWillUpdate(nextProps, nextState) {\n    if(this.state.isSticky !== nextState.isSticky) {\n      this.refresh(0)\n    }\n    if(this.state.height !== nextState.height && nextState.height > 0) {\n      // if the height changes, notify Search through this method exposed\n      // on `context` so it can adjust things to ensure smooth, happy\n      // scrolling\n      this.context.onHeightChange(nextState.height)\n    }\n  },\n\n  getSizeAndScroll() {\n    var domNode = React.findDOMNode(this)\n\n    var state = {\n      height: domNode.clientHeight,\n      initialScrollY: this.state.isSticky && window.scrollY,\n    }\n    this.setState(state)\n  },\n\n  scrolled() {\n    this.adjustScroll()\n  },\n\n  adjustScroll() {\n    var {style, initialScrollY, height, isSticky} = this.state\n    var currentScrollY = window.scrollY\n    var amountToScroll = height - window.innerHeight + 200\n    var scrollAdjustment = Math.max(0, Math.min(amountToScroll, currentScrollY - initialScrollY))\n\n    var top = scrollAdjustment+scrollAdjustment/amountToScroll*16\n    style.top = top === 0 ? top : -top\n    this.setState({style: style})\n  },\n\n  refresh(delay=300, adjustScroll=false) {\n    this.getSizeAndScroll()\n    adjustScroll && this.scrolled()\n    setTimeout(() => {\n      this.getSizeAndScroll()\n      adjustScroll && this.scrolled()\n    }, delay)\n  },\n})\nBottomSticky.contextTypes = {\n  onHeightChange: React.PropTypes.func,\n}\n\nmodule.exports = BottomSticky\n"
      ]
    },
    "mtime": 1487953287530
  },
  "{\"filename\":\"/var/www/art/src/artwork-related.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar rest = require('rest');\nvar cx = require('classnames');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar ga = require('react-ga');\n\nvar Markdown = require('./markdown');\nvar imageCDN = require('./image-cdn');\n\nvar artstoryStampStyle = {\n  backgroundPosition: 'center center',\n  backgroundSize: 'contain'\n};\n\nvar ArtworkRelatedContent = React.createClass({\n  displayName: 'ArtworkRelatedContent',\n\n  render: function render() {\n    var art = this.props.art;\n\n    if (!art) return React.createElement('span', null);\n\n    var links = Object.keys(art).filter(function (key) {\n      return key.match('related:');\n    }).reduce(function (relateds, key) {\n      var linkOrListOfLinks = typeof art[key] == 'string' ? JSON.parse(art[key]) : art[key];\n      Array.isArray(linkOrListOfLinks) ? relateds = relateds.concat(linkOrListOfLinks) : relateds.push(linkOrListOfLinks);\n\n      return relateds;\n    }, []);\n\n    var explore = links.filter(function (link) {\n      return link.type !== \"exhibition\";\n    });\n    var exhibitions = links.filter(function (link) {\n      return link.type == \"exhibition\";\n    });\n    // only show exhibitions tagged `rotation`\n    var significantExhibitions = exhibitions.filter(function (ex) {\n      return ex.rotation;\n    });\n\n    var meat = React.createElement(\n      'div',\n      { className: 'explore' },\n      explore.map(this.build)\n    );\n    var exhibition_wrap = React.createElement(\n      'div',\n      { className: 'exhibition_item' },\n      significantExhibitions.map(this.build)\n    );\n\n    var bones = this.props.skipWrapper ? meat : React.createElement(\n      'div',\n      { id: 'explore', className: 'exploreWrapper' },\n      React.createElement(\n        'h5',\n        { className: 'details-title' },\n        'Explore'\n      ),\n      meat\n    );\n\n    var exhib_bones = React.createElement(\n      'div',\n      { className: 'exhibitionWrapper' },\n      React.createElement(\n        'h5',\n        { className: 'details-title' },\n        'Exhibitions'\n      ),\n      exhibition_wrap\n    );\n\n    return React.createElement(\n      'div',\n      null,\n      explore && explore.length > 0 && bones,\n      significantExhibitions && significantExhibitions.length > 0 && exhib_bones\n    );\n  },\n\n  build: function build(json) {\n    if (!json.id) json.id = this.props.id;\n    var trackRelatedClick = this.trackRelatedContentInteraction.bind(this, json);\n    return React.createElement(\n      'div',\n      { onClick: trackRelatedClick, key: json.link || json.title },\n      (this.templates[json.type] || this.templates['default']).bind(this)(json, this.props.id, this.props.highlights, trackRelatedClick)\n    );\n  },\n\n  trackRelatedContentInteraction: function trackRelatedContentInteraction(json) {\n    // track clicks on related content via more.artsmia.org fort objects on G311 and 355\n    if (window.location.hostname == \"more.artsmia.org\" && ['G311', 'G355'].indexOf(this.props.art.room) > -1) {\n      ga.event({\n        category: 'more.artsmia.org related content',\n        action: 'clicked',\n        label: json.id + ' - ' + json.type + ' - ' + json.link\n      });\n    }\n  },\n\n  templates: {\n    audio: function audio(json, id, _, track) {\n      return React.createElement(\n        'div',\n        { className: 'audioClip' },\n        React.createElement('audio', { style: { maxWidth: '100%' }, src: json.link.replace('http:', 'https:'), controls: true, onplay: track }),\n        React.createElement(\n          'a',\n          { href: json.link },\n          'Audio Clip',\n          React.createElement('br', null),\n          React.createElement(\n            'sub',\n            null,\n            'Listen.'\n          )\n        )\n      );\n    },\n    newsflash: function newsflash(json) {\n      return React.createElement(\n        'div',\n        { className: 'newsflash', style: { backgroundImage: 'url(https://newsflash.dx.artsmia.org' + json.image + ')' } },\n        React.createElement(\n          'div',\n          { className: 'overlay' },\n          React.createElement(\n            'a',\n            { href: json.link },\n            json.title,\n            React.createElement('br', null),\n            React.createElement(\n              'sub',\n              null,\n              'Read more.'\n            )\n          ),\n          React.createElement(\n            'i',\n            { className: 'material-icons' },\n            'launch'\n          )\n        )\n      );\n    },\n    artstory: function artstory(json, id, highlight) {\n      return React.createElement(\n        'div',\n        { className: cx(\"artstory\", { \"block-highlight\": highlight && highlight[\"related:artstories\"] }), style: _extends({ backgroundImage: 'url(' + imageCDN(id) + ')' }, artstoryStampStyle) },\n        React.createElement(\n          'div',\n          { className: 'overlay' },\n          React.createElement(\n            'a',\n            { href: json.link },\n            'ArtStories',\n            React.createElement('br', null),\n            React.createElement(\n              'sub',\n              null,\n              'Zoom in.'\n            )\n          ),\n          React.createElement(\n            'i',\n            { className: 'material-icons' },\n            'launch'\n          )\n        )\n      );\n    },\n    \"adopt-a-painting\": function adoptAPainting(json, id, highlights) {\n      var highlight = highlights && highlights[\"related:adopt-a-painting\"];\n      var highlight = highlight ? JSON.parse(highlight[0]) : null;\n      if (!(highlight || window.location && window.location.pathname.match(/related.*adopt/))) return React.createElement('span', null);\n\n      if (json.adopted === \"1\") {\n        return React.createElement(\n          'div',\n          { className: 'adopt-ptg', style: { clear: 'both' } },\n          React.createElement(\n            'h3',\n            null,\n            'This painting has been adopted.'\n          ),\n          React.createElement(\n            'a',\n            { href: '/info/adopt-a-painting' },\n            'Learn more about adopting a painting. ',\n            React.createElement(\n              'i',\n              { className: 'material-icons' },\n              'launch'\n            )\n          ),\n          highlight && React.createElement(\n            'div',\n            null,\n            'It needed adoption because… ',\n            React.createElement(\n              'blockquote',\n              null,\n              React.createElement(\n                Markdown,\n                null,\n                highlight.description\n              )\n            )\n          )\n        );\n      } else {\n        return React.createElement(\n          'div',\n          { className: 'adopt-ptg' },\n          React.createElement(\n            'div',\n            { style: { width: \"100%\" } },\n            React.createElement(\n              'h3',\n              null,\n              'Adopt-a-Painting'\n            ),\n            React.createElement(\n              'p',\n              null,\n              'Cost ',\n              React.createElement(\n                'span',\n                { className: 'cost' },\n                json.cost\n              )\n            ),\n            React.createElement(\n              Markdown,\n              null,\n              highlight ? highlight.description : json.description\n            ),\n            React.createElement(\n              'a',\n              { href: '/info/adopt-a-painting' },\n              'Learn how to adopt this painting. ',\n              React.createElement(\n                'i',\n                { className: 'material-icons' },\n                'launch'\n              )\n            )\n          )\n        );\n      }\n    },\n    'default': function _default(json, id, highlights) {\n      var miaStoryMatches = highlights && highlights['related:stories'] && highlights['related:stories'].filter(function (h) {\n        var h = JSON.parse(h);return json.title == h.title.replace(/<\\/?em>/g, '');\n      });\n      var defaultStyle = { backgroundColor: \"rgb(35,35,35)\" };\n\n      return React.createElement(\n        'div',\n        { className: 'explore-content', style: defaultStyle },\n        React.createElement(\n          'div',\n          { className: cx(\"overlay\", { \"block-highlight\": miaStoryMatches && miaStoryMatches.length > 0 }) },\n          React.createElement(\n            'a',\n            { href: json.link },\n            json.title,\n            React.createElement('br', null),\n            React.createElement(\n              'sub',\n              null,\n              'Explore more.'\n            )\n          ),\n          React.createElement(\n            'i',\n            { className: 'material-icons' },\n            'launch'\n          )\n        )\n      );\n    },\n    \"exhibition\": function exhibition(json, id, highlights) {\n      var otherArtCount = json.objectIds ? json.objectIds.length - 1 : '(x)';\n\n      return React.createElement(\n        'ul',\n        { className: 'exhibitions', style: { clear: \"both\" } },\n        React.createElement(\n          'li',\n          null,\n          React.createElement(\n            'h4',\n            null,\n            React.createElement(\n              Link,\n              { to: 'exhibition', params: { id: json.id } },\n              json.title\n            )\n          ),\n          ' ',\n          json.date\n        )\n      );\n    },\n    \"3d\": function d(json, id) {\n      var style = _extends({\n        backgroundColor: \"rgb(35,35,35)\",\n        backgroundImage: 'url(' + json.thumb + ')'\n      }, artstoryStampStyle);\n\n      return React.createElement(\n        'div',\n        { className: 'explore-content 3d', style: style },\n        React.createElement(\n          'div',\n          { className: 'overlay' },\n          React.createElement(\n            'a',\n            { href: json.link },\n            React.createElement('br', null),\n            '👓',\n            React.createElement(\n              'sub',\n              null,\n              'Explore in 3D'\n            )\n          ),\n          React.createElement(\n            'i',\n            { className: 'material-icons' },\n            'launch'\n          )\n        )\n      );\n    }\n  }\n});\n\nmodule.exports = ArtworkRelatedContent;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYXJ0d29yay1yZWxhdGVkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFBO0FBQzFCLElBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTs7ZUFDakIsT0FBTyxDQUFDLGNBQWMsQ0FBQzs7SUFBL0IsSUFBSSxZQUFKLElBQUk7O0FBQ1QsSUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFBOztBQUU1QixJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7QUFDcEMsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBOztBQUVyQyxJQUFJLGtCQUFrQixHQUFHO0FBQ3ZCLG9CQUFrQixFQUFFLGVBQWU7QUFDbkMsZ0JBQWMsRUFBRSxTQUFTO0NBQzFCLENBQUE7O0FBRUQsSUFBSSxxQkFBcUIsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDNUMsUUFBTSxFQUFBLGtCQUFHO1FBQ0YsR0FBRyxHQUFJLElBQUksQ0FBQyxLQUFLLENBQWpCLEdBQUc7O0FBQ1IsUUFBRyxDQUFDLEdBQUcsRUFBRSxPQUFPLGlDQUFPLENBQUE7O0FBRXZCLFFBQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLFVBQUEsR0FBRzthQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDO0tBQUEsQ0FBQyxDQUNoRSxNQUFNLENBQUMsVUFBQyxRQUFRLEVBQUUsR0FBRyxFQUFLO0FBQ3pCLFVBQUksaUJBQWlCLEdBQUcsQUFBQyxPQUFPLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxRQUFRLEdBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFH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QUFDLE9BQU8sR0FBRyxxQkFBcUIsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2FydHdvcmstcmVsYXRlZC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG52YXIgY3ggPSByZXF1aXJlKCdjbGFzc25hbWVzJylcbnZhciB7TGlua30gPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIGdhID0gcmVxdWlyZSgncmVhY3QtZ2EnKVxuXG52YXIgTWFya2Rvd24gPSByZXF1aXJlKCcuL21hcmtkb3duJylcbnZhciBpbWFnZUNETiA9IHJlcXVpcmUoJy4vaW1hZ2UtY2RuJylcblxudmFyIGFydHN0b3J5U3RhbXBTdHlsZSA9IHtcbiAgYmFja2dyb3VuZFBvc2l0aW9uOiAnY2VudGVyIGNlbnRlcicsXG4gIGJhY2tncm91bmRTaXplOiAnY29udGFpbicsXG59XG5cbnZhciBBcnR3b3JrUmVsYXRlZENvbnRlbnQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIge2FydH0gPSB0aGlzLnByb3BzXG4gICAgaWYoIWFydCkgcmV0dXJuIDxzcGFuLz5cblxuICAgIHZhciBsaW5rcyA9IE9iamVjdC5rZXlzKGFydCkuZmlsdGVyKGtleSA9PiBrZXkubWF0Y2goJ3JlbGF0ZWQ6JykpXG4gICAgLnJlZHVjZSgocmVsYXRlZHMsIGtleSkgPT4ge1xuICAgICAgdmFyIGxpbmtPckxpc3RPZkxpbmtzID0gKHR5cGVvZiBhcnRba2V5XSA9PSAnc3RyaW5nJykgPyBKU09OLnBhcnNlKGFydFtrZXldKSA6IGFydFtrZXldXG4gICAgICBBcnJheS5pc0FycmF5KGxpbmtPckxpc3RPZkxpbmtzKSA/XG4gICAgICAgICAgcmVsYXRlZHMgPSByZWxhdGVkcy5jb25jYXQobGlua09yTGlzdE9mTGlua3MpIDpcbiAgICAgICAgICByZWxhdGVkcy5wdXNoKGxpbmtPckxpc3RPZkxpbmtzKVxuXG4gICAgICByZXR1cm4gcmVsYXRlZHNcbiAgICB9LCBbXSlcblxuICAgIHZhciBleHBsb3JlID0gbGlua3MuZmlsdGVyKGxpbmsgPT4gbGluay50eXBlICE9PSBcImV4aGliaXRpb25cIilcbiAgICB2YXIgZXhoaWJpdGlvbnMgPSBsaW5rcy5maWx0ZXIobGluayA9PiBsaW5rLnR5cGUgPT0gXCJleGhpYml0aW9uXCIpXG4gICAgLy8gb25seSBzaG93IGV4aGliaXRpb25zIHRhZ2dlZCBgcm90YXRpb25gXG4gICAgdmFyIHNpZ25pZmljYW50RXhoaWJpdGlvbnMgPSBleGhpYml0aW9ucy5maWx0ZXIoZXggPT4gZXgucm90YXRpb24pXG5cbiAgICB2YXIgbWVhdCA9IDxkaXYgY2xhc3NOYW1lPVwiZXhwbG9yZVwiPlxuICAgICAge2V4cGxvcmUubWFwKHRoaXMuYnVpbGQpfVxuICAgIDwvZGl2PlxuICAgIHZhciBleGhpYml0aW9uX3dyYXAgPSA8ZGl2IGNsYXNzTmFtZT1cImV4aGliaXRpb25faXRlbVwiPlxuICAgICAge3NpZ25pZmljYW50RXhoaWJpdGlvbnMubWFwKHRoaXMuYnVpbGQpfVxuICAgIDwvZGl2PlxuXG4gICAgdmFyIGJvbmVzID0gdGhpcy5wcm9wcy5za2lwV3JhcHBlciA/XG4gICAgICBtZWF0IDpcbiAgICAgIDxkaXYgaWQ9XCJleHBsb3JlXCIgY2xhc3NOYW1lPVwiZXhwbG9yZVdyYXBwZXJcIj5cbiAgICAgICAgPGg1IGNsYXNzTmFtZT1cImRldGFpbHMtdGl0bGVcIj5FeHBsb3JlPC9oNT5cbiAgICAgICAge21lYXR9XG4gICAgICA8L2Rpdj5cblxuICAgIHZhciBleGhpYl9ib25lcyA9IDxkaXYgY2xhc3NOYW1lPVwiZXhoaWJpdGlvbldyYXBwZXJcIj5cbiAgICAgICAgPGg1IGNsYXNzTmFtZT1cImRldGFpbHMtdGl0bGVcIj5FeGhpYml0aW9uczwvaDU+XG4gICAgICAgIHtleGhpYml0aW9uX3dyYXB9XG4gICAgICA8L2Rpdj5cblxuICAgIHJldHVybiA8ZGl2PlxuICAgICAge2V4cGxvcmUgJiYgZXhwbG9yZS5sZW5ndGggPiAwICYmIGJvbmVzfVxuICAgICAge3NpZ25pZmljYW50RXhoaWJpdGlvbnMgJiYgc2lnbmlmaWNhbnRFeGhpYml0aW9ucy5sZW5ndGggPiAwICYmIGV4aGliX2JvbmVzfVxuICAgIDwvZGl2PlxuICB9LFxuXG4gIGJ1aWxkKGpzb24pIHtcbiAgICBpZighanNvbi5pZCkganNvbi5pZCA9IHRoaXMucHJvcHMuaWRcbiAgICB2YXIgdHJhY2tSZWxhdGVkQ2xpY2sgPSB0aGlzLnRyYWNrUmVsYXRlZENvbnRlbnRJbnRlcmFjdGlvbi5iaW5kKHRoaXMsIGpzb24pXG4gICAgcmV0dXJuIDxkaXYgb25DbGljaz17dHJhY2tSZWxhdGVkQ2xpY2t9IGtleT17anNvbi5saW5rIHx8IGpzb24udGl0bGV9PlxuICAgICAgeyh0aGlzLnRlbXBsYXRlc1tqc29uLnR5cGVdIHx8IHRoaXMudGVtcGxhdGVzLmRlZmF1bHQpLmJpbmQodGhpcykoanNvbiwgdGhpcy5wcm9wcy5pZCwgdGhpcy5wcm9wcy5oaWdobGlnaHRzLCB0cmFja1JlbGF0ZWRDbGljayl9XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgdHJhY2tSZWxhdGVkQ29udGVudEludGVyYWN0aW9uKGpzb24pIHtcbiAgICAvLyB0cmFjayBjbGlja3Mgb24gcmVsYXRlZCBjb250ZW50IHZpYSBtb3JlLmFydHNtaWEub3JnIGZvcnQgb2JqZWN0cyBvbiBHMzExIGFuZCAzNTVcbiAgICBpZih3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgPT0gXCJtb3JlLmFydHNtaWEub3JnXCIgJiYgWydHMzExJywgJ0czNTUnXS5pbmRleE9mKHRoaXMucHJvcHMuYXJ0LnJvb20pID4gLTEpIHtcbiAgICAgIGdhLmV2ZW50KHtcbiAgICAgICAgY2F0ZWdvcnk6ICdtb3JlLmFydHNtaWEub3JnIHJlbGF0ZWQgY29udGVudCcsXG4gICAgICAgIGFjdGlvbjogJ2NsaWNrZWQnLFxuICAgICAgICBsYWJlbDogYCR7anNvbi5pZH0gLSAke2pzb24udHlwZX0gLSAke2pzb24ubGlua31gLFxuICAgICAgfSlcbiAgICB9XG4gIH0sXG5cbiAgdGVtcGxhdGVzOiB7XG4gICAgYXVkaW86IChqc29uLCBpZCwgXywgdHJhY2spID0+IDxkaXYgY2xhc3NOYW1lPVwiYXVkaW9DbGlwXCI+XG4gICAgICA8YXVkaW8gc3R5bGU9e3ttYXhXaWR0aDogJzEwMCUnfX0gc3JjPXtqc29uLmxpbmsucmVwbGFjZSgnaHR0cDonLCAnaHR0cHM6Jyl9IGNvbnRyb2xzIG9ucGxheT17dHJhY2t9PjwvYXVkaW8+XG4gICAgICA8YSBocmVmPXtqc29uLmxpbmt9PkF1ZGlvIENsaXA8YnIvPjxzdWI+TGlzdGVuLjwvc3ViPjwvYT5cbiAgICA8L2Rpdj4sXG4gICAgbmV3c2ZsYXNoOiAoanNvbikgPT4gPGRpdiBjbGFzc05hbWU9XCJuZXdzZmxhc2hcIiBzdHlsZT17e2JhY2tncm91bmRJbWFnZTogYHVybChodHRwczovL25ld3NmbGFzaC5keC5hcnRzbWlhLm9yZyR7anNvbi5pbWFnZX0pYH19PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJvdmVybGF5XCI+XG4gICAgICA8YSBocmVmPXtqc29uLmxpbmt9Pntqc29uLnRpdGxlfTxici8+PHN1Yj5SZWFkIG1vcmUuPC9zdWI+PC9hPlxuICAgICAgPGkgY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbnNcIj5sYXVuY2g8L2k+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj4sXG4gICAgYXJ0c3Rvcnk6IChqc29uLCBpZCwgaGlnaGxpZ2h0KSA9PiA8ZGl2IGNsYXNzTmFtZT17Y3goXCJhcnRzdG9yeVwiLCB7XCJibG9jay1oaWdobGlnaHRcIjogaGlnaGxpZ2h0ICYmIGhpZ2hsaWdodFtcInJlbGF0ZWQ6YXJ0c3Rvcmllc1wiXX0pfSBzdHlsZT17e2JhY2tncm91bmRJbWFnZTogYHVybCgke2ltYWdlQ0ROKGlkKX0pYCwgLi4uYXJ0c3RvcnlTdGFtcFN0eWxlfX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm92ZXJsYXlcIj5cbiAgICAgICAgPGEgaHJlZj17anNvbi5saW5rfT5BcnRTdG9yaWVzPGJyLz48c3ViPlpvb20gaW4uPC9zdWI+PC9hPlxuICAgICAgICA8aSBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uc1wiPmxhdW5jaDwvaT5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PixcbiAgICBcImFkb3B0LWEtcGFpbnRpbmdcIjogKGpzb24sIGlkLCBoaWdobGlnaHRzKSA9PiB7XG4gICAgICB2YXIgaGlnaGxpZ2h0ID0gaGlnaGxpZ2h0cyAmJiBoaWdobGlnaHRzW1wicmVsYXRlZDphZG9wdC1hLXBhaW50aW5nXCJdXG4gICAgICB2YXIgaGlnaGxpZ2h0ID0gaGlnaGxpZ2h0ID8gSlNPTi5wYXJzZShoaWdobGlnaHRbMF0pIDogbnVsbFxuICAgICAgaWYoIShoaWdobGlnaHQgfHwgd2luZG93LmxvY2F0aW9uICYmIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5tYXRjaCgvcmVsYXRlZC4qYWRvcHQvKSkpIHJldHVybiA8c3BhbiAvPlxuXG4gICAgICBpZihqc29uLmFkb3B0ZWQgPT09IFwiMVwiKSB7XG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImFkb3B0LXB0Z1wiIHN0eWxlPXt7Y2xlYXI6J2JvdGgnfX0+XG4gICAgICAgICAgPGgzPlRoaXMgcGFpbnRpbmcgaGFzIGJlZW4gYWRvcHRlZC48L2gzPlxuICAgICAgICAgIDxhIGhyZWY9XCIvaW5mby9hZG9wdC1hLXBhaW50aW5nXCI+TGVhcm4gbW9yZSBhYm91dCBhZG9wdGluZyBhIHBhaW50aW5nLiA8aSBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uc1wiPmxhdW5jaDwvaT48L2E+XG4gICAgICAgICAge2hpZ2hsaWdodCAmJiA8ZGl2Pkl0IG5lZWRlZCBhZG9wdGlvbiBiZWNhdXNl4oCmIDxibG9ja3F1b3RlPjxNYXJrZG93bj57aGlnaGxpZ2h0LmRlc2NyaXB0aW9ufTwvTWFya2Rvd24+PC9ibG9ja3F1b3RlPjwvZGl2Pn1cbiAgICAgICAgPC9kaXY+XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJhZG9wdC1wdGdcIj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7d2lkdGg6IFwiMTAwJVwifX0+XG4gICAgICAgICAgPGgzPkFkb3B0LWEtUGFpbnRpbmc8L2gzPlxuICAgICAgICAgIDxwPkNvc3QgPHNwYW4gY2xhc3NOYW1lPVwiY29zdFwiPntqc29uLmNvc3R9PC9zcGFuPjwvcD5cbiAgICAgICAgICA8TWFya2Rvd24+e2hpZ2hsaWdodCA/IGhpZ2hsaWdodC5kZXNjcmlwdGlvbiA6IGpzb24uZGVzY3JpcHRpb259PC9NYXJrZG93bj5cbiAgICAgICAgICA8YSBocmVmPVwiL2luZm8vYWRvcHQtYS1wYWludGluZ1wiPkxlYXJuIGhvdyB0byBhZG9wdCB0aGlzIHBhaW50aW5nLiA8aSBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uc1wiPmxhdW5jaDwvaT48L2E+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgfVxuICAgIH0sXG4gICAgZGVmYXVsdDogKGpzb24sIGlkLCBoaWdobGlnaHRzKSA9PiB7XG4gICAgICB2YXIgbWlhU3RvcnlNYXRjaGVzID0gaGlnaGxpZ2h0cyAmJiBoaWdobGlnaHRzWydyZWxhdGVkOnN0b3JpZXMnXSAmJiBoaWdobGlnaHRzWydyZWxhdGVkOnN0b3JpZXMnXS5maWx0ZXIoaCA9PiB7IHZhciBoID0gSlNPTi5wYXJzZShoKTsgcmV0dXJuIGpzb24udGl0bGUgPT0gaC50aXRsZS5yZXBsYWNlKC88XFwvP2VtPi9nLCAnJykgfSlcbiAgICAgIHZhciBkZWZhdWx0U3R5bGUgPSB7YmFja2dyb3VuZENvbG9yOiBcInJnYigzNSwzNSwzNSlcIn1cblxuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiZXhwbG9yZS1jb250ZW50XCIgc3R5bGU9e2RlZmF1bHRTdHlsZX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjeChcIm92ZXJsYXlcIiwge1wiYmxvY2staGlnaGxpZ2h0XCI6IG1pYVN0b3J5TWF0Y2hlcyAmJiBtaWFTdG9yeU1hdGNoZXMubGVuZ3RoID4gMH0pfT5cbiAgICAgICAgICA8YSBocmVmPXtqc29uLmxpbmt9Pntqc29uLnRpdGxlfTxici8+PHN1Yj5FeHBsb3JlIG1vcmUuPC9zdWI+PC9hPlxuICAgICAgICAgIDxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zXCI+bGF1bmNoPC9pPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIH0sXG4gICAgXCJleGhpYml0aW9uXCI6IChqc29uLCBpZCwgaGlnaGxpZ2h0cykgPT4ge1xuICAgICAgdmFyIG90aGVyQXJ0Q291bnQgPSBqc29uLm9iamVjdElkcyA/IGpzb24ub2JqZWN0SWRzLmxlbmd0aC0xIDogJyh4KSdcblxuICAgICAgcmV0dXJuIDx1bCBjbGFzc05hbWU9XCJleGhpYml0aW9uc1wiIHN0eWxlPXt7Y2xlYXI6IFwiYm90aFwifX0+XG4gICAgICAgIDxsaT48aDQ+PExpbmsgdG89XCJleGhpYml0aW9uXCIgcGFyYW1zPXt7aWQ6IGpzb24uaWR9fT57anNvbi50aXRsZX08L0xpbms+PC9oND4ge2pzb24uZGF0ZX08L2xpPlxuICAgICAgPC91bD5cbiAgICB9LFxuICAgIFwiM2RcIjogKGpzb24sIGlkKSA9PiB7XG4gICAgICB2YXIgc3R5bGUgPSB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJyZ2IoMzUsMzUsMzUpXCIsXG4gICAgICAgIGJhY2tncm91bmRJbWFnZTogYHVybCgke2pzb24udGh1bWJ9KWAsXG4gICAgICAgIC4uLmFydHN0b3J5U3RhbXBTdHlsZVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJleHBsb3JlLWNvbnRlbnQgM2RcIiBzdHlsZT17c3R5bGV9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm92ZXJsYXlcIj5cbiAgICAgICAgICA8YSBocmVmPXtqc29uLmxpbmt9Pjxici8+8J+RkzxzdWI+RXhwbG9yZSBpbiAzRDwvc3ViPjwvYT5cbiAgICAgICAgICA8aSBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uc1wiPmxhdW5jaDwvaT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICB9XG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFydHdvcmtSZWxhdGVkQ29udGVudFxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/artwork-related.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/artwork-related.js",
      "sourcesContent": [
        "var React = require('react')\nvar rest = require('rest')\nvar cx = require('classnames')\nvar {Link} = require('react-router')\nvar ga = require('react-ga')\n\nvar Markdown = require('./markdown')\nvar imageCDN = require('./image-cdn')\n\nvar artstoryStampStyle = {\n  backgroundPosition: 'center center',\n  backgroundSize: 'contain',\n}\n\nvar ArtworkRelatedContent = React.createClass({\n  render() {\n    var {art} = this.props\n    if(!art) return <span/>\n\n    var links = Object.keys(art).filter(key => key.match('related:'))\n    .reduce((relateds, key) => {\n      var linkOrListOfLinks = (typeof art[key] == 'string') ? JSON.parse(art[key]) : art[key]\n      Array.isArray(linkOrListOfLinks) ?\n          relateds = relateds.concat(linkOrListOfLinks) :\n          relateds.push(linkOrListOfLinks)\n\n      return relateds\n    }, [])\n\n    var explore = links.filter(link => link.type !== \"exhibition\")\n    var exhibitions = links.filter(link => link.type == \"exhibition\")\n    // only show exhibitions tagged `rotation`\n    var significantExhibitions = exhibitions.filter(ex => ex.rotation)\n\n    var meat = <div className=\"explore\">\n      {explore.map(this.build)}\n    </div>\n    var exhibition_wrap = <div className=\"exhibition_item\">\n      {significantExhibitions.map(this.build)}\n    </div>\n\n    var bones = this.props.skipWrapper ?\n      meat :\n      <div id=\"explore\" className=\"exploreWrapper\">\n        <h5 className=\"details-title\">Explore</h5>\n        {meat}\n      </div>\n\n    var exhib_bones = <div className=\"exhibitionWrapper\">\n        <h5 className=\"details-title\">Exhibitions</h5>\n        {exhibition_wrap}\n      </div>\n\n    return <div>\n      {explore && explore.length > 0 && bones}\n      {significantExhibitions && significantExhibitions.length > 0 && exhib_bones}\n    </div>\n  },\n\n  build(json) {\n    if(!json.id) json.id = this.props.id\n    var trackRelatedClick = this.trackRelatedContentInteraction.bind(this, json)\n    return <div onClick={trackRelatedClick} key={json.link || json.title}>\n      {(this.templates[json.type] || this.templates.default).bind(this)(json, this.props.id, this.props.highlights, trackRelatedClick)}\n    </div>\n  },\n\n  trackRelatedContentInteraction(json) {\n    // track clicks on related content via more.artsmia.org fort objects on G311 and 355\n    if(window.location.hostname == \"more.artsmia.org\" && ['G311', 'G355'].indexOf(this.props.art.room) > -1) {\n      ga.event({\n        category: 'more.artsmia.org related content',\n        action: 'clicked',\n        label: `${json.id} - ${json.type} - ${json.link}`,\n      })\n    }\n  },\n\n  templates: {\n    audio: (json, id, _, track) => <div className=\"audioClip\">\n      <audio style={{maxWidth: '100%'}} src={json.link.replace('http:', 'https:')} controls onplay={track}></audio>\n      <a href={json.link}>Audio Clip<br/><sub>Listen.</sub></a>\n    </div>,\n    newsflash: (json) => <div className=\"newsflash\" style={{backgroundImage: `url(https://newsflash.dx.artsmia.org${json.image})`}}>\n      <div className=\"overlay\">\n      <a href={json.link}>{json.title}<br/><sub>Read more.</sub></a>\n      <i className=\"material-icons\">launch</i>\n      </div>\n    </div>,\n    artstory: (json, id, highlight) => <div className={cx(\"artstory\", {\"block-highlight\": highlight && highlight[\"related:artstories\"]})} style={{backgroundImage: `url(${imageCDN(id)})`, ...artstoryStampStyle}}>\n      <div className=\"overlay\">\n        <a href={json.link}>ArtStories<br/><sub>Zoom in.</sub></a>\n        <i className=\"material-icons\">launch</i>\n      </div>\n    </div>,\n    \"adopt-a-painting\": (json, id, highlights) => {\n      var highlight = highlights && highlights[\"related:adopt-a-painting\"]\n      var highlight = highlight ? JSON.parse(highlight[0]) : null\n      if(!(highlight || window.location && window.location.pathname.match(/related.*adopt/))) return <span />\n\n      if(json.adopted === \"1\") {\n        return <div className=\"adopt-ptg\" style={{clear:'both'}}>\n          <h3>This painting has been adopted.</h3>\n          <a href=\"/info/adopt-a-painting\">Learn more about adopting a painting. <i className=\"material-icons\">launch</i></a>\n          {highlight && <div>It needed adoption because… <blockquote><Markdown>{highlight.description}</Markdown></blockquote></div>}\n        </div>\n      } else {\n        return <div className=\"adopt-ptg\">\n          <div style={{width: \"100%\"}}>\n          <h3>Adopt-a-Painting</h3>\n          <p>Cost <span className=\"cost\">{json.cost}</span></p>\n          <Markdown>{highlight ? highlight.description : json.description}</Markdown>\n          <a href=\"/info/adopt-a-painting\">Learn how to adopt this painting. <i className=\"material-icons\">launch</i></a>\n          </div>\n        </div>\n      }\n    },\n    default: (json, id, highlights) => {\n      var miaStoryMatches = highlights && highlights['related:stories'] && highlights['related:stories'].filter(h => { var h = JSON.parse(h); return json.title == h.title.replace(/<\\/?em>/g, '') })\n      var defaultStyle = {backgroundColor: \"rgb(35,35,35)\"}\n\n      return <div className=\"explore-content\" style={defaultStyle}>\n        <div className={cx(\"overlay\", {\"block-highlight\": miaStoryMatches && miaStoryMatches.length > 0})}>\n          <a href={json.link}>{json.title}<br/><sub>Explore more.</sub></a>\n          <i className=\"material-icons\">launch</i>\n        </div>\n      </div>\n    },\n    \"exhibition\": (json, id, highlights) => {\n      var otherArtCount = json.objectIds ? json.objectIds.length-1 : '(x)'\n\n      return <ul className=\"exhibitions\" style={{clear: \"both\"}}>\n        <li><h4><Link to=\"exhibition\" params={{id: json.id}}>{json.title}</Link></h4> {json.date}</li>\n      </ul>\n    },\n    \"3d\": (json, id) => {\n      var style = {\n        backgroundColor: \"rgb(35,35,35)\",\n        backgroundImage: `url(${json.thumb})`,\n        ...artstoryStampStyle\n      }\n\n      return <div className=\"explore-content 3d\" style={style}>\n        <div className=\"overlay\">\n          <a href={json.link}><br/>👓<sub>Explore in 3D</sub></a>\n          <i className=\"material-icons\">launch</i>\n        </div>\n      </div>\n    }\n  },\n})\n\nmodule.exports = ArtworkRelatedContent\n"
      ]
    },
    "mtime": 1487953287530
  },
  "{\"filename\":\"/var/www/art/src/search-results/grid.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "object-without-properties",
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\nvar Router = require('react-router');\nvar splitArray = require('split-array');\n\nvar ImageQuilt = require('../image-quilt');\nvar ArtworkImage = require('../artwork-image');\nvar FocusedResult = require('./focused.js');\nvar SearchSummary = require('../search-summary');\n\nvar SearchResultsGrid = React.createClass({\n  displayName: 'SearchResultsGrid',\n\n  mixins: [Router.Navigation],\n\n  componentWillMount: function componentWillMount() {\n    this.cachedQuilts = [];\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    var searchChanged = this.props.search.query != nextProps.search.query || this.props.search.filters != nextProps.search.filters || this.props.hits.slice(0, 10) !== nextProps.hits.slice(0, 10);\n\n    if (searchChanged) {\n      this.cachedQuilts = [];\n    }\n  },\n\n  render: function render() {\n    var _this = this;\n\n    var _props = this.props;\n    var hits = _props.hits;\n    var leftColumnWidth = _props.leftColumnWidth;\n    var focusedResult = _props.focusedResult;\n    var smallViewport = _props.smallViewport;\n    var focusHandler = _props.focusHandler;\n\n    var focusedProps = _objectWithoutProperties(_props, ['hits', 'leftColumnWidth', 'focusedResult', 'smallViewport', 'focusHandler']);\n\n    var targetHeight = hits.length < 20 ? 250 : 150;\n    var quilts = splitArray(hits, 50).map(function (chunkedHits, index) {\n      var chunkedQuilt = _this.cachedQuilts[index] || React.createElement(ImageQuilt, {\n        artworks: chunkedHits,\n        maxRows: 1000,\n        rowHeight: targetHeight,\n        maxRowHeight: 500,\n        onClick: _this.clickResult,\n        key: index,\n        disableHover: true });\n\n      if (chunkedHits.length >= 50) _this.cachedQuilts[index] = chunkedQuilt;\n      return chunkedQuilt;\n    });\n\n    var dividedQuilts = quilts.map(function (quilt, index) {\n      var start = index * 50;\n      var end = (index + 1) * 50;\n      return React.createElement(\n        'div',\n        { id: 'range:' + start + '-' + end },\n        quilt\n      );\n    });\n    var more = this.props.postSearch;\n\n    var stuff = React.createElement(\n      'div',\n      null,\n      dividedQuilts,\n      more\n    );\n\n    if (smallViewport || this.context.universal) {\n      focusedResult = null;\n    }\n\n    if (!focusedResult) leftColumnWidth = '100%';\n\n    var wrappedQuilt = !focusedResult ? stuff : React.createElement(\n      'div',\n      { className: 'leftBar', style: { position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, width: leftColumnWidth } },\n      stuff\n    );\n\n    return React.createElement(\n      'div',\n      { style: { position: 'relative', minHeight: this.props.minHeight } },\n      wrappedQuilt,\n      focusedResult && React.createElement(FocusedResult, _extends({ key: focusedResult._source.id, art: focusedResult._source, highlights: focusedResult.highlight }, this.props))\n    );\n  },\n\n  clickResult: function clickResult(art) {\n    art && this.props.focusHandler(art, SearchResultsGrid);\n  }\n});\n\nmodule.exports = SearchResultsGrid;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvc2VhcmNoLXJlc3VsdHMvZ3JpZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0FBQ3BDLElBQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQTs7QUFFdkMsSUFBSSxVQUFVLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUE7QUFDMUMsSUFBSSxZQUFZLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUE7QUFDOUMsSUFBSSxhQUFhLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0FBQzNDLElBQUksYUFBYSxHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFBOztBQUVoRCxJQUFJLGlCQUFpQixHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUN4QyxRQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDOztBQUUzQixvQkFBa0IsRUFBQSw4QkFBRztBQUNuQixRQUFJLENBQUMsWUFBWSxHQUFHLEVBQUUsQ0FBQTtHQUN2Qjs7QUFFRCwyQkFBeUIsRUFBQSxtQ0FBQyxTQUFTLEVBQUU7QUFDbkMsUUFBSSxhQUFhLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxJQUFJLFNBQVMsQ0FBQyxNQUFNLENBQUMsS0FBSyxJQUNoRSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxPQUFPLElBQUksU0FBUyxDQUFDLE1BQU0sQ0FBQyxPQUFPLElBQ3JELElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEtBQUssU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFBOztBQUVq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RyxFQUFFO0FBQ2YsT0FBRyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEdBQUcsRUFBRSxpQkFBaUIsQ0FBQyxDQUFBO0dBQ3ZEO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsaUJBQWlCLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9zZWFyY2gtcmVzdWx0cy9ncmlkLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIgc3BsaXRBcnJheSA9IHJlcXVpcmUoJ3NwbGl0LWFycmF5JylcblxudmFyIEltYWdlUXVpbHQgPSByZXF1aXJlKCcuLi9pbWFnZS1xdWlsdCcpXG52YXIgQXJ0d29ya0ltYWdlID0gcmVxdWlyZSgnLi4vYXJ0d29yay1pbWFnZScpXG52YXIgRm9jdXNlZFJlc3VsdCA9IHJlcXVpcmUoJy4vZm9jdXNlZC5qcycpXG52YXIgU2VhcmNoU3VtbWFyeSA9IHJlcXVpcmUoJy4uL3NlYXJjaC1zdW1tYXJ5JylcblxudmFyIFNlYXJjaFJlc3VsdHNHcmlkID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBtaXhpbnM6IFtSb3V0ZXIuTmF2aWdhdGlvbl0sXG5cbiAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHRoaXMuY2FjaGVkUXVpbHRzID0gW11cbiAgfSxcblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIHZhciBzZWFyY2hDaGFuZ2VkID0gdGhpcy5wcm9wcy5zZWFyY2gucXVlcnkgIT0gbmV4dFByb3BzLnNlYXJjaC5xdWVyeVxuICAgICAgfHwgdGhpcy5wcm9wcy5zZWFyY2guZmlsdGVycyAhPSBuZXh0UHJvcHMuc2VhcmNoLmZpbHRlcnNcbiAgICAgIHx8IHRoaXMucHJvcHMuaGl0cy5zbGljZSgwLCAxMCkgIT09IG5leHRQcm9wcy5oaXRzLnNsaWNlKDAsIDEwKVxuXG4gICAgaWYoc2VhcmNoQ2hhbmdlZCkge1xuICAgICAgdGhpcy5jYWNoZWRRdWlsdHMgPSBbXVxuICAgIH1cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHtoaXRzLCBsZWZ0Q29sdW1uV2lkdGgsIGZvY3VzZWRSZXN1bHQsIHNtYWxsVmlld3BvcnQsIGZvY3VzSGFuZGxlciwgLi4uZm9jdXNlZFByb3BzfSA9IHRoaXMucHJvcHNcbiAgICB2YXIgdGFyZ2V0SGVpZ2h0ID0gaGl0cy5sZW5ndGggPCAyMCA/IDI1MCA6IDE1MFxuICAgIHZhciBxdWlsdHMgPSBzcGxpdEFycmF5KGhpdHMsIDUwKS5tYXAoKGNodW5rZWRIaXRzLCBpbmRleCkgPT4ge1xuICAgICAgdmFyIGNodW5rZWRRdWlsdCA9IHRoaXMuY2FjaGVkUXVpbHRzW2luZGV4XSB8fCA8SW1hZ2VRdWlsdFxuICAgICAgICBhcnR3b3Jrcz17Y2h1bmtlZEhpdHN9XG4gICAgICAgIG1heFJvd3M9ezEwMDB9XG4gICAgICAgIHJvd0hlaWdodD17dGFyZ2V0SGVpZ2h0fVxuICAgICAgICBtYXhSb3dIZWlnaHQ9ezUwMH1cbiAgICAgICAgb25DbGljaz17dGhpcy5jbGlja1Jlc3VsdH1cbiAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgZGlzYWJsZUhvdmVyPXt0cnVlfSAvPlxuXG4gICAgICBpZihjaHVua2VkSGl0cy5sZW5ndGggPj0gNTApIHRoaXMuY2FjaGVkUXVpbHRzW2luZGV4XSA9IGNodW5rZWRRdWlsdFxuICAgICAgcmV0dXJuIGNodW5rZWRRdWlsdFxuICAgIH0pXG5cbiAgICB2YXIgZGl2aWRlZFF1aWx0cyA9IHF1aWx0cy5tYXAoKHF1aWx0LCBpbmRleCkgPT4ge1xuICAgICAgdmFyIHN0YXJ0ID0gaW5kZXgqNTBcbiAgICAgIHZhciBlbmQgPSAoaW5kZXgrMSkqNTBcbiAgICAgIHJldHVybiA8ZGl2IGlkPXtgcmFuZ2U6JHtzdGFydH0tJHtlbmR9YH0+XG4gICAgICAgIHtxdWlsdH1cbiAgICAgIDwvZGl2PlxuICAgIH0pXG4gICAgdmFyIG1vcmUgPSB0aGlzLnByb3BzLnBvc3RTZWFyY2hcblxuICAgIHZhciBzdHVmZiA9IDxkaXY+XG4gICAgICB7ZGl2aWRlZFF1aWx0c31cbiAgICAgIHttb3JlfVxuICAgIDwvZGl2PlxuXG4gICAgaWYoc21hbGxWaWV3cG9ydCB8fCB0aGlzLmNvbnRleHQudW5pdmVyc2FsKSB7XG4gICAgICBmb2N1c2VkUmVzdWx0ID0gbnVsbFxuICAgIH1cblxuICAgIGlmKCFmb2N1c2VkUmVzdWx0KSBsZWZ0Q29sdW1uV2lkdGggPSAnMTAwJSdcblxuICAgIHZhciB3cmFwcGVkUXVpbHQgPSAhZm9jdXNlZFJlc3VsdCA/XG4gICAgICBzdHVmZiA6XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImxlZnRCYXJcIiBzdHlsZT17e3Bvc2l0aW9uOiAnYWJzb2x1dGUnLCB0b3A6IDAsIGxlZnQ6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAsIHdpZHRoOiBsZWZ0Q29sdW1uV2lkdGh9fT5cbiAgICAgICAge3N0dWZmfVxuICAgICAgPC9kaXY+XG5cbiAgICByZXR1cm4gPGRpdiBzdHlsZT17e3Bvc2l0aW9uOiAncmVsYXRpdmUnLCBtaW5IZWlnaHQ6IHRoaXMucHJvcHMubWluSGVpZ2h0fX0+XG4gICAgICB7d3JhcHBlZFF1aWx0fVxuICAgICAge2ZvY3VzZWRSZXN1bHQgJiYgPEZvY3VzZWRSZXN1bHQga2V5PXtmb2N1c2VkUmVzdWx0Ll9zb3VyY2UuaWR9IGFydD17Zm9jdXNlZFJlc3VsdC5fc291cmNlfSBoaWdobGlnaHRzPXtmb2N1c2VkUmVzdWx0LmhpZ2hsaWdodH0gey4uLnRoaXMucHJvcHN9Lz59XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgY2xpY2tSZXN1bHQoYXJ0KSB7XG4gICAgYXJ0ICYmIHRoaXMucHJvcHMuZm9jdXNIYW5kbGVyKGFydCwgU2VhcmNoUmVzdWx0c0dyaWQpXG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNlYXJjaFJlc3VsdHNHcmlkXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/search-results/grid.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/search-results/grid.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar splitArray = require('split-array')\n\nvar ImageQuilt = require('../image-quilt')\nvar ArtworkImage = require('../artwork-image')\nvar FocusedResult = require('./focused.js')\nvar SearchSummary = require('../search-summary')\n\nvar SearchResultsGrid = React.createClass({\n  mixins: [Router.Navigation],\n\n  componentWillMount() {\n    this.cachedQuilts = []\n  },\n\n  componentWillReceiveProps(nextProps) {\n    var searchChanged = this.props.search.query != nextProps.search.query\n      || this.props.search.filters != nextProps.search.filters\n      || this.props.hits.slice(0, 10) !== nextProps.hits.slice(0, 10)\n\n    if(searchChanged) {\n      this.cachedQuilts = []\n    }\n  },\n\n  render() {\n    var {hits, leftColumnWidth, focusedResult, smallViewport, focusHandler, ...focusedProps} = this.props\n    var targetHeight = hits.length < 20 ? 250 : 150\n    var quilts = splitArray(hits, 50).map((chunkedHits, index) => {\n      var chunkedQuilt = this.cachedQuilts[index] || <ImageQuilt\n        artworks={chunkedHits}\n        maxRows={1000}\n        rowHeight={targetHeight}\n        maxRowHeight={500}\n        onClick={this.clickResult}\n        key={index}\n        disableHover={true} />\n\n      if(chunkedHits.length >= 50) this.cachedQuilts[index] = chunkedQuilt\n      return chunkedQuilt\n    })\n\n    var dividedQuilts = quilts.map((quilt, index) => {\n      var start = index*50\n      var end = (index+1)*50\n      return <div id={`range:${start}-${end}`}>\n        {quilt}\n      </div>\n    })\n    var more = this.props.postSearch\n\n    var stuff = <div>\n      {dividedQuilts}\n      {more}\n    </div>\n\n    if(smallViewport || this.context.universal) {\n      focusedResult = null\n    }\n\n    if(!focusedResult) leftColumnWidth = '100%'\n\n    var wrappedQuilt = !focusedResult ?\n      stuff :\n      <div className=\"leftBar\" style={{position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, width: leftColumnWidth}}>\n        {stuff}\n      </div>\n\n    return <div style={{position: 'relative', minHeight: this.props.minHeight}}>\n      {wrappedQuilt}\n      {focusedResult && <FocusedResult key={focusedResult._source.id} art={focusedResult._source} highlights={focusedResult.highlight} {...this.props}/>}\n    </div>\n  },\n\n  clickResult(art) {\n    art && this.props.focusHandler(art, SearchResultsGrid)\n  },\n})\n\nmodule.exports = SearchResultsGrid\n"
      ]
    },
    "mtime": 1487953287538
  },
  "{\"filename\":\"/var/www/art/src/suggest.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar Suggest = React.createClass({\n  displayName: 'Suggest',\n\n  render: function render() {\n    var search = this.props.search;\n\n    var suggestions = Array.from(this.getSuggestions()).slice(0, 5);\n\n    if (suggestions.length == 0) return React.createElement('span', { className: 'noSuggestions' });\n\n    var suggestionLinks = suggestions.map(function (name) {\n      return React.createElement(\n        Link,\n        { to: '/search/' + name },\n        name\n      );\n    }).map(function (link, index) {\n      return React.createElement(\n        'span',\n        { key: index },\n        link,\n        index === suggestions.length - 1 || ', '\n      );\n    });\n\n    var style = _extends({ marginBottom: '1em', textAlign: 'center' }, this.props.style);\n\n    return React.createElement(\n      'div',\n      { id: 'suggestions', style: style },\n      React.createElement(\n        'p',\n        null,\n        'Looking for ',\n        suggestionLinks,\n        '?'\n      ),\n      React.createElement(\n        'datalist',\n        { id: 'searchCompletions' },\n        suggestions.map(function (option) {\n          return React.createElement(\n            'option',\n            { key: option },\n            option\n          );\n        })\n      )\n    );\n  },\n\n  getSuggestions: function getSuggestions() {\n    var search = this.props.search;\n\n    var suggest = this.props.completions || search && search.suggest || {};\n\n    var suggestions = Object.keys(suggest).filter(function (key) {\n      return key !== '_shards' && suggest[key].length > 0;\n    }).map(function (key) {\n      return suggest[key][0].options.map(function (suggestion) {\n        return _extends({}, suggestion, { type: key });\n      });\n    }).reduce(function (flattenedArray, options) {\n      return flattenedArray.concat(options);\n    }, [])\n    // re-score title completions to 10%, artist is more important\n    .map(function (option) {\n      return _extends({}, option, { score: option.score / (option.type == 'title_completion' ? 10 : 1) });\n    })\n    // re-score highlight completions\n    .map(function (option) {\n      return _extends({}, option, { score: option.score * (option.type == 'highlight_artist_completion' ? 5000 : 1) });\n    }).sort(function (a, b) {\n      return a.score < b.score;\n    }).map(function (option) {\n      return option ? option.text : null;\n    }).filter(function (text) {\n      return search ? text && text !== search.query : true;\n    });\n\n    return new Set(suggestions);\n  }\n});\n\nmodule.exports = Suggest;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvc3VnZ2VzdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBOztlQUNmLE9BQU8sQ0FBQyxjQUFjLENBQUM7O0lBQS9CLElBQUksWUFBSixJQUFJOztBQUVULElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUM5QixRQUFNLEVBQUEsa0JBQUc7UUFDRixNQUFNLEdBQUksSUFBSSxDQUFDLEtBQUssQ0FBcEIsTUFBTTs7QUFDWCxRQUFJLFdBQVcsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUNsRCxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBOztBQUVaLFFBQUcsV0FBVyxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUUsT0FBTyw4QkFBTSxTQUFTLEVBQUMsZUFBZSxHQUFRLENBQUE7O0FBRTFFLFFBQUksZUFBZSxHQUFHLFdBQVcsQ0FDaEMsR0FBRyxDQUFDLFVBQUEsSUFBSTthQUFJO0FBQUMsWUFBSTtVQUFDLEVBQUUsZUFBYSxJQUFJLEFBQUc7UUFBRSxJQUFJO09BQVE7S0FBQSxDQUFDLENBQ3ZELEdBQUcsQ0FBQyxVQUFDLElBQUksRUFBRSxLQUFLO2FBQUs7O1VBQU0sR0FBRyxFQUFFLEtBQUssQUFBQztRQUFFLElBQUk7UUFBRSxLQUFLLEtBQUssV0FBVyxDQUFDLE1BQU0sR0FBQyxDQUFDLElBQUksSUFBSTtPQUFRO0tBQUEsQ0FBQyxDQUFBOztBQUU5RixRQUFJLEtBQUssY0FBSSxZQUFZLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxRQUFRLElBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQTs7QUFFM0UsV0FBTzs7UUFBSyxFQUFFLEVBQUMsYUFBYSxFQUFDLEtBQUssRUFBRSxLQUFLLEFBQUM7TUFDeEM7Ozs7UUFBZ0IsZUFBZTs7T0FBTTtNQUNyQzs7VUFBVSxFQUFFLEVBQUMsbUJBQW1CO1FBQzdCLFdBQVcsQ0FBQyxHQUFHLENBQUMsVUFBQSxNQUFNO2lCQUFJOztjQUFRLEdBQUcsRUFBRSxNQUFNLEFBQUM7WUFBRSxNQUFNO1dBQVU7U0FBQSxDQUFDO09BQ3pEO0tBQ1AsQ0FBQTtHQUNQOztBQUVELGdCQUFjLEVBQUEsMEJBQUc7UUFDVixNQUFNLEdBQUksSUFBSSxDQUFDLEtBQUssQ0FBcEIsTUFBTTs7QUFDWCxRQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsSUFBSSxNQUFNLElBQUksTUFBTSxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUE7O0FBRXRFLFFBQUksV0FBVyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQ3JDLE1BQU0sQ0FBQyxVQUFBLEdBQUc7YUFBSSxHQUFHLEtBQUssU0FBUyxJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQztLQUFBLENBQUMsQ0FDM0QsR0FBRyxDQUFDLFVBQUEsR0FBRzthQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQUEsVUFBVTs0QkFBUyxVQUFVLElBQUUsSUFBSSxFQUFFLEdBQUc7T0FBRSxDQUFDO0tBQUEsQ0FBQyxDQUNuRixNQUFNLENBQUMsVUFBQyxjQUFjLEVBQUUsT0FBTzthQUFLLGNBQWMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDO0tBQUEsRUFBRSxFQUFFLENBQUM7O0tBRXZFLEdBQUcsQ0FBQyxVQUFBLE1BQU07MEJBQVMsTUFBTSxJQUFFLEtBQUssRUFBRSxNQUFNLENBQUMsS0FBSyxJQUFJLE1BQU0sQ0FBQyxJQUFJLElBQUksa0JBQWtCLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQSxBQUFDO0tBQUUsQ0FBQzs7S0FFaEcsR0FBRyxDQUFDLFVBQUEsTUFBTTswQkFBUyxNQUFNLElBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxLQUFLLElBQUksTUFBTSxDQUFDLElBQUksSUFBSSw2QkFBNkIsR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFBLEFBQUM7S0FBRSxDQUFDLENBQzdHLElBQUksQ0FBQyxVQUFDLENBQUMsRUFBRSxDQUFDO2FBQUssQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsS0FBSztLQUFBLENBQUMsQ0FDakMsR0FBRyxDQUFDLFVBQUEsTUFBTTthQUFJLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxHQUFHLElBQUk7S0FBQSxDQUFDLENBQzFDLE1BQU0sQ0FBQyxVQUFBLElBQUk7YUFBSSxNQUFNLEdBQUksSUFBSSxJQUFJLElBQUksS0FBSyxNQUFNLENBQUMsS0FBSyxHQUFJLElBQUk7S0FBQSxDQUFDLENBQUE7O0FBRWhFLFdBQU8sSUFBSSxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUE7R0FDNUI7Q0FDRixDQUFDLENBQUE7O0FBRUYsTUFBTSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9zdWdnZXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIHtMaW5rfSA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG5cbnZhciBTdWdnZXN0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHtzZWFyY2h9ID0gdGhpcy5wcm9wc1xuICAgIHZhciBzdWdnZXN0aW9ucyA9IEFycmF5LmZyb20odGhpcy5nZXRTdWdnZXN0aW9ucygpKVxuICAgIC5zbGljZSgwLCA1KVxuXG4gICAgaWYoc3VnZ2VzdGlvbnMubGVuZ3RoID09IDApIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJub1N1Z2dlc3Rpb25zXCI+PC9zcGFuPlxuXG4gICAgdmFyIHN1Z2dlc3Rpb25MaW5rcyA9IHN1Z2dlc3Rpb25zXG4gICAgLm1hcChuYW1lID0+IDxMaW5rIHRvPXtgL3NlYXJjaC8ke25hbWV9YH0+e25hbWV9PC9MaW5rPilcbiAgICAubWFwKChsaW5rLCBpbmRleCkgPT4gPHNwYW4ga2V5PXtpbmRleH0+e2xpbmt9e2luZGV4ID09PSBzdWdnZXN0aW9ucy5sZW5ndGgtMSB8fCAnLCAnfTwvc3Bhbj4pXG5cbiAgICB2YXIgc3R5bGUgPSB7bWFyZ2luQm90dG9tOiAnMWVtJywgdGV4dEFsaWduOiAnY2VudGVyJywgLi4udGhpcy5wcm9wcy5zdHlsZX1cblxuICAgIHJldHVybiA8ZGl2IGlkPVwic3VnZ2VzdGlvbnNcIiBzdHlsZT17c3R5bGV9PlxuICAgICAgPHA+TG9va2luZyBmb3Ige3N1Z2dlc3Rpb25MaW5rc30/PC9wPlxuICAgICAgPGRhdGFsaXN0IGlkPVwic2VhcmNoQ29tcGxldGlvbnNcIj5cbiAgICAgICAge3N1Z2dlc3Rpb25zLm1hcChvcHRpb24gPT4gPG9wdGlvbiBrZXk9e29wdGlvbn0+e29wdGlvbn08L29wdGlvbj4pfVxuICAgICAgPC9kYXRhbGlzdD5cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBnZXRTdWdnZXN0aW9ucygpIHtcbiAgICB2YXIge3NlYXJjaH0gPSB0aGlzLnByb3BzXG4gICAgdmFyIHN1Z2dlc3QgPSB0aGlzLnByb3BzLmNvbXBsZXRpb25zIHx8IHNlYXJjaCAmJiBzZWFyY2guc3VnZ2VzdCB8fCB7fVxuXG4gICAgdmFyIHN1Z2dlc3Rpb25zID0gT2JqZWN0LmtleXMoc3VnZ2VzdClcbiAgICAuZmlsdGVyKGtleSA9PiBrZXkgIT09ICdfc2hhcmRzJyAmJiBzdWdnZXN0W2tleV0ubGVuZ3RoID4gMClcbiAgICAubWFwKGtleSA9PiBzdWdnZXN0W2tleV1bMF0ub3B0aW9ucy5tYXAoc3VnZ2VzdGlvbiA9PiAoey4uLnN1Z2dlc3Rpb24sIHR5cGU6IGtleX0pKSlcbiAgICAucmVkdWNlKChmbGF0dGVuZWRBcnJheSwgb3B0aW9ucykgPT4gZmxhdHRlbmVkQXJyYXkuY29uY2F0KG9wdGlvbnMpLCBbXSlcbiAgICAvLyByZS1zY29yZSB0aXRsZSBjb21wbGV0aW9ucyB0byAxMCUsIGFydGlzdCBpcyBtb3JlIGltcG9ydGFudFxuICAgIC5tYXAob3B0aW9uID0+ICh7Li4ub3B0aW9uLCBzY29yZTogb3B0aW9uLnNjb3JlIC8gKG9wdGlvbi50eXBlID09ICd0aXRsZV9jb21wbGV0aW9uJyA/IDEwIDogMSl9KSlcbiAgICAvLyByZS1zY29yZSBoaWdobGlnaHQgY29tcGxldGlvbnNcbiAgICAubWFwKG9wdGlvbiA9PiAoey4uLm9wdGlvbiwgc2NvcmU6IG9wdGlvbi5zY29yZSAqIChvcHRpb24udHlwZSA9PSAnaGlnaGxpZ2h0X2FydGlzdF9jb21wbGV0aW9uJyA/IDUwMDAgOiAxKX0pKVxuICAgIC5zb3J0KChhLCBiKSA9PiBhLnNjb3JlIDwgYi5zY29yZSlcbiAgICAubWFwKG9wdGlvbiA9PiBvcHRpb24gPyBvcHRpb24udGV4dCA6IG51bGwpXG4gICAgLmZpbHRlcih0ZXh0ID0+IHNlYXJjaCA/ICh0ZXh0ICYmIHRleHQgIT09IHNlYXJjaC5xdWVyeSkgOiB0cnVlKVxuXG4gICAgcmV0dXJuIG5ldyBTZXQoc3VnZ2VzdGlvbnMpXG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IFN1Z2dlc3RcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/suggest.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/suggest.js",
      "sourcesContent": [
        "var React = require('react')\nvar {Link} = require('react-router')\n\nvar Suggest = React.createClass({\n  render() {\n    var {search} = this.props\n    var suggestions = Array.from(this.getSuggestions())\n    .slice(0, 5)\n\n    if(suggestions.length == 0) return <span className=\"noSuggestions\"></span>\n\n    var suggestionLinks = suggestions\n    .map(name => <Link to={`/search/${name}`}>{name}</Link>)\n    .map((link, index) => <span key={index}>{link}{index === suggestions.length-1 || ', '}</span>)\n\n    var style = {marginBottom: '1em', textAlign: 'center', ...this.props.style}\n\n    return <div id=\"suggestions\" style={style}>\n      <p>Looking for {suggestionLinks}?</p>\n      <datalist id=\"searchCompletions\">\n        {suggestions.map(option => <option key={option}>{option}</option>)}\n      </datalist>\n    </div>\n  },\n\n  getSuggestions() {\n    var {search} = this.props\n    var suggest = this.props.completions || search && search.suggest || {}\n\n    var suggestions = Object.keys(suggest)\n    .filter(key => key !== '_shards' && suggest[key].length > 0)\n    .map(key => suggest[key][0].options.map(suggestion => ({...suggestion, type: key})))\n    .reduce((flattenedArray, options) => flattenedArray.concat(options), [])\n    // re-score title completions to 10%, artist is more important\n    .map(option => ({...option, score: option.score / (option.type == 'title_completion' ? 10 : 1)}))\n    // re-score highlight completions\n    .map(option => ({...option, score: option.score * (option.type == 'highlight_artist_completion' ? 5000 : 1)}))\n    .sort((a, b) => a.score < b.score)\n    .map(option => option ? option.text : null)\n    .filter(text => search ? (text && text !== search.query) : true)\n\n    return new Set(suggestions)\n  },\n})\n\nmodule.exports = Suggest\n"
      ]
    },
    "mtime": 1456957925207
  },
  "{\"filename\":\"/var/www/art/src/navigation.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\n//var {main_nav, quick_links, collections_nav} = require('../data/navigation.json')\n\nvar GlobalNavigation = React.createClass({\n  displayName: 'GlobalNavigation',\n\n  mainnav: [{ navItem: 'Exhibitions', link: 'https://new.artsmia.org/exhibitions' }, { navItem: 'Collection', link: 'httpss://collections.artsmia.org/' }, { navItem: 'Visit', link: 'https://new.artsmia.org/visit/' }, { navItem: 'Discover', link: 'https://new.artsmia.org/discover/' }, { navItem: 'Shop', link: 'https://new.artsmia.org/shop/' }, { navItem: 'Join', link: 'https://new.artsmia.org/join-and-invest/' }, { navItem: 'About', link: 'https://new.artsmia.org/about/' }],\n  quicknav: [{ navItem: 'tickets', link: 'https://artsmia.org/donate' }, { navItem: 'calendar', link: 'https://new.artsmia.org/visit/calendar/' }, { navItem: 'donate', link: 'https://artsmia.org/donate' }],\n  render: function render() {\n\n    var smallViewport = window && window.innerWidth <= 780;\n\n    if (smallViewport) {\n      return React.createElement(\n        'div',\n        { className: 'mobile-nav nav_bar', onClick: this.closeNav },\n        React.createElement(\n          'div',\n          { className: 'global_nav' },\n          React.createElement(\n            'ul',\n            { className: 'nav_list' },\n            this.mainnav.map(function (_ref) {\n              var navItem = _ref.navItem;\n              var link = _ref.link;\n\n              return React.createElement(\n                'li',\n                { key: navItem, className: 'nav_item' },\n                navItem == 'Collection' ? React.createElement(\n                  Link,\n                  { to: '/' },\n                  'Collection'\n                ) : React.createElement(\n                  'a',\n                  { href: link },\n                  navItem\n                )\n              );\n            })\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'quick_nav' },\n          React.createElement(\n            'ul',\n            { className: 'nav_list' },\n            this.quicknav.map(function (_ref2) {\n              var navItem = _ref2.navItem;\n              var link = _ref2.link;\n\n              return React.createElement(\n                'li',\n                { key: navItem, className: [navItem, \"button nav_item\"].join(' ') },\n                React.createElement(\n                  'a',\n                  { href: link },\n                  navItem\n                )\n              );\n            })\n          )\n        )\n      );\n    } else {\n      return React.createElement(\n        'div',\n        { className: 'nav_bar', onClick: this.closeNav },\n        React.createElement(\n          'div',\n          { className: 'global_nav' },\n          React.createElement(\n            'ul',\n            { className: 'nav_list' },\n            this.mainnav.map(function (_ref3) {\n              var navItem = _ref3.navItem;\n              var link = _ref3.link;\n\n              return React.createElement(\n                'li',\n                { key: navItem, className: 'nav_item' },\n                navItem == 'Collection' ? React.createElement(\n                  Link,\n                  { to: '/' },\n                  'Collection'\n                ) : React.createElement(\n                  'a',\n                  { href: link },\n                  navItem\n                )\n              );\n            })\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'quick_nav' },\n          React.createElement(\n            'ul',\n            { className: 'nav_list' },\n            this.quicknav.map(function (_ref4) {\n              var navItem = _ref4.navItem;\n              var link = _ref4.link;\n\n              return React.createElement(\n                'li',\n                { key: navItem, className: [navItem, \"button nav_item\"].join(' ') },\n                React.createElement(\n                  'a',\n                  { href: link },\n                  navItem\n                )\n              );\n            })\n          )\n        )\n      );\n    }\n  },\n\n  closeNav: function closeNav() {\n    this.props.closeNav && this.props.closeNav();\n  }\n});\n\nmodule.exports = GlobalNavigation;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvbmF2aWdhdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTs7ZUFDZCxPQUFPLENBQUMsY0FBYyxDQUFDOztJQUEvQixJQUFJLFlBQUosSUFBSTs7OztBQUlWLElBQUksZ0JBQWdCLEdBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ3hDLFNBQU8sRUFBRSxDQUNQLEVBQUMsT0FBTyxFQUFDLGFBQWEsRUFBRSxJQUFJLEVBQUMscUNBQXFDLEVBQUMsRUFDbkUsRUFBQyxPQUFPLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBQyxtQ0FBbUMsRUFBQyxFQUNqRSxFQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFDLGdDQUFnQyxFQUFDLEVBQ3pELEVBQUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUMsbUNBQW1DLEVBQUMsRUFDL0QsRUFBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBQywrQkFBK0IsRUFBQyxFQUN2RCxFQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFDLDBDQUEwQyxFQUFDLEVBQ2xFLEVBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUMsZ0NBQWdDLEVBQUMsQ0FFMUQ7QUFDRCxVQUFRLEVBQUUsQ0FDUixFQUFDLE9BQU8sRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFDLDRCQUE0QixFQUFDLEVBQ3ZELEVBQUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUMseUNBQXlDLEVBQUMsRUFDckUsRUFBQyxPQUFPLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBQyw0QkFBNEIsRUFBQyxDQUN2RDtBQUNELFFBQU0sRUFBQSxrQkFBRzs7QUFFUCxRQUFJLGFBQWEsR0FBRyxNQUFNLElBQUksTUFBTSxDQUFDLFVBQVUsSUFBSSxHQUFHLENBQUE7O0FBR3BELFFBQUcsYUFBYSxFQUFDO0FB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ImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL25hdmlnYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgIHtMaW5rfSA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG5cbi8vdmFyIHttYWluX25hdiwgcXVpY2tfbGlua3MsIGNvbGxlY3Rpb25zX25hdn0gPSByZXF1aXJlKCcuLi9kYXRhL25hdmlnYXRpb24uanNvbicpXG5cbnZhciBHbG9iYWxOYXZpZ2F0aW9uID0gIFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgbWFpbm5hdjogW1xuICAgIHtuYXZJdGVtOidFeGhpYml0aW9ucycsIGxpbms6J2h0dHBzOi8vbmV3LmFydHNtaWEub3JnL2V4aGliaXRpb25zJ30sXG4gICAge25hdkl0ZW06ICdDb2xsZWN0aW9uJywgbGluazonaHR0cHNzOi8vY29sbGVjdGlvbnMuYXJ0c21pYS5vcmcvJ30sXG4gICAge25hdkl0ZW06ICdWaXNpdCcsIGxpbms6J2h0dHBzOi8vbmV3LmFydHNtaWEub3JnL3Zpc2l0Lyd9LFxuICAgIHtuYXZJdGVtOiAnRGlzY292ZXInLCBsaW5rOidodHRwczovL25ldy5hcnRzbWlhLm9yZy9kaXNjb3Zlci8nfSxcbiAgICB7bmF2SXRlbTogJ1Nob3AnLCBsaW5rOidodHRwczovL25ldy5hcnRzbWlhLm9yZy9zaG9wLyd9LFxuICAgIHtuYXZJdGVtOiAnSm9pbicsIGxpbms6J2h0dHBzOi8vbmV3LmFydHNtaWEub3JnL2pvaW4tYW5kLWludmVzdC8nfSxcbiAgICB7bmF2SXRlbTogJ0Fib3V0JywgbGluazonaHR0cHM6Ly9uZXcuYXJ0c21pYS5vcmcvYWJvdXQvJ31cblxuICBdLFxuICBxdWlja25hdjogW1xuICAgIHtuYXZJdGVtOiAndGlja2V0cycsIGxpbms6J2h0dHBzOi8vYXJ0c21pYS5vcmcvZG9uYXRlJ30sXG4gICAge25hdkl0ZW06ICdjYWxlbmRhcicsIGxpbms6J2h0dHBzOi8vbmV3LmFydHNtaWEub3JnL3Zpc2l0L2NhbGVuZGFyLyd9LFxuICAgIHtuYXZJdGVtOiAnZG9uYXRlJywgbGluazonaHR0cHM6Ly9hcnRzbWlhLm9yZy9kb25hdGUnfVxuICBdLFxuICByZW5kZXIoKSB7XG5cbiAgICB2YXIgc21hbGxWaWV3cG9ydCA9IHdpbmRvdyAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8PSA3ODBcblxuXG4gICAgICBpZihzbWFsbFZpZXdwb3J0KXtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbW9iaWxlLW5hdiBuYXZfYmFyJyBvbkNsaWNrPXt0aGlzLmNsb3NlTmF2fT5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbG9iYWxfbmF2XCI+XG4gICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJuYXZfbGlzdFwiPlxuICAgICAgICAgICAgICAgIHt0aGlzLm1haW5uYXYubWFwKCh7bmF2SXRlbSwgbGlua30pID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiA8bGkga2V5PXtuYXZJdGVtfSBjbGFzc05hbWU9XCJuYXZfaXRlbVwiPlxuICAgICAgICAgICAgICAgICAgICB7bmF2SXRlbSA9PSAnQ29sbGVjdGlvbicgP1xuICAgICAgICAgICAgICAgICAgICAgIDxMaW5rIHRvPVwiL1wiPkNvbGxlY3Rpb248L0xpbms+IDpcbiAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPXtsaW5rfT57bmF2SXRlbX08L2E+fVxuICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJxdWlja19uYXZcIj5cbiAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cIm5hdl9saXN0XCI+XG4gICAgICAgICAgICAgIHt0aGlzLnF1aWNrbmF2Lm1hcCgoe25hdkl0ZW0sIGxpbmt9KSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gPGxpIGtleT17bmF2SXRlbX0gY2xhc3NOYW1lPXtbbmF2SXRlbSwgXCJidXR0b24gbmF2X2l0ZW1cIl0uam9pbignICcpfT5cbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj17bGlua30+e25hdkl0ZW19PC9hPlxuICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmF2X2JhclwiIG9uQ2xpY2s9e3RoaXMuY2xvc2VOYXZ9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbG9iYWxfbmF2XCI+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJuYXZfbGlzdFwiPlxuICAgICAgICAgIHt0aGlzLm1haW5uYXYubWFwKCh7bmF2SXRlbSwgbGlua30pID0+IHtcbiAgICAgICAgICAgIHJldHVybiA8bGkga2V5PXtuYXZJdGVtfSBjbGFzc05hbWU9XCJuYXZfaXRlbVwiPlxuICAgICAgICAgICAgICB7bmF2SXRlbSA9PSAnQ29sbGVjdGlvbicgP1xuICAgICAgICAgICAgICAgIDxMaW5rIHRvPVwiL1wiPkNvbGxlY3Rpb248L0xpbms+IDpcbiAgICAgICAgICAgICAgICA8YSBocmVmPXtsaW5rfT57bmF2SXRlbX08L2E+fVxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICB9KX1cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJxdWlja19uYXZcIj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cIm5hdl9saXN0XCI+XG4gICAgICAgIHt0aGlzLnF1aWNrbmF2Lm1hcCgoe25hdkl0ZW0sIGxpbmt9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gPGxpIGtleT17bmF2SXRlbX0gY2xhc3NOYW1lPXtbbmF2SXRlbSwgXCJidXR0b24gbmF2X2l0ZW1cIl0uam9pbignICcpfT5cbiAgICAgICAgICAgICAgPGEgaHJlZj17bGlua30+e25hdkl0ZW19PC9hPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICB9KX1cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApfVxufSxcblxuICBjbG9zZU5hdigpIHtcbiAgICB0aGlzLnByb3BzLmNsb3NlTmF2ICYmIHRoaXMucHJvcHMuY2xvc2VOYXYoKVxuICB9XG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IEdsb2JhbE5hdmlnYXRpb25cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/navigation.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;eACd,OAAO,CAAC,cAAc,CAAC;;IAA/B,IAAI,YAAJ,IAAI;;;;AAIV,IAAI,gBAAgB,GAAI,KAAK,CAAC,WAAW,CAAC;;;AACxC,SAAO,EAAE,CACP,EAAC,OAAO,EAAC,aAAa,EAAE,IAAI,EAAC,qCAAqC,EAAC,EACnE,EAAC,OAAO,EAAE,YAAY,EAAE,IAAI,EAAC,mCAAmC,EAAC,EACjE,EAAC,OAAO,EAAE,OAAO,EAAE,IAAI,EAAC,gCAAgC,EAAC,EACzD,EAAC,OAAO,EAAE,UAAU,EAAE,IAAI,EAAC,mCAAmC,EAAC,EAC/D,EAAC,OAAO,EAAE,MAAM,EAAE,IAAI,EAAC,+BAA+B,EAAC,EACvD,EAAC,OAAO,EAAE,MAAM,EAAE,IAAI,EAAC,0CAA0C,EAAC,EAClE,EAAC,OAAO,EAAE,OAAO,EAAE,IAAI,EAAC,gCAAgC,EAAC,CAE1D;AACD,UAAQ,EAAE,CACR,EAAC,OAAO,EAAE,SAAS,EAAE,IAAI,EAAC,4BAA4B,EAAC,EACvD,EAAC,OAAO,EAAE,UAAU,EAAE,IAAI,EAAC,yCAAyC,EAAC,EACrE,EAAC,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAC,4BAA4B,EAAC,CACvD;AACD,QAAM,EAAA,kBAAG;;AAEP,QAAI,aAAa,GAAG,MAAM,IAAI,MAAM,CAAC,UAAU,IAAI,GAAG,CAAA;;AAGpD,QAAG,aAAa,EAAC;AACf,aACE;;UAAK,SAAS,EAAC,oBAAoB,EAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,AAAC;QAEzD;;YAAK,SAAS,EAAC,YAAY;UACzB;;cAAI,SAAS,EAAC,UAAU;YACrB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAC,IAAe,EAAK;kBAAnB,OAAO,GAAR,IAAe,CAAd,OAAO;kBAAE,IAAI,GAAd,IAAe,CAAL,IAAI;;AAC/B,qBAAO;;kBAAI,GAAG,EAAE,OAAO,AAAC,EAAC,SAAS,EAAC,UAAU;gBAC1C,OAAO,IAAI,YAAY,GACtB;AAAC,sBAAI;oBAAC,EAAE,EAAC,GAAG;;iBAAkB,GAC9B;;oBAAG,IAAI,EAAE,IAAI,AAAC;kBAAE,OAAO;iBAAK;eAC3B,CAAA;aACN,CAAC;WACC;SACD;QACN;;YAAK,SAAS,EAAC,WAAW;UACxB;;cAAI,SAAS,EAAC,UAAU;YACvB,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAC,KAAe,EAAK;kBAAnB,OAAO,GAAR,KAAe,CAAd,OAAO;kBAAE,IAAI,GAAd,KAAe,CAAL,IAAI;;AAC9B,qBAAO;;kBAAI,GAAG,EAAE,OAAO,AAAC,EAAC,SAAS,EAAE,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,AAAC;gBACzE;;oBAAG,IAAI,EAAE,IAAI,AAAC;kBAAE,OAAO;iBAAK;eACzB,CAAA;aACN,CAAC;WACC;SACD;OACF,CACP;KACF,MAAM;AACL,aACE;;UAAK,SAAS,EAAC,SAAS,EAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,AAAC;QACpD;;YAAK,SAAS,EAAC,YAAY;UACzB;;cAAI,SAAS,EAAC,UAAU;YACrB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAC,KAAe,EAAK;kBAAnB,OAAO,GAAR,KAAe,CAAd,OAAO;kBAAE,IAAI,GAAd,KAAe,CAAL,IAAI;;AAC/B,qBAAO;;kBAAI,GAAG,EAAE,OAAO,AAAC,EAAC,SAAS,EAAC,UAAU;gBAC1C,OAAO,IAAI,YAAY,GACtB;AAAC,sBAAI;oBAAC,EAAE,EAAC,GAAG;;iBAAkB,GAC9B;;oBAAG,IAAI,EAAE,IAAI,AAAC;kBAAE,OAAO;iBAAK;eAC3B,CAAA;aACN,CAAC;WACC;SACD;QACN;;YAAK,SAAS,EAAC,WAAW;UACxB;;cAAI,SAAS,EAAC,UAAU;YACvB,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAC,KAAe,EAAK;kBAAnB,OAAO,GAAR,KAAe,CAAd,OAAO;kBAAE,IAAI,GAAd,KAAe,CAAL,IAAI;;AAC9B,qBAAO;;kBAAI,GAAG,EAAE,OAAO,AAAC,EAAC,SAAS,EAAE,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,AAAC;gBACzE;;oBAAG,IAAI,EAAE,IAAI,AAAC;kBAAE,OAAO;iBAAK;eACzB,CAAA;aACN,CAAC;WACC;SACD;OACF,CACP;KAAC;GACH;;AAEC,UAAQ,EAAA,oBAAG;AACT,QAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAA;GAC7C;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,gBAAgB,CAAA",
      "file": "/var/www/art/src/navigation.js",
      "sourcesContent": [
        "var React = require('react')\nvar  {Link} = require('react-router')\n\n//var {main_nav, quick_links, collections_nav} = require('../data/navigation.json')\n\nvar GlobalNavigation =  React.createClass({\n  mainnav: [\n    {navItem:'Exhibitions', link:'https://new.artsmia.org/exhibitions'},\n    {navItem: 'Collection', link:'httpss://collections.artsmia.org/'},\n    {navItem: 'Visit', link:'https://new.artsmia.org/visit/'},\n    {navItem: 'Discover', link:'https://new.artsmia.org/discover/'},\n    {navItem: 'Shop', link:'https://new.artsmia.org/shop/'},\n    {navItem: 'Join', link:'https://new.artsmia.org/join-and-invest/'},\n    {navItem: 'About', link:'https://new.artsmia.org/about/'}\n\n  ],\n  quicknav: [\n    {navItem: 'tickets', link:'https://artsmia.org/donate'},\n    {navItem: 'calendar', link:'https://new.artsmia.org/visit/calendar/'},\n    {navItem: 'donate', link:'https://artsmia.org/donate'}\n  ],\n  render() {\n\n    var smallViewport = window && window.innerWidth <= 780\n\n\n      if(smallViewport){\n        return (\n          <div className='mobile-nav nav_bar' onClick={this.closeNav}>\n\n            <div className=\"global_nav\">\n              <ul className=\"nav_list\">\n                {this.mainnav.map(({navItem, link}) => {\n                  return <li key={navItem} className=\"nav_item\">\n                    {navItem == 'Collection' ?\n                      <Link to=\"/\">Collection</Link> :\n                      <a href={link}>{navItem}</a>}\n                  </li>\n                })}\n              </ul>\n            </div>\n            <div className=\"quick_nav\">\n              <ul className=\"nav_list\">\n              {this.quicknav.map(({navItem, link}) => {\n                  return <li key={navItem} className={[navItem, \"button nav_item\"].join(' ')}>\n                    <a href={link}>{navItem}</a>\n                  </li>\n                })}\n              </ul>\n            </div>\n          </div>\n        )\n      } else {\n        return (\n          <div className=\"nav_bar\" onClick={this.closeNav}>\n      <div className=\"global_nav\">\n        <ul className=\"nav_list\">\n          {this.mainnav.map(({navItem, link}) => {\n            return <li key={navItem} className=\"nav_item\">\n              {navItem == 'Collection' ?\n                <Link to=\"/\">Collection</Link> :\n                <a href={link}>{navItem}</a>}\n            </li>\n          })}\n        </ul>\n      </div>\n      <div className=\"quick_nav\">\n        <ul className=\"nav_list\">\n        {this.quicknav.map(({navItem, link}) => {\n            return <li key={navItem} className={[navItem, \"button nav_item\"].join(' ')}>\n              <a href={link}>{navItem}</a>\n            </li>\n          })}\n        </ul>\n      </div>\n    </div>\n  )}\n},\n\n  closeNav() {\n    this.props.closeNav && this.props.closeNav()\n  }\n})\n\nmodule.exports = GlobalNavigation\n"
      ]
    },
    "mtime": 1487953287534
  },
  "{\"filename\":\"/var/www/art/src/home.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar toSlug = require('speakingurl');\nvar LazyLoad = require('react-lazy-load');\n\nvar SEARCH = require('./endpoints').search;\nvar rest = require('rest');\nvar Search = require('./search');\nvar findDepartment = require('./department-slug');\nvar MapPage = require('./map-page');\n\nvar Home = React.createClass({\n  displayName: 'Home',\n\n  statics: {\n    fetchData: {\n      searchResults: function searchResults(params, query) {\n        var searchUrl = SEARCH + '/highlight:true';\n        return rest(searchUrl).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var smallViewport = window && window.innerWidth < 600;\n    var quiltProps = smallViewport ? { maxRows: 2, maxWorks: 7 } : { maxRows: 3, maxWorks: 30 };\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(Search, _extends({\n        hideResults: true,\n        activateInput: true,\n        quiltProps: quiltProps,\n        facet: 'highlight:true',\n        searchAll: true,\n        suggestStyle: { margin: \"1em 3em\" },\n        bumpSearchBox: smallViewport,\n        shuffleQuilt: true\n      }, this.props)),\n      React.createElement(HomeDepartmentsAndPages, null),\n      React.createElement(\n        'div',\n        { id: 'map' },\n        React.createElement(\n          MapPage,\n          { hideList: true },\n          React.createElement(\n            Link,\n            { to: 'map', style: { textAlign: 'center', float: 'right', paddingRight: '1em' } },\n            'All galleries'\n          )\n        )\n      )\n    );\n  }\n});\n\nmodule.exports = Home;\n\nvar HomeDepartmentsAndPages = React.createClass({\n  displayName: 'HomeDepartmentsAndPages',\n\n  departments: [\"Art of Africa and the Americas\", \"Chinese, South and Southeast Asian Art\", \"Contemporary Art\", \"Decorative Arts, Textiles and Sculpture\", \"Japanese and Korean Art\", \"Paintings\", \"Photography and New Media\", \"Prints and Drawings\"],\n\n  pages: ['Purcell-Cutts House', 'Provenance Research', 'Deaccessions', 'Conservation'],\n\n  render: function render() {\n    return React.createElement(\n      'div',\n      { className: 'landingPageBody' },\n      React.createElement(\n        'div',\n        { className: 'mdl-grid' },\n        React.createElement(\n          'ul',\n          { className: 'info' },\n          React.createElement(\n            'li',\n            { className: 'mdl-cell mdl-cell--4-col' },\n            React.createElement(\n              Link,\n              { to: 'searchResults', params: { terms: 'highlight:true' } },\n              'Highlights'\n            )\n          ),\n          React.createElement(\n            'li',\n            { className: 'mdl-cell mdl-cell--4-col' },\n            React.createElement(\n              Link,\n              { to: 'searchResults', params: { terms: 'recent:true' } },\n              'New to Mia'\n            )\n          ),\n          React.createElement(\n            'li',\n            { className: 'mdl-cell mdl-cell--4-col' },\n            React.createElement(\n              Link,\n              { to: 'explore' },\n              'Explore'\n            )\n          )\n        )\n      ),\n      React.createElement(\n        'div',\n        { className: 'welcome mdl-grid' },\n        React.createElement(\n          'div',\n          { className: 'mdl-cell mdl-cell--9-col' },\n          React.createElement(\n            'p',\n            null,\n            'It is our mission to enrich the community by collecting, preserving, and making accessible outstanding works of art from the world’s diverse cultures. With over 89,000 artworks, Mia’s collection includes art from six continents, spanning about 20,000 years.  Here you will find world-famous artworks that embody the highest levels of artistic achievement and speak to the enduring power of human creativity to shape our world. '\n          )\n        )\n      ),\n      React.createElement(\n        'div',\n        { className: 'departmentList mdl-grid' },\n        React.createElement(\n          'h2',\n          null,\n          'Departments'\n        ),\n        this.departments.map(function (dept) {\n          var name = function name(index) {\n            return findDepartment(dept)[index];\n          };\n          return React.createElement(\n            Link,\n            { to: 'department', key: name(1), params: { dept: name(2) }, className: 'departmentLink mdl-cell mdl-cell--3-col' },\n            React.createElement(\n              LazyLoad,\n              { height: '150px' },\n              React.createElement('div', { className: [name(1), \"departmentListItem\"].join(' ') })\n            ),\n            React.createElement(\n              'h2',\n              null,\n              dept\n            )\n          );\n        })\n      ),\n      React.createElement(\n        'div',\n        { className: 'mdl-grid' },\n        React.createElement(\n          'ul',\n          { className: 'info' },\n          this.pages.map(function (name) {\n            return React.createElement(\n              'li',\n              { key: name, className: 'mdl-cell mdl-cell--3-col' },\n              React.createElement(\n                Link,\n                { to: 'page', params: { name: toSlug(name) } },\n                name\n              )\n            );\n          })\n        )\n      )\n    );\n  }\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvaG9tZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtJQUMvQixJQUFJLEdBQUksTUFBTSxDQUFkLElBQUk7O0FBRVQsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBO0FBQ25DLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFBOztBQUV6QyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsTUFBTSxDQUFBO0FBQzFDLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQTtBQUMxQixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUE7QUFDaEMsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7QUFDakQsSUFBSSxPQUFPLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBOztBQUVuQyxJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDM0IsU0FBTyxFQUFFO0FBQ1AsYUFBUyxFQUFFO0FBQ1QsbUJBQWEsRUFBRSx1QkFBQyxNQUFNLEVBQUUsS0FBSyxFQUFLO0FBQ2hDLFlBQUksU0FBUyxHQUFNLE1BQU0sb0JBQWlCLENBQUE7QUFDMUMsZUFBTyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsQ0FBQztpQkFBSyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7U0FBQSxDQUFDLENBQUE7T0FDekQ7S0FDRjtHQUNGOztBQUVELFFBQU0sRUFBQSxrQkFBRztBQUNQLFFBQUksYUFBYSxHQUFHLE1BQU0sSUFBSSxNQUFNLENBQUMsVUFBVSxHQUFHLEdB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Q0FBQyxDQUFDLEVBQUMsQUFBQyxFQUFDLFNBQVMsRUFBQyx5Q0FBeUM7WUFDckg7QUFBQyxzQkFBUTtnQkFBQyxNQUFNLEVBQUMsT0FBTztjQUFDLDZCQUFLLFNBQVMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxvQkFBb0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQUFBQyxHQUFPO2FBQVc7WUFDckc7OztjQUFLLElBQUk7YUFBTTtXQUNWLENBQUE7U0FDTixDQUNGO09BQ0c7TUFFTjs7VUFBSyxTQUFTLEVBQUMsVUFBVTtRQUN2Qjs7WUFBSSxTQUFTLEVBQUMsTUFBTTtVQUNqQixJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFBLElBQUksRUFBSTtBQUN0QixtQkFBTzs7Z0JBQUksR0FBRyxFQUFFLElBQUksQUFBQyxFQUFDLFNBQVMsRUFBQywwQkFBMEI7Y0FDeEQ7QUFBQyxvQkFBSTtrQkFBQyxFQUFFLEVBQUMsTUFBTSxFQUFDLE1BQU0sRUFBRSxFQUFDLElBQUksRUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUMsQUFBQztnQkFBRSxJQUFJO2VBQVE7YUFDeEQsQ0FBQTtXQUNOLENBQUM7U0FDQztPQUNIO0tBQ0YsQ0FBQTtHQUNMO0NBQ0YsQ0FBQyxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvaG9tZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHtMaW5rfSA9IFJvdXRlclxuXG52YXIgdG9TbHVnID0gcmVxdWlyZSgnc3BlYWtpbmd1cmwnKVxudmFyIExhenlMb2FkID0gcmVxdWlyZSgncmVhY3QtbGF6eS1sb2FkJylcblxudmFyIFNFQVJDSCA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJykuc2VhcmNoXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxudmFyIFNlYXJjaCA9IHJlcXVpcmUoJy4vc2VhcmNoJylcbnZhciBmaW5kRGVwYXJ0bWVudCA9IHJlcXVpcmUoJy4vZGVwYXJ0bWVudC1zbHVnJylcbnZhciBNYXBQYWdlID0gcmVxdWlyZSgnLi9tYXAtcGFnZScpXG5cbnZhciBIb21lID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBzdGF0aWNzOiB7XG4gICAgZmV0Y2hEYXRhOiB7XG4gICAgICBzZWFyY2hSZXN1bHRzOiAocGFyYW1zLCBxdWVyeSkgPT4ge1xuICAgICAgICBsZXQgc2VhcmNoVXJsID0gYCR7U0VBUkNIfS9oaWdobGlnaHQ6dHJ1ZWBcbiAgICAgICAgcmV0dXJuIHJlc3Qoc2VhcmNoVXJsKS50aGVuKChyKSA9PiBKU09OLnBhcnNlKHIuZW50aXR5KSlcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCBzbWFsbFZpZXdwb3J0ID0gd2luZG93ICYmIHdpbmRvdy5pbm5lcldpZHRoIDwgNjAwXG4gICAgbGV0IHF1aWx0UHJvcHMgPSBzbWFsbFZpZXdwb3J0ID9cbiAgICAgIHttYXhSb3dzOiAyLCBtYXhXb3JrczogN30gOlxuICAgICAge21heFJvd3M6IDMsIG1heFdvcmtzOiAzMH1cblxuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPFNlYXJjaFxuICAgICAgICBoaWRlUmVzdWx0cz17dHJ1ZX1cbiAgICAgICAgYWN0aXZhdGVJbnB1dD17dHJ1ZX1cbiAgICAgICAgcXVpbHRQcm9wcz17cXVpbHRQcm9wc31cbiAgICAgICAgZmFjZXQ9eydoaWdobGlnaHQ6dHJ1ZSd9XG4gICAgICAgIHNlYXJjaEFsbD17dHJ1ZX1cbiAgICAgICAgc3VnZ2VzdFN0eWxlPXt7bWFyZ2luOiBcIjFlbSAzZW1cIn19XG4gICAgICAgIGJ1bXBTZWFyY2hCb3g9e3NtYWxsVmlld3BvcnR9XG4gICAgICAgIHNodWZmbGVRdWlsdD17dHJ1ZX1cbiAgICAgICAgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICA8SG9tZURlcGFydG1lbnRzQW5kUGFnZXMgLz5cbiAgICAgIDxkaXYgaWQ9XCJtYXBcIj5cbiAgICAgICAgPE1hcFBhZ2UgaGlkZUxpc3Q9e3RydWV9PlxuICAgICAgICAgIDxMaW5rIHRvPVwibWFwXCIgc3R5bGU9e3t0ZXh0QWxpZ246ICdjZW50ZXInLCBmbG9hdDogJ3JpZ2h0JywgcGFkZGluZ1JpZ2h0OiAnMWVtJ319PlxuICAgICAgICAgICAgQWxsIGdhbGxlcmllc1xuICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgPC9NYXBQYWdlPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IEhvbWVcblxudmFyIEhvbWVEZXBhcnRtZW50c0FuZFBhZ2VzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBkZXBhcnRtZW50czogW1xuICAgIFwiQXJ0IG9mIEFmcmljYSBhbmQgdGhlIEFtZXJpY2FzXCIsXG4gICAgXCJDaGluZXNlLCBTb3V0aCBhbmQgU291dGhlYXN0IEFzaWFuIEFydFwiLFxuICAgIFwiQ29udGVtcG9yYXJ5IEFydFwiLFxuICAgIFwiRGVjb3JhdGl2ZSBBcnRzLCBUZXh0aWxlcyBhbmQgU2N1bHB0dXJlXCIsXG4gICAgXCJKYXBhbmVzZSBhbmQgS29yZWFuIEFydFwiLFxuICAgIFwiUGFpbnRpbmdzXCIsXG4gICAgXCJQaG90b2dyYXBoeSBhbmQgTmV3IE1lZGlhXCIsXG4gICAgXCJQcmludHMgYW5kIERyYXdpbmdzXCIsXG4gIF0sXG5cbiAgcGFnZXM6IFsnUHVyY2VsbC1DdXR0cyBIb3VzZScsICdQcm92ZW5hbmNlIFJlc2VhcmNoJywgJ0RlYWNjZXNzaW9ucycsICdDb25zZXJ2YXRpb24nXSxcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibGFuZGluZ1BhZ2VCb2R5XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1kbC1ncmlkXCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwiaW5mb1wiPlxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwibWRsLWNlbGwgbWRsLWNlbGwtLTQtY29sXCI+XG4gICAgICAgICAgPExpbmsgdG89J3NlYXJjaFJlc3VsdHMnIHBhcmFtcz17e3Rlcm1zOiAnaGlnaGxpZ2h0OnRydWUnfX0+XG4gICAgICAgICAgICBIaWdobGlnaHRzXG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICA8L2xpPlxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwibWRsLWNlbGwgbWRsLWNlbGwtLTQtY29sXCI+XG4gICAgICAgICAgPExpbmsgdG89XCJzZWFyY2hSZXN1bHRzXCIgcGFyYW1zPXt7dGVybXM6ICdyZWNlbnQ6dHJ1ZSd9fT5cbiAgICAgICAgICAgIE5ldyB0byBNaWFcbiAgICAgICAgICA8L0xpbms+XG4gICAgICAgIDwvbGk+XG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJtZGwtY2VsbCBtZGwtY2VsbC0tNC1jb2xcIj5cbiAgICAgICAgICA8TGluayB0bz0nZXhwbG9yZSc+XG4gICAgICAgICAgICBFeHBsb3JlXG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICA8L2xpPlxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIndlbGNvbWUgbWRsLWdyaWRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWRsLWNlbGwgbWRsLWNlbGwtLTktY29sXCI+XG4gICAgICAgIDxwPkl0IGlzIG91ciBtaXNzaW9uIHRvIGVucmljaCB0aGUgY29tbXVuaXR5IGJ5IGNvbGxlY3RpbmcsIHByZXNlcnZpbmcsIGFuZCBtYWtpbmcgYWNjZXNzaWJsZSBvdXRzdGFuZGluZyB3b3JrcyBvZiBhcnQgZnJvbSB0aGUgd29ybGTigJlzIGRpdmVyc2UgY3VsdHVyZXMuIFdpdGggb3ZlciA4OSwwMDAgYXJ0d29ya3MsIE1pYeKAmXMgY29sbGVjdGlvbiBpbmNsdWRlcyBhcnQgZnJvbSBzaXggY29udGluZW50cywgc3Bhbm5pbmcgYWJvdXQgMjAsMDAwIHllYXJzLiAgSGVyZSB5b3Ugd2lsbCBmaW5kIHdvcmxkLWZhbW91cyBhcnR3b3JrcyB0aGF0IGVtYm9keSB0aGUgaGlnaGVzdCBsZXZlbHMgb2YgYXJ0aXN0aWMgYWNoaWV2ZW1lbnQgYW5kIHNwZWFrIHRvIHRoZSBlbmR1cmluZyBwb3dlciBvZiBodW1hbiBjcmVhdGl2aXR5IHRvIHNoYXBlIG91ciB3b3JsZC4gPC9wPlxuICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGVwYXJ0bWVudExpc3QgbWRsLWdyaWRcIj5cbiAgICAgIDxoMj5EZXBhcnRtZW50czwvaDI+XG4gICAgICAgIHt0aGlzLmRlcGFydG1lbnRzLm1hcCgoZGVwdCkgPT4ge1xuICAgICAgICAgIHZhciBuYW1lID0gaW5kZXggPT4gZmluZERlcGFydG1lbnQoZGVwdClbaW5kZXhdXG4gICAgICAgICAgcmV0dXJuIDxMaW5rIHRvPSdkZXBhcnRtZW50JyBrZXk9e25hbWUoMSl9IHBhcmFtcz17e2RlcHQ6IG5hbWUoMil9fSBjbGFzc05hbWU9XCJkZXBhcnRtZW50TGluayBtZGwtY2VsbCBtZGwtY2VsbC0tMy1jb2xcIj5cbiAgICAgICAgICAgIDxMYXp5TG9hZCBoZWlnaHQ9XCIxNTBweFwiPjxkaXYgY2xhc3NOYW1lPXtbbmFtZSgxKSwgXCJkZXBhcnRtZW50TGlzdEl0ZW1cIl0uam9pbignICcpfT48L2Rpdj48L0xhenlMb2FkPlxuICAgICAgICAgICAgPGgyPntkZXB0fTwvaDI+XG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgIH1cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1kbC1ncmlkXCI+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJpbmZvXCI+XG4gICAgICAgICAge3RoaXMucGFnZXMubWFwKG5hbWUgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIDxsaSBrZXk9e25hbWV9IGNsYXNzTmFtZT1cIm1kbC1jZWxsIG1kbC1jZWxsLS0zLWNvbFwiPlxuICAgICAgICAgICAgICA8TGluayB0bz1cInBhZ2VcIiBwYXJhbXM9e3tuYW1lOiB0b1NsdWcobmFtZSl9fT57bmFtZX08L0xpbms+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgIH0pfVxuICAgICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgfSxcbn0pXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/home.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/home.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\n\nvar toSlug = require('speakingurl')\nvar LazyLoad = require('react-lazy-load')\n\nvar SEARCH = require('./endpoints').search\nvar rest = require('rest')\nvar Search = require('./search')\nvar findDepartment = require('./department-slug')\nvar MapPage = require('./map-page')\n\nvar Home = React.createClass({\n  statics: {\n    fetchData: {\n      searchResults: (params, query) => {\n        let searchUrl = `${SEARCH}/highlight:true`\n        return rest(searchUrl).then((r) => JSON.parse(r.entity))\n      }\n    }\n  },\n\n  render() {\n    let smallViewport = window && window.innerWidth < 600\n    let quiltProps = smallViewport ?\n      {maxRows: 2, maxWorks: 7} :\n      {maxRows: 3, maxWorks: 30}\n\n    return <div>\n      <Search\n        hideResults={true}\n        activateInput={true}\n        quiltProps={quiltProps}\n        facet={'highlight:true'}\n        searchAll={true}\n        suggestStyle={{margin: \"1em 3em\"}}\n        bumpSearchBox={smallViewport}\n        shuffleQuilt={true}\n        {...this.props} />\n      <HomeDepartmentsAndPages />\n      <div id=\"map\">\n        <MapPage hideList={true}>\n          <Link to=\"map\" style={{textAlign: 'center', float: 'right', paddingRight: '1em'}}>\n            All galleries\n          </Link>\n        </MapPage>\n      </div>\n    </div>\n  },\n})\n\nmodule.exports = Home\n\nvar HomeDepartmentsAndPages = React.createClass({\n  departments: [\n    \"Art of Africa and the Americas\",\n    \"Chinese, South and Southeast Asian Art\",\n    \"Contemporary Art\",\n    \"Decorative Arts, Textiles and Sculpture\",\n    \"Japanese and Korean Art\",\n    \"Paintings\",\n    \"Photography and New Media\",\n    \"Prints and Drawings\",\n  ],\n\n  pages: ['Purcell-Cutts House', 'Provenance Research', 'Deaccessions', 'Conservation'],\n\n  render() {\n    return <div className=\"landingPageBody\">\n      <div className=\"mdl-grid\">\n      <ul className=\"info\">\n        <li className=\"mdl-cell mdl-cell--4-col\">\n          <Link to='searchResults' params={{terms: 'highlight:true'}}>\n            Highlights\n          </Link>\n        </li>\n        <li className=\"mdl-cell mdl-cell--4-col\">\n          <Link to=\"searchResults\" params={{terms: 'recent:true'}}>\n            New to Mia\n          </Link>\n        </li>\n        <li className=\"mdl-cell mdl-cell--4-col\">\n          <Link to='explore'>\n            Explore\n          </Link>\n        </li>\n        </ul>\n      </div>\n      <div className=\"welcome mdl-grid\">\n      <div className=\"mdl-cell mdl-cell--9-col\">\n        <p>It is our mission to enrich the community by collecting, preserving, and making accessible outstanding works of art from the world’s diverse cultures. With over 89,000 artworks, Mia’s collection includes art from six continents, spanning about 20,000 years.  Here you will find world-famous artworks that embody the highest levels of artistic achievement and speak to the enduring power of human creativity to shape our world. </p>\n      </div>\n      </div>\n      <div className=\"departmentList mdl-grid\">\n      <h2>Departments</h2>\n        {this.departments.map((dept) => {\n          var name = index => findDepartment(dept)[index]\n          return <Link to='department' key={name(1)} params={{dept: name(2)}} className=\"departmentLink mdl-cell mdl-cell--3-col\">\n            <LazyLoad height=\"150px\"><div className={[name(1), \"departmentListItem\"].join(' ')}></div></LazyLoad>\n            <h2>{dept}</h2>\n          </Link>\n          }\n        )}\n      </div>\n\n      <div className=\"mdl-grid\">\n        <ul className=\"info\">\n          {this.pages.map(name => {\n            return <li key={name} className=\"mdl-cell mdl-cell--3-col\">\n              <Link to=\"page\" params={{name: toSlug(name)}}>{name}</Link>\n            </li>\n          })}\n        </ul>\n    </div>\n  </div>\n  },\n})\n"
      ]
    },
    "mtime": 1487953287530
  },
  "{\"filename\":\"/var/www/art/src/map-page.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar debounce = require('debounce');\n\nvar galleries = require('../data/galleries.json').galleries;\nvar Map = require('./map');\nvar Peek = require('./peek');\n\nvar MapPage = React.createClass({\n  displayName: 'MapPage',\n\n  render: function render() {\n    var gallery = this.state && this.state.hoveredGallery;\n    var galleryInfo = galleries[gallery];\n\n    var minHeight = this.props.hideList ? '15rem' : '1rem';\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'div',\n        { style: { backgroundColor: 'rgba(35, 35, 35, 0.8)', paddingBottom: '3em', width: '100%', overflow: 'scroll' } },\n        React.createElement(Map, {\n          startOpen: true,\n          floor: 3,\n          style: { maxWidth: '60em', margin: '0 auto' },\n          onHover: this.handleGalleryHover,\n          onMouseLeave: this.focusLost\n        }),\n        this.props.children && this.props.children\n      ),\n      React.createElement(\n        'div',\n        { style: { minHeight: minHeight } },\n        gallery && React.createElement(\n          'div',\n          null,\n          React.createElement(\n            'h3',\n            { style: { textAlign: 'center' } },\n            galleryInfo.id,\n            ' — ',\n            galleryInfo.title\n          ),\n          React.createElement(Peek, {\n            key: 'preview-' + gallery, q: 'room:G' + gallery,\n            showSingleResult: true\n          })\n        )\n      ),\n      this.props.hideList || this.listGalleries()\n    );\n  },\n\n  listGalleries: function listGalleries() {\n    var skipGalleries = [111, 112, 113, 114, 267, 268, 269, 270, 271, 272, 273, 274];\n    var gs = Object.keys(galleries).filter(function (g) {\n      return skipGalleries.indexOf(parseInt(g)) < 0;\n    }).map(function (number) {\n      return galleries[number];\n    });\n\n    return React.createElement(\n      'ul',\n      { id: 'map-and-gallery-list', style: { margin: '1em' } },\n      gs.map(function (g) {\n        return React.createElement(GalleryPeek, { key: g.id, g: g, style: { minHeight: '78px' } });\n      })\n    );\n  },\n\n  // Wait a second before 'Peek'ing the hovered gallery\n  handleGalleryHover: function handleGalleryHover(gallery) {\n    clearTimeout(this.debouncedPeek);\n    this.debouncedPeek = setTimeout(this.showGalleryPeek.bind(this, gallery), this.state && this.state.hoveredGallery ? 700 : 0);\n  },\n\n  showGalleryPeek: function showGalleryPeek(gallery) {\n    this.setState({ hoveredGallery: gallery });\n  },\n\n  componentWillUnmount: function componentWillUnmount() {\n    clearTimeout(this.debouncedPeek);\n  },\n\n  focusLost: function focusLost() {\n    clearTimeout(this.debouncedPeek);\n  }\n});\n\nvar LazyLoad = require('react-lazy-load');\n\nvar GalleryPeek = React.createClass({\n  displayName: 'GalleryPeek',\n\n  render: function render() {\n    var g = this.props.g;\n    var universal = this.context.universal;\n\n    var link = { to: \"gallery\", params: { gallery: g.id } };\n    var peek = React.createElement(\n      'li',\n      { style: { marginTop: !universal ? '1em' : 0 } },\n      React.createElement(\n        Peek,\n        { q: 'room:G' + g.id, linkProps: link, showIcon: false, showSingleResult: true },\n        React.createElement(\n          'span',\n          null,\n          g.id,\n          ' — ',\n          g.title\n        )\n      )\n    );\n\n    return universal ? peek : React.createElement(\n      'div',\n      { style: this.props.style },\n      React.createElement(\n        LazyLoad,\n        null,\n        peek\n      )\n    );\n  }\n});\nGalleryPeek.contextTypes = {\n  universal: React.PropTypes.bool\n};\n\nmodule.exports = MapPage;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvbWFwLXBhZ2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0lBQy9CLElBQUksR0FBSSxNQUFNLENBQWQsSUFBSTs7QUFDVCxJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUE7O0FBRWxDLElBQUksU0FBUyxHQUFHLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLFNBQVMsQ0FBQTtBQUMzRCxJQUFJLEdBQUcsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDMUIsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFBOztBQUU1QixJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDOUIsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsUUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQTtBQUNyRCxRQUFJLFdBQVcsR0FBRyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUE7O0FBRXBDLFFBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLE9BQU8sR0FBRyxNQUFNLENBQUE7O0FBRXRELFdBQU87OztNQUNMOztVQUFLLEtBQUssRUFBRSxFQUFDLGVBQWUsRUFBRSx1QkFBdUIsRUFBRSxhQUFhLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBQyxBQUFDO1FBQzlHLG9CQUFDLEdBQUc7QUFDRixtQkFBUyxFQUFFLElBQUksQUFBQztBQUNoQixlQUFLLEVBQUUsQ0FBQyxBQUFDO0FBQ1QsZUFBSyxFQUFFLEVBQUMsUUFBUSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUs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SUFBSSxDQUFDLEtBQUssQ0FBZixDQUFDO1FBQ0QsU0FBUyxHQUFJLElBQUksQ0FBQyxPQUFPLENBQXpCLFNBQVM7O0FBQ2QsUUFBSSxJQUFJLEdBQUcsRUFBQyxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxFQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFDLEVBQUMsQ0FBQTtBQUNuRCxRQUFJLElBQUksR0FBRzs7UUFBSSxLQUFLLEVBQUUsRUFBQyxTQUFTLEVBQUUsQ0FBQyxTQUFTLEdBQUcsS0FBSyxHQUFHLENBQUMsRUFBQyxBQUFDO01BQ3hEO0FBQUMsWUFBSTtVQUFDLENBQUMsYUFBVyxDQUFDLENBQUMsRUFBRSxBQUFHLEVBQUMsU0FBUyxFQUFFLElBQUksQUFBQyxFQUFDLFFBQVEsRUFBRSxLQUFLLEFBQUMsRUFBQyxnQkFBZ0IsRUFBRSxJQUFJLEFBQUM7UUFDakY7OztVQUFPLENBQUMsQ0FBQyxFQUFFOztVQUFLLENBQUMsQ0FBQyxLQUFLO1NBQVE7T0FDMUI7S0FDSixDQUFBOztBQUVMLFdBQU8sU0FBUyxHQUNkLElBQUksR0FDSjs7UUFBSyxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEFBQUM7TUFDM0I7QUFBQyxnQkFBUTs7UUFBRSxJQUFJO09BQVk7S0FDdkIsQ0FBQTtHQUNUO0NBQ0YsQ0FBQyxDQUFBO0FBQ0YsV0FBVyxDQUFDLFlBQVksR0FBRztBQUN6QixXQUFTLEVBQUUsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJO0NBQ2hDLENBQUE7O0FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9tYXAtcGFnZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHtMaW5rfSA9IFJvdXRlclxudmFyIGRlYm91bmNlID0gcmVxdWlyZSgnZGVib3VuY2UnKVxuXG52YXIgZ2FsbGVyaWVzID0gcmVxdWlyZSgnLi4vZGF0YS9nYWxsZXJpZXMuanNvbicpLmdhbGxlcmllc1xudmFyIE1hcCA9IHJlcXVpcmUoJy4vbWFwJylcbnZhciBQZWVrID0gcmVxdWlyZSgnLi9wZWVrJylcblxudmFyIE1hcFBhZ2UgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIgZ2FsbGVyeSA9IHRoaXMuc3RhdGUgJiYgdGhpcy5zdGF0ZS5ob3ZlcmVkR2FsbGVyeVxuICAgIHZhciBnYWxsZXJ5SW5mbyA9IGdhbGxlcmllc1tnYWxsZXJ5XVxuXG4gICAgdmFyIG1pbkhlaWdodCA9IHRoaXMucHJvcHMuaGlkZUxpc3QgPyAnMTVyZW0nIDogJzFyZW0nXG5cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIDxkaXYgc3R5bGU9e3tiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDM1LCAzNSwgMzUsIDAuOCknLCBwYWRkaW5nQm90dG9tOiAnM2VtJywgd2lkdGg6ICcxMDAlJywgb3ZlcmZsb3c6ICdzY3JvbGwnfX0+XG4gICAgICAgIDxNYXBcbiAgICAgICAgICBzdGFydE9wZW49e3RydWV9XG4gICAgICAgICAgZmxvb3I9ezN9XG4gICAgICAgICAgc3R5bGU9e3ttYXhXaWR0aDogJzYwZW0nLCBtYXJnaW46ICcwIGF1dG8nfX1cbiAgICAgICAgICBvbkhvdmVyPXt0aGlzLmhhbmRsZUdhbGxlcnlIb3Zlcn1cbiAgICAgICAgICBvbk1vdXNlTGVhdmU9e3RoaXMuZm9jdXNMb3N0fVxuICAgICAgICAvPlxuXG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVuICYmIHRoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBzdHlsZT17e21pbkhlaWdodH19PlxuICAgICAgICB7Z2FsbGVyeSAmJiA8ZGl2PlxuICAgICAgICAgIDxoMyBzdHlsZT17e3RleHRBbGlnbjogJ2NlbnRlcid9fT57Z2FsbGVyeUluZm8uaWR9IOKAlCB7Z2FsbGVyeUluZm8udGl0bGV9PC9oMz5cbiAgICAgICAgICA8UGVla1xuICAgICAgICAgICAga2V5PXtgcHJldmlldy0ke2dhbGxlcnl9YH0gcT17YHJvb206RyR7Z2FsbGVyeX1gfVxuICAgICAgICAgICAgc2hvd1NpbmdsZVJlc3VsdD17dHJ1ZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2Pn1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7dGhpcy5wcm9wcy5oaWRlTGlzdCB8fCB0aGlzLmxpc3RHYWxsZXJpZXMoKX1cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBsaXN0R2FsbGVyaWVzKCkge1xuICAgIHZhciBza2lwR2FsbGVyaWVzID0gWzExMSwgMTEyLCAxMTMsIDExNCwgMjY3LCAyNjgsIDI2OSwgMjcwLCAyNzEsIDI3MiwgMjczLCAyNzRdXG4gICAgdmFyIGdzID0gT2JqZWN0LmtleXMoZ2FsbGVyaWVzKVxuICAgIC5maWx0ZXIoZyA9PiBza2lwR2FsbGVyaWVzLmluZGV4T2YocGFyc2VJbnQoZykpIDwgMClcbiAgICAubWFwKG51bWJlciA9PiBnYWxsZXJpZXNbbnVtYmVyXSlcblxuICAgIHJldHVybiA8dWwgaWQ9XCJtYXAtYW5kLWdhbGxlcnktbGlzdFwiIHN0eWxlPXt7bWFyZ2luOiAnMWVtJ319PlxuICAgICAge2dzLm1hcChnID0+IDxHYWxsZXJ5UGVlayBrZXk9e2cuaWR9IGc9e2d9IHN0eWxlPXt7bWluSGVpZ2h0OiAnNzhweCd9fSAvPil9XG4gICAgPC91bD5cbiAgfSxcblxuICAvLyBXYWl0IGEgc2Vjb25kIGJlZm9yZSAnUGVlaydpbmcgdGhlIGhvdmVyZWQgZ2FsbGVyeVxuICBoYW5kbGVHYWxsZXJ5SG92ZXIoZ2FsbGVyeSkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmRlYm91bmNlZFBlZWspXG4gICAgdGhpcy5kZWJvdW5jZWRQZWVrID0gc2V0VGltZW91dChcbiAgICAgIHRoaXMuc2hvd0dhbGxlcnlQZWVrLmJpbmQodGhpcywgZ2FsbGVyeSksXG4gICAgICB0aGlzLnN0YXRlICYmIHRoaXMuc3RhdGUuaG92ZXJlZEdhbGxlcnkgPyA3MDAgOiAwXG4gICAgKVxuICB9LFxuXG4gIHNob3dHYWxsZXJ5UGVlayhnYWxsZXJ5KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7aG92ZXJlZEdhbGxlcnk6IGdhbGxlcnl9KVxuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmRlYm91bmNlZFBlZWspXG4gIH0sXG5cbiAgZm9jdXNMb3N0KCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmRlYm91bmNlZFBlZWspXG4gIH1cbn0pXG5cbnZhciBMYXp5TG9hZCA9IHJlcXVpcmUoJ3JlYWN0LWxhenktbG9hZCcpXG5cbnZhciBHYWxsZXJ5UGVlayA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7Z30gPSB0aGlzLnByb3BzXG4gICAgdmFyIHt1bml2ZXJzYWx9ID0gdGhpcy5jb250ZXh0XG4gICAgdmFyIGxpbmsgPSB7dG86IFwiZ2FsbGVyeVwiLCBwYXJhbXM6IHtnYWxsZXJ5OiBnLmlkfX1cbiAgICB2YXIgcGVlayA9IDxsaSBzdHlsZT17e21hcmdpblRvcDogIXVuaXZlcnNhbCA/ICcxZW0nIDogMH19PlxuICAgICAgPFBlZWsgcT17YHJvb206RyR7Zy5pZH1gfSBsaW5rUHJvcHM9e2xpbmt9IHNob3dJY29uPXtmYWxzZX0gc2hvd1NpbmdsZVJlc3VsdD17dHJ1ZX0+XG4gICAgICAgIDxzcGFuPntnLmlkfSDigJTCoHtnLnRpdGxlfTwvc3Bhbj5cbiAgICAgIDwvUGVlaz5cbiAgICA8L2xpPlxuXG4gICAgcmV0dXJuIHVuaXZlcnNhbCA/XG4gICAgICBwZWVrIDpcbiAgICAgIDxkaXYgc3R5bGU9e3RoaXMucHJvcHMuc3R5bGV9PlxuICAgICAgICA8TGF6eUxvYWQ+e3BlZWt9PC9MYXp5TG9hZD5cbiAgICAgIDwvZGl2PlxuICB9LFxufSlcbkdhbGxlcnlQZWVrLmNvbnRleHRUeXBlcyA9IHtcbiAgdW5pdmVyc2FsOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE1hcFBhZ2VcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/map-page.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/map-page.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\nvar debounce = require('debounce')\n\nvar galleries = require('../data/galleries.json').galleries\nvar Map = require('./map')\nvar Peek = require('./peek')\n\nvar MapPage = React.createClass({\n  render() {\n    var gallery = this.state && this.state.hoveredGallery\n    var galleryInfo = galleries[gallery]\n\n    var minHeight = this.props.hideList ? '15rem' : '1rem'\n\n    return <div>\n      <div style={{backgroundColor: 'rgba(35, 35, 35, 0.8)', paddingBottom: '3em', width: '100%', overflow: 'scroll'}}>\n        <Map\n          startOpen={true}\n          floor={3}\n          style={{maxWidth: '60em', margin: '0 auto'}}\n          onHover={this.handleGalleryHover}\n          onMouseLeave={this.focusLost}\n        />\n\n        {this.props.children && this.props.children}\n      </div>\n\n      <div style={{minHeight}}>\n        {gallery && <div>\n          <h3 style={{textAlign: 'center'}}>{galleryInfo.id} — {galleryInfo.title}</h3>\n          <Peek\n            key={`preview-${gallery}`} q={`room:G${gallery}`}\n            showSingleResult={true}\n            />\n        </div>}\n      </div>\n\n      {this.props.hideList || this.listGalleries()}\n    </div>\n  },\n\n  listGalleries() {\n    var skipGalleries = [111, 112, 113, 114, 267, 268, 269, 270, 271, 272, 273, 274]\n    var gs = Object.keys(galleries)\n    .filter(g => skipGalleries.indexOf(parseInt(g)) < 0)\n    .map(number => galleries[number])\n\n    return <ul id=\"map-and-gallery-list\" style={{margin: '1em'}}>\n      {gs.map(g => <GalleryPeek key={g.id} g={g} style={{minHeight: '78px'}} />)}\n    </ul>\n  },\n\n  // Wait a second before 'Peek'ing the hovered gallery\n  handleGalleryHover(gallery) {\n    clearTimeout(this.debouncedPeek)\n    this.debouncedPeek = setTimeout(\n      this.showGalleryPeek.bind(this, gallery),\n      this.state && this.state.hoveredGallery ? 700 : 0\n    )\n  },\n\n  showGalleryPeek(gallery) {\n    this.setState({hoveredGallery: gallery})\n  },\n\n  componentWillUnmount() {\n    clearTimeout(this.debouncedPeek)\n  },\n\n  focusLost() {\n    clearTimeout(this.debouncedPeek)\n  }\n})\n\nvar LazyLoad = require('react-lazy-load')\n\nvar GalleryPeek = React.createClass({\n  render() {\n    var {g} = this.props\n    var {universal} = this.context\n    var link = {to: \"gallery\", params: {gallery: g.id}}\n    var peek = <li style={{marginTop: !universal ? '1em' : 0}}>\n      <Peek q={`room:G${g.id}`} linkProps={link} showIcon={false} showSingleResult={true}>\n        <span>{g.id} — {g.title}</span>\n      </Peek>\n    </li>\n\n    return universal ?\n      peek :\n      <div style={this.props.style}>\n        <LazyLoad>{peek}</LazyLoad>\n      </div>\n  },\n})\nGalleryPeek.contextTypes = {\n  universal: React.PropTypes.bool\n}\n\nmodule.exports = MapPage\n"
      ]
    },
    "mtime": 1487953287530
  },
  "{\"filename\":\"/var/www/art/src/artwork.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar rest = require('rest');\nvar humanizeNumber = require('humanize-number');\nvar Helmet = require('react-helmet');\nvar cx = require('classnames');\n\nvar ArtworkImage = require('./artwork-image');\nvar Markdown = require('./markdown');\nvar ArtworkPreview = require('./artwork-preview');\nvar ArtworkDetails = require('./artwork-details');\nvar _Artwork = require('./_artwork');\nvar Image = require('./image');\nvar imageCDN = require('./image-cdn');\nvar SEARCH = require('./endpoints').search;\nvar ArtworkRelatedContent = require('./artwork-related');\n\nvar Sticky = require('react-sticky');\n\nvar Artwork = React.createClass({\n  displayName: 'Artwork',\n\n  mixins: [Router.State],\n  statics: {\n    fetchData: {\n      artwork: function artwork(params, existingData) {\n        if (existingData && existingData.id && existingData.id == params.id) return Promise.resolve(existingData);\n        return rest(SEARCH + '/id/' + params.id).then(function (r) {\n          return JSON.parse(r.entity);\n        }).then(function (art) {\n          art.slug = _Artwork.slug(art);\n          return art;\n        });\n      }\n    },\n\n    willTransitionTo: function willTransitionTo(transition, params, query, callback) {\n      var existingArt = window.__DATA__ && window.__DATA__.artwork;\n      Artwork.fetchData.artwork(params, existingArt).then(function (art) {\n        window.__DATA__ = { artwork: art };\n        if (art.slug !== params.slug) {\n          params.slug = art.slug;\n          transition.redirect('artworkSlug', params);\n        }\n      }).then(callback);\n    }\n  },\n\n  render: function render() {\n    var art = this.state.art;\n    var id = this.props.id || this.state.id;\n    var highlights = this.props.highlights;\n    var stickyMapStyle = this.context.universal ? { position: 'fixed' } : {};\n    var smallViewport = window && window.innerWidth <= 500;\n\n    var pageTitle = [art.title.replace(/<[^ ]+?>/g, '\"'), _Artwork.Creator.getFacetAndValue(art)[1]].filter(function (e) {\n      return e;\n    }).join(', ');\n    var imageUrl = imageCDN(id);\n    var canonicalURL = 'https://collections.artsmia.org/art/' + art.id + '/' + art.slug;\n\n    var image = React.createElement(Image, { art: art,\n      style: { width: 400, height: 400, maxWidth: '100%' },\n      ignoreStyle: true });\n\n    var aspectRatio = art.image_width / art.image_height;\n    var mapHeight = art.image == \"valid\" ? Math.max(40, Math.min(65, 1 / aspectRatio * 80)) : 20;\n    if (smallViewport && this.state.show3d) mapHeight = 67;\n\n    var showMoreIcon = Object.keys(art).filter(function (key) {\n      return key.match(/related:/) && !key.match(/related:exhibitions/);\n    }).length > 0 && !this.state.fullscreenImage;\n    var exploreIcon = showMoreIcon && React.createElement(\n      'a',\n      { href: '#explore', style: { position: 'absolute', zIndex: '10000', right: '7px', bottom: '0px' } },\n      React.createElement('img', { src: '/images/more-icon.svg', style: { width: '3em' } })\n    );\n\n    var mapStyle = smallViewport ? { width: '100%', display: 'inline-block', height: mapHeight + 'vh' } : stickyMapStyle;\n\n    var zoomLoaded = this.state.zoomLoaded;\n\n    var zoomLoadedSuccessfully = zoomLoaded && zoomLoaded !== 'error';\n\n    var map = React.createElement(\n      'div',\n      { ref: 'map', id: 'map', style: mapStyle },\n      this.state.has3d && React.createElement(SketchfabEmbed, { model: this.state.has3d, show: this.state.show3d }),\n      zoomLoadedSuccessfully || art.image == 'valid' && art.rights !== 'Permission Denied' && React.createElement(\n        'div',\n        { style: { position: 'absolute', top: '50%', left: '50%', transform: 'translate(-50%, -50%)', WebkitTransform: 'translate(-50%, -50%)', width: '100%', textAlign: 'center' } },\n        image,\n        art.image_copyright && React.createElement(\n          'p',\n          { style: { fontSize: '0.8em' } },\n          decodeURIComponent(art.image_copyright)\n        )\n      ) || React.createElement(NoImagePlaceholder, { art: art }),\n      this.imageStatus(),\n      smallViewport && exploreIcon\n    );\n\n    var info = React.createElement(\n      'div',\n      { className: 'info' },\n      React.createElement(ArtworkPreview, { art: art, showLink: false, showDuplicateDetails: true }),\n      this.state.has3d && React.createElement(\n        'div',\n        { className: 'images' },\n        React.createElement(\n          'p',\n          { onClick: this.toggle3d },\n          this.state.show3d ? 'show zoomable image' : 'show 3D model'\n        )\n      ),\n      React.createElement(\n        'div',\n        { className: 'back-button' },\n        React.createElement(\n          'a',\n          { href: '#', onClick: function () {\n              return history.go(-1);\n            } },\n          React.createElement(\n            'i',\n            { className: 'material-icons' },\n            'arrow_back'\n          ),\n          ' back'\n        )\n      ),\n      React.createElement(ArtworkRelatedContent, { id: id, art: art }),\n      React.createElement(\n        'div',\n        null,\n        React.createElement(\n          'h5',\n          { className: 'details-title' },\n          'Details'\n        ),\n        React.createElement(ArtworkDetails, { art: art, show3d: this.state.show3d })\n      )\n    );\n\n    var content;\n    if (smallViewport) {\n      content = React.createElement(\n        'div',\n        null,\n        map,\n        info\n      );\n    } else {\n      content = React.createElement(\n        'div',\n        null,\n        info,\n        React.createElement(\n          Sticky,\n          {\n            stickyStyle: { position: 'fixed', height: '100%', width: '65%', top: 0, transform: 'translate3d(0px,0px,0px)' },\n            onStickyStateChange: this.resizeMap },\n          map\n        )\n      );\n    }\n\n    return React.createElement(\n      'div',\n      { className: cx('artwork', { smallviewport: smallViewport }) },\n      content,\n      React.createElement(Helmet, {\n        title: pageTitle,\n        meta: [{ property: \"og:title\", content: pageTitle + ' | Minneapolis Institute of Art' }, { property: \"og:description\", content: art.text }, { property: \"og:image\", content: imageUrl }, { property: \"twitter:card\", content: \"summary_large_image\" }, { property: \"twitter:site\", content: \"@artsmia\" }, { property: \"robots\", content: this.noIndex() ? 'follow,noindex' : 'all' }]\n      })\n    );\n  },\n\n  toggle3d: function toggle3d() {\n    var nextShow3d = !this.state.show3d;\n    this.setState({ show3d: nextShow3d });\n    if (!nextShow3d) {\n      if (!this.state.zoomLoaded) this.loadZoom();\n    }\n    if (nextShow3d && this.state.zoomLoaded) {}\n  },\n\n  getInitialState: function getInitialState() {\n    var art = this.props.data.artwork;\n    art.id = this.props.id || art.id.replace('http://api.artsmia.org/objects/', '');\n\n    var has3Dmodel = art[\"related:3dmodels\"] && art[\"related:3dmodels\"][0];\n    return {\n      art: art,\n      id: art.id,\n      fullscreenImage: false,\n      has3d: has3Dmodel,\n      show3d: has3Dmodel\n    };\n  },\n\n  componentDidMount: function componentDidMount() {\n    var art = this.state.art;\n    if (art.image === 'valid' && art.restricted != 1 && !this.isLoan() && !this.state.show3d) this.loadZoom();\n    var smallViewport = window && window.innerWidth <= 500;\n    // push the viewport down past the header to maximize image/text on the page\n    // scrolling back up reveals the menu\n    // TODO: is there a way to automatically trigger safari's minimal chrome other than a user-initiated scroll event? (probably not https://stackoverflow.com/a/26884561)\n    if (smallViewport && window.scrollX == 0) setTimeout(function () {\n      return window.scrollTo(0, 56);\n    }, 0);\n  },\n\n  loadZoom: function loadZoom() {\n    var _this = this;\n\n    var L = require('museum-tile-layer');\n    var fullscreen = require('leaflet-fullscreen');\n\n    var art = this.state.art;\n    this.setState({ zoomLoaded: false, zoomLoading: true });\n\n    rest('//tiles.dx.artsmia.org/' + this.state.id + '.json').then(function (response) {\n      return JSON.parse(response.entity);\n    }, function (rejected) {\n      // TODO: log this somewhere\n      _this.setState({ zoomLoaded: 'error' });\n      return Promise.reject(new Error('can\\'t load tiles for ' + art.id));\n    }).then(function (data) {\n      _this.map = L.map(_this.refs.map.getDOMNode(), {\n        crs: L.CRS.Simple,\n        zoomControl: false\n      });\n      _this.map.attributionControl.setPrefix('');\n      _this.map.setView([art.image_width / 2, art.image_height / 2], 0);\n      if (!L.Browser.touch) new L.Control.Zoom({ position: 'topright' }).addTo(_this.map);\n      new L.Control.Fullscreen({\n        position: 'topright',\n        pseudoFullscreen: true\n      }).addTo(_this.map);\n\n      _this.tiles = L.museumTileLayer('https://{s}.tiles.dx.artsmia.org/{id}/{z}/{x}/{y}.png', {\n        attribution: art.image_copyright ? decodeURIComponent(art.image_copyright) : '',\n        id: _this.state.id,\n        width: data.width,\n        height: data.height,\n        tileSize: data.tileSize || 256\n      });\n      _this.tiles.addTo(_this.map);\n\n      // this.tiles.fillContainer()\n      _this.setState({ zoomLoading: false, zoomLoaded: true });\n      _this.map.on('fullscreenchange', function () {\n        _this.setState({ fullscreenImage: !_this.state.fullscreenImage });\n        _this.props.toggleAppHeader();\n      });\n      var zoomCount, zoomInCount, zoomOutCount, prevZoom, nowZoom;\n      var zoomCount = zoomInCount = zoomOutCount = 0;\n      var prevZoom = nowZoom = _this.map.getZoom();\n      var recentlyAutoZoomed = false;\n\n      _this.map.on('zoomstart zoomend', function (event) {\n        var _ref = [nowZoom, _this.map.getZoom()];\n        prevZoom = _ref[0];\n        nowZoom = _ref[1];\n\n        zoomCount += 1;\n        nowZoom > prevZoom ? zoomInCount += 1 : zoomOutCount += 1;\n\n        var smallViewport = window && window.innerWidth <= 500;\n        var isSecondZoomInAction = zoomInCount == 2;\n        if (smallViewport && !recentlyAutoZoomed) {\n          // fullscreen the image when a user zooms twice in a row\n          // leave fullscreen when they return to minZoom\n          // mobile-only for now\n          var reasonsToChangeFullscreen = [event.type == 'zoomstart' && zoomInCount == 2 && !_this.map.isFullscreen(), // zooming in when not fullscreen\n          event.type == 'zoomend' && nowZoom >= 3 && !_this.map.isFullscreen(), // not fullscreen and zoomed in quite far\n          event.type == 'zoomend' && _this.map.getZoom() == _this.map.getMinZoom() && _this.map.isFullscreen()];\n          // in fullscreen, zooming out to minZoom\n          if (reasonsToChangeFullscreen.find(function (reason) {\n            return reason;\n          })) {\n            // if any of the valid reasons evaluate to true\n            _this.map.toggleFullscreen({ pseudoFullscreen: true });\n            recentlyAutoZoomed = true;\n            clearTimeout(_this.zoomCountResetTimer);\n            _this.zoomCountResetTimer = setTimeout(function () {\n              zoomCount = zoomInCount = zoomOutCount = 0;recentlyAutoZoomed = false;\n            }, 1000);\n          }\n        }\n      });\n    })['catch'](function (err) {\n      return _this.setState({ zoomLoading: false });\n    });\n  },\n\n  resizeMap: function resizeMap() {\n    if (this.map && this.tiles) {\n      this.map.invalidateSize();\n      this.tiles.fitBoundsExactly();\n    }\n  },\n\n  imageStatus: function imageStatus() {\n    var _state = this.state;\n    var art = _state.art;\n    var zoomLoaded = _state.zoomLoaded;\n    var zoomLoading = _state.zoomLoading;\n\n    var copyrightAndOnViewMessage = art.room[0] == 'G' ? \" (You'll have to come see it in person.)\" : '';\n    var loadingZoomMessage = '\\n      (—Is that the best image you\\'ve got!!?\\n      —Nope! We\\'re loading ' + humanizeNumber(this.getPixelDifference(400)) + ' more pixels right now.\\n      It can take a few seconds.)';\n    var showLoadingMessage = zoomLoading && zoomLoaded === false && !this.context.universal;\n    var showErrorMessage = zoomLoaded === 'error';\n    var smallViewport = window && window.innerWidth <= 500;\n\n    return art.image === 'valid' && React.createElement(\n      'span',\n      { className: 'imageStatus' },\n      showLoadingMessage && loadingZoomMessage,\n      showErrorMessage && React.createElement(\n        'p',\n        null,\n        'Error loading high resolution image. ',\n        React.createElement(\n          'a',\n          { href: 'mailto:collectionsdata+images@artsmia.org' },\n          'Report this problem'\n        ),\n        '.'\n      ),\n      art.restricted === 1 && !smallViewport && \"Because of © restrictions, we can only show you a small image of this artwork.\" + copyrightAndOnViewMessage\n    );\n  },\n\n  calculateImagePixelSize: function calculateImagePixelSize(size) {\n    var _state$art = this.state.art;\n    var image_width = _state$art.image_width;\n    var image_height = _state$art.image_height;\n\n    var maxDimension = Math.max(image_width, image_height);\n    var size = size || maxDimension;\n    var ratio = Math.floor(maxDimension / size);\n\n    return Math.floor(image_width / ratio) * Math.floor(image_height / ratio);\n  },\n\n  // how many more pixels are in the full sized image than the given thumbnail?\n  getPixelDifference: function getPixelDifference() {\n    var size = arguments.length <= 0 || arguments[0] === undefined ? 400 : arguments[0];\n\n    return Math.floor(this.calculateImagePixelSize() - this.calculateImagePixelSize(400));\n  },\n\n  isLoan: function isLoan() {\n    return this.state.art.accession_number.match(/^L/i);\n  },\n\n  // different from the noIndex set at `App` - this factors in object status\n  noIndex: function noIndex() {\n    return this.isLoan() || this.state.art.public_access == '0' || process.env.NODE_ENV !== 'production';\n  }\n});\nArtwork.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nvar noImageStyle = {\n  wrapper: {\n    \"position\": 'absolute',\n    \"top\": '50%',\n    \"left\": '50%',\n    \"transform\": 'translate(-50%, -50%)',\n    \"WebkitTransform\": 'translate(-50%, -50%)',\n    \"width\": '77%',\n    \"textAlign\": 'center'\n  },\n  pattern: {}\n};\nvar NoImagePlaceholder = React.createClass({\n  displayName: 'NoImagePlaceholder',\n\n  render: function render() {\n    var art = this.props.art;\n\n    var model = art[\"related:3dmodels\"] && art[\"related:3dmodels\"][0];\n    return model ? React.createElement(SketchfabEmbed, { model: model }) : React.createElement(\n      'div',\n      { style: noImageStyle.wrapper },\n      React.createElement(\n        'div',\n        { className: 'noImage invalid' },\n        React.createElement(\n          'p',\n          null,\n          'No Image Available'\n        )\n      )\n    );\n  }\n});\n\nvar SketchfabEmbed = React.createClass({\n  displayName: 'SketchfabEmbed',\n\n  render: function render() {\n    var showHideStyle = {};\n    if (!this.props.show) showHideStyle.visibility = 'hidden';\n    return React.createElement(\n      'div',\n      { className: 'sketchfab-embed-wrapper', style: showHideStyle },\n      React.createElement('iframe', {\n        src: this.props.model.link + '/embed?autostart=1&preload=1&ui_infos=0',\n        frameborder: '0',\n        allowvr: true,\n        allowfullscreen: true, mozallowfullscreen: 'true', webkitallowfullscreen: 'true',\n        onmousewheel: '' })\n    );\n  }\n});\n\nmodule.exports = Artwork;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYXJ0d29yay5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUM1QixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7SUFDL0IsSUFBSSxHQUFJLE1BQU0sQ0FBZCxJQUFJOztBQUNULElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQTtBQUMxQixJQUFJLGNBQWMsR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtBQUMvQyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7QUFDcEMsSUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBOztBQUU5QixJQUFJLFlBQVksR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtBQUM3QyxJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7QUFDcEMsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7QUFDakQsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7QUFDakQsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBO0FBQ3BDLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQTtBQUM5QixJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUE7QUFDckMsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLE1BQU0sQ0FBQTtBQUMxQyxJQUFJLHFCQUFxQixHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFBOztBQUV4RCxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7O0FBRXBDLElBQUksT0FBTyxHQUFHLEtBQUssQ0FB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QUFDLENBQUE7QUFDakUsV0FBTyxLQUFLLEdBQUcsb0JBQUMsY0FBYyxJQUFDLEtBQUssRUFBRSxLQUFLLEFBQUMsR0FBRyxHQUM3Qzs7UUFBSyxLQUFLLEVBQUUsWUFBWSxDQUFDLE9BQU8sQUFBQztNQUMvQjs7VUFBSyxTQUFTLEVBQUMsaUJBQWlCO1FBQUM7Ozs7U0FBeUI7T0FBTTtLQUM1RCxDQUFBO0dBQ1Q7Q0FDRixDQUFDLENBQUE7O0FBRUYsSUFBSSxjQUFjLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ3JDLFFBQU0sRUFBQSxrQkFBRztBQUNQLFFBQUksYUFBYSxHQUFHLEVBQUUsQ0FBQTtBQUN0QixRQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsYUFBYSxDQUFDLFVBQVUsR0FBRyxRQUFRLENBQUE7QUFDeEQsV0FBTzs7UUFBSyxTQUFTLEVBQUMseUJBQXlCLEVBQUMsS0FBSyxFQUFFLGFBQWEsQUFBQztNQUNuRTtBQUNFLFdBQUcsRUFBSyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLDRDQUEwQztBQUN2RSxtQkFBVyxFQUFDLEdBQUc7QUFDZixlQUFPLE1BQUE7QUFDUCx1QkFBZSxNQUFBLEVBQUMsa0JBQWtCLEVBQUMsTUFBTSxFQUFDLHFCQUFxQixFQUFDLE1BQU07QUFDdEUsb0JBQVksRUFBQyxFQUFFLEdBQVU7S0FDdkIsQ0FBQTtHQUNQO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvYXJ0d29yay5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHtMaW5rfSA9IFJvdXRlclxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcbnZhciBodW1hbml6ZU51bWJlciA9IHJlcXVpcmUoJ2h1bWFuaXplLW51bWJlcicpXG52YXIgSGVsbWV0ID0gcmVxdWlyZSgncmVhY3QtaGVsbWV0JylcbnZhciBjeCA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKVxuXG52YXIgQXJ0d29ya0ltYWdlID0gcmVxdWlyZSgnLi9hcnR3b3JrLWltYWdlJylcbnZhciBNYXJrZG93biA9IHJlcXVpcmUoJy4vbWFya2Rvd24nKVxudmFyIEFydHdvcmtQcmV2aWV3ID0gcmVxdWlyZSgnLi9hcnR3b3JrLXByZXZpZXcnKVxudmFyIEFydHdvcmtEZXRhaWxzID0gcmVxdWlyZSgnLi9hcnR3b3JrLWRldGFpbHMnKVxudmFyIF9BcnR3b3JrID0gcmVxdWlyZSgnLi9fYXJ0d29yaycpXG52YXIgSW1hZ2UgPSByZXF1aXJlKCcuL2ltYWdlJylcbnZhciBpbWFnZUNETiA9IHJlcXVpcmUoJy4vaW1hZ2UtY2RuJylcbnZhciBTRUFSQ0ggPSByZXF1aXJlKCcuL2VuZHBvaW50cycpLnNlYXJjaFxudmFyIEFydHdvcmtSZWxhdGVkQ29udGVudCA9IHJlcXVpcmUoJy4vYXJ0d29yay1yZWxhdGVkJylcblxudmFyIFN0aWNreSA9IHJlcXVpcmUoJ3JlYWN0LXN0aWNreScpXG5cbnZhciBBcnR3b3JrID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBtaXhpbnM6IFtSb3V0ZXIuU3RhdGVdLFxuICBzdGF0aWNzOiB7XG4gICAgZmV0Y2hEYXRhOiB7XG4gICAgICBhcnR3b3JrOiAocGFyYW1zLCBleGlzdGluZ0RhdGEpID0+IHtcbiAgICAgICAgaWYoZXhpc3RpbmdEYXRhICYmIGV4aXN0aW5nRGF0YS5pZCAmJiBleGlzdGluZ0RhdGEuaWQgPT0gcGFyYW1zLmlkKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGV4aXN0aW5nRGF0YSlcbiAgICAgICAgcmV0dXJuIHJlc3QoYCR7U0VBUkNIfS9pZC9gK3BhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpKVxuICAgICAgICAudGhlbihhcnQgPT4ge1xuICAgICAgICAgIGFydC5zbHVnID0gX0FydHdvcmsuc2x1ZyhhcnQpXG4gICAgICAgICAgcmV0dXJuIGFydFxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICB9LFxuXG4gICAgd2lsbFRyYW5zaXRpb25UbzogZnVuY3Rpb24gKHRyYW5zaXRpb24sIHBhcmFtcywgcXVlcnksIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgZXhpc3RpbmdBcnQgPSB3aW5kb3cuX19EQVRBX18gJiYgd2luZG93Ll9fREFUQV9fLmFydHdvcmtcbiAgICAgIEFydHdvcmsuZmV0Y2hEYXRhLmFydHdvcmsocGFyYW1zLCBleGlzdGluZ0FydCkudGhlbihhcnQgPT4ge1xuICAgICAgICB3aW5kb3cuX19EQVRBX18gPSB7YXJ0d29yazogYXJ0fVxuICAgICAgICBpZihhcnQuc2x1ZyAhPT0gcGFyYW1zLnNsdWcpIHtcbiAgICAgICAgICBwYXJhbXMuc2x1ZyA9IGFydC5zbHVnXG4gICAgICAgICAgdHJhbnNpdGlvbi5yZWRpcmVjdCgnYXJ0d29ya1NsdWcnLCBwYXJhbXMpXG4gICAgICAgIH1cbiAgICAgIH0pLnRoZW4oY2FsbGJhY2spXG4gICAgfVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIgYXJ0ID0gdGhpcy5zdGF0ZS5hcnRcbiAgICB2YXIgaWQgPSB0aGlzLnByb3BzLmlkIHx8IHRoaXMuc3RhdGUuaWRcbiAgICBjb25zdCBoaWdobGlnaHRzID0gdGhpcy5wcm9wcy5oaWdobGlnaHRzXG4gICAgdmFyIHN0aWNreU1hcFN0eWxlID0gdGhpcy5jb250ZXh0LnVuaXZlcnNhbCA/IHtwb3NpdGlvbjogJ2ZpeGVkJ30gOiB7fVxuICAgIHZhciBzbWFsbFZpZXdwb3J0ID0gd2luZG93ICYmIHdpbmRvdy5pbm5lcldpZHRoIDw9IDUwMFxuXG4gICAgdmFyIHBhZ2VUaXRsZSA9IFtcbiAgICAgIGFydC50aXRsZS5yZXBsYWNlKC88W14gXSs/Pi9nLCAnXCInKSxcbiAgICAgIF9BcnR3b3JrLkNyZWF0b3IuZ2V0RmFjZXRBbmRWYWx1ZShhcnQpWzFdXG4gICAgXS5maWx0ZXIoZSA9PiBlKS5qb2luKCcsICcpXG4gICAgdmFyIGltYWdlVXJsID0gaW1hZ2VDRE4oaWQpXG4gICAgdmFyIGNhbm9uaWNhbFVSTCA9IGBodHRwczovL2NvbGxlY3Rpb25zLmFydHNtaWEub3JnL2FydC8ke2FydC5pZH0vJHthcnQuc2x1Z31gXG5cbiAgICB2YXIgaW1hZ2UgPSA8SW1hZ2UgYXJ0PXthcnR9XG4gICAgICBzdHlsZT17e3dpZHRoOiA0MDAsIGhlaWdodDogNDAwLCBtYXhXaWR0aDogJzEwMCUnfX1cbiAgICAgIGlnbm9yZVN0eWxlPXt0cnVlfSAvPlxuXG4gICAgdmFyIGFzcGVjdFJhdGlvID0gYXJ0LmltYWdlX3dpZHRoL2FydC5pbWFnZV9oZWlnaHRcbiAgICB2YXIgbWFwSGVpZ2h0ID0gYXJ0LmltYWdlID09IFwidmFsaWRcIiA/XG4gICAgICBNYXRoLm1heCg0MCwgTWF0aC5taW4oNjUsIDEvYXNwZWN0UmF0aW8qODApKSA6XG4gICAgICAyMFxuICAgIGlmKHNtYWxsVmlld3BvcnQgJiYgdGhpcy5zdGF0ZS5zaG93M2QpIG1hcEhlaWdodCA9IDY3XG5cbiAgICB2YXIgc2hvd01vcmVJY29uID0gT2JqZWN0LmtleXMoYXJ0KS5maWx0ZXIoa2V5ID0+IGtleS5tYXRjaCgvcmVsYXRlZDovKSAmJiAha2V5Lm1hdGNoKC9yZWxhdGVkOmV4aGliaXRpb25zLykpLmxlbmd0aCA+IDAgJiZcbiAgICAgICF0aGlzLnN0YXRlLmZ1bGxzY3JlZW5JbWFnZVxuICAgIHZhciBleHBsb3JlSWNvbiA9IHNob3dNb3JlSWNvbiAmJiA8YSBocmVmPVwiI2V4cGxvcmVcIiBzdHlsZT17e3Bvc2l0aW9uOiAnYWJzb2x1dGUnLCB6SW5kZXg6ICcxMDAwMCcsIHJpZ2h0OiAnN3B4JywgYm90dG9tOiAnMHB4J319PlxuICAgICAgPGltZyBzcmM9XCIvaW1hZ2VzL21vcmUtaWNvbi5zdmdcIiBzdHlsZT17e3dpZHRoOiAnM2VtJ319Lz5cbiAgICA8L2E+XG5cbiAgICB2YXIgbWFwU3R5bGUgPSBzbWFsbFZpZXdwb3J0ID9cbiAgICAgIHt3aWR0aDogJzEwMCUnLCBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJywgaGVpZ2h0OiBtYXBIZWlnaHQrJ3ZoJ30gOlxuICAgICAgc3RpY2t5TWFwU3R5bGVcblxuICAgIHZhciB7em9vbUxvYWRlZH0gPSB0aGlzLnN0YXRlXG4gICAgdmFyIHpvb21Mb2FkZWRTdWNjZXNzZnVsbHkgPSB6b29tTG9hZGVkICYmIHpvb21Mb2FkZWQgIT09ICdlcnJvcidcblxuICAgIHZhciBtYXAgPSA8ZGl2IHJlZj0nbWFwJyBpZD0nbWFwJyBzdHlsZT17bWFwU3R5bGV9PlxuICAgICAge3RoaXMuc3RhdGUuaGFzM2QgJiYgPFNrZXRjaGZhYkVtYmVkIG1vZGVsPXt0aGlzLnN0YXRlLmhhczNkfSBzaG93PXt0aGlzLnN0YXRlLnNob3czZH0gLz59XG4gICAgICB7em9vbUxvYWRlZFN1Y2Nlc3NmdWxseSB8fCAoYXJ0LmltYWdlID09ICd2YWxpZCcgJiYgYXJ0LnJpZ2h0cyAhPT0gJ1Blcm1pc3Npb24gRGVuaWVkJykgJiYgPGRpdiBzdHlsZT17e3Bvc2l0aW9uOiAnYWJzb2x1dGUnLCB0b3A6ICc1MCUnLCBsZWZ0OiAnNTAlJywgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJywgV2Via2l0VHJhbnNmb3JtOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJywgd2lkdGg6ICcxMDAlJywgdGV4dEFsaWduOiAnY2VudGVyJ319PlxuICAgICAgICB7aW1hZ2V9XG4gICAgICAgIHthcnQuaW1hZ2VfY29weXJpZ2h0ICYmIDxwIHN0eWxlPXt7Zm9udFNpemU6ICcwLjhlbSd9fT57ZGVjb2RlVVJJQ29tcG9uZW50KGFydC5pbWFnZV9jb3B5cmlnaHQpfTwvcD59XG4gICAgICA8L2Rpdj4gfHwgPE5vSW1hZ2VQbGFjZWhvbGRlciBhcnQ9e2FydH0gLz59XG4gICAgICB7dGhpcy5pbWFnZVN0YXR1cygpfVxuICAgICAge3NtYWxsVmlld3BvcnQgJiYgZXhwbG9yZUljb259XG4gICAgPC9kaXY+XG5cbiAgICB2YXIgaW5mbyA9IDxkaXYgY2xhc3NOYW1lPSdpbmZvJz5cbiAgICAgIDxBcnR3b3JrUHJldmlldyBhcnQ9e2FydH0gc2hvd0xpbms9e2ZhbHNlfSBzaG93RHVwbGljYXRlRGV0YWlscz17dHJ1ZX0gLz5cbiAgICAgIHt0aGlzLnN0YXRlLmhhczNkICYmIDxkaXYgY2xhc3NOYW1lPVwiaW1hZ2VzXCI+XG4gICAgICAgIDxwIG9uQ2xpY2s9e3RoaXMudG9nZ2xlM2R9Pnt0aGlzLnN0YXRlLnNob3czZCA/ICdzaG93IHpvb21hYmxlIGltYWdlJyA6ICdzaG93IDNEIG1vZGVsJ308L3A+IFxuICAgICAgPC9kaXY+fVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiYWNrLWJ1dHRvblwiPjxhIGhyZWY9XCIjXCIgb25DbGljaz17KCkgPT4gaGlzdG9yeS5nbygtMSl9PjxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zXCI+YXJyb3dfYmFjazwvaT4gYmFjazwvYT48L2Rpdj5cbiAgICAgIDxBcnR3b3JrUmVsYXRlZENvbnRlbnQgaWQ9e2lkfSBhcnQ9e2FydH0gLz5cbiAgICAgIDxkaXY+XG4gICAgICAgIDxoNSBjbGFzc05hbWU9J2RldGFpbHMtdGl0bGUnPkRldGFpbHM8L2g1PlxuICAgICAgICA8QXJ0d29ya0RldGFpbHMgYXJ0PXthcnR9IHNob3czZD17dGhpcy5zdGF0ZS5zaG93M2R9IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIHZhciBjb250ZW50XG4gICAgaWYoc21hbGxWaWV3cG9ydCkge1xuICAgICAgY29udGVudCA9IDxkaXY+XG4gICAgICAgIHttYXB9XG4gICAgICAgIHtpbmZvfVxuICAgICAgPC9kaXY+XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRlbnQgPSA8ZGl2PlxuICAgICAgICB7aW5mb31cblxuICAgICAgICA8U3RpY2t5XG4gICAgICAgICAgc3RpY2t5U3R5bGU9e3twb3NpdGlvbjogJ2ZpeGVkJywgaGVpZ2h0OiAnMTAwJScsIHdpZHRoOiAnNjUlJywgdG9wOiAwLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgwcHgsMHB4LDBweCknfX1cbiAgICAgICAgICBvblN0aWNreVN0YXRlQ2hhbmdlPXt0aGlzLnJlc2l6ZU1hcH0+XG4gICAgICAgICAge21hcH1cbiAgICAgICAgPC9TdGlja3k+XG4gICAgICA8L2Rpdj5cbiAgICB9XG5cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e2N4KCdhcnR3b3JrJywge3NtYWxsdmlld3BvcnQ6IHNtYWxsVmlld3BvcnR9KX0+XG4gICAgICB7Y29udGVudH1cbiAgICAgIDxIZWxtZXRcbiAgICAgICAgdGl0bGU9e3BhZ2VUaXRsZX1cbiAgICAgICAgbWV0YT17W1xuICAgICAgICAgIHtwcm9wZXJ0eTogXCJvZzp0aXRsZVwiLCBjb250ZW50OiBwYWdlVGl0bGUgKyAnIHwgTWlubmVhcG9saXMgSW5zdGl0dXRlIG9mIEFydCd9LFxuICAgICAgICAgIHtwcm9wZXJ0eTogXCJvZzpkZXNjcmlwdGlvblwiLCBjb250ZW50OiBhcnQudGV4dH0sXG4gICAgICAgICAge3Byb3BlcnR5OiBcIm9nOmltYWdlXCIsIGNvbnRlbnQ6IGltYWdlVXJsfSxcbiAgICAgICAgICB7cHJvcGVydHk6IFwidHdpdHRlcjpjYXJkXCIsIGNvbnRlbnQ6IFwic3VtbWFyeV9sYXJnZV9pbWFnZVwifSxcbiAgICAgICAgICB7cHJvcGVydHk6IFwidHdpdHRlcjpzaXRlXCIsIGNvbnRlbnQ6IFwiQGFydHNtaWFcIn0sXG4gICAgICAgICAge3Byb3BlcnR5OiBcInJvYm90c1wiLCBjb250ZW50OiB0aGlzLm5vSW5kZXgoKSA/ICdmb2xsb3csbm9pbmRleCcgOiAnYWxsJ30sXG4gICAgICAgIF19XG4gICAgICAgIC8+XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgdG9nZ2xlM2QoKSB7XG4gICAgdmFyIG5leHRTaG93M2QgPSAhdGhpcy5zdGF0ZS5zaG93M2RcbiAgICB0aGlzLnNldFN0YXRlKHtzaG93M2Q6IG5leHRTaG93M2R9KVxuICAgIGlmKCFuZXh0U2hvdzNkKSB7XG4gICAgICBpZighdGhpcy5zdGF0ZS56b29tTG9hZGVkKSB0aGlzLmxvYWRab29tKClcbiAgICB9XG4gICAgaWYobmV4dFNob3czZCAmJiB0aGlzLnN0YXRlLnpvb21Mb2FkZWQpIHtcbiAgICB9XG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHZhciBhcnQgPSB0aGlzLnByb3BzLmRhdGEuYXJ0d29ya1xuICAgIGFydC5pZCA9IHRoaXMucHJvcHMuaWQgfHwgYXJ0LmlkLnJlcGxhY2UoJ2h0dHA6Ly9hcGkuYXJ0c21pYS5vcmcvb2JqZWN0cy8nLCAnJylcblxuICAgIHZhciBoYXMzRG1vZGVsID0gYXJ0W1wicmVsYXRlZDozZG1vZGVsc1wiXSAmJiBhcnRbXCJyZWxhdGVkOjNkbW9kZWxzXCJdWzBdXG4gICAgcmV0dXJuIHtcbiAgICAgIGFydDogYXJ0LFxuICAgICAgaWQ6IGFydC5pZCxcbiAgICAgIGZ1bGxzY3JlZW5JbWFnZTogZmFsc2UsXG4gICAgICBoYXMzZDogaGFzM0Rtb2RlbCxcbiAgICAgIHNob3czZDogaGFzM0Rtb2RlbCxcbiAgICB9XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdmFyIGFydCA9IHRoaXMuc3RhdGUuYXJ0XG4gICAgaWYoYXJ0LmltYWdlID09PSAndmFsaWQnICYmIGFydC5yZXN0cmljdGVkICE9IDEgJiYgIXRoaXMuaXNMb2FuKCkgJiYgIXRoaXMuc3RhdGUuc2hvdzNkKSB0aGlzLmxvYWRab29tKClcbiAgICB2YXIgc21hbGxWaWV3cG9ydCA9IHdpbmRvdyAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8PSA1MDBcbiAgICAvLyBwdXNoIHRoZSB2aWV3cG9ydCBkb3duIHBhc3QgdGhlIGhlYWRlciB0byBtYXhpbWl6ZSBpbWFnZS90ZXh0IG9uIHRoZSBwYWdlXG4gICAgLy8gc2Nyb2xsaW5nIGJhY2sgdXAgcmV2ZWFscyB0aGUgbWVudVxuICAgIC8vIFRPRE86IGlzIHRoZXJlIGEgd2F5IHRvIGF1dG9tYXRpY2FsbHkgdHJpZ2dlciBzYWZhcmkncyBtaW5pbWFsIGNocm9tZSBvdGhlciB0aGFuIGEgdXNlci1pbml0aWF0ZWQgc2Nyb2xsIGV2ZW50PyAocHJvYmFibHkgbm90IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjg4NDU2MSlcbiAgICBpZihzbWFsbFZpZXdwb3J0ICYmIHdpbmRvdy5zY3JvbGxYID09IDApIHNldFRpbWVvdXQoKCkgPT4gd2luZG93LnNjcm9sbFRvKDAsIDU2KSwgMClcbiAgfSxcblxuICBsb2FkWm9vbSgpIHtcbiAgICB2YXIgTCA9IHJlcXVpcmUoJ211c2V1bS10aWxlLWxheWVyJylcbiAgICB2YXIgZnVsbHNjcmVlbiA9IHJlcXVpcmUoJ2xlYWZsZXQtZnVsbHNjcmVlbicpXG5cbiAgICB2YXIgYXJ0ID0gdGhpcy5zdGF0ZS5hcnRcbiAgICB0aGlzLnNldFN0YXRlKHt6b29tTG9hZGVkOiBmYWxzZSwgem9vbUxvYWRpbmc6IHRydWV9KVxuXG4gICAgcmVzdChgLy90aWxlcy5keC5hcnRzbWlhLm9yZy8ke3RoaXMuc3RhdGUuaWR9Lmpzb25gKVxuICAgIC50aGVuKFxuICAgICAgcmVzcG9uc2UgPT4gSlNPTi5wYXJzZShyZXNwb25zZS5lbnRpdHkpLFxuICAgICAgcmVqZWN0ZWQgPT4ge1xuICAgICAgICAvLyBUT0RPOiBsb2cgdGhpcyBzb21ld2hlcmVcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7em9vbUxvYWRlZDogJ2Vycm9yJ30pXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoYGNhbid0IGxvYWQgdGlsZXMgZm9yICR7YXJ0LmlkfWApKVxuICAgICAgfVxuICAgIClcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgdGhpcy5tYXAgPSBMLm1hcCh0aGlzLnJlZnMubWFwLmdldERPTU5vZGUoKSwge1xuICAgICAgICBjcnM6IEwuQ1JTLlNpbXBsZSxcbiAgICAgICAgem9vbUNvbnRyb2w6IGZhbHNlLFxuICAgICAgfSlcbiAgICAgIHRoaXMubWFwLmF0dHJpYnV0aW9uQ29udHJvbC5zZXRQcmVmaXgoJycpXG4gICAgICB0aGlzLm1hcC5zZXRWaWV3KFthcnQuaW1hZ2Vfd2lkdGgvMiwgYXJ0LmltYWdlX2hlaWdodC8yXSwgMClcbiAgICAgIGlmKCFMLkJyb3dzZXIudG91Y2gpIG5ldyBMLkNvbnRyb2wuWm9vbSh7IHBvc2l0aW9uOiAndG9wcmlnaHQnIH0pLmFkZFRvKHRoaXMubWFwKVxuICAgICAgbmV3IEwuQ29udHJvbC5GdWxsc2NyZWVuKHtcbiAgICAgICAgcG9zaXRpb246ICd0b3ByaWdodCcsXG4gICAgICAgIHBzZXVkb0Z1bGxzY3JlZW46IHRydWUsXG4gICAgICB9KS5hZGRUbyh0aGlzLm1hcClcblxuICAgICAgdGhpcy50aWxlcyA9IEwubXVzZXVtVGlsZUxheWVyKCdodHRwczovL3tzfS50aWxlcy5keC5hcnRzbWlhLm9yZy97aWR9L3t6fS97eH0ve3l9LnBuZycsIHtcbiAgICAgICAgYXR0cmlidXRpb246IGFydC5pbWFnZV9jb3B5cmlnaHQgPyBkZWNvZGVVUklDb21wb25lbnQoYXJ0LmltYWdlX2NvcHlyaWdodCkgOiAnJyxcbiAgICAgICAgaWQ6IHRoaXMuc3RhdGUuaWQsXG4gICAgICAgIHdpZHRoOiBkYXRhLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IGRhdGEuaGVpZ2h0LFxuICAgICAgICB0aWxlU2l6ZTogZGF0YS50aWxlU2l6ZSB8fCAyNTYsXG4gICAgICB9KVxuICAgICAgdGhpcy50aWxlcy5hZGRUbyh0aGlzLm1hcClcblxuICAgICAgLy8gdGhpcy50aWxlcy5maWxsQ29udGFpbmVyKClcbiAgICAgIHRoaXMuc2V0U3RhdGUoe3pvb21Mb2FkaW5nOiBmYWxzZSwgem9vbUxvYWRlZDogdHJ1ZX0pXG4gICAgICB0aGlzLm1hcC5vbignZnVsbHNjcmVlbmNoYW5nZScsICgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7ZnVsbHNjcmVlbkltYWdlOiAhdGhpcy5zdGF0ZS5mdWxsc2NyZWVuSW1hZ2V9KVxuICAgICAgICB0aGlzLnByb3BzLnRvZ2dsZUFwcEhlYWRlcigpXG4gICAgICB9KVxuICAgICAgdmFyIHpvb21Db3VudCwgem9vbUluQ291bnQsIHpvb21PdXRDb3VudCwgcHJldlpvb20sIG5vd1pvb207XG4gICAgICB2YXIgem9vbUNvdW50ID0gem9vbUluQ291bnQgPSB6b29tT3V0Q291bnQgPSAwO1xuICAgICAgdmFyIHByZXZab29tID0gbm93Wm9vbSA9IHRoaXMubWFwLmdldFpvb20oKTtcbiAgICAgIHZhciByZWNlbnRseUF1dG9ab29tZWQgPSBmYWxzZTtcblxuICAgICAgdGhpcy5tYXAub24oJ3pvb21zdGFydCB6b29tZW5kJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIFtwcmV2Wm9vbSwgbm93Wm9vbV0gPSBbbm93Wm9vbSwgdGhpcy5tYXAuZ2V0Wm9vbSgpXVxuICAgICAgICB6b29tQ291bnQgKz0gMVxuICAgICAgICBub3dab29tID4gcHJldlpvb20gPyB6b29tSW5Db3VudCArPSAxIDogem9vbU91dENvdW50ICs9IDFcblxuICAgICAgICB2YXIgc21hbGxWaWV3cG9ydCA9IHdpbmRvdyAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8PSA1MDBcbiAgICAgICAgdmFyIGlzU2Vjb25kWm9vbUluQWN0aW9uID0gem9vbUluQ291bnQgPT0gMlxuICAgICAgICBpZihzbWFsbFZpZXdwb3J0ICYmICFyZWNlbnRseUF1dG9ab29tZWQpIHtcbiAgICAgICAgICAvLyBmdWxsc2NyZWVuIHRoZSBpbWFnZSB3aGVuIGEgdXNlciB6b29tcyB0d2ljZSBpbiBhIHJvd1xuICAgICAgICAgIC8vIGxlYXZlIGZ1bGxzY3JlZW4gd2hlbiB0aGV5IHJldHVybiB0byBtaW5ab29tXG4gICAgICAgICAgLy8gbW9iaWxlLW9ubHkgZm9yIG5vd1xuICAgICAgICAgIHZhciByZWFzb25zVG9DaGFuZ2VGdWxsc2NyZWVuID0gW1xuICAgICAgICAgICAgZXZlbnQudHlwZSA9PSAnem9vbXN0YXJ0JyAmJiB6b29tSW5Db3VudCA9PSAyICYmICF0aGlzLm1hcC5pc0Z1bGxzY3JlZW4oKSwgLy8gem9vbWluZyBpbiB3aGVuIG5vdCBmdWxsc2NyZWVuXG4gICAgICAgICAgICBldmVudC50eXBlID09ICd6b29tZW5kJyAmJiBub3dab29tID49IDMgJiYgIXRoaXMubWFwLmlzRnVsbHNjcmVlbigpLCAvLyBub3QgZnVsbHNjcmVlbiBhbmQgem9vbWVkIGluIHF1aXRlIGZhclxuICAgICAgICAgICAgZXZlbnQudHlwZSA9PSAnem9vbWVuZCcgJiYgdGhpcy5tYXAuZ2V0Wm9vbSgpID09IHRoaXMubWFwLmdldE1pblpvb20oKSAmJiB0aGlzLm1hcC5pc0Z1bGxzY3JlZW4oKSwgLy8gaW4gZnVsbHNjcmVlbiwgem9vbWluZyBvdXQgdG8gbWluWm9vbVxuICAgICAgICAgIF1cbiAgICAgICAgICBpZihyZWFzb25zVG9DaGFuZ2VGdWxsc2NyZWVuLmZpbmQocmVhc29uID0+IHJlYXNvbikpIHsgLy8gaWYgYW55IG9mIHRoZSB2YWxpZCByZWFzb25zIGV2YWx1YXRlIHRvIHRydWVcbiAgICAgICAgICAgIHRoaXMubWFwLnRvZ2dsZUZ1bGxzY3JlZW4oe3BzZXVkb0Z1bGxzY3JlZW46IHRydWV9KVxuICAgICAgICAgICAgcmVjZW50bHlBdXRvWm9vbWVkID0gdHJ1ZVxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuem9vbUNvdW50UmVzZXRUaW1lcilcbiAgICAgICAgICAgIHRoaXMuem9vbUNvdW50UmVzZXRUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4geyB6b29tQ291bnQgPSB6b29tSW5Db3VudCA9IHpvb21PdXRDb3VudCA9IDA7IHJlY2VudGx5QXV0b1pvb21lZCA9IGZhbHNlIH0sIDEwMDApXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gICAgLmNhdGNoKGVyciA9PiB0aGlzLnNldFN0YXRlKHt6b29tTG9hZGluZzogZmFsc2V9KSlcbiAgfSxcblxuICByZXNpemVNYXAoKSB7XG4gICAgaWYodGhpcy5tYXAgJiYgdGhpcy50aWxlcykge1xuICAgICAgdGhpcy5tYXAuaW52YWxpZGF0ZVNpemUoKVxuICAgICAgdGhpcy50aWxlcy5maXRCb3VuZHNFeGFjdGx5KClcbiAgICB9XG4gIH0sXG5cbiAgaW1hZ2VTdGF0dXMoKSB7XG4gICAgdmFyIHthcnQsIHpvb21Mb2FkZWQsIHpvb21Mb2FkaW5nfSA9IHRoaXMuc3RhdGVcbiAgICB2YXIgY29weXJpZ2h0QW5kT25WaWV3TWVzc2FnZSA9IGFydC5yb29tWzBdID09ICdHJyA/IFwiIChZb3UnbGwgaGF2ZSB0byBjb21lIHNlZSBpdCBpbiBwZXJzb24uKVwiIDogJydcbiAgICB2YXIgbG9hZGluZ1pvb21NZXNzYWdlID0gIGBcbiAgICAgICjigJRJcyB0aGF0IHRoZSBiZXN0IGltYWdlIHlvdSd2ZSBnb3QhIT9cbiAgICAgIOKAlE5vcGUhIFdlJ3JlIGxvYWRpbmcgJHtodW1hbml6ZU51bWJlcih0aGlzLmdldFBpeGVsRGlmZmVyZW5jZSg0MDApKX0gbW9yZSBwaXhlbHMgcmlnaHQgbm93LlxuICAgICAgSXQgY2FuIHRha2UgYSBmZXcgc2Vjb25kcy4pYFxuICAgIHZhciBzaG93TG9hZGluZ01lc3NhZ2UgPSB6b29tTG9hZGluZyAmJiB6b29tTG9hZGVkID09PSBmYWxzZSAmJiAhdGhpcy5jb250ZXh0LnVuaXZlcnNhbFxuICAgIHZhciBzaG93RXJyb3JNZXNzYWdlID0gem9vbUxvYWRlZCA9PT0gJ2Vycm9yJ1xuICAgIHZhciBzbWFsbFZpZXdwb3J0ID0gd2luZG93ICYmIHdpbmRvdy5pbm5lcldpZHRoIDw9IDUwMFxuXG4gICAgcmV0dXJuIGFydC5pbWFnZSA9PT0gJ3ZhbGlkJyAmJiA8c3BhbiBjbGFzc05hbWU9XCJpbWFnZVN0YXR1c1wiPlxuICAgICAge3Nob3dMb2FkaW5nTWVzc2FnZSAmJiBsb2FkaW5nWm9vbU1lc3NhZ2V9XG4gICAgICB7c2hvd0Vycm9yTWVzc2FnZSAmJiA8cD5FcnJvciBsb2FkaW5nIGhpZ2ggcmVzb2x1dGlvbiBpbWFnZS4gPGEgaHJlZj1cIm1haWx0bzpjb2xsZWN0aW9uc2RhdGEraW1hZ2VzQGFydHNtaWEub3JnXCI+UmVwb3J0IHRoaXMgcHJvYmxlbTwvYT4uPC9wPn1cbiAgICAgIHthcnQucmVzdHJpY3RlZCA9PT0gMSAmJiAhc21hbGxWaWV3cG9ydCAmJiBcIkJlY2F1c2Ugb2YgwqkgcmVzdHJpY3Rpb25zLCB3ZSBjYW4gb25seSBzaG93IHlvdSBhIHNtYWxsIGltYWdlIG9mIHRoaXMgYXJ0d29yay5cIiArIGNvcHlyaWdodEFuZE9uVmlld01lc3NhZ2V9XG4gICAgPC9zcGFuPlxuICB9LFxuXG4gIGNhbGN1bGF0ZUltYWdlUGl4ZWxTaXplKHNpemUpIHtcbiAgICB2YXIge2ltYWdlX3dpZHRoLCBpbWFnZV9oZWlnaHR9ID0gdGhpcy5zdGF0ZS5hcnRcbiAgICB2YXIgbWF4RGltZW5zaW9uID0gTWF0aC5tYXgoaW1hZ2Vfd2lkdGgsIGltYWdlX2hlaWdodClcbiAgICB2YXIgc2l6ZSA9IHNpemUgfHwgbWF4RGltZW5zaW9uXG4gICAgdmFyIHJhdGlvID0gTWF0aC5mbG9vcihtYXhEaW1lbnNpb24vc2l6ZSlcblxuICAgIHJldHVybiBNYXRoLmZsb29yKGltYWdlX3dpZHRoL3JhdGlvKSAqIE1hdGguZmxvb3IoaW1hZ2VfaGVpZ2h0L3JhdGlvKVxuICB9LFxuXG4gIC8vIGhvdyBtYW55IG1vcmUgcGl4ZWxzIGFyZSBpbiB0aGUgZnVsbCBzaXplZCBpbWFnZSB0aGFuIHRoZSBnaXZlbiB0aHVtYm5haWw/XG4gIGdldFBpeGVsRGlmZmVyZW5jZShzaXplPTQwMCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKFxuICAgICAgdGhpcy5jYWxjdWxhdGVJbWFnZVBpeGVsU2l6ZSgpIC0gdGhpcy5jYWxjdWxhdGVJbWFnZVBpeGVsU2l6ZSg0MDApXG4gICAgKVxuICB9LFxuXG4gIGlzTG9hbigpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5hcnQuYWNjZXNzaW9uX251bWJlci5tYXRjaCgvXkwvaSlcbiAgfSxcblxuICAvLyBkaWZmZXJlbnQgZnJvbSB0aGUgbm9JbmRleCBzZXQgYXQgYEFwcGAgLSB0aGlzIGZhY3RvcnMgaW4gb2JqZWN0IHN0YXR1cyBcbiAgbm9JbmRleCgpIHtcbiAgICByZXR1cm4gdGhpcy5pc0xvYW4oKVxuICAgICAgfHwgdGhpcy5zdGF0ZS5hcnQucHVibGljX2FjY2VzcyA9PSAnMCdcbiAgICAgIHx8IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbidcbiAgfSxcbn0pXG5BcnR3b3JrLmNvbnRleHRUeXBlcyA9IHtcbiAgcm91dGVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgdW5pdmVyc2FsOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbn1cblxudmFyIG5vSW1hZ2VTdHlsZSA9IHtcbiAgd3JhcHBlcjoge1xuICAgIFwicG9zaXRpb25cIjogJ2Fic29sdXRlJyxcbiAgICBcInRvcFwiOiAnNTAlJyxcbiAgICBcImxlZnRcIjogJzUwJScsXG4gICAgXCJ0cmFuc2Zvcm1cIjogJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKScsXG4gICAgXCJXZWJraXRUcmFuc2Zvcm1cIjogJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKScsXG4gICAgXCJ3aWR0aFwiOiAnNzclJyxcbiAgICBcInRleHRBbGlnblwiOiAnY2VudGVyJyxcbiAgfSxcbiAgcGF0dGVybjoge1xuICB9XG59XG52YXIgTm9JbWFnZVBsYWNlaG9sZGVyID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnR9ID0gdGhpcy5wcm9wc1xuICAgIHZhciBtb2RlbCA9IGFydFtcInJlbGF0ZWQ6M2Rtb2RlbHNcIl0gJiYgYXJ0W1wicmVsYXRlZDozZG1vZGVsc1wiXVswXVxuICAgIHJldHVybiBtb2RlbCA/IDxTa2V0Y2hmYWJFbWJlZCBtb2RlbD17bW9kZWx9IC8+IDpcbiAgICAgIDxkaXYgc3R5bGU9e25vSW1hZ2VTdHlsZS53cmFwcGVyfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJub0ltYWdlIGludmFsaWRcIj48cD5ObyBJbWFnZSBBdmFpbGFibGU8L3A+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgfVxufSlcblxudmFyIFNrZXRjaGZhYkVtYmVkID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHNob3dIaWRlU3R5bGUgPSB7fVxuICAgIGlmKCF0aGlzLnByb3BzLnNob3cpIHNob3dIaWRlU3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwic2tldGNoZmFiLWVtYmVkLXdyYXBwZXJcIiBzdHlsZT17c2hvd0hpZGVTdHlsZX0+XG4gICAgICA8aWZyYW1lXG4gICAgICAgIHNyYz17YCR7dGhpcy5wcm9wcy5tb2RlbC5saW5rfS9lbWJlZD9hdXRvc3RhcnQ9MSZwcmVsb2FkPTEmdWlfaW5mb3M9MGB9XG4gICAgICAgIGZyYW1lYm9yZGVyPVwiMFwiXG4gICAgICAgIGFsbG93dnJcbiAgICAgICAgYWxsb3dmdWxsc2NyZWVuIG1vemFsbG93ZnVsbHNjcmVlbj1cInRydWVcIiB3ZWJraXRhbGxvd2Z1bGxzY3JlZW49XCJ0cnVlXCJcbiAgICAgICAgb25tb3VzZXdoZWVsPVwiXCI+PC9pZnJhbWU+XG4gICAgPC9kaXY+XG4gIH1cbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gQXJ0d29ya1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/artwork.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/artwork.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\nvar rest = require('rest')\nvar humanizeNumber = require('humanize-number')\nvar Helmet = require('react-helmet')\nvar cx = require('classnames')\n\nvar ArtworkImage = require('./artwork-image')\nvar Markdown = require('./markdown')\nvar ArtworkPreview = require('./artwork-preview')\nvar ArtworkDetails = require('./artwork-details')\nvar _Artwork = require('./_artwork')\nvar Image = require('./image')\nvar imageCDN = require('./image-cdn')\nvar SEARCH = require('./endpoints').search\nvar ArtworkRelatedContent = require('./artwork-related')\n\nvar Sticky = require('react-sticky')\n\nvar Artwork = React.createClass({\n  mixins: [Router.State],\n  statics: {\n    fetchData: {\n      artwork: (params, existingData) => {\n        if(existingData && existingData.id && existingData.id == params.id) return Promise.resolve(existingData)\n        return rest(`${SEARCH}/id/`+params.id)\n        .then((r) => JSON.parse(r.entity))\n        .then(art => {\n          art.slug = _Artwork.slug(art)\n          return art\n        })\n      },\n    },\n\n    willTransitionTo: function (transition, params, query, callback) {\n      var existingArt = window.__DATA__ && window.__DATA__.artwork\n      Artwork.fetchData.artwork(params, existingArt).then(art => {\n        window.__DATA__ = {artwork: art}\n        if(art.slug !== params.slug) {\n          params.slug = art.slug\n          transition.redirect('artworkSlug', params)\n        }\n      }).then(callback)\n    }\n  },\n\n  render() {\n    var art = this.state.art\n    var id = this.props.id || this.state.id\n    const highlights = this.props.highlights\n    var stickyMapStyle = this.context.universal ? {position: 'fixed'} : {}\n    var smallViewport = window && window.innerWidth <= 500\n\n    var pageTitle = [\n      art.title.replace(/<[^ ]+?>/g, '\"'),\n      _Artwork.Creator.getFacetAndValue(art)[1]\n    ].filter(e => e).join(', ')\n    var imageUrl = imageCDN(id)\n    var canonicalURL = `https://collections.artsmia.org/art/${art.id}/${art.slug}`\n\n    var image = <Image art={art}\n      style={{width: 400, height: 400, maxWidth: '100%'}}\n      ignoreStyle={true} />\n\n    var aspectRatio = art.image_width/art.image_height\n    var mapHeight = art.image == \"valid\" ?\n      Math.max(40, Math.min(65, 1/aspectRatio*80)) :\n      20\n    if(smallViewport && this.state.show3d) mapHeight = 67\n\n    var showMoreIcon = Object.keys(art).filter(key => key.match(/related:/) && !key.match(/related:exhibitions/)).length > 0 &&\n      !this.state.fullscreenImage\n    var exploreIcon = showMoreIcon && <a href=\"#explore\" style={{position: 'absolute', zIndex: '10000', right: '7px', bottom: '0px'}}>\n      <img src=\"/images/more-icon.svg\" style={{width: '3em'}}/>\n    </a>\n\n    var mapStyle = smallViewport ?\n      {width: '100%', display: 'inline-block', height: mapHeight+'vh'} :\n      stickyMapStyle\n\n    var {zoomLoaded} = this.state\n    var zoomLoadedSuccessfully = zoomLoaded && zoomLoaded !== 'error'\n\n    var map = <div ref='map' id='map' style={mapStyle}>\n      {this.state.has3d && <SketchfabEmbed model={this.state.has3d} show={this.state.show3d} />}\n      {zoomLoadedSuccessfully || (art.image == 'valid' && art.rights !== 'Permission Denied') && <div style={{position: 'absolute', top: '50%', left: '50%', transform: 'translate(-50%, -50%)', WebkitTransform: 'translate(-50%, -50%)', width: '100%', textAlign: 'center'}}>\n        {image}\n        {art.image_copyright && <p style={{fontSize: '0.8em'}}>{decodeURIComponent(art.image_copyright)}</p>}\n      </div> || <NoImagePlaceholder art={art} />}\n      {this.imageStatus()}\n      {smallViewport && exploreIcon}\n    </div>\n\n    var info = <div className='info'>\n      <ArtworkPreview art={art} showLink={false} showDuplicateDetails={true} />\n      {this.state.has3d && <div className=\"images\">\n        <p onClick={this.toggle3d}>{this.state.show3d ? 'show zoomable image' : 'show 3D model'}</p> \n      </div>}\n      <div className=\"back-button\"><a href=\"#\" onClick={() => history.go(-1)}><i className=\"material-icons\">arrow_back</i> back</a></div>\n      <ArtworkRelatedContent id={id} art={art} />\n      <div>\n        <h5 className='details-title'>Details</h5>\n        <ArtworkDetails art={art} show3d={this.state.show3d} />\n      </div>\n    </div>\n\n    var content\n    if(smallViewport) {\n      content = <div>\n        {map}\n        {info}\n      </div>\n    } else {\n      content = <div>\n        {info}\n\n        <Sticky\n          stickyStyle={{position: 'fixed', height: '100%', width: '65%', top: 0, transform: 'translate3d(0px,0px,0px)'}}\n          onStickyStateChange={this.resizeMap}>\n          {map}\n        </Sticky>\n      </div>\n    }\n\n    return <div className={cx('artwork', {smallviewport: smallViewport})}>\n      {content}\n      <Helmet\n        title={pageTitle}\n        meta={[\n          {property: \"og:title\", content: pageTitle + ' | Minneapolis Institute of Art'},\n          {property: \"og:description\", content: art.text},\n          {property: \"og:image\", content: imageUrl},\n          {property: \"twitter:card\", content: \"summary_large_image\"},\n          {property: \"twitter:site\", content: \"@artsmia\"},\n          {property: \"robots\", content: this.noIndex() ? 'follow,noindex' : 'all'},\n        ]}\n        />\n    </div>\n  },\n\n  toggle3d() {\n    var nextShow3d = !this.state.show3d\n    this.setState({show3d: nextShow3d})\n    if(!nextShow3d) {\n      if(!this.state.zoomLoaded) this.loadZoom()\n    }\n    if(nextShow3d && this.state.zoomLoaded) {\n    }\n  },\n\n  getInitialState() {\n    var art = this.props.data.artwork\n    art.id = this.props.id || art.id.replace('http://api.artsmia.org/objects/', '')\n\n    var has3Dmodel = art[\"related:3dmodels\"] && art[\"related:3dmodels\"][0]\n    return {\n      art: art,\n      id: art.id,\n      fullscreenImage: false,\n      has3d: has3Dmodel,\n      show3d: has3Dmodel,\n    }\n  },\n\n  componentDidMount() {\n    var art = this.state.art\n    if(art.image === 'valid' && art.restricted != 1 && !this.isLoan() && !this.state.show3d) this.loadZoom()\n    var smallViewport = window && window.innerWidth <= 500\n    // push the viewport down past the header to maximize image/text on the page\n    // scrolling back up reveals the menu\n    // TODO: is there a way to automatically trigger safari's minimal chrome other than a user-initiated scroll event? (probably not https://stackoverflow.com/a/26884561)\n    if(smallViewport && window.scrollX == 0) setTimeout(() => window.scrollTo(0, 56), 0)\n  },\n\n  loadZoom() {\n    var L = require('museum-tile-layer')\n    var fullscreen = require('leaflet-fullscreen')\n\n    var art = this.state.art\n    this.setState({zoomLoaded: false, zoomLoading: true})\n\n    rest(`//tiles.dx.artsmia.org/${this.state.id}.json`)\n    .then(\n      response => JSON.parse(response.entity),\n      rejected => {\n        // TODO: log this somewhere\n        this.setState({zoomLoaded: 'error'})\n        return Promise.reject(new Error(`can't load tiles for ${art.id}`))\n      }\n    )\n    .then((data) => {\n      this.map = L.map(this.refs.map.getDOMNode(), {\n        crs: L.CRS.Simple,\n        zoomControl: false,\n      })\n      this.map.attributionControl.setPrefix('')\n      this.map.setView([art.image_width/2, art.image_height/2], 0)\n      if(!L.Browser.touch) new L.Control.Zoom({ position: 'topright' }).addTo(this.map)\n      new L.Control.Fullscreen({\n        position: 'topright',\n        pseudoFullscreen: true,\n      }).addTo(this.map)\n\n      this.tiles = L.museumTileLayer('https://{s}.tiles.dx.artsmia.org/{id}/{z}/{x}/{y}.png', {\n        attribution: art.image_copyright ? decodeURIComponent(art.image_copyright) : '',\n        id: this.state.id,\n        width: data.width,\n        height: data.height,\n        tileSize: data.tileSize || 256,\n      })\n      this.tiles.addTo(this.map)\n\n      // this.tiles.fillContainer()\n      this.setState({zoomLoading: false, zoomLoaded: true})\n      this.map.on('fullscreenchange', () => {\n        this.setState({fullscreenImage: !this.state.fullscreenImage})\n        this.props.toggleAppHeader()\n      })\n      var zoomCount, zoomInCount, zoomOutCount, prevZoom, nowZoom;\n      var zoomCount = zoomInCount = zoomOutCount = 0;\n      var prevZoom = nowZoom = this.map.getZoom();\n      var recentlyAutoZoomed = false;\n\n      this.map.on('zoomstart zoomend', (event) => {\n        [prevZoom, nowZoom] = [nowZoom, this.map.getZoom()]\n        zoomCount += 1\n        nowZoom > prevZoom ? zoomInCount += 1 : zoomOutCount += 1\n\n        var smallViewport = window && window.innerWidth <= 500\n        var isSecondZoomInAction = zoomInCount == 2\n        if(smallViewport && !recentlyAutoZoomed) {\n          // fullscreen the image when a user zooms twice in a row\n          // leave fullscreen when they return to minZoom\n          // mobile-only for now\n          var reasonsToChangeFullscreen = [\n            event.type == 'zoomstart' && zoomInCount == 2 && !this.map.isFullscreen(), // zooming in when not fullscreen\n            event.type == 'zoomend' && nowZoom >= 3 && !this.map.isFullscreen(), // not fullscreen and zoomed in quite far\n            event.type == 'zoomend' && this.map.getZoom() == this.map.getMinZoom() && this.map.isFullscreen(), // in fullscreen, zooming out to minZoom\n          ]\n          if(reasonsToChangeFullscreen.find(reason => reason)) { // if any of the valid reasons evaluate to true\n            this.map.toggleFullscreen({pseudoFullscreen: true})\n            recentlyAutoZoomed = true\n            clearTimeout(this.zoomCountResetTimer)\n            this.zoomCountResetTimer = setTimeout(() => { zoomCount = zoomInCount = zoomOutCount = 0; recentlyAutoZoomed = false }, 1000)\n          }\n        }\n      })\n    })\n    .catch(err => this.setState({zoomLoading: false}))\n  },\n\n  resizeMap() {\n    if(this.map && this.tiles) {\n      this.map.invalidateSize()\n      this.tiles.fitBoundsExactly()\n    }\n  },\n\n  imageStatus() {\n    var {art, zoomLoaded, zoomLoading} = this.state\n    var copyrightAndOnViewMessage = art.room[0] == 'G' ? \" (You'll have to come see it in person.)\" : ''\n    var loadingZoomMessage =  `\n      (—Is that the best image you've got!!?\n      —Nope! We're loading ${humanizeNumber(this.getPixelDifference(400))} more pixels right now.\n      It can take a few seconds.)`\n    var showLoadingMessage = zoomLoading && zoomLoaded === false && !this.context.universal\n    var showErrorMessage = zoomLoaded === 'error'\n    var smallViewport = window && window.innerWidth <= 500\n\n    return art.image === 'valid' && <span className=\"imageStatus\">\n      {showLoadingMessage && loadingZoomMessage}\n      {showErrorMessage && <p>Error loading high resolution image. <a href=\"mailto:collectionsdata+images@artsmia.org\">Report this problem</a>.</p>}\n      {art.restricted === 1 && !smallViewport && \"Because of © restrictions, we can only show you a small image of this artwork.\" + copyrightAndOnViewMessage}\n    </span>\n  },\n\n  calculateImagePixelSize(size) {\n    var {image_width, image_height} = this.state.art\n    var maxDimension = Math.max(image_width, image_height)\n    var size = size || maxDimension\n    var ratio = Math.floor(maxDimension/size)\n\n    return Math.floor(image_width/ratio) * Math.floor(image_height/ratio)\n  },\n\n  // how many more pixels are in the full sized image than the given thumbnail?\n  getPixelDifference(size=400) {\n    return Math.floor(\n      this.calculateImagePixelSize() - this.calculateImagePixelSize(400)\n    )\n  },\n\n  isLoan() {\n    return this.state.art.accession_number.match(/^L/i)\n  },\n\n  // different from the noIndex set at `App` - this factors in object status \n  noIndex() {\n    return this.isLoan()\n      || this.state.art.public_access == '0'\n      || process.env.NODE_ENV !== 'production'\n  },\n})\nArtwork.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nvar noImageStyle = {\n  wrapper: {\n    \"position\": 'absolute',\n    \"top\": '50%',\n    \"left\": '50%',\n    \"transform\": 'translate(-50%, -50%)',\n    \"WebkitTransform\": 'translate(-50%, -50%)',\n    \"width\": '77%',\n    \"textAlign\": 'center',\n  },\n  pattern: {\n  }\n}\nvar NoImagePlaceholder = React.createClass({\n  render() {\n    var {art} = this.props\n    var model = art[\"related:3dmodels\"] && art[\"related:3dmodels\"][0]\n    return model ? <SketchfabEmbed model={model} /> :\n      <div style={noImageStyle.wrapper}>\n        <div className=\"noImage invalid\"><p>No Image Available</p></div>\n      </div>\n  }\n})\n\nvar SketchfabEmbed = React.createClass({\n  render() {\n    var showHideStyle = {}\n    if(!this.props.show) showHideStyle.visibility = 'hidden'\n    return <div className=\"sketchfab-embed-wrapper\" style={showHideStyle}>\n      <iframe\n        src={`${this.props.model.link}/embed?autostart=1&preload=1&ui_infos=0`}\n        frameborder=\"0\"\n        allowvr\n        allowfullscreen mozallowfullscreen=\"true\" webkitallowfullscreen=\"true\"\n        onmousewheel=\"\"></iframe>\n    </div>\n  }\n})\n\nmodule.exports = Artwork\n"
      ]
    },
    "mtime": 1487953287530
  },
  "{\"filename\":\"/var/www/art/src/artists-by-letter.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar rest = require('rest');\n\nvar ArtistsByLetter = React.createClass({\n  displayName: 'ArtistsByLetter',\n\n  mixins: [Router.State, Router.Navigation],\n\n  statics: {\n    fetchData: function fetchData(params) {\n      return rest('https://cdn.dx.artsmia.org/artists.json').then(function (r) {\n        return JSON.parse(r.entity).aggregations.artist.buckets;\n      });\n    }\n  },\n\n  render: function render() {\n    if (!this.props.data.artistsByName) return React.createElement('div', { className: 'loading' });\n    var letter = this.getParams().letter;\n    var letters = this.props.data.artistsByName.map(function (a) {\n      return a;\n    });\n    console.info(letters);\n    return React.createElement(\n      'dl',\n      null,\n      letters.map(function (l) {\n        return React.createElement(\n          'div',\n          { className: 'artist-by-letter' },\n          React.createElement(\n            'dt',\n            { key: l.key },\n            React.createElement(\n              Link,\n              { to: 'artistsByName', params: { letter: l.key } },\n              l.key\n            )\n          ),\n          letter === l.key && React.createElement(\n            'dd',\n            { style: { position: 'absolute', top: '3em' } },\n            l.byName.buckets.map(function (b) {\n              return React.createElement(\n                Link,\n                { to: 'filteredSearchResults', params: { terms: '*', splat: 'artist.raw:%22' + b.key + '%22' }, style: { display: 'block' } },\n                b.key\n              );\n            })\n          )\n        );\n      })\n    );\n  }\n});\n\nmodule.exports = ArtistsByLetter;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYXJ0aXN0cy1ieS1sZXR0ZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0lBQzlCLElBQUksR0FBSyxNQUFNLENBQWYsSUFBSTs7QUFDVixJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUE7O0FBRTFCLElBQUksZUFBZSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUN0QyxRQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxVQUFVLENBQUM7O0FBRXpDLFNBQU8sRUFBRTtBQUNQLGFBQVMsRUFBRSxtQkFBQyxNQUFNLEVBQUs7QUFDckIsYUFBTyxJQUFJLENBQUMseUNBQXlDLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQyxDQUFDLEVBQUs7QUFDakUsZUFBTyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQTtPQUN4RCxDQUFDLENBQUE7S0FDSDtHQUNGOztBQUVELFFBQU0sRUFBQSxrQkFBRztBQUNQLFFBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsT0FBTyw2QkFBSyxTQUFTLEVBQUMsU0FBUyxHQUFPLENBQUE7QUFDekUsUUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLE1BQU0sQ0FBQTtBQUNwQyxRQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLFVBQUMsQ0FBQzthQUFLLENBQUM7S0FBQSxDQUFDLENBQUE7QUFDekQsV0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUNyQixXQUNFOzs7TUFDQyxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQUMsQ0FBQyxFQUFLO0FBQ2xCLGVBQU87O1lBQUssU0FBUyxFQUFDLGtCQUFrQjtVQUN0Qzs7Y0FBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQUFBQztZQUFDO0FBQUMsa0JBQUk7Z0JBQUMsRUFBRSxFQUFDLGVBQWUsRUFBQyxNQUFNLEVBQUUsRUFBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBQyxBQUFDO2NBQUUsQ0FBQyxDQUFDLEdBQUc7YUFBUTtXQUFLO1VBQ3BGLE1BQU0sS0FBSyxDQUFDLENBQUMsR0FBRyxJQUFJOztjQUFJLEtBQUssRUFBRSxFQUFDLFFBQVEsRUFBRSxVQUFVLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBQyxBQUFDO1lBQ2hFLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFDLENBQUM7cUJBQUs7QUFBQyxvQkFBSTtrQkFBQyxFQUFFLEVBQUMsdUJBQXVCLEVBQUMsTUFBTSxFQUFFLEVBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxLQUFLLHFCQUFtQixDQUFDLENBQUMsR0FBRyxRQUFLLEVBQUMsQUFBQyxFQUFDLEtBQUssRUFBRSxFQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUMsQUFBQztnQkFBRSxDQUFDLENBQUMsR0FBRztlQUFRO2FBQUEsQ0FBQztXQUMvSjtTQUNELENBQUE7T0FDUCxDQUFDO0tBQ0csQ0FDTjtHQUNGO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsZUFBZSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvYXJ0aXN0cy1ieS1sZXR0ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciB7IExpbmsgfSA9IFJvdXRlclxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcblxudmFyIEFydGlzdHNCeUxldHRlciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgbWl4aW5zOiBbUm91dGVyLlN0YXRlLCBSb3V0ZXIuTmF2aWdhdGlvbl0sXG5cbiAgc3RhdGljczogeyBcbiAgICBmZXRjaERhdGE6IChwYXJhbXMpID0+IHtcbiAgICAgIHJldHVybiByZXN0KCdodHRwczovL2Nkbi5keC5hcnRzbWlhLm9yZy9hcnRpc3RzLmpzb24nKS50aGVuKChyKSA9PiB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHIuZW50aXR5KS5hZ2dyZWdhdGlvbnMuYXJ0aXN0LmJ1Y2tldHNcbiAgICAgIH0pXG4gICAgfVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICBpZighdGhpcy5wcm9wcy5kYXRhLmFydGlzdHNCeU5hbWUpIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImxvYWRpbmdcIj48L2Rpdj5cbiAgICB2YXIgbGV0dGVyID0gdGhpcy5nZXRQYXJhbXMoKS5sZXR0ZXJcbiAgICB2YXIgbGV0dGVycyA9IHRoaXMucHJvcHMuZGF0YS5hcnRpc3RzQnlOYW1lLm1hcCgoYSkgPT4gYSlcbiAgICBjb25zb2xlLmluZm8obGV0dGVycylcbiAgICByZXR1cm4gKFxuICAgICAgPGRsPlxuICAgICAge2xldHRlcnMubWFwKChsKSA9PiB7XG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT0nYXJ0aXN0LWJ5LWxldHRlcic+XG4gICAgICAgICAgPGR0IGtleT17bC5rZXl9PjxMaW5rIHRvPVwiYXJ0aXN0c0J5TmFtZVwiIHBhcmFtcz17e2xldHRlcjogbC5rZXl9fT57bC5rZXl9PC9MaW5rPjwvZHQ+XG4gICAgICAgICAge2xldHRlciA9PT0gbC5rZXkgJiYgPGRkIHN0eWxlPXt7cG9zaXRpb246ICdhYnNvbHV0ZScsIHRvcDogJzNlbSd9fT5cbiAgICAgICAgICAgIHtsLmJ5TmFtZS5idWNrZXRzLm1hcCgoYikgPT4gPExpbmsgdG89XCJmaWx0ZXJlZFNlYXJjaFJlc3VsdHNcIiBwYXJhbXM9e3t0ZXJtczogJyonLCBzcGxhdDogYGFydGlzdC5yYXc6JTIyJHtiLmtleX0lMjJgfX0gc3R5bGU9e3tkaXNwbGF5OiAnYmxvY2snfX0+e2Iua2V5fTwvTGluaz4pfVxuICAgICAgICAgIDwvZGQ+fVxuICAgICAgICA8L2Rpdj5cbiAgICAgIH0pfVxuICAgICAgPC9kbD5cbiAgICApXG4gIH1cbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gQXJ0aXN0c0J5TGV0dGVyXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/artists-by-letter.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;IAC9B,IAAI,GAAK,MAAM,CAAf,IAAI;;AACV,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;;AAE1B,IAAI,eAAe,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACtC,QAAM,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,UAAU,CAAC;;AAEzC,SAAO,EAAE;AACP,aAAS,EAAE,mBAAC,MAAM,EAAK;AACrB,aAAO,IAAI,CAAC,yCAAyC,CAAC,CAAC,IAAI,CAAC,UAAC,CAAC,EAAK;AACjE,eAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,CAAA;OACxD,CAAC,CAAA;KACH;GACF;;AAED,QAAM,EAAA,kBAAG;AACP,QAAG,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,EAAE,OAAO,6BAAK,SAAS,EAAC,SAAS,GAAO,CAAA;AACzE,QAAI,MAAM,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC,MAAM,CAAA;AACpC,QAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,UAAC,CAAC;aAAK,CAAC;KAAA,CAAC,CAAA;AACzD,WAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;AACrB,WACE;;;MACC,OAAO,CAAC,GAAG,CAAC,UAAC,CAAC,EAAK;AAClB,eAAO;;YAAK,SAAS,EAAC,kBAAkB;UACtC;;cAAI,GAAG,EAAE,CAAC,CAAC,GAAG,AAAC;YAAC;AAAC,kBAAI;gBAAC,EAAE,EAAC,eAAe,EAAC,MAAM,EAAE,EAAC,MAAM,EAAE,CAAC,CAAC,GAAG,EAAC,AAAC;cAAE,CAAC,CAAC,GAAG;aAAQ;WAAK;UACpF,MAAM,KAAK,CAAC,CAAC,GAAG,IAAI;;cAAI,KAAK,EAAE,EAAC,QAAQ,EAAE,UAAU,EAAE,GAAG,EAAE,KAAK,EAAC,AAAC;YAChE,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,UAAC,CAAC;qBAAK;AAAC,oBAAI;kBAAC,EAAE,EAAC,uBAAuB,EAAC,MAAM,EAAE,EAAC,KAAK,EAAE,GAAG,EAAE,KAAK,qBAAmB,CAAC,CAAC,GAAG,QAAK,EAAC,AAAC,EAAC,KAAK,EAAE,EAAC,OAAO,EAAE,OAAO,EAAC,AAAC;gBAAE,CAAC,CAAC,GAAG;eAAQ;aAAA,CAAC;WAC/J;SACD,CAAA;OACP,CAAC;KACG,CACN;GACF;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,eAAe,CAAA",
      "file": "/var/www/art/src/artists-by-letter.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar { Link } = Router\nvar rest = require('rest')\n\nvar ArtistsByLetter = React.createClass({\n  mixins: [Router.State, Router.Navigation],\n\n  statics: { \n    fetchData: (params) => {\n      return rest('https://cdn.dx.artsmia.org/artists.json').then((r) => {\n        return JSON.parse(r.entity).aggregations.artist.buckets\n      })\n    }\n  },\n\n  render() {\n    if(!this.props.data.artistsByName) return <div className=\"loading\"></div>\n    var letter = this.getParams().letter\n    var letters = this.props.data.artistsByName.map((a) => a)\n    console.info(letters)\n    return (\n      <dl>\n      {letters.map((l) => {\n        return <div className='artist-by-letter'>\n          <dt key={l.key}><Link to=\"artistsByName\" params={{letter: l.key}}>{l.key}</Link></dt>\n          {letter === l.key && <dd style={{position: 'absolute', top: '3em'}}>\n            {l.byName.buckets.map((b) => <Link to=\"filteredSearchResults\" params={{terms: '*', splat: `artist.raw:%22${b.key}%22`}} style={{display: 'block'}}>{b.key}</Link>)}\n          </dd>}\n        </div>\n      })}\n      </dl>\n    )\n  }\n})\n\nmodule.exports = ArtistsByLetter\n"
      ]
    },
    "mtime": 1485807805238
  },
  "{\"filename\":\"/var/www/art/src/objects-by-id.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar rest = require('rest');\n\nvar SEARCH = require('./endpoints').search;\nvar ArtworkResult = require('./artwork-result');\nvar Search = require('./search');\n\nvar ObjectsById = React.createClass({\n  displayName: 'ObjectsById',\n\n  mixins: [Router.State],\n\n  statics: {\n    fetchData: {\n      searchResults: function searchResults(params) {\n        return rest(SEARCH + '/ids/' + params.ids).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    return React.createElement(Search, this.props);\n  }\n});\n\nmodule.exports = ObjectsById;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvb2JqZWN0cy1ieS1pZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUM1QixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7QUFDcEMsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFBOztBQUUxQixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsTUFBTSxDQUFBO0FBQzFDLElBQUksYUFBYSxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFBO0FBQy9DLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQTs7QUFFaEMsSUFBSSxXQUFXLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ2xDLFFBQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7O0FBRXRCLFNBQU8sRUFBRTtBQUNQLGFBQVMsRUFBRTtBQUNULG1CQUFhLEVBQUUsdUJBQUMsTUFBTTtlQUFLLElBQUksQ0FBSSxNQUFNLGFBQVEsTUFBTSxDQUFDLEdBQUcsQ0FBRyxDQUFDLElBQUksQ0FBQyxVQUFDLENBQUM7aUJBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO1NBQUEsQ0FBQztPQUFBO0tBQ2pHO0dBQ0Y7O0FBRUQsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsV0FBTyxvQkFBQyxNQUFNLEVBQUssSUFBSSxDQUFDLEtBQUssQ0FBSSxDQUFBO0dBQ2xDO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsV0FBVyxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvb2JqZWN0cy1ieS1pZC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcblxudmFyIFNFQVJDSCA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJykuc2VhcmNoXG52YXIgQXJ0d29ya1Jlc3VsdCA9IHJlcXVpcmUoJy4vYXJ0d29yay1yZXN1bHQnKVxudmFyIFNlYXJjaCA9IHJlcXVpcmUoJy4vc2VhcmNoJylcblxudmFyIE9iamVjdHNCeUlkID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBtaXhpbnM6IFtSb3V0ZXIuU3RhdGVdLFxuXG4gIHN0YXRpY3M6IHtcbiAgICBmZXRjaERhdGE6IHtcbiAgICAgIHNlYXJjaFJlc3VsdHM6IChwYXJhbXMpID0+IHJlc3QoYCR7U0VBUkNIfS9pZHMvJHtwYXJhbXMuaWRzfWApLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpKSxcbiAgICB9LFxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPFNlYXJjaCB7Li4udGhpcy5wcm9wc30gLz5cbiAgfVxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3RzQnlJZFxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/objects-by-id.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACpC,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;;AAE1B,IAAI,MAAM,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC,MAAM,CAAA;AAC1C,IAAI,aAAa,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAA;AAC/C,IAAI,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA;;AAEhC,IAAI,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAClC,QAAM,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;;AAEtB,SAAO,EAAE;AACP,aAAS,EAAE;AACT,mBAAa,EAAE,uBAAC,MAAM;eAAK,IAAI,CAAI,MAAM,aAAQ,MAAM,CAAC,GAAG,CAAG,CAAC,IAAI,CAAC,UAAC,CAAC;iBAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;SAAA,CAAC;OAAA;KACjG;GACF;;AAED,QAAM,EAAA,kBAAG;AACP,WAAO,oBAAC,MAAM,EAAK,IAAI,CAAC,KAAK,CAAI,CAAA;GAClC;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,WAAW,CAAA",
      "file": "/var/www/art/src/objects-by-id.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar rest = require('rest')\n\nvar SEARCH = require('./endpoints').search\nvar ArtworkResult = require('./artwork-result')\nvar Search = require('./search')\n\nvar ObjectsById = React.createClass({\n  mixins: [Router.State],\n\n  statics: {\n    fetchData: {\n      searchResults: (params) => rest(`${SEARCH}/ids/${params.ids}`).then((r) => JSON.parse(r.entity)),\n    },\n  },\n\n  render() {\n    return <Search {...this.props} />\n  }\n})\n\nmodule.exports = ObjectsById\n"
      ]
    },
    "mtime": 1456957925207
  },
  "{\"filename\":\"/var/www/art/src/department.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "sliced-to-array",
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Helmet = require('react-helmet');\n\nvar rest = require('rest');\n\nvar Search = require('./search');\nvar SearchResults = require('./search-results');\nvar Peek = require('./peek');\nvar DepartmentDecorator = require('./decorate/department');\nvar findDepartment = require('./department-slug');\nvar endpoint = require('./endpoints').info;\n\nvar Department = React.createClass({\n  displayName: 'Department',\n\n  mixins: [Router.State],\n\n  statics: {\n    fetchData: {\n      searchResults: function searchResults(params, query) {\n        params.terms = '*';\n        var name = findDepartment(params.dept)[0];\n        params.splat = 'department:\"' + name + '\"';\n        return SearchResults.fetchData.searchResults(params, query);\n      },\n      departments: function departments(params, query) {\n        return rest(endpoint).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var _findDepartment = findDepartment(this.props.params.dept);\n\n    var _findDepartment2 = _slicedToArray(_findDepartment, 3);\n\n    var deptName = _findDepartment2[0];\n    var _ = _findDepartment2[1];\n    var slug = _findDepartment2[2];\n\n    var facet = 'department:\"' + deptName + '\"';\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(Search, _extends({\n        facet: facet\n      }, this.props, {\n        hideInput: true,\n        hideResults: true })),\n      React.createElement(\n        'div',\n        { className: 'departmentPage' },\n        React.createElement(DepartmentDecorator, { department: deptName, params: this.props.params, departmentInfo: this.props.data.departments })\n      ),\n      React.createElement(Peek, { facet: 'department', q: deptName, quiltProps: { maxRowHeight: 400 }, offset: 10 }),\n      React.createElement(Helmet, { title: deptName })\n    );\n  }\n});\n\nmodule.exports = Department;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZGVwYXJ0bWVudC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0FBQ3BDLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTs7QUFFcEMsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFBOztBQUUxQixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUE7QUFDaEMsSUFBSSxhQUFhLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUE7QUFDL0MsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQzVCLElBQUksbUJBQW1CLEdBQUcsT0FBTyxDQUFDLHVCQUF1QixDQUFDLENBQUE7QUFDMUQsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7QUFDakQsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLElBQUksQ0FBQTs7QUFFMUMsSUFBSSxVQUFVLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ2pDLFFBQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7O0FBRXRCLFNBQU8sRUFBRTtBQUNQLGFBQVMsRUFBRTtBQUNULG1CQUFhLEVBQUUsdUJBQUMsTUFBTSxFQUFFLEtBQUssRUFBSztBQUNoQyxjQUFNLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQTtBQUNsQixZQUFJLElBQUksR0FBRyxjQUFjLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQ3pDLGNBQU0sQ0FBQyxLQUFLLEdBQUcsY0FBYyxHQUFDLElBQUksR0FBQyxHQUFHLENBQUE7QUFDdEMsZUFBTyxhQUFhLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUE7T0FDNUQ7QUFDRCxpQkFBVyxFQUFFLHFCQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUs7QUFDOUIsZUFBTyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsQ0FBQztpQkFBSyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7U0FBQSxDQUFDLENBQUE7T0FDeEQ7S0FDRjtHQUNGOztBQUVELFFBQU0sRUFBQSxrQkFBRzswQkFDbUIsY0FBYyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQzs7OztRQUEzRCxRQUFRO1FBQUUsQ0FBQztRQUFFLElBQUk7O0FBQ3RCLFFBQUksS0FBSyxvQkFBa0IsUUFBUSxNQUFHLENBQUE7QUFDdEMsV0FBTzs7O01BQ0wsb0JBQUMsTUFBTTtBQUNMLGFBQUssRUFBRSxLQUFLLEFBQUM7U0FDVCxJQUFJLENBQUMsS0FBSztBQUNkLGlCQUFTLEVBQUUsSUFBSSxBQUFDO0FBQ2hCLG1CQUFXLEVBQUUsSUFBSSxBQUFDLElBQUc7TUFDdkI7O1VBQUssU0FBUyxFQUFDLGdCQUFnQjtRQUM3QixvQkFBQyxtQkFBbUIsSUFBQyxVQUFVLEVBQUUsUUFBUSxBQUFDLEVBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxBQUFDLEVBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFdBQVcsQUFBQyxHQUFHO09BQ2pIO01BQ04sb0JBQUMsSUFBSSxJQUFDLEtBQUssRUFBQyxZQUFZLEVBQUMsQ0FBQyxFQUFFLFFBQVEsQUFBQyxFQUFDLFVBQVUsRUFBRSxFQUFDLFlBQVksRUFBRSxHQUFHLEVBQUMsQUFBQyxFQUFDLE1BQU0sRUFBRSxFQUFFLEFBQUMsR0FBRTtNQUNwRixvQkFBQyxNQUFNLElBQUMsS0FBSyxFQUFFLFFBQVEsQUFBQyxHQUFHO0tBQ3ZCLENBQUE7R0FDUDtDQUNGLENBQUMsQ0FBQTs7QUFFRixNQUFNLENBQUMsT0FBTyxHQUFHLFVBQVUsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2RlcGFydG1lbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxuXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxuXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zZWFyY2gnKVxudmFyIFNlYXJjaFJlc3VsdHMgPSByZXF1aXJlKCcuL3NlYXJjaC1yZXN1bHRzJylcbnZhciBQZWVrID0gcmVxdWlyZSgnLi9wZWVrJylcbnZhciBEZXBhcnRtZW50RGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9kZXBhcnRtZW50JylcbnZhciBmaW5kRGVwYXJ0bWVudCA9IHJlcXVpcmUoJy4vZGVwYXJ0bWVudC1zbHVnJylcbnZhciBlbmRwb2ludCA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJykuaW5mb1xuXG52YXIgRGVwYXJ0bWVudCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgbWl4aW5zOiBbUm91dGVyLlN0YXRlXSxcblxuICBzdGF0aWNzOiB7XG4gICAgZmV0Y2hEYXRhOiB7XG4gICAgICBzZWFyY2hSZXN1bHRzOiAocGFyYW1zLCBxdWVyeSkgPT4ge1xuICAgICAgICBwYXJhbXMudGVybXMgPSAnKidcbiAgICAgICAgdmFyIG5hbWUgPSBmaW5kRGVwYXJ0bWVudChwYXJhbXMuZGVwdClbMF1cbiAgICAgICAgcGFyYW1zLnNwbGF0ID0gJ2RlcGFydG1lbnQ6XCInK25hbWUrJ1wiJ1xuICAgICAgICByZXR1cm4gU2VhcmNoUmVzdWx0cy5mZXRjaERhdGEuc2VhcmNoUmVzdWx0cyhwYXJhbXMsIHF1ZXJ5KVxuICAgICAgfSxcbiAgICAgIGRlcGFydG1lbnRzOiAocGFyYW1zLCBxdWVyeSkgPT4ge1xuICAgICAgICByZXR1cm4gcmVzdChlbmRwb2ludCkudGhlbigocikgPT4gSlNPTi5wYXJzZShyLmVudGl0eSkpXG4gICAgICB9XG4gICAgfSxcbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIFtkZXB0TmFtZSwgXywgc2x1Z10gPSBmaW5kRGVwYXJ0bWVudCh0aGlzLnByb3BzLnBhcmFtcy5kZXB0KVxuICAgIHZhciBmYWNldCA9IGBkZXBhcnRtZW50OlwiJHtkZXB0TmFtZX1cImBcbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIDxTZWFyY2hcbiAgICAgICAgZmFjZXQ9e2ZhY2V0fVxuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgaGlkZUlucHV0PXt0cnVlfVxuICAgICAgICBoaWRlUmVzdWx0cz17dHJ1ZX0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGVwYXJ0bWVudFBhZ2VcIj5cbiAgICAgICAgPERlcGFydG1lbnREZWNvcmF0b3IgZGVwYXJ0bWVudD17ZGVwdE5hbWV9IHBhcmFtcz17dGhpcy5wcm9wcy5wYXJhbXN9IGRlcGFydG1lbnRJbmZvPXt0aGlzLnByb3BzLmRhdGEuZGVwYXJ0bWVudHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxQZWVrIGZhY2V0PVwiZGVwYXJ0bWVudFwiIHE9e2RlcHROYW1lfSBxdWlsdFByb3BzPXt7bWF4Um93SGVpZ2h0OiA0MDB9fSBvZmZzZXQ9ezEwfS8+XG4gICAgICA8SGVsbWV0IHRpdGxlPXtkZXB0TmFtZX0gLz5cbiAgICA8L2Rpdj5cbiAgfVxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBEZXBhcnRtZW50XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/department.js"
      ],
      "names": [],
      "mappings": ";;;;;;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACpC,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;;AAEpC,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;;AAE1B,IAAI,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA;AAChC,IAAI,aAAa,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAA;AAC/C,IAAI,IAAI,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAA;AAC5B,IAAI,mBAAmB,GAAG,OAAO,CAAC,uBAAuB,CAAC,CAAA;AAC1D,IAAI,cAAc,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAA;AACjD,IAAI,QAAQ,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC,IAAI,CAAA;;AAE1C,IAAI,UAAU,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACjC,QAAM,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;;AAEtB,SAAO,EAAE;AACP,aAAS,EAAE;AACT,mBAAa,EAAE,uBAAC,MAAM,EAAE,KAAK,EAAK;AAChC,cAAM,CAAC,KAAK,GAAG,GAAG,CAAA;AAClB,YAAI,IAAI,GAAG,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAA;AACzC,cAAM,CAAC,KAAK,GAAG,cAAc,GAAC,IAAI,GAAC,GAAG,CAAA;AACtC,eAAO,aAAa,CAAC,SAAS,CAAC,aAAa,CAAC,MAAM,EAAE,KAAK,CAAC,CAAA;OAC5D;AACD,iBAAW,EAAE,qBAAC,MAAM,EAAE,KAAK,EAAK;AAC9B,eAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,CAAC;iBAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;SAAA,CAAC,CAAA;OACxD;KACF;GACF;;AAED,QAAM,EAAA,kBAAG;0BACmB,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC;;;;QAA3D,QAAQ;QAAE,CAAC;QAAE,IAAI;;AACtB,QAAI,KAAK,oBAAkB,QAAQ,MAAG,CAAA;AACtC,WAAO;;;MACL,oBAAC,MAAM;AACL,aAAK,EAAE,KAAK,AAAC;SACT,IAAI,CAAC,KAAK;AACd,iBAAS,EAAE,IAAI,AAAC;AAChB,mBAAW,EAAE,IAAI,AAAC,IAAG;MACvB;;UAAK,SAAS,EAAC,gBAAgB;QAC7B,oBAAC,mBAAmB,IAAC,UAAU,EAAE,QAAQ,AAAC,EAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,AAAC,EAAC,cAAc,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,AAAC,GAAG;OACjH;MACN,oBAAC,IAAI,IAAC,KAAK,EAAC,YAAY,EAAC,CAAC,EAAE,QAAQ,AAAC,EAAC,UAAU,EAAE,EAAC,YAAY,EAAE,GAAG,EAAC,AAAC,EAAC,MAAM,EAAE,EAAE,AAAC,GAAE;MACpF,oBAAC,MAAM,IAAC,KAAK,EAAE,QAAQ,AAAC,GAAG;KACvB,CAAA;GACP;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,UAAU,CAAA",
      "file": "/var/www/art/src/department.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar Helmet = require('react-helmet')\n\nvar rest = require('rest')\n\nvar Search = require('./search')\nvar SearchResults = require('./search-results')\nvar Peek = require('./peek')\nvar DepartmentDecorator = require('./decorate/department')\nvar findDepartment = require('./department-slug')\nvar endpoint = require('./endpoints').info\n\nvar Department = React.createClass({\n  mixins: [Router.State],\n\n  statics: {\n    fetchData: {\n      searchResults: (params, query) => {\n        params.terms = '*'\n        var name = findDepartment(params.dept)[0]\n        params.splat = 'department:\"'+name+'\"'\n        return SearchResults.fetchData.searchResults(params, query)\n      },\n      departments: (params, query) => {\n        return rest(endpoint).then((r) => JSON.parse(r.entity))\n      }\n    },\n  },\n\n  render() {\n    var [deptName, _, slug] = findDepartment(this.props.params.dept)\n    var facet = `department:\"${deptName}\"`\n    return <div>\n      <Search\n        facet={facet}\n        {...this.props}\n        hideInput={true}\n        hideResults={true} />\n      <div className=\"departmentPage\">\n        <DepartmentDecorator department={deptName} params={this.props.params} departmentInfo={this.props.data.departments} />\n      </div>\n      <Peek facet=\"department\" q={deptName} quiltProps={{maxRowHeight: 400}} offset={10}/>\n      <Helmet title={deptName} />\n    </div>\n  }\n})\n\nmodule.exports = Department\n"
      ]
    },
    "mtime": 1449524147383
  },
  "{\"filename\":\"/var/www/art/src/curator.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "sliced-to-array"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar Helmet = require('react-helmet');\n\nvar rest = require('rest');\n\nvar Markdown = require('./markdown');\nvar endpoint = require('./endpoints').info;\nvar Search = require('./search');\nvar SearchResults = require('./search-results');\nvar Peek = require('./peek');\nvar DepartmentDecorator = require('./decorate/department');\nvar findDepartment = require('./department-slug');\n\nvar Curator = React.createClass({\n  displayName: 'Curator',\n\n  mixins: [Router.State],\n  headers: [{ curator: 'aaron-rio', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'andreas-marks', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'dennis-michael-jon', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'jan-lodewijk-grootaers', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'jennifer-komar-olivarez', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'jill-ahlberg-yohe', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'liu-yang', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'nicole-labouff', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'patrick-noon', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'rachel-mcgarry', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'thomas-rassieur', image: 'http://new.artsmia.org/exhibitions' }],\n  statics: {\n    fetchData: {\n      curator: function curator(params, query) {\n        return rest(endpoint).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var curator = this.props.data.curator.curators[this.props.params.slug];\n    var departmentLink;\n    var departmentNames = findDepartment(curator.department);\n    if (departmentNames) {\n      var _departmentNames = _slicedToArray(departmentNames, 3);\n\n      var _ = _departmentNames[0];\n      var _ = _departmentNames[1];\n      var departmentSlug = _departmentNames[2];\n\n      var departmentLink = React.createElement(\n        Link,\n        { to: 'department', params: { dept: departmentSlug } },\n        curator.department\n      );\n    }\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement('div', { className: 'curator-header' }),\n      React.createElement(\n        'div',\n        { className: 'curatorProfile pageText' },\n        React.createElement(\n          'h2',\n          null,\n          curator.name\n        ),\n        React.createElement(\n          'h4',\n          null,\n          departmentLink || curator.department\n        ),\n        React.createElement(\n          'h5',\n          null,\n          React.createElement(\n            Markdown,\n            null,\n            curator.title\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'curatorContent' },\n          React.createElement(\n            'div',\n            { className: 'curatorPic' },\n            React.createElement('img', { src: 'https://collections.artsmia.org/_info/curator-portraits/' + curator.slug + '.jpg', alt: 'portrait of ' + curator.name })\n          ),\n          React.createElement(\n            Markdown,\n            { alreadyRendered: true },\n            curator.output\n          )\n        ),\n        curator.cv && React.createElement(\n          'p',\n          null,\n          React.createElement(\n            'a',\n            { href: 'https://collections.artsmia.org/_info/cv/' + curator.cv },\n            'Curriculum Vitae'\n          )\n        )\n      )\n    );\n  }\n});\n\nmodule.exports = Curator;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvY3VyYXRvci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtJQUMvQixJQUFJLEdBQUksTUFBTSxDQUFkLElBQUk7O0FBQ1QsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBOztBQUVwQyxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUE7O0FBRTFCLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTtBQUNwQyxJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFBO0FBQzFDLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQTtBQUNoQyxJQUFJLGFBQWEsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQTtBQUMvQyxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUE7QUFDNUIsSUFBSSxtQkFBbUIsR0FBRyxPQUFPLENBQUMsdUJBQXVCLENBQUMsQ0FBQTtBQUMxRCxJQUFJLGNBQWMsR0FBRyxPQUFPLENBQUMsbUJBQW1CLENBQUMsQ0FBQTs7QUFFakQsSUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQzlCLFFBQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7QUFDdEIsU0FBTyxFQUFFLENBQ1AsRUFBQyxPQUFPLEVBQUMsV0FBVyxFQUFFLEtBQUssRUFBQyxvQ0FBb0MsRUFBQyxFQUNqRSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUUsS0FBSyxFQUFDLG9DQUFvQyxFQUFDLEVBQ3JFLEVBQUMsT0FBTyxFQUFDLG9CQUFvQixFQUFFLEtBQUssRUFBQyxvQ0FBb0MsRUFBQyxFQUMxRSxFQUFDLE9BQU8sRUFBQyx3QkFBd0IsRUFBRSxLQUFLLEVBQUMsb0NBQW9DLEVBQUMsRUFDOUUsRUFBQyxPQUFPLEVBQUMseUJBQXlCLEVBQUUsS0FBSyxFQUFDLG9DQUFvQyxFQUFDLEVBQy9FLEVBQUMsT0FBTyxFQUFDLG1CQUFtQixFQUFFLEtBQUssRUFBQyxvQ0FBb0MsRUFBQyxFQUN6RSxFQUFDLE9BQU8sRUFBQyxVQUFVLEVBQUUsS0FBSyxFQUFDLG9DQUFvQyxFQUFDLEVBQ2hFLEVBQUMsT0FBTyxFQUFDLGdCQUFnQixFQUFFLEtBQUssRUFBQyxvQ0FBb0MsRUFBQyxFQUN0RSxFQUFDLE9BQU8sRUFBQyxjQUFjLEVBQUUsS0FBSyxFQUFDLG9DQUFvQyxFQUFDLEVBQ3BFLEVBQUMsT0FBTyxFQUFDLGdCQUFnQixFQUFFLEtBQUssRUFBQyxvQ0FBb0MsRUFBQyxFQUN0RSxFQUFDLE9BQU8sRUFBQyxpQkFBaUIsRUFBRSxLQUFLLEVBQUMsb0NBQW9DLEVBQUMsQ0FDMUU7QUFDQyxTQUFPLEVBQUU7QUFDUCxhQUFTLEVBQUU7QUFDVCxhQUFPLEVBQUUsaUJBQUMsTUFBTSxFQUFFLEtBQUssRUFBSztBQUMxQixlQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQyxDQUFDO2lCQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztTQUFBLENBQUMsQ0FBQTtPQUN4RDtLQUNGO0dBQ0Y7O0FBRUQsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsUUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQTtBQUN0RSxRQUFJLGNBQWMsQ0FBQTtBQUNsQixRQUFJLGVBQWUsR0FBRyxjQUFjLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFBO0FBQ3hELFFBQUcsZUFBZSxFQUFFOzRDQUNXLGVBQWU7O1VBQXZDLENBQUM7VUFBRSxDQUFDO1VBQUUsY0FBYzs7QUFDekIsVUFBSSxjQUFjLEdBQUc7QUFBQyxZQUFJO1VBQUMsRUFBRSxFQUFDLFlBQVksRUFBQyxNQUFNLEVBQUUsRUFBQyxJQUFJLEVBQUUsY0FBYyxFQUFDLEFBQUM7UUFBRSxPQUFPLENBQUMsVUFBVTtPQUFRLENBQUE7S0FDdkc7O0FBR0gsV0FBTzs7O01BQ0wsNkJBQUssU0FBUyxFQUFDLGdCQUFnQixHQUFPO01BQ3RDOztVQUFLLFNBQVMsRUFBQyx5QkFBeUI7UUFDdEM7OztVQUFLLE9BQU8sQ0FBQyxJQUFJO1NBQU07UUFDdkI7OztVQUFLLGNBQWMsSUFBSSxPQUFPLENBQUMsVUFBVTtTQUFNO1FBQy9DOzs7VUFBSTtBQUFDLG9CQUFROztZQUFFLE9BQU8sQ0FBQyxLQUFLO1dBQVk7U0FBSztRQUM3Qzs7WUFBSyxTQUFTLEVBQUMsZ0JBQWdCO1VBQzdCOztjQUFLLFNBQVMsRUFBQyxZQUFZO1lBQ3pCLDZCQUFLLEdBQUcsK0RBQTZELE9BQU8sQ0FBQyxJQUFJLFNBQU8sRUFBQyxHQUFHLG1CQUFpQixPQUFPLENBQUMsSUFBSSxBQUFHLEdBQUc7V0FDM0g7VUFDTjtBQUFDLG9CQUFRO2NBQUMsZUFBZSxFQUFFLElBQUksQUFBQztZQUFFLE9BQU8sQ0FBQyxNQUFNO1dBQVk7U0FDeEQ7UUFDTCxPQUFPLENBQUMsRUFBRSxJQUFJOzs7VUFBRzs7Y0FBRyxJQUFJLGdEQUE4QyxPQUFPLENBQUMsRUFBRSxBQUFHOztXQUFxQjtTQUFJO09BQ3pHO0tBQ0YsQ0FBQTtHQUNMO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvY3VyYXRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHtMaW5rfSA9IFJvdXRlclxudmFyIEhlbG1ldCA9IHJlcXVpcmUoJ3JlYWN0LWhlbG1ldCcpXG5cbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG5cbnZhciBNYXJrZG93biA9IHJlcXVpcmUoJy4vbWFya2Rvd24nKVxudmFyIGVuZHBvaW50ID0gcmVxdWlyZSgnLi9lbmRwb2ludHMnKS5pbmZvXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zZWFyY2gnKVxudmFyIFNlYXJjaFJlc3VsdHMgPSByZXF1aXJlKCcuL3NlYXJjaC1yZXN1bHRzJylcbnZhciBQZWVrID0gcmVxdWlyZSgnLi9wZWVrJylcbnZhciBEZXBhcnRtZW50RGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9kZXBhcnRtZW50JylcbnZhciBmaW5kRGVwYXJ0bWVudCA9IHJlcXVpcmUoJy4vZGVwYXJ0bWVudC1zbHVnJylcblxudmFyIEN1cmF0b3IgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIG1peGluczogW1JvdXRlci5TdGF0ZV0sXG4gIGhlYWRlcnM6IFtcbiAgICB7Y3VyYXRvcjonYWFyb24tcmlvJywgaW1hZ2U6J2h0dHA6Ly9uZXcuYXJ0c21pYS5vcmcvZXhoaWJpdGlvbnMnfSxcbiAgICB7Y3VyYXRvcjonYW5kcmVhcy1tYXJrcycsIGltYWdlOidodHRwOi8vbmV3LmFydHNtaWEub3JnL2V4aGliaXRpb25zJ30sXG4gICAge2N1cmF0b3I6J2Rlbm5pcy1taWNoYWVsLWpvbicsIGltYWdlOidodHRwOi8vbmV3LmFydHNtaWEub3JnL2V4aGliaXRpb25zJ30sXG4gICAge2N1cmF0b3I6J2phbi1sb2Rld2lqay1ncm9vdGFlcnMnLCBpbWFnZTonaHR0cDovL25ldy5hcnRzbWlhLm9yZy9leGhpYml0aW9ucyd9LFxuICAgIHtjdXJhdG9yOidqZW5uaWZlci1rb21hci1vbGl2YXJleicsIGltYWdlOidodHRwOi8vbmV3LmFydHNtaWEub3JnL2V4aGliaXRpb25zJ30sXG4gICAge2N1cmF0b3I6J2ppbGwtYWhsYmVyZy15b2hlJywgaW1hZ2U6J2h0dHA6Ly9uZXcuYXJ0c21pYS5vcmcvZXhoaWJpdGlvbnMnfSxcbiAgICB7Y3VyYXRvcjonbGl1LXlhbmcnLCBpbWFnZTonaHR0cDovL25ldy5hcnRzbWlhLm9yZy9leGhpYml0aW9ucyd9LFxuICAgIHtjdXJhdG9yOiduaWNvbGUtbGFib3VmZicsIGltYWdlOidodHRwOi8vbmV3LmFydHNtaWEub3JnL2V4aGliaXRpb25zJ30sXG4gICAge2N1cmF0b3I6J3BhdHJpY2stbm9vbicsIGltYWdlOidodHRwOi8vbmV3LmFydHNtaWEub3JnL2V4aGliaXRpb25zJ30sXG4gICAge2N1cmF0b3I6J3JhY2hlbC1tY2dhcnJ5JywgaW1hZ2U6J2h0dHA6Ly9uZXcuYXJ0c21pYS5vcmcvZXhoaWJpdGlvbnMnfSxcbiAgICB7Y3VyYXRvcjondGhvbWFzLXJhc3NpZXVyJywgaW1hZ2U6J2h0dHA6Ly9uZXcuYXJ0c21pYS5vcmcvZXhoaWJpdGlvbnMnfSxcbl0sXG4gIHN0YXRpY3M6IHtcbiAgICBmZXRjaERhdGE6IHtcbiAgICAgIGN1cmF0b3I6IChwYXJhbXMsIHF1ZXJ5KSA9PiB7XG4gICAgICAgIHJldHVybiByZXN0KGVuZHBvaW50KS50aGVuKChyKSA9PiBKU09OLnBhcnNlKHIuZW50aXR5KSlcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIgY3VyYXRvciA9IHRoaXMucHJvcHMuZGF0YS5jdXJhdG9yLmN1cmF0b3JzW3RoaXMucHJvcHMucGFyYW1zLnNsdWddXG4gICAgdmFyIGRlcGFydG1lbnRMaW5rXG4gICAgdmFyIGRlcGFydG1lbnROYW1lcyA9IGZpbmREZXBhcnRtZW50KGN1cmF0b3IuZGVwYXJ0bWVudClcbiAgICBpZihkZXBhcnRtZW50TmFtZXMpIHtcbiAgICAgIHZhciBbXywgXywgZGVwYXJ0bWVudFNsdWddID0gZGVwYXJ0bWVudE5hbWVzXG4gICAgICB2YXIgZGVwYXJ0bWVudExpbmsgPSA8TGluayB0bz1cImRlcGFydG1lbnRcIiBwYXJhbXM9e3tkZXB0OiBkZXBhcnRtZW50U2x1Z319PntjdXJhdG9yLmRlcGFydG1lbnR9PC9MaW5rPlxuICAgIH1cblxuXG4gIHJldHVybiA8ZGl2PlxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY3VyYXRvci1oZWFkZXJcIj48L2Rpdj5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cImN1cmF0b3JQcm9maWxlIHBhZ2VUZXh0XCI+XG4gICAgICA8aDI+e2N1cmF0b3IubmFtZX08L2gyPlxuICAgICAgPGg0PntkZXBhcnRtZW50TGluayB8fCBjdXJhdG9yLmRlcGFydG1lbnR9PC9oND5cbiAgICAgIDxoNT48TWFya2Rvd24+e2N1cmF0b3IudGl0bGV9PC9NYXJrZG93bj48L2g1PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdXJhdG9yQ29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1cmF0b3JQaWNcIj5cbiAgICAgICAgICA8aW1nIHNyYz17YGh0dHBzOi8vY29sbGVjdGlvbnMuYXJ0c21pYS5vcmcvX2luZm8vY3VyYXRvci1wb3J0cmFpdHMvJHtjdXJhdG9yLnNsdWd9LmpwZ2B9IGFsdD17YHBvcnRyYWl0IG9mICR7Y3VyYXRvci5uYW1lfWB9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8TWFya2Rvd24gYWxyZWFkeVJlbmRlcmVkPXt0cnVlfT57Y3VyYXRvci5vdXRwdXR9PC9NYXJrZG93bj5cbiAgICAgIDwvZGl2PlxuICAgICAge2N1cmF0b3IuY3YgJiYgPHA+PGEgaHJlZj17YGh0dHBzOi8vY29sbGVjdGlvbnMuYXJ0c21pYS5vcmcvX2luZm8vY3YvJHtjdXJhdG9yLmN2fWB9PkN1cnJpY3VsdW0gVml0YWU8L2E+PC9wPn1cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIH1cbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gQ3VyYXRvclxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/curator.js"
      ],
      "names": [],
      "mappings": ";;;;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;IAC/B,IAAI,GAAI,MAAM,CAAd,IAAI;;AACT,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;;AAEpC,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;;AAE1B,IAAI,QAAQ,GAAG,OAAO,CAAC,YAAY,CAAC,CAAA;AACpC,IAAI,QAAQ,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC,IAAI,CAAA;AAC1C,IAAI,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA;AAChC,IAAI,aAAa,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAA;AAC/C,IAAI,IAAI,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAA;AAC5B,IAAI,mBAAmB,GAAG,OAAO,CAAC,uBAAuB,CAAC,CAAA;AAC1D,IAAI,cAAc,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAA;;AAEjD,IAAI,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC9B,QAAM,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;AACtB,SAAO,EAAE,CACP,EAAC,OAAO,EAAC,WAAW,EAAE,KAAK,EAAC,oCAAoC,EAAC,EACjE,EAAC,OAAO,EAAC,eAAe,EAAE,KAAK,EAAC,oCAAoC,EAAC,EACrE,EAAC,OAAO,EAAC,oBAAoB,EAAE,KAAK,EAAC,oCAAoC,EAAC,EAC1E,EAAC,OAAO,EAAC,wBAAwB,EAAE,KAAK,EAAC,oCAAoC,EAAC,EAC9E,EAAC,OAAO,EAAC,yBAAyB,EAAE,KAAK,EAAC,oCAAoC,EAAC,EAC/E,EAAC,OAAO,EAAC,mBAAmB,EAAE,KAAK,EAAC,oCAAoC,EAAC,EACzE,EAAC,OAAO,EAAC,UAAU,EAAE,KAAK,EAAC,oCAAoC,EAAC,EAChE,EAAC,OAAO,EAAC,gBAAgB,EAAE,KAAK,EAAC,oCAAoC,EAAC,EACtE,EAAC,OAAO,EAAC,cAAc,EAAE,KAAK,EAAC,oCAAoC,EAAC,EACpE,EAAC,OAAO,EAAC,gBAAgB,EAAE,KAAK,EAAC,oCAAoC,EAAC,EACtE,EAAC,OAAO,EAAC,iBAAiB,EAAE,KAAK,EAAC,oCAAoC,EAAC,CAC1E;AACC,SAAO,EAAE;AACP,aAAS,EAAE;AACT,aAAO,EAAE,iBAAC,MAAM,EAAE,KAAK,EAAK;AAC1B,eAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,CAAC;iBAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;SAAA,CAAC,CAAA;OACxD;KACF;GACF;;AAED,QAAM,EAAA,kBAAG;AACP,QAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;AACtE,QAAI,cAAc,CAAA;AAClB,QAAI,eAAe,GAAG,cAAc,CAAC,OAAO,CAAC,UAAU,CAAC,CAAA;AACxD,QAAG,eAAe,EAAE;4CACW,eAAe;;UAAvC,CAAC;UAAE,CAAC;UAAE,cAAc;;AACzB,UAAI,cAAc,GAAG;AAAC,YAAI;UAAC,EAAE,EAAC,YAAY,EAAC,MAAM,EAAE,EAAC,IAAI,EAAE,cAAc,EAAC,AAAC;QAAE,OAAO,CAAC,UAAU;OAAQ,CAAA;KACvG;;AAGH,WAAO;;;MACL,6BAAK,SAAS,EAAC,gBAAgB,GAAO;MACtC;;UAAK,SAAS,EAAC,yBAAyB;QACtC;;;UAAK,OAAO,CAAC,IAAI;SAAM;QACvB;;;UAAK,cAAc,IAAI,OAAO,CAAC,UAAU;SAAM;QAC/C;;;UAAI;AAAC,oBAAQ;;YAAE,OAAO,CAAC,KAAK;WAAY;SAAK;QAC7C;;YAAK,SAAS,EAAC,gBAAgB;UAC7B;;cAAK,SAAS,EAAC,YAAY;YACzB,6BAAK,GAAG,+DAA6D,OAAO,CAAC,IAAI,SAAO,EAAC,GAAG,mBAAiB,OAAO,CAAC,IAAI,AAAG,GAAG;WAC3H;UACN;AAAC,oBAAQ;cAAC,eAAe,EAAE,IAAI,AAAC;YAAE,OAAO,CAAC,MAAM;WAAY;SACxD;QACL,OAAO,CAAC,EAAE,IAAI;;;UAAG;;cAAG,IAAI,gDAA8C,OAAO,CAAC,EAAE,AAAG;;WAAqB;SAAI;OACzG;KACF,CAAA;GACL;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,OAAO,CAAA",
      "file": "/var/www/art/src/curator.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\nvar Helmet = require('react-helmet')\n\nvar rest = require('rest')\n\nvar Markdown = require('./markdown')\nvar endpoint = require('./endpoints').info\nvar Search = require('./search')\nvar SearchResults = require('./search-results')\nvar Peek = require('./peek')\nvar DepartmentDecorator = require('./decorate/department')\nvar findDepartment = require('./department-slug')\n\nvar Curator = React.createClass({\n  mixins: [Router.State],\n  headers: [\n    {curator:'aaron-rio', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'andreas-marks', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'dennis-michael-jon', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'jan-lodewijk-grootaers', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'jennifer-komar-olivarez', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'jill-ahlberg-yohe', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'liu-yang', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'nicole-labouff', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'patrick-noon', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'rachel-mcgarry', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'thomas-rassieur', image:'http://new.artsmia.org/exhibitions'},\n],\n  statics: {\n    fetchData: {\n      curator: (params, query) => {\n        return rest(endpoint).then((r) => JSON.parse(r.entity))\n      }\n    },\n  },\n\n  render() {\n    var curator = this.props.data.curator.curators[this.props.params.slug]\n    var departmentLink\n    var departmentNames = findDepartment(curator.department)\n    if(departmentNames) {\n      var [_, _, departmentSlug] = departmentNames\n      var departmentLink = <Link to=\"department\" params={{dept: departmentSlug}}>{curator.department}</Link>\n    }\n\n\n  return <div>\n    <div className=\"curator-header\"></div>\n    <div className=\"curatorProfile pageText\">\n      <h2>{curator.name}</h2>\n      <h4>{departmentLink || curator.department}</h4>\n      <h5><Markdown>{curator.title}</Markdown></h5>\n      <div className=\"curatorContent\">\n        <div className=\"curatorPic\">\n          <img src={`https://collections.artsmia.org/_info/curator-portraits/${curator.slug}.jpg`} alt={`portrait of ${curator.name}`} />\n        </div>\n        <Markdown alreadyRendered={true}>{curator.output}</Markdown>\n      </div>\n      {curator.cv && <p><a href={`https://collections.artsmia.org/_info/cv/${curator.cv}`}>Curriculum Vitae</a></p>}\n    </div>\n  </div>\n  }\n})\n\nmodule.exports = Curator\n"
      ]
    },
    "mtime": 1485807805242
  },
  "{\"filename\":\"/var/www/art/src/curators.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Helmet = require('react-helmet');\nvar Link = Router.Link;\n\nvar Markdown = require('./markdown');\nvar rest = require('rest');\nvar endpoint = require('./endpoints').info;\n\nvar Curators = React.createClass({\n  displayName: 'Curators',\n\n  mixins: [Router.State],\n\n  statics: {\n    fetchData: {\n      curators: function curators(params, query) {\n        return rest(endpoint).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var curators = this.props.data.curators.curators;\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement('div', { className: 'explore-header' }),\n      React.createElement(\n        'div',\n        { className: 'mdl-grid curatorsPage', id: 'curators' },\n        React.createElement(\n          'h2',\n          null,\n          'Curators'\n        ),\n        Object.keys(curators).filter(function (name) {\n          return ['kaywin-feldman', 'matthew-welch'].indexOf(name) == -1;\n        }).map(function (name) {\n          var curator = curators[name];\n          if (!curator || !curator.slug) return;\n\n          return React.createElement(\n            'div',\n            { className: 'mdl-cell curatorBio', key: curator.slug },\n            React.createElement(\n              Link,\n              { to: 'curator', params: { slug: curator.slug } },\n              React.createElement(\n                'div',\n                { className: 'curatorPic' },\n                React.createElement('img', { src: 'https://collections.artsmia.org/_info/curator-portraits/' + curator.slug + '.jpg', alt: 'portrait of ' + curator.name })\n              ),\n              React.createElement(\n                'div',\n                { className: 'curator-intro' },\n                React.createElement(\n                  'h4',\n                  null,\n                  curator.name\n                ),\n                React.createElement(\n                  'h5',\n                  null,\n                  React.createElement(\n                    Markdown,\n                    null,\n                    curator.title\n                  )\n                )\n              )\n            )\n          );\n        })\n      ),\n      React.createElement(Helmet, { title: 'Curators' })\n    );\n  }\n});\n\nmodule.exports = Curators;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvY3VyYXRvcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0FBQ3BDLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtJQUMvQixJQUFJLEdBQUksTUFBTSxDQUFkLElBQUk7O0FBRVQsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBO0FBQ3BDLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQTtBQUMxQixJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFBOztBQUcxQyxJQUFJLFFBQVEsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDL0IsUUFBTSxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQzs7QUFFdEIsU0FBTyxFQUFFO0FBQ1AsYUFBUyxFQUFFO0FBQ1QsY0FBUSxFQUFFLGtCQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUs7QUFDM0IsZUFBTyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsQ0FBQztpQkFBSyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7U0FBQSxDQUFDLENBQUE7T0FDeEQ7S0FDRjtHQUNGOztBQUVELFFBQU0sRUFBQSxrQkFBRztBQUNQLFFBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUE7O0FBRWhELFdBQU87OztNQUNQLDZCQUFLLFNBQVMsRUFBQyxnQkFBZ0IsR0FBTztNQUN0Qzs7VUFBSyxTQUFTLEVBQUMsdUJBQXVCLEVBQUMsRUFBRSxFQUFDLFVBQVU7UUFDbEQ7Ozs7U0FBaUI7UUFDaEIsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FDckIsTUFBTSxDQUFDLFVBQUEsSUFBSTtpQkFBSSxDQUFDLGdCQUFnQixFQUFFLGVBQWUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7U0FBQSxDQUFDLENBQ3ZFLEdBQUcsQ0FBQyxVQUFBLElBQUksRUFBSTtBQUNYLGNBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQTtBQUM1QixjQUFHLENBQUMsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxPQUFNOztBQUVwQyxpQkFBTzs7Y0FBSyxTQUFTLEVBQUMscUJBQXFCLEVBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxJQUFJLEFBQUM7WUFDNUQ7QUFBQyxrQkFBSTtnQkFBQyxFQUFFLEVBQUMsU0FBUyxFQUFDLE1BQU0sRUFBRSxFQUFDLElBQUksRUFBQyxPQUFPLENBQUMsSUFBSSxFQUFDLEFBQUM7Y0FDN0M7O2tCQUFLLFNBQVMsRUFBQyxZQUFZO2dCQUN6Qiw2QkFBSyxHQUFHLCtEQUE2RCxPQUFPLENBQUMsSUFBSSxTQUFPLEVBQUMsR0FBRyxtQkFBaUIsT0FBTyxDQUFDLElBQUksQUFBRyxHQUFHO2VBQzNIO2NBQ047O2tCQUFLLFNBQVMsRUFBQyxlQUFlO2dCQUM1Qjs7O2tCQUFLLE9BQU8sQ0FBQyxJQUFJO2lCQUFNO2dCQUN2Qjs7O2tCQUFJO0FBQUMsNEJBQVE7O29CQUFFLE9BQU8sQ0FBQyxLQUFLO21CQUFZO2lCQUFLO2VBQ3pDO2FBQ0Q7V0FDSCxDQUFBO1NBQ1AsQ0FBQztPQUNFO01BQ04sb0JBQUMsTUFBTSxJQUFDLEtBQUssRUFBQyxVQUFVLEdBQUc7S0FDckIsQ0FBQTtHQUNQO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvY3VyYXRvcnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxudmFyIHtMaW5rfSA9IFJvdXRlclxuXG52YXIgTWFya2Rvd24gPSByZXF1aXJlKCcuL21hcmtkb3duJylcbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG52YXIgZW5kcG9pbnQgPSByZXF1aXJlKCcuL2VuZHBvaW50cycpLmluZm9cblxuXG52YXIgQ3VyYXRvcnMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIG1peGluczogW1JvdXRlci5TdGF0ZV0sXG5cbiAgc3RhdGljczoge1xuICAgIGZldGNoRGF0YToge1xuICAgICAgY3VyYXRvcnM6IChwYXJhbXMsIHF1ZXJ5KSA9PiB7XG4gICAgICAgIHJldHVybiByZXN0KGVuZHBvaW50KS50aGVuKChyKSA9PiBKU09OLnBhcnNlKHIuZW50aXR5KSlcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIgY3VyYXRvcnMgPSB0aGlzLnByb3BzLmRhdGEuY3VyYXRvcnMuY3VyYXRvcnNcblxuICAgIHJldHVybiA8ZGl2PlxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZXhwbG9yZS1oZWFkZXJcIj48L2Rpdj5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1kbC1ncmlkIGN1cmF0b3JzUGFnZVwiIGlkPVwiY3VyYXRvcnNcIj5cbiAgICAgIDxoMj5DdXJhdG9yczwvaDI+XG4gICAgICB7T2JqZWN0LmtleXMoY3VyYXRvcnMpXG4gICAgICAuZmlsdGVyKG5hbWUgPT4gWydrYXl3aW4tZmVsZG1hbicsICdtYXR0aGV3LXdlbGNoJ10uaW5kZXhPZihuYW1lKSA9PSAtMSlcbiAgICAgIC5tYXAobmFtZSA9PiB7XG4gICAgICAgIHZhciBjdXJhdG9yID0gY3VyYXRvcnNbbmFtZV1cbiAgICAgICAgaWYoIWN1cmF0b3IgfHwgIWN1cmF0b3Iuc2x1ZykgcmV0dXJuXG5cbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibWRsLWNlbGwgY3VyYXRvckJpb1wiIGtleT17Y3VyYXRvci5zbHVnfT5cbiAgICAgICAgICA8TGluayB0bz1cImN1cmF0b3JcIiBwYXJhbXM9e3tzbHVnOmN1cmF0b3Iuc2x1Z319PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdXJhdG9yUGljXCI+XG4gICAgICAgICAgICAgIDxpbWcgc3JjPXtgaHR0cHM6Ly9jb2xsZWN0aW9ucy5hcnRzbWlhLm9yZy9faW5mby9jdXJhdG9yLXBvcnRyYWl0cy8ke2N1cmF0b3Iuc2x1Z30uanBnYH0gYWx0PXtgcG9ydHJhaXQgb2YgJHtjdXJhdG9yLm5hbWV9YH0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdXJhdG9yLWludHJvXCI+XG4gICAgICAgICAgICAgIDxoND57Y3VyYXRvci5uYW1lfTwvaDQ+XG4gICAgICAgICAgICAgIDxoNT48TWFya2Rvd24+e2N1cmF0b3IudGl0bGV9PC9NYXJrZG93bj48L2g1PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIH0pfVxuICAgIDwvZGl2PlxuICAgIDxIZWxtZXQgdGl0bGU9XCJDdXJhdG9yc1wiIC8+XG4gICAgPC9kaXY+XG4gIH1cbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gQ3VyYXRvcnNcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/curators.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACpC,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;IAC/B,IAAI,GAAI,MAAM,CAAd,IAAI;;AAET,IAAI,QAAQ,GAAG,OAAO,CAAC,YAAY,CAAC,CAAA;AACpC,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;AAC1B,IAAI,QAAQ,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC,IAAI,CAAA;;AAG1C,IAAI,QAAQ,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC/B,QAAM,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;;AAEtB,SAAO,EAAE;AACP,aAAS,EAAE;AACT,cAAQ,EAAE,kBAAC,MAAM,EAAE,KAAK,EAAK;AAC3B,eAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,CAAC;iBAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;SAAA,CAAC,CAAA;OACxD;KACF;GACF;;AAED,QAAM,EAAA,kBAAG;AACP,QAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAA;;AAEhD,WAAO;;;MACP,6BAAK,SAAS,EAAC,gBAAgB,GAAO;MACtC;;UAAK,SAAS,EAAC,uBAAuB,EAAC,EAAE,EAAC,UAAU;QAClD;;;;SAAiB;QAChB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CACrB,MAAM,CAAC,UAAA,IAAI;iBAAI,CAAC,gBAAgB,EAAE,eAAe,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAAA,CAAC,CACvE,GAAG,CAAC,UAAA,IAAI,EAAI;AACX,cAAI,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;AAC5B,cAAG,CAAC,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,OAAM;;AAEpC,iBAAO;;cAAK,SAAS,EAAC,qBAAqB,EAAC,GAAG,EAAE,OAAO,CAAC,IAAI,AAAC;YAC5D;AAAC,kBAAI;gBAAC,EAAE,EAAC,SAAS,EAAC,MAAM,EAAE,EAAC,IAAI,EAAC,OAAO,CAAC,IAAI,EAAC,AAAC;cAC7C;;kBAAK,SAAS,EAAC,YAAY;gBACzB,6BAAK,GAAG,+DAA6D,OAAO,CAAC,IAAI,SAAO,EAAC,GAAG,mBAAiB,OAAO,CAAC,IAAI,AAAG,GAAG;eAC3H;cACN;;kBAAK,SAAS,EAAC,eAAe;gBAC5B;;;kBAAK,OAAO,CAAC,IAAI;iBAAM;gBACvB;;;kBAAI;AAAC,4BAAQ;;oBAAE,OAAO,CAAC,KAAK;mBAAY;iBAAK;eACzC;aACD;WACH,CAAA;SACP,CAAC;OACE;MACN,oBAAC,MAAM,IAAC,KAAK,EAAC,UAAU,GAAG;KACrB,CAAA;GACP;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,QAAQ,CAAA",
      "file": "/var/www/art/src/curators.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar Helmet = require('react-helmet')\nvar {Link} = Router\n\nvar Markdown = require('./markdown')\nvar rest = require('rest')\nvar endpoint = require('./endpoints').info\n\n\nvar Curators = React.createClass({\n  mixins: [Router.State],\n\n  statics: {\n    fetchData: {\n      curators: (params, query) => {\n        return rest(endpoint).then((r) => JSON.parse(r.entity))\n      }\n    },\n  },\n\n  render() {\n    var curators = this.props.data.curators.curators\n\n    return <div>\n    <div className=\"explore-header\"></div>\n    <div className=\"mdl-grid curatorsPage\" id=\"curators\">\n      <h2>Curators</h2>\n      {Object.keys(curators)\n      .filter(name => ['kaywin-feldman', 'matthew-welch'].indexOf(name) == -1)\n      .map(name => {\n        var curator = curators[name]\n        if(!curator || !curator.slug) return\n\n        return <div className=\"mdl-cell curatorBio\" key={curator.slug}>\n          <Link to=\"curator\" params={{slug:curator.slug}}>\n            <div className=\"curatorPic\">\n              <img src={`https://collections.artsmia.org/_info/curator-portraits/${curator.slug}.jpg`} alt={`portrait of ${curator.name}`} />\n            </div>\n            <div className=\"curator-intro\">\n              <h4>{curator.name}</h4>\n              <h5><Markdown>{curator.title}</Markdown></h5>\n            </div>\n          </Link>\n        </div>\n      })}\n    </div>\n    <Helmet title=\"Curators\" />\n    </div>\n  }\n})\n\nmodule.exports = Curators\n"
      ]
    },
    "mtime": 1485807805242
  },
  "{\"filename\":\"/var/www/art/src/explore.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "to-array"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\nvar React = require('react');\nvar Helmet = require('react-helmet');\n\nvar Peek = require('./peek');\nvar Department = require('./department');\nvar Search = require('./search');\nvar Artwork = require('./artwork');\n\nvar Explore = React.createClass({\n  displayName: 'Explore',\n\n  statics: {\n    searchResults: Department.fetchData.searchResults\n  },\n\n  render: function render() {\n    return React.createElement(\n      'div',\n      null,\n      React.createElement('a', { href: '/art/8747', className: 'explore-header' }),\n      React.createElement(\n        'div',\n        { className: 'explore-section', style: { padding: '0 2.5em' } },\n        this.searches.map(function (_ref, index) {\n          var term = _ref.term;\n          var blurb = _ref.blurb;\n\n          var _term$split = term.split(':');\n\n          var _term$split2 = _toArray(_term$split);\n\n          var facet = _term$split2[0];\n\n          var terms = _term$split2.slice(1);\n\n          return React.createElement(\n            'section',\n            null,\n            React.createElement(\n              'h2',\n              null,\n              'Explore ',\n              React.createElement(\n                'span',\n                { style: { fontFamily: '\"MiaGrotesk-Light\",sans-serif' } },\n                terms[1]\n              )\n            ),\n            React.createElement(\n              'p',\n              null,\n              blurb\n            ),\n            React.createElement(Peek, {\n              offset: index * 5,\n              facet: facet,\n              q: terms.join(':'),\n              quiltProps: { maxRowHeight: 600 },\n              directLinkTo: terms[1],\n              shuffleQuilt: true\n            }),\n            React.createElement('hr', { style: { visibility: 'hidden' } })\n          );\n        }),\n        React.createElement(Helmet, { title: 'Explore the art' })\n      )\n    );\n  },\n\n  searches: [{ term: '_exists_:related:artstories', blurb: 'ArtStories are digital explorations of Mia’s highlights and hidden gems—from intriguing details to secret backstories—available on your computer, phone, or tablet.' }, { term: '_exists_:related:newsflashes', blurb: 'Thought-provoking and a little cheeky, Newsflash updates connect current events to the art in the museum. Look for new updates taped to the gallery walls, or find old ones online.' }, { term: '_exists_:related:audio-stops', blurb: 'Audio Stops are mini-podcasts that present many of Mia’s highlights and favorite artworks through sound and stories. Connect in the galleries or at home.' }, { term: '_exists_:related:stories', blurb: 'Mia Stories is the museum beyond the walls, outside the frame, at the lively intersection of life and art. From behind-the-scenes buzz to inspiring connections with current events, it’s the museum in conversation.' }]\n});\n\nmodule.exports = Explore;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZXhwbG9yZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTs7QUFFcEMsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQzVCLElBQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtBQUN4QyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUE7QUFDaEMsSUFBSSxPQUFPLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFBOztBQUVsQyxJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDOUIsU0FBTyxFQUFFO0FBQ1AsaUJBQWEsRUFBRSxVQUFVLENBQUMsU0FBUyxDQUFDLGFBQWE7R0FDbEQ7O0FBRUQsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsV0FBTzs7O01BQ0wsMkJBQUcsSUFBSSxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsZ0JBQWdCLEdBQUs7TUFDbkQ7O1VBQUssU0FBUyxFQUFDLGlCQUFpQixFQUFDLEtBQUssRUFBRSxFQUFDLE9BQU8sRUFBRSxTQUFTLEVBQUMsQUFBQztRQUM1RCxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxVQUFDLElBQWEsRUFBRSxLQUFLLEVBQUs7Y0FBeEIsSUFBSSxHQUFMLElBQWEsQ0FBWixJQUFJO2NBQUUsS0FBSyxHQUFaLElBQWEsQ0FBTixLQUFLOzs0QkFDTixJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQzs7OztjQUFsQyxLQUFLOztjQUFLLEtBQUs7O0FBQ3BCLGlCQUFPOzs7WUFDTDs7OztjQUFZOztrQkFBTSxLQUFLLEVBQUUsRUFBQyxVQUFVLEVBQUUsK0JBQStCLEVBQUMsQUFBQztnQkFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO2VBQVE7YUFBSztZQUM5Rjs7O2NBQUksS0FBSzthQUFLO1lBQ2Qsb0JBQUMsSUFBSTtBQUNILG9CQUFNLEVBQUUsS0FBSyxHQUFDLENBQUMsQUFBQztBQUNoQixtQkFBSyxFQUFFLEtBQUssQUFBQztBQUNiLGVBQUMsRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxBQUFDO0FBQ25CLHdCQUFVLEVBQUUsRUFBQyxZQUFZLEVBQUUsR0FBRyxFQUFDLEFBQUM7QUFDaEMsMEJBQVksRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLEFBQUM7QUFDdkIsMEJBQVksRUFBRSxJQUFJLEFBQUM7Y0FDakI7WUFDSiw0QkFBSSxLQUFLLEVBQUUsRUFBQyxVQUFVLEVBQUUsUUFBUSxFQUFDLEFBQUMsR0FBRztXQUM3QixDQUFBO1NBQ1gsQ0FBQztRQUNGLG9CQUFDLE1BQU0sSUFBQyxLQUFLLEVBQUMsaUJBQWlCLEdBQUc7T0FDOUI7S0FBTSxDQUFBO0dBQ2I7O0FBR0QsVUFBUSxFQUFFLENBQ1IsRUFBQyxJQUFJLEVBQUMsNkJBQTZCLEVBQUUsS0FBSyxFQUFDLHFLQUFxSyxFQUFDLEVBQ2pOLEVBQUMsSUFBSSxFQUFDLDhCQUE4QixFQUFFLEtBQUssRUFBQyxxTEFBcUwsRUFBQyxFQUNsTyxFQUFDLElBQUksRUFBQyw4QkFBOEIsRUFBRSxLQUFLLEVBQUMsMkpBQTJKLEVBQUMsRUFDeE0sRUFBQyxJQUFJLEVBQUMsMEJBQTBCLEVBQUUsS0FBSyxFQUFDLHVOQUF1TixFQUFDLENBQ2pRO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvZXhwbG9yZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxuXG52YXIgUGVlayA9IHJlcXVpcmUoJy4vcGVlaycpXG52YXIgRGVwYXJ0bWVudCA9IHJlcXVpcmUoJy4vZGVwYXJ0bWVudCcpXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zZWFyY2gnKVxudmFyIEFydHdvcmsgPSByZXF1aXJlKCcuL2FydHdvcmsnKVxuXG52YXIgRXhwbG9yZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgc3RhdGljczoge1xuICAgIHNlYXJjaFJlc3VsdHM6IERlcGFydG1lbnQuZmV0Y2hEYXRhLnNlYXJjaFJlc3VsdHNcbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8YSBocmVmPVwiL2FydC84NzQ3XCIgY2xhc3NOYW1lPVwiZXhwbG9yZS1oZWFkZXJcIj48L2E+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImV4cGxvcmUtc2VjdGlvblwiIHN0eWxlPXt7cGFkZGluZzogJzAgMi41ZW0nfX0+XG4gICAgICB7dGhpcy5zZWFyY2hlcy5tYXAoKHt0ZXJtLCBibHVyYn0sIGluZGV4KSA9PiB7XG4gICAgICAgIHZhciBbZmFjZXQsIC4uLnRlcm1zXSA9IHRlcm0uc3BsaXQoJzonKVxuICAgICAgICByZXR1cm4gPHNlY3Rpb24+XG4gICAgICAgICAgPGgyPkV4cGxvcmUgPHNwYW4gc3R5bGU9e3tmb250RmFtaWx5OiAnXCJNaWFHcm90ZXNrLUxpZ2h0XCIsc2Fucy1zZXJpZid9fT57dGVybXNbMV19PC9zcGFuPjwvaDI+XG4gICAgICAgICAgPHA+e2JsdXJifTwvcD5cbiAgICAgICAgICA8UGVla1xuICAgICAgICAgICAgb2Zmc2V0PXtpbmRleCo1fVxuICAgICAgICAgICAgZmFjZXQ9e2ZhY2V0fVxuICAgICAgICAgICAgcT17dGVybXMuam9pbignOicpfVxuICAgICAgICAgICAgcXVpbHRQcm9wcz17e21heFJvd0hlaWdodDogNjAwfX1cbiAgICAgICAgICAgIGRpcmVjdExpbmtUbz17dGVybXNbMV19XG4gICAgICAgICAgICBzaHVmZmxlUXVpbHQ9e3RydWV9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDxociBzdHlsZT17e3Zpc2liaWxpdHk6ICdoaWRkZW4nfX0gLz5cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgfSl9XG4gICAgICA8SGVsbWV0IHRpdGxlPVwiRXhwbG9yZSB0aGUgYXJ0XCIgLz5cbiAgICA8L2Rpdj48L2Rpdj5cbiAgfSxcblxuXG4gIHNlYXJjaGVzOiBbXG4gICAge3Rlcm06J19leGlzdHNfOnJlbGF0ZWQ6YXJ0c3RvcmllcycsIGJsdXJiOidBcnRTdG9yaWVzIGFyZSBkaWdpdGFsIGV4cGxvcmF0aW9ucyBvZiBNaWHigJlzIGhpZ2hsaWdodHMgYW5kIGhpZGRlbiBnZW1z4oCUZnJvbSBpbnRyaWd1aW5nIGRldGFpbHMgdG8gc2VjcmV0IGJhY2tzdG9yaWVz4oCUYXZhaWxhYmxlIG9uIHlvdXIgY29tcHV0ZXIsIHBob25lLCBvciB0YWJsZXQuJ30sXG4gICAge3Rlcm06J19leGlzdHNfOnJlbGF0ZWQ6bmV3c2ZsYXNoZXMnLCBibHVyYjonVGhvdWdodC1wcm92b2tpbmcgYW5kIGEgbGl0dGxlIGNoZWVreSwgTmV3c2ZsYXNoIHVwZGF0ZXMgY29ubmVjdCBjdXJyZW50IGV2ZW50cyB0byB0aGUgYXJ0IGluIHRoZSBtdXNldW0uIExvb2sgZm9yIG5ldyB1cGRhdGVzIHRhcGVkIHRvIHRoZSBnYWxsZXJ5IHdhbGxzLCBvciBmaW5kIG9sZCBvbmVzIG9ubGluZS4nfSxcbiAgICB7dGVybTonX2V4aXN0c186cmVsYXRlZDphdWRpby1zdG9wcycsIGJsdXJiOidBdWRpbyBTdG9wcyBhcmUgbWluaS1wb2RjYXN0cyB0aGF0IHByZXNlbnQgbWFueSBvZiBNaWHigJlzIGhpZ2hsaWdodHMgYW5kIGZhdm9yaXRlIGFydHdvcmtzIHRocm91Z2ggc291bmQgYW5kIHN0b3JpZXMuIENvbm5lY3QgaW4gdGhlIGdhbGxlcmllcyBvciBhdCBob21lLid9LFxuICAgIHt0ZXJtOidfZXhpc3RzXzpyZWxhdGVkOnN0b3JpZXMnLCBibHVyYjonTWlhIFN0b3JpZXMgaXMgdGhlIG11c2V1bSBiZXlvbmQgdGhlIHdhbGxzLCBvdXRzaWRlIHRoZSBmcmFtZSwgYXQgdGhlIGxpdmVseSBpbnRlcnNlY3Rpb24gb2YgbGlmZSBhbmQgYXJ0LiBGcm9tIGJlaGluZC10aGUtc2NlbmVzIGJ1enogdG8gaW5zcGlyaW5nIGNvbm5lY3Rpb25zIHdpdGggY3VycmVudCBldmVudHMsIGl04oCZcyB0aGUgbXVzZXVtIGluIGNvbnZlcnNhdGlvbi4nfSxcbiAgXSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gRXhwbG9yZVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/explore.js"
      ],
      "names": [],
      "mappings": ";;;;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;;AAEpC,IAAI,IAAI,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAA;AAC5B,IAAI,UAAU,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACxC,IAAI,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA;AAChC,IAAI,OAAO,GAAG,OAAO,CAAC,WAAW,CAAC,CAAA;;AAElC,IAAI,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC9B,SAAO,EAAE;AACP,iBAAa,EAAE,UAAU,CAAC,SAAS,CAAC,aAAa;GAClD;;AAED,QAAM,EAAA,kBAAG;AACP,WAAO;;;MACL,2BAAG,IAAI,EAAC,WAAW,EAAC,SAAS,EAAC,gBAAgB,GAAK;MACnD;;UAAK,SAAS,EAAC,iBAAiB,EAAC,KAAK,EAAE,EAAC,OAAO,EAAE,SAAS,EAAC,AAAC;QAC5D,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAC,IAAa,EAAE,KAAK,EAAK;cAAxB,IAAI,GAAL,IAAa,CAAZ,IAAI;cAAE,KAAK,GAAZ,IAAa,CAAN,KAAK;;4BACN,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;;;;cAAlC,KAAK;;cAAK,KAAK;;AACpB,iBAAO;;;YACL;;;;cAAY;;kBAAM,KAAK,EAAE,EAAC,UAAU,EAAE,+BAA+B,EAAC,AAAC;gBAAE,KAAK,CAAC,CAAC,CAAC;eAAQ;aAAK;YAC9F;;;cAAI,KAAK;aAAK;YACd,oBAAC,IAAI;AACH,oBAAM,EAAE,KAAK,GAAC,CAAC,AAAC;AAChB,mBAAK,EAAE,KAAK,AAAC;AACb,eAAC,EAAE,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,AAAC;AACnB,wBAAU,EAAE,EAAC,YAAY,EAAE,GAAG,EAAC,AAAC;AAChC,0BAAY,EAAE,KAAK,CAAC,CAAC,CAAC,AAAC;AACvB,0BAAY,EAAE,IAAI,AAAC;cACjB;YACJ,4BAAI,KAAK,EAAE,EAAC,UAAU,EAAE,QAAQ,EAAC,AAAC,GAAG;WAC7B,CAAA;SACX,CAAC;QACF,oBAAC,MAAM,IAAC,KAAK,EAAC,iBAAiB,GAAG;OAC9B;KAAM,CAAA;GACb;;AAGD,UAAQ,EAAE,CACR,EAAC,IAAI,EAAC,6BAA6B,EAAE,KAAK,EAAC,qKAAqK,EAAC,EACjN,EAAC,IAAI,EAAC,8BAA8B,EAAE,KAAK,EAAC,qLAAqL,EAAC,EAClO,EAAC,IAAI,EAAC,8BAA8B,EAAE,KAAK,EAAC,2JAA2J,EAAC,EACxM,EAAC,IAAI,EAAC,0BAA0B,EAAE,KAAK,EAAC,uNAAuN,EAAC,CACjQ;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,OAAO,CAAA",
      "file": "/var/www/art/src/explore.js",
      "sourcesContent": [
        "var React = require('react')\nvar Helmet = require('react-helmet')\n\nvar Peek = require('./peek')\nvar Department = require('./department')\nvar Search = require('./search')\nvar Artwork = require('./artwork')\n\nvar Explore = React.createClass({\n  statics: {\n    searchResults: Department.fetchData.searchResults\n  },\n\n  render() {\n    return <div>\n      <a href=\"/art/8747\" className=\"explore-header\"></a>\n      <div className=\"explore-section\" style={{padding: '0 2.5em'}}>\n      {this.searches.map(({term, blurb}, index) => {\n        var [facet, ...terms] = term.split(':')\n        return <section>\n          <h2>Explore <span style={{fontFamily: '\"MiaGrotesk-Light\",sans-serif'}}>{terms[1]}</span></h2>\n          <p>{blurb}</p>\n          <Peek\n            offset={index*5}\n            facet={facet}\n            q={terms.join(':')}\n            quiltProps={{maxRowHeight: 600}}\n            directLinkTo={terms[1]}\n            shuffleQuilt={true}\n            />\n          <hr style={{visibility: 'hidden'}} />\n        </section>\n      })}\n      <Helmet title=\"Explore the art\" />\n    </div></div>\n  },\n\n\n  searches: [\n    {term:'_exists_:related:artstories', blurb:'ArtStories are digital explorations of Mia’s highlights and hidden gems—from intriguing details to secret backstories—available on your computer, phone, or tablet.'},\n    {term:'_exists_:related:newsflashes', blurb:'Thought-provoking and a little cheeky, Newsflash updates connect current events to the art in the museum. Look for new updates taped to the gallery walls, or find old ones online.'},\n    {term:'_exists_:related:audio-stops', blurb:'Audio Stops are mini-podcasts that present many of Mia’s highlights and favorite artworks through sound and stories. Connect in the galleries or at home.'},\n    {term:'_exists_:related:stories', blurb:'Mia Stories is the museum beyond the walls, outside the frame, at the lively intersection of life and art. From behind-the-scenes buzz to inspiring connections with current events, it’s the museum in conversation.'},\n  ],\n})\n\nmodule.exports = Explore\n"
      ]
    },
    "mtime": 1487953287530
  },
  "{\"filename\":\"/var/www/art/src/page.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Helmet = require('react-helmet');\nvar rest = require('rest');\n\nvar Search = require('./search');\nvar SearchResults = require('./search-results');\nvar Markdown = require('./markdown');\nvar Peek = require('./peek');\nvar collectionInfo = require('./endpoints').info;\n\nvar Page = React.createClass({\n  displayName: 'Page',\n\n  statics: {\n    fetchData: {\n      page: function page(params, query) {\n        return rest(collectionInfo).then(function (r) {\n          return JSON.parse(r.entity).pages;\n        }).then(function (pages) {\n          return pages[params.name];\n        });\n      },\n      searchResults: function searchResults(params, query) {\n        return Page.fetchData.page(params, query).then(function (page) {\n          return SearchResults.fetchData.searchResults({ terms: page.query });\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var _props$data$page = this.props.data.page;\n    var title = _props$data$page.title;\n    var content = _props$data$page.content;\n    var query = _props$data$page.query;\n\n    return React.createElement(\n      'section',\n      { className: 'page' },\n      query && React.createElement(Search, _extends({\n        hideResults: true,\n        hideInput: true,\n        facet: query\n      }, this.props)),\n      React.createElement(\n        'div',\n        { className: 'pageText' },\n        React.createElement(\n          'h1',\n          null,\n          title\n        ),\n        React.createElement(\n          Markdown,\n          null,\n          content\n        )\n      ),\n      query && React.createElement(Peek, { q: query, filtered: true, quiltProps: { maxRowHeight: 400 }, offset: 10 }),\n      React.createElement(Helmet, { title: title })\n    );\n  }\n});\n\nmodule.exports = Page;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvcGFnZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtBQUNwQyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7QUFDcEMsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFBOztBQUUxQixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUE7QUFDaEMsSUFBSSxhQUFhLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUE7QUFDL0MsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBO0FBQ3BDLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQTtBQUM1QixJQUFJLGNBQWMsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFBOztBQUVoRCxJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDM0IsU0FBTyxFQUFFO0FBQ1AsYUFBUyxFQUFFO0FBQ1QsVUFBSSxFQUFFLGNBQUMsTUFBTSxFQUFFLEtBQUs7ZUFBSyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQzFDLElBQUksQ0FBQyxVQUFBLENBQUM7aUJBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSztTQUFBLENBQUMsQ0FDckMsSUFBSSxDQUFDLFVBQUEsS0FBSztpQkFBSSxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQztTQUFBLENBQUM7T0FBQTtBQUNwQyxtQkFBYSxFQUFFLHVCQUFDLE1BQU0sRUFBRSxLQUFLO2VBQUssSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUNqRSxJQUFJLENBQUMsVUFBQSxJQUFJO2lCQUFJLGFBQWEsQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLEVBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUMsQ0FBQztTQUFBLENBQUM7T0FBQTtLQUM1RTtHQUNGOztBQUVELFFBQU0sRUFBQSxrQkFBRzsyQkFDdUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSTtRQUE3QyxLQUFLLG9CQUFMLEtBQUs7UUFBRSxPQUFPLG9CQUFQLE9BQU87UUFBRSxLQUFLLG9CQUFMLEtBQUs7O0FBRTFCLFdBQU87O1FBQVMsU0FBUyxFQUFDLE1BQU07TUFDN0IsS0FBSyxJQUFJLG9CQUFDLE1BQU07QUFDZixtQkFBVyxFQUFFLElBQUksQUFBQztBQUNsQixpQkFBUyxFQUFFLElBQUksQUFBQztBQUNoQixhQUFLLEVBQUUsS0FBSyxBQUFDO1NBQ1QsSUFBSSxDQUFDLEtBQUssRUFDZDtNQUVGOztVQUFLLFNBQVMsRUFBQyxVQUFVO1FBQ3ZCOzs7VUFBSyxLQUFLO1NBQU07UUFDaEI7QUFBQyxrQkFBUTs7VUFBRSxPQUFPO1NBQVk7T0FDMUI7TUFFTCxLQUFLLElBQUksb0JBQUMsSUFBSSxJQUFDLENBQUMsRUFBRSxLQUFLLEFBQUMsRUFBQyxRQUFRLEVBQUUsSUFBSSxBQUFDLEVBQUMsVUFBVSxFQUFFLEVBQUMsWUFBWSxFQUFFLEdBQUcsRUFBQyxBQUFDLEVBQUMsTUFBTSxFQUFFLEVBQUUsQUFBQyxHQUFHO01BQ3pGLG9CQUFDLE1BQU0sSUFBQyxLQUFLLEVBQUUsS0FBSyxBQUFDLEdBQUc7S0FDaEIsQ0FBQTtHQUNYO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvcGFnZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIEhlbG1ldCA9IHJlcXVpcmUoJ3JlYWN0LWhlbG1ldCcpXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxuXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zZWFyY2gnKVxudmFyIFNlYXJjaFJlc3VsdHMgPSByZXF1aXJlKCcuL3NlYXJjaC1yZXN1bHRzJylcbnZhciBNYXJrZG93biA9IHJlcXVpcmUoJy4vbWFya2Rvd24nKVxudmFyIFBlZWsgPSByZXF1aXJlKCcuL3BlZWsnKVxudmFyIGNvbGxlY3Rpb25JbmZvID0gcmVxdWlyZSgnLi9lbmRwb2ludHMnKS5pbmZvXG5cbnZhciBQYWdlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBzdGF0aWNzOiB7XG4gICAgZmV0Y2hEYXRhOiB7XG4gICAgICBwYWdlOiAocGFyYW1zLCBxdWVyeSkgPT4gcmVzdChjb2xsZWN0aW9uSW5mbylcbiAgICAgICAgLnRoZW4ociA9PiBKU09OLnBhcnNlKHIuZW50aXR5KS5wYWdlcylcbiAgICAgICAgLnRoZW4ocGFnZXMgPT4gcGFnZXNbcGFyYW1zLm5hbWVdKSxcbiAgICAgIHNlYXJjaFJlc3VsdHM6IChwYXJhbXMsIHF1ZXJ5KSA9PiBQYWdlLmZldGNoRGF0YS5wYWdlKHBhcmFtcywgcXVlcnkpXG4gICAgICAgIC50aGVuKHBhZ2UgPT4gU2VhcmNoUmVzdWx0cy5mZXRjaERhdGEuc2VhcmNoUmVzdWx0cyh7dGVybXM6IHBhZ2UucXVlcnl9KSlcbiAgICB9XG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciB7dGl0bGUsIGNvbnRlbnQsIHF1ZXJ5fSA9IHRoaXMucHJvcHMuZGF0YS5wYWdlXG5cbiAgICByZXR1cm4gPHNlY3Rpb24gY2xhc3NOYW1lPVwicGFnZVwiPlxuICAgICAge3F1ZXJ5ICYmIDxTZWFyY2hcbiAgICAgICAgaGlkZVJlc3VsdHM9e3RydWV9XG4gICAgICAgIGhpZGVJbnB1dD17dHJ1ZX1cbiAgICAgICAgZmFjZXQ9e3F1ZXJ5fVxuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgIC8+fVxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2VUZXh0XCI+XG4gICAgICAgIDxoMT57dGl0bGV9PC9oMT5cbiAgICAgICAgPE1hcmtkb3duPntjb250ZW50fTwvTWFya2Rvd24+XG4gICAgICA8L2Rpdj5cblxuICAgICAge3F1ZXJ5ICYmIDxQZWVrIHE9e3F1ZXJ5fSBmaWx0ZXJlZD17dHJ1ZX0gcXVpbHRQcm9wcz17e21heFJvd0hlaWdodDogNDAwfX0gb2Zmc2V0PXsxMH0gLz59XG4gICAgICA8SGVsbWV0IHRpdGxlPXt0aXRsZX0gLz5cbiAgICA8L3NlY3Rpb24+XG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IFBhZ2VcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/page.js"
      ],
      "names": [],
      "mappings": ";;;;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACpC,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACpC,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;;AAE1B,IAAI,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA;AAChC,IAAI,aAAa,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAA;AAC/C,IAAI,QAAQ,GAAG,OAAO,CAAC,YAAY,CAAC,CAAA;AACpC,IAAI,IAAI,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAA;AAC5B,IAAI,cAAc,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC,IAAI,CAAA;;AAEhD,IAAI,IAAI,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC3B,SAAO,EAAE;AACP,aAAS,EAAE;AACT,UAAI,EAAE,cAAC,MAAM,EAAE,KAAK;eAAK,IAAI,CAAC,cAAc,CAAC,CAC1C,IAAI,CAAC,UAAA,CAAC;iBAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK;SAAA,CAAC,CACrC,IAAI,CAAC,UAAA,KAAK;iBAAI,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC;SAAA,CAAC;OAAA;AACpC,mBAAa,EAAE,uBAAC,MAAM,EAAE,KAAK;eAAK,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CACjE,IAAI,CAAC,UAAA,IAAI;iBAAI,aAAa,CAAC,SAAS,CAAC,aAAa,CAAC,EAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAC,CAAC;SAAA,CAAC;OAAA;KAC5E;GACF;;AAED,QAAM,EAAA,kBAAG;2BACuB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI;QAA7C,KAAK,oBAAL,KAAK;QAAE,OAAO,oBAAP,OAAO;QAAE,KAAK,oBAAL,KAAK;;AAE1B,WAAO;;QAAS,SAAS,EAAC,MAAM;MAC7B,KAAK,IAAI,oBAAC,MAAM;AACf,mBAAW,EAAE,IAAI,AAAC;AAClB,iBAAS,EAAE,IAAI,AAAC;AAChB,aAAK,EAAE,KAAK,AAAC;SACT,IAAI,CAAC,KAAK,EACd;MAEF;;UAAK,SAAS,EAAC,UAAU;QACvB;;;UAAK,KAAK;SAAM;QAChB;AAAC,kBAAQ;;UAAE,OAAO;SAAY;OAC1B;MAEL,KAAK,IAAI,oBAAC,IAAI,IAAC,CAAC,EAAE,KAAK,AAAC,EAAC,QAAQ,EAAE,IAAI,AAAC,EAAC,UAAU,EAAE,EAAC,YAAY,EAAE,GAAG,EAAC,AAAC,EAAC,MAAM,EAAE,EAAE,AAAC,GAAG;MACzF,oBAAC,MAAM,IAAC,KAAK,EAAE,KAAK,AAAC,GAAG;KAChB,CAAA;GACX;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,IAAI,CAAA",
      "file": "/var/www/art/src/page.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar Helmet = require('react-helmet')\nvar rest = require('rest')\n\nvar Search = require('./search')\nvar SearchResults = require('./search-results')\nvar Markdown = require('./markdown')\nvar Peek = require('./peek')\nvar collectionInfo = require('./endpoints').info\n\nvar Page = React.createClass({\n  statics: {\n    fetchData: {\n      page: (params, query) => rest(collectionInfo)\n        .then(r => JSON.parse(r.entity).pages)\n        .then(pages => pages[params.name]),\n      searchResults: (params, query) => Page.fetchData.page(params, query)\n        .then(page => SearchResults.fetchData.searchResults({terms: page.query}))\n    }\n  },\n\n  render() {\n    var {title, content, query} = this.props.data.page\n\n    return <section className=\"page\">\n      {query && <Search\n        hideResults={true}\n        hideInput={true}\n        facet={query}\n        {...this.props}\n      />}\n\n      <div className=\"pageText\">\n        <h1>{title}</h1>\n        <Markdown>{content}</Markdown>\n      </div>\n\n      {query && <Peek q={query} filtered={true} quiltProps={{maxRowHeight: 400}} offset={10} />}\n      <Helmet title={title} />\n    </section>\n  },\n})\n\nmodule.exports = Page\n"
      ]
    },
    "mtime": 1456957925207
  },
  "{\"filename\":\"/var/www/art/src/info.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar Helmet = require('react-helmet');\nvar rest = require('rest');\nvar toSlug = require('speakingurl');\nvar collectionInfo = require('./endpoints').info;\n\nvar Info = React.createClass({\n  displayName: 'Info',\n\n  statics: {\n    fetchData: {\n      pages: function pages(params, query) {\n        return rest(collectionInfo).then(function (r) {\n          return JSON.parse(r.entity).pages;\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var _this = this;\n\n    var pages = Object.keys(this.props.data.pages).filter(function (key) {\n      return !key.match('index');\n    }).map(function (name) {\n      return _this.props.data.pages[name];\n    });\n\n    return React.createElement(\n      'ul',\n      null,\n      pages.map(function (page) {\n        return React.createElement(\n          'li',\n          null,\n          React.createElement(\n            Link,\n            { to: 'page', params: { name: toSlug(page.title) } },\n            page.title\n          )\n        );\n      })\n    );\n  }\n});\n\nmodule.exports = Info;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvaW5mby5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUM1QixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7SUFDL0IsSUFBSSxHQUFJLE1BQU0sQ0FBZCxJQUFJOztBQUNULElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtBQUNwQyxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUE7QUFDMUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBO0FBQ25DLElBQUksY0FBYyxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQyxJQUFJLENBQUE7O0FBRWhELElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUMzQixTQUFPLEVBQUU7QUFDUCxhQUFTLEVBQUU7QUFDVCxXQUFLLEVBQUUsZUFBQyxNQUFNLEVBQUUsS0FBSztlQUFLLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FDM0MsSUFBSSxDQUFDLFVBQUEsQ0FBQztpQkFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLO1NBQUEsQ0FBQztPQUFBO0tBQ3pDO0dBQ0Y7O0FBRUQsUUFBTSxFQUFBLGtCQUFHOzs7QUFDUCxRQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUM3QyxNQUFNLENBQUMsVUFBQSxHQUFHO2FBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQztLQUFBLENBQUMsQ0FDbEMsR0FBRyxDQUFDLFVBQUEsSUFBSTthQUFJLE1BQUssS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO0tBQUEsQ0FBQyxDQUFBOztBQUV6QyxXQUFPOzs7TUFBSyxLQUFLLENBQUMsR0FBRyxDQUFDLFVBQUEsSUFBSSxFQUFJO0FBQzVCLGVBQU87OztVQUFJO0FBQUMsZ0JBQUk7Y0FBQyxFQUFFLEVBQUMsTUFBTSxFQUFDLE1BQU0sRUFBRSxFQUFDLElBQUksRUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFDLEFBQUM7WUFBRSxJQUFJLENBQUMsS0FBSztXQUFRO1NBQUssQ0FBQTtPQUN4RixDQUFDO0tBQU0sQ0FBQTtHQUNUO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvaW5mby5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHtMaW5rfSA9IFJvdXRlclxudmFyIEhlbG1ldCA9IHJlcXVpcmUoJ3JlYWN0LWhlbG1ldCcpXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxudmFyIHRvU2x1ZyA9IHJlcXVpcmUoJ3NwZWFraW5ndXJsJylcbnZhciBjb2xsZWN0aW9uSW5mbyA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJykuaW5mb1xuXG52YXIgSW5mbyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgc3RhdGljczoge1xuICAgIGZldGNoRGF0YToge1xuICAgICAgcGFnZXM6IChwYXJhbXMsIHF1ZXJ5KSA9PiByZXN0KGNvbGxlY3Rpb25JbmZvKVxuICAgICAgICAudGhlbihyID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpLnBhZ2VzKVxuICAgIH1cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHBhZ2VzID0gT2JqZWN0LmtleXModGhpcy5wcm9wcy5kYXRhLnBhZ2VzKVxuICAgIC5maWx0ZXIoa2V5ID0+ICFrZXkubWF0Y2goJ2luZGV4JykpXG4gICAgLm1hcChuYW1lID0+IHRoaXMucHJvcHMuZGF0YS5wYWdlc1tuYW1lXSlcblxuICAgIHJldHVybiA8dWw+e3BhZ2VzLm1hcChwYWdlID0+IHtcbiAgICAgIHJldHVybiA8bGk+PExpbmsgdG89XCJwYWdlXCIgcGFyYW1zPXt7bmFtZTogdG9TbHVnKHBhZ2UudGl0bGUpfX0+e3BhZ2UudGl0bGV9PC9MaW5rPjwvbGk+XG4gICAgfSl9PC91bD5cbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gSW5mb1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/info.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;IAC/B,IAAI,GAAI,MAAM,CAAd,IAAI;;AACT,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACpC,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;AAC1B,IAAI,MAAM,GAAG,OAAO,CAAC,aAAa,CAAC,CAAA;AACnC,IAAI,cAAc,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC,IAAI,CAAA;;AAEhD,IAAI,IAAI,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC3B,SAAO,EAAE;AACP,aAAS,EAAE;AACT,WAAK,EAAE,eAAC,MAAM,EAAE,KAAK;eAAK,IAAI,CAAC,cAAc,CAAC,CAC3C,IAAI,CAAC,UAAA,CAAC;iBAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK;SAAA,CAAC;OAAA;KACzC;GACF;;AAED,QAAM,EAAA,kBAAG;;;AACP,QAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAC7C,MAAM,CAAC,UAAA,GAAG;aAAI,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC;KAAA,CAAC,CAClC,GAAG,CAAC,UAAA,IAAI;aAAI,MAAK,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;KAAA,CAAC,CAAA;;AAEzC,WAAO;;;MAAK,KAAK,CAAC,GAAG,CAAC,UAAA,IAAI,EAAI;AAC5B,eAAO;;;UAAI;AAAC,gBAAI;cAAC,EAAE,EAAC,MAAM,EAAC,MAAM,EAAE,EAAC,IAAI,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,EAAC,AAAC;YAAE,IAAI,CAAC,KAAK;WAAQ;SAAK,CAAA;OACxF,CAAC;KAAM,CAAA;GACT;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,IAAI,CAAA",
      "file": "/var/www/art/src/info.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\nvar Helmet = require('react-helmet')\nvar rest = require('rest')\nvar toSlug = require('speakingurl')\nvar collectionInfo = require('./endpoints').info\n\nvar Info = React.createClass({\n  statics: {\n    fetchData: {\n      pages: (params, query) => rest(collectionInfo)\n        .then(r => JSON.parse(r.entity).pages)\n    }\n  },\n\n  render() {\n    var pages = Object.keys(this.props.data.pages)\n    .filter(key => !key.match('index'))\n    .map(name => this.props.data.pages[name])\n\n    return <ul>{pages.map(page => {\n      return <li><Link to=\"page\" params={{name: toSlug(page.title)}}>{page.title}</Link></li>\n    })}</ul>\n  },\n})\n\nmodule.exports = Info\n"
      ]
    },
    "mtime": 1456957925207
  },
  "{\"filename\":\"/var/www/art/src/gallery.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Helmet = require('react-helmet');\n\nvar rest = require('rest');\n\nvar Search = require('./search');\nvar SearchResults = require('./search-results');\nvar GalleryDecorator = require('./decorate/gallery.js');\nvar Markdown = require('./markdown');\nvar Peek = require('./peek');\n\nvar _require = require('../data/galleries.json');\n\nvar galleries = _require.galleries;\nvar messages = _require.messages;\n\nvar galleryPanelUrl = require('./endpoints').galleryPanel;\n\nvar Gallery = React.createClass({\n  displayName: 'Gallery',\n\n  mixins: [Router.State, Router.Navigation],\n\n  statics: {\n    fetchData: {\n      gallery: function gallery(params, query) {\n        var id = params.gallery.replace(/g/i, '');\n        var url = galleryPanelUrl(id);\n        return rest(url).then(function (result) {\n          return result.status.code == 200 ? result.entity : false;\n        });\n      },\n      searchResults: function searchResults(params, query) {\n        if (!params.gallery.match(/^g/i)) params.gallery = 'G' + params.gallery;\n        params.terms = '*';\n        params.splat = 'room:\"' + params.gallery + '\"';\n        return SearchResults.fetchData.searchResults(params, query);\n      }\n    },\n\n    willTransitionTo: function willTransitionTo(transition, params, query, callback) {\n      var gallery = params.gallery;\n\n      var isWithinTargetGalleries = gallery !== '266-G274' && 266 <= parseInt(gallery) && parseInt(gallery) <= 274;\n\n      if (isWithinTargetGalleries) {\n        transition.redirect('gallery', _extends({}, params, { gallery: '266-G274' }));\n      }\n\n      callback();\n    }\n  },\n\n  render: function render() {\n    var gallery = this.props.params.gallery;\n\n    var facet = 'room:\"' + gallery + '\"';\n    var galleryPanel = this.props.data.gallery;\n    var number = gallery.replace(/g/i, '');\n    if (number == '266-274') number = '266-G274';\n    var galleryInfo = galleries[number];\n    var galleryTitle = galleryPanel ? galleryPanel.replace(/^# /, '').split('\\n')[0] : galleryInfo.title;\n    var pageTitle = gallery + ': ' + (galleryTitle || 'On view now');\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(Search, _extends({\n        facet: facet\n      }, this.props, {\n        summaryProps: {\n          galleryPanel: galleryPanel,\n          showFullGalleryInfo: true\n        },\n        // changeTo: this.changeGallery,\n        disableHover: true // TODO: fix :hover going to the search results page\n      })),\n      React.createElement(Helmet, {\n        title: pageTitle,\n        meta: [{ property: \"og:title\", content: pageTitle + ' ^ Minneapolis Institute of Art' }, { property: \"og:description\", content: galleryTitle || '' }]\n      })\n    );\n  }\n});\n\nmodule.exports = Gallery;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZ2FsbGVyeS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtBQUNwQyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7O0FBRXBDLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQTs7QUFFMUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFBO0FBQ2hDLElBQUksYUFBYSxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFBO0FBQy9DLElBQUksZ0JBQWdCLEdBQUcsT0FBTyxDQUFDLHVCQUF1QixDQUFDLENBQUE7QUFDdkQsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBO0FBQ3BDLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQTs7ZUFDQSxPQUFPLENBQUMsd0JBQXdCLENBQUM7O0lBQXhELFNBQVMsWUFBVCxTQUFTO0lBQUUsUUFBUSxZQUFSLFFBQVE7O0FBQ3hCLElBQUksZUFBZSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQyxZQUFZLENBQUE7O0FBRXpELElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUM5QixRQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxVQUFVLENBQUM7O0FBRXpDLFNBQU8sRUFBRTtBQUNQLGFBQVMsRUFBRTtBQUNULGFBQU8sRUFBRSxpQkFBQyxNQUFNLEVBQUUsS0FBSyxFQUFLO0FBQzFCLFlBQUksRUFBRSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQTtBQUN6QyxZQUFJLEdBQUcs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QUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvZ2FsbGVyeS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIEhlbG1ldCA9IHJlcXVpcmUoJ3JlYWN0LWhlbG1ldCcpXG5cbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG5cbnZhciBTZWFyY2ggPSByZXF1aXJlKCcuL3NlYXJjaCcpXG52YXIgU2VhcmNoUmVzdWx0cyA9IHJlcXVpcmUoJy4vc2VhcmNoLXJlc3VsdHMnKVxudmFyIEdhbGxlcnlEZWNvcmF0b3IgPSByZXF1aXJlKCcuL2RlY29yYXRlL2dhbGxlcnkuanMnKVxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi9tYXJrZG93bicpXG52YXIgUGVlayA9IHJlcXVpcmUoJy4vcGVlaycpXG52YXIge2dhbGxlcmllcywgbWVzc2FnZXN9ID0gcmVxdWlyZSgnLi4vZGF0YS9nYWxsZXJpZXMuanNvbicpXG52YXIgZ2FsbGVyeVBhbmVsVXJsID0gcmVxdWlyZSgnLi9lbmRwb2ludHMnKS5nYWxsZXJ5UGFuZWxcblxudmFyIEdhbGxlcnkgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIG1peGluczogW1JvdXRlci5TdGF0ZSwgUm91dGVyLk5hdmlnYXRpb25dLFxuXG4gIHN0YXRpY3M6IHtcbiAgICBmZXRjaERhdGE6IHtcbiAgICAgIGdhbGxlcnk6IChwYXJhbXMsIHF1ZXJ5KSA9PiB7XG4gICAgICAgIHZhciBpZCA9IHBhcmFtcy5nYWxsZXJ5LnJlcGxhY2UoL2cvaSwgJycpXG4gICAgICAgIHZhciB1cmwgPSBnYWxsZXJ5UGFuZWxVcmwoaWQpXG4gICAgICAgIHJldHVybiByZXN0KHVybCkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgIHJldHVybiByZXN1bHQuc3RhdHVzLmNvZGUgPT0gMjAwID8gcmVzdWx0LmVudGl0eSA6IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgc2VhcmNoUmVzdWx0czogKHBhcmFtcywgcXVlcnkpID0+IHtcbiAgICAgICAgaWYoIXBhcmFtcy5nYWxsZXJ5Lm1hdGNoKC9eZy9pKSkgcGFyYW1zLmdhbGxlcnkgPSBgRyR7cGFyYW1zLmdhbGxlcnl9YFxuICAgICAgICBwYXJhbXMudGVybXMgPSAnKidcbiAgICAgICAgcGFyYW1zLnNwbGF0ID0gJ3Jvb206XCInK3BhcmFtcy5nYWxsZXJ5KydcIidcbiAgICAgICAgcmV0dXJuIFNlYXJjaFJlc3VsdHMuZmV0Y2hEYXRhLnNlYXJjaFJlc3VsdHMocGFyYW1zLCBxdWVyeSlcbiAgICAgIH0sXG4gICAgfSxcblxuICAgIHdpbGxUcmFuc2l0aW9uVG86IGZ1bmN0aW9uICh0cmFuc2l0aW9uLCBwYXJhbXMsIHF1ZXJ5LCBjYWxsYmFjaykge1xuICAgICAgdmFyIHtnYWxsZXJ5fSA9IHBhcmFtc1xuXG4gICAgICB2YXIgaXNXaXRoaW5UYXJnZXRHYWxsZXJpZXMgPSBnYWxsZXJ5ICE9PSAnMjY2LUcyNzQnICYmXG4gICAgICAgIDI2NiA8PSBwYXJzZUludChnYWxsZXJ5KVxuICAgICAgICAmJiBwYXJzZUludChnYWxsZXJ5KSA8PSAyNzRcblxuICAgICAgaWYoaXNXaXRoaW5UYXJnZXRHYWxsZXJpZXMpIHtcbiAgICAgICAgdHJhbnNpdGlvbi5yZWRpcmVjdCgnZ2FsbGVyeScsIHsuLi5wYXJhbXMsIGdhbGxlcnk6ICcyNjYtRzI3NCd9KVxuICAgICAgfVxuXG4gICAgICBjYWxsYmFjaygpXG4gICAgfSxcbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHtnYWxsZXJ5fSA9IHRoaXMucHJvcHMucGFyYW1zXG4gICAgdmFyIGZhY2V0ID0gYHJvb206XCIke2dhbGxlcnl9XCJgXG4gICAgdmFyIGdhbGxlcnlQYW5lbCA9IHRoaXMucHJvcHMuZGF0YS5nYWxsZXJ5XG4gICAgdmFyIG51bWJlciA9IGdhbGxlcnkucmVwbGFjZSgvZy9pLCAnJylcbiAgICBpZihudW1iZXIgPT0gJzI2Ni0yNzQnKSBudW1iZXIgPSAnMjY2LUcyNzQnXG4gICAgdmFyIGdhbGxlcnlJbmZvID0gZ2FsbGVyaWVzW251bWJlcl1cbiAgICB2YXIgZ2FsbGVyeVRpdGxlID0gZ2FsbGVyeVBhbmVsID9cbiAgICAgIGdhbGxlcnlQYW5lbC5yZXBsYWNlKC9eIyAvLCAnJykuc3BsaXQoJ1xcbicpWzBdIDpcbiAgICAgIGdhbGxlcnlJbmZvLnRpdGxlXG4gICAgdmFyIHBhZ2VUaXRsZSA9IGAke2dhbGxlcnl9OiAke2dhbGxlcnlUaXRsZSB8fCAnT24gdmlldyBub3cnfWBcblxuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPFNlYXJjaFxuICAgICAgICBmYWNldD17ZmFjZXR9XG4gICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICBzdW1tYXJ5UHJvcHM9e3tcbiAgICAgICAgICBnYWxsZXJ5UGFuZWw6IGdhbGxlcnlQYW5lbCxcbiAgICAgICAgICBzaG93RnVsbEdhbGxlcnlJbmZvOiB0cnVlLFxuICAgICAgICAgIC8vIGNoYW5nZVRvOiB0aGlzLmNoYW5nZUdhbGxlcnksXG4gICAgICAgIH19XG4gICAgICAgIGRpc2FibGVIb3Zlcj17dHJ1ZX0gLy8gVE9ETzogZml4IDpob3ZlciBnb2luZyB0byB0aGUgc2VhcmNoIHJlc3VsdHMgcGFnZVxuICAgICAgLz5cbiAgICAgIDxIZWxtZXRcbiAgICAgICAgdGl0bGU9e3BhZ2VUaXRsZX1cbiAgICAgICAgbWV0YT17W1xuICAgICAgICAgIHtwcm9wZXJ0eTogXCJvZzp0aXRsZVwiLCBjb250ZW50OiBwYWdlVGl0bGUgKyAnIF4gTWlubmVhcG9saXMgSW5zdGl0dXRlIG9mIEFydCd9LFxuICAgICAgICAgIHtwcm9wZXJ0eTogXCJvZzpkZXNjcmlwdGlvblwiLCBjb250ZW50OiBnYWxsZXJ5VGl0bGUgfHwgJyd9LFxuICAgICAgICBdfVxuICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBHYWxsZXJ5XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/gallery.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/gallery.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar Helmet = require('react-helmet')\n\nvar rest = require('rest')\n\nvar Search = require('./search')\nvar SearchResults = require('./search-results')\nvar GalleryDecorator = require('./decorate/gallery.js')\nvar Markdown = require('./markdown')\nvar Peek = require('./peek')\nvar {galleries, messages} = require('../data/galleries.json')\nvar galleryPanelUrl = require('./endpoints').galleryPanel\n\nvar Gallery = React.createClass({\n  mixins: [Router.State, Router.Navigation],\n\n  statics: {\n    fetchData: {\n      gallery: (params, query) => {\n        var id = params.gallery.replace(/g/i, '')\n        var url = galleryPanelUrl(id)\n        return rest(url).then(result => {\n          return result.status.code == 200 ? result.entity : false\n        })\n      },\n      searchResults: (params, query) => {\n        if(!params.gallery.match(/^g/i)) params.gallery = `G${params.gallery}`\n        params.terms = '*'\n        params.splat = 'room:\"'+params.gallery+'\"'\n        return SearchResults.fetchData.searchResults(params, query)\n      },\n    },\n\n    willTransitionTo: function (transition, params, query, callback) {\n      var {gallery} = params\n\n      var isWithinTargetGalleries = gallery !== '266-G274' &&\n        266 <= parseInt(gallery)\n        && parseInt(gallery) <= 274\n\n      if(isWithinTargetGalleries) {\n        transition.redirect('gallery', {...params, gallery: '266-G274'})\n      }\n\n      callback()\n    },\n  },\n\n  render() {\n    var {gallery} = this.props.params\n    var facet = `room:\"${gallery}\"`\n    var galleryPanel = this.props.data.gallery\n    var number = gallery.replace(/g/i, '')\n    if(number == '266-274') number = '266-G274'\n    var galleryInfo = galleries[number]\n    var galleryTitle = galleryPanel ?\n      galleryPanel.replace(/^# /, '').split('\\n')[0] :\n      galleryInfo.title\n    var pageTitle = `${gallery}: ${galleryTitle || 'On view now'}`\n\n    return <div>\n      <Search\n        facet={facet}\n        {...this.props}\n        summaryProps={{\n          galleryPanel: galleryPanel,\n          showFullGalleryInfo: true,\n          // changeTo: this.changeGallery,\n        }}\n        disableHover={true} // TODO: fix :hover going to the search results page\n      />\n      <Helmet\n        title={pageTitle}\n        meta={[\n          {property: \"og:title\", content: pageTitle + ' ^ Minneapolis Institute of Art'},\n          {property: \"og:description\", content: galleryTitle || ''},\n        ]}\n      />\n      </div>\n  },\n})\n\nmodule.exports = Gallery\n"
      ]
    },
    "mtime": 1456957925207
  },
  "{\"filename\":\"/var/www/art/src/more.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar toSlug = require('speakingurl');\nvar LazyLoad = require('react-lazy-load');\n\nvar SEARCH = require('./endpoints').search;\nvar rest = require('rest');\nvar Search = require('./search');\nvar MapPage = require('./map-page');\nvar Markdown = require('./markdown');\n\n// TODO: de-dupe this and src/home.js\nvar More = React.createClass({\n  displayName: 'More',\n\n  statics: {\n    fetchData: {\n      searchResults: function searchResults(params, query) {\n        var searchUrl = SEARCH + '/highlight:true';\n        return rest(searchUrl).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var smallViewport = window && window.innerWidth < 600;\n    var quiltProps = smallViewport ? { maxRows: 1, maxWorks: 5 } : { maxRows: 2, maxWorks: 9 };\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(Search, _extends({\n        hideResults: true,\n        activateInput: true,\n        quiltProps: quiltProps,\n        facet: 'highlight:true',\n        searchAll: true,\n        suggestStyle: { margin: \"1em 3em\" },\n        bumpSearchBox: smallViewport,\n        shuffleQuilt: true\n      }, this.props)),\n      React.createElement(\n        'div',\n        { id: 'more', className: 'welcome mdl-grid' },\n        React.createElement(\n          'div',\n          { className: 'mdl-cell mdl-cell--9-col' },\n          React.createElement(\n            'p',\n            null,\n            smallViewport && React.createElement('img', { src: '/images/more-icon.svg', style: { maxWidth: '7em', padding: '2em 1em 0.25em 1em', float: 'right' } }),\n            'There\\'s more to explore. Use your digital device to visit more.artsmia.org and enjoy additional multimedia content wherever you see this symbol.'\n          ),\n          React.createElement(\n            'p',\n            { 'class': 'labelHelper', style: { position: 'relative' } },\n            'To find more, search for an artwork by ',\n            React.createElement(\n              TombstoneTooltip,\n              null,\n              'title'\n            ),\n            ', ',\n            React.createElement(\n              TombstoneTooltip,\n              null,\n              'artist'\n            ),\n            ', or ',\n            React.createElement(\n              TombstoneTooltip,\n              null,\n              'accession number'\n            ),\n            '.'\n          ),\n          smallViewport || React.createElement(\n            'p',\n            null,\n            React.createElement('img', { src: '/images/more-icon.svg', style: { maxWidth: '11em' } })\n          ),\n          React.createElement(\n            'div',\n            null,\n            React.createElement(\n              'h2',\n              null,\n              'Personalize your Mia experience with new ways to explore art.'\n            ),\n            React.createElement(\n              'h3',\n              null,\n              'Journeys'\n            ),\n            React.createElement(\n              'p',\n              null,\n              'Use this new app to create a personalized journey through the museum or follow the suggestions of others. Either way, we’ll map it out for you. ',\n              React.createElement(\n                'a',\n                { href: 'https://itunes.apple.com/us/app/mia-journeys/id1058993004' },\n                'Download the app free (iOS).'\n              )\n            ),\n            React.createElement(ExpandableNewArtsmiaContentBlock, { page: 'journeys' }),\n            React.createElement(\n              'h3',\n              null,\n              'Overheard'\n            ),\n            React.createElement(\n              'p',\n              null,\n              'Eavesdrop on the conversations of fictional fellow visitors as they wander the galleries, using this playful new audio app. ',\n              React.createElement(\n                'a',\n                { href: 'https://itunes.apple.com/us/app/overheard-mia/id1116319582' },\n                'Download it free (iOS)'\n              ),\n              '.'\n            ),\n            React.createElement(ExpandableNewArtsmiaContentBlock, { page: 'overheard' }),\n            React.createElement(\n              'h3',\n              null,\n              'ArtStories'\n            ),\n            React.createElement(\n              'p',\n              null,\n              'In-depth multimedia explorations of Mia’s highlights and hidden gems—from intriguing details to secret backstories. Available on iPads in the galleries, and optimized for your smartphone or home computer: ',\n              React.createElement(\n                'a',\n                { href: 'https://artstories.artsmia.org' },\n                'ArtStories'\n              ),\n              '.'\n            ),\n            React.createElement(ExpandableNewArtsmiaContentBlock, { page: 'artstories' })\n          )\n        )\n      ),\n      React.createElement(\n        'div',\n        { id: 'map' },\n        React.createElement(\n          MapPage,\n          { hideList: true },\n          React.createElement(\n            Link,\n            { to: 'map', style: { textAlign: 'center', float: 'right', paddingRight: '1em' } },\n            'All galleries'\n          )\n        )\n      )\n    );\n  }\n});\n\nmodule.exports = More;\n\nvar ExpandableNewArtsmiaContentBlock = React.createClass({\n  displayName: 'ExpandableNewArtsmiaContentBlock',\n\n  // statics: {\n  //   fetchData: (params, query) => {\n  //   }\n  // },\n  getInitialState: function getInitialState() {\n    return {\n      expanded: false,\n      loaded: false\n    };\n  },\n\n  componentWillMount: function componentWillMount() {\n    this.loadExternalContent();\n  },\n\n  loadExternalContent: function loadExternalContent() {\n    var _this = this;\n\n    return rest('https://new.artsmia.org/wp-json/wp/v2/pages?slug=' + this.props.page).then(function (r) {\n      return JSON.parse(r.entity);\n    }).then(function (json) {\n      return _this.setState({ loaded: true, json: json });\n    });\n  },\n\n  render: function render() {\n    var _state = this.state;\n    var loaded = _state.loaded;\n    var expanded = _state.expanded;\n    var json = _state.json;\n\n    var toggleButton = React.createElement(\n      'a',\n      { href: '#', onClick: this.toggle },\n      expanded ? 'Less' : 'More',\n      ' Info'\n    );\n\n    var content = loaded && React.createElement(\n      'div',\n      null,\n      React.createElement(\n        Markdown,\n        null,\n        json[0].acf.modules[1].content[0].text\n      ),\n      React.createElement('hr', null)\n    );\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'p',\n        null,\n        toggleButton\n      ),\n      loaded && expanded && content\n    );\n  },\n\n  toggle: function toggle(event) {\n    this.setState({ expanded: !this.state.expanded });\n    event.preventDefault();\n    return false;\n  }\n});\n\nvar RandomArtworkTombstone = require('./random-artwork-tombstone');\nvar TombstoneTooltip = React.createClass({\n  displayName: 'TombstoneTooltip',\n\n  render: function render() {\n    var _state2 = this.state;\n    var expanded = _state2.expanded;\n    var timeClicked = _state2.timeClicked;\n\n    var styles = {\n      position: 'absolute',\n      background: 'white',\n      zIndex: 1000,\n      width: '90vw',\n      padding: '1em',\n      border: '1px solid black',\n      marginTop: '1em'\n    };\n\n    var fieldToHighlight = this.props.children;\n\n    return React.createElement(\n      'span',\n      { style: { display: 'inline', cursor: 'pointer' },\n        onMouseOver: this.toggleExpanded.bind(this, true),\n        onMouseOut: this.toggleExpanded.bind(this, false),\n        onClick: this.toggleExpanded },\n      React.createElement(\n        'a',\n        { onclick: 'return false' },\n        this.props.children\n      ),\n      expanded && React.createElement(\n        'div',\n        { style: styles },\n        React.createElement(RandomArtworkTombstone, { fieldToHighlight: fieldToHighlight })\n      )\n    );\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      expanded: false\n    };\n  },\n\n  toggleExpanded: function toggleExpanded(value) {\n    this.setState({\n      expanded: value || !this.state.expanded\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvbW9yZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtJQUMvQixJQUFJLEdBQUksTUFBTSxDQUFkLElBQUk7O0FBRVQsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBO0FBQ25DLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFBOztBQUV6QyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsTUFBTSxDQUFBO0FBQzFDLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQTtBQUMxQixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUE7QUFDaEMsSUFBSSxPQUFPLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBO0FBQ25DLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTs7O0FBR3BDLElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUMzQixTQUFPLEVBQUU7QUFDUCxhQUFTLEVBQUU7QUFDVCxtQkFBYSxFQUFFLHVCQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUs7QUFDaEMsWUFBSSxTQUFTLEdBQU0sTUFBTSxvQkFBaUIsQ0FBQTtBQUMxQyxlQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQyxDQUFDO2lCQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztTQUFBLENBQUMsQ0FBQTtPQUN6RDtLQUNGO0dBQ0Y7O0FBRUQsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsUUFBSSxhQUFhLEdBQUcsTUFBTSxJQUFJLE1BQU0sQ0FBQyxVQUFVLEdBQUcsR0FB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QUUsS0FBSztLQUNoQixDQUFBO0dBQ0Y7O0FBRUQsZ0JBQWMsRUFBQSx3QkFBQyxLQUFLLEVBQUU7QUFDcEIsUUFBSSxDQUFDLFFBQVEsQ0FBQztBQUNaLGNBQVEsRUFBRSxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVE7S0FDeEMsQ0FBQyxDQUFBO0dBQ0g7Q0FDRixDQUFDLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9tb3JlLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIge0xpbmt9ID0gUm91dGVyXG5cbnZhciB0b1NsdWcgPSByZXF1aXJlKCdzcGVha2luZ3VybCcpXG52YXIgTGF6eUxvYWQgPSByZXF1aXJlKCdyZWFjdC1sYXp5LWxvYWQnKVxuXG52YXIgU0VBUkNIID0gcmVxdWlyZSgnLi9lbmRwb2ludHMnKS5zZWFyY2hcbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zZWFyY2gnKVxudmFyIE1hcFBhZ2UgPSByZXF1aXJlKCcuL21hcC1wYWdlJylcbnZhciBNYXJrZG93biA9IHJlcXVpcmUoJy4vbWFya2Rvd24nKVxuXG4vLyBUT0RPOiBkZS1kdXBlIHRoaXMgYW5kIHNyYy9ob21lLmpzXG52YXIgTW9yZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgc3RhdGljczoge1xuICAgIGZldGNoRGF0YToge1xuICAgICAgc2VhcmNoUmVzdWx0czogKHBhcmFtcywgcXVlcnkpID0+IHtcbiAgICAgICAgbGV0IHNlYXJjaFVybCA9IGAke1NFQVJDSH0vaGlnaGxpZ2h0OnRydWVgXG4gICAgICAgIHJldHVybiByZXN0KHNlYXJjaFVybCkudGhlbigocikgPT4gSlNPTi5wYXJzZShyLmVudGl0eSkpXG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgc21hbGxWaWV3cG9ydCA9IHdpbmRvdyAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8IDYwMFxuICAgIGxldCBxdWlsdFByb3BzID0gc21hbGxWaWV3cG9ydCA/IFxuICAgICAge21heFJvd3M6IDEsIG1heFdvcmtzOiA1fSA6XG4gICAgICB7bWF4Um93czogMiwgbWF4V29ya3M6IDl9XG5cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIDxTZWFyY2hcbiAgICAgICAgaGlkZVJlc3VsdHM9e3RydWV9XG4gICAgICAgIGFjdGl2YXRlSW5wdXQ9e3RydWV9XG4gICAgICAgIHF1aWx0UHJvcHM9e3F1aWx0UHJvcHN9XG4gICAgICAgIGZhY2V0PXsnaGlnaGxpZ2h0OnRydWUnfVxuICAgICAgICBzZWFyY2hBbGw9e3RydWV9XG4gICAgICAgIHN1Z2dlc3RTdHlsZT17e21hcmdpbjogXCIxZW0gM2VtXCJ9fVxuICAgICAgICBidW1wU2VhcmNoQm94PXtzbWFsbFZpZXdwb3J0fVxuICAgICAgICBzaHVmZmxlUXVpbHQ9e3RydWV9XG4gICAgICAgIHsuLi50aGlzLnByb3BzfSAvPlxuXG4gICAgICA8ZGl2IGlkPVwibW9yZVwiIGNsYXNzTmFtZT1cIndlbGNvbWUgbWRsLWdyaWRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZGwtY2VsbCBtZGwtY2VsbC0tOS1jb2xcIj5cbiAgICAgICAgICA8cD5cbiAgICAgICAgICAgIHtzbWFsbFZpZXdwb3J0ICYmIDxpbWcgc3JjPVwiL2ltYWdlcy9tb3JlLWljb24uc3ZnXCIgc3R5bGU9e3ttYXhXaWR0aDogJzdlbScsIHBhZGRpbmc6ICcyZW0gMWVtIDAuMjVlbSAxZW0nLCBmbG9hdDogJ3JpZ2h0J319IC8+fVxuICAgICAgICAgICAgVGhlcmUncyBtb3JlIHRvIGV4cGxvcmUuIFVzZSB5b3VyIGRpZ2l0YWwgZGV2aWNlIHRvIHZpc2l0IG1vcmUuYXJ0c21pYS5vcmcgYW5kIGVuam95IGFkZGl0aW9uYWwgbXVsdGltZWRpYSBjb250ZW50IHdoZXJldmVyIHlvdSBzZWUgdGhpcyBzeW1ib2wuXG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxwIGNsYXNzPVwibGFiZWxIZWxwZXJcIiBzdHlsZT17e3Bvc2l0aW9uOiAncmVsYXRpdmUnfX0+VG8gZmluZCBtb3JlLCBzZWFyY2ggZm9yIGFuIGFydHdvcmsgYnkgPFRvbWJzdG9uZVRvb2x0aXA+dGl0bGU8L1RvbWJzdG9uZVRvb2x0aXA+LCA8VG9tYnN0b25lVG9vbHRpcD5hcnRpc3Q8L1RvbWJzdG9uZVRvb2x0aXA+LCBvciA8VG9tYnN0b25lVG9vbHRpcD5hY2Nlc3Npb24gbnVtYmVyPC9Ub21ic3RvbmVUb29sdGlwPi48L3A+XG4gICAgICAgICAge3NtYWxsVmlld3BvcnQgfHwgPHA+PGltZyBzcmM9XCIvaW1hZ2VzL21vcmUtaWNvbi5zdmdcIiBzdHlsZT17e21heFdpZHRoOiAnMTFlbSd9fSAvPjwvcD59XG5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGgyPlBlcnNvbmFsaXplIHlvdXIgTWlhIGV4cGVyaWVuY2Ugd2l0aCBuZXcgd2F5cyB0byBleHBsb3JlIGFydC48L2gyPlxuXG4gICAgICAgICAgICA8aDM+Sm91cm5leXM8L2gzPlxuICAgICAgICAgICAgPHA+VXNlIHRoaXMgbmV3IGFwcCB0byBjcmVhdGUgYSBwZXJzb25hbGl6ZWQgam91cm5leSB0aHJvdWdoIHRoZSBtdXNldW0gb3IgZm9sbG93IHRoZSBzdWdnZXN0aW9ucyBvZiBvdGhlcnMuIEVpdGhlciB3YXksIHdl4oCZbGwgbWFwIGl0IG91dCBmb3IgeW91LiA8YSBocmVmPVwiaHR0cHM6Ly9pdHVuZXMuYXBwbGUuY29tL3VzL2FwcC9taWEtam91cm5leXMvaWQxMDU4OTkzMDA0XCI+RG93bmxvYWQgdGhlIGFwcCBmcmVlIChpT1MpLjwvYT48L3A+XG4gICAgICAgICAgICA8RXhwYW5kYWJsZU5ld0FydHNtaWFDb250ZW50QmxvY2sgcGFnZT1cImpvdXJuZXlzXCIgLz5cblxuICAgICAgICAgICAgPGgzPk92ZXJoZWFyZDwvaDM+XG4gICAgICAgICAgICA8cD5FYXZlc2Ryb3Agb24gdGhlIGNvbnZlcnNhdGlvbnMgb2YgZmljdGlvbmFsIGZlbGxvdyB2aXNpdG9ycyBhcyB0aGV5IHdhbmRlciB0aGUgZ2FsbGVyaWVzLCB1c2luZyB0aGlzIHBsYXlmdWwgbmV3IGF1ZGlvIGFwcC4gPGEgaHJlZj1cImh0dHBzOi8vaXR1bmVzLmFwcGxlLmNvbS91cy9hcHAvb3ZlcmhlYXJkLW1pYS9pZDExMTYzMTk1ODJcIj5Eb3dubG9hZCBpdCBmcmVlIChpT1MpPC9hPi48L3A+XG4gICAgICAgICAgICA8RXhwYW5kYWJsZU5ld0FydHNtaWFDb250ZW50QmxvY2sgcGFnZT1cIm92ZXJoZWFyZFwiIC8+XG5cbiAgICAgICAgICAgIDxoMz5BcnRTdG9yaWVzPC9oMz5cbiAgICAgICAgICAgIDxwPkluLWRlcHRoIG11bHRpbWVkaWEgZXhwbG9yYXRpb25zIG9mIE1pYeKAmXMgaGlnaGxpZ2h0cyBhbmQgaGlkZGVuIGdlbXPigJRmcm9tIGludHJpZ3VpbmcgZGV0YWlscyB0byBzZWNyZXQgYmFja3N0b3JpZXMuIEF2YWlsYWJsZSBvbiBpUGFkcyBpbiB0aGUgZ2FsbGVyaWVzLCBhbmQgb3B0aW1pemVkIGZvciB5b3VyIHNtYXJ0cGhvbmUgb3IgaG9tZSBjb21wdXRlcjogPGEgaHJlZj1cImh0dHBzOi8vYXJ0c3Rvcmllcy5hcnRzbWlhLm9yZ1wiPkFydFN0b3JpZXM8L2E+LjwvcD5cbiAgICAgICAgICAgIDxFeHBhbmRhYmxlTmV3QXJ0c21pYUNvbnRlbnRCbG9jayBwYWdlPVwiYXJ0c3Rvcmllc1wiIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgaWQ9XCJtYXBcIj5cbiAgICAgICAgPE1hcFBhZ2UgaGlkZUxpc3Q9e3RydWV9PlxuICAgICAgICAgIDxMaW5rIHRvPVwibWFwXCIgc3R5bGU9e3t0ZXh0QWxpZ246ICdjZW50ZXInLCBmbG9hdDogJ3JpZ2h0JywgcGFkZGluZ1JpZ2h0OiAnMWVtJ319PlxuICAgICAgICAgICAgQWxsIGdhbGxlcmllc1xuICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgPC9NYXBQYWdlPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IE1vcmVcblxudmFyIEV4cGFuZGFibGVOZXdBcnRzbWlhQ29udGVudEJsb2NrID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAvLyBzdGF0aWNzOiB7XG4gIC8vICAgZmV0Y2hEYXRhOiAocGFyYW1zLCBxdWVyeSkgPT4ge1xuICAvLyAgIH1cbiAgLy8gfSxcbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBleHBhbmRlZDogZmFsc2UsXG4gICAgICBsb2FkZWQ6IGZhbHNlLFxuICAgIH1cbiAgfSxcblxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdGhpcy5sb2FkRXh0ZXJuYWxDb250ZW50KClcbiAgfSxcblxuICBsb2FkRXh0ZXJuYWxDb250ZW50KCkge1xuICAgIHJldHVybiByZXN0KCdodHRwczovL25ldy5hcnRzbWlhLm9yZy93cC1qc29uL3dwL3YyL3BhZ2VzP3NsdWc9Jyt0aGlzLnByb3BzLnBhZ2UpXG4gICAgLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpKVxuICAgIC50aGVuKGpzb24gPT4gdGhpcy5zZXRTdGF0ZSh7bG9hZGVkOiB0cnVlLCBqc29uOiBqc29ufSkpXG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciB7bG9hZGVkLCBleHBhbmRlZCwganNvbn0gPSB0aGlzLnN0YXRlXG4gICAgdmFyIHRvZ2dsZUJ1dHRvbiA9IDxhIGhyZWY9XCIjXCIgb25DbGljaz17dGhpcy50b2dnbGV9PntleHBhbmRlZCA/ICdMZXNzJyA6ICdNb3JlJ30gSW5mbzwvYT5cblxuICAgIHZhciBjb250ZW50ID0gbG9hZGVkICYmIDxkaXY+PE1hcmtkb3duPlxuICAgICAge2pzb25bMF0uYWNmLm1vZHVsZXNbMV0uY29udGVudFswXS50ZXh0fVxuICAgIDwvTWFya2Rvd24+PGhyIC8+PC9kaXY+XG5cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIDxwPnt0b2dnbGVCdXR0b259PC9wPlxuICAgICAge2xvYWRlZCAmJiBleHBhbmRlZCAmJiBjb250ZW50fVxuICAgIDwvZGl2PlxuICB9LFxuXG4gIHRvZ2dsZShldmVudCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe2V4cGFuZGVkOiAhdGhpcy5zdGF0ZS5leHBhbmRlZH0pXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIHJldHVybiBmYWxzZVxuICB9LFxufSlcblxudmFyIFJhbmRvbUFydHdvcmtUb21ic3RvbmUgPSByZXF1aXJlKCcuL3JhbmRvbS1hcnR3b3JrLXRvbWJzdG9uZScpXG52YXIgVG9tYnN0b25lVG9vbHRpcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7ZXhwYW5kZWQsIHRpbWVDbGlja2VkfSA9IHRoaXMuc3RhdGVcblxuICAgIHZhciBzdHlsZXMgPSB7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIGJhY2tncm91bmQ6ICd3aGl0ZScsXG4gICAgICB6SW5kZXg6IDEwMDAsXG4gICAgICB3aWR0aDogJzkwdncnLFxuICAgICAgcGFkZGluZzogJzFlbScsXG4gICAgICBib3JkZXI6ICcxcHggc29saWQgYmxhY2snLFxuICAgICAgbWFyZ2luVG9wOiAnMWVtJyxcbiAgICB9XG5cbiAgICB2YXIgZmllbGRUb0hpZ2hsaWdodCA9IHRoaXMucHJvcHMuY2hpbGRyZW5cblxuICAgIHJldHVybiA8c3BhbiBzdHlsZT17e2Rpc3BsYXk6ICdpbmxpbmUnLCBjdXJzb3I6ICdwb2ludGVyJ319XG4gICAgICBvbk1vdXNlT3Zlcj17dGhpcy50b2dnbGVFeHBhbmRlZC5iaW5kKHRoaXMsIHRydWUpfVxuICAgICAgb25Nb3VzZU91dD17dGhpcy50b2dnbGVFeHBhbmRlZC5iaW5kKHRoaXMsIGZhbHNlKX1cbiAgICAgIG9uQ2xpY2s9e3RoaXMudG9nZ2xlRXhwYW5kZWR9PlxuICAgICAgPGEgb25jbGljaz1cInJldHVybiBmYWxzZVwiPnt0aGlzLnByb3BzLmNoaWxkcmVufTwvYT5cbiAgICAgIHtleHBhbmRlZCAmJiA8ZGl2IHN0eWxlPXtzdHlsZXN9PlxuICAgICAgICA8UmFuZG9tQXJ0d29ya1RvbWJzdG9uZSBmaWVsZFRvSGlnaGxpZ2h0PXtmaWVsZFRvSGlnaGxpZ2h0fSAvPlxuICAgICAgPC9kaXY+fVxuICAgIDwvc3Bhbj5cbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGV4cGFuZGVkOiBmYWxzZSxcbiAgICB9XG4gIH0sXG5cbiAgdG9nZ2xlRXhwYW5kZWQodmFsdWUpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGV4cGFuZGVkOiB2YWx1ZSB8fCAhdGhpcy5zdGF0ZS5leHBhbmRlZCxcbiAgICB9KVxuICB9LFxufSlcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/more.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/more.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\n\nvar toSlug = require('speakingurl')\nvar LazyLoad = require('react-lazy-load')\n\nvar SEARCH = require('./endpoints').search\nvar rest = require('rest')\nvar Search = require('./search')\nvar MapPage = require('./map-page')\nvar Markdown = require('./markdown')\n\n// TODO: de-dupe this and src/home.js\nvar More = React.createClass({\n  statics: {\n    fetchData: {\n      searchResults: (params, query) => {\n        let searchUrl = `${SEARCH}/highlight:true`\n        return rest(searchUrl).then((r) => JSON.parse(r.entity))\n      }\n    }\n  },\n\n  render() {\n    let smallViewport = window && window.innerWidth < 600\n    let quiltProps = smallViewport ? \n      {maxRows: 1, maxWorks: 5} :\n      {maxRows: 2, maxWorks: 9}\n\n    return <div>\n      <Search\n        hideResults={true}\n        activateInput={true}\n        quiltProps={quiltProps}\n        facet={'highlight:true'}\n        searchAll={true}\n        suggestStyle={{margin: \"1em 3em\"}}\n        bumpSearchBox={smallViewport}\n        shuffleQuilt={true}\n        {...this.props} />\n\n      <div id=\"more\" className=\"welcome mdl-grid\">\n        <div className=\"mdl-cell mdl-cell--9-col\">\n          <p>\n            {smallViewport && <img src=\"/images/more-icon.svg\" style={{maxWidth: '7em', padding: '2em 1em 0.25em 1em', float: 'right'}} />}\n            There's more to explore. Use your digital device to visit more.artsmia.org and enjoy additional multimedia content wherever you see this symbol.\n          </p>\n          <p class=\"labelHelper\" style={{position: 'relative'}}>To find more, search for an artwork by <TombstoneTooltip>title</TombstoneTooltip>, <TombstoneTooltip>artist</TombstoneTooltip>, or <TombstoneTooltip>accession number</TombstoneTooltip>.</p>\n          {smallViewport || <p><img src=\"/images/more-icon.svg\" style={{maxWidth: '11em'}} /></p>}\n\n          <div>\n            <h2>Personalize your Mia experience with new ways to explore art.</h2>\n\n            <h3>Journeys</h3>\n            <p>Use this new app to create a personalized journey through the museum or follow the suggestions of others. Either way, we’ll map it out for you. <a href=\"https://itunes.apple.com/us/app/mia-journeys/id1058993004\">Download the app free (iOS).</a></p>\n            <ExpandableNewArtsmiaContentBlock page=\"journeys\" />\n\n            <h3>Overheard</h3>\n            <p>Eavesdrop on the conversations of fictional fellow visitors as they wander the galleries, using this playful new audio app. <a href=\"https://itunes.apple.com/us/app/overheard-mia/id1116319582\">Download it free (iOS)</a>.</p>\n            <ExpandableNewArtsmiaContentBlock page=\"overheard\" />\n\n            <h3>ArtStories</h3>\n            <p>In-depth multimedia explorations of Mia’s highlights and hidden gems—from intriguing details to secret backstories. Available on iPads in the galleries, and optimized for your smartphone or home computer: <a href=\"https://artstories.artsmia.org\">ArtStories</a>.</p>\n            <ExpandableNewArtsmiaContentBlock page=\"artstories\" />\n          </div>\n        </div>\n      </div>\n\n      <div id=\"map\">\n        <MapPage hideList={true}>\n          <Link to=\"map\" style={{textAlign: 'center', float: 'right', paddingRight: '1em'}}>\n            All galleries\n          </Link>\n        </MapPage>\n      </div>\n    </div>\n  },\n})\n\nmodule.exports = More\n\nvar ExpandableNewArtsmiaContentBlock = React.createClass({\n  // statics: {\n  //   fetchData: (params, query) => {\n  //   }\n  // },\n  getInitialState() {\n    return {\n      expanded: false,\n      loaded: false,\n    }\n  },\n\n  componentWillMount() {\n    this.loadExternalContent()\n  },\n\n  loadExternalContent() {\n    return rest('https://new.artsmia.org/wp-json/wp/v2/pages?slug='+this.props.page)\n    .then((r) => JSON.parse(r.entity))\n    .then(json => this.setState({loaded: true, json: json}))\n  },\n\n  render() {\n    var {loaded, expanded, json} = this.state\n    var toggleButton = <a href=\"#\" onClick={this.toggle}>{expanded ? 'Less' : 'More'} Info</a>\n\n    var content = loaded && <div><Markdown>\n      {json[0].acf.modules[1].content[0].text}\n    </Markdown><hr /></div>\n\n    return <div>\n      <p>{toggleButton}</p>\n      {loaded && expanded && content}\n    </div>\n  },\n\n  toggle(event) {\n    this.setState({expanded: !this.state.expanded})\n    event.preventDefault()\n    return false\n  },\n})\n\nvar RandomArtworkTombstone = require('./random-artwork-tombstone')\nvar TombstoneTooltip = React.createClass({\n  render() {\n    var {expanded, timeClicked} = this.state\n\n    var styles = {\n      position: 'absolute',\n      background: 'white',\n      zIndex: 1000,\n      width: '90vw',\n      padding: '1em',\n      border: '1px solid black',\n      marginTop: '1em',\n    }\n\n    var fieldToHighlight = this.props.children\n\n    return <span style={{display: 'inline', cursor: 'pointer'}}\n      onMouseOver={this.toggleExpanded.bind(this, true)}\n      onMouseOut={this.toggleExpanded.bind(this, false)}\n      onClick={this.toggleExpanded}>\n      <a onclick=\"return false\">{this.props.children}</a>\n      {expanded && <div style={styles}>\n        <RandomArtworkTombstone fieldToHighlight={fieldToHighlight} />\n      </div>}\n    </span>\n  },\n\n  getInitialState() {\n    return {\n      expanded: false,\n    }\n  },\n\n  toggleExpanded(value) {\n    this.setState({\n      expanded: value || !this.state.expanded,\n    })\n  },\n})\n"
      ]
    },
    "mtime": 1487953287534
  },
  "{\"filename\":\"/var/www/art/src/random-artwork-tombstone.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar rest = require('rest');\n\nvar Artwork = require('./_artwork');\nvar ArtworkPreview = require('./artwork-preview');\nvar SEARCH = require('./endpoints').search;\n\nmodule.exports = React.createClass({\n  displayName: 'exports',\n\n  render: function render() {\n    var art = this.state.art;\n    var fieldToHighlight = this.props.fieldToHighlight;\n\n    var highlight = function highlight(children, _highlight) {\n      return _highlight ? React.createElement(\n        'span',\n        { style: { color: 'red', fontWeight: 'bold', borderBottom: '1px solid black !important' } },\n        children\n      ) : children;\n    };\n\n    // and check on mobile = does touch work?\n    var rawTitle = React.createElement(Artwork.Title, { art: art, link: false });\n    var rawArtist = React.createElement(Artwork.Creator, { art: art });\n\n    return art && React.createElement(\n      'div',\n      { key: fieldToHighlight },\n      highlight(rawTitle, fieldToHighlight == 'title'),\n      highlight(rawArtist, fieldToHighlight == 'artist'),\n      React.createElement(Artwork.Tombstone, { art: art,\n        highlightAccessionNumber: fieldToHighlight == 'accession number',\n        highlighter: highlight })\n    );\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      art: null\n    };\n  },\n\n  componentDidMount: function componentDidMount() {\n    var _this = this;\n\n    rest(SEARCH + '/random/art').then(function (data) {\n      return _this.setState({ art: JSON.parse(data.entity) });\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvcmFuZG9tLWFydHdvcmstdG9tYnN0b25lLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtJQUMvQixJQUFJLEdBQUksTUFBTSxDQUFkLElBQUk7O0FBQ1QsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFBOztBQUUxQixJQUFJLE9BQU8sR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7QUFDbkMsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7QUFDakQsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLE1BQU0sQ0FBQTs7QUFFMUMsTUFBTSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDakMsUUFBTSxFQUFBLGtCQUFHO1FBQ0YsR0FBRyxHQUFJLElBQUksQ0FBQyxLQUFLLENBQWpCLEdBQUc7UUFDSCxnQkFBZ0IsR0FBSSxJQUFJLENBQUMsS0FBSyxDQUE5QixnQkFBZ0I7O0FBQ3JCLFFBQUksU0FBUyxHQUFHLG1CQUFDLFFBQVEsRUFBRSxVQUFTO2FBQUssVUFBUyxHQUFHOztVQUFNLEtBQUssRUFBRSxFQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsNEJBQTRCLEVBQUMsQUFBQztRQUM5SSxRQUFRO09BQ0osR0FBRyxRQUFRO0tBQUEsQ0FBQTs7O0FBR2xCLFFBQUksUUFBUSxHQUFHLG9CQUFDLE9BQU8sQ0FBQyxLQUFLLElBQUMsR0FBRyxFQUFFLEdBQUcsQUFBQyxFQUFDLElBQUksRUFBRSxLQUFLLEFBQUMsR0FBRyxDQUFBO0FBQ3ZELFFBQUksU0FBUyxHQUFHLG9CQUFDLE9BQU8sQ0FBQyxPQUFPLElBQUMsR0FBRyxFQUFFLEdBQUcsQUFBQyxHQUFHLENBQUE7O0FBRTdDLFdBQU8sR0FBRyxJQUFJOztRQUFLLEdBQUcsRUFBRSxnQkFBZ0IsQUFBQztNQUN0QyxTQUFTLENBQUMsUUFBUSxFQUFFLGdCQUFnQixJQUFJLE9BQU8sQ0FBQztNQUNoRCxTQUFTLENBQUMsU0FBUyxFQUFFLGdCQUFnQixJQUFJLFFBQVEsQ0FBQztNQUNuRCxvQkFBQyxPQUFPLENBQUMsU0FBUyxJQUFDLEdBQUcsRUFBRSxHQUFHLEFBQUM7QUFDMUIsZ0NBQXdCLEVBQUUsZ0JBQWdCLElBQUksa0JBQWtCLEFBQUM7QUFDakUsbUJBQVcsRUFBRSxTQUFTLEFBQUMsR0FBRztLQUN4QixDQUFBO0dBQ1A7O0FBRUQsaUJBQWUsRUFBQSwyQkFBRztBQUNoQixXQUFPO0FBQ0wsU0FBRyxFQUFFLElBQUk7S0FDVixDQUFBO0dBQ0Y7O0FBRUQsbUJBQWlCLEVBQUEsNkJBQUc7OztBQUNsQixRQUFJLENBQUksTUFBTSxpQkFBYyxDQUMzQixJQUFJLENBQUMsVUFBQSxJQUFJO2FBQUksTUFBSyxRQUFRLENBQUMsRUFBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQztLQUFBLENBQUMsQ0FBQTtHQUM3RDtDQUNGLENBQUMsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL3JhbmRvbS1hcnR3b3JrLXRvbWJzdG9uZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHtMaW5rfSA9IFJvdXRlclxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcblxudmFyIEFydHdvcmsgPSByZXF1aXJlKCcuL19hcnR3b3JrJylcbnZhciBBcnR3b3JrUHJldmlldyA9IHJlcXVpcmUoJy4vYXJ0d29yay1wcmV2aWV3JylcbnZhciBTRUFSQ0ggPSByZXF1aXJlKCcuL2VuZHBvaW50cycpLnNlYXJjaFxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7YXJ0fSA9IHRoaXMuc3RhdGVcbiAgICB2YXIge2ZpZWxkVG9IaWdobGlnaHR9ID0gdGhpcy5wcm9wc1xuICAgIHZhciBoaWdobGlnaHQgPSAoY2hpbGRyZW4sIGhpZ2hsaWdodCkgPT4gaGlnaGxpZ2h0ID8gPHNwYW4gc3R5bGU9e3tjb2xvcjogJ3JlZCcsIGZvbnRXZWlnaHQ6ICdib2xkJywgYm9yZGVyQm90dG9tOiAnMXB4IHNvbGlkIGJsYWNrICFpbXBvcnRhbnQnfX0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9zcGFuPiA6IGNoaWxkcmVuXG5cbiAgICAvLyBhbmQgY2hlY2sgb24gbW9iaWxlID0gZG9lcyB0b3VjaCB3b3JrP1xuICAgIHZhciByYXdUaXRsZSA9IDxBcnR3b3JrLlRpdGxlIGFydD17YXJ0fSBsaW5rPXtmYWxzZX0gLz5cbiAgICB2YXIgcmF3QXJ0aXN0ID0gPEFydHdvcmsuQ3JlYXRvciBhcnQ9e2FydH0gLz5cblxuICAgIHJldHVybiBhcnQgJiYgPGRpdiBrZXk9e2ZpZWxkVG9IaWdobGlnaHR9PlxuICAgICAge2hpZ2hsaWdodChyYXdUaXRsZSwgZmllbGRUb0hpZ2hsaWdodCA9PSAndGl0bGUnKX1cbiAgICAgIHtoaWdobGlnaHQocmF3QXJ0aXN0LCBmaWVsZFRvSGlnaGxpZ2h0ID09ICdhcnRpc3QnKX1cbiAgICAgIDxBcnR3b3JrLlRvbWJzdG9uZSBhcnQ9e2FydH1cbiAgICAgICAgaGlnaGxpZ2h0QWNjZXNzaW9uTnVtYmVyPXtmaWVsZFRvSGlnaGxpZ2h0ID09ICdhY2Nlc3Npb24gbnVtYmVyJ31cbiAgICAgICAgaGlnaGxpZ2h0ZXI9e2hpZ2hsaWdodH0gLz5cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFydDogbnVsbCxcbiAgICB9XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgcmVzdChgJHtTRUFSQ0h9L3JhbmRvbS9hcnRgKVxuICAgIC50aGVuKGRhdGEgPT4gdGhpcy5zZXRTdGF0ZSh7YXJ0OiBKU09OLnBhcnNlKGRhdGEuZW50aXR5KX0pKVxuICB9LFxufSlcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/random-artwork-tombstone.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;IAC/B,IAAI,GAAI,MAAM,CAAd,IAAI;;AACT,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;;AAE1B,IAAI,OAAO,GAAG,OAAO,CAAC,YAAY,CAAC,CAAA;AACnC,IAAI,cAAc,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAA;AACjD,IAAI,MAAM,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC,MAAM,CAAA;;AAE1C,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACjC,QAAM,EAAA,kBAAG;QACF,GAAG,GAAI,IAAI,CAAC,KAAK,CAAjB,GAAG;QACH,gBAAgB,GAAI,IAAI,CAAC,KAAK,CAA9B,gBAAgB;;AACrB,QAAI,SAAS,GAAG,mBAAC,QAAQ,EAAE,UAAS;aAAK,UAAS,GAAG;;UAAM,KAAK,EAAE,EAAC,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,MAAM,EAAE,YAAY,EAAE,4BAA4B,EAAC,AAAC;QAC9I,QAAQ;OACJ,GAAG,QAAQ;KAAA,CAAA;;;AAGlB,QAAI,QAAQ,GAAG,oBAAC,OAAO,CAAC,KAAK,IAAC,GAAG,EAAE,GAAG,AAAC,EAAC,IAAI,EAAE,KAAK,AAAC,GAAG,CAAA;AACvD,QAAI,SAAS,GAAG,oBAAC,OAAO,CAAC,OAAO,IAAC,GAAG,EAAE,GAAG,AAAC,GAAG,CAAA;;AAE7C,WAAO,GAAG,IAAI;;QAAK,GAAG,EAAE,gBAAgB,AAAC;MACtC,SAAS,CAAC,QAAQ,EAAE,gBAAgB,IAAI,OAAO,CAAC;MAChD,SAAS,CAAC,SAAS,EAAE,gBAAgB,IAAI,QAAQ,CAAC;MACnD,oBAAC,OAAO,CAAC,SAAS,IAAC,GAAG,EAAE,GAAG,AAAC;AAC1B,gCAAwB,EAAE,gBAAgB,IAAI,kBAAkB,AAAC;AACjE,mBAAW,EAAE,SAAS,AAAC,GAAG;KACxB,CAAA;GACP;;AAED,iBAAe,EAAA,2BAAG;AAChB,WAAO;AACL,SAAG,EAAE,IAAI;KACV,CAAA;GACF;;AAED,mBAAiB,EAAA,6BAAG;;;AAClB,QAAI,CAAI,MAAM,iBAAc,CAC3B,IAAI,CAAC,UAAA,IAAI;aAAI,MAAK,QAAQ,CAAC,EAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,EAAC,CAAC;KAAA,CAAC,CAAA;GAC7D;CACF,CAAC,CAAA",
      "file": "/var/www/art/src/random-artwork-tombstone.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\nvar rest = require('rest')\n\nvar Artwork = require('./_artwork')\nvar ArtworkPreview = require('./artwork-preview')\nvar SEARCH = require('./endpoints').search\n\nmodule.exports = React.createClass({\n  render() {\n    var {art} = this.state\n    var {fieldToHighlight} = this.props\n    var highlight = (children, highlight) => highlight ? <span style={{color: 'red', fontWeight: 'bold', borderBottom: '1px solid black !important'}}>\n      {children}\n    </span> : children\n\n    // and check on mobile = does touch work?\n    var rawTitle = <Artwork.Title art={art} link={false} />\n    var rawArtist = <Artwork.Creator art={art} />\n\n    return art && <div key={fieldToHighlight}>\n      {highlight(rawTitle, fieldToHighlight == 'title')}\n      {highlight(rawArtist, fieldToHighlight == 'artist')}\n      <Artwork.Tombstone art={art}\n        highlightAccessionNumber={fieldToHighlight == 'accession number'}\n        highlighter={highlight} />\n    </div>\n  },\n\n  getInitialState() {\n    return {\n      art: null,\n    }\n  },\n\n  componentDidMount() {\n    rest(`${SEARCH}/random/art`)\n    .then(data => this.setState({art: JSON.parse(data.entity)}))\n  },\n})\n"
      ]
    },
    "mtime": 1487953287538
  },
  "{\"filename\":\"/var/www/art/src/exhibition.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar rest = require('rest');\nvar Helmet = require('react-helmet');\n\nvar Search = require('./search');\nvar endpoints = require('./endpoints');\nvar SEARCH = endpoints.search;\nvar toSlug = require('speakingurl');\nvar Markdown = require('./markdown');\n\nvar Exhibition = React.createClass({\n  displayName: 'Exhibition',\n\n  mixins: [Router.State],\n  statics: {\n    fetchData: {\n      exhibition: function exhibition(params) {\n        var id = params.id;\n\n        return rest(endpoints.exhibition(id)).then(function (r) {\n          return JSON.parse(r.entity);\n        }).then(function (exh) {\n          exh.slug = toSlug(exh.exhibition_title);\n          return exh;\n        });\n      },\n\n      searchResults: function searchResults(params, query) {\n        return Exhibition.fetchData.exhibition(params).then(function (exhibition) {\n          var searchUrl = SEARCH + '/ids/' + exhibition.objects.join(',');\n          return rest(searchUrl).then(function (r) {\n            return JSON.parse(r.entity);\n          });\n        });\n      }\n    },\n\n    willTransitionTo: function willTransitionTo(transition, params, query, callback) {\n      Exhibition.fetchData.exhibition(params).then(function (exhibition) {\n        if (exhibition.slug !== params.slug) {\n          params.slug = exhibition.slug;\n          transition.redirect('exhibitionSlug', params);\n        }\n      })['catch'](function (err) {\n        return transition.redirect('home');\n      }).then(callback);\n    }\n  },\n\n  render: function render() {\n    var exhibition = this.props.data.exhibition;\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        Search,\n        _extends({}, this.props, {\n          disableHover: true // TODO: fix :hover going to the search results page\n        }),\n        React.createElement(\n          'div',\n          { style: { margin: '0.5em 3em 2em', maxWidth: '37em' } },\n          React.createElement(\n            'h2',\n            null,\n            exhibition.exhibition_title\n          ),\n          React.createElement(\n            'p',\n            { style: { margin: '-1em 0 0.5em 0' } },\n            exhibition.display_date\n          ),\n          React.createElement(\n            Markdown,\n            null,\n            exhibition.exhibition_description\n          )\n        ),\n        React.createElement('hr', null)\n      ),\n      React.createElement(Helmet, {\n        title: 'Exhibition: ' + exhibition.exhibition_title,\n        meta: [{ property: \"og:title\", content: exhibition.exhibition_title + ' ^ Minneapolis Institute of Art' }, { property: \"og:description\", content: 'An exhibition at the Minneapolis Institute of Art. ' + exhibition.display_date }]\n      })\n    );\n  }\n});\n\nmodule.exports = Exhibition;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZXhoaWJpdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtBQUNwQyxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUE7QUFDMUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBOztBQUVwQyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUE7QUFDaEMsSUFBSSxTQUFTLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBO0FBQ3RDLElBQUksTUFBTSxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUE7QUFDN0IsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBO0FBQ25DLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTs7QUFFcEMsSUFBSSxVQUFVLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ2pDLFFBQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7QUFDdEIsU0FBTyxFQUFFO0FBQ1AsYUFBUyxFQUFFO0FBQ1QsZ0JBQVUsRUFBRSxvQkFBQyxNQUFNLEVBQUs7WUFDakIsRUFBRSxHQUFJLE1BQU0sQ0FBWixFQUFFOztBQUNQLGVBQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FDcEMsSUFBSSxDQUFDLFVBQUMsQ0FBQztpQkFBSyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7U0FBQSxDQUFDLENBQ2pDLElBQUksQ0FBQyxVQUFBLEdBQUcsRUFBSTtBQUNYLGFBQUcsQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFBO0FBQ3ZDLGlCQUFPLEdBQUcsQ0FBQTtTQUNYLENBQUMsQ0FBQTtPQUNIOztBQUVELG1CQUFhLEVBQUUsdUJBQUMsTUFBTSxFQUFFLEtBQUssRUFBSztBQUNoQyxlQUFPLFVBQVUsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFBLFVBQVUsRUFBSTtBQUNoRSxjQUFJLFNBQVMsR0FBTSxNQUFNLGFBQVEsVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEFBQUUsQ0FBQTtBQUMvRCxpQkFBTyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsQ0FBQzttQkFBSyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7V0FBQSxDQUFDLENBQUE7U0FDekQsQ0FBQyxDQUFBO09BQ0g7S0FDRjs7QUFFRCxvQkFBZ0IsRUFBRSwwQkFBVSxVQUFVLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUU7QUFDL0QsZ0JBQVUsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFBLFVBQVUsRUFBSTtBQUN6RCxZQUFHLFVBQVUsQ0FBQyxJQUFJLEtBQUssTUFBTSxDQUFDLElBQUksRUFBRTtBQUNsQyxnQkFBTSxDQUFDLElBQUksR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFBO0FBQzdCLG9CQUFVLENBQUMsUUFBUSxDQUFDLGdCQUFnQixFQUFFLE1BQU0sQ0FBQyxDQUFBO1NBQzlDO09BQ0YsQ0FBQyxTQUNJLENBQUMsVUFBQSxHQUFHO2VBQUksVUFBVSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUM7T0FBQSxDQUFDLENBQ3pDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQTtLQUNoQjtHQUNGOztBQUVELFFBQU0sRUFBQSxrQkFBRztRQUNGLFVBQVUsR0FBSSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBN0IsVUFBVTs7QUFFZixXQUFPOzs7TUFDTDtBQUFDLGNBQU07cUJBQ0QsSUFBSSxDQUFDLEtBQUs7QUFDZCxzQkFBWSxFQUFFLElBQUksQUFBQzs7UUFFbkI7O1lBQUssS0FBSyxFQUFFLEVBQUMsTUFBTSxFQUFFLGVBQWUsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFDLEFBQUM7VUFDdEQ7OztZQUFLLFVBQVUsQ0FBQyxnQkFBZ0I7V0FBTTtVQUN0Qzs7Y0FBRyxLQUFLLEVBQUUsRUFBQyxNQUFNLEVBQUUsZ0JBQWdCLEVBQUMsQUFBQztZQUFFLFVBQVUsQ0FBQyxZQUFZO1dBQUs7VUFDbkU7QUFBQyxvQkFBUTs7WUFBRSxVQUFVLENBQUMsc0JBQXNCO1dBQVk7U0FDcEQ7UUFDTiwrQkFBTTtPQUNDO01BQ1Qsb0JBQUMsTUFBTTtBQUNMLGFBQUssbUJBQWlCLFVBQVUsQ0FBQyxnQkFBZ0IsQUFBRztBQUNwRCxZQUFJLEVBQUUsQ0FDSixFQUFDLFFBQVEsRUFBRSxVQUFVLEVBQUUsT0FBTyxFQUFFLFVBQVUsQ0FBQyxnQkFBZ0IsR0FBRyxpQ0FBaUMsRUFBQyxFQUNoRyxFQUFDLFFBQVEsRUFBRSxnQkFBZ0IsRUFBRSxPQUFPLDBEQUF3RCxVQUFVLENBQUMsWUFBWSxBQUFFLEVBQUMsQ0FDdkgsQUFBQztRQUNGO0tBQ0UsQ0FBQTtHQUNQO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvZXhoaWJpdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxuXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zZWFyY2gnKVxudmFyIGVuZHBvaW50cyA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJylcbnZhciBTRUFSQ0ggPSBlbmRwb2ludHMuc2VhcmNoXG52YXIgdG9TbHVnID0gcmVxdWlyZSgnc3BlYWtpbmd1cmwnKVxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi9tYXJrZG93bicpXG5cbnZhciBFeGhpYml0aW9uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBtaXhpbnM6IFtSb3V0ZXIuU3RhdGVdLFxuICBzdGF0aWNzOiB7XG4gICAgZmV0Y2hEYXRhOiB7XG4gICAgICBleGhpYml0aW9uOiAocGFyYW1zKSA9PiB7XG4gICAgICAgIHZhciB7aWR9ID0gcGFyYW1zXG4gICAgICAgIHJldHVybiByZXN0KGVuZHBvaW50cy5leGhpYml0aW9uKGlkKSlcbiAgICAgICAgLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpKVxuICAgICAgICAudGhlbihleGggPT4ge1xuICAgICAgICAgIGV4aC5zbHVnID0gdG9TbHVnKGV4aC5leGhpYml0aW9uX3RpdGxlKVxuICAgICAgICAgIHJldHVybiBleGhcbiAgICAgICAgfSlcbiAgICAgIH0sXG5cbiAgICAgIHNlYXJjaFJlc3VsdHM6IChwYXJhbXMsIHF1ZXJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBFeGhpYml0aW9uLmZldGNoRGF0YS5leGhpYml0aW9uKHBhcmFtcykudGhlbihleGhpYml0aW9uID0+IHtcbiAgICAgICAgICB2YXIgc2VhcmNoVXJsID0gYCR7U0VBUkNIfS9pZHMvJHtleGhpYml0aW9uLm9iamVjdHMuam9pbignLCcpfWBcbiAgICAgICAgICByZXR1cm4gcmVzdChzZWFyY2hVcmwpLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpKVxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICB9LFxuXG4gICAgd2lsbFRyYW5zaXRpb25UbzogZnVuY3Rpb24gKHRyYW5zaXRpb24sIHBhcmFtcywgcXVlcnksIGNhbGxiYWNrKSB7XG4gICAgICBFeGhpYml0aW9uLmZldGNoRGF0YS5leGhpYml0aW9uKHBhcmFtcykudGhlbihleGhpYml0aW9uID0+IHtcbiAgICAgICAgaWYoZXhoaWJpdGlvbi5zbHVnICE9PSBwYXJhbXMuc2x1Zykge1xuICAgICAgICAgIHBhcmFtcy5zbHVnID0gZXhoaWJpdGlvbi5zbHVnXG4gICAgICAgICAgdHJhbnNpdGlvbi5yZWRpcmVjdCgnZXhoaWJpdGlvblNsdWcnLCBwYXJhbXMpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyID0+IHRyYW5zaXRpb24ucmVkaXJlY3QoJ2hvbWUnKSlcbiAgICAgIC50aGVuKGNhbGxiYWNrKVxuICAgIH0sXG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciB7ZXhoaWJpdGlvbn0gPSB0aGlzLnByb3BzLmRhdGFcblxuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPFNlYXJjaFxuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgZGlzYWJsZUhvdmVyPXt0cnVlfSAvLyBUT0RPOiBmaXggOmhvdmVyIGdvaW5nIHRvIHRoZSBzZWFyY2ggcmVzdWx0cyBwYWdlXG4gICAgICA+XG4gICAgICAgIDxkaXYgc3R5bGU9e3ttYXJnaW46ICcwLjVlbSAzZW0gMmVtJywgbWF4V2lkdGg6ICczN2VtJ319PlxuICAgICAgICAgIDxoMj57ZXhoaWJpdGlvbi5leGhpYml0aW9uX3RpdGxlfTwvaDI+XG4gICAgICAgICAgPHAgc3R5bGU9e3ttYXJnaW46ICctMWVtIDAgMC41ZW0gMCd9fT57ZXhoaWJpdGlvbi5kaXNwbGF5X2RhdGV9PC9wPlxuICAgICAgICAgIDxNYXJrZG93bj57ZXhoaWJpdGlvbi5leGhpYml0aW9uX2Rlc2NyaXB0aW9ufTwvTWFya2Rvd24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8aHIgLz5cbiAgICAgIDwvU2VhcmNoPlxuICAgICAgPEhlbG1ldFxuICAgICAgICB0aXRsZT17YEV4aGliaXRpb246ICR7ZXhoaWJpdGlvbi5leGhpYml0aW9uX3RpdGxlfWB9XG4gICAgICAgIG1ldGE9e1tcbiAgICAgICAgICB7cHJvcGVydHk6IFwib2c6dGl0bGVcIiwgY29udGVudDogZXhoaWJpdGlvbi5leGhpYml0aW9uX3RpdGxlICsgJyBeIE1pbm5lYXBvbGlzIEluc3RpdHV0ZSBvZiBBcnQnfSxcbiAgICAgICAgICB7cHJvcGVydHk6IFwib2c6ZGVzY3JpcHRpb25cIiwgY29udGVudDogYEFuIGV4aGliaXRpb24gYXQgdGhlIE1pbm5lYXBvbGlzIEluc3RpdHV0ZSBvZiBBcnQuICR7ZXhoaWJpdGlvbi5kaXNwbGF5X2RhdGV9YH0sXG4gICAgICAgIF19XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBFeGhpYml0aW9uXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/exhibition.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/exhibition.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar rest = require('rest')\nvar Helmet = require('react-helmet')\n\nvar Search = require('./search')\nvar endpoints = require('./endpoints')\nvar SEARCH = endpoints.search\nvar toSlug = require('speakingurl')\nvar Markdown = require('./markdown')\n\nvar Exhibition = React.createClass({\n  mixins: [Router.State],\n  statics: {\n    fetchData: {\n      exhibition: (params) => {\n        var {id} = params\n        return rest(endpoints.exhibition(id))\n        .then((r) => JSON.parse(r.entity))\n        .then(exh => {\n          exh.slug = toSlug(exh.exhibition_title)\n          return exh\n        })\n      },\n\n      searchResults: (params, query) => {\n        return Exhibition.fetchData.exhibition(params).then(exhibition => {\n          var searchUrl = `${SEARCH}/ids/${exhibition.objects.join(',')}`\n          return rest(searchUrl).then((r) => JSON.parse(r.entity))\n        })\n      },\n    },\n\n    willTransitionTo: function (transition, params, query, callback) {\n      Exhibition.fetchData.exhibition(params).then(exhibition => {\n        if(exhibition.slug !== params.slug) {\n          params.slug = exhibition.slug\n          transition.redirect('exhibitionSlug', params)\n        }\n      })\n      .catch(err => transition.redirect('home'))\n      .then(callback)\n    },\n  },\n\n  render() {\n    var {exhibition} = this.props.data\n\n    return <div>\n      <Search\n        {...this.props}\n        disableHover={true} // TODO: fix :hover going to the search results page\n      >\n        <div style={{margin: '0.5em 3em 2em', maxWidth: '37em'}}>\n          <h2>{exhibition.exhibition_title}</h2>\n          <p style={{margin: '-1em 0 0.5em 0'}}>{exhibition.display_date}</p>\n          <Markdown>{exhibition.exhibition_description}</Markdown>\n        </div>\n        <hr />\n      </Search>\n      <Helmet\n        title={`Exhibition: ${exhibition.exhibition_title}`}\n        meta={[\n          {property: \"og:title\", content: exhibition.exhibition_title + ' ^ Minneapolis Institute of Art'},\n          {property: \"og:description\", content: `An exhibition at the Minneapolis Institute of Art. ${exhibition.display_date}`},\n        ]}\n      />\n    </div>\n  },\n})\n\nmodule.exports = Exhibition\n"
      ]
    },
    "mtime": 1481821196786
  },
  "{\"filename\":\"/var/www/art/src/artist.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.34:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar rest = require('rest');\nvar Helmet = require('react-helmet');\nvar toSlug = require('speakingurl');\n\nvar artists = require('../artists.json');\n\nvar Search = require('./search');\nvar SearchResults = require('./search-results');\nvar Peek = require('./peek');\n\nvar Person = React.createClass({\n  displayName: 'Person',\n\n  statics: {\n    fetchData: {\n      artist: function artist(params, query) {\n        // TODO: rest() this?\n        return artists.find(function (a) {\n          return a.id == Number(params.id);\n        });\n      },\n      searchResults: function searchResults(params, query) {\n        var artist = artists.find(function (a) {\n          return a.id == Number(params.id);\n        });\n        params.terms = 'artist:\"' + artist.name + '\"';\n        return SearchResults.fetchData.searchResults(params, query);\n      }\n    },\n\n    willTransitionTo: function willTransitionTo(transition, params, query, callback) {\n      var artist = artists.find(function (a) {\n        return a.id == Number(params.id);\n      });\n      var artistSlug = toSlug(artist.name);\n\n      if (artistSlug !== params.slug) {\n        params.slug = artistSlug;\n        transition.redirect('artistSlug', params);\n      }\n      callback();\n    }\n  },\n\n  render: function render() {\n    var _props$data = this.props.data;\n    var artist = _props$data.artist;\n    var searchResults = _props$data.searchResults;\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(Search, _extends({\n        facet: 'artist:\"' + artist.name + '\"'\n      }, this.props, {\n        hideInput: true,\n        hideResults: true })),\n      React.createElement(\n        'div',\n        { className: 'personPage' },\n        React.createElement(\n          'p',\n          null,\n          artist.name,\n          ' created ',\n          searchResults.hits.total,\n          ' works that are now at Mia.'\n        ),\n        React.createElement(\n          'pre',\n          null,\n          React.createElement(\n            'code',\n            null,\n            JSON.stringify(artist, null, 2)\n          )\n        )\n      ),\n      React.createElement(Peek, { facet: 'artist', q: artist.name, quiltProps: { maxRowHeight: 400 }, offset: 10 }),\n      React.createElement(Helmet, { title: artist.name })\n    );\n  }\n});\n\nmodule.exports = Person;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYXJ0aXN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0lBQzlCLElBQUksR0FBSyxNQUFNLENBQWYsSUFBSTs7QUFDVixJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUE7QUFDMUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0FBQ3BDLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQTs7QUFFbkMsSUFBSSxPQUFPLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUE7O0FBRXhDLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQTtBQUNoQyxJQUFJLGFBQWEsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQTtBQUMvQyxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUE7O0FBRTVCLElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUM3QixTQUFPLEVBQUU7QUFDUCxhQUFTLEVBQUU7QUFDVCxZQUFNLEVBQUUsZ0JBQUMsTUFBTSxFQUFFLEtBQUssRUFBSzs7QUFFekIsZUFBTyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQUEsQ0FBQztpQkFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO1NBQUEsQ0FBQyxDQUFBO09BQ3BEO0FBQ0QsbUJBQWEsRUFBRSx1QkFBQyxNQUFNLEVBQUUsS0FBSyxFQUFLO0FBQ2hDLFlBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsVUFBQSxDQUFDO2lCQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7U0FBQSxDQUFDLENBQUE7QUFDekQsY0FBTSxDQUFDLEtBQUssZ0JBQWMsTUFBTSxDQUFDLElBQUksTUFBRyxDQUFBO0FBQ3hDLGVBQU8sYUFBYSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFBO09BQzVEO0tBQ0Y7O0FBRUQsb0JBQWdCLEVBQUUsMEJBQVUsVUFBVSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFO0FBQy9ELFVBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsVUFBQSxDQUFDO2VBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQztPQUFBLENBQUMsQ0FBQTtBQUN6RCxVQUFJLFVBQVUsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFBOztBQUVwQyxVQUFHLFVBQVUsS0FBSyxNQUFNLENBQUMsSUFBSSxFQUFFO0FBQzdCLGNBQU0sQ0FBQyxJQUFJLEdBQUcsVUFBVSxDQUFBO0FBQ3hCLGtCQUFVLENBQUMsUUFBUSxDQUFDLFlBQVksRUFBRSxNQUFNLENBQUMsQ0FBQTtPQUMxQztBQUNELGNBQVEsRUFBRSxDQUFBO0tBQ1g7R0FDRjs7QUFFRCxRQUFNLEVBQUEsa0JBQUc7c0JBQ3VCLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSTtRQUF4QyxNQUFNLGVBQU4sTUFBTTtRQUFFLGFBQWEsZUFBYixhQUFhOztBQUUxQixXQUFPOzs7TUFDTCxvQkFBQyxNQUFNO0FBQ0wsYUFBSyxlQUFhLE1BQU0sQ0FBQyxJQUFJLE1BQUk7U0FDN0IsSUFBSSxDQUFDLEtBQUs7QUFDZCxpQkFBUyxFQUFFLElBQUksQUFBQztBQUNoQixtQkFBVyxFQUFFLElBQUksQUFBQyxJQUFHO01BRXZCOztVQUFLLFNBQVMsRUFBQyxZQUFZO1FBQ3pCOzs7VUFBSSxNQUFNLENBQUMsSUFBSTs7VUFBVyxhQUFhLENBQUMsSUFBSSxDQUFDLEtBQUs7O1NBQWdDO1FBQ2xGOzs7VUFBSzs7O1lBQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztXQUFRO1NBQU07T0FDckQ7TUFFTixvQkFBQyxJQUFJLElBQUMsS0FBSyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLElBQUksQUFBQyxFQUFDLFVBQVUsRUFBRSxFQUFDLFlBQVksRUFBRSxHQUFHLEVBQUMsQUFBQyxFQUFDLE1BQU0sRUFBRSxFQUFFLEFBQUMsR0FBRTtNQUNuRixvQkFBQyxNQUFNLElBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxJQUFJLEFBQUMsR0FBRztLQUMxQixDQUFBO0dBQ1A7Q0FDRixDQUFDLENBQUE7O0FBRUYsTUFBTSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9hcnRpc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciB7IExpbmsgfSA9IFJvdXRlclxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxudmFyIHRvU2x1ZyA9IHJlcXVpcmUoJ3NwZWFraW5ndXJsJylcblxudmFyIGFydGlzdHMgPSByZXF1aXJlKCcuLi9hcnRpc3RzLmpzb24nKVxuXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zZWFyY2gnKVxudmFyIFNlYXJjaFJlc3VsdHMgPSByZXF1aXJlKCcuL3NlYXJjaC1yZXN1bHRzJylcbnZhciBQZWVrID0gcmVxdWlyZSgnLi9wZWVrJylcblxudmFyIFBlcnNvbiA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgc3RhdGljczoge1xuICAgIGZldGNoRGF0YToge1xuICAgICAgYXJ0aXN0OiAocGFyYW1zLCBxdWVyeSkgPT4ge1xuICAgICAgICAvLyBUT0RPOiByZXN0KCkgdGhpcz9cbiAgICAgICAgcmV0dXJuIGFydGlzdHMuZmluZChhID0+IGEuaWQgPT0gTnVtYmVyKHBhcmFtcy5pZCkpXG4gICAgICB9LFxuICAgICAgc2VhcmNoUmVzdWx0czogKHBhcmFtcywgcXVlcnkpID0+IHtcbiAgICAgICAgdmFyIGFydGlzdCA9IGFydGlzdHMuZmluZChhID0+IGEuaWQgPT0gTnVtYmVyKHBhcmFtcy5pZCkpXG4gICAgICAgIHBhcmFtcy50ZXJtcyA9IGBhcnRpc3Q6XCIke2FydGlzdC5uYW1lfVwiYFxuICAgICAgICByZXR1cm4gU2VhcmNoUmVzdWx0cy5mZXRjaERhdGEuc2VhcmNoUmVzdWx0cyhwYXJhbXMsIHF1ZXJ5KVxuICAgICAgfSxcbiAgICB9LFxuXG4gICAgd2lsbFRyYW5zaXRpb25UbzogZnVuY3Rpb24gKHRyYW5zaXRpb24sIHBhcmFtcywgcXVlcnksIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgYXJ0aXN0ID0gYXJ0aXN0cy5maW5kKGEgPT4gYS5pZCA9PSBOdW1iZXIocGFyYW1zLmlkKSlcbiAgICAgIHZhciBhcnRpc3RTbHVnID0gdG9TbHVnKGFydGlzdC5uYW1lKVxuXG4gICAgICBpZihhcnRpc3RTbHVnICE9PSBwYXJhbXMuc2x1Zykge1xuICAgICAgICBwYXJhbXMuc2x1ZyA9IGFydGlzdFNsdWdcbiAgICAgICAgdHJhbnNpdGlvbi5yZWRpcmVjdCgnYXJ0aXN0U2x1ZycsIHBhcmFtcylcbiAgICAgIH1cbiAgICAgIGNhbGxiYWNrKClcbiAgICB9XG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciB7YXJ0aXN0LCBzZWFyY2hSZXN1bHRzfSA9IHRoaXMucHJvcHMuZGF0YVxuXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8U2VhcmNoXG4gICAgICAgIGZhY2V0PXtgYXJ0aXN0OlwiJHthcnRpc3QubmFtZX1cImB9XG4gICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICBoaWRlSW5wdXQ9e3RydWV9XG4gICAgICAgIGhpZGVSZXN1bHRzPXt0cnVlfSAvPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBlcnNvblBhZ2VcIj5cbiAgICAgICAgPHA+e2FydGlzdC5uYW1lfSBjcmVhdGVkIHtzZWFyY2hSZXN1bHRzLmhpdHMudG90YWx9IHdvcmtzIHRoYXQgYXJlIG5vdyBhdCBNaWEuPC9wPlxuICAgICAgICA8cHJlPjxjb2RlPntKU09OLnN0cmluZ2lmeShhcnRpc3QsIG51bGwsIDIpfTwvY29kZT48L3ByZT5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8UGVlayBmYWNldD1cImFydGlzdFwiIHE9e2FydGlzdC5uYW1lfSBxdWlsdFByb3BzPXt7bWF4Um93SGVpZ2h0OiA0MDB9fSBvZmZzZXQ9ezEwfS8+XG4gICAgICA8SGVsbWV0IHRpdGxlPXthcnRpc3QubmFtZX0gLz5cbiAgICA8L2Rpdj5cbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gUGVyc29uXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/artist.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/artist.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar { Link } = Router\nvar rest = require('rest')\nvar Helmet = require('react-helmet')\nvar toSlug = require('speakingurl')\n\nvar artists = require('../artists.json')\n\nvar Search = require('./search')\nvar SearchResults = require('./search-results')\nvar Peek = require('./peek')\n\nvar Person = React.createClass({\n  statics: {\n    fetchData: {\n      artist: (params, query) => {\n        // TODO: rest() this?\n        return artists.find(a => a.id == Number(params.id))\n      },\n      searchResults: (params, query) => {\n        var artist = artists.find(a => a.id == Number(params.id))\n        params.terms = `artist:\"${artist.name}\"`\n        return SearchResults.fetchData.searchResults(params, query)\n      },\n    },\n\n    willTransitionTo: function (transition, params, query, callback) {\n      var artist = artists.find(a => a.id == Number(params.id))\n      var artistSlug = toSlug(artist.name)\n\n      if(artistSlug !== params.slug) {\n        params.slug = artistSlug\n        transition.redirect('artistSlug', params)\n      }\n      callback()\n    }\n  },\n\n  render() {\n    var {artist, searchResults} = this.props.data\n\n    return <div>\n      <Search\n        facet={`artist:\"${artist.name}\"`}\n        {...this.props}\n        hideInput={true}\n        hideResults={true} />\n\n      <div className=\"personPage\">\n        <p>{artist.name} created {searchResults.hits.total} works that are now at Mia.</p>\n        <pre><code>{JSON.stringify(artist, null, 2)}</code></pre>\n      </div>\n\n      <Peek facet=\"artist\" q={artist.name} quiltProps={{maxRowHeight: 400}} offset={10}/>\n      <Helmet title={artist.name} />\n    </div>\n  },\n})\n\nmodule.exports = Person\n"
      ]
    },
    "mtime": 1485987477910
  },
  "{\"filename\":\"/var/www/art/server.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar ReactDOM = require('react-dom/server');\nvar Router = require('react-router');\nvar Helmet = require('react-helmet');\nvar express = require('express');\nvar ga = require('react-ga');\nvar fs = require('fs');\nvar index = fs.readFileSync('./index.html', 'utf-8');\n\nvar fetchComponentData = require('./fetch');\nvar routes = require('./routes');\n\nvar app = express();\nvar serveStatic = require('serve-static');\napp.locals.settings['x-powered-by'] = false;\n\nif (typeof window === \"undefined\") GLOBAL.window = GLOBAL;\n\n// ga.initialize(process.env.GA_TRACKING_ID)\n\napp.get('/search/', function (req, res, next) {\n  // catch searches with JS disabled\n  var match = req.url.match(/\\/search\\/\\?q=(.*)/);\n  if (match && match[1]) return res.redirect(301, '/search/' + match[1]);\n  next();\n});\n\nvar html = function html(_ref, data, body) {\n  var title = _ref.title;\n  var meta = _ref.meta;\n  var link = _ref.link;\n  return index.replace('<!--HEAD-->', ['' + title, meta, link, '<script>window.__DATA__ = ' + JSON.stringify(data) + ';</script>'].filter(function (e) {\n    return e;\n  }).join('  \\n')).replace('<!--BODY-->', body);\n};\n\napp.use(function (req, res, next) {\n  var actingUrl = req.url.replace(/\\/(.*)\\/$/, '/$1');\n\n  var router = Router.create({\n    routes: routes,\n    location: actingUrl,\n    onAbort: function onAbort(_ref2) {\n      var to = _ref2.to;\n      var params = _ref2.params;\n      var query = _ref2.query;\n\n      var url = to && router.makePath(to, params, query) || '/';\n      res.redirect(301, url);\n    }\n  });\n\n  if (!router.match(actingUrl)) return next();\n\n  router.run(function (Handler, state) {\n    // ga.pageview(state.pathname)\n    fetchComponentData(state).then(function (data) {\n      var body = ReactDOM.renderToString(React.createElement(Handler, _extends({}, state, { data: data, universal: true })));\n      res.send(html(Helmet.rewind(), data, body));\n    });\n  });\n});\n\napp.use(serveStatic('.'));\n\nvar port = process.env.PORT || 3413;\napp.listen(port, function () {\n  return console.info('👌 ', port);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUmVhY3RET00gPSByZXF1aXJlKCdyZWFjdC1kb20vc2VydmVyJylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIEhlbG1ldCA9IHJlcXVpcmUoJ3JlYWN0LWhlbG1ldCcpXG52YXIgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKVxudmFyIGdhID0gcmVxdWlyZSgncmVhY3QtZ2EnKVxudmFyIGZzID0gcmVxdWlyZSgnZnMnKVxudmFyIGluZGV4ID0gZnMucmVhZEZpbGVTeW5jKCcuL2luZGV4Lmh0bWwnLCAndXRmLTgnKVxuXG52YXIgZmV0Y2hDb21wb25lbnREYXRhID0gcmVxdWlyZSgnLi9mZXRjaCcpXG52YXIgcm91dGVzID0gcmVxdWlyZSgnLi9yb3V0ZXMnKVxuXG52YXIgYXBwID0gZXhwcmVzcygpXG52YXIgc2VydmVTdGF0aWMgPSByZXF1aXJlKCdzZXJ2ZS1zdGF0aWMnKVxuYXBwLmxvY2Fscy5zZXR0aW5nc1sneC1wb3dlcmVkLWJ5J10gPSBmYWxzZVxuXG5pZih0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSBHTE9CQUwud2luZG93ID0gR0xPQkFMXG5cbi8vIGdhLmluaXRpYWxpemUocHJvY2Vzcy5lbnYuR0FfVFJBQ0tJTkdfSUQpXG5cbmFwcC5nZXQoJy9zZWFyY2gvJywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIC8vIGNhdGNoIHNlYXJjaGVzIHdpdGggSlMgZGlzYWJsZWRcbiAgdmFyIG1hdGNoID0gcmVxLnVybC5tYXRjaCgvXFwvc2VhcmNoXFwvXFw/cT0oLiopLylcbiAgaWYobWF0Y2ggJiYgbWF0Y2hbMV0pIHJldHVybiByZXMucmVkaXJlY3QoMzAxLCAnL3NlYXJjaC8nK21hdGNoWzFdKVxuICBuZXh0KClcbn0pXG5cbnZhciBodG1sID0gKHt0aXRsZSwgbWV0YSwgbGlua30sIGRhdGEsIGJvZHkpID0+IGluZGV4XG4gIC5yZXBsYWNlKCc8IS0tSEVBRC0tPicsXG4gICAgICAgICAgIFtcbiAgICAgICAgICAgICBgJHt0aXRsZX1gLFxuICAgICAgICAgICAgIG1ldGEsXG4gICAgICAgICAgICAgbGluayxcbiAgICAgICAgICAgICBgPHNjcmlwdD53aW5kb3cuX19EQVRBX18gPSAke0pTT04uc3RyaW5naWZ5KGRhdGEpfTs8L3NjcmlwdD5gXG4gICAgICAgICAgIF1cbiAgICAuZmlsdGVyKGUgPT4gZSkuam9pbignICBcXG4nKSlcbiAgLnJlcGxhY2UoJzwhLS1CT0RZLS0+JywgYm9keSk7XG5cbmFwcC51c2UoKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHZhciBhY3RpbmdVcmwgPSByZXEudXJsLnJlcGxhY2UoL1xcLyguKilcXC8kLywgJy8kMScpXG5cbiAgdmFyIHJvdXRlciA9IFJvdXRlci5jcmVhdGUoe1xuICAgIHJvdXRlcyxcbiAgICBsb2NhdGlvbjogYWN0aW5nVXJsLFxuICAgIG9uQWJvcnQ6ICh7dG8sIHBhcmFtcywgcXVlcnl9KSA9PiB7XG4gICAgICB2YXIgdXJsID0gdG8gJiYgcm91dGVyLm1ha2VQYXRoKHRvLCBwYXJhbXMsIHF1ZXJ5KSB8fCAnLydcbiAgICAgIHJlcy5yZWRpcmVjdCgzMDEsIHVybClcbiAgICB9LFxuICB9KVxuXG4gIGlmKCFyb3V0ZXIubWF0Y2goYWN0aW5nVXJsKSkgcmV0dXJuIG5leHQoKVxuXG4gIHJvdXRlci5ydW4oKEhhbmRsZXIsIHN0YXRlKSA9PiB7XG4gICAgLy8gZ2EucGFnZXZpZXcoc3RhdGUucGF0aG5hbWUpXG4gICAgZmV0Y2hDb21wb25lbnREYXRhKHN0YXRlKS50aGVuKGRhdGEgPT4ge1xuICAgICAgdmFyIGJvZHkgPSBSZWFjdERPTS5yZW5kZXJUb1N0cmluZyg8SGFuZGxlciB7Li4uc3RhdGV9IGRhdGE9e2RhdGF9IHVuaXZlcnNhbD17dHJ1ZX0gLz4pXG4gICAgICByZXMuc2VuZChodG1sKEhlbG1ldC5yZXdpbmQoKSwgZGF0YSwgYm9keSkpXG4gICAgfSlcbiAgfSlcbn0pXG5cbmFwcC51c2Uoc2VydmVTdGF0aWMoJy4nKSlcblxudmFyIHBvcnQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDM0MTNcbmFwcC5saXN0ZW4ocG9ydCwgKCkgPT4gY29uc29sZS5pbmZvKCfwn5GMICcsIHBvcnQpKVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/server.js"
      ],
      "names": [],
      "mappings": ";;;;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,QAAQ,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAA;AAC1C,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACpC,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACpC,IAAI,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAA;AAChC,IAAI,EAAE,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA;AAC5B,IAAI,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAA;AACtB,IAAI,KAAK,GAAG,EAAE,CAAC,YAAY,CAAC,cAAc,EAAE,OAAO,CAAC,CAAA;;AAEpD,IAAI,kBAAkB,GAAG,OAAO,CAAC,SAAS,CAAC,CAAA;AAC3C,IAAI,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA;;AAEhC,IAAI,GAAG,GAAG,OAAO,EAAE,CAAA;AACnB,IAAI,WAAW,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACzC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,KAAK,CAAA;;AAE3C,IAAG,OAAO,MAAM,KAAK,WAAW,EAAE,MAAM,CAAC,MAAM,GAAG,MAAM,CAAA;;;;AAIxD,GAAG,CAAC,GAAG,CAAC,UAAU,EAAE,UAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAK;;AAEtC,MAAI,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,oBAAoB,CAAC,CAAA;AAC/C,MAAG,KAAK,IAAI,KAAK,CAAC,CAAC,CAAC,EAAE,OAAO,GAAG,CAAC,QAAQ,CAAC,GAAG,EAAE,UAAU,GAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAA;AACnE,MAAI,EAAE,CAAA;CACP,CAAC,CAAA;;AAEF,IAAI,IAAI,GAAG,SAAP,IAAI,CAAI,IAAmB,EAAE,IAAI,EAAE,IAAI;MAA9B,KAAK,GAAN,IAAmB,CAAlB,KAAK;MAAE,IAAI,GAAZ,IAAmB,CAAX,IAAI;MAAE,IAAI,GAAlB,IAAmB,CAAL,IAAI;SAAkB,KAAK,CAClD,OAAO,CAAC,aAAa,EACb,MACK,KAAK,EACR,IAAI,EACJ,IAAI,iCACyB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,gBAClD,CACP,MAAM,CAAC,UAAA,CAAC;WAAI,CAAC;GAAA,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAC9B,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC;CAAA,CAAC;;AAEhC,GAAG,CAAC,GAAG,CAAC,UAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAK;AAC1B,MAAI,SAAS,GAAG,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,CAAC,CAAA;;AAEnD,MAAI,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;AACzB,UAAM,EAAN,MAAM;AACN,YAAQ,EAAE,SAAS;AACnB,WAAO,EAAE,iBAAC,KAAmB,EAAK;UAAvB,EAAE,GAAH,KAAmB,CAAlB,EAAE;UAAE,MAAM,GAAX,KAAmB,CAAd,MAAM;UAAE,KAAK,GAAlB,KAAmB,CAAN,KAAK;;AAC1B,UAAI,GAAG,GAAG,EAAE,IAAI,MAAM,CAAC,QAAQ,CAAC,EAAE,EAAE,MAAM,EAAE,KAAK,CAAC,IAAI,GAAG,CAAA;AACzD,SAAG,CAAC,QAAQ,CAAC,GAAG,EAAE,GAAG,CAAC,CAAA;KACvB;GACF,CAAC,CAAA;;AAEF,MAAG,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE,OAAO,IAAI,EAAE,CAAA;;AAE1C,QAAM,CAAC,GAAG,CAAC,UAAC,OAAO,EAAE,KAAK,EAAK;;AAE7B,sBAAkB,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,UAAA,IAAI,EAAI;AACrC,UAAI,IAAI,GAAG,QAAQ,CAAC,cAAc,CAAC,oBAAC,OAAO,eAAK,KAAK,IAAE,IAAI,EAAE,IAAI,AAAC,EAAC,SAAS,EAAE,IAAI,AAAC,IAAG,CAAC,CAAA;AACvF,SAAG,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAA;KAC5C,CAAC,CAAA;GACH,CAAC,CAAA;CACH,CAAC,CAAA;;AAEF,GAAG,CAAC,GAAG,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAA;;AAEzB,IAAI,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,CAAA;AACnC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE;SAAM,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC;CAAA,CAAC,CAAA",
      "file": "/var/www/art/server.js",
      "sourcesContent": [
        "var React = require('react')\nvar ReactDOM = require('react-dom/server')\nvar Router = require('react-router')\nvar Helmet = require('react-helmet')\nvar express = require('express')\nvar ga = require('react-ga')\nvar fs = require('fs')\nvar index = fs.readFileSync('./index.html', 'utf-8')\n\nvar fetchComponentData = require('./fetch')\nvar routes = require('./routes')\n\nvar app = express()\nvar serveStatic = require('serve-static')\napp.locals.settings['x-powered-by'] = false\n\nif(typeof window === \"undefined\") GLOBAL.window = GLOBAL\n\n// ga.initialize(process.env.GA_TRACKING_ID)\n\napp.get('/search/', (req, res, next) => {\n  // catch searches with JS disabled\n  var match = req.url.match(/\\/search\\/\\?q=(.*)/)\n  if(match && match[1]) return res.redirect(301, '/search/'+match[1])\n  next()\n})\n\nvar html = ({title, meta, link}, data, body) => index\n  .replace('<!--HEAD-->',\n           [\n             `${title}`,\n             meta,\n             link,\n             `<script>window.__DATA__ = ${JSON.stringify(data)};</script>`\n           ]\n    .filter(e => e).join('  \\n'))\n  .replace('<!--BODY-->', body);\n\napp.use((req, res, next) => {\n  var actingUrl = req.url.replace(/\\/(.*)\\/$/, '/$1')\n\n  var router = Router.create({\n    routes,\n    location: actingUrl,\n    onAbort: ({to, params, query}) => {\n      var url = to && router.makePath(to, params, query) || '/'\n      res.redirect(301, url)\n    },\n  })\n\n  if(!router.match(actingUrl)) return next()\n\n  router.run((Handler, state) => {\n    // ga.pageview(state.pathname)\n    fetchComponentData(state).then(data => {\n      var body = ReactDOM.renderToString(<Handler {...state} data={data} universal={true} />)\n      res.send(html(Helmet.rewind(), data, body))\n    })\n  })\n})\n\napp.use(serveStatic('.'))\n\nvar port = process.env.PORT || 3413\napp.listen(port, () => console.info('👌 ', port))\n"
      ]
    },
    "mtime": 1488248774574
  },
  "{\"filename\":\"/var/www/art/fetch.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "sliced-to-array"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar resolveHash = require('when/keys').all;\n\nfunction fetchComponentData(state, initialData) {\n  var promises = state.routes.filter(function (route, index, allRoutes) {\n    // Don't `fetchData` twice for nested routes with the same `Handler`\n    // Prefer the parent\n    var prevRoute = index > 0 && allRoutes[index - 1];\n    if (prevRoute && route.handler.fetchData === prevRoute.handler.fetchData) return;\n\n    return route.handler.fetchData;\n  }).reduce(function (promises, route) {\n    if (initialData) {\n      Object.keys(initialData).forEach(function (key) {\n        promises[key] = Promise.resolve(initialData[key]);\n      });\n      return promises;\n    }\n\n    // `fetchData` is either a function, or an object with keyed functions.\n    // If a component requires custom-named data or pulls data from multiple sources,\n    // each data is fetched from the value of each entry in the object and made\n    // available under the key\n    var fetchData = route.handler.fetchData;\n    if (typeof fetchData == 'function') {\n      promises[route.name] = fetchData(state.params, state.query);\n    } else if (typeof fetchData == 'object') {\n      Object.entries(fetchData).map(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2);\n\n        var name = _ref2[0];\n        var _fetchData = _ref2[1];\n\n        promises[name] = _fetchData(state.params, state.query);\n      });\n    }\n\n    return promises;\n  }, {});\n\n  return resolveHash(promises);\n}\n\nmodule.exports = fetchComponentData;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9mZXRjaC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxXQUFXLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEdBQUcsQ0FBQTs7QUFFMUMsU0FBUyxrQkFBa0IsQ0FBQyxLQUFLLEVBQUUsV0FBVyxFQUFFO0FBQzlDLE1BQUksUUFBUSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUs7OztBQUc5RCxRQUFNLFNBQVMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxJQUFJLFNBQVMsQ0FBQyxLQUFLLEdBQUMsQ0FBQyxDQUFDLENBQUE7QUFDakQsUUFBRyxTQUFTLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEtBQUssU0FBUyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsT0FBTTs7QUFFL0UsV0FBTyxLQUFLLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQTtHQUMvQixDQUFDLENBQUMsTUFBTSxDQUFDLFVBQUMsUUFBUSxFQUFFLEtBQUssRUFBSztBQUM3QixRQUFHLFdBQVcsRUFBRTtBQUNkLFlBQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQ3ZCLE9BQU8sQ0FBQyxVQUFBLEdBQUcsRUFBSTtBQUNkLGdCQUFRLENBQUMsR0FBRyxDQUFDLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQTtPQUNsRCxDQUFDLENBQUE7QUFDRixhQUFPLFFBQVEsQ0FBQTtLQUNoQjs7Ozs7O0FBTUQsUUFBTSxTQUFTLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUE7QUFDekMsUUFBRyxPQUFPLFNBQVMsSUFBSSxVQUFVLEVBQUU7QUFDakMsY0FBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUE7S0FDNUQsTUFBTSxJQUFHLE9BQU8sU0FBUyxJQUFJLFFBQVEsRUFBRTtBQUN0QyxZQUFNLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFDLElBQWtCLEVBQUs7bUNBQXZCLElBQWtCOztZQUFqQixJQUFJO1lBQUUsVUFBVTs7QUFDOUMsZ0JBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxVQUFVLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUE7T0FDdkQsQ0FBQyxDQUFBO0tBQ0g7O0FBRUQsV0FBTyxRQUFRLENBQUE7R0FDaEIsRUFBRSxFQUFFLENBQUMsQ0FBQTs7QUFFTixTQUFPLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQTtDQUM3Qjs7QUFFRCxNQUFNLENBQUMsT0FBTyxHQUFHLGtCQUFrQixDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9mZXRjaC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciByZXNvbHZlSGFzaCA9IHJlcXVpcmUoJ3doZW4va2V5cycpLmFsbFxuXG5mdW5jdGlvbiBmZXRjaENvbXBvbmVudERhdGEoc3RhdGUsIGluaXRpYWxEYXRhKSB7XG4gIHZhciBwcm9taXNlcyA9IHN0YXRlLnJvdXRlcy5maWx0ZXIoKHJvdXRlLCBpbmRleCwgYWxsUm91dGVzKSA9PiB7XG4gICAgLy8gRG9uJ3QgYGZldGNoRGF0YWAgdHdpY2UgZm9yIG5lc3RlZCByb3V0ZXMgd2l0aCB0aGUgc2FtZSBgSGFuZGxlcmBcbiAgICAvLyBQcmVmZXIgdGhlIHBhcmVudFxuICAgIGNvbnN0IHByZXZSb3V0ZSA9IGluZGV4ID4gMCAmJiBhbGxSb3V0ZXNbaW5kZXgtMV1cbiAgICBpZihwcmV2Um91dGUgJiYgcm91dGUuaGFuZGxlci5mZXRjaERhdGEgPT09IHByZXZSb3V0ZS5oYW5kbGVyLmZldGNoRGF0YSkgcmV0dXJuXG5cbiAgICByZXR1cm4gcm91dGUuaGFuZGxlci5mZXRjaERhdGFcbiAgfSkucmVkdWNlKChwcm9taXNlcywgcm91dGUpID0+IHtcbiAgICBpZihpbml0aWFsRGF0YSkge1xuICAgICAgT2JqZWN0LmtleXMoaW5pdGlhbERhdGEpXG4gICAgICAuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBwcm9taXNlc1trZXldID0gUHJvbWlzZS5yZXNvbHZlKGluaXRpYWxEYXRhW2tleV0pXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHByb21pc2VzXG4gICAgfVxuXG4gICAgLy8gYGZldGNoRGF0YWAgaXMgZWl0aGVyIGEgZnVuY3Rpb24sIG9yIGFuIG9iamVjdCB3aXRoIGtleWVkIGZ1bmN0aW9ucy5cbiAgICAvLyBJZiBhIGNvbXBvbmVudCByZXF1aXJlcyBjdXN0b20tbmFtZWQgZGF0YSBvciBwdWxscyBkYXRhIGZyb20gbXVsdGlwbGUgc291cmNlcyxcbiAgICAvLyBlYWNoIGRhdGEgaXMgZmV0Y2hlZCBmcm9tIHRoZSB2YWx1ZSBvZiBlYWNoIGVudHJ5IGluIHRoZSBvYmplY3QgYW5kIG1hZGVcbiAgICAvLyBhdmFpbGFibGUgdW5kZXIgdGhlIGtleVxuICAgIGNvbnN0IGZldGNoRGF0YSA9IHJvdXRlLmhhbmRsZXIuZmV0Y2hEYXRhXG4gICAgaWYodHlwZW9mIGZldGNoRGF0YSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwcm9taXNlc1tyb3V0ZS5uYW1lXSA9IGZldGNoRGF0YShzdGF0ZS5wYXJhbXMsIHN0YXRlLnF1ZXJ5KVxuICAgIH0gZWxzZSBpZih0eXBlb2YgZmV0Y2hEYXRhID09ICdvYmplY3QnKSB7XG4gICAgICBPYmplY3QuZW50cmllcyhmZXRjaERhdGEpLm1hcCgoW25hbWUsIF9mZXRjaERhdGFdKSA9PiB7XG4gICAgICAgIHByb21pc2VzW25hbWVdID0gX2ZldGNoRGF0YShzdGF0ZS5wYXJhbXMsIHN0YXRlLnF1ZXJ5KVxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZXNcbiAgfSwge30pXG5cbiAgcmV0dXJuIHJlc29sdmVIYXNoKHByb21pc2VzKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZldGNoQ29tcG9uZW50RGF0YVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/fetch.js"
      ],
      "names": [],
      "mappings": ";;;;AAAA,IAAI,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC,GAAG,CAAA;;AAE1C,SAAS,kBAAkB,CAAC,KAAK,EAAE,WAAW,EAAE;AAC9C,MAAI,QAAQ,GAAG,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,UAAC,KAAK,EAAE,KAAK,EAAE,SAAS,EAAK;;;AAG9D,QAAM,SAAS,GAAG,KAAK,GAAG,CAAC,IAAI,SAAS,CAAC,KAAK,GAAC,CAAC,CAAC,CAAA;AACjD,QAAG,SAAS,IAAI,KAAK,CAAC,OAAO,CAAC,SAAS,KAAK,SAAS,CAAC,OAAO,CAAC,SAAS,EAAE,OAAM;;AAE/E,WAAO,KAAK,CAAC,OAAO,CAAC,SAAS,CAAA;GAC/B,CAAC,CAAC,MAAM,CAAC,UAAC,QAAQ,EAAE,KAAK,EAAK;AAC7B,QAAG,WAAW,EAAE;AACd,YAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CACvB,OAAO,CAAC,UAAA,GAAG,EAAI;AACd,gBAAQ,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAA;OAClD,CAAC,CAAA;AACF,aAAO,QAAQ,CAAA;KAChB;;;;;;AAMD,QAAM,SAAS,GAAG,KAAK,CAAC,OAAO,CAAC,SAAS,CAAA;AACzC,QAAG,OAAO,SAAS,IAAI,UAAU,EAAE;AACjC,cAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,KAAK,CAAC,CAAA;KAC5D,MAAM,IAAG,OAAO,SAAS,IAAI,QAAQ,EAAE;AACtC,YAAM,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,UAAC,IAAkB,EAAK;mCAAvB,IAAkB;;YAAjB,IAAI;YAAE,UAAU;;AAC9C,gBAAQ,CAAC,IAAI,CAAC,GAAG,UAAU,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,KAAK,CAAC,CAAA;OACvD,CAAC,CAAA;KACH;;AAED,WAAO,QAAQ,CAAA;GAChB,EAAE,EAAE,CAAC,CAAA;;AAEN,SAAO,WAAW,CAAC,QAAQ,CAAC,CAAA;CAC7B;;AAED,MAAM,CAAC,OAAO,GAAG,kBAAkB,CAAA",
      "file": "/var/www/art/fetch.js",
      "sourcesContent": [
        "var resolveHash = require('when/keys').all\n\nfunction fetchComponentData(state, initialData) {\n  var promises = state.routes.filter((route, index, allRoutes) => {\n    // Don't `fetchData` twice for nested routes with the same `Handler`\n    // Prefer the parent\n    const prevRoute = index > 0 && allRoutes[index-1]\n    if(prevRoute && route.handler.fetchData === prevRoute.handler.fetchData) return\n\n    return route.handler.fetchData\n  }).reduce((promises, route) => {\n    if(initialData) {\n      Object.keys(initialData)\n      .forEach(key => {\n        promises[key] = Promise.resolve(initialData[key])\n      })\n      return promises\n    }\n\n    // `fetchData` is either a function, or an object with keyed functions.\n    // If a component requires custom-named data or pulls data from multiple sources,\n    // each data is fetched from the value of each entry in the object and made\n    // available under the key\n    const fetchData = route.handler.fetchData\n    if(typeof fetchData == 'function') {\n      promises[route.name] = fetchData(state.params, state.query)\n    } else if(typeof fetchData == 'object') {\n      Object.entries(fetchData).map(([name, _fetchData]) => {\n        promises[name] = _fetchData(state.params, state.query)\n      })\n    }\n\n    return promises\n  }, {})\n\n  return resolveHash(promises)\n}\n\nmodule.exports = fetchComponentData\n"
      ]
    },
    "mtime": 1485807805238
  },
  "{\"filename\":\"/var/www/art/routes.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Route = Router.Route;\nvar Redirect = Router.Redirect;\nvar DefaultRoute = Router.DefaultRoute;\n\nvar App = require('./src/app');\nvar Home = require('./src/home');\nvar Search = require('./src/search');\nvar SearchResults = require('./src/search-results');\nvar Artwork = require('./src/artwork');\nvar ArtistsByLetter = require('./src/artists-by-letter');\nvar ObjectsById = require('./src/objects-by-id');\nvar Department = require('./src/department');\nvar Curator = require('./src/curator');\nvar Curators = require('./src/curators');\nvar Explore = require('./src/explore');\nvar Page = require('./src/page');\nvar Info = require('./src/info');\nvar Gallery = require('./src/gallery');\nvar Map = require('./src/map-page');\nvar More = require('./src/more');\nvar Exhibition = require('./src/exhibition');\nvar Artist = require('./src/artist');\n\nvar routes = React.createElement(\n  Route,\n  { handler: App, path: '/' },\n  React.createElement(DefaultRoute, { name: 'home', handler: Home }),\n  React.createElement(Route, { name: 'artwork', path: 'art/:id', handler: Artwork }),\n  React.createElement(Route, { name: 'artworkSlug', path: 'art/:id/:slug', handler: Artwork }),\n  React.createElement(\n    Route,\n    { name: 'search', path: '/search/', handler: Search },\n    React.createElement(\n      Route,\n      { name: 'searchResults', path: ':terms', handler: SearchResults },\n      React.createElement(Route, { name: 'filteredSearchResults', path: 'filters/*', handler: SearchResults })\n    )\n  ),\n  React.createElement(Route, { name: 'department', path: '/departments/:dept', handler: Department }),\n  React.createElement(Route, { name: 'curator', path: '/curators/:slug', handler: Curator }),\n  React.createElement(Route, { name: 'curators', path: '/curators', handler: Curators }),\n  React.createElement(Route, { name: 'explore', path: '/explore', handler: Explore }),\n  React.createElement(Route, { name: 'artistsByName', path: '/search/artists/:letter', handler: ArtistsByLetter }),\n  React.createElement(Route, { name: 'artist', path: '/people/:id', handler: Artist }),\n  React.createElement(Route, { name: 'artistSlug', path: '/people/:id/:slug', handler: Artist }),\n  React.createElement(Route, { name: 'objectsById', path: '/search/ids/:ids', handler: ObjectsById }),\n  React.createElement(Route, { name: 'page', path: '/info/:name', handler: Page }),\n  React.createElement(Route, { name: 'info', path: '/info', handler: Info }),\n  React.createElement(Route, { name: 'gallery', path: '/galleries/:gallery', handler: Gallery }),\n  React.createElement(Route, { name: 'map', path: '/map', handler: Map }),\n  React.createElement(Route, { name: 'galleries', path: '/galleries', handler: Map }),\n  React.createElement(Route, { name: 'more', path: '/more', handler: More }),\n  React.createElement(Route, { name: 'exhibition', path: '/exhibitions/:id', handler: Exhibition }),\n  React.createElement(Route, { name: 'exhibitionSlug', path: 'exhibitions/:id/:slug', handler: Exhibition })\n);\n\nmodule.exports = routes;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBQyxNQUFNLEVBQUMsT0FBTyxFQUFFLEdBQUcsQUFBQyxHQUFHO0VBQzlDLG9CQUFDLEtBQUssSUFBQyxJQUFJLEVBQUMsV0FBVyxFQUFDLElBQUksRUFBQyxZQUFZLEVBQUMsT0FBTyxFQUFFLEdBQUcsQUFBQyxHQUFHO0VBQzFELG9CQUFDLEtBQUssSUFBQyxJQUFJLEVBQUMsTUFBTSxFQUFDLElBQUksRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFFLElBQUksQUFBQyxHQUFHO0VBQ2pELG9CQUFDLEtBQUssSUFBQyxJQUFJLEVBQUMsWUFBWSxFQUFDLElBQUksRUFBQyxrQkFBa0IsRUFBQyxPQUFPLEVBQUUsVUFBVSxBQUFDLEdBQUc7RUFDeEUsb0JBQUMsS0FBSyxJQUFDLElBQUksRUFBQyxnQkFBZ0IsRUFBQyxJQUFJLEVBQUMsdUJBQXVCLEVBQUMsT0FBTyxFQUFFLFVBQVUsQUFBQyxHQUFHO0NBQzNFLEFBQ1QsQ0FBQzs7QUFFRixNQUFNLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvcm91dGVzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIge1JvdXRlLCBSZWRpcmVjdCwgRGVmYXVsdFJvdXRlfSA9IFJvdXRlclxuXG52YXIgQXBwID0gcmVxdWlyZSgnLi9zcmMvYXBwJylcbnZhciBIb21lID0gcmVxdWlyZSgnLi9zcmMvaG9tZScpXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zcmMvc2VhcmNoJylcbnZhciBTZWFyY2hSZXN1bHRzID0gcmVxdWlyZSgnLi9zcmMvc2VhcmNoLXJlc3VsdHMnKVxudmFyIEFydHdvcmsgPSByZXF1aXJlKCcuL3NyYy9hcnR3b3JrJylcbnZhciBBcnRpc3RzQnlMZXR0ZXIgPSByZXF1aXJlKCcuL3NyYy9hcnRpc3RzLWJ5LWxldHRlcicpXG52YXIgT2JqZWN0c0J5SWQgPSByZXF1aXJlKCcuL3NyYy9vYmplY3RzLWJ5LWlkJylcbnZhciBEZXBhcnRtZW50ID0gcmVxdWlyZSgnLi9zcmMvZGVwYXJ0bWVudCcpXG52YXIgQ3VyYXRvciA9IHJlcXVpcmUoJy4vc3JjL2N1cmF0b3InKVxudmFyIEN1cmF0b3JzID0gcmVxdWlyZSgnLi9zcmMvY3VyYXRvcnMnKVxudmFyIEV4cGxvcmUgPSByZXF1aXJlKCcuL3NyYy9leHBsb3JlJylcbnZhciBQYWdlID0gcmVxdWlyZSgnLi9zcmMvcGFnZScpXG52YXIgSW5mbyA9IHJlcXVpcmUoJy4vc3JjL2luZm8nKVxudmFyIEdhbGxlcnkgPSByZXF1aXJlKCcuL3NyYy9nYWxsZXJ5JylcbnZhciBNYXAgPSByZXF1aXJlKCcuL3NyYy9tYXAtcGFnZScpXG52YXIgTW9yZSA9IHJlcXVpcmUoJy4vc3JjL21vcmUnKVxudmFyIEV4aGliaXRpb24gPSByZXF1aXJlKCcuL3NyYy9leGhpYml0aW9uJylcbnZhciBBcnRpc3QgPSByZXF1aXJlKCcuL3NyYy9hcnRpc3QnKVxuXG52YXIgcm91dGVzID0gKFxuICA8Um91dGUgaGFuZGxlcj17QXBwfSBwYXRoPVwiL1wiPlxuICAgIDxEZWZhdWx0Um91dGUgbmFtZT1cImhvbWVcIiBoYW5kbGVyPXtIb21lfS8+XG4gICAgPFJvdXRlIG5hbWU9XCJhcnR3b3JrXCIgcGF0aD1cImFydC86aWRcIiBoYW5kbGVyPXtBcnR3b3JrfSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwiYXJ0d29ya1NsdWdcIiBwYXRoPVwiYXJ0LzppZC86c2x1Z1wiIGhhbmRsZXI9e0FydHdvcmt9IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJzZWFyY2hcIiBwYXRoPVwiL3NlYXJjaC9cIiBoYW5kbGVyPXtTZWFyY2h9PlxuICAgICAgPFJvdXRlIG5hbWU9XCJzZWFyY2hSZXN1bHRzXCIgcGF0aD1cIjp0ZXJtc1wiIGhhbmRsZXI9e1NlYXJjaFJlc3VsdHN9PlxuICAgICAgICA8Um91dGUgbmFtZT1cImZpbHRlcmVkU2VhcmNoUmVzdWx0c1wiIHBhdGg9XCJmaWx0ZXJzLypcIiBoYW5kbGVyPXtTZWFyY2hSZXN1bHRzfSAvPlxuICAgICAgPC9Sb3V0ZT5cbiAgICA8L1JvdXRlPlxuICAgIDxSb3V0ZSBuYW1lPVwiZGVwYXJ0bWVudFwiIHBhdGg9XCIvZGVwYXJ0bWVudHMvOmRlcHRcIiBoYW5kbGVyPXtEZXBhcnRtZW50fSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwiY3VyYXRvclwiIHBhdGg9XCIvY3VyYXRvcnMvOnNsdWdcIiBoYW5kbGVyPXtDdXJhdG9yfSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwiY3VyYXRvcnNcIiBwYXRoPVwiL2N1cmF0b3JzXCIgaGFuZGxlcj17Q3VyYXRvcnN9IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJleHBsb3JlXCIgcGF0aD1cIi9leHBsb3JlXCIgaGFuZGxlcj17RXhwbG9yZX0gLz5cbiAgICA8Um91dGUgbmFtZT1cImFydGlzdHNCeU5hbWVcIiBwYXRoPVwiL3NlYXJjaC9hcnRpc3RzLzpsZXR0ZXJcIiBoYW5kbGVyPXtBcnRpc3RzQnlMZXR0ZXJ9IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJhcnRpc3RcIiBwYXRoPVwiL3Blb3BsZS86aWRcIiBoYW5kbGVyPXtBcnRpc3R9IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJhcnRpc3RTbHVnXCIgcGF0aD1cIi9wZW9wbGUvOmlkLzpzbHVnXCIgaGFuZGxlcj17QXJ0aXN0fSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwib2JqZWN0c0J5SWRcIiBwYXRoPVwiL3NlYXJjaC9pZHMvOmlkc1wiIGhhbmRsZXI9e09iamVjdHNCeUlkfSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwicGFnZVwiIHBhdGg9XCIvaW5mby86bmFtZVwiIGhhbmRsZXI9e1BhZ2V9IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJpbmZvXCIgcGF0aD1cIi9pbmZvXCIgaGFuZGxlcj17SW5mb30gLz5cbiAgICA8Um91dGUgbmFtZT1cImdhbGxlcnlcIiBwYXRoPVwiL2dhbGxlcmllcy86Z2FsbGVyeVwiIGhhbmRsZXI9e0dhbGxlcnl9IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJtYXBcIiBwYXRoPVwiL21hcFwiIGhhbmRsZXI9e01hcH0gLz5cbiAgICA8Um91dGUgbmFtZT1cImdhbGxlcmllc1wiIHBhdGg9XCIvZ2FsbGVyaWVzXCIgaGFuZGxlcj17TWFwfSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwibW9yZVwiIHBhdGg9XCIvbW9yZVwiIGhhbmRsZXI9e01vcmV9IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJleGhpYml0aW9uXCIgcGF0aD1cIi9leGhpYml0aW9ucy86aWRcIiBoYW5kbGVyPXtFeGhpYml0aW9ufSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwiZXhoaWJpdGlvblNsdWdcIiBwYXRoPVwiZXhoaWJpdGlvbnMvOmlkLzpzbHVnXCIgaGFuZGxlcj17RXhoaWJpdGlvbn0gLz5cbiAgPC9Sb3V0ZT5cbik7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVzXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/routes.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/routes.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Route, Redirect, DefaultRoute} = Router\n\nvar App = require('./src/app')\nvar Home = require('./src/home')\nvar Search = require('./src/search')\nvar SearchResults = require('./src/search-results')\nvar Artwork = require('./src/artwork')\nvar ArtistsByLetter = require('./src/artists-by-letter')\nvar ObjectsById = require('./src/objects-by-id')\nvar Department = require('./src/department')\nvar Curator = require('./src/curator')\nvar Curators = require('./src/curators')\nvar Explore = require('./src/explore')\nvar Page = require('./src/page')\nvar Info = require('./src/info')\nvar Gallery = require('./src/gallery')\nvar Map = require('./src/map-page')\nvar More = require('./src/more')\nvar Exhibition = require('./src/exhibition')\nvar Artist = require('./src/artist')\n\nvar routes = (\n  <Route handler={App} path=\"/\">\n    <DefaultRoute name=\"home\" handler={Home}/>\n    <Route name=\"artwork\" path=\"art/:id\" handler={Artwork} />\n    <Route name=\"artworkSlug\" path=\"art/:id/:slug\" handler={Artwork} />\n    <Route name=\"search\" path=\"/search/\" handler={Search}>\n      <Route name=\"searchResults\" path=\":terms\" handler={SearchResults}>\n        <Route name=\"filteredSearchResults\" path=\"filters/*\" handler={SearchResults} />\n      </Route>\n    </Route>\n    <Route name=\"department\" path=\"/departments/:dept\" handler={Department} />\n    <Route name=\"curator\" path=\"/curators/:slug\" handler={Curator} />\n    <Route name=\"curators\" path=\"/curators\" handler={Curators} />\n    <Route name=\"explore\" path=\"/explore\" handler={Explore} />\n    <Route name=\"artistsByName\" path=\"/search/artists/:letter\" handler={ArtistsByLetter} />\n    <Route name=\"artist\" path=\"/people/:id\" handler={Artist} />\n    <Route name=\"artistSlug\" path=\"/people/:id/:slug\" handler={Artist} />\n    <Route name=\"objectsById\" path=\"/search/ids/:ids\" handler={ObjectsById} />\n    <Route name=\"page\" path=\"/info/:name\" handler={Page} />\n    <Route name=\"info\" path=\"/info\" handler={Info} />\n    <Route name=\"gallery\" path=\"/galleries/:gallery\" handler={Gallery} />\n    <Route name=\"map\" path=\"/map\" handler={Map} />\n    <Route name=\"galleries\" path=\"/galleries\" handler={Map} />\n    <Route name=\"more\" path=\"/more\" handler={More} />\n    <Route name=\"exhibition\" path=\"/exhibitions/:id\" handler={Exhibition} />\n    <Route name=\"exhibitionSlug\" path=\"exhibitions/:id/:slug\" handler={Exhibition} />\n  </Route>\n);\n\nmodule.exports = routes\n"
      ]
    },
    "mtime": 1485987477910
  },
  "{\"filename\":\"/var/www/art/src/app.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\n\nvar _require = require('react-router');\n\nvar RouteHandler = _require.RouteHandler;\nvar Link = _require.Link;\n\nvar Helmet = require('react-helmet');\nvar debounce = require('debounce');\n\nvar LiveSearch = require('./live-search');\nvar GlobalNavigation = require('./navigation');\n\nvar App = React.createClass({\n  displayName: 'App',\n\n  render: function render() {\n    var logo = this.makeLogo();\n    var canonicalURL = \"https://collections.artsmia.org\" + this.props.path;\n\n    return React.createElement(\n      'div',\n      { className: this.props.universal && 'universal' },\n      this.state.hideHeader || React.createElement(\n        'header',\n        { style: { zIndex: this.state.showMenu || this.state.showSearch ? 5 : 1 } },\n        logo,\n        this.globalToolBar()\n      ),\n      React.createElement(Helmet, {\n        title: 'Collection | Minneapolis Institute of Art',\n        titleTemplate: '%s | Mia',\n        link: [{ \"rel\": \"canonical\", \"href\": canonicalURL }],\n        meta: [{ property: \"robots\", content: this.noIndex() ? 'follow,noindex' : 'all' }, { property: \"og:url\", content: canonicalURL }]\n      }),\n      React.createElement(RouteHandler, _extends({}, this.props, {\n        activateSearch: this.state.activateSearch,\n        toggleAppHeader: this.toggleHeader\n      }))\n    );\n  },\n\n  componentDidMount: function componentDidMount() {\n    this.debouncedResize = debounce(this.handleResize, 500), window.addEventListener('resize', this.debouncedResize);\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedResize);\n    this.debouncedResize = undefined;\n  },\n  handleResize: function handleResize(e) {\n    if (!this.isMounted()) return;\n    this.setState({ smallViewport: this.isSmallViewport() });\n  },\n\n  isSmallViewport: function isSmallViewport() {\n    return window && window.innerWidth <= 600;\n  },\n\n  toggleHeader: function toggleHeader() {\n    this.setState({ hideHeader: !this.state.hideHeader });\n  },\n\n  getChildContext: function getChildContext() {\n    return {\n      universal: this.props.universal,\n      smallViewport: this.state.smallViewport\n    };\n  },\n\n  globalToolBar: function globalToolBar() {\n    var searchButton = React.createElement(\n      'button',\n      { className: 'material-icons search', onClick: this.toggleSearch },\n      this.state.showSearch ? 'close' : 'search'\n    );\n    var searchTrigger = this.props.universal ? React.createElement(\n      Link,\n      { to: 'home' },\n      searchButton\n    ) : searchButton;\n    var menuButton = React.createElement(\n      'button',\n      { className: 'material-icons menu', onClick: this.toggleMenu },\n      this.state.showMenu ? 'close' : 'menu'\n    );\n    var menuTrigger = menuButton;\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'div',\n        { className: 'global_buttons' },\n        menuTrigger,\n        searchTrigger\n      ),\n      React.createElement(\n        'div',\n        { className: 'global_display' },\n        this.state.showMenu && React.createElement(GlobalNavigation, { closeNav: this.toggleMenu }),\n        this.state.showSearch && React.createElement(LiveSearch, { afterSearch: this.toggleSearch })\n      )\n    );\n  },\n\n  toggleSearch: function toggleSearch(event) {\n    var _ref = arguments.length <= 1 || arguments[1] === undefined ? { 'false': false } : arguments[1];\n\n    var forceClose = _ref.forceClose;\n    var data = this.props.data;\n\n    this.setState(data && data.searchResults && !forceClose ? { activateSearch: event.timeStamp } : { showSearch: forceClose ? false : !this.state.showSearch });\n    this.setState({ showMenu: false });\n  },\n  toggleMenu: function toggleMenu(event) {\n    this.setState({\n      showMenu: !this.state.showMenu,\n      showSearch: false\n    });\n\n    event && event.preventDefault();\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      showSearch: false,\n      smallViewport: this.isSmallViewport()\n    };\n  },\n\n  // wrap in a click handler when the navigation isn't visible, and open the nav\n  // once nav is open, a second click goes to artsmia.org\n  makeLogo: function makeLogo() {\n    var showMenu = this.state.showMenu;\n\n    var logo = React.createElement('div', { className: 'logo-container' });\n\n    if (this.props.universal) return React.createElement(\n      'a',\n      { href: '/' },\n      logo\n    );\n\n    return showMenu ? React.createElement(\n      'a',\n      { href: 'https://new.artsmia.org', title: 'Back to artsmia.org' },\n      logo\n    ) : React.createElement(\n      'a',\n      { href: '/', onClick: this.toggleMenu },\n      logo\n    );\n  },\n\n  noIndex: function noIndex() {\n    return process.env.NODE_ENV !== 'production';\n  }\n});\nApp.childContextTypes = {\n  universal: React.PropTypes.bool,\n  smallViewport: React.PropTypes.bool\n};\n\nmodule.exports = App;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBRSxPQUFPOztRQUFHLElBQUksRUFBQyxHQUFHO01BQUUsSUFBSTtLQUFLLENBQUE7O0FBRXRELFdBQU8sUUFBUSxHQUNiOztRQUFHLElBQUksRUFBQyx5QkFBeUIsRUFBQyxLQUFLLEVBQUMscUJBQXFCO01BQUUsSUFBSTtLQUFLLEdBQ3hFOztRQUFHLElBQUksRUFBQyxHQUFHLEVBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxVQUFVLEFBQUM7TUFBRSxJQUFJO0tBQUssQ0FBQTtHQUNuRDs7QUFFRCxTQUFPLEVBQUEsbUJBQUc7QUFDUixXQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxLQUFLLFlBQVksQ0FBQTtHQUM3QztDQUNGLENBQUMsQ0FBQTtBQUNGLEdBQUcsQ0FBQyxpQkFBaUIsR0FBRztBQUN0QixXQUFTLEVBQUUsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJO0FBQy9CLGVBQWEsRUFBRSxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUk7Q0FDcEMsQ0FBQTs7QUFFRCxNQUFNLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2FwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciB7Um91dGVIYW5kbGVyLCBMaW5rfSA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIgSGVsbWV0ID0gcmVxdWlyZSgncmVhY3QtaGVsbWV0JylcbnZhciBkZWJvdW5jZSA9IHJlcXVpcmUoJ2RlYm91bmNlJylcblxudmFyIExpdmVTZWFyY2ggPSByZXF1aXJlKCcuL2xpdmUtc2VhcmNoJylcbnZhciBHbG9iYWxOYXZpZ2F0aW9uID0gcmVxdWlyZSgnLi9uYXZpZ2F0aW9uJylcblxudmFyIEFwcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciBsb2dvID0gdGhpcy5tYWtlTG9nbygpXG4gICAgdmFyIGNhbm9uaWNhbFVSTCA9IFwiaHR0cHM6Ly9jb2xsZWN0aW9ucy5hcnRzbWlhLm9yZ1wiK3RoaXMucHJvcHMucGF0aFxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLnByb3BzLnVuaXZlcnNhbCAmJiAndW5pdmVyc2FsJ30+XG4gICAgICAgIHt0aGlzLnN0YXRlLmhpZGVIZWFkZXIgfHwgPGhlYWRlciBzdHlsZT17e3pJbmRleDogdGhpcy5zdGF0ZS5zaG93TWVudSB8fCB0aGlzLnN0YXRlLnNob3dTZWFyY2ggPyA1IDogMX19PlxuICAgICAgICAgIHtsb2dvfVxuICAgICAgICAgIHt0aGlzLmdsb2JhbFRvb2xCYXIoKX1cbiAgICAgICAgPC9oZWFkZXI+fVxuICAgICAgICA8SGVsbWV0XG4gICAgICAgICAgdGl0bGU9XCJDb2xsZWN0aW9uIHwgTWlubmVhcG9saXMgSW5zdGl0dXRlIG9mIEFydFwiXG4gICAgICAgICAgdGl0bGVUZW1wbGF0ZT1cIiVzIHwgTWlhXCJcbiAgICAgICAgICBsaW5rPXtbXG4gICAgICAgICAgICB7XCJyZWxcIjogXCJjYW5vbmljYWxcIiwgXCJocmVmXCI6IGNhbm9uaWNhbFVSTH0sXG4gICAgICAgICAgXX1cbiAgICAgICAgICBtZXRhPXtbXG4gICAgICAgICAgICB7cHJvcGVydHk6IFwicm9ib3RzXCIsIGNvbnRlbnQ6IHRoaXMubm9JbmRleCgpID8gJ2ZvbGxvdyxub2luZGV4JyA6ICdhbGwnfSxcbiAgICAgICAgICAgIHtwcm9wZXJ0eTogXCJvZzp1cmxcIiwgY29udGVudDogY2Fub25pY2FsVVJMfSxcbiAgICAgICAgICBdfVxuICAgICAgICAgIC8+XG4gICAgICAgIDxSb3V0ZUhhbmRsZXJcbiAgICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgICBhY3RpdmF0ZVNlYXJjaD17dGhpcy5zdGF0ZS5hY3RpdmF0ZVNlYXJjaH1cbiAgICAgICAgICB0b2dnbGVBcHBIZWFkZXI9e3RoaXMudG9nZ2xlSGVhZGVyfVxuICAgICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5kZWJvdW5jZWRSZXNpemUgPSBkZWJvdW5jZSh0aGlzLmhhbmRsZVJlc2l6ZSwgNTAwKSxcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5kZWJvdW5jZWRSZXNpemUpXG4gIH0sXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmRlYm91bmNlZFJlc2l6ZSlcbiAgICB0aGlzLmRlYm91bmNlZFJlc2l6ZSA9IHVuZGVmaW5lZFxuICB9LFxuICBoYW5kbGVSZXNpemU6IGZ1bmN0aW9uKGUpIHtcbiAgICBpZighdGhpcy5pc01vdW50ZWQoKSkgcmV0dXJuXG4gICAgdGhpcy5zZXRTdGF0ZSh7c21hbGxWaWV3cG9ydDogdGhpcy5pc1NtYWxsVmlld3BvcnQoKX0pXG4gIH0sXG5cbiAgaXNTbWFsbFZpZXdwb3J0KCkge1xuICAgIHJldHVybiB3aW5kb3cgJiYgd2luZG93LmlubmVyV2lkdGggPD0gNjAwXG4gIH0sXG5cbiAgdG9nZ2xlSGVhZGVyKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe2hpZGVIZWFkZXI6ICF0aGlzLnN0YXRlLmhpZGVIZWFkZXJ9KVxuICB9LFxuXG4gIGdldENoaWxkQ29udGV4dCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdW5pdmVyc2FsOiB0aGlzLnByb3BzLnVuaXZlcnNhbCxcbiAgICAgIHNtYWxsVmlld3BvcnQ6IHRoaXMuc3RhdGUuc21hbGxWaWV3cG9ydCxcbiAgICB9XG4gIH0sXG5cbiAgZ2xvYmFsVG9vbEJhcigpIHtcbiAgICB2YXIgc2VhcmNoQnV0dG9uID0gPGJ1dHRvbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29ucyBzZWFyY2hcIiBvbkNsaWNrPXt0aGlzLnRvZ2dsZVNlYXJjaH0+XG4gICAgICB7dGhpcy5zdGF0ZS5zaG93U2VhcmNoID8gJ2Nsb3NlJyA6ICdzZWFyY2gnfVxuICAgIDwvYnV0dG9uPlxuICAgIHZhciBzZWFyY2hUcmlnZ2VyID0gdGhpcy5wcm9wcy51bml2ZXJzYWwgPyA8TGluayB0bz1cImhvbWVcIj57c2VhcmNoQnV0dG9ufTwvTGluaz4gOiBzZWFyY2hCdXR0b25cbiAgICB2YXIgbWVudUJ1dHRvbiA9IDxidXR0b24gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbnMgbWVudVwiIG9uQ2xpY2s9e3RoaXMudG9nZ2xlTWVudX0+XG4gICAgICB7dGhpcy5zdGF0ZS5zaG93TWVudSA/ICdjbG9zZScgOiAnbWVudSd9XG4gICAgPC9idXR0b24+XG4gICAgdmFyIG1lbnVUcmlnZ2VyID0gbWVudUJ1dHRvblxuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbG9iYWxfYnV0dG9uc1wiPlxuICAgICAgICB7bWVudVRyaWdnZXJ9XG4gICAgICAgIHtzZWFyY2hUcmlnZ2VyfVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdsb2JhbF9kaXNwbGF5XCI+XG4gICAgICB7dGhpcy5zdGF0ZS5zaG93TWVudSAmJiA8R2xvYmFsTmF2aWdhdGlvbiBjbG9zZU5hdj17dGhpcy50b2dnbGVNZW51fSAvPn1cbiAgICAgIHt0aGlzLnN0YXRlLnNob3dTZWFyY2ggJiYgPExpdmVTZWFyY2ggYWZ0ZXJTZWFyY2g9e3RoaXMudG9nZ2xlU2VhcmNofSAvPn1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICB9LFxuXG4gIHRvZ2dsZVNlYXJjaChldmVudCwge2ZvcmNlQ2xvc2V9PXtmYWxzZX0pIHtcbiAgICB2YXIge2RhdGF9ID0gdGhpcy5wcm9wc1xuICAgIHRoaXMuc2V0U3RhdGUoXG4gICAgICBkYXRhICYmIGRhdGEuc2VhcmNoUmVzdWx0cyAmJiAhZm9yY2VDbG9zZSA/XG4gICAgICAgIHthY3RpdmF0ZVNlYXJjaDogZXZlbnQudGltZVN0YW1wfSA6XG4gICAgICAgIHtzaG93U2VhcmNoOiBmb3JjZUNsb3NlID8gZmFsc2UgOiAhdGhpcy5zdGF0ZS5zaG93U2VhcmNofVxuICAgICAgKVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7c2hvd01lbnU6IGZhbHNlfSlcbiAgfSxcbiAgdG9nZ2xlTWVudShldmVudCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2hvd01lbnU6ICF0aGlzLnN0YXRlLnNob3dNZW51LFxuICAgICAgc2hvd1NlYXJjaDogZmFsc2VcbiAgICB9KVxuXG4gICAgZXZlbnQgJiYgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICB9LFxuXG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2hvd1NlYXJjaDogZmFsc2UsXG4gICAgICBzbWFsbFZpZXdwb3J0OiB0aGlzLmlzU21hbGxWaWV3cG9ydCgpLFxuICAgIH1cbiAgfSxcblxuICAvLyB3cmFwIGluIGEgY2xpY2sgaGFuZGxlciB3aGVuIHRoZSBuYXZpZ2F0aW9uIGlzbid0IHZpc2libGUsIGFuZCBvcGVuIHRoZSBuYXZcbiAgLy8gb25jZSBuYXYgaXMgb3BlbiwgYSBzZWNvbmQgY2xpY2sgZ29lcyB0byBhcnRzbWlhLm9yZ1xuICBtYWtlTG9nbygpIHtcbiAgICB2YXIge3Nob3dNZW51fSA9IHRoaXMuc3RhdGVcbiAgICB2YXIgbG9nbyA9IDxkaXYgY2xhc3NOYW1lPSdsb2dvLWNvbnRhaW5lcic+PC9kaXY+XG5cbiAgICBpZih0aGlzLnByb3BzLnVuaXZlcnNhbCkgcmV0dXJuIDxhIGhyZWY9XCIvXCI+e2xvZ299PC9hPlxuXG4gICAgcmV0dXJuIHNob3dNZW51ID9cbiAgICAgIDxhIGhyZWY9XCJodHRwczovL25ldy5hcnRzbWlhLm9yZ1wiIHRpdGxlPVwiQmFjayB0byBhcnRzbWlhLm9yZ1wiPntsb2dvfTwvYT4gOlxuICAgICAgPGEgaHJlZj1cIi9cIiBvbkNsaWNrPXt0aGlzLnRvZ2dsZU1lbnV9Pntsb2dvfTwvYT5cbiAgfSxcblxuICBub0luZGV4KCkge1xuICAgIHJldHVybiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nXG4gIH0sXG59KVxuQXBwLmNoaWxkQ29udGV4dFR5cGVzID0ge1xuICB1bml2ZXJzYWw6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuICBzbWFsbFZpZXdwb3J0OiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBcHBcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/app.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/app.js",
      "sourcesContent": [
        "var React = require('react')\nvar {RouteHandler, Link} = require('react-router')\nvar Helmet = require('react-helmet')\nvar debounce = require('debounce')\n\nvar LiveSearch = require('./live-search')\nvar GlobalNavigation = require('./navigation')\n\nvar App = React.createClass({\n  render() {\n    var logo = this.makeLogo()\n    var canonicalURL = \"https://collections.artsmia.org\"+this.props.path\n\n    return (\n      <div className={this.props.universal && 'universal'}>\n        {this.state.hideHeader || <header style={{zIndex: this.state.showMenu || this.state.showSearch ? 5 : 1}}>\n          {logo}\n          {this.globalToolBar()}\n        </header>}\n        <Helmet\n          title=\"Collection | Minneapolis Institute of Art\"\n          titleTemplate=\"%s | Mia\"\n          link={[\n            {\"rel\": \"canonical\", \"href\": canonicalURL},\n          ]}\n          meta={[\n            {property: \"robots\", content: this.noIndex() ? 'follow,noindex' : 'all'},\n            {property: \"og:url\", content: canonicalURL},\n          ]}\n          />\n        <RouteHandler\n          {...this.props}\n          activateSearch={this.state.activateSearch}\n          toggleAppHeader={this.toggleHeader}\n          />\n      </div>\n    )\n  },\n\n  componentDidMount() {\n    this.debouncedResize = debounce(this.handleResize, 500),\n    window.addEventListener('resize', this.debouncedResize)\n  },\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedResize)\n    this.debouncedResize = undefined\n  },\n  handleResize: function(e) {\n    if(!this.isMounted()) return\n    this.setState({smallViewport: this.isSmallViewport()})\n  },\n\n  isSmallViewport() {\n    return window && window.innerWidth <= 600\n  },\n\n  toggleHeader() {\n    this.setState({hideHeader: !this.state.hideHeader})\n  },\n\n  getChildContext() {\n    return {\n      universal: this.props.universal,\n      smallViewport: this.state.smallViewport,\n    }\n  },\n\n  globalToolBar() {\n    var searchButton = <button className=\"material-icons search\" onClick={this.toggleSearch}>\n      {this.state.showSearch ? 'close' : 'search'}\n    </button>\n    var searchTrigger = this.props.universal ? <Link to=\"home\">{searchButton}</Link> : searchButton\n    var menuButton = <button className=\"material-icons menu\" onClick={this.toggleMenu}>\n      {this.state.showMenu ? 'close' : 'menu'}\n    </button>\n    var menuTrigger = menuButton\n    return <div>\n      <div className=\"global_buttons\">\n        {menuTrigger}\n        {searchTrigger}\n      </div>\n      <div className=\"global_display\">\n      {this.state.showMenu && <GlobalNavigation closeNav={this.toggleMenu} />}\n      {this.state.showSearch && <LiveSearch afterSearch={this.toggleSearch} />}\n      </div>\n    </div>\n  },\n\n  toggleSearch(event, {forceClose}={false}) {\n    var {data} = this.props\n    this.setState(\n      data && data.searchResults && !forceClose ?\n        {activateSearch: event.timeStamp} :\n        {showSearch: forceClose ? false : !this.state.showSearch}\n      )\n      this.setState({showMenu: false})\n  },\n  toggleMenu(event) {\n    this.setState({\n      showMenu: !this.state.showMenu,\n      showSearch: false\n    })\n\n    event && event.preventDefault()\n  },\n\n  getInitialState() {\n    return {\n      showSearch: false,\n      smallViewport: this.isSmallViewport(),\n    }\n  },\n\n  // wrap in a click handler when the navigation isn't visible, and open the nav\n  // once nav is open, a second click goes to artsmia.org\n  makeLogo() {\n    var {showMenu} = this.state\n    var logo = <div className='logo-container'></div>\n\n    if(this.props.universal) return <a href=\"/\">{logo}</a>\n\n    return showMenu ?\n      <a href=\"https://new.artsmia.org\" title=\"Back to artsmia.org\">{logo}</a> :\n      <a href=\"/\" onClick={this.toggleMenu}>{logo}</a>\n  },\n\n  noIndex() {\n    return process.env.NODE_ENV !== 'production'\n  },\n})\nApp.childContextTypes = {\n  universal: React.PropTypes.bool,\n  smallViewport: React.PropTypes.bool,\n}\n\nmodule.exports = App\n"
      ]
    },
    "mtime": 1488248774574
  },
  "{\"filename\":\"/var/www/art/src/live-search.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\n\nvar Search = require('./search');\nvar SearchResults = require('./search-results');\n\nvar styles = {\n  searchBox: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    minHeight: '3em',\n    zIndex: '1',\n    backgroundColor: 'white',\n    borderBottom: '1em solid #222',\n    background: 'rgb(35,35,35)',\n    color: 'white',\n    paddingTop: '3.3em'\n  },\n\n  message: {\n    textAlign: 'center',\n    display: 'inline-block',\n    width: '100%',\n    paddingTop: '1em'\n  }\n};\n\nvar LiveSearch = React.createClass({\n  displayName: 'LiveSearch',\n\n  render: function render() {\n    return React.createElement(\n      'div',\n      { style: styles.searchBox },\n      React.createElement(\n        Search,\n        {\n          hideResults: true,\n          blank: this.state.blank,\n          activateInput: true,\n          onUpdate: this.updateQuilt,\n          onSearch: this.afterSearch,\n          terms: this.state.terms,\n          results: this.state.results,\n          link: ['searchResults', { terms: this.state.terms }],\n          delay: 1000,\n          suggestStyle: { margin: \"1em 3em\" }\n        },\n        React.createElement(\n          'span',\n          { style: styles.message },\n          this.getText()\n        )\n      )\n    );\n  },\n\n  updateQuilt: function updateQuilt(terms) {\n    var _this = this;\n\n    !!terms && SearchResults.fetchData.searchResults({ terms: terms }).then(function (results) {\n      return _this.setState({ results: results, blank: false, terms: terms });\n    });\n  },\n\n  afterSearch: function afterSearch(terms) {\n    this.props.afterSearch({ forceClose: true });\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      results: [],\n      blank: true\n    };\n  },\n\n  getText: function getText() {\n    var results = this.state.results;\n\n    return results.hits && '(' + Math.min(results.hits.total, 10) + ' of ' + results.hits.total + '\\n      results for \\'' + this.state.terms + '\\'.\\n      hit enter to see the rest)';\n  }\n});\n\nmodule.exports = LiveSearch;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvbGl2ZS1zZWFyY2guanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7O0FBRTVCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQTtBQUNoQyxJQUFJLGFBQWEsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQTs7QUFFL0MsSUFBSSxNQUFNLEdBQUc7QUFDWCxXQUFTLEVBQUU7QUFDVCxZQUFRLEVBQUUsVUFBVTtBQUNwQixPQUFHLEVBQUUsQ0FBQztBQUNOLFFBQUksRUFBRSxDQUFDO0FBQ1AsU0FBSyxFQUFFLENBQUM7QUFDUixhQUFTLEVBQUUsS0FBSztBQUNoQixVQUFNLEVBQUUsR0FBRztBQUNYLG1CQUFlLEVBQUUsT0FBTztBQUN4QixnQkFBWSxFQUFFLGdCQUFnQjtBQUM5QixjQUFVLEVBQUUsZUFBZTtBQUMzQixTQUFLLEVBQUUsT0FBTztBQUNkLGNBQVUsRUFBQyxPQUFPO0dBQ25COztBQUVELFNBQU8sRUFBRTtBQUNQLGFBQVMsRUFBRSxRQUFRO0FBQ25CLFdBQU8sRUFBRSxjQUFjO0FBQ3ZCLFNBQUssRUFBRSxNQUFNO0FBQ2IsY0FBVSxFQUFFLEtBQUs7R0FDbEI7Q0FDRixDQUFBOztBQUVELElBQUksVUFBVSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUNqQyxRQUFNLEVBQUEsa0JBQUc7QUFDUCxXQUFPOztRQUFLLEtBQUssRUFBRSxNQUFNLENBQUMsU0FBUyxBQUFDO01BQ2xDO0FBQUMsY0FBTTs7QUFDTCxxQkFBVyxFQUFFLElBQUksQUFBQztBQUNsQixlQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEFBQUM7QUFDeEIsdUJBQWEsRUFBRSxJQUFJLEFBQUM7QUFDcEIsa0JBQVEsRUFBRSxJQUFJLENBQUMsV0FBVyxBQUFDO0FBQzNCLGtCQUFRLEVBQUUsSUFBSSxDQUFDLFdBQVcsQUFBQztBQUMzQixlQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEFBQUM7QUFDeEIsaUJBQU8sRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQUFBQztBQUM1QixjQUFJLEVBQUUsQ0FBQyxlQUFlLEVBQUUsRUFBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUMsQ0FBQyxBQUFDO0FBQ25ELGVBQUssRUFBRSxJQUFJLEFBQUM7QUFDWixzQkFBWSxFQUFFLEVBQUMsTUFBTSxFQUFFLFNBQVMsRUFBQyxBQUFDOztRQUVsQzs7WUFBTSxLQUFLLEVBQUUsTUFBTSxDQUFDLE9BQU8sQUFBQztVQUFFLElBQUksQ0FBQyxPQUFPLEVBQUU7U0FBUTtPQUM3QztLQUNMLENBQUE7R0FDUDs7QUFFRCxhQUFXLEVBQUEscUJBQUMsS0FBSyxFQUFFOzs7QUFDakIsS0FBQyxDQUFDLEtBQUssSUFDTCxhQUFhLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxFQUFDLEtBQUssRUFBTCxLQUFLLEVBQUMsQ0FBQyxDQUM3QyxJQUFJLENBQUMsVUFBQSxPQUFPO2FBQUksTUFBSyxRQUFRLENBQUMsRUFBQyxPQUFPLEVBQVAsT0FBTyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFMLEtBQUssRUFBQyxDQUFDO0tBQUEsQ0FBQyxDQUFBO0dBQ2xFOztBQUVELGFBQVcsRUFBQSxxQkFBQyxLQUFLLEVBQUU7QUFDakIsUUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsRUFBQyxVQUFVLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQTtHQUMzQzs7QUFFRCxpQkFBZSxFQUFBLDJCQUFHO0FBQ2hCLFdBQU87QUFDTCxhQUFPLEVBQUUsRUFBRTtBQUNYLFdBQUssRUFBRSxJQUFJO0tBQ1osQ0FBQTtHQUNGOztBQUVELFNBQU8sRUFBQSxtQkFBRztRQUNILE9BQU8sR0FBSSxJQUFJLENBQUMsS0FBSyxDQUFyQixPQUFPOztBQUNaLFdBQU8sT0FBTyxDQUFDLElBQUksVUFDYixJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxZQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyw4QkFDOUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLDBDQUNKLENBQUE7R0FDOUI7Q0FDRixDQUFDLENBQUE7O0FBRUYsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFVLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9saXZlLXNlYXJjaC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcblxudmFyIFNlYXJjaCA9IHJlcXVpcmUoJy4vc2VhcmNoJylcbnZhciBTZWFyY2hSZXN1bHRzID0gcmVxdWlyZSgnLi9zZWFyY2gtcmVzdWx0cycpXG5cbnZhciBzdHlsZXMgPSB7XG4gIHNlYXJjaEJveDoge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRvcDogMCxcbiAgICBsZWZ0OiAwLFxuICAgIHJpZ2h0OiAwLFxuICAgIG1pbkhlaWdodDogJzNlbScsXG4gICAgekluZGV4OiAnMScsXG4gICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgIGJvcmRlckJvdHRvbTogJzFlbSBzb2xpZCAjMjIyJyxcbiAgICBiYWNrZ3JvdW5kOiAncmdiKDM1LDM1LDM1KScsXG4gICAgY29sb3I6ICd3aGl0ZScsXG4gICAgcGFkZGluZ1RvcDonMy4zZW0nXG4gIH0sXG5cbiAgbWVzc2FnZToge1xuICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgd2lkdGg6ICcxMDAlJyxcbiAgICBwYWRkaW5nVG9wOiAnMWVtJyxcbiAgfSxcbn1cblxudmFyIExpdmVTZWFyY2ggPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPGRpdiBzdHlsZT17c3R5bGVzLnNlYXJjaEJveH0+XG4gICAgICA8U2VhcmNoXG4gICAgICAgIGhpZGVSZXN1bHRzPXt0cnVlfVxuICAgICAgICBibGFuaz17dGhpcy5zdGF0ZS5ibGFua31cbiAgICAgICAgYWN0aXZhdGVJbnB1dD17dHJ1ZX1cbiAgICAgICAgb25VcGRhdGU9e3RoaXMudXBkYXRlUXVpbHR9XG4gICAgICAgIG9uU2VhcmNoPXt0aGlzLmFmdGVyU2VhcmNofVxuICAgICAgICB0ZXJtcz17dGhpcy5zdGF0ZS50ZXJtc31cbiAgICAgICAgcmVzdWx0cz17dGhpcy5zdGF0ZS5yZXN1bHRzfVxuICAgICAgICBsaW5rPXtbJ3NlYXJjaFJlc3VsdHMnLCB7dGVybXM6IHRoaXMuc3RhdGUudGVybXN9XX1cbiAgICAgICAgZGVsYXk9ezEwMDB9XG4gICAgICAgIHN1Z2dlc3RTdHlsZT17e21hcmdpbjogXCIxZW0gM2VtXCJ9fVxuICAgICAgICA+XG4gICAgICAgIDxzcGFuIHN0eWxlPXtzdHlsZXMubWVzc2FnZX0+e3RoaXMuZ2V0VGV4dCgpfTwvc3Bhbj5cbiAgICAgIDwvU2VhcmNoPlxuICAgIDwvZGl2PlxuICB9LFxuXG4gIHVwZGF0ZVF1aWx0KHRlcm1zKSB7XG4gICAgISF0ZXJtcyAmJlxuICAgICAgU2VhcmNoUmVzdWx0cy5mZXRjaERhdGEuc2VhcmNoUmVzdWx0cyh7dGVybXN9KVxuICAgICAgLnRoZW4ocmVzdWx0cyA9PiB0aGlzLnNldFN0YXRlKHtyZXN1bHRzLCBibGFuazogZmFsc2UsIHRlcm1zfSkpXG4gIH0sXG5cbiAgYWZ0ZXJTZWFyY2godGVybXMpIHtcbiAgICB0aGlzLnByb3BzLmFmdGVyU2VhcmNoKHtmb3JjZUNsb3NlOiB0cnVlfSlcbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3VsdHM6IFtdLFxuICAgICAgYmxhbms6IHRydWVcbiAgICB9XG4gIH0sXG5cbiAgZ2V0VGV4dCgpIHtcbiAgICB2YXIge3Jlc3VsdHN9ID0gdGhpcy5zdGF0ZVxuICAgIHJldHVybiByZXN1bHRzLmhpdHMgJiZcbiAgICAgIGAoJHtNYXRoLm1pbihyZXN1bHRzLmhpdHMudG90YWwsIDEwKX0gb2YgJHtyZXN1bHRzLmhpdHMudG90YWx9XG4gICAgICByZXN1bHRzIGZvciAnJHt0aGlzLnN0YXRlLnRlcm1zfScuXG4gICAgICBoaXQgZW50ZXIgdG8gc2VlIHRoZSByZXN0KWBcbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gTGl2ZVNlYXJjaFxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/live-search.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;AAE5B,IAAI,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA;AAChC,IAAI,aAAa,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAA;;AAE/C,IAAI,MAAM,GAAG;AACX,WAAS,EAAE;AACT,YAAQ,EAAE,UAAU;AACpB,OAAG,EAAE,CAAC;AACN,QAAI,EAAE,CAAC;AACP,SAAK,EAAE,CAAC;AACR,aAAS,EAAE,KAAK;AAChB,UAAM,EAAE,GAAG;AACX,mBAAe,EAAE,OAAO;AACxB,gBAAY,EAAE,gBAAgB;AAC9B,cAAU,EAAE,eAAe;AAC3B,SAAK,EAAE,OAAO;AACd,cAAU,EAAC,OAAO;GACnB;;AAED,SAAO,EAAE;AACP,aAAS,EAAE,QAAQ;AACnB,WAAO,EAAE,cAAc;AACvB,SAAK,EAAE,MAAM;AACb,cAAU,EAAE,KAAK;GAClB;CACF,CAAA;;AAED,IAAI,UAAU,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACjC,QAAM,EAAA,kBAAG;AACP,WAAO;;QAAK,KAAK,EAAE,MAAM,CAAC,SAAS,AAAC;MAClC;AAAC,cAAM;;AACL,qBAAW,EAAE,IAAI,AAAC;AAClB,eAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,AAAC;AACxB,uBAAa,EAAE,IAAI,AAAC;AACpB,kBAAQ,EAAE,IAAI,CAAC,WAAW,AAAC;AAC3B,kBAAQ,EAAE,IAAI,CAAC,WAAW,AAAC;AAC3B,eAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,AAAC;AACxB,iBAAO,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,AAAC;AAC5B,cAAI,EAAE,CAAC,eAAe,EAAE,EAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,EAAC,CAAC,AAAC;AACnD,eAAK,EAAE,IAAI,AAAC;AACZ,sBAAY,EAAE,EAAC,MAAM,EAAE,SAAS,EAAC,AAAC;;QAElC;;YAAM,KAAK,EAAE,MAAM,CAAC,OAAO,AAAC;UAAE,IAAI,CAAC,OAAO,EAAE;SAAQ;OAC7C;KACL,CAAA;GACP;;AAED,aAAW,EAAA,qBAAC,KAAK,EAAE;;;AACjB,KAAC,CAAC,KAAK,IACL,aAAa,CAAC,SAAS,CAAC,aAAa,CAAC,EAAC,KAAK,EAAL,KAAK,EAAC,CAAC,CAC7C,IAAI,CAAC,UAAA,OAAO;aAAI,MAAK,QAAQ,CAAC,EAAC,OAAO,EAAP,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAL,KAAK,EAAC,CAAC;KAAA,CAAC,CAAA;GAClE;;AAED,aAAW,EAAA,qBAAC,KAAK,EAAE;AACjB,QAAI,CAAC,KAAK,CAAC,WAAW,CAAC,EAAC,UAAU,EAAE,IAAI,EAAC,CAAC,CAAA;GAC3C;;AAED,iBAAe,EAAA,2BAAG;AAChB,WAAO;AACL,aAAO,EAAE,EAAE;AACX,WAAK,EAAE,IAAI;KACZ,CAAA;GACF;;AAED,SAAO,EAAA,mBAAG;QACH,OAAO,GAAI,IAAI,CAAC,KAAK,CAArB,OAAO;;AACZ,WAAO,OAAO,CAAC,IAAI,UACb,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,CAAC,YAAO,OAAO,CAAC,IAAI,CAAC,KAAK,8BAC9C,IAAI,CAAC,KAAK,CAAC,KAAK,0CACJ,CAAA;GAC9B;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,UAAU,CAAA",
      "file": "/var/www/art/src/live-search.js",
      "sourcesContent": [
        "var React = require('react')\n\nvar Search = require('./search')\nvar SearchResults = require('./search-results')\n\nvar styles = {\n  searchBox: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    minHeight: '3em',\n    zIndex: '1',\n    backgroundColor: 'white',\n    borderBottom: '1em solid #222',\n    background: 'rgb(35,35,35)',\n    color: 'white',\n    paddingTop:'3.3em'\n  },\n\n  message: {\n    textAlign: 'center',\n    display: 'inline-block',\n    width: '100%',\n    paddingTop: '1em',\n  },\n}\n\nvar LiveSearch = React.createClass({\n  render() {\n    return <div style={styles.searchBox}>\n      <Search\n        hideResults={true}\n        blank={this.state.blank}\n        activateInput={true}\n        onUpdate={this.updateQuilt}\n        onSearch={this.afterSearch}\n        terms={this.state.terms}\n        results={this.state.results}\n        link={['searchResults', {terms: this.state.terms}]}\n        delay={1000}\n        suggestStyle={{margin: \"1em 3em\"}}\n        >\n        <span style={styles.message}>{this.getText()}</span>\n      </Search>\n    </div>\n  },\n\n  updateQuilt(terms) {\n    !!terms &&\n      SearchResults.fetchData.searchResults({terms})\n      .then(results => this.setState({results, blank: false, terms}))\n  },\n\n  afterSearch(terms) {\n    this.props.afterSearch({forceClose: true})\n  },\n\n  getInitialState() {\n    return {\n      results: [],\n      blank: true\n    }\n  },\n\n  getText() {\n    var {results} = this.state\n    return results.hits &&\n      `(${Math.min(results.hits.total, 10)} of ${results.hits.total}\n      results for '${this.state.terms}'.\n      hit enter to see the rest)`\n  },\n})\n\nmodule.exports = LiveSearch\n"
      ]
    },
    "mtime": 1447960210959
  },
  "{\"filename\":\"/var/www/art/src/search.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\nvar Router = require('react-router');\nvar NotFoundRoute = Router.NotFoundRoute;\nvar Navigation = Router.Navigation;\nvar State = Router.State;\nvar Link = Router.Link;\nvar Route = Router.Route;\nvar RouteHandler = Router.RouteHandler;\nvar DefaultRoute = Router.DefaultRoute;\nvar Redirect = Router.Redirect;\n\nvar rest = require('rest');\nvar debounce = require('debounce');\nvar SEARCH = require('./endpoints').search;\n\nvar ImageQuilt = require('./image-quilt');\nvar SearchResults = require('./search-results');\nvar Suggest = require('./suggest');\nvar searchLanguageMap = require('./search-language');\n\nvar Search = React.createClass({\n  displayName: 'Search',\n\n  mixins: [Router.State, Router.Navigation],\n\n  getInitialState: function getInitialState() {\n    var blank = this.props.blank;\n\n    var results = this.props.results || this.props.data && this.props.data.searchResults || [];\n    results || this.props.blank || this.transitionTo('home');\n\n    return {\n      results: results,\n      terms: blank ? '' : this.props.params && this.props.params.terms && decodeURIComponent(this.props.params.terms),\n      hits: results && results.hits && results.hits.hits || [],\n      showAggs: this.props.showAggs,\n      blank: this.props.blank\n    };\n  },\n\n  render: function render() {\n    var results = this.state.results;\n    var hits = results && results.hits && results.hits.hits; // this has to be different from `state.hits` so artworks don't change order when hovered in the quilt\n    var darkenQuilt = this.props.path && this.props.path.match(/\\/search/);\n    var headerArtworks = ImageQuilt.getImagedResults(hits);\n    var showQuilt = !darkenQuilt && headerArtworks;\n    var quiltProps = Object.assign({\n      maxRows: this.state.showAggs ? 1 : 2,\n      maxWorks: 10,\n      artworks: headerArtworks,\n      onClick: this.updateFromQuilt,\n      disableHover: this.props.hideResults || this.props.disableHover,\n      lazyLoad: !this.context.universal,\n      darken: darkenQuilt,\n      shuffle: this.props.shuffleQuilt\n    }, this.props.quiltProps || {});\n\n    var idealSearchBoxWidth = Math.max(17, this.state.terms && this.state.terms.length * 1.1 || 0);\n    var formProps = this.context.universal ? { action: \"/search/\", method: \"get\" } : { action: '' };\n    var simpleSearchBox = React.createElement(\n      'div',\n      { className: 'search-wrapper', style: { width: idealSearchBoxWidth + 'em' } },\n      React.createElement(\n        'form',\n        formProps,\n        React.createElement('input', { className: 'search-input', type: 'search',\n          placeholder: 'search',\n          value: searchLanguageMap(this.state.terms),\n          onKeyDown: this.keyDown,\n          onChange: this.throttledSearch,\n          onFocus: function (_ref) {\n            var target = _ref.target;\n            return target && target.select();\n          },\n          style: { width: '100%', pointerEvents: 'all' },\n          name: 'q',\n          ref: 'searchInput',\n          autoComplete: 'off',\n          list: 'searchCompletions'\n        })\n      )\n    );\n\n    var hideInput = this.props.hideInput && !this.state.activateSearch;\n    var searchStyles = {\n      left: 0,\n      right: 0,\n      width: '100%',\n      textAlign: 'center',\n      pointerEvents: 'none',\n      display: hideInput ? 'none' : 'inherit',\n      padding: this.props.bumpSearchBox ? '0.5em' : '0',\n      position: 'relative',\n      zIndex: 4\n    };\n\n    var searchOverQuiltStyles = _extends({}, searchStyles, {\n      position: 'absolute',\n      top: '50%',\n      transform: \"translateY(-50%)\",\n      WebkitTransform: \"translateY(-50%)\"\n    });\n\n    var searchBox = React.createElement(\n      'div',\n      { className: 'quilt-search-wrap', style: showQuilt && { position: 'relative', width: '100%', overflow: 'hidden' } || {} },\n      showQuilt && React.createElement(ImageQuilt, quiltProps) || React.createElement('span', { style: { display: 'block', minHeight: '3.5rem' } }),\n      React.createElement(\n        'div',\n        { className: 'search-wrap',\n          style: showQuilt && !this.props.bumpSearchBox ? searchOverQuiltStyles : searchStyles },\n        React.createElement(\n          'div',\n          { style: { opacity: this.props.hideHeader ? '1' : '0.95' } },\n          simpleSearchBox\n        )\n      )\n    );\n\n    var aggsProps = {\n      showAggs: this.state.showAggs,\n      toggleAggs: this.toggleAggs\n    };\n\n    var suggestions = React.createElement(Suggest, {\n      search: this.props.data && this.props.data.searchResults,\n      completions: this.state.completions,\n      style: this.props.suggestStyle\n    });\n\n    return React.createElement(\n      'div',\n      { id: 'search' },\n      searchBox,\n      this.props.children,\n      this.props.hideResults && suggestions || React.createElement(\n        'div',\n        null,\n        React.createElement(SearchResults, _extends({}, this.props, {\n          hits: this.state.hits\n        }, aggsProps, {\n          suggestions: suggestions,\n          minHeight: this.state.minHeight\n        }))\n      )\n    );\n  },\n\n  componentWillMount: function componentWillMount() {\n    var update = this.props.onUpdate || this.search;\n    var delay = this.props.delay;\n\n    var isDesktop = typeof window.orientation === 'undefined';\n\n    this.debouncedSearch = delay || isDesktop ? debounce(update, this.props.delay || 3000) : undefined;\n    this.debouncedAutocomplete = debounce(this.autocomplete, 300);\n  },\n\n  autocomplete: function autocomplete(terms) {\n    var _this = this;\n\n    if (terms == '') return;\n    rest(SEARCH + '/autofill/' + decodeURIComponent(terms)).then(function (r) {\n      return JSON.parse(r.entity);\n    }).then(function (completions) {\n      return _this.setState({ completions: completions });\n    });\n  },\n\n  componentDidMount: function componentDidMount() {\n    if (this.props.activateInput) {\n      this.activateSearch();\n    }\n    window.lastSearchedTerms = this.state.terms;\n  },\n\n  throttledSearch: function throttledSearch(event) {\n    var terms = searchLanguageMap(event.target.value);\n    this.setState({ terms: terms });\n    this.debouncedSearch && this.debouncedSearch(terms);\n    this.debouncedAutocomplete(terms);\n    window.lastSearchedTerms = terms;\n  },\n\n  search: function search() {\n    var terms = this.normalizeTerms(this.state.terms);\n    var _props = this.props;\n    var facet = _props.facet;\n    var searchAll = _props.searchAll;\n\n    if (terms === '') return;\n\n    var filters = this.props.params && this.props.params.splat;\n    if (filters && filters.match(/deaccessioned:.?true.?/)) facet = filters;\n    this.props.onSearch && this.props.onSearch(terms);\n    this.transitionTo(facet && !searchAll ? 'filteredSearchResults' : 'searchResults', { terms: terms, splat: facet });\n  },\n\n  keyDown: function keyDown(event) {\n    if (event.key == 'Enter') {\n      this.search();\n      event.preventDefault();\n    }\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    // Replace `terms` with the terms from the current search, so back+forward\n    // work correctly. UNLESS the only difference is insignificant whitespace.\n    var nextTerms = nextProps.params && nextProps.params.terms || nextProps.terms;\n    if (this.normalizeTerms() != nextTerms) {\n      this.setState({ terms: nextTerms });\n    }\n    var results = nextProps.results || nextProps.data && nextProps.data.searchResults;\n    this.setState({ results: results, hits: results && results.hits && results.hits.hits || [] });\n  },\n\n  componentDidUpdate: function componentDidUpdate(prevProps) {\n    var activateSearch = this.props.activateSearch;\n\n    if (activateSearch && activateSearch !== this.state.activateSearch) {\n      this.activateSearch();\n      this.setState({ activateSearch: activateSearch });\n    }\n  },\n\n  normalizeTerms: function normalizeTerms() {\n    var terms = arguments.length <= 0 || arguments[0] === undefined ? this.state.terms : arguments[0];\n\n    return terms && terms.replace(/\\s+/, ' ').trim();\n  },\n\n  // update `state.hits` to float a hit from the quilt to the top.\n  // If no `art` is passed, that means the quilt has lost focus,\n  // reset hits to be the searchResults straigt from ES\n  updateFromQuilt: function updateFromQuilt(art) {\n    var hits = this.state.results.hits.hits;\n    if (art) {\n      if (this.props.facet) this.linkToClickedArtwork(this.props.facet, art);\n      var index = hits.indexOf(art) + 1;\n      if (hits.indexOf(art) === -1) {\n        var sameArtDifferentObject = hits.filter(function (h) {\n          return h._id === art._id;\n        });\n        if (sameArtDifferentObject) index = hits.indexOf(sameArtDifferentObject[0]) + 1;\n      }\n      var nextHits = [art].concat(hits);\n      nextHits.splice(index, 1);\n      this.setState({ hits: nextHits || hits });\n    }\n  },\n\n  linkToClickedArtwork: function linkToClickedArtwork(facet, art) {\n    window.clickedArtwork = art;\n    this.props.onSearch && this.props.onSearch('clicked a link');\n    this.transitionTo(facet ? 'filteredSearchResults' : 'searchResults', { terms: '*', splat: facet });\n  },\n\n  toggleAggs: function toggleAggs() {\n    this.setState({ showAggs: !this.state.showAggs });\n  },\n\n  activateSearch: function activateSearch() {\n    var node = ReactDOM.findDOMNode(this.refs.searchInput);\n    if (node) {\n      node.focus();\n      node.value && node.setSelectionRange(0, node.value.length);\n    }\n  }\n});\nSearch.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nmodule.exports = Search;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvc2VhcmNoLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFBO0FBQ25DLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtJQUM5QixhQUFhLEdBQTJFLE1BQU0sQ0FBOUYsYUFBYTtJQUFFLFVBQVUsR0FBK0QsTUFBTSxDQUEvRSxVQUFVO0lBQUUsS0FBSyxHQUF3RCxNQUFNLENBQW5FLEtBQUs7SUFBRSxJQUFJLEdBQWtELE1BQU0sQ0FBNUQsSUFBSTtJQUFFLEtBQUssR0FBMkMsTUFBTSxDQUF0RCxLQUFLO0lBQUUsWUFBWSxHQUE2QixNQUFNLENBQS9DLFlBQVk7SUFBRSxZQUFZLEdBQWUsTUFBTSxDQUFqQyxZQUFZO0lBQUUsUUFBUSxHQUFLLE1BQU0sQ0FBbkIsUUFBUTs7QUFDekYsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFBO0FBQzFCLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQTtBQUNsQyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsTUFBTSxDQUFBOztBQUUxQyxJQUFJLFVBQVUsR0FBRyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUE7QUFDekMsSUFBSSxhQUFhLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUE7QUFDL0MsSUFBSSxPQUFPLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFBO0FBQ2xDLElBQUksaUJBQWlCLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7O0FBR3BELElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUM3QixRQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLE1B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QUFFLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUE7S0FDM0Q7R0FDRjtDQUNGLENBQUMsQ0FBQTtBQUNGLE1BQU0sQ0FBQyxZQUFZLEdBQUc7QUFDcEIsUUFBTSxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSTtBQUM1QixXQUFTLEVBQUUsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJO0NBQ2hDLENBQUE7O0FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9zZWFyY2guanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUmVhY3RET00gPSByZXF1aXJlKCdyZWFjdC1kb20nKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIgeyBOb3RGb3VuZFJvdXRlLCBOYXZpZ2F0aW9uLCBTdGF0ZSwgTGluaywgUm91dGUsIFJvdXRlSGFuZGxlciwgRGVmYXVsdFJvdXRlLCBSZWRpcmVjdCB9ID0gUm91dGVyXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxudmFyIGRlYm91bmNlID0gcmVxdWlyZSgnZGVib3VuY2UnKVxudmFyIFNFQVJDSCA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJykuc2VhcmNoXG5cbnZhciBJbWFnZVF1aWx0ID0gcmVxdWlyZSgnLi9pbWFnZS1xdWlsdCcpXG52YXIgU2VhcmNoUmVzdWx0cyA9IHJlcXVpcmUoJy4vc2VhcmNoLXJlc3VsdHMnKVxudmFyIFN1Z2dlc3QgPSByZXF1aXJlKCcuL3N1Z2dlc3QnKVxudmFyIHNlYXJjaExhbmd1YWdlTWFwID0gcmVxdWlyZSgnLi9zZWFyY2gtbGFuZ3VhZ2UnKVxuXG5cbnZhciBTZWFyY2ggPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIG1peGluczogW1JvdXRlci5TdGF0ZSwgUm91dGVyLk5hdmlnYXRpb25dLFxuXG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICBjb25zdCB7Ymxhbmt9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IHJlc3VsdHMgPSB0aGlzLnByb3BzLnJlc3VsdHMgfHwgdGhpcy5wcm9wcy5kYXRhICYmIHRoaXMucHJvcHMuZGF0YS5zZWFyY2hSZXN1bHRzIHx8IFtdXG4gICAgcmVzdWx0cyB8fCB0aGlzLnByb3BzLmJsYW5rIHx8IHRoaXMudHJhbnNpdGlvblRvKCdob21lJylcblxuICAgIHJldHVybiB7XG4gICAgICByZXN1bHRzOiByZXN1bHRzLFxuICAgICAgdGVybXM6IGJsYW5rID8gJycgOiB0aGlzLnByb3BzLnBhcmFtcyAmJiB0aGlzLnByb3BzLnBhcmFtcy50ZXJtcyAmJiBkZWNvZGVVUklDb21wb25lbnQodGhpcy5wcm9wcy5wYXJhbXMudGVybXMpLFxuICAgICAgaGl0czogcmVzdWx0cyAmJiByZXN1bHRzLmhpdHMgJiYgcmVzdWx0cy5oaXRzLmhpdHMgfHwgW10sXG4gICAgICBzaG93QWdnczogdGhpcy5wcm9wcy5zaG93QWdncyxcbiAgICAgIGJsYW5rOiB0aGlzLnByb3BzLmJsYW5rLFxuICAgIH1cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgcmVzdWx0cyA9IHRoaXMuc3RhdGUucmVzdWx0c1xuICAgIGNvbnN0IGhpdHMgPSByZXN1bHRzICYmIHJlc3VsdHMuaGl0cyAmJiByZXN1bHRzLmhpdHMuaGl0cyAvLyB0aGlzIGhhcyB0byBiZSBkaWZmZXJlbnQgZnJvbSBgc3RhdGUuaGl0c2Agc28gYXJ0d29ya3MgZG9uJ3QgY2hhbmdlIG9yZGVyIHdoZW4gaG92ZXJlZCBpbiB0aGUgcXVpbHRcbiAgICBjb25zdCBkYXJrZW5RdWlsdCA9IHRoaXMucHJvcHMucGF0aCAmJiB0aGlzLnByb3BzLnBhdGgubWF0Y2goL1xcL3NlYXJjaC8pXG4gICAgY29uc3QgaGVhZGVyQXJ0d29ya3MgPSBJbWFnZVF1aWx0LmdldEltYWdlZFJlc3VsdHMoaGl0cylcbiAgICBjb25zdCBzaG93UXVpbHQgPSAhZGFya2VuUXVpbHQgJiYgaGVhZGVyQXJ0d29ya3NcbiAgICB2YXIgcXVpbHRQcm9wcyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgbWF4Um93czogdGhpcy5zdGF0ZS5zaG93QWdncyA/IDEgOiAyLFxuICAgICAgbWF4V29ya3M6IDEwLFxuICAgICAgYXJ0d29ya3M6IGhlYWRlckFydHdvcmtzLFxuICAgICAgb25DbGljazogdGhpcy51cGRhdGVGcm9tUXVpbHQsXG4gICAgICBkaXNhYmxlSG92ZXI6IHRoaXMucHJvcHMuaGlkZVJlc3VsdHMgfHwgdGhpcy5wcm9wcy5kaXNhYmxlSG92ZXIsXG4gICAgICBsYXp5TG9hZDogIXRoaXMuY29udGV4dC51bml2ZXJzYWwsXG4gICAgICBkYXJrZW46IGRhcmtlblF1aWx0LFxuICAgICAgc2h1ZmZsZTogdGhpcy5wcm9wcy5zaHVmZmxlUXVpbHQsXG4gICAgfSwgdGhpcy5wcm9wcy5xdWlsdFByb3BzIHx8IHt9KVxuXG4gICAgY29uc3QgaWRlYWxTZWFyY2hCb3hXaWR0aCA9IE1hdGgubWF4KDE3LCB0aGlzLnN0YXRlLnRlcm1zICYmIHRoaXMuc3RhdGUudGVybXMubGVuZ3RoKjEuMSB8fCAwKVxuICAgIGNvbnN0IGZvcm1Qcm9wcyA9IHRoaXMuY29udGV4dC51bml2ZXJzYWwgPyB7YWN0aW9uOiBcIi9zZWFyY2gvXCIsIG1ldGhvZDogXCJnZXRcIn0gOiB7YWN0aW9uOiAnJ31cbiAgICBjb25zdCBzaW1wbGVTZWFyY2hCb3ggPSA8ZGl2IGNsYXNzTmFtZT0nc2VhcmNoLXdyYXBwZXInIHN0eWxlPXt7d2lkdGg6IGlkZWFsU2VhcmNoQm94V2lkdGggKyAnZW0nfX0+XG4gICAgICA8Zm9ybSB7Li4uZm9ybVByb3BzfT48aW5wdXQgY2xhc3NOYW1lPSdzZWFyY2gtaW5wdXQnIHR5cGU9XCJzZWFyY2hcIlxuICAgICAgICBwbGFjZWhvbGRlcj1cInNlYXJjaFwiXG4gICAgICAgIHZhbHVlPXtzZWFyY2hMYW5ndWFnZU1hcCh0aGlzLnN0YXRlLnRlcm1zKX1cbiAgICAgICAgb25LZXlEb3duPXt0aGlzLmtleURvd259XG4gICAgICAgIG9uQ2hhbmdlPXt0aGlzLnRocm90dGxlZFNlYXJjaH1cbiAgICAgICAgb25Gb2N1cz17KHt0YXJnZXR9KSA9PiB0YXJnZXQgJiYgdGFyZ2V0LnNlbGVjdCgpfVxuICAgICAgICBzdHlsZT17e3dpZHRoOiAnMTAwJScsIHBvaW50ZXJFdmVudHM6ICdhbGwnfX1cbiAgICAgICAgbmFtZT1cInFcIlxuICAgICAgICByZWY9XCJzZWFyY2hJbnB1dFwiXG4gICAgICAgIGF1dG9Db21wbGV0ZT1cIm9mZlwiXG4gICAgICAgIGxpc3Q9XCJzZWFyY2hDb21wbGV0aW9uc1wiXG4gICAgICAgIC8+PC9mb3JtPlxuICAgIDwvZGl2PlxuXG4gICAgY29uc3QgaGlkZUlucHV0ID0gdGhpcy5wcm9wcy5oaWRlSW5wdXQgJiYgIXRoaXMuc3RhdGUuYWN0aXZhdGVTZWFyY2hcbiAgICB2YXIgc2VhcmNoU3R5bGVzID0ge1xuICAgICAgbGVmdDogMCxcbiAgICAgIHJpZ2h0OiAwLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZScsXG4gICAgICBkaXNwbGF5OiBoaWRlSW5wdXQgPyAnbm9uZScgOiAnaW5oZXJpdCcsXG4gICAgICBwYWRkaW5nOiB0aGlzLnByb3BzLmJ1bXBTZWFyY2hCb3ggPyAnMC41ZW0nIDogJzAnLFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsIFxuICAgICAgekluZGV4OiA0LFxuICAgIH1cblxuICAgIHZhciBzZWFyY2hPdmVyUXVpbHRTdHlsZXMgPSB7XG4gICAgICAuLi5zZWFyY2hTdHlsZXMsXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIHRvcDogJzUwJScsXG4gICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlWSgtNTAlKVwiLFxuICAgICAgV2Via2l0VHJhbnNmb3JtOiBcInRyYW5zbGF0ZVkoLTUwJSlcIixcbiAgICB9XG5cbiAgICBjb25zdCBzZWFyY2hCb3ggPSAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0ncXVpbHQtc2VhcmNoLXdyYXAnIHN0eWxlPXtzaG93UXVpbHQgJiYge3Bvc2l0aW9uOiAncmVsYXRpdmUnLCB3aWR0aDogJzEwMCUnLCBvdmVyZmxvdzogJ2hpZGRlbid9IHx8IHt9fT5cbiAgICAgICAge3Nob3dRdWlsdCAmJiA8SW1hZ2VRdWlsdCB7Li4ucXVpbHRQcm9wc30gLz4gfHwgPHNwYW4gc3R5bGU9e3tkaXNwbGF5OiAnYmxvY2snLCBtaW5IZWlnaHQ6ICczLjVyZW0nfX0gLz59XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdzZWFyY2gtd3JhcCdcbiAgICAgICAgICBzdHlsZT17c2hvd1F1aWx0ICYmICF0aGlzLnByb3BzLmJ1bXBTZWFyY2hCb3ggPyBzZWFyY2hPdmVyUXVpbHRTdHlsZXMgOiBzZWFyY2hTdHlsZXN9PlxuICAgICAgICAgIDxkaXYgc3R5bGU9e3tvcGFjaXR5OiB0aGlzLnByb3BzLmhpZGVIZWFkZXIgPyAnMScgOiAnMC45NSd9fT57c2ltcGxlU2VhcmNoQm94fTwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcblxuICAgIHZhciBhZ2dzUHJvcHMgPSB7XG4gICAgICBzaG93QWdnczogdGhpcy5zdGF0ZS5zaG93QWdncyxcbiAgICAgIHRvZ2dsZUFnZ3M6IHRoaXMudG9nZ2xlQWdncyxcbiAgICB9XG5cbiAgICB2YXIgc3VnZ2VzdGlvbnMgPSA8U3VnZ2VzdFxuICAgICAgc2VhcmNoPXt0aGlzLnByb3BzLmRhdGEgJiYgdGhpcy5wcm9wcy5kYXRhLnNlYXJjaFJlc3VsdHN9XG4gICAgICBjb21wbGV0aW9ucz17dGhpcy5zdGF0ZS5jb21wbGV0aW9uc31cbiAgICAgIHN0eWxlPXt0aGlzLnByb3BzLnN1Z2dlc3RTdHlsZX1cbiAgICAgIC8+XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBpZD1cInNlYXJjaFwiPlxuICAgICAgICB7c2VhcmNoQm94fVxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAge3RoaXMucHJvcHMuaGlkZVJlc3VsdHMgJiYgc3VnZ2VzdGlvbnMgfHwgPGRpdj5cbiAgICAgICAgICA8U2VhcmNoUmVzdWx0cyB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgICAgIGhpdHM9e3RoaXMuc3RhdGUuaGl0c31cbiAgICAgICAgICAgIHsuLi5hZ2dzUHJvcHN9XG4gICAgICAgICAgICBzdWdnZXN0aW9ucz17c3VnZ2VzdGlvbnN9XG4gICAgICAgICAgICBtaW5IZWlnaHQ9e3RoaXMuc3RhdGUubWluSGVpZ2h0fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2Pn1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfSxcblxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdmFyIHVwZGF0ZSA9IHRoaXMucHJvcHMub25VcGRhdGUgfHwgdGhpcy5zZWFyY2hcbiAgICB2YXIge2RlbGF5fSA9IHRoaXMucHJvcHNcbiAgICB2YXIgaXNEZXNrdG9wID0gdHlwZW9mIHdpbmRvdy5vcmllbnRhdGlvbiA9PT0gJ3VuZGVmaW5lZCdcblxuICAgIHRoaXMuZGVib3VuY2VkU2VhcmNoID0gKGRlbGF5IHx8IGlzRGVza3RvcCkgP1xuICAgICAgZGVib3VuY2UodXBkYXRlLCB0aGlzLnByb3BzLmRlbGF5IHx8IDMwMDApIDpcbiAgICAgIHVuZGVmaW5lZFxuICAgIHRoaXMuZGVib3VuY2VkQXV0b2NvbXBsZXRlID0gZGVib3VuY2UodGhpcy5hdXRvY29tcGxldGUsIDMwMClcbiAgfSxcblxuICBhdXRvY29tcGxldGUodGVybXMpIHtcbiAgICBpZih0ZXJtcyA9PSAnJykgcmV0dXJuXG4gICAgcmVzdChgJHtTRUFSQ0h9L2F1dG9maWxsLyR7ZGVjb2RlVVJJQ29tcG9uZW50KHRlcm1zKX1gKVxuICAgIC50aGVuKChyKSA9PiBKU09OLnBhcnNlKHIuZW50aXR5KSApXG4gICAgLnRoZW4oY29tcGxldGlvbnMgPT4gdGhpcy5zZXRTdGF0ZSh7Y29tcGxldGlvbnN9KSlcbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZih0aGlzLnByb3BzLmFjdGl2YXRlSW5wdXQpIHtcbiAgICAgIHRoaXMuYWN0aXZhdGVTZWFyY2goKVxuICAgIH1cbiAgICB3aW5kb3cubGFzdFNlYXJjaGVkVGVybXMgPSB0aGlzLnN0YXRlLnRlcm1zXG4gIH0sXG5cbiAgdGhyb3R0bGVkU2VhcmNoKGV2ZW50KSB7XG4gICAgdmFyIHRlcm1zID0gc2VhcmNoTGFuZ3VhZ2VNYXAoZXZlbnQudGFyZ2V0LnZhbHVlKVxuICAgIHRoaXMuc2V0U3RhdGUoe3Rlcm1zOiB0ZXJtc30pXG4gICAgdGhpcy5kZWJvdW5jZWRTZWFyY2ggJiYgdGhpcy5kZWJvdW5jZWRTZWFyY2godGVybXMpXG4gICAgdGhpcy5kZWJvdW5jZWRBdXRvY29tcGxldGUodGVybXMpXG4gICAgd2luZG93Lmxhc3RTZWFyY2hlZFRlcm1zID0gdGVybXNcbiAgfSxcblxuICBzZWFyY2goKSB7XG4gICAgdmFyIHRlcm1zID0gdGhpcy5ub3JtYWxpemVUZXJtcyh0aGlzLnN0YXRlLnRlcm1zKVxuICAgIHZhciB7ZmFjZXQsIHNlYXJjaEFsbH0gPSB0aGlzLnByb3BzXG4gICAgaWYodGVybXMgPT09ICcnKSByZXR1cm5cblxuICAgIHZhciBmaWx0ZXJzID0gdGhpcy5wcm9wcy5wYXJhbXMgJiYgdGhpcy5wcm9wcy5wYXJhbXMuc3BsYXRcbiAgICBpZihmaWx0ZXJzICYmIGZpbHRlcnMubWF0Y2goL2RlYWNjZXNzaW9uZWQ6Lj90cnVlLj8vKSkgZmFjZXQgPSBmaWx0ZXJzXG4gICAgdGhpcy5wcm9wcy5vblNlYXJjaCAmJiB0aGlzLnByb3BzLm9uU2VhcmNoKHRlcm1zKVxuICAgIHRoaXMudHJhbnNpdGlvblRvKGZhY2V0ICYmICFzZWFyY2hBbGwgPyAnZmlsdGVyZWRTZWFyY2hSZXN1bHRzJyA6ICdzZWFyY2hSZXN1bHRzJywge3Rlcm1zOiB0ZXJtcywgc3BsYXQ6IGZhY2V0fSlcbiAgfSxcblxuICBrZXlEb3duKGV2ZW50KSB7XG4gICAgaWYoZXZlbnQua2V5ID09ICdFbnRlcicpIHtcbiAgICAgIHRoaXMuc2VhcmNoKClcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB9XG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAvLyBSZXBsYWNlIGB0ZXJtc2Agd2l0aCB0aGUgdGVybXMgZnJvbSB0aGUgY3VycmVudCBzZWFyY2gsIHNvIGJhY2srZm9yd2FyZFxuICAgIC8vIHdvcmsgY29ycmVjdGx5LiBVTkxFU1MgdGhlIG9ubHkgZGlmZmVyZW5jZSBpcyBpbnNpZ25pZmljYW50IHdoaXRlc3BhY2UuXG4gICAgdmFyIG5leHRUZXJtcyA9IG5leHRQcm9wcy5wYXJhbXMgJiYgbmV4dFByb3BzLnBhcmFtcy50ZXJtcyB8fCBuZXh0UHJvcHMudGVybXNcbiAgICBpZih0aGlzLm5vcm1hbGl6ZVRlcm1zKCkgIT0gbmV4dFRlcm1zKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHt0ZXJtczogbmV4dFRlcm1zfSlcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0cyA9IG5leHRQcm9wcy5yZXN1bHRzIHx8IG5leHRQcm9wcy5kYXRhICYmIG5leHRQcm9wcy5kYXRhLnNlYXJjaFJlc3VsdHNcbiAgICB0aGlzLnNldFN0YXRlKHtyZXN1bHRzLCBoaXRzOiByZXN1bHRzICYmIHJlc3VsdHMuaGl0cyAmJiByZXN1bHRzLmhpdHMuaGl0cyB8fCBbXX0pXG4gIH0sXG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgIHZhciB7YWN0aXZhdGVTZWFyY2h9ID0gdGhpcy5wcm9wc1xuICAgIGlmKGFjdGl2YXRlU2VhcmNoICYmIGFjdGl2YXRlU2VhcmNoICE9PSB0aGlzLnN0YXRlLmFjdGl2YXRlU2VhcmNoKSB7XG4gICAgICB0aGlzLmFjdGl2YXRlU2VhcmNoKClcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2FjdGl2YXRlU2VhcmNoOiBhY3RpdmF0ZVNlYXJjaH0pXG4gICAgfVxuICB9LFxuXG4gIG5vcm1hbGl6ZVRlcm1zKHRlcm1zPXRoaXMuc3RhdGUudGVybXMpIHtcbiAgICByZXR1cm4gdGVybXMgJiYgdGVybXMucmVwbGFjZSgvXFxzKy8sICcgJykudHJpbSgpXG4gIH0sXG5cbiAgLy8gdXBkYXRlIGBzdGF0ZS5oaXRzYCB0byBmbG9hdCBhIGhpdCBmcm9tIHRoZSBxdWlsdCB0byB0aGUgdG9wLlxuICAvLyBJZiBubyBgYXJ0YCBpcyBwYXNzZWQsIHRoYXQgbWVhbnMgdGhlIHF1aWx0IGhhcyBsb3N0IGZvY3VzLFxuICAvLyByZXNldCBoaXRzIHRvIGJlIHRoZSBzZWFyY2hSZXN1bHRzIHN0cmFpZ3QgZnJvbSBFU1xuICB1cGRhdGVGcm9tUXVpbHQoYXJ0KSB7XG4gICAgY29uc3QgaGl0cyA9IHRoaXMuc3RhdGUucmVzdWx0cy5oaXRzLmhpdHNcbiAgICBpZihhcnQpIHtcbiAgICAgIGlmKHRoaXMucHJvcHMuZmFjZXQpIHRoaXMubGlua1RvQ2xpY2tlZEFydHdvcmsodGhpcy5wcm9wcy5mYWNldCwgYXJ0KVxuICAgICAgdmFyIGluZGV4ID0gaGl0cy5pbmRleE9mKGFydCkrMVxuICAgICAgaWYoaGl0cy5pbmRleE9mKGFydCkgPT09IC0xKSB7XG4gICAgICAgIHZhciBzYW1lQXJ0RGlmZmVyZW50T2JqZWN0ID0gaGl0cy5maWx0ZXIoaCA9PiBoLl9pZCA9PT0gYXJ0Ll9pZClcbiAgICAgICAgaWYoc2FtZUFydERpZmZlcmVudE9iamVjdCkgaW5kZXggPSBoaXRzLmluZGV4T2Yoc2FtZUFydERpZmZlcmVudE9iamVjdFswXSkrMVxuICAgICAgfVxuICAgICAgdmFyIG5leHRIaXRzID0gKFthcnRdLmNvbmNhdChoaXRzKSlcbiAgICAgIG5leHRIaXRzLnNwbGljZShpbmRleCwgMSlcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2hpdHM6IG5leHRIaXRzIHx8IGhpdHN9KVxuICAgIH1cbiAgfSxcblxuICBsaW5rVG9DbGlja2VkQXJ0d29yayhmYWNldCwgYXJ0KSB7XG4gICAgd2luZG93LmNsaWNrZWRBcnR3b3JrID0gYXJ0XG4gICAgdGhpcy5wcm9wcy5vblNlYXJjaCAmJiB0aGlzLnByb3BzLm9uU2VhcmNoKCdjbGlja2VkIGEgbGluaycpXG4gICAgdGhpcy50cmFuc2l0aW9uVG8oZmFjZXQgPyAnZmlsdGVyZWRTZWFyY2hSZXN1bHRzJyA6ICdzZWFyY2hSZXN1bHRzJywge3Rlcm1zOiAnKicsIHNwbGF0OiBmYWNldH0pXG4gIH0sXG5cbiAgdG9nZ2xlQWdncygpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtzaG93QWdnczogIXRoaXMuc3RhdGUuc2hvd0FnZ3N9KVxuICB9LFxuXG4gIGFjdGl2YXRlU2VhcmNoKCkge1xuICAgIHZhciBub2RlID0gUmVhY3RET00uZmluZERPTU5vZGUodGhpcy5yZWZzLnNlYXJjaElucHV0KVxuICAgIGlmKG5vZGUpIHtcbiAgICAgIG5vZGUuZm9jdXMoKVxuICAgICAgbm9kZS52YWx1ZSAmJiBub2RlLnNldFNlbGVjdGlvblJhbmdlKDAsIG5vZGUudmFsdWUubGVuZ3RoKVxuICAgIH1cbiAgfSxcbn0pXG5TZWFyY2guY29udGV4dFR5cGVzID0ge1xuICByb3V0ZXI6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICB1bml2ZXJzYWw6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNlYXJjaFxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/search.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/search.js",
      "sourcesContent": [
        "var React = require('react')\nvar ReactDOM = require('react-dom')\nvar Router = require('react-router')\nvar { NotFoundRoute, Navigation, State, Link, Route, RouteHandler, DefaultRoute, Redirect } = Router\nvar rest = require('rest')\nvar debounce = require('debounce')\nvar SEARCH = require('./endpoints').search\n\nvar ImageQuilt = require('./image-quilt')\nvar SearchResults = require('./search-results')\nvar Suggest = require('./suggest')\nvar searchLanguageMap = require('./search-language')\n\n\nvar Search = React.createClass({\n  mixins: [Router.State, Router.Navigation],\n\n  getInitialState() {\n    const {blank} = this.props\n    const results = this.props.results || this.props.data && this.props.data.searchResults || []\n    results || this.props.blank || this.transitionTo('home')\n\n    return {\n      results: results,\n      terms: blank ? '' : this.props.params && this.props.params.terms && decodeURIComponent(this.props.params.terms),\n      hits: results && results.hits && results.hits.hits || [],\n      showAggs: this.props.showAggs,\n      blank: this.props.blank,\n    }\n  },\n\n  render() {\n    const results = this.state.results\n    const hits = results && results.hits && results.hits.hits // this has to be different from `state.hits` so artworks don't change order when hovered in the quilt\n    const darkenQuilt = this.props.path && this.props.path.match(/\\/search/)\n    const headerArtworks = ImageQuilt.getImagedResults(hits)\n    const showQuilt = !darkenQuilt && headerArtworks\n    var quiltProps = Object.assign({\n      maxRows: this.state.showAggs ? 1 : 2,\n      maxWorks: 10,\n      artworks: headerArtworks,\n      onClick: this.updateFromQuilt,\n      disableHover: this.props.hideResults || this.props.disableHover,\n      lazyLoad: !this.context.universal,\n      darken: darkenQuilt,\n      shuffle: this.props.shuffleQuilt,\n    }, this.props.quiltProps || {})\n\n    const idealSearchBoxWidth = Math.max(17, this.state.terms && this.state.terms.length*1.1 || 0)\n    const formProps = this.context.universal ? {action: \"/search/\", method: \"get\"} : {action: ''}\n    const simpleSearchBox = <div className='search-wrapper' style={{width: idealSearchBoxWidth + 'em'}}>\n      <form {...formProps}><input className='search-input' type=\"search\"\n        placeholder=\"search\"\n        value={searchLanguageMap(this.state.terms)}\n        onKeyDown={this.keyDown}\n        onChange={this.throttledSearch}\n        onFocus={({target}) => target && target.select()}\n        style={{width: '100%', pointerEvents: 'all'}}\n        name=\"q\"\n        ref=\"searchInput\"\n        autoComplete=\"off\"\n        list=\"searchCompletions\"\n        /></form>\n    </div>\n\n    const hideInput = this.props.hideInput && !this.state.activateSearch\n    var searchStyles = {\n      left: 0,\n      right: 0,\n      width: '100%',\n      textAlign: 'center',\n      pointerEvents: 'none',\n      display: hideInput ? 'none' : 'inherit',\n      padding: this.props.bumpSearchBox ? '0.5em' : '0',\n      position: 'relative', \n      zIndex: 4,\n    }\n\n    var searchOverQuiltStyles = {\n      ...searchStyles,\n      position: 'absolute',\n      top: '50%',\n      transform: \"translateY(-50%)\",\n      WebkitTransform: \"translateY(-50%)\",\n    }\n\n    const searchBox = (\n      <div className='quilt-search-wrap' style={showQuilt && {position: 'relative', width: '100%', overflow: 'hidden'} || {}}>\n        {showQuilt && <ImageQuilt {...quiltProps} /> || <span style={{display: 'block', minHeight: '3.5rem'}} />}\n        <div className='search-wrap'\n          style={showQuilt && !this.props.bumpSearchBox ? searchOverQuiltStyles : searchStyles}>\n          <div style={{opacity: this.props.hideHeader ? '1' : '0.95'}}>{simpleSearchBox}</div>\n        </div>\n      </div>\n    )\n\n    var aggsProps = {\n      showAggs: this.state.showAggs,\n      toggleAggs: this.toggleAggs,\n    }\n\n    var suggestions = <Suggest\n      search={this.props.data && this.props.data.searchResults}\n      completions={this.state.completions}\n      style={this.props.suggestStyle}\n      />\n\n    return (\n      <div id=\"search\">\n        {searchBox}\n        {this.props.children}\n        {this.props.hideResults && suggestions || <div>\n          <SearchResults {...this.props}\n            hits={this.state.hits}\n            {...aggsProps}\n            suggestions={suggestions}\n            minHeight={this.state.minHeight}\n          />\n        </div>}\n      </div>\n    )\n  },\n\n  componentWillMount() {\n    var update = this.props.onUpdate || this.search\n    var {delay} = this.props\n    var isDesktop = typeof window.orientation === 'undefined'\n\n    this.debouncedSearch = (delay || isDesktop) ?\n      debounce(update, this.props.delay || 3000) :\n      undefined\n    this.debouncedAutocomplete = debounce(this.autocomplete, 300)\n  },\n\n  autocomplete(terms) {\n    if(terms == '') return\n    rest(`${SEARCH}/autofill/${decodeURIComponent(terms)}`)\n    .then((r) => JSON.parse(r.entity) )\n    .then(completions => this.setState({completions}))\n  },\n\n  componentDidMount() {\n    if(this.props.activateInput) {\n      this.activateSearch()\n    }\n    window.lastSearchedTerms = this.state.terms\n  },\n\n  throttledSearch(event) {\n    var terms = searchLanguageMap(event.target.value)\n    this.setState({terms: terms})\n    this.debouncedSearch && this.debouncedSearch(terms)\n    this.debouncedAutocomplete(terms)\n    window.lastSearchedTerms = terms\n  },\n\n  search() {\n    var terms = this.normalizeTerms(this.state.terms)\n    var {facet, searchAll} = this.props\n    if(terms === '') return\n\n    var filters = this.props.params && this.props.params.splat\n    if(filters && filters.match(/deaccessioned:.?true.?/)) facet = filters\n    this.props.onSearch && this.props.onSearch(terms)\n    this.transitionTo(facet && !searchAll ? 'filteredSearchResults' : 'searchResults', {terms: terms, splat: facet})\n  },\n\n  keyDown(event) {\n    if(event.key == 'Enter') {\n      this.search()\n      event.preventDefault()\n    }\n  },\n\n  componentWillReceiveProps(nextProps) {\n    // Replace `terms` with the terms from the current search, so back+forward\n    // work correctly. UNLESS the only difference is insignificant whitespace.\n    var nextTerms = nextProps.params && nextProps.params.terms || nextProps.terms\n    if(this.normalizeTerms() != nextTerms) {\n      this.setState({terms: nextTerms})\n    }\n    const results = nextProps.results || nextProps.data && nextProps.data.searchResults\n    this.setState({results, hits: results && results.hits && results.hits.hits || []})\n  },\n\n  componentDidUpdate(prevProps) {\n    var {activateSearch} = this.props\n    if(activateSearch && activateSearch !== this.state.activateSearch) {\n      this.activateSearch()\n      this.setState({activateSearch: activateSearch})\n    }\n  },\n\n  normalizeTerms(terms=this.state.terms) {\n    return terms && terms.replace(/\\s+/, ' ').trim()\n  },\n\n  // update `state.hits` to float a hit from the quilt to the top.\n  // If no `art` is passed, that means the quilt has lost focus,\n  // reset hits to be the searchResults straigt from ES\n  updateFromQuilt(art) {\n    const hits = this.state.results.hits.hits\n    if(art) {\n      if(this.props.facet) this.linkToClickedArtwork(this.props.facet, art)\n      var index = hits.indexOf(art)+1\n      if(hits.indexOf(art) === -1) {\n        var sameArtDifferentObject = hits.filter(h => h._id === art._id)\n        if(sameArtDifferentObject) index = hits.indexOf(sameArtDifferentObject[0])+1\n      }\n      var nextHits = ([art].concat(hits))\n      nextHits.splice(index, 1)\n      this.setState({hits: nextHits || hits})\n    }\n  },\n\n  linkToClickedArtwork(facet, art) {\n    window.clickedArtwork = art\n    this.props.onSearch && this.props.onSearch('clicked a link')\n    this.transitionTo(facet ? 'filteredSearchResults' : 'searchResults', {terms: '*', splat: facet})\n  },\n\n  toggleAggs() {\n    this.setState({showAggs: !this.state.showAggs})\n  },\n\n  activateSearch() {\n    var node = ReactDOM.findDOMNode(this.refs.searchInput)\n    if(node) {\n      node.focus()\n      node.value && node.setSelectionRange(0, node.value.length)\n    }\n  },\n})\nSearch.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nmodule.exports = Search\n"
      ]
    },
    "mtime": 1489007701718
  },
  "{\"filename\":\"/var/www/art/src/endpoints.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "\"use strict\";\n\nvar protocol = (typeof window == \"undefined\" ? \"http\" : \"https\") + \"://\";\nmodule.exports = {\n  search: protocol + \"search.artsmia.org\",\n  info: protocol + \"collections.artsmia.org/_info/index.json\",\n  dimensionSvg: function dimensionSvg(id, file) {\n    return \"https://mia-dimensions.s3.amazonaws.com/\" + id + \"/\" + (file || 'dimensions') + \".svg\";\n  },\n  galleryPanel: function galleryPanel(room) {\n    return \"https://cdn.rawgit.com/artsmia/mia-gallery-panels/master/\" + room + \".md\";\n  },\n  exhibition: function exhibition(id) {\n    return protocol + (\"cdn.dx.artsmia.org/exhibitions/\" + Math.floor(id / 1000) + \"/\" + id + \".json\");\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZW5kcG9pbnRzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSSxRQUFRLEdBQUcsQ0FBQyxPQUFPLE1BQU0sQUFBQyxJQUFJLFdBQVcsR0FBRyxNQUFNLEdBQUcsT0FBTyxDQUFBLEdBQUUsS0FBSyxDQUFBO0FBQ3ZFLE1BQU0sQ0FBQyxPQUFPLEdBQUc7QUFDZixRQUFNLEVBQUUsUUFBUSxHQUFDLG9CQUFvQjtBQUNyQyxNQUFJLEVBQUUsUUFBUSxHQUFDLDBDQUEwQztBQUN6RCxjQUFZLEVBQUUsc0JBQUMsRUFBRSxFQUFFLElBQUk7d0RBQWdELEVBQUUsVUFBSSxJQUFJLElBQUksWUFBWSxDQUFBO0dBQU07QUFDdkcsY0FBWSxFQUFFLHNCQUFDLElBQUk7eUVBQWlFLElBQUk7R0FBSztBQUM3RixZQUFVLEVBQUUsb0JBQUMsRUFBRTtXQUFLLFFBQVEsd0NBQW1DLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxHQUFDLElBQUksQ0FBQyxTQUFJLEVBQUUsV0FBTztHQUFBO0NBQ2hHLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9lbmRwb2ludHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcHJvdG9jb2wgPSAodHlwZW9mKHdpbmRvdykgPT0gXCJ1bmRlZmluZWRcIiA/IFwiaHR0cFwiIDogXCJodHRwc1wiKStcIjovL1wiXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2VhcmNoOiBwcm90b2NvbCtcInNlYXJjaC5hcnRzbWlhLm9yZ1wiLFxuICBpbmZvOiBwcm90b2NvbCtcImNvbGxlY3Rpb25zLmFydHNtaWEub3JnL19pbmZvL2luZGV4Lmpzb25cIixcbiAgZGltZW5zaW9uU3ZnOiAoaWQsIGZpbGUpID0+IGBodHRwczovL21pYS1kaW1lbnNpb25zLnMzLmFtYXpvbmF3cy5jb20vJHtpZH0vJHtmaWxlIHx8ICdkaW1lbnNpb25zJ30uc3ZnYCxcbiAgZ2FsbGVyeVBhbmVsOiAocm9vbSkgPT4gYGh0dHBzOi8vY2RuLnJhd2dpdC5jb20vYXJ0c21pYS9taWEtZ2FsbGVyeS1wYW5lbHMvbWFzdGVyLyR7cm9vbX0ubWRgLFxuICBleGhpYml0aW9uOiAoaWQpID0+IHByb3RvY29sK2BjZG4uZHguYXJ0c21pYS5vcmcvZXhoaWJpdGlvbnMvJHtNYXRoLmZsb29yKGlkLzEwMDApfS8ke2lkfS5qc29uYCxcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/endpoints.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,QAAQ,GAAG,CAAC,OAAO,MAAM,AAAC,IAAI,WAAW,GAAG,MAAM,GAAG,OAAO,CAAA,GAAE,KAAK,CAAA;AACvE,MAAM,CAAC,OAAO,GAAG;AACf,QAAM,EAAE,QAAQ,GAAC,oBAAoB;AACrC,MAAI,EAAE,QAAQ,GAAC,0CAA0C;AACzD,cAAY,EAAE,sBAAC,EAAE,EAAE,IAAI;wDAAgD,EAAE,UAAI,IAAI,IAAI,YAAY,CAAA;GAAM;AACvG,cAAY,EAAE,sBAAC,IAAI;yEAAiE,IAAI;GAAK;AAC7F,YAAU,EAAE,oBAAC,EAAE;WAAK,QAAQ,wCAAmC,IAAI,CAAC,KAAK,CAAC,EAAE,GAAC,IAAI,CAAC,SAAI,EAAE,WAAO;GAAA;CAChG,CAAA",
      "file": "/var/www/art/src/endpoints.js",
      "sourcesContent": [
        "var protocol = (typeof(window) == \"undefined\" ? \"http\" : \"https\")+\"://\"\nmodule.exports = {\n  search: protocol+\"search.artsmia.org\",\n  info: protocol+\"collections.artsmia.org/_info/index.json\",\n  dimensionSvg: (id, file) => `https://mia-dimensions.s3.amazonaws.com/${id}/${file || 'dimensions'}.svg`,\n  galleryPanel: (room) => `https://cdn.rawgit.com/artsmia/mia-gallery-panels/master/${room}.md`,\n  exhibition: (id) => protocol+`cdn.dx.artsmia.org/exhibitions/${Math.floor(id/1000)}/${id}.json`,\n}\n"
      ]
    },
    "mtime": 1485968083610
  },
  "{\"filename\":\"/var/www/art/src/image-quilt.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends",
        "object-without-properties"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar PureRenderMixin = require('react-addons-pure-render-mixin');\nvar ReactDOM = require('react-dom');\nvar debounce = require('debounce');\nvar cookie = require('react-cookie');\n\nvar linearPartition = require('linear-partitioning');\nvar ArtworkImage = require('./artwork-image');\nvar Image = require('./image');\n\nvar ImageQuilt = React.createClass({\n  displayName: 'ImageQuilt',\n\n  mixins: [PureRenderMixin],\n\n  getInitialState: function getInitialState() {\n    var artworks = this.props.artworks;\n    var maybeShuffledArtworks = this.props.shuffle ? artworks.sort(function () {\n      return .5 - Math.random();\n    }) : artworks;\n\n    return {\n      active: null,\n      unpinned: false,\n      width: window.innerWidth || this.context.universal && 1000,\n      alwaysShow: cookie.load('freeTheQuilt'),\n      shuffledArtworks: this.props.shuffle ? maybeShuffledArtworks : undefined\n    };\n  },\n\n  handleResize: function handleResize(e) {\n    if (!this.isMounted()) return;\n    this.setState({ width: ReactDOM.findDOMNode(this).clientWidth });\n  },\n  componentDidMount: function componentDidMount() {\n    this.handleResize();\n    window.addEventListener('resize', debounce(this.handleResize, 200));\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n  },\n\n  render: function render() {\n    var _this = this;\n\n    if (this.hideDarkenedQuilt()) return this.emptyQuiltToggleControl();\n\n    var artworks = this.props.artworks.slice(0, this.props.maxWorks);\n    var shuffledArtworks = this.state.shuffledArtworks && this.state.shuffledArtworks.slice(0, this.props.maxWorks);\n    var _art = artworks.map(function (art) {\n      var s = art._source;\n      if (s.image == 'invalid' || s.image_width == 0 && s.image_height == 0 || s.rights == 'Permission Denied') {\n        s.image = 'invalid';\n        var splitOn = /;|:|\\]/;\n        var _ref = [s.title.split(splitOn)[0], s.artist.split(splitOn)[0]];\n        s.title_short = _ref[0];\n        s.artist_short = _ref[1];\n\n        var text = s.title_short;\n        s.text_length = text.length;\n        var deltaAverageTextLength = text.length / 17; // bigger box for items with more text\n        s.image_width = deltaAverageTextLength > 2 ? 300 : 200;\n        s.image_height = 200;\n      }\n      return s;\n    });\n\n    _art.map(function (art) {\n      return art.aspect_ratio = art.image_width / art.image_height;\n    });\n    var summedAspectRatio = _art.reduce(function (sum, art) {\n      return sum + art.aspect_ratio;\n    }, 0);\n    // Fit the images into `maxRows` or however many rows it would take to show each\n    // approx 200px tall\n    var rowHeight = this.props.rowHeight || 200;\n    var numRows = Math.min(this.props.maxRows, Math.max(Math.floor(summedAspectRatio * rowHeight / this.state.width), 1));\n\n    var rows = this.getPartition(shuffledArtworks || artworks, numRows);\n\n    var images = rows.map(function (row, index) {\n      var rowSummedAspectRatio = row.reduce(function (sum, art) {\n        return sum + art._source.aspect_ratio;\n      }, 0);\n      var rowAspectRatio = rowSummedAspectRatio / row.length;\n      var unadjustedHeight = _this.state.width / rowSummedAspectRatio;\n\n      var images = row.map(function (art) {\n        var _art = art._source;\n        var id = _art.id;\n        var width = _art.aspect_ratio / rowSummedAspectRatio * _this.state.width;\n        var height = width / _art.aspect_ratio;\n        var maxRowHeight = _this.props.maxRowHeight || 200;\n        var widthAdjustedToClipTallRows = unadjustedHeight > maxRowHeight ? width / (unadjustedHeight / maxRowHeight) : width;\n\n        return React.createElement(QuiltPatch, { art: _art,\n          width: widthAdjustedToClipTallRows,\n          onClick: _this.clicked.bind(_this, art),\n          onMouseEnter: _this.hovered.bind(_this, art, true),\n          onMouseLeave: _this.hovered.bind(_this, art, false),\n          onImageInvalidation: _this.forceUpdate.bind(_this),\n          key: _art.id,\n          lazyLoad: _this.props.lazyLoad\n        });\n      });\n\n      // centered doesn't work on the first row because the search box is in the way\n      // space-around looks best on bottom rows\n      var justify = index == 0 && row.length <= 3 ? 'space-around' : 'center';\n      var rowStyle = {\n        minHeight: Math.min(unadjustedHeight, _this.props.maxRowHeight || 200, 50),\n        display: 'flex',\n        justifyContent: justify,\n        whiteSpace: 'nowrap'\n      };\n\n      return React.createElement(\n        'div',\n        { className: 'quilt-row-wrap',\n          key: 'row' + index,\n          style: rowStyle },\n        images\n      );\n    });\n\n    var quiltStyle = _extends({\n      cursor: 'pointer'\n    }, this.props.style);\n\n    return React.createElement(\n      'div',\n      { className: 'quilt-wrap', onMouseLeave: this.hovered.bind(this, null, false), style: quiltStyle },\n      images\n    );\n  },\n\n  cachedPartitions: {},\n\n  getPartition: function getPartition(artworks, numRows) {\n    var memoKey = 'rows:' + this.props.maxRows + '|width:' + this.state.width + '|' + artworks.map(function (art) {\n      return art._id;\n    }).join('-');\n    var memo = this.cachedPartitions[memoKey];\n    if (memo) return memo;\n\n    var partitionBy = function partitionBy(collection, weightFn, k) {\n      var weights = collection.map(weightFn);\n      var partition = linearPartition(weights, k);\n\n      var index = 0;\n      return partition.map(function (weightedRow) {\n        return weightedRow.map(function (weight, i) {\n          return collection[index++];\n        });\n      });\n    };\n\n    var rows = partitionBy(artworks, function (art) {\n      return art._source.aspect_ratio * 100;\n    }, numRows);\n    // Don't cache quilt partitions when server rendering, potential memory waterfall\n    if (!this.context.universal) this.cachedPartitions[memoKey] = rows;\n    return rows;\n  },\n\n  // The quilt changes the order of search results in 2 ways:\n  // * clicking pins a result to the top, in which case it will stay there\n  // * hovering 'floats' a result to the top, but it will sink back down\n  // …after the interaction is finished.\n  // Clicking the pinned artwork un-pins it\n  clicked: function clicked(art) {\n    var updateState = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];\n    var onClick = this.props.onClick;\n\n    if (updateState) this.setState({ active: art, unpinned: false });\n    var sameArt = this.state.unpinned && !updateState || updateState && this.state.active && art == this.state.active;\n    if (sameArt) {\n      this.setState({ active: null, unpinned: true });\n      art = null;\n    }\n    onClick && onClick(art);\n    this.state.unpinned && this.setState({ unpinned: false });\n  },\n  hovered: function hovered(art, active) {\n    if (this.props.disableHover) return;\n    // cancel the delayed 'float' on mouseleave\n    // if an artwork was clicked, leave it pinned\n    if (!active) {\n      clearTimeout(this.activate);\n      if (!art) this.clicked(this.state.active, false);\n      return;\n    }\n    this.activate = setTimeout(this.clicked.bind(this, art, false), 300);\n  },\n\n  hideDarkenedQuilt: function hideDarkenedQuilt() {\n    return this.props.darken && !this.state.alwaysShow;\n  },\n\n  emptyQuiltToggleControl: function emptyQuiltToggleControl() {\n    var styles = {\n      minHeight: '7rem',\n      display: 'inline-block',\n      width: '100%',\n      WebkitUserSelect: 'none',\n      cursor: 'pointer',\n      zIndex: 100\n    };\n\n    return React.createElement('span', { style: styles, onDoubleClick: this.freeTheQuilt });\n  },\n\n  freeTheQuilt: function freeTheQuilt() {\n    cookie.save('freeTheQuilt', true);\n    this.setState({ alwaysShow: true });\n  }\n});\nImageQuilt.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nImageQuilt.getImagedResults = function (hits) {\n  return hits && hits.filter(function (hit) {\n    return hit._source.image == 'valid' && hit._source.image_width > 0;\n  });\n};\n\nmodule.exports = ImageQuilt;\n\nvar QuiltPatch = React.createClass({\n  displayName: 'QuiltPatch',\n\n  render: function render() {\n    var _props = this.props;\n    var art = _props.art;\n    var width = _props.width;\n\n    var other = _objectWithoutProperties(_props, ['art', 'width']);\n\n    var id = art.id;\n\n    var style = {\n      display: 'inline-block',\n      verticalAlign: 'top',\n      overflow: 'hidden',\n      width: width,\n      height: width / art.aspect_ratio\n    };\n\n    var imgStyle = _extends({}, style, {\n      left: \"50%\",\n      top: \"50%\",\n      transform: \"translateY(-50%) translateX(-50%)\",\n      position: \"absolute\"\n    });\n\n    var image = React.createElement(Image, _extends({\n      art: art,\n      style: imgStyle\n    }, other));\n\n    var textStyle = _extends({}, style, {\n      display: 'table',\n      whiteSpace: 'normal'\n    });\n\n    var patch = art.image == 'valid' ? image : React.createElement(\n      'span',\n      _extends({ className: 'invalid', style: textStyle }, other),\n      React.createElement(\n        'p',\n        null,\n        React.createElement(\n          'strong',\n          null,\n          art.title_short\n        )\n      )\n    );\n\n    return React.createElement(\n      Link,\n      {\n        onClick: this.clickOrDontClick,\n        style: _extends({}, style, { position: 'relative' }),\n        to: 'artwork',\n        params: { id: art.id } },\n      patch\n    );\n  },\n\n  // halt the click event if javascript is loaded\n  // clicking triggers the right-hand preview, not the `<a>`\n  clickOrDontClick: function clickOrDontClick(event) {\n    if (!this.context.universal) event.preventDefault();\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      lazyLoad: true,\n      darken: false\n    };\n  }\n});\nQuiltPatch.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvaW1hZ2UtcXVpbHQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBOztlQUNmLE9BQU8sQ0FBQyxjQUFjLENBQUM7O0lBQS9CLElBQUksWUFBSixJQUFJOztBQUNULElBQUksZUFBZSxHQUFHLE9BQU8sQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFBO0FBQy9ELElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQTtBQUNuQyxJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUE7QUFDbEMsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBOztBQUVwQyxJQUFJLGVBQWUsR0FBRyxPQUFPLENBQUMscUJBQXFCLENBQUMsQ0FBQTtBQUNwRCxJQUFJLFlBQVksR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtBQUM3QyxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUE7O0FBRTlCLElBQU0sVUFBVSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUNuQyxRQUFNLEVBQUUsQ0FBQyxlQUFlLENBQUM7O0FBRXpCLGlCQUFlLEVBQUEsMkJBQUc7QUFDaEIsUUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUE7QUFDcEMsUUFBTSxxQkFBcUIsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FDOUMsUUFBUSxDQUFDLElBQUksQ0FBQzthQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFO0tBQUEsQ0FBQyxHQUN2QyxRQUFRLENBQUE7O0FBRVYsV0FBTztBQUNMLFlBQU0sRUFBRSxJQUFJO0FBQ1osY0FBUSxFQUFFLEtBQUs7QUFDZixXQUFLLEVBQUUsTUFBTSxDQUFDLFVBQVUsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFD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RixDQUFDLENBQUE7QUFDRixVQUFVLENBQUMsWUFBWSxHQUFHO0FBQ3hCLFFBQU0sRUFBRSxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUk7QUFDNUIsV0FBUyxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSTtDQUNoQyxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvaW1hZ2UtcXVpbHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIge0xpbmt9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciBQdXJlUmVuZGVyTWl4aW4gPSByZXF1aXJlKCdyZWFjdC1hZGRvbnMtcHVyZS1yZW5kZXItbWl4aW4nKVxudmFyIFJlYWN0RE9NID0gcmVxdWlyZSgncmVhY3QtZG9tJylcbnZhciBkZWJvdW5jZSA9IHJlcXVpcmUoJ2RlYm91bmNlJylcbnZhciBjb29raWUgPSByZXF1aXJlKCdyZWFjdC1jb29raWUnKVxuXG52YXIgbGluZWFyUGFydGl0aW9uID0gcmVxdWlyZSgnbGluZWFyLXBhcnRpdGlvbmluZycpXG52YXIgQXJ0d29ya0ltYWdlID0gcmVxdWlyZSgnLi9hcnR3b3JrLWltYWdlJylcbnZhciBJbWFnZSA9IHJlcXVpcmUoJy4vaW1hZ2UnKVxuXG5jb25zdCBJbWFnZVF1aWx0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBtaXhpbnM6IFtQdXJlUmVuZGVyTWl4aW5dLFxuXG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICBjb25zdCBhcnR3b3JrcyA9IHRoaXMucHJvcHMuYXJ0d29ya3NcbiAgICBjb25zdCBtYXliZVNodWZmbGVkQXJ0d29ya3MgPSB0aGlzLnByb3BzLnNodWZmbGUgP1xuICAgICAgYXJ0d29ya3Muc29ydCgoKSA9PiAuNSAtIE1hdGgucmFuZG9tKCkpIDpcbiAgICAgIGFydHdvcmtzXG5cbiAgICByZXR1cm4ge1xuICAgICAgYWN0aXZlOiBudWxsLFxuICAgICAgdW5waW5uZWQ6IGZhbHNlLFxuICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoIHx8IHRoaXMuY29udGV4dC51bml2ZXJzYWwgJiYgMTAwMCxcbiAgICAgIGFsd2F5c1Nob3c6IGNvb2tpZS5sb2FkKCdmcmVlVGhlUXVpbHQnKSxcbiAgICAgIHNodWZmbGVkQXJ0d29ya3M6IHRoaXMucHJvcHMuc2h1ZmZsZSA/IG1heWJlU2h1ZmZsZWRBcnR3b3JrcyA6IHVuZGVmaW5lZCxcbiAgICB9XG4gIH0sXG5cbiAgaGFuZGxlUmVzaXplOiBmdW5jdGlvbihlKSB7XG4gICAgaWYoIXRoaXMuaXNNb3VudGVkKCkpIHJldHVyblxuICAgIHRoaXMuc2V0U3RhdGUoe3dpZHRoOiBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKS5jbGllbnRXaWR0aH0pXG4gIH0sXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmhhbmRsZVJlc2l6ZSgpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGRlYm91bmNlKHRoaXMuaGFuZGxlUmVzaXplLCAyMDApKVxuICB9LFxuICBjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24oKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuaGFuZGxlUmVzaXplKVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICBpZih0aGlzLmhpZGVEYXJrZW5lZFF1aWx0KCkpIHJldHVybiB0aGlzLmVtcHR5UXVpbHRUb2dnbGVDb250cm9sKClcblxuICAgIGNvbnN0IGFydHdvcmtzID0gdGhpcy5wcm9wcy5hcnR3b3Jrcy5zbGljZSgwLCB0aGlzLnByb3BzLm1heFdvcmtzKVxuICAgIGNvbnN0IHNodWZmbGVkQXJ0d29ya3MgPSB0aGlzLnN0YXRlLnNodWZmbGVkQXJ0d29ya3MgJiYgdGhpcy5zdGF0ZS5zaHVmZmxlZEFydHdvcmtzLnNsaWNlKDAsIHRoaXMucHJvcHMubWF4V29ya3MpXG4gICAgY29uc3QgX2FydCA9IGFydHdvcmtzLm1hcCgoYXJ0KSA9PiB7XG4gICAgICB2YXIgcyA9IGFydC5fc291cmNlXG4gICAgICBpZihzLmltYWdlID09ICdpbnZhbGlkJyB8fCAocy5pbWFnZV93aWR0aCA9PSAwICYmIHMuaW1hZ2VfaGVpZ2h0ID09IDApIHx8IHMucmlnaHRzID09ICdQZXJtaXNzaW9uIERlbmllZCcpIHtcbiAgICAgICAgcy5pbWFnZSA9ICdpbnZhbGlkJ1xuICAgICAgICB2YXIgc3BsaXRPbiA9IC87fDp8XFxdLztcbiAgICAgICAgKFtzLnRpdGxlX3Nob3J0LCBzLmFydGlzdF9zaG9ydF0gPSBbcy50aXRsZS5zcGxpdChzcGxpdE9uKVswXSwgcy5hcnRpc3Quc3BsaXQoc3BsaXRPbilbMF1dKVxuICAgICAgICB2YXIgdGV4dCA9IHMudGl0bGVfc2hvcnRcbiAgICAgICAgcy50ZXh0X2xlbmd0aCA9IHRleHQubGVuZ3RoXG4gICAgICAgIHZhciBkZWx0YUF2ZXJhZ2VUZXh0TGVuZ3RoID0gdGV4dC5sZW5ndGgvMTcgLy8gYmlnZ2VyIGJveCBmb3IgaXRlbXMgd2l0aCBtb3JlIHRleHRcbiAgICAgICAgcy5pbWFnZV93aWR0aCA9IGRlbHRhQXZlcmFnZVRleHRMZW5ndGggPiAyID8gMzAwIDogMjAwXG4gICAgICAgIHMuaW1hZ2VfaGVpZ2h0ID0gMjAwXG4gICAgICB9XG4gICAgICByZXR1cm4gc1xuICAgIH0pXG5cbiAgICBfYXJ0Lm1hcCgoYXJ0KSA9PiBhcnQuYXNwZWN0X3JhdGlvID0gYXJ0LmltYWdlX3dpZHRoL2FydC5pbWFnZV9oZWlnaHQpXG4gICAgY29uc3Qgc3VtbWVkQXNwZWN0UmF0aW8gPSBfYXJ0LnJlZHVjZSgoc3VtLCBhcnQpID0+IHtyZXR1cm4gc3VtK2FydC5hc3BlY3RfcmF0aW99LCAwKVxuICAgIC8vIEZpdCB0aGUgaW1hZ2VzIGludG8gYG1heFJvd3NgIG9yIGhvd2V2ZXIgbWFueSByb3dzIGl0IHdvdWxkIHRha2UgdG8gc2hvdyBlYWNoXG4gICAgLy8gYXBwcm94IDIwMHB4IHRhbGxcbiAgICB2YXIgcm93SGVpZ2h0ID0gdGhpcy5wcm9wcy5yb3dIZWlnaHQgfHwgMjAwXG4gICAgdmFyIG51bVJvd3MgPSBNYXRoLm1pbih0aGlzLnByb3BzLm1heFJvd3MsIE1hdGgubWF4KE1hdGguZmxvb3Ioc3VtbWVkQXNwZWN0UmF0aW8qcm93SGVpZ2h0L3RoaXMuc3RhdGUud2lkdGgpLCAxKSlcblxuICAgIHZhciByb3dzID0gdGhpcy5nZXRQYXJ0aXRpb24oc2h1ZmZsZWRBcnR3b3JrcyB8fCBhcnR3b3JrcywgbnVtUm93cylcblxuICAgIGNvbnN0IGltYWdlcyA9IHJvd3MubWFwKChyb3csIGluZGV4KSA9PiB7XG4gICAgICB2YXIgcm93U3VtbWVkQXNwZWN0UmF0aW8gPSByb3cucmVkdWNlKChzdW0sIGFydCkgPT4ge3JldHVybiBzdW0rYXJ0Ll9zb3VyY2UuYXNwZWN0X3JhdGlvfSwgMClcbiAgICAgIHZhciByb3dBc3BlY3RSYXRpbyA9IHJvd1N1bW1lZEFzcGVjdFJhdGlvL3Jvdy5sZW5ndGhcbiAgICAgIHZhciB1bmFkanVzdGVkSGVpZ2h0ID0gdGhpcy5zdGF0ZS53aWR0aC9yb3dTdW1tZWRBc3BlY3RSYXRpb1xuXG4gICAgICB2YXIgaW1hZ2VzID0gcm93Lm1hcCgoYXJ0KSA9PiB7XG4gICAgICAgIHZhciBfYXJ0ID0gYXJ0Ll9zb3VyY2VcbiAgICAgICAgY29uc3QgaWQgPSBfYXJ0LmlkXG4gICAgICAgIGNvbnN0IHdpZHRoID0gX2FydC5hc3BlY3RfcmF0aW8vcm93U3VtbWVkQXNwZWN0UmF0aW8qdGhpcy5zdGF0ZS53aWR0aFxuICAgICAgICBjb25zdCBoZWlnaHQgPSB3aWR0aC9fYXJ0LmFzcGVjdF9yYXRpb1xuICAgICAgICBjb25zdCBtYXhSb3dIZWlnaHQgPSB0aGlzLnByb3BzLm1heFJvd0hlaWdodCB8fCAyMDBcbiAgICAgICAgY29uc3Qgd2lkdGhBZGp1c3RlZFRvQ2xpcFRhbGxSb3dzID0gdW5hZGp1c3RlZEhlaWdodCA+IG1heFJvd0hlaWdodCA/IHdpZHRoLyh1bmFkanVzdGVkSGVpZ2h0L21heFJvd0hlaWdodCkgOiB3aWR0aFxuXG4gICAgICAgIHJldHVybiA8UXVpbHRQYXRjaCBhcnQ9e19hcnR9XG4gICAgICAgICAgd2lkdGg9e3dpZHRoQWRqdXN0ZWRUb0NsaXBUYWxsUm93c31cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNsaWNrZWQuYmluZCh0aGlzLCBhcnQpfVxuICAgICAgICAgIG9uTW91c2VFbnRlcj17dGhpcy5ob3ZlcmVkLmJpbmQodGhpcywgYXJ0LCB0cnVlKX1cbiAgICAgICAgICBvbk1vdXNlTGVhdmU9e3RoaXMuaG92ZXJlZC5iaW5kKHRoaXMsIGFydCwgZmFsc2UpfVxuICAgICAgICAgIG9uSW1hZ2VJbnZhbGlkYXRpb249e3RoaXMuZm9yY2VVcGRhdGUuYmluZCh0aGlzKX1cbiAgICAgICAgICBrZXk9e19hcnQuaWR9XG4gICAgICAgICAgbGF6eUxvYWQ9e3RoaXMucHJvcHMubGF6eUxvYWR9XG4gICAgICAgICAgLz5cbiAgICAgIH0pXG5cbiAgICAgIC8vIGNlbnRlcmVkIGRvZXNuJ3Qgd29yayBvbiB0aGUgZmlyc3Qgcm93IGJlY2F1c2UgdGhlIHNlYXJjaCBib3ggaXMgaW4gdGhlIHdheVxuICAgICAgLy8gc3BhY2UtYXJvdW5kIGxvb2tzIGJlc3Qgb24gYm90dG9tIHJvd3NcbiAgICAgIGNvbnN0IGp1c3RpZnkgPSBpbmRleCA9PSAwICYmIHJvdy5sZW5ndGggPD0zID8gJ3NwYWNlLWFyb3VuZCcgOiAnY2VudGVyJ1xuICAgICAgdmFyIHJvd1N0eWxlID0ge1xuICAgICAgICBtaW5IZWlnaHQ6IE1hdGgubWluKHVuYWRqdXN0ZWRIZWlnaHQsIHRoaXMucHJvcHMubWF4Um93SGVpZ2h0IHx8IDIwMCwgNTApLFxuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGp1c3RpZnlDb250ZW50OiBqdXN0aWZ5LFxuICAgICAgICB3aGl0ZVNwYWNlOiAnbm93cmFwJyxcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPSdxdWlsdC1yb3ctd3JhcCdcbiAgICAgICAga2V5PXsncm93JytpbmRleH1cbiAgICAgICAgc3R5bGU9e3Jvd1N0eWxlfT5cbiAgICAgICAge2ltYWdlc31cbiAgICAgIDwvZGl2PlxuICAgIH0pXG5cbiAgICB2YXIgcXVpbHRTdHlsZSA9IHtcbiAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgLi4udGhpcy5wcm9wcy5zdHlsZSxcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J3F1aWx0LXdyYXAnIG9uTW91c2VMZWF2ZT17dGhpcy5ob3ZlcmVkLmJpbmQodGhpcywgbnVsbCwgZmFsc2UpfSBzdHlsZT17cXVpbHRTdHlsZX0+XG4gICAgICAgIHtpbWFnZXN9XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH0sXG5cbiAgY2FjaGVkUGFydGl0aW9uczoge30sXG5cbiAgZ2V0UGFydGl0aW9uKGFydHdvcmtzLCBudW1Sb3dzKSB7XG4gICAgdmFyIG1lbW9LZXkgPSBgcm93czoke3RoaXMucHJvcHMubWF4Um93c318d2lkdGg6JHt0aGlzLnN0YXRlLndpZHRofXwke2FydHdvcmtzLm1hcChhcnQgPT4gYXJ0Ll9pZCkuam9pbignLScpfWBcbiAgICB2YXIgbWVtbyA9IHRoaXMuY2FjaGVkUGFydGl0aW9uc1ttZW1vS2V5XVxuICAgIGlmKG1lbW8pIHJldHVybiBtZW1vXG5cbiAgICBjb25zdCBwYXJ0aXRpb25CeSA9IGZ1bmN0aW9uKGNvbGxlY3Rpb24sIHdlaWdodEZuLCBrKSB7XG4gICAgICBsZXQgd2VpZ2h0cyA9IGNvbGxlY3Rpb24ubWFwKHdlaWdodEZuKVxuICAgICAgbGV0IHBhcnRpdGlvbiA9IGxpbmVhclBhcnRpdGlvbih3ZWlnaHRzLCBrKVxuXG4gICAgICBsZXQgaW5kZXggPSAwXG4gICAgICByZXR1cm4gcGFydGl0aW9uLm1hcCgod2VpZ2h0ZWRSb3cpID0+IHtcbiAgICAgICAgcmV0dXJuIHdlaWdodGVkUm93Lm1hcCgod2VpZ2h0LCBpKSA9PiBjb2xsZWN0aW9uW2luZGV4KytdKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICB2YXIgcm93cyA9IHBhcnRpdGlvbkJ5KGFydHdvcmtzLCAoYXJ0KSA9PiBhcnQuX3NvdXJjZS5hc3BlY3RfcmF0aW8qMTAwLCBudW1Sb3dzKVxuICAgIC8vIERvbid0IGNhY2hlIHF1aWx0IHBhcnRpdGlvbnMgd2hlbiBzZXJ2ZXIgcmVuZGVyaW5nLCBwb3RlbnRpYWwgbWVtb3J5IHdhdGVyZmFsbFxuICAgIGlmKCF0aGlzLmNvbnRleHQudW5pdmVyc2FsKSB0aGlzLmNhY2hlZFBhcnRpdGlvbnNbbWVtb0tleV0gPSByb3dzXG4gICAgcmV0dXJuIHJvd3NcbiAgfSxcblxuICAvLyBUaGUgcXVpbHQgY2hhbmdlcyB0aGUgb3JkZXIgb2Ygc2VhcmNoIHJlc3VsdHMgaW4gMiB3YXlzOlxuICAvLyAqIGNsaWNraW5nIHBpbnMgYSByZXN1bHQgdG8gdGhlIHRvcCwgaW4gd2hpY2ggY2FzZSBpdCB3aWxsIHN0YXkgdGhlcmVcbiAgLy8gKiBob3ZlcmluZyAnZmxvYXRzJyBhIHJlc3VsdCB0byB0aGUgdG9wLCBidXQgaXQgd2lsbCBzaW5rIGJhY2sgZG93blxuICAvLyDigKZhZnRlciB0aGUgaW50ZXJhY3Rpb24gaXMgZmluaXNoZWQuXG4gIC8vIENsaWNraW5nIHRoZSBwaW5uZWQgYXJ0d29yayB1bi1waW5zIGl0XG4gIGNsaWNrZWQoYXJ0LCB1cGRhdGVTdGF0ZT10cnVlKSB7XG4gICAgdmFyIHtvbkNsaWNrfSA9IHRoaXMucHJvcHNcbiAgICBpZih1cGRhdGVTdGF0ZSkgdGhpcy5zZXRTdGF0ZSh7YWN0aXZlOiBhcnQsIHVucGlubmVkOiBmYWxzZX0pXG4gICAgY29uc3Qgc2FtZUFydCA9IHRoaXMuc3RhdGUudW5waW5uZWQgJiYgIXVwZGF0ZVN0YXRlIHx8XG4gICAgICB1cGRhdGVTdGF0ZSAmJiB0aGlzLnN0YXRlLmFjdGl2ZSAmJiBhcnQgPT0gdGhpcy5zdGF0ZS5hY3RpdmVcbiAgICBpZihzYW1lQXJ0KSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHthY3RpdmU6IG51bGwsIHVucGlubmVkOiB0cnVlfSlcbiAgICAgIGFydCA9IG51bGxcbiAgICB9XG4gICAgb25DbGljayAmJiBvbkNsaWNrKGFydClcbiAgICB0aGlzLnN0YXRlLnVucGlubmVkICYmIHRoaXMuc2V0U3RhdGUoe3VucGlubmVkOiBmYWxzZX0pXG4gIH0sXG4gIGhvdmVyZWQoYXJ0LCBhY3RpdmUpIHtcbiAgICBpZih0aGlzLnByb3BzLmRpc2FibGVIb3ZlcikgcmV0dXJuXG4gICAgLy8gY2FuY2VsIHRoZSBkZWxheWVkICdmbG9hdCcgb24gbW91c2VsZWF2ZVxuICAgIC8vIGlmIGFuIGFydHdvcmsgd2FzIGNsaWNrZWQsIGxlYXZlIGl0IHBpbm5lZFxuICAgIGlmKCFhY3RpdmUpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRlKVxuICAgICAgaWYoIWFydCkgdGhpcy5jbGlja2VkKHRoaXMuc3RhdGUuYWN0aXZlLCBmYWxzZSlcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB0aGlzLmFjdGl2YXRlID0gc2V0VGltZW91dCh0aGlzLmNsaWNrZWQuYmluZCh0aGlzLCBhcnQsIGZhbHNlKSwgMzAwKVxuICB9LFxuXG4gIGhpZGVEYXJrZW5lZFF1aWx0KCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmRhcmtlbiAmJiAhdGhpcy5zdGF0ZS5hbHdheXNTaG93XG4gIH0sXG5cbiAgZW1wdHlRdWlsdFRvZ2dsZUNvbnRyb2woKSB7XG4gICAgdmFyIHN0eWxlcyA9IHtcbiAgICAgIG1pbkhlaWdodDogJzdyZW0nLFxuICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgV2Via2l0VXNlclNlbGVjdDogJ25vbmUnLFxuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICB6SW5kZXg6IDEwMCxcbiAgICB9XG5cbiAgICByZXR1cm4gPHNwYW4gc3R5bGU9e3N0eWxlc30gb25Eb3VibGVDbGljaz17dGhpcy5mcmVlVGhlUXVpbHR9IC8+XG4gIH0sXG5cbiAgZnJlZVRoZVF1aWx0KCkge1xuICAgIGNvb2tpZS5zYXZlKCdmcmVlVGhlUXVpbHQnLCB0cnVlKVxuICAgIHRoaXMuc2V0U3RhdGUoe2Fsd2F5c1Nob3c6IHRydWV9KVxuICB9LFxufSlcbkltYWdlUXVpbHQuY29udGV4dFR5cGVzID0ge1xuICByb3V0ZXI6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICB1bml2ZXJzYWw6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxufVxuXG5JbWFnZVF1aWx0LmdldEltYWdlZFJlc3VsdHMgPSAoaGl0cykgPT4gaGl0cyAmJiBoaXRzXG4gIC5maWx0ZXIoKGhpdCkgPT4gaGl0Ll9zb3VyY2UuaW1hZ2UgPT0gJ3ZhbGlkJyAmJiBoaXQuX3NvdXJjZS5pbWFnZV93aWR0aCA+IDApXG5cbm1vZHVsZS5leHBvcnRzID0gSW1hZ2VRdWlsdFxuXG52YXIgUXVpbHRQYXRjaCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7YXJ0LCB3aWR0aCwgLi4ub3RoZXJ9ID0gdGhpcy5wcm9wc1xuICAgIHZhciBpZCA9IGFydC5pZFxuXG4gICAgdmFyIHN0eWxlID0ge1xuICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICB2ZXJ0aWNhbEFsaWduOiAndG9wJyxcbiAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgIGhlaWdodDogd2lkdGgvYXJ0LmFzcGVjdF9yYXRpbyxcbiAgICB9XG5cbiAgICB2YXIgaW1nU3R5bGUgPSB7XG4gICAgICAuLi5zdHlsZSxcbiAgICAgIGxlZnQ6IFwiNTAlXCIsXG4gICAgICB0b3A6IFwiNTAlXCIsXG4gICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlWSgtNTAlKSB0cmFuc2xhdGVYKC01MCUpXCIsXG4gICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgIH1cblxuICAgIHZhciBpbWFnZSA9IDxJbWFnZVxuICAgICAgYXJ0PXthcnR9XG4gICAgICBzdHlsZT17aW1nU3R5bGV9XG4gICAgICB7Li4ub3RoZXJ9XG4gICAgLz5cblxuICAgIHZhciB0ZXh0U3R5bGUgPSB7XG4gICAgICAgIC4uLnN0eWxlLFxuICAgICAgICBkaXNwbGF5OiAndGFibGUnLFxuICAgICAgICB3aGl0ZVNwYWNlOiAnbm9ybWFsJyxcbiAgICB9XG5cbiAgICB2YXIgcGF0Y2ggPSBhcnQuaW1hZ2UgPT0gJ3ZhbGlkJyA/IGltYWdlIDogPHNwYW4gY2xhc3NOYW1lPSdpbnZhbGlkJyBzdHlsZT17dGV4dFN0eWxlfSB7Li4ub3RoZXJ9PlxuICAgICAgPHA+PHN0cm9uZz57YXJ0LnRpdGxlX3Nob3J0fTwvc3Ryb25nPjwvcD5cbiAgICA8L3NwYW4+XG5cbiAgICByZXR1cm4gPExpbmtcbiAgICAgIG9uQ2xpY2s9e3RoaXMuY2xpY2tPckRvbnRDbGlja31cbiAgICAgIHN0eWxlPXt7Li4uc3R5bGUsIHBvc2l0aW9uOiAncmVsYXRpdmUnfX1cbiAgICAgIHRvPVwiYXJ0d29ya1wiXG4gICAgICBwYXJhbXM9e3tpZDogYXJ0LmlkfX0+e3BhdGNofTwvTGluaz5cbiAgfSxcblxuICAvLyBoYWx0IHRoZSBjbGljayBldmVudCBpZiBqYXZhc2NyaXB0IGlzIGxvYWRlZFxuICAvLyBjbGlja2luZyB0cmlnZ2VycyB0aGUgcmlnaHQtaGFuZCBwcmV2aWV3LCBub3QgdGhlIGA8YT5gXG4gIGNsaWNrT3JEb250Q2xpY2soZXZlbnQpIHtcbiAgICBpZighdGhpcy5jb250ZXh0LnVuaXZlcnNhbCkgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICB9LFxuXG4gIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGF6eUxvYWQ6IHRydWUsXG4gICAgICBkYXJrZW46IGZhbHNlLFxuICAgIH1cbiAgfSxcbn0pXG5RdWlsdFBhdGNoLmNvbnRleHRUeXBlcyA9IHtcbiAgcm91dGVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgdW5pdmVyc2FsOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/image-quilt.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/image-quilt.js",
      "sourcesContent": [
        "var React = require('react')\nvar {Link} = require('react-router')\nvar PureRenderMixin = require('react-addons-pure-render-mixin')\nvar ReactDOM = require('react-dom')\nvar debounce = require('debounce')\nvar cookie = require('react-cookie')\n\nvar linearPartition = require('linear-partitioning')\nvar ArtworkImage = require('./artwork-image')\nvar Image = require('./image')\n\nconst ImageQuilt = React.createClass({\n  mixins: [PureRenderMixin],\n\n  getInitialState() {\n    const artworks = this.props.artworks\n    const maybeShuffledArtworks = this.props.shuffle ?\n      artworks.sort(() => .5 - Math.random()) :\n      artworks\n\n    return {\n      active: null,\n      unpinned: false,\n      width: window.innerWidth || this.context.universal && 1000,\n      alwaysShow: cookie.load('freeTheQuilt'),\n      shuffledArtworks: this.props.shuffle ? maybeShuffledArtworks : undefined,\n    }\n  },\n\n  handleResize: function(e) {\n    if(!this.isMounted()) return\n    this.setState({width: ReactDOM.findDOMNode(this).clientWidth})\n  },\n  componentDidMount: function() {\n    this.handleResize()\n    window.addEventListener('resize', debounce(this.handleResize, 200))\n  },\n  componentWillUnmount: function() {\n    window.removeEventListener('resize', this.handleResize)\n  },\n\n  render() {\n    if(this.hideDarkenedQuilt()) return this.emptyQuiltToggleControl()\n\n    const artworks = this.props.artworks.slice(0, this.props.maxWorks)\n    const shuffledArtworks = this.state.shuffledArtworks && this.state.shuffledArtworks.slice(0, this.props.maxWorks)\n    const _art = artworks.map((art) => {\n      var s = art._source\n      if(s.image == 'invalid' || (s.image_width == 0 && s.image_height == 0) || s.rights == 'Permission Denied') {\n        s.image = 'invalid'\n        var splitOn = /;|:|\\]/;\n        ([s.title_short, s.artist_short] = [s.title.split(splitOn)[0], s.artist.split(splitOn)[0]])\n        var text = s.title_short\n        s.text_length = text.length\n        var deltaAverageTextLength = text.length/17 // bigger box for items with more text\n        s.image_width = deltaAverageTextLength > 2 ? 300 : 200\n        s.image_height = 200\n      }\n      return s\n    })\n\n    _art.map((art) => art.aspect_ratio = art.image_width/art.image_height)\n    const summedAspectRatio = _art.reduce((sum, art) => {return sum+art.aspect_ratio}, 0)\n    // Fit the images into `maxRows` or however many rows it would take to show each\n    // approx 200px tall\n    var rowHeight = this.props.rowHeight || 200\n    var numRows = Math.min(this.props.maxRows, Math.max(Math.floor(summedAspectRatio*rowHeight/this.state.width), 1))\n\n    var rows = this.getPartition(shuffledArtworks || artworks, numRows)\n\n    const images = rows.map((row, index) => {\n      var rowSummedAspectRatio = row.reduce((sum, art) => {return sum+art._source.aspect_ratio}, 0)\n      var rowAspectRatio = rowSummedAspectRatio/row.length\n      var unadjustedHeight = this.state.width/rowSummedAspectRatio\n\n      var images = row.map((art) => {\n        var _art = art._source\n        const id = _art.id\n        const width = _art.aspect_ratio/rowSummedAspectRatio*this.state.width\n        const height = width/_art.aspect_ratio\n        const maxRowHeight = this.props.maxRowHeight || 200\n        const widthAdjustedToClipTallRows = unadjustedHeight > maxRowHeight ? width/(unadjustedHeight/maxRowHeight) : width\n\n        return <QuiltPatch art={_art}\n          width={widthAdjustedToClipTallRows}\n          onClick={this.clicked.bind(this, art)}\n          onMouseEnter={this.hovered.bind(this, art, true)}\n          onMouseLeave={this.hovered.bind(this, art, false)}\n          onImageInvalidation={this.forceUpdate.bind(this)}\n          key={_art.id}\n          lazyLoad={this.props.lazyLoad}\n          />\n      })\n\n      // centered doesn't work on the first row because the search box is in the way\n      // space-around looks best on bottom rows\n      const justify = index == 0 && row.length <=3 ? 'space-around' : 'center'\n      var rowStyle = {\n        minHeight: Math.min(unadjustedHeight, this.props.maxRowHeight || 200, 50),\n        display: 'flex',\n        justifyContent: justify,\n        whiteSpace: 'nowrap',\n      }\n\n      return <div className='quilt-row-wrap'\n        key={'row'+index}\n        style={rowStyle}>\n        {images}\n      </div>\n    })\n\n    var quiltStyle = {\n      cursor: 'pointer',\n      ...this.props.style,\n    }\n\n    return (\n      <div className='quilt-wrap' onMouseLeave={this.hovered.bind(this, null, false)} style={quiltStyle}>\n        {images}\n      </div>\n    )\n  },\n\n  cachedPartitions: {},\n\n  getPartition(artworks, numRows) {\n    var memoKey = `rows:${this.props.maxRows}|width:${this.state.width}|${artworks.map(art => art._id).join('-')}`\n    var memo = this.cachedPartitions[memoKey]\n    if(memo) return memo\n\n    const partitionBy = function(collection, weightFn, k) {\n      let weights = collection.map(weightFn)\n      let partition = linearPartition(weights, k)\n\n      let index = 0\n      return partition.map((weightedRow) => {\n        return weightedRow.map((weight, i) => collection[index++])\n      })\n    }\n\n    var rows = partitionBy(artworks, (art) => art._source.aspect_ratio*100, numRows)\n    // Don't cache quilt partitions when server rendering, potential memory waterfall\n    if(!this.context.universal) this.cachedPartitions[memoKey] = rows\n    return rows\n  },\n\n  // The quilt changes the order of search results in 2 ways:\n  // * clicking pins a result to the top, in which case it will stay there\n  // * hovering 'floats' a result to the top, but it will sink back down\n  // …after the interaction is finished.\n  // Clicking the pinned artwork un-pins it\n  clicked(art, updateState=true) {\n    var {onClick} = this.props\n    if(updateState) this.setState({active: art, unpinned: false})\n    const sameArt = this.state.unpinned && !updateState ||\n      updateState && this.state.active && art == this.state.active\n    if(sameArt) {\n      this.setState({active: null, unpinned: true})\n      art = null\n    }\n    onClick && onClick(art)\n    this.state.unpinned && this.setState({unpinned: false})\n  },\n  hovered(art, active) {\n    if(this.props.disableHover) return\n    // cancel the delayed 'float' on mouseleave\n    // if an artwork was clicked, leave it pinned\n    if(!active) {\n      clearTimeout(this.activate)\n      if(!art) this.clicked(this.state.active, false)\n      return\n    }\n    this.activate = setTimeout(this.clicked.bind(this, art, false), 300)\n  },\n\n  hideDarkenedQuilt() {\n    return this.props.darken && !this.state.alwaysShow\n  },\n\n  emptyQuiltToggleControl() {\n    var styles = {\n      minHeight: '7rem',\n      display: 'inline-block',\n      width: '100%',\n      WebkitUserSelect: 'none',\n      cursor: 'pointer',\n      zIndex: 100,\n    }\n\n    return <span style={styles} onDoubleClick={this.freeTheQuilt} />\n  },\n\n  freeTheQuilt() {\n    cookie.save('freeTheQuilt', true)\n    this.setState({alwaysShow: true})\n  },\n})\nImageQuilt.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nImageQuilt.getImagedResults = (hits) => hits && hits\n  .filter((hit) => hit._source.image == 'valid' && hit._source.image_width > 0)\n\nmodule.exports = ImageQuilt\n\nvar QuiltPatch = React.createClass({\n  render() {\n    var {art, width, ...other} = this.props\n    var id = art.id\n\n    var style = {\n      display: 'inline-block',\n      verticalAlign: 'top',\n      overflow: 'hidden',\n      width: width,\n      height: width/art.aspect_ratio,\n    }\n\n    var imgStyle = {\n      ...style,\n      left: \"50%\",\n      top: \"50%\",\n      transform: \"translateY(-50%) translateX(-50%)\",\n      position: \"absolute\",\n    }\n\n    var image = <Image\n      art={art}\n      style={imgStyle}\n      {...other}\n    />\n\n    var textStyle = {\n        ...style,\n        display: 'table',\n        whiteSpace: 'normal',\n    }\n\n    var patch = art.image == 'valid' ? image : <span className='invalid' style={textStyle} {...other}>\n      <p><strong>{art.title_short}</strong></p>\n    </span>\n\n    return <Link\n      onClick={this.clickOrDontClick}\n      style={{...style, position: 'relative'}}\n      to=\"artwork\"\n      params={{id: art.id}}>{patch}</Link>\n  },\n\n  // halt the click event if javascript is loaded\n  // clicking triggers the right-hand preview, not the `<a>`\n  clickOrDontClick(event) {\n    if(!this.context.universal) event.preventDefault()\n  },\n\n  getDefaultProps() {\n    return {\n      lazyLoad: true,\n      darken: false,\n    }\n  },\n})\nQuiltPatch.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n"
      ]
    },
    "mtime": 1489007701718
  },
  "{\"filename\":\"/var/www/art/src/artwork-image.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar LazyLoad = require('react-lazy-load')['default'];\n\nvar Markdown = require('./markdown');\nvar Image = require('./image');\n\nvar ArtworkImage = React.createClass({\n  displayName: 'ArtworkImage',\n\n  render: function render() {\n    var _props = this.props;\n    var art = _props.art;\n    var id = _props.id;\n\n    var aspectRatio = art.image_width / art.image_height;\n    var maxWidth = window.innerWidth ? Math.min(window.innerWidth, 400) : 400;\n    var width = aspectRatio >= 1 ? maxWidth : maxWidth / aspectRatio;\n    var height = aspectRatio >= 1 ? maxWidth / aspectRatio : maxWidth;\n    var padding = width >= maxWidth ? -8 : -8 + (maxWidth - width) / 2;\n\n    var image = React.createElement(Image, { art: art,\n      style: { width: width, height: height },\n      ignoreStyle: true,\n      itemProp: 'image',\n      alt: art.description,\n      lazyLoad: this.props.lazyLoad });\n\n    var showImage = art.image == 'valid' && art.image_width > 0 && art.rights !== 'Permission Denied';\n\n    return showImage && React.createElement(\n      'div',\n      { className: 'artwork-image', style: { minHeight: '173px' } },\n      image,\n      React.createElement(\n        Markdown,\n        null,\n        art.image_copyright\n      )\n    );\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return { lazyLoad: true };\n  }\n});\n\nmodule.exports = ArtworkImage;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYXJ0d29yay1pbWFnZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUM1QixJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsV0FBUSxDQUFBOztBQUVqRCxJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7QUFDcEMsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFBOztBQUU5QixJQUFJLFlBQVksR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDbkMsUUFBTSxFQUFBLGtCQUFHO2lCQUNTLElBQUksQ0FBQyxLQUFLO1FBQXJCLEdBQUcsVUFBSCxHQUFHO1FBQUUsRUFBRSxVQUFGLEVBQUU7O0FBQ1osUUFBSSxXQUFXLEdBQUcsR0FBRyxDQUFDLFdBQVcsR0FBQyxHQUFHLENBQUMsWUFBWSxDQUFBO0FBQ2xELFFBQUksUUFBUSxHQUFHLE1BQU0sQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQTtBQUN6RSxRQUFJLEtBQUssR0FBRyxXQUFXLElBQUksQ0FBQyxHQUFHLFFBQVEsR0FBRyxRQUFRLEdBQUMsV0FBVyxDQUFBO0FBQzlELFFBQUksTUFBTSxHQUFHLFdBQVcsSUFBSSxDQUFDLEdBQUcsUUFBUSxHQUFDLFdBQVcsR0FBRyxRQUFRLENBQUE7QUFDL0QsUUFBSSxPQUFPLEdBQUcsS0FBSyxJQUFJLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBQyxDQUFDLFFBQVEsR0FBQyxLQUFLLENBQUEsR0FBRSxDQUFDLENBQUE7O0FBRTVELFFBQUksS0FBSyxHQUFHLG9CQUFDLEtBQUssSUFBQyxHQUFHLEVBQUUsR0FBRyxBQUFDO0FBQzFCLFdBQUssRUFBRSxFQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBQyxBQUFDO0FBQ3RDLGlCQUFXLEVBQUUsSUFBSSxBQUFDO0FBQ2xCLGNBQVEsRUFBQyxPQUFPO0FBQ2hCLFNBQUcsRUFBRSxHQUFHLENBQUMsV0FBVyxBQUFDO0FBQ3JCLGNBQVEsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQUFBQyxHQUFHLENBQUE7O0FBRW5DLFFBQUksU0FBUyxHQUFHLEdBQUcsQ0FBQyxLQUFLLElBQUksT0FBTyxJQUFJLEdBQUcsQ0FBQyxXQUFXLEdBQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxNQUFNLEtBQUssbUJBQW1CLENBQUE7O0FBRWpHLFdBQU8sU0FBUyxJQUNkOztRQUFLLFNBQVMsRUFBQyxlQUFlLEVBQUMsS0FBSyxFQUFFLEVBQUMsU0FBUyxFQUFFLE9BQU8sRUFBQyxBQUFDO01BQ3hELEtBQUs7TUFDTjtBQUFDLGdCQUFROztRQUFFLEdBQUcsQ0FBQyxlQUFlO09BQVk7S0FDdEMsQUFDUCxDQUFBO0dBQ0Y7O0FBRUQsaUJBQWUsRUFBQSwyQkFBRztBQUNoQixXQUFPLEVBQUMsUUFBUSxFQUFFLElBQUksRUFBQyxDQUFBO0dBQ3hCO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsWUFBWSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvYXJ0d29yay1pbWFnZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbmxldCBMYXp5TG9hZCA9IHJlcXVpcmUoJ3JlYWN0LWxhenktbG9hZCcpLmRlZmF1bHRcblxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi9tYXJrZG93bicpXG52YXIgSW1hZ2UgPSByZXF1aXJlKCcuL2ltYWdlJylcblxudmFyIEFydHdvcmtJbWFnZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIGxldCB7YXJ0LCBpZH0gPSB0aGlzLnByb3BzXG4gICAgbGV0IGFzcGVjdFJhdGlvID0gYXJ0LmltYWdlX3dpZHRoL2FydC5pbWFnZV9oZWlnaHRcbiAgICBsZXQgbWF4V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCA/IE1hdGgubWluKHdpbmRvdy5pbm5lcldpZHRoLCA0MDApIDogNDAwXG4gICAgbGV0IHdpZHRoID0gYXNwZWN0UmF0aW8gPj0gMSA/IG1heFdpZHRoIDogbWF4V2lkdGgvYXNwZWN0UmF0aW9cbiAgICBsZXQgaGVpZ2h0ID0gYXNwZWN0UmF0aW8gPj0gMSA/IG1heFdpZHRoL2FzcGVjdFJhdGlvIDogbWF4V2lkdGhcbiAgICBsZXQgcGFkZGluZyA9IHdpZHRoID49IG1heFdpZHRoID8gLTggOiAtOCsobWF4V2lkdGgtd2lkdGgpLzJcblxuICAgIHZhciBpbWFnZSA9IDxJbWFnZSBhcnQ9e2FydH1cbiAgICAgIHN0eWxlPXt7d2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodH19XG4gICAgICBpZ25vcmVTdHlsZT17dHJ1ZX1cbiAgICAgIGl0ZW1Qcm9wPVwiaW1hZ2VcIlxuICAgICAgYWx0PXthcnQuZGVzY3JpcHRpb259XG4gICAgICBsYXp5TG9hZD17dGhpcy5wcm9wcy5sYXp5TG9hZH0gLz5cblxuICAgIHZhciBzaG93SW1hZ2UgPSBhcnQuaW1hZ2UgPT0gJ3ZhbGlkJyAmJiBhcnQuaW1hZ2Vfd2lkdGggPiAwICYmIGFydC5yaWdodHMgIT09ICdQZXJtaXNzaW9uIERlbmllZCdcblxuICAgIHJldHVybiBzaG93SW1hZ2UgJiYgKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J2FydHdvcmstaW1hZ2UnIHN0eWxlPXt7bWluSGVpZ2h0OiAnMTczcHgnfX0+XG4gICAgICAgIHtpbWFnZX1cbiAgICAgICAgPE1hcmtkb3duPnthcnQuaW1hZ2VfY29weXJpZ2h0fTwvTWFya2Rvd24+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH0sXG5cbiAgZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7bGF6eUxvYWQ6IHRydWV9XG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFydHdvcmtJbWFnZVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/artwork-image.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,QAAQ,GAAG,OAAO,CAAC,iBAAiB,CAAC,WAAQ,CAAA;;AAEjD,IAAI,QAAQ,GAAG,OAAO,CAAC,YAAY,CAAC,CAAA;AACpC,IAAI,KAAK,GAAG,OAAO,CAAC,SAAS,CAAC,CAAA;;AAE9B,IAAI,YAAY,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACnC,QAAM,EAAA,kBAAG;iBACS,IAAI,CAAC,KAAK;QAArB,GAAG,UAAH,GAAG;QAAE,EAAE,UAAF,EAAE;;AACZ,QAAI,WAAW,GAAG,GAAG,CAAC,WAAW,GAAC,GAAG,CAAC,YAAY,CAAA;AAClD,QAAI,QAAQ,GAAG,MAAM,CAAC,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,UAAU,EAAE,GAAG,CAAC,GAAG,GAAG,CAAA;AACzE,QAAI,KAAK,GAAG,WAAW,IAAI,CAAC,GAAG,QAAQ,GAAG,QAAQ,GAAC,WAAW,CAAA;AAC9D,QAAI,MAAM,GAAG,WAAW,IAAI,CAAC,GAAG,QAAQ,GAAC,WAAW,GAAG,QAAQ,CAAA;AAC/D,QAAI,OAAO,GAAG,KAAK,IAAI,QAAQ,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAC,CAAC,QAAQ,GAAC,KAAK,CAAA,GAAE,CAAC,CAAA;;AAE5D,QAAI,KAAK,GAAG,oBAAC,KAAK,IAAC,GAAG,EAAE,GAAG,AAAC;AAC1B,WAAK,EAAE,EAAC,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAC,AAAC;AACtC,iBAAW,EAAE,IAAI,AAAC;AAClB,cAAQ,EAAC,OAAO;AAChB,SAAG,EAAE,GAAG,CAAC,WAAW,AAAC;AACrB,cAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,AAAC,GAAG,CAAA;;AAEnC,QAAI,SAAS,GAAG,GAAG,CAAC,KAAK,IAAI,OAAO,IAAI,GAAG,CAAC,WAAW,GAAG,CAAC,IAAI,GAAG,CAAC,MAAM,KAAK,mBAAmB,CAAA;;AAEjG,WAAO,SAAS,IACd;;QAAK,SAAS,EAAC,eAAe,EAAC,KAAK,EAAE,EAAC,SAAS,EAAE,OAAO,EAAC,AAAC;MACxD,KAAK;MACN;AAAC,gBAAQ;;QAAE,GAAG,CAAC,eAAe;OAAY;KACtC,AACP,CAAA;GACF;;AAED,iBAAe,EAAA,2BAAG;AAChB,WAAO,EAAC,QAAQ,EAAE,IAAI,EAAC,CAAA;GACxB;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,YAAY,CAAA",
      "file": "/var/www/art/src/artwork-image.js",
      "sourcesContent": [
        "var React = require('react')\nlet LazyLoad = require('react-lazy-load').default\n\nvar Markdown = require('./markdown')\nvar Image = require('./image')\n\nvar ArtworkImage = React.createClass({\n  render() {\n    let {art, id} = this.props\n    let aspectRatio = art.image_width/art.image_height\n    let maxWidth = window.innerWidth ? Math.min(window.innerWidth, 400) : 400\n    let width = aspectRatio >= 1 ? maxWidth : maxWidth/aspectRatio\n    let height = aspectRatio >= 1 ? maxWidth/aspectRatio : maxWidth\n    let padding = width >= maxWidth ? -8 : -8+(maxWidth-width)/2\n\n    var image = <Image art={art}\n      style={{width: width, height: height}}\n      ignoreStyle={true}\n      itemProp=\"image\"\n      alt={art.description}\n      lazyLoad={this.props.lazyLoad} />\n\n    var showImage = art.image == 'valid' && art.image_width > 0 && art.rights !== 'Permission Denied'\n\n    return showImage && (\n      <div className='artwork-image' style={{minHeight: '173px'}}>\n        {image}\n        <Markdown>{art.image_copyright}</Markdown>\n      </div>\n    )\n  },\n\n  getDefaultProps() {\n    return {lazyLoad: true}\n  },\n})\n\nmodule.exports = ArtworkImage\n"
      ]
    },
    "mtime": 1488248774574
  },
  "{\"filename\":\"/var/www/art/src/markdown.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\n\nvar marked = require('marked');\nmarked.setOptions({\n  gfm: true,\n  breaks: true\n});\n\nvar Markdown = React.createClass({\n  displayName: 'Markdown',\n\n  render: function render() {\n    if (!this.props.children) return React.createElement('span', null);\n\n    var content = this.props.children.replace('\\n', '\\n\\n').replace(/<i>([^<]+)<\\/?i>/gi, '<i>$1</i>');\n\n    var Tag = this.props.tag || 'div';\n    var rendered = this.props.alreadyRendered ? content : marked(content);\n    if (this.props.tag) rendered = rendered.replace(/<.?p>/g, '').trim();\n    return React.createElement(Tag, { dangerouslySetInnerHTML: { __html: rendered } });\n  }\n});\n\nmodule.exports = Markdown;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvbWFya2Rvd24uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7O0FBRTVCLElBQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQTtBQUNoQyxNQUFNLENBQUMsVUFBVSxDQUFDO0FBQ2hCLEtBQUcsRUFBRSxJQUFJO0FBQ1QsUUFBTSxFQUFFLElBQUk7Q0FDYixDQUFDLENBQUE7O0FBRUYsSUFBSSxRQUFRLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQy9CLFFBQU0sRUFBQSxrQkFBRztBQUNQLFFBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxPQUFPLGlDQUFRLENBQUE7O0FBRXhDLFFBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUM5QixPQUFPLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUNyQixPQUFPLENBQUMsb0JBQW9CLEVBQUUsV0FBVyxDQUFDLENBQUE7O0FBRTdDLFFBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQTtBQUNqQyxRQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsR0FBRyxPQUFPLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQ3JFLFFBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsUUFBUSxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFBO0FBQ25FLFdBQU8sb0JBQUMsR0FBRyxJQUFDLHVCQUF1QixFQUFFLEVBQUMsTUFBTSxFQUFFLFFBQVEsRUFBQyxBQUFDLEdBQU8sQ0FBQTtHQUNoRTtDQUNGLENBQUMsQ0FBQTs7QUFFRixNQUFNLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL21hcmtkb3duLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxuXG5jb25zdCBtYXJrZWQgPSByZXF1aXJlKCdtYXJrZWQnKVxubWFya2VkLnNldE9wdGlvbnMoe1xuICBnZm06IHRydWUsXG4gIGJyZWFrczogdHJ1ZSxcbn0pXG5cbnZhciBNYXJrZG93biA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIGlmKCF0aGlzLnByb3BzLmNoaWxkcmVuKSByZXR1cm4gPHNwYW4gLz5cblxuICAgIHZhciBjb250ZW50ID0gdGhpcy5wcm9wcy5jaGlsZHJlblxuICAgICAgLnJlcGxhY2UoJ1xcbicsICdcXG5cXG4nKVxuICAgICAgLnJlcGxhY2UoLzxpPihbXjxdKyk8XFwvP2k+L2dpLCAnPGk+JDE8L2k+JylcblxuICAgIGxldCBUYWcgPSB0aGlzLnByb3BzLnRhZyB8fCAnZGl2J1xuICAgIGxldCByZW5kZXJlZCA9IHRoaXMucHJvcHMuYWxyZWFkeVJlbmRlcmVkID8gY29udGVudCA6IG1hcmtlZChjb250ZW50KVxuICAgIGlmKHRoaXMucHJvcHMudGFnKSByZW5kZXJlZCA9IHJlbmRlcmVkLnJlcGxhY2UoLzwuP3A+L2csICcnKS50cmltKClcbiAgICByZXR1cm4gPFRhZyBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogcmVuZGVyZWR9fT48L1RhZz5cbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gTWFya2Rvd25cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/markdown.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;AAE5B,IAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAA;AAChC,MAAM,CAAC,UAAU,CAAC;AAChB,KAAG,EAAE,IAAI;AACT,QAAM,EAAE,IAAI;CACb,CAAC,CAAA;;AAEF,IAAI,QAAQ,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC/B,QAAM,EAAA,kBAAG;AACP,QAAG,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,OAAO,iCAAQ,CAAA;;AAExC,QAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAC9B,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC,CACrB,OAAO,CAAC,oBAAoB,EAAE,WAAW,CAAC,CAAA;;AAE7C,QAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,KAAK,CAAA;AACjC,QAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,GAAG,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,CAAA;AACrE,QAAG,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE,CAAA;AACnE,WAAO,oBAAC,GAAG,IAAC,uBAAuB,EAAE,EAAC,MAAM,EAAE,QAAQ,EAAC,AAAC,GAAO,CAAA;GAChE;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,QAAQ,CAAA",
      "file": "/var/www/art/src/markdown.js",
      "sourcesContent": [
        "var React = require('react')\n\nconst marked = require('marked')\nmarked.setOptions({\n  gfm: true,\n  breaks: true,\n})\n\nvar Markdown = React.createClass({\n  render() {\n    if(!this.props.children) return <span />\n\n    var content = this.props.children\n      .replace('\\n', '\\n\\n')\n      .replace(/<i>([^<]+)<\\/?i>/gi, '<i>$1</i>')\n\n    let Tag = this.props.tag || 'div'\n    let rendered = this.props.alreadyRendered ? content : marked(content)\n    if(this.props.tag) rendered = rendered.replace(/<.?p>/g, '').trim()\n    return <Tag dangerouslySetInnerHTML={{__html: rendered}}></Tag>\n  },\n})\n\nmodule.exports = Markdown\n"
      ]
    },
    "mtime": 1488248774578
  },
  "{\"filename\":\"/var/www/art/src/image.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends",
        "object-without-properties"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\nvar cx = require('classnames');\nvar LazyLoad = require('react-lazy-load')['default'];\n\nvar imageCDN = require('./image-cdn');\n\nvar _require = require('./artwork/creator');\n\nvar getFacetAndValue = _require.getFacetAndValue;\n\nvar Image = React.createClass({\n  displayName: 'Image',\n\n  render: function render() {\n    var _props = this.props;\n    var art = _props.art;\n    var style = _props.style;\n    var lazyLoad = _props.lazyLoad;\n    var ignoreStyle = _props.ignoreStyle;\n\n    var other = _objectWithoutProperties(_props, ['art', 'style', 'lazyLoad', 'ignoreStyle']);\n\n    var id = art.id;\n    var width = style.width;\n    var height = style.height;\n\n    var classes = cx('image', {\n      loading: !this.state.loaded,\n      loaded: this.state.loaded,\n      error: this.state.error,\n      invalid: this.state.error\n    });\n\n    var loadingStyle = _extends({}, style);\n\n    var nakedImage = React.createElement('img', _extends({\n      key: id,\n      style: ignoreStyle ? { maxWidth: '100%', maxHeight: '67vh' } : style,\n      src: this.imageURL(),\n      onLoad: this.handleImageLoad,\n      onError: this.handleError,\n      className: classes,\n      title: art.title + ', ' + getFacetAndValue(art)[1],\n      alt: art.description\n    }, other));\n\n    if (art.rights == 'Permission Denied') return React.createElement('span', null);\n\n    var image = !lazyLoad ? nakedImage : React.createElement(\n      LazyLoad,\n      { wrapper: 'span', style: { display: 'inline' }, width: width, height: '' + height, className: classes },\n      nakedImage\n    );\n\n    return image;\n  },\n\n  imageURL: function imageURL() {\n    var id = this.props.art.id;\n\n    return this.state.skipCDN ? 'https://api.artsmia.org/images/' + id + '/400/medium.jpg' : imageCDN(id);\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    if (this.props.art !== nextProps.art) this.setState({ skipCDN: false });\n  },\n\n  handleImageLoad: function handleImageLoad() {\n    this.setState({ loaded: true });\n  },\n\n  // if the image doesn't load, it's probably because it's not on the CDN\n  // yet. Fall back and load it from the API\n  // If it also won't load from there, we've got problems\n  handleError: function handleError(event) {\n    if (!this.state.skipCDN) {\n      this.setState({ skipCDN: true });\n    } else {\n      // problems! the image isn't working on the CDN or via the api.\n      this.setState({ loaded: true, error: true });\n      this.props.art.image = 'invalid';\n      this.props.onImageInvalidation && this.props.onImageInvalidation();\n    }\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      loaded: this.context.universal || false,\n      skipCDN: false\n    };\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      ignoreStyle: false\n    };\n  }\n});\nImage.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nmodule.exports = Image;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvaW1hZ2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTtBQUM5QixJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsV0FBUSxDQUFBOztBQUVqRCxJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUE7O2VBQ1osT0FBTyxDQUFDLG1CQUFtQixDQUFDOztJQUFoRCxnQkFBZ0IsWUFBaEIsZ0JBQWdCOztBQUVyQixJQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDOUIsUUFBTSxFQUFBLGtCQUFHO2lCQUM2QyxJQUFJLENBQUMsS0FBSztRQUF6RCxHQUFHLFVBQUgsR0FBRztRQUFFLEtBQUssVUFBTCxLQUFLO1FBQUUsUUFBUSxVQUFSLFFBQVE7UUFBRSxXQUFXLFVBQVgsV0FBVzs7UUFBSyxLQUFLOztRQUMzQyxFQUFFLEdBQUksR0FBRyxDQUFULEVBQUU7UUFDRixLQUFLLEdBQVksS0FBSyxDQUF0QixLQUFLO1FBQUUsTUFBTSxHQUFJLEtBQUssQ0FBZixNQUFNOztBQUVsQixRQUFJLE9BQU8sR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFO0FBQ3hCLGFBQU8sRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTTtBQUMzQixZQUFNLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNO0FBQ3pCLFdBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUs7QUFDdkIsYUFBTyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSztLQUMxQixDQUFDLENBQUE7O0FBRUYsUUFBSSxZQUFZLGdCQUNYLEtBQUssQ0FDVCxDQUFBOztBQUVELFFBQUksVUFBVSxHQUFHO0FBQ2YsU0FBRyxFQUFF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RyxLQUFLLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9pbWFnZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBjeCA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKVxudmFyIExhenlMb2FkID0gcmVxdWlyZSgncmVhY3QtbGF6eS1sb2FkJykuZGVmYXVsdFxuXG52YXIgaW1hZ2VDRE4gPSByZXF1aXJlKCcuL2ltYWdlLWNkbicpXG52YXIge2dldEZhY2V0QW5kVmFsdWV9ID0gcmVxdWlyZSgnLi9hcnR3b3JrL2NyZWF0b3InKVxuXG5jb25zdCBJbWFnZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7YXJ0LCBzdHlsZSwgbGF6eUxvYWQsIGlnbm9yZVN0eWxlLCAuLi5vdGhlcn0gPSB0aGlzLnByb3BzXG4gICAgdmFyIHtpZH0gPSBhcnRcbiAgICB2YXIge3dpZHRoLCBoZWlnaHR9ID0gc3R5bGVcblxuICAgIHZhciBjbGFzc2VzID0gY3goJ2ltYWdlJywge1xuICAgICAgbG9hZGluZzogIXRoaXMuc3RhdGUubG9hZGVkLFxuICAgICAgbG9hZGVkOiB0aGlzLnN0YXRlLmxvYWRlZCxcbiAgICAgIGVycm9yOiB0aGlzLnN0YXRlLmVycm9yLFxuICAgICAgaW52YWxpZDogdGhpcy5zdGF0ZS5lcnJvcixcbiAgICB9KVxuXG4gICAgdmFyIGxvYWRpbmdTdHlsZSA9IHtcbiAgICAgIC4uLnN0eWxlLFxuICAgIH1cblxuICAgIHZhciBuYWtlZEltYWdlID0gPGltZ1xuICAgICAga2V5PXtpZH1cbiAgICAgIHN0eWxlPXtpZ25vcmVTdHlsZSA/IHttYXhXaWR0aDogJzEwMCUnLCBtYXhIZWlnaHQ6ICc2N3ZoJ30gOiBzdHlsZX1cbiAgICAgIHNyYz17dGhpcy5pbWFnZVVSTCgpfVxuICAgICAgb25Mb2FkPXt0aGlzLmhhbmRsZUltYWdlTG9hZH1cbiAgICAgIG9uRXJyb3I9e3RoaXMuaGFuZGxlRXJyb3J9XG4gICAgICBjbGFzc05hbWU9e2NsYXNzZXN9XG4gICAgICB0aXRsZT17YCR7YXJ0LnRpdGxlfSwgJHtnZXRGYWNldEFuZFZhbHVlKGFydClbMV19YH1cbiAgICAgIGFsdD17YXJ0LmRlc2NyaXB0aW9ufVxuICAgICAgey4uLm90aGVyfSAvPlxuXG4gICAgaWYoYXJ0LnJpZ2h0cyA9PSAnUGVybWlzc2lvbiBEZW5pZWQnKSByZXR1cm4gPHNwYW4gLz5cblxuICAgIHZhciBpbWFnZSA9ICFsYXp5TG9hZCA/IG5ha2VkSW1hZ2UgOiA8TGF6eUxvYWQgd3JhcHBlcj1cInNwYW5cIiBzdHlsZT17e2Rpc3BsYXk6ICdpbmxpbmUnfX0gd2lkdGg9e3dpZHRofSBoZWlnaHQ9e2Ake2hlaWdodH1gfSBjbGFzc05hbWU9e2NsYXNzZXN9PlxuICAgICAge25ha2VkSW1hZ2V9XG4gICAgPC9MYXp5TG9hZD5cblxuICAgIHJldHVybiBpbWFnZVxuICB9LFxuXG4gIGltYWdlVVJMKCkge1xuICAgIHZhciB7aWR9ID0gdGhpcy5wcm9wcy5hcnRcblxuICAgIHJldHVybiB0aGlzLnN0YXRlLnNraXBDRE4gP1xuICAgICAgYGh0dHBzOi8vYXBpLmFydHNtaWEub3JnL2ltYWdlcy8ke2lkfS80MDAvbWVkaXVtLmpwZ2AgOlxuICAgICAgaW1hZ2VDRE4oaWQpXG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICBpZih0aGlzLnByb3BzLmFydCAhPT0gbmV4dFByb3BzLmFydCkgdGhpcy5zZXRTdGF0ZSh7c2tpcENETjogZmFsc2V9KVxuICB9LFxuXG4gIGhhbmRsZUltYWdlTG9hZCgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtsb2FkZWQ6IHRydWV9KVxuICB9LFxuXG4gIC8vIGlmIHRoZSBpbWFnZSBkb2Vzbid0IGxvYWQsIGl0J3MgcHJvYmFibHkgYmVjYXVzZSBpdCdzIG5vdCBvbiB0aGUgQ0ROXG4gIC8vIHlldC4gRmFsbCBiYWNrIGFuZCBsb2FkIGl0IGZyb20gdGhlIEFQSVxuICAvLyBJZiBpdCBhbHNvIHdvbid0IGxvYWQgZnJvbSB0aGVyZSwgd2UndmUgZ290IHByb2JsZW1zXG4gIGhhbmRsZUVycm9yKGV2ZW50KSB7XG4gICAgaWYoIXRoaXMuc3RhdGUuc2tpcENETikge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7c2tpcENETjogdHJ1ZX0pXG4gICAgfSBlbHNlIHsgLy8gcHJvYmxlbXMhIHRoZSBpbWFnZSBpc24ndCB3b3JraW5nIG9uIHRoZSBDRE4gb3IgdmlhIHRoZSBhcGkuXG4gICAgICB0aGlzLnNldFN0YXRlKHtsb2FkZWQ6IHRydWUsIGVycm9yOiB0cnVlfSlcbiAgICAgIHRoaXMucHJvcHMuYXJ0LmltYWdlID0gJ2ludmFsaWQnIFxuICAgICAgdGhpcy5wcm9wcy5vbkltYWdlSW52YWxpZGF0aW9uICYmIHRoaXMucHJvcHMub25JbWFnZUludmFsaWRhdGlvbigpXG4gICAgfVxuICB9LFxuXG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbG9hZGVkOiB0aGlzLmNvbnRleHQudW5pdmVyc2FsIHx8IGZhbHNlLFxuICAgICAgc2tpcENETjogZmFsc2UsXG4gICAgfVxuICB9LFxuXG4gIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWdub3JlU3R5bGU6IGZhbHNlLFxuICAgIH1cbiAgfSxcbn0pXG5JbWFnZS5jb250ZXh0VHlwZXMgPSB7XG4gIHJvdXRlcjogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIHVuaXZlcnNhbDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG59XG5cbm1vZHVsZS5leHBvcnRzID0gSW1hZ2VcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/image.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/image.js",
      "sourcesContent": [
        "var React = require('react')\nvar cx = require('classnames')\nvar LazyLoad = require('react-lazy-load').default\n\nvar imageCDN = require('./image-cdn')\nvar {getFacetAndValue} = require('./artwork/creator')\n\nconst Image = React.createClass({\n  render() {\n    var {art, style, lazyLoad, ignoreStyle, ...other} = this.props\n    var {id} = art\n    var {width, height} = style\n\n    var classes = cx('image', {\n      loading: !this.state.loaded,\n      loaded: this.state.loaded,\n      error: this.state.error,\n      invalid: this.state.error,\n    })\n\n    var loadingStyle = {\n      ...style,\n    }\n\n    var nakedImage = <img\n      key={id}\n      style={ignoreStyle ? {maxWidth: '100%', maxHeight: '67vh'} : style}\n      src={this.imageURL()}\n      onLoad={this.handleImageLoad}\n      onError={this.handleError}\n      className={classes}\n      title={`${art.title}, ${getFacetAndValue(art)[1]}`}\n      alt={art.description}\n      {...other} />\n\n    if(art.rights == 'Permission Denied') return <span />\n\n    var image = !lazyLoad ? nakedImage : <LazyLoad wrapper=\"span\" style={{display: 'inline'}} width={width} height={`${height}`} className={classes}>\n      {nakedImage}\n    </LazyLoad>\n\n    return image\n  },\n\n  imageURL() {\n    var {id} = this.props.art\n\n    return this.state.skipCDN ?\n      `https://api.artsmia.org/images/${id}/400/medium.jpg` :\n      imageCDN(id)\n  },\n\n  componentWillReceiveProps(nextProps) {\n    if(this.props.art !== nextProps.art) this.setState({skipCDN: false})\n  },\n\n  handleImageLoad() {\n    this.setState({loaded: true})\n  },\n\n  // if the image doesn't load, it's probably because it's not on the CDN\n  // yet. Fall back and load it from the API\n  // If it also won't load from there, we've got problems\n  handleError(event) {\n    if(!this.state.skipCDN) {\n      this.setState({skipCDN: true})\n    } else { // problems! the image isn't working on the CDN or via the api.\n      this.setState({loaded: true, error: true})\n      this.props.art.image = 'invalid' \n      this.props.onImageInvalidation && this.props.onImageInvalidation()\n    }\n  },\n\n  getInitialState() {\n    return {\n      loaded: this.context.universal || false,\n      skipCDN: false,\n    }\n  },\n\n  getDefaultProps() {\n    return {\n      ignoreStyle: false,\n    }\n  },\n})\nImage.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nmodule.exports = Image\n"
      ]
    },
    "mtime": 1488248774578
  },
  "{\"filename\":\"/var/www/art/src/image-cdn.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction imageUrlForId(id) {\n  var size = arguments.length <= 1 || arguments[1] === undefined ? 400 : arguments[1];\n\n  var size = size > 400 ? '800/' : '';\n  return 'https://' + id % 7 + '.api.artsmia.org/' + size + id + '.jpg';\n}\n\nmodule.exports = imageUrlForId;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvaW1hZ2UtY2RuLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsU0FBUyxhQUFhLENBQUMsRUFBRSxFQUFZO01BQVYsSUFBSSx5REFBQyxHQUFHOztBQUNqQyxNQUFJLElBQUksR0FBRyxBQUFDLElBQUksR0FBRyxHQUFHLEdBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQTtBQUNyQyxzQkFBa0IsRUFBRSxHQUFDLENBQUMseUJBQW9CLElBQUksR0FBRyxFQUFFLFVBQU07Q0FDMUQ7O0FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRyxhQUFhLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9pbWFnZS1jZG4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBpbWFnZVVybEZvcklkKGlkLCBzaXplPTQwMCkge1xuICB2YXIgc2l6ZSA9IChzaXplID4gNDAwKSA/ICc4MDAvJyA6ICcnXG4gIHJldHVybiBgaHR0cHM6Ly8ke2lkJTd9LmFwaS5hcnRzbWlhLm9yZy8ke3NpemV9JHtpZH0uanBnYFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGltYWdlVXJsRm9ySWRcblxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/image-cdn.js"
      ],
      "names": [],
      "mappings": ";;AAAA,SAAS,aAAa,CAAC,EAAE,EAAY;MAAV,IAAI,yDAAC,GAAG;;AACjC,MAAI,IAAI,GAAG,AAAC,IAAI,GAAG,GAAG,GAAI,MAAM,GAAG,EAAE,CAAA;AACrC,sBAAkB,EAAE,GAAC,CAAC,yBAAoB,IAAI,GAAG,EAAE,UAAM;CAC1D;;AAED,MAAM,CAAC,OAAO,GAAG,aAAa,CAAA",
      "file": "/var/www/art/src/image-cdn.js",
      "sourcesContent": [
        "function imageUrlForId(id, size=400) {\n  var size = (size > 400) ? '800/' : ''\n  return `https://${id%7}.api.artsmia.org/${size}${id}.jpg`\n}\n\nmodule.exports = imageUrlForId\n\n"
      ]
    },
    "mtime": 1485807805246
  },
  "{\"filename\":\"/var/www/art/src/artwork/creator.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "sliced-to-array",
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar React = require('react');\n\nvar highlighter = require('../highlighter');\nvar Markdown = require('../markdown');\n\nvar Creator = React.createClass({\n  displayName: 'Creator',\n\n  render: function render() {\n    var Peek = require('../peek'); // required here to avoid circular react dependency - yikes!\n    var Wrapper = this.props.wrapper || \"h5\";\n\n    var _Creator$getFacetAndValue = Creator.getFacetAndValue(this.props.art, this.props.highlights);\n\n    var _Creator$getFacetAndValue2 = _slicedToArray(_Creator$getFacetAndValue, 3);\n\n    var facet = _Creator$getFacetAndValue2[0];\n    var value = _Creator$getFacetAndValue2[1];\n    var highlightedValue = _Creator$getFacetAndValue2[2];\n\n    var creatorPeek = (facet == 'artist' || facet == 'culture') && React.createElement(\n      Peek,\n      _extends({ microdata: true, facet: facet }, { highlightedValue: highlightedValue }),\n      value\n    ) || facet == 'country' && React.createElement(\n      'span',\n      null,\n      'Unknown artist, ',\n      React.createElement(\n        Peek,\n        _extends({ microdata: true, facet: 'country', tag: 'span', showIcon: this.props.showIcon }, { highlightedValue: highlightedValue }),\n        value\n      )\n    );\n\n    return React.createElement(\n      Wrapper,\n      { itemProp: 'creator', itemScope: true, itemType: 'https://schema.org/Person' },\n      this.props.peek ? creatorPeek : highlightedValue ? React.createElement(\n        Markdown,\n        null,\n        highlightedValue\n      ) : value\n    );\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return { peek: true };\n  }\n});\nCreator.getFacetAndValue = function (art, highlights) {\n  var artist = art.artist;\n  var culture = art.culture;\n  var country = art.country;\n\n  var highlight = highlighter.bind(null, art, highlights);\n\n  return !(artist == '' || artist.match(/^unknown/i)) && ['artist', art.artist.replace(/^([^;]+):/, ''), highlight('artist').replace(/^([^;]+):/, '')] || !!culture && ['culture', art.culture.replace(/ culture/i, ''), highlight('culture').replace(/ culture/i, '')] || !!country && ['country', art.country, highlight('country')] || [undefined, undefined];\n};\n\nmodule.exports = Creator;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYXJ0d29yay9jcmVhdG9yLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTs7QUFFNUIsSUFBSSxXQUFXLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUE7QUFDM0MsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBOztBQUVyQyxJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDOUIsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsUUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFBO0FBQzdCLFFBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQTs7b0NBQ0QsT0FBTyxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDOzs7O1FBQWpHLEtBQUs7UUFBRSxLQUFLO1FBQUUsZ0JBQWdCOztBQUNuQyxRQUFJLFdBQVcsR0FBRyxDQUFDLEtBQUssSUFBSSxRQUFRLElBQUksS0FBSyxJQUFJLFNBQVMsQ0FBQSxJQUNyRDtBQUFDLFVBQUk7aUJBQUMsU0FBUyxFQUFFLElBQUksQUFBQyxFQUFDLEtBQUssRUFBRSxLQUFLLEFBQUMsSUFBSyxFQUFDLGdCQUFnQixFQUFoQixnQkFBZ0IsRUFBQztNQUFHLEtBQUs7S0FBUSxJQUMzRSxLQUFLLElBQUksU0FBUyxJQUNsQjs7OztNQUFzQjtBQUFDLFlBQUk7bUJBQUMsU0FBUyxFQUFFLElBQUksQUFBQyxFQUFDLEtBQUssRUFBQyxTQUFTLEVBQUMsR0FBRyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEFBQUMsSUFBSyxFQUFDLGdCQUFnQixFQUFoQixnQkFBZ0IsRUFBQztRQUFHLEtBQUs7T0FBUTtLQUFPLENBQUE7O0FBRXpKLFdBQU87QUFBQyxhQUFPO1FBQUMsUUFBUSxFQUFDLFNBQVMsRUFBQyxTQUFTLE1BQUEsRUFBQyxRQUFRLEVBQUMsMkJBQTJCO01BQzlFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLFdBQVcsR0FBSSxnQkFBZ0IsR0FBRztBQUFDLGdCQUFROztRQUFFLGdCQUFnQjtPQUFZLEdBQUcsS0FBSyxBQUFDO0tBQzdGLENBQUE7R0FDWDs7QUFFRCxpQkFBZSxFQUFBLDJCQUFHO0FBQ2hCLFdBQU8sRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFDLENBQUE7R0FDcEI7Q0FDRixDQUFDLENBQUE7QUFDRixPQUFPLENBQUMsZ0JBQWdCLEdBQUcsVUFBQyxHQUFHLEVBQUUsVUFBVSxFQUFLO01BQ3pDLE1BQU0sR0FBc0IsR0FBRyxDQUEvQixNQUFNO01BQUUsT0FBTyxHQUFhLEdBQUcsQ0FBdkIsT0FBTztNQUFFLE9BQU8sR0FBSSxHQUFHLENBQWQsT0FBTzs7QUFDN0IsTUFBSSxTQUFTLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFBOztBQUV2RCxTQUFPLEVBQUUsTUFBTSxJQUFJLEVBQUUsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFBLEFBQUMsSUFDakQsQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQzVGLENBQUMsQ0FBQyxPQUFPLElBQ1AsQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQ2xHLENBQUMsQ0FBQyxPQUFPLElBQ1AsQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsSUFDaEQsQ0FBQyxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUE7Q0FDMUIsQ0FBQTs7QUFFRCxNQUFNLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2FydHdvcmsvY3JlYXRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcblxudmFyIGhpZ2hsaWdodGVyID0gcmVxdWlyZSgnLi4vaGlnaGxpZ2h0ZXInKVxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi4vbWFya2Rvd24nKVxuXG52YXIgQ3JlYXRvciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciBQZWVrID0gcmVxdWlyZSgnLi4vcGVlaycpIC8vIHJlcXVpcmVkIGhlcmUgdG8gYXZvaWQgY2lyY3VsYXIgcmVhY3QgZGVwZW5kZW5jeSAtIHlpa2VzIVxuICAgIHZhciBXcmFwcGVyID0gdGhpcy5wcm9wcy53cmFwcGVyIHx8IFwiaDVcIlxuICAgIHZhciBbZmFjZXQsIHZhbHVlLCBoaWdobGlnaHRlZFZhbHVlXSA9IENyZWF0b3IuZ2V0RmFjZXRBbmRWYWx1ZSh0aGlzLnByb3BzLmFydCwgdGhpcy5wcm9wcy5oaWdobGlnaHRzKVxuICAgIHZhciBjcmVhdG9yUGVlayA9IChmYWNldCA9PSAnYXJ0aXN0JyB8fCBmYWNldCA9PSAnY3VsdHVyZScpXG4gICAgICAmJiA8UGVlayBtaWNyb2RhdGE9e3RydWV9IGZhY2V0PXtmYWNldH0gey4uLntoaWdobGlnaHRlZFZhbHVlfX0+e3ZhbHVlfTwvUGVlaz5cbiAgICAgIHx8IGZhY2V0ID09ICdjb3VudHJ5J1xuICAgICAgJiYgPHNwYW4+VW5rbm93biBhcnRpc3QsIDxQZWVrIG1pY3JvZGF0YT17dHJ1ZX0gZmFjZXQ9XCJjb3VudHJ5XCIgdGFnPVwic3BhblwiIHNob3dJY29uPXt0aGlzLnByb3BzLnNob3dJY29ufSB7Li4ue2hpZ2hsaWdodGVkVmFsdWV9fT57dmFsdWV9PC9QZWVrPjwvc3Bhbj5cblxuICAgIHJldHVybiA8V3JhcHBlciBpdGVtUHJvcD1cImNyZWF0b3JcIiBpdGVtU2NvcGUgaXRlbVR5cGU9XCJodHRwczovL3NjaGVtYS5vcmcvUGVyc29uXCI+XG4gICAgICB7dGhpcy5wcm9wcy5wZWVrID8gY3JlYXRvclBlZWsgOiAoaGlnaGxpZ2h0ZWRWYWx1ZSA/IDxNYXJrZG93bj57aGlnaGxpZ2h0ZWRWYWx1ZX08L01hcmtkb3duPiA6IHZhbHVlKX1cbiAgICA8L1dyYXBwZXI+XG4gIH0sXG5cbiAgZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7cGVlazogdHJ1ZX1cbiAgfSxcbn0pXG5DcmVhdG9yLmdldEZhY2V0QW5kVmFsdWUgPSAoYXJ0LCBoaWdobGlnaHRzKSA9PiB7XG4gIHZhciB7YXJ0aXN0LCBjdWx0dXJlLCBjb3VudHJ5fSA9IGFydFxuICB2YXIgaGlnaGxpZ2h0ID0gaGlnaGxpZ2h0ZXIuYmluZChudWxsLCBhcnQsIGhpZ2hsaWdodHMpXG5cbiAgcmV0dXJuICEoYXJ0aXN0ID09ICcnIHx8IGFydGlzdC5tYXRjaCgvXnVua25vd24vaSkpICYmXG4gICAgWydhcnRpc3QnLCBhcnQuYXJ0aXN0LnJlcGxhY2UoL14oW147XSspOi8sICcnKSwgaGlnaGxpZ2h0KCdhcnRpc3QnKS5yZXBsYWNlKC9eKFteO10rKTovLCAnJyldXG4gIHx8ICEhY3VsdHVyZVxuICAgICYmIFsnY3VsdHVyZScsIGFydC5jdWx0dXJlLnJlcGxhY2UoLyBjdWx0dXJlL2ksICcnKSwgaGlnaGxpZ2h0KCdjdWx0dXJlJykucmVwbGFjZSgvIGN1bHR1cmUvaSwgJycpXVxuICB8fCAhIWNvdW50cnlcbiAgICAmJiBbJ2NvdW50cnknLCBhcnQuY291bnRyeSwgaGlnaGxpZ2h0KCdjb3VudHJ5JyldXG4gIHx8IFt1bmRlZmluZWQsIHVuZGVmaW5lZF1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDcmVhdG9yXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/artwork/creator.js"
      ],
      "names": [],
      "mappings": ";;;;;;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;AAE5B,IAAI,WAAW,GAAG,OAAO,CAAC,gBAAgB,CAAC,CAAA;AAC3C,IAAI,QAAQ,GAAG,OAAO,CAAC,aAAa,CAAC,CAAA;;AAErC,IAAI,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC9B,QAAM,EAAA,kBAAG;AACP,QAAI,IAAI,GAAG,OAAO,CAAC,SAAS,CAAC,CAAA;AAC7B,QAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,IAAI,IAAI,CAAA;;oCACD,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC;;;;QAAjG,KAAK;QAAE,KAAK;QAAE,gBAAgB;;AACnC,QAAI,WAAW,GAAG,CAAC,KAAK,IAAI,QAAQ,IAAI,KAAK,IAAI,SAAS,CAAA,IACrD;AAAC,UAAI;iBAAC,SAAS,EAAE,IAAI,AAAC,EAAC,KAAK,EAAE,KAAK,AAAC,IAAK,EAAC,gBAAgB,EAAhB,gBAAgB,EAAC;MAAG,KAAK;KAAQ,IAC3E,KAAK,IAAI,SAAS,IAClB;;;;MAAsB;AAAC,YAAI;mBAAC,SAAS,EAAE,IAAI,AAAC,EAAC,KAAK,EAAC,SAAS,EAAC,GAAG,EAAC,MAAM,EAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,AAAC,IAAK,EAAC,gBAAgB,EAAhB,gBAAgB,EAAC;QAAG,KAAK;OAAQ;KAAO,CAAA;;AAEzJ,WAAO;AAAC,aAAO;QAAC,QAAQ,EAAC,SAAS,EAAC,SAAS,MAAA,EAAC,QAAQ,EAAC,2BAA2B;MAC9E,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,WAAW,GAAI,gBAAgB,GAAG;AAAC,gBAAQ;;QAAE,gBAAgB;OAAY,GAAG,KAAK,AAAC;KAC7F,CAAA;GACX;;AAED,iBAAe,EAAA,2BAAG;AAChB,WAAO,EAAC,IAAI,EAAE,IAAI,EAAC,CAAA;GACpB;CACF,CAAC,CAAA;AACF,OAAO,CAAC,gBAAgB,GAAG,UAAC,GAAG,EAAE,UAAU,EAAK;MACzC,MAAM,GAAsB,GAAG,CAA/B,MAAM;MAAE,OAAO,GAAa,GAAG,CAAvB,OAAO;MAAE,OAAO,GAAI,GAAG,CAAd,OAAO;;AAC7B,MAAI,SAAS,GAAG,WAAW,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,EAAE,UAAU,CAAC,CAAA;;AAEvD,SAAO,EAAE,MAAM,IAAI,EAAE,IAAI,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,CAAA,AAAC,IACjD,CAAC,QAAQ,EAAE,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,EAAE,SAAS,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC,IAC5F,CAAC,CAAC,OAAO,IACP,CAAC,SAAS,EAAE,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC,IAClG,CAAC,CAAC,OAAO,IACP,CAAC,SAAS,EAAE,GAAG,CAAC,OAAO,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,IAChD,CAAC,SAAS,EAAE,SAAS,CAAC,CAAA;CAC1B,CAAA;;AAED,MAAM,CAAC,OAAO,GAAG,OAAO,CAAA",
      "file": "/var/www/art/src/artwork/creator.js",
      "sourcesContent": [
        "var React = require('react')\n\nvar highlighter = require('../highlighter')\nvar Markdown = require('../markdown')\n\nvar Creator = React.createClass({\n  render() {\n    var Peek = require('../peek') // required here to avoid circular react dependency - yikes!\n    var Wrapper = this.props.wrapper || \"h5\"\n    var [facet, value, highlightedValue] = Creator.getFacetAndValue(this.props.art, this.props.highlights)\n    var creatorPeek = (facet == 'artist' || facet == 'culture')\n      && <Peek microdata={true} facet={facet} {...{highlightedValue}}>{value}</Peek>\n      || facet == 'country'\n      && <span>Unknown artist, <Peek microdata={true} facet=\"country\" tag=\"span\" showIcon={this.props.showIcon} {...{highlightedValue}}>{value}</Peek></span>\n\n    return <Wrapper itemProp=\"creator\" itemScope itemType=\"https://schema.org/Person\">\n      {this.props.peek ? creatorPeek : (highlightedValue ? <Markdown>{highlightedValue}</Markdown> : value)}\n    </Wrapper>\n  },\n\n  getDefaultProps() {\n    return {peek: true}\n  },\n})\nCreator.getFacetAndValue = (art, highlights) => {\n  var {artist, culture, country} = art\n  var highlight = highlighter.bind(null, art, highlights)\n\n  return !(artist == '' || artist.match(/^unknown/i)) &&\n    ['artist', art.artist.replace(/^([^;]+):/, ''), highlight('artist').replace(/^([^;]+):/, '')]\n  || !!culture\n    && ['culture', art.culture.replace(/ culture/i, ''), highlight('culture').replace(/ culture/i, '')]\n  || !!country\n    && ['country', art.country, highlight('country')]\n  || [undefined, undefined]\n}\n\nmodule.exports = Creator\n"
      ]
    },
    "mtime": 1485807805242
  },
  "{\"filename\":\"/var/www/art/src/highlighter.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "\"use strict\";\n\nfunction highlightField(source, highlights, field) {\n  if (!highlights) return source[field];\n\n  var possibleHighlights = Object.keys(highlights).filter(function (key) {\n    return key.match(new RegExp(\"^\" + field));\n  }).map(function (key) {\n    return highlights[key][0];\n  });\n\n  return highlights && possibleHighlights && possibleHighlights[0] || source[field];\n}\n\nmodule.exports = highlightField;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvaGlnaGxpZ2h0ZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxTQUFTLGNBQWMsQ0FBQyxNQUFNLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRTtBQUNqRCxNQUFHLENBQUMsVUFBVSxFQUFFLE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFBOztBQUVwQyxNQUFJLGtCQUFrQixHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQy9DLE1BQU0sQ0FBQyxVQUFBLEdBQUc7V0FBSSxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksTUFBTSxDQUFDLEdBQUcsR0FBQyxLQUFLLENBQUMsQ0FBQztHQUFBLENBQUMsQ0FDL0MsR0FBRyxDQUFDLFVBQUEsR0FBRztXQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7R0FBQSxDQUFDLENBQUE7O0FBRS9CLFNBQU8sVUFBVSxJQUFJLGtCQUFrQixJQUFJLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxJQUMzRCxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUE7Q0FDbkI7O0FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRyxjQUFjLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9oaWdobGlnaHRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGhpZ2hsaWdodEZpZWxkKHNvdXJjZSwgaGlnaGxpZ2h0cywgZmllbGQpIHtcbiAgaWYoIWhpZ2hsaWdodHMpIHJldHVybiBzb3VyY2VbZmllbGRdXG5cbiAgdmFyIHBvc3NpYmxlSGlnaGxpZ2h0cyA9IE9iamVjdC5rZXlzKGhpZ2hsaWdodHMpXG4gIC5maWx0ZXIoa2V5ID0+IGtleS5tYXRjaChuZXcgUmVnRXhwKFwiXlwiK2ZpZWxkKSkpXG4gIC5tYXAoa2V5ID0+IGhpZ2hsaWdodHNba2V5XVswXSlcblxuICByZXR1cm4gaGlnaGxpZ2h0cyAmJiBwb3NzaWJsZUhpZ2hsaWdodHMgJiYgcG9zc2libGVIaWdobGlnaHRzWzBdXG4gICAgfHwgc291cmNlW2ZpZWxkXVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhpZ2hsaWdodEZpZWxkXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/highlighter.js"
      ],
      "names": [],
      "mappings": ";;AAAA,SAAS,cAAc,CAAC,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE;AACjD,MAAG,CAAC,UAAU,EAAE,OAAO,MAAM,CAAC,KAAK,CAAC,CAAA;;AAEpC,MAAI,kBAAkB,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAC/C,MAAM,CAAC,UAAA,GAAG;WAAI,GAAG,CAAC,KAAK,CAAC,IAAI,MAAM,CAAC,GAAG,GAAC,KAAK,CAAC,CAAC;GAAA,CAAC,CAC/C,GAAG,CAAC,UAAA,GAAG;WAAI,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;GAAA,CAAC,CAAA;;AAE/B,SAAO,UAAU,IAAI,kBAAkB,IAAI,kBAAkB,CAAC,CAAC,CAAC,IAC3D,MAAM,CAAC,KAAK,CAAC,CAAA;CACnB;;AAED,MAAM,CAAC,OAAO,GAAG,cAAc,CAAA",
      "file": "/var/www/art/src/highlighter.js",
      "sourcesContent": [
        "function highlightField(source, highlights, field) {\n  if(!highlights) return source[field]\n\n  var possibleHighlights = Object.keys(highlights)\n  .filter(key => key.match(new RegExp(\"^\"+field)))\n  .map(key => highlights[key][0])\n\n  return highlights && possibleHighlights && possibleHighlights[0]\n    || source[field]\n}\n\nmodule.exports = highlightField\n"
      ]
    },
    "mtime": 1485987477910
  },
  "{\"filename\":\"/var/www/art/src/search-results.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\nvar Router = require('react-router');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar rest = require('rest');\n\nvar SEARCH = require('./endpoints').search;\nvar SearchSummary = require('./search-summary');\nvar ResultsList = require('./search-results/list');\nvar ResultsGrid = require('./search-results/grid');\n\nvar SearchResults = React.createClass({\n  displayName: 'SearchResults',\n\n  mixins: [Router.State, Router.Navigation],\n\n  statics: {\n    fetchData: {\n      searchResults: function searchResults(params, query) {\n        var size = query && query.size || 100;\n        var sort = query && query.sort;\n        var filters = params.splat;\n        var properlyCodedFilters = encodeURIComponent(decodeURIComponent(filters)); // yuck\n        var searchUrl = SEARCH + '/' + params.terms + '?size=' + size;\n        if (sort) searchUrl += '&sort=' + sort;\n        if (filters) searchUrl += '&filters=' + properlyCodedFilters;\n        if (window && window.enteredViaMore) searchUrl += '&tag=more';\n        return rest(searchUrl).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  getInitialState: function getInitialState() {\n    var focus = window.clickedArtwork || this.props.hits[0];\n    setTimeout(function () {\n      return window.clickedArtwork = null;\n    });\n    var smallViewport = this.context.smallViewport;\n    var _props$query = this.props.query;\n    var view = _props$query.view;\n    var showPreview = _props$query.preview;\n\n    var initialView = view && view == 'list' || smallViewport || this.context.universal ? ResultsList : ResultsGrid;\n    var showPreview = showPreview == \"false\" ? false : true;\n\n    return {\n      focusedResult: showPreview && focus && focus,\n      view: initialView\n    };\n  },\n\n  shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {\n    return this.props.data.searchResults != nextProps.data.searchResults || this.props.hits != nextProps.hits || this.props.completions !== nextProps.completions || this.props.query.sort !== nextProps.query.sort || this.state !== nextState;\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    var focused = window.clickedArtwork || this.state && this.state.focusedResult || nextProps.hits[0];\n    this.focusResult(focused);\n    if (window.clickedArtwork) window.clickedArtwork = null;\n  },\n\n  maxResults: 5000,\n\n  triggerLoad: function triggerLoad(nextPage) {\n    this.setState({ loadingMore: nextPage });\n  },\n\n  render: function render() {\n    var search = this.props.data.searchResults;\n    var focusedResult = this.state.focusedResult;\n\n    var leftColumnWidth = '35%';\n    var smallViewport = this.context.smallViewport;\n\n    var unloadedResults = search.hits.total - this.props.hits.length;\n    var loadThisManyMore = Math.min(200, unloadedResults);\n    var nextPage = Math.min(this.maxResults, this.props.hits.length + loadThisManyMore);\n    var showMoreLink = search && React.createElement(\n      'span',\n      null,\n      '. (',\n      React.createElement(\n        Link,\n        { to: search.filters ? 'filteredSearchResults' : 'searchResults',\n          params: { terms: search.query, splat: search.filters },\n          query: _extends({ size: nextPage }, this.props.query),\n          onClick: this.triggerLoad.bind(this, nextPage)\n        },\n        'load ',\n        loadThisManyMore,\n        ' more'\n      ),\n      ')'\n    );\n\n    if (this.state.loadingMore) showMoreLink = ' (…loading)';\n\n    var summaryProps = _extends({\n      search: this.props.data.searchResults,\n      hits: this.props.hits,\n      params: this.props.params,\n      showAggs: this.props.showAggs,\n      toggleAggs: this.props.toggleAggs,\n      showMoreLink: showMoreLink,\n      maxResults: this.maxResults,\n      query: this.props.query\n    }, this.props.summaryProps);\n\n    var _props$params = this.props.params;\n    var terms = _props$params.terms;\n    var splat = _props$params.splat;\n\n    var showFocusRelatedContent = [terms, splat].join(' ').match(/related/);\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        SearchSummary,\n        summaryProps,\n        React.createElement(SearchResultViewToggle, {\n          click: this.changeView,\n          activeView: this.state.view,\n          views: [ResultsList, ResultsGrid]\n        })\n      ),\n      this.props.suggestions,\n      React.createElement(this.state.view, {\n        leftColumnWidth: leftColumnWidth,\n        focusedResult: focusedResult,\n        focusHandler: this.focusResult,\n        search: search,\n        hits: this.props.hits,\n        postSearch: this.postSearch(summaryProps, this.state.postSearchOffset),\n        smallViewport: this.context.smallViewport,\n        showRelated: showFocusRelatedContent\n      })\n    );\n  },\n\n  focusResult: function focusResult(hit) {\n    var nextView = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n    var smallViewport = this.context.smallViewport;\n\n    if (smallViewport && nextView) {\n      this.transitionTo('artwork', { id: hit._id });\n    } else {\n      !smallViewport && nextView && this.changeView(nextView);\n      this.setState({ focusedResult: hit ? hit : null });\n    }\n  },\n\n  changeView: function changeView(next) {\n    next && this.setState({ view: next });\n  },\n\n  // How to code this: after seeing all the results (on a page?)\n  // summarize them and give the chance to do something. Such as:\n  // * load more\n  // * did you find what you were looking for? (solicit feedback)\n  // * related searches?\n  //\n  // Also fudge the height of this so the right column scroll doesn't get cut off.\n  postSearch: function postSearch(_ref, postSearchOffset) {\n    var hits = _ref.hits;\n    var search = _ref.search;\n    var showMoreLink = _ref.showMoreLink;\n\n    var showingAll = hits.length == search.hits.total || hits.length >= this.maxResults;\n\n    var style = {\n      marginTop: '1em',\n      padding: '1em',\n      borderTop: '1em solid #232323',\n      minHeight: Math.max(50, this.state.minHeight - postSearchOffset)\n    };\n\n    return React.createElement(\n      'div',\n      { ref: 'postSearch', style: style },\n      'showing ',\n      hits.length,\n      ' ',\n      ' ',\n      showingAll || React.createElement(\n        'span',\n        null,\n        'of ',\n        search.hits.total,\n        ' ',\n        ' '\n      ),\n      'results matching ',\n      React.createElement(\n        'code',\n        null,\n        search.query\n      ),\n      search.filters && React.createElement(\n        'span',\n        null,\n        ' and ',\n        React.createElement(\n          'code',\n          null,\n          search.filters\n        )\n      ),\n      showingAll || showMoreLink\n    );\n  },\n\n  componentDidUpdate: function componentDidUpdate(prevProps, prevState) {\n    var domNode = this.refs.postSearch && ReactDOM.findDOMNode(this.refs.postSearch);\n    var offset = domNode.getBoundingClientRect().top;\n    if (domNode && offset != prevState.postSearchOffset) {\n      this.setState({ postSearchOffset: offset || 0 });\n    }\n\n    if (this.props.query.size == this.state.loadingMore) this.setState({ loadingMore: false });\n  },\n\n  onHeightChange: function onHeightChange(newHeight) {\n    this.setState({ minHeight: newHeight });\n  },\n\n  getChildContext: function getChildContext() {\n    return {\n      onHeightChange: this.onHeightChange\n    };\n  }\n});\nSearchResults.childContextTypes = { onHeightChange: React.PropTypes.func };\nSearchResults.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n  smallViewport: React.PropTypes.bool\n};\n\nmodule.exports = SearchResults;\n\nvar SearchResultViewToggle = React.createClass({\n  displayName: 'SearchResultViewToggle',\n\n  render: function render() {\n    var _this = this;\n\n    var _props = this.props;\n    var views = _props.views;\n    var click = _props.click;\n    var activeView = _props.activeView;\n\n    var toggles = views.map(function (r) {\n      var name = r.displayName.replace('SearchResults', '');\n      var activeStyle = activeView === r && {\n        color: '#222',\n        backgroundColor: 'white',\n        borderRadius: 5,\n        margin: '0 5px',\n        display: 'inline-block'\n      } || {};\n      return React.createElement(\n        'span',\n        { key: name, onClick: _this.toggleView.bind(_this, r), style: activeStyle },\n        React.createElement('i', { className: name })\n      );\n    });\n\n    return React.createElement(\n      'div',\n      { className: 'mdl-cell mdl-cell--2-col views' },\n      toggles\n    );\n  },\n\n  toggleView: function toggleView(view) {\n    this.props.click(view);\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvc2VhcmNoLXJlc3VsdHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUM1QixJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUE7QUFDbkMsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBOztlQUN2QixPQUFPLENBQUMsY0FBYyxDQUFDOztJQUEvQixJQUFJLFlBQUosSUFBSTs7QUFDVCxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUE7O0FBRTFCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQyxNQUFNLENBQUE7QUFDMUMsSUFBSSxhQUFhLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUE7QUFDL0MsSUFBSSxXQUFXLEdBQUcsT0FBTyxDQUFDLHVCQUF1QixDQUFDLENBQUE7QUFDbEQsSUFBSSxXQUFXLEdBQUcsT0FBTyxDQUFDLHVCQUF1QixDQUFDLENBQUE7O0FBRWxELElBQUksYUFBYSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUNwQyxRQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxVQUFVLENBQUM7O0FBRXpDLFNBQU8sRUFBRTtBQUNQLGFBQVMsRUFBRTtBQUNULG1CQUFhLEVBQUUsdUJBQUMsTUFBTSxFQUFFLEtBQUssRUFBSztBQUNoQyxZQUFJLElBQUksR0FBRyxLQUFLLElBQUksS0FBSyxDQUFDLElBQUksSUFBSSxHQUFHLENBQUE7QUFDckMsWUFBSSxJQUFJLEdBQUcsS0FBSyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUE7QUFDOUIsWUFBTSxPQUFPLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQTtBQUM1QixZQUFNLG9CQUFvQixHQUFHLGtCQUFrQixDQUFDLGtCQUFrQixDQUFD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RUFBRSxjQUFjO09BQ3hCLElBQUksRUFBRSxDQUFBO0FBQ1AsYUFBTzs7VUFBTSxHQUFHLEVBQUUsSUFBSSxBQUFDLEVBQUMsT0FBTyxFQUFFLE1BQUssVUFBVSxDQUFDLElBQUksUUFBTyxDQUFDLENBQUMsQUFBQyxFQUFDLEtBQUssRUFBRSxXQUFXLEFBQUM7UUFBQywyQkFBRyxTQUFTLEVBQUUsSUFBSSxBQUFDLEdBQUs7T0FBTyxDQUFBO0tBQ3BILENBQUMsQ0FBQTs7QUFFRixXQUFPOztRQUFLLFNBQVMsRUFBQyxnQ0FBZ0M7TUFBRSxPQUFPO0tBQU8sQ0FBQTtHQUN2RTs7QUFFRCxZQUFVLEVBQUEsb0JBQUMsSUFBSSxFQUFFO0FBQ2YsUUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUE7R0FDdkI7Q0FDRixDQUFDLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9zZWFyY2gtcmVzdWx0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSZWFjdERPTSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciB7TGlua30gPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcblxudmFyIFNFQVJDSCA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJykuc2VhcmNoXG52YXIgU2VhcmNoU3VtbWFyeSA9IHJlcXVpcmUoJy4vc2VhcmNoLXN1bW1hcnknKVxudmFyIFJlc3VsdHNMaXN0ID0gcmVxdWlyZSgnLi9zZWFyY2gtcmVzdWx0cy9saXN0JylcbnZhciBSZXN1bHRzR3JpZCA9IHJlcXVpcmUoJy4vc2VhcmNoLXJlc3VsdHMvZ3JpZCcpXG5cbnZhciBTZWFyY2hSZXN1bHRzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBtaXhpbnM6IFtSb3V0ZXIuU3RhdGUsIFJvdXRlci5OYXZpZ2F0aW9uXSxcblxuICBzdGF0aWNzOiB7XG4gICAgZmV0Y2hEYXRhOiB7XG4gICAgICBzZWFyY2hSZXN1bHRzOiAocGFyYW1zLCBxdWVyeSkgPT4ge1xuICAgICAgICB2YXIgc2l6ZSA9IHF1ZXJ5ICYmIHF1ZXJ5LnNpemUgfHwgMTAwXG4gICAgICAgIHZhciBzb3J0ID0gcXVlcnkgJiYgcXVlcnkuc29ydFxuICAgICAgICBjb25zdCBmaWx0ZXJzID0gcGFyYW1zLnNwbGF0XG4gICAgICAgIGNvbnN0IHByb3Blcmx5Q29kZWRGaWx0ZXJzID0gZW5jb2RlVVJJQ29tcG9uZW50KGRlY29kZVVSSUNvbXBvbmVudChmaWx0ZXJzKSkgLy8geXVja1xuICAgICAgICBsZXQgc2VhcmNoVXJsID0gYCR7U0VBUkNIfS8ke3BhcmFtcy50ZXJtc30/c2l6ZT0ke3NpemV9YFxuICAgICAgICBpZihzb3J0KSBzZWFyY2hVcmwgKz0gYCZzb3J0PSR7c29ydH1gXG4gICAgICAgIGlmKGZpbHRlcnMpIHNlYXJjaFVybCArPSBgJmZpbHRlcnM9JHtwcm9wZXJseUNvZGVkRmlsdGVyc31gXG4gICAgICAgIGlmKHdpbmRvdyAmJiB3aW5kb3cuZW50ZXJlZFZpYU1vcmUpIHNlYXJjaFVybCArPSBgJnRhZz1tb3JlYFxuICAgICAgICByZXR1cm4gcmVzdChzZWFyY2hVcmwpLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpKVxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgdmFyIGZvY3VzID0gd2luZG93LmNsaWNrZWRBcnR3b3JrIHx8IHRoaXMucHJvcHMuaGl0c1swXVxuICAgIHNldFRpbWVvdXQoKCkgPT4gd2luZG93LmNsaWNrZWRBcnR3b3JrID0gbnVsbClcbiAgICB2YXIge3NtYWxsVmlld3BvcnR9ID0gdGhpcy5jb250ZXh0XG5cbiAgICB2YXIge3ZpZXcsIHByZXZpZXc6IHNob3dQcmV2aWV3fSA9IHRoaXMucHJvcHMucXVlcnlcbiAgICB2YXIgaW5pdGlhbFZpZXcgPSAodmlldyAmJiB2aWV3ID09ICdsaXN0JyB8fCBzbWFsbFZpZXdwb3J0IHx8IHRoaXMuY29udGV4dC51bml2ZXJzYWwpID9cbiAgICAgIFJlc3VsdHNMaXN0IDpcbiAgICAgIFJlc3VsdHNHcmlkXG4gICAgdmFyIHNob3dQcmV2aWV3ID0gc2hvd1ByZXZpZXcgPT0gXCJmYWxzZVwiID8gZmFsc2UgOiB0cnVlXG5cbiAgICByZXR1cm4ge1xuICAgICAgZm9jdXNlZFJlc3VsdDogc2hvd1ByZXZpZXcgJiYgZm9jdXMgJiYgZm9jdXMsXG4gICAgICB2aWV3OiBpbml0aWFsVmlldyxcbiAgICB9XG4gIH0sXG5cbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuZGF0YS5zZWFyY2hSZXN1bHRzICE9IG5leHRQcm9wcy5kYXRhLnNlYXJjaFJlc3VsdHMgfHxcbiAgICAgIHRoaXMucHJvcHMuaGl0cyAhPSBuZXh0UHJvcHMuaGl0cyB8fFxuICAgICAgdGhpcy5wcm9wcy5jb21wbGV0aW9ucyAhPT0gbmV4dFByb3BzLmNvbXBsZXRpb25zIHx8XG4gICAgICB0aGlzLnByb3BzLnF1ZXJ5LnNvcnQgIT09IG5leHRQcm9wcy5xdWVyeS5zb3J0IHx8XG4gICAgICB0aGlzLnN0YXRlICE9PSBuZXh0U3RhdGVcbiAgfSxcblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIHZhciBmb2N1c2VkID0gd2luZG93LmNsaWNrZWRBcnR3b3JrIHx8IHRoaXMuc3RhdGUgJiYgdGhpcy5zdGF0ZS5mb2N1c2VkUmVzdWx0IHx8IG5leHRQcm9wcy5oaXRzWzBdXG4gICAgdGhpcy5mb2N1c1Jlc3VsdChmb2N1c2VkKVxuICAgIGlmKHdpbmRvdy5jbGlja2VkQXJ0d29yaykgd2luZG93LmNsaWNrZWRBcnR3b3JrID0gbnVsbFxuICB9LFxuXG4gIG1heFJlc3VsdHM6IDUwMDAsXG5cbiAgdHJpZ2dlckxvYWQobmV4dFBhZ2UpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtsb2FkaW5nTW9yZTogbmV4dFBhZ2V9KVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIgc2VhcmNoID0gdGhpcy5wcm9wcy5kYXRhLnNlYXJjaFJlc3VsdHNcbiAgICB2YXIge2ZvY3VzZWRSZXN1bHR9ID0gdGhpcy5zdGF0ZVxuICAgIHZhciBsZWZ0Q29sdW1uV2lkdGggPSAnMzUlJ1xuICAgIHZhciB7c21hbGxWaWV3cG9ydH0gPSB0aGlzLmNvbnRleHRcbiAgICB2YXIgdW5sb2FkZWRSZXN1bHRzID0gc2VhcmNoLmhpdHMudG90YWwgLSB0aGlzLnByb3BzLmhpdHMubGVuZ3RoXG4gICAgdmFyIGxvYWRUaGlzTWFueU1vcmUgPSBNYXRoLm1pbigyMDAsIHVubG9hZGVkUmVzdWx0cylcbiAgICB2YXIgbmV4dFBhZ2UgPSBNYXRoLm1pbih0aGlzLm1heFJlc3VsdHMsIHRoaXMucHJvcHMuaGl0cy5sZW5ndGgrbG9hZFRoaXNNYW55TW9yZSlcbiAgICB2YXIgc2hvd01vcmVMaW5rID0gc2VhcmNoICYmXG4gICAgICA8c3Bhbj4uJm5ic3A7KDxMaW5rIHRvPXtzZWFyY2guZmlsdGVycyA/ICdmaWx0ZXJlZFNlYXJjaFJlc3VsdHMnIDogJ3NlYXJjaFJlc3VsdHMnfVxuICAgICAgICAgICAgIHBhcmFtcz17e3Rlcm1zOiBzZWFyY2gucXVlcnksIHNwbGF0OiBzZWFyY2guZmlsdGVyc319XG4gICAgICAgICAgICAgcXVlcnk9e3tzaXplOiBuZXh0UGFnZSwgLi4udGhpcy5wcm9wcy5xdWVyeX19XG4gICAgICAgICAgICAgb25DbGljaz17dGhpcy50cmlnZ2VyTG9hZC5iaW5kKHRoaXMsIG5leHRQYWdlKX1cbiAgICAgICAgICAgID5sb2FkIHtsb2FkVGhpc01hbnlNb3JlfSBtb3JlPC9MaW5rPilcbiAgICAgIDwvc3Bhbj5cblxuICAgIGlmKHRoaXMuc3RhdGUubG9hZGluZ01vcmUpIHNob3dNb3JlTGluayA9ICcgKOKApmxvYWRpbmcpJ1xuXG4gICAgdmFyIHN1bW1hcnlQcm9wcyA9IHtcbiAgICAgIHNlYXJjaDogdGhpcy5wcm9wcy5kYXRhLnNlYXJjaFJlc3VsdHMsXG4gICAgICBoaXRzOiB0aGlzLnByb3BzLmhpdHMsXG4gICAgICBwYXJhbXM6IHRoaXMucHJvcHMucGFyYW1zLFxuICAgICAgc2hvd0FnZ3M6IHRoaXMucHJvcHMuc2hvd0FnZ3MsXG4gICAgICB0b2dnbGVBZ2dzOiB0aGlzLnByb3BzLnRvZ2dsZUFnZ3MsXG4gICAgICBzaG93TW9yZUxpbmssXG4gICAgICBtYXhSZXN1bHRzOiB0aGlzLm1heFJlc3VsdHMsXG4gICAgICBxdWVyeTogdGhpcy5wcm9wcy5xdWVyeSxcbiAgICAgIC4uLnRoaXMucHJvcHMuc3VtbWFyeVByb3BzXG4gICAgfVxuXG4gICAgdmFyIHt0ZXJtcywgc3BsYXR9ID0gdGhpcy5wcm9wcy5wYXJhbXNcbiAgICB2YXIgc2hvd0ZvY3VzUmVsYXRlZENvbnRlbnQgPSBbdGVybXMsIHNwbGF0XS5qb2luKCcgJykubWF0Y2goL3JlbGF0ZWQvKVxuXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8U2VhcmNoU3VtbWFyeSB7Li4uc3VtbWFyeVByb3BzfT5cbiAgICAgICAgPFNlYXJjaFJlc3VsdFZpZXdUb2dnbGVcbiAgICAgICAgICBjbGljaz17dGhpcy5jaGFuZ2VWaWV3fVxuICAgICAgICAgIGFjdGl2ZVZpZXc9e3RoaXMuc3RhdGUudmlld31cbiAgICAgICAgICB2aWV3cz17W1Jlc3VsdHNMaXN0LCBSZXN1bHRzR3JpZF19XG4gICAgICAgIC8+XG4gICAgICA8L1NlYXJjaFN1bW1hcnk+XG4gICAgICB7dGhpcy5wcm9wcy5zdWdnZXN0aW9uc31cbiAgICAgIDx0aGlzLnN0YXRlLnZpZXdcbiAgICAgICAgbGVmdENvbHVtbldpZHRoPXtsZWZ0Q29sdW1uV2lkdGh9XG4gICAgICAgIGZvY3VzZWRSZXN1bHQ9e2ZvY3VzZWRSZXN1bHR9XG4gICAgICAgIGZvY3VzSGFuZGxlcj17dGhpcy5mb2N1c1Jlc3VsdH1cbiAgICAgICAgc2VhcmNoPXtzZWFyY2h9XG4gICAgICAgIGhpdHM9e3RoaXMucHJvcHMuaGl0c31cbiAgICAgICAgcG9zdFNlYXJjaD17dGhpcy5wb3N0U2VhcmNoKHN1bW1hcnlQcm9wcywgdGhpcy5zdGF0ZS5wb3N0U2VhcmNoT2Zmc2V0KX1cbiAgICAgICAgc21hbGxWaWV3cG9ydD17dGhpcy5jb250ZXh0LnNtYWxsVmlld3BvcnR9XG4gICAgICAgIHNob3dSZWxhdGVkPXtzaG93Rm9jdXNSZWxhdGVkQ29udGVudH1cbiAgICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBmb2N1c1Jlc3VsdChoaXQsIG5leHRWaWV3ID0gZmFsc2UpIHtcbiAgICB2YXIge3NtYWxsVmlld3BvcnR9ID0gdGhpcy5jb250ZXh0XG5cbiAgICBpZihzbWFsbFZpZXdwb3J0ICYmIG5leHRWaWV3KSB7XG4gICAgICB0aGlzLnRyYW5zaXRpb25UbygnYXJ0d29yaycsIHtpZDogaGl0Ll9pZH0pXG4gICAgfSBlbHNlIHtcbiAgICAgICFzbWFsbFZpZXdwb3J0ICYmIG5leHRWaWV3ICYmIHRoaXMuY2hhbmdlVmlldyhuZXh0VmlldylcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2ZvY3VzZWRSZXN1bHQ6IGhpdCA/IGhpdCA6IG51bGx9KVxuICAgIH1cbiAgfSxcblxuICBjaGFuZ2VWaWV3KG5leHQpIHtcbiAgICBuZXh0ICYmIHRoaXMuc2V0U3RhdGUoe3ZpZXc6IG5leHR9KVxuICB9LFxuXG4gIC8vIEhvdyB0byBjb2RlIHRoaXM6IGFmdGVyIHNlZWluZyBhbGwgdGhlIHJlc3VsdHMgKG9uIGEgcGFnZT8pXG4gIC8vIHN1bW1hcml6ZSB0aGVtIGFuZCBnaXZlIHRoZSBjaGFuY2UgdG8gZG8gc29tZXRoaW5nLiBTdWNoIGFzOlxuICAvLyAqIGxvYWQgbW9yZVxuICAvLyAqIGRpZCB5b3UgZmluZCB3aGF0IHlvdSB3ZXJlIGxvb2tpbmcgZm9yPyAoc29saWNpdCBmZWVkYmFjaylcbiAgLy8gKiByZWxhdGVkIHNlYXJjaGVzP1xuICAvL1xuICAvLyBBbHNvIGZ1ZGdlIHRoZSBoZWlnaHQgb2YgdGhpcyBzbyB0aGUgcmlnaHQgY29sdW1uIHNjcm9sbCBkb2Vzbid0IGdldCBjdXQgb2ZmLlxuICBwb3N0U2VhcmNoKHtoaXRzLCBzZWFyY2gsIHNob3dNb3JlTGlua30sIHBvc3RTZWFyY2hPZmZzZXQpIHtcbiAgICB2YXIgc2hvd2luZ0FsbCA9IGhpdHMubGVuZ3RoID09IHNlYXJjaC5oaXRzLnRvdGFsIHx8IGhpdHMubGVuZ3RoID49IHRoaXMubWF4UmVzdWx0c1xuXG4gICAgY29uc3Qgc3R5bGUgPSB7XG4gICAgICBtYXJnaW5Ub3A6ICcxZW0nLFxuICAgICAgcGFkZGluZzogJzFlbScsXG4gICAgICBib3JkZXJUb3A6ICcxZW0gc29saWQgIzIzMjMyMycsXG4gICAgICBtaW5IZWlnaHQ6IE1hdGgubWF4KDUwLCB0aGlzLnN0YXRlLm1pbkhlaWdodCAtIHBvc3RTZWFyY2hPZmZzZXQpXG4gICAgfVxuXG4gICAgcmV0dXJuIDxkaXYgcmVmPVwicG9zdFNlYXJjaFwiIHN0eWxlPXtzdHlsZX0+XG4gICAgICBzaG93aW5nIHtoaXRzLmxlbmd0aH0geycgJ31cbiAgICAgIHtzaG93aW5nQWxsIHx8IDxzcGFuPm9mIHtzZWFyY2guaGl0cy50b3RhbH0geycgJ308L3NwYW4+fVxuICAgICAgcmVzdWx0cyBtYXRjaGluZyA8Y29kZT57c2VhcmNoLnF1ZXJ5fTwvY29kZT5cbiAgICAgIHtzZWFyY2guZmlsdGVycyAmJiA8c3Bhbj4gYW5kIDxjb2RlPntzZWFyY2guZmlsdGVyc308L2NvZGU+PC9zcGFuPn1cbiAgICAgIHtzaG93aW5nQWxsIHx8IHNob3dNb3JlTGlua31cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICB2YXIgZG9tTm9kZSA9IHRoaXMucmVmcy5wb3N0U2VhcmNoICYmIFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmcy5wb3N0U2VhcmNoKVxuICAgIHZhciBvZmZzZXQgPSBkb21Ob2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcFxuICAgIGlmKGRvbU5vZGUgJiYgb2Zmc2V0ICE9IHByZXZTdGF0ZS5wb3N0U2VhcmNoT2Zmc2V0KSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtwb3N0U2VhcmNoT2Zmc2V0OiBvZmZzZXQgfHwgMH0pXG4gICAgfVxuXG4gICAgaWYodGhpcy5wcm9wcy5xdWVyeS5zaXplID09IHRoaXMuc3RhdGUubG9hZGluZ01vcmUpIHRoaXMuc2V0U3RhdGUoe2xvYWRpbmdNb3JlOiBmYWxzZX0pXG4gIH0sXG5cbiAgb25IZWlnaHRDaGFuZ2UobmV3SGVpZ2h0KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7bWluSGVpZ2h0OiBuZXdIZWlnaHR9KVxuICB9LFxuXG4gIGdldENoaWxkQ29udGV4dCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb25IZWlnaHRDaGFuZ2U6IHRoaXMub25IZWlnaHRDaGFuZ2UsXG4gICAgfVxuICB9LFxufSlcblNlYXJjaFJlc3VsdHMuY2hpbGRDb250ZXh0VHlwZXMgPSB7b25IZWlnaHRDaGFuZ2U6IFJlYWN0LlByb3BUeXBlcy5mdW5jfVxuU2VhcmNoUmVzdWx0cy5jb250ZXh0VHlwZXMgPSB7XG4gIHJvdXRlcjogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIHVuaXZlcnNhbDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIHNtYWxsVmlld3BvcnQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNlYXJjaFJlc3VsdHNcblxudmFyIFNlYXJjaFJlc3VsdFZpZXdUb2dnbGUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIge3ZpZXdzLCBjbGljaywgYWN0aXZlVmlld30gPSB0aGlzLnByb3BzXG5cbiAgICB2YXIgdG9nZ2xlcyA9IHZpZXdzLm1hcCgocikgPT4ge1xuICAgICAgdmFyIG5hbWUgPSByLmRpc3BsYXlOYW1lLnJlcGxhY2UoJ1NlYXJjaFJlc3VsdHMnLCAnJylcbiAgICAgIHZhciBhY3RpdmVTdHlsZSA9IGFjdGl2ZVZpZXcgPT09IHIgJiYge1xuICAgICAgICBjb2xvcjogJyMyMjInLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd3aGl0ZScsXG4gICAgICAgIGJvcmRlclJhZGl1czogNSxcbiAgICAgICAgbWFyZ2luOiAnMCA1cHgnLFxuICAgICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICAgIH0gfHwge31cbiAgICAgIHJldHVybiA8c3BhbiBrZXk9e25hbWV9IG9uQ2xpY2s9e3RoaXMudG9nZ2xlVmlldy5iaW5kKHRoaXMsIHIpfSBzdHlsZT17YWN0aXZlU3R5bGV9PjxpIGNsYXNzTmFtZT17bmFtZX0+PC9pPjwvc3Bhbj5cbiAgICB9KVxuXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibWRsLWNlbGwgbWRsLWNlbGwtLTItY29sIHZpZXdzXCI+e3RvZ2dsZXN9PC9kaXY+XG4gIH0sXG5cbiAgdG9nZ2xlVmlldyh2aWV3KSB7XG4gICAgdGhpcy5wcm9wcy5jbGljayh2aWV3KVxuICB9LFxufSlcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/search-results.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/search-results.js",
      "sourcesContent": [
        "var React = require('react')\nvar ReactDOM = require('react-dom')\nvar Router = require('react-router')\nvar {Link} = require('react-router')\nvar rest = require('rest')\n\nvar SEARCH = require('./endpoints').search\nvar SearchSummary = require('./search-summary')\nvar ResultsList = require('./search-results/list')\nvar ResultsGrid = require('./search-results/grid')\n\nvar SearchResults = React.createClass({\n  mixins: [Router.State, Router.Navigation],\n\n  statics: {\n    fetchData: {\n      searchResults: (params, query) => {\n        var size = query && query.size || 100\n        var sort = query && query.sort\n        const filters = params.splat\n        const properlyCodedFilters = encodeURIComponent(decodeURIComponent(filters)) // yuck\n        let searchUrl = `${SEARCH}/${params.terms}?size=${size}`\n        if(sort) searchUrl += `&sort=${sort}`\n        if(filters) searchUrl += `&filters=${properlyCodedFilters}`\n        if(window && window.enteredViaMore) searchUrl += `&tag=more`\n        return rest(searchUrl).then((r) => JSON.parse(r.entity))\n      }\n    }\n  },\n\n  getInitialState() {\n    var focus = window.clickedArtwork || this.props.hits[0]\n    setTimeout(() => window.clickedArtwork = null)\n    var {smallViewport} = this.context\n\n    var {view, preview: showPreview} = this.props.query\n    var initialView = (view && view == 'list' || smallViewport || this.context.universal) ?\n      ResultsList :\n      ResultsGrid\n    var showPreview = showPreview == \"false\" ? false : true\n\n    return {\n      focusedResult: showPreview && focus && focus,\n      view: initialView,\n    }\n  },\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return this.props.data.searchResults != nextProps.data.searchResults ||\n      this.props.hits != nextProps.hits ||\n      this.props.completions !== nextProps.completions ||\n      this.props.query.sort !== nextProps.query.sort ||\n      this.state !== nextState\n  },\n\n  componentWillReceiveProps(nextProps) {\n    var focused = window.clickedArtwork || this.state && this.state.focusedResult || nextProps.hits[0]\n    this.focusResult(focused)\n    if(window.clickedArtwork) window.clickedArtwork = null\n  },\n\n  maxResults: 5000,\n\n  triggerLoad(nextPage) {\n    this.setState({loadingMore: nextPage})\n  },\n\n  render() {\n    var search = this.props.data.searchResults\n    var {focusedResult} = this.state\n    var leftColumnWidth = '35%'\n    var {smallViewport} = this.context\n    var unloadedResults = search.hits.total - this.props.hits.length\n    var loadThisManyMore = Math.min(200, unloadedResults)\n    var nextPage = Math.min(this.maxResults, this.props.hits.length+loadThisManyMore)\n    var showMoreLink = search &&\n      <span>.&nbsp;(<Link to={search.filters ? 'filteredSearchResults' : 'searchResults'}\n             params={{terms: search.query, splat: search.filters}}\n             query={{size: nextPage, ...this.props.query}}\n             onClick={this.triggerLoad.bind(this, nextPage)}\n            >load {loadThisManyMore} more</Link>)\n      </span>\n\n    if(this.state.loadingMore) showMoreLink = ' (…loading)'\n\n    var summaryProps = {\n      search: this.props.data.searchResults,\n      hits: this.props.hits,\n      params: this.props.params,\n      showAggs: this.props.showAggs,\n      toggleAggs: this.props.toggleAggs,\n      showMoreLink,\n      maxResults: this.maxResults,\n      query: this.props.query,\n      ...this.props.summaryProps\n    }\n\n    var {terms, splat} = this.props.params\n    var showFocusRelatedContent = [terms, splat].join(' ').match(/related/)\n\n    return <div>\n      <SearchSummary {...summaryProps}>\n        <SearchResultViewToggle\n          click={this.changeView}\n          activeView={this.state.view}\n          views={[ResultsList, ResultsGrid]}\n        />\n      </SearchSummary>\n      {this.props.suggestions}\n      <this.state.view\n        leftColumnWidth={leftColumnWidth}\n        focusedResult={focusedResult}\n        focusHandler={this.focusResult}\n        search={search}\n        hits={this.props.hits}\n        postSearch={this.postSearch(summaryProps, this.state.postSearchOffset)}\n        smallViewport={this.context.smallViewport}\n        showRelated={showFocusRelatedContent}\n        />\n    </div>\n  },\n\n  focusResult(hit, nextView = false) {\n    var {smallViewport} = this.context\n\n    if(smallViewport && nextView) {\n      this.transitionTo('artwork', {id: hit._id})\n    } else {\n      !smallViewport && nextView && this.changeView(nextView)\n      this.setState({focusedResult: hit ? hit : null})\n    }\n  },\n\n  changeView(next) {\n    next && this.setState({view: next})\n  },\n\n  // How to code this: after seeing all the results (on a page?)\n  // summarize them and give the chance to do something. Such as:\n  // * load more\n  // * did you find what you were looking for? (solicit feedback)\n  // * related searches?\n  //\n  // Also fudge the height of this so the right column scroll doesn't get cut off.\n  postSearch({hits, search, showMoreLink}, postSearchOffset) {\n    var showingAll = hits.length == search.hits.total || hits.length >= this.maxResults\n\n    const style = {\n      marginTop: '1em',\n      padding: '1em',\n      borderTop: '1em solid #232323',\n      minHeight: Math.max(50, this.state.minHeight - postSearchOffset)\n    }\n\n    return <div ref=\"postSearch\" style={style}>\n      showing {hits.length} {' '}\n      {showingAll || <span>of {search.hits.total} {' '}</span>}\n      results matching <code>{search.query}</code>\n      {search.filters && <span> and <code>{search.filters}</code></span>}\n      {showingAll || showMoreLink}\n    </div>\n  },\n\n  componentDidUpdate(prevProps, prevState) {\n    var domNode = this.refs.postSearch && ReactDOM.findDOMNode(this.refs.postSearch)\n    var offset = domNode.getBoundingClientRect().top\n    if(domNode && offset != prevState.postSearchOffset) {\n      this.setState({postSearchOffset: offset || 0})\n    }\n\n    if(this.props.query.size == this.state.loadingMore) this.setState({loadingMore: false})\n  },\n\n  onHeightChange(newHeight) {\n    this.setState({minHeight: newHeight})\n  },\n\n  getChildContext() {\n    return {\n      onHeightChange: this.onHeightChange,\n    }\n  },\n})\nSearchResults.childContextTypes = {onHeightChange: React.PropTypes.func}\nSearchResults.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n  smallViewport: React.PropTypes.bool,\n}\n\nmodule.exports = SearchResults\n\nvar SearchResultViewToggle = React.createClass({\n  render() {\n    var {views, click, activeView} = this.props\n\n    var toggles = views.map((r) => {\n      var name = r.displayName.replace('SearchResults', '')\n      var activeStyle = activeView === r && {\n        color: '#222',\n        backgroundColor: 'white',\n        borderRadius: 5,\n        margin: '0 5px',\n        display: 'inline-block',\n      } || {}\n      return <span key={name} onClick={this.toggleView.bind(this, r)} style={activeStyle}><i className={name}></i></span>\n    })\n\n    return <div className=\"mdl-cell mdl-cell--2-col views\">{toggles}</div>\n  },\n\n  toggleView(view) {\n    this.props.click(view)\n  },\n})\n"
      ]
    },
    "mtime": 1488248774578
  },
  "{\"filename\":\"/var/www/art/src/search-summary.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Helmet = require('react-helmet');\n\nvar Decorate = require('./decorate');\nvar Aggregations = require('./aggregations');\nvar searchLanguageMap = require('./search-language');\n\nvar SearchSummary = React.createClass({\n  displayName: 'SearchSummary',\n\n  render: function render() {\n    var search = this.props.search;\n    if (!search || !search.hits) return React.createElement('div', null);\n    var hits = this.props.hits;\n    var results = this.props.results;\n    var showAggs = this.props.showAggs;\n\n    // only allow opening the filters box when\n    // 1. there's more than 1 result\n    // 2. there are filters applied that could be reducing the results to 0\n    var toggleAggs = (hits.length > 1 || search.filters && search.filters.length > 0) && React.createElement(\n      'span',\n      { className: 'filter-button' },\n      React.createElement(\n        'a',\n        { onClick: this.toggleAggs, style: { cursor: 'pointer' } },\n        showAggs ? 'hide filters' : 'filter search'\n      )\n    );\n\n    var showingAll = hits.length == search.hits.total || hits.length >= this.props.maxResults;\n\n    var smallViewport = this.context.smallViewport;\n\n    var toolbarClasses = \"summaryText mdl-cell \" + (smallViewport ? \"mdl-cell--4-col\" : \"mdl-cell--8-col mdl-cell--4-col-tablet\");\n\n    var pretty = {\n      query: searchLanguageMap(search.query),\n      filters: searchLanguageMap(search.filters)\n    };\n    pretty['searchString'] = [pretty.query, pretty.filters].filter(function (string) {\n      return !!string && string !== '*' && string !== 'undefined';\n    }).join(', ');\n\n    var sort = this.props.query.sort;\n\n    var humanizeSnakeCase = function humanizeSnakeCase(s) {\n      return ('_' + s).replace(/_(.?)/g, function (_, x) {\n        return ' ' + x.toUpperCase();\n      }).trim();\n    };\n\n    return React.createElement(\n      'div',\n      { className: 'agg-wrap' },\n      React.createElement(\n        'div',\n        { className: 'toolbar mdl-grid' },\n        this.props.children,\n        React.createElement(\n          'div',\n          { className: toolbarClasses },\n          React.createElement(\n            'h2',\n            { onClick: this.toggleContent },\n            'showing ',\n            hits.length,\n            ' ',\n            ' ',\n            showingAll || React.createElement(\n              'span',\n              null,\n              'of ',\n              search.hits.total,\n              ' ',\n              ' '\n            ),\n            'results matching ',\n            React.createElement(\n              'code',\n              null,\n              pretty.query\n            ),\n            search.filters && React.createElement(\n              'span',\n              null,\n              ' and ',\n              React.createElement(\n                'code',\n                null,\n                decodeURIComponent(pretty.filters)\n              )\n            ),\n            sort && React.createElement(\n              'span',\n              null,\n              ' sorted by ',\n              humanizeSnakeCase(sort.replace(/(-|\\.).*/, ''))\n            ),\n            showingAll || this.props.showMoreLink\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'mdl-cell mdl-cell--2-col' },\n          toggleAggs\n        )\n      ),\n      showAggs && React.createElement(Aggregations, _extends({ search: search }, this.props)),\n      React.createElement(Decorate, _extends({ search: search, params: this.props.params }, this.props)),\n      React.createElement(Helmet, {\n        title: '🔎 ' + pretty.searchString,\n        meta: [{ property: \"robots\", content: \"noindex\" }, { property: \"og:title\", content: pretty.searchString + ' | Minneapolis Institute of Art' }]\n      })\n    );\n  },\n\n  toggleAggs: function toggleAggs() {\n    this.props.toggleAggs();\n  }\n});\nSearchSummary.contextTypes = {\n  smallViewport: React.PropTypes.bool\n};\n\nmodule.exports = SearchSummary;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvc2VhcmNoLXN1bW1hcnkuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUM1QixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7O0FBRXBDLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTtBQUNwQyxJQUFJLFlBQVksR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQTtBQUM1QyxJQUFJLGlCQUFpQixHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFBOztBQUVwRCxJQUFNLGFBQWEsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDdEMsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsUUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUE7QUFDaEMsUUFBRyxDQUFDLE1BQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsT0FBTyxnQ0FBTyxDQUFBO0FBQzFDLFFBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFBO0FBQzVCLFFBQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFBO1FBQzNCLFFBQVEsR0FBSSxJQUFJLENBQUMsS0FBSyxDQUF0QixRQUFROzs7OztBQUtmLFFBQU0sVUFBVSxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksTUFBTSxDQUFDLE9BQU8sSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUEsSUFBSzs7UUFBTSxTQUFTLEVBQUMsZUFBZTtNQUNwSDs7VUFBRyxPQUFPLEVBQUUsSUFBSSxDQUFDLFVBQVUsQUFBQyxFQUFDLEtBQUssRUFBRSxFQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUMsQUFBQztRQUFFLFFBQVEsR0FBRyxj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QUFFRCxZQUFVLEVBQUEsc0JBQUc7QUFDWCxRQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRSxDQUFBO0dBQ3hCO0NBQ0YsQ0FBQyxDQUFBO0FBQ0YsYUFBYSxDQUFDLFlBQVksR0FBRztBQUMzQixlQUFhLEVBQUUsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJO0NBQ3BDLENBQUE7O0FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRyxhQUFhLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9zZWFyY2gtc3VtbWFyeS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxuXG52YXIgRGVjb3JhdGUgPSByZXF1aXJlKCcuL2RlY29yYXRlJylcbnZhciBBZ2dyZWdhdGlvbnMgPSByZXF1aXJlKCcuL2FnZ3JlZ2F0aW9ucycpXG52YXIgc2VhcmNoTGFuZ3VhZ2VNYXAgPSByZXF1aXJlKCcuL3NlYXJjaC1sYW5ndWFnZScpXG5cbmNvbnN0IFNlYXJjaFN1bW1hcnkgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBzZWFyY2ggPSB0aGlzLnByb3BzLnNlYXJjaFxuICAgIGlmKCFzZWFyY2ggfHwgIXNlYXJjaC5oaXRzKSByZXR1cm4gPGRpdiAvPlxuICAgIGNvbnN0IGhpdHMgPSB0aGlzLnByb3BzLmhpdHNcbiAgICBjb25zdCByZXN1bHRzID0gdGhpcy5wcm9wcy5yZXN1bHRzXG4gICAgY29uc3Qge3Nob3dBZ2dzfSA9IHRoaXMucHJvcHNcblxuICAgIC8vIG9ubHkgYWxsb3cgb3BlbmluZyB0aGUgZmlsdGVycyBib3ggd2hlblxuICAgIC8vIDEuIHRoZXJlJ3MgbW9yZSB0aGFuIDEgcmVzdWx0XG4gICAgLy8gMi4gdGhlcmUgYXJlIGZpbHRlcnMgYXBwbGllZCB0aGF0IGNvdWxkIGJlIHJlZHVjaW5nIHRoZSByZXN1bHRzIHRvIDBcbiAgICBjb25zdCB0b2dnbGVBZ2dzID0gKGhpdHMubGVuZ3RoID4gMSB8fCBzZWFyY2guZmlsdGVycyAmJiBzZWFyY2guZmlsdGVycy5sZW5ndGggPiAwKSAmJiA8c3BhbiBjbGFzc05hbWU9XCJmaWx0ZXItYnV0dG9uXCI+XG4gICAgICA8YSBvbkNsaWNrPXt0aGlzLnRvZ2dsZUFnZ3N9IHN0eWxlPXt7Y3Vyc29yOiAncG9pbnRlcid9fT57c2hvd0FnZ3MgPyAnaGlkZSBmaWx0ZXJzJyA6ICdmaWx0ZXIgc2VhcmNoJ308L2E+XG4gICAgPC9zcGFuPlxuXG4gICAgY29uc3Qgc2hvd2luZ0FsbCA9IGhpdHMubGVuZ3RoID09IHNlYXJjaC5oaXRzLnRvdGFsIHx8IGhpdHMubGVuZ3RoID49IHRoaXMucHJvcHMubWF4UmVzdWx0c1xuXG4gICAgdmFyIHtzbWFsbFZpZXdwb3J0fSA9IHRoaXMuY29udGV4dFxuICAgIHZhciB0b29sYmFyQ2xhc3NlcyA9IFwic3VtbWFyeVRleHQgbWRsLWNlbGwgXCIgKyAoc21hbGxWaWV3cG9ydCA/XG4gICAgICBcIm1kbC1jZWxsLS00LWNvbFwiIDpcbiAgICAgIFwibWRsLWNlbGwtLTgtY29sIG1kbC1jZWxsLS00LWNvbC10YWJsZXRcIilcblxuICAgIHZhciBwcmV0dHkgPSB7XG4gICAgICBxdWVyeTogc2VhcmNoTGFuZ3VhZ2VNYXAoc2VhcmNoLnF1ZXJ5KSxcbiAgICAgIGZpbHRlcnM6IHNlYXJjaExhbmd1YWdlTWFwKHNlYXJjaC5maWx0ZXJzKSxcbiAgICB9XG4gICAgcHJldHR5WydzZWFyY2hTdHJpbmcnXSA9IFtwcmV0dHkucXVlcnksIHByZXR0eS5maWx0ZXJzXVxuICAgICAgLmZpbHRlcihzdHJpbmcgPT4gISFzdHJpbmcgJiYgc3RyaW5nICE9PSAnKicgJiYgc3RyaW5nICE9PSAndW5kZWZpbmVkJylcbiAgICAgIC5qb2luKCcsICcpXG5cbiAgICB2YXIge3NvcnR9ID0gdGhpcy5wcm9wcy5xdWVyeVxuICAgIHZhciBodW1hbml6ZVNuYWtlQ2FzZSA9IChzKSA9PiBgXyR7c31gXG4gICAgICAucmVwbGFjZSgvXyguPykvZywgKF8sIHgpID0+IGAgJHt4LnRvVXBwZXJDYXNlKCl9YCkudHJpbSgpXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J2FnZy13cmFwJz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b29sYmFyIG1kbC1ncmlkXCI+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17dG9vbGJhckNsYXNzZXN9PjxoMiBvbkNsaWNrPXt0aGlzLnRvZ2dsZUNvbnRlbnR9PlxuICAgICAgICAgIHNob3dpbmcge2hpdHMubGVuZ3RofSB7JyAnfVxuICAgICAgICAgIHtzaG93aW5nQWxsIHx8IDxzcGFuPm9mIHtzZWFyY2guaGl0cy50b3RhbH0geycgJ308L3NwYW4+fVxuICAgICAgICAgIHJlc3VsdHMgbWF0Y2hpbmcgPGNvZGU+e3ByZXR0eS5xdWVyeX08L2NvZGU+XG4gICAgICAgICAge3NlYXJjaC5maWx0ZXJzICYmIDxzcGFuPiBhbmQgPGNvZGU+e2RlY29kZVVSSUNvbXBvbmVudChwcmV0dHkuZmlsdGVycyl9PC9jb2RlPjwvc3Bhbj59XG4gICAgICAgICAge3NvcnQgJiYgPHNwYW4+IHNvcnRlZCBieSB7aHVtYW5pemVTbmFrZUNhc2Uoc29ydC5yZXBsYWNlKC8oLXxcXC4pLiovLCAnJykpfTwvc3Bhbj59XG4gICAgICAgICAge3Nob3dpbmdBbGwgfHwgdGhpcy5wcm9wcy5zaG93TW9yZUxpbmt9XG4gICAgICAgIDwvaDI+PC9kaXY+PGRpdiBjbGFzc05hbWU9XCJtZGwtY2VsbCBtZGwtY2VsbC0tMi1jb2xcIj57dG9nZ2xlQWdnc308L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAge3Nob3dBZ2dzICYmIDxBZ2dyZWdhdGlvbnMgc2VhcmNoPXtzZWFyY2h9IHsuLi50aGlzLnByb3BzfSAvPn1cbiAgICAgICAgPERlY29yYXRlIHNlYXJjaD17c2VhcmNofSBwYXJhbXM9e3RoaXMucHJvcHMucGFyYW1zfSB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgPEhlbG1ldFxuICAgICAgICAgIHRpdGxlPXtg8J+UjiAke3ByZXR0eS5zZWFyY2hTdHJpbmd9YH1cbiAgICAgICAgICBtZXRhPXtbXG4gICAgICAgICAgICB7cHJvcGVydHk6IFwicm9ib3RzXCIsIGNvbnRlbnQ6IFwibm9pbmRleFwifSxcbiAgICAgICAgICAgIHtwcm9wZXJ0eTogXCJvZzp0aXRsZVwiLCBjb250ZW50OiBgJHtwcmV0dHkuc2VhcmNoU3RyaW5nfSB8IE1pbm5lYXBvbGlzIEluc3RpdHV0ZSBvZiBBcnRgfSxcbiAgICAgICAgICBdfVxuICAgICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH0sXG5cbiAgdG9nZ2xlQWdncygpIHtcbiAgICB0aGlzLnByb3BzLnRvZ2dsZUFnZ3MoKVxuICB9LFxufSlcblNlYXJjaFN1bW1hcnkuY29udGV4dFR5cGVzID0ge1xuICBzbWFsbFZpZXdwb3J0OiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTZWFyY2hTdW1tYXJ5XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/search-summary.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/search-summary.js",
      "sourcesContent": [
        "var React = require('react')\nvar Helmet = require('react-helmet')\n\nvar Decorate = require('./decorate')\nvar Aggregations = require('./aggregations')\nvar searchLanguageMap = require('./search-language')\n\nconst SearchSummary = React.createClass({\n  render() {\n    const search = this.props.search\n    if(!search || !search.hits) return <div />\n    const hits = this.props.hits\n    const results = this.props.results\n    const {showAggs} = this.props\n\n    // only allow opening the filters box when\n    // 1. there's more than 1 result\n    // 2. there are filters applied that could be reducing the results to 0\n    const toggleAggs = (hits.length > 1 || search.filters && search.filters.length > 0) && <span className=\"filter-button\">\n      <a onClick={this.toggleAggs} style={{cursor: 'pointer'}}>{showAggs ? 'hide filters' : 'filter search'}</a>\n    </span>\n\n    const showingAll = hits.length == search.hits.total || hits.length >= this.props.maxResults\n\n    var {smallViewport} = this.context\n    var toolbarClasses = \"summaryText mdl-cell \" + (smallViewport ?\n      \"mdl-cell--4-col\" :\n      \"mdl-cell--8-col mdl-cell--4-col-tablet\")\n\n    var pretty = {\n      query: searchLanguageMap(search.query),\n      filters: searchLanguageMap(search.filters),\n    }\n    pretty['searchString'] = [pretty.query, pretty.filters]\n      .filter(string => !!string && string !== '*' && string !== 'undefined')\n      .join(', ')\n\n    var {sort} = this.props.query\n    var humanizeSnakeCase = (s) => `_${s}`\n      .replace(/_(.?)/g, (_, x) => ` ${x.toUpperCase()}`).trim()\n\n    return (\n      <div className='agg-wrap'>\n        <div className=\"toolbar mdl-grid\">\n        {this.props.children}\n        <div className={toolbarClasses}><h2 onClick={this.toggleContent}>\n          showing {hits.length} {' '}\n          {showingAll || <span>of {search.hits.total} {' '}</span>}\n          results matching <code>{pretty.query}</code>\n          {search.filters && <span> and <code>{decodeURIComponent(pretty.filters)}</code></span>}\n          {sort && <span> sorted by {humanizeSnakeCase(sort.replace(/(-|\\.).*/, ''))}</span>}\n          {showingAll || this.props.showMoreLink}\n        </h2></div><div className=\"mdl-cell mdl-cell--2-col\">{toggleAggs}</div>\n        </div>\n\n        {showAggs && <Aggregations search={search} {...this.props} />}\n        <Decorate search={search} params={this.props.params} {...this.props} />\n        <Helmet\n          title={`🔎 ${pretty.searchString}`}\n          meta={[\n            {property: \"robots\", content: \"noindex\"},\n            {property: \"og:title\", content: `${pretty.searchString} | Minneapolis Institute of Art`},\n          ]}\n          />\n      </div>\n    )\n  },\n\n  toggleAggs() {\n    this.props.toggleAggs()\n  },\n})\nSearchSummary.contextTypes = {\n  smallViewport: React.PropTypes.bool,\n}\n\nmodule.exports = SearchSummary\n"
      ]
    },
    "mtime": 1488248774578
  },
  "{\"filename\":\"/var/www/art/src/decorate.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar cx = require('classnames');\n\nvar Markdown = require('./markdown');\n\nvar DepartmentDecorator = require('./decorate/department');\nvar GalleryDecorator = require('./decorate/gallery');\nvar HighlightsDecorator = require('./decorate/highlights');\nvar RecentDecorator = require('./decorate/recent');\nvar RightsDecorator = require('./decorate/rights');\n\nvar Decorate = React.createClass({\n  displayName: 'Decorate',\n\n  render: function render() {\n    var _props$search = this.props.search;\n    var query = _props$search.query;\n    var filters = _props$search.filters;\n\n    if (!query && !filters) return React.createElement('span', null);\n    var decorations = DecorationFinder(query, filters, this.props);\n    var showDecorators = this.state.showDecorators;\n\n    return decorations.length > 0 && React.createElement(\n      'div',\n      {\n        className: cx('decorator-wrap', { closed: !showDecorators }),\n        onClick: !showDecorators && this.toggleDecoration\n      },\n      showDecorators && decorations,\n      React.createElement(\n        'i',\n        { className: 'control material-icons', onClick: this.toggleDecoration },\n        false && 'expand_' + (showDecorators ? 'less' : 'more'),\n        showDecorators ? 'close' : 'info'\n      )\n    );\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      showDecorators: !this.context.smallViewport\n    };\n  },\n\n  toggleDecoration: function toggleDecoration() {\n    this.setState({ showDecorators: !this.state.showDecorators });\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    // unhide decorators when query changes\n    var _props$search2 = this.props.search;\n    var query = _props$search2.query;\n    var filters = _props$search2.filters;\n\n    var nextQuery = nextProps.search.query;\n    var nextFilters = nextProps.search.filters;\n\n    if (query !== nextQuery || filters !== nextFilters) this.setState({ showDecorators: true });\n  }\n});\nDecorate.contextTypes = {\n  smallViewport: React.PropTypes.bool\n};\n\nmodule.exports = Decorate;\n\nvar DecorationFinder = function DecorationFinder(search, filters, props) {\n  var params = props.params;\n\n  var terms = search.match(/\\w+.+|\"(?:\\\\\"|[^\"])+\"/g) || search.split(' ');\n  if (filters) terms = terms.concat(filters.split('\" ').map(function (f) {\n    return f.trim();\n  }));\n\n  var Decor = {\n    \"department:\": function department(term) {\n      return React.createElement(DepartmentDecorator, { department: term, params: params, key: term });\n    },\n    \"g[0-9]{3}a?\": function g093A(gallery) {\n      return React.createElement(GalleryDecorator, _extends({ gallery: gallery[0] }, props, { key: gallery }));\n    },\n    \"Not on View\": function NotOnView(gallery) {\n      return React.createElement(GalleryDecorator, { notOnView: true, key: gallery });\n    },\n    \"highlight:\": function highlight() {\n      return React.createElement(HighlightsDecorator, { key: 'highlight' });\n    },\n    \"recent:\": function recent() {\n      return React.createElement(RecentDecorator, { key: 'recent' });\n    },\n    \"rights:\": function rights(term) {\n      return React.createElement(RightsDecorator, { term: term, params: params, key: term });\n    }\n  };\n\n  var m = Object.keys(Decor).reduce(function (matches, d) {\n    var _m = terms.filter(function (term) {\n      return term.match(new RegExp(d, 'i'));\n    });\n    if (_m.length > 0) matches[d] = _m;\n    return matches;\n  }, {});\n\n  return Object.keys(m).map(function (key) {\n    return Decor[key](m[key]);\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZGVjb3JhdGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUM1QixJQUFJLEVBQUUsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7O0FBRTlCLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTs7QUFFcEMsSUFBSSxtQkFBbUIsR0FBRyxPQUFPLENBQUMsdUJBQXVCLENBQUMsQ0FBQTtBQUMxRCxJQUFJLGdCQUFnQixHQUFHLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFBO0FBQ3BELElBQUksbUJBQW1CLEdBQUcsT0FBTyxDQUFDLHVCQUF1QixDQUFDLENBQUE7QUFDMUQsSUFBSSxlQUFlLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7QUFDbEQsSUFBSSxlQUFlLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7O0FBRWxELElBQUksUUFBUSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUMvQixRQUFNLEVBQUEsa0JBQUc7d0JBQ2dCLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTTtRQUFuQyxLQUFLLGlCQUFMLEtBQUs7UUFBRSxPQUFPLGlCQUFQLE9BQU87O0FBQ25CLFFBQUcsQ0FBQyxLQUFLLElBQUksQ0FBQyxPQUFPLEVBQUUsT0FBTyxpQ0FBUSxDQUFBO0FBQ3RDLFFBQUksV0FBVyxHQUFHLGdCQUFnQixDQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFBO1FBQ3pELGNBQWMsR0FBSSxJQUFJLENBQUMsS0FBSyxDQUE1QixjQUFjOztBQUVuQixXQUFPLFdBQVcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxJQUFJOzs7QUFDL0IsaUJBQVMsRUFBRSxFQUFFLENBQUMsZ0JBQWdCLEVBQUUsRUFBQyxNQUFNLEVBQUUsQ0FBQyxjQUFjLEVBQUMs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UyxFQUFFLGdCQUFDLElBQUk7YUFBSyxvQkFBQyxlQUFlLElBQUMsSUFBSSxFQUFFLElBQUksQUFBQyxFQUFDLE1BQU0sRUFBRSxNQUFNLEFBQUMsRUFBQyxHQUFHLEVBQUUsSUFBSSxBQUFDLEdBQUc7S0FBQTtHQUNoRixDQUFBOztBQUVELE1BQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDLFVBQUMsT0FBTyxFQUFFLENBQUMsRUFBSztBQUNoRCxRQUFJLEVBQUUsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLFVBQUEsSUFBSTthQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxNQUFNLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0tBQUEsQ0FBQyxDQUFBO0FBQzdELFFBQUcsRUFBRSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQTtBQUNqQyxXQUFPLE9BQU8sQ0FBQTtHQUNmLEVBQUUsRUFBRSxDQUFDLENBQUE7O0FBRU4sU0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFBLEdBQUcsRUFBSTtBQUMvQixXQUFPLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQTtHQUMxQixDQUFDLENBQUE7Q0FDSCxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvZGVjb3JhdGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgY3ggPSByZXF1aXJlKCdjbGFzc25hbWVzJylcblxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi9tYXJrZG93bicpXG5cbnZhciBEZXBhcnRtZW50RGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9kZXBhcnRtZW50JylcbnZhciBHYWxsZXJ5RGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9nYWxsZXJ5JylcbnZhciBIaWdobGlnaHRzRGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9oaWdobGlnaHRzJylcbnZhciBSZWNlbnREZWNvcmF0b3IgPSByZXF1aXJlKCcuL2RlY29yYXRlL3JlY2VudCcpXG52YXIgUmlnaHRzRGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9yaWdodHMnKVxuXG52YXIgRGVjb3JhdGUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIge3F1ZXJ5LCBmaWx0ZXJzfSA9IHRoaXMucHJvcHMuc2VhcmNoXG4gICAgaWYoIXF1ZXJ5ICYmICFmaWx0ZXJzKSByZXR1cm4gPHNwYW4gLz5cbiAgICB2YXIgZGVjb3JhdGlvbnMgPSBEZWNvcmF0aW9uRmluZGVyKHF1ZXJ5LCBmaWx0ZXJzLCB0aGlzLnByb3BzKVxuICAgIHZhciB7c2hvd0RlY29yYXRvcnN9ID0gdGhpcy5zdGF0ZVxuXG4gICAgcmV0dXJuIGRlY29yYXRpb25zLmxlbmd0aCA+IDAgJiYgPGRpdlxuICAgICAgY2xhc3NOYW1lPXtjeCgnZGVjb3JhdG9yLXdyYXAnLCB7Y2xvc2VkOiAhc2hvd0RlY29yYXRvcnN9KX1cbiAgICAgIG9uQ2xpY2s9eyFzaG93RGVjb3JhdG9ycyAmJiB0aGlzLnRvZ2dsZURlY29yYXRpb259XG4gICAgPlxuICAgICAge3Nob3dEZWNvcmF0b3JzICYmIGRlY29yYXRpb25zfVxuICAgICAgPGkgY2xhc3NOYW1lPVwiY29udHJvbCBtYXRlcmlhbC1pY29uc1wiIG9uQ2xpY2s9e3RoaXMudG9nZ2xlRGVjb3JhdGlvbn0+XG4gICAgICAgIHtmYWxzZSAmJiAnZXhwYW5kXycrKHNob3dEZWNvcmF0b3JzID8gJ2xlc3MnIDogJ21vcmUnKX1cbiAgICAgICAge3Nob3dEZWNvcmF0b3JzID8gJ2Nsb3NlJyA6ICdpbmZvJ31cbiAgICAgIDwvaT5cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNob3dEZWNvcmF0b3JzOiAhdGhpcy5jb250ZXh0LnNtYWxsVmlld3BvcnQsXG4gICAgfVxuICB9LFxuXG4gIHRvZ2dsZURlY29yYXRpb24oKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7c2hvd0RlY29yYXRvcnM6ICF0aGlzLnN0YXRlLnNob3dEZWNvcmF0b3JzfSlcbiAgfSxcblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIC8vIHVuaGlkZSBkZWNvcmF0b3JzIHdoZW4gcXVlcnkgY2hhbmdlc1xuICAgIHZhciB7cXVlcnksIGZpbHRlcnN9ID0gdGhpcy5wcm9wcy5zZWFyY2hcbiAgICB2YXIgbmV4dFF1ZXJ5ID0gbmV4dFByb3BzLnNlYXJjaC5xdWVyeVxuICAgIHZhciBuZXh0RmlsdGVycyA9IG5leHRQcm9wcy5zZWFyY2guZmlsdGVyc1xuXG4gICAgaWYocXVlcnkgIT09IG5leHRRdWVyeSB8fCBmaWx0ZXJzICE9PSBuZXh0RmlsdGVycykgdGhpcy5zZXRTdGF0ZSh7c2hvd0RlY29yYXRvcnM6IHRydWV9KVxuICB9LFxufSlcbkRlY29yYXRlLmNvbnRleHRUeXBlcyA9IHtcbiAgc21hbGxWaWV3cG9ydDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG59XG5cbm1vZHVsZS5leHBvcnRzID0gRGVjb3JhdGVcblxudmFyIERlY29yYXRpb25GaW5kZXIgPSAoc2VhcmNoLCBmaWx0ZXJzLCBwcm9wcykgPT4ge1xuICBsZXQge3BhcmFtc30gPSBwcm9wc1xuICBsZXQgdGVybXMgPSBzZWFyY2gubWF0Y2goL1xcdysuK3xcIig/OlxcXFxcInxbXlwiXSkrXCIvZykgfHwgc2VhcmNoLnNwbGl0KCcgJylcbiAgaWYoZmlsdGVycykgdGVybXMgPSB0ZXJtcy5jb25jYXQoZmlsdGVycy5zcGxpdCgnXCIgJykubWFwKGYgPT4gZi50cmltKCkpKVxuXG4gIHZhciBEZWNvciA9IHtcbiAgICBcImRlcGFydG1lbnQ6XCI6ICh0ZXJtKSA9PiA8RGVwYXJ0bWVudERlY29yYXRvciBkZXBhcnRtZW50PXt0ZXJtfSBwYXJhbXM9e3BhcmFtc30ga2V5PXt0ZXJtfSAvPixcbiAgICBcImdbMC05XXszfWE/XCI6IChnYWxsZXJ5KSA9PiA8R2FsbGVyeURlY29yYXRvciBnYWxsZXJ5PXtnYWxsZXJ5WzBdfSB7Li4ucHJvcHN9IGtleT17Z2FsbGVyeX0gLz4sXG4gICAgXCJOb3Qgb24gVmlld1wiOiAoZ2FsbGVyeSkgPT4gPEdhbGxlcnlEZWNvcmF0b3Igbm90T25WaWV3PXt0cnVlfSBrZXk9e2dhbGxlcnl9IC8+LFxuICAgIFwiaGlnaGxpZ2h0OlwiOiAoKSA9PiA8SGlnaGxpZ2h0c0RlY29yYXRvciBrZXk9XCJoaWdobGlnaHRcIiAvPixcbiAgICBcInJlY2VudDpcIjogKCkgPT4gPFJlY2VudERlY29yYXRvciBrZXk9XCJyZWNlbnRcIiAvPixcbiAgICBcInJpZ2h0czpcIjogKHRlcm0pID0+IDxSaWdodHNEZWNvcmF0b3IgdGVybT17dGVybX0gcGFyYW1zPXtwYXJhbXN9IGtleT17dGVybX0gLz4sXG4gIH1cblxuICBsZXQgbSA9IE9iamVjdC5rZXlzKERlY29yKS5yZWR1Y2UoKG1hdGNoZXMsIGQpID0+IHtcbiAgICB2YXIgX20gPSB0ZXJtcy5maWx0ZXIodGVybSA9PiB0ZXJtLm1hdGNoKG5ldyBSZWdFeHAoZCwgJ2knKSkpXG4gICAgaWYoX20ubGVuZ3RoID4gMCkgbWF0Y2hlc1tkXSA9IF9tXG4gICAgcmV0dXJuIG1hdGNoZXNcbiAgfSwge30pXG5cbiAgcmV0dXJuIE9iamVjdC5rZXlzKG0pLm1hcChrZXkgPT4ge1xuICAgIHJldHVybiBEZWNvcltrZXldKG1ba2V5XSlcbiAgfSlcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/decorate.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/decorate.js",
      "sourcesContent": [
        "var React = require('react')\nvar cx = require('classnames')\n\nvar Markdown = require('./markdown')\n\nvar DepartmentDecorator = require('./decorate/department')\nvar GalleryDecorator = require('./decorate/gallery')\nvar HighlightsDecorator = require('./decorate/highlights')\nvar RecentDecorator = require('./decorate/recent')\nvar RightsDecorator = require('./decorate/rights')\n\nvar Decorate = React.createClass({\n  render() {\n    var {query, filters} = this.props.search\n    if(!query && !filters) return <span />\n    var decorations = DecorationFinder(query, filters, this.props)\n    var {showDecorators} = this.state\n\n    return decorations.length > 0 && <div\n      className={cx('decorator-wrap', {closed: !showDecorators})}\n      onClick={!showDecorators && this.toggleDecoration}\n    >\n      {showDecorators && decorations}\n      <i className=\"control material-icons\" onClick={this.toggleDecoration}>\n        {false && 'expand_'+(showDecorators ? 'less' : 'more')}\n        {showDecorators ? 'close' : 'info'}\n      </i>\n    </div>\n  },\n\n  getInitialState() {\n    return {\n      showDecorators: !this.context.smallViewport,\n    }\n  },\n\n  toggleDecoration() {\n    this.setState({showDecorators: !this.state.showDecorators})\n  },\n\n  componentWillReceiveProps(nextProps) {\n    // unhide decorators when query changes\n    var {query, filters} = this.props.search\n    var nextQuery = nextProps.search.query\n    var nextFilters = nextProps.search.filters\n\n    if(query !== nextQuery || filters !== nextFilters) this.setState({showDecorators: true})\n  },\n})\nDecorate.contextTypes = {\n  smallViewport: React.PropTypes.bool,\n}\n\nmodule.exports = Decorate\n\nvar DecorationFinder = (search, filters, props) => {\n  let {params} = props\n  let terms = search.match(/\\w+.+|\"(?:\\\\\"|[^\"])+\"/g) || search.split(' ')\n  if(filters) terms = terms.concat(filters.split('\" ').map(f => f.trim()))\n\n  var Decor = {\n    \"department:\": (term) => <DepartmentDecorator department={term} params={params} key={term} />,\n    \"g[0-9]{3}a?\": (gallery) => <GalleryDecorator gallery={gallery[0]} {...props} key={gallery} />,\n    \"Not on View\": (gallery) => <GalleryDecorator notOnView={true} key={gallery} />,\n    \"highlight:\": () => <HighlightsDecorator key=\"highlight\" />,\n    \"recent:\": () => <RecentDecorator key=\"recent\" />,\n    \"rights:\": (term) => <RightsDecorator term={term} params={params} key={term} />,\n  }\n\n  let m = Object.keys(Decor).reduce((matches, d) => {\n    var _m = terms.filter(term => term.match(new RegExp(d, 'i')))\n    if(_m.length > 0) matches[d] = _m\n    return matches\n  }, {})\n\n  return Object.keys(m).map(key => {\n    return Decor[key](m[key])\n  })\n}\n"
      ]
    },
    "mtime": 1488248774578
  },
  "{\"filename\":\"/var/www/art/src/decorate/department.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "sliced-to-array"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar React = require('react');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar Markdown = require('../markdown');\nvar findDepartment = require('../department-slug');\n\nvar DepartmentDecorator = React.createClass({\n  displayName: 'DepartmentDecorator',\n\n  getInitialState: function getInitialState() {\n    var _getNameAndSelector = this.getNameAndSelector(this.props.department);\n\n    var _getNameAndSelector2 = _slicedToArray(_getNameAndSelector, 3);\n\n    var deptName = _getNameAndSelector2[0];\n    var selector = _getNameAndSelector2[1];\n    var slug = _getNameAndSelector2[2];\n    var departmentInfo = this.props.departmentInfo;\n\n    var info = departmentInfo && departmentInfo.departments[selector];\n\n    return {\n      deptName: deptName,\n      selector: selector,\n      slug: slug,\n      info: info,\n      blurb: info && info.content || DepartmentContent[selector] || 'Sorry, there\\'s no \"' + deptName + '\" department.',\n      expanded: this.props.expanded || !!this.props.params.dept || false\n    };\n  },\n\n  render: function render() {\n    var department = this.props.department;\n    var _state = this.state;\n    var deptName = _state.deptName;\n    var selector = _state.selector;\n    var blurb = _state.blurb;\n    var expanded = _state.expanded;\n\n    var _blurb$split = blurb.split('<hr />');\n\n    var _blurb$split2 = _slicedToArray(_blurb$split, 2);\n\n    var blurbA = _blurb$split2[0];\n    var blurbB = _blurb$split2[1];\n\n    var fullInfo = expanded && this.getFullInfo(blurbB);\n\n    return React.createElement(\n      'div',\n      { className: 'departmentBlurb mdl-grid decorator d-department' },\n      React.createElement(\n        'h2',\n        null,\n        React.createElement(\n          Link,\n          { to: 'department', params: { dept: this.state.slug, terms: department } },\n          React.createElement(\n            'span',\n            { className: 'd-visit' },\n            'Visit '\n          ),\n          this.state.deptName\n        )\n      ),\n      React.createElement(\n        'div',\n        { className: 'mdl-cell mdl-cell--6-col departmentContent' },\n        expanded ? React.createElement(\n          Markdown,\n          { alreadyRendered: true },\n          blurbA\n        ) : this.shortBlurb(),\n        expanded && this.affinityBlurb()\n      ),\n      expanded && fullInfo\n    );\n  },\n\n  getNameAndSelector: function getNameAndSelector(term) {\n    var decodedTerm = decodeURIComponent(term);\n    var deptName = findDepartment(decodedTerm) ? decodedTerm : decodedTerm.match(/department:\"?([^\"]*)\"?/)[1];\n    return findDepartment(deptName);\n  },\n\n  shortBlurb: function shortBlurb() {\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        Markdown,\n        null,\n        this.state.blurb.split('\\n')[0]\n      )\n    );\n  },\n\n  getFullInfo: function getFullInfo(info) {\n    var deptName = this.state.deptName;\n\n    return React.createElement(\n      'div',\n      { className: 'departmentResources mdl-cell mdl-cell--6-col' },\n      React.createElement(\n        'div',\n        null,\n        this.getCurators()\n      ),\n      React.createElement(\n        Markdown,\n        { alreadyRendered: true },\n        info\n      )\n    );\n  },\n\n  getCurators: function getCurators() {\n    var _this = this;\n\n    var curators = this.state.info.curators.map(function (name) {\n      return _this.props.departmentInfo.curators[name];\n    }).filter(function (exists) {\n      return !!exists;\n    }).filter(function (_ref) {\n      var emeritus = _ref.emeritus;\n      return !emeritus;\n    });\n\n    return curators.length > 0 && React.createElement(\n      'div',\n      { id: 'curators' },\n      React.createElement(\n        'h3',\n        null,\n        'Curators'\n      ),\n      curators.map(function (curator) {\n        curator.photo = 'https://collections.artsmia.org/_info/curator-portraits/' + curator.slug + '.jpg';\n\n        return React.createElement(\n          'div',\n          { className: 'curatorBio', key: curator.slug },\n          React.createElement(\n            Link,\n            { to: 'curator', params: { slug: curator.slug } },\n            React.createElement(\n              'div',\n              { className: 'curatorPic' },\n              React.createElement('img', { src: curator.photo, alt: 'portrait of ' + curator.name })\n            ),\n            React.createElement(\n              'div',\n              { className: 'curator-intro' },\n              React.createElement(\n                'h4',\n                null,\n                curator.name\n              ),\n              React.createElement(\n                'h5',\n                null,\n                React.createElement(\n                  Markdown,\n                  null,\n                  curator.title\n                )\n              )\n            )\n          )\n        );\n      })\n    );\n  },\n\n  getAffinity: function getAffinity() {\n    var _this2 = this;\n\n    var affinities = this.props.departmentInfo.affinityGroups.filter(function (ag) {\n      return ag.departments && ag.departments.indexOf(findDepartment(_this2.props.department)[1]) > -1;\n    });\n\n    return affinities.map(function (a) {\n      var image = React.createElement('img', { src: a.featuredArt ? 'http://api.artsMia.org/images/' + a.featuredArt + '/400/medium.jpg' : a.image });\n      image = a.featuredArt ? React.createElement(\n        Link,\n        { to: 'artwork', params: { id: a.featuredArt } },\n        image\n      ) : image;\n\n      return React.createElement(\n        'div',\n        { className: 'affinity', key: a.title },\n        React.createElement(\n          'h3',\n          null,\n          a.title\n        ),\n        React.createElement(\n          'div',\n          { className: 'affinityImage' },\n          image\n        ),\n        React.createElement(\n          'div',\n          { className: 'affinity-intro' },\n          React.createElement(\n            Markdown,\n            { alreadyRendered: true },\n            a.content\n          ),\n          React.createElement(\n            'p',\n            null,\n            'Mia’s Affinity Groups are a great way for museum members to connect more closely with special areas of art interest, allowing you to delve deeper into the curatorial area of your choice.'\n          ),\n          React.createElement(\n            'a',\n            { href: 'http://new.artsmia.org/join-and-invest/affinity-groups/', className: 'button' },\n            'Learn More'\n          )\n        )\n      );\n    });\n  },\n\n  affinityBlurb: function affinityBlurb() {\n    return React.createElement(\n      'div',\n      { className: 'affinity' },\n      React.createElement(\n        'p',\n        null,\n        'Mia’s Affinity Groups are a great way for museum members to connect more closely with special areas of art interest, allowing you to delve deeper into the curatorial area of your choice.'\n      ),\n      React.createElement(\n        'a',\n        { href: 'http://new.artsmia.org/join-and-invest/affinity-groups/', className: 'button' },\n        'Learn More'\n      )\n    );\n  }\n});\n\nvar DepartmentContent = {\n  africa: 'The Arts of Africa and the Americas Department is dedicated to the immense creativity of Native peoples across the world, from prehistory to the present. The collection has grown significantly since the department was founded more than thirty years ago, and now numbers more than 3,000 objects, including masterworks of sculpture, ceramics, metalsmithing, painting, basketry, and bead-, shell-, and quillwork, reflecting the diversity of these regions and cultures.\\r\\n\\r\\nHighlights of African art at the museum include a ceramic portrait head from the ancient civilization of Ife, a thousand-year-old wooden horse-and-rider from Djenne, and a cast bronze leopard and a carved ivory tusk, both from the eighteenth-century Kingdom of Benin. Other important pieces are a rare Luba mask, one of only two known in the world, a dramatic dance mask often known as a “firespitter” from Cote d’Ivoire, and a palace door created by the famed Yoruba artist Areogun of Osi.\\r\\n\\r\\nThe Native American galleries are equally rich in examples of the highest quality art, such as our unparalleled three-thousand-year-old Olmec jade mask, an exceptional nineteenth-century Sun Mask from the Northwest Coast, and a monumental pipe in the form of a bound prisoner, made in southeastern United States around 1200. Additional masterworks include the finely worked gold earspools from the ancient Andes, and a beaded man’s shoulder pouch made in Minnesota in the early 1800s.\\r\\n\\r\\nOur Oceanic collection contains world-class pieces, such as the Maori Poutokomanawa (Post Figure) created in the 1840s, the three fabulous Malagan figures, an early Papuan Gope Board, and the Bis Pole, a centerpiece of the gallery.',\n  contemporary: 'In 2008 the Mia launched an initiative to focus on the art of our times. Through its new Department of Contemporary Art, the museum brings a fresh dynamism to its galleries by collecting and exhibiting works by living artists. This initiative emphasizes the relationships among historical art, diverse cultures, and contemporary art-making.\\r\\n\\r\\nContemporary art of the region continues to be represented by the Minnesota Artists Exhibition Program (MAEP) as well as by selected projects with local artists, architects, designers, and other creative thinkers. In collaboration with other Mia curatorial departments, the Department of Contemporary Art engages both local and global artists to create public and site-specific work at the Mia.',\n  dats: 'Originally established to focus on furniture, metalwork, ceramics, and glass, the department today encompasses more than 18,000 works in all mediums from America and Europe, from the Middle Ages to the present.\\r\\n\\r\\nMany collectors and donors have contributed to the porcelain and pottery collection, which includes eighteenth-century French faience from Mrs. John P. Rutherfurd, seventeenth- and eighteenth-century English delft from Mr. and Mrs. George R. Steiner, and Chinese Export porcelain from Leo and Doris Hodroff. Domestic interiors and furnishings spanning four centuries are presented in the Mia’s nine period rooms, with a 1730 grand salon from the Hôtel de la Bouëxière in Paris, which has been restored with funds from the Groves Foundation.\\r\\n\\r\\nThe department’s textile collection has gained an international reputation for its spectacular individual pieces as well as its impressive holdings of European tapestries, early Italian laces, passementerie, Kashmir shawls, and Turkish embroideries. Textiles from the Jack Lenor Larsen company archive and the Norwest Modernism Collection have broadened the scope of the collection’s twentieth-century holdings, complementing its already strong collection of contemporary fiber art.\\r\\n\\r\\nA particular strength of the Mia’s decorative arts collection includes English, American and Continental silver, which is showcased in the Mary Agnes and Al McQuinn Gallery (350). Mia trustee and silver collector James Ford Bell established the foundation of the museum’s collection with numerous gifts, including a monumental eighteenth-century wine cistern by English Huguenot silversmith Paul de Lamerie and the most complete neoclassical tea service known by Paul Revere, Jr. The McQuinn Fund continues to support purchases of great English and Continental objects such as the Richmond racing cup designed by Robert Adam and an elaborate covered cup made in Strasbourg by Johann Friedrich Baer.\\r\\n\\r\\nSculpture from the Middle Ages to 1960 includes important works by Amedeo Modigliani, Sir Jacob Epstein, John Bernard Flannagan, Constantin Brancusi, Henri Matisse, and Henry Moore. Recent acquisitions in this area include Raymond Duchamp-Villon’s <em>Head of Baudelaire</em> (1911), and Alberto Giacometti’s <em>Diego</em> (196).\\r\\n\\r\\nThe Harold and Mickey Smith Gallery (362) features one of the most comprehensive permanent collections of Jewish ritual art found in an American art museum. Rotations include prints, photographs, and textiles. Purchases of modern and contemporary Judaica are made possible by the Eloise and Elliot Kaplan Fund for Judaica.\\r\\n\\r\\nThe department is strong in modernist design, including the Prairie School-style <em>Purcell-Cutts House</em> (1913), designed by William Gray Purcell and George Grant Elmslie for the Purcell family. In addition, the Mia houses one of the best collections of Prairie School material in the country, presented in the Bob Ulrich and Jill Dahlin Architecture and Design Gallery (355). The Norwest Modernism Collection is a major component of the department’s holdings, comprising nearly 500 objects dating from 1880 to 1940. In recent decades, the department has built up a significant collection of contemporary studio ceramics, glass, and wood. A current focus is design of the Scandinavian and Nordic countries. The Mia continues to showcase these collections at the Wells Fargo Center in downtown Minneapolis. On the Web, they are represented by the award-winning sites <a href=\"http://http//www.artsMia.org/unified-vision/\">Unified Vision: The Architecture and Design of the Prairie School</a> and <a href=\"http://www.artsMia.org/modernism/\">Modernism</a>.',\n  paintings: 'The Mia\\'s internationally acclaimed collection of paintings contains nearly 900 European and American works from the fourteenth century to the present. It offers a comprehensive survey of both celebrated schools and individual artists and is notable for its concentration of masterworks.\\r\\n\\r\\nOne of the museum’s earliest acquisitions was Gustave Courbet’s Deer in a Forest, which St. Paul railroad magnate James J. Hill donated in 1914. Hill’s collection of nineteenth-century French Romantic and Realist art was exceptional. Many of his most important pictures, including Eugène Delacroix’s The Fanatics of Tangier, were given or bequeathed to the Mia by his descendants.\\r\\n\\r\\nThe present paintings collection has been expanded in varied and often delightfully unpredictable ways by a succession of astute trustees, donors, directors, and curators. It includes Claude Lorrain’s Pastoral Landscape of 1638, Nicolas Poussin’s Death of Germanicus of 1627, and Rembrandt van Rijn’s Lucretia of 1666. In addition to many wonderful French nineteenth-century pictures, the museum has rich holdings of Italian Baroque, seventeenth-century Dutch, and Fauve, Cubist, and German Expressionist works. The American collection showcases a range of artistic accomplishments from Gilbert Stuart to Larry Rivers and contains exceptional paintings by John Singer Sargent and Georgia O’Keeffe.',\n  photography: 'Begun in 1973, the Mia’s collection of photographs spans the history of photography from the 1860s to the present. Representing more than 800 photographers and 11,500 works of art, the collection has outstanding examples of twentieth-century American photography, with particular depth in the genres of documentary photography, photojournalism, and pictorialism. Since 2008, the museum has focused on expanding its holdings of contemporary photography and new media from all countries. This initiative increases the scope and relevance of the photography collection and enhances its links to the Mia’s diverse, global holdings.\\r\\n\\r\\nThe Department of Photography &amp; New Media continues to thrive thanks to the active, generous support of loyal donors. The earliest acquisitions were funded by Kate Butler and Hall James Peterson. Their initiative inspired others, including Harry Drake, Martin Weinstein, and Fred and Ellen Wells. More recently, the creation of the Alfred and Ingrid Lenz Harrison Fund and the establishment of the Harrison Photography Galleries (364 &amp; 365) have given the department enormous momentum. These superb new galleries are devoted to presenting the permanent collection. In addition, Linda and Lawrence Perlman established the Perlman Gallery (262), which is dedicated to featuring contemporary photography and is located in the Mia’s Target Wing, hosting <a href=\"http://www2.artsMia.org/blogs/new-pictures\">New Pictures</a>, a semi-annual series highlighting emerging photographers from around the world. You, too, can contribute to and enjoy special access to exhibitions and events by joining the <a href=\"http://new.artsMia.org/join-and-invest/affinity-groups/\">Photography &amp; New Media Affinity Group</a>.\\r\\n\\r\\nOver the years, the Department of Photography &amp; New Media has been committed to using its collection for educational purposes, and the Mia now serves as a major resource for the five-state region. Numerous exhibitions drawn from the collection have traveled to other institutions, and students and teachers frequently visit the galleries and <a href=\"http://new.artsMia.org/visit/museum-facilities/study-rooms/\">Photography Study Room</a> to learn from the collection firsthand. Click on the photograph below to browse the collection and prepare for your next visit to the Mia.',\n  prints: 'The Department of Prints &amp; Drawings keeps up an active program of thematic exhibitions, but it is also the Mia’s hidden treasure chest. At any given time, only a fraction of the museum’s collection of nearly 40,000 prints and 3,000 drawings is on view in the galleries. Nearly all, however, are available to the public in the comfort of the <a href=\"http://new.artsMia.org/visit/study-rooms/\">Herschel V. Jones Print Study Room</a>. To prepare for your visit, please make an appointment by phone (612) 870-3105 or by e-mail (<a href=\"mailto:printstudy@artsMia.org\">printstudy@artsMia.org</a>).\\r\\n\\r\\nMany of the greatest European and American artists from the Renaissance to the present are represented, often in considerable depth and quality. Among the highlights are old master prints by Albrecht Dürer and Rembrandt van Rijn; Jacopo de’Barbari’s amazing bird’s-eye view of Venice; a rare presentation copy of Francisco de Goya’s <em>Los Caprichos</em>; a fabulous monotype by William Blake; extensive holdings in nineteenth-century French and British prints and drawings, featuring artists such as James McNeill Whistler, Edgar Degas, and Félix Buhot; and outstanding twentieth-century drawings by Lovis Corinth, Egon Schiele, Ernst Ludwig Kirchner, Erich Heckel, Piet Mondrian, Georges Rouault, Henri Matisse, Jasper Johns, Andy Warhol, Roy Lichtenstein, Jim Dine, Ed Ruscha, Nicola Hicks, and many more. The department is building its collection of twenty-first-century prints and drawings, which is reaching ever further beyond America and Europe to other parts of the world. P&amp;D has secured works by William Kentridge, Julie Mehretu, Mequitta Ahuja, Jaune Quick-to-See Smith, Chuck Close, Luis Jimenez, Cynthia Lin, Carlos Amorales, Diane Victor, and more.\\r\\n\\r\\nThere are also fascinating collections within the collection. The department has a large number of books designed and illustrated by artists, which is especially rich in works from France. Students of modern printmaking will want to explore the Vermillion Editions Limited Archival Collection, which contains examples of all the prints published by that Twin Cities press as well as preparatory drawings, proofs, and maquettes that led to the finished work. Botanical, zoological, fashion, and ornamental illustrations from the fifteenth through the twentieth centuries all figure in the mix, as does a wide array of works by Minnesota and regional artists.\\r\\n\\r\\nThe <a href=\"http://new.artsMia.org/join-and-invest/affinity-groups/\">Prints &amp; Drawings Affinity Group</a> provides a terrific opportunity to learn more about this vital field of art, to meet others with similar interests, and to help the Mia improve its ability to make art available to the public.',\n  cssaa: 'The Department of Chinese and South and Southeast Asian Art has benefited greatly from generous gifts from knowledgeable collectors. Augustus L. Searle, Alfred F. Pillsbury, Richard P. Gale, Louis W. Hill, Jr., and Ruth and Bruce Dayton have donated collections of international reputation. These include ancient Chinese bronzes, ancient and post-Song jade, Chinese monochrome ceramics, and classical Chinese furniture. In addition, curators have built exquisite collections of Qing dynasty silk textiles and Miao textiles.\\r\\n\\r\\nSome of the first works of art to enter the museum’s collection were from South (India, Bangladesh, Sri Lanka, Pakistan, Nepal, Bhutan, and Afghanistan) and Southeast Asia (Cambodia, Laos, Myanmar, Thailand, Malaysia, Vietnam, Singapore, Indonesia, Brunei and the Philippines), beginning in 1914 when Charles Freer donated several Thai Buddhist sculptures.  In 1929 Sarah Bell Pillsbury Gale gave the museum its first major Indian work of art, a 12th century bronze (ca. 1100) Dancing Shiva (Nataraja).  The highlight of the South Asian collection is a monumental stone Yogini sculpture from 10<span style=\"font-size: 11px;\">th </span>century south India. Today the South Asian collection numbers about 150 objects and the Southeast Asian collection numbers around 183.\\r\\n\\r\\nWithin the galleries there are two Chinese period rooms including an original reception hall from the late Ming dynasty and a ca. 1700 Suzchou-area library.',\n  jka: 'The collection of Japanese and Korean art includes over 7,000 works ranging from ancient to contemporary and is amongst the top five collections in the United States. The permanent display space for Japanese art is the largest in the Western world with 15 galleries and over 10,000 square feet (930 sqm). The collection itself includes Buddhist sculpture, woodblock prints, paintings, lacquer, works of bamboo, and ceramics, and it is particularly rich in works from the Edo period (1610–1868).\\r\\n\\r\\nTwo historic rooms, a formal audience hall (<i>shoin</i>) and a teahouse (<i>chashitsu</i>), allow highly visible installations within the permanent galleries and serve to heighten awareness of the relationship between art and architecture.</p><p>The Department of Japanese and Korean art has benefited greatly from generous gifts from knowledgeable collectors. Richard P. Gale, Louis W. Hill, Jr., Ruth and Bruce Dayton, and Ellen and Fred Wells have all donated specialized collections of international reputation. With the addition of over 1,500 works of art from the collections of Elizabeth and Willard “Bill” Clark and the Clark Center for Japanese Art in 2013 and half of the world-renowned Mary Griggs Burke collection, the Japanese and Korean art galleries are no doubt a destination for both art enthusiasts and scholars alike.</p><p>The department is dedicated to providing the public with a broad overview of Japanese and Korean art. By showcasing art both chronologically and by medium, the galleries show the history of not only the objects themselves, but also of a collected process of artistic creation. This can be seen, for example, by the scope of ceramics, ranging from early utilitarian to contemporary sculptures.</p><p>Of notable strength is the collection of <i>ukiyo-e</i> paintings and prints, popularly known as “pictures of the floating world”. The core of the collection was built by Richard P. Gale and Louis W. Hill, Jr., and the Gale bequest included some 57 paintings and 206 prints, many of which are rare and in admirable condition. A strong collection of <i>Ōtsu-e</i>, folk paintings produced in and around the town of Ōtsu during the Edo period, came from collectors Edson and Harriet Spencer who also donated their collection of tiger paintings.'\n};\n\nmodule.exports = DepartmentDecorator;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZGVjb3JhdGUvZGVwYXJ0bWVudC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBOztlQUNmLE9BQU8sQ0FBQyxjQUFjLENBQUM7O0lBQS9CLElBQUksWUFBSixJQUFJOztBQUVULElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQTtBQUNyQyxJQUFJLGNBQWMsR0FBRyxPQUFPLENBQUMsb0JBQW9CLENBQUMsQ0FBQTs7QUFFbEQsSUFBSSxtQkFBbUIsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDMUMsaUJBQWUsRUFBQSwyQkFBRzs4QkFDaUIsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDOzs7O1FBQTFFLFFBQVE7UUFBRSxRQUFRO1FBQUUsSUFBSTtRQUN4QixjQUFjLEdBQUksSUFBSSxDQUFDLEtBQUssQ0FBNUIsY0FBYzs7QUFDbkIsUUFBSSxJQUFJLEdBQUcsY0FBYyxJQUFJLGNBQWMsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUE7O0FBRWpFLFdBQU87QUFDTCxjQUFRLEVBQVIsUUFBUTtBQUNSLGNBQVEsRUFBUixRQUFRO0FBQ1IsVUFBSSxFQUFKLElBQUk7QUFDSixVQUFJLEVBQUUsSUFBSTtBQUNWLFdBQUssRUFBRSxJQUFJLElBQUksSUFBSSxDQUFDLE9BQU8sSUFBSSxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsNkJBQTBCLFFBQVEsa0JBQWU7QUFDM0csY0FBUSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLElBQUksS0FBSztLQUNuRSxDQUFBO0dBQ0Y7O0FBRUQsUUFBTSxFQUFBLGtCQUFHO1FBQ0YsVUFBVSxHQUFJLElBQUksQ0FBQyxLQUFLLENB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QVcsRUFBQyxBQUFDO1FBQUUsS0FBSztPQUFRLEdBQUcsS0FBSyxDQUFBOztBQUU5RixhQUFPOztVQUFLLFNBQVMsRUFBQyxVQUFVLEVBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxLQUFLLEFBQUM7UUFDNUM7OztVQUFLLENBQUMsQ0FBQyxLQUFLO1NBQU07UUFDbEI7O1lBQUssU0FBUyxFQUFDLGVBQWU7VUFBRSxLQUFLO1NBQU87UUFDNUM7O1lBQUssU0FBUyxFQUFDLGdCQUFnQjtVQUMvQjtBQUFDLG9CQUFRO2NBQUMsZUFBZSxFQUFFLElBQUksQUFBQztZQUFFLENBQUMsQ0FBQyxPQUFPO1dBQVk7VUFDckQ7Ozs7V0FBaU07VUFDak07O2NBQUcsSUFBSSxFQUFDLHlEQUF5RCxFQUFDLFNBQVMsRUFBQyxRQUFROztXQUFlO1NBQy9GO09BQ0YsQ0FBQTtLQUNQLENBQUMsQ0FBQTtHQUNIOztBQUVELGVBQWEsRUFBQSx5QkFBRztBQUNkLFdBQU87O1FBQUssU0FBUyxFQUFDLFVBQVU7TUFDOUI7Ozs7T0FBaU07TUFDak07O1VBQUcsSUFBSSxFQUFDLHlEQUF5RCxFQUFDLFNBQVMsRUFBQyxRQUFROztPQUFlO0tBQy9GLENBQUE7R0FDUDtDQUNGLENBQUMsQ0FBQTs7QUFFRixJQUFJLGlCQUFpQixHQUFHO0FBQ3RCLFFBQU0sa3FEQUFrcUQ7QUFDeHFELGNBQVksMHVCQUEwdUI7QUFDdHZCLE1BQUksNG1IQUFnbkg7QUFDcG5ILFdBQVMseTJDQUF3MkM7QUFDajNDLGFBQVcsd3lFQUE4eUU7QUFDenpFLFFBQU0saXNGQUF1c0Y7QUFDN3NGLE9BQUssNDdDQUE4N0M7QUFDbjhDLEtBQUcsbXZFQUFtdkU7Q0FDdnZFLENBQUE7O0FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRyxtQkFBbUIsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2RlY29yYXRlL2RlcGFydG1lbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIge0xpbmt9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcblxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi4vbWFya2Rvd24nKVxudmFyIGZpbmREZXBhcnRtZW50ID0gcmVxdWlyZSgnLi4vZGVwYXJ0bWVudC1zbHVnJylcblxudmFyIERlcGFydG1lbnREZWNvcmF0b3IgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICB2YXIgW2RlcHROYW1lLCBzZWxlY3Rvciwgc2x1Z10gPSB0aGlzLmdldE5hbWVBbmRTZWxlY3Rvcih0aGlzLnByb3BzLmRlcGFydG1lbnQpXG4gICAgdmFyIHtkZXBhcnRtZW50SW5mb30gPSB0aGlzLnByb3BzXG4gICAgdmFyIGluZm8gPSBkZXBhcnRtZW50SW5mbyAmJiBkZXBhcnRtZW50SW5mby5kZXBhcnRtZW50c1tzZWxlY3Rvcl1cblxuICAgIHJldHVybiB7XG4gICAgICBkZXB0TmFtZSxcbiAgICAgIHNlbGVjdG9yLFxuICAgICAgc2x1ZyxcbiAgICAgIGluZm86IGluZm8sXG4gICAgICBibHVyYjogaW5mbyAmJiBpbmZvLmNvbnRlbnQgfHwgRGVwYXJ0bWVudENvbnRlbnRbc2VsZWN0b3JdIHx8IGBTb3JyeSwgdGhlcmUncyBubyBcIiR7ZGVwdE5hbWV9XCIgZGVwYXJ0bWVudC5gLFxuICAgICAgZXhwYW5kZWQ6IHRoaXMucHJvcHMuZXhwYW5kZWQgfHwgISF0aGlzLnByb3BzLnBhcmFtcy5kZXB0IHx8IGZhbHNlLFxuICAgIH1cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHtkZXBhcnRtZW50fSA9IHRoaXMucHJvcHNcbiAgICB2YXIge2RlcHROYW1lLCBzZWxlY3RvciwgYmx1cmIsIGV4cGFuZGVkfSA9IHRoaXMuc3RhdGVcblxuICAgIHZhciBbYmx1cmJBLCBibHVyYkJdID0gYmx1cmIuc3BsaXQoJzxociAvPicpXG5cbiAgICB2YXIgZnVsbEluZm8gPSBleHBhbmRlZCAmJiB0aGlzLmdldEZ1bGxJbmZvKGJsdXJiQilcblxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImRlcGFydG1lbnRCbHVyYiBtZGwtZ3JpZCBkZWNvcmF0b3IgZC1kZXBhcnRtZW50XCI+XG4gICAgICA8aDI+PExpbmsgdG89J2RlcGFydG1lbnQnIHBhcmFtcz17e2RlcHQ6IHRoaXMuc3RhdGUuc2x1ZywgdGVybXM6IGRlcGFydG1lbnR9fT48c3BhbiBjbGFzc05hbWU9XCJkLXZpc2l0XCI+VmlzaXQgPC9zcGFuPnt0aGlzLnN0YXRlLmRlcHROYW1lfTwvTGluaz48L2gyPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZGwtY2VsbCBtZGwtY2VsbC0tNi1jb2wgZGVwYXJ0bWVudENvbnRlbnRcIj5cbiAgICAgICAge2V4cGFuZGVkID8gPE1hcmtkb3duIGFscmVhZHlSZW5kZXJlZD17dHJ1ZX0+e2JsdXJiQX08L01hcmtkb3duPiA6IHRoaXMuc2hvcnRCbHVyYigpfVxuICAgICAgICB7ZXhwYW5kZWQgJiYgdGhpcy5hZmZpbml0eUJsdXJiKCl9XG4gICAgICA8L2Rpdj5cbiAgICAgIHtleHBhbmRlZCAmJiBmdWxsSW5mb31cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBnZXROYW1lQW5kU2VsZWN0b3IodGVybSkge1xuICAgIHZhciBkZWNvZGVkVGVybSA9IGRlY29kZVVSSUNvbXBvbmVudCh0ZXJtKVxuICAgIHZhciBkZXB0TmFtZSA9IGZpbmREZXBhcnRtZW50KGRlY29kZWRUZXJtKSA/IGRlY29kZWRUZXJtIDogZGVjb2RlZFRlcm0ubWF0Y2goL2RlcGFydG1lbnQ6XCI/KFteXCJdKilcIj8vKVsxXVxuICAgIHJldHVybiBmaW5kRGVwYXJ0bWVudChkZXB0TmFtZSlcbiAgfSxcblxuICBzaG9ydEJsdXJiKCkge1xuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPE1hcmtkb3duPnt0aGlzLnN0YXRlLmJsdXJiLnNwbGl0KCdcXG4nKVswXX08L01hcmtkb3duPlxuICAgIDwvZGl2PlxuICB9LFxuXG4gIGdldEZ1bGxJbmZvKGluZm8pIHtcbiAgICB2YXIge2RlcHROYW1lfSA9IHRoaXMuc3RhdGVcblxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImRlcGFydG1lbnRSZXNvdXJjZXMgbWRsLWNlbGwgbWRsLWNlbGwtLTYtY29sXCI+XG4gICAgICA8ZGl2Pnt0aGlzLmdldEN1cmF0b3JzKCl9PC9kaXY+XG4gICAgICA8TWFya2Rvd24gYWxyZWFkeVJlbmRlcmVkPXt0cnVlfT57aW5mb308L01hcmtkb3duPlxuICAgIDwvZGl2PlxuICB9LFxuXG4gIGdldEN1cmF0b3JzKCkge1xuICAgIHZhciBjdXJhdG9ycyA9IHRoaXMuc3RhdGUuaW5mby5jdXJhdG9yc1xuICAgIC5tYXAobmFtZSA9PiB0aGlzLnByb3BzLmRlcGFydG1lbnRJbmZvLmN1cmF0b3JzW25hbWVdKVxuICAgIC5maWx0ZXIoZXhpc3RzID0+ICEhZXhpc3RzKVxuICAgIC5maWx0ZXIoKHtlbWVyaXR1c30pID0+ICFlbWVyaXR1cylcblxuICAgIHJldHVybiBjdXJhdG9ycy5sZW5ndGggPiAwICYmIDxkaXYgaWQ9XCJjdXJhdG9yc1wiPlxuICAgICAgPGgzPkN1cmF0b3JzPC9oMz5cbiAgICAgIHtjdXJhdG9ycy5tYXAoY3VyYXRvciA9PiB7XG4gICAgICAgIGN1cmF0b3IucGhvdG8gPSBgaHR0cHM6Ly9jb2xsZWN0aW9ucy5hcnRzbWlhLm9yZy9faW5mby9jdXJhdG9yLXBvcnRyYWl0cy8ke2N1cmF0b3Iuc2x1Z30uanBnYFxuXG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImN1cmF0b3JCaW9cIiBrZXk9e2N1cmF0b3Iuc2x1Z30+XG4gICAgICAgICAgPExpbmsgdG89XCJjdXJhdG9yXCIgcGFyYW1zPXt7c2x1ZzpjdXJhdG9yLnNsdWd9fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3VyYXRvclBpY1wiPlxuICAgICAgICAgICAgICA8aW1nIHNyYz17Y3VyYXRvci5waG90b30gYWx0PXtgcG9ydHJhaXQgb2YgJHtjdXJhdG9yLm5hbWV9YH0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdXJhdG9yLWludHJvXCI+XG4gICAgICAgICAgICA8aDQ+e2N1cmF0b3IubmFtZX08L2g0PlxuICAgICAgICAgICAgPGg1PjxNYXJrZG93bj57Y3VyYXRvci50aXRsZX08L01hcmtkb3duPjwvaDU+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L0xpbms+XG4gICAgICAgIDwvZGl2PlxuICAgICAgfSl9XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgZ2V0QWZmaW5pdHkoKSB7XG4gICAgdmFyIGFmZmluaXRpZXMgPSB0aGlzLnByb3BzLmRlcGFydG1lbnRJbmZvLmFmZmluaXR5R3JvdXBzXG4gICAgLmZpbHRlcihhZyA9PiBhZy5kZXBhcnRtZW50cyAmJiBhZy5kZXBhcnRtZW50cy5pbmRleE9mKGZpbmREZXBhcnRtZW50KHRoaXMucHJvcHMuZGVwYXJ0bWVudClbMV0pID4gLTEpXG5cbiAgICByZXR1cm4gYWZmaW5pdGllcy5tYXAoYSA9PiB7XG4gICAgICB2YXIgaW1hZ2UgPSA8aW1nIHNyYz17YS5mZWF0dXJlZEFydCA/IGBodHRwOi8vYXBpLmFydHNNaWEub3JnL2ltYWdlcy8ke2EuZmVhdHVyZWRBcnR9LzQwMC9tZWRpdW0uanBnYCA6IGEuaW1hZ2V9IC8+XG4gICAgICBpbWFnZSA9IGEuZmVhdHVyZWRBcnQgPyA8TGluayB0bz1cImFydHdvcmtcIiBwYXJhbXM9e3tpZDogYS5mZWF0dXJlZEFydH19PntpbWFnZX08L0xpbms+IDogaW1hZ2VcblxuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiYWZmaW5pdHlcIiBrZXk9e2EudGl0bGV9PlxuICAgICAgICA8aDM+e2EudGl0bGV9PC9oMz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZmZpbml0eUltYWdlXCI+e2ltYWdlfTwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFmZmluaXR5LWludHJvXCI+XG4gICAgICAgIDxNYXJrZG93biBhbHJlYWR5UmVuZGVyZWQ9e3RydWV9PnthLmNvbnRlbnR9PC9NYXJrZG93bj5cbiAgICAgICAgICA8cD5NaWHigJlzIEFmZmluaXR5IEdyb3VwcyBhcmUgYSBncmVhdCB3YXkgZm9yIG11c2V1bSBtZW1iZXJzIHRvIGNvbm5lY3QgbW9yZSBjbG9zZWx5IHdpdGggc3BlY2lhbCBhcmVhcyBvZiBhcnQgaW50ZXJlc3QsIGFsbG93aW5nIHlvdSB0byBkZWx2ZSBkZWVwZXIgaW50byB0aGUgY3VyYXRvcmlhbCBhcmVhIG9mIHlvdXIgY2hvaWNlLjwvcD5cbiAgICAgICAgICA8YSBocmVmPVwiaHR0cDovL25ldy5hcnRzbWlhLm9yZy9qb2luLWFuZC1pbnZlc3QvYWZmaW5pdHktZ3JvdXBzL1wiIGNsYXNzTmFtZT1cImJ1dHRvblwiPkxlYXJuIE1vcmU8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgfSlcbiAgfSxcblxuICBhZmZpbml0eUJsdXJiKCkge1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImFmZmluaXR5XCI+XG4gICAgICA8cD5NaWHigJlzIEFmZmluaXR5IEdyb3VwcyBhcmUgYSBncmVhdCB3YXkgZm9yIG11c2V1bSBtZW1iZXJzIHRvIGNvbm5lY3QgbW9yZSBjbG9zZWx5IHdpdGggc3BlY2lhbCBhcmVhcyBvZiBhcnQgaW50ZXJlc3QsIGFsbG93aW5nIHlvdSB0byBkZWx2ZSBkZWVwZXIgaW50byB0aGUgY3VyYXRvcmlhbCBhcmVhIG9mIHlvdXIgY2hvaWNlLjwvcD5cbiAgICAgIDxhIGhyZWY9XCJodHRwOi8vbmV3LmFydHNtaWEub3JnL2pvaW4tYW5kLWludmVzdC9hZmZpbml0eS1ncm91cHMvXCIgY2xhc3NOYW1lPVwiYnV0dG9uXCI+TGVhcm4gTW9yZTwvYT5cbiAgICA8L2Rpdj5cbiAgfSxcbn0pXG5cbnZhciBEZXBhcnRtZW50Q29udGVudCA9IHtcbiAgYWZyaWNhOiBgVGhlIEFydHMgb2YgQWZyaWNhIGFuZCB0aGUgQW1lcmljYXMgRGVwYXJ0bWVudCBpcyBkZWRpY2F0ZWQgdG8gdGhlIGltbWVuc2UgY3JlYXRpdml0eSBvZiBOYXRpdmUgcGVvcGxlcyBhY3Jvc3MgdGhlIHdvcmxkLCBmcm9tIHByZWhpc3RvcnkgdG8gdGhlIHByZXNlbnQuIFRoZSBjb2xsZWN0aW9uIGhhcyBncm93biBzaWduaWZpY2FudGx5IHNpbmNlIHRoZSBkZXBhcnRtZW50IHdhcyBmb3VuZGVkIG1vcmUgdGhhbiB0aGlydHkgeWVhcnMgYWdvLCBhbmQgbm93IG51bWJlcnMgbW9yZSB0aGFuIDMsMDAwIG9iamVjdHMsIGluY2x1ZGluZyBtYXN0ZXJ3b3JrcyBvZiBzY3VscHR1cmUsIGNlcmFtaWNzLCBtZXRhbHNtaXRoaW5nLCBwYWludGluZywgYmFza2V0cnksIGFuZCBiZWFkLSwgc2hlbGwtLCBhbmQgcXVpbGx3b3JrLCByZWZsZWN0aW5nIHRoZSBkaXZlcnNpdHkgb2YgdGhlc2UgcmVnaW9ucyBhbmQgY3VsdHVyZXMuXFxyXFxuXFxyXFxuSGlnaGxpZ2h0cyBvZiBBZnJpY2FuIGFydCBhdCB0aGUgbXVzZXVtIGluY2x1ZGUgYSBjZXJhbWljIHBvcnRyYWl0IGhlYWQgZnJvbSB0aGUgYW5jaWVudCBjaXZpbGl6YXRpb24gb2YgSWZlLCBhIHRob3VzYW5kLXllYXItb2xkIHdvb2RlbiBob3JzZS1hbmQtcmlkZXIgZnJvbSBEamVubmUsIGFuZCBhIGNhc3QgYnJvbnplIGxlb3BhcmQgYW5kIGEgY2FydmVkIGl2b3J5IHR1c2ssIGJvdGggZnJvbSB0aGUgZWlnaHRlZW50aC1jZW50dXJ5IEtpbmdkb20gb2YgQmVuaW4uIE90aGVyIGltcG9ydGFudCBwaWVjZXMgYXJlIGEgcmFyZSBMdWJhIG1hc2ssIG9uZSBvZiBvbmx5IHR3byBrbm93biBpbiB0aGUgd29ybGQsIGEgZHJhbWF0aWMgZGFuY2UgbWFzayBvZnRlbiBrbm93biBhcyBhIOKAnGZpcmVzcGl0dGVy4oCdIGZyb20gQ290ZSBk4oCZSXZvaXJlLCBhbmQgYSBwYWxhY2UgZG9vciBjcmVhdGVkIGJ5IHRoZSBmYW1lZCBZb3J1YmEgYXJ0aXN0IEFyZW9ndW4gb2YgT3NpLlxcclxcblxcclxcblRoZSBOYXRpdmUgQW1lcmljYW4gZ2FsbGVyaWVzIGFyZSBlcXVhbGx5IHJpY2ggaW4gZXhhbXBsZXMgb2YgdGhlIGhpZ2hlc3QgcXVhbGl0eSBhcnQsIHN1Y2ggYXMgb3VyIHVucGFyYWxsZWxlZCB0aHJlZS10aG91c2FuZC15ZWFyLW9sZCBPbG1lYyBqYWRlIG1hc2ssIGFuIGV4Y2VwdGlvbmFsIG5pbmV0ZWVudGgtY2VudHVyeSBTdW4gTWFzayBmcm9tIHRoZSBOb3J0aHdlc3QgQ29hc3QsIGFuZCBhIG1vbnVtZW50YWwgcGlwZSBpbiB0aGUgZm9ybSBvZiBhIGJvdW5kIHByaXNvbmVyLCBtYWRlIGluIHNvdXRoZWFzdGVybiBVbml0ZWQgU3RhdGVzIGFyb3VuZCAxMjAwLiBBZGRpdGlvbmFsIG1hc3RlcndvcmtzIGluY2x1ZGUgdGhlIGZpbmVseSB3b3JrZWQgZ29sZCBlYXJzcG9vbHMgZnJvbSB0aGUgYW5jaWVudCBBbmRlcywgYW5kIGEgYmVhZGVkIG1hbuKAmXMgc2hvdWxkZXIgcG91Y2ggbWFkZSBpbiBNaW5uZXNvdGEgaW4gdGhlIGVhcmx5IDE4MDBzLlxcclxcblxcclxcbk91ciBPY2VhbmljIGNvbGxlY3Rpb24gY29udGFpbnMgd29ybGQtY2xhc3MgcGllY2VzLCBzdWNoIGFzIHRoZSBNYW9yaSBQb3V0b2tvbWFuYXdhIChQb3N0IEZpZ3VyZSkgY3JlYXRlZCBpbiB0aGUgMTg0MHMsIHRoZSB0aHJlZSBmYWJ1bG91cyBNYWxhZ2FuIGZpZ3VyZXMsIGFuIGVhcmx5IFBhcHVhbiBHb3BlIEJvYXJkLCBhbmQgdGhlIEJpcyBQb2xlLCBhIGNlbnRlcnBpZWNlIG9mIHRoZSBnYWxsZXJ5LmAsXG4gIGNvbnRlbXBvcmFyeTogYEluIDIwMDggdGhlIE1pYSBsYXVuY2hlZCBhbiBpbml0aWF0aXZlIHRvIGZvY3VzIG9uIHRoZSBhcnQgb2Ygb3VyIHRpbWVzLiBUaHJvdWdoIGl0cyBuZXcgRGVwYXJ0bWVudCBvZiBDb250ZW1wb3JhcnkgQXJ0LCB0aGUgbXVzZXVtIGJyaW5ncyBhIGZyZXNoIGR5bmFtaXNtIHRvIGl0cyBnYWxsZXJpZXMgYnkgY29sbGVjdGluZyBhbmQgZXhoaWJpdGluZyB3b3JrcyBieSBsaXZpbmcgYXJ0aXN0cy4gVGhpcyBpbml0aWF0aXZlIGVtcGhhc2l6ZXMgdGhlIHJlbGF0aW9uc2hpcHMgYW1vbmcgaGlzdG9yaWNhbCBhcnQsIGRpdmVyc2UgY3VsdHVyZXMsIGFuZCBjb250ZW1wb3JhcnkgYXJ0LW1ha2luZy5cXHJcXG5cXHJcXG5Db250ZW1wb3JhcnkgYXJ0IG9mIHRoZSByZWdpb24gY29udGludWVzIHRvIGJlIHJlcHJlc2VudGVkIGJ5IHRoZSBNaW5uZXNvdGEgQXJ0aXN0cyBFeGhpYml0aW9uIFByb2dyYW0gKE1BRVApIGFzIHdlbGwgYXMgYnkgc2VsZWN0ZWQgcHJvamVjdHMgd2l0aCBsb2NhbCBhcnRpc3RzLCBhcmNoaXRlY3RzLCBkZXNpZ25lcnMsIGFuZCBvdGhlciBjcmVhdGl2ZSB0aGlua2Vycy4gSW4gY29sbGFib3JhdGlvbiB3aXRoIG90aGVyIE1pYSBjdXJhdG9yaWFsIGRlcGFydG1lbnRzLCB0aGUgRGVwYXJ0bWVudCBvZiBDb250ZW1wb3JhcnkgQXJ0IGVuZ2FnZXMgYm90aCBsb2NhbCBhbmQgZ2xvYmFsIGFydGlzdHMgdG8gY3JlYXRlIHB1YmxpYyBhbmQgc2l0ZS1zcGVjaWZpYyB3b3JrIGF0IHRoZSBNaWEuYCxcbiAgZGF0czogYE9yaWdpbmFsbHkgZXN0YWJsaXNoZWQgdG8gZm9jdXMgb24gZnVybml0dXJlLCBtZXRhbHdvcmssIGNlcmFtaWNzLCBhbmQgZ2xhc3MsIHRoZSBkZXBhcnRtZW50IHRvZGF5IGVuY29tcGFzc2VzIG1vcmUgdGhhbiAxOCwwMDAgd29ya3MgaW4gYWxsIG1lZGl1bXMgZnJvbSBBbWVyaWNhIGFuZCBFdXJvcGUsIGZyb20gdGhlIE1pZGRsZSBBZ2VzIHRvIHRoZSBwcmVzZW50Llxcclxcblxcclxcbk1hbnkgY29sbGVjdG9ycyBhbmQgZG9ub3JzIGhhdmUgY29udHJpYnV0ZWQgdG8gdGhlIHBvcmNlbGFpbiBhbmQgcG90dGVyeSBjb2xsZWN0aW9uLCB3aGljaCBpbmNsdWRlcyBlaWdodGVlbnRoLWNlbnR1cnkgRnJlbmNoIGZhaWVuY2UgZnJvbSBNcnMuIEpvaG4gUC4gUnV0aGVyZnVyZCwgc2V2ZW50ZWVudGgtIGFuZCBlaWdodGVlbnRoLWNlbnR1cnkgRW5nbGlzaCBkZWxmdCBmcm9tIE1yLiBhbmQgTXJzLiBHZW9yZ2UgUi4gU3RlaW5lciwgYW5kIENoaW5lc2UgRXhwb3J0IHBvcmNlbGFpbiBmcm9tIExlbyBhbmQgRG9yaXMgSG9kcm9mZi4gRG9tZXN0aWMgaW50ZXJpb3JzIGFuZCBmdXJuaXNoaW5ncyBzcGFubmluZyBmb3VyIGNlbnR1cmllcyBhcmUgcHJlc2VudGVkIGluIHRoZSBNaWHigJlzIG5pbmUgcGVyaW9kIHJvb21zLCB3aXRoIGEgMTczMCBncmFuZCBzYWxvbiBmcm9tIHRoZSBIw7R0ZWwgZGUgbGEgQm91w6t4acOocmUgaW4gUGFyaXMsIHdoaWNoIGhhcyBiZWVuIHJlc3RvcmVkIHdpdGggZnVuZHMgZnJvbSB0aGUgR3JvdmVzIEZvdW5kYXRpb24uXFxyXFxuXFxyXFxuVGhlIGRlcGFydG1lbnTigJlzIHRleHRpbGUgY29sbGVjdGlvbiBoYXMgZ2FpbmVkIGFuIGludGVybmF0aW9uYWwgcmVwdXRhdGlvbiBmb3IgaXRzIHNwZWN0YWN1bGFyIGluZGl2aWR1YWwgcGllY2VzIGFzIHdlbGwgYXMgaXRzIGltcHJlc3NpdmUgaG9sZGluZ3Mgb2YgRXVyb3BlYW4gdGFwZXN0cmllcywgZWFybHkgSXRhbGlhbiBsYWNlcywgcGFzc2VtZW50ZXJpZSwgS2FzaG1pciBzaGF3bHMsIGFuZCBUdXJraXNoIGVtYnJvaWRlcmllcy4gVGV4dGlsZXMgZnJvbSB0aGUgSmFjayBMZW5vciBMYXJzZW4gY29tcGFueSBhcmNoaXZlIGFuZCB0aGUgTm9yd2VzdCBNb2Rlcm5pc20gQ29sbGVjdGlvbiBoYXZlIGJyb2FkZW5lZCB0aGUgc2NvcGUgb2YgdGhlIGNvbGxlY3Rpb27igJlzIHR3ZW50aWV0aC1jZW50dXJ5IGhvbGRpbmdzLCBjb21wbGVtZW50aW5nIGl0cyBhbHJlYWR5IHN0cm9uZyBjb2xsZWN0aW9uIG9mIGNvbnRlbXBvcmFyeSBmaWJlciBhcnQuXFxyXFxuXFxyXFxuQSBwYXJ0aWN1bGFyIHN0cmVuZ3RoIG9mIHRoZSBNaWHigJlzIGRlY29yYXRpdmUgYXJ0cyBjb2xsZWN0aW9uIGluY2x1ZGVzIEVuZ2xpc2gsIEFtZXJpY2FuIGFuZCBDb250aW5lbnRhbCBzaWx2ZXIsIHdoaWNoIGlzIHNob3djYXNlZCBpbiB0aGUgTWFyeSBBZ25lcyBhbmQgQWwgTWNRdWlubiBHYWxsZXJ5ICgzNTApLiBNaWEgdHJ1c3RlZSBhbmQgc2lsdmVyIGNvbGxlY3RvciBKYW1lcyBGb3JkIEJlbGwgZXN0YWJsaXNoZWQgdGhlIGZvdW5kYXRpb24gb2YgdGhlIG11c2V1beKAmXMgY29sbGVjdGlvbiB3aXRoIG51bWVyb3VzIGdpZnRzLCBpbmNsdWRpbmcgYSBtb251bWVudGFsIGVpZ2h0ZWVudGgtY2VudHVyeSB3aW5lIGNpc3Rlcm4gYnkgRW5nbGlzaCBIdWd1ZW5vdCBzaWx2ZXJzbWl0aCBQYXVsIGRlIExhbWVyaWUgYW5kIHRoZSBtb3N0IGNvbXBsZXRlIG5lb2NsYXNzaWNhbCB0ZWEgc2VydmljZSBrbm93biBieSBQYXVsIFJldmVyZSwgSnIuIFRoZSBNY1F1aW5uIEZ1bmQgY29udGludWVzIHRvIHN1cHBvcnQgcHVyY2hhc2VzIG9mIGdyZWF0IEVuZ2xpc2ggYW5kIENvbnRpbmVudGFsIG9iamVjdHMgc3VjaCBhcyB0aGUgUmljaG1vbmQgcmFjaW5nIGN1cCBkZXNpZ25lZCBieSBSb2JlcnQgQWRhbSBhbmQgYW4gZWxhYm9yYXRlIGNvdmVyZWQgY3VwIG1hZGUgaW4gU3RyYXNib3VyZyBieSBKb2hhbm4gRnJpZWRyaWNoIEJhZXIuXFxyXFxuXFxyXFxuU2N1bHB0dXJlIGZyb20gdGhlIE1pZGRsZSBBZ2VzIHRvIDE5NjAgaW5jbHVkZXMgaW1wb3J0YW50IHdvcmtzIGJ5IEFtZWRlbyBNb2RpZ2xpYW5pLCBTaXIgSmFjb2IgRXBzdGVpbiwgSm9obiBCZXJuYXJkIEZsYW5uYWdhbiwgQ29uc3RhbnRpbiBCcmFuY3VzaSwgSGVucmkgTWF0aXNzZSwgYW5kIEhlbnJ5IE1vb3JlLiBSZWNlbnQgYWNxdWlzaXRpb25zIGluIHRoaXMgYXJlYSBpbmNsdWRlIFJheW1vbmQgRHVjaGFtcC1WaWxsb27igJlzwqA8ZW0+SGVhZCBvZiBCYXVkZWxhaXJlPC9lbT7CoCgxOTExKSwgYW5kIEFsYmVydG8gR2lhY29tZXR0aeKAmXPCoDxlbT5EaWVnbzwvZW0+wqAoMTk2KS5cXHJcXG5cXHJcXG5UaGUgSGFyb2xkIGFuZCBNaWNrZXkgU21pdGggR2FsbGVyeSAoMzYyKSBmZWF0dXJlcyBvbmUgb2YgdGhlIG1vc3QgY29tcHJlaGVuc2l2ZSBwZXJtYW5lbnQgY29sbGVjdGlvbnMgb2YgSmV3aXNoIHJpdHVhbCBhcnQgZm91bmQgaW4gYW4gQW1lcmljYW4gYXJ0IG11c2V1bS4gUm90YXRpb25zIGluY2x1ZGUgcHJpbnRzLCBwaG90b2dyYXBocywgYW5kIHRleHRpbGVzLiBQdXJjaGFzZXMgb2YgbW9kZXJuIGFuZCBjb250ZW1wb3JhcnkgSnVkYWljYSBhcmUgbWFkZSBwb3NzaWJsZSBieSB0aGUgRWxvaXNlIGFuZCBFbGxpb3QgS2FwbGFuIEZ1bmQgZm9yIEp1ZGFpY2EuXFxyXFxuXFxyXFxuVGhlIGRlcGFydG1lbnQgaXMgc3Ryb25nIGluIG1vZGVybmlzdCBkZXNpZ24sIGluY2x1ZGluZyB0aGUgUHJhaXJpZSBTY2hvb2wtc3R5bGXCoDxlbT5QdXJjZWxsLUN1dHRzIEhvdXNlPC9lbT7CoCgxOTEzKSwgZGVzaWduZWQgYnkgV2lsbGlhbSBHcmF5IFB1cmNlbGwgYW5kIEdlb3JnZSBHcmFudCBFbG1zbGllIGZvciB0aGUgUHVyY2VsbCBmYW1pbHkuIEluIGFkZGl0aW9uLCB0aGUgTWlhIGhvdXNlcyBvbmUgb2YgdGhlIGJlc3QgY29sbGVjdGlvbnMgb2YgUHJhaXJpZSBTY2hvb2wgbWF0ZXJpYWwgaW4gdGhlIGNvdW50cnksIHByZXNlbnRlZCBpbiB0aGUgQm9iIFVscmljaCBhbmQgSmlsbCBEYWhsaW4gQXJjaGl0ZWN0dXJlIGFuZCBEZXNpZ24gR2FsbGVyeSAoMzU1KS4gVGhlIE5vcndlc3QgTW9kZXJuaXNtIENvbGxlY3Rpb24gaXMgYSBtYWpvciBjb21wb25lbnQgb2YgdGhlIGRlcGFydG1lbnTigJlzIGhvbGRpbmdzLCBjb21wcmlzaW5nIG5lYXJseSA1MDAgb2JqZWN0cyBkYXRpbmcgZnJvbSAxODgwIHRvIDE5NDAuIEluIHJlY2VudCBkZWNhZGVzLCB0aGUgZGVwYXJ0bWVudCBoYXMgYnVpbHQgdXAgYSBzaWduaWZpY2FudCBjb2xsZWN0aW9uIG9mIGNvbnRlbXBvcmFyeSBzdHVkaW8gY2VyYW1pY3MsIGdsYXNzLCBhbmQgd29vZC4gQSBjdXJyZW50IGZvY3VzIGlzIGRlc2lnbiBvZiB0aGUgU2NhbmRpbmF2aWFuIGFuZCBOb3JkaWMgY291bnRyaWVzLiBUaGUgTWlhIGNvbnRpbnVlcyB0byBzaG93Y2FzZSB0aGVzZSBjb2xsZWN0aW9ucyBhdCB0aGUgV2VsbHMgRmFyZ28gQ2VudGVyIGluIGRvd250b3duIE1pbm5lYXBvbGlzLiBPbiB0aGUgV2ViLCB0aGV5IGFyZSByZXByZXNlbnRlZCBieSB0aGUgYXdhcmQtd2lubmluZyBzaXRlc8KgPGEgaHJlZj1cXFwiaHR0cDovL2h0dHAvL3d3dy5hcnRzTWlhLm9yZy91bmlmaWVkLXZpc2lvbi9cXFwiPlVuaWZpZWQgVmlzaW9uOiBUaGUgQXJjaGl0ZWN0dXJlIGFuZCBEZXNpZ24gb2YgdGhlIFByYWlyaWUgU2Nob29sPC9hPsKgYW5kwqA8YSBocmVmPVxcXCJodHRwOi8vd3d3LmFydHNNaWEub3JnL21vZGVybmlzbS9cXFwiPk1vZGVybmlzbTwvYT4uYCxcbiAgcGFpbnRpbmdzOiBgVGhlIE1pYSdzIGludGVybmF0aW9uYWxseSBhY2NsYWltZWQgY29sbGVjdGlvbiBvZiBwYWludGluZ3MgY29udGFpbnMgbmVhcmx5IDkwMCBFdXJvcGVhbiBhbmQgQW1lcmljYW4gd29ya3MgZnJvbSB0aGUgZm91cnRlZW50aCBjZW50dXJ5IHRvIHRoZSBwcmVzZW50LiBJdCBvZmZlcnMgYSBjb21wcmVoZW5zaXZlIHN1cnZleSBvZiBib3RoIGNlbGVicmF0ZWQgc2Nob29scyBhbmQgaW5kaXZpZHVhbCBhcnRpc3RzIGFuZCBpcyBub3RhYmxlIGZvciBpdHMgY29uY2VudHJhdGlvbiBvZiBtYXN0ZXJ3b3Jrcy5cXHJcXG5cXHJcXG5PbmUgb2YgdGhlIG11c2V1beKAmXMgZWFybGllc3QgYWNxdWlzaXRpb25zIHdhcyBHdXN0YXZlIENvdXJiZXTigJlzIERlZXIgaW4gYSBGb3Jlc3QsIHdoaWNoIFN0LiBQYXVsIHJhaWxyb2FkIG1hZ25hdGUgSmFtZXMgSi4gSGlsbCBkb25hdGVkIGluIDE5MTQuIEhpbGzigJlzIGNvbGxlY3Rpb24gb2YgbmluZXRlZW50aC1jZW50dXJ5IEZyZW5jaCBSb21hbnRpYyBhbmQgUmVhbGlzdCBhcnQgd2FzIGV4Y2VwdGlvbmFsLiBNYW55IG9mIGhpcyBtb3N0IGltcG9ydGFudCBwaWN0dXJlcywgaW5jbHVkaW5nIEV1Z8OobmUgRGVsYWNyb2l44oCZcyBUaGUgRmFuYXRpY3Mgb2YgVGFuZ2llciwgd2VyZSBnaXZlbiBvciBiZXF1ZWF0aGVkIHRvIHRoZSBNaWEgYnkgaGlzIGRlc2NlbmRhbnRzLlxcclxcblxcclxcblRoZSBwcmVzZW50IHBhaW50aW5ncyBjb2xsZWN0aW9uIGhhcyBiZWVuIGV4cGFuZGVkIGluIHZhcmllZCBhbmQgb2Z0ZW4gZGVsaWdodGZ1bGx5IHVucHJlZGljdGFibGUgd2F5cyBieSBhIHN1Y2Nlc3Npb24gb2YgYXN0dXRlIHRydXN0ZWVzLCBkb25vcnMsIGRpcmVjdG9ycywgYW5kIGN1cmF0b3JzLiBJdCBpbmNsdWRlcyBDbGF1ZGUgTG9ycmFpbuKAmXMgUGFzdG9yYWwgTGFuZHNjYXBlIG9mIDE2MzgsIE5pY29sYXMgUG91c3NpbuKAmXMgRGVhdGggb2YgR2VybWFuaWN1cyBvZiAxNjI3LCBhbmQgUmVtYnJhbmR0IHZhbiBSaWpu4oCZcyBMdWNyZXRpYSBvZiAxNjY2LiBJbiBhZGRpdGlvbiB0byBtYW55IHdvbmRlcmZ1bCBGcmVuY2ggbmluZXRlZW50aC1jZW50dXJ5IHBpY3R1cmVzLCB0aGUgbXVzZXVtIGhhcyByaWNoIGhvbGRpbmdzIG9mIEl0YWxpYW4gQmFyb3F1ZSwgc2V2ZW50ZWVudGgtY2VudHVyeSBEdXRjaCwgYW5kIEZhdXZlLCBDdWJpc3QsIGFuZCBHZXJtYW4gRXhwcmVzc2lvbmlzdCB3b3Jrcy4gVGhlIEFtZXJpY2FuIGNvbGxlY3Rpb24gc2hvd2Nhc2VzIGEgcmFuZ2Ugb2YgYXJ0aXN0aWMgYWNjb21wbGlzaG1lbnRzIGZyb20gR2lsYmVydCBTdHVhcnQgdG8gTGFycnkgUml2ZXJzIGFuZCBjb250YWlucyBleGNlcHRpb25hbCBwYWludGluZ3MgYnkgSm9obiBTaW5nZXIgU2FyZ2VudCBhbmQgR2VvcmdpYSBP4oCZS2VlZmZlLmAsXG4gIHBob3RvZ3JhcGh5OiBgQmVndW4gaW4gMTk3MywgdGhlIE1pYeKAmXMgY29sbGVjdGlvbiBvZiBwaG90b2dyYXBocyBzcGFucyB0aGUgaGlzdG9yeSBvZiBwaG90b2dyYXBoeSBmcm9tIHRoZSAxODYwcyB0byB0aGUgcHJlc2VudC4gUmVwcmVzZW50aW5nIG1vcmUgdGhhbiA4MDAgcGhvdG9ncmFwaGVycyBhbmQgMTEsNTAwIHdvcmtzIG9mIGFydCwgdGhlIGNvbGxlY3Rpb24gaGFzIG91dHN0YW5kaW5nIGV4YW1wbGVzIG9mIHR3ZW50aWV0aC1jZW50dXJ5IEFtZXJpY2FuIHBob3RvZ3JhcGh5LCB3aXRoIHBhcnRpY3VsYXIgZGVwdGggaW4gdGhlIGdlbnJlcyBvZiBkb2N1bWVudGFyeSBwaG90b2dyYXBoeSwgcGhvdG9qb3VybmFsaXNtLCBhbmQgcGljdG9yaWFsaXNtLiBTaW5jZSAyMDA4LCB0aGUgbXVzZXVtIGhhcyBmb2N1c2VkIG9uIGV4cGFuZGluZyBpdHMgaG9sZGluZ3Mgb2YgY29udGVtcG9yYXJ5IHBob3RvZ3JhcGh5IGFuZCBuZXcgbWVkaWEgZnJvbSBhbGwgY291bnRyaWVzLiBUaGlzIGluaXRpYXRpdmUgaW5jcmVhc2VzIHRoZSBzY29wZSBhbmQgcmVsZXZhbmNlIG9mIHRoZSBwaG90b2dyYXBoeSBjb2xsZWN0aW9uIGFuZCBlbmhhbmNlcyBpdHMgbGlua3MgdG8gdGhlIE1pYeKAmXMgZGl2ZXJzZSwgZ2xvYmFsIGhvbGRpbmdzLlxcclxcblxcclxcblRoZSBEZXBhcnRtZW50IG9mIFBob3RvZ3JhcGh5ICZhbXA7IE5ldyBNZWRpYSBjb250aW51ZXMgdG8gdGhyaXZlIHRoYW5rcyB0byB0aGUgYWN0aXZlLCBnZW5lcm91cyBzdXBwb3J0IG9mIGxveWFsIGRvbm9ycy4gVGhlIGVhcmxpZXN0IGFjcXVpc2l0aW9ucyB3ZXJlIGZ1bmRlZCBieSBLYXRlIEJ1dGxlciBhbmQgSGFsbCBKYW1lcyBQZXRlcnNvbi4gVGhlaXIgaW5pdGlhdGl2ZSBpbnNwaXJlZCBvdGhlcnMsIGluY2x1ZGluZyBIYXJyeSBEcmFrZSwgTWFydGluIFdlaW5zdGVpbiwgYW5kIEZyZWQgYW5kIEVsbGVuIFdlbGxzLiBNb3JlIHJlY2VudGx5LCB0aGUgY3JlYXRpb24gb2YgdGhlIEFsZnJlZCBhbmQgSW5ncmlkIExlbnogSGFycmlzb24gRnVuZCBhbmQgdGhlIGVzdGFibGlzaG1lbnQgb2YgdGhlIEhhcnJpc29uIFBob3RvZ3JhcGh5IEdhbGxlcmllcyAoMzY0ICZhbXA7IDM2NSkgaGF2ZSBnaXZlbiB0aGUgZGVwYXJ0bWVudCBlbm9ybW91cyBtb21lbnR1bS4gVGhlc2Ugc3VwZXJiIG5ldyBnYWxsZXJpZXMgYXJlIGRldm90ZWQgdG8gcHJlc2VudGluZyB0aGUgcGVybWFuZW50IGNvbGxlY3Rpb24uIEluIGFkZGl0aW9uLCBMaW5kYSBhbmQgTGF3cmVuY2UgUGVybG1hbiBlc3RhYmxpc2hlZCB0aGUgUGVybG1hbiBHYWxsZXJ5ICgyNjIpLCB3aGljaCBpcyBkZWRpY2F0ZWQgdG8gZmVhdHVyaW5nIGNvbnRlbXBvcmFyeSBwaG90b2dyYXBoeSBhbmQgaXMgbG9jYXRlZCBpbiB0aGUgTWlh4oCZcyBUYXJnZXQgV2luZywgaG9zdGluZ8KgPGEgaHJlZj1cXFwiaHR0cDovL3d3dzIuYXJ0c01pYS5vcmcvYmxvZ3MvbmV3LXBpY3R1cmVzXFxcIj5OZXcgUGljdHVyZXM8L2E+LCBhIHNlbWktYW5udWFsIHNlcmllcyBoaWdobGlnaHRpbmcgZW1lcmdpbmcgcGhvdG9ncmFwaGVycyBmcm9tIGFyb3VuZCB0aGUgd29ybGQuIFlvdSwgdG9vLCBjYW4gY29udHJpYnV0ZSB0byBhbmQgZW5qb3kgc3BlY2lhbCBhY2Nlc3MgdG8gZXhoaWJpdGlvbnMgYW5kIGV2ZW50cyBieSBqb2luaW5nIHRoZcKgPGEgaHJlZj1cXFwiaHR0cDovL25ldy5hcnRzTWlhLm9yZy9qb2luLWFuZC1pbnZlc3QvYWZmaW5pdHktZ3JvdXBzL1xcXCI+UGhvdG9ncmFwaHkgJmFtcDsgTmV3IE1lZGlhIEFmZmluaXR5IEdyb3VwPC9hPi5cXHJcXG5cXHJcXG5PdmVyIHRoZSB5ZWFycywgdGhlIERlcGFydG1lbnQgb2YgUGhvdG9ncmFwaHkgJmFtcDsgTmV3IE1lZGlhIGhhcyBiZWVuIGNvbW1pdHRlZCB0byB1c2luZyBpdHMgY29sbGVjdGlvbiBmb3IgZWR1Y2F0aW9uYWwgcHVycG9zZXMsIGFuZCB0aGUgTWlhIG5vdyBzZXJ2ZXMgYXMgYSBtYWpvciByZXNvdXJjZSBmb3IgdGhlIGZpdmUtc3RhdGUgcmVnaW9uLiBOdW1lcm91cyBleGhpYml0aW9ucyBkcmF3biBmcm9tIHRoZSBjb2xsZWN0aW9uIGhhdmUgdHJhdmVsZWQgdG8gb3RoZXIgaW5zdGl0dXRpb25zLCBhbmQgc3R1ZGVudHMgYW5kIHRlYWNoZXJzIGZyZXF1ZW50bHkgdmlzaXQgdGhlIGdhbGxlcmllcyBhbmTCoDxhIGhyZWY9XFxcImh0dHA6Ly9uZXcuYXJ0c01pYS5vcmcvdmlzaXQvbXVzZXVtLWZhY2lsaXRpZXMvc3R1ZHktcm9vbXMvXFxcIj5QaG90b2dyYXBoeSBTdHVkeSBSb29tPC9hPsKgdG8gbGVhcm4gZnJvbSB0aGUgY29sbGVjdGlvbiBmaXJzdGhhbmQuIENsaWNrIG9uIHRoZSBwaG90b2dyYXBoIGJlbG93IHRvIGJyb3dzZSB0aGUgY29sbGVjdGlvbiBhbmQgcHJlcGFyZSBmb3IgeW91ciBuZXh0IHZpc2l0IHRvIHRoZSBNaWEuYCxcbiAgcHJpbnRzOiBgVGhlIERlcGFydG1lbnQgb2YgUHJpbnRzICZhbXA7IERyYXdpbmdzIGtlZXBzIHVwIGFuIGFjdGl2ZSBwcm9ncmFtIG9mIHRoZW1hdGljIGV4aGliaXRpb25zLCBidXQgaXQgaXMgYWxzbyB0aGUgTWlh4oCZcyBoaWRkZW4gdHJlYXN1cmUgY2hlc3QuIEF0IGFueSBnaXZlbiB0aW1lLCBvbmx5IGEgZnJhY3Rpb24gb2YgdGhlIG11c2V1beKAmXMgY29sbGVjdGlvbiBvZiBuZWFybHkgNDAsMDAwIHByaW50cyBhbmQgMywwMDAgZHJhd2luZ3MgaXMgb24gdmlldyBpbiB0aGUgZ2FsbGVyaWVzLiBOZWFybHkgYWxsLCBob3dldmVyLCBhcmUgYXZhaWxhYmxlIHRvIHRoZSBwdWJsaWMgaW4gdGhlIGNvbWZvcnQgb2YgdGhlwqA8YSBocmVmPVxcXCJodHRwOi8vbmV3LmFydHNNaWEub3JnL3Zpc2l0L3N0dWR5LXJvb21zL1xcXCI+SGVyc2NoZWwgVi4gSm9uZXMgUHJpbnQgU3R1ZHkgUm9vbTwvYT4uIFRvIHByZXBhcmUgZm9yIHlvdXIgdmlzaXQsIHBsZWFzZSBtYWtlIGFuIGFwcG9pbnRtZW50IGJ5IHBob25lICg2MTIpIDg3MC0zMTA1IG9yIGJ5IGUtbWFpbCAoPGEgaHJlZj1cXFwibWFpbHRvOnByaW50c3R1ZHlAYXJ0c01pYS5vcmdcXFwiPnByaW50c3R1ZHlAYXJ0c01pYS5vcmc8L2E+KS5cXHJcXG5cXHJcXG5NYW55IG9mIHRoZSBncmVhdGVzdCBFdXJvcGVhbiBhbmQgQW1lcmljYW4gYXJ0aXN0cyBmcm9tIHRoZSBSZW5haXNzYW5jZSB0byB0aGUgcHJlc2VudCBhcmUgcmVwcmVzZW50ZWQsIG9mdGVuIGluIGNvbnNpZGVyYWJsZSBkZXB0aCBhbmQgcXVhbGl0eS4gQW1vbmcgdGhlIGhpZ2hsaWdodHMgYXJlIG9sZCBtYXN0ZXIgcHJpbnRzIGJ5IEFsYnJlY2h0IETDvHJlciBhbmQgUmVtYnJhbmR0IHZhbiBSaWpuOyBKYWNvcG8gZGXigJlCYXJiYXJp4oCZcyBhbWF6aW5nIGJpcmTigJlzLWV5ZSB2aWV3IG9mIFZlbmljZTsgYSByYXJlIHByZXNlbnRhdGlvbiBjb3B5IG9mIEZyYW5jaXNjbyBkZSBHb3lh4oCZc8KgPGVtPkxvcyBDYXByaWNob3M8L2VtPjsgYSBmYWJ1bG91cyBtb25vdHlwZSBieSBXaWxsaWFtIEJsYWtlOyBleHRlbnNpdmUgaG9sZGluZ3MgaW4gbmluZXRlZW50aC1jZW50dXJ5IEZyZW5jaCBhbmQgQnJpdGlzaCBwcmludHMgYW5kIGRyYXdpbmdzLCBmZWF0dXJpbmcgYXJ0aXN0cyBzdWNoIGFzIEphbWVzIE1jTmVpbGwgV2hpc3RsZXIsIEVkZ2FyIERlZ2FzLCBhbmQgRsOpbGl4IEJ1aG90OyBhbmQgb3V0c3RhbmRpbmcgdHdlbnRpZXRoLWNlbnR1cnkgZHJhd2luZ3MgYnkgTG92aXMgQ29yaW50aCwgRWdvbiBTY2hpZWxlLCBFcm5zdCBMdWR3aWcgS2lyY2huZXIsIEVyaWNoIEhlY2tlbCwgUGlldCBNb25kcmlhbiwgR2VvcmdlcyBSb3VhdWx0LCBIZW5yaSBNYXRpc3NlLCBKYXNwZXIgSm9obnMsIEFuZHkgV2FyaG9sLCBSb3kgTGljaHRlbnN0ZWluLCBKaW0gRGluZSwgRWQgUnVzY2hhLCBOaWNvbGEgSGlja3MsIGFuZCBtYW55IG1vcmUuIFRoZSBkZXBhcnRtZW50IGlzIGJ1aWxkaW5nIGl0cyBjb2xsZWN0aW9uIG9mIHR3ZW50eS1maXJzdC1jZW50dXJ5IHByaW50cyBhbmQgZHJhd2luZ3MsIHdoaWNoIGlzIHJlYWNoaW5nIGV2ZXIgZnVydGhlciBiZXlvbmQgQW1lcmljYSBhbmQgRXVyb3BlIHRvIG90aGVyIHBhcnRzIG9mIHRoZSB3b3JsZC4gUCZhbXA7RCBoYXMgc2VjdXJlZCB3b3JrcyBieSBXaWxsaWFtIEtlbnRyaWRnZSwgSnVsaWUgTWVocmV0dSwgTWVxdWl0dGEgQWh1amEsIEphdW5lIFF1aWNrLXRvLVNlZSBTbWl0aCwgQ2h1Y2sgQ2xvc2UsIEx1aXMgSmltZW5leiwgQ3ludGhpYSBMaW4sIENhcmxvcyBBbW9yYWxlcywgRGlhbmUgVmljdG9yLCBhbmQgbW9yZS5cXHJcXG5cXHJcXG5UaGVyZSBhcmUgYWxzbyBmYXNjaW5hdGluZyBjb2xsZWN0aW9ucyB3aXRoaW4gdGhlIGNvbGxlY3Rpb24uIFRoZSBkZXBhcnRtZW50IGhhcyBhIGxhcmdlIG51bWJlciBvZiBib29rcyBkZXNpZ25lZCBhbmQgaWxsdXN0cmF0ZWQgYnkgYXJ0aXN0cywgd2hpY2ggaXMgZXNwZWNpYWxseSByaWNoIGluIHdvcmtzIGZyb20gRnJhbmNlLiBTdHVkZW50cyBvZiBtb2Rlcm4gcHJpbnRtYWtpbmcgd2lsbCB3YW50IHRvIGV4cGxvcmUgdGhlIFZlcm1pbGxpb24gRWRpdGlvbnMgTGltaXRlZCBBcmNoaXZhbCBDb2xsZWN0aW9uLCB3aGljaCBjb250YWlucyBleGFtcGxlcyBvZiBhbGwgdGhlIHByaW50cyBwdWJsaXNoZWQgYnkgdGhhdCBUd2luIENpdGllcyBwcmVzcyBhcyB3ZWxsIGFzIHByZXBhcmF0b3J5IGRyYXdpbmdzLCBwcm9vZnMsIGFuZCBtYXF1ZXR0ZXMgdGhhdCBsZWQgdG8gdGhlIGZpbmlzaGVkIHdvcmsuIEJvdGFuaWNhbCwgem9vbG9naWNhbCwgZmFzaGlvbiwgYW5kIG9ybmFtZW50YWwgaWxsdXN0cmF0aW9ucyBmcm9tIHRoZSBmaWZ0ZWVudGggdGhyb3VnaCB0aGUgdHdlbnRpZXRoIGNlbnR1cmllcyBhbGwgZmlndXJlIGluIHRoZSBtaXgsIGFzIGRvZXMgYSB3aWRlIGFycmF5IG9mIHdvcmtzIGJ5IE1pbm5lc290YSBhbmQgcmVnaW9uYWwgYXJ0aXN0cy5cXHJcXG5cXHJcXG5UaGXCoDxhIGhyZWY9XFxcImh0dHA6Ly9uZXcuYXJ0c01pYS5vcmcvam9pbi1hbmQtaW52ZXN0L2FmZmluaXR5LWdyb3Vwcy9cXFwiPlByaW50cyAmYW1wOyBEcmF3aW5ncyBBZmZpbml0eSBHcm91cDwvYT7CoHByb3ZpZGVzIGEgdGVycmlmaWMgb3Bwb3J0dW5pdHkgdG8gbGVhcm4gbW9yZSBhYm91dCB0aGlzIHZpdGFsIGZpZWxkIG9mIGFydCwgdG8gbWVldCBvdGhlcnMgd2l0aCBzaW1pbGFyIGludGVyZXN0cywgYW5kIHRvIGhlbHAgdGhlIE1pYSBpbXByb3ZlIGl0cyBhYmlsaXR5IHRvIG1ha2UgYXJ0IGF2YWlsYWJsZSB0byB0aGUgcHVibGljLmAsXG4gIGNzc2FhOiBgVGhlIERlcGFydG1lbnQgb2YgQ2hpbmVzZSBhbmQgU291dGggYW5kIFNvdXRoZWFzdCBBc2lhbiBBcnQgaGFzIGJlbmVmaXRlZCBncmVhdGx5IGZyb20gZ2VuZXJvdXMgZ2lmdHMgZnJvbSBrbm93bGVkZ2VhYmxlIGNvbGxlY3RvcnMuIEF1Z3VzdHVzIEwuIFNlYXJsZSwgQWxmcmVkIEYuIFBpbGxzYnVyeSwgUmljaGFyZCBQLiBHYWxlLCBMb3VpcyBXLiBIaWxsLCBKci4sIGFuZCBSdXRoIGFuZCBCcnVjZSBEYXl0b24gaGF2ZSBkb25hdGVkIGNvbGxlY3Rpb25zIG9mIGludGVybmF0aW9uYWwgcmVwdXRhdGlvbi4gVGhlc2UgaW5jbHVkZSBhbmNpZW50IENoaW5lc2UgYnJvbnplcywgYW5jaWVudCBhbmQgcG9zdC1Tb25nIGphZGUsIENoaW5lc2UgbW9ub2Nocm9tZSBjZXJhbWljcywgYW5kIGNsYXNzaWNhbCBDaGluZXNlIGZ1cm5pdHVyZS4gSW4gYWRkaXRpb24sIGN1cmF0b3JzIGhhdmUgYnVpbHQgZXhxdWlzaXRlIGNvbGxlY3Rpb25zIG9mIFFpbmcgZHluYXN0eSBzaWxrIHRleHRpbGVzIGFuZCBNaWFvIHRleHRpbGVzLlxcclxcblxcclxcblNvbWUgb2YgdGhlIGZpcnN0IHdvcmtzIG9mIGFydCB0byBlbnRlciB0aGUgbXVzZXVt4oCZcyBjb2xsZWN0aW9uIHdlcmUgZnJvbSBTb3V0aCAoSW5kaWEsIEJhbmdsYWRlc2gsIFNyaSBMYW5rYSwgUGFraXN0YW4sIE5lcGFsLCBCaHV0YW4sIGFuZCBBZmdoYW5pc3RhbikgYW5kIFNvdXRoZWFzdCBBc2lhIChDYW1ib2RpYSwgTGFvcywgTXlhbm1hciwgVGhhaWxhbmQsIE1hbGF5c2lhLCBWaWV0bmFtLCBTaW5nYXBvcmUsIEluZG9uZXNpYSwgQnJ1bmVpIGFuZCB0aGUgUGhpbGlwcGluZXMpLCBiZWdpbm5pbmcgaW4gMTkxNCB3aGVuIENoYXJsZXMgRnJlZXIgZG9uYXRlZCBzZXZlcmFsIFRoYWkgQnVkZGhpc3Qgc2N1bHB0dXJlcy7CoCBJbiAxOTI5IFNhcmFoIEJlbGwgUGlsbHNidXJ5IEdhbGUgZ2F2ZSB0aGUgbXVzZXVtIGl0cyBmaXJzdCBtYWpvciBJbmRpYW4gd29yayBvZiBhcnQsIGEgMTJ0aCBjZW50dXJ5IGJyb256ZSAoY2EuIDExMDApIERhbmNpbmcgU2hpdmEgKE5hdGFyYWphKS7CoCBUaGUgaGlnaGxpZ2h0IG9mIHRoZSBTb3V0aCBBc2lhbiBjb2xsZWN0aW9uIGlzIGEgbW9udW1lbnRhbCBzdG9uZSBZb2dpbmkgc2N1bHB0dXJlIGZyb20gMTA8c3BhbiBzdHlsZT1cXFwiZm9udC1zaXplOiAxMXB4O1xcXCI+dGjCoDwvc3Bhbj5jZW50dXJ5IHNvdXRoIEluZGlhLiBUb2RheSB0aGUgU291dGggQXNpYW4gY29sbGVjdGlvbiBudW1iZXJzIGFib3V0IDE1MCBvYmplY3RzIGFuZCB0aGUgU291dGhlYXN0IEFzaWFuIGNvbGxlY3Rpb24gbnVtYmVycyBhcm91bmQgMTgzLlxcclxcblxcclxcbldpdGhpbiB0aGUgZ2FsbGVyaWVzIHRoZXJlIGFyZSB0d28gQ2hpbmVzZSBwZXJpb2Qgcm9vbXMgaW5jbHVkaW5nIGFuIG9yaWdpbmFsIHJlY2VwdGlvbiBoYWxsIGZyb20gdGhlIGxhdGUgTWluZyBkeW5hc3R5IGFuZCBhIGNhLiAxNzAwIFN1emNob3UtYXJlYSBsaWJyYXJ5LmAsXG4gIGprYTogYFRoZSBjb2xsZWN0aW9uIG9mIEphcGFuZXNlIGFuZCBLb3JlYW4gYXJ0IGluY2x1ZGVzIG92ZXIgNywwMDAgd29ya3MgcmFuZ2luZyBmcm9tIGFuY2llbnQgdG8gY29udGVtcG9yYXJ5IGFuZCBpcyBhbW9uZ3N0IHRoZSB0b3AgZml2ZSBjb2xsZWN0aW9ucyBpbiB0aGUgVW5pdGVkIFN0YXRlcy4gVGhlIHBlcm1hbmVudCBkaXNwbGF5IHNwYWNlIGZvciBKYXBhbmVzZSBhcnQgaXMgdGhlIGxhcmdlc3QgaW4gdGhlIFdlc3Rlcm4gd29ybGQgd2l0aCAxNSBnYWxsZXJpZXMgYW5kIG92ZXIgMTAsMDAwIHNxdWFyZSBmZWV0ICg5MzAgc3FtKS4gVGhlIGNvbGxlY3Rpb24gaXRzZWxmIGluY2x1ZGVzIEJ1ZGRoaXN0IHNjdWxwdHVyZSwgd29vZGJsb2NrIHByaW50cywgcGFpbnRpbmdzLCBsYWNxdWVyLCB3b3JrcyBvZiBiYW1ib28sIGFuZCBjZXJhbWljcywgYW5kIGl0IGlzIHBhcnRpY3VsYXJseSByaWNoIGluIHdvcmtzIGZyb20gdGhlIEVkbyBwZXJpb2QgKDE2MTDigJMxODY4KS5cXHJcXG5cXHJcXG5Ud28gaGlzdG9yaWMgcm9vbXMsIGEgZm9ybWFsIGF1ZGllbmNlIGhhbGwgKDxpPnNob2luPC9pPikgYW5kIGEgdGVhaG91c2UgKDxpPmNoYXNoaXRzdTwvaT4pLCBhbGxvdyBoaWdobHkgdmlzaWJsZSBpbnN0YWxsYXRpb25zIHdpdGhpbiB0aGUgcGVybWFuZW50IGdhbGxlcmllcyBhbmQgc2VydmUgdG8gaGVpZ2h0ZW4gYXdhcmVuZXNzIG9mIHRoZSByZWxhdGlvbnNoaXAgYmV0d2VlbiBhcnQgYW5kIGFyY2hpdGVjdHVyZS48L3A+PHA+VGhlIERlcGFydG1lbnQgb2YgSmFwYW5lc2UgYW5kIEtvcmVhbiBhcnQgaGFzIGJlbmVmaXRlZCBncmVhdGx5IGZyb20gZ2VuZXJvdXMgZ2lmdHMgZnJvbSBrbm93bGVkZ2VhYmxlIGNvbGxlY3RvcnMuIFJpY2hhcmQgUC4gR2FsZSwgTG91aXMgVy4gSGlsbCwgSnIuLCBSdXRoIGFuZCBCcnVjZSBEYXl0b24sIGFuZCBFbGxlbiBhbmQgRnJlZCBXZWxscyBoYXZlIGFsbCBkb25hdGVkIHNwZWNpYWxpemVkIGNvbGxlY3Rpb25zIG9mIGludGVybmF0aW9uYWwgcmVwdXRhdGlvbi4gV2l0aCB0aGUgYWRkaXRpb24gb2Ygb3ZlciAxLDUwMCB3b3JrcyBvZiBhcnQgZnJvbSB0aGUgY29sbGVjdGlvbnMgb2YgRWxpemFiZXRoIGFuZCBXaWxsYXJkIOKAnEJpbGzigJ0gQ2xhcmsgYW5kIHRoZSBDbGFyayBDZW50ZXIgZm9yIEphcGFuZXNlIEFydCBpbiAyMDEzIGFuZCBoYWxmIG9mIHRoZSB3b3JsZC1yZW5vd25lZCBNYXJ5IEdyaWdncyBCdXJrZSBjb2xsZWN0aW9uLCB0aGUgSmFwYW5lc2UgYW5kIEtvcmVhbiBhcnQgZ2FsbGVyaWVzIGFyZSBubyBkb3VidCBhIGRlc3RpbmF0aW9uIGZvciBib3RoIGFydCBlbnRodXNpYXN0cyBhbmQgc2Nob2xhcnMgYWxpa2UuPC9wPjxwPlRoZSBkZXBhcnRtZW50IGlzIGRlZGljYXRlZCB0byBwcm92aWRpbmcgdGhlIHB1YmxpYyB3aXRoIGEgYnJvYWQgb3ZlcnZpZXcgb2YgSmFwYW5lc2UgYW5kIEtvcmVhbiBhcnQuIEJ5IHNob3djYXNpbmcgYXJ0IGJvdGggY2hyb25vbG9naWNhbGx5IGFuZCBieSBtZWRpdW0sIHRoZSBnYWxsZXJpZXMgc2hvdyB0aGUgaGlzdG9yeSBvZiBub3Qgb25seSB0aGUgb2JqZWN0cyB0aGVtc2VsdmVzLCBidXQgYWxzbyBvZiBhIGNvbGxlY3RlZCBwcm9jZXNzIG9mIGFydGlzdGljIGNyZWF0aW9uLiBUaGlzIGNhbiBiZSBzZWVuLCBmb3IgZXhhbXBsZSwgYnkgdGhlIHNjb3BlIG9mIGNlcmFtaWNzLCByYW5naW5nIGZyb20gZWFybHkgdXRpbGl0YXJpYW4gdG8gY29udGVtcG9yYXJ5IHNjdWxwdHVyZXMuPC9wPjxwPk9mIG5vdGFibGUgc3RyZW5ndGggaXMgdGhlIGNvbGxlY3Rpb24gb2YgPGk+dWtpeW8tZTwvaT4gcGFpbnRpbmdzIGFuZCBwcmludHMsIHBvcHVsYXJseSBrbm93biBhcyDigJxwaWN0dXJlcyBvZiB0aGUgZmxvYXRpbmcgd29ybGTigJ0uIFRoZSBjb3JlIG9mIHRoZSBjb2xsZWN0aW9uIHdhcyBidWlsdCBieSBSaWNoYXJkIFAuIEdhbGUgYW5kIExvdWlzIFcuIEhpbGwsIEpyLiwgYW5kIHRoZSBHYWxlIGJlcXVlc3QgaW5jbHVkZWQgc29tZSA1NyBwYWludGluZ3MgYW5kIDIwNiBwcmludHMsIG1hbnkgb2Ygd2hpY2ggYXJlIHJhcmUgYW5kIGluIGFkbWlyYWJsZSBjb25kaXRpb24uIEEgc3Ryb25nIGNvbGxlY3Rpb24gb2YgPGk+xYx0c3UtZTwvaT4sIGZvbGsgcGFpbnRpbmdzIHByb2R1Y2VkIGluIGFuZCBhcm91bmQgdGhlIHRvd24gb2YgxYx0c3UgZHVyaW5nIHRoZSBFZG8gcGVyaW9kLCBjYW1lIGZyb20gY29sbGVjdG9ycyBFZHNvbiBhbmQgSGFycmlldCBTcGVuY2VyIHdobyBhbHNvIGRvbmF0ZWQgdGhlaXIgY29sbGVjdGlvbiBvZiB0aWdlciBwYWludGluZ3MuYCxcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBEZXBhcnRtZW50RGVjb3JhdG9yXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/decorate/department.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/decorate/department.js",
      "sourcesContent": [
        "var React = require('react')\nvar {Link} = require('react-router')\n\nvar Markdown = require('../markdown')\nvar findDepartment = require('../department-slug')\n\nvar DepartmentDecorator = React.createClass({\n  getInitialState() {\n    var [deptName, selector, slug] = this.getNameAndSelector(this.props.department)\n    var {departmentInfo} = this.props\n    var info = departmentInfo && departmentInfo.departments[selector]\n\n    return {\n      deptName,\n      selector,\n      slug,\n      info: info,\n      blurb: info && info.content || DepartmentContent[selector] || `Sorry, there's no \"${deptName}\" department.`,\n      expanded: this.props.expanded || !!this.props.params.dept || false,\n    }\n  },\n\n  render() {\n    var {department} = this.props\n    var {deptName, selector, blurb, expanded} = this.state\n\n    var [blurbA, blurbB] = blurb.split('<hr />')\n\n    var fullInfo = expanded && this.getFullInfo(blurbB)\n\n    return <div className=\"departmentBlurb mdl-grid decorator d-department\">\n      <h2><Link to='department' params={{dept: this.state.slug, terms: department}}><span className=\"d-visit\">Visit </span>{this.state.deptName}</Link></h2>\n      <div className=\"mdl-cell mdl-cell--6-col departmentContent\">\n        {expanded ? <Markdown alreadyRendered={true}>{blurbA}</Markdown> : this.shortBlurb()}\n        {expanded && this.affinityBlurb()}\n      </div>\n      {expanded && fullInfo}\n    </div>\n  },\n\n  getNameAndSelector(term) {\n    var decodedTerm = decodeURIComponent(term)\n    var deptName = findDepartment(decodedTerm) ? decodedTerm : decodedTerm.match(/department:\"?([^\"]*)\"?/)[1]\n    return findDepartment(deptName)\n  },\n\n  shortBlurb() {\n    return <div>\n      <Markdown>{this.state.blurb.split('\\n')[0]}</Markdown>\n    </div>\n  },\n\n  getFullInfo(info) {\n    var {deptName} = this.state\n\n    return <div className=\"departmentResources mdl-cell mdl-cell--6-col\">\n      <div>{this.getCurators()}</div>\n      <Markdown alreadyRendered={true}>{info}</Markdown>\n    </div>\n  },\n\n  getCurators() {\n    var curators = this.state.info.curators\n    .map(name => this.props.departmentInfo.curators[name])\n    .filter(exists => !!exists)\n    .filter(({emeritus}) => !emeritus)\n\n    return curators.length > 0 && <div id=\"curators\">\n      <h3>Curators</h3>\n      {curators.map(curator => {\n        curator.photo = `https://collections.artsmia.org/_info/curator-portraits/${curator.slug}.jpg`\n\n        return <div className=\"curatorBio\" key={curator.slug}>\n          <Link to=\"curator\" params={{slug:curator.slug}}>\n            <div className=\"curatorPic\">\n              <img src={curator.photo} alt={`portrait of ${curator.name}`} />\n            </div>\n            <div className=\"curator-intro\">\n            <h4>{curator.name}</h4>\n            <h5><Markdown>{curator.title}</Markdown></h5>\n            </div>\n          </Link>\n        </div>\n      })}\n    </div>\n  },\n\n  getAffinity() {\n    var affinities = this.props.departmentInfo.affinityGroups\n    .filter(ag => ag.departments && ag.departments.indexOf(findDepartment(this.props.department)[1]) > -1)\n\n    return affinities.map(a => {\n      var image = <img src={a.featuredArt ? `http://api.artsMia.org/images/${a.featuredArt}/400/medium.jpg` : a.image} />\n      image = a.featuredArt ? <Link to=\"artwork\" params={{id: a.featuredArt}}>{image}</Link> : image\n\n      return <div className=\"affinity\" key={a.title}>\n        <h3>{a.title}</h3>\n        <div className=\"affinityImage\">{image}</div>\n        <div className=\"affinity-intro\">\n        <Markdown alreadyRendered={true}>{a.content}</Markdown>\n          <p>Mia’s Affinity Groups are a great way for museum members to connect more closely with special areas of art interest, allowing you to delve deeper into the curatorial area of your choice.</p>\n          <a href=\"http://new.artsmia.org/join-and-invest/affinity-groups/\" className=\"button\">Learn More</a>\n        </div>\n      </div>\n    })\n  },\n\n  affinityBlurb() {\n    return <div className=\"affinity\">\n      <p>Mia’s Affinity Groups are a great way for museum members to connect more closely with special areas of art interest, allowing you to delve deeper into the curatorial area of your choice.</p>\n      <a href=\"http://new.artsmia.org/join-and-invest/affinity-groups/\" className=\"button\">Learn More</a>\n    </div>\n  },\n})\n\nvar DepartmentContent = {\n  africa: `The Arts of Africa and the Americas Department is dedicated to the immense creativity of Native peoples across the world, from prehistory to the present. The collection has grown significantly since the department was founded more than thirty years ago, and now numbers more than 3,000 objects, including masterworks of sculpture, ceramics, metalsmithing, painting, basketry, and bead-, shell-, and quillwork, reflecting the diversity of these regions and cultures.\\r\\n\\r\\nHighlights of African art at the museum include a ceramic portrait head from the ancient civilization of Ife, a thousand-year-old wooden horse-and-rider from Djenne, and a cast bronze leopard and a carved ivory tusk, both from the eighteenth-century Kingdom of Benin. Other important pieces are a rare Luba mask, one of only two known in the world, a dramatic dance mask often known as a “firespitter” from Cote d’Ivoire, and a palace door created by the famed Yoruba artist Areogun of Osi.\\r\\n\\r\\nThe Native American galleries are equally rich in examples of the highest quality art, such as our unparalleled three-thousand-year-old Olmec jade mask, an exceptional nineteenth-century Sun Mask from the Northwest Coast, and a monumental pipe in the form of a bound prisoner, made in southeastern United States around 1200. Additional masterworks include the finely worked gold earspools from the ancient Andes, and a beaded man’s shoulder pouch made in Minnesota in the early 1800s.\\r\\n\\r\\nOur Oceanic collection contains world-class pieces, such as the Maori Poutokomanawa (Post Figure) created in the 1840s, the three fabulous Malagan figures, an early Papuan Gope Board, and the Bis Pole, a centerpiece of the gallery.`,\n  contemporary: `In 2008 the Mia launched an initiative to focus on the art of our times. Through its new Department of Contemporary Art, the museum brings a fresh dynamism to its galleries by collecting and exhibiting works by living artists. This initiative emphasizes the relationships among historical art, diverse cultures, and contemporary art-making.\\r\\n\\r\\nContemporary art of the region continues to be represented by the Minnesota Artists Exhibition Program (MAEP) as well as by selected projects with local artists, architects, designers, and other creative thinkers. In collaboration with other Mia curatorial departments, the Department of Contemporary Art engages both local and global artists to create public and site-specific work at the Mia.`,\n  dats: `Originally established to focus on furniture, metalwork, ceramics, and glass, the department today encompasses more than 18,000 works in all mediums from America and Europe, from the Middle Ages to the present.\\r\\n\\r\\nMany collectors and donors have contributed to the porcelain and pottery collection, which includes eighteenth-century French faience from Mrs. John P. Rutherfurd, seventeenth- and eighteenth-century English delft from Mr. and Mrs. George R. Steiner, and Chinese Export porcelain from Leo and Doris Hodroff. Domestic interiors and furnishings spanning four centuries are presented in the Mia’s nine period rooms, with a 1730 grand salon from the Hôtel de la Bouëxière in Paris, which has been restored with funds from the Groves Foundation.\\r\\n\\r\\nThe department’s textile collection has gained an international reputation for its spectacular individual pieces as well as its impressive holdings of European tapestries, early Italian laces, passementerie, Kashmir shawls, and Turkish embroideries. Textiles from the Jack Lenor Larsen company archive and the Norwest Modernism Collection have broadened the scope of the collection’s twentieth-century holdings, complementing its already strong collection of contemporary fiber art.\\r\\n\\r\\nA particular strength of the Mia’s decorative arts collection includes English, American and Continental silver, which is showcased in the Mary Agnes and Al McQuinn Gallery (350). Mia trustee and silver collector James Ford Bell established the foundation of the museum’s collection with numerous gifts, including a monumental eighteenth-century wine cistern by English Huguenot silversmith Paul de Lamerie and the most complete neoclassical tea service known by Paul Revere, Jr. The McQuinn Fund continues to support purchases of great English and Continental objects such as the Richmond racing cup designed by Robert Adam and an elaborate covered cup made in Strasbourg by Johann Friedrich Baer.\\r\\n\\r\\nSculpture from the Middle Ages to 1960 includes important works by Amedeo Modigliani, Sir Jacob Epstein, John Bernard Flannagan, Constantin Brancusi, Henri Matisse, and Henry Moore. Recent acquisitions in this area include Raymond Duchamp-Villon’s <em>Head of Baudelaire</em> (1911), and Alberto Giacometti’s <em>Diego</em> (196).\\r\\n\\r\\nThe Harold and Mickey Smith Gallery (362) features one of the most comprehensive permanent collections of Jewish ritual art found in an American art museum. Rotations include prints, photographs, and textiles. Purchases of modern and contemporary Judaica are made possible by the Eloise and Elliot Kaplan Fund for Judaica.\\r\\n\\r\\nThe department is strong in modernist design, including the Prairie School-style <em>Purcell-Cutts House</em> (1913), designed by William Gray Purcell and George Grant Elmslie for the Purcell family. In addition, the Mia houses one of the best collections of Prairie School material in the country, presented in the Bob Ulrich and Jill Dahlin Architecture and Design Gallery (355). The Norwest Modernism Collection is a major component of the department’s holdings, comprising nearly 500 objects dating from 1880 to 1940. In recent decades, the department has built up a significant collection of contemporary studio ceramics, glass, and wood. A current focus is design of the Scandinavian and Nordic countries. The Mia continues to showcase these collections at the Wells Fargo Center in downtown Minneapolis. On the Web, they are represented by the award-winning sites <a href=\\\"http://http//www.artsMia.org/unified-vision/\\\">Unified Vision: The Architecture and Design of the Prairie School</a> and <a href=\\\"http://www.artsMia.org/modernism/\\\">Modernism</a>.`,\n  paintings: `The Mia's internationally acclaimed collection of paintings contains nearly 900 European and American works from the fourteenth century to the present. It offers a comprehensive survey of both celebrated schools and individual artists and is notable for its concentration of masterworks.\\r\\n\\r\\nOne of the museum’s earliest acquisitions was Gustave Courbet’s Deer in a Forest, which St. Paul railroad magnate James J. Hill donated in 1914. Hill’s collection of nineteenth-century French Romantic and Realist art was exceptional. Many of his most important pictures, including Eugène Delacroix’s The Fanatics of Tangier, were given or bequeathed to the Mia by his descendants.\\r\\n\\r\\nThe present paintings collection has been expanded in varied and often delightfully unpredictable ways by a succession of astute trustees, donors, directors, and curators. It includes Claude Lorrain’s Pastoral Landscape of 1638, Nicolas Poussin’s Death of Germanicus of 1627, and Rembrandt van Rijn’s Lucretia of 1666. In addition to many wonderful French nineteenth-century pictures, the museum has rich holdings of Italian Baroque, seventeenth-century Dutch, and Fauve, Cubist, and German Expressionist works. The American collection showcases a range of artistic accomplishments from Gilbert Stuart to Larry Rivers and contains exceptional paintings by John Singer Sargent and Georgia O’Keeffe.`,\n  photography: `Begun in 1973, the Mia’s collection of photographs spans the history of photography from the 1860s to the present. Representing more than 800 photographers and 11,500 works of art, the collection has outstanding examples of twentieth-century American photography, with particular depth in the genres of documentary photography, photojournalism, and pictorialism. Since 2008, the museum has focused on expanding its holdings of contemporary photography and new media from all countries. This initiative increases the scope and relevance of the photography collection and enhances its links to the Mia’s diverse, global holdings.\\r\\n\\r\\nThe Department of Photography &amp; New Media continues to thrive thanks to the active, generous support of loyal donors. The earliest acquisitions were funded by Kate Butler and Hall James Peterson. Their initiative inspired others, including Harry Drake, Martin Weinstein, and Fred and Ellen Wells. More recently, the creation of the Alfred and Ingrid Lenz Harrison Fund and the establishment of the Harrison Photography Galleries (364 &amp; 365) have given the department enormous momentum. These superb new galleries are devoted to presenting the permanent collection. In addition, Linda and Lawrence Perlman established the Perlman Gallery (262), which is dedicated to featuring contemporary photography and is located in the Mia’s Target Wing, hosting <a href=\\\"http://www2.artsMia.org/blogs/new-pictures\\\">New Pictures</a>, a semi-annual series highlighting emerging photographers from around the world. You, too, can contribute to and enjoy special access to exhibitions and events by joining the <a href=\\\"http://new.artsMia.org/join-and-invest/affinity-groups/\\\">Photography &amp; New Media Affinity Group</a>.\\r\\n\\r\\nOver the years, the Department of Photography &amp; New Media has been committed to using its collection for educational purposes, and the Mia now serves as a major resource for the five-state region. Numerous exhibitions drawn from the collection have traveled to other institutions, and students and teachers frequently visit the galleries and <a href=\\\"http://new.artsMia.org/visit/museum-facilities/study-rooms/\\\">Photography Study Room</a> to learn from the collection firsthand. Click on the photograph below to browse the collection and prepare for your next visit to the Mia.`,\n  prints: `The Department of Prints &amp; Drawings keeps up an active program of thematic exhibitions, but it is also the Mia’s hidden treasure chest. At any given time, only a fraction of the museum’s collection of nearly 40,000 prints and 3,000 drawings is on view in the galleries. Nearly all, however, are available to the public in the comfort of the <a href=\\\"http://new.artsMia.org/visit/study-rooms/\\\">Herschel V. Jones Print Study Room</a>. To prepare for your visit, please make an appointment by phone (612) 870-3105 or by e-mail (<a href=\\\"mailto:printstudy@artsMia.org\\\">printstudy@artsMia.org</a>).\\r\\n\\r\\nMany of the greatest European and American artists from the Renaissance to the present are represented, often in considerable depth and quality. Among the highlights are old master prints by Albrecht Dürer and Rembrandt van Rijn; Jacopo de’Barbari’s amazing bird’s-eye view of Venice; a rare presentation copy of Francisco de Goya’s <em>Los Caprichos</em>; a fabulous monotype by William Blake; extensive holdings in nineteenth-century French and British prints and drawings, featuring artists such as James McNeill Whistler, Edgar Degas, and Félix Buhot; and outstanding twentieth-century drawings by Lovis Corinth, Egon Schiele, Ernst Ludwig Kirchner, Erich Heckel, Piet Mondrian, Georges Rouault, Henri Matisse, Jasper Johns, Andy Warhol, Roy Lichtenstein, Jim Dine, Ed Ruscha, Nicola Hicks, and many more. The department is building its collection of twenty-first-century prints and drawings, which is reaching ever further beyond America and Europe to other parts of the world. P&amp;D has secured works by William Kentridge, Julie Mehretu, Mequitta Ahuja, Jaune Quick-to-See Smith, Chuck Close, Luis Jimenez, Cynthia Lin, Carlos Amorales, Diane Victor, and more.\\r\\n\\r\\nThere are also fascinating collections within the collection. The department has a large number of books designed and illustrated by artists, which is especially rich in works from France. Students of modern printmaking will want to explore the Vermillion Editions Limited Archival Collection, which contains examples of all the prints published by that Twin Cities press as well as preparatory drawings, proofs, and maquettes that led to the finished work. Botanical, zoological, fashion, and ornamental illustrations from the fifteenth through the twentieth centuries all figure in the mix, as does a wide array of works by Minnesota and regional artists.\\r\\n\\r\\nThe <a href=\\\"http://new.artsMia.org/join-and-invest/affinity-groups/\\\">Prints &amp; Drawings Affinity Group</a> provides a terrific opportunity to learn more about this vital field of art, to meet others with similar interests, and to help the Mia improve its ability to make art available to the public.`,\n  cssaa: `The Department of Chinese and South and Southeast Asian Art has benefited greatly from generous gifts from knowledgeable collectors. Augustus L. Searle, Alfred F. Pillsbury, Richard P. Gale, Louis W. Hill, Jr., and Ruth and Bruce Dayton have donated collections of international reputation. These include ancient Chinese bronzes, ancient and post-Song jade, Chinese monochrome ceramics, and classical Chinese furniture. In addition, curators have built exquisite collections of Qing dynasty silk textiles and Miao textiles.\\r\\n\\r\\nSome of the first works of art to enter the museum’s collection were from South (India, Bangladesh, Sri Lanka, Pakistan, Nepal, Bhutan, and Afghanistan) and Southeast Asia (Cambodia, Laos, Myanmar, Thailand, Malaysia, Vietnam, Singapore, Indonesia, Brunei and the Philippines), beginning in 1914 when Charles Freer donated several Thai Buddhist sculptures.  In 1929 Sarah Bell Pillsbury Gale gave the museum its first major Indian work of art, a 12th century bronze (ca. 1100) Dancing Shiva (Nataraja).  The highlight of the South Asian collection is a monumental stone Yogini sculpture from 10<span style=\\\"font-size: 11px;\\\">th </span>century south India. Today the South Asian collection numbers about 150 objects and the Southeast Asian collection numbers around 183.\\r\\n\\r\\nWithin the galleries there are two Chinese period rooms including an original reception hall from the late Ming dynasty and a ca. 1700 Suzchou-area library.`,\n  jka: `The collection of Japanese and Korean art includes over 7,000 works ranging from ancient to contemporary and is amongst the top five collections in the United States. The permanent display space for Japanese art is the largest in the Western world with 15 galleries and over 10,000 square feet (930 sqm). The collection itself includes Buddhist sculpture, woodblock prints, paintings, lacquer, works of bamboo, and ceramics, and it is particularly rich in works from the Edo period (1610–1868).\\r\\n\\r\\nTwo historic rooms, a formal audience hall (<i>shoin</i>) and a teahouse (<i>chashitsu</i>), allow highly visible installations within the permanent galleries and serve to heighten awareness of the relationship between art and architecture.</p><p>The Department of Japanese and Korean art has benefited greatly from generous gifts from knowledgeable collectors. Richard P. Gale, Louis W. Hill, Jr., Ruth and Bruce Dayton, and Ellen and Fred Wells have all donated specialized collections of international reputation. With the addition of over 1,500 works of art from the collections of Elizabeth and Willard “Bill” Clark and the Clark Center for Japanese Art in 2013 and half of the world-renowned Mary Griggs Burke collection, the Japanese and Korean art galleries are no doubt a destination for both art enthusiasts and scholars alike.</p><p>The department is dedicated to providing the public with a broad overview of Japanese and Korean art. By showcasing art both chronologically and by medium, the galleries show the history of not only the objects themselves, but also of a collected process of artistic creation. This can be seen, for example, by the scope of ceramics, ranging from early utilitarian to contemporary sculptures.</p><p>Of notable strength is the collection of <i>ukiyo-e</i> paintings and prints, popularly known as “pictures of the floating world”. The core of the collection was built by Richard P. Gale and Louis W. Hill, Jr., and the Gale bequest included some 57 paintings and 206 prints, many of which are rare and in admirable condition. A strong collection of <i>Ōtsu-e</i>, folk paintings produced in and around the town of Ōtsu during the Edo period, came from collectors Edson and Harriet Spencer who also donated their collection of tiger paintings.`,\n}\n\nmodule.exports = DepartmentDecorator\n"
      ]
    },
    "mtime": 1485807805242
  },
  "{\"filename\":\"/var/www/art/src/department-slug.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar toSlug = require('speakingurl');\n\n// { full name: short name, …}\nvar representations = {\n  \"Art of Africa and the Americas\": 'africa',\n  \"Contemporary Art\": 'contemporary',\n  \"Decorative Arts, Textiles and Sculpture\": 'dats',\n  \"Paintings\": 'paintings',\n  \"Photography and New Media\": 'photography',\n  \"Prints and Drawings\": 'prints',\n  \"Chinese, South and Southeast Asian Art\": 'cssaa',\n  \"Japanese and Korean Art\": 'jka'\n};\n\n// Associate [full name, short name, slug]\nvar nameTriple = Object.keys(representations).map(function (key) {\n  return [key, representations[key], toSlug(key)];\n}, []);\n\nmodule.exports = function (deptSelector) {\n  return nameTriple.find(function (triple) {\n    if (triple.indexOf(deptSelector) > -1) return triple;\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZGVwYXJ0bWVudC1zbHVnLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBOzs7QUFHbkMsSUFBSSxlQUFlLEdBQUc7QUFDcEIsa0NBQWdDLEVBQUUsUUFBUTtBQUMxQyxvQkFBa0IsRUFBRSxjQUFjO0FBQ2xDLDJDQUF5QyxFQUFFLE1BQU07QUFDakQsYUFBVyxFQUFFLFdBQVc7QUFDeEIsNkJBQTJCLEVBQUUsYUFBYTtBQUMxQyx1QkFBcUIsRUFBRSxRQUFRO0FBQy9CLDBDQUF3QyxFQUFFLE9BQU87QUFDakQsMkJBQXlCLEVBQUUsS0FBSztDQUNqQyxDQUFBOzs7QUFHRCxJQUFJLFVBQVUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFBLEdBQUc7U0FBSSxDQUFDLEdBQUcsRUFBRSxlQUFlLENBQUMsR0FBRyxDQUFDLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0NBQUEsRUFBRSxFQUFFLENBQUMsQ0FBQTs7QUFFdEcsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFBLFlBQVk7U0FBSSxVQUFVLENBQUMsSUFBSSxDQUFDLFVBQUMsTUFBTSxFQUFLO0FBQzNELFFBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxPQUFPLE1BQU0sQ0FBQTtHQUNwRCxDQUFDO0NBQUEsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2RlcGFydG1lbnQtc2x1Zy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciB0b1NsdWcgPSByZXF1aXJlKCdzcGVha2luZ3VybCcpXG5cbi8vIHsgZnVsbCBuYW1lOiBzaG9ydCBuYW1lLCDigKZ9XG52YXIgcmVwcmVzZW50YXRpb25zID0ge1xuICBcIkFydCBvZiBBZnJpY2EgYW5kIHRoZSBBbWVyaWNhc1wiOiAnYWZyaWNhJyxcbiAgXCJDb250ZW1wb3JhcnkgQXJ0XCI6ICdjb250ZW1wb3JhcnknLFxuICBcIkRlY29yYXRpdmUgQXJ0cywgVGV4dGlsZXMgYW5kIFNjdWxwdHVyZVwiOiAnZGF0cycsXG4gIFwiUGFpbnRpbmdzXCI6ICdwYWludGluZ3MnLFxuICBcIlBob3RvZ3JhcGh5IGFuZCBOZXcgTWVkaWFcIjogJ3Bob3RvZ3JhcGh5JyxcbiAgXCJQcmludHMgYW5kIERyYXdpbmdzXCI6ICdwcmludHMnLFxuICBcIkNoaW5lc2UsIFNvdXRoIGFuZCBTb3V0aGVhc3QgQXNpYW4gQXJ0XCI6ICdjc3NhYScsXG4gIFwiSmFwYW5lc2UgYW5kIEtvcmVhbiBBcnRcIjogJ2prYSdcbn1cblxuLy8gQXNzb2NpYXRlIFtmdWxsIG5hbWUsIHNob3J0IG5hbWUsIHNsdWddXG52YXIgbmFtZVRyaXBsZSA9IE9iamVjdC5rZXlzKHJlcHJlc2VudGF0aW9ucykubWFwKGtleSA9PiBba2V5LCByZXByZXNlbnRhdGlvbnNba2V5XSwgdG9TbHVnKGtleSldLCBbXSlcblxubW9kdWxlLmV4cG9ydHMgPSBkZXB0U2VsZWN0b3IgPT4gbmFtZVRyaXBsZS5maW5kKCh0cmlwbGUpID0+IHtcbiAgaWYodHJpcGxlLmluZGV4T2YoZGVwdFNlbGVjdG9yKSA+IC0xKSByZXR1cm4gdHJpcGxlXG59KVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/department-slug.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,MAAM,GAAG,OAAO,CAAC,aAAa,CAAC,CAAA;;;AAGnC,IAAI,eAAe,GAAG;AACpB,kCAAgC,EAAE,QAAQ;AAC1C,oBAAkB,EAAE,cAAc;AAClC,2CAAyC,EAAE,MAAM;AACjD,aAAW,EAAE,WAAW;AACxB,6BAA2B,EAAE,aAAa;AAC1C,uBAAqB,EAAE,QAAQ;AAC/B,0CAAwC,EAAE,OAAO;AACjD,2BAAyB,EAAE,KAAK;CACjC,CAAA;;;AAGD,IAAI,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,UAAA,GAAG;SAAI,CAAC,GAAG,EAAE,eAAe,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC;CAAA,EAAE,EAAE,CAAC,CAAA;;AAEtG,MAAM,CAAC,OAAO,GAAG,UAAA,YAAY;SAAI,UAAU,CAAC,IAAI,CAAC,UAAC,MAAM,EAAK;AAC3D,QAAG,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,MAAM,CAAA;GACpD,CAAC;CAAA,CAAA",
      "file": "/var/www/art/src/department-slug.js",
      "sourcesContent": [
        "var toSlug = require('speakingurl')\n\n// { full name: short name, …}\nvar representations = {\n  \"Art of Africa and the Americas\": 'africa',\n  \"Contemporary Art\": 'contemporary',\n  \"Decorative Arts, Textiles and Sculpture\": 'dats',\n  \"Paintings\": 'paintings',\n  \"Photography and New Media\": 'photography',\n  \"Prints and Drawings\": 'prints',\n  \"Chinese, South and Southeast Asian Art\": 'cssaa',\n  \"Japanese and Korean Art\": 'jka'\n}\n\n// Associate [full name, short name, slug]\nvar nameTriple = Object.keys(representations).map(key => [key, representations[key], toSlug(key)], [])\n\nmodule.exports = deptSelector => nameTriple.find((triple) => {\n  if(triple.indexOf(deptSelector) > -1) return triple\n})\n"
      ]
    },
    "mtime": 1465405261330
  },
  "{\"filename\":\"/var/www/art/src/decorate/gallery.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "sliced-to-array"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar React = require('react');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar rest = require('rest');\n\nvar _require2 = require('../../data/galleries.json');\n\nvar galleries = _require2.galleries;\nvar messages = _require2.messages;\n\nvar Markdown = require('../markdown');\nvar Map = require('../map');\nvar galleryPanelUrl = require('../endpoints').galleryPanel;\n\nvar GalleryDecorator = React.createClass({\n  displayName: 'GalleryDecorator',\n\n  getGalleryInfo: function getGalleryInfo(gallery) {\n    // gallery can either be `G215` or `room:G215` (or `room:\"G215\"`)\n    // or, \"Not on View\", in which case skip retrieving info\n    if (this.props.notOnView) return null;\n    var galleryId = gallery.match(/(room:)?\"?([^\"]*)\"?/)[2];\n    var number = galleryId.replace(/g/i, '');\n    if (number == '266-274') number = '266-G274';\n    var galleryInfo = galleries[number];\n    this.fetchData(number);\n\n    return {\n      number: number,\n      galleryInfo: galleryInfo,\n      panel: this.props.galleryPanel\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return this.getGalleryInfo(this.props.gallery);\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    var dontUpdate = this.props.gallery == nextProps.gallery && this.props.showFullInfo == nextProps.showFullInfo;\n\n    if (!dontUpdate) this.setState(this.getGalleryInfo(nextProps.gallery));\n  },\n\n  render: function render() {\n    if (this.props.notOnView) return React.createElement(NotOnViewGalleryDecorator, null);\n    var _state = this.state;\n    var number = _state.number;\n    var galleryInfo = _state.galleryInfo;\n    var panel = _state.panel;\n\n    var showFullInfo = this.props.showFullGalleryInfo;\n    if (panel && !showFullInfo) {\n      panel = panel.split('\\n').slice(0, 3).join('\\n');\n    }\n\n    var _nextPrevLinks = this.nextPrevLinks();\n\n    var _nextPrevLinks2 = _slicedToArray(_nextPrevLinks, 2);\n\n    var prevLink = _nextPrevLinks2[0];\n    var nextLink = _nextPrevLinks2[1];\n\n    var mapProps = {\n      closed: true,\n      number: number,\n      prevLink: prevLink,\n      nextLink: nextLink\n    };\n\n    if (!panel && !galleryInfo) return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'h1',\n        null,\n        'Gallery Not Found!'\n      ),\n      React.createElement(\n        Link,\n        { to: 'galleries' },\n        'Show all galleries'\n      )\n    );\n\n    return React.createElement(\n      'div',\n      { style: { clear: 'both' }, className: 'decorator d-gallery' },\n      React.createElement(\n        'div',\n        null,\n        React.createElement(Map, mapProps)\n      ),\n      (panel || galleryInfo) && React.createElement(\n        'div',\n        { className: 'info' },\n        panel && React.createElement(\n          Markdown,\n          null,\n          panel\n        ),\n        galleryInfo && React.createElement(\n          'p',\n          null,\n          React.createElement(\n            'strong',\n            null,\n            galleryInfo.title\n          )\n        ),\n        !showFullInfo && React.createElement(\n          Link,\n          { to: 'gallery', params: { gallery: number } },\n          'More info'\n        )\n      ),\n      React.createElement('hr', { style: { clear: 'both', visibility: 'hidden' } })\n    );\n  },\n\n  nextPrevLinks: function nextPrevLinks() {\n    var _this = this;\n\n    var _state2 = this.state;\n    var number = _state2.number;\n    var galleryInfo = _state2.galleryInfo;\n    var panel = _state2.panel;\n\n    if (!galleryInfo) return [];\n\n    var prev = galleryInfo.prev;\n    var next = galleryInfo.next;\n\n    var linkParams = function linkParams(adjacentGallery) {\n      return _this.props.showFullGalleryInfo ? { to: 'gallery', params: { gallery: adjacentGallery } } : { to: 'searchResults', params: { terms: 'G' + adjacentGallery } };\n    };\n\n    return [prev && React.createElement(\n      Link,\n      linkParams(prev),\n      '← G',\n      prev\n    ), next && React.createElement(\n      Link,\n      linkParams(next),\n      'G',\n      next,\n      ' →'\n    )];\n  },\n\n  fetchData: function fetchData(number) {\n    var _this2 = this;\n\n    rest(galleryPanelUrl(number || this.state.number)).then(function (result) {\n      _this2.setState({\n        panel: result.status.code == 200 ? result.entity : ''\n      });\n    });\n  },\n\n  componentDidMount: function componentDidMount() {\n    if (!this.props.notOnView) this.fetchData();\n  }\n});\n\nmodule.exports = GalleryDecorator;\n\nvar NotOnViewGalleryDecorator = React.createClass({\n  displayName: 'NotOnViewGalleryDecorator',\n\n  render: function render() {\n    var message = 'Very few of the artworks at Mia can be \"on view\" at any point in time.\\n\\n' + \"The museum's [Print and Photograph Study Rooms](https://new.artsmia.org/visit/study-rooms/) offer individuals and groups the opportunity to examine off-view artworks (including woodcuts, engravings, etchings, lithographs, screenprints, drawings, watercolors, artist’s books, photography, and new media) upon appointment.\";\n\n    return React.createElement(\n      Markdown,\n      null,\n      message\n    );\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZGVjb3JhdGUvZ2FsbGVyeS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBOztlQUNmLE9BQU8sQ0FBQyxjQUFjLENBQUM7O0lBQS9CLElBQUksWUFBSixJQUFJOztBQUNULElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQTs7Z0JBRUUsT0FBTyxDQUFDLDJCQUEyQixDQUFDOztJQUEzRCxTQUFTLGFBQVQsU0FBUztJQUFFLFFBQVEsYUFBUixRQUFROztBQUN4QixJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUE7QUFDckMsSUFBSSxHQUFHLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQzNCLElBQUksZUFBZSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQyxZQUFZLENBQUE7O0FBRTFELElBQUksZ0JBQWdCLEdBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ3hDLGdCQUFjLEVBQUEsd0JBQUMsT0FBTyxFQUFFOzs7QUFHdEIsUUFBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxPQUFPLElBQUksQ0FBQTtBQUNwQyxRQUFJLFNBQVMsR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDdkQsUUFBSSxNQUFNLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUE7QUFDeEMsUUFBRyxNQUFNLElBQUksU0FBUyxFQUFFLE1BQU0sR0FBRyxVQUFVLENBQUE7QUFDM0MsUUFBSSxXQUFXLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFBO0FBQ25DLFFBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUE7O0FBRXRCLFdBQU87QUFDTCxZQUFNLEVBQU4sTUFBTTtBQUNO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VSxDQUFBOztBQUVsVSxXQUFPO0FBQUMsY0FBUTs7TUFBRSxPQUFPO0tBQVksQ0FBQTtHQUN0QztDQUNGLENBQUMsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2RlY29yYXRlL2dhbGxlcnkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIge0xpbmt9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG5cbnZhciB7Z2FsbGVyaWVzLCBtZXNzYWdlc30gPSByZXF1aXJlKCcuLi8uLi9kYXRhL2dhbGxlcmllcy5qc29uJylcbnZhciBNYXJrZG93biA9IHJlcXVpcmUoJy4uL21hcmtkb3duJylcbnZhciBNYXAgPSByZXF1aXJlKCcuLi9tYXAnKVxudmFyIGdhbGxlcnlQYW5lbFVybCA9IHJlcXVpcmUoJy4uL2VuZHBvaW50cycpLmdhbGxlcnlQYW5lbFxuXG52YXIgR2FsbGVyeURlY29yYXRvciA9ICBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEdhbGxlcnlJbmZvKGdhbGxlcnkpIHtcbiAgICAvLyBnYWxsZXJ5IGNhbiBlaXRoZXIgYmUgYEcyMTVgIG9yIGByb29tOkcyMTVgIChvciBgcm9vbTpcIkcyMTVcImApXG4gICAgLy8gb3IsIFwiTm90IG9uIFZpZXdcIiwgaW4gd2hpY2ggY2FzZSBza2lwIHJldHJpZXZpbmcgaW5mb1xuICAgIGlmKHRoaXMucHJvcHMubm90T25WaWV3KSByZXR1cm4gbnVsbFxuICAgIHZhciBnYWxsZXJ5SWQgPSBnYWxsZXJ5Lm1hdGNoKC8ocm9vbTopP1wiPyhbXlwiXSopXCI/LylbMl1cbiAgICB2YXIgbnVtYmVyID0gZ2FsbGVyeUlkLnJlcGxhY2UoL2cvaSwgJycpXG4gICAgaWYobnVtYmVyID09ICcyNjYtMjc0JykgbnVtYmVyID0gJzI2Ni1HMjc0J1xuICAgIHZhciBnYWxsZXJ5SW5mbyA9IGdhbGxlcmllc1tudW1iZXJdXG4gICAgdGhpcy5mZXRjaERhdGEobnVtYmVyKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIG51bWJlcixcbiAgICAgIGdhbGxlcnlJbmZvLFxuICAgICAgcGFuZWw6IHRoaXMucHJvcHMuZ2FsbGVyeVBhbmVsLFxuICAgIH1cbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0R2FsbGVyeUluZm8odGhpcy5wcm9wcy5nYWxsZXJ5KVxuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgdmFyIGRvbnRVcGRhdGUgPSB0aGlzLnByb3BzLmdhbGxlcnkgPT0gbmV4dFByb3BzLmdhbGxlcnkgJiZcbiAgICAgIHRoaXMucHJvcHMuc2hvd0Z1bGxJbmZvID09IG5leHRQcm9wcy5zaG93RnVsbEluZm9cblxuICAgIGlmKCFkb250VXBkYXRlKSB0aGlzLnNldFN0YXRlKHRoaXMuZ2V0R2FsbGVyeUluZm8obmV4dFByb3BzLmdhbGxlcnkpKVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICBpZih0aGlzLnByb3BzLm5vdE9uVmlldykgcmV0dXJuIDxOb3RPblZpZXdHYWxsZXJ5RGVjb3JhdG9yIC8+XG4gICAgdmFyIHtudW1iZXIsIGdhbGxlcnlJbmZvLCBwYW5lbH0gPSB0aGlzLnN0YXRlXG4gICAgdmFyIHNob3dGdWxsSW5mbyA9IHRoaXMucHJvcHMuc2hvd0Z1bGxHYWxsZXJ5SW5mb1xuICAgIGlmKHBhbmVsICYmICFzaG93RnVsbEluZm8pIHtcbiAgICAgIHBhbmVsID0gcGFuZWwuc3BsaXQoJ1xcbicpLnNsaWNlKDAsMykuam9pbignXFxuJylcbiAgICB9XG5cbiAgICBsZXQgW3ByZXZMaW5rLCBuZXh0TGlua10gPSB0aGlzLm5leHRQcmV2TGlua3MoKVxuXG4gICAgbGV0IG1hcFByb3BzID0ge1xuICAgICAgY2xvc2VkOiB0cnVlLFxuICAgICAgbnVtYmVyLFxuICAgICAgcHJldkxpbmssXG4gICAgICBuZXh0TGluayxcbiAgICB9XG5cbiAgICBpZighcGFuZWwgJiYgIWdhbGxlcnlJbmZvKSByZXR1cm4gPGRpdj5cbiAgICAgIDxoMT5HYWxsZXJ5IE5vdCBGb3VuZCE8L2gxPlxuICAgICAgPExpbmsgdG89XCJnYWxsZXJpZXNcIj5TaG93IGFsbCBnYWxsZXJpZXM8L0xpbms+XG4gICAgPC9kaXY+XG5cbiAgICByZXR1cm4gPGRpdiBzdHlsZT17e2NsZWFyOiAnYm90aCd9fSBjbGFzc05hbWU9XCJkZWNvcmF0b3IgZC1nYWxsZXJ5XCI+XG4gICAgICA8ZGl2PlxuICAgICAgICA8TWFwIHsuLi5tYXBQcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgICAgeyhwYW5lbCB8fCBnYWxsZXJ5SW5mbykgJiYgPGRpdiBjbGFzc05hbWU9XCJpbmZvXCI+XG4gICAgICAgIHtwYW5lbCAmJiA8TWFya2Rvd24+e3BhbmVsfTwvTWFya2Rvd24+fVxuICAgICAgICB7Z2FsbGVyeUluZm8gJiYgPHA+PHN0cm9uZz57Z2FsbGVyeUluZm8udGl0bGV9PC9zdHJvbmc+PC9wPn1cbiAgICAgICAgeyFzaG93RnVsbEluZm8gJiYgPExpbmsgdG89J2dhbGxlcnknIHBhcmFtcz17e2dhbGxlcnk6IG51bWJlcn19Pk1vcmUgaW5mbzwvTGluaz59XG4gICAgICA8L2Rpdj59XG4gICAgICA8aHIgc3R5bGU9e3tjbGVhcjogJ2JvdGgnLCB2aXNpYmlsaXR5OiAnaGlkZGVuJ319IC8+XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgbmV4dFByZXZMaW5rcygpIHtcbiAgICB2YXIge251bWJlciwgZ2FsbGVyeUluZm8sIHBhbmVsfSA9IHRoaXMuc3RhdGVcbiAgICBpZighZ2FsbGVyeUluZm8pIHJldHVybiBbXVxuXG4gICAgdmFyIHtwcmV2LCBuZXh0fSA9IGdhbGxlcnlJbmZvXG5cbiAgICB2YXIgbGlua1BhcmFtcyA9IChhZGphY2VudEdhbGxlcnkpID0+IHRoaXMucHJvcHMuc2hvd0Z1bGxHYWxsZXJ5SW5mbyA/XG4gICAgICB7dG86ICdnYWxsZXJ5JywgcGFyYW1zOiB7Z2FsbGVyeTogYWRqYWNlbnRHYWxsZXJ5fX0gOlxuICAgICAge3RvOiAnc2VhcmNoUmVzdWx0cycsIHBhcmFtczoge3Rlcm1zOiBgRyR7YWRqYWNlbnRHYWxsZXJ5fWB9fVxuXG4gICAgcmV0dXJuIFtcbiAgICAgIHByZXYgJiYgPExpbmsgey4uLmxpbmtQYXJhbXMocHJldil9PiZsYXJyOyBHe3ByZXZ9PC9MaW5rPixcbiAgICAgIG5leHQgJiYgPExpbmsgey4uLmxpbmtQYXJhbXMobmV4dCl9Pkd7bmV4dH0gJnJhcnI7PC9MaW5rPixcbiAgICBdXG4gIH0sXG5cbiAgZmV0Y2hEYXRhKG51bWJlcikge1xuICAgIHJlc3QoZ2FsbGVyeVBhbmVsVXJsKG51bWJlciB8fCB0aGlzLnN0YXRlLm51bWJlcikpXG4gICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHBhbmVsOiByZXN1bHQuc3RhdHVzLmNvZGUgPT0gMjAwID8gcmVzdWx0LmVudGl0eSA6ICcnLFxuICAgICAgfSlcbiAgICB9KVxuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmKCF0aGlzLnByb3BzLm5vdE9uVmlldykgdGhpcy5mZXRjaERhdGEoKVxuICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBHYWxsZXJ5RGVjb3JhdG9yXG5cbnZhciBOb3RPblZpZXdHYWxsZXJ5RGVjb3JhdG9yID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIG1lc3NhZ2UgPSAnVmVyeSBmZXcgb2YgdGhlIGFydHdvcmtzIGF0IE1pYSBjYW4gYmUgXCJvbiB2aWV3XCIgYXQgYW55IHBvaW50IGluIHRpbWUuXFxuXFxuJyArXG4gICAgXCJUaGUgbXVzZXVtJ3MgW1ByaW50IGFuZCBQaG90b2dyYXBoIFN0dWR5IFJvb21zXShodHRwczovL25ldy5hcnRzbWlhLm9yZy92aXNpdC9zdHVkeS1yb29tcy8pIG9mZmVyIGluZGl2aWR1YWxzIGFuZCBncm91cHMgdGhlIG9wcG9ydHVuaXR5IHRvIGV4YW1pbmUgb2ZmLXZpZXcgYXJ0d29ya3MgKGluY2x1ZGluZyB3b29kY3V0cywgZW5ncmF2aW5ncywgZXRjaGluZ3MsIGxpdGhvZ3JhcGhzLCBzY3JlZW5wcmludHMsIGRyYXdpbmdzLCB3YXRlcmNvbG9ycywgYXJ0aXN04oCZcyBib29rcywgcGhvdG9ncmFwaHksIGFuZCBuZXcgbWVkaWEpIHVwb24gYXBwb2ludG1lbnQuXCJcblxuICAgIHJldHVybiA8TWFya2Rvd24+e21lc3NhZ2V9PC9NYXJrZG93bj5cbiAgfVxufSlcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/decorate/gallery.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/decorate/gallery.js",
      "sourcesContent": [
        "var React = require('react')\nvar {Link} = require('react-router')\nvar rest = require('rest')\n\nvar {galleries, messages} = require('../../data/galleries.json')\nvar Markdown = require('../markdown')\nvar Map = require('../map')\nvar galleryPanelUrl = require('../endpoints').galleryPanel\n\nvar GalleryDecorator =  React.createClass({\n  getGalleryInfo(gallery) {\n    // gallery can either be `G215` or `room:G215` (or `room:\"G215\"`)\n    // or, \"Not on View\", in which case skip retrieving info\n    if(this.props.notOnView) return null\n    var galleryId = gallery.match(/(room:)?\"?([^\"]*)\"?/)[2]\n    var number = galleryId.replace(/g/i, '')\n    if(number == '266-274') number = '266-G274'\n    var galleryInfo = galleries[number]\n    this.fetchData(number)\n\n    return {\n      number,\n      galleryInfo,\n      panel: this.props.galleryPanel,\n    }\n  },\n\n  getInitialState() {\n    return this.getGalleryInfo(this.props.gallery)\n  },\n\n  componentWillReceiveProps(nextProps) {\n    var dontUpdate = this.props.gallery == nextProps.gallery &&\n      this.props.showFullInfo == nextProps.showFullInfo\n\n    if(!dontUpdate) this.setState(this.getGalleryInfo(nextProps.gallery))\n  },\n\n  render() {\n    if(this.props.notOnView) return <NotOnViewGalleryDecorator />\n    var {number, galleryInfo, panel} = this.state\n    var showFullInfo = this.props.showFullGalleryInfo\n    if(panel && !showFullInfo) {\n      panel = panel.split('\\n').slice(0,3).join('\\n')\n    }\n\n    let [prevLink, nextLink] = this.nextPrevLinks()\n\n    let mapProps = {\n      closed: true,\n      number,\n      prevLink,\n      nextLink,\n    }\n\n    if(!panel && !galleryInfo) return <div>\n      <h1>Gallery Not Found!</h1>\n      <Link to=\"galleries\">Show all galleries</Link>\n    </div>\n\n    return <div style={{clear: 'both'}} className=\"decorator d-gallery\">\n      <div>\n        <Map {...mapProps} />\n      </div>\n      {(panel || galleryInfo) && <div className=\"info\">\n        {panel && <Markdown>{panel}</Markdown>}\n        {galleryInfo && <p><strong>{galleryInfo.title}</strong></p>}\n        {!showFullInfo && <Link to='gallery' params={{gallery: number}}>More info</Link>}\n      </div>}\n      <hr style={{clear: 'both', visibility: 'hidden'}} />\n    </div>\n  },\n\n  nextPrevLinks() {\n    var {number, galleryInfo, panel} = this.state\n    if(!galleryInfo) return []\n\n    var {prev, next} = galleryInfo\n\n    var linkParams = (adjacentGallery) => this.props.showFullGalleryInfo ?\n      {to: 'gallery', params: {gallery: adjacentGallery}} :\n      {to: 'searchResults', params: {terms: `G${adjacentGallery}`}}\n\n    return [\n      prev && <Link {...linkParams(prev)}>&larr; G{prev}</Link>,\n      next && <Link {...linkParams(next)}>G{next} &rarr;</Link>,\n    ]\n  },\n\n  fetchData(number) {\n    rest(galleryPanelUrl(number || this.state.number))\n    .then((result) => {\n      this.setState({\n        panel: result.status.code == 200 ? result.entity : '',\n      })\n    })\n  },\n\n  componentDidMount() {\n    if(!this.props.notOnView) this.fetchData()\n  },\n})\n\nmodule.exports = GalleryDecorator\n\nvar NotOnViewGalleryDecorator = React.createClass({\n  render() {\n    var message = 'Very few of the artworks at Mia can be \"on view\" at any point in time.\\n\\n' +\n    \"The museum's [Print and Photograph Study Rooms](https://new.artsmia.org/visit/study-rooms/) offer individuals and groups the opportunity to examine off-view artworks (including woodcuts, engravings, etchings, lithographs, screenprints, drawings, watercolors, artist’s books, photography, and new media) upon appointment.\"\n\n    return <Markdown>{message}</Markdown>\n  }\n})\n"
      ]
    },
    "mtime": 1485807805242
  },
  "{\"filename\":\"/var/www/art/src/map.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "object-without-properties"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\nvar Router = require('react-router');\nvar cx = require('classnames');\nvar Isvg = require('react-inlinesvg');\n\nvar Map = React.createClass({\n  displayName: 'Map',\n\n  mixins: [Router.Navigation],\n\n  render: function render() {\n    var _this = this;\n\n    var _props = this.props;\n    var number = _props.number;\n    var prevLink = _props.prevLink;\n    var nextLink = _props.nextLink;\n\n    var extraProps = _objectWithoutProperties(_props, ['number', 'prevLink', 'nextLink']);\n\n    var thumbnail = React.createElement('img', {\n      src: 'https://artsmia.github.io/map/galleries/' + number + '.png',\n      onClick: this.handleClick\n    });\n    var floor = this.state.floor || this.props.floor || parseInt(parseInt(number) / 100);\n    var svg = React.createElement(\n      'div',\n      { style: { cursor: 'pointer' } },\n      React.createElement(\n        'div',\n        {\n          onClick: this.handleMapClick,\n          onMouseOver: this.handleMouseOver,\n          onMouseOut: this.handleMouseOut },\n        React.createElement(\n          Isvg,\n          {\n            src: '/map/svgs/' + floor + '.svg',\n            key: floor,\n            onLoad: this.handleSvgLoad,\n            preloader: function (props) {\n              return thumbnail;\n            }\n          },\n          thumbnail\n        )\n      ),\n      React.createElement(FloorControls, {\n        map: this,\n        active: floor,\n        handleChange: this.changeFloor,\n        closeMap: function () {\n          return _this.setState({ open: false });\n        },\n        startOpen: this.props.startOpen\n      })\n    );\n\n    return React.createElement(\n      'div',\n      extraProps,\n      React.createElement(\n        'div',\n        { className: cx('map', { open: this.state.open }) },\n        this.state.open ? svg : thumbnail\n      ),\n      number && (prevLink || nextLink) && React.createElement(\n        'div',\n        { style: { textAlign: 'center' } },\n        prevLink,\n        React.createElement(\n          'span',\n          null,\n          ' G',\n          number,\n          ' '\n        ),\n        nextLink\n      )\n    );\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      open: this.props.startOpen || false\n    };\n  },\n\n  handleClick: function handleClick() {\n    if (!this.state.open) return this.setState({ open: true });\n  },\n\n  handleMapClick: function handleMapClick(event) {\n    var text = this.getSvgText(event.target);\n    if (text) {\n      var gallery = text.textContent.match(/(\\d+a?)/)[0];\n      if (266 <= parseInt(gallery) && parseInt(gallery) <= 274) gallery = '266-G274';\n      this.highlightGallery(text);\n      this.changeGallery(gallery);\n    }\n  },\n\n  handleMouseOver: function handleMouseOver(event) {\n    if (!this.state.open) return; // don't handle mouseover until map opens\n\n    var text = this.getSvgText(event.target);\n    if (text) {\n      var gallery = text.textContent.match(/(\\d+a?)/)[0];\n      this.hoverGallery(text);\n      this.props.onHover && this.props.onHover(gallery);\n    }\n  },\n\n  handleMouseOut: function handleMouseOut(event) {\n    this.setState({ hoveredPoly: null });\n  },\n\n  // recursively climb the SVG from where the click event happened\n  // until we find a `<text>` node, which will tell us what gallery\n  // was clicked\n  getSvgText: function getSvgText(node) {\n    var wantedNode = arguments.length <= 1 || arguments[1] === undefined ? 'text' : arguments[1];\n\n    if (node.nodeName == wantedNode) return node;\n\n    var parent = node.parentElement;\n    if (parent.nodeName !== 'g') return null;\n\n    var next = parent.querySelector(wantedNode) || parent;\n    return this.getSvgText(next);\n  },\n\n  handleSvgLoad: function handleSvgLoad(event) {\n    var _this2 = this;\n\n    var allTexts = ReactDOM.findDOMNode(this).querySelectorAll('svg text');\n    var activeText = Array.from(allTexts).filter(function (t) {\n      return t.textContent == _this2.props.number;\n    });\n    this.highlightGallery(activeText && activeText[0]);\n\n    this.props.onSvgLoad && this.props.onSvgLoad();\n  },\n\n  changeGallery: function changeGallery(nextGallery) {\n    this.transitionTo('gallery', { gallery: nextGallery });\n  },\n\n  highlightGallery: function highlightGallery(element) {\n    var poly = this.colorGallery(element);\n    var activePoly = this.state.activePoly;\n\n    this.setState({ activePoly: poly });\n  },\n\n  hoverGallery: function hoverGallery(element) {\n    var poly = this.colorGallery(element);\n    var hoveredPoly = this.state.hoveredPoly;\n\n    this.setState({ hoveredPoly: poly });\n  },\n\n  colorGallery: function colorGallery(element) {\n    if (!element) return;\n    var accentColor = '#fff';\n    var poly = element.parentElement.querySelector('polygon');\n    poly && poly.style.setProperty('fill', accentColor);\n    return poly;\n  },\n\n  resetGallery: function resetGallery(poly) {\n    // `style.fill` overrides the `fill` attribute without clobbering it\n    // so we can reset it to the original color with `''`\n    poly && poly.style.setProperty('fill', '');\n  },\n\n  componentDidUpdate: function componentDidUpdate(prevProps, prevState) {\n    var prevActive = prevState.activePoly;\n    var prevHovered = prevState.hoveredPoly;\n    var _state = this.state;\n    var activePoly = _state.activePoly;\n    var hoveredPoly = _state.hoveredPoly;\n\n    if (prevActive != activePoly) this.resetGallery(prevActive);\n    if (prevHovered != hoveredPoly && prevHovered != activePoly) this.resetGallery(prevHovered);\n\n    if (prevProps.number !== this.props.number) {\n      this.handleSvgLoad(); // reset the highlighted gallery\n    }\n  },\n\n  changeFloor: function changeFloor(toFloor) {\n    this.setState({ floor: toFloor });\n  }\n});\n\nvar FloorControls = React.createClass({\n  displayName: 'FloorControls',\n\n  render: function render() {\n    var _this3 = this;\n\n    var buttonStyle = { display: 'block' };\n    var floorControls = [3, 2, 1].map(function (_floor) {\n      var text = _floor == _this3.props.active ? 'floor ' + _floor : _floor;\n      return React.createElement(\n        'button',\n        { style: buttonStyle, onClick: _this3.props.handleChange.bind(_this3.props.map, _floor), key: _floor },\n        text\n      );\n    });\n\n    var controlStyle = {\n      float: 'right',\n      margin: '-7em 2em 0 0',\n      position: 'relative',\n      zIndex: '10'\n    };\n\n    // position: 'fixed',\n    // right: '0',\n    // bottom: '1em',\n    return React.createElement(\n      'div',\n      { style: controlStyle },\n      floorControls,\n      !this.props.startOpen && React.createElement(\n        'button',\n        { style: buttonStyle, onClick: this.props.closeMap },\n        'close map'\n      )\n    );\n  }\n});\n\nmodule.exports = Map;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0UsQ0FBQTtLQUNWLENBQUMsQ0FBQTs7QUFFRixRQUFJLFlBQVksR0FBRztBQUNqQixXQUFLLEVBQUUsT0FBTztBQUNkLFlBQU0sRUFBRSxjQUFjO0FBQ3RCLGNBQVEsRUFBRSxVQUFVO0FBQ3BCLFlBQU0sRUFBRSxJQUFJO0tBSWIsQ0FBQTs7Ozs7QUFFRCxXQUFPOztRQUFLLEtBQUssRUFBRSxZQUFZLEFBQUM7TUFDN0IsYUFBYTtNQUNiLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLElBQUk7O1VBQVEsS0FBSyxFQUFFLFdBQVcsQUFBQyxFQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQUFBQzs7T0FBbUI7S0FDbEcsQ0FBQTtHQUNQO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvbWFwLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJlYWN0RE9NID0gcmVxdWlyZSgncmVhY3QtZG9tJylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIGN4ID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpXG52YXIgSXN2ZyA9IHJlcXVpcmUoJ3JlYWN0LWlubGluZXN2ZycpXG5cbnZhciBNYXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIG1peGluczogW1JvdXRlci5OYXZpZ2F0aW9uXSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHtudW1iZXIsIHByZXZMaW5rLCBuZXh0TGluaywgLi4uZXh0cmFQcm9wc30gPSB0aGlzLnByb3BzXG4gICAgdmFyIHRodW1ibmFpbCA9IDxpbWdcbiAgICAgICAgc3JjPXtgaHR0cHM6Ly9hcnRzbWlhLmdpdGh1Yi5pby9tYXAvZ2FsbGVyaWVzLyR7bnVtYmVyfS5wbmdgfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfVxuICAgICAgICAvPlxuICAgIHZhciBmbG9vciA9IHRoaXMuc3RhdGUuZmxvb3JcbiAgICAgIHx8IHRoaXMucHJvcHMuZmxvb3JcbiAgICAgIHx8IHBhcnNlSW50KHBhcnNlSW50KG51bWJlcikvMTAwKVxuICAgIHZhciBzdmcgPSA8ZGl2IHN0eWxlPXt7Y3Vyc29yOiAncG9pbnRlcid9fT5cbiAgICAgIDxkaXZcbiAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVNYXBDbGlja31cbiAgICAgICAgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlTW91c2VPdmVyfVxuICAgICAgICBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZU1vdXNlT3V0fT5cbiAgICAgICAgPElzdmdcbiAgICAgICAgICBzcmM9e2AvbWFwL3N2Z3MvJHtmbG9vcn0uc3ZnYH1cbiAgICAgICAgICBrZXk9e2Zsb29yfVxuICAgICAgICAgIG9uTG9hZD17dGhpcy5oYW5kbGVTdmdMb2FkfVxuICAgICAgICAgIHByZWxvYWRlcj17KHByb3BzKSA9PiB0aHVtYm5haWx9XG4gICAgICAgID57dGh1bWJuYWlsfTwvSXN2Zz5cbiAgICAgIDwvZGl2PlxuICAgICAgPEZsb29yQ29udHJvbHNcbiAgICAgICAgbWFwPXt0aGlzfVxuICAgICAgICBhY3RpdmU9e2Zsb29yfVxuICAgICAgICBoYW5kbGVDaGFuZ2U9e3RoaXMuY2hhbmdlRmxvb3J9XG4gICAgICAgIGNsb3NlTWFwPXsoKSA9PiB0aGlzLnNldFN0YXRlKHtvcGVuOiBmYWxzZX0pfVxuICAgICAgICBzdGFydE9wZW49e3RoaXMucHJvcHMuc3RhcnRPcGVufVxuICAgICAgICAvPlxuICAgIDwvZGl2PlxuXG4gICAgcmV0dXJuIDxkaXYgey4uLmV4dHJhUHJvcHN9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e2N4KCdtYXAnLCB7b3BlbjogdGhpcy5zdGF0ZS5vcGVufSl9PlxuICAgICAgICB7dGhpcy5zdGF0ZS5vcGVuID8gc3ZnIDogdGh1bWJuYWlsfVxuICAgICAgPC9kaXY+XG4gICAgICB7bnVtYmVyICYmIChwcmV2TGluayB8fCBuZXh0TGluaykgJiYgPGRpdiBzdHlsZT17e3RleHRBbGlnbjogJ2NlbnRlcid9fT5cbiAgICAgICAge3ByZXZMaW5rfVxuICAgICAgICA8c3Bhbj4gR3tudW1iZXJ9IDwvc3Bhbj5cbiAgICAgICAge25leHRMaW5rfVxuICAgICAgPC9kaXY+fVxuICAgIDwvZGl2PlxuICB9LFxuXG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb3BlbjogdGhpcy5wcm9wcy5zdGFydE9wZW4gfHwgZmFsc2UsXG4gICAgfVxuICB9LFxuXG4gIGhhbmRsZUNsaWNrKCkge1xuICAgIGlmKCF0aGlzLnN0YXRlLm9wZW4pIHJldHVybiB0aGlzLnNldFN0YXRlKHtvcGVuOiB0cnVlfSlcbiAgfSxcblxuICBoYW5kbGVNYXBDbGljayhldmVudCkge1xuICAgIHZhciB0ZXh0ID0gdGhpcy5nZXRTdmdUZXh0KGV2ZW50LnRhcmdldClcbiAgICBpZih0ZXh0KSB7XG4gICAgICB2YXIgZ2FsbGVyeSA9IHRleHQudGV4dENvbnRlbnQubWF0Y2goLyhcXGQrYT8pLylbMF1cbiAgICAgIGlmKDI2NiA8PSBwYXJzZUludChnYWxsZXJ5KSAmJiBwYXJzZUludChnYWxsZXJ5KSA8PSAyNzQpIGdhbGxlcnkgPSAnMjY2LUcyNzQnXG4gICAgICB0aGlzLmhpZ2hsaWdodEdhbGxlcnkodGV4dClcbiAgICAgIHRoaXMuY2hhbmdlR2FsbGVyeShnYWxsZXJ5KVxuICAgIH1cbiAgfSxcblxuICBoYW5kbGVNb3VzZU92ZXIoZXZlbnQpIHtcbiAgICBpZighdGhpcy5zdGF0ZS5vcGVuKSByZXR1cm4gLy8gZG9uJ3QgaGFuZGxlIG1vdXNlb3ZlciB1bnRpbCBtYXAgb3BlbnNcblxuICAgIHZhciB0ZXh0ID0gdGhpcy5nZXRTdmdUZXh0KGV2ZW50LnRhcmdldClcbiAgICBpZih0ZXh0KSB7XG4gICAgICB2YXIgZ2FsbGVyeSA9IHRleHQudGV4dENvbnRlbnQubWF0Y2goLyhcXGQrYT8pLylbMF1cbiAgICAgIHRoaXMuaG92ZXJHYWxsZXJ5KHRleHQpXG4gICAgICB0aGlzLnByb3BzLm9uSG92ZXIgJiYgdGhpcy5wcm9wcy5vbkhvdmVyKGdhbGxlcnkpXG4gICAgfVxuICB9LFxuXG4gIGhhbmRsZU1vdXNlT3V0KGV2ZW50KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7aG92ZXJlZFBvbHk6IG51bGx9KVxuICB9LFxuXG4gIC8vIHJlY3Vyc2l2ZWx5IGNsaW1iIHRoZSBTVkcgZnJvbSB3aGVyZSB0aGUgY2xpY2sgZXZlbnQgaGFwcGVuZWRcbiAgLy8gdW50aWwgd2UgZmluZCBhIGA8dGV4dD5gIG5vZGUsIHdoaWNoIHdpbGwgdGVsbCB1cyB3aGF0IGdhbGxlcnlcbiAgLy8gd2FzIGNsaWNrZWRcbiAgZ2V0U3ZnVGV4dChub2RlLCB3YW50ZWROb2RlPSd0ZXh0Jykge1xuICAgIGlmKG5vZGUubm9kZU5hbWUgPT0gd2FudGVkTm9kZSkgcmV0dXJuIG5vZGVcblxuICAgIHZhciBwYXJlbnQgPSBub2RlLnBhcmVudEVsZW1lbnRcbiAgICBpZihwYXJlbnQubm9kZU5hbWUgIT09ICdnJykgcmV0dXJuIG51bGxcblxuICAgIHZhciBuZXh0ID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3Iod2FudGVkTm9kZSkgfHwgcGFyZW50XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3ZnVGV4dChuZXh0KVxuICB9LFxuXG4gIGhhbmRsZVN2Z0xvYWQoZXZlbnQpIHtcbiAgICB2YXIgYWxsVGV4dHMgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKS5xdWVyeVNlbGVjdG9yQWxsKCdzdmcgdGV4dCcpXG4gICAgdmFyIGFjdGl2ZVRleHQgPSBBcnJheS5mcm9tKGFsbFRleHRzKVxuICAgIC5maWx0ZXIodCA9PiB0LnRleHRDb250ZW50ID09IHRoaXMucHJvcHMubnVtYmVyKVxuICAgIHRoaXMuaGlnaGxpZ2h0R2FsbGVyeShhY3RpdmVUZXh0ICYmIGFjdGl2ZVRleHRbMF0pXG5cbiAgICB0aGlzLnByb3BzLm9uU3ZnTG9hZCAmJiB0aGlzLnByb3BzLm9uU3ZnTG9hZCgpXG4gIH0sXG5cbiAgY2hhbmdlR2FsbGVyeShuZXh0R2FsbGVyeSkge1xuICAgIHRoaXMudHJhbnNpdGlvblRvKCdnYWxsZXJ5Jywge2dhbGxlcnk6IG5leHRHYWxsZXJ5fSlcbiAgfSxcblxuICBoaWdobGlnaHRHYWxsZXJ5KGVsZW1lbnQpIHtcbiAgICB2YXIgcG9seSA9IHRoaXMuY29sb3JHYWxsZXJ5KGVsZW1lbnQpXG4gICAgdmFyIHthY3RpdmVQb2x5fSA9IHRoaXMuc3RhdGVcbiAgICB0aGlzLnNldFN0YXRlKHthY3RpdmVQb2x5OiBwb2x5fSlcbiAgfSxcblxuICBob3ZlckdhbGxlcnkoZWxlbWVudCkge1xuICAgIHZhciBwb2x5ID0gdGhpcy5jb2xvckdhbGxlcnkoZWxlbWVudClcbiAgICB2YXIge2hvdmVyZWRQb2x5fSA9IHRoaXMuc3RhdGVcbiAgICB0aGlzLnNldFN0YXRlKHtob3ZlcmVkUG9seTogcG9seX0pXG4gIH0sXG5cbiAgY29sb3JHYWxsZXJ5KGVsZW1lbnQpIHtcbiAgICBpZighZWxlbWVudCkgcmV0dXJuXG4gICAgdmFyIGFjY2VudENvbG9yID0gJyNmZmYnXG4gICAgdmFyIHBvbHkgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcigncG9seWdvbicpXG4gICAgcG9seSAmJiBwb2x5LnN0eWxlLnNldFByb3BlcnR5KCdmaWxsJywgYWNjZW50Q29sb3IpXG4gICAgcmV0dXJuIHBvbHlcbiAgfSxcblxuICByZXNldEdhbGxlcnkocG9seSkge1xuICAgIC8vIGBzdHlsZS5maWxsYCBvdmVycmlkZXMgdGhlIGBmaWxsYCBhdHRyaWJ1dGUgd2l0aG91dCBjbG9iYmVyaW5nIGl0XG4gICAgLy8gc28gd2UgY2FuIHJlc2V0IGl0IHRvIHRoZSBvcmlnaW5hbCBjb2xvciB3aXRoIGAnJ2BcbiAgICBwb2x5ICYmIHBvbHkuc3R5bGUuc2V0UHJvcGVydHkoJ2ZpbGwnLCAnJylcbiAgfSxcblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICBsZXQgcHJldkFjdGl2ZSA9IHByZXZTdGF0ZS5hY3RpdmVQb2x5XG4gICAgbGV0IHByZXZIb3ZlcmVkID0gcHJldlN0YXRlLmhvdmVyZWRQb2x5XG4gICAgbGV0IHthY3RpdmVQb2x5LCBob3ZlcmVkUG9seX0gPSB0aGlzLnN0YXRlXG5cbiAgICBpZihwcmV2QWN0aXZlICE9IGFjdGl2ZVBvbHkpIHRoaXMucmVzZXRHYWxsZXJ5KHByZXZBY3RpdmUpXG4gICAgaWYocHJldkhvdmVyZWQgIT0gaG92ZXJlZFBvbHkgJiYgcHJldkhvdmVyZWQgIT0gYWN0aXZlUG9seSkgdGhpcy5yZXNldEdhbGxlcnkocHJldkhvdmVyZWQpXG5cbiAgICBpZihwcmV2UHJvcHMubnVtYmVyICE9PSB0aGlzLnByb3BzLm51bWJlcikge1xuICAgICAgdGhpcy5oYW5kbGVTdmdMb2FkKCkgLy8gcmVzZXQgdGhlIGhpZ2hsaWdodGVkIGdhbGxlcnlcbiAgICB9XG4gIH0sXG5cbiAgY2hhbmdlRmxvb3IodG9GbG9vcikge1xuICAgIHRoaXMuc2V0U3RhdGUoe2Zsb29yOiB0b0Zsb29yfSlcbiAgfSxcbn0pXG5cbnZhciBGbG9vckNvbnRyb2xzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIGJ1dHRvblN0eWxlID0ge2Rpc3BsYXk6ICdibG9jayd9XG4gICAgdmFyIGZsb29yQ29udHJvbHMgPSBbMywyLDFdLm1hcChfZmxvb3IgPT4ge1xuICAgICAgdmFyIHRleHQgPSBfZmxvb3IgPT0gdGhpcy5wcm9wcy5hY3RpdmUgPyBgZmxvb3IgJHtfZmxvb3J9YCA6IF9mbG9vclxuICAgICAgcmV0dXJuIDxidXR0b24gc3R5bGU9e2J1dHRvblN0eWxlfSBvbkNsaWNrPXt0aGlzLnByb3BzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMucHJvcHMubWFwLCBfZmxvb3IpfSBrZXk9e19mbG9vcn0+XG4gICAgICAgIHt0ZXh0fVxuICAgICAgPC9idXR0b24+XG4gICAgfSlcblxuICAgIHZhciBjb250cm9sU3R5bGUgPSB7XG4gICAgICBmbG9hdDogJ3JpZ2h0JyxcbiAgICAgIG1hcmdpbjogJy03ZW0gMmVtIDAgMCcsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHpJbmRleDogJzEwJyxcbiAgICAgIC8vIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgLy8gcmlnaHQ6ICcwJyxcbiAgICAgIC8vIGJvdHRvbTogJzFlbScsXG4gICAgfVxuXG4gICAgcmV0dXJuIDxkaXYgc3R5bGU9e2NvbnRyb2xTdHlsZX0+XG4gICAgICB7Zmxvb3JDb250cm9sc31cbiAgICAgIHshdGhpcy5wcm9wcy5zdGFydE9wZW4gJiYgPGJ1dHRvbiBzdHlsZT17YnV0dG9uU3R5bGV9IG9uQ2xpY2s9e3RoaXMucHJvcHMuY2xvc2VNYXB9PmNsb3NlIG1hcDwvYnV0dG9uPn1cbiAgICA8L2Rpdj5cbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gTWFwXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/map.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/map.js",
      "sourcesContent": [
        "var React = require('react')\nvar ReactDOM = require('react-dom')\nvar Router = require('react-router')\nvar cx = require('classnames')\nvar Isvg = require('react-inlinesvg')\n\nvar Map = React.createClass({\n  mixins: [Router.Navigation],\n\n  render() {\n    var {number, prevLink, nextLink, ...extraProps} = this.props\n    var thumbnail = <img\n        src={`https://artsmia.github.io/map/galleries/${number}.png`}\n        onClick={this.handleClick}\n        />\n    var floor = this.state.floor\n      || this.props.floor\n      || parseInt(parseInt(number)/100)\n    var svg = <div style={{cursor: 'pointer'}}>\n      <div\n        onClick={this.handleMapClick}\n        onMouseOver={this.handleMouseOver}\n        onMouseOut={this.handleMouseOut}>\n        <Isvg\n          src={`/map/svgs/${floor}.svg`}\n          key={floor}\n          onLoad={this.handleSvgLoad}\n          preloader={(props) => thumbnail}\n        >{thumbnail}</Isvg>\n      </div>\n      <FloorControls\n        map={this}\n        active={floor}\n        handleChange={this.changeFloor}\n        closeMap={() => this.setState({open: false})}\n        startOpen={this.props.startOpen}\n        />\n    </div>\n\n    return <div {...extraProps}>\n      <div className={cx('map', {open: this.state.open})}>\n        {this.state.open ? svg : thumbnail}\n      </div>\n      {number && (prevLink || nextLink) && <div style={{textAlign: 'center'}}>\n        {prevLink}\n        <span> G{number} </span>\n        {nextLink}\n      </div>}\n    </div>\n  },\n\n  getInitialState() {\n    return {\n      open: this.props.startOpen || false,\n    }\n  },\n\n  handleClick() {\n    if(!this.state.open) return this.setState({open: true})\n  },\n\n  handleMapClick(event) {\n    var text = this.getSvgText(event.target)\n    if(text) {\n      var gallery = text.textContent.match(/(\\d+a?)/)[0]\n      if(266 <= parseInt(gallery) && parseInt(gallery) <= 274) gallery = '266-G274'\n      this.highlightGallery(text)\n      this.changeGallery(gallery)\n    }\n  },\n\n  handleMouseOver(event) {\n    if(!this.state.open) return // don't handle mouseover until map opens\n\n    var text = this.getSvgText(event.target)\n    if(text) {\n      var gallery = text.textContent.match(/(\\d+a?)/)[0]\n      this.hoverGallery(text)\n      this.props.onHover && this.props.onHover(gallery)\n    }\n  },\n\n  handleMouseOut(event) {\n    this.setState({hoveredPoly: null})\n  },\n\n  // recursively climb the SVG from where the click event happened\n  // until we find a `<text>` node, which will tell us what gallery\n  // was clicked\n  getSvgText(node, wantedNode='text') {\n    if(node.nodeName == wantedNode) return node\n\n    var parent = node.parentElement\n    if(parent.nodeName !== 'g') return null\n\n    var next = parent.querySelector(wantedNode) || parent\n    return this.getSvgText(next)\n  },\n\n  handleSvgLoad(event) {\n    var allTexts = ReactDOM.findDOMNode(this).querySelectorAll('svg text')\n    var activeText = Array.from(allTexts)\n    .filter(t => t.textContent == this.props.number)\n    this.highlightGallery(activeText && activeText[0])\n\n    this.props.onSvgLoad && this.props.onSvgLoad()\n  },\n\n  changeGallery(nextGallery) {\n    this.transitionTo('gallery', {gallery: nextGallery})\n  },\n\n  highlightGallery(element) {\n    var poly = this.colorGallery(element)\n    var {activePoly} = this.state\n    this.setState({activePoly: poly})\n  },\n\n  hoverGallery(element) {\n    var poly = this.colorGallery(element)\n    var {hoveredPoly} = this.state\n    this.setState({hoveredPoly: poly})\n  },\n\n  colorGallery(element) {\n    if(!element) return\n    var accentColor = '#fff'\n    var poly = element.parentElement.querySelector('polygon')\n    poly && poly.style.setProperty('fill', accentColor)\n    return poly\n  },\n\n  resetGallery(poly) {\n    // `style.fill` overrides the `fill` attribute without clobbering it\n    // so we can reset it to the original color with `''`\n    poly && poly.style.setProperty('fill', '')\n  },\n\n  componentDidUpdate(prevProps, prevState) {\n    let prevActive = prevState.activePoly\n    let prevHovered = prevState.hoveredPoly\n    let {activePoly, hoveredPoly} = this.state\n\n    if(prevActive != activePoly) this.resetGallery(prevActive)\n    if(prevHovered != hoveredPoly && prevHovered != activePoly) this.resetGallery(prevHovered)\n\n    if(prevProps.number !== this.props.number) {\n      this.handleSvgLoad() // reset the highlighted gallery\n    }\n  },\n\n  changeFloor(toFloor) {\n    this.setState({floor: toFloor})\n  },\n})\n\nvar FloorControls = React.createClass({\n  render() {\n    var buttonStyle = {display: 'block'}\n    var floorControls = [3,2,1].map(_floor => {\n      var text = _floor == this.props.active ? `floor ${_floor}` : _floor\n      return <button style={buttonStyle} onClick={this.props.handleChange.bind(this.props.map, _floor)} key={_floor}>\n        {text}\n      </button>\n    })\n\n    var controlStyle = {\n      float: 'right',\n      margin: '-7em 2em 0 0',\n      position: 'relative',\n      zIndex: '10',\n      // position: 'fixed',\n      // right: '0',\n      // bottom: '1em',\n    }\n\n    return <div style={controlStyle}>\n      {floorControls}\n      {!this.props.startOpen && <button style={buttonStyle} onClick={this.props.closeMap}>close map</button>}\n    </div>\n  },\n})\n\nmodule.exports = Map\n"
      ]
    },
    "mtime": 1488248774578
  },
  "{\"filename\":\"/var/www/art/src/decorate/highlights.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "\"use strict\";\n\nvar React = require('react');\n\nvar HighlightsDecorator = React.createClass({\n  displayName: \"HighlightsDecorator\",\n\n  render: function render() {\n    return React.createElement(\n      \"div\",\n      { className: \"decorator d-highlights\" },\n      React.createElement(\n        \"p\",\n        null,\n        \"These are the highlights of Mia's collection. The must-see masterpieces, the beloved visitor favorites, the great stories of the museum. Each has something important to say about creativity and wonder, the world and our place in it. What do they say to you?\"\n      )\n    );\n  }\n});\n\nmodule.exports = HighlightsDecorator;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZGVjb3JhdGUvaGlnaGxpZ2h0cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTs7QUFFNUIsSUFBSSxtQkFBbUIsR0FBSSxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDM0MsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsV0FBTzs7UUFBSyxTQUFTLEVBQUMsd0JBQXdCO01BQUM7Ozs7T0FLM0M7S0FBTSxDQUFBO0dBQ1g7Q0FDRixDQUFDLENBQUE7O0FBRUYsTUFBTSxDQUFDLE9BQU8sR0FBRyxtQkFBbUIsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2RlY29yYXRlL2hpZ2hsaWdodHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG5cbnZhciBIaWdobGlnaHRzRGVjb3JhdG9yID0gIFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImRlY29yYXRvciBkLWhpZ2hsaWdodHNcIj48cD5cbiAgICAgIFRoZXNlIGFyZSB0aGUgaGlnaGxpZ2h0cyBvZiBNaWEncyBjb2xsZWN0aW9uLiBUaGUgbXVzdC1zZWUgbWFzdGVycGllY2VzLFxuICAgICAgdGhlIGJlbG92ZWQgdmlzaXRvciBmYXZvcml0ZXMsIHRoZSBncmVhdCBzdG9yaWVzIG9mIHRoZSBtdXNldW0uIEVhY2ggaGFzXG4gICAgICBzb21ldGhpbmcgaW1wb3J0YW50IHRvIHNheSBhYm91dCBjcmVhdGl2aXR5IGFuZCB3b25kZXIsIHRoZSB3b3JsZCBhbmQgb3VyXG4gICAgICBwbGFjZSBpbiBpdC4gV2hhdCBkbyB0aGV5IHNheSB0byB5b3U/XG4gICAgPC9wPjwvZGl2PlxuICB9XG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IEhpZ2hsaWdodHNEZWNvcmF0b3JcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/decorate/highlights.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;AAE5B,IAAI,mBAAmB,GAAI,KAAK,CAAC,WAAW,CAAC;;;AAC3C,QAAM,EAAA,kBAAG;AACP,WAAO;;QAAK,SAAS,EAAC,wBAAwB;MAAC;;;;OAK3C;KAAM,CAAA;GACX;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,mBAAmB,CAAA",
      "file": "/var/www/art/src/decorate/highlights.js",
      "sourcesContent": [
        "var React = require('react')\n\nvar HighlightsDecorator =  React.createClass({\n  render() {\n    return <div className=\"decorator d-highlights\"><p>\n      These are the highlights of Mia's collection. The must-see masterpieces,\n      the beloved visitor favorites, the great stories of the museum. Each has\n      something important to say about creativity and wonder, the world and our\n      place in it. What do they say to you?\n    </p></div>\n  }\n})\n\nmodule.exports = HighlightsDecorator\n"
      ]
    },
    "mtime": 1447960210959
  },
  "{\"filename\":\"/var/www/art/src/decorate/recent.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "\"use strict\";\n\nvar React = require('react');\n\nvar RecentDecorator = React.createClass({\n  displayName: \"RecentDecorator\",\n\n  render: function render() {\n    return React.createElement(\n      \"div\",\n      { className: \"decorator d-highlights\" },\n      React.createElement(\n        \"p\",\n        null,\n        \"Mia continues to add important artworks to its collection that enrich our perspectives on artists, eras, and cultures.\"\n      )\n    );\n  }\n});\n\nmodule.exports = RecentDecorator;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZGVjb3JhdGUvcmVjZW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBOztBQUU1QixJQUFJLGVBQWUsR0FBSSxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDdkMsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsV0FBTzs7UUFBSyxTQUFTLEVBQUMsd0JBQXdCO01BQUM7Ozs7T0FHM0M7S0FBTSxDQUFBO0dBQ1g7Q0FDRixDQUFDLENBQUE7O0FBRUYsTUFBTSxDQUFDLE9BQU8sR0FBRyxlQUFlLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9kZWNvcmF0ZS9yZWNlbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG5cbnZhciBSZWNlbnREZWNvcmF0b3IgPSAgUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiZGVjb3JhdG9yIGQtaGlnaGxpZ2h0c1wiPjxwPlxuICAgICAgTWlhIGNvbnRpbnVlcyB0byBhZGQgaW1wb3J0YW50IGFydHdvcmtzIHRvIGl0cyBjb2xsZWN0aW9uIHRoYXQgZW5yaWNoIG91clxuICAgICAgcGVyc3BlY3RpdmVzIG9uIGFydGlzdHMsIGVyYXMsIGFuZCBjdWx0dXJlcy5cbiAgICA8L3A+PC9kaXY+XG4gIH1cbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gUmVjZW50RGVjb3JhdG9yXG5cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/decorate/recent.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;AAE5B,IAAI,eAAe,GAAI,KAAK,CAAC,WAAW,CAAC;;;AACvC,QAAM,EAAA,kBAAG;AACP,WAAO;;QAAK,SAAS,EAAC,wBAAwB;MAAC;;;;OAG3C;KAAM,CAAA;GACX;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,eAAe,CAAA",
      "file": "/var/www/art/src/decorate/recent.js",
      "sourcesContent": [
        "var React = require('react')\n\nvar RecentDecorator =  React.createClass({\n  render() {\n    return <div className=\"decorator d-highlights\"><p>\n      Mia continues to add important artworks to its collection that enrich our\n      perspectives on artists, eras, and cultures.\n    </p></div>\n  }\n})\n\nmodule.exports = RecentDecorator\n\n"
      ]
    },
    "mtime": 1447960210959
  },
  "{\"filename\":\"/var/www/art/src/decorate/rights.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\n\nvar rightsDescriptions = require('../rights-types.js');\n\nvar RightsDecorator = React.createClass({\n  displayName: 'RightsDecorator',\n\n  render: function render() {\n    var rightsType = this.props.term[0].match(/rights:\"?([^\"]*)\"?/)[1];\n    var rightsDesc = rightsDescriptions[rightsType];\n    if (!rightsDesc) return React.createElement('span', null);\n\n    return React.createElement(\n      'div',\n      { className: 'decorator' },\n      React.createElement(\n        'h3',\n        null,\n        rightsType\n      ),\n      React.createElement(\n        'p',\n        null,\n        rightsDesc,\n        ' ',\n        React.createElement(\n          'a',\n          { href: 'https://new.artsmia.org/visit/policies-guidelines/#websiteimageaccess&use' },\n          'Mia\\'s Image Access & Use Policy'\n        )\n      )\n    );\n  }\n});\n\nmodule.exports = RightsDecorator;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZGVjb3JhdGUvcmlnaHRzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBOztBQUU1QixJQUFJLGtCQUFrQixHQUFHLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFBOztBQUV0RCxJQUFJLGVBQWUsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDdEMsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsUUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLG9CQUFvQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDbEUsUUFBSSxVQUFVLEdBQUcsa0JBQWtCLENBQUMsVUFBVSxDQUFDLENBQUE7QUFDL0MsUUFBRyxDQUFDLFVBQVUsRUFBRSxPQUFPLGlDQUFRLENBQUE7O0FBRS9CLFdBQU87O1FBQUssU0FBUyxFQUFDLFdBQVc7TUFDL0I7OztRQUFLLFVBQVU7T0FBTTtNQUNyQjs7O1FBQUksVUFBVTs7UUFBRTs7WUFBRyxJQUFJLEVBQUMsMkVBQTJFOztTQUFvQztPQUFJO0tBQ3ZJLENBQUE7R0FDUDtDQUNGLENBQUMsQ0FBQTs7QUFFRixNQUFNLENBQUMsT0FBTyxHQUFHLGVBQWUsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2RlY29yYXRlL3JpZ2h0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcblxudmFyIHJpZ2h0c0Rlc2NyaXB0aW9ucyA9IHJlcXVpcmUoJy4uL3JpZ2h0cy10eXBlcy5qcycpXG5cbnZhciBSaWdodHNEZWNvcmF0b3IgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIgcmlnaHRzVHlwZSA9IHRoaXMucHJvcHMudGVybVswXS5tYXRjaCgvcmlnaHRzOlwiPyhbXlwiXSopXCI/LylbMV1cbiAgICB2YXIgcmlnaHRzRGVzYyA9IHJpZ2h0c0Rlc2NyaXB0aW9uc1tyaWdodHNUeXBlXVxuICAgIGlmKCFyaWdodHNEZXNjKSByZXR1cm4gPHNwYW4gLz5cblxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImRlY29yYXRvclwiPlxuICAgICAgPGgzPntyaWdodHNUeXBlfTwvaDM+XG4gICAgICA8cD57cmlnaHRzRGVzY30gPGEgaHJlZj1cImh0dHBzOi8vbmV3LmFydHNtaWEub3JnL3Zpc2l0L3BvbGljaWVzLWd1aWRlbGluZXMvI3dlYnNpdGVpbWFnZWFjY2VzcyZ1c2VcIj5NaWEncyBJbWFnZSBBY2Nlc3MgJiBVc2UgUG9saWN5PC9hPjwvcD5cbiAgICA8L2Rpdj5cbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gUmlnaHRzRGVjb3JhdG9yXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/decorate/rights.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;AAE5B,IAAI,kBAAkB,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAA;;AAEtD,IAAI,eAAe,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACtC,QAAM,EAAA,kBAAG;AACP,QAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,CAAA;AAClE,QAAI,UAAU,GAAG,kBAAkB,CAAC,UAAU,CAAC,CAAA;AAC/C,QAAG,CAAC,UAAU,EAAE,OAAO,iCAAQ,CAAA;;AAE/B,WAAO;;QAAK,SAAS,EAAC,WAAW;MAC/B;;;QAAK,UAAU;OAAM;MACrB;;;QAAI,UAAU;;QAAE;;YAAG,IAAI,EAAC,2EAA2E;;SAAoC;OAAI;KACvI,CAAA;GACP;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,eAAe,CAAA",
      "file": "/var/www/art/src/decorate/rights.js",
      "sourcesContent": [
        "var React = require('react')\n\nvar rightsDescriptions = require('../rights-types.js')\n\nvar RightsDecorator = React.createClass({\n  render() {\n    var rightsType = this.props.term[0].match(/rights:\"?([^\"]*)\"?/)[1]\n    var rightsDesc = rightsDescriptions[rightsType]\n    if(!rightsDesc) return <span />\n\n    return <div className=\"decorator\">\n      <h3>{rightsType}</h3>\n      <p>{rightsDesc} <a href=\"https://new.artsmia.org/visit/policies-guidelines/#websiteimageaccess&use\">Mia's Image Access & Use Policy</a></p>\n    </div>\n  },\n})\n\nmodule.exports = RightsDecorator\n"
      ]
    },
    "mtime": 1485807805246
  },
  "{\"filename\":\"/var/www/art/src/rights-types.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "\"use strict\";\n\nmodule.exports = {\n  \"Copyright Protected\": \"Artwork is copyright protected. Permission from the rights holder named here may be required for use. A copyright statement and credit line must accompany image.\",\n  \"Full Permission\": \"Artwork is copyright protected. Mia holds a non-exclusive license to reproduce images from the rights holder named here. A copyright statement and credit line must accompany image.\",\n  \"Need Permission\": \"Copyright protection is assumed for this artwork. Object rights status has not yet been determined or assigned.\",\n  \"No Known Copyright Restrictions\": \"Artwork may be protected by some other intellectual property, or may be considered ineligible for copyright protection (ex. useful articles). Alternately, artwork may be in the public domain in the United States, but the public domain status has not or cannot be clearly determined.\",\n  \"Non-commercial Use\": \"Artwork is copyright protected. Mia holds a non-exclusive license to reproduce images of this artwork, for limited non-commercial uses only, from the rights holder named here. A copyright statement and credit line must accompany image.\",\n  \"Orphaned Work\": \"Artwork may be subject to copyright protection under the terms of current US copyright law. Mia has been unable to identify the creator and/or rights holder. The statement “Copyright of the artist, artist’s estate, or assignees” should accompany image.\",\n  \"Public Domain\": \"Artwork is in the public domain. Images are available for any use.\",\n  \"Permission Denied\": \"Artwork is copyright protected. Mia has contacted the rights holder and the rights holder denied Mia any use rights.\"\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvcmlnaHRzLXR5cGVzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTSxDQUFDLE9BQU8sR0FBRztBQUNmLHVCQUFxQixFQUFFLG1LQUFtSztBQUMxTCxtQkFBaUIsRUFBRSxzTEFBc0w7QUFDek0sbUJBQWlCLEVBQUUsaUhBQWlIO0FBQ3BJLG1DQUFpQyxFQUFFLDRSQUE0UjtBQUMvVCxzQkFBb0IsRUFBRSw2T0FBNk87QUFDblEsaUJBQWUsRUFBRSw4UEFBOFA7QUFDL1EsaUJBQWUsRUFBRSxvRUFBb0U7QUFDckYscUJBQW1CLEVBQUUsc0hBQXNIO0NBQzVJLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9yaWdodHMtdHlwZXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgXCJDb3B5cmlnaHQgUHJvdGVjdGVkXCI6IFwiQXJ0d29yayBpcyBjb3B5cmlnaHQgcHJvdGVjdGVkLiBQZXJtaXNzaW9uIGZyb20gdGhlIHJpZ2h0cyBob2xkZXIgbmFtZWQgaGVyZSBtYXkgYmUgcmVxdWlyZWQgZm9yIHVzZS4gQSBjb3B5cmlnaHQgc3RhdGVtZW50IGFuZCBjcmVkaXQgbGluZSBtdXN0IGFjY29tcGFueSBpbWFnZS5cIixcbiAgXCJGdWxsIFBlcm1pc3Npb25cIjogXCJBcnR3b3JrIGlzIGNvcHlyaWdodCBwcm90ZWN0ZWQuIE1pYSBob2xkcyBhIG5vbi1leGNsdXNpdmUgbGljZW5zZSB0byByZXByb2R1Y2UgaW1hZ2VzIGZyb20gdGhlIHJpZ2h0cyBob2xkZXIgbmFtZWQgaGVyZS4gQSBjb3B5cmlnaHQgc3RhdGVtZW50IGFuZCBjcmVkaXQgbGluZSBtdXN0IGFjY29tcGFueSBpbWFnZS5cIixcbiAgXCJOZWVkIFBlcm1pc3Npb25cIjogXCJDb3B5cmlnaHQgcHJvdGVjdGlvbiBpcyBhc3N1bWVkIGZvciB0aGlzIGFydHdvcmsuIE9iamVjdCByaWdodHMgc3RhdHVzIGhhcyBub3QgeWV0IGJlZW4gZGV0ZXJtaW5lZCBvciBhc3NpZ25lZC5cIixcbiAgXCJObyBLbm93biBDb3B5cmlnaHQgUmVzdHJpY3Rpb25zXCI6IFwiQXJ0d29yayBtYXkgYmUgcHJvdGVjdGVkIGJ5IHNvbWUgb3RoZXIgaW50ZWxsZWN0dWFsIHByb3BlcnR5LCBvciBtYXkgYmUgY29uc2lkZXJlZCBpbmVsaWdpYmxlIGZvciBjb3B5cmlnaHQgcHJvdGVjdGlvbiAoZXguIHVzZWZ1bCBhcnRpY2xlcykuIEFsdGVybmF0ZWx5LCBhcnR3b3JrIG1heSBiZSBpbiB0aGUgcHVibGljIGRvbWFpbiBpbiB0aGUgVW5pdGVkIFN0YXRlcywgYnV0IHRoZSBwdWJsaWMgZG9tYWluIHN0YXR1cyBoYXMgbm90IG9yIGNhbm5vdCBiZSBjbGVhcmx5IGRldGVybWluZWQuXCIsXG4gIFwiTm9uLWNvbW1lcmNpYWwgVXNlXCI6IFwiQXJ0d29yayBpcyBjb3B5cmlnaHQgcHJvdGVjdGVkLiBNaWEgaG9sZHMgYSBub24tZXhjbHVzaXZlIGxpY2Vuc2UgdG8gcmVwcm9kdWNlIGltYWdlcyBvZiB0aGlzIGFydHdvcmssIGZvciBsaW1pdGVkIG5vbi1jb21tZXJjaWFsIHVzZXMgb25seSwgZnJvbSB0aGUgcmlnaHRzIGhvbGRlciBuYW1lZCBoZXJlLiBBIGNvcHlyaWdodCBzdGF0ZW1lbnQgYW5kIGNyZWRpdCBsaW5lIG11c3QgYWNjb21wYW55IGltYWdlLlwiLFxuICBcIk9ycGhhbmVkIFdvcmtcIjogXCJBcnR3b3JrIG1heSBiZSBzdWJqZWN0IHRvIGNvcHlyaWdodCBwcm90ZWN0aW9uIHVuZGVyIHRoZSB0ZXJtcyBvZiBjdXJyZW50IFVTIGNvcHlyaWdodCBsYXcuIE1pYSBoYXMgYmVlbiB1bmFibGUgdG8gaWRlbnRpZnkgdGhlIGNyZWF0b3IgYW5kL29yIHJpZ2h0cyBob2xkZXIuIFRoZSBzdGF0ZW1lbnQg4oCcQ29weXJpZ2h0IG9mIHRoZSBhcnRpc3QsIGFydGlzdOKAmXMgZXN0YXRlLCBvciBhc3NpZ25lZXPigJ0gc2hvdWxkIGFjY29tcGFueSBpbWFnZS5cIixcbiAgXCJQdWJsaWMgRG9tYWluXCI6IFwiQXJ0d29yayBpcyBpbiB0aGUgcHVibGljIGRvbWFpbi4gSW1hZ2VzIGFyZSBhdmFpbGFibGUgZm9yIGFueSB1c2UuXCIsXG4gIFwiUGVybWlzc2lvbiBEZW5pZWRcIjogXCJBcnR3b3JrIGlzIGNvcHlyaWdodCBwcm90ZWN0ZWQuIE1pYSBoYXMgY29udGFjdGVkIHRoZSByaWdodHMgaG9sZGVyIGFuZCB0aGUgcmlnaHRzIGhvbGRlciBkZW5pZWQgTWlhIGFueSB1c2UgcmlnaHRzLlwiLFxufVxuXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/rights-types.js"
      ],
      "names": [],
      "mappings": ";;AAAA,MAAM,CAAC,OAAO,GAAG;AACf,uBAAqB,EAAE,mKAAmK;AAC1L,mBAAiB,EAAE,sLAAsL;AACzM,mBAAiB,EAAE,iHAAiH;AACpI,mCAAiC,EAAE,4RAA4R;AAC/T,sBAAoB,EAAE,6OAA6O;AACnQ,iBAAe,EAAE,8PAA8P;AAC/Q,iBAAe,EAAE,oEAAoE;AACrF,qBAAmB,EAAE,sHAAsH;CAC5I,CAAA",
      "file": "/var/www/art/src/rights-types.js",
      "sourcesContent": [
        "module.exports = {\n  \"Copyright Protected\": \"Artwork is copyright protected. Permission from the rights holder named here may be required for use. A copyright statement and credit line must accompany image.\",\n  \"Full Permission\": \"Artwork is copyright protected. Mia holds a non-exclusive license to reproduce images from the rights holder named here. A copyright statement and credit line must accompany image.\",\n  \"Need Permission\": \"Copyright protection is assumed for this artwork. Object rights status has not yet been determined or assigned.\",\n  \"No Known Copyright Restrictions\": \"Artwork may be protected by some other intellectual property, or may be considered ineligible for copyright protection (ex. useful articles). Alternately, artwork may be in the public domain in the United States, but the public domain status has not or cannot be clearly determined.\",\n  \"Non-commercial Use\": \"Artwork is copyright protected. Mia holds a non-exclusive license to reproduce images of this artwork, for limited non-commercial uses only, from the rights holder named here. A copyright statement and credit line must accompany image.\",\n  \"Orphaned Work\": \"Artwork may be subject to copyright protection under the terms of current US copyright law. Mia has been unable to identify the creator and/or rights holder. The statement “Copyright of the artist, artist’s estate, or assignees” should accompany image.\",\n  \"Public Domain\": \"Artwork is in the public domain. Images are available for any use.\",\n  \"Permission Denied\": \"Artwork is copyright protected. Mia has contacted the rights holder and the rights holder denied Mia any use rights.\",\n}\n\n"
      ]
    },
    "mtime": 1461184284483
  },
  "{\"filename\":\"/var/www/art/src/aggregations.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends",
        "sliced-to-array"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar Aggregations = React.createClass({\n  displayName: 'Aggregations',\n\n  getInitialState: function getInitialState() {\n    return {\n      aggs: this.buildAndSortAggregationsArray(),\n      showAdder: true\n    };\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    this.setState({ aggs: this.buildAndSortAggregationsArray(nextProps) });\n  },\n\n  render: function render() {\n    var _this = this;\n\n    var _props = this.props;\n    var search = _props.search;\n    var query = _props.query;\n    var _state = this.state;\n    var aggs = _state.aggs;\n    var showAdder = _state.showAdder;\n\n    var customFilters = this.customFilters;\n    var toggleAgg = function toggleAgg(agg) {\n      return _this.toggleAggregation.bind(_this, agg);\n    };\n    var toggleMoreAggs = this.toggleMoreAggs;\n    var defListStyle = { display: 'inline-block', margin: '0', verticalAlign: 'top' }; // , opacity: showAgg ? 1 : 0.5\n\n    return React.createElement(\n      'div',\n      { id: 'aggs' },\n      React.createElement(\n        'div',\n        { style: { width: '100%', overflowX: 'scroll', whiteSpace: 'nowrap', paddingBottom: '10px', paddingLeft: '10px' } },\n        this.sortBox(defListStyle),\n        aggs.map(function (agg) {\n          var aggIsActive = search.filters && search.filters.match(new RegExp(agg.name, 'i'));\n          var showAgg = agg.open || aggIsActive;\n          if (showAgg) return React.createElement(\n            'dl',\n            { key: agg.name, id: agg.name, style: defListStyle },\n            React.createElement(\n              'dt',\n              { style: { fontWeight: aggIsActive && 'bold' }, onClick: toggleAgg(agg) },\n              agg.displayName\n            ),\n            (agg.open || aggIsActive) && agg.buckets.slice(0, 5).map(function (bucket) {\n              var filterString = customFilters[agg.name] ? customFilters[agg.name][bucket.key] || bucket.key : agg.name.toLowerCase() + ':\"' + bucket.key + '\"';\n              var filterRegex = new RegExp(decodeURIComponent(filterString).replace(/([\\[\\]\\?])/, '\\\\$1'), 'i');\n              var bucketIsActive = search.filters && search.filters.match(filterRegex);\n              var newFilters = bucketIsActive ? search.filters.replace(filterRegex, '').trim() : ((search.filters || '') + ' ' + filterString).trim();\n              var bucketText = '' + (bucket.key || '\"\"');\n\n              if (bucket.key) return React.createElement(\n                'dd',\n                { key: agg.name + bucket.key, style: { margin: '0', fontWeight: bucketIsActive && 'bold', textDecoration: bucketIsActive && 'underline' } },\n                React.createElement(\n                  'span',\n                  { className: 'objectTotal' },\n                  React.createElement(\n                    Link,\n                    { to: newFilters == '' ? 'searchResults' : 'filteredSearchResults', query: query, params: { terms: '' + search.query, splat: newFilters } },\n                    bucketText,\n                    ' ',\n                    React.createElement(\n                      'span',\n                      { className: 'numbers' },\n                      bucket.doc_count\n                    )\n                  )\n                )\n              );\n            })\n          );\n        })\n      ),\n      React.createElement(\n        'div',\n        { id: 'more-aggs' },\n        React.createElement(\n          'dl',\n          null,\n          aggs.slice(3).map(function (agg) {\n            return React.createElement(\n              'dd',\n              { key: agg.name, onClick: toggleAgg(agg), style: { background: agg.open || agg.active ? 'rgb(35,35,35)' : 'white', color: agg.open || agg.active ? 'white' : 'rgb(35,35,35)' } },\n              agg.displayName\n            );\n          })\n        )\n      )\n    );\n  },\n\n  toggleAggregation: function toggleAggregation(agg) {\n    var aggs = this.state.aggs;\n\n    var open = aggs[aggs.indexOf(agg)].open;\n    aggs[aggs.indexOf(agg)].open = !open;\n    this.setState({ aggs: aggs });\n  },\n\n  toggleMoreAggs: function toggleMoreAggs() {\n    this.setState({ showAdder: !this.state.showAdder });\n  },\n\n  // Aggregations come from ES as an object with named keys.\n  //     {\"On View\": {…}, \"Artist\": {…}}\n  // I want a `map`able array of the objects:\n  //     [{name: \"On View\", …}, {name: \"Artist\", …}]\n  // This does that transform and sorts the new array in the order they should\n  // be displayed.\n  buildAndSortAggregationsArray: function buildAndSortAggregationsArray() {\n    var props = arguments.length <= 0 || arguments[0] === undefined ? this.props : arguments[0];\n    var search = props.search;\n\n    var aggs = props.search.aggregations;\n    var _aggs = [];\n    var order = [\"On View\", \"Image\", \"Department\", \"Artist\", \"Country\", \"Room\", \"Rights\", \"Title\", \"Style\"];\n\n    for (var agg in aggs) {\n      var openByDefault = order.slice(0, 3).indexOf(agg) > -1;\n      // make sure to show the value of the filter, even if there are no matches.\n      // If there's an active filter, and it's key isn't in the buckets of that aggregation,\n      // add it in.\n      // it's a big edge case, but happens when a filter is applied leading an empty\n      // result set.\n      var aggIsActive = search.filters && search.filters.match(new RegExp(agg + ':\"(.*?)\"', 'i'));\n      if (aggIsActive) {\n        var value = aggIsActive[1];\n        aggs[agg].buckets.find(function (_ref) {\n          var _ = _ref._;\n          var key = _ref.key;\n          return key == value;\n        }) || aggs[agg].buckets.push({ doc_count: 0, key: value });\n      }\n      _aggs.push(_extends({}, aggs[agg], {\n        name: agg,\n        open: openByDefault,\n        displayName: agg.replace(/_/g, ' '),\n        active: search.filters && search.filters.match(new RegExp(agg, 'i'))\n      }));\n    }\n\n    // Sort aggregations in this order, with any others sorted last\n    return _aggs.sort(function (a, b) {\n      var _map = [order.indexOf(a.name), order.indexOf(b.name)].map(function (index) {\n        return index == -1 ? 100 : index;\n      });\n\n      var _map2 = _slicedToArray(_map, 2);\n\n      var _a = _map2[0];\n      var _b = _map2[1];\n\n      return _a - _b;\n    });\n  },\n\n  customFilters: {\n    'On View': {\n      'On View': 'room:G*',\n      'Not on View': 'room:\"Not on View\"'\n    },\n    'Image': {\n      'Available': 'image:valid',\n      'Unavailable': 'image:invalid'\n    },\n    'Gist': {}\n  },\n\n  linkToCurrentSearchWithSort: function linkToCurrentSearchWithSort(newSort) {\n    var humanizeSnakeCase = function humanizeSnakeCase(s) {\n      return ('_' + s).replace(/_(.?)/g, function (_, x) {\n        return ' ' + x.toUpperCase();\n      }).trim();\n    };\n    var _props2 = this.props;\n    var search = _props2.search;\n    var query = _props2.query;\n    var params = _props2.params;\n\n    // var newParams = {terms: `${search.query}`}\n    var newFilters = '';\n\n    var _ref2 = query && query.sort ? query.sort.split('-') : [undefined, undefined];\n\n    var _ref22 = _slicedToArray(_ref2, 2);\n\n    var querySort = _ref22[0];\n    var querySortDirection = _ref22[1];\n\n    var currentSortIsDescending = querySortDirection === 'desc';\n    var sortIsActive = query && (querySort === newSort || newSort == 'relevance' && !querySort);\n    var humanName = humanizeSnakeCase(newSort.replace(/\\..*$/, ''));\n    var newQuery = _extends({}, query, {\n      sort: newSort\n    });\n    if (newSort === 'relevance') delete newQuery.sort;\n\n    var sortLink = sortIsActive ? humanName : React.createElement(\n      Link,\n      {\n        to: !params.splat ? 'searchResults' : 'filteredSearchResults',\n        query: newQuery,\n        params: params },\n      humanName\n    );\n\n    var complementarySortLink = React.createElement(\n      Link,\n      {\n        to: !params.splat ? 'searchResults' : 'filteredSearchResults',\n        query: _extends({}, newQuery, { sort: currentSortIsDescending ? newSort : newSort + '-desc' }),\n        title: 'Sort in ' + (currentSortIsDescending ? 'ascending' : 'descending') + ' order',\n        params: params },\n      currentSortIsDescending ? '↑' : '↓'\n    );\n\n    return sortIsActive && newSort !== 'relevance' ? React.createElement(\n      'span',\n      null,\n      sortLink,\n      '     ',\n      complementarySortLink\n    ) : sortLink;\n  },\n\n  sortBox: function sortBox(style) {\n    var _this2 = this;\n\n    var sorts = ['relevance', 'department.raw', 'accession_number.sort', 'title.raw', 'artist.raw', 'classification'];\n\n    return React.createElement(\n      'dl',\n      { style: style },\n      React.createElement(\n        'dt',\n        null,\n        'Sort by…'\n      ),\n      sorts.map(function (sort_key) {\n        return React.createElement(\n          'dd',\n          null,\n          _this2.linkToCurrentSearchWithSort(sort_key)\n        );\n      })\n    );\n  }\n});\n\nmodule.exports = Aggregations;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYWdncmVnYXRpb25zLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTs7ZUFDYixPQUFPLENBQUMsY0FBYyxDQUFDOztJQUFoQyxJQUFJLFlBQUosSUFBSTs7QUFFVixJQUFJLFlBQVksR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDbkMsaUJBQWUsRUFBQSwyQkFBRztBQUNoQixXQUFPO0FBQ0wsVUFBSSxFQUFFLElBQUksQ0FBQyw2QkFBNkIsRUFBRTtBQUMxQyxlQUFTLEVBQUUsSUFBSTtLQUNoQixDQUFBO0dBQ0Y7O0FBRUQsMkJBQXlCLEVBQUEsbUNBQUMsU0FBUyxFQUFFO0FBQ25DLFFBQUksQ0FBQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLDZCQUE2QixDQUFDLFNBQVMsQ0FBQyxFQUFDLENBQUMsQ0FBQTtHQUNyRTs7QUFFRCxRQUFNLEVBQUEsa0JBQUc7OztpQkFDaUIsSUFBSSxDQUFDLEtBQUs7UUFBM0IsTUFBTSxVQUFOLE1BQU07UUFBRSxLQUFLLFVBQUwsS0FBSztpQkFDTSxJQUFJLENBQUMsS0FBSztRQUE3QixJQUFJLFVBQUosSUFBSTtRQUFFLFNBQVMsVUFBVCxTQUFTOztBQUN0QixRQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFBO0FBQ3hDLFFBQU0sU0FBUyxHQUFHLFNBQVosU0FBUyxDQUFJLEdBQUc7YUFBSyxNQUFLLGlCQUFpQixDQUFDLElBQUksUUFBTyxHQUFHLENBQUM7S0FBQSxDQUFBO0FBQ2pFLFFBQU0sY0FBYyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUE7QUFDMUMsUUFBTSxZQUFZLEdBQUcsRUFBQyxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsYUFBYSxFQUFFLEtBQUssRUFBQyxDQUFBOztBQUVqRixXQUNFOztRQUFLLEVBQUUs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QUE7O0FBRXRDLFFBQU0scUJBQXFCLEdBQUc7QUFBQyxVQUFJOztBQUMvQixVQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLGVBQWUsR0FBRyx1QkFBdUIsQUFBQztBQUM5RCxhQUFLLGVBQU0sUUFBUSxJQUFFLElBQUksRUFBRSx1QkFBdUIsR0FBRyxPQUFPLEdBQU0sT0FBTyxVQUFPLEdBQUU7QUFDbEYsYUFBSyxnQkFBYSx1QkFBdUIsR0FBRyxXQUFXLEdBQUcsWUFBWSxDQUFBLFdBQVM7QUFDL0UsY0FBTSxFQUFFLE1BQU0sQUFBQztNQUFFLHVCQUF1QixHQUFHLEdBQUcsR0FBRyxHQUFHO0tBQVEsQ0FBQTs7QUFFaEUsV0FBTyxZQUFZLElBQUksT0FBTyxLQUFLLFdBQVcsR0FDNUM7OztNQUFPLFFBQVE7O01BQU8scUJBQXFCO0tBQVEsR0FDbkQsUUFBUSxDQUFBO0dBQ1g7O0FBRUQsU0FBTyxFQUFBLGlCQUFDLEtBQUssRUFBRTs7O0FBQ2IsUUFBSSxLQUFLLEdBQUcsQ0FBQyxXQUFXLEVBQUUsZ0JBQWdCLEVBQUUsdUJBQXVCLEVBQUUsV0FBVyxFQUFFLFlBQVksRUFBRSxnQkFBZ0IsQ0FBQyxDQUFBOztBQUVqSCxXQUFPOztRQUFJLEtBQUssRUFBRSxLQUFLLEFBQUM7TUFDdEI7Ozs7T0FBaUI7TUFDaEIsS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFBLFFBQVEsRUFBSTtBQUNyQixlQUFPOzs7VUFBSyxPQUFLLDJCQUEyQixDQUFDLFFBQVEsQ0FBQztTQUFNLENBQUE7T0FDN0QsQ0FBQztLQUNDLENBQUE7R0FDTjtDQUNGLENBQUMsQ0FBQTs7QUFFRixNQUFNLENBQUMsT0FBTyxHQUFHLFlBQVksQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2FnZ3JlZ2F0aW9ucy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciB7IExpbmsgfSA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG5cbnZhciBBZ2dyZWdhdGlvbnMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWdnczogdGhpcy5idWlsZEFuZFNvcnRBZ2dyZWdhdGlvbnNBcnJheSgpLFxuICAgICAgc2hvd0FkZGVyOiB0cnVlLFxuICAgIH1cbiAgfSxcblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIHRoaXMuc2V0U3RhdGUoe2FnZ3M6IHRoaXMuYnVpbGRBbmRTb3J0QWdncmVnYXRpb25zQXJyYXkobmV4dFByb3BzKX0pXG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtzZWFyY2gsIHF1ZXJ5fSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCB7YWdncywgc2hvd0FkZGVyfSA9IHRoaXMuc3RhdGVcbiAgICBjb25zdCBjdXN0b21GaWx0ZXJzID0gdGhpcy5jdXN0b21GaWx0ZXJzXG4gICAgY29uc3QgdG9nZ2xlQWdnID0gKGFnZykgPT4gdGhpcy50b2dnbGVBZ2dyZWdhdGlvbi5iaW5kKHRoaXMsIGFnZylcbiAgICBjb25zdCB0b2dnbGVNb3JlQWdncyA9IHRoaXMudG9nZ2xlTW9yZUFnZ3NcbiAgICBjb25zdCBkZWZMaXN0U3R5bGUgPSB7ZGlzcGxheTogJ2lubGluZS1ibG9jaycsIG1hcmdpbjogJzAnLCB2ZXJ0aWNhbEFsaWduOiAndG9wJ30gLy8gLCBvcGFjaXR5OiBzaG93QWdnID8gMSA6IDAuNVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgaWQ9XCJhZ2dzXCIgPlxuICAgICAgICA8ZGl2IHN0eWxlPXt7d2lkdGg6ICcxMDAlJywgb3ZlcmZsb3dYOiAnc2Nyb2xsJywgd2hpdGVTcGFjZTogJ25vd3JhcCcsIHBhZGRpbmdCb3R0b206ICcxMHB4JywgcGFkZGluZ0xlZnQ6ICcxMHB4J319PlxuICAgICAgICB7dGhpcy5zb3J0Qm94KGRlZkxpc3RTdHlsZSl9XG4gICAgICAgIHthZ2dzLm1hcChmdW5jdGlvbihhZ2cpIHtcbiAgICAgICAgICBjb25zdCBhZ2dJc0FjdGl2ZSA9IHNlYXJjaC5maWx0ZXJzICYmIHNlYXJjaC5maWx0ZXJzLm1hdGNoKG5ldyBSZWdFeHAoYWdnLm5hbWUsICdpJykpXG4gICAgICAgICAgY29uc3Qgc2hvd0FnZyA9IGFnZy5vcGVuIHx8IGFnZ0lzQWN0aXZlXG4gICAgICAgICAgaWYoc2hvd0FnZykgcmV0dXJuICg8ZGwga2V5PXthZ2cubmFtZX0gaWQ9e2FnZy5uYW1lfSBzdHlsZT17ZGVmTGlzdFN0eWxlfT5cbiAgICAgICAgICAgIDxkdCBzdHlsZT17e2ZvbnRXZWlnaHQ6IGFnZ0lzQWN0aXZlICYmICdib2xkJ319IG9uQ2xpY2s9e3RvZ2dsZUFnZyhhZ2cpfT57YWdnLmRpc3BsYXlOYW1lfTwvZHQ+XG4gICAgICAgICAgICB7KGFnZy5vcGVuIHx8IGFnZ0lzQWN0aXZlKSAmJiBhZ2cuYnVja2V0cy5zbGljZSgwLCA1KS5tYXAoZnVuY3Rpb24oYnVja2V0KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGZpbHRlclN0cmluZyA9IGN1c3RvbUZpbHRlcnNbYWdnLm5hbWVdID8gY3VzdG9tRmlsdGVyc1thZ2cubmFtZV1bYnVja2V0LmtleV0gfHwgYnVja2V0LmtleSA6IGFnZy5uYW1lLnRvTG93ZXJDYXNlKCkrJzpcIicrYnVja2V0LmtleSsnXCInXG4gICAgICAgICAgICAgIGNvbnN0IGZpbHRlclJlZ2V4ID0gbmV3IFJlZ0V4cChkZWNvZGVVUklDb21wb25lbnQoZmlsdGVyU3RyaW5nKS5yZXBsYWNlKC8oW1xcW1xcXVxcP10pLywgJ1xcXFwkMScpLCAnaScpXG4gICAgICAgICAgICAgIGNvbnN0IGJ1Y2tldElzQWN0aXZlID0gc2VhcmNoLmZpbHRlcnMgJiYgc2VhcmNoLmZpbHRlcnMubWF0Y2goZmlsdGVyUmVnZXgpXG4gICAgICAgICAgICAgIGNvbnN0IG5ld0ZpbHRlcnMgPSBidWNrZXRJc0FjdGl2ZSA/XG4gICAgICAgICAgICAgICAgc2VhcmNoLmZpbHRlcnMucmVwbGFjZShmaWx0ZXJSZWdleCwgJycpLnRyaW0oKSA6XG4gICAgICAgICAgICAgICAgYCR7c2VhcmNoLmZpbHRlcnMgfHwgJyd9ICR7ZmlsdGVyU3RyaW5nfWAudHJpbSgpXG4gICAgICAgICAgICAgIGNvbnN0IGJ1Y2tldFRleHQgPSBgJHtidWNrZXQua2V5IHx8ICdcIlwiJ31gXG5cbiAgICAgICAgICAgICAgaWYoYnVja2V0LmtleSkgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGQga2V5PXthZ2cubmFtZStidWNrZXQua2V5fSBzdHlsZT17e21hcmdpbjogJzAnLCBmb250V2VpZ2h0OiBidWNrZXRJc0FjdGl2ZSAmJiAnYm9sZCcsIHRleHREZWNvcmF0aW9uOiBidWNrZXRJc0FjdGl2ZSAmJiAndW5kZXJsaW5lJ319PjxzcGFuIGNsYXNzTmFtZT0nb2JqZWN0VG90YWwnPlxuICAgICAgICAgICAgICAgICAgezxMaW5rIHRvPXtuZXdGaWx0ZXJzID09ICcnID8gJ3NlYXJjaFJlc3VsdHMnIDogJ2ZpbHRlcmVkU2VhcmNoUmVzdWx0cyd9IHF1ZXJ5PXtxdWVyeX0gcGFyYW1zPXt7dGVybXM6IGAke3NlYXJjaC5xdWVyeX1gLCBzcGxhdDogbmV3RmlsdGVyc319PlxuICAgICAgICAgICAgICAgICAgICAgIHtidWNrZXRUZXh0fSA8c3BhbiBjbGFzc05hbWU9XCJudW1iZXJzXCI+e2J1Y2tldC5kb2NfY291bnR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9MaW5rPn08L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kZD5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPC9kbD4pXG4gICAgICAgIH0pfTwvZGl2PlxuICAgICAgICA8ZGl2IGlkPVwibW9yZS1hZ2dzXCI+XG4gICAgICAgICAgICA8ZGw+e2FnZ3Muc2xpY2UoMykubWFwKGFnZyA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiA8ZGQga2V5PXthZ2cubmFtZX0gb25DbGljaz17dG9nZ2xlQWdnKGFnZyl9IHN0eWxlPXt7IGJhY2tncm91bmQ6IGFnZy5vcGVuIHx8IGFnZy5hY3RpdmUgPyAncmdiKDM1LDM1LDM1KScgOiAnd2hpdGUnLCBjb2xvcjogYWdnLm9wZW4gfHwgYWdnLmFjdGl2ZSA/ICd3aGl0ZScgOiAncmdiKDM1LDM1LDM1KSd9fT57YWdnLmRpc3BsYXlOYW1lfTwvZGQ+XG4gICAgICAgICAgICB9KX08L2RsPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH0sXG5cbiAgdG9nZ2xlQWdncmVnYXRpb24oYWdnKSB7XG4gICAgdmFyIHthZ2dzfSA9IHRoaXMuc3RhdGVcbiAgICB2YXIgb3BlbiA9IGFnZ3NbYWdncy5pbmRleE9mKGFnZyldLm9wZW5cbiAgICBhZ2dzW2FnZ3MuaW5kZXhPZihhZ2cpXS5vcGVuID0gIW9wZW5cbiAgICB0aGlzLnNldFN0YXRlKHthZ2dzOiBhZ2dzfSlcbiAgfSxcblxuICB0b2dnbGVNb3JlQWdncygpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtzaG93QWRkZXI6ICF0aGlzLnN0YXRlLnNob3dBZGRlcn0pXG4gIH0sXG5cbiAgLy8gQWdncmVnYXRpb25zIGNvbWUgZnJvbSBFUyBhcyBhbiBvYmplY3Qgd2l0aCBuYW1lZCBrZXlzLlxuICAvLyAgICAge1wiT24gVmlld1wiOiB74oCmfSwgXCJBcnRpc3RcIjoge+KApn19XG4gIC8vIEkgd2FudCBhIGBtYXBgYWJsZSBhcnJheSBvZiB0aGUgb2JqZWN0czpcbiAgLy8gICAgIFt7bmFtZTogXCJPbiBWaWV3XCIsIOKApn0sIHtuYW1lOiBcIkFydGlzdFwiLCDigKZ9XVxuICAvLyBUaGlzIGRvZXMgdGhhdCB0cmFuc2Zvcm0gYW5kIHNvcnRzIHRoZSBuZXcgYXJyYXkgaW4gdGhlIG9yZGVyIHRoZXkgc2hvdWxkXG4gIC8vIGJlIGRpc3BsYXllZC5cbiAgYnVpbGRBbmRTb3J0QWdncmVnYXRpb25zQXJyYXkocHJvcHMgPSB0aGlzLnByb3BzKSB7XG4gICAgY29uc3Qge3NlYXJjaH0gPSBwcm9wc1xuICAgIGNvbnN0IGFnZ3MgPSBwcm9wcy5zZWFyY2guYWdncmVnYXRpb25zXG4gICAgY29uc3QgX2FnZ3MgPSBbXVxuICAgIGNvbnN0IG9yZGVyID0gW1wiT24gVmlld1wiLCBcIkltYWdlXCIsIFwiRGVwYXJ0bWVudFwiLCBcIkFydGlzdFwiLCBcIkNvdW50cnlcIiwgXCJSb29tXCIsIFwiUmlnaHRzXCIsIFwiVGl0bGVcIiwgXCJTdHlsZVwiXVxuXG4gICAgZm9yKHZhciBhZ2cgaW4gYWdncykge1xuICAgICAgY29uc3Qgb3BlbkJ5RGVmYXVsdCA9IG9yZGVyLnNsaWNlKDAsIDMpLmluZGV4T2YoYWdnKSA+IC0xXG4gICAgICAvLyBtYWtlIHN1cmUgdG8gc2hvdyB0aGUgdmFsdWUgb2YgdGhlIGZpbHRlciwgZXZlbiBpZiB0aGVyZSBhcmUgbm8gbWF0Y2hlcy5cbiAgICAgIC8vIElmIHRoZXJlJ3MgYW4gYWN0aXZlIGZpbHRlciwgYW5kIGl0J3Mga2V5IGlzbid0IGluIHRoZSBidWNrZXRzIG9mIHRoYXQgYWdncmVnYXRpb24sXG4gICAgICAvLyBhZGQgaXQgaW4uXG4gICAgICAvLyBpdCdzIGEgYmlnIGVkZ2UgY2FzZSwgYnV0IGhhcHBlbnMgd2hlbiBhIGZpbHRlciBpcyBhcHBsaWVkIGxlYWRpbmcgYW4gZW1wdHlcbiAgICAgIC8vIHJlc3VsdCBzZXQuXG4gICAgICBjb25zdCBhZ2dJc0FjdGl2ZSA9IHNlYXJjaC5maWx0ZXJzICYmIHNlYXJjaC5maWx0ZXJzLm1hdGNoKG5ldyBSZWdFeHAoYCR7YWdnfTpcIiguKj8pXCJgLCAnaScpKVxuICAgICAgaWYoYWdnSXNBY3RpdmUpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYWdnSXNBY3RpdmVbMV1cbiAgICAgICAgYWdnc1thZ2ddLmJ1Y2tldHMuZmluZCgoe18sIGtleX0pID0+IGtleSA9PSB2YWx1ZSkgfHwgYWdnc1thZ2ddLmJ1Y2tldHMucHVzaCh7ZG9jX2NvdW50OiAwLCBrZXk6IHZhbHVlfSlcbiAgICAgIH1cbiAgICAgIF9hZ2dzLnB1c2goe1xuICAgICAgICAuLi5hZ2dzW2FnZ10sXG4gICAgICAgIG5hbWU6IGFnZyxcbiAgICAgICAgb3Blbjogb3BlbkJ5RGVmYXVsdCxcbiAgICAgICAgZGlzcGxheU5hbWU6IGFnZy5yZXBsYWNlKC9fL2csICcgJyksXG4gICAgICAgIGFjdGl2ZTogc2VhcmNoLmZpbHRlcnMgJiYgc2VhcmNoLmZpbHRlcnMubWF0Y2gobmV3IFJlZ0V4cChhZ2csICdpJykpLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBTb3J0IGFnZ3JlZ2F0aW9ucyBpbiB0aGlzIG9yZGVyLCB3aXRoIGFueSBvdGhlcnMgc29ydGVkIGxhc3RcbiAgICByZXR1cm4gX2FnZ3Muc29ydCgoYSwgYikgPT4ge1xuICAgICAgbGV0IFtfYSwgX2JdID0gW29yZGVyLmluZGV4T2YoYS5uYW1lKSwgb3JkZXIuaW5kZXhPZihiLm5hbWUpXS5tYXAoaW5kZXggPT4gaW5kZXggPT0gLTEgPyAxMDAgOiBpbmRleClcbiAgICAgIHJldHVybiBfYSAtIF9iXG4gICAgfSlcbiAgfSxcblxuICBjdXN0b21GaWx0ZXJzOiB7XG4gICAgJ09uIFZpZXcnOiB7XG4gICAgICAnT24gVmlldyc6ICdyb29tOkcqJyxcbiAgICAgICdOb3Qgb24gVmlldyc6ICdyb29tOlwiTm90IG9uIFZpZXdcIidcbiAgICB9LFxuICAgICdJbWFnZSc6IHtcbiAgICAgICdBdmFpbGFibGUnOiAnaW1hZ2U6dmFsaWQnLFxuICAgICAgJ1VuYXZhaWxhYmxlJzogJ2ltYWdlOmludmFsaWQnLFxuICAgIH0sXG4gICAgJ0dpc3QnOiB7fSxcbiAgfSxcblxuICBsaW5rVG9DdXJyZW50U2VhcmNoV2l0aFNvcnQobmV3U29ydCkge1xuICAgIHZhciBodW1hbml6ZVNuYWtlQ2FzZSA9IChzKSA9PiBgXyR7c31gXG4gICAgICAucmVwbGFjZSgvXyguPykvZywgKF8sIHgpID0+IGAgJHt4LnRvVXBwZXJDYXNlKCl9YCkudHJpbSgpXG4gICAgdmFyIHtzZWFyY2gsIHF1ZXJ5LCBwYXJhbXN9ID0gdGhpcy5wcm9wc1xuICAgIC8vIHZhciBuZXdQYXJhbXMgPSB7dGVybXM6IGAke3NlYXJjaC5xdWVyeX1gfVxuICAgIHZhciBuZXdGaWx0ZXJzID0gJydcbiAgICB2YXIgW3F1ZXJ5U29ydCwgcXVlcnlTb3J0RGlyZWN0aW9uXSA9IHF1ZXJ5ICYmIHF1ZXJ5LnNvcnQgP1xuICAgICAgcXVlcnkuc29ydC5zcGxpdCgnLScpIDpcbiAgICAgIFt1bmRlZmluZWQsIHVuZGVmaW5lZF1cbiAgICB2YXIgY3VycmVudFNvcnRJc0Rlc2NlbmRpbmcgPSBxdWVyeVNvcnREaXJlY3Rpb24gPT09ICdkZXNjJ1xuICAgIHZhciBzb3J0SXNBY3RpdmUgPSBxdWVyeSAmJiAocXVlcnlTb3J0ID09PSBuZXdTb3J0IHx8IG5ld1NvcnQgPT0gJ3JlbGV2YW5jZScgJiYgIXF1ZXJ5U29ydClcbiAgICB2YXIgaHVtYW5OYW1lID0gaHVtYW5pemVTbmFrZUNhc2UobmV3U29ydC5yZXBsYWNlKC9cXC4uKiQvLCAnJykpXG4gICAgdmFyIG5ld1F1ZXJ5ID0ge1xuICAgICAgLi4ucXVlcnksXG4gICAgICBzb3J0OiBuZXdTb3J0LFxuICAgIH1cbiAgICBpZihuZXdTb3J0ID09PSAncmVsZXZhbmNlJykgZGVsZXRlIG5ld1F1ZXJ5LnNvcnRcblxuICAgIGNvbnN0IHNvcnRMaW5rID0gc29ydElzQWN0aXZlID9cbiAgICAgIGh1bWFuTmFtZSA6XG4gICAgICA8TGlua1xuICAgICAgICB0bz17IXBhcmFtcy5zcGxhdCA/ICdzZWFyY2hSZXN1bHRzJyA6ICdmaWx0ZXJlZFNlYXJjaFJlc3VsdHMnfVxuICAgICAgICBxdWVyeT17bmV3UXVlcnl9XG4gICAgICAgIHBhcmFtcz17cGFyYW1zfT57aHVtYW5OYW1lfTwvTGluaz5cblxuICAgIGNvbnN0IGNvbXBsZW1lbnRhcnlTb3J0TGluayA9IDxMaW5rXG4gICAgICAgIHRvPXshcGFyYW1zLnNwbGF0ID8gJ3NlYXJjaFJlc3VsdHMnIDogJ2ZpbHRlcmVkU2VhcmNoUmVzdWx0cyd9XG4gICAgICAgIHF1ZXJ5PXt7Li4ubmV3UXVlcnksIHNvcnQ6IGN1cnJlbnRTb3J0SXNEZXNjZW5kaW5nID8gbmV3U29ydCA6IGAke25ld1NvcnR9LWRlc2NgfX1cbiAgICAgICAgdGl0bGU9e2BTb3J0IGluICR7Y3VycmVudFNvcnRJc0Rlc2NlbmRpbmcgPyAnYXNjZW5kaW5nJyA6ICdkZXNjZW5kaW5nJ30gb3JkZXJgfVxuICAgICAgICBwYXJhbXM9e3BhcmFtc30+e2N1cnJlbnRTb3J0SXNEZXNjZW5kaW5nID8gJ+KGkScgOiAn4oaTJ308L0xpbms+XG5cbiAgICByZXR1cm4gc29ydElzQWN0aXZlICYmIG5ld1NvcnQgIT09ICdyZWxldmFuY2UnID8gXG4gICAgICA8c3Bhbj57c29ydExpbmt9ICAgICB7Y29tcGxlbWVudGFyeVNvcnRMaW5rfTwvc3Bhbj4gOlxuICAgICAgc29ydExpbmtcbiAgfSxcblxuICBzb3J0Qm94KHN0eWxlKSB7XG4gICAgdmFyIHNvcnRzID0gWydyZWxldmFuY2UnLCAnZGVwYXJ0bWVudC5yYXcnLCAnYWNjZXNzaW9uX251bWJlci5zb3J0JywgJ3RpdGxlLnJhdycsICdhcnRpc3QucmF3JywgJ2NsYXNzaWZpY2F0aW9uJ11cblxuICAgIHJldHVybiA8ZGwgc3R5bGU9e3N0eWxlfT5cbiAgICAgIDxkdD5Tb3J0IGJ54oCmPC9kdD5cbiAgICAgIHtzb3J0cy5tYXAoc29ydF9rZXkgPT4ge1xuICAgICAgICByZXR1cm4gPGRkPnt0aGlzLmxpbmtUb0N1cnJlbnRTZWFyY2hXaXRoU29ydChzb3J0X2tleSl9PC9kZD5cbiAgICAgIH0pfVxuICAgIDwvZGw+XG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFnZ3JlZ2F0aW9uc1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/aggregations.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/aggregations.js",
      "sourcesContent": [
        "var React = require('react')\nvar { Link } = require('react-router')\n\nvar Aggregations = React.createClass({\n  getInitialState() {\n    return {\n      aggs: this.buildAndSortAggregationsArray(),\n      showAdder: true,\n    }\n  },\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({aggs: this.buildAndSortAggregationsArray(nextProps)})\n  },\n\n  render() {\n    const {search, query} = this.props\n    const {aggs, showAdder} = this.state\n    const customFilters = this.customFilters\n    const toggleAgg = (agg) => this.toggleAggregation.bind(this, agg)\n    const toggleMoreAggs = this.toggleMoreAggs\n    const defListStyle = {display: 'inline-block', margin: '0', verticalAlign: 'top'} // , opacity: showAgg ? 1 : 0.5\n\n    return (\n      <div id=\"aggs\" >\n        <div style={{width: '100%', overflowX: 'scroll', whiteSpace: 'nowrap', paddingBottom: '10px', paddingLeft: '10px'}}>\n        {this.sortBox(defListStyle)}\n        {aggs.map(function(agg) {\n          const aggIsActive = search.filters && search.filters.match(new RegExp(agg.name, 'i'))\n          const showAgg = agg.open || aggIsActive\n          if(showAgg) return (<dl key={agg.name} id={agg.name} style={defListStyle}>\n            <dt style={{fontWeight: aggIsActive && 'bold'}} onClick={toggleAgg(agg)}>{agg.displayName}</dt>\n            {(agg.open || aggIsActive) && agg.buckets.slice(0, 5).map(function(bucket) {\n              const filterString = customFilters[agg.name] ? customFilters[agg.name][bucket.key] || bucket.key : agg.name.toLowerCase()+':\"'+bucket.key+'\"'\n              const filterRegex = new RegExp(decodeURIComponent(filterString).replace(/([\\[\\]\\?])/, '\\\\$1'), 'i')\n              const bucketIsActive = search.filters && search.filters.match(filterRegex)\n              const newFilters = bucketIsActive ?\n                search.filters.replace(filterRegex, '').trim() :\n                `${search.filters || ''} ${filterString}`.trim()\n              const bucketText = `${bucket.key || '\"\"'}`\n\n              if(bucket.key) return (\n                <dd key={agg.name+bucket.key} style={{margin: '0', fontWeight: bucketIsActive && 'bold', textDecoration: bucketIsActive && 'underline'}}><span className='objectTotal'>\n                  {<Link to={newFilters == '' ? 'searchResults' : 'filteredSearchResults'} query={query} params={{terms: `${search.query}`, splat: newFilters}}>\n                      {bucketText} <span className=\"numbers\">{bucket.doc_count}</span>\n                  </Link>}</span>\n                </dd>\n              )\n            })}\n          </dl>)\n        })}</div>\n        <div id=\"more-aggs\">\n            <dl>{aggs.slice(3).map(agg => {\n              return <dd key={agg.name} onClick={toggleAgg(agg)} style={{ background: agg.open || agg.active ? 'rgb(35,35,35)' : 'white', color: agg.open || agg.active ? 'white' : 'rgb(35,35,35)'}}>{agg.displayName}</dd>\n            })}</dl>\n\n          </div>\n      </div>\n    )\n  },\n\n  toggleAggregation(agg) {\n    var {aggs} = this.state\n    var open = aggs[aggs.indexOf(agg)].open\n    aggs[aggs.indexOf(agg)].open = !open\n    this.setState({aggs: aggs})\n  },\n\n  toggleMoreAggs() {\n    this.setState({showAdder: !this.state.showAdder})\n  },\n\n  // Aggregations come from ES as an object with named keys.\n  //     {\"On View\": {…}, \"Artist\": {…}}\n  // I want a `map`able array of the objects:\n  //     [{name: \"On View\", …}, {name: \"Artist\", …}]\n  // This does that transform and sorts the new array in the order they should\n  // be displayed.\n  buildAndSortAggregationsArray(props = this.props) {\n    const {search} = props\n    const aggs = props.search.aggregations\n    const _aggs = []\n    const order = [\"On View\", \"Image\", \"Department\", \"Artist\", \"Country\", \"Room\", \"Rights\", \"Title\", \"Style\"]\n\n    for(var agg in aggs) {\n      const openByDefault = order.slice(0, 3).indexOf(agg) > -1\n      // make sure to show the value of the filter, even if there are no matches.\n      // If there's an active filter, and it's key isn't in the buckets of that aggregation,\n      // add it in.\n      // it's a big edge case, but happens when a filter is applied leading an empty\n      // result set.\n      const aggIsActive = search.filters && search.filters.match(new RegExp(`${agg}:\"(.*?)\"`, 'i'))\n      if(aggIsActive) {\n        var value = aggIsActive[1]\n        aggs[agg].buckets.find(({_, key}) => key == value) || aggs[agg].buckets.push({doc_count: 0, key: value})\n      }\n      _aggs.push({\n        ...aggs[agg],\n        name: agg,\n        open: openByDefault,\n        displayName: agg.replace(/_/g, ' '),\n        active: search.filters && search.filters.match(new RegExp(agg, 'i')),\n      })\n    }\n\n    // Sort aggregations in this order, with any others sorted last\n    return _aggs.sort((a, b) => {\n      let [_a, _b] = [order.indexOf(a.name), order.indexOf(b.name)].map(index => index == -1 ? 100 : index)\n      return _a - _b\n    })\n  },\n\n  customFilters: {\n    'On View': {\n      'On View': 'room:G*',\n      'Not on View': 'room:\"Not on View\"'\n    },\n    'Image': {\n      'Available': 'image:valid',\n      'Unavailable': 'image:invalid',\n    },\n    'Gist': {},\n  },\n\n  linkToCurrentSearchWithSort(newSort) {\n    var humanizeSnakeCase = (s) => `_${s}`\n      .replace(/_(.?)/g, (_, x) => ` ${x.toUpperCase()}`).trim()\n    var {search, query, params} = this.props\n    // var newParams = {terms: `${search.query}`}\n    var newFilters = ''\n    var [querySort, querySortDirection] = query && query.sort ?\n      query.sort.split('-') :\n      [undefined, undefined]\n    var currentSortIsDescending = querySortDirection === 'desc'\n    var sortIsActive = query && (querySort === newSort || newSort == 'relevance' && !querySort)\n    var humanName = humanizeSnakeCase(newSort.replace(/\\..*$/, ''))\n    var newQuery = {\n      ...query,\n      sort: newSort,\n    }\n    if(newSort === 'relevance') delete newQuery.sort\n\n    const sortLink = sortIsActive ?\n      humanName :\n      <Link\n        to={!params.splat ? 'searchResults' : 'filteredSearchResults'}\n        query={newQuery}\n        params={params}>{humanName}</Link>\n\n    const complementarySortLink = <Link\n        to={!params.splat ? 'searchResults' : 'filteredSearchResults'}\n        query={{...newQuery, sort: currentSortIsDescending ? newSort : `${newSort}-desc`}}\n        title={`Sort in ${currentSortIsDescending ? 'ascending' : 'descending'} order`}\n        params={params}>{currentSortIsDescending ? '↑' : '↓'}</Link>\n\n    return sortIsActive && newSort !== 'relevance' ? \n      <span>{sortLink}     {complementarySortLink}</span> :\n      sortLink\n  },\n\n  sortBox(style) {\n    var sorts = ['relevance', 'department.raw', 'accession_number.sort', 'title.raw', 'artist.raw', 'classification']\n\n    return <dl style={style}>\n      <dt>Sort by…</dt>\n      {sorts.map(sort_key => {\n        return <dd>{this.linkToCurrentSearchWithSort(sort_key)}</dd>\n      })}\n    </dl>\n  },\n})\n\nmodule.exports = Aggregations\n"
      ]
    },
    "mtime": 1485807805238
  },
  "{\"filename\":\"/var/www/art/src/search-language.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar searchLanguageMap = function searchLanguageMap(queryText) {\n  var map = {\n    'recent:true': \"Recent Accessions\",\n    'highlight:true': \"Museum Highlights\",\n    'deaccessioned:\"true\"': \"Deaccessioned\",\n    '_exists_:\"provenance\"': \"provenance information exists\",\n    '_exists_:\"related:conservation\"': 'Conserved artworks',\n    '_exists_:\"related:artstories\"': \"ArtStories\",\n    '_exists_:\"related:newsflashes\"': \"NewsFlashes\",\n    '_exists_:\"related:audio-stops\"': \"Audio stops\",\n    '_exists_:\"related:stories\"': \"Mia Stories\",\n    '_exists_:\"related:adopt-a-painting\"': \"Adopt-a-Painting\",\n    'room:G*': 'On View',\n    'room:\"Not on View\"': 'Not on View',\n    'image:valid': \"Image Available\",\n    'image:invalid': \"Image Unavailable\",\n    'room:\"G320\"': \"TODO: need to match parameters more cleverly? This should return 'In Gallery 320' or something\"\n  };\n\n  var reversedMap = Object.keys(map).reduce(function (reversed, key) {\n    reversed[map[key]] = key;return reversed;\n  }, {});\n\n  var trimmedQuery = queryText && queryText.trim();\n\n  return map[trimmedQuery] || reversedMap[trimmedQuery] || queryText;\n};\n\nmodule.exports = searchLanguageMap;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvc2VhcmNoLWxhbmd1YWdlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSSxpQkFBaUIsR0FBRyxTQUFwQixpQkFBaUIsQ0FBSSxTQUFTLEVBQUs7QUFDckMsTUFBSSxHQUFHLEdBQUc7QUFDUixpQkFBYSxFQUFFLG1CQUFtQjtBQUNsQyxvQkFBZ0IsRUFBRSxtQkFBbUI7QUFDckMsMEJBQXNCLEVBQUUsZUFBZTtBQUN2QywyQkFBdUIsRUFBRSwrQkFBK0I7QUFDeEQscUNBQWlDLEVBQUUsb0JBQW9CO0FBQ3ZELG1DQUErQixFQUFFLFlBQVk7QUFDN0Msb0NBQWdDLEVBQUUsYUFBYTtBQUMvQyxvQ0FBZ0MsRUFBRSxhQUFhO0FBQy9DLGdDQUE0QixFQUFFLGFBQWE7QUFDM0MseUNBQXFDLEVBQUUsa0JBQWtCO0FBQ3pELGFBQVMsRUFBRSxTQUFTO0FBQ3BCLHdCQUFvQixFQUFFLGFBQWE7QUFDbkMsaUJBQWEsRUFBRSxpQkFBaUI7QUFDaEMsbUJBQWUsRUFBRSxtQkFBbUI7QUFDcEMsaUJBQWEsRUFBRSxnR0FBZ0c7R0FDaEgsQ0FBQTs7QUFHRCxNQUFJLFdBQVcsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUMvQixNQUFNLENBQUMsVUFBQyxRQUFRLEVBQUUsR0FBRyxFQUFLO0FBQUUsWUFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxBQUFDLE9BQU8sUUFBUSxDQUFBO0dBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQTs7QUFFL0UsTUFBSSxZQUFZLEdBQUcsU0FBUyxJQUFJLFNBQVMsQ0FBQyxJQUFJLEVBQUUsQ0FBQTs7QUFFaEQsU0FBTyxHQUFHLENBQUMsWUFBWSxDQUFDLElBQUksV0FBVyxDQUFDLFlBQVksQ0FBQyxJQUFJLFNBQVMsQ0FBQTtDQUNuRSxDQUFBOztBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUcsaUJBQWlCLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9zZWFyY2gtbGFuZ3VhZ2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgc2VhcmNoTGFuZ3VhZ2VNYXAgPSAocXVlcnlUZXh0KSA9PiB7XG4gIHZhciBtYXAgPSB7XG4gICAgJ3JlY2VudDp0cnVlJzogXCJSZWNlbnQgQWNjZXNzaW9uc1wiLFxuICAgICdoaWdobGlnaHQ6dHJ1ZSc6IFwiTXVzZXVtIEhpZ2hsaWdodHNcIixcbiAgICAnZGVhY2Nlc3Npb25lZDpcInRydWVcIic6IFwiRGVhY2Nlc3Npb25lZFwiLFxuICAgICdfZXhpc3RzXzpcInByb3ZlbmFuY2VcIic6IFwicHJvdmVuYW5jZSBpbmZvcm1hdGlvbiBleGlzdHNcIixcbiAgICAnX2V4aXN0c186XCJyZWxhdGVkOmNvbnNlcnZhdGlvblwiJzogJ0NvbnNlcnZlZCBhcnR3b3JrcycsXG4gICAgJ19leGlzdHNfOlwicmVsYXRlZDphcnRzdG9yaWVzXCInOiBcIkFydFN0b3JpZXNcIixcbiAgICAnX2V4aXN0c186XCJyZWxhdGVkOm5ld3NmbGFzaGVzXCInOiBcIk5ld3NGbGFzaGVzXCIsXG4gICAgJ19leGlzdHNfOlwicmVsYXRlZDphdWRpby1zdG9wc1wiJzogXCJBdWRpbyBzdG9wc1wiLFxuICAgICdfZXhpc3RzXzpcInJlbGF0ZWQ6c3Rvcmllc1wiJzogXCJNaWEgU3Rvcmllc1wiLFxuICAgICdfZXhpc3RzXzpcInJlbGF0ZWQ6YWRvcHQtYS1wYWludGluZ1wiJzogXCJBZG9wdC1hLVBhaW50aW5nXCIsXG4gICAgJ3Jvb206RyonOiAnT24gVmlldycsXG4gICAgJ3Jvb206XCJOb3Qgb24gVmlld1wiJzogJ05vdCBvbiBWaWV3JyxcbiAgICAnaW1hZ2U6dmFsaWQnOiBcIkltYWdlIEF2YWlsYWJsZVwiLFxuICAgICdpbWFnZTppbnZhbGlkJzogXCJJbWFnZSBVbmF2YWlsYWJsZVwiLFxuICAgICdyb29tOlwiRzMyMFwiJzogXCJUT0RPOiBuZWVkIHRvIG1hdGNoIHBhcmFtZXRlcnMgbW9yZSBjbGV2ZXJseT8gVGhpcyBzaG91bGQgcmV0dXJuICdJbiBHYWxsZXJ5IDMyMCcgb3Igc29tZXRoaW5nXCIsXG4gIH1cblxuXG4gIHZhciByZXZlcnNlZE1hcCA9IE9iamVjdC5rZXlzKG1hcClcbiAgICAucmVkdWNlKChyZXZlcnNlZCwga2V5KSA9PiB7IHJldmVyc2VkW21hcFtrZXldXSA9IGtleTsgcmV0dXJuIHJldmVyc2VkIH0sIHt9KVxuXG4gIHZhciB0cmltbWVkUXVlcnkgPSBxdWVyeVRleHQgJiYgcXVlcnlUZXh0LnRyaW0oKVxuXG4gIHJldHVybiBtYXBbdHJpbW1lZFF1ZXJ5XSB8fCByZXZlcnNlZE1hcFt0cmltbWVkUXVlcnldIHx8IHF1ZXJ5VGV4dFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNlYXJjaExhbmd1YWdlTWFwXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/search-language.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,iBAAiB,GAAG,SAApB,iBAAiB,CAAI,SAAS,EAAK;AACrC,MAAI,GAAG,GAAG;AACR,iBAAa,EAAE,mBAAmB;AAClC,oBAAgB,EAAE,mBAAmB;AACrC,0BAAsB,EAAE,eAAe;AACvC,2BAAuB,EAAE,+BAA+B;AACxD,qCAAiC,EAAE,oBAAoB;AACvD,mCAA+B,EAAE,YAAY;AAC7C,oCAAgC,EAAE,aAAa;AAC/C,oCAAgC,EAAE,aAAa;AAC/C,gCAA4B,EAAE,aAAa;AAC3C,yCAAqC,EAAE,kBAAkB;AACzD,aAAS,EAAE,SAAS;AACpB,wBAAoB,EAAE,aAAa;AACnC,iBAAa,EAAE,iBAAiB;AAChC,mBAAe,EAAE,mBAAmB;AACpC,iBAAa,EAAE,gGAAgG;GAChH,CAAA;;AAGD,MAAI,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAC/B,MAAM,CAAC,UAAC,QAAQ,EAAE,GAAG,EAAK;AAAE,YAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,AAAC,OAAO,QAAQ,CAAA;GAAE,EAAE,EAAE,CAAC,CAAA;;AAE/E,MAAI,YAAY,GAAG,SAAS,IAAI,SAAS,CAAC,IAAI,EAAE,CAAA;;AAEhD,SAAO,GAAG,CAAC,YAAY,CAAC,IAAI,WAAW,CAAC,YAAY,CAAC,IAAI,SAAS,CAAA;CACnE,CAAA;;AAED,MAAM,CAAC,OAAO,GAAG,iBAAiB,CAAA",
      "file": "/var/www/art/src/search-language.js",
      "sourcesContent": [
        "var searchLanguageMap = (queryText) => {\n  var map = {\n    'recent:true': \"Recent Accessions\",\n    'highlight:true': \"Museum Highlights\",\n    'deaccessioned:\"true\"': \"Deaccessioned\",\n    '_exists_:\"provenance\"': \"provenance information exists\",\n    '_exists_:\"related:conservation\"': 'Conserved artworks',\n    '_exists_:\"related:artstories\"': \"ArtStories\",\n    '_exists_:\"related:newsflashes\"': \"NewsFlashes\",\n    '_exists_:\"related:audio-stops\"': \"Audio stops\",\n    '_exists_:\"related:stories\"': \"Mia Stories\",\n    '_exists_:\"related:adopt-a-painting\"': \"Adopt-a-Painting\",\n    'room:G*': 'On View',\n    'room:\"Not on View\"': 'Not on View',\n    'image:valid': \"Image Available\",\n    'image:invalid': \"Image Unavailable\",\n    'room:\"G320\"': \"TODO: need to match parameters more cleverly? This should return 'In Gallery 320' or something\",\n  }\n\n\n  var reversedMap = Object.keys(map)\n    .reduce((reversed, key) => { reversed[map[key]] = key; return reversed }, {})\n\n  var trimmedQuery = queryText && queryText.trim()\n\n  return map[trimmedQuery] || reversedMap[trimmedQuery] || queryText\n}\n\nmodule.exports = searchLanguageMap\n"
      ]
    },
    "mtime": 1453913552707
  },
  "{\"filename\":\"/var/www/art/src/search-results/list.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "object-without-properties",
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\n\nvar ArtworkResult = require('../artwork-result');\nvar FocusedResult = require('./focused');\n\nvar SearchResultsList = React.createClass({\n  displayName: 'SearchResultsList',\n\n  render: function render() {\n    var _this = this;\n\n    var _props = this.props;\n    var leftColumnWidth = _props.leftColumnWidth;\n    var focusedResult = _props.focusedResult;\n    var focusHandler = _props.focusHandler;\n    var smallViewport = _props.smallViewport;\n\n    var focusedProps = _objectWithoutProperties(_props, ['leftColumnWidth', 'focusedResult', 'focusHandler', 'smallViewport']);\n\n    if (smallViewport || this.context.universal) {\n      focusedResult = null;\n    }\n    if (!focusedResult) leftColumnWidth = '100%';\n\n    var results = this.props.hits.map(function (hit) {\n      var id = hit._source.id.replace('http://api.artsmia.org/objects/', '');\n      var focused = focusedResult === hit._source;\n      return React.createElement(\n        'div',\n        { key: id, onClick: _this.handleClick.bind(_this, hit), className: focused ? 'focused' : '' },\n        React.createElement(ArtworkResult, { id: id, data: { artwork: hit._source }, highlights: hit.highlight, showMore: smallViewport })\n      );\n    });\n\n    return React.createElement(\n      'div',\n      { className: 'search-results-wrap clearfix', style: { position: 'relative', minHeight: this.props.minHeight } },\n      React.createElement(\n        'div',\n        { className: 'objects-wrap leftBar', style: { position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, width: leftColumnWidth } },\n        results,\n        this.props.postSearch\n      ),\n      focusedResult && React.createElement(FocusedResult, _extends({ key: focusedResult._source.id, art: focusedResult._source, highlights: focusedResult.highlight }, this.props))\n    );\n  },\n\n  handleClick: function handleClick(hit) {\n    this.props.focusHandler(hit, SearchResultsList);\n  }\n});\nSearchResultsList.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nmodule.exports = SearchResultsList;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvc2VhcmNoLXJlc3VsdHMvbGlzdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7O0FBRTVCLElBQUksYUFBYSxHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFBO0FBQ2hELElBQUksYUFBYSxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQTs7QUFFeEMsSUFBSSxpQkFBaUIsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDeEMsUUFBTSxFQUFBLGtCQUFHOzs7aUJBT0gsSUFBSSxDQUFDLEtBQUs7UUFMWixlQUFlLFVBQWYsZUFBZTtRQUNmLGFBQWEsVUFBYixhQUFhO1FBQ2IsWUFBWSxVQUFaLFlBQVk7UUFDWixhQUFhLFVBQWIsYUFBYTs7UUFDVixZQUFZOztBQUdqQixRQUFHLGFBQWEsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRTtBQUMxQyxtQkFBYSxHQUFHLElBQUksQ0FBQTtLQUNyQjtBQUNELFFBQUcsQ0FBQyxhQUFhLEVBQUUsZUFBZSxHQUFHLE1BQU0sQ0FBQTs7QUFFM0MsUUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQUMsR0FBRyxFQUFLO0FBQ3pDLFVBQUksRUFBRSxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxpQ0FBaUMsRUFBRSxFQUFFLENBQUMsQ0FBQTtBQUN0RSxVQUFJLE9BQU8sR0FBRyxhQUFhLEtBQUssR0FBRyxDQUFDLE9BQU8sQ0FBQTtBQUMzQyxhQUFPOztVQUFLLEdBQUcsRUFBRSxFQUFFLEFBQUMsRUFBQyxPQUFPLEVBQUUsTUFBSyxXQUFXLENBQUMsSUFBSSxRQUFPLEdBQUcsQ0FBQyxBQUFDLEVBQUMsU0FBUyxFQUFFLE9BQU8sR0FBRyxTQUFTLEdBQUcsRUFBRSxBQUFDO1FBQ2xHLG9CQUFDLGFBQWEsSUFBQyxFQUFFLEVBQUUsRUFBRSxBQUFDLEVBQUMsSUFBSSxFQUFFLEVBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxPQUFPLEVBQUMsQUFBQyxFQUFDLFVBQVUsRUFBRSxHQUFHLENBQUMsU0FBUyxBQUFDLEVBQUMsUUFBUSxFQUFFLGFBQWEsQUFBQyxHQUFHO09BQ3ZHLENBQUE7S0FDUCxDQUFDLENBQUE7O0FBRUYsV0FDRTs7UUFBSyxTQUFTLEVBQUMsOEJBQThCLEVBQUMsS0FBSyxFQUFFLEVBQUMsUUFBUSxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUMsQUFBQztNQUMzRzs7VUFBSyxTQUFTLEVBQUMsc0JBQXNCLEVBQUMsS0FBSyxFQUFFLEVBQUMsUUFBUSxFQUFFLFVBQVUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxlQUFlLEVBQUMsQUFBQztRQUMvSCxPQUFPO1FBQ1AsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVO09BQ2xCO01BQ0wsYUFBYSxJQUFJLG9CQUFDLGFBQWEsYUFBQyxHQUFHLEVBQUUsYUFBYSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEFBQUMsRUFBQyxHQUFHLEVBQUUsYUFBYSxDQUFDLE9BQU8sQUFBQyxFQUFDLFVBQVUsRUFBRSxhQUFhLENBQUMsU0FBUyxBQUFDLElBQUssSUFBSSxDQUFDLEtBQUssRUFBRztLQUM5SSxDQUNQO0dBQ0Y7O0FBRUQsYUFBVyxFQUFBLHFCQUFDLEdBQUcsRUFBRTtBQUNmLFFBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEdBQUcsRUFBRSxpQkFBaUIsQ0FBQyxDQUFBO0dBQ2hEO0NBQ0YsQ0FBQyxDQUFBO0FBQ0YsaUJBQWlCLENBQUMsWUFBWSxHQUFHO0FBQy9CLFFBQU0sRUFBRSxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUk7QUFDNUIsV0FBUyxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSTtDQUNoQyxDQUFBOztBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUcsaUJBQWlCLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9zZWFyY2gtcmVzdWx0cy9saXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxuXG52YXIgQXJ0d29ya1Jlc3VsdCA9IHJlcXVpcmUoJy4uL2FydHdvcmstcmVzdWx0JylcbnZhciBGb2N1c2VkUmVzdWx0ID0gcmVxdWlyZSgnLi9mb2N1c2VkJylcblxudmFyIFNlYXJjaFJlc3VsdHNMaXN0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHtcbiAgICAgIGxlZnRDb2x1bW5XaWR0aCxcbiAgICAgIGZvY3VzZWRSZXN1bHQsXG4gICAgICBmb2N1c0hhbmRsZXIsXG4gICAgICBzbWFsbFZpZXdwb3J0LFxuICAgICAgLi4uZm9jdXNlZFByb3BzXG4gICAgfSA9IHRoaXMucHJvcHNcblxuICAgIGlmKHNtYWxsVmlld3BvcnQgfHwgdGhpcy5jb250ZXh0LnVuaXZlcnNhbCkge1xuICAgICAgZm9jdXNlZFJlc3VsdCA9IG51bGxcbiAgICB9XG4gICAgaWYoIWZvY3VzZWRSZXN1bHQpIGxlZnRDb2x1bW5XaWR0aCA9ICcxMDAlJ1xuXG4gICAgdmFyIHJlc3VsdHMgPSB0aGlzLnByb3BzLmhpdHMubWFwKChoaXQpID0+IHtcbiAgICAgIHZhciBpZCA9IGhpdC5fc291cmNlLmlkLnJlcGxhY2UoJ2h0dHA6Ly9hcGkuYXJ0c21pYS5vcmcvb2JqZWN0cy8nLCAnJylcbiAgICAgIHZhciBmb2N1c2VkID0gZm9jdXNlZFJlc3VsdCA9PT0gaGl0Ll9zb3VyY2VcbiAgICAgIHJldHVybiA8ZGl2IGtleT17aWR9IG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzLCBoaXQpfSBjbGFzc05hbWU9e2ZvY3VzZWQgPyAnZm9jdXNlZCcgOiAnJ30+XG4gICAgICAgIDxBcnR3b3JrUmVzdWx0IGlkPXtpZH0gZGF0YT17e2FydHdvcms6IGhpdC5fc291cmNlfX0gaGlnaGxpZ2h0cz17aGl0LmhpZ2hsaWdodH0gc2hvd01vcmU9e3NtYWxsVmlld3BvcnR9IC8+XG4gICAgICA8L2Rpdj5cbiAgICB9KVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdzZWFyY2gtcmVzdWx0cy13cmFwIGNsZWFyZml4JyBzdHlsZT17e3Bvc2l0aW9uOiAncmVsYXRpdmUnLCBtaW5IZWlnaHQ6IHRoaXMucHJvcHMubWluSGVpZ2h0fX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdvYmplY3RzLXdyYXAgbGVmdEJhcicgc3R5bGU9e3twb3NpdGlvbjogJ2Fic29sdXRlJywgdG9wOiAwLCBsZWZ0OiAwLCByaWdodDogMCwgYm90dG9tOiAwLCB3aWR0aDogbGVmdENvbHVtbldpZHRofX0+XG4gICAgICAgICAge3Jlc3VsdHN9XG4gICAgICAgICAge3RoaXMucHJvcHMucG9zdFNlYXJjaH1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtmb2N1c2VkUmVzdWx0ICYmIDxGb2N1c2VkUmVzdWx0IGtleT17Zm9jdXNlZFJlc3VsdC5fc291cmNlLmlkfSBhcnQ9e2ZvY3VzZWRSZXN1bHQuX3NvdXJjZX0gaGlnaGxpZ2h0cz17Zm9jdXNlZFJlc3VsdC5oaWdobGlnaHR9IHsuLi50aGlzLnByb3BzfS8+fVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9LFxuXG4gIGhhbmRsZUNsaWNrKGhpdCkge1xuICAgIHRoaXMucHJvcHMuZm9jdXNIYW5kbGVyKGhpdCwgU2VhcmNoUmVzdWx0c0xpc3QpXG4gIH0sXG59KVxuU2VhcmNoUmVzdWx0c0xpc3QuY29udGV4dFR5cGVzID0ge1xuICByb3V0ZXI6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICB1bml2ZXJzYWw6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNlYXJjaFJlc3VsdHNMaXN0XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/search-results/list.js"
      ],
      "names": [],
      "mappings": ";;;;;;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;AAE5B,IAAI,aAAa,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAA;AAChD,IAAI,aAAa,GAAG,OAAO,CAAC,WAAW,CAAC,CAAA;;AAExC,IAAI,iBAAiB,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACxC,QAAM,EAAA,kBAAG;;;iBAOH,IAAI,CAAC,KAAK;QALZ,eAAe,UAAf,eAAe;QACf,aAAa,UAAb,aAAa;QACb,YAAY,UAAZ,YAAY;QACZ,aAAa,UAAb,aAAa;;QACV,YAAY;;AAGjB,QAAG,aAAa,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;AAC1C,mBAAa,GAAG,IAAI,CAAA;KACrB;AACD,QAAG,CAAC,aAAa,EAAE,eAAe,GAAG,MAAM,CAAA;;AAE3C,QAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,UAAC,GAAG,EAAK;AACzC,UAAI,EAAE,GAAG,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,iCAAiC,EAAE,EAAE,CAAC,CAAA;AACtE,UAAI,OAAO,GAAG,aAAa,KAAK,GAAG,CAAC,OAAO,CAAA;AAC3C,aAAO;;UAAK,GAAG,EAAE,EAAE,AAAC,EAAC,OAAO,EAAE,MAAK,WAAW,CAAC,IAAI,QAAO,GAAG,CAAC,AAAC,EAAC,SAAS,EAAE,OAAO,GAAG,SAAS,GAAG,EAAE,AAAC;QAClG,oBAAC,aAAa,IAAC,EAAE,EAAE,EAAE,AAAC,EAAC,IAAI,EAAE,EAAC,OAAO,EAAE,GAAG,CAAC,OAAO,EAAC,AAAC,EAAC,UAAU,EAAE,GAAG,CAAC,SAAS,AAAC,EAAC,QAAQ,EAAE,aAAa,AAAC,GAAG;OACvG,CAAA;KACP,CAAC,CAAA;;AAEF,WACE;;QAAK,SAAS,EAAC,8BAA8B,EAAC,KAAK,EAAE,EAAC,QAAQ,EAAE,UAAU,EAAE,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,EAAC,AAAC;MAC3G;;UAAK,SAAS,EAAC,sBAAsB,EAAC,KAAK,EAAE,EAAC,QAAQ,EAAE,UAAU,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE,eAAe,EAAC,AAAC;QAC/H,OAAO;QACP,IAAI,CAAC,KAAK,CAAC,UAAU;OAClB;MACL,aAAa,IAAI,oBAAC,aAAa,aAAC,GAAG,EAAE,aAAa,CAAC,OAAO,CAAC,EAAE,AAAC,EAAC,GAAG,EAAE,aAAa,CAAC,OAAO,AAAC,EAAC,UAAU,EAAE,aAAa,CAAC,SAAS,AAAC,IAAK,IAAI,CAAC,KAAK,EAAG;KAC9I,CACP;GACF;;AAED,aAAW,EAAA,qBAAC,GAAG,EAAE;AACf,QAAI,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,EAAE,iBAAiB,CAAC,CAAA;GAChD;CACF,CAAC,CAAA;AACF,iBAAiB,CAAC,YAAY,GAAG;AAC/B,QAAM,EAAE,KAAK,CAAC,SAAS,CAAC,IAAI;AAC5B,WAAS,EAAE,KAAK,CAAC,SAAS,CAAC,IAAI;CAChC,CAAA;;AAED,MAAM,CAAC,OAAO,GAAG,iBAAiB,CAAA",
      "file": "/var/www/art/src/search-results/list.js",
      "sourcesContent": [
        "var React = require('react')\n\nvar ArtworkResult = require('../artwork-result')\nvar FocusedResult = require('./focused')\n\nvar SearchResultsList = React.createClass({\n  render() {\n    var {\n      leftColumnWidth,\n      focusedResult,\n      focusHandler,\n      smallViewport,\n      ...focusedProps\n    } = this.props\n\n    if(smallViewport || this.context.universal) {\n      focusedResult = null\n    }\n    if(!focusedResult) leftColumnWidth = '100%'\n\n    var results = this.props.hits.map((hit) => {\n      var id = hit._source.id.replace('http://api.artsmia.org/objects/', '')\n      var focused = focusedResult === hit._source\n      return <div key={id} onClick={this.handleClick.bind(this, hit)} className={focused ? 'focused' : ''}>\n        <ArtworkResult id={id} data={{artwork: hit._source}} highlights={hit.highlight} showMore={smallViewport} />\n      </div>\n    })\n\n    return (\n      <div className='search-results-wrap clearfix' style={{position: 'relative', minHeight: this.props.minHeight}}>\n        <div className='objects-wrap leftBar' style={{position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, width: leftColumnWidth}}>\n          {results}\n          {this.props.postSearch}\n        </div>\n        {focusedResult && <FocusedResult key={focusedResult._source.id} art={focusedResult._source} highlights={focusedResult.highlight} {...this.props}/>}\n      </div>\n    )\n  },\n\n  handleClick(hit) {\n    this.props.focusHandler(hit, SearchResultsList)\n  },\n})\nSearchResultsList.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nmodule.exports = SearchResultsList\n"
      ]
    },
    "mtime": 1465414471034
  },
  "{\"filename\":\"/var/www/art/src/artwork-result.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar Artwork = require('./_artwork');\nvar Markdown = require('./markdown');\nvar highlighter = require('./highlighter');\n\nvar ArtworkResult = React.createClass({\n  displayName: 'ArtworkResult',\n\n  mixins: [Router.State],\n  statics: {\n    fetchData: function fetchData(params) {\n      return rest(SEARCH + '/id/' + params.id).then(function (r) {\n        return JSON.parse(r.entity);\n      });\n    }\n  },\n  render: function render() {\n    var art = this.props.data.artwork;\n    var id = this.props.id || art.id.replace('http://api.artsmia.org/objects/', '');\n    var title = React.createElement(Artwork.Title, { art: art, link: this.context.universal, highlights: this.props.highlights });\n\n    var roomHighlight = highlighter(art, this.props.highlights, 'room');\n    var showMore = this.props.showMore && Object.keys(art).filter(function (key) {\n      return key.match(/related:/) && !key.match(/related:exhibitions/);\n    }).length > 0;\n\n    return React.createElement(\n      Artwork.Figure,\n      { art: art, className: 'artwork-result' },\n      React.createElement(\n        'div',\n        { className: 'artwork-summary' },\n        title,\n        React.createElement(Artwork.Creator, { art: art, wrapper: 'h2', peek: false, highlights: this.props.highlights }),\n        React.createElement(\n          'div',\n          null,\n          art.room === 'Not on View' ? art.room : React.createElement(\n            'strong',\n            null,\n            React.createElement(\n              Markdown,\n              null,\n              roomHighlight\n            )\n          )\n        ),\n        showMore && React.createElement(\n          Link,\n          { to: 'artwork', params: { id: art.id, hash: 'explore' } },\n          React.createElement('img', { src: '/images/more-icon.svg', style: { width: '3em' } })\n        )\n      )\n    );\n  }\n});\nArtworkResult.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nmodule.exports = ArtworkResult;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYXJ0d29yay1yZXN1bHQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0lBQzlCLElBQUksR0FBSyxNQUFNLENBQWYsSUFBSTs7QUFFVixJQUFJLE9BQU8sR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7QUFDbkMsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBO0FBQ3BDLElBQUksV0FBVyxHQUFHLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQTs7QUFFMUMsSUFBSSxhQUFhLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ3BDLFFBQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7QUFDdEIsU0FBTyxFQUFFO0FBQ1AsYUFBUyxFQUFFLG1CQUFDLE1BQU0sRUFBSztBQUNyQixhQUFPLElBQUksQ0FBQyxBQUFHLE1BQU0sWUFBTyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsQ0FBQztlQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztPQUFBLENBQUMsQ0FBQTtLQUN6RTtHQUNGO0FBQ0QsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsUUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFBO0FBQ2pDLFFBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLGlDQUFpQyxFQUFFLEVBQUUsQ0FBQyxDQUFBO0FBQy9FLFFBQUksS0FBSyxHQUFHLG9CQUFDLE9BQU8sQ0FBQyxLQUFLLElBQUMsR0FBRyxFQUFFLEdBQUcsQUFBQyxFQUFDLElBQUksRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQUFBQyxFQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQUFBQyxHQUFHLENBQUE7O0FBRXhHLFFBQUksYUFBYSxHQUFHLFdBQVcsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUUsTUFBTSxDQUFDLENBQUE7QUFDbkUsUUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBQSxHQUFHO2FBQUksR0FBRyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMscUJBQXFCLENBQUM7S0FBQSxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQTs7QUFFM0ksV0FDRTtBQUFDLGFBQU8sQ0FBQyxNQUFNO1FBQUMsR0FBRyxFQUFFLEdBQUcsQUFBQyxFQUFDLFNBQVMsRUFBQyxnQkFBZ0I7TUFDbEQ7O1VBQUssU0FBUyxFQUFDLGlCQUFpQjtRQUM3QixLQUFLO1FBQ04sb0JBQUMsT0FBTyxDQUFDLE9BQU8sSUFBQyxHQUFHLEVBQUUsR0FBRyxBQUFDLEVBQUMsT0FBTyxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUUsS0FBSyxBQUFDLEVBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxBQUFDLEdBQUc7UUFDMUY7OztVQUFNLEdBQUcsQ0FBQyxJQUFJLEtBQUssYUFBYSxHQUFHLEdBQUcsQ0FBQyxJQUFJLEdBQUc7OztZQUFRO0FBQUMsc0JBQVE7O2NBQUUsYUFBYTthQUFZO1dBQVM7U0FBTztRQUN6RyxRQUFRLElBQUk7QUFBQyxjQUFJO1lBQUMsRUFBRSxFQUFDLFNBQVMsRUFBQyxNQUFNLEVBQUUsRUFBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFDLEFBQUM7VUFBQyw2QkFBSyxHQUFHLEVBQUMsdUJBQXVCLEVBQUMsS0FBSyxFQUFFLEVBQUMsS0FBSyxFQUFFLEtBQUssRUFBQyxBQUFDLEdBQUU7U0FBTztPQUNuSTtLQUNTLENBQ2xCO0dBQ0Y7Q0FDRixDQUFDLENBQUE7QUFDRixhQUFhLENBQUMsWUFBWSxHQUFHO0FBQzNCLFFBQU0sRUFBRSxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUk7QUFDNUIsV0FBUyxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSTtDQUNoQyxDQUFBOztBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUcsYUFBYSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvYXJ0d29yay1yZXN1bHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciB7IExpbmsgfSA9IFJvdXRlclxuXG52YXIgQXJ0d29yayA9IHJlcXVpcmUoJy4vX2FydHdvcmsnKVxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi9tYXJrZG93bicpXG52YXIgaGlnaGxpZ2h0ZXIgPSByZXF1aXJlKCcuL2hpZ2hsaWdodGVyJylcblxudmFyIEFydHdvcmtSZXN1bHQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIG1peGluczogW1JvdXRlci5TdGF0ZV0sXG4gIHN0YXRpY3M6IHtcbiAgICBmZXRjaERhdGE6IChwYXJhbXMpID0+IHtcbiAgICAgIHJldHVybiByZXN0KGAke1NFQVJDSH0vaWQvYCtwYXJhbXMuaWQpLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpKVxuICAgIH1cbiAgfSxcbiAgcmVuZGVyKCkge1xuICAgIHZhciBhcnQgPSB0aGlzLnByb3BzLmRhdGEuYXJ0d29ya1xuICAgIHZhciBpZCA9IHRoaXMucHJvcHMuaWQgfHwgYXJ0LmlkLnJlcGxhY2UoJ2h0dHA6Ly9hcGkuYXJ0c21pYS5vcmcvb2JqZWN0cy8nLCAnJylcbiAgICB2YXIgdGl0bGUgPSA8QXJ0d29yay5UaXRsZSBhcnQ9e2FydH0gbGluaz17dGhpcy5jb250ZXh0LnVuaXZlcnNhbH0gaGlnaGxpZ2h0cz17dGhpcy5wcm9wcy5oaWdobGlnaHRzfSAvPlxuXG4gICAgdmFyIHJvb21IaWdobGlnaHQgPSBoaWdobGlnaHRlcihhcnQsIHRoaXMucHJvcHMuaGlnaGxpZ2h0cywgJ3Jvb20nKVxuICAgIHZhciBzaG93TW9yZSA9IHRoaXMucHJvcHMuc2hvd01vcmUgJiYgT2JqZWN0LmtleXMoYXJ0KS5maWx0ZXIoa2V5ID0+IGtleS5tYXRjaCgvcmVsYXRlZDovKSAmJiAha2V5Lm1hdGNoKC9yZWxhdGVkOmV4aGliaXRpb25zLykpLmxlbmd0aCA+IDBcblxuICAgIHJldHVybiAoXG4gICAgICA8QXJ0d29yay5GaWd1cmUgYXJ0PXthcnR9IGNsYXNzTmFtZT0nYXJ0d29yay1yZXN1bHQnPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFydHdvcmstc3VtbWFyeVwiPlxuICAgICAgICAgIHt0aXRsZX1cbiAgICAgICAgICA8QXJ0d29yay5DcmVhdG9yIGFydD17YXJ0fSB3cmFwcGVyPVwiaDJcIiBwZWVrPXtmYWxzZX0gaGlnaGxpZ2h0cz17dGhpcy5wcm9wcy5oaWdobGlnaHRzfSAvPlxuICAgICAgICAgIDxkaXY+e2FydC5yb29tID09PSAnTm90IG9uIFZpZXcnID8gYXJ0LnJvb20gOiA8c3Ryb25nPjxNYXJrZG93bj57cm9vbUhpZ2hsaWdodH08L01hcmtkb3duPjwvc3Ryb25nPn08L2Rpdj5cbiAgICAgICAgICB7c2hvd01vcmUgJiYgPExpbmsgdG89XCJhcnR3b3JrXCIgcGFyYW1zPXt7aWQ6IGFydC5pZCwgaGFzaDogJ2V4cGxvcmUnfX0+PGltZyBzcmM9XCIvaW1hZ2VzL21vcmUtaWNvbi5zdmdcIiBzdHlsZT17e3dpZHRoOiAnM2VtJ319Lz48L0xpbms+fVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvQXJ0d29yay5GaWd1cmU+XG4gICAgKVxuICB9XG59KVxuQXJ0d29ya1Jlc3VsdC5jb250ZXh0VHlwZXMgPSB7XG4gIHJvdXRlcjogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIHVuaXZlcnNhbDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG59XG5cbm1vZHVsZS5leHBvcnRzID0gQXJ0d29ya1Jlc3VsdFxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/artwork-result.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;IAC9B,IAAI,GAAK,MAAM,CAAf,IAAI;;AAEV,IAAI,OAAO,GAAG,OAAO,CAAC,YAAY,CAAC,CAAA;AACnC,IAAI,QAAQ,GAAG,OAAO,CAAC,YAAY,CAAC,CAAA;AACpC,IAAI,WAAW,GAAG,OAAO,CAAC,eAAe,CAAC,CAAA;;AAE1C,IAAI,aAAa,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACpC,QAAM,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;AACtB,SAAO,EAAE;AACP,aAAS,EAAE,mBAAC,MAAM,EAAK;AACrB,aAAO,IAAI,CAAC,AAAG,MAAM,YAAO,MAAM,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAC,CAAC;eAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;OAAA,CAAC,CAAA;KACzE;GACF;AACD,QAAM,EAAA,kBAAG;AACP,QAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAA;AACjC,QAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,IAAI,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,iCAAiC,EAAE,EAAE,CAAC,CAAA;AAC/E,QAAI,KAAK,GAAG,oBAAC,OAAO,CAAC,KAAK,IAAC,GAAG,EAAE,GAAG,AAAC,EAAC,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,AAAC,EAAC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,AAAC,GAAG,CAAA;;AAExG,QAAI,aAAa,GAAG,WAAW,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,MAAM,CAAC,CAAA;AACnE,QAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,UAAA,GAAG;aAAI,GAAG,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,qBAAqB,CAAC;KAAA,CAAC,CAAC,MAAM,GAAG,CAAC,CAAA;;AAE3I,WACE;AAAC,aAAO,CAAC,MAAM;QAAC,GAAG,EAAE,GAAG,AAAC,EAAC,SAAS,EAAC,gBAAgB;MAClD;;UAAK,SAAS,EAAC,iBAAiB;QAC7B,KAAK;QACN,oBAAC,OAAO,CAAC,OAAO,IAAC,GAAG,EAAE,GAAG,AAAC,EAAC,OAAO,EAAC,IAAI,EAAC,IAAI,EAAE,KAAK,AAAC,EAAC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,AAAC,GAAG;QAC1F;;;UAAM,GAAG,CAAC,IAAI,KAAK,aAAa,GAAG,GAAG,CAAC,IAAI,GAAG;;;YAAQ;AAAC,sBAAQ;;cAAE,aAAa;aAAY;WAAS;SAAO;QACzG,QAAQ,IAAI;AAAC,cAAI;YAAC,EAAE,EAAC,SAAS,EAAC,MAAM,EAAE,EAAC,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,IAAI,EAAE,SAAS,EAAC,AAAC;UAAC,6BAAK,GAAG,EAAC,uBAAuB,EAAC,KAAK,EAAE,EAAC,KAAK,EAAE,KAAK,EAAC,AAAC,GAAE;SAAO;OACnI;KACS,CAClB;GACF;CACF,CAAC,CAAA;AACF,aAAa,CAAC,YAAY,GAAG;AAC3B,QAAM,EAAE,KAAK,CAAC,SAAS,CAAC,IAAI;AAC5B,WAAS,EAAE,KAAK,CAAC,SAAS,CAAC,IAAI;CAChC,CAAA;;AAED,MAAM,CAAC,OAAO,GAAG,aAAa,CAAA",
      "file": "/var/www/art/src/artwork-result.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar { Link } = Router\n\nvar Artwork = require('./_artwork')\nvar Markdown = require('./markdown')\nvar highlighter = require('./highlighter')\n\nvar ArtworkResult = React.createClass({\n  mixins: [Router.State],\n  statics: {\n    fetchData: (params) => {\n      return rest(`${SEARCH}/id/`+params.id).then((r) => JSON.parse(r.entity))\n    }\n  },\n  render() {\n    var art = this.props.data.artwork\n    var id = this.props.id || art.id.replace('http://api.artsmia.org/objects/', '')\n    var title = <Artwork.Title art={art} link={this.context.universal} highlights={this.props.highlights} />\n\n    var roomHighlight = highlighter(art, this.props.highlights, 'room')\n    var showMore = this.props.showMore && Object.keys(art).filter(key => key.match(/related:/) && !key.match(/related:exhibitions/)).length > 0\n\n    return (\n      <Artwork.Figure art={art} className='artwork-result'>\n        <div className=\"artwork-summary\">\n          {title}\n          <Artwork.Creator art={art} wrapper=\"h2\" peek={false} highlights={this.props.highlights} />\n          <div>{art.room === 'Not on View' ? art.room : <strong><Markdown>{roomHighlight}</Markdown></strong>}</div>\n          {showMore && <Link to=\"artwork\" params={{id: art.id, hash: 'explore'}}><img src=\"/images/more-icon.svg\" style={{width: '3em'}}/></Link>}\n        </div>\n      </Artwork.Figure>\n    )\n  }\n})\nArtworkResult.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nmodule.exports = ArtworkResult\n"
      ]
    },
    "mtime": 1488248774578
  },
  "{\"filename\":\"/var/www/art/src/_artwork.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "sliced-to-array",
        "object-without-properties",
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar toSlug = require('speakingurl');\nvar classnames = require('classnames');\n\nvar Creator = require('./artwork/creator.js');\nvar ArtworkImage = require('./artwork-image');\nvar Peek = require('./peek');\nvar imageCDN = require('./image-cdn');\nvar highlighter = require('./highlighter');\nvar Markdown = require('./markdown');\n\n//\n// TODO: move these into separate components at `src/artwork/`?\n//\n\nvar ConditionalLinkWrapper = React.createClass({\n  displayName: 'ConditionalLinkWrapper',\n\n  render: function render() {\n    var _props = this.props;\n    var art = _props.art;\n    var link = _props.link;\n\n    return link ? React.createElement(\n      Link,\n      { to: 'artwork', params: { id: art.id } },\n      this.props.children\n    ) : this.props.children;\n  }\n});\n\nvar Title = React.createClass({\n  displayName: 'Title',\n\n  render: function render() {\n    var _props2 = this.props;\n    var art = _props2.art;\n    var link = _props2.link;\n    var highlights = _props2.highlights;\n\n    var title = React.createElement(\n      Markdown,\n      { tag: 'span' },\n      highlighter(art, highlights, \"title\")\n    );\n    var title = React.createElement(\n      'h1',\n      { itemProp: 'name' },\n      title,\n      ', ',\n      React.createElement(\n        'span',\n        { className: 'dated' },\n        art.dated\n      )\n    );\n\n    return React.createElement(\n      ConditionalLinkWrapper,\n      this.props,\n      title\n    );\n  }\n});\n\nvar Tombstone = React.createClass({\n  displayName: 'Tombstone',\n\n  getInitialState: function getInitialState() {\n    return {\n      showLabels: false,\n      highlightAccessionNumber: false\n    };\n  },\n\n  render: function render() {\n    var _props3 = this.props;\n    var art = _props3.art;\n    var highlightAccessionNumber = _props3.highlightAccessionNumber;\n\n    var highlight = highlighter.bind(null, art, this.props.highlights);\n\n    var accessionNumber = this.props.highlighter ? this.props.highlighter(art.accession_number, highlightAccessionNumber) : art.accession_number;\n\n    return React.createElement(\n      'div',\n      { onDoubleClick: this.handleDoubleClick },\n      React.createElement(\n        'p',\n        { className: 'tombstone' },\n        React.createElement(\n          Peek,\n          { facet: 'medium', tag: 'span', highlightedValue: highlight('medium') },\n          art.medium\n        )\n      ),\n      this.state.showLabels && React.createElement(CopyableLabel, { art: art, onClose: this.handleDoubleClick }),\n      React.createElement(\n        'p',\n        { className: 'gifted' },\n        React.createElement(\n          Peek,\n          { facet: 'creditline', tag: 'span', highlightedValue: highlight('creditline') },\n          art.creditline\n        ),\n        ' ',\n        accessionNumber\n      )\n    );\n  },\n\n  handleDoubleClick: function handleDoubleClick() {\n    // show a copy-able tombstone/label in different formats\n    this.setState({ showLabels: !this.state.showLabels });\n  }\n});\n\nvar ClickToSelect = require('@mapbox/react-click-to-select');\n\nvar CopyableLabel = React.createClass({\n  displayName: 'CopyableLabel',\n\n  render: function render() {\n    var art = this.props.art;\n\n    var style = {\n      border: '1px solid red',\n      position: 'absolute',\n      background: 'white',\n      padding: '0.25em'\n    };\n\n    var join = this.join;\n    var formatDates = this.formatDates;\n    var titlecase = this.titlecase;\n\n    var hasValidArtist = art.artist !== \"\" && !art.artist.match(/Unknown/i);\n\n    var _Creator$getFacetAndValue = Creator.getFacetAndValue(art);\n\n    var _Creator$getFacetAndValue2 = _slicedToArray(_Creator$getFacetAndValue, 2);\n\n    var facet = _Creator$getFacetAndValue2[0];\n    var creator = _Creator$getFacetAndValue2[1];\n\n    if (facet == 'country' || facet == undefined) creator = undefined;\n\n    var title = this.state.useQuotes ? '“' + art.title + '”' : React.createElement(\n      'i',\n      null,\n      art.title\n    );\n    if (!hasValidArtist) title = art.title;\n\n    // Artist name [if known], Country of origin, birth/death dates,\n    // or\n    // Self-designation of people/tribe, location (country +/- continent)\n    // Title of object [italicized if simply nondescriptive, like Table], creation date, media,\n    // Source of purchase funds, accession number [+ © or ARS info]\n    return React.createElement(\n      'div',\n      { style: style },\n      React.createElement(\n        ClickToSelect,\n        { ref: 'click' },\n        React.createElement(\n          'p',\n          null,\n          join(hasValidArtist && [creator, art.country, formatDates(art.life_date)] || [creator, art.country, art.continent])\n        ),\n        React.createElement(\n          'p',\n          null,\n          title,\n          ', ',\n          join([formatDates(art.dated), titlecase(art.medium)])\n        ),\n        React.createElement(\n          'p',\n          null,\n          join([art.creditline, art.accession_number, decodeURIComponent(art.image_copyright)])\n        )\n      ),\n      React.createElement(\n        'div',\n        { style: { opacity: '0.5' } },\n        React.createElement(\n          'label',\n          { 'for': 'useQuotes', onDoubleClick: function (e) {\n              e.stopPropagation();e.preventDefault();\n            } },\n          React.createElement('input', { type: 'checkbox',\n            onChange: this.toggleQuotes,\n            checked: this.state.useQuotes\n          }),\n          'use quotes'\n        ),\n        React.createElement(\n          'button',\n          { onClick: this.props.onClose, style: { color: '#111', float: 'right' } },\n          '(close)'\n        )\n      )\n    );\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      useQuotes: false\n    };\n  },\n\n  toggleQuotes: function toggleQuotes(event) {\n    event.stopPropagation();\n    var useQuotes = this.state ? !this.state.useQuotes : true;\n    this.setState({ useQuotes: useQuotes });\n  },\n\n  join: function join(fields) {\n    return fields.filter(function (f) {\n      return !!f;\n    }).join(', ');\n  },\n\n  formatDates: function formatDates(dateString) {\n    var dates = dateString.replace(/^[A-Za-z \\.,\\(\\)]+/, '').split(/\\s*-\\s*/);\n    if (dates.length > 1) {\n      var _dates = _slicedToArray(dates, 2);\n\n      var start = _dates[0];\n      var end = _dates[1];\n\n      if (start.substr(0, 2) === end.substr(0, 2)) return start + \"–\" + end.substr(2);\n      return start + \"–\" + end;\n    }\n    return dates.join(\"–\");\n  },\n\n  titlecase: function titlecase(string) {\n    return string[0].toUpperCase() + string.substr(1).toLowerCase();\n  },\n\n  componentDidMount: function componentDidMount() {\n    // auto-select the text instead of requiring a click\n    var domNode = this.refs.click && ReactDOM.findDOMNode(this.refs.click);\n    if (domNode) domNode.click();\n  }\n});\n\n// check if an image exists on our cloudfront distribution,\n// and if not, fall back to loading it from the API\nvar testCloudfrontImage = function testCloudfrontImage(art, callback) {\n  var cdnUrl = imageCDN(art.id, art.restricted ? 400 : 800);\n\n  if (typeof document == 'undefined') {\n    return cdnUrl;\n  }\n\n  var i = document.createElement('img');\n  i.onload = function () {\n    return callback(cdnUrl);\n  };\n  i.onerror = function () {\n    return callback('https://api.artsmia.org/images/' + art.id + '/' + (art.restricted ? '400/medium.jpg' : '800/large.jpg'));\n  };\n  i.src = cdnUrl;\n};\n\nvar LinkBar = React.createClass({\n  displayName: 'LinkBar',\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      actions: {\n        like: {\n          enabled: false,\n          icon: 'favorite_border'\n        },\n        download: {\n          enabled: true,\n          icon: 'file_download'\n        },\n        print: {\n          enabled: true\n        },\n        share: {\n          enabled: true,\n          icon: 'share'\n        }\n      }\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      showShare: false\n    };\n  },\n\n  render: function render() {\n    var _this = this;\n\n    var art = this.props.art;\n\n    var actions = Object.keys(this.props.actions).map(function (key) {\n      _this.props.actions[key].key = key;\n      return _this.props.actions[key];\n    }, []).filter(function (action) {\n      return action.enabled;\n    })\n    // don't show 'download' for art with an invalid image\n    .filter(function (action) {\n      return !(action.key == 'download' && art.image == 'invalid');\n    });\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'div',\n        { className: 'link-bar' },\n        actions.map(function (action) {\n          var key = action.key;\n          var handler = eval('_this.handle' + (key[0].toUpperCase() + key.substr(1))); // TODO alert alert warning warning (shouldn't have to reference _this, sketchy code)\n\n          var options = {\n            key: key,\n            className: \"material-icons\",\n            onClick: handler\n          };\n          if (key == 'download') {\n            options.download = '';\n            if (_this.state.resolvedImageDownloadUrl) {\n              options.href = _this.state.resolvedImageDownloadUrl;\n            } else {\n              testCloudfrontImage(art, function (url) {\n                _this.setState({ resolvedImageDownloadUrl: url });\n              });\n            }\n          }\n          var content = action.icon || action.key;\n\n          return key == 'download' ? React.createElement(\n            'a',\n            options,\n            content\n          ) : React.createElement(\n            'i',\n            options,\n            content\n          );\n        })\n      ),\n      this.state.showShare && this.showShare(),\n      React.createElement('div', { className: 'clear' }),\n      React.createElement(\n        'div',\n        { className: 'back-button' },\n        this.props.link && React.createElement(\n          Link,\n          { to: 'artwork', params: { id: art.id } },\n          'View Details ',\n          React.createElement(\n            'i',\n            { className: 'material-icons' },\n            'arrow_forward'\n          )\n        )\n      )\n    );\n  },\n\n  getUrl: function getUrl() {\n    return 'https://collections.artsmia.org' + this.context.router.getCurrentPath();\n  },\n\n  handleShare: function handleShare() {\n    var art = this.props.art;\n\n    this.setState({ showShare: !this.state.showShare });\n  },\n\n  showShare: function showShare() {\n    var art = this.props.art;\n\n    var facebookURL = 'https://www.facebook.com/sharer/sharer.php?u=' + encodeURI(this.getUrl());\n    var twitterURL = 'https://twitter.com/intent/tweet?url=' + encodeURI(this.getUrl());\n    var emailURL = 'mailto:?subject=' + art.title + '&body=' + encodeURI(this.getUrl());\n\n    return React.createElement(\n      'div',\n      { className: 'share' },\n      React.createElement(\n        'div',\n        { className: 'social' },\n        React.createElement(\n          'a',\n          { title: 'Share via email', href: emailURL, target: '_blank' },\n          React.createElement('img', { src: 'https://simpleicons.org/icons/email.svg' })\n        )\n      ),\n      React.createElement(\n        'div',\n        { className: 'social' },\n        React.createElement(\n          'a',\n          { title: 'Share on Facebook', href: facebookURL, target: '_blank' },\n          React.createElement('img', { src: 'https://cdn.rawgit.com/danleech/simple-icons/gh-pages/icons/facebook.svg' })\n        )\n      ),\n      React.createElement(\n        'div',\n        { className: 'social' },\n        React.createElement(\n          'a',\n          { title: 'Share on Twitter', href: twitterURL, target: '_blank' },\n          React.createElement('img', { src: 'https://cdn.rawgit.com/danleech/simple-icons/gh-pages/icons/twitter.svg' })\n        )\n      )\n    );\n  },\n\n  handlePrint: function handlePrint() {\n    window.print();\n  },\n\n  handleDownload: function handleDownload() {\n    var art = this.props.art;\n    var id = art.id;\n\n    if (process.env.NODE_ENV == 'production') {\n      require('react-ga').event({\n        category: 'Artwork',\n        action: 'Image Download',\n        label: art.title,\n        value: parseInt(id)\n      });\n    } else {\n      console.info('ga.event', 'downloaded', id);\n    }\n  },\n\n  handleLike: function handleLike() {\n    console.info('TODO');\n  }\n});\nLinkBar.contextTypes = {\n  router: React.PropTypes.func\n};\n\nvar Figure = React.createClass({\n  displayName: 'Figure',\n\n  render: function render() {\n    var _props4 = this.props;\n    var art = _props4.art;\n    var link = _props4.link;\n    var className = _props4.className;\n\n    var figureProps = _objectWithoutProperties(_props4, ['art', 'link', 'className']);\n\n    var id = art.id;\n    var classes = classnames(className, { validImage: art.image === 'valid' && art.image_width > 0 });\n\n    return React.createElement(\n      'figure',\n      _extends({}, figureProps, { className: classes,\n        itemScope: true, itemType: 'https://schema.org/VisualArtwork' }),\n      React.createElement('link', { itemProp: 'url', href: '/art/' + id }),\n      React.createElement(\n        ConditionalLinkWrapper,\n        { art: art, link: link },\n        React.createElement(ArtworkImage, { art: art, id: id, lazyLoad: false, className: 'artwork-image' })\n      ),\n      React.createElement(\n        'figcaption',\n        null,\n        this.props.children\n      )\n    );\n  }\n});\nFigure.contextTypes = {\n  universal: React.PropTypes.bool\n};\n\nvar slug = function slug(art) {\n  var creator = Creator.getFacetAndValue(art)[1];\n  var string = [art.title.replace(/<[^ ]+?>/g, ''), creator && creator.split(';')[0]].filter(function (e) {\n    return e;\n  }).join(' ').replace(/’|'/g, '').replace(/^(.+)\\(.*\\)/, '$1').replace('ō', 'o');\n  return toSlug(string);\n};\n\nmodule.exports = {\n  Title: Title,\n  Tombstone: Tombstone,\n  LinkBar: LinkBar,\n  Figure: Figure,\n  Creator: Creator,\n  slug: slug\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvX2FydHdvcmsuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFBOztlQUN0QixPQUFPLENBQUMsY0FBYyxDQUFDOztJQUEvQixJQUFJLFlBQUosSUFBSTs7QUFDVCxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUE7QUFDbkMsSUFBSSxVQUFVLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBOztBQUV0QyxJQUFJLE9BQU8sR0FBRyxPQUFPLENBQUMsc0JBQXNCLENBQUMsQ0FBQTtBQUM3QyxJQUFJLFlBQVksR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtBQUM3QyxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUE7QUFDNUIsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBO0FBQ3JDLElBQUksV0FBVyxHQUFHLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQTtBQUMxQyxJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7Ozs7OztBQU1wQyxJQUFJLHNCQUFzQixHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUM3QyxRQUFNLEVBQUEsa0JBQUc7aUJBQ1csSUFBSSxDQUFDLEtBQUs7UUFBdkIsR0FBRyxVQUFILEdBQUc7UUFBRSxJQUFJLFVBQUosSUFBSTs7QUFFZCxXQUFPLElBQUksR0FDVDtBQUFDLFVBQUk7UUFBQyxFQUFFLEVBQUMsU0FBUyxFQUFDLE1BQU0sRUFBRSxFQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsRUFBRSxFQUFDLEFBQUM7TUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVE7S0FBUSxHQUNyRSxJQUFJLENBQUMsS0FBSyxDQUFD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QixTQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQTtDQUN0QixDQUFBOztBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUc7QUFDZixPQUFLLEVBQUwsS0FBSztBQUNMLFdBQVMsRUFBVCxTQUFTO0FBQ1QsU0FBTyxFQUFQLE9BQU87QUFDUCxRQUFNLEVBQU4sTUFBTTtBQUNOLFNBQU8sRUFBUCxPQUFPO0FBQ1AsTUFBSSxFQUFKLElBQUk7Q0FDTCxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvX2FydHdvcmsuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUmVhY3RET00gPSByZXF1aXJlKCdyZWFjdC1kb20nKVxudmFyIHtMaW5rfSA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIgdG9TbHVnID0gcmVxdWlyZSgnc3BlYWtpbmd1cmwnKVxudmFyIGNsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJylcblxudmFyIENyZWF0b3IgPSByZXF1aXJlKCcuL2FydHdvcmsvY3JlYXRvci5qcycpXG52YXIgQXJ0d29ya0ltYWdlID0gcmVxdWlyZSgnLi9hcnR3b3JrLWltYWdlJylcbnZhciBQZWVrID0gcmVxdWlyZSgnLi9wZWVrJylcbnZhciBpbWFnZUNETiA9IHJlcXVpcmUoJy4vaW1hZ2UtY2RuJylcbnZhciBoaWdobGlnaHRlciA9IHJlcXVpcmUoJy4vaGlnaGxpZ2h0ZXInKVxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi9tYXJrZG93bicpXG5cbi8vXG4vLyBUT0RPOiBtb3ZlIHRoZXNlIGludG8gc2VwYXJhdGUgY29tcG9uZW50cyBhdCBgc3JjL2FydHdvcmsvYD9cbi8vIFxuXG52YXIgQ29uZGl0aW9uYWxMaW5rV3JhcHBlciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7YXJ0LCBsaW5rfSA9IHRoaXMucHJvcHNcblxuICAgIHJldHVybiBsaW5rID9cbiAgICAgIDxMaW5rIHRvPVwiYXJ0d29ya1wiIHBhcmFtcz17e2lkOiBhcnQuaWR9fT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L0xpbms+IDpcbiAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgfVxufSlcblxudmFyIFRpdGxlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnQsIGxpbmssIGhpZ2hsaWdodHN9ID0gdGhpcy5wcm9wc1xuICAgIHZhciB0aXRsZSA9IDxNYXJrZG93biB0YWc9XCJzcGFuXCI+e2hpZ2hsaWdodGVyKGFydCwgaGlnaGxpZ2h0cywgXCJ0aXRsZVwiKX08L01hcmtkb3duPlxuICAgIHZhciB0aXRsZSA9IDxoMSBpdGVtUHJvcD1cIm5hbWVcIj57dGl0bGV9LCA8c3BhbiBjbGFzc05hbWU9XCJkYXRlZFwiPnthcnQuZGF0ZWR9PC9zcGFuPjwvaDE+XG5cbiAgICByZXR1cm4gPENvbmRpdGlvbmFsTGlua1dyYXBwZXIgey4uLnRoaXMucHJvcHN9PlxuICAgICAge3RpdGxlfVxuICAgIDwvQ29uZGl0aW9uYWxMaW5rV3JhcHBlcj5cbiAgfSxcbn0pXG5cbnZhciBUb21ic3RvbmUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2hvd0xhYmVsczogZmFsc2UsXG4gICAgICBoaWdobGlnaHRBY2Nlc3Npb25OdW1iZXI6IGZhbHNlLFxuICAgIH1cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnQsIGhpZ2hsaWdodEFjY2Vzc2lvbk51bWJlcn0gPSB0aGlzLnByb3BzXG4gICAgdmFyIGhpZ2hsaWdodCA9IGhpZ2hsaWdodGVyLmJpbmQobnVsbCwgYXJ0LCB0aGlzLnByb3BzLmhpZ2hsaWdodHMpXG5cbiAgICB2YXIgYWNjZXNzaW9uTnVtYmVyID0gdGhpcy5wcm9wcy5oaWdobGlnaHRlciA/XG4gICAgICB0aGlzLnByb3BzLmhpZ2hsaWdodGVyKGFydC5hY2Nlc3Npb25fbnVtYmVyLCBoaWdobGlnaHRBY2Nlc3Npb25OdW1iZXIpIDpcbiAgICAgIGFydC5hY2Nlc3Npb25fbnVtYmVyXG5cbiAgICByZXR1cm4gPGRpdiBvbkRvdWJsZUNsaWNrPXt0aGlzLmhhbmRsZURvdWJsZUNsaWNrfT5cbiAgICAgIDxwIGNsYXNzTmFtZT1cInRvbWJzdG9uZVwiPlxuICAgICAgICA8UGVlayBmYWNldD1cIm1lZGl1bVwiIHRhZz1cInNwYW5cIiBoaWdobGlnaHRlZFZhbHVlPXtoaWdobGlnaHQoJ21lZGl1bScpfT57YXJ0Lm1lZGl1bX08L1BlZWs+XG4gICAgICA8L3A+XG4gICAgICB7dGhpcy5zdGF0ZS5zaG93TGFiZWxzICYmIDxDb3B5YWJsZUxhYmVsIGFydD17YXJ0fSBvbkNsb3NlPXt0aGlzLmhhbmRsZURvdWJsZUNsaWNrfSAvPn1cbiAgICAgIDxwIGNsYXNzTmFtZT1cImdpZnRlZFwiPlxuICAgICAgICA8UGVlayBmYWNldD1cImNyZWRpdGxpbmVcIiB0YWc9XCJzcGFuXCIgaGlnaGxpZ2h0ZWRWYWx1ZT17aGlnaGxpZ2h0KCdjcmVkaXRsaW5lJyl9PnthcnQuY3JlZGl0bGluZX08L1BlZWs+IHthY2Nlc3Npb25OdW1iZXJ9XG4gICAgICA8L3A+XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgaGFuZGxlRG91YmxlQ2xpY2soKSB7XG4gICAgLy8gc2hvdyBhIGNvcHktYWJsZSB0b21ic3RvbmUvbGFiZWwgaW4gZGlmZmVyZW50IGZvcm1hdHNcbiAgICB0aGlzLnNldFN0YXRlKHtzaG93TGFiZWxzOiAhdGhpcy5zdGF0ZS5zaG93TGFiZWxzfSlcbiAgfVxufSlcblxudmFyIENsaWNrVG9TZWxlY3QgPSByZXF1aXJlKCdAbWFwYm94L3JlYWN0LWNsaWNrLXRvLXNlbGVjdCcpXG5cbnZhciBDb3B5YWJsZUxhYmVsID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnR9ID0gdGhpcy5wcm9wc1xuXG4gICAgdmFyIHN0eWxlID0ge1xuICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkIHJlZCcsXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIGJhY2tncm91bmQ6ICd3aGl0ZScsXG4gICAgICBwYWRkaW5nOiAnMC4yNWVtJyxcbiAgICB9XG5cbiAgICB2YXIge2pvaW4sIGZvcm1hdERhdGVzLCB0aXRsZWNhc2V9ID0gdGhpc1xuXG4gICAgdmFyIGhhc1ZhbGlkQXJ0aXN0ID0gYXJ0LmFydGlzdCAhPT0gXCJcIiAmJiAhYXJ0LmFydGlzdC5tYXRjaCgvVW5rbm93bi9pKVxuICAgIHZhciBbZmFjZXQsIGNyZWF0b3JdID0gQ3JlYXRvci5nZXRGYWNldEFuZFZhbHVlKGFydClcbiAgICBpZihmYWNldCA9PSAnY291bnRyeScgfHwgZmFjZXQgPT0gdW5kZWZpbmVkKSBjcmVhdG9yID0gdW5kZWZpbmVkXG5cbiAgICB2YXIgdGl0bGUgPSB0aGlzLnN0YXRlLnVzZVF1b3RlcyA/IGDigJwke2FydC50aXRsZX3igJ1gIDogPGk+e2FydC50aXRsZX08L2k+XG4gICAgaWYoIWhhc1ZhbGlkQXJ0aXN0KSB0aXRsZSA9IGFydC50aXRsZVxuXG4gICAgLy8gQXJ0aXN0IG5hbWUgW2lmIGtub3duXSwgQ291bnRyeSBvZiBvcmlnaW4sIGJpcnRoL2RlYXRoIGRhdGVzLFxuICAgIC8vIG9yXG4gICAgLy8gU2VsZi1kZXNpZ25hdGlvbiBvZiBwZW9wbGUvdHJpYmUsIGxvY2F0aW9uIChjb3VudHJ5ICsvLSBjb250aW5lbnQpXG4gICAgLy8gVGl0bGUgb2Ygb2JqZWN0IFtpdGFsaWNpemVkIGlmIHNpbXBseSBub25kZXNjcmlwdGl2ZSwgbGlrZSBUYWJsZV0sIGNyZWF0aW9uIGRhdGUsIG1lZGlhLFxuICAgIC8vIFNvdXJjZSBvZiBwdXJjaGFzZSBmdW5kcywgYWNjZXNzaW9uIG51bWJlciBbKyDCqSBvciBBUlMgaW5mb11cbiAgICByZXR1cm4gPGRpdiBzdHlsZT17c3R5bGV9PlxuICAgICAgPENsaWNrVG9TZWxlY3QgcmVmPVwiY2xpY2tcIj5cbiAgICAgICAgPHA+e2pvaW4oaGFzVmFsaWRBcnRpc3QgJiZcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgY3JlYXRvcixcbiAgICAgICAgICAgICAgYXJ0LmNvdW50cnksXG4gICAgICAgICAgICAgIGZvcm1hdERhdGVzKGFydC5saWZlX2RhdGUpXG4gICAgICAgICAgICBdIHx8XG4gICAgICAgICAgICBbY3JlYXRvciwgYXJ0LmNvdW50cnksIGFydC5jb250aW5lbnRdXG4gICAgICAgICl9PC9wPlxuICAgICAgICA8cD5cbiAgICAgICAgICB7dGl0bGV9LCZuYnNwO3tqb2luKFtmb3JtYXREYXRlcyhhcnQuZGF0ZWQpLCB0aXRsZWNhc2UoYXJ0Lm1lZGl1bSldKX1cbiAgICAgICAgPC9wPlxuICAgICAgICA8cD5cbiAgICAgICAgICB7am9pbihbXG4gICAgICAgICAgICBhcnQuY3JlZGl0bGluZSxcbiAgICAgICAgICAgIGFydC5hY2Nlc3Npb25fbnVtYmVyLFxuICAgICAgICAgICAgZGVjb2RlVVJJQ29tcG9uZW50KGFydC5pbWFnZV9jb3B5cmlnaHQpLFxuICAgICAgICAgIF0pfVxuICAgICAgICA8L3A+XG4gICAgICA8L0NsaWNrVG9TZWxlY3Q+XG5cbiAgICAgIDxkaXYgc3R5bGU9e3tvcGFjaXR5OiAnMC41J319PlxuICAgICAgICA8bGFiZWwgZm9yPVwidXNlUXVvdGVzXCIgb25Eb3VibGVDbGljaz17KGUpID0+IHtlLnN0b3BQcm9wYWdhdGlvbigpOyBlLnByZXZlbnREZWZhdWx0KCl9fT5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnRvZ2dsZVF1b3Rlc31cbiAgICAgICAgICAgIGNoZWNrZWQ9e3RoaXMuc3RhdGUudXNlUXVvdGVzfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgdXNlIHF1b3Rlc1xuICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMucHJvcHMub25DbG9zZX0gc3R5bGU9e3tjb2xvcjogJyMxMTEnLCBmbG9hdDogJ3JpZ2h0J319PihjbG9zZSk8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICB9LFxuXG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXNlUXVvdGVzOiBmYWxzZSxcbiAgICB9XG4gIH0sXG5cbiAgdG9nZ2xlUXVvdGVzKGV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBjb25zdCB1c2VRdW90ZXMgPSB0aGlzLnN0YXRlID8gIXRoaXMuc3RhdGUudXNlUXVvdGVzIDogdHJ1ZVxuICAgIHRoaXMuc2V0U3RhdGUoe3VzZVF1b3Rlc30pXG4gIH0sXG5cbiAgam9pbihmaWVsZHMpIHtcbiAgICByZXR1cm4gZmllbGRzLmZpbHRlcihmID0+ICEhZikuam9pbignLCAnKVxuICB9LFxuXG4gIGZvcm1hdERhdGVzKGRhdGVTdHJpbmcpIHtcbiAgICB2YXIgZGF0ZXMgPSBkYXRlU3RyaW5nLnJlcGxhY2UoL15bQS1aYS16IFxcLixcXChcXCldKy8sICcnKS5zcGxpdCgvXFxzKi1cXHMqLylcbiAgICBpZihkYXRlcy5sZW5ndGggPiAxKSB7XG4gICAgICB2YXIgW3N0YXJ0LCBlbmRdID0gZGF0ZXNcbiAgICAgIGlmKHN0YXJ0LnN1YnN0cigwLCAyKSA9PT0gZW5kLnN1YnN0cigwLCAyKSkgcmV0dXJuIHN0YXJ0K1wi4oCTXCIrZW5kLnN1YnN0cigyKVxuICAgICAgcmV0dXJuIHN0YXJ0K1wi4oCTXCIrZW5kXG4gICAgfVxuICAgIHJldHVybiBkYXRlcy5qb2luKFwi4oCTXCIpXG4gIH0sXG5cbiAgdGl0bGVjYXNlKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmdbMF0udG9VcHBlckNhc2UoKSArIHN0cmluZy5zdWJzdHIoMSkudG9Mb3dlckNhc2UoKVxuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIC8vIGF1dG8tc2VsZWN0IHRoZSB0ZXh0IGluc3RlYWQgb2YgcmVxdWlyaW5nIGEgY2xpY2tcbiAgICB2YXIgZG9tTm9kZSA9IHRoaXMucmVmcy5jbGljayAmJiBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLnJlZnMuY2xpY2spXG4gICAgaWYoZG9tTm9kZSkgZG9tTm9kZS5jbGljaygpXG4gIH0sXG59KVxuXG4vLyBjaGVjayBpZiBhbiBpbWFnZSBleGlzdHMgb24gb3VyIGNsb3VkZnJvbnQgZGlzdHJpYnV0aW9uLFxuLy8gYW5kIGlmIG5vdCwgZmFsbCBiYWNrIHRvIGxvYWRpbmcgaXQgZnJvbSB0aGUgQVBJXG52YXIgdGVzdENsb3VkZnJvbnRJbWFnZSA9IChhcnQsIGNhbGxiYWNrKSA9PiB7XG4gIHZhciBjZG5VcmwgPSBpbWFnZUNETihhcnQuaWQsIGFydC5yZXN0cmljdGVkID8gNDAwIDogODAwKVxuXG4gIGlmKHR5cGVvZiBkb2N1bWVudCA9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBjZG5VcmxcbiAgfVxuXG4gIHZhciBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJylcbiAgaS5vbmxvYWQgPSAoKSA9PiBjYWxsYmFjayhjZG5VcmwpXG4gIGkub25lcnJvciA9ICgpID0+IGNhbGxiYWNrKGBodHRwczovL2FwaS5hcnRzbWlhLm9yZy9pbWFnZXMvJHthcnQuaWR9LyR7YXJ0LnJlc3RyaWN0ZWQgPyAnNDAwL21lZGl1bS5qcGcnIDogJzgwMC9sYXJnZS5qcGcnfWApXG4gIGkuc3JjID0gY2RuVXJsXG59XG5cbnZhciBMaW5rQmFyID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFjdGlvbnM6IHtcbiAgICAgICAgbGlrZToge1xuICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgIGljb246ICdmYXZvcml0ZV9ib3JkZXInLFxuICAgICAgICB9LFxuICAgICAgICBkb3dubG9hZDoge1xuICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgaWNvbjogJ2ZpbGVfZG93bmxvYWQnLFxuICAgICAgICB9LFxuICAgICAgICBwcmludDoge1xuICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIHNoYXJlOiB7XG4gICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICBpY29uOiAnc2hhcmUnLFxuICAgICAgICB9LFxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNob3dTaGFyZTogZmFsc2UsXG4gICAgfVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIge2FydH0gPSB0aGlzLnByb3BzXG5cbiAgICB2YXIgYWN0aW9ucyA9IE9iamVjdC5rZXlzKHRoaXMucHJvcHMuYWN0aW9ucylcbiAgICAubWFwKGtleSA9PiB7XG4gICAgICB0aGlzLnByb3BzLmFjdGlvbnNba2V5XS5rZXkgPSBrZXlcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmFjdGlvbnNba2V5XVxuICAgIH0sIFtdKVxuICAgIC5maWx0ZXIoYWN0aW9uID0+IGFjdGlvbi5lbmFibGVkKVxuICAgIC8vIGRvbid0IHNob3cgJ2Rvd25sb2FkJyBmb3IgYXJ0IHdpdGggYW4gaW52YWxpZCBpbWFnZVxuICAgIC5maWx0ZXIoYWN0aW9uID0+ICEoYWN0aW9uLmtleSA9PSAnZG93bmxvYWQnICYmIGFydC5pbWFnZSA9PSAnaW52YWxpZCcpKVxuXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpbmstYmFyXCI+XG4gICAgICAgIHthY3Rpb25zXG4gICAgICAgIC5tYXAoYWN0aW9uID0+IHtcbiAgICAgICAgICB2YXIga2V5ID0gYWN0aW9uLmtleVxuICAgICAgICAgIHZhciBoYW5kbGVyID0gZXZhbChgX3RoaXMuaGFuZGxlJHtrZXlbMF0udG9VcHBlckNhc2UoKSArIGtleS5zdWJzdHIoMSl9YCkgLy8gVE9ETyBhbGVydCBhbGVydCB3YXJuaW5nIHdhcm5pbmcgKHNob3VsZG4ndCBoYXZlIHRvIHJlZmVyZW5jZSBfdGhpcywgc2tldGNoeSBjb2RlKVxuXG4gICAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJtYXRlcmlhbC1pY29uc1wiLFxuICAgICAgICAgICAgb25DbGljazogaGFuZGxlcixcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoa2V5ID09ICdkb3dubG9hZCcpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZG93bmxvYWQgPSAnJ1xuICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5yZXNvbHZlZEltYWdlRG93bmxvYWRVcmwpIHtcbiAgICAgICAgICAgICAgb3B0aW9ucy5ocmVmID0gdGhpcy5zdGF0ZS5yZXNvbHZlZEltYWdlRG93bmxvYWRVcmxcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRlc3RDbG91ZGZyb250SW1hZ2UoYXJ0LCB1cmwgPT4geyB0aGlzLnNldFN0YXRlKHtyZXNvbHZlZEltYWdlRG93bmxvYWRVcmw6IHVybH0pfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGNvbnRlbnQgPSBhY3Rpb24uaWNvbiB8fCBhY3Rpb24ua2V5XG5cbiAgICAgICAgICByZXR1cm4gKGtleSA9PSAnZG93bmxvYWQnKSA/XG4gICAgICAgICAgICA8YSB7Li4ub3B0aW9uc30+e2NvbnRlbnR9PC9hPiA6XG4gICAgICAgICAgICA8aSB7Li4ub3B0aW9uc30+e2NvbnRlbnR9PC9pPlxuICAgICAgICB9KX1cbiAgICAgIDwvZGl2PlxuICAgICAge3RoaXMuc3RhdGUuc2hvd1NoYXJlICYmIHRoaXMuc2hvd1NoYXJlKCl9XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyXCI+PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJhY2stYnV0dG9uXCI+e3RoaXMucHJvcHMubGluayAmJiA8TGluayB0bz1cImFydHdvcmtcIiBwYXJhbXM9e3tpZDogYXJ0LmlkfX0+VmlldyBEZXRhaWxzIDxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zXCI+YXJyb3dfZm9yd2FyZDwvaT48L0xpbms+fTwvZGl2PlxuICAgIDwvZGl2PlxuICB9LFxuXG4gIGdldFVybCgpIHtcbiAgICByZXR1cm4gJ2h0dHBzOi8vY29sbGVjdGlvbnMuYXJ0c21pYS5vcmcnK3RoaXMuY29udGV4dC5yb3V0ZXIuZ2V0Q3VycmVudFBhdGgoKVxuICB9LFxuXG4gIGhhbmRsZVNoYXJlKCkge1xuICAgIHZhciB7YXJ0fSA9IHRoaXMucHJvcHNcblxuICAgIHRoaXMuc2V0U3RhdGUoe3Nob3dTaGFyZTogIXRoaXMuc3RhdGUuc2hvd1NoYXJlfSlcbiAgfSxcblxuICBzaG93U2hhcmUoKSB7XG4gICAgdmFyIHthcnR9ID0gdGhpcy5wcm9wc1xuXG4gICAgdmFyIGZhY2Vib29rVVJMID0gYGh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9zaGFyZXIvc2hhcmVyLnBocD91PSR7ZW5jb2RlVVJJKHRoaXMuZ2V0VXJsKCkpfWBcbiAgICB2YXIgdHdpdHRlclVSTCA9IGBodHRwczovL3R3aXR0ZXIuY29tL2ludGVudC90d2VldD91cmw9JHtlbmNvZGVVUkkodGhpcy5nZXRVcmwoKSl9YFxuICAgIHZhciBlbWFpbFVSTCA9IGBtYWlsdG86P3N1YmplY3Q9JHthcnQudGl0bGV9JmJvZHk9JHtlbmNvZGVVUkkodGhpcy5nZXRVcmwoKSl9YFxuXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwic2hhcmVcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic29jaWFsXCI+PGEgdGl0bGU9XCJTaGFyZSB2aWEgZW1haWxcIiBocmVmPXtlbWFpbFVSTH0gdGFyZ2V0PVwiX2JsYW5rXCI+XG4gICAgICAgIDxpbWcgc3JjPVwiaHR0cHM6Ly9zaW1wbGVpY29ucy5vcmcvaWNvbnMvZW1haWwuc3ZnXCIgLz5cbiAgICAgIDwvYT48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic29jaWFsXCI+PGEgdGl0bGU9XCJTaGFyZSBvbiBGYWNlYm9va1wiIGhyZWY9e2ZhY2Vib29rVVJMfSB0YXJnZXQ9XCJfYmxhbmtcIj5cbiAgICAgICAgPGltZyBzcmM9XCJodHRwczovL2Nkbi5yYXdnaXQuY29tL2RhbmxlZWNoL3NpbXBsZS1pY29ucy9naC1wYWdlcy9pY29ucy9mYWNlYm9vay5zdmdcIiAvPlxuICAgICAgPC9hPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzb2NpYWxcIj48YSB0aXRsZT1cIlNoYXJlIG9uIFR3aXR0ZXJcIiBocmVmPXt0d2l0dGVyVVJMfSB0YXJnZXQ9XCJfYmxhbmtcIj5cbiAgICAgICAgPGltZyBzcmM9XCJodHRwczovL2Nkbi5yYXdnaXQuY29tL2RhbmxlZWNoL3NpbXBsZS1pY29ucy9naC1wYWdlcy9pY29ucy90d2l0dGVyLnN2Z1wiIC8+XG4gICAgICA8L2E+PC9kaXY+XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgaGFuZGxlUHJpbnQoKSB7XG4gICAgd2luZG93LnByaW50KClcbiAgfSxcblxuICBoYW5kbGVEb3dubG9hZCgpIHtcbiAgICB2YXIge2FydH0gPSB0aGlzLnByb3BzXG4gICAgdmFyIHtpZH0gPSBhcnRcbiAgICBpZihwcm9jZXNzLmVudi5OT0RFX0VOViA9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJlcXVpcmUoJ3JlYWN0LWdhJykuZXZlbnQoe1xuICAgICAgICBjYXRlZ29yeTogJ0FydHdvcmsnLFxuICAgICAgICBhY3Rpb246ICdJbWFnZSBEb3dubG9hZCcsXG4gICAgICAgIGxhYmVsOiBhcnQudGl0bGUsXG4gICAgICAgIHZhbHVlOiBwYXJzZUludChpZClcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgICBjb25zb2xlLmluZm8oJ2dhLmV2ZW50JywgJ2Rvd25sb2FkZWQnLCBpZClcbiAgICB9XG4gIH0sXG5cbiAgaGFuZGxlTGlrZSgpIHtcbiAgICBjb25zb2xlLmluZm8oJ1RPRE8nKVxuICB9LFxufSlcbkxpbmtCYXIuY29udGV4dFR5cGVzID0ge1xuICByb3V0ZXI6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxufVxuXG52YXIgRmlndXJlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnQsIGxpbmssIGNsYXNzTmFtZSwgLi4uZmlndXJlUHJvcHN9ID0gdGhpcy5wcm9wc1xuICAgIHZhciBpZCA9IGFydC5pZFxuICAgIHZhciBjbGFzc2VzID0gY2xhc3NuYW1lcyhjbGFzc05hbWUsIHt2YWxpZEltYWdlOiBhcnQuaW1hZ2UgPT09ICd2YWxpZCcgJiYgYXJ0LmltYWdlX3dpZHRoID4gMH0pXG5cbiAgICByZXR1cm4gPGZpZ3VyZSB7Li4uZmlndXJlUHJvcHN9IGNsYXNzTmFtZT17Y2xhc3Nlc31cbiAgICAgIGl0ZW1TY29wZSBpdGVtVHlwZT1cImh0dHBzOi8vc2NoZW1hLm9yZy9WaXN1YWxBcnR3b3JrXCI+XG4gICAgICA8bGluayBpdGVtUHJvcD1cInVybFwiIGhyZWY9e2AvYXJ0LyR7aWR9YH0gLz5cbiAgICAgIDxDb25kaXRpb25hbExpbmtXcmFwcGVyIGFydD17YXJ0fSBsaW5rPXtsaW5rfT5cbiAgICAgICAgPEFydHdvcmtJbWFnZSBhcnQ9e2FydH0gaWQ9e2lkfSBsYXp5TG9hZD17ZmFsc2V9IGNsYXNzTmFtZT1cImFydHdvcmstaW1hZ2VcIiAvPlxuICAgICAgPC9Db25kaXRpb25hbExpbmtXcmFwcGVyPlxuICAgICAgPGZpZ2NhcHRpb24+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgPC9maWdjYXB0aW9uPlxuICAgIDwvZmlndXJlPlxuICB9LFxufSlcbkZpZ3VyZS5jb250ZXh0VHlwZXMgPSB7XG4gIHVuaXZlcnNhbDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG59XG5cbnZhciBzbHVnID0gKGFydCkgPT4ge1xuICB2YXIgY3JlYXRvciA9IENyZWF0b3IuZ2V0RmFjZXRBbmRWYWx1ZShhcnQpWzFdXG4gIHZhciBzdHJpbmcgPSBbYXJ0LnRpdGxlLnJlcGxhY2UoLzxbXiBdKz8+L2csICcnKSwgY3JlYXRvciAmJiBjcmVhdG9yLnNwbGl0KCc7JylbMF1dXG4gICAgLmZpbHRlcihlID0+IGUpXG4gICAgLmpvaW4oJyAnKVxuICAgIC5yZXBsYWNlKC/igJl8Jy9nLCAnJylcbiAgICAucmVwbGFjZSgvXiguKylcXCguKlxcKS8sICckMScpXG4gICAgLnJlcGxhY2UoJ8WNJywgJ28nKVxuICByZXR1cm4gdG9TbHVnKHN0cmluZylcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIFRpdGxlLFxuICBUb21ic3RvbmUsXG4gIExpbmtCYXIsXG4gIEZpZ3VyZSxcbiAgQ3JlYXRvcixcbiAgc2x1Z1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/_artwork.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/_artwork.js",
      "sourcesContent": [
        "var React = require('react')\nvar ReactDOM = require('react-dom')\nvar {Link} = require('react-router')\nvar toSlug = require('speakingurl')\nvar classnames = require('classnames')\n\nvar Creator = require('./artwork/creator.js')\nvar ArtworkImage = require('./artwork-image')\nvar Peek = require('./peek')\nvar imageCDN = require('./image-cdn')\nvar highlighter = require('./highlighter')\nvar Markdown = require('./markdown')\n\n//\n// TODO: move these into separate components at `src/artwork/`?\n// \n\nvar ConditionalLinkWrapper = React.createClass({\n  render() {\n    var {art, link} = this.props\n\n    return link ?\n      <Link to=\"artwork\" params={{id: art.id}}>{this.props.children}</Link> :\n      this.props.children\n  }\n})\n\nvar Title = React.createClass({\n  render() {\n    var {art, link, highlights} = this.props\n    var title = <Markdown tag=\"span\">{highlighter(art, highlights, \"title\")}</Markdown>\n    var title = <h1 itemProp=\"name\">{title}, <span className=\"dated\">{art.dated}</span></h1>\n\n    return <ConditionalLinkWrapper {...this.props}>\n      {title}\n    </ConditionalLinkWrapper>\n  },\n})\n\nvar Tombstone = React.createClass({\n  getInitialState() {\n    return {\n      showLabels: false,\n      highlightAccessionNumber: false,\n    }\n  },\n\n  render() {\n    var {art, highlightAccessionNumber} = this.props\n    var highlight = highlighter.bind(null, art, this.props.highlights)\n\n    var accessionNumber = this.props.highlighter ?\n      this.props.highlighter(art.accession_number, highlightAccessionNumber) :\n      art.accession_number\n\n    return <div onDoubleClick={this.handleDoubleClick}>\n      <p className=\"tombstone\">\n        <Peek facet=\"medium\" tag=\"span\" highlightedValue={highlight('medium')}>{art.medium}</Peek>\n      </p>\n      {this.state.showLabels && <CopyableLabel art={art} onClose={this.handleDoubleClick} />}\n      <p className=\"gifted\">\n        <Peek facet=\"creditline\" tag=\"span\" highlightedValue={highlight('creditline')}>{art.creditline}</Peek> {accessionNumber}\n      </p>\n    </div>\n  },\n\n  handleDoubleClick() {\n    // show a copy-able tombstone/label in different formats\n    this.setState({showLabels: !this.state.showLabels})\n  }\n})\n\nvar ClickToSelect = require('@mapbox/react-click-to-select')\n\nvar CopyableLabel = React.createClass({\n  render() {\n    var {art} = this.props\n\n    var style = {\n      border: '1px solid red',\n      position: 'absolute',\n      background: 'white',\n      padding: '0.25em',\n    }\n\n    var {join, formatDates, titlecase} = this\n\n    var hasValidArtist = art.artist !== \"\" && !art.artist.match(/Unknown/i)\n    var [facet, creator] = Creator.getFacetAndValue(art)\n    if(facet == 'country' || facet == undefined) creator = undefined\n\n    var title = this.state.useQuotes ? `“${art.title}”` : <i>{art.title}</i>\n    if(!hasValidArtist) title = art.title\n\n    // Artist name [if known], Country of origin, birth/death dates,\n    // or\n    // Self-designation of people/tribe, location (country +/- continent)\n    // Title of object [italicized if simply nondescriptive, like Table], creation date, media,\n    // Source of purchase funds, accession number [+ © or ARS info]\n    return <div style={style}>\n      <ClickToSelect ref=\"click\">\n        <p>{join(hasValidArtist &&\n            [\n              creator,\n              art.country,\n              formatDates(art.life_date)\n            ] ||\n            [creator, art.country, art.continent]\n        )}</p>\n        <p>\n          {title},&nbsp;{join([formatDates(art.dated), titlecase(art.medium)])}\n        </p>\n        <p>\n          {join([\n            art.creditline,\n            art.accession_number,\n            decodeURIComponent(art.image_copyright),\n          ])}\n        </p>\n      </ClickToSelect>\n\n      <div style={{opacity: '0.5'}}>\n        <label for=\"useQuotes\" onDoubleClick={(e) => {e.stopPropagation(); e.preventDefault()}}>\n          <input type=\"checkbox\"\n            onChange={this.toggleQuotes}\n            checked={this.state.useQuotes}\n          />\n          use quotes\n        </label>\n        <button onClick={this.props.onClose} style={{color: '#111', float: 'right'}}>(close)</button>\n      </div>\n    </div>\n  },\n\n  getInitialState() {\n    return {\n      useQuotes: false,\n    }\n  },\n\n  toggleQuotes(event) {\n    event.stopPropagation()\n    const useQuotes = this.state ? !this.state.useQuotes : true\n    this.setState({useQuotes})\n  },\n\n  join(fields) {\n    return fields.filter(f => !!f).join(', ')\n  },\n\n  formatDates(dateString) {\n    var dates = dateString.replace(/^[A-Za-z \\.,\\(\\)]+/, '').split(/\\s*-\\s*/)\n    if(dates.length > 1) {\n      var [start, end] = dates\n      if(start.substr(0, 2) === end.substr(0, 2)) return start+\"–\"+end.substr(2)\n      return start+\"–\"+end\n    }\n    return dates.join(\"–\")\n  },\n\n  titlecase(string) {\n    return string[0].toUpperCase() + string.substr(1).toLowerCase()\n  },\n\n  componentDidMount() {\n    // auto-select the text instead of requiring a click\n    var domNode = this.refs.click && ReactDOM.findDOMNode(this.refs.click)\n    if(domNode) domNode.click()\n  },\n})\n\n// check if an image exists on our cloudfront distribution,\n// and if not, fall back to loading it from the API\nvar testCloudfrontImage = (art, callback) => {\n  var cdnUrl = imageCDN(art.id, art.restricted ? 400 : 800)\n\n  if(typeof document == 'undefined') {\n    return cdnUrl\n  }\n\n  var i = document.createElement('img')\n  i.onload = () => callback(cdnUrl)\n  i.onerror = () => callback(`https://api.artsmia.org/images/${art.id}/${art.restricted ? '400/medium.jpg' : '800/large.jpg'}`)\n  i.src = cdnUrl\n}\n\nvar LinkBar = React.createClass({\n  getDefaultProps() {\n    return {\n      actions: {\n        like: {\n          enabled: false,\n          icon: 'favorite_border',\n        },\n        download: {\n          enabled: true,\n          icon: 'file_download',\n        },\n        print: {\n          enabled: true,\n        },\n        share: {\n          enabled: true,\n          icon: 'share',\n        },\n      }\n    }\n  },\n\n  getInitialState() {\n    return {\n      showShare: false,\n    }\n  },\n\n  render() {\n    var {art} = this.props\n\n    var actions = Object.keys(this.props.actions)\n    .map(key => {\n      this.props.actions[key].key = key\n      return this.props.actions[key]\n    }, [])\n    .filter(action => action.enabled)\n    // don't show 'download' for art with an invalid image\n    .filter(action => !(action.key == 'download' && art.image == 'invalid'))\n\n    return <div>\n      <div className=\"link-bar\">\n        {actions\n        .map(action => {\n          var key = action.key\n          var handler = eval(`_this.handle${key[0].toUpperCase() + key.substr(1)}`) // TODO alert alert warning warning (shouldn't have to reference _this, sketchy code)\n\n          var options = {\n            key: key,\n            className: \"material-icons\",\n            onClick: handler,\n          }\n          if(key == 'download') {\n            options.download = ''\n            if(this.state.resolvedImageDownloadUrl) {\n              options.href = this.state.resolvedImageDownloadUrl\n            } else {\n              testCloudfrontImage(art, url => { this.setState({resolvedImageDownloadUrl: url})})\n            }\n          }\n          var content = action.icon || action.key\n\n          return (key == 'download') ?\n            <a {...options}>{content}</a> :\n            <i {...options}>{content}</i>\n        })}\n      </div>\n      {this.state.showShare && this.showShare()}\n      <div className=\"clear\"></div>\n      <div className=\"back-button\">{this.props.link && <Link to=\"artwork\" params={{id: art.id}}>View Details <i className=\"material-icons\">arrow_forward</i></Link>}</div>\n    </div>\n  },\n\n  getUrl() {\n    return 'https://collections.artsmia.org'+this.context.router.getCurrentPath()\n  },\n\n  handleShare() {\n    var {art} = this.props\n\n    this.setState({showShare: !this.state.showShare})\n  },\n\n  showShare() {\n    var {art} = this.props\n\n    var facebookURL = `https://www.facebook.com/sharer/sharer.php?u=${encodeURI(this.getUrl())}`\n    var twitterURL = `https://twitter.com/intent/tweet?url=${encodeURI(this.getUrl())}`\n    var emailURL = `mailto:?subject=${art.title}&body=${encodeURI(this.getUrl())}`\n\n    return <div className=\"share\">\n      <div className=\"social\"><a title=\"Share via email\" href={emailURL} target=\"_blank\">\n        <img src=\"https://simpleicons.org/icons/email.svg\" />\n      </a></div>\n      <div className=\"social\"><a title=\"Share on Facebook\" href={facebookURL} target=\"_blank\">\n        <img src=\"https://cdn.rawgit.com/danleech/simple-icons/gh-pages/icons/facebook.svg\" />\n      </a></div>\n      <div className=\"social\"><a title=\"Share on Twitter\" href={twitterURL} target=\"_blank\">\n        <img src=\"https://cdn.rawgit.com/danleech/simple-icons/gh-pages/icons/twitter.svg\" />\n      </a></div>\n    </div>\n  },\n\n  handlePrint() {\n    window.print()\n  },\n\n  handleDownload() {\n    var {art} = this.props\n    var {id} = art\n    if(process.env.NODE_ENV == 'production') {\n      require('react-ga').event({\n        category: 'Artwork',\n        action: 'Image Download',\n        label: art.title,\n        value: parseInt(id)\n      })\n    } else {\n       console.info('ga.event', 'downloaded', id)\n    }\n  },\n\n  handleLike() {\n    console.info('TODO')\n  },\n})\nLinkBar.contextTypes = {\n  router: React.PropTypes.func,\n}\n\nvar Figure = React.createClass({\n  render() {\n    var {art, link, className, ...figureProps} = this.props\n    var id = art.id\n    var classes = classnames(className, {validImage: art.image === 'valid' && art.image_width > 0})\n\n    return <figure {...figureProps} className={classes}\n      itemScope itemType=\"https://schema.org/VisualArtwork\">\n      <link itemProp=\"url\" href={`/art/${id}`} />\n      <ConditionalLinkWrapper art={art} link={link}>\n        <ArtworkImage art={art} id={id} lazyLoad={false} className=\"artwork-image\" />\n      </ConditionalLinkWrapper>\n      <figcaption>\n        {this.props.children}\n      </figcaption>\n    </figure>\n  },\n})\nFigure.contextTypes = {\n  universal: React.PropTypes.bool,\n}\n\nvar slug = (art) => {\n  var creator = Creator.getFacetAndValue(art)[1]\n  var string = [art.title.replace(/<[^ ]+?>/g, ''), creator && creator.split(';')[0]]\n    .filter(e => e)\n    .join(' ')\n    .replace(/’|'/g, '')\n    .replace(/^(.+)\\(.*\\)/, '$1')\n    .replace('ō', 'o')\n  return toSlug(string)\n}\n\nmodule.exports = {\n  Title,\n  Tombstone,\n  LinkBar,\n  Figure,\n  Creator,\n  slug\n}\n"
      ]
    },
    "mtime": 1488248774574
  },
  "{\"filename\":\"/var/www/art/src/peek.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "to-array",
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar rest = require('rest');\nvar debounce = require('debounce');\nvar classnames = require('classnames');\n\nvar SEARCH = require('./endpoints').search;\nvar ImageQuilt = require('./image-quilt');\nvar searchLanguageMap = require('./search-language');\nvar Markdown = require('./markdown');\n\nvar Peek = React.createClass({\n  displayName: 'Peek',\n\n  mixins: [Router.State, Router.Navigation],\n  propTypes: {\n    children: React.PropTypes.string\n  },\n\n  // TODO: this is a mess, simplify to using props better so there's less\n  // state to manage\n  setup: function setup(props) {\n    var qs;\n    var q = props.q;\n    var facet = props.facet;\n\n    var results = this.state && this.state.results || {};\n    var open = this.state ? this.state.open : !!q;\n    if (q && q.props && q.props.children) q = q.props.children.replace(/<\\/?em>/g, '');\n    if (q && q.match(/:/) && !facet) {\n      var _q$split = q.split(/:/);\n\n      var _q$split2 = _toArray(_q$split);\n\n      facet = _q$split2[0];\n      qs = _q$split2.slice(1);\n\n      var q = qs.join(':');\n    }\n    if (!q) q = props.children;\n\n    return {\n      facet: facet,\n      open: open,\n      results: results,\n      offset: props.offset || 0,\n      query: q,\n      facetedQ: this.getFacetedQ(q, facet),\n      startedOpen: !!props.q\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return this.setup(this.props);\n  },\n\n  render: function render() {\n    var _this = this;\n\n    var _state = this.state;\n    var results = _state.results;\n    var facetedQ = _state.facetedQ;\n    var startedOpen = _state.startedOpen;\n\n    if (!facetedQ) return React.createElement('span', null);\n    var _props = this.props;\n    var child = _props.child;\n    var microdata = _props.microdata;\n\n    var result = results && results[facetedQ];\n    var Tag = this.props.tag;\n    var showIcon = this.props.showIcon;\n\n    var icon = React.createElement(\n      'i',\n      { className: 'material-icons' },\n      'expand_' + (this.state.open ? 'less' : 'more')\n    );\n    var linkProps = this.props.linkProps || this.props.filtered ? {\n      to: \"filteredSearchResults\",\n      params: { terms: '*', splat: this.state.facetedQ || this.state.q }\n    } : {\n      to: \"searchResults\",\n      params: { terms: this.state.facetedQ || this.state.q }\n    };\n    var text = this.props.highlightedValue ? React.createElement(\n      Markdown,\n      { tag: 'span' },\n      this.props.highlightedValue\n    ) : this.props.children;\n    var peekText = this.context.universal ? React.createElement(\n      Link,\n      _extends({ itemProp: microdata ? \"url\" : '' }, linkProps),\n      text\n    ) : text;\n\n    var queryString = decodeURIComponent(this.state.facetedQ);\n    var humanLanguage = searchLanguageMap(queryString);\n    var searchExplanation = humanLanguage !== queryString ? humanLanguage : this.state.query + ' ' + (this.state.facet && '(' + this.state.facet + ')');\n\n    return React.createElement(\n      Tag,\n      { onClick: debounce(this.onClick, 200), className: classnames(\"peek\", { startedOpen: startedOpen, startedClosed: !startedOpen, open: this.state.open }), style: { cursor: 'pointer' } },\n      this.props.children && React.createElement(\n        'i',\n        null,\n        React.createElement(\n          'span',\n          { itemProp: microdata ? \"name\" : '' },\n          peekText\n        ),\n        !this.props.universal && showIcon && icon\n      ),\n      this.state.open && this.state.facetedQ && React.createElement(\n        'div',\n        { className: 'peek', style: { fontSize: '80%', maxWidth: this.state.maxWidth || \"100%\" } },\n        result && this.quiltFromResults(),\n        React.createElement(\n          Link,\n          _extends({}, linkProps, { style: { width: '100%' } }),\n          result && result.hits && result.hits.total || 'search',\n          ' results for ',\n          searchExplanation,\n          React.createElement(\n            'span',\n            { style: { float: 'right', marginRight: '10px' }, className: 'more-results-link' },\n            'View more results'\n          )\n        )\n      ),\n      this.state.open && this.getQs().map(function (q) {\n        return React.createElement(Peek, { facet: _this.state.facet, q: q, key: q });\n      })\n    );\n  },\n\n  onClick: function onClick() {\n    if (this.state.startedOpen) return;\n    if (this.state.open) return this.setState({ open: false });\n\n    this.setState({\n      open: true,\n      loading: true\n    });\n\n    this.fetchResults();\n  },\n\n  quiltFromResults: function quiltFromResults() {\n    var _state2 = this.state;\n    var results = _state2.results;\n    var facetedQ = _state2.facetedQ;\n\n    var result = results && results[facetedQ];\n    var hits = result && result.hits && result.hits.hits || [];\n    var offset = this.props.offset || 0;\n\n    if (!result || !hits || hits.length <= (this.props.showSingleResult ? 0 : 1)) return React.createElement('span', null);\n    var wImg = ImageQuilt.getImagedResults(hits).slice(offset, offset + 10);\n    return React.createElement(ImageQuilt, _extends({\n      maxRows: 1,\n      maxWorks: 7,\n      artworks: wImg.length > 3 ? wImg : hits\n    }, this.props.quiltProps, {\n      onClick: this.linkToResults,\n      disableHover: true,\n      shuffle: this.props.shuffleQuilt\n    }));\n  },\n\n  handleResize: function handleResize() {\n    this.setState({ maxWidth: ReactDOM.findDOMNode(this).clientWidth });\n  },\n  componentDidMount: function componentDidMount() {\n    if (this.state.open) this.fetchResults();\n    this.handleResize();\n    window.addEventListener('resize', this.handleResize);\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n  },\n\n  getFacetedQ: function getFacetedQ(q, facet) {\n    var q = q || (this.state ? this.state.query : \"\");\n    var facet = facet || this.state && this.state.facet;\n    if (facet == 'artist') q = q.replace(/([^;]+:)/g, '').trim();\n    if (q == null) return false;\n    return facet ? facet + ':\"' + encodeURIComponent(q.replace(/\"/g, '').replace('\\r\\n', ' ')) + '\"' : q;\n  },\n\n  getQs: function getQs() {\n    var _this2 = this;\n\n    var q = this.state.query;\n    if (q.match(';')) {\n      return q.split(/;/).map(function (_q) {\n        var cleanedQ = _q.replace(/^.*attributed to|unknown|artist|after/ig, '').trim();\n        if (_this2.state && _this2.state.facet == 'artist') cleanedQ = cleanedQ.replace(/\\w+ by/, '');\n        return cleanedQ;\n      });\n    }\n    return [];\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    this.setState(this.setup(nextProps));\n  },\n\n  componentWillUpdate: function componentWillUpdate(_, nextState) {\n    if (this.state.open !== nextState.open) this.dispatchEvent();\n  },\n\n  fetchResults: function fetchResults() {\n    var _this3 = this;\n\n    var _state3 = this.state;\n    var results = _state3.results;\n    var facetedQ = _state3.facetedQ;\n\n    this.state.results[facetedQ] || rest(SEARCH + '/' + facetedQ + '?size=20').then(function (r) {\n      var results = _this3.state.results;\n      results[facetedQ] = JSON.parse(r.entity);\n      _this3.setState({\n        results: results,\n        loading: false\n      });\n    });\n  },\n\n  linkToResults: function linkToResults(art) {\n    if (!art) return;\n    window.clickedArtwork = art;\n    if (this.props.directLinkTo) {\n      var relatedJson = JSON.parse(art._source['related:' + this.props.directLinkTo]);\n      var url = relatedJson.link;\n      if (url) return window.location = url;\n    }\n    this.props.filtered ? this.transitionTo('filteredSearchResults', { terms: '*', splat: this.state.facetedQ }) : this.transitionTo('searchResults', { terms: this.state.facetedQ });\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      tag: \"div\",\n      showIcon: true,\n      showSingleResult: false\n    };\n  },\n\n  dispatchEvent: function dispatchEvent() {\n    window.dispatchEvent(new CustomEvent('peek'));\n  }\n});\nPeek.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nmodule.exports = Peek;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvcGVlay5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFBO0FBQ25DLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtJQUM5QixJQUFJLEdBQUssTUFBTSxDQUFmLElBQUk7O0FBQ1YsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFBO0FBQzFCLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQTtBQUNsQyxJQUFJLFVBQVUsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7O0FBRXRDLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQyxNQUFNLENBQUE7QUFDMUMsSUFBSSxVQUFVLEdBQUcsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFBO0FBQ3pDLElBQUksaUJBQWlCLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7QUFDcEQsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBOztBQUVwQyxJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDM0IsUUFBTSxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsVUFBVSxDQUFDO0FBQ3pDLFdBQVMsRUFBRTtBQUNULFlBQVEsRUFBRSxLQUFLLENBQUMsU0FBUyxDQUFDLE1BQU07R0FDakM7Ozs7QUFJRCxPQUFLLEVBQUEsZUFBQyxLQUFLLEVBQUU7QUFDWCxRQUFJLEVBQUUsQ0FBQTtRQUNELENBQUMsR0FBVyxLQUFLLENBQWpCLENBQUM7UUFBRSxLQUFLLEdBQUksS0FBSyxDQUFkLEtBQUs7O0FBQ2IsUUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLEtB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QUFFLElBQUk7QUFDZCxzQkFBZ0IsRUFBRSxLQUFLO0tBQ3hCLENBQUE7R0FDRjs7QUFFRCxlQUFhLEVBQUEseUJBQUc7QUFDZCxVQUFNLENBQUMsYUFBYSxDQUFDLElBQUksV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUE7R0FDOUM7Q0FDRixDQUFDLENBQUE7QUFDRixJQUFJLENBQUMsWUFBWSxHQUFHO0FBQ2xCLFFBQU0sRUFBRSxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUk7QUFDNUIsV0FBUyxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSTtDQUNoQyxDQUFBOztBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvcGVlay5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSZWFjdERPTSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciB7IExpbmsgfSA9IFJvdXRlclxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcbnZhciBkZWJvdW5jZSA9IHJlcXVpcmUoJ2RlYm91bmNlJylcbnZhciBjbGFzc25hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpXG5cbnZhciBTRUFSQ0ggPSByZXF1aXJlKCcuL2VuZHBvaW50cycpLnNlYXJjaFxudmFyIEltYWdlUXVpbHQgPSByZXF1aXJlKCcuL2ltYWdlLXF1aWx0JylcbnZhciBzZWFyY2hMYW5ndWFnZU1hcCA9IHJlcXVpcmUoJy4vc2VhcmNoLWxhbmd1YWdlJylcbnZhciBNYXJrZG93biA9IHJlcXVpcmUoJy4vbWFya2Rvd24nKVxuXG52YXIgUGVlayA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgbWl4aW5zOiBbUm91dGVyLlN0YXRlLCBSb3V0ZXIuTmF2aWdhdGlvbl0sXG4gIHByb3BUeXBlczoge1xuICAgIGNoaWxkcmVuOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICB9LFxuXG4gIC8vIFRPRE86IHRoaXMgaXMgYSBtZXNzLCBzaW1wbGlmeSB0byB1c2luZyBwcm9wcyBiZXR0ZXIgc28gdGhlcmUncyBsZXNzXG4gIC8vIHN0YXRlIHRvIG1hbmFnZVxuICBzZXR1cChwcm9wcykge1xuICAgIHZhciBxc1xuICAgIHZhciB7cSwgZmFjZXR9ID0gcHJvcHNcbiAgICB2YXIgcmVzdWx0cyA9IHRoaXMuc3RhdGUgJiYgdGhpcy5zdGF0ZS5yZXN1bHRzIHx8IHt9XG4gICAgdmFyIG9wZW4gPSB0aGlzLnN0YXRlID8gdGhpcy5zdGF0ZS5vcGVuIDogISFxXG4gICAgaWYocSAmJiBxLnByb3BzICYmIHEucHJvcHMuY2hpbGRyZW4pIHEgPSBxLnByb3BzLmNoaWxkcmVuLnJlcGxhY2UoLzxcXC8/ZW0+L2csICcnKVxuICAgIGlmKHEgJiYgcS5tYXRjaCgvOi8pICYmICFmYWNldCkge1xuICAgICAgW2ZhY2V0LCAuLi5xc10gPSBxLnNwbGl0KC86LylcbiAgICAgIHZhciBxID0gcXMuam9pbignOicpXG4gICAgfVxuICAgIGlmKCFxKSBxID0gcHJvcHMuY2hpbGRyZW5cblxuICAgIHJldHVybiB7XG4gICAgICBmYWNldCxcbiAgICAgIG9wZW4sXG4gICAgICByZXN1bHRzLFxuICAgICAgb2Zmc2V0OiBwcm9wcy5vZmZzZXQgfHwgMCxcbiAgICAgIHF1ZXJ5OiBxLFxuICAgICAgZmFjZXRlZFE6IHRoaXMuZ2V0RmFjZXRlZFEocSwgZmFjZXQpLFxuICAgICAgc3RhcnRlZE9wZW46ICEhcHJvcHMucVxuICAgIH1cbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2V0dXAodGhpcy5wcm9wcylcbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHtyZXN1bHRzLCBmYWNldGVkUSwgc3RhcnRlZE9wZW59ID0gdGhpcy5zdGF0ZVxuICAgIGlmKCFmYWNldGVkUSkgcmV0dXJuIDxzcGFuIC8+XG4gICAgdmFyIHtjaGlsZCwgbWljcm9kYXRhfSA9IHRoaXMucHJvcHNcbiAgICB2YXIgcmVzdWx0ID0gcmVzdWx0cyAmJiByZXN1bHRzW2ZhY2V0ZWRRXVxuICAgIHZhciBUYWcgPSB0aGlzLnByb3BzLnRhZ1xuICAgIHZhciB7c2hvd0ljb259ID0gdGhpcy5wcm9wc1xuICAgIHZhciBpY29uID0gPGkgY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbnNcIj57J2V4cGFuZF8nKyh0aGlzLnN0YXRlLm9wZW4gPyAnbGVzcycgOiAnbW9yZScpfTwvaT5cbiAgICB2YXIgbGlua1Byb3BzID0gdGhpcy5wcm9wcy5saW5rUHJvcHMgfHwgdGhpcy5wcm9wcy5maWx0ZXJlZCA/IHtcbiAgICAgIHRvOiBcImZpbHRlcmVkU2VhcmNoUmVzdWx0c1wiLFxuICAgICAgcGFyYW1zOiB7dGVybXM6ICcqJywgc3BsYXQ6IHRoaXMuc3RhdGUuZmFjZXRlZFEgfHwgdGhpcy5zdGF0ZS5xfVxuICAgIH0gOiB7XG4gICAgICB0bzogXCJzZWFyY2hSZXN1bHRzXCIsXG4gICAgICBwYXJhbXM6IHt0ZXJtczogdGhpcy5zdGF0ZS5mYWNldGVkUSB8fCB0aGlzLnN0YXRlLnF9XG4gICAgfVxuICAgIHZhciB0ZXh0ID0gdGhpcy5wcm9wcy5oaWdobGlnaHRlZFZhbHVlID8gPE1hcmtkb3duIHRhZz1cInNwYW5cIj57dGhpcy5wcm9wcy5oaWdobGlnaHRlZFZhbHVlfTwvTWFya2Rvd24+IDogdGhpcy5wcm9wcy5jaGlsZHJlblxuICAgIHZhciBwZWVrVGV4dCA9IHRoaXMuY29udGV4dC51bml2ZXJzYWwgP1xuICAgICAgPExpbmsgaXRlbVByb3A9e21pY3JvZGF0YSA/IFwidXJsXCIgOiAnJ30gey4uLmxpbmtQcm9wc30+e3RleHR9PC9MaW5rPiA6XG4gICAgICB0ZXh0XG5cbiAgICB2YXIgcXVlcnlTdHJpbmcgPSBkZWNvZGVVUklDb21wb25lbnQodGhpcy5zdGF0ZS5mYWNldGVkUSlcbiAgICB2YXIgaHVtYW5MYW5ndWFnZSA9c2VhcmNoTGFuZ3VhZ2VNYXAocXVlcnlTdHJpbmcpXG4gICAgdmFyIHNlYXJjaEV4cGxhbmF0aW9uID0gaHVtYW5MYW5ndWFnZSAhPT0gcXVlcnlTdHJpbmcgP1xuICAgICAgaHVtYW5MYW5ndWFnZSA6XG4gICAgICBgJHt0aGlzLnN0YXRlLnF1ZXJ5fSAke3RoaXMuc3RhdGUuZmFjZXQgJiYgYCgke3RoaXMuc3RhdGUuZmFjZXR9KWB9YFxuXG4gICAgcmV0dXJuIDxUYWcgb25DbGljaz17ZGVib3VuY2UodGhpcy5vbkNsaWNrLCAyMDApfSBjbGFzc05hbWU9e2NsYXNzbmFtZXMoXCJwZWVrXCIsIHtzdGFydGVkT3Blbjogc3RhcnRlZE9wZW4sIHN0YXJ0ZWRDbG9zZWQ6ICFzdGFydGVkT3Blbiwgb3Blbjp0aGlzLnN0YXRlLm9wZW59KX0gc3R5bGU9e3tjdXJzb3I6ICdwb2ludGVyJ319PlxuICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW4gJiYgPGk+XG4gICAgICAgIDxzcGFuIGl0ZW1Qcm9wPXttaWNyb2RhdGEgPyBcIm5hbWVcIiA6ICcnfT57cGVla1RleHR9PC9zcGFuPlxuICAgICAgICB7IXRoaXMucHJvcHMudW5pdmVyc2FsICYmIHNob3dJY29uICYmIGljb259XG4gICAgICA8L2k+fVxuICAgICAge3RoaXMuc3RhdGUub3BlbiAmJiB0aGlzLnN0YXRlLmZhY2V0ZWRRICYmIDxkaXYgY2xhc3NOYW1lPVwicGVla1wiIHN0eWxlPXt7Zm9udFNpemU6ICc4MCUnLCBtYXhXaWR0aDogdGhpcy5zdGF0ZS5tYXhXaWR0aCB8fCBcIjEwMCVcIn19PlxuICAgICAgICB7cmVzdWx0ICYmIHRoaXMucXVpbHRGcm9tUmVzdWx0cygpfVxuICAgICAgICA8TGluayB7Li4ubGlua1Byb3BzfSBzdHlsZT17e3dpZHRoOiAnMTAwJSd9fT5cbiAgICAgICAgICB7cmVzdWx0ICYmIHJlc3VsdC5oaXRzICYmIHJlc3VsdC5oaXRzLnRvdGFsIHx8ICdzZWFyY2gnfSByZXN1bHRzIGZvciB7c2VhcmNoRXhwbGFuYXRpb259XG4gICAgICAgICAgPHNwYW4gc3R5bGU9e3tmbG9hdDogJ3JpZ2h0JywgbWFyZ2luUmlnaHQ6ICcxMHB4J319IGNsYXNzTmFtZT1cIm1vcmUtcmVzdWx0cy1saW5rXCI+VmlldyBtb3JlIHJlc3VsdHM8L3NwYW4+XG4gICAgICAgIDwvTGluaz5cbiAgICAgIDwvZGl2Pn1cbiAgICAgIHt0aGlzLnN0YXRlLm9wZW4gJiYgdGhpcy5nZXRRcygpLm1hcCgocSkgPT4gPFBlZWsgZmFjZXQ9e3RoaXMuc3RhdGUuZmFjZXR9IHE9e3F9IGtleT17cX0gLz4pfVxuICAgIDwvVGFnPlxuICB9LFxuXG4gIG9uQ2xpY2soKSB7XG4gICAgaWYodGhpcy5zdGF0ZS5zdGFydGVkT3BlbikgcmV0dXJuXG4gICAgaWYodGhpcy5zdGF0ZS5vcGVuKSByZXR1cm4gdGhpcy5zZXRTdGF0ZSh7b3BlbjogZmFsc2V9KVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBvcGVuOiB0cnVlLFxuICAgICAgbG9hZGluZzogdHJ1ZSxcbiAgICB9KVxuXG4gICAgdGhpcy5mZXRjaFJlc3VsdHMoKVxuICB9LFxuXG4gIHF1aWx0RnJvbVJlc3VsdHMoKSB7XG4gICAgdmFyIHtyZXN1bHRzLCBmYWNldGVkUX0gPSB0aGlzLnN0YXRlXG4gICAgdmFyIHJlc3VsdCA9IHJlc3VsdHMgJiYgcmVzdWx0c1tmYWNldGVkUV1cbiAgICB2YXIgaGl0cyA9IHJlc3VsdCAmJiByZXN1bHQuaGl0cyAmJiByZXN1bHQuaGl0cy5oaXRzIHx8IFtdXG4gICAgdmFyIG9mZnNldCA9IHRoaXMucHJvcHMub2Zmc2V0IHx8IDBcblxuICAgIGlmKCFyZXN1bHQgfHwgIWhpdHMgfHwgaGl0cy5sZW5ndGggPD0gKHRoaXMucHJvcHMuc2hvd1NpbmdsZVJlc3VsdCA/IDAgOiAxKSkgcmV0dXJuIDxzcGFuLz5cbiAgICB2YXIgd0ltZyA9IEltYWdlUXVpbHQuZ2V0SW1hZ2VkUmVzdWx0cyhoaXRzKS5zbGljZShvZmZzZXQsIG9mZnNldCsxMClcbiAgICByZXR1cm4gPEltYWdlUXVpbHRcbiAgICAgIG1heFJvd3M9ezF9XG4gICAgICBtYXhXb3Jrcz17N31cbiAgICAgIGFydHdvcmtzPXt3SW1nLmxlbmd0aCA+IDMgPyB3SW1nIDogaGl0c31cbiAgICAgIHsuLi50aGlzLnByb3BzLnF1aWx0UHJvcHN9XG4gICAgICBvbkNsaWNrPXt0aGlzLmxpbmtUb1Jlc3VsdHN9XG4gICAgICBkaXNhYmxlSG92ZXI9e3RydWV9XG4gICAgICBzaHVmZmxlPXt0aGlzLnByb3BzLnNodWZmbGVRdWlsdH1cbiAgICAgIC8+XG4gIH0sXG5cbiAgaGFuZGxlUmVzaXplKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe21heFdpZHRoOiBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKS5jbGllbnRXaWR0aH0pXG4gIH0sXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICBpZih0aGlzLnN0YXRlLm9wZW4pIHRoaXMuZmV0Y2hSZXN1bHRzKClcbiAgICB0aGlzLmhhbmRsZVJlc2l6ZSgpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuaGFuZGxlUmVzaXplKVxuICB9LFxuICBjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24oKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuaGFuZGxlUmVzaXplKVxuICB9LFxuXG4gIGdldEZhY2V0ZWRRKHEsIGZhY2V0KSB7XG4gICAgdmFyIHEgPSBxIHx8ICh0aGlzLnN0YXRlID8gdGhpcy5zdGF0ZS5xdWVyeSA6IFwiXCIpXG4gICAgdmFyIGZhY2V0ID0gZmFjZXQgfHwgdGhpcy5zdGF0ZSAmJiB0aGlzLnN0YXRlLmZhY2V0XG4gICAgaWYoZmFjZXQgPT0gJ2FydGlzdCcpIHEgPSBxLnJlcGxhY2UoLyhbXjtdKzopL2csICcnKS50cmltKClcbiAgICBpZihxID09IG51bGwpIHJldHVybiBmYWxzZVxuICAgIHJldHVybiBmYWNldCA/IGAke2ZhY2V0fTpcIiR7ZW5jb2RlVVJJQ29tcG9uZW50KHEucmVwbGFjZSgvXCIvZywgJycpLnJlcGxhY2UoJ1xcclxcbicsICcgJykpfVwiYCA6IHFcbiAgfSxcblxuICBnZXRRcygpIHtcbiAgICB2YXIgcSA9IHRoaXMuc3RhdGUucXVlcnlcbiAgICBpZihxLm1hdGNoKCc7JykpIHtcbiAgICAgIHJldHVybiBxLnNwbGl0KC87LykubWFwKF9xID0+IHtcbiAgICAgICAgdmFyIGNsZWFuZWRRID0gX3EucmVwbGFjZSgvXi4qYXR0cmlidXRlZCB0b3x1bmtub3dufGFydGlzdHxhZnRlci9pZywgJycpLnRyaW0oKVxuICAgICAgICBpZih0aGlzLnN0YXRlICYmIHRoaXMuc3RhdGUuZmFjZXQgPT0gJ2FydGlzdCcpIGNsZWFuZWRRID0gY2xlYW5lZFEucmVwbGFjZSgvXFx3KyBieS8sICcnKVxuICAgICAgICByZXR1cm4gY2xlYW5lZFFcbiAgICAgIH0pXG4gICAgfVxuICAgIHJldHVybiBbXVxuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh0aGlzLnNldHVwKG5leHRQcm9wcykpXG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbFVwZGF0ZShfLCBuZXh0U3RhdGUpIHtcbiAgICBpZih0aGlzLnN0YXRlLm9wZW4gIT09IG5leHRTdGF0ZS5vcGVuKSB0aGlzLmRpc3BhdGNoRXZlbnQoKVxuICB9LFxuXG4gIGZldGNoUmVzdWx0cygpIHtcbiAgICB2YXIge3Jlc3VsdHMsIGZhY2V0ZWRRfSA9IHRoaXMuc3RhdGVcblxuICAgIHRoaXMuc3RhdGUucmVzdWx0c1tmYWNldGVkUV0gfHwgcmVzdChgJHtTRUFSQ0h9LyR7ZmFjZXRlZFF9P3NpemU9MjBgKS50aGVuKChyKSA9PiB7XG4gICAgICB2YXIgcmVzdWx0cyA9IHRoaXMuc3RhdGUucmVzdWx0c1xuICAgICAgcmVzdWx0c1tmYWNldGVkUV0gPSBKU09OLnBhcnNlKHIuZW50aXR5KVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHJlc3VsdHM6IHJlc3VsdHMsXG4gICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgfSlcbiAgICB9KVxuICB9LFxuXG4gIGxpbmtUb1Jlc3VsdHMoYXJ0KSB7XG4gICAgaWYoIWFydCkgcmV0dXJuXG4gICAgd2luZG93LmNsaWNrZWRBcnR3b3JrID0gYXJ0XG4gICAgaWYodGhpcy5wcm9wcy5kaXJlY3RMaW5rVG8pIHtcbiAgICAgIHZhciByZWxhdGVkSnNvbiA9IEpTT04ucGFyc2UoYXJ0Ll9zb3VyY2VbYHJlbGF0ZWQ6JHt0aGlzLnByb3BzLmRpcmVjdExpbmtUb31gXSlcbiAgICAgIHZhciB1cmwgPSByZWxhdGVkSnNvbi5saW5rXG4gICAgICBpZih1cmwpIHJldHVybiB3aW5kb3cubG9jYXRpb24gPSB1cmxcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5maWx0ZXJlZCA/XG4gICAgICB0aGlzLnRyYW5zaXRpb25UbygnZmlsdGVyZWRTZWFyY2hSZXN1bHRzJywge3Rlcm1zOiAnKicsIHNwbGF0OiB0aGlzLnN0YXRlLmZhY2V0ZWRRfSkgOlxuICAgICAgdGhpcy50cmFuc2l0aW9uVG8oJ3NlYXJjaFJlc3VsdHMnLCB7dGVybXM6IHRoaXMuc3RhdGUuZmFjZXRlZFF9KVxuICB9LFxuXG4gIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGFnOiBcImRpdlwiLFxuICAgICAgc2hvd0ljb246IHRydWUsXG4gICAgICBzaG93U2luZ2xlUmVzdWx0OiBmYWxzZSxcbiAgICB9XG4gIH0sXG5cbiAgZGlzcGF0Y2hFdmVudCgpIHtcbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3BlZWsnKSlcbiAgfSxcbn0pXG5QZWVrLmNvbnRleHRUeXBlcyA9IHtcbiAgcm91dGVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgdW5pdmVyc2FsOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQZWVrXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/peek.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/peek.js",
      "sourcesContent": [
        "var React = require('react')\nvar ReactDOM = require('react-dom')\nvar Router = require('react-router')\nvar { Link } = Router\nvar rest = require('rest')\nvar debounce = require('debounce')\nvar classnames = require('classnames')\n\nvar SEARCH = require('./endpoints').search\nvar ImageQuilt = require('./image-quilt')\nvar searchLanguageMap = require('./search-language')\nvar Markdown = require('./markdown')\n\nvar Peek = React.createClass({\n  mixins: [Router.State, Router.Navigation],\n  propTypes: {\n    children: React.PropTypes.string,\n  },\n\n  // TODO: this is a mess, simplify to using props better so there's less\n  // state to manage\n  setup(props) {\n    var qs\n    var {q, facet} = props\n    var results = this.state && this.state.results || {}\n    var open = this.state ? this.state.open : !!q\n    if(q && q.props && q.props.children) q = q.props.children.replace(/<\\/?em>/g, '')\n    if(q && q.match(/:/) && !facet) {\n      [facet, ...qs] = q.split(/:/)\n      var q = qs.join(':')\n    }\n    if(!q) q = props.children\n\n    return {\n      facet,\n      open,\n      results,\n      offset: props.offset || 0,\n      query: q,\n      facetedQ: this.getFacetedQ(q, facet),\n      startedOpen: !!props.q\n    }\n  },\n\n  getInitialState() {\n    return this.setup(this.props)\n  },\n\n  render() {\n    var {results, facetedQ, startedOpen} = this.state\n    if(!facetedQ) return <span />\n    var {child, microdata} = this.props\n    var result = results && results[facetedQ]\n    var Tag = this.props.tag\n    var {showIcon} = this.props\n    var icon = <i className=\"material-icons\">{'expand_'+(this.state.open ? 'less' : 'more')}</i>\n    var linkProps = this.props.linkProps || this.props.filtered ? {\n      to: \"filteredSearchResults\",\n      params: {terms: '*', splat: this.state.facetedQ || this.state.q}\n    } : {\n      to: \"searchResults\",\n      params: {terms: this.state.facetedQ || this.state.q}\n    }\n    var text = this.props.highlightedValue ? <Markdown tag=\"span\">{this.props.highlightedValue}</Markdown> : this.props.children\n    var peekText = this.context.universal ?\n      <Link itemProp={microdata ? \"url\" : ''} {...linkProps}>{text}</Link> :\n      text\n\n    var queryString = decodeURIComponent(this.state.facetedQ)\n    var humanLanguage =searchLanguageMap(queryString)\n    var searchExplanation = humanLanguage !== queryString ?\n      humanLanguage :\n      `${this.state.query} ${this.state.facet && `(${this.state.facet})`}`\n\n    return <Tag onClick={debounce(this.onClick, 200)} className={classnames(\"peek\", {startedOpen: startedOpen, startedClosed: !startedOpen, open:this.state.open})} style={{cursor: 'pointer'}}>\n      {this.props.children && <i>\n        <span itemProp={microdata ? \"name\" : ''}>{peekText}</span>\n        {!this.props.universal && showIcon && icon}\n      </i>}\n      {this.state.open && this.state.facetedQ && <div className=\"peek\" style={{fontSize: '80%', maxWidth: this.state.maxWidth || \"100%\"}}>\n        {result && this.quiltFromResults()}\n        <Link {...linkProps} style={{width: '100%'}}>\n          {result && result.hits && result.hits.total || 'search'} results for {searchExplanation}\n          <span style={{float: 'right', marginRight: '10px'}} className=\"more-results-link\">View more results</span>\n        </Link>\n      </div>}\n      {this.state.open && this.getQs().map((q) => <Peek facet={this.state.facet} q={q} key={q} />)}\n    </Tag>\n  },\n\n  onClick() {\n    if(this.state.startedOpen) return\n    if(this.state.open) return this.setState({open: false})\n\n    this.setState({\n      open: true,\n      loading: true,\n    })\n\n    this.fetchResults()\n  },\n\n  quiltFromResults() {\n    var {results, facetedQ} = this.state\n    var result = results && results[facetedQ]\n    var hits = result && result.hits && result.hits.hits || []\n    var offset = this.props.offset || 0\n\n    if(!result || !hits || hits.length <= (this.props.showSingleResult ? 0 : 1)) return <span/>\n    var wImg = ImageQuilt.getImagedResults(hits).slice(offset, offset+10)\n    return <ImageQuilt\n      maxRows={1}\n      maxWorks={7}\n      artworks={wImg.length > 3 ? wImg : hits}\n      {...this.props.quiltProps}\n      onClick={this.linkToResults}\n      disableHover={true}\n      shuffle={this.props.shuffleQuilt}\n      />\n  },\n\n  handleResize() {\n    this.setState({maxWidth: ReactDOM.findDOMNode(this).clientWidth})\n  },\n  componentDidMount: function() {\n    if(this.state.open) this.fetchResults()\n    this.handleResize()\n    window.addEventListener('resize', this.handleResize)\n  },\n  componentWillUnmount: function() {\n    window.removeEventListener('resize', this.handleResize)\n  },\n\n  getFacetedQ(q, facet) {\n    var q = q || (this.state ? this.state.query : \"\")\n    var facet = facet || this.state && this.state.facet\n    if(facet == 'artist') q = q.replace(/([^;]+:)/g, '').trim()\n    if(q == null) return false\n    return facet ? `${facet}:\"${encodeURIComponent(q.replace(/\"/g, '').replace('\\r\\n', ' '))}\"` : q\n  },\n\n  getQs() {\n    var q = this.state.query\n    if(q.match(';')) {\n      return q.split(/;/).map(_q => {\n        var cleanedQ = _q.replace(/^.*attributed to|unknown|artist|after/ig, '').trim()\n        if(this.state && this.state.facet == 'artist') cleanedQ = cleanedQ.replace(/\\w+ by/, '')\n        return cleanedQ\n      })\n    }\n    return []\n  },\n\n  componentWillReceiveProps(nextProps) {\n    this.setState(this.setup(nextProps))\n  },\n\n  componentWillUpdate(_, nextState) {\n    if(this.state.open !== nextState.open) this.dispatchEvent()\n  },\n\n  fetchResults() {\n    var {results, facetedQ} = this.state\n\n    this.state.results[facetedQ] || rest(`${SEARCH}/${facetedQ}?size=20`).then((r) => {\n      var results = this.state.results\n      results[facetedQ] = JSON.parse(r.entity)\n      this.setState({\n        results: results,\n        loading: false,\n      })\n    })\n  },\n\n  linkToResults(art) {\n    if(!art) return\n    window.clickedArtwork = art\n    if(this.props.directLinkTo) {\n      var relatedJson = JSON.parse(art._source[`related:${this.props.directLinkTo}`])\n      var url = relatedJson.link\n      if(url) return window.location = url\n    }\n    this.props.filtered ?\n      this.transitionTo('filteredSearchResults', {terms: '*', splat: this.state.facetedQ}) :\n      this.transitionTo('searchResults', {terms: this.state.facetedQ})\n  },\n\n  getDefaultProps() {\n    return {\n      tag: \"div\",\n      showIcon: true,\n      showSingleResult: false,\n    }\n  },\n\n  dispatchEvent() {\n    window.dispatchEvent(new CustomEvent('peek'))\n  },\n})\nPeek.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nmodule.exports = Peek\n"
      ]
    },
    "mtime": 1488248774578
  },
  "{\"filename\":\"/var/www/art/src/search-results/focused.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\n\nvar ArtworkPreview = require('../artwork-preview');\nvar Markdown = require('../markdown');\nvar Sticky = require('../bottom-sticky');\nvar ArtworkRelated = require('../artwork-related');\n\nvar FocusedResult = React.createClass({\n  displayName: 'FocusedResult',\n\n  render: function render() {\n    var leftSpacing = this.props.leftColumnWidth.replace(/(\\d+)/, function (int) {\n      return parseInt(int) + 3;\n    });\n    var _props = this.props;\n    var art = _props.art;\n    var highlights = _props.highlights;\n\n    var hasRelatedHighlight = highlights && Object.keys(highlights).join(' ').match(/related:/);\n\n    return React.createElement(\n      'div',\n      { className: 'focusedResult', style: { position: 'absolute', top: 0, left: leftSpacing, right: 0, bottom: 0, width: '60%' } },\n      React.createElement(\n        Sticky,\n        { stickyStyle: { right: 0, top: 0, position: 'fixed', left: leftSpacing, width: '60%' } },\n        React.createElement(ArtworkPreview, { art: art, highlights: highlights, onlyShowHighlightDetails: true, key: art.id }),\n        React.createElement(\n          'span',\n          { className: 'closePreview', style: { position: 'absolute', right: '1em', marginTop: '1em', cursor: 'pointer' }, onClick: this.close },\n          React.createElement(\n            'i',\n            { className: 'material-icons' },\n            'clear'\n          )\n        ),\n        React.createElement(ArtworkRelated, { id: art.id, art: art, skipWrapper: true, highlights: highlights })\n      )\n    );\n  },\n\n  close: function close() {\n    this.props.focusHandler();\n  }\n});\n\nmodule.exports = FocusedResult;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvc2VhcmNoLXJlc3VsdHMvZm9jdXNlZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTs7QUFFNUIsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLG9CQUFvQixDQUFDLENBQUE7QUFDbEQsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBO0FBQ3JDLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFBO0FBQ3hDLElBQUksY0FBYyxHQUFHLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFBOztBQUVsRCxJQUFJLGFBQWEsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDcEMsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsUUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxVQUFBLEdBQUc7YUFBSSxRQUFRLENBQUMsR0FBRyxDQUFDLEdBQUMsQ0FBQztLQUFBLENBQUMsQ0FBQTtpQkFDN0QsSUFBSSxDQUFDLEtBQUs7UUFBN0IsR0FBRyxVQUFILEdBQUc7UUFBRSxVQUFVLFVBQVYsVUFBVTs7QUFDcEIsUUFBSSxtQkFBbUIsR0FBRyxVQUFVLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFBOztBQUUzRixXQUFPOztRQUFLLFNBQVMsRUFBQyxlQUFlLEVBQUMsS0FBSyxFQUFFLEVBQUMsUUFBUSxFQUFFLFVBQVUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUMsQUFBQztNQUNoSTtBQUFDLGNBQU07VUFBQyxXQUFXLEVBQUUsRUFBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUMsQUFBQztRQUMxRixvQkFBQyxjQUFjLElBQUMsR0FBRyxFQUFFLEdBQUcsQUFBQyxFQUFDLFVBQVUsRUFBRSxVQUFVLEFBQUMsRUFBQyx3QkFBd0IsRUFBRSxJQUFJLEFBQUMsRUFBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsQUFBQyxHQUFHO1FBQ2pHOztZQUFNLFNBQVMsRUFBQyxjQUFjLEVBQUMsS0FBSyxFQUFFLEVBQUMsUUFBUSxFQUFFLFVBQVUsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBQyxBQUFDLEVBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxLQUFLLEFBQUM7VUFDbkk7O2NBQUcsU0FBUyxFQUFDLGdCQUFnQjs7V0FBVTtTQUNsQztRQUNQLG9CQUFDLGNBQWMsSUFBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUUsQUFBQyxFQUFDLEdBQUcsRUFBRSxHQUFHLEFBQUMsRUFBQyxXQUFXLEVBQUUsSUFBSSxBQUFDLEVBQUMsVUFBVSxFQUFFLFVBQVUsQUFBQyxHQUFHO09BQzVFO0tBQ0wsQ0FBQTtHQUNQOztBQUVELE9BQUssRUFBQSxpQkFBRztBQUNOLFFBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxFQUFFLENBQUE7R0FDMUI7Q0FDRixDQUFDLENBQUE7O0FBRUYsTUFBTSxDQUFDLE9BQU8sR0FBRyxhQUFhLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9zZWFyY2gtcmVzdWx0cy9mb2N1c2VkLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxuXG52YXIgQXJ0d29ya1ByZXZpZXcgPSByZXF1aXJlKCcuLi9hcnR3b3JrLXByZXZpZXcnKVxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi4vbWFya2Rvd24nKVxudmFyIFN0aWNreSA9IHJlcXVpcmUoJy4uL2JvdHRvbS1zdGlja3knKVxudmFyIEFydHdvcmtSZWxhdGVkID0gcmVxdWlyZSgnLi4vYXJ0d29yay1yZWxhdGVkJylcblxudmFyIEZvY3VzZWRSZXN1bHQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIgbGVmdFNwYWNpbmcgPSB0aGlzLnByb3BzLmxlZnRDb2x1bW5XaWR0aC5yZXBsYWNlKC8oXFxkKykvLCBpbnQgPT4gcGFyc2VJbnQoaW50KSszKVxuICAgIHZhciB7YXJ0LCBoaWdobGlnaHRzfSA9IHRoaXMucHJvcHNcbiAgICB2YXIgaGFzUmVsYXRlZEhpZ2hsaWdodCA9IGhpZ2hsaWdodHMgJiYgT2JqZWN0LmtleXMoaGlnaGxpZ2h0cykuam9pbignICcpLm1hdGNoKC9yZWxhdGVkOi8pXG5cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJmb2N1c2VkUmVzdWx0XCIgc3R5bGU9e3twb3NpdGlvbjogJ2Fic29sdXRlJywgdG9wOiAwLCBsZWZ0OiBsZWZ0U3BhY2luZywgcmlnaHQ6IDAsIGJvdHRvbTogMCwgd2lkdGg6ICc2MCUnfX0+XG4gICAgICA8U3RpY2t5IHN0aWNreVN0eWxlPXt7cmlnaHQ6IDAsIHRvcDogMCwgcG9zaXRpb246ICdmaXhlZCcsIGxlZnQ6IGxlZnRTcGFjaW5nLCB3aWR0aDogJzYwJSd9fT5cbiAgICAgICAgPEFydHdvcmtQcmV2aWV3IGFydD17YXJ0fSBoaWdobGlnaHRzPXtoaWdobGlnaHRzfSBvbmx5U2hvd0hpZ2hsaWdodERldGFpbHM9e3RydWV9IGtleT17YXJ0LmlkfSAvPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjbG9zZVByZXZpZXdcIiBzdHlsZT17e3Bvc2l0aW9uOiAnYWJzb2x1dGUnLCByaWdodDogJzFlbScsIG1hcmdpblRvcDogJzFlbScsIGN1cnNvcjogJ3BvaW50ZXInfX0gb25DbGljaz17dGhpcy5jbG9zZX0+XG4gICAgICAgICAgPGkgY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbnNcIj5jbGVhcjwvaT5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8QXJ0d29ya1JlbGF0ZWQgaWQ9e2FydC5pZH0gYXJ0PXthcnR9IHNraXBXcmFwcGVyPXt0cnVlfSBoaWdobGlnaHRzPXtoaWdobGlnaHRzfSAvPlxuICAgICAgPC9TdGlja3k+XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5wcm9wcy5mb2N1c0hhbmRsZXIoKVxuICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBGb2N1c2VkUmVzdWx0XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/search-results/focused.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;;AAE5B,IAAI,cAAc,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAA;AAClD,IAAI,QAAQ,GAAG,OAAO,CAAC,aAAa,CAAC,CAAA;AACrC,IAAI,MAAM,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAA;AACxC,IAAI,cAAc,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAA;;AAElD,IAAI,aAAa,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACpC,QAAM,EAAA,kBAAG;AACP,QAAI,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,OAAO,CAAC,OAAO,EAAE,UAAA,GAAG;aAAI,QAAQ,CAAC,GAAG,CAAC,GAAC,CAAC;KAAA,CAAC,CAAA;iBAC7D,IAAI,CAAC,KAAK;QAA7B,GAAG,UAAH,GAAG;QAAE,UAAU,UAAV,UAAU;;AACpB,QAAI,mBAAmB,GAAG,UAAU,IAAI,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,CAAA;;AAE3F,WAAO;;QAAK,SAAS,EAAC,eAAe,EAAC,KAAK,EAAE,EAAC,QAAQ,EAAE,UAAU,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,EAAC,AAAC;MAChI;AAAC,cAAM;UAAC,WAAW,EAAE,EAAC,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,KAAK,EAAC,AAAC;QAC1F,oBAAC,cAAc,IAAC,GAAG,EAAE,GAAG,AAAC,EAAC,UAAU,EAAE,UAAU,AAAC,EAAC,wBAAwB,EAAE,IAAI,AAAC,EAAC,GAAG,EAAE,GAAG,CAAC,EAAE,AAAC,GAAG;QACjG;;YAAM,SAAS,EAAC,cAAc,EAAC,KAAK,EAAE,EAAC,QAAQ,EAAE,UAAU,EAAE,KAAK,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAC,AAAC,EAAC,OAAO,EAAE,IAAI,CAAC,KAAK,AAAC;UACnI;;cAAG,SAAS,EAAC,gBAAgB;;WAAU;SAClC;QACP,oBAAC,cAAc,IAAC,EAAE,EAAE,GAAG,CAAC,EAAE,AAAC,EAAC,GAAG,EAAE,GAAG,AAAC,EAAC,WAAW,EAAE,IAAI,AAAC,EAAC,UAAU,EAAE,UAAU,AAAC,GAAG;OAC5E;KACL,CAAA;GACP;;AAED,OAAK,EAAA,iBAAG;AACN,QAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAA;GAC1B;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,aAAa,CAAA",
      "file": "/var/www/art/src/search-results/focused.js",
      "sourcesContent": [
        "var React = require('react')\n\nvar ArtworkPreview = require('../artwork-preview')\nvar Markdown = require('../markdown')\nvar Sticky = require('../bottom-sticky')\nvar ArtworkRelated = require('../artwork-related')\n\nvar FocusedResult = React.createClass({\n  render() {\n    var leftSpacing = this.props.leftColumnWidth.replace(/(\\d+)/, int => parseInt(int)+3)\n    var {art, highlights} = this.props\n    var hasRelatedHighlight = highlights && Object.keys(highlights).join(' ').match(/related:/)\n\n    return <div className=\"focusedResult\" style={{position: 'absolute', top: 0, left: leftSpacing, right: 0, bottom: 0, width: '60%'}}>\n      <Sticky stickyStyle={{right: 0, top: 0, position: 'fixed', left: leftSpacing, width: '60%'}}>\n        <ArtworkPreview art={art} highlights={highlights} onlyShowHighlightDetails={true} key={art.id} />\n        <span className=\"closePreview\" style={{position: 'absolute', right: '1em', marginTop: '1em', cursor: 'pointer'}} onClick={this.close}>\n          <i className=\"material-icons\">clear</i>\n        </span>\n        <ArtworkRelated id={art.id} art={art} skipWrapper={true} highlights={highlights} />\n      </Sticky>\n    </div>\n  },\n\n  close() {\n    this.props.focusHandler()\n  },\n})\n\nmodule.exports = FocusedResult\n"
      ]
    },
    "mtime": 1481821196790
  },
  "{\"filename\":\"/var/www/art/src/artwork-preview.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar ArtworkImage = require('./artwork-image');\nvar Markdown = require('./markdown');\nvar Peek = require('./peek');\nvar Artwork = require('./_artwork');\nvar highlighter = require('./highlighter');\nvar ArtworkDetails = require('./artwork-details');\n\nvar ArtworkPreview = React.createClass({\n  displayName: 'ArtworkPreview',\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      showLink: true\n    };\n  },\n\n  render: function render() {\n    var _props = this.props;\n    var art = _props.art;\n    var style = _props.style;\n    var showLink = _props.showLink;\n    var highlights = _props.highlights;\n\n    var id = art.id.replace('http://api.artsmia.org/objects/', '');\n    var highlight = highlighter.bind(null, art, highlights);\n\n    var showHighlights = highlights && React.createElement(\n      'div',\n      { className: 'artwork-detail', style: { marginTop: '1em' } },\n      React.createElement('hr', null),\n      React.createElement(ArtworkDetails, _extends({\n        art: art,\n        highlights: highlights,\n        skipFields: !this.props.showDuplicateDetails && \"title style artist medium credit accession_number gallery text tags\"\n      }, this.props))\n    );\n\n    var details = showLink ? React.createElement(\n      Link,\n      { to: 'artwork', params: { id: art.id } },\n      React.createElement(\n        'div',\n        { className: 'objects-page-link' },\n        React.createElement('div', { className: 'objects-page-icon' }),\n        'details'\n      )\n    ) : '';\n\n    return React.createElement(\n      Artwork.Figure,\n      { art: art, className: 'objects-focus', style: style, link: showLink },\n      React.createElement(\n        'div',\n        { className: 'art-details preview-header' },\n        art.deaccessioned == 'true' && React.createElement(DeaccessionedBanner, { art: art }),\n        art.accession_number.match(/^L/i) && React.createElement(LoanBanner, { art: art }),\n        React.createElement(Artwork.Title, _extends({ art: art, link: showLink }, this.props)),\n        React.createElement(Artwork.Creator, _extends({ art: art }, this.props)),\n        React.createElement(Artwork.Tombstone, _extends({ art: art }, this.props)),\n        React.createElement(\n          'h6',\n          null,\n          React.createElement(\n            Peek,\n            { facet: 'room', highlightedValue: highlight('room') },\n            art.room\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'description', itemProp: 'description' },\n          React.createElement(\n            Markdown,\n            null,\n            highlight('text')\n          )\n        ),\n        React.createElement(Artwork.LinkBar, { art: art, link: showLink }),\n        showHighlights\n      )\n    );\n  },\n\n  displayBio: function displayBio() {\n    var art = this.props.art;\n    var nationality = art.nationality;\n    var life_date = art.life_date;\n\n    var lifeDateWithoutNationality = life_date && life_date.replace(nationality + ', ', '');\n    var nationAndDates = React.createElement(\n      'span',\n      null,\n      nationality && React.createElement(\n        'span',\n        null,\n        React.createElement(\n          Peek,\n          { facet: 'nationality', tag: 'span', showIcon: false },\n          nationality\n        ),\n        ', '\n      ),\n      lifeDateWithoutNationality && React.createElement(\n        Peek,\n        { facet: 'life_date', tag: 'span', showIcon: false },\n        lifeDateWithoutNationality\n      )\n    );\n\n    if (!nationality && !life_date) return React.createElement('span', null);\n    return React.createElement(\n      'div',\n      { className: 'display-bio' },\n      nationAndDates,\n      React.createElement('br', null),\n      art.role\n    );\n  }\n});\n\nmodule.exports = ArtworkPreview;\n\nvar DeaccessionedBanner = React.createClass({\n  displayName: 'DeaccessionedBanner',\n\n  render: function render() {\n    var art = this.props.art;\n\n    var date = art.deaccessionedDate.split('-')[0];\n    var reason = art.deaccessionedReason;\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'strong',\n        null,\n        'DEACCESSIONED'\n      ),\n      React.createElement(\n        'p',\n        null,\n        'This artwork was ',\n        React.createElement(\n          Link,\n          { to: '/info/deaccessions' },\n          'deaccessioned'\n        ),\n        reason && ' (' + reason + ')',\n        ' ',\n        date && React.createElement(\n          'span',\n          null,\n          'in ',\n          date,\n          '.'\n        )\n      )\n    );\n  }\n});\n\nvar LoanBanner = React.createClass({\n  displayName: 'LoanBanner',\n\n  render: function render() {\n    var art = this.props.art;\n\n    var date = art.deaccessionedDate;\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'strong',\n        null,\n        'LOAN'\n      ),\n      React.createElement(\n        'p',\n        null,\n        'This artwork was \"loaned\" to the museum by the owner. It was never owned by Mia. Loans are a common way to share art between museums.'\n      )\n    );\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYXJ0d29yay1wcmV2aWV3LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0lBQzlCLElBQUksR0FBSyxNQUFNLENBQWYsSUFBSTs7ZUFFRyxPQUFPLENBQUMsY0FBYyxDQUFDOztJQUEvQixJQUFJLFlBQUosSUFBSTs7QUFFVCxJQUFJLFlBQVksR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtBQUM3QyxJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7QUFDcEMsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQzVCLElBQUksT0FBTyxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTtBQUNuQyxJQUFJLFdBQVcsR0FBRyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUE7QUFDMUMsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7O0FBRWpELElBQUksY0FBYyxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUNyQyxpQkFBZSxFQUFBLDJCQUFHO0FBQ2hCLFdBQU87QUFDTCxjQUFRLEVBQUUsSUFBSTtLQUNmLENBQUE7R0FDRjs7QUFFRCxRQUFNLEVBQUEsa0JBQUc7aUJBQ2tDLElBQUksQ0FBQyxLQUFLO1FBQTlDLEdBQUcsVUFBSCxHQUFHO1FBQUUsS0FBSyxVQUFMLEtBQUs7UUFBRSxRQUFRLFVBQVIsUUFBUTtRQUFFLFVBQVUsVUFBVixVQUFVOztBQUNyQyxRQUFJLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxpQ0FBaUMsRUFBRSxFQUFFLENBQUMsQ0FBQTtBQUM5RCxRQUFJLFNBQVMsR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLElB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QXFCO01BQ3JCOzs7O09BRUk7S0FDQSxDQUFBO0dBQ1A7Q0FDRixDQUFDLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9hcnR3b3JrLXByZXZpZXcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciB7IExpbmsgfSA9IFJvdXRlclxuXG52YXIge0xpbmt9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcblxudmFyIEFydHdvcmtJbWFnZSA9IHJlcXVpcmUoJy4vYXJ0d29yay1pbWFnZScpXG52YXIgTWFya2Rvd24gPSByZXF1aXJlKCcuL21hcmtkb3duJylcbnZhciBQZWVrID0gcmVxdWlyZSgnLi9wZWVrJylcbnZhciBBcnR3b3JrID0gcmVxdWlyZSgnLi9fYXJ0d29yaycpXG52YXIgaGlnaGxpZ2h0ZXIgPSByZXF1aXJlKCcuL2hpZ2hsaWdodGVyJylcbnZhciBBcnR3b3JrRGV0YWlscyA9IHJlcXVpcmUoJy4vYXJ0d29yay1kZXRhaWxzJylcblxudmFyIEFydHdvcmtQcmV2aWV3ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNob3dMaW5rOiB0cnVlLFxuICAgIH1cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnQsIHN0eWxlLCBzaG93TGluaywgaGlnaGxpZ2h0c30gPSB0aGlzLnByb3BzXG4gICAgdmFyIGlkID0gYXJ0LmlkLnJlcGxhY2UoJ2h0dHA6Ly9hcGkuYXJ0c21pYS5vcmcvb2JqZWN0cy8nLCAnJylcbiAgICB2YXIgaGlnaGxpZ2h0ID0gaGlnaGxpZ2h0ZXIuYmluZChudWxsLCBhcnQsIGhpZ2hsaWdodHMpXG5cbiAgICB2YXIgc2hvd0hpZ2hsaWdodHMgPSBoaWdobGlnaHRzICYmIDxkaXYgY2xhc3NOYW1lPSdhcnR3b3JrLWRldGFpbCcgc3R5bGU9e3ttYXJnaW5Ub3A6ICcxZW0nfX0+XG4gICAgICA8aHIgLz5cbiAgICAgIDxBcnR3b3JrRGV0YWlsc1xuICAgICAgICBhcnQ9e2FydH1cbiAgICAgICAgaGlnaGxpZ2h0cz17aGlnaGxpZ2h0c31cbiAgICAgICAgc2tpcEZpZWxkcz17IXRoaXMucHJvcHMuc2hvd0R1cGxpY2F0ZURldGFpbHMgJiYgXCJ0aXRsZSBzdHlsZSBhcnRpc3QgbWVkaXVtIGNyZWRpdCBhY2Nlc3Npb25fbnVtYmVyIGdhbGxlcnkgdGV4dCB0YWdzXCJ9XG4gICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cblxuICAgIHZhciBkZXRhaWxzID0gc2hvd0xpbmsgPyA8TGluayB0bz1cImFydHdvcmtcIiBwYXJhbXM9e3tpZDogYXJ0LmlkfX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9iamVjdHMtcGFnZS1saW5rXCI+PGRpdiBjbGFzc05hbWU9XCJvYmplY3RzLXBhZ2UtaWNvblwiPjwvZGl2PmRldGFpbHM8L2Rpdj5cbiAgICA8L0xpbms+IDogJydcblxuICAgIHJldHVybiAoXG4gICAgICA8QXJ0d29yay5GaWd1cmUgYXJ0PXthcnR9IGNsYXNzTmFtZT0nb2JqZWN0cy1mb2N1cycgc3R5bGU9e3N0eWxlfSBsaW5rPXtzaG93TGlua30+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXJ0LWRldGFpbHMgcHJldmlldy1oZWFkZXJcIj5cbiAgICAgICAgICB7YXJ0LmRlYWNjZXNzaW9uZWQgPT0gJ3RydWUnICYmIDxEZWFjY2Vzc2lvbmVkQmFubmVyIGFydD17YXJ0fSAvPn1cbiAgICAgICAgICB7YXJ0LmFjY2Vzc2lvbl9udW1iZXIubWF0Y2goL15ML2kpICYmIDxMb2FuQmFubmVyIGFydD17YXJ0fSAvPn1cbiAgICAgICAgICA8QXJ0d29yay5UaXRsZSBhcnQ9e2FydH0gbGluaz17c2hvd0xpbmt9IHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICAgIDxBcnR3b3JrLkNyZWF0b3IgYXJ0PXthcnR9IHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICAgIDxBcnR3b3JrLlRvbWJzdG9uZSBhcnQ9e2FydH0gey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgICAgPGg2PjxQZWVrIGZhY2V0PVwicm9vbVwiIGhpZ2hsaWdodGVkVmFsdWU9e2hpZ2hsaWdodCgncm9vbScpfT57YXJ0LnJvb219PC9QZWVrPjwvaDY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkZXNjcmlwdGlvblwiIGl0ZW1Qcm9wPVwiZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgIDxNYXJrZG93bj57aGlnaGxpZ2h0KCd0ZXh0Jyl9PC9NYXJrZG93bj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8QXJ0d29yay5MaW5rQmFyIGFydD17YXJ0fSBsaW5rPXtzaG93TGlua30gLz5cbiAgICAgICAgICB7c2hvd0hpZ2hsaWdodHN9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9BcnR3b3JrLkZpZ3VyZT5cbiAgICApXG4gIH0sXG5cbiAgZGlzcGxheUJpbygpIHtcbiAgICB2YXIge2FydH0gPSB0aGlzLnByb3BzXG4gICAgdmFyIHtuYXRpb25hbGl0eSwgbGlmZV9kYXRlfSA9IGFydFxuICAgIHZhciBsaWZlRGF0ZVdpdGhvdXROYXRpb25hbGl0eSA9IGxpZmVfZGF0ZSAmJiBsaWZlX2RhdGUucmVwbGFjZShuYXRpb25hbGl0eSsnLCAnLCAnJyk7XG4gICAgdmFyIG5hdGlvbkFuZERhdGVzID0gPHNwYW4+XG4gICAgICB7bmF0aW9uYWxpdHkgJiYgKDxzcGFuPjxQZWVrIGZhY2V0PVwibmF0aW9uYWxpdHlcIiB0YWc9XCJzcGFuXCIgc2hvd0ljb249e2ZhbHNlfT57bmF0aW9uYWxpdHl9PC9QZWVrPiwgPC9zcGFuPil9XG4gICAgICB7bGlmZURhdGVXaXRob3V0TmF0aW9uYWxpdHkgJiYgPFBlZWsgZmFjZXQ9XCJsaWZlX2RhdGVcIiB0YWc9XCJzcGFuXCIgc2hvd0ljb249e2ZhbHNlfT57bGlmZURhdGVXaXRob3V0TmF0aW9uYWxpdHl9PC9QZWVrPn1cbiAgICA8L3NwYW4+XG5cbiAgICBpZighbmF0aW9uYWxpdHkgJiYgIWxpZmVfZGF0ZSkgcmV0dXJuIDxzcGFuLz5cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9J2Rpc3BsYXktYmlvJz5cbiAgICAgIHtuYXRpb25BbmREYXRlc308YnIvPlxuICAgICAge2FydC5yb2xlfVxuICAgIDwvZGl2PlxuICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBBcnR3b3JrUHJldmlld1xuXG52YXIgRGVhY2Nlc3Npb25lZEJhbm5lciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7YXJ0fSA9IHRoaXMucHJvcHNcbiAgICB2YXIgZGF0ZSA9IGFydC5kZWFjY2Vzc2lvbmVkRGF0ZS5zcGxpdCgnLScpWzBdXG4gICAgdmFyIHJlYXNvbiA9IGFydC5kZWFjY2Vzc2lvbmVkUmVhc29uXG5cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIDxzdHJvbmc+REVBQ0NFU1NJT05FRDwvc3Ryb25nPlxuICAgICAgPHA+XG4gICAgICAgIFRoaXMgYXJ0d29yayB3YXMgPExpbmsgdG89XCIvaW5mby9kZWFjY2Vzc2lvbnNcIj5kZWFjY2Vzc2lvbmVkPC9MaW5rPntyZWFzb24gJiYgYCAoJHtyZWFzb259KWB9XG4gICAgICAgICZuYnNwO3tkYXRlICYmIDxzcGFuPmluIHtkYXRlfS48L3NwYW4+fVxuICAgICAgPC9wPlxuICAgIDwvZGl2PlxuICB9LFxufSlcblxudmFyIExvYW5CYW5uZXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIge2FydH0gPSB0aGlzLnByb3BzXG4gICAgdmFyIGRhdGUgPSBhcnQuZGVhY2Nlc3Npb25lZERhdGVcblxuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPHN0cm9uZz5MT0FOPC9zdHJvbmc+XG4gICAgICA8cD5cbiAgICAgICAgVGhpcyBhcnR3b3JrIHdhcyBcImxvYW5lZFwiIHRvIHRoZSBtdXNldW0gYnkgdGhlIG93bmVyLiBJdCB3YXMgbmV2ZXIgb3duZWQgYnkgTWlhLiBMb2FucyBhcmUgYSBjb21tb24gd2F5IHRvIHNoYXJlIGFydCBiZXR3ZWVuIG11c2V1bXMuXG4gICAgICA8L3A+XG4gICAgPC9kaXY+XG4gIH0sXG59KVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/artwork-preview.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/artwork-preview.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar { Link } = Router\n\nvar {Link} = require('react-router')\n\nvar ArtworkImage = require('./artwork-image')\nvar Markdown = require('./markdown')\nvar Peek = require('./peek')\nvar Artwork = require('./_artwork')\nvar highlighter = require('./highlighter')\nvar ArtworkDetails = require('./artwork-details')\n\nvar ArtworkPreview = React.createClass({\n  getDefaultProps() {\n    return {\n      showLink: true,\n    }\n  },\n\n  render() {\n    var {art, style, showLink, highlights} = this.props\n    var id = art.id.replace('http://api.artsmia.org/objects/', '')\n    var highlight = highlighter.bind(null, art, highlights)\n\n    var showHighlights = highlights && <div className='artwork-detail' style={{marginTop: '1em'}}>\n      <hr />\n      <ArtworkDetails\n        art={art}\n        highlights={highlights}\n        skipFields={!this.props.showDuplicateDetails && \"title style artist medium credit accession_number gallery text tags\"}\n        {...this.props}\n      />\n    </div>\n\n    var details = showLink ? <Link to=\"artwork\" params={{id: art.id}}>\n      <div className=\"objects-page-link\"><div className=\"objects-page-icon\"></div>details</div>\n    </Link> : ''\n\n    return (\n      <Artwork.Figure art={art} className='objects-focus' style={style} link={showLink}>\n        <div className=\"art-details preview-header\">\n          {art.deaccessioned == 'true' && <DeaccessionedBanner art={art} />}\n          {art.accession_number.match(/^L/i) && <LoanBanner art={art} />}\n          <Artwork.Title art={art} link={showLink} {...this.props} />\n          <Artwork.Creator art={art} {...this.props} />\n          <Artwork.Tombstone art={art} {...this.props} />\n          <h6><Peek facet=\"room\" highlightedValue={highlight('room')}>{art.room}</Peek></h6>\n          <div className=\"description\" itemProp=\"description\">\n            <Markdown>{highlight('text')}</Markdown>\n          </div>\n          <Artwork.LinkBar art={art} link={showLink} />\n          {showHighlights}\n        </div>\n      </Artwork.Figure>\n    )\n  },\n\n  displayBio() {\n    var {art} = this.props\n    var {nationality, life_date} = art\n    var lifeDateWithoutNationality = life_date && life_date.replace(nationality+', ', '');\n    var nationAndDates = <span>\n      {nationality && (<span><Peek facet=\"nationality\" tag=\"span\" showIcon={false}>{nationality}</Peek>, </span>)}\n      {lifeDateWithoutNationality && <Peek facet=\"life_date\" tag=\"span\" showIcon={false}>{lifeDateWithoutNationality}</Peek>}\n    </span>\n\n    if(!nationality && !life_date) return <span/>\n    return <div className='display-bio'>\n      {nationAndDates}<br/>\n      {art.role}\n    </div>\n  },\n})\n\nmodule.exports = ArtworkPreview\n\nvar DeaccessionedBanner = React.createClass({\n  render() {\n    var {art} = this.props\n    var date = art.deaccessionedDate.split('-')[0]\n    var reason = art.deaccessionedReason\n\n    return <div>\n      <strong>DEACCESSIONED</strong>\n      <p>\n        This artwork was <Link to=\"/info/deaccessions\">deaccessioned</Link>{reason && ` (${reason})`}\n        &nbsp;{date && <span>in {date}.</span>}\n      </p>\n    </div>\n  },\n})\n\nvar LoanBanner = React.createClass({\n  render() {\n    var {art} = this.props\n    var date = art.deaccessionedDate\n\n    return <div>\n      <strong>LOAN</strong>\n      <p>\n        This artwork was \"loaned\" to the museum by the owner. It was never owned by Mia. Loans are a common way to share art between museums.\n      </p>\n    </div>\n  },\n})\n"
      ]
    },
    "mtime": 1464207848598
  },
  "{\"filename\":\"/var/www/art/src/artwork-details.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends",
        "sliced-to-array",
        "to-consumable-array"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar capitalize = require('capitalize');\nvar Isvg = require('react-inlinesvg');\nvar cx = require('classnames');\nvar ClickToSelect = require('@mapbox/react-click-to-select');\n\nvar Markdown = require('./markdown');\nvar Peek = require('./peek');\nvar dimensionSvg = require('./endpoints').dimensionSvg;\nvar rightsDescriptions = require('./rights-types.js');\nvar feedbackSender = require('./email-data-sender');\n\nvar ArtworkDetails = React.createClass({\n  displayName: 'ArtworkDetails',\n\n  build: function build(field, fn) {\n    var _props = this.props;\n    var art = _props.art;\n    var highlights = _props.highlights;\n\n    if (this.props.onlyShowHighlightDetails && !highlights[field]) return;\n\n    var humanFieldName = capitalize.words(field).replace('_', ' ');\n    var artAndHighlights = this.artAndHighlights();\n\n    var _ref = fn ? fn(artAndHighlights, art) : [artAndHighlights[field]];\n\n    var _ref2 = _slicedToArray(_ref, 2);\n\n    var content = _ref2[0];\n    var extraContent = _ref2[1];\n\n    if (!content || content == '') return;\n    var showExtra = extraContent && this.state.expandDetailsMatrix[field];\n    var classes = cx(\"detail-row\", { expandable: extraContent }, field);\n\n    return React.createElement(\n      'div',\n      { className: classes, key: field },\n      React.createElement(\n        'div',\n        { onClick: this.toggleExtra.bind(this, field) },\n        React.createElement(\n          'dt',\n          { className: 'detail-title' },\n          humanFieldName\n        ),\n        React.createElement(\n          'dd',\n          { className: 'detail-content' },\n          content\n        )\n      ),\n      showExtra && React.createElement(\n        'div',\n        { className: 'detail-extra' },\n        extraContent\n      )\n    );\n  },\n\n  toggleExtra: function toggleExtra(field) {\n    var expandDetailsMatrix = this.state.expandDetailsMatrix;\n\n    expandDetailsMatrix[field] = !expandDetailsMatrix[field];\n    this.setState({ expandDetailsMatrix: expandDetailsMatrix });\n  },\n\n  // merge `art` with `highlights`, replacing the un-highlighted values with\n  // their 'highlit' equivalent\n  artAndHighlights: function artAndHighlights() {\n    var _props2 = this.props;\n    var art = _props2.art;\n    var highlights = _props2.highlights;\n\n    return !highlights ? art : Object.assign(_extends({}, art), Object.keys(highlights).reduce(function (object, key) {\n      var value = highlights[key] && highlights[key][0];\n      if (typeof value == 'string') value = React.createElement(\n        Markdown,\n        null,\n        value\n      );\n      object[key] = value;\n      return object;\n    }, {}));\n  },\n\n  buildPeekableDetail: function buildPeekableDetail(field, extra, value) {\n    var art = this.props.art;\n\n    var highlights = this.artAndHighlights();\n\n    return [field, function (art) {\n      return [value || highlights[field], React.createElement(\n        'div',\n        null,\n        extra,\n        React.createElement(Peek, { facet: field, q: value || art[field] })\n      )];\n    }];\n  },\n\n  details: function details() {\n    var _this = this;\n\n    var art = this.props.art;\n\n    return [['deaccessioned', function (art, raw) {\n      return [raw.deaccessioned && '' + art.deaccessionedDate, React.createElement(\n        'div',\n        null,\n        raw.deaccessionedReason && React.createElement(\n          'p',\n          null,\n          raw.deaccessionedReason\n        ),\n        React.createElement(\n          Link,\n          { to: '/info/deaccessions' },\n          'Artworks are deaccessioned for many reasons'\n        )\n      )];\n    }], ['title'], this.buildPeekableDetail('dated'), this.buildPeekableDetail('artist', this.props.art.life_date, art.artist.replace(/^([^;]+):/, '')), this.buildPeekableDetail('nationality'), ['artist_life', function (art) {\n      return [art.life_date && art.life_date.replace(new RegExp(art.nationality + \"(, )?\"), '')];\n    }], ['role', function (_, raw) {\n      var roleFromArtistField = raw.artist.match(/^([^;]+):/);\n      return [roleFromArtistField ? roleFromArtistField[1] : raw.role];\n    }], ['gallery', function (art, raw) {\n      return [art.room, React.createElement(Peek, { facet: 'room', q: raw.room })];\n    }], this.buildPeekableDetail('department'), ['dimension', function (art, rawArt) {\n      var showFancyDimension = art.dimension && _this.dimensions().length > 0;\n\n      return [art.dimension && React.createElement(\n        'div',\n        null,\n        showFancyDimension ? _this.dimensions().map(function (_ref3) {\n          var _ref32 = _slicedToArray(_ref3, 2);\n\n          var d = _ref32[0];\n          var aspect = _ref32[1];\n\n          return React.createElement(\n            'span',\n            { style: { display: 'block' }, onMouseEnter: _this.toggleDimensionGraphic.bind(_this, aspect), key: aspect },\n            d\n          );\n        }) : art.dimension\n      ), showFancyDimension && React.createElement(\n        'div',\n        null,\n        rawArt.dimension.match(/cm/) && React.createElement(Isvg, {\n          src: dimensionSvg(art.id, _this.state.dimensionGraphicName),\n          key: _this.state.dimensionGraphicName,\n          onLoad: _this.dimensionSvgLoaded\n        })\n      )];\n    }], ['credit', function (art, raw) {\n      return [art.creditline, React.createElement(Peek, { facet: 'creditline', q: raw.creditline })];\n    }], ['accession_number'], this.buildPeekableDetail('medium'), this.buildPeekableDetail('country'), this.buildPeekableDetail('culture'), ['century', function (art, raw) {\n      return [art.style, React.createElement(Peek, { facet: 'style', q: raw.style })];\n    }], ['provenance'], ['rights', function (art, raw) {\n      return [(art.image_copyright || art.rights) && React.createElement(\n        'div',\n        null,\n        art.image_copyright && decodeURIComponent(art.image_copyright),\n        art.image_copyright && art.rights && React.createElement('br', null),\n        art.rights && React.createElement(\n          'span',\n          null,\n          art.rights\n        )\n      ), React.createElement(\n        'div',\n        null,\n        React.createElement(\n          'p',\n          null,\n          rightsDescriptions[raw.rights]\n        ),\n        React.createElement(Peek, { facet: 'rights', q: raw.rights }),\n        React.createElement(\n          'p',\n          null,\n          React.createElement(\n            'a',\n            { href: 'https://new.artsmia.org/visit/policies-guidelines/#websiteimageaccess&use' },\n            'Mia\\'s Image Access & Use Policy'\n          )\n        )\n      )];\n    }],\n    // apparently markings/inscription/signed are 'for our eyes only'\n    // ['markings', (art) => {\n    //   // show deprecated `marks` field if none of the new `markings, signature, inscription` fields exist yet\n    //   return [art.markings || (!art.signature && !art.inscription && art.marks)]\n    // }],\n    // ['inscription'],\n    // ['signed'],\n    ['classification', function (art, raw) {\n      if (!raw.classification) return [];\n\n      var classificationPeeks = raw.classification.split(',').map(function (classification, index) {\n        return React.createElement(Peek, { facet: 'classification', q: classification, key: index });\n      });\n\n      return [React.createElement(\n        'p',\n        null,\n        art.classification\n      ), React.createElement(\n        'div',\n        null,\n        classificationPeeks\n      )];\n    }], this.buildPeekableDetail('object_name'),\n    // disable tags due to frequent inaccuracies\n    // ['tags', art => {\n    //   if(!art.tags) return []\n\n    //   var linkedTags = art.tags.trim().split(' ')\n    //   .map(tag => <Link to=\"searchResults\" params={{terms: `tags:${tag}`}} key={tag}>{tag.replace(/-/g, ' ')}</Link>)\n\n    //   return [\n    //     <p>{linkedTags.map((tag, index) => {\n    //       return <span key={index}>{tag}{(index == linkedTags.length-1 || ', ')}</span>\n    //     })}</p>\n    // ]\n    // }],\n    ['catalogue_raisonne', function (art) {\n      if (!art.catalogue_raissonne) return [];\n      return [React.createElement(\n        'div',\n        null,\n        art.catalogue_raissonne\n      )];\n    }], ['wikipedia', function (art) {\n      return ['Cite this information', React.createElement(\n        'div',\n        null,\n        React.createElement(\n          ClickToSelect,\n          null,\n          React.createElement(\n            'code',\n            { name: 'Mia' },\n            '{{cite web |title=',\n            art.title,\n            ' |url=https://collections.artsmia.org/art/',\n            art.id,\n            ' |author=',\n            art.artist,\n            ' |year=',\n            art.dated,\n            ' |accessdate=',\n            new Date().toUTCString().split(' ').slice(1, 4).join(' '),\n            ' |publisher=Minneapolis Institute of Art}}'\n          )\n        )\n      )];\n    }], ['exhibition_history', function (art) {\n      if (!art.exhibition_history) return [];\n      return [React.createElement(\n        Markdown,\n        null,\n        art.exhibition_history\n      )];\n    }], ['see_also', function (art, raw) {\n      var also = raw.see_also && raw.see_also.filter(function (id) {\n        return id !== \"\" && id !== raw.id;\n      });\n      return also && also.length > 0 ? [also.length + ' other artwork' + (also.length > 1 ? 's' : ''), React.createElement(Peek, { facet: 'see_also', q: raw.id })] : [];\n    }], ['portfolio', function (art, raw) {\n      if (!raw.portfolio || raw.portfolio == 'From ') return [];\n      var portfolioName = raw.portfolio.replace('From From', 'From'); // some have double 'from'\n\n      return [portfolioName, React.createElement(Peek, { facet: 'portfolio', q: portfolioName })];\n    }], ['curator_approved', function (art) {\n      var currentUrl = window.location && window.location.href.split('/').slice(0, 5).join('/');\n      var dataSender = feedbackSender(undefined, undefined, 'Collections data feedback', currentUrl);\n      var imageSender = feedbackSender('collectionsdata+images@artsmia.org', 'Let us know', 'Collections image feedback', currentUrl);\n\n      var dataMessage = art.curator_approved ? 'This record is from historic documentation and may not have been reviewed by a curator, so may be inaccurate or incomplete. Our records are frequently revised and enhanced. If you notice a mistake or have additional information about this object, please email ' + dataSender + '.' : 'This record has been reviewed by our curatorial staff but may be incomplete. These records are frequently revised and enhanced. If you notice a mistake or have additional information about this object, please email ' + dataSender + '.';\n\n      var imageMessage = 'Does something look wrong with this image? ' + imageSender;\n\n      return [React.createElement(\n        Markdown,\n        null,\n        dataMessage + '\\n\\n' + imageMessage\n      )];\n    }]];\n  },\n\n  getInitialState: function getInitialState() {\n    var dimensions = this.dimensions();\n    var firstDimensionName = dimensions && dimensions[0] && dimensions[0][1];\n    var expandDetails = this.details().reduce(function (reduced, _ref4) {\n      var _ref42 = _slicedToArray(_ref4, 1);\n\n      var field = _ref42[0];\n\n      reduced[field] = false;\n      return reduced;\n    }, {});\n    expandDetails['dimension'] = !!firstDimensionName;\n\n    return {\n      expandDetailsMatrix: expandDetails,\n      dimensionGraphicName: firstDimensionName\n    };\n  },\n\n  render: function render() {\n    var _this2 = this;\n\n    var _props3 = this.props;\n    var art = _props3.art;\n    var highlights = _props3.highlights;\n\n    var skip = this.props.skipFields ? this.props.skipFields.split(' ') : [];\n    var details = this.details().filter(function (_ref5) {\n      var _ref52 = _slicedToArray(_ref5, 1);\n\n      var field = _ref52[0];\n      return skip.indexOf(field) < 0;\n    }).map(function (field) {\n      return _this2.build.apply(_this2, _toConsumableArray(field));\n    }).filter(function (detail) {\n      return !!detail;\n    });\n\n    return React.createElement(\n      'dl',\n      { className: 'artwork-detail' },\n      details\n    );\n  },\n\n  dimensions: function dimensions() {\n    var dimension = this.props.art.dimension;\n\n    if (!dimension) return [];\n    // var dimension = this.props.highlights ? this.props.highlights.dimension : this.props.art\n    return dimension.split(\"\\r\\n\").filter(function (string) {\n      return string.match(/[x\\|×].*cm/);\n    }).map(function (string) {\n      var aspect = string.match(/cm\\)\\s\\(*([^\\(]+)\\)$/);\n\n      return [string, aspect ? aspect[1].replace(/[^a-zA-z]+/g, '-').replace(/^-|-$/, '') : 'dimensions'];\n    });\n  },\n\n  toggleDimensionGraphic: function toggleDimensionGraphic(aspect) {\n    this.setState({ dimensionGraphicName: aspect });\n  },\n\n  dimensionSvgLoaded: function dimensionSvgLoaded() {\n    if (this.state.heightAdjusted) return;\n    this.setState({ heightAdjusted: true });\n    var domNode = ReactDOM.findDOMNode(this);\n    this.context.onHeightChange && this.context.onHeightChange(domNode.parentElement.parentElement.parentElement.parentElement.clientHeight);\n  }\n});\nArtworkDetails.contextTypes = {\n  onHeightChange: React.PropTypes.func\n};\n\nmodule.exports = ArtworkDetails;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYXJ0d29yay1kZXRhaWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQTs7ZUFDdEIsT0FBTyxDQUFDLGNBQWMsQ0FBQzs7SUFBL0IsSUFBSSxZQUFKLElBQUk7O0FBQ1QsSUFBSSxVQUFVLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBO0FBQ3RDLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFBO0FBQ3JDLElBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTtBQUM5QixJQUFJLGFBQWEsR0FBRyxPQUFPLENBQUMsK0JBQStCLENBQUMsQ0FBQTs7QUFFNUQsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBO0FBQ3BDLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQTtBQUM1QixJQUFJLFlBQVksR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsWUFBWSxDQUFBO0FBQ3RELElBQUksa0JBQWtCLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7QUFDckQsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLHFCQUFxQixDQUFDLENBQUE7O0FBRW5ELElBQUksY0FBYyxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUNyQyxPQUFLLEVBQUEsZUFBQyxLQUFLLEVBQUUsRUFBRSxFQUFFO2lCQUNTLElBQUksQ0FBQyxLQUFLO1FBQTdCLEdBQUcsVUFBSCxHQUFHO1FBQUUsVUFBVSxVQUFWLFVBQVU7O0FBQ3BCLFFBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyx3QkFBd0IsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsRUFBRSxPQUFNOztBQUVw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QUNGLGNBQWMsQ0FBQyxZQUFZLEdBQUc7QUFDNUIsZ0JBQWMsRUFBRSxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUk7Q0FDckMsQ0FBQTs7QUFFRCxNQUFNLENBQUMsT0FBTyxHQUFHLGNBQWMsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2FydHdvcmstZGV0YWlscy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSZWFjdERPTSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpXG52YXIge0xpbmt9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciBjYXBpdGFsaXplID0gcmVxdWlyZSgnY2FwaXRhbGl6ZScpXG52YXIgSXN2ZyA9IHJlcXVpcmUoJ3JlYWN0LWlubGluZXN2ZycpXG52YXIgY3ggPSByZXF1aXJlKCdjbGFzc25hbWVzJylcbnZhciBDbGlja1RvU2VsZWN0ID0gcmVxdWlyZSgnQG1hcGJveC9yZWFjdC1jbGljay10by1zZWxlY3QnKVxuXG52YXIgTWFya2Rvd24gPSByZXF1aXJlKCcuL21hcmtkb3duJylcbnZhciBQZWVrID0gcmVxdWlyZSgnLi9wZWVrJylcbnZhciBkaW1lbnNpb25TdmcgPSByZXF1aXJlKCcuL2VuZHBvaW50cycpLmRpbWVuc2lvblN2Z1xudmFyIHJpZ2h0c0Rlc2NyaXB0aW9ucyA9IHJlcXVpcmUoJy4vcmlnaHRzLXR5cGVzLmpzJylcbnZhciBmZWVkYmFja1NlbmRlciA9IHJlcXVpcmUoJy4vZW1haWwtZGF0YS1zZW5kZXInKVxuXG52YXIgQXJ0d29ya0RldGFpbHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGJ1aWxkKGZpZWxkLCBmbikge1xuICAgIHZhciB7YXJ0LCBoaWdobGlnaHRzfSA9IHRoaXMucHJvcHNcbiAgICBpZih0aGlzLnByb3BzLm9ubHlTaG93SGlnaGxpZ2h0RGV0YWlscyAmJiAhaGlnaGxpZ2h0c1tmaWVsZF0pIHJldHVyblxuXG4gICAgdmFyIGh1bWFuRmllbGROYW1lID0gY2FwaXRhbGl6ZS53b3JkcyhmaWVsZCkucmVwbGFjZSgnXycsICcgJylcbiAgICB2YXIgYXJ0QW5kSGlnaGxpZ2h0cyA9IHRoaXMuYXJ0QW5kSGlnaGxpZ2h0cygpXG4gICAgdmFyIFtjb250ZW50LCBleHRyYUNvbnRlbnRdID0gZm4gPyBmbihhcnRBbmRIaWdobGlnaHRzLCBhcnQpIDogW2FydEFuZEhpZ2hsaWdodHNbZmllbGRdXVxuICAgIGlmKCFjb250ZW50IHx8IGNvbnRlbnQgPT0gJycpIHJldHVyblxuICAgIHZhciBzaG93RXh0cmEgPSBleHRyYUNvbnRlbnQgJiYgdGhpcy5zdGF0ZS5leHBhbmREZXRhaWxzTWF0cml4W2ZpZWxkXVxuICAgIHZhciBjbGFzc2VzID0gY3goXCJkZXRhaWwtcm93XCIsIHtleHBhbmRhYmxlOiBleHRyYUNvbnRlbnR9LCBmaWVsZClcblxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlc30ga2V5PXtmaWVsZH0+XG4gICAgICA8ZGl2IG9uQ2xpY2s9e3RoaXMudG9nZ2xlRXh0cmEuYmluZCh0aGlzLCBmaWVsZCl9PlxuICAgICAgICA8ZHQgY2xhc3NOYW1lPVwiZGV0YWlsLXRpdGxlXCI+e2h1bWFuRmllbGROYW1lfTwvZHQ+XG4gICAgICAgIDxkZCBjbGFzc05hbWU9J2RldGFpbC1jb250ZW50Jz57Y29udGVudH08L2RkPlxuICAgICAgPC9kaXY+XG4gICAgICB7c2hvd0V4dHJhICYmIDxkaXYgY2xhc3NOYW1lPVwiZGV0YWlsLWV4dHJhXCI+e2V4dHJhQ29udGVudH08L2Rpdj59XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgdG9nZ2xlRXh0cmEoZmllbGQpIHtcbiAgICB2YXIge2V4cGFuZERldGFpbHNNYXRyaXh9ID0gdGhpcy5zdGF0ZVxuICAgIGV4cGFuZERldGFpbHNNYXRyaXhbZmllbGRdID0gIWV4cGFuZERldGFpbHNNYXRyaXhbZmllbGRdXG4gICAgdGhpcy5zZXRTdGF0ZSh7ZXhwYW5kRGV0YWlsc01hdHJpeH0pXG4gIH0sXG5cbiAgLy8gbWVyZ2UgYGFydGAgd2l0aCBgaGlnaGxpZ2h0c2AsIHJlcGxhY2luZyB0aGUgdW4taGlnaGxpZ2h0ZWQgdmFsdWVzIHdpdGhcbiAgLy8gdGhlaXIgJ2hpZ2hsaXQnIGVxdWl2YWxlbnRcbiAgYXJ0QW5kSGlnaGxpZ2h0cygpIHtcbiAgICB2YXIge2FydCwgaGlnaGxpZ2h0c30gPSB0aGlzLnByb3BzXG5cbiAgICByZXR1cm4gIWhpZ2hsaWdodHMgPyBhcnQgOiBPYmplY3QuYXNzaWduKHsuLi5hcnR9LCBPYmplY3Qua2V5cyhoaWdobGlnaHRzKS5yZWR1Y2UoKG9iamVjdCwga2V5KSA9PiB7XG4gICAgICB2YXIgdmFsdWUgPSBoaWdobGlnaHRzW2tleV0gJiYgaGlnaGxpZ2h0c1trZXldWzBdXG4gICAgICBpZih0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHZhbHVlID0gPE1hcmtkb3duPnt2YWx1ZX08L01hcmtkb3duPlxuICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZVxuICAgICAgcmV0dXJuIG9iamVjdFxuICAgIH0sIHt9KSlcbiAgfSxcblxuICBidWlsZFBlZWthYmxlRGV0YWlsKGZpZWxkLCBleHRyYSwgdmFsdWUpIHtcbiAgICB2YXIge2FydH0gPSB0aGlzLnByb3BzXG4gICAgdmFyIGhpZ2hsaWdodHMgPSB0aGlzLmFydEFuZEhpZ2hsaWdodHMoKVxuXG4gICAgcmV0dXJuIFtcbiAgICAgIGZpZWxkLFxuICAgICAgYXJ0ID0+IFtcbiAgICAgICAgdmFsdWUgfHwgaGlnaGxpZ2h0c1tmaWVsZF0sXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAge2V4dHJhfVxuICAgICAgICAgIDxQZWVrIGZhY2V0PXtmaWVsZH0gcT17dmFsdWUgfHwgYXJ0W2ZpZWxkXX0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICBdXG4gICAgXVxuICB9LFxuXG4gIGRldGFpbHMoKSB7XG4gICAgdmFyIHthcnR9ID0gdGhpcy5wcm9wc1xuICAgIHJldHVybiBbXG4gICAgICBbJ2RlYWNjZXNzaW9uZWQnLCAoYXJ0LCByYXcpID0+IFtcbiAgICAgICAgcmF3LmRlYWNjZXNzaW9uZWQgJiYgYCR7YXJ0LmRlYWNjZXNzaW9uZWREYXRlfWAsIDxkaXY+XG4gICAgICAgICAge3Jhdy5kZWFjY2Vzc2lvbmVkUmVhc29uICYmIDxwPntyYXcuZGVhY2Nlc3Npb25lZFJlYXNvbn08L3A+fVxuICAgICAgICAgIDxMaW5rIHRvPVwiL2luZm8vZGVhY2Nlc3Npb25zXCI+QXJ0d29ya3MgYXJlIGRlYWNjZXNzaW9uZWQgZm9yIG1hbnkgcmVhc29uczwvTGluaz5cbiAgICAgICAgPC9kaXY+XG4gICAgICBdXSxcbiAgICAgIFsndGl0bGUnXSxcbiAgICAgIHRoaXMuYnVpbGRQZWVrYWJsZURldGFpbCgnZGF0ZWQnKSxcbiAgICAgIHRoaXMuYnVpbGRQZWVrYWJsZURldGFpbCgnYXJ0aXN0JywgdGhpcy5wcm9wcy5hcnQubGlmZV9kYXRlLCBhcnQuYXJ0aXN0LnJlcGxhY2UoL14oW147XSspOi8sICcnKSksXG4gICAgICB0aGlzLmJ1aWxkUGVla2FibGVEZXRhaWwoJ25hdGlvbmFsaXR5JyksXG4gICAgICBbJ2FydGlzdF9saWZlJywgKGFydCkgPT4gW2FydC5saWZlX2RhdGUgJiYgYXJ0LmxpZmVfZGF0ZS5yZXBsYWNlKG5ldyBSZWdFeHAoYXJ0Lm5hdGlvbmFsaXR5K1wiKCwgKT9cIiksICcnKV1dLFxuICAgICAgWydyb2xlJywgKF8sIHJhdykgPT4ge1xuICAgICAgICB2YXIgcm9sZUZyb21BcnRpc3RGaWVsZCA9IHJhdy5hcnRpc3QubWF0Y2goL14oW147XSspOi8pXG4gICAgICAgIHJldHVybiBbcm9sZUZyb21BcnRpc3RGaWVsZCA/IHJvbGVGcm9tQXJ0aXN0RmllbGRbMV0gOiByYXcucm9sZV1cbiAgICAgIH1dLFxuICAgICAgWydnYWxsZXJ5JywgKGFydCwgcmF3KSA9PiBbYXJ0LnJvb20sIDxQZWVrIGZhY2V0PVwicm9vbVwiIHE9e3Jhdy5yb29tfSAvPl1dLFxuICAgICAgdGhpcy5idWlsZFBlZWthYmxlRGV0YWlsKCdkZXBhcnRtZW50JyksXG4gICAgICBbJ2RpbWVuc2lvbicsIChhcnQsIHJhd0FydCkgPT4ge1xuICAgICAgICB2YXIgc2hvd0ZhbmN5RGltZW5zaW9uID0gYXJ0LmRpbWVuc2lvbiAmJiB0aGlzLmRpbWVuc2lvbnMoKS5sZW5ndGggPiAwXG5cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBhcnQuZGltZW5zaW9uICYmIDxkaXY+e3Nob3dGYW5jeURpbWVuc2lvbiA/IHRoaXMuZGltZW5zaW9ucygpLm1hcCgoW2QsIGFzcGVjdF0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiA8c3BhbiBzdHlsZT17e2Rpc3BsYXk6ICdibG9jayd9fSBvbk1vdXNlRW50ZXI9e3RoaXMudG9nZ2xlRGltZW5zaW9uR3JhcGhpYy5iaW5kKHRoaXMsIGFzcGVjdCl9IGtleT17YXNwZWN0fT57ZH08L3NwYW4+XG4gICAgICAgICAgfSkgOiBhcnQuZGltZW5zaW9ufTwvZGl2PixcbiAgICAgICAgICBzaG93RmFuY3lEaW1lbnNpb24gJiYgPGRpdj5cbiAgICAgICAgICAgIHtyYXdBcnQuZGltZW5zaW9uLm1hdGNoKC9jbS8pICYmIDxJc3ZnXG4gICAgICAgICAgICAgIHNyYz17ZGltZW5zaW9uU3ZnKGFydC5pZCwgdGhpcy5zdGF0ZS5kaW1lbnNpb25HcmFwaGljTmFtZSl9XG4gICAgICAgICAgICAgIGtleT17dGhpcy5zdGF0ZS5kaW1lbnNpb25HcmFwaGljTmFtZX1cbiAgICAgICAgICAgICAgb25Mb2FkPXt0aGlzLmRpbWVuc2lvblN2Z0xvYWRlZH1cbiAgICAgICAgICAgIC8+fVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICBdXG4gICAgICB9XSxcbiAgICAgIFsnY3JlZGl0JywgKGFydCwgcmF3KSA9PiBbYXJ0LmNyZWRpdGxpbmUsIDxQZWVrIGZhY2V0PVwiY3JlZGl0bGluZVwiIHE9e3Jhdy5jcmVkaXRsaW5lfSAvPl1dLFxuICAgICAgWydhY2Nlc3Npb25fbnVtYmVyJ10sXG4gICAgICB0aGlzLmJ1aWxkUGVla2FibGVEZXRhaWwoJ21lZGl1bScpLFxuICAgICAgdGhpcy5idWlsZFBlZWthYmxlRGV0YWlsKCdjb3VudHJ5JyksXG4gICAgICB0aGlzLmJ1aWxkUGVla2FibGVEZXRhaWwoJ2N1bHR1cmUnKSxcbiAgICAgIFsnY2VudHVyeScsIChhcnQsIHJhdykgPT4gW2FydC5zdHlsZSwgPFBlZWsgZmFjZXQ9XCJzdHlsZVwiIHE9e3Jhdy5zdHlsZX0gLz5dXSxcbiAgICAgIFsncHJvdmVuYW5jZSddLFxuICAgICAgWydyaWdodHMnLCAoYXJ0LCByYXcpID0+IHtcbiAgICAgICAgcmV0dXJuIFsoYXJ0LmltYWdlX2NvcHlyaWdodCB8fCBhcnQucmlnaHRzKSAmJiA8ZGl2PlxuICAgICAgICAgIHthcnQuaW1hZ2VfY29weXJpZ2h0ICYmIGRlY29kZVVSSUNvbXBvbmVudChhcnQuaW1hZ2VfY29weXJpZ2h0KX1cbiAgICAgICAgICB7YXJ0LmltYWdlX2NvcHlyaWdodCAmJiBhcnQucmlnaHRzICYmIDxici8+fVxuICAgICAgICAgIHthcnQucmlnaHRzICYmIDxzcGFuPnthcnQucmlnaHRzfTwvc3Bhbj59XG4gICAgICAgIDwvZGl2PixcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8cD57cmlnaHRzRGVzY3JpcHRpb25zW3Jhdy5yaWdodHNdfTwvcD5cbiAgICAgICAgICA8UGVlayBmYWNldD1cInJpZ2h0c1wiIHE9e3Jhdy5yaWdodHN9IC8+XG4gICAgICAgICAgPHA+PGEgaHJlZj1cImh0dHBzOi8vbmV3LmFydHNtaWEub3JnL3Zpc2l0L3BvbGljaWVzLWd1aWRlbGluZXMvI3dlYnNpdGVpbWFnZWFjY2VzcyZ1c2VcIj5NaWEncyBJbWFnZSBBY2Nlc3MgJiBVc2UgUG9saWN5PC9hPjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIF1cbiAgICAgIH1dLFxuICAgICAgLy8gYXBwYXJlbnRseSBtYXJraW5ncy9pbnNjcmlwdGlvbi9zaWduZWQgYXJlICdmb3Igb3VyIGV5ZXMgb25seSdcbiAgICAgIC8vIFsnbWFya2luZ3MnLCAoYXJ0KSA9PiB7XG4gICAgICAvLyAgIC8vIHNob3cgZGVwcmVjYXRlZCBgbWFya3NgIGZpZWxkIGlmIG5vbmUgb2YgdGhlIG5ldyBgbWFya2luZ3MsIHNpZ25hdHVyZSwgaW5zY3JpcHRpb25gIGZpZWxkcyBleGlzdCB5ZXRcbiAgICAgIC8vICAgcmV0dXJuIFthcnQubWFya2luZ3MgfHwgKCFhcnQuc2lnbmF0dXJlICYmICFhcnQuaW5zY3JpcHRpb24gJiYgYXJ0Lm1hcmtzKV1cbiAgICAgIC8vIH1dLFxuICAgICAgLy8gWydpbnNjcmlwdGlvbiddLFxuICAgICAgLy8gWydzaWduZWQnXSxcbiAgICAgIFsnY2xhc3NpZmljYXRpb24nLCAoYXJ0LCByYXcpID0+IHtcbiAgICAgICAgaWYoIXJhdy5jbGFzc2lmaWNhdGlvbikgcmV0dXJuIFtdXG5cbiAgICAgICAgdmFyIGNsYXNzaWZpY2F0aW9uUGVla3MgPSByYXcuY2xhc3NpZmljYXRpb24uc3BsaXQoJywnKVxuICAgICAgICAubWFwKChjbGFzc2lmaWNhdGlvbiwgaW5kZXgpID0+IDxQZWVrIGZhY2V0PVwiY2xhc3NpZmljYXRpb25cIiBxPXtjbGFzc2lmaWNhdGlvbn0ga2V5PXtpbmRleH0gLz4pXG5cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICA8cD57YXJ0LmNsYXNzaWZpY2F0aW9ufTwvcD4sXG4gICAgICAgICAgPGRpdj57Y2xhc3NpZmljYXRpb25QZWVrc308L2Rpdj5cbiAgICAgICAgXVxuICAgICAgfV0sXG4gICAgICB0aGlzLmJ1aWxkUGVla2FibGVEZXRhaWwoJ29iamVjdF9uYW1lJyksXG4gICAgICAvLyBkaXNhYmxlIHRhZ3MgZHVlIHRvIGZyZXF1ZW50IGluYWNjdXJhY2llc1xuICAgICAgLy8gWyd0YWdzJywgYXJ0ID0+IHtcbiAgICAgIC8vICAgaWYoIWFydC50YWdzKSByZXR1cm4gW11cblxuICAgICAgLy8gICB2YXIgbGlua2VkVGFncyA9IGFydC50YWdzLnRyaW0oKS5zcGxpdCgnICcpXG4gICAgICAvLyAgIC5tYXAodGFnID0+IDxMaW5rIHRvPVwic2VhcmNoUmVzdWx0c1wiIHBhcmFtcz17e3Rlcm1zOiBgdGFnczoke3RhZ31gfX0ga2V5PXt0YWd9Pnt0YWcucmVwbGFjZSgvLS9nLCAnICcpfTwvTGluaz4pXG5cbiAgICAgIC8vICAgcmV0dXJuIFtcbiAgICAgIC8vICAgICA8cD57bGlua2VkVGFncy5tYXAoKHRhZywgaW5kZXgpID0+IHtcbiAgICAgIC8vICAgICAgIHJldHVybiA8c3BhbiBrZXk9e2luZGV4fT57dGFnfXsoaW5kZXggPT0gbGlua2VkVGFncy5sZW5ndGgtMSB8fCAnLCAnKX08L3NwYW4+XG4gICAgICAvLyAgICAgfSl9PC9wPlxuICAgICAgLy8gXVxuICAgICAgLy8gfV0sXG4gICAgICBbJ2NhdGFsb2d1ZV9yYWlzb25uZScsIChhcnQpID0+IHtcbiAgICAgICAgaWYoIWFydC5jYXRhbG9ndWVfcmFpc3Nvbm5lKSByZXR1cm4gW11cbiAgICAgICAgcmV0dXJuIFsgPGRpdj57YXJ0LmNhdGFsb2d1ZV9yYWlzc29ubmV9PC9kaXY+XVxuICAgICAgfV0sXG4gICAgICBbJ3dpa2lwZWRpYScsIChhcnQpID0+IHtcbiAgICAgICAgcmV0dXJuIFsnQ2l0ZSB0aGlzIGluZm9ybWF0aW9uJywgPGRpdj5cbiAgICAgICAgICA8Q2xpY2tUb1NlbGVjdD5cbiAgICAgICAgICAgIDxjb2RlIG5hbWU9XCJNaWFcIj4mIzEyMzsmIzEyMztjaXRlIHdlYiB8dGl0bGU9e2FydC50aXRsZX0gfHVybD1odHRwczovL2NvbGxlY3Rpb25zLmFydHNtaWEub3JnL2FydC97YXJ0LmlkfSB8YXV0aG9yPXthcnQuYXJ0aXN0fSB8eWVhcj17YXJ0LmRhdGVkfSB8YWNjZXNzZGF0ZT17KG5ldyBEYXRlKS50b1VUQ1N0cmluZygpLnNwbGl0KCcgJykuc2xpY2UoMSwgNCkuam9pbignICcpfSB8cHVibGlzaGVyPU1pbm5lYXBvbGlzIEluc3RpdHV0ZSBvZiBBcnQmIzEyNTsmIzEyNTs8L2NvZGU+XG4gICAgICAgICAgPC9DbGlja1RvU2VsZWN0PlxuICAgICAgICA8L2Rpdj5dXG4gICAgICB9XSxcbiAgICAgIFsnZXhoaWJpdGlvbl9oaXN0b3J5JywgKGFydCkgPT4ge1xuICAgICAgICBpZighYXJ0LmV4aGliaXRpb25faGlzdG9yeSkgcmV0dXJuIFtdXG4gICAgICAgIHJldHVybiBbPE1hcmtkb3duPnthcnQuZXhoaWJpdGlvbl9oaXN0b3J5fTwvTWFya2Rvd24+XVxuICAgICAgfV0sXG4gICAgICBbJ3NlZV9hbHNvJywgKGFydCwgcmF3KSA9PiB7XG4gICAgICAgIHZhciBhbHNvID0gcmF3LnNlZV9hbHNvICYmIHJhdy5zZWVfYWxzby5maWx0ZXIoaWQgPT4gaWQgIT09IFwiXCIgJiYgaWQgIT09IHJhdy5pZClcbiAgICAgICAgcmV0dXJuIGFsc28gJiYgYWxzby5sZW5ndGggPiAwID9cbiAgICAgICAgICBbYCR7YWxzby5sZW5ndGh9IG90aGVyIGFydHdvcmske2Fsc28ubGVuZ3RoID4gMSA/ICdzJyA6ICcnfWAsIDxQZWVrIGZhY2V0PVwic2VlX2Fsc29cIiBxPXtyYXcuaWR9IC8+XSA6XG4gICAgICAgICAgW11cbiAgICAgIH1dLFxuICAgICAgWydwb3J0Zm9saW8nLCAoYXJ0LCByYXcpID0+IHtcbiAgICAgICAgaWYoIXJhdy5wb3J0Zm9saW8gfHwgcmF3LnBvcnRmb2xpbyA9PSAnRnJvbSAnKSByZXR1cm4gW11cbiAgICAgICAgdmFyIHBvcnRmb2xpb05hbWUgPSByYXcucG9ydGZvbGlvXG4gICAgICAgIC5yZXBsYWNlKCdGcm9tIEZyb20nLCAnRnJvbScpIC8vIHNvbWUgaGF2ZSBkb3VibGUgJ2Zyb20nXG5cbiAgICAgICAgcmV0dXJuIFtwb3J0Zm9saW9OYW1lLCA8UGVlayBmYWNldD1cInBvcnRmb2xpb1wiIHE9e3BvcnRmb2xpb05hbWV9IC8+XVxuICAgICAgfV0sXG4gICAgICBbJ2N1cmF0b3JfYXBwcm92ZWQnLCBhcnQgPT4ge1xuICAgICAgICB2YXIgY3VycmVudFVybCA9IHdpbmRvdy5sb2NhdGlvbiAmJiB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnLycpLnNsaWNlKDAsIDUpLmpvaW4oJy8nKVxuICAgICAgICB2YXIgZGF0YVNlbmRlciA9IGZlZWRiYWNrU2VuZGVyKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCAnQ29sbGVjdGlvbnMgZGF0YSBmZWVkYmFjaycsIGN1cnJlbnRVcmwpXG4gICAgICAgIHZhciBpbWFnZVNlbmRlciA9IGZlZWRiYWNrU2VuZGVyKCdjb2xsZWN0aW9uc2RhdGEraW1hZ2VzQGFydHNtaWEub3JnJywgJ0xldCB1cyBrbm93JywgJ0NvbGxlY3Rpb25zIGltYWdlIGZlZWRiYWNrJywgY3VycmVudFVybClcblxuICAgICAgICB2YXIgZGF0YU1lc3NhZ2UgPSBhcnQuY3VyYXRvcl9hcHByb3ZlZCA/XG4gICAgICAgICAgYFRoaXMgcmVjb3JkIGlzIGZyb20gaGlzdG9yaWMgZG9jdW1lbnRhdGlvbiBhbmQgbWF5IG5vdCBoYXZlIGJlZW4gcmV2aWV3ZWQgYnkgYSBjdXJhdG9yLCBzbyBtYXkgYmUgaW5hY2N1cmF0ZSBvciBpbmNvbXBsZXRlLiBPdXIgcmVjb3JkcyBhcmUgZnJlcXVlbnRseSByZXZpc2VkIGFuZCBlbmhhbmNlZC4gSWYgeW91IG5vdGljZSBhIG1pc3Rha2Ugb3IgaGF2ZSBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoaXMgb2JqZWN0LCBwbGVhc2UgZW1haWwgJHtkYXRhU2VuZGVyfS5gIDpcbiAgICAgICAgICBgVGhpcyByZWNvcmQgaGFzIGJlZW4gcmV2aWV3ZWQgYnkgb3VyIGN1cmF0b3JpYWwgc3RhZmYgYnV0IG1heSBiZSBpbmNvbXBsZXRlLiBUaGVzZSByZWNvcmRzIGFyZSBmcmVxdWVudGx5IHJldmlzZWQgYW5kIGVuaGFuY2VkLiBJZiB5b3Ugbm90aWNlIGEgbWlzdGFrZSBvciBoYXZlIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhpcyBvYmplY3QsIHBsZWFzZSBlbWFpbCAke2RhdGFTZW5kZXJ9LmBcblxuICAgICAgICB2YXIgaW1hZ2VNZXNzYWdlID0gYERvZXMgc29tZXRoaW5nIGxvb2sgd3Jvbmcgd2l0aCB0aGlzIGltYWdlPyAke2ltYWdlU2VuZGVyfWBcblxuICAgICAgICByZXR1cm4gWzxNYXJrZG93bj5cbiAgICAgICAgICB7ZGF0YU1lc3NhZ2UgKyAnXFxuXFxuJyArIGltYWdlTWVzc2FnZX1cbiAgICAgICAgPC9NYXJrZG93bj5dXG4gICAgICB9XSxcbiAgICBdXG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHZhciBkaW1lbnNpb25zID0gdGhpcy5kaW1lbnNpb25zKClcbiAgICB2YXIgZmlyc3REaW1lbnNpb25OYW1lID0gZGltZW5zaW9ucyAmJiBkaW1lbnNpb25zWzBdICYmIGRpbWVuc2lvbnNbMF1bMV1cbiAgICB2YXIgZXhwYW5kRGV0YWlscyA9IHRoaXMuZGV0YWlscygpLnJlZHVjZSgocmVkdWNlZCwgW2ZpZWxkXSkgPT4ge1xuICAgICAgcmVkdWNlZFtmaWVsZF0gPSBmYWxzZVxuICAgICAgcmV0dXJuIHJlZHVjZWRcbiAgICB9LCB7fSlcbiAgICBleHBhbmREZXRhaWxzWydkaW1lbnNpb24nXSA9ICEhZmlyc3REaW1lbnNpb25OYW1lXG5cbiAgICByZXR1cm4ge1xuICAgICAgZXhwYW5kRGV0YWlsc01hdHJpeDogZXhwYW5kRGV0YWlscyxcbiAgICAgIGRpbWVuc2lvbkdyYXBoaWNOYW1lOiBmaXJzdERpbWVuc2lvbk5hbWUsXG4gICAgfVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIge2FydCwgaGlnaGxpZ2h0c30gPSB0aGlzLnByb3BzXG4gICAgdmFyIHNraXAgPSB0aGlzLnByb3BzLnNraXBGaWVsZHMgPyB0aGlzLnByb3BzLnNraXBGaWVsZHMuc3BsaXQoJyAnKSA6IFtdXG4gICAgdmFyIGRldGFpbHMgPSB0aGlzLmRldGFpbHMoKVxuICAgIC5maWx0ZXIoKFtmaWVsZF0pID0+IHNraXAuaW5kZXhPZihmaWVsZCkgPCAwKVxuICAgIC5tYXAoZmllbGQgPT4gdGhpcy5idWlsZCguLi5maWVsZCkpXG4gICAgLmZpbHRlcihkZXRhaWwgPT4gISFkZXRhaWwpXG5cbiAgICByZXR1cm4gPGRsIGNsYXNzTmFtZT0nYXJ0d29yay1kZXRhaWwnPlxuICAgICAge2RldGFpbHN9XG4gICAgPC9kbD5cbiAgfSxcblxuICBkaW1lbnNpb25zKCkge1xuICAgIHZhciB7ZGltZW5zaW9ufSA9IHRoaXMucHJvcHMuYXJ0XG4gICAgaWYoIWRpbWVuc2lvbikgcmV0dXJuIFtdXG4gICAgLy8gdmFyIGRpbWVuc2lvbiA9IHRoaXMucHJvcHMuaGlnaGxpZ2h0cyA/IHRoaXMucHJvcHMuaGlnaGxpZ2h0cy5kaW1lbnNpb24gOiB0aGlzLnByb3BzLmFydFxuICAgIHJldHVybiBkaW1lbnNpb24uc3BsaXQoXCJcXHJcXG5cIilcbiAgICAuZmlsdGVyKHN0cmluZyA9PiBzdHJpbmcubWF0Y2goL1t4XFx8w5ddLipjbS8pKVxuICAgIC5tYXAoc3RyaW5nID0+IHtcbiAgICAgIHZhciBhc3BlY3QgPSBzdHJpbmcubWF0Y2goL2NtXFwpXFxzXFwoKihbXlxcKF0rKVxcKSQvKVxuXG4gICAgICByZXR1cm4gW3N0cmluZywgYXNwZWN0ID8gYXNwZWN0WzFdLnJlcGxhY2UoL1teYS16QS16XSsvZywgJy0nKS5yZXBsYWNlKC9eLXwtJC8sICcnKSA6ICdkaW1lbnNpb25zJ11cbiAgICB9KVxuICB9LFxuXG4gIHRvZ2dsZURpbWVuc2lvbkdyYXBoaWMoYXNwZWN0KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7ZGltZW5zaW9uR3JhcGhpY05hbWU6IGFzcGVjdH0pXG4gIH0sXG5cbiAgZGltZW5zaW9uU3ZnTG9hZGVkKCkge1xuICAgIGlmKHRoaXMuc3RhdGUuaGVpZ2h0QWRqdXN0ZWQpIHJldHVyblxuICAgIHRoaXMuc2V0U3RhdGUoe2hlaWdodEFkanVzdGVkOiB0cnVlfSlcbiAgICB2YXIgZG9tTm9kZSA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpXG4gICAgdGhpcy5jb250ZXh0Lm9uSGVpZ2h0Q2hhbmdlICYmIHRoaXMuY29udGV4dC5vbkhlaWdodENoYW5nZShkb21Ob2RlLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KVxuICB9LFxufSlcbkFydHdvcmtEZXRhaWxzLmNvbnRleHRUeXBlcyA9IHtcbiAgb25IZWlnaHRDaGFuZ2U6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFydHdvcmtEZXRhaWxzXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/artwork-details.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/artwork-details.js",
      "sourcesContent": [
        "var React = require('react')\nvar ReactDOM = require('react-dom')\nvar {Link} = require('react-router')\nvar capitalize = require('capitalize')\nvar Isvg = require('react-inlinesvg')\nvar cx = require('classnames')\nvar ClickToSelect = require('@mapbox/react-click-to-select')\n\nvar Markdown = require('./markdown')\nvar Peek = require('./peek')\nvar dimensionSvg = require('./endpoints').dimensionSvg\nvar rightsDescriptions = require('./rights-types.js')\nvar feedbackSender = require('./email-data-sender')\n\nvar ArtworkDetails = React.createClass({\n  build(field, fn) {\n    var {art, highlights} = this.props\n    if(this.props.onlyShowHighlightDetails && !highlights[field]) return\n\n    var humanFieldName = capitalize.words(field).replace('_', ' ')\n    var artAndHighlights = this.artAndHighlights()\n    var [content, extraContent] = fn ? fn(artAndHighlights, art) : [artAndHighlights[field]]\n    if(!content || content == '') return\n    var showExtra = extraContent && this.state.expandDetailsMatrix[field]\n    var classes = cx(\"detail-row\", {expandable: extraContent}, field)\n\n    return <div className={classes} key={field}>\n      <div onClick={this.toggleExtra.bind(this, field)}>\n        <dt className=\"detail-title\">{humanFieldName}</dt>\n        <dd className='detail-content'>{content}</dd>\n      </div>\n      {showExtra && <div className=\"detail-extra\">{extraContent}</div>}\n    </div>\n  },\n\n  toggleExtra(field) {\n    var {expandDetailsMatrix} = this.state\n    expandDetailsMatrix[field] = !expandDetailsMatrix[field]\n    this.setState({expandDetailsMatrix})\n  },\n\n  // merge `art` with `highlights`, replacing the un-highlighted values with\n  // their 'highlit' equivalent\n  artAndHighlights() {\n    var {art, highlights} = this.props\n\n    return !highlights ? art : Object.assign({...art}, Object.keys(highlights).reduce((object, key) => {\n      var value = highlights[key] && highlights[key][0]\n      if(typeof value == 'string') value = <Markdown>{value}</Markdown>\n      object[key] = value\n      return object\n    }, {}))\n  },\n\n  buildPeekableDetail(field, extra, value) {\n    var {art} = this.props\n    var highlights = this.artAndHighlights()\n\n    return [\n      field,\n      art => [\n        value || highlights[field],\n        <div>\n          {extra}\n          <Peek facet={field} q={value || art[field]} />\n        </div>\n      ]\n    ]\n  },\n\n  details() {\n    var {art} = this.props\n    return [\n      ['deaccessioned', (art, raw) => [\n        raw.deaccessioned && `${art.deaccessionedDate}`, <div>\n          {raw.deaccessionedReason && <p>{raw.deaccessionedReason}</p>}\n          <Link to=\"/info/deaccessions\">Artworks are deaccessioned for many reasons</Link>\n        </div>\n      ]],\n      ['title'],\n      this.buildPeekableDetail('dated'),\n      this.buildPeekableDetail('artist', this.props.art.life_date, art.artist.replace(/^([^;]+):/, '')),\n      this.buildPeekableDetail('nationality'),\n      ['artist_life', (art) => [art.life_date && art.life_date.replace(new RegExp(art.nationality+\"(, )?\"), '')]],\n      ['role', (_, raw) => {\n        var roleFromArtistField = raw.artist.match(/^([^;]+):/)\n        return [roleFromArtistField ? roleFromArtistField[1] : raw.role]\n      }],\n      ['gallery', (art, raw) => [art.room, <Peek facet=\"room\" q={raw.room} />]],\n      this.buildPeekableDetail('department'),\n      ['dimension', (art, rawArt) => {\n        var showFancyDimension = art.dimension && this.dimensions().length > 0\n\n        return [\n          art.dimension && <div>{showFancyDimension ? this.dimensions().map(([d, aspect]) => {\n            return <span style={{display: 'block'}} onMouseEnter={this.toggleDimensionGraphic.bind(this, aspect)} key={aspect}>{d}</span>\n          }) : art.dimension}</div>,\n          showFancyDimension && <div>\n            {rawArt.dimension.match(/cm/) && <Isvg\n              src={dimensionSvg(art.id, this.state.dimensionGraphicName)}\n              key={this.state.dimensionGraphicName}\n              onLoad={this.dimensionSvgLoaded}\n            />}\n          </div>\n        ]\n      }],\n      ['credit', (art, raw) => [art.creditline, <Peek facet=\"creditline\" q={raw.creditline} />]],\n      ['accession_number'],\n      this.buildPeekableDetail('medium'),\n      this.buildPeekableDetail('country'),\n      this.buildPeekableDetail('culture'),\n      ['century', (art, raw) => [art.style, <Peek facet=\"style\" q={raw.style} />]],\n      ['provenance'],\n      ['rights', (art, raw) => {\n        return [(art.image_copyright || art.rights) && <div>\n          {art.image_copyright && decodeURIComponent(art.image_copyright)}\n          {art.image_copyright && art.rights && <br/>}\n          {art.rights && <span>{art.rights}</span>}\n        </div>,\n        <div>\n          <p>{rightsDescriptions[raw.rights]}</p>\n          <Peek facet=\"rights\" q={raw.rights} />\n          <p><a href=\"https://new.artsmia.org/visit/policies-guidelines/#websiteimageaccess&use\">Mia's Image Access & Use Policy</a></p>\n        </div>\n        ]\n      }],\n      // apparently markings/inscription/signed are 'for our eyes only'\n      // ['markings', (art) => {\n      //   // show deprecated `marks` field if none of the new `markings, signature, inscription` fields exist yet\n      //   return [art.markings || (!art.signature && !art.inscription && art.marks)]\n      // }],\n      // ['inscription'],\n      // ['signed'],\n      ['classification', (art, raw) => {\n        if(!raw.classification) return []\n\n        var classificationPeeks = raw.classification.split(',')\n        .map((classification, index) => <Peek facet=\"classification\" q={classification} key={index} />)\n\n        return [\n          <p>{art.classification}</p>,\n          <div>{classificationPeeks}</div>\n        ]\n      }],\n      this.buildPeekableDetail('object_name'),\n      // disable tags due to frequent inaccuracies\n      // ['tags', art => {\n      //   if(!art.tags) return []\n\n      //   var linkedTags = art.tags.trim().split(' ')\n      //   .map(tag => <Link to=\"searchResults\" params={{terms: `tags:${tag}`}} key={tag}>{tag.replace(/-/g, ' ')}</Link>)\n\n      //   return [\n      //     <p>{linkedTags.map((tag, index) => {\n      //       return <span key={index}>{tag}{(index == linkedTags.length-1 || ', ')}</span>\n      //     })}</p>\n      // ]\n      // }],\n      ['catalogue_raisonne', (art) => {\n        if(!art.catalogue_raissonne) return []\n        return [ <div>{art.catalogue_raissonne}</div>]\n      }],\n      ['wikipedia', (art) => {\n        return ['Cite this information', <div>\n          <ClickToSelect>\n            <code name=\"Mia\">&#123;&#123;cite web |title={art.title} |url=https://collections.artsmia.org/art/{art.id} |author={art.artist} |year={art.dated} |accessdate={(new Date).toUTCString().split(' ').slice(1, 4).join(' ')} |publisher=Minneapolis Institute of Art&#125;&#125;</code>\n          </ClickToSelect>\n        </div>]\n      }],\n      ['exhibition_history', (art) => {\n        if(!art.exhibition_history) return []\n        return [<Markdown>{art.exhibition_history}</Markdown>]\n      }],\n      ['see_also', (art, raw) => {\n        var also = raw.see_also && raw.see_also.filter(id => id !== \"\" && id !== raw.id)\n        return also && also.length > 0 ?\n          [`${also.length} other artwork${also.length > 1 ? 's' : ''}`, <Peek facet=\"see_also\" q={raw.id} />] :\n          []\n      }],\n      ['portfolio', (art, raw) => {\n        if(!raw.portfolio || raw.portfolio == 'From ') return []\n        var portfolioName = raw.portfolio\n        .replace('From From', 'From') // some have double 'from'\n\n        return [portfolioName, <Peek facet=\"portfolio\" q={portfolioName} />]\n      }],\n      ['curator_approved', art => {\n        var currentUrl = window.location && window.location.href.split('/').slice(0, 5).join('/')\n        var dataSender = feedbackSender(undefined, undefined, 'Collections data feedback', currentUrl)\n        var imageSender = feedbackSender('collectionsdata+images@artsmia.org', 'Let us know', 'Collections image feedback', currentUrl)\n\n        var dataMessage = art.curator_approved ?\n          `This record is from historic documentation and may not have been reviewed by a curator, so may be inaccurate or incomplete. Our records are frequently revised and enhanced. If you notice a mistake or have additional information about this object, please email ${dataSender}.` :\n          `This record has been reviewed by our curatorial staff but may be incomplete. These records are frequently revised and enhanced. If you notice a mistake or have additional information about this object, please email ${dataSender}.`\n\n        var imageMessage = `Does something look wrong with this image? ${imageSender}`\n\n        return [<Markdown>\n          {dataMessage + '\\n\\n' + imageMessage}\n        </Markdown>]\n      }],\n    ]\n  },\n\n  getInitialState() {\n    var dimensions = this.dimensions()\n    var firstDimensionName = dimensions && dimensions[0] && dimensions[0][1]\n    var expandDetails = this.details().reduce((reduced, [field]) => {\n      reduced[field] = false\n      return reduced\n    }, {})\n    expandDetails['dimension'] = !!firstDimensionName\n\n    return {\n      expandDetailsMatrix: expandDetails,\n      dimensionGraphicName: firstDimensionName,\n    }\n  },\n\n  render() {\n    var {art, highlights} = this.props\n    var skip = this.props.skipFields ? this.props.skipFields.split(' ') : []\n    var details = this.details()\n    .filter(([field]) => skip.indexOf(field) < 0)\n    .map(field => this.build(...field))\n    .filter(detail => !!detail)\n\n    return <dl className='artwork-detail'>\n      {details}\n    </dl>\n  },\n\n  dimensions() {\n    var {dimension} = this.props.art\n    if(!dimension) return []\n    // var dimension = this.props.highlights ? this.props.highlights.dimension : this.props.art\n    return dimension.split(\"\\r\\n\")\n    .filter(string => string.match(/[x\\|×].*cm/))\n    .map(string => {\n      var aspect = string.match(/cm\\)\\s\\(*([^\\(]+)\\)$/)\n\n      return [string, aspect ? aspect[1].replace(/[^a-zA-z]+/g, '-').replace(/^-|-$/, '') : 'dimensions']\n    })\n  },\n\n  toggleDimensionGraphic(aspect) {\n    this.setState({dimensionGraphicName: aspect})\n  },\n\n  dimensionSvgLoaded() {\n    if(this.state.heightAdjusted) return\n    this.setState({heightAdjusted: true})\n    var domNode = ReactDOM.findDOMNode(this)\n    this.context.onHeightChange && this.context.onHeightChange(domNode.parentElement.parentElement.parentElement.parentElement.clientHeight)\n  },\n})\nArtworkDetails.contextTypes = {\n  onHeightChange: React.PropTypes.func,\n}\n\nmodule.exports = ArtworkDetails\n"
      ]
    },
    "mtime": 1488248774574
  },
  "{\"filename\":\"/var/www/art/src/email-data-sender.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar EmailDataSender = function EmailDataSender(address, text, subject, body) {\n  address = address || 'collectionsdata@artsmia.org';\n  return '<a href=\"mailto:' + address + '?subject=' + subject + '&body=%0A%0A---%0A' + body + '\">' + (text || address) + '</a>';\n};\n\nmodule.exports = EmailDataSender;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZW1haWwtZGF0YS1zZW5kZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLGVBQWUsR0FBRyxTQUFsQixlQUFlLENBQUksT0FBTyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFLO0FBQ3RELFNBQU8sR0FBRyxPQUFPLElBQUksNkJBQTZCLENBQUE7QUFDbEQsOEJBQTBCLE9BQU8saUJBQVksT0FBTywwQkFBcUIsSUFBSSxXQUFLLElBQUksSUFBSSxPQUFPLENBQUEsVUFBTTtDQUN4RyxDQUFBOztBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUcsZUFBZSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvZW1haWwtZGF0YS1zZW5kZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgRW1haWxEYXRhU2VuZGVyID0gKGFkZHJlc3MsIHRleHQsIHN1YmplY3QsIGJvZHkpID0+IHtcbiAgYWRkcmVzcyA9IGFkZHJlc3MgfHwgJ2NvbGxlY3Rpb25zZGF0YUBhcnRzbWlhLm9yZydcbiAgcmV0dXJuIGA8YSBocmVmPVwibWFpbHRvOiR7YWRkcmVzc30/c3ViamVjdD0ke3N1YmplY3R9JmJvZHk9JTBBJTBBLS0tJTBBJHtib2R5fVwiPiR7dGV4dCB8fCBhZGRyZXNzfTwvYT5gXG59XG5cbm1vZHVsZS5leHBvcnRzID0gRW1haWxEYXRhU2VuZGVyXG5cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/email-data-sender.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,eAAe,GAAG,SAAlB,eAAe,CAAI,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAK;AACtD,SAAO,GAAG,OAAO,IAAI,6BAA6B,CAAA;AAClD,8BAA0B,OAAO,iBAAY,OAAO,0BAAqB,IAAI,WAAK,IAAI,IAAI,OAAO,CAAA,UAAM;CACxG,CAAA;;AAED,MAAM,CAAC,OAAO,GAAG,eAAe,CAAA",
      "file": "/var/www/art/src/email-data-sender.js",
      "sourcesContent": [
        "var EmailDataSender = (address, text, subject, body) => {\n  address = address || 'collectionsdata@artsmia.org'\n  return `<a href=\"mailto:${address}?subject=${subject}&body=%0A%0A---%0A${body}\">${text || address}</a>`\n}\n\nmodule.exports = EmailDataSender\n\n"
      ]
    },
    "mtime": 1485807805246
  },
  "{\"filename\":\"/var/www/art/src/bottom-sticky.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "object-without-properties",
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\nvar Sticky = require('react-sticky');\n\n// A fixed box that's 'synthetically' scrolled along with the rest of the\n// viewport by adjusting the position `top` to 'pull the content up' the\n// screen.\nvar BottomSticky = React.createClass({\n  displayName: 'BottomSticky',\n\n  render: function render() {\n    var _props = this.props;\n    var stickyStyle = _props.stickyStyle;\n\n    var other = _objectWithoutProperties(_props, ['stickyStyle']);\n\n    var style = this.state.style;\n\n    return React.createElement(\n      Sticky,\n      _extends({ stickyStyle: style }, other, { onStickyStateChange: this.stickyChanged }),\n      this.props.children\n    );\n  },\n\n  stickyChanged: function stickyChanged(isSticky) {\n    this.setState({\n      isSticky: isSticky,\n      style: !isSticky ? this.props.stickyStyle : this.state.style,\n      initialScrollY: 0\n    });\n\n    this.getSizeAndScroll();\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      style: this.props.stickyStyle\n    };\n  },\n\n  componentDidMount: function componentDidMount() {\n    this.getSizeAndScroll();\n    window.addEventListener('scroll', this.scrolled);\n    window.addEventListener('peek', this.refresh);\n  },\n\n  componentWillUnmount: function componentWillUnmount() {\n    window.removeEventListener('scroll', this.scrolled);\n    window.removeEventListener('peek', this.refresh);\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    this.refresh(0, true);\n  },\n\n  componentWillUpdate: function componentWillUpdate(nextProps, nextState) {\n    if (this.state.isSticky !== nextState.isSticky) {\n      this.refresh(0);\n    }\n    if (this.state.height !== nextState.height && nextState.height > 0) {\n      // if the height changes, notify Search through this method exposed\n      // on `context` so it can adjust things to ensure smooth, happy\n      // scrolling\n      this.context.onHeightChange(nextState.height);\n    }\n  },\n\n  getSizeAndScroll: function getSizeAndScroll() {\n    var domNode = ReactDOM.findDOMNode(this);\n\n    var state = {\n      height: domNode.clientHeight,\n      initialScrollY: this.state.isSticky && window.scrollY\n    };\n    this.setState(state);\n  },\n\n  scrolled: function scrolled() {\n    this.adjustScroll();\n  },\n\n  adjustScroll: function adjustScroll() {\n    var _state = this.state;\n    var style = _state.style;\n    var initialScrollY = _state.initialScrollY;\n    var height = _state.height;\n    var isSticky = _state.isSticky;\n\n    var currentScrollY = window.scrollY;\n    var amountToScroll = height - window.innerHeight + 200;\n    var scrollAdjustment = Math.max(0, Math.min(amountToScroll, currentScrollY - initialScrollY));\n\n    var top = scrollAdjustment + scrollAdjustment / amountToScroll * 16;\n    style.top = top === 0 ? top : -top;\n    this.setState({ style: style });\n  },\n\n  refresh: function refresh() {\n    var _this = this;\n\n    var delay = arguments.length <= 0 || arguments[0] === undefined ? 300 : arguments[0];\n    var adjustScroll = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\n    this.getSizeAndScroll();\n    adjustScroll && this.scrolled();\n    setTimeout(function () {\n      _this.getSizeAndScroll();\n      adjustScroll && _this.scrolled();\n    }, delay);\n  }\n});\nBottomSticky.contextTypes = {\n  onHeightChange: React.PropTypes.func\n};\n\nmodule.exports = BottomSticky;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYm90dG9tLXN0aWNreS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFBO0FBQ25DLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTs7Ozs7QUFLcEMsSUFBSSxZQUFZLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ25DLFFBQU0sRUFBQSxrQkFBRztpQkFDdUIsSUFBSSxDQUFDLEtBQUs7UUFBbkMsV0FBVyxVQUFYLFdBQVc7O1FBQUssS0FBSzs7UUFDckIsS0FBSyxHQUFJLElBQUksQ0FBQyxLQUFLLENBQW5CLEtBQUs7O0FBRVYsV0FBTztBQUFDLFlBQU07aUJBQUMsV0FBVyxFQUFFLEtBQUssQUFBQyxJQUFLLEtBQUssSUFBRSxtQkFBbUIsRUFBRSxJQUFJLENBQUMsYUFBYSxBQUFDO01BQ25GLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUTtLQUNiLENBQUE7R0FDVjs7QUFFRCxlQUFhLEVBQUEsdUJBQUMsUUFBUSxFQUFFO0FBQ3RCLFFBQUksQ0FBQyxRQUFRLENBQUM7QUFDWixjQUFRLEVBQUUsUUFBUTtBQUNsQixXQUFLLEVBQUUsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLO0FBQzVELG9CQUFjLEVBQUUsQ0FBQztLQUNsQixDQUFDLENBQUE7O0FBRUYsUUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUE7R0FDeEI7O0FBRUQsaUJBQWUsRUFBQSwyQkFBRztBQUNoQixXQUFPO0FBQ0wsV0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVztLQUM5QixDQUFBO0dBQ0Y7O0FBRUQsbUJBQWlCLEVBQUUsNkJBQVc7QUFDNUIsUUFBSSxD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S0FDaEMsRUFBRSxLQUFLLENBQUMsQ0FBQTtHQUNWO0NBQ0YsQ0FBQyxDQUFBO0FBQ0YsWUFBWSxDQUFDLFlBQVksR0FBRztBQUMxQixnQkFBYyxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSTtDQUNyQyxDQUFBOztBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUcsWUFBWSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvYm90dG9tLXN0aWNreS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSZWFjdERPTSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpXG52YXIgU3RpY2t5ID0gcmVxdWlyZSgncmVhY3Qtc3RpY2t5JylcblxuLy8gQSBmaXhlZCBib3ggdGhhdCdzICdzeW50aGV0aWNhbGx5JyBzY3JvbGxlZCBhbG9uZyB3aXRoIHRoZSByZXN0IG9mIHRoZVxuLy8gdmlld3BvcnQgYnkgYWRqdXN0aW5nIHRoZSBwb3NpdGlvbiBgdG9wYCB0byAncHVsbCB0aGUgY29udGVudCB1cCcgdGhlXG4vLyBzY3JlZW4uXG52YXIgQm90dG9tU3RpY2t5ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHtzdGlja3lTdHlsZSwgLi4ub3RoZXJ9ID0gdGhpcy5wcm9wc1xuICAgIHZhciB7c3R5bGV9ID0gdGhpcy5zdGF0ZVxuXG4gICAgcmV0dXJuIDxTdGlja3kgc3RpY2t5U3R5bGU9e3N0eWxlfSB7Li4ub3RoZXJ9IG9uU3RpY2t5U3RhdGVDaGFuZ2U9e3RoaXMuc3RpY2t5Q2hhbmdlZH0+XG4gICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICA8L1N0aWNreT5cbiAgfSxcblxuICBzdGlja3lDaGFuZ2VkKGlzU3RpY2t5KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc1N0aWNreTogaXNTdGlja3ksXG4gICAgICBzdHlsZTogIWlzU3RpY2t5ID8gdGhpcy5wcm9wcy5zdGlja3lTdHlsZSA6IHRoaXMuc3RhdGUuc3R5bGUsXG4gICAgICBpbml0aWFsU2Nyb2xsWTogMCxcbiAgICB9KVxuXG4gICAgdGhpcy5nZXRTaXplQW5kU2Nyb2xsKClcbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0eWxlOiB0aGlzLnByb3BzLnN0aWNreVN0eWxlLFxuICAgIH1cbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5nZXRTaXplQW5kU2Nyb2xsKClcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zY3JvbGxlZClcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncGVlaycsIHRoaXMucmVmcmVzaClcbiAgfSxcblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zY3JvbGxlZClcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncGVlaycsIHRoaXMucmVmcmVzaClcbiAgfSxcblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIHRoaXMucmVmcmVzaCgwLCB0cnVlKVxuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgICBpZih0aGlzLnN0YXRlLmlzU3RpY2t5ICE9PSBuZXh0U3RhdGUuaXNTdGlja3kpIHtcbiAgICAgIHRoaXMucmVmcmVzaCgwKVxuICAgIH1cbiAgICBpZih0aGlzLnN0YXRlLmhlaWdodCAhPT0gbmV4dFN0YXRlLmhlaWdodCAmJiBuZXh0U3RhdGUuaGVpZ2h0ID4gMCkge1xuICAgICAgLy8gaWYgdGhlIGhlaWdodCBjaGFuZ2VzLCBub3RpZnkgU2VhcmNoIHRocm91Z2ggdGhpcyBtZXRob2QgZXhwb3NlZFxuICAgICAgLy8gb24gYGNvbnRleHRgIHNvIGl0IGNhbiBhZGp1c3QgdGhpbmdzIHRvIGVuc3VyZSBzbW9vdGgsIGhhcHB5XG4gICAgICAvLyBzY3JvbGxpbmdcbiAgICAgIHRoaXMuY29udGV4dC5vbkhlaWdodENoYW5nZShuZXh0U3RhdGUuaGVpZ2h0KVxuICAgIH1cbiAgfSxcblxuICBnZXRTaXplQW5kU2Nyb2xsKCkge1xuICAgIHZhciBkb21Ob2RlID0gUmVhY3RET00uZmluZERPTU5vZGUodGhpcylcblxuICAgIHZhciBzdGF0ZSA9IHtcbiAgICAgIGhlaWdodDogZG9tTm9kZS5jbGllbnRIZWlnaHQsXG4gICAgICBpbml0aWFsU2Nyb2xsWTogdGhpcy5zdGF0ZS5pc1N0aWNreSAmJiB3aW5kb3cuc2Nyb2xsWSxcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSlcbiAgfSxcblxuICBzY3JvbGxlZCgpIHtcbiAgICB0aGlzLmFkanVzdFNjcm9sbCgpXG4gIH0sXG5cbiAgYWRqdXN0U2Nyb2xsKCkge1xuICAgIHZhciB7c3R5bGUsIGluaXRpYWxTY3JvbGxZLCBoZWlnaHQsIGlzU3RpY2t5fSA9IHRoaXMuc3RhdGVcbiAgICB2YXIgY3VycmVudFNjcm9sbFkgPSB3aW5kb3cuc2Nyb2xsWVxuICAgIHZhciBhbW91bnRUb1Njcm9sbCA9IGhlaWdodCAtIHdpbmRvdy5pbm5lckhlaWdodCArIDIwMFxuICAgIHZhciBzY3JvbGxBZGp1c3RtZW50ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oYW1vdW50VG9TY3JvbGwsIGN1cnJlbnRTY3JvbGxZIC0gaW5pdGlhbFNjcm9sbFkpKVxuXG4gICAgdmFyIHRvcCA9IHNjcm9sbEFkanVzdG1lbnQrc2Nyb2xsQWRqdXN0bWVudC9hbW91bnRUb1Njcm9sbCoxNlxuICAgIHN0eWxlLnRvcCA9IHRvcCA9PT0gMCA/IHRvcCA6IC10b3BcbiAgICB0aGlzLnNldFN0YXRlKHtzdHlsZTogc3R5bGV9KVxuICB9LFxuXG4gIHJlZnJlc2goZGVsYXk9MzAwLCBhZGp1c3RTY3JvbGw9ZmFsc2UpIHtcbiAgICB0aGlzLmdldFNpemVBbmRTY3JvbGwoKVxuICAgIGFkanVzdFNjcm9sbCAmJiB0aGlzLnNjcm9sbGVkKClcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuZ2V0U2l6ZUFuZFNjcm9sbCgpXG4gICAgICBhZGp1c3RTY3JvbGwgJiYgdGhpcy5zY3JvbGxlZCgpXG4gICAgfSwgZGVsYXkpXG4gIH0sXG59KVxuQm90dG9tU3RpY2t5LmNvbnRleHRUeXBlcyA9IHtcbiAgb25IZWlnaHRDaGFuZ2U6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEJvdHRvbVN0aWNreVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/bottom-sticky.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/bottom-sticky.js",
      "sourcesContent": [
        "var React = require('react')\nvar ReactDOM = require('react-dom')\nvar Sticky = require('react-sticky')\n\n// A fixed box that's 'synthetically' scrolled along with the rest of the\n// viewport by adjusting the position `top` to 'pull the content up' the\n// screen.\nvar BottomSticky = React.createClass({\n  render() {\n    var {stickyStyle, ...other} = this.props\n    var {style} = this.state\n\n    return <Sticky stickyStyle={style} {...other} onStickyStateChange={this.stickyChanged}>\n      {this.props.children}\n    </Sticky>\n  },\n\n  stickyChanged(isSticky) {\n    this.setState({\n      isSticky: isSticky,\n      style: !isSticky ? this.props.stickyStyle : this.state.style,\n      initialScrollY: 0,\n    })\n\n    this.getSizeAndScroll()\n  },\n\n  getInitialState() {\n    return {\n      style: this.props.stickyStyle,\n    }\n  },\n\n  componentDidMount: function() {\n    this.getSizeAndScroll()\n    window.addEventListener('scroll', this.scrolled)\n    window.addEventListener('peek', this.refresh)\n  },\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.scrolled)\n    window.removeEventListener('peek', this.refresh)\n  },\n\n  componentWillReceiveProps(nextProps) {\n    this.refresh(0, true)\n  },\n\n  componentWillUpdate(nextProps, nextState) {\n    if(this.state.isSticky !== nextState.isSticky) {\n      this.refresh(0)\n    }\n    if(this.state.height !== nextState.height && nextState.height > 0) {\n      // if the height changes, notify Search through this method exposed\n      // on `context` so it can adjust things to ensure smooth, happy\n      // scrolling\n      this.context.onHeightChange(nextState.height)\n    }\n  },\n\n  getSizeAndScroll() {\n    var domNode = ReactDOM.findDOMNode(this)\n\n    var state = {\n      height: domNode.clientHeight,\n      initialScrollY: this.state.isSticky && window.scrollY,\n    }\n    this.setState(state)\n  },\n\n  scrolled() {\n    this.adjustScroll()\n  },\n\n  adjustScroll() {\n    var {style, initialScrollY, height, isSticky} = this.state\n    var currentScrollY = window.scrollY\n    var amountToScroll = height - window.innerHeight + 200\n    var scrollAdjustment = Math.max(0, Math.min(amountToScroll, currentScrollY - initialScrollY))\n\n    var top = scrollAdjustment+scrollAdjustment/amountToScroll*16\n    style.top = top === 0 ? top : -top\n    this.setState({style: style})\n  },\n\n  refresh(delay=300, adjustScroll=false) {\n    this.getSizeAndScroll()\n    adjustScroll && this.scrolled()\n    setTimeout(() => {\n      this.getSizeAndScroll()\n      adjustScroll && this.scrolled()\n    }, delay)\n  },\n})\nBottomSticky.contextTypes = {\n  onHeightChange: React.PropTypes.func,\n}\n\nmodule.exports = BottomSticky\n"
      ]
    },
    "mtime": 1488248774578
  },
  "{\"filename\":\"/var/www/art/src/artwork-related.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar rest = require('rest');\nvar cx = require('classnames');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar ga = require('react-ga');\n\nvar Markdown = require('./markdown');\nvar imageCDN = require('./image-cdn');\n\nvar artstoryStampStyle = {\n  backgroundPosition: 'center center',\n  backgroundSize: 'contain'\n};\n\nvar ArtworkRelatedContent = React.createClass({\n  displayName: 'ArtworkRelatedContent',\n\n  render: function render() {\n    var art = this.props.art;\n\n    if (!art) return React.createElement('span', null);\n\n    var links = Object.keys(art).filter(function (key) {\n      return key.match('related:');\n    }).reduce(function (relateds, key) {\n      var linkOrListOfLinks = typeof art[key] == 'string' ? JSON.parse(art[key]) : art[key];\n      Array.isArray(linkOrListOfLinks) ? relateds = relateds.concat(linkOrListOfLinks) : relateds.push(linkOrListOfLinks);\n\n      return relateds;\n    }, []);\n\n    var explore = links.filter(function (link) {\n      return link.type !== \"exhibition\";\n    });\n    var exhibitions = links.filter(function (link) {\n      return link.type == \"exhibition\";\n    });\n    // only show exhibitions tagged `rotation`\n    var significantExhibitions = exhibitions.filter(function (ex) {\n      return ex.rotation;\n    });\n\n    var meat = React.createElement(\n      'div',\n      { className: 'explore' },\n      explore.map(this.build)\n    );\n    var exhibition_wrap = React.createElement(\n      'div',\n      { className: 'exhibition_item' },\n      significantExhibitions.map(this.build)\n    );\n\n    var bones = this.props.skipWrapper ? meat : React.createElement(\n      'div',\n      { id: 'explore', className: 'exploreWrapper' },\n      React.createElement(\n        'h5',\n        { className: 'details-title' },\n        'Explore'\n      ),\n      meat\n    );\n\n    var exhib_bones = React.createElement(\n      'div',\n      { className: 'exhibitionWrapper' },\n      React.createElement(\n        'h5',\n        { className: 'details-title' },\n        'Exhibitions'\n      ),\n      exhibition_wrap\n    );\n\n    return React.createElement(\n      'div',\n      null,\n      explore && explore.length > 0 && bones,\n      significantExhibitions && significantExhibitions.length > 0 && exhib_bones\n    );\n  },\n\n  build: function build(json) {\n    if (!json.id) json.id = this.props.id;\n    var trackRelatedClick = this.trackRelatedContentInteraction.bind(this, json);\n    var template = this.templates[json.type] || this.templates['default'];\n\n    return React.createElement(\n      'div',\n      { onClick: trackRelatedClick, key: json.link || json.title },\n      template.bind(this)(json, this.props.id, this.props.highlights, trackRelatedClick)\n    );\n  },\n\n  trackRelatedContentInteraction: function trackRelatedContentInteraction(json, event) {\n    // track clicks on related content via more.artsmia.org fort objects on G311 and 355\n    var debug = false;\n    if ((debug || window.location.hostname == \"more.artsmia.org\") && ['G311', 'G355'].indexOf(this.props.art.room) > -1) {\n      event.preventDefault();\n\n      ga.outboundLink({\n        category: 'more.artsmia.org related content click',\n        action: 'clicked',\n        label: json.type,\n        value: json.id + ' - ' + json.link\n      }, function () {\n        window.location = json.link;\n      });\n    }\n  },\n\n  templates: {\n    audio: function audio(json, id, _, track) {\n      return React.createElement(\n        'div',\n        { className: 'audioClip' },\n        React.createElement('audio', { style: { maxWidth: '100%' }, src: json.link.replace('http:', 'https:'), controls: true, onplay: track }),\n        React.createElement(\n          'a',\n          { href: json.link },\n          'Audio Clip',\n          React.createElement('br', null),\n          React.createElement(\n            'sub',\n            null,\n            'Listen.'\n          )\n        )\n      );\n    },\n    newsflash: function newsflash(json) {\n      return React.createElement(\n        'div',\n        { className: 'newsflash', style: { backgroundImage: 'url(https://newsflash.dx.artsmia.org' + json.image + ')' } },\n        React.createElement(\n          'div',\n          { className: 'overlay' },\n          React.createElement(\n            'a',\n            { href: json.link },\n            json.title,\n            React.createElement('br', null),\n            React.createElement(\n              'sub',\n              null,\n              'Read more.'\n            )\n          ),\n          React.createElement(\n            'i',\n            { className: 'material-icons' },\n            'launch'\n          )\n        )\n      );\n    },\n    artstory: function artstory(json, id, highlight) {\n      return React.createElement(\n        'div',\n        { className: cx(\"artstory\", { \"block-highlight\": highlight && highlight[\"related:artstories\"] }), style: _extends({ backgroundImage: 'url(' + imageCDN(id) + ')' }, artstoryStampStyle) },\n        React.createElement(\n          'div',\n          { className: 'overlay' },\n          React.createElement(\n            'a',\n            { href: json.link },\n            'ArtStories',\n            React.createElement('br', null),\n            React.createElement(\n              'sub',\n              null,\n              'Zoom in.'\n            )\n          ),\n          React.createElement(\n            'i',\n            { className: 'material-icons' },\n            'launch'\n          )\n        )\n      );\n    },\n    \"adopt-a-painting\": function adoptAPainting(json, id, highlights) {\n      var highlight = highlights && highlights[\"related:adopt-a-painting\"];\n      var highlight = highlight ? JSON.parse(highlight[0]) : null;\n      if (!(highlight || window.location && window.location.pathname.match(/related.*adopt/))) return React.createElement('span', null);\n\n      if (json.adopted === \"1\") {\n        return React.createElement(\n          'div',\n          { className: 'adopt-ptg', style: { clear: 'both' } },\n          React.createElement(\n            'h3',\n            null,\n            'This painting has been adopted.'\n          ),\n          React.createElement(\n            'a',\n            { href: '/info/adopt-a-painting' },\n            'Learn more about adopting a painting. ',\n            React.createElement(\n              'i',\n              { className: 'material-icons' },\n              'launch'\n            )\n          ),\n          highlight && React.createElement(\n            'div',\n            null,\n            'It needed adoption because… ',\n            React.createElement(\n              'blockquote',\n              null,\n              React.createElement(\n                Markdown,\n                null,\n                highlight.description\n              )\n            )\n          )\n        );\n      } else {\n        return React.createElement(\n          'div',\n          { className: 'adopt-ptg' },\n          React.createElement(\n            'div',\n            { style: { width: \"100%\" } },\n            React.createElement(\n              'h3',\n              null,\n              'Adopt-a-Painting'\n            ),\n            React.createElement(\n              'p',\n              null,\n              'Cost ',\n              React.createElement(\n                'span',\n                { className: 'cost' },\n                json.cost\n              )\n            ),\n            React.createElement(\n              Markdown,\n              null,\n              highlight ? highlight.description : json.description\n            ),\n            React.createElement(\n              'a',\n              { href: '/info/adopt-a-painting' },\n              'Learn how to adopt this painting. ',\n              React.createElement(\n                'i',\n                { className: 'material-icons' },\n                'launch'\n              )\n            )\n          )\n        );\n      }\n    },\n    'default': function _default(json, id, highlights) {\n      var miaStoryMatches = highlights && highlights['related:stories'] && highlights['related:stories'].filter(function (h) {\n        var h = JSON.parse(h);return json.title == h.title.replace(/<\\/?em>/g, '');\n      });\n      var defaultStyle = { backgroundColor: \"rgb(35,35,35)\" };\n\n      return React.createElement(\n        'div',\n        { className: 'explore-content', style: defaultStyle },\n        React.createElement(\n          'div',\n          { className: cx(\"overlay\", { \"block-highlight\": miaStoryMatches && miaStoryMatches.length > 0 }) },\n          React.createElement(\n            'a',\n            { href: json.link },\n            json.title,\n            React.createElement('br', null),\n            React.createElement(\n              'sub',\n              null,\n              'Explore more.'\n            )\n          ),\n          React.createElement(\n            'i',\n            { className: 'material-icons' },\n            'launch'\n          )\n        )\n      );\n    },\n    \"exhibition\": function exhibition(json, id, highlights) {\n      var otherArtCount = json.objectIds ? json.objectIds.length - 1 : '(x)';\n\n      return React.createElement(\n        'ul',\n        { className: 'exhibitions', style: { clear: \"both\" } },\n        React.createElement(\n          'li',\n          null,\n          React.createElement(\n            'h4',\n            null,\n            React.createElement(\n              Link,\n              { to: 'exhibition', params: { id: json.id } },\n              json.title\n            )\n          ),\n          ' ',\n          json.date\n        )\n      );\n    },\n    \"3d\": function d(json, id) {\n      var style = _extends({\n        backgroundColor: \"rgb(35,35,35)\",\n        backgroundImage: 'url(' + json.thumb + ')'\n      }, artstoryStampStyle);\n\n      return React.createElement(\n        'div',\n        { className: 'explore-content 3d', style: style },\n        React.createElement(\n          'div',\n          { className: 'overlay' },\n          React.createElement(\n            'a',\n            { href: json.link },\n            React.createElement('br', null),\n            '👓',\n            React.createElement(\n              'sub',\n              null,\n              'Explore in 3D'\n            )\n          ),\n          React.createElement(\n            'i',\n            { className: 'material-icons' },\n            'launch'\n          )\n        )\n      );\n    }\n  }\n});\n\nmodule.exports = ArtworkRelatedContent;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYXJ0d29yay1yZWxhdGVkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFBO0FBQzFCLElBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTs7ZUFDakIsT0FBTyxDQUFDLGNBQWMsQ0FBQzs7SUFBL0IsSUFBSSxZQUFKLElBQUk7O0FBQ1QsSUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFBOztBQUU1QixJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7QUFDcEMsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBOztBQUVyQyxJQUFJLGtCQUFrQixHQUFHO0FBQ3ZCLG9CQUFrQixFQUFFLGVBQWU7QUFDbkMsZ0JBQWMsRUFBRSxTQUFTO0NBQzFCLENBQUE7O0FBRUQsSUFBSSxxQkFBcUIsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDNUMsUUFBTSxFQUFBLGtCQUFHO1FBQ0YsR0FBRyxHQUFJLElBQUksQ0FBQyxLQUFLLENBQWpCLEdBQUc7O0FBQ1IsUUFBRyxDQUFDLEdBQUcsRUFBRSxPQUFPLGlDQUFPLENBQUE7O0FBRXZCLFFBQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLFVBQUEsR0FBRzthQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDO0tBQUEsQ0FBQyxDQUNoRSxNQUFNLENBQUMsVUFBQyxRQUFRLEVBQUUsR0FBRyxFQUFLO0FBQ3pCLFVBQUksaUJBQWlCLEdBQUcsQUFBQyxPQUFPLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxRQUFRLEdBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFH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QUN0RDs7WUFBSyxTQUFTLEVBQUMsU0FBUztVQUN0Qjs7Y0FBRyxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksQUFBQztZQUFDLCtCQUFLOztZQUFFOzs7O2FBQXdCO1dBQUk7VUFDdkQ7O2NBQUcsU0FBUyxFQUFDLGdCQUFnQjs7V0FBVztTQUNwQztPQUNGLENBQUE7S0FDUDtHQUNGO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcscUJBQXFCLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9hcnR3b3JrLXJlbGF0ZWQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxudmFyIGN4ID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpXG52YXIge0xpbmt9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciBnYSA9IHJlcXVpcmUoJ3JlYWN0LWdhJylcblxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi9tYXJrZG93bicpXG52YXIgaW1hZ2VDRE4gPSByZXF1aXJlKCcuL2ltYWdlLWNkbicpXG5cbnZhciBhcnRzdG9yeVN0YW1wU3R5bGUgPSB7XG4gIGJhY2tncm91bmRQb3NpdGlvbjogJ2NlbnRlciBjZW50ZXInLFxuICBiYWNrZ3JvdW5kU2l6ZTogJ2NvbnRhaW4nLFxufVxuXG52YXIgQXJ0d29ya1JlbGF0ZWRDb250ZW50ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnR9ID0gdGhpcy5wcm9wc1xuICAgIGlmKCFhcnQpIHJldHVybiA8c3Bhbi8+XG5cbiAgICB2YXIgbGlua3MgPSBPYmplY3Qua2V5cyhhcnQpLmZpbHRlcihrZXkgPT4ga2V5Lm1hdGNoKCdyZWxhdGVkOicpKVxuICAgIC5yZWR1Y2UoKHJlbGF0ZWRzLCBrZXkpID0+IHtcbiAgICAgIHZhciBsaW5rT3JMaXN0T2ZMaW5rcyA9ICh0eXBlb2YgYXJ0W2tleV0gPT0gJ3N0cmluZycpID8gSlNPTi5wYXJzZShhcnRba2V5XSkgOiBhcnRba2V5XVxuICAgICAgQXJyYXkuaXNBcnJheShsaW5rT3JMaXN0T2ZMaW5rcykgP1xuICAgICAgICAgIHJlbGF0ZWRzID0gcmVsYXRlZHMuY29uY2F0KGxpbmtPckxpc3RPZkxpbmtzKSA6XG4gICAgICAgICAgcmVsYXRlZHMucHVzaChsaW5rT3JMaXN0T2ZMaW5rcylcblxuICAgICAgcmV0dXJuIHJlbGF0ZWRzXG4gICAgfSwgW10pXG5cbiAgICB2YXIgZXhwbG9yZSA9IGxpbmtzLmZpbHRlcihsaW5rID0+IGxpbmsudHlwZSAhPT0gXCJleGhpYml0aW9uXCIpXG4gICAgdmFyIGV4aGliaXRpb25zID0gbGlua3MuZmlsdGVyKGxpbmsgPT4gbGluay50eXBlID09IFwiZXhoaWJpdGlvblwiKVxuICAgIC8vIG9ubHkgc2hvdyBleGhpYml0aW9ucyB0YWdnZWQgYHJvdGF0aW9uYFxuICAgIHZhciBzaWduaWZpY2FudEV4aGliaXRpb25zID0gZXhoaWJpdGlvbnMuZmlsdGVyKGV4ID0+IGV4LnJvdGF0aW9uKVxuXG4gICAgdmFyIG1lYXQgPSA8ZGl2IGNsYXNzTmFtZT1cImV4cGxvcmVcIj5cbiAgICAgIHtleHBsb3JlLm1hcCh0aGlzLmJ1aWxkKX1cbiAgICA8L2Rpdj5cbiAgICB2YXIgZXhoaWJpdGlvbl93cmFwID0gPGRpdiBjbGFzc05hbWU9XCJleGhpYml0aW9uX2l0ZW1cIj5cbiAgICAgIHtzaWduaWZpY2FudEV4aGliaXRpb25zLm1hcCh0aGlzLmJ1aWxkKX1cbiAgICA8L2Rpdj5cblxuICAgIHZhciBib25lcyA9IHRoaXMucHJvcHMuc2tpcFdyYXBwZXIgP1xuICAgICAgbWVhdCA6XG4gICAgICA8ZGl2IGlkPVwiZXhwbG9yZVwiIGNsYXNzTmFtZT1cImV4cGxvcmVXcmFwcGVyXCI+XG4gICAgICAgIDxoNSBjbGFzc05hbWU9XCJkZXRhaWxzLXRpdGxlXCI+RXhwbG9yZTwvaDU+XG4gICAgICAgIHttZWF0fVxuICAgICAgPC9kaXY+XG5cbiAgICB2YXIgZXhoaWJfYm9uZXMgPSA8ZGl2IGNsYXNzTmFtZT1cImV4aGliaXRpb25XcmFwcGVyXCI+XG4gICAgICAgIDxoNSBjbGFzc05hbWU9XCJkZXRhaWxzLXRpdGxlXCI+RXhoaWJpdGlvbnM8L2g1PlxuICAgICAgICB7ZXhoaWJpdGlvbl93cmFwfVxuICAgICAgPC9kaXY+XG5cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIHtleHBsb3JlICYmIGV4cGxvcmUubGVuZ3RoID4gMCAmJiBib25lc31cbiAgICAgIHtzaWduaWZpY2FudEV4aGliaXRpb25zICYmIHNpZ25pZmljYW50RXhoaWJpdGlvbnMubGVuZ3RoID4gMCAmJiBleGhpYl9ib25lc31cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBidWlsZChqc29uKSB7XG4gICAgaWYoIWpzb24uaWQpIGpzb24uaWQgPSB0aGlzLnByb3BzLmlkXG4gICAgdmFyIHRyYWNrUmVsYXRlZENsaWNrID0gdGhpcy50cmFja1JlbGF0ZWRDb250ZW50SW50ZXJhY3Rpb24uYmluZCh0aGlzLCBqc29uKVxuICAgIHZhciB0ZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGVzW2pzb24udHlwZV0gfHwgdGhpcy50ZW1wbGF0ZXMuZGVmYXVsdFxuXG4gICAgcmV0dXJuIDxkaXYgb25DbGljaz17dHJhY2tSZWxhdGVkQ2xpY2t9IGtleT17anNvbi5saW5rIHx8IGpzb24udGl0bGV9PlxuICAgICAge3RlbXBsYXRlLmJpbmQodGhpcykoanNvbiwgdGhpcy5wcm9wcy5pZCwgdGhpcy5wcm9wcy5oaWdobGlnaHRzLCB0cmFja1JlbGF0ZWRDbGljayl9XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgdHJhY2tSZWxhdGVkQ29udGVudEludGVyYWN0aW9uKGpzb24sIGV2ZW50KSB7XG4gICAgLy8gdHJhY2sgY2xpY2tzIG9uIHJlbGF0ZWQgY29udGVudCB2aWEgbW9yZS5hcnRzbWlhLm9yZyBmb3J0IG9iamVjdHMgb24gRzMxMSBhbmQgMzU1XG4gICAgdmFyIGRlYnVnID0gZmFsc2VcbiAgICBpZigoZGVidWcgfHwgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09IFwibW9yZS5hcnRzbWlhLm9yZ1wiKSAmJiBbJ0czMTEnLCAnRzM1NSddLmluZGV4T2YodGhpcy5wcm9wcy5hcnQucm9vbSkgPiAtMSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgICBnYS5vdXRib3VuZExpbmsoe1xuICAgICAgICBjYXRlZ29yeTogJ21vcmUuYXJ0c21pYS5vcmcgcmVsYXRlZCBjb250ZW50IGNsaWNrJyxcbiAgICAgICAgYWN0aW9uOiAnY2xpY2tlZCcsXG4gICAgICAgIGxhYmVsOiBqc29uLnR5cGUsXG4gICAgICAgIHZhbHVlOiBgJHtqc29uLmlkfSAtICR7anNvbi5saW5rfWAsXG4gICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uID0ganNvbi5saW5rXG4gICAgICB9KVxuICAgIH1cbiAgfSxcblxuICB0ZW1wbGF0ZXM6IHtcbiAgICBhdWRpbzogKGpzb24sIGlkLCBfLCB0cmFjaykgPT4gPGRpdiBjbGFzc05hbWU9XCJhdWRpb0NsaXBcIj5cbiAgICAgIDxhdWRpbyBzdHlsZT17e21heFdpZHRoOiAnMTAwJSd9fSBzcmM9e2pzb24ubGluay5yZXBsYWNlKCdodHRwOicsICdodHRwczonKX0gY29udHJvbHMgb25wbGF5PXt0cmFja30+PC9hdWRpbz5cbiAgICAgIDxhIGhyZWY9e2pzb24ubGlua30+QXVkaW8gQ2xpcDxici8+PHN1Yj5MaXN0ZW4uPC9zdWI+PC9hPlxuICAgIDwvZGl2PixcbiAgICBuZXdzZmxhc2g6IChqc29uKSA9PiA8ZGl2IGNsYXNzTmFtZT1cIm5ld3NmbGFzaFwiIHN0eWxlPXt7YmFja2dyb3VuZEltYWdlOiBgdXJsKGh0dHBzOi8vbmV3c2ZsYXNoLmR4LmFydHNtaWEub3JnJHtqc29uLmltYWdlfSlgfX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm92ZXJsYXlcIj5cbiAgICAgIDxhIGhyZWY9e2pzb24ubGlua30+e2pzb24udGl0bGV9PGJyLz48c3ViPlJlYWQgbW9yZS48L3N1Yj48L2E+XG4gICAgICA8aSBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uc1wiPmxhdW5jaDwvaT5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PixcbiAgICBhcnRzdG9yeTogKGpzb24sIGlkLCBoaWdobGlnaHQpID0+IDxkaXYgY2xhc3NOYW1lPXtjeChcImFydHN0b3J5XCIsIHtcImJsb2NrLWhpZ2hsaWdodFwiOiBoaWdobGlnaHQgJiYgaGlnaGxpZ2h0W1wicmVsYXRlZDphcnRzdG9yaWVzXCJdfSl9IHN0eWxlPXt7YmFja2dyb3VuZEltYWdlOiBgdXJsKCR7aW1hZ2VDRE4oaWQpfSlgLCAuLi5hcnRzdG9yeVN0YW1wU3R5bGV9fT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3ZlcmxheVwiPlxuICAgICAgICA8YSBocmVmPXtqc29uLmxpbmt9PkFydFN0b3JpZXM8YnIvPjxzdWI+Wm9vbSBpbi48L3N1Yj48L2E+XG4gICAgICAgIDxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zXCI+bGF1bmNoPC9pPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+LFxuICAgIFwiYWRvcHQtYS1wYWludGluZ1wiOiAoanNvbiwgaWQsIGhpZ2hsaWdodHMpID0+IHtcbiAgICAgIHZhciBoaWdobGlnaHQgPSBoaWdobGlnaHRzICYmIGhpZ2hsaWdodHNbXCJyZWxhdGVkOmFkb3B0LWEtcGFpbnRpbmdcIl1cbiAgICAgIHZhciBoaWdobGlnaHQgPSBoaWdobGlnaHQgPyBKU09OLnBhcnNlKGhpZ2hsaWdodFswXSkgOiBudWxsXG4gICAgICBpZighKGhpZ2hsaWdodCB8fCB3aW5kb3cubG9jYXRpb24gJiYgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLm1hdGNoKC9yZWxhdGVkLiphZG9wdC8pKSkgcmV0dXJuIDxzcGFuIC8+XG5cbiAgICAgIGlmKGpzb24uYWRvcHRlZCA9PT0gXCIxXCIpIHtcbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiYWRvcHQtcHRnXCIgc3R5bGU9e3tjbGVhcjonYm90aCd9fT5cbiAgICAgICAgICA8aDM+VGhpcyBwYWludGluZyBoYXMgYmVlbiBhZG9wdGVkLjwvaDM+XG4gICAgICAgICAgPGEgaHJlZj1cIi9pbmZvL2Fkb3B0LWEtcGFpbnRpbmdcIj5MZWFybiBtb3JlIGFib3V0IGFkb3B0aW5nIGEgcGFpbnRpbmcuIDxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zXCI+bGF1bmNoPC9pPjwvYT5cbiAgICAgICAgICB7aGlnaGxpZ2h0ICYmIDxkaXY+SXQgbmVlZGVkIGFkb3B0aW9uIGJlY2F1c2XigKYgPGJsb2NrcXVvdGU+PE1hcmtkb3duPntoaWdobGlnaHQuZGVzY3JpcHRpb259PC9NYXJrZG93bj48L2Jsb2NrcXVvdGU+PC9kaXY+fVxuICAgICAgICA8L2Rpdj5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImFkb3B0LXB0Z1wiPlxuICAgICAgICAgIDxkaXYgc3R5bGU9e3t3aWR0aDogXCIxMDAlXCJ9fT5cbiAgICAgICAgICA8aDM+QWRvcHQtYS1QYWludGluZzwvaDM+XG4gICAgICAgICAgPHA+Q29zdCA8c3BhbiBjbGFzc05hbWU9XCJjb3N0XCI+e2pzb24uY29zdH08L3NwYW4+PC9wPlxuICAgICAgICAgIDxNYXJrZG93bj57aGlnaGxpZ2h0ID8gaGlnaGxpZ2h0LmRlc2NyaXB0aW9uIDoganNvbi5kZXNjcmlwdGlvbn08L01hcmtkb3duPlxuICAgICAgICAgIDxhIGhyZWY9XCIvaW5mby9hZG9wdC1hLXBhaW50aW5nXCI+TGVhcm4gaG93IHRvIGFkb3B0IHRoaXMgcGFpbnRpbmcuIDxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zXCI+bGF1bmNoPC9pPjwvYT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICB9XG4gICAgfSxcbiAgICBkZWZhdWx0OiAoanNvbiwgaWQsIGhpZ2hsaWdodHMpID0+IHtcbiAgICAgIHZhciBtaWFTdG9yeU1hdGNoZXMgPSBoaWdobGlnaHRzICYmIGhpZ2hsaWdodHNbJ3JlbGF0ZWQ6c3RvcmllcyddICYmIGhpZ2hsaWdodHNbJ3JlbGF0ZWQ6c3RvcmllcyddLmZpbHRlcihoID0+IHsgdmFyIGggPSBKU09OLnBhcnNlKGgpOyByZXR1cm4ganNvbi50aXRsZSA9PSBoLnRpdGxlLnJlcGxhY2UoLzxcXC8/ZW0+L2csICcnKSB9KVxuICAgICAgdmFyIGRlZmF1bHRTdHlsZSA9IHtiYWNrZ3JvdW5kQ29sb3I6IFwicmdiKDM1LDM1LDM1KVwifVxuXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJleHBsb3JlLWNvbnRlbnRcIiBzdHlsZT17ZGVmYXVsdFN0eWxlfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2N4KFwib3ZlcmxheVwiLCB7XCJibG9jay1oaWdobGlnaHRcIjogbWlhU3RvcnlNYXRjaGVzICYmIG1pYVN0b3J5TWF0Y2hlcy5sZW5ndGggPiAwfSl9PlxuICAgICAgICAgIDxhIGhyZWY9e2pzb24ubGlua30+e2pzb24udGl0bGV9PGJyLz48c3ViPkV4cGxvcmUgbW9yZS48L3N1Yj48L2E+XG4gICAgICAgICAgPGkgY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbnNcIj5sYXVuY2g8L2k+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgfSxcbiAgICBcImV4aGliaXRpb25cIjogKGpzb24sIGlkLCBoaWdobGlnaHRzKSA9PiB7XG4gICAgICB2YXIgb3RoZXJBcnRDb3VudCA9IGpzb24ub2JqZWN0SWRzID8ganNvbi5vYmplY3RJZHMubGVuZ3RoLTEgOiAnKHgpJ1xuXG4gICAgICByZXR1cm4gPHVsIGNsYXNzTmFtZT1cImV4aGliaXRpb25zXCIgc3R5bGU9e3tjbGVhcjogXCJib3RoXCJ9fT5cbiAgICAgICAgPGxpPjxoND48TGluayB0bz1cImV4aGliaXRpb25cIiBwYXJhbXM9e3tpZDoganNvbi5pZH19Pntqc29uLnRpdGxlfTwvTGluaz48L2g0PiB7anNvbi5kYXRlfTwvbGk+XG4gICAgICA8L3VsPlxuICAgIH0sXG4gICAgXCIzZFwiOiAoanNvbiwgaWQpID0+IHtcbiAgICAgIHZhciBzdHlsZSA9IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInJnYigzNSwzNSwzNSlcIixcbiAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7anNvbi50aHVtYn0pYCxcbiAgICAgICAgLi4uYXJ0c3RvcnlTdGFtcFN0eWxlXG4gICAgICB9XG5cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImV4cGxvcmUtY29udGVudCAzZFwiIHN0eWxlPXtzdHlsZX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3ZlcmxheVwiPlxuICAgICAgICAgIDxhIGhyZWY9e2pzb24ubGlua30+PGJyLz7wn5GTPHN1Yj5FeHBsb3JlIGluIDNEPC9zdWI+PC9hPlxuICAgICAgICAgIDxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zXCI+bGF1bmNoPC9pPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIH1cbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gQXJ0d29ya1JlbGF0ZWRDb250ZW50XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/artwork-related.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/artwork-related.js",
      "sourcesContent": [
        "var React = require('react')\nvar rest = require('rest')\nvar cx = require('classnames')\nvar {Link} = require('react-router')\nvar ga = require('react-ga')\n\nvar Markdown = require('./markdown')\nvar imageCDN = require('./image-cdn')\n\nvar artstoryStampStyle = {\n  backgroundPosition: 'center center',\n  backgroundSize: 'contain',\n}\n\nvar ArtworkRelatedContent = React.createClass({\n  render() {\n    var {art} = this.props\n    if(!art) return <span/>\n\n    var links = Object.keys(art).filter(key => key.match('related:'))\n    .reduce((relateds, key) => {\n      var linkOrListOfLinks = (typeof art[key] == 'string') ? JSON.parse(art[key]) : art[key]\n      Array.isArray(linkOrListOfLinks) ?\n          relateds = relateds.concat(linkOrListOfLinks) :\n          relateds.push(linkOrListOfLinks)\n\n      return relateds\n    }, [])\n\n    var explore = links.filter(link => link.type !== \"exhibition\")\n    var exhibitions = links.filter(link => link.type == \"exhibition\")\n    // only show exhibitions tagged `rotation`\n    var significantExhibitions = exhibitions.filter(ex => ex.rotation)\n\n    var meat = <div className=\"explore\">\n      {explore.map(this.build)}\n    </div>\n    var exhibition_wrap = <div className=\"exhibition_item\">\n      {significantExhibitions.map(this.build)}\n    </div>\n\n    var bones = this.props.skipWrapper ?\n      meat :\n      <div id=\"explore\" className=\"exploreWrapper\">\n        <h5 className=\"details-title\">Explore</h5>\n        {meat}\n      </div>\n\n    var exhib_bones = <div className=\"exhibitionWrapper\">\n        <h5 className=\"details-title\">Exhibitions</h5>\n        {exhibition_wrap}\n      </div>\n\n    return <div>\n      {explore && explore.length > 0 && bones}\n      {significantExhibitions && significantExhibitions.length > 0 && exhib_bones}\n    </div>\n  },\n\n  build(json) {\n    if(!json.id) json.id = this.props.id\n    var trackRelatedClick = this.trackRelatedContentInteraction.bind(this, json)\n    var template = this.templates[json.type] || this.templates.default\n\n    return <div onClick={trackRelatedClick} key={json.link || json.title}>\n      {template.bind(this)(json, this.props.id, this.props.highlights, trackRelatedClick)}\n    </div>\n  },\n\n  trackRelatedContentInteraction(json, event) {\n    // track clicks on related content via more.artsmia.org fort objects on G311 and 355\n    var debug = false\n    if((debug || window.location.hostname == \"more.artsmia.org\") && ['G311', 'G355'].indexOf(this.props.art.room) > -1) {\n      event.preventDefault()\n\n      ga.outboundLink({\n        category: 'more.artsmia.org related content click',\n        action: 'clicked',\n        label: json.type,\n        value: `${json.id} - ${json.link}`,\n      }, function() {\n        window.location = json.link\n      })\n    }\n  },\n\n  templates: {\n    audio: (json, id, _, track) => <div className=\"audioClip\">\n      <audio style={{maxWidth: '100%'}} src={json.link.replace('http:', 'https:')} controls onplay={track}></audio>\n      <a href={json.link}>Audio Clip<br/><sub>Listen.</sub></a>\n    </div>,\n    newsflash: (json) => <div className=\"newsflash\" style={{backgroundImage: `url(https://newsflash.dx.artsmia.org${json.image})`}}>\n      <div className=\"overlay\">\n      <a href={json.link}>{json.title}<br/><sub>Read more.</sub></a>\n      <i className=\"material-icons\">launch</i>\n      </div>\n    </div>,\n    artstory: (json, id, highlight) => <div className={cx(\"artstory\", {\"block-highlight\": highlight && highlight[\"related:artstories\"]})} style={{backgroundImage: `url(${imageCDN(id)})`, ...artstoryStampStyle}}>\n      <div className=\"overlay\">\n        <a href={json.link}>ArtStories<br/><sub>Zoom in.</sub></a>\n        <i className=\"material-icons\">launch</i>\n      </div>\n    </div>,\n    \"adopt-a-painting\": (json, id, highlights) => {\n      var highlight = highlights && highlights[\"related:adopt-a-painting\"]\n      var highlight = highlight ? JSON.parse(highlight[0]) : null\n      if(!(highlight || window.location && window.location.pathname.match(/related.*adopt/))) return <span />\n\n      if(json.adopted === \"1\") {\n        return <div className=\"adopt-ptg\" style={{clear:'both'}}>\n          <h3>This painting has been adopted.</h3>\n          <a href=\"/info/adopt-a-painting\">Learn more about adopting a painting. <i className=\"material-icons\">launch</i></a>\n          {highlight && <div>It needed adoption because… <blockquote><Markdown>{highlight.description}</Markdown></blockquote></div>}\n        </div>\n      } else {\n        return <div className=\"adopt-ptg\">\n          <div style={{width: \"100%\"}}>\n          <h3>Adopt-a-Painting</h3>\n          <p>Cost <span className=\"cost\">{json.cost}</span></p>\n          <Markdown>{highlight ? highlight.description : json.description}</Markdown>\n          <a href=\"/info/adopt-a-painting\">Learn how to adopt this painting. <i className=\"material-icons\">launch</i></a>\n          </div>\n        </div>\n      }\n    },\n    default: (json, id, highlights) => {\n      var miaStoryMatches = highlights && highlights['related:stories'] && highlights['related:stories'].filter(h => { var h = JSON.parse(h); return json.title == h.title.replace(/<\\/?em>/g, '') })\n      var defaultStyle = {backgroundColor: \"rgb(35,35,35)\"}\n\n      return <div className=\"explore-content\" style={defaultStyle}>\n        <div className={cx(\"overlay\", {\"block-highlight\": miaStoryMatches && miaStoryMatches.length > 0})}>\n          <a href={json.link}>{json.title}<br/><sub>Explore more.</sub></a>\n          <i className=\"material-icons\">launch</i>\n        </div>\n      </div>\n    },\n    \"exhibition\": (json, id, highlights) => {\n      var otherArtCount = json.objectIds ? json.objectIds.length-1 : '(x)'\n\n      return <ul className=\"exhibitions\" style={{clear: \"both\"}}>\n        <li><h4><Link to=\"exhibition\" params={{id: json.id}}>{json.title}</Link></h4> {json.date}</li>\n      </ul>\n    },\n    \"3d\": (json, id) => {\n      var style = {\n        backgroundColor: \"rgb(35,35,35)\",\n        backgroundImage: `url(${json.thumb})`,\n        ...artstoryStampStyle\n      }\n\n      return <div className=\"explore-content 3d\" style={style}>\n        <div className=\"overlay\">\n          <a href={json.link}><br/>👓<sub>Explore in 3D</sub></a>\n          <i className=\"material-icons\">launch</i>\n        </div>\n      </div>\n    }\n  },\n})\n\nmodule.exports = ArtworkRelatedContent\n"
      ]
    },
    "mtime": 1488248774574
  },
  "{\"filename\":\"/var/www/art/src/search-results/grid.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "object-without-properties",
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\nvar Router = require('react-router');\nvar splitArray = require('split-array');\n\nvar ImageQuilt = require('../image-quilt');\nvar ArtworkImage = require('../artwork-image');\nvar FocusedResult = require('./focused.js');\nvar SearchSummary = require('../search-summary');\n\nvar SearchResultsGrid = React.createClass({\n  displayName: 'SearchResultsGrid',\n\n  mixins: [Router.Navigation],\n\n  componentWillMount: function componentWillMount() {\n    this.cachedQuilts = [];\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    var searchChanged = this.props.search.query != nextProps.search.query || this.props.search.filters != nextProps.search.filters || this.props.hits.slice(0, 10) !== nextProps.hits.slice(0, 10);\n\n    if (searchChanged) {\n      this.cachedQuilts = [];\n    }\n  },\n\n  render: function render() {\n    var _this = this;\n\n    var _props = this.props;\n    var hits = _props.hits;\n    var leftColumnWidth = _props.leftColumnWidth;\n    var focusedResult = _props.focusedResult;\n    var smallViewport = _props.smallViewport;\n    var focusHandler = _props.focusHandler;\n\n    var focusedProps = _objectWithoutProperties(_props, ['hits', 'leftColumnWidth', 'focusedResult', 'smallViewport', 'focusHandler']);\n\n    var targetHeight = hits.length < 20 ? 250 : 150;\n    var quilts = splitArray(hits, 50).map(function (chunkedHits, index) {\n      var chunkedQuilt = _this.cachedQuilts[index] || React.createElement(ImageQuilt, {\n        artworks: chunkedHits,\n        maxRows: 1000,\n        rowHeight: targetHeight,\n        maxRowHeight: 500,\n        onClick: _this.clickResult,\n        key: index,\n        disableHover: true });\n\n      if (chunkedHits.length >= 50) _this.cachedQuilts[index] = chunkedQuilt;\n      return chunkedQuilt;\n    });\n\n    var dividedQuilts = quilts.map(function (quilt, index) {\n      var start = index * 50;\n      var end = (index + 1) * 50;\n      var _key = 'range:' + start + '-' + end;\n      return React.createElement(\n        'div',\n        { id: _key, key: _key },\n        quilt\n      );\n    });\n    var more = this.props.postSearch;\n\n    var stuff = React.createElement(\n      'div',\n      null,\n      dividedQuilts,\n      more\n    );\n\n    if (smallViewport || this.context.universal) {\n      focusedResult = null;\n    }\n\n    if (!focusedResult) leftColumnWidth = '100%';\n\n    var wrappedQuilt = !focusedResult ? stuff : React.createElement(\n      'div',\n      { className: 'leftBar', style: { position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, width: leftColumnWidth } },\n      stuff\n    );\n\n    return React.createElement(\n      'div',\n      { style: { position: 'relative', minHeight: this.props.minHeight } },\n      wrappedQuilt,\n      focusedResult && React.createElement(FocusedResult, _extends({ key: focusedResult._source.id, art: focusedResult._source, highlights: focusedResult.highlight }, this.props))\n    );\n  },\n\n  clickResult: function clickResult(art) {\n    art && this.props.focusHandler(art, SearchResultsGrid);\n  }\n});\n\nmodule.exports = SearchResultsGrid;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvc2VhcmNoLXJlc3VsdHMvZ3JpZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0FBQ3BDLElBQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQTs7QUFFdkMsSUFBSSxVQUFVLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUE7QUFDMUMsSUFBSSxZQUFZLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUE7QUFDOUMsSUFBSSxhQUFhLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0FBQzNDLElBQUksYUFBYSxHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFBOztBQUVoRCxJQUFJLGlCQUFpQixHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUN4QyxRQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDOztBQUUzQixvQkFBa0IsRUFBQSw4QkFBRztBQUNuQixRQUFJLENBQUMsWUFBWSxHQUFHLEVBQUUsQ0FBQTtHQUN2Qjs7QUFFRCwyQkFBeUIsRUFBQSxtQ0FBQyxTQUFTLEVBQUU7QUFDbkMsUUFBSSxhQUFhLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxJQUFJLFNBQVMsQ0FBQyxNQUFNLENBQUMsS0FBSyxJQUNoRSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxPQUFPLElBQUksU0FBUyxDQUFDLE1BQU0sQ0FBQyxPQUFPLElBQ3JELElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEtBQUssU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFBOztBQUVq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SUFBSSxDQUFDLEtBQUssRUFBRztLQUM5SSxDQUFBO0dBQ1A7O0FBRUQsYUFBVyxFQUFBLHFCQUFDLEdBQUcsRUFBRTtBQUNmLE9BQUcsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQUUsaUJBQWlCLENBQUMsQ0FBQTtHQUN2RDtDQUNGLENBQUMsQ0FBQTs7QUFFRixNQUFNLENBQUMsT0FBTyxHQUFHLGlCQUFpQixDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvc2VhcmNoLXJlc3VsdHMvZ3JpZC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHNwbGl0QXJyYXkgPSByZXF1aXJlKCdzcGxpdC1hcnJheScpXG5cbnZhciBJbWFnZVF1aWx0ID0gcmVxdWlyZSgnLi4vaW1hZ2UtcXVpbHQnKVxudmFyIEFydHdvcmtJbWFnZSA9IHJlcXVpcmUoJy4uL2FydHdvcmstaW1hZ2UnKVxudmFyIEZvY3VzZWRSZXN1bHQgPSByZXF1aXJlKCcuL2ZvY3VzZWQuanMnKVxudmFyIFNlYXJjaFN1bW1hcnkgPSByZXF1aXJlKCcuLi9zZWFyY2gtc3VtbWFyeScpXG5cbnZhciBTZWFyY2hSZXN1bHRzR3JpZCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgbWl4aW5zOiBbUm91dGVyLk5hdmlnYXRpb25dLFxuXG4gIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICB0aGlzLmNhY2hlZFF1aWx0cyA9IFtdXG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICB2YXIgc2VhcmNoQ2hhbmdlZCA9IHRoaXMucHJvcHMuc2VhcmNoLnF1ZXJ5ICE9IG5leHRQcm9wcy5zZWFyY2gucXVlcnlcbiAgICAgIHx8IHRoaXMucHJvcHMuc2VhcmNoLmZpbHRlcnMgIT0gbmV4dFByb3BzLnNlYXJjaC5maWx0ZXJzXG4gICAgICB8fCB0aGlzLnByb3BzLmhpdHMuc2xpY2UoMCwgMTApICE9PSBuZXh0UHJvcHMuaGl0cy5zbGljZSgwLCAxMClcblxuICAgIGlmKHNlYXJjaENoYW5nZWQpIHtcbiAgICAgIHRoaXMuY2FjaGVkUXVpbHRzID0gW11cbiAgICB9XG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciB7aGl0cywgbGVmdENvbHVtbldpZHRoLCBmb2N1c2VkUmVzdWx0LCBzbWFsbFZpZXdwb3J0LCBmb2N1c0hhbmRsZXIsIC4uLmZvY3VzZWRQcm9wc30gPSB0aGlzLnByb3BzXG4gICAgdmFyIHRhcmdldEhlaWdodCA9IGhpdHMubGVuZ3RoIDwgMjAgPyAyNTAgOiAxNTBcbiAgICB2YXIgcXVpbHRzID0gc3BsaXRBcnJheShoaXRzLCA1MCkubWFwKChjaHVua2VkSGl0cywgaW5kZXgpID0+IHtcbiAgICAgIHZhciBjaHVua2VkUXVpbHQgPSB0aGlzLmNhY2hlZFF1aWx0c1tpbmRleF0gfHwgPEltYWdlUXVpbHRcbiAgICAgICAgYXJ0d29ya3M9e2NodW5rZWRIaXRzfVxuICAgICAgICBtYXhSb3dzPXsxMDAwfVxuICAgICAgICByb3dIZWlnaHQ9e3RhcmdldEhlaWdodH1cbiAgICAgICAgbWF4Um93SGVpZ2h0PXs1MDB9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xpY2tSZXN1bHR9XG4gICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgIGRpc2FibGVIb3Zlcj17dHJ1ZX0gLz5cblxuICAgICAgaWYoY2h1bmtlZEhpdHMubGVuZ3RoID49IDUwKSB0aGlzLmNhY2hlZFF1aWx0c1tpbmRleF0gPSBjaHVua2VkUXVpbHRcbiAgICAgIHJldHVybiBjaHVua2VkUXVpbHRcbiAgICB9KVxuXG4gICAgdmFyIGRpdmlkZWRRdWlsdHMgPSBxdWlsdHMubWFwKChxdWlsdCwgaW5kZXgpID0+IHtcbiAgICAgIHZhciBzdGFydCA9IGluZGV4KjUwXG4gICAgICB2YXIgZW5kID0gKGluZGV4KzEpKjUwXG4gICAgICB2YXIgX2tleSA9IGByYW5nZToke3N0YXJ0fS0ke2VuZH1gXG4gICAgICByZXR1cm4gPGRpdiBpZD17X2tleX0ga2V5PXtfa2V5fT5cbiAgICAgICAge3F1aWx0fVxuICAgICAgPC9kaXY+XG4gICAgfSlcbiAgICB2YXIgbW9yZSA9IHRoaXMucHJvcHMucG9zdFNlYXJjaFxuXG4gICAgdmFyIHN0dWZmID0gPGRpdj5cbiAgICAgIHtkaXZpZGVkUXVpbHRzfVxuICAgICAge21vcmV9XG4gICAgPC9kaXY+XG5cbiAgICBpZihzbWFsbFZpZXdwb3J0IHx8IHRoaXMuY29udGV4dC51bml2ZXJzYWwpIHtcbiAgICAgIGZvY3VzZWRSZXN1bHQgPSBudWxsXG4gICAgfVxuXG4gICAgaWYoIWZvY3VzZWRSZXN1bHQpIGxlZnRDb2x1bW5XaWR0aCA9ICcxMDAlJ1xuXG4gICAgdmFyIHdyYXBwZWRRdWlsdCA9ICFmb2N1c2VkUmVzdWx0ID9cbiAgICAgIHN0dWZmIDpcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGVmdEJhclwiIHN0eWxlPXt7cG9zaXRpb246ICdhYnNvbHV0ZScsIHRvcDogMCwgbGVmdDogMCwgcmlnaHQ6IDAsIGJvdHRvbTogMCwgd2lkdGg6IGxlZnRDb2x1bW5XaWR0aH19PlxuICAgICAgICB7c3R1ZmZ9XG4gICAgICA8L2Rpdj5cblxuICAgIHJldHVybiA8ZGl2IHN0eWxlPXt7cG9zaXRpb246ICdyZWxhdGl2ZScsIG1pbkhlaWdodDogdGhpcy5wcm9wcy5taW5IZWlnaHR9fT5cbiAgICAgIHt3cmFwcGVkUXVpbHR9XG4gICAgICB7Zm9jdXNlZFJlc3VsdCAmJiA8Rm9jdXNlZFJlc3VsdCBrZXk9e2ZvY3VzZWRSZXN1bHQuX3NvdXJjZS5pZH0gYXJ0PXtmb2N1c2VkUmVzdWx0Ll9zb3VyY2V9IGhpZ2hsaWdodHM9e2ZvY3VzZWRSZXN1bHQuaGlnaGxpZ2h0fSB7Li4udGhpcy5wcm9wc30vPn1cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBjbGlja1Jlc3VsdChhcnQpIHtcbiAgICBhcnQgJiYgdGhpcy5wcm9wcy5mb2N1c0hhbmRsZXIoYXJ0LCBTZWFyY2hSZXN1bHRzR3JpZClcbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gU2VhcmNoUmVzdWx0c0dyaWRcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/search-results/grid.js"
      ],
      "names": [],
      "mappings": ";;;;;;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACpC,IAAI,UAAU,GAAG,OAAO,CAAC,aAAa,CAAC,CAAA;;AAEvC,IAAI,UAAU,GAAG,OAAO,CAAC,gBAAgB,CAAC,CAAA;AAC1C,IAAI,YAAY,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAA;AAC9C,IAAI,aAAa,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AAC3C,IAAI,aAAa,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAA;;AAEhD,IAAI,iBAAiB,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACxC,QAAM,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC;;AAE3B,oBAAkB,EAAA,8BAAG;AACnB,QAAI,CAAC,YAAY,GAAG,EAAE,CAAA;GACvB;;AAED,2BAAyB,EAAA,mCAAC,SAAS,EAAE;AACnC,QAAI,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,IAAI,SAAS,CAAC,MAAM,CAAC,KAAK,IAChE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,IAAI,SAAS,CAAC,MAAM,CAAC,OAAO,IACrD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,KAAK,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAA;;AAEjE,QAAG,aAAa,EAAE;AAChB,UAAI,CAAC,YAAY,GAAG,EAAE,CAAA;KACvB;GACF;;AAED,QAAM,EAAA,kBAAG;;;iBACoF,IAAI,CAAC,KAAK;QAAhG,IAAI,UAAJ,IAAI;QAAE,eAAe,UAAf,eAAe;QAAE,aAAa,UAAb,aAAa;QAAE,aAAa,UAAb,aAAa;QAAE,YAAY,UAAZ,YAAY;;QAAK,YAAY;;AACvF,QAAI,YAAY,GAAG,IAAI,CAAC,MAAM,GAAG,EAAE,GAAG,GAAG,GAAG,GAAG,CAAA;AAC/C,QAAI,MAAM,GAAG,UAAU,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,UAAC,WAAW,EAAE,KAAK,EAAK;AAC5D,UAAI,YAAY,GAAG,MAAK,YAAY,CAAC,KAAK,CAAC,IAAI,oBAAC,UAAU;AACxD,gBAAQ,EAAE,WAAW,AAAC;AACtB,eAAO,EAAE,IAAI,AAAC;AACd,iBAAS,EAAE,YAAY,AAAC;AACxB,oBAAY,EAAE,GAAG,AAAC;AAClB,eAAO,EAAE,MAAK,WAAW,AAAC;AAC1B,WAAG,EAAE,KAAK,AAAC;AACX,oBAAY,EAAE,IAAI,AAAC,GAAG,CAAA;;AAExB,UAAG,WAAW,CAAC,MAAM,IAAI,EAAE,EAAE,MAAK,YAAY,CAAC,KAAK,CAAC,GAAG,YAAY,CAAA;AACpE,aAAO,YAAY,CAAA;KACpB,CAAC,CAAA;;AAEF,QAAI,aAAa,GAAG,MAAM,CAAC,GAAG,CAAC,UAAC,KAAK,EAAE,KAAK,EAAK;AAC/C,UAAI,KAAK,GAAG,KAAK,GAAC,EAAE,CAAA;AACpB,UAAI,GAAG,GAAG,CAAC,KAAK,GAAC,CAAC,CAAA,GAAE,EAAE,CAAA;AACtB,UAAI,IAAI,cAAY,KAAK,SAAI,GAAG,AAAE,CAAA;AAClC,aAAO;;UAAK,EAAE,EAAE,IAAI,AAAC,EAAC,GAAG,EAAE,IAAI,AAAC;QAC7B,KAAK;OACF,CAAA;KACP,CAAC,CAAA;AACF,QAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAA;;AAEhC,QAAI,KAAK,GAAG;;;MACT,aAAa;MACb,IAAI;KACD,CAAA;;AAEN,QAAG,aAAa,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;AAC1C,mBAAa,GAAG,IAAI,CAAA;KACrB;;AAED,QAAG,CAAC,aAAa,EAAE,eAAe,GAAG,MAAM,CAAA;;AAE3C,QAAI,YAAY,GAAG,CAAC,aAAa,GAC/B,KAAK,GACL;;QAAK,SAAS,EAAC,SAAS,EAAC,KAAK,EAAE,EAAC,QAAQ,EAAE,UAAU,EAAE,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE,eAAe,EAAC,AAAC;MAClH,KAAK;KACF,CAAA;;AAER,WAAO;;QAAK,KAAK,EAAE,EAAC,QAAQ,EAAE,UAAU,EAAE,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,EAAC,AAAC;MACxE,YAAY;MACZ,aAAa,IAAI,oBAAC,aAAa,aAAC,GAAG,EAAE,aAAa,CAAC,OAAO,CAAC,EAAE,AAAC,EAAC,GAAG,EAAE,aAAa,CAAC,OAAO,AAAC,EAAC,UAAU,EAAE,aAAa,CAAC,SAAS,AAAC,IAAK,IAAI,CAAC,KAAK,EAAG;KAC9I,CAAA;GACP;;AAED,aAAW,EAAA,qBAAC,GAAG,EAAE;AACf,OAAG,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,EAAE,iBAAiB,CAAC,CAAA;GACvD;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,iBAAiB,CAAA",
      "file": "/var/www/art/src/search-results/grid.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar splitArray = require('split-array')\n\nvar ImageQuilt = require('../image-quilt')\nvar ArtworkImage = require('../artwork-image')\nvar FocusedResult = require('./focused.js')\nvar SearchSummary = require('../search-summary')\n\nvar SearchResultsGrid = React.createClass({\n  mixins: [Router.Navigation],\n\n  componentWillMount() {\n    this.cachedQuilts = []\n  },\n\n  componentWillReceiveProps(nextProps) {\n    var searchChanged = this.props.search.query != nextProps.search.query\n      || this.props.search.filters != nextProps.search.filters\n      || this.props.hits.slice(0, 10) !== nextProps.hits.slice(0, 10)\n\n    if(searchChanged) {\n      this.cachedQuilts = []\n    }\n  },\n\n  render() {\n    var {hits, leftColumnWidth, focusedResult, smallViewport, focusHandler, ...focusedProps} = this.props\n    var targetHeight = hits.length < 20 ? 250 : 150\n    var quilts = splitArray(hits, 50).map((chunkedHits, index) => {\n      var chunkedQuilt = this.cachedQuilts[index] || <ImageQuilt\n        artworks={chunkedHits}\n        maxRows={1000}\n        rowHeight={targetHeight}\n        maxRowHeight={500}\n        onClick={this.clickResult}\n        key={index}\n        disableHover={true} />\n\n      if(chunkedHits.length >= 50) this.cachedQuilts[index] = chunkedQuilt\n      return chunkedQuilt\n    })\n\n    var dividedQuilts = quilts.map((quilt, index) => {\n      var start = index*50\n      var end = (index+1)*50\n      var _key = `range:${start}-${end}`\n      return <div id={_key} key={_key}>\n        {quilt}\n      </div>\n    })\n    var more = this.props.postSearch\n\n    var stuff = <div>\n      {dividedQuilts}\n      {more}\n    </div>\n\n    if(smallViewport || this.context.universal) {\n      focusedResult = null\n    }\n\n    if(!focusedResult) leftColumnWidth = '100%'\n\n    var wrappedQuilt = !focusedResult ?\n      stuff :\n      <div className=\"leftBar\" style={{position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, width: leftColumnWidth}}>\n        {stuff}\n      </div>\n\n    return <div style={{position: 'relative', minHeight: this.props.minHeight}}>\n      {wrappedQuilt}\n      {focusedResult && <FocusedResult key={focusedResult._source.id} art={focusedResult._source} highlights={focusedResult.highlight} {...this.props}/>}\n    </div>\n  },\n\n  clickResult(art) {\n    art && this.props.focusHandler(art, SearchResultsGrid)\n  },\n})\n\nmodule.exports = SearchResultsGrid\n"
      ]
    },
    "mtime": 1488248774578
  },
  "{\"filename\":\"/var/www/art/src/suggest.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\nvar Suggest = React.createClass({\n  displayName: 'Suggest',\n\n  render: function render() {\n    var search = this.props.search;\n\n    var suggestions = Array.from(this.getSuggestions()).slice(0, 5);\n\n    if (suggestions.length == 0) return React.createElement('span', { className: 'noSuggestions' });\n\n    var suggestionLinks = suggestions.map(function (name) {\n      return React.createElement(\n        Link,\n        { to: '/search/' + name },\n        name\n      );\n    }).map(function (link, index) {\n      return React.createElement(\n        'span',\n        { key: index },\n        link,\n        index === suggestions.length - 1 || ', '\n      );\n    });\n\n    var style = _extends({ marginBottom: '1em', textAlign: 'center' }, this.props.style);\n\n    return React.createElement(\n      'div',\n      { id: 'suggestions', style: style },\n      React.createElement(\n        'p',\n        null,\n        'Looking for ',\n        suggestionLinks,\n        '?'\n      ),\n      React.createElement(\n        'datalist',\n        { id: 'searchCompletions' },\n        suggestions.map(function (option) {\n          return React.createElement(\n            'option',\n            { key: option },\n            option\n          );\n        })\n      )\n    );\n  },\n\n  getSuggestions: function getSuggestions() {\n    var search = this.props.search;\n\n    var suggest = this.props.completions || search && search.suggest || {};\n\n    var suggestions = Object.keys(suggest).filter(function (key) {\n      return key !== '_shards' && suggest[key].length > 0;\n    }).map(function (key) {\n      return suggest[key][0].options.map(function (suggestion) {\n        return _extends({}, suggestion, { type: key });\n      });\n    }).reduce(function (flattenedArray, options) {\n      return flattenedArray.concat(options);\n    }, [])\n    // re-score title completions to 10%, artist is more important\n    .map(function (option) {\n      return _extends({}, option, { score: option.score / (option.type == 'title_completion' ? 10 : 1) });\n    })\n    // re-score highlight completions\n    .map(function (option) {\n      return _extends({}, option, { score: option.score * (option.type == 'highlight_artist_completion' ? 5000 : 1) });\n    }).sort(function (a, b) {\n      return a.score < b.score;\n    }).map(function (option) {\n      return option ? option.text : null;\n    }).filter(function (text) {\n      return search ? text && text !== search.query : true;\n    });\n\n    return new Set(suggestions);\n  }\n});\n\nmodule.exports = Suggest;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvc3VnZ2VzdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBOztlQUNmLE9BQU8sQ0FBQyxjQUFjLENBQUM7O0lBQS9CLElBQUksWUFBSixJQUFJOztBQUVULElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUM5QixRQUFNLEVBQUEsa0JBQUc7UUFDRixNQUFNLEdBQUksSUFBSSxDQUFDLEtBQUssQ0FBcEIsTUFBTTs7QUFDWCxRQUFJLFdBQVcsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUNsRCxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBOztBQUVaLFFBQUcsV0FBVyxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUUsT0FBTyw4QkFBTSxTQUFTLEVBQUMsZUFBZSxHQUFRLENBQUE7O0FBRTFFLFFBQUksZUFBZSxHQUFHLFdBQVcsQ0FDaEMsR0FBRyxDQUFDLFVBQUEsSUFBSTthQUFJO0FBQUMsWUFBSTtVQUFDLEVBQUUsZUFBYSxJQUFJLEFBQUc7UUFBRSxJQUFJO09BQVE7S0FBQSxDQUFDLENBQ3ZELEdBQUcsQ0FBQyxVQUFDLElBQUksRUFBRSxLQUFLO2FBQUs7O1VBQU0sR0FBRyxFQUFFLEtBQUssQUFBQztRQUFFLElBQUk7UUFBRSxLQUFLLEtBQUssV0FBVyxDQUFDLE1BQU0sR0FBQyxDQUFDLElBQUksSUFBSTtPQUFRO0tBQUEsQ0FBQyxDQUFBOztBQUU5RixRQUFJLEtBQUssY0FBSSxZQUFZLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxRQUFRLElBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQTs7QUFFM0UsV0FBTzs7UUFBSyxFQUFFLEVBQUMsYUFBYSxFQUFDLEtBQUssRUFBRSxLQUFLLEFBQUM7TUFDeEM7Ozs7UUFBZ0IsZUFBZTs7T0FBTTtNQUNyQzs7VUFBVSxFQUFFLEVBQUMsbUJBQW1CO1FBQzdCLFdBQVcsQ0FBQyxHQUFHLENBQUMsVUFBQSxNQUFNO2lCQUFJOztjQUFRLEdBQUcsRUFBRSxNQUFNLEFBQUM7WUFBRSxNQUFNO1dBQVU7U0FBQSxDQUFDO09BQ3pEO0tBQ1AsQ0FBQTtHQUNQOztBQUVELGdCQUFjLEVBQUEsMEJBQUc7UUFDVixNQUFNLEdBQUksSUFBSSxDQUFDLEtBQUssQ0FBcEIsTUFBTTs7QUFDWCxRQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsSUFBSSxNQUFNLElBQUksTUFBTSxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUE7O0FBRXRFLFFBQUksV0FBVyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQ3JDLE1BQU0sQ0FBQyxVQUFBLEdBQUc7YUFBSSxHQUFHLEtBQUssU0FBUyxJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQztLQUFBLENBQUMsQ0FDM0QsR0FBRyxDQUFDLFVBQUEsR0FBRzthQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQUEsVUFBVTs0QkFBUyxVQUFVLElBQUUsSUFBSSxFQUFFLEdBQUc7T0FBRSxDQUFDO0tBQUEsQ0FBQyxDQUNuRixNQUFNLENBQUMsVUFBQyxjQUFjLEVBQUUsT0FBTzthQUFLLGNBQWMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDO0tBQUEsRUFBRSxFQUFFLENBQUM7O0tBRXZFLEdBQUcsQ0FBQyxVQUFBLE1BQU07MEJBQVMsTUFBTSxJQUFFLEtBQUssRUFBRSxNQUFNLENBQUMsS0FBSyxJQUFJLE1BQU0sQ0FBQyxJQUFJLElBQUksa0JBQWtCLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQSxBQUFDO0tBQUUsQ0FBQzs7S0FFaEcsR0FBRyxDQUFDLFVBQUEsTUFBTTswQkFBUyxNQUFNLElBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxLQUFLLElBQUksTUFBTSxDQUFDLElBQUksSUFBSSw2QkFBNkIsR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFBLEFBQUM7S0FBRSxDQUFDLENBQzdHLElBQUksQ0FBQyxVQUFDLENBQUMsRUFBRSxDQUFDO2FBQUssQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsS0FBSztLQUFBLENBQUMsQ0FDakMsR0FBRyxDQUFDLFVBQUEsTUFBTTthQUFJLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxHQUFHLElBQUk7S0FBQSxDQUFDLENBQzFDLE1BQU0sQ0FBQyxVQUFBLElBQUk7YUFBSSxNQUFNLEdBQUksSUFBSSxJQUFJLElBQUksS0FBSyxNQUFNLENBQUMsS0FBSyxHQUFJLElBQUk7S0FBQSxDQUFDLENBQUE7O0FBRWhFLFdBQU8sSUFBSSxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUE7R0FDNUI7Q0FDRixDQUFDLENBQUE7O0FBRUYsTUFBTSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9zdWdnZXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIHtMaW5rfSA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG5cbnZhciBTdWdnZXN0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHtzZWFyY2h9ID0gdGhpcy5wcm9wc1xuICAgIHZhciBzdWdnZXN0aW9ucyA9IEFycmF5LmZyb20odGhpcy5nZXRTdWdnZXN0aW9ucygpKVxuICAgIC5zbGljZSgwLCA1KVxuXG4gICAgaWYoc3VnZ2VzdGlvbnMubGVuZ3RoID09IDApIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJub1N1Z2dlc3Rpb25zXCI+PC9zcGFuPlxuXG4gICAgdmFyIHN1Z2dlc3Rpb25MaW5rcyA9IHN1Z2dlc3Rpb25zXG4gICAgLm1hcChuYW1lID0+IDxMaW5rIHRvPXtgL3NlYXJjaC8ke25hbWV9YH0+e25hbWV9PC9MaW5rPilcbiAgICAubWFwKChsaW5rLCBpbmRleCkgPT4gPHNwYW4ga2V5PXtpbmRleH0+e2xpbmt9e2luZGV4ID09PSBzdWdnZXN0aW9ucy5sZW5ndGgtMSB8fCAnLCAnfTwvc3Bhbj4pXG5cbiAgICB2YXIgc3R5bGUgPSB7bWFyZ2luQm90dG9tOiAnMWVtJywgdGV4dEFsaWduOiAnY2VudGVyJywgLi4udGhpcy5wcm9wcy5zdHlsZX1cblxuICAgIHJldHVybiA8ZGl2IGlkPVwic3VnZ2VzdGlvbnNcIiBzdHlsZT17c3R5bGV9PlxuICAgICAgPHA+TG9va2luZyBmb3Ige3N1Z2dlc3Rpb25MaW5rc30/PC9wPlxuICAgICAgPGRhdGFsaXN0IGlkPVwic2VhcmNoQ29tcGxldGlvbnNcIj5cbiAgICAgICAge3N1Z2dlc3Rpb25zLm1hcChvcHRpb24gPT4gPG9wdGlvbiBrZXk9e29wdGlvbn0+e29wdGlvbn08L29wdGlvbj4pfVxuICAgICAgPC9kYXRhbGlzdD5cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBnZXRTdWdnZXN0aW9ucygpIHtcbiAgICB2YXIge3NlYXJjaH0gPSB0aGlzLnByb3BzXG4gICAgdmFyIHN1Z2dlc3QgPSB0aGlzLnByb3BzLmNvbXBsZXRpb25zIHx8IHNlYXJjaCAmJiBzZWFyY2guc3VnZ2VzdCB8fCB7fVxuXG4gICAgdmFyIHN1Z2dlc3Rpb25zID0gT2JqZWN0LmtleXMoc3VnZ2VzdClcbiAgICAuZmlsdGVyKGtleSA9PiBrZXkgIT09ICdfc2hhcmRzJyAmJiBzdWdnZXN0W2tleV0ubGVuZ3RoID4gMClcbiAgICAubWFwKGtleSA9PiBzdWdnZXN0W2tleV1bMF0ub3B0aW9ucy5tYXAoc3VnZ2VzdGlvbiA9PiAoey4uLnN1Z2dlc3Rpb24sIHR5cGU6IGtleX0pKSlcbiAgICAucmVkdWNlKChmbGF0dGVuZWRBcnJheSwgb3B0aW9ucykgPT4gZmxhdHRlbmVkQXJyYXkuY29uY2F0KG9wdGlvbnMpLCBbXSlcbiAgICAvLyByZS1zY29yZSB0aXRsZSBjb21wbGV0aW9ucyB0byAxMCUsIGFydGlzdCBpcyBtb3JlIGltcG9ydGFudFxuICAgIC5tYXAob3B0aW9uID0+ICh7Li4ub3B0aW9uLCBzY29yZTogb3B0aW9uLnNjb3JlIC8gKG9wdGlvbi50eXBlID09ICd0aXRsZV9jb21wbGV0aW9uJyA/IDEwIDogMSl9KSlcbiAgICAvLyByZS1zY29yZSBoaWdobGlnaHQgY29tcGxldGlvbnNcbiAgICAubWFwKG9wdGlvbiA9PiAoey4uLm9wdGlvbiwgc2NvcmU6IG9wdGlvbi5zY29yZSAqIChvcHRpb24udHlwZSA9PSAnaGlnaGxpZ2h0X2FydGlzdF9jb21wbGV0aW9uJyA/IDUwMDAgOiAxKX0pKVxuICAgIC5zb3J0KChhLCBiKSA9PiBhLnNjb3JlIDwgYi5zY29yZSlcbiAgICAubWFwKG9wdGlvbiA9PiBvcHRpb24gPyBvcHRpb24udGV4dCA6IG51bGwpXG4gICAgLmZpbHRlcih0ZXh0ID0+IHNlYXJjaCA/ICh0ZXh0ICYmIHRleHQgIT09IHNlYXJjaC5xdWVyeSkgOiB0cnVlKVxuXG4gICAgcmV0dXJuIG5ldyBTZXQoc3VnZ2VzdGlvbnMpXG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IFN1Z2dlc3RcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/suggest.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/suggest.js",
      "sourcesContent": [
        "var React = require('react')\nvar {Link} = require('react-router')\n\nvar Suggest = React.createClass({\n  render() {\n    var {search} = this.props\n    var suggestions = Array.from(this.getSuggestions())\n    .slice(0, 5)\n\n    if(suggestions.length == 0) return <span className=\"noSuggestions\"></span>\n\n    var suggestionLinks = suggestions\n    .map(name => <Link to={`/search/${name}`}>{name}</Link>)\n    .map((link, index) => <span key={index}>{link}{index === suggestions.length-1 || ', '}</span>)\n\n    var style = {marginBottom: '1em', textAlign: 'center', ...this.props.style}\n\n    return <div id=\"suggestions\" style={style}>\n      <p>Looking for {suggestionLinks}?</p>\n      <datalist id=\"searchCompletions\">\n        {suggestions.map(option => <option key={option}>{option}</option>)}\n      </datalist>\n    </div>\n  },\n\n  getSuggestions() {\n    var {search} = this.props\n    var suggest = this.props.completions || search && search.suggest || {}\n\n    var suggestions = Object.keys(suggest)\n    .filter(key => key !== '_shards' && suggest[key].length > 0)\n    .map(key => suggest[key][0].options.map(suggestion => ({...suggestion, type: key})))\n    .reduce((flattenedArray, options) => flattenedArray.concat(options), [])\n    // re-score title completions to 10%, artist is more important\n    .map(option => ({...option, score: option.score / (option.type == 'title_completion' ? 10 : 1)}))\n    // re-score highlight completions\n    .map(option => ({...option, score: option.score * (option.type == 'highlight_artist_completion' ? 5000 : 1)}))\n    .sort((a, b) => a.score < b.score)\n    .map(option => option ? option.text : null)\n    .filter(text => search ? (text && text !== search.query) : true)\n\n    return new Set(suggestions)\n  },\n})\n\nmodule.exports = Suggest\n"
      ]
    },
    "mtime": 1456957925207
  },
  "{\"filename\":\"/var/www/art/src/navigation.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\n\nvar _require = require('react-router');\n\nvar Link = _require.Link;\n\n//var {main_nav, quick_links, collections_nav} = require('../data/navigation.json')\n\nvar GlobalNavigation = React.createClass({\n  displayName: 'GlobalNavigation',\n\n  mainnav: [{ navItem: 'Exhibitions', link: 'https://new.artsmia.org/exhibitions' }, { navItem: 'Collection', link: 'httpss://collections.artsmia.org/' }, { navItem: 'Visit', link: 'https://new.artsmia.org/visit/' }, { navItem: 'Discover', link: 'https://new.artsmia.org/discover/' }, { navItem: 'Shop', link: 'https://new.artsmia.org/shop/' }, { navItem: 'Join', link: 'https://new.artsmia.org/join-and-invest/' }, { navItem: 'About', link: 'https://new.artsmia.org/about/' }],\n  quicknav: [{ navItem: 'tickets', link: 'https://artsmia.org/donate' }, { navItem: 'calendar', link: 'https://new.artsmia.org/visit/calendar/' }, { navItem: 'donate', link: 'https://artsmia.org/donate' }],\n  render: function render() {\n    var smallViewport = this.context.smallViewport;\n\n    var smallViewport = window && window.innerWidth <= 780;\n\n    if (smallViewport) {\n      return React.createElement(\n        'div',\n        { className: 'mobile-nav nav_bar', onClick: this.closeNav },\n        React.createElement(\n          'div',\n          { className: 'global_nav' },\n          React.createElement(\n            'ul',\n            { className: 'nav_list' },\n            this.mainnav.map(function (_ref) {\n              var navItem = _ref.navItem;\n              var link = _ref.link;\n\n              return React.createElement(\n                'li',\n                { key: navItem, className: 'nav_item' },\n                navItem == 'Collection' ? React.createElement(\n                  Link,\n                  { to: '/' },\n                  'Collection'\n                ) : React.createElement(\n                  'a',\n                  { href: link },\n                  navItem\n                )\n              );\n            })\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'quick_nav' },\n          React.createElement(\n            'ul',\n            { className: 'nav_list' },\n            this.quicknav.map(function (_ref2) {\n              var navItem = _ref2.navItem;\n              var link = _ref2.link;\n\n              return React.createElement(\n                'li',\n                { key: navItem, className: [navItem, \"button nav_item\"].join(' ') },\n                React.createElement(\n                  'a',\n                  { href: link },\n                  navItem\n                )\n              );\n            })\n          )\n        )\n      );\n    } else {\n      return React.createElement(\n        'div',\n        { className: 'nav_bar', onClick: this.closeNav },\n        React.createElement(\n          'div',\n          { className: 'global_nav' },\n          React.createElement(\n            'ul',\n            { className: 'nav_list' },\n            this.mainnav.map(function (_ref3) {\n              var navItem = _ref3.navItem;\n              var link = _ref3.link;\n\n              return React.createElement(\n                'li',\n                { key: navItem, className: 'nav_item' },\n                navItem == 'Collection' ? React.createElement(\n                  Link,\n                  { to: '/' },\n                  'Collection'\n                ) : React.createElement(\n                  'a',\n                  { href: link },\n                  navItem\n                )\n              );\n            })\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'quick_nav' },\n          React.createElement(\n            'ul',\n            { className: 'nav_list' },\n            this.quicknav.map(function (_ref4) {\n              var navItem = _ref4.navItem;\n              var link = _ref4.link;\n\n              return React.createElement(\n                'li',\n                { key: navItem, className: [navItem, \"button nav_item\"].join(' ') },\n                React.createElement(\n                  'a',\n                  { href: link },\n                  navItem\n                )\n              );\n            })\n          )\n        )\n      );\n    }\n  },\n\n  closeNav: function closeNav() {\n    this.props.closeNav && this.props.closeNav();\n  }\n});\nGlobalNavigation.contextTypes = {\n  smallViewport: React.PropTypes.bool\n};\n\nmodule.exports = GlobalNavigation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvbmF2aWdhdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTs7ZUFDZCxPQUFPLENBQUMsY0FBYyxDQUFDOztJQUEvQixJQUFJLFlBQUosSUFBSTs7OztBQUlWLElBQUksZ0JBQWdCLEdBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ3hDLFNBQU8sRUFBRSxDQUNQLEVBQUMsT0FBTyxFQUFDLGFBQWEsRUFBRSxJQUFJLEVBQUMscUNBQXFDLEVBQUMsRUFDbkUsRUFBQyxPQUFPLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBQyxtQ0FBbUMsRUFBQyxFQUNqRSxFQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFDLGdDQUFnQyxFQUFDLEVBQ3pELEVBQUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUMsbUNBQW1DLEVBQUMsRUFDL0QsRUFBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBQywrQkFBK0IsRUFBQyxFQUN2RCxFQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFDLDBDQUEwQyxFQUFDLEVBQ2xFLEVBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUMsZ0NBQWdDLEVBQUMsQ0FFMUQ7QUFDRCxVQUFRLEVBQUUsQ0FDUixFQUFDLE9BQU8sRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFDLDRCQUE0QixFQUFDLEVBQ3ZELEVBQUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUMseUNBQXlDLEVBQUMsRUFDckUsRUFBQyxPQUFPLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBQyw0QkFBNEIsRUFBQyxDQUN2RDtBQUNELFFBQU0sRUFBQSxrQkFBRztRQUVGLGFBQWEsR0FBSSxJQUFJLENBQUMsT0FBTyxDQUE3QixhQUFhOztBQUNsQixRQUFJLGFBQWEsR0FBRyxNQUFNLElBQUksTUFBTSxDQUFDLFVB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QUE7QUFDRixnQkFBZ0IsQ0FBQyxZQUFZLEdBQUc7QUFDOUIsZUFBYSxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSTtDQUNwQyxDQUFBOztBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUcsZ0JBQWdCLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9uYXZpZ2F0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyICB7TGlua30gPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxuXG4vL3ZhciB7bWFpbl9uYXYsIHF1aWNrX2xpbmtzLCBjb2xsZWN0aW9uc19uYXZ9ID0gcmVxdWlyZSgnLi4vZGF0YS9uYXZpZ2F0aW9uLmpzb24nKVxuXG52YXIgR2xvYmFsTmF2aWdhdGlvbiA9ICBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIG1haW5uYXY6IFtcbiAgICB7bmF2SXRlbTonRXhoaWJpdGlvbnMnLCBsaW5rOidodHRwczovL25ldy5hcnRzbWlhLm9yZy9leGhpYml0aW9ucyd9LFxuICAgIHtuYXZJdGVtOiAnQ29sbGVjdGlvbicsIGxpbms6J2h0dHBzczovL2NvbGxlY3Rpb25zLmFydHNtaWEub3JnLyd9LFxuICAgIHtuYXZJdGVtOiAnVmlzaXQnLCBsaW5rOidodHRwczovL25ldy5hcnRzbWlhLm9yZy92aXNpdC8nfSxcbiAgICB7bmF2SXRlbTogJ0Rpc2NvdmVyJywgbGluazonaHR0cHM6Ly9uZXcuYXJ0c21pYS5vcmcvZGlzY292ZXIvJ30sXG4gICAge25hdkl0ZW06ICdTaG9wJywgbGluazonaHR0cHM6Ly9uZXcuYXJ0c21pYS5vcmcvc2hvcC8nfSxcbiAgICB7bmF2SXRlbTogJ0pvaW4nLCBsaW5rOidodHRwczovL25ldy5hcnRzbWlhLm9yZy9qb2luLWFuZC1pbnZlc3QvJ30sXG4gICAge25hdkl0ZW06ICdBYm91dCcsIGxpbms6J2h0dHBzOi8vbmV3LmFydHNtaWEub3JnL2Fib3V0Lyd9XG5cbiAgXSxcbiAgcXVpY2tuYXY6IFtcbiAgICB7bmF2SXRlbTogJ3RpY2tldHMnLCBsaW5rOidodHRwczovL2FydHNtaWEub3JnL2RvbmF0ZSd9LFxuICAgIHtuYXZJdGVtOiAnY2FsZW5kYXInLCBsaW5rOidodHRwczovL25ldy5hcnRzbWlhLm9yZy92aXNpdC9jYWxlbmRhci8nfSxcbiAgICB7bmF2SXRlbTogJ2RvbmF0ZScsIGxpbms6J2h0dHBzOi8vYXJ0c21pYS5vcmcvZG9uYXRlJ31cbiAgXSxcbiAgcmVuZGVyKCkge1xuXG4gICAgdmFyIHtzbWFsbFZpZXdwb3J0fSA9IHRoaXMuY29udGV4dFxuICAgIHZhciBzbWFsbFZpZXdwb3J0ID0gd2luZG93ICYmIHdpbmRvdy5pbm5lcldpZHRoIDw9IDc4MFxuXG4gICAgICBpZihzbWFsbFZpZXdwb3J0KXtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbW9iaWxlLW5hdiBuYXZfYmFyJyBvbkNsaWNrPXt0aGlzLmNsb3NlTmF2fT5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbG9iYWxfbmF2XCI+XG4gICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJuYXZfbGlzdFwiPlxuICAgICAgICAgICAgICAgIHt0aGlzLm1haW5uYXYubWFwKCh7bmF2SXRlbSwgbGlua30pID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiA8bGkga2V5PXtuYXZJdGVtfSBjbGFzc05hbWU9XCJuYXZfaXRlbVwiPlxuICAgICAgICAgICAgICAgICAgICB7bmF2SXRlbSA9PSAnQ29sbGVjdGlvbicgP1xuICAgICAgICAgICAgICAgICAgICAgIDxMaW5rIHRvPVwiL1wiPkNvbGxlY3Rpb248L0xpbms+IDpcbiAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPXtsaW5rfT57bmF2SXRlbX08L2E+fVxuICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJxdWlja19uYXZcIj5cbiAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cIm5hdl9saXN0XCI+XG4gICAgICAgICAgICAgIHt0aGlzLnF1aWNrbmF2Lm1hcCgoe25hdkl0ZW0sIGxpbmt9KSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gPGxpIGtleT17bmF2SXRlbX0gY2xhc3NOYW1lPXtbbmF2SXRlbSwgXCJidXR0b24gbmF2X2l0ZW1cIl0uam9pbignICcpfT5cbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj17bGlua30+e25hdkl0ZW19PC9hPlxuICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmF2X2JhclwiIG9uQ2xpY2s9e3RoaXMuY2xvc2VOYXZ9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbG9iYWxfbmF2XCI+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJuYXZfbGlzdFwiPlxuICAgICAgICAgIHt0aGlzLm1haW5uYXYubWFwKCh7bmF2SXRlbSwgbGlua30pID0+IHtcbiAgICAgICAgICAgIHJldHVybiA8bGkga2V5PXtuYXZJdGVtfSBjbGFzc05hbWU9XCJuYXZfaXRlbVwiPlxuICAgICAgICAgICAgICB7bmF2SXRlbSA9PSAnQ29sbGVjdGlvbicgP1xuICAgICAgICAgICAgICAgIDxMaW5rIHRvPVwiL1wiPkNvbGxlY3Rpb248L0xpbms+IDpcbiAgICAgICAgICAgICAgICA8YSBocmVmPXtsaW5rfT57bmF2SXRlbX08L2E+fVxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICB9KX1cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJxdWlja19uYXZcIj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cIm5hdl9saXN0XCI+XG4gICAgICAgIHt0aGlzLnF1aWNrbmF2Lm1hcCgoe25hdkl0ZW0sIGxpbmt9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gPGxpIGtleT17bmF2SXRlbX0gY2xhc3NOYW1lPXtbbmF2SXRlbSwgXCJidXR0b24gbmF2X2l0ZW1cIl0uam9pbignICcpfT5cbiAgICAgICAgICAgICAgPGEgaHJlZj17bGlua30+e25hdkl0ZW19PC9hPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICB9KX1cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApfVxufSxcblxuICBjbG9zZU5hdigpIHtcbiAgICB0aGlzLnByb3BzLmNsb3NlTmF2ICYmIHRoaXMucHJvcHMuY2xvc2VOYXYoKVxuICB9XG59KVxuR2xvYmFsTmF2aWdhdGlvbi5jb250ZXh0VHlwZXMgPSB7XG4gIHNtYWxsVmlld3BvcnQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEdsb2JhbE5hdmlnYXRpb25cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/navigation.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/navigation.js",
      "sourcesContent": [
        "var React = require('react')\nvar  {Link} = require('react-router')\n\n//var {main_nav, quick_links, collections_nav} = require('../data/navigation.json')\n\nvar GlobalNavigation =  React.createClass({\n  mainnav: [\n    {navItem:'Exhibitions', link:'https://new.artsmia.org/exhibitions'},\n    {navItem: 'Collection', link:'httpss://collections.artsmia.org/'},\n    {navItem: 'Visit', link:'https://new.artsmia.org/visit/'},\n    {navItem: 'Discover', link:'https://new.artsmia.org/discover/'},\n    {navItem: 'Shop', link:'https://new.artsmia.org/shop/'},\n    {navItem: 'Join', link:'https://new.artsmia.org/join-and-invest/'},\n    {navItem: 'About', link:'https://new.artsmia.org/about/'}\n\n  ],\n  quicknav: [\n    {navItem: 'tickets', link:'https://artsmia.org/donate'},\n    {navItem: 'calendar', link:'https://new.artsmia.org/visit/calendar/'},\n    {navItem: 'donate', link:'https://artsmia.org/donate'}\n  ],\n  render() {\n\n    var {smallViewport} = this.context\n    var smallViewport = window && window.innerWidth <= 780\n\n      if(smallViewport){\n        return (\n          <div className='mobile-nav nav_bar' onClick={this.closeNav}>\n\n            <div className=\"global_nav\">\n              <ul className=\"nav_list\">\n                {this.mainnav.map(({navItem, link}) => {\n                  return <li key={navItem} className=\"nav_item\">\n                    {navItem == 'Collection' ?\n                      <Link to=\"/\">Collection</Link> :\n                      <a href={link}>{navItem}</a>}\n                  </li>\n                })}\n              </ul>\n            </div>\n            <div className=\"quick_nav\">\n              <ul className=\"nav_list\">\n              {this.quicknav.map(({navItem, link}) => {\n                  return <li key={navItem} className={[navItem, \"button nav_item\"].join(' ')}>\n                    <a href={link}>{navItem}</a>\n                  </li>\n                })}\n              </ul>\n            </div>\n          </div>\n        )\n      } else {\n        return (\n          <div className=\"nav_bar\" onClick={this.closeNav}>\n      <div className=\"global_nav\">\n        <ul className=\"nav_list\">\n          {this.mainnav.map(({navItem, link}) => {\n            return <li key={navItem} className=\"nav_item\">\n              {navItem == 'Collection' ?\n                <Link to=\"/\">Collection</Link> :\n                <a href={link}>{navItem}</a>}\n            </li>\n          })}\n        </ul>\n      </div>\n      <div className=\"quick_nav\">\n        <ul className=\"nav_list\">\n        {this.quicknav.map(({navItem, link}) => {\n            return <li key={navItem} className={[navItem, \"button nav_item\"].join(' ')}>\n              <a href={link}>{navItem}</a>\n            </li>\n          })}\n        </ul>\n      </div>\n    </div>\n  )}\n},\n\n  closeNav() {\n    this.props.closeNav && this.props.closeNav()\n  }\n})\nGlobalNavigation.contextTypes = {\n  smallViewport: React.PropTypes.bool,\n}\n\nmodule.exports = GlobalNavigation\n"
      ]
    },
    "mtime": 1488248774578
  },
  "{\"filename\":\"/var/www/art/src/home.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar toSlug = require('speakingurl');\n\nvar SEARCH = require('./endpoints').search;\nvar rest = require('rest');\nvar Search = require('./search');\nvar findDepartment = require('./department-slug');\nvar MapPage = require('./map-page');\n\nvar Home = React.createClass({\n  displayName: 'Home',\n\n  statics: {\n    fetchData: {\n      searchResults: function searchResults(params, query) {\n        var searchUrl = SEARCH + '/highlight:true';\n        return rest(searchUrl).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var smallViewport = this.context.smallViewport;\n\n    var width = window && window.innerWidth;\n    var quiltProps = smallViewport ? { maxRows: 2, maxWorks: 7 } : { maxRows: 3, maxWorks: 30 };\n\n    if (window && window.ondeviceorientation && width > 500 && width < 800) quiltProps.maxRows = 1;\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(Search, _extends({\n        hideResults: true,\n        activateInput: true,\n        quiltProps: quiltProps,\n        facet: 'highlight:true',\n        searchAll: true,\n        suggestStyle: { margin: \"1em 3em\" },\n        bumpSearchBox: smallViewport,\n        shuffleQuilt: true\n      }, this.props)),\n      React.createElement(HomeDepartmentsAndPages, null),\n      React.createElement(\n        'div',\n        { id: 'map' },\n        React.createElement(\n          MapPage,\n          { hideList: true },\n          React.createElement(\n            Link,\n            { to: 'map', style: { textAlign: 'center', float: 'right', paddingRight: '1em' } },\n            'All galleries'\n          )\n        )\n      )\n    );\n  }\n});\nHome.contextTypes = {\n  smallViewport: React.PropTypes.bool\n};\n\nmodule.exports = Home;\n\nvar HomeDepartmentsAndPages = React.createClass({\n  displayName: 'HomeDepartmentsAndPages',\n\n  departments: [\"Art of Africa and the Americas\", \"Chinese, South and Southeast Asian Art\", \"Contemporary Art\", \"Decorative Arts, Textiles and Sculpture\", \"Japanese and Korean Art\", \"Paintings\", \"Photography and New Media\", \"Prints and Drawings\"],\n\n  pages: ['Purcell-Cutts House', 'Provenance Research', 'Deaccessions', 'Conservation'],\n\n  render: function render() {\n    return React.createElement(\n      'div',\n      { className: 'landingPageBody' },\n      React.createElement(\n        'div',\n        { className: 'mdl-grid' },\n        React.createElement(\n          'ul',\n          { className: 'info' },\n          React.createElement(\n            'li',\n            { className: 'mdl-cell mdl-cell--4-col' },\n            React.createElement(\n              Link,\n              { to: 'searchResults', params: { terms: 'highlight:true' } },\n              'Highlights'\n            )\n          ),\n          React.createElement(\n            'li',\n            { className: 'mdl-cell mdl-cell--4-col' },\n            React.createElement(\n              Link,\n              { to: 'searchResults', params: { terms: 'recent:true' } },\n              'New to Mia'\n            )\n          ),\n          React.createElement(\n            'li',\n            { className: 'mdl-cell mdl-cell--4-col' },\n            React.createElement(\n              Link,\n              { to: 'explore' },\n              'Explore'\n            )\n          )\n        )\n      ),\n      React.createElement(\n        'div',\n        { className: 'welcome mdl-grid' },\n        React.createElement(\n          'div',\n          { className: 'mdl-cell mdl-cell--9-col' },\n          React.createElement(\n            'p',\n            null,\n            'It is our mission to enrich the community by collecting, preserving, and making accessible outstanding works of art from the world’s diverse cultures. With over 89,000 artworks, Mia’s collection includes art from six continents, spanning about 20,000 years.  Here you will find world-famous artworks that embody the highest levels of artistic achievement and speak to the enduring power of human creativity to shape our world. '\n          )\n        )\n      ),\n      React.createElement(\n        'div',\n        { className: 'departmentList mdl-grid' },\n        React.createElement(\n          'h2',\n          null,\n          'Departments'\n        ),\n        this.departments.map(function (dept) {\n          var name = function name(index) {\n            return findDepartment(dept)[index];\n          };\n          return React.createElement(\n            Link,\n            { to: 'department', key: name(1), params: { dept: name(2) }, className: 'departmentLink mdl-cell mdl-cell--3-col' },\n            React.createElement('div', { className: [name(1), \"departmentListItem\"].join(' ') }),\n            React.createElement(\n              'h2',\n              null,\n              dept\n            )\n          );\n        })\n      ),\n      React.createElement(\n        'div',\n        { className: 'mdl-grid' },\n        React.createElement(\n          'ul',\n          { className: 'info' },\n          this.pages.map(function (name) {\n            return React.createElement(\n              'li',\n              { key: name, className: 'mdl-cell mdl-cell--3-col' },\n              React.createElement(\n                Link,\n                { to: 'page', params: { name: toSlug(name) } },\n                name\n              )\n            );\n          })\n        )\n      )\n    );\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SzttQkFBSSxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDO1dBQUEsQ0FBQTtBQUMvQyxpQkFBTztBQUFDLGdCQUFJO2NBQUMsRUFBRSxFQUFDLFlBQVksRUFBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxBQUFDLEVBQUMsTUFBTSxFQUFFLEVBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBQyxBQUFDLEVBQUMsU0FBUyxFQUFDLHlDQUF5QztZQUNySCw2QkFBSyxTQUFTLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsb0JBQW9CLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEFBQUMsR0FBTztZQUNqRTs7O2NBQUssSUFBSTthQUFNO1dBQ1YsQ0FBQTtTQUNOLENBQ0Y7T0FDRztNQUVOOztVQUFLLFNBQVMsRUFBQyxVQUFVO1FBQ3ZCOztZQUFJLFNBQVMsRUFBQyxNQUFNO1VBQ2pCLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFVBQUEsSUFBSSxFQUFJO0FBQ3RCLG1CQUFPOztnQkFBSSxHQUFHLEVBQUUsSUFBSSxBQUFDLEVBQUMsU0FBUyxFQUFDLDBCQUEwQjtjQUN4RDtBQUFDLG9CQUFJO2tCQUFDLEVBQUUsRUFBQyxNQUFNLEVBQUMsTUFBTSxFQUFFLEVBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBQyxBQUFDO2dCQUFFLElBQUk7ZUFBUTthQUN4RCxDQUFBO1dBQ04sQ0FBQztTQUNDO09BQ0Q7S0FDRixDQUFBO0dBQ1A7Q0FDRixDQUFDLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9ob21lLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIge0xpbmt9ID0gUm91dGVyXG5cbnZhciB0b1NsdWcgPSByZXF1aXJlKCdzcGVha2luZ3VybCcpXG5cbnZhciBTRUFSQ0ggPSByZXF1aXJlKCcuL2VuZHBvaW50cycpLnNlYXJjaFxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcbnZhciBTZWFyY2ggPSByZXF1aXJlKCcuL3NlYXJjaCcpXG52YXIgZmluZERlcGFydG1lbnQgPSByZXF1aXJlKCcuL2RlcGFydG1lbnQtc2x1ZycpXG52YXIgTWFwUGFnZSA9IHJlcXVpcmUoJy4vbWFwLXBhZ2UnKVxuXG52YXIgSG9tZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgc3RhdGljczoge1xuICAgIGZldGNoRGF0YToge1xuICAgICAgc2VhcmNoUmVzdWx0czogKHBhcmFtcywgcXVlcnkpID0+IHtcbiAgICAgICAgbGV0IHNlYXJjaFVybCA9IGAke1NFQVJDSH0vaGlnaGxpZ2h0OnRydWVgXG4gICAgICAgIHJldHVybiByZXN0KHNlYXJjaFVybCkudGhlbigocikgPT4gSlNPTi5wYXJzZShyLmVudGl0eSkpXG4gICAgICB9XG4gICAgfSxcbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgbGV0IHtzbWFsbFZpZXdwb3J0fSA9IHRoaXMuY29udGV4dFxuICAgIGxldCB3aWR0aCA9IHdpbmRvdyAmJiB3aW5kb3cuaW5uZXJXaWR0aFxuICAgIGxldCBxdWlsdFByb3BzID0gc21hbGxWaWV3cG9ydCA/XG4gICAgICB7bWF4Um93czogMiwgbWF4V29ya3M6IDd9IDpcbiAgICAgIHttYXhSb3dzOiAzLCBtYXhXb3JrczogMzB9XG5cbiAgICBpZih3aW5kb3cgJiYgd2luZG93Lm9uZGV2aWNlb3JpZW50YXRpb24gJiYgd2lkdGggPiA1MDAgJiYgd2lkdGggPCA4MDApIHF1aWx0UHJvcHMubWF4Um93cyA9IDFcblxuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPFNlYXJjaFxuICAgICAgICBoaWRlUmVzdWx0cz17dHJ1ZX1cbiAgICAgICAgYWN0aXZhdGVJbnB1dD17dHJ1ZX1cbiAgICAgICAgcXVpbHRQcm9wcz17cXVpbHRQcm9wc31cbiAgICAgICAgZmFjZXQ9eydoaWdobGlnaHQ6dHJ1ZSd9XG4gICAgICAgIHNlYXJjaEFsbD17dHJ1ZX1cbiAgICAgICAgc3VnZ2VzdFN0eWxlPXt7bWFyZ2luOiBcIjFlbSAzZW1cIn19XG4gICAgICAgIGJ1bXBTZWFyY2hCb3g9e3NtYWxsVmlld3BvcnR9XG4gICAgICAgIHNodWZmbGVRdWlsdD17dHJ1ZX1cbiAgICAgICAgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICA8SG9tZURlcGFydG1lbnRzQW5kUGFnZXMgLz5cbiAgICAgIDxkaXYgaWQ9XCJtYXBcIj5cbiAgICAgICAgPE1hcFBhZ2UgaGlkZUxpc3Q9e3RydWV9PlxuICAgICAgICAgIDxMaW5rIHRvPVwibWFwXCIgc3R5bGU9e3t0ZXh0QWxpZ246ICdjZW50ZXInLCBmbG9hdDogJ3JpZ2h0JywgcGFkZGluZ1JpZ2h0OiAnMWVtJ319PlxuICAgICAgICAgICAgQWxsIGdhbGxlcmllc1xuICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgPC9NYXBQYWdlPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIH0sXG59KVxuSG9tZS5jb250ZXh0VHlwZXMgPSB7XG4gIHNtYWxsVmlld3BvcnQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEhvbWVcblxudmFyIEhvbWVEZXBhcnRtZW50c0FuZFBhZ2VzID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBkZXBhcnRtZW50czogW1xuICAgIFwiQXJ0IG9mIEFmcmljYSBhbmQgdGhlIEFtZXJpY2FzXCIsXG4gICAgXCJDaGluZXNlLCBTb3V0aCBhbmQgU291dGhlYXN0IEFzaWFuIEFydFwiLFxuICAgIFwiQ29udGVtcG9yYXJ5IEFydFwiLFxuICAgIFwiRGVjb3JhdGl2ZSBBcnRzLCBUZXh0aWxlcyBhbmQgU2N1bHB0dXJlXCIsXG4gICAgXCJKYXBhbmVzZSBhbmQgS29yZWFuIEFydFwiLFxuICAgIFwiUGFpbnRpbmdzXCIsXG4gICAgXCJQaG90b2dyYXBoeSBhbmQgTmV3IE1lZGlhXCIsXG4gICAgXCJQcmludHMgYW5kIERyYXdpbmdzXCIsXG4gIF0sXG5cbiAgcGFnZXM6IFsnUHVyY2VsbC1DdXR0cyBIb3VzZScsICdQcm92ZW5hbmNlIFJlc2VhcmNoJywgJ0RlYWNjZXNzaW9ucycsICdDb25zZXJ2YXRpb24nXSxcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibGFuZGluZ1BhZ2VCb2R5XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1kbC1ncmlkXCI+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJpbmZvXCI+XG4gICAgICAgICAgPGxpIGNsYXNzTmFtZT1cIm1kbC1jZWxsIG1kbC1jZWxsLS00LWNvbFwiPlxuICAgICAgICAgICAgPExpbmsgdG89J3NlYXJjaFJlc3VsdHMnIHBhcmFtcz17e3Rlcm1zOiAnaGlnaGxpZ2h0OnRydWUnfX0+XG4gICAgICAgICAgICAgIEhpZ2hsaWdodHNcbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJtZGwtY2VsbCBtZGwtY2VsbC0tNC1jb2xcIj5cbiAgICAgICAgICAgIDxMaW5rIHRvPVwic2VhcmNoUmVzdWx0c1wiIHBhcmFtcz17e3Rlcm1zOiAncmVjZW50OnRydWUnfX0+XG4gICAgICAgICAgICAgIE5ldyB0byBNaWFcbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJtZGwtY2VsbCBtZGwtY2VsbC0tNC1jb2xcIj5cbiAgICAgICAgICAgIDxMaW5rIHRvPSdleHBsb3JlJz5cbiAgICAgICAgICAgICAgRXhwbG9yZVxuICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2VsY29tZSBtZGwtZ3JpZFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZGwtY2VsbCBtZGwtY2VsbC0tOS1jb2xcIj5cbiAgICAgICAgPHA+SXQgaXMgb3VyIG1pc3Npb24gdG8gZW5yaWNoIHRoZSBjb21tdW5pdHkgYnkgY29sbGVjdGluZywgcHJlc2VydmluZywgYW5kIG1ha2luZyBhY2Nlc3NpYmxlIG91dHN0YW5kaW5nIHdvcmtzIG9mIGFydCBmcm9tIHRoZSB3b3JsZOKAmXMgZGl2ZXJzZSBjdWx0dXJlcy4gV2l0aCBvdmVyIDg5LDAwMCBhcnR3b3JrcywgTWlh4oCZcyBjb2xsZWN0aW9uIGluY2x1ZGVzIGFydCBmcm9tIHNpeCBjb250aW5lbnRzLCBzcGFubmluZyBhYm91dCAyMCwwMDAgeWVhcnMuICBIZXJlIHlvdSB3aWxsIGZpbmQgd29ybGQtZmFtb3VzIGFydHdvcmtzIHRoYXQgZW1ib2R5IHRoZSBoaWdoZXN0IGxldmVscyBvZiBhcnRpc3RpYyBhY2hpZXZlbWVudCBhbmQgc3BlYWsgdG8gdGhlIGVuZHVyaW5nIHBvd2VyIG9mIGh1bWFuIGNyZWF0aXZpdHkgdG8gc2hhcGUgb3VyIHdvcmxkLiA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJkZXBhcnRtZW50TGlzdCBtZGwtZ3JpZFwiPlxuICAgICAgICA8aDI+RGVwYXJ0bWVudHM8L2gyPlxuICAgICAgICB7dGhpcy5kZXBhcnRtZW50cy5tYXAoKGRlcHQpID0+IHtcbiAgICAgICAgICB2YXIgbmFtZSA9IGluZGV4ID0+IGZpbmREZXBhcnRtZW50KGRlcHQpW2luZGV4XVxuICAgICAgICAgIHJldHVybiA8TGluayB0bz0nZGVwYXJ0bWVudCcga2V5PXtuYW1lKDEpfSBwYXJhbXM9e3tkZXB0OiBuYW1lKDIpfX0gY2xhc3NOYW1lPVwiZGVwYXJ0bWVudExpbmsgbWRsLWNlbGwgbWRsLWNlbGwtLTMtY29sXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17W25hbWUoMSksIFwiZGVwYXJ0bWVudExpc3RJdGVtXCJdLmpvaW4oJyAnKX0+PC9kaXY+XG4gICAgICAgICAgICA8aDI+e2RlcHR9PC9oMj5cbiAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgfVxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWRsLWdyaWRcIj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImluZm9cIj5cbiAgICAgICAgICB7dGhpcy5wYWdlcy5tYXAobmFtZSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gPGxpIGtleT17bmFtZX0gY2xhc3NOYW1lPVwibWRsLWNlbGwgbWRsLWNlbGwtLTMtY29sXCI+XG4gICAgICAgICAgICAgIDxMaW5rIHRvPVwicGFnZVwiIHBhcmFtcz17e25hbWU6IHRvU2x1ZyhuYW1lKX19PntuYW1lfTwvTGluaz5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgfSxcbn0pXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/home.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/home.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\n\nvar toSlug = require('speakingurl')\n\nvar SEARCH = require('./endpoints').search\nvar rest = require('rest')\nvar Search = require('./search')\nvar findDepartment = require('./department-slug')\nvar MapPage = require('./map-page')\n\nvar Home = React.createClass({\n  statics: {\n    fetchData: {\n      searchResults: (params, query) => {\n        let searchUrl = `${SEARCH}/highlight:true`\n        return rest(searchUrl).then((r) => JSON.parse(r.entity))\n      }\n    },\n  },\n\n  render() {\n    let {smallViewport} = this.context\n    let width = window && window.innerWidth\n    let quiltProps = smallViewport ?\n      {maxRows: 2, maxWorks: 7} :\n      {maxRows: 3, maxWorks: 30}\n\n    if(window && window.ondeviceorientation && width > 500 && width < 800) quiltProps.maxRows = 1\n\n    return <div>\n      <Search\n        hideResults={true}\n        activateInput={true}\n        quiltProps={quiltProps}\n        facet={'highlight:true'}\n        searchAll={true}\n        suggestStyle={{margin: \"1em 3em\"}}\n        bumpSearchBox={smallViewport}\n        shuffleQuilt={true}\n        {...this.props} />\n      <HomeDepartmentsAndPages />\n      <div id=\"map\">\n        <MapPage hideList={true}>\n          <Link to=\"map\" style={{textAlign: 'center', float: 'right', paddingRight: '1em'}}>\n            All galleries\n          </Link>\n        </MapPage>\n      </div>\n    </div>\n  },\n})\nHome.contextTypes = {\n  smallViewport: React.PropTypes.bool,\n}\n\nmodule.exports = Home\n\nvar HomeDepartmentsAndPages = React.createClass({\n  departments: [\n    \"Art of Africa and the Americas\",\n    \"Chinese, South and Southeast Asian Art\",\n    \"Contemporary Art\",\n    \"Decorative Arts, Textiles and Sculpture\",\n    \"Japanese and Korean Art\",\n    \"Paintings\",\n    \"Photography and New Media\",\n    \"Prints and Drawings\",\n  ],\n\n  pages: ['Purcell-Cutts House', 'Provenance Research', 'Deaccessions', 'Conservation'],\n\n  render() {\n    return <div className=\"landingPageBody\">\n      <div className=\"mdl-grid\">\n        <ul className=\"info\">\n          <li className=\"mdl-cell mdl-cell--4-col\">\n            <Link to='searchResults' params={{terms: 'highlight:true'}}>\n              Highlights\n            </Link>\n          </li>\n          <li className=\"mdl-cell mdl-cell--4-col\">\n            <Link to=\"searchResults\" params={{terms: 'recent:true'}}>\n              New to Mia\n            </Link>\n          </li>\n          <li className=\"mdl-cell mdl-cell--4-col\">\n            <Link to='explore'>\n              Explore\n            </Link>\n          </li>\n        </ul>\n      </div>\n      <div className=\"welcome mdl-grid\">\n      <div className=\"mdl-cell mdl-cell--9-col\">\n        <p>It is our mission to enrich the community by collecting, preserving, and making accessible outstanding works of art from the world’s diverse cultures. With over 89,000 artworks, Mia’s collection includes art from six continents, spanning about 20,000 years.  Here you will find world-famous artworks that embody the highest levels of artistic achievement and speak to the enduring power of human creativity to shape our world. </p>\n      </div>\n      </div>\n      <div className=\"departmentList mdl-grid\">\n        <h2>Departments</h2>\n        {this.departments.map((dept) => {\n          var name = index => findDepartment(dept)[index]\n          return <Link to='department' key={name(1)} params={{dept: name(2)}} className=\"departmentLink mdl-cell mdl-cell--3-col\">\n            <div className={[name(1), \"departmentListItem\"].join(' ')}></div>\n            <h2>{dept}</h2>\n          </Link>\n          }\n        )}\n      </div>\n\n      <div className=\"mdl-grid\">\n        <ul className=\"info\">\n          {this.pages.map(name => {\n            return <li key={name} className=\"mdl-cell mdl-cell--3-col\">\n              <Link to=\"page\" params={{name: toSlug(name)}}>{name}</Link>\n            </li>\n          })}\n        </ul>\n      </div>\n    </div>\n  },\n})\n"
      ]
    },
    "mtime": 1489007701718
  },
  "{\"filename\":\"/var/www/art/src/map-page.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar debounce = require('debounce');\n\nvar galleries = require('../data/galleries.json').galleries;\nvar Map = require('./map');\nvar Peek = require('./peek');\n\nvar MapPage = React.createClass({\n  displayName: 'MapPage',\n\n  render: function render() {\n    var gallery = this.state && this.state.hoveredGallery;\n    var galleryInfo = galleries[gallery];\n\n    var minHeight = this.props.hideList ? '15rem' : '1rem';\n\n    return React.createElement(\n      'div',\n      { style: { position: 'relative' } },\n      React.createElement(\n        'div',\n        { ref: 'mapWrap', style: { backgroundColor: 'rgba(35, 35, 35, 0.8)', paddingBottom: '3em', width: '100%', overflow: 'scroll' } },\n        React.createElement(Map, {\n          startOpen: true,\n          floor: 3,\n          style: { maxWidth: '60em', margin: '0 auto' },\n          onHover: this.handleGalleryHover,\n          onMouseLeave: this.focusLost,\n          onSvgLoad: this.handleSvgLoad\n        }),\n        this.props.children && this.props.children\n      ),\n      React.createElement(\n        'div',\n        { style: { minHeight: minHeight } },\n        gallery && React.createElement(\n          'div',\n          null,\n          React.createElement(\n            'h3',\n            { style: { textAlign: 'center' } },\n            galleryInfo.id,\n            ' — ',\n            galleryInfo.title\n          ),\n          React.createElement(Peek, {\n            key: 'preview-' + gallery, q: 'room:G' + gallery,\n            showSingleResult: true\n          })\n        )\n      ),\n      this.props.hideList || this.listGalleries()\n    );\n  },\n\n  listGalleries: function listGalleries() {\n    var skipGalleries = [111, 112, 113, 114, 267, 268, 269, 270, 271, 272, 273, 274];\n    var gs = Object.keys(galleries).filter(function (g) {\n      return skipGalleries.indexOf(parseInt(g)) < 0;\n    }).map(function (number) {\n      return galleries[number];\n    });\n\n    return React.createElement(\n      'ul',\n      { id: 'map-and-gallery-list', style: { margin: '1em' } },\n      gs.map(function (g) {\n        return React.createElement(GalleryPeek, { key: g.id, g: g, style: { minHeight: '78px' } });\n      })\n    );\n  },\n\n  // Wait a second before 'Peek'ing the hovered gallery\n  handleGalleryHover: function handleGalleryHover(gallery) {\n    clearTimeout(this.debouncedPeek);\n    this.debouncedPeek = setTimeout(this.showGalleryPeek.bind(this, gallery), this.state && this.state.hoveredGallery ? 700 : 0);\n  },\n\n  showGalleryPeek: function showGalleryPeek(gallery) {\n    this.setState({ hoveredGallery: gallery });\n  },\n\n  componentWillUnmount: function componentWillUnmount() {\n    clearTimeout(this.debouncedPeek);\n  },\n\n  focusLost: function focusLost() {\n    clearTimeout(this.debouncedPeek);\n  },\n\n  handleSvgLoad: function handleSvgLoad() {\n    ReactDOM.findDOMNode(this.refs.mapWrap).scrollLeft = 171;\n  }\n});\n\nvar LazyLoad = require('react-lazy-load')['default'];\n\nvar GalleryPeek = React.createClass({\n  displayName: 'GalleryPeek',\n\n  render: function render() {\n    var g = this.props.g;\n    var universal = this.context.universal;\n\n    var link = { to: \"gallery\", params: { gallery: g.id } };\n    var peek = React.createElement(\n      'li',\n      { style: { marginTop: !universal ? '1em' : 0 } },\n      React.createElement(\n        Peek,\n        { q: 'room:G' + g.id, linkProps: link, showIcon: false, showSingleResult: true },\n        React.createElement(\n          'span',\n          null,\n          g.id,\n          ' — ',\n          g.title\n        )\n      )\n    );\n\n    return universal ? peek : React.createElement(\n      'div',\n      { style: this.props.style },\n      React.createElement(\n        LazyLoad,\n        null,\n        peek\n      )\n    );\n  }\n});\nGalleryPeek.contextTypes = {\n  universal: React.PropTypes.bool\n};\n\nmodule.exports = MapPage;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvbWFwLXBhZ2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFBO0FBQ25DLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtJQUMvQixJQUFJLEdBQUksTUFBTSxDQUFkLElBQUk7O0FBQ1QsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFBOztBQUVsQyxJQUFJLFNBQVMsR0FBRyxPQUFPLENBQUMsd0JBQXdCLENBQUMsQ0FBQyxTQUFTLENBQUE7QUFDM0QsSUFBSSxHQUFHLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzFCLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQTs7QUFFNUIsSUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQzlCLFFBQU0sRUFBQSxrQkFBRztBQUNQLFFBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUE7QUFDckQsUUFBSSxXQUFXLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFBOztBQUVwQyxRQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxPQUFPLEdBQUcsTUFBTSxDQUFBOztBQUV0RCxXQUFPOztRQUFLLEtBQUssRUFBRSxFQUFDLFFBQVEsRUFBRSxVQUFVLEVBQUMsQUFBQztNQUN4Qzs7VUFBSyxHQUFHLEVBQUMsU0FBUyxFQUFDLEtBQUssRUFBRSxFQUFDLGVBQWUsRUFBRSx1QkFBdUIsRUFBRSxhQUFhLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBQyxBQUFDO1FBQzVILG9C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S0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJO0NBQ2hDLENBQUE7O0FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9tYXAtcGFnZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSZWFjdERPTSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciB7TGlua30gPSBSb3V0ZXJcbnZhciBkZWJvdW5jZSA9IHJlcXVpcmUoJ2RlYm91bmNlJylcblxudmFyIGdhbGxlcmllcyA9IHJlcXVpcmUoJy4uL2RhdGEvZ2FsbGVyaWVzLmpzb24nKS5nYWxsZXJpZXNcbnZhciBNYXAgPSByZXF1aXJlKCcuL21hcCcpXG52YXIgUGVlayA9IHJlcXVpcmUoJy4vcGVlaycpXG5cbnZhciBNYXBQYWdlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIGdhbGxlcnkgPSB0aGlzLnN0YXRlICYmIHRoaXMuc3RhdGUuaG92ZXJlZEdhbGxlcnlcbiAgICB2YXIgZ2FsbGVyeUluZm8gPSBnYWxsZXJpZXNbZ2FsbGVyeV1cblxuICAgIHZhciBtaW5IZWlnaHQgPSB0aGlzLnByb3BzLmhpZGVMaXN0ID8gJzE1cmVtJyA6ICcxcmVtJ1xuXG4gICAgcmV0dXJuIDxkaXYgc3R5bGU9e3twb3NpdGlvbjogJ3JlbGF0aXZlJ319PlxuICAgICAgPGRpdiByZWY9XCJtYXBXcmFwXCIgc3R5bGU9e3tiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDM1LCAzNSwgMzUsIDAuOCknLCBwYWRkaW5nQm90dG9tOiAnM2VtJywgd2lkdGg6ICcxMDAlJywgb3ZlcmZsb3c6ICdzY3JvbGwnfX0+XG4gICAgICAgIDxNYXBcbiAgICAgICAgICBzdGFydE9wZW49e3RydWV9XG4gICAgICAgICAgZmxvb3I9ezN9XG4gICAgICAgICAgc3R5bGU9e3ttYXhXaWR0aDogJzYwZW0nLCBtYXJnaW46ICcwIGF1dG8nfX1cbiAgICAgICAgICBvbkhvdmVyPXt0aGlzLmhhbmRsZUdhbGxlcnlIb3Zlcn1cbiAgICAgICAgICBvbk1vdXNlTGVhdmU9e3RoaXMuZm9jdXNMb3N0fVxuICAgICAgICAgIG9uU3ZnTG9hZD17dGhpcy5oYW5kbGVTdmdMb2FkfVxuICAgICAgICAvPlxuXG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVuICYmIHRoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBzdHlsZT17e21pbkhlaWdodH19PlxuICAgICAgICB7Z2FsbGVyeSAmJiA8ZGl2PlxuICAgICAgICAgIDxoMyBzdHlsZT17e3RleHRBbGlnbjogJ2NlbnRlcid9fT57Z2FsbGVyeUluZm8uaWR9IOKAlCB7Z2FsbGVyeUluZm8udGl0bGV9PC9oMz5cbiAgICAgICAgICA8UGVla1xuICAgICAgICAgICAga2V5PXtgcHJldmlldy0ke2dhbGxlcnl9YH0gcT17YHJvb206RyR7Z2FsbGVyeX1gfVxuICAgICAgICAgICAgc2hvd1NpbmdsZVJlc3VsdD17dHJ1ZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2Pn1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7dGhpcy5wcm9wcy5oaWRlTGlzdCB8fCB0aGlzLmxpc3RHYWxsZXJpZXMoKX1cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBsaXN0R2FsbGVyaWVzKCkge1xuICAgIHZhciBza2lwR2FsbGVyaWVzID0gWzExMSwgMTEyLCAxMTMsIDExNCwgMjY3LCAyNjgsIDI2OSwgMjcwLCAyNzEsIDI3MiwgMjczLCAyNzRdXG4gICAgdmFyIGdzID0gT2JqZWN0LmtleXMoZ2FsbGVyaWVzKVxuICAgIC5maWx0ZXIoZyA9PiBza2lwR2FsbGVyaWVzLmluZGV4T2YocGFyc2VJbnQoZykpIDwgMClcbiAgICAubWFwKG51bWJlciA9PiBnYWxsZXJpZXNbbnVtYmVyXSlcblxuICAgIHJldHVybiA8dWwgaWQ9XCJtYXAtYW5kLWdhbGxlcnktbGlzdFwiIHN0eWxlPXt7bWFyZ2luOiAnMWVtJ319PlxuICAgICAge2dzLm1hcChnID0+IDxHYWxsZXJ5UGVlayBrZXk9e2cuaWR9IGc9e2d9IHN0eWxlPXt7bWluSGVpZ2h0OiAnNzhweCd9fSAvPil9XG4gICAgPC91bD5cbiAgfSxcblxuICAvLyBXYWl0IGEgc2Vjb25kIGJlZm9yZSAnUGVlaydpbmcgdGhlIGhvdmVyZWQgZ2FsbGVyeVxuICBoYW5kbGVHYWxsZXJ5SG92ZXIoZ2FsbGVyeSkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmRlYm91bmNlZFBlZWspXG4gICAgdGhpcy5kZWJvdW5jZWRQZWVrID0gc2V0VGltZW91dChcbiAgICAgIHRoaXMuc2hvd0dhbGxlcnlQZWVrLmJpbmQodGhpcywgZ2FsbGVyeSksXG4gICAgICB0aGlzLnN0YXRlICYmIHRoaXMuc3RhdGUuaG92ZXJlZEdhbGxlcnkgPyA3MDAgOiAwXG4gICAgKVxuICB9LFxuXG4gIHNob3dHYWxsZXJ5UGVlayhnYWxsZXJ5KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7aG92ZXJlZEdhbGxlcnk6IGdhbGxlcnl9KVxuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmRlYm91bmNlZFBlZWspXG4gIH0sXG5cbiAgZm9jdXNMb3N0KCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmRlYm91bmNlZFBlZWspXG4gIH0sXG5cbiAgaGFuZGxlU3ZnTG9hZCgpIHtcbiAgICBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLnJlZnMubWFwV3JhcCkuc2Nyb2xsTGVmdCA9IDE3MVxuICB9XG59KVxuXG52YXIgTGF6eUxvYWQgPSByZXF1aXJlKCdyZWFjdC1sYXp5LWxvYWQnKS5kZWZhdWx0XG5cbnZhciBHYWxsZXJ5UGVlayA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7Z30gPSB0aGlzLnByb3BzXG4gICAgdmFyIHt1bml2ZXJzYWx9ID0gdGhpcy5jb250ZXh0XG4gICAgdmFyIGxpbmsgPSB7dG86IFwiZ2FsbGVyeVwiLCBwYXJhbXM6IHtnYWxsZXJ5OiBnLmlkfX1cbiAgICB2YXIgcGVlayA9IDxsaSBzdHlsZT17e21hcmdpblRvcDogIXVuaXZlcnNhbCA/ICcxZW0nIDogMH19PlxuICAgICAgPFBlZWsgcT17YHJvb206RyR7Zy5pZH1gfSBsaW5rUHJvcHM9e2xpbmt9IHNob3dJY29uPXtmYWxzZX0gc2hvd1NpbmdsZVJlc3VsdD17dHJ1ZX0+XG4gICAgICAgIDxzcGFuPntnLmlkfSDigJTCoHtnLnRpdGxlfTwvc3Bhbj5cbiAgICAgIDwvUGVlaz5cbiAgICA8L2xpPlxuXG4gICAgcmV0dXJuIHVuaXZlcnNhbCA/XG4gICAgICBwZWVrIDpcbiAgICAgIDxkaXYgc3R5bGU9e3RoaXMucHJvcHMuc3R5bGV9PlxuICAgICAgICA8TGF6eUxvYWQ+e3BlZWt9PC9MYXp5TG9hZD5cbiAgICAgIDwvZGl2PlxuICB9LFxufSlcbkdhbGxlcnlQZWVrLmNvbnRleHRUeXBlcyA9IHtcbiAgdW5pdmVyc2FsOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE1hcFBhZ2VcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/map-page.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,QAAQ,GAAG,OAAO,CAAC,WAAW,CAAC,CAAA;AACnC,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;IAC/B,IAAI,GAAI,MAAM,CAAd,IAAI;;AACT,IAAI,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA;;AAElC,IAAI,SAAS,GAAG,OAAO,CAAC,wBAAwB,CAAC,CAAC,SAAS,CAAA;AAC3D,IAAI,GAAG,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC1B,IAAI,IAAI,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAA;;AAE5B,IAAI,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC9B,QAAM,EAAA,kBAAG;AACP,QAAI,OAAO,GAAG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,cAAc,CAAA;AACrD,QAAI,WAAW,GAAG,SAAS,CAAC,OAAO,CAAC,CAAA;;AAEpC,QAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,OAAO,GAAG,MAAM,CAAA;;AAEtD,WAAO;;QAAK,KAAK,EAAE,EAAC,QAAQ,EAAE,UAAU,EAAC,AAAC;MACxC;;UAAK,GAAG,EAAC,SAAS,EAAC,KAAK,EAAE,EAAC,eAAe,EAAE,uBAAuB,EAAE,aAAa,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAC,AAAC;QAC5H,oBAAC,GAAG;AACF,mBAAS,EAAE,IAAI,AAAC;AAChB,eAAK,EAAE,CAAC,AAAC;AACT,eAAK,EAAE,EAAC,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAC,AAAC;AAC5C,iBAAO,EAAE,IAAI,CAAC,kBAAkB,AAAC;AACjC,sBAAY,EAAE,IAAI,CAAC,SAAS,AAAC;AAC7B,mBAAS,EAAE,IAAI,CAAC,aAAa,AAAC;UAC9B;QAED,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ;OACvC;MAEN;;UAAK,KAAK,EAAE,EAAC,SAAS,EAAT,SAAS,EAAC,AAAC;QACrB,OAAO,IAAI;;;UACV;;cAAI,KAAK,EAAE,EAAC,SAAS,EAAE,QAAQ,EAAC,AAAC;YAAE,WAAW,CAAC,EAAE;;YAAK,WAAW,CAAC,KAAK;WAAM;UAC7E,oBAAC,IAAI;AACH,eAAG,eAAa,OAAO,AAAG,EAAC,CAAC,aAAW,OAAO,AAAG;AACjD,4BAAgB,EAAE,IAAI,AAAC;YACrB;SACA;OACF;MAEL,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,IAAI,CAAC,aAAa,EAAE;KACxC,CAAA;GACP;;AAED,eAAa,EAAA,yBAAG;AACd,QAAI,aAAa,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAA;AAChF,QAAI,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAC9B,MAAM,CAAC,UAAA,CAAC;aAAI,aAAa,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;KAAA,CAAC,CACnD,GAAG,CAAC,UAAA,MAAM;aAAI,SAAS,CAAC,MAAM,CAAC;KAAA,CAAC,CAAA;;AAEjC,WAAO;;QAAI,EAAE,EAAC,sBAAsB,EAAC,KAAK,EAAE,EAAC,MAAM,EAAE,KAAK,EAAC,AAAC;MACzD,EAAE,CAAC,GAAG,CAAC,UAAA,CAAC;eAAI,oBAAC,WAAW,IAAC,GAAG,EAAE,CAAC,CAAC,EAAE,AAAC,EAAC,CAAC,EAAE,CAAC,AAAC,EAAC,KAAK,EAAE,EAAC,SAAS,EAAE,MAAM,EAAC,AAAC,GAAG;OAAA,CAAC;KACvE,CAAA;GACN;;;AAGD,oBAAkB,EAAA,4BAAC,OAAO,EAAE;AAC1B,gBAAY,CAAC,IAAI,CAAC,aAAa,CAAC,CAAA;AAChC,QAAI,CAAC,aAAa,GAAG,UAAU,CAC7B,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,EACxC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,cAAc,GAAG,GAAG,GAAG,CAAC,CAClD,CAAA;GACF;;AAED,iBAAe,EAAA,yBAAC,OAAO,EAAE;AACvB,QAAI,CAAC,QAAQ,CAAC,EAAC,cAAc,EAAE,OAAO,EAAC,CAAC,CAAA;GACzC;;AAED,sBAAoB,EAAA,gCAAG;AACrB,gBAAY,CAAC,IAAI,CAAC,aAAa,CAAC,CAAA;GACjC;;AAED,WAAS,EAAA,qBAAG;AACV,gBAAY,CAAC,IAAI,CAAC,aAAa,CAAC,CAAA;GACjC;;AAED,eAAa,EAAA,yBAAG;AACd,YAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,UAAU,GAAG,GAAG,CAAA;GACzD;CACF,CAAC,CAAA;;AAEF,IAAI,QAAQ,GAAG,OAAO,CAAC,iBAAiB,CAAC,WAAQ,CAAA;;AAEjD,IAAI,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAClC,QAAM,EAAA,kBAAG;QACF,CAAC,GAAI,IAAI,CAAC,KAAK,CAAf,CAAC;QACD,SAAS,GAAI,IAAI,CAAC,OAAO,CAAzB,SAAS;;AACd,QAAI,IAAI,GAAG,EAAC,EAAE,EAAE,SAAS,EAAE,MAAM,EAAE,EAAC,OAAO,EAAE,CAAC,CAAC,EAAE,EAAC,EAAC,CAAA;AACnD,QAAI,IAAI,GAAG;;QAAI,KAAK,EAAE,EAAC,SAAS,EAAE,CAAC,SAAS,GAAG,KAAK,GAAG,CAAC,EAAC,AAAC;MACxD;AAAC,YAAI;UAAC,CAAC,aAAW,CAAC,CAAC,EAAE,AAAG,EAAC,SAAS,EAAE,IAAI,AAAC,EAAC,QAAQ,EAAE,KAAK,AAAC,EAAC,gBAAgB,EAAE,IAAI,AAAC;QACjF;;;UAAO,CAAC,CAAC,EAAE;;UAAK,CAAC,CAAC,KAAK;SAAQ;OAC1B;KACJ,CAAA;;AAEL,WAAO,SAAS,GACd,IAAI,GACJ;;QAAK,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,AAAC;MAC3B;AAAC,gBAAQ;;QAAE,IAAI;OAAY;KACvB,CAAA;GACT;CACF,CAAC,CAAA;AACF,WAAW,CAAC,YAAY,GAAG;AACzB,WAAS,EAAE,KAAK,CAAC,SAAS,CAAC,IAAI;CAChC,CAAA;;AAED,MAAM,CAAC,OAAO,GAAG,OAAO,CAAA",
      "file": "/var/www/art/src/map-page.js",
      "sourcesContent": [
        "var React = require('react')\nvar ReactDOM = require('react-dom')\nvar Router = require('react-router')\nvar {Link} = Router\nvar debounce = require('debounce')\n\nvar galleries = require('../data/galleries.json').galleries\nvar Map = require('./map')\nvar Peek = require('./peek')\n\nvar MapPage = React.createClass({\n  render() {\n    var gallery = this.state && this.state.hoveredGallery\n    var galleryInfo = galleries[gallery]\n\n    var minHeight = this.props.hideList ? '15rem' : '1rem'\n\n    return <div style={{position: 'relative'}}>\n      <div ref=\"mapWrap\" style={{backgroundColor: 'rgba(35, 35, 35, 0.8)', paddingBottom: '3em', width: '100%', overflow: 'scroll'}}>\n        <Map\n          startOpen={true}\n          floor={3}\n          style={{maxWidth: '60em', margin: '0 auto'}}\n          onHover={this.handleGalleryHover}\n          onMouseLeave={this.focusLost}\n          onSvgLoad={this.handleSvgLoad}\n        />\n\n        {this.props.children && this.props.children}\n      </div>\n\n      <div style={{minHeight}}>\n        {gallery && <div>\n          <h3 style={{textAlign: 'center'}}>{galleryInfo.id} — {galleryInfo.title}</h3>\n          <Peek\n            key={`preview-${gallery}`} q={`room:G${gallery}`}\n            showSingleResult={true}\n            />\n        </div>}\n      </div>\n\n      {this.props.hideList || this.listGalleries()}\n    </div>\n  },\n\n  listGalleries() {\n    var skipGalleries = [111, 112, 113, 114, 267, 268, 269, 270, 271, 272, 273, 274]\n    var gs = Object.keys(galleries)\n    .filter(g => skipGalleries.indexOf(parseInt(g)) < 0)\n    .map(number => galleries[number])\n\n    return <ul id=\"map-and-gallery-list\" style={{margin: '1em'}}>\n      {gs.map(g => <GalleryPeek key={g.id} g={g} style={{minHeight: '78px'}} />)}\n    </ul>\n  },\n\n  // Wait a second before 'Peek'ing the hovered gallery\n  handleGalleryHover(gallery) {\n    clearTimeout(this.debouncedPeek)\n    this.debouncedPeek = setTimeout(\n      this.showGalleryPeek.bind(this, gallery),\n      this.state && this.state.hoveredGallery ? 700 : 0\n    )\n  },\n\n  showGalleryPeek(gallery) {\n    this.setState({hoveredGallery: gallery})\n  },\n\n  componentWillUnmount() {\n    clearTimeout(this.debouncedPeek)\n  },\n\n  focusLost() {\n    clearTimeout(this.debouncedPeek)\n  },\n\n  handleSvgLoad() {\n    ReactDOM.findDOMNode(this.refs.mapWrap).scrollLeft = 171\n  }\n})\n\nvar LazyLoad = require('react-lazy-load').default\n\nvar GalleryPeek = React.createClass({\n  render() {\n    var {g} = this.props\n    var {universal} = this.context\n    var link = {to: \"gallery\", params: {gallery: g.id}}\n    var peek = <li style={{marginTop: !universal ? '1em' : 0}}>\n      <Peek q={`room:G${g.id}`} linkProps={link} showIcon={false} showSingleResult={true}>\n        <span>{g.id} — {g.title}</span>\n      </Peek>\n    </li>\n\n    return universal ?\n      peek :\n      <div style={this.props.style}>\n        <LazyLoad>{peek}</LazyLoad>\n      </div>\n  },\n})\nGalleryPeek.contextTypes = {\n  universal: React.PropTypes.bool\n}\n\nmodule.exports = MapPage\n"
      ]
    },
    "mtime": 1488248774578
  },
  "{\"filename\":\"/var/www/art/src/artwork.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar rest = require('rest');\nvar humanizeNumber = require('humanize-number');\nvar Helmet = require('react-helmet');\nvar cx = require('classnames');\n\nvar ArtworkImage = require('./artwork-image');\nvar Markdown = require('./markdown');\nvar ArtworkPreview = require('./artwork-preview');\nvar ArtworkDetails = require('./artwork-details');\nvar _Artwork = require('./_artwork');\nvar Image = require('./image');\nvar imageCDN = require('./image-cdn');\nvar SEARCH = require('./endpoints').search;\nvar ArtworkRelatedContent = require('./artwork-related');\n\nvar Sticky = require('react-sticky');\n\nvar Artwork = React.createClass({\n  displayName: 'Artwork',\n\n  mixins: [Router.State],\n  statics: {\n    fetchData: {\n      artwork: function artwork(params, existingData) {\n        if (existingData && existingData.id && existingData.id == params.id) return Promise.resolve(existingData);\n        return rest(SEARCH + '/id/' + params.id).then(function (r) {\n          return JSON.parse(r.entity);\n        }).then(function (art) {\n          art.slug = _Artwork.slug(art);\n          return art;\n        });\n      }\n    },\n\n    willTransitionTo: function willTransitionTo(transition, params, query, callback) {\n      var existingArt = window.__DATA__ && window.__DATA__.artwork;\n      Artwork.fetchData.artwork(params, existingArt).then(function (art) {\n        window.__DATA__ = { artwork: art };\n        if (art.slug !== params.slug) {\n          params.slug = art.slug;\n          transition.redirect('artworkSlug', params);\n        }\n      }).then(callback);\n    }\n  },\n\n  render: function render() {\n    var art = this.state.art;\n    var id = this.props.id || this.state.id;\n    var highlights = this.props.highlights;\n    var stickyMapStyle = this.context.universal ? { position: 'fixed' } : {};\n    var smallViewport = this.context.smallViewport;\n\n    var pageTitle = [art.title.replace(/<[^ ]+?>/g, '\"'), _Artwork.Creator.getFacetAndValue(art)[1]].filter(function (e) {\n      return e;\n    }).join(', ');\n    var imageUrl = imageCDN(id);\n    var canonicalURL = 'https://collections.artsmia.org/art/' + art.id + '/' + art.slug;\n\n    var image = React.createElement(Image, { art: art,\n      style: { width: 400, height: 400, maxWidth: '100%' },\n      ignoreStyle: true });\n\n    var aspectRatio = art.image_width / art.image_height;\n    var mapHeight = art.image == \"valid\" ? Math.max(40, Math.min(65, 1 / aspectRatio * 80)) : 20;\n    if (smallViewport && this.state.show3d) mapHeight = 67;\n\n    var showMoreIcon = Object.keys(art).filter(function (key) {\n      return key.match(/related:/) && !key.match(/related:exhibitions/);\n    }).length > 0 && !this.state.fullscreenImage;\n    var toggleRelated = this.state.smallViewportShowInfoOrRelatedContent;\n    var exploreIcon = showMoreIcon && React.createElement(\n      'a',\n      { href: '#', onClick: this.toggleInfoAndRelatedContent, style: { position: 'absolute', zIndex: '10000', right: '7px', bottom: '0px', color: '#232323' } },\n      !toggleRelated ? React.createElement('img', { src: '/images/more-icon.svg', style: { width: '3em' } }) : React.createElement(\n        'i',\n        { className: 'control material-icons' },\n        'info'\n      )\n    );\n    var relatedContent = React.createElement(ArtworkRelatedContent, { id: id, art: art });\n\n    var mapStyle = smallViewport ? { width: '100%', display: 'inline-block', height: mapHeight + 'vh' } : stickyMapStyle;\n\n    var zoomLoaded = this.state.zoomLoaded;\n\n    var zoomLoadedSuccessfully = zoomLoaded && zoomLoaded !== 'error';\n\n    var map = React.createElement(\n      'div',\n      { ref: 'map', id: 'map', style: mapStyle },\n      this.state.has3d && React.createElement(SketchfabEmbed, { model: this.state.has3d, show: this.state.show3d }),\n      zoomLoadedSuccessfully || art.image == 'valid' && art.rights !== 'Permission Denied' && React.createElement(\n        'div',\n        { style: { position: 'absolute', top: '50%', left: '50%', transform: 'translate(-50%, -50%)', WebkitTransform: 'translate(-50%, -50%)', width: '100%', textAlign: 'center' } },\n        image,\n        art.image_copyright && React.createElement(\n          'p',\n          { style: { fontSize: '0.8em' } },\n          decodeURIComponent(art.image_copyright)\n        )\n      ) || React.createElement(NoImagePlaceholder, { art: art }),\n      this.imageStatus(),\n      smallViewport && showMoreIcon && exploreIcon\n    );\n\n    var info = React.createElement(\n      'div',\n      { className: 'info' },\n      React.createElement(ArtworkPreview, { art: art, showLink: false, showDuplicateDetails: true }),\n      this.state.has3d && React.createElement(\n        'div',\n        { className: 'images' },\n        React.createElement(\n          'p',\n          { onClick: this.toggle3d },\n          this.state.show3d ? 'show high-res image' : 'show 3D model'\n        )\n      ),\n      React.createElement(\n        'div',\n        { className: 'back-button' },\n        React.createElement(\n          'a',\n          { href: '#', onClick: function () {\n              return history.go(-1);\n            } },\n          React.createElement(\n            'i',\n            { className: 'material-icons' },\n            'arrow_back'\n          ),\n          ' back'\n        )\n      ),\n      smallViewport || relatedContent,\n      React.createElement(\n        'div',\n        null,\n        React.createElement(\n          'h5',\n          { className: 'details-title' },\n          'Details'\n        ),\n        React.createElement(ArtworkDetails, { art: art, show3d: this.state.show3d })\n      )\n    );\n\n    var smallViewportWithTabbedInfoAndRelated = React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'div',\n        { style: { display: !!toggleRelated ? 'none' : 'block' } },\n        info\n      ),\n      React.createElement(\n        'div',\n        { style: { display: !toggleRelated ? 'none' : 'block' } },\n        React.createElement(\n          'div',\n          { className: 'info' },\n          relatedContent\n        )\n      )\n    );\n    // TODO: should the related content be in both the info and more-specific view?\n    // react can't gradt an <audio> tag while playing, so showing it in both places makes the playback weird.\n    // code below in case this needs to be revisited\n    // {(smallViewport && toggleRelated) || relatedContent} <- goes into info div\n    // var smallViewportWithTabbedInfoAndRelated = !toggleRelated ?\n    //   info :\n    //   <div className=\"info\">{relatedContent}</div>\n\n    var content;\n    if (smallViewport) {\n      content = React.createElement(\n        'div',\n        null,\n        map,\n        smallViewportWithTabbedInfoAndRelated\n      );\n    } else {\n      content = React.createElement(\n        'div',\n        null,\n        info,\n        React.createElement(\n          Sticky,\n          {\n            stickyStyle: { position: 'fixed', height: '100%', width: '65%', top: 0, transform: 'translate3d(0px,0px,0px)' },\n            onStickyStateChange: this.resizeMap },\n          map\n        )\n      );\n    }\n\n    return React.createElement(\n      'div',\n      { className: cx('artwork', { smallviewport: smallViewport }) },\n      content,\n      React.createElement(Helmet, {\n        title: pageTitle,\n        meta: [{ property: \"og:title\", content: pageTitle + ' | Minneapolis Institute of Art' }, { property: \"og:description\", content: art.text }, { property: \"og:image\", content: imageUrl }, { property: \"twitter:card\", content: \"summary_large_image\" }, { property: \"twitter:site\", content: \"@artsmia\" }, { property: \"robots\", content: this.noIndex() ? 'follow,noindex' : 'all' }]\n      })\n    );\n  },\n\n  toggle3d: function toggle3d() {\n    var nextShow3d = !this.state.show3d;\n    this.setState({ show3d: nextShow3d });\n    if (!nextShow3d) {\n      if (!this.state.zoomLoaded) this.loadZoom();\n    }\n    if (nextShow3d && this.state.zoomLoaded) {}\n  },\n\n  getInitialState: function getInitialState() {\n    var art = this.props.data.artwork;\n    art.id = this.props.id || art.id.replace('http://api.artsmia.org/objects/', '');\n\n    var has3Dmodel = art[\"related:3dmodels\"] && art[\"related:3dmodels\"][0];\n    var navigatedFrom3dModelSearch = window && window.lastSearchedTerms && window.lastSearchedTerms.indexOf('related:3dmodels') >= 0;\n\n    return {\n      art: art,\n      id: art.id,\n      fullscreenImage: false,\n      has3d: has3Dmodel,\n      show3d: navigatedFrom3dModelSearch,\n      smallViewportShowInfoOrRelatedContent: window && window.enteredViaMore\n    };\n  },\n\n  componentDidMount: function componentDidMount() {\n    var art = this.state.art;\n    if (art.image === 'valid' && art.restricted != 1 && !this.isLoan() && !this.state.show3d) this.loadZoom();\n    var smallViewport = this.context.smallViewport;\n\n    // push the viewport down past the header to maximize image/text on the page\n    // scrolling back up reveals the menu\n    // TODO: is there a way to automatically trigger safari's minimal chrome other than a user-initiated scroll event? (probably not https://stackoverflow.com/a/26884561)\n    if (smallViewport && window.scrollX == 0) setTimeout(function () {\n      return window.scrollTo(0, 56);\n    }, 0);\n  },\n\n  componentDidUpdate: function componentDidUpdate() {\n    if (this.context.smallViewport != this.state.lastSmallViewportSetting) {\n      this.setState({ lastSmallViewportSetting: this.context.smallViewport });\n      if (this.map && this.tiles) {\n        this.map.off();\n        this.map.remove();\n        this.map = undefined;\n        this.loadZoom();\n      }\n    }\n  },\n\n  loadZoom: function loadZoom() {\n    var _this = this;\n\n    var L = require('museum-tile-layer');\n    var fullscreen = require('leaflet-fullscreen');\n\n    var art = this.state.art;\n    this.setState({ zoomLoaded: false, zoomLoading: true });\n\n    rest('//tiles.dx.artsmia.org/' + this.state.id + '.json').then(function (response) {\n      return JSON.parse(response.entity);\n    }, function (rejected) {\n      // TODO: log this somewhere\n      _this.setState({ zoomLoaded: 'error' });\n      return Promise.reject(new Error('can\\'t load tiles for ' + art.id));\n    }).then(function (data) {\n      _this.map = L.map(_this.refs.map, {\n        crs: L.CRS.Simple,\n        zoomControl: false\n      });\n      _this.map.attributionControl.setPrefix('');\n      _this.map.setView([art.image_width / 2, art.image_height / 2], 0);\n      if (!L.Browser.touch) new L.Control.Zoom({ position: 'topright' }).addTo(_this.map);\n      new L.Control.Fullscreen({\n        position: 'topright',\n        pseudoFullscreen: true\n      }).addTo(_this.map);\n\n      _this.tiles = L.museumTileLayer('https://{s}.tiles.dx.artsmia.org/{id}/{z}/{x}/{y}.png', {\n        attribution: art.image_copyright ? decodeURIComponent(art.image_copyright) : '',\n        id: _this.state.id,\n        width: data.width,\n        height: data.height,\n        tileSize: data.tileSize || 256\n      });\n      _this.tiles.addTo(_this.map);\n\n      // this.tiles.fillContainer()\n      _this.setState({ zoomLoading: false, zoomLoaded: true });\n      _this.map.on('fullscreenchange', function () {\n        _this.setState({ fullscreenImage: !_this.state.fullscreenImage });\n        _this.props.toggleAppHeader();\n      });\n      var zoomCount, zoomInCount, zoomOutCount, prevZoom, nowZoom;\n      var zoomCount = zoomInCount = zoomOutCount = 0;\n      var prevZoom = nowZoom = _this.map.getZoom();\n      var recentlyAutoZoomed = false;\n\n      _this.map.on('zoomstart zoomend', function (event) {\n        var _ref = [nowZoom, _this.map.getZoom()];\n        prevZoom = _ref[0];\n        nowZoom = _ref[1];\n\n        zoomCount += 1;\n        nowZoom > prevZoom ? zoomInCount += 1 : zoomOutCount += 1;\n\n        var smallViewport = _this.context.smallViewport;\n\n        var isSecondZoomInAction = zoomInCount == 2;\n        if (smallViewport && !recentlyAutoZoomed) {\n          // fullscreen the image when a user zooms twice in a row\n          // leave fullscreen when they return to minZoom\n          // mobile-only for now\n          var reasonsToChangeFullscreen = [event.type == 'zoomstart' && zoomInCount == 2 && !_this.map.isFullscreen(), // zooming in when not fullscreen\n          event.type == 'zoomend' && nowZoom >= 3 && !_this.map.isFullscreen(), // not fullscreen and zoomed in quite far\n          event.type == 'zoomend' && _this.map.getZoom() == _this.map.getMinZoom() && _this.map.isFullscreen()];\n          // in fullscreen, zooming out to minZoom\n          if (reasonsToChangeFullscreen.find(function (reason) {\n            return reason;\n          })) {\n            // if any of the valid reasons evaluate to true\n            _this.map.toggleFullscreen({ pseudoFullscreen: true });\n            recentlyAutoZoomed = true;\n            clearTimeout(_this.zoomCountResetTimer);\n            _this.zoomCountResetTimer = setTimeout(function () {\n              zoomCount = zoomInCount = zoomOutCount = 0;recentlyAutoZoomed = false;\n            }, 1000);\n          }\n        }\n      });\n    })['catch'](function (err) {\n      return _this.setState({ zoomLoading: false });\n    });\n  },\n\n  resizeMap: function resizeMap() {\n    if (this.map && this.tiles) {\n      this.map.invalidateSize();\n      this.tiles.fitBoundsExactly();\n    }\n  },\n\n  imageStatus: function imageStatus() {\n    var _state = this.state;\n    var art = _state.art;\n    var zoomLoaded = _state.zoomLoaded;\n    var zoomLoading = _state.zoomLoading;\n\n    var copyrightAndOnViewMessage = art.room[0] == 'G' ? \" (You'll have to come see it in person.)\" : '';\n    var loadingZoomMessage = '\\n      (—Is that the best image you\\'ve got!!?\\n      —Nope! We\\'re loading ' + humanizeNumber(this.getPixelDifference(400)) + ' more pixels right now.\\n      It can take a few seconds.)';\n    var showLoadingMessage = zoomLoading && zoomLoaded === false && !this.context.universal;\n    var showErrorMessage = zoomLoaded === 'error';\n    var smallViewport = this.context.smallViewport;\n\n    return art.image === 'valid' && React.createElement(\n      'span',\n      { className: 'imageStatus' },\n      showLoadingMessage && loadingZoomMessage,\n      showErrorMessage && React.createElement(\n        'p',\n        null,\n        'Error loading high resolution image. ',\n        React.createElement(\n          'a',\n          { href: 'mailto:collectionsdata+images@artsmia.org' },\n          'Report this problem'\n        ),\n        '.'\n      ),\n      art.restricted === 1 && !smallViewport && \"Because of © restrictions, we can only show you a small image of this artwork.\" + copyrightAndOnViewMessage\n    );\n  },\n\n  calculateImagePixelSize: function calculateImagePixelSize(size) {\n    var _state$art = this.state.art;\n    var image_width = _state$art.image_width;\n    var image_height = _state$art.image_height;\n\n    var maxDimension = Math.max(image_width, image_height);\n    var size = size || maxDimension;\n    var ratio = Math.floor(maxDimension / size);\n\n    return Math.floor(image_width / ratio) * Math.floor(image_height / ratio);\n  },\n\n  // how many more pixels are in the full sized image than the given thumbnail?\n  getPixelDifference: function getPixelDifference() {\n    var size = arguments.length <= 0 || arguments[0] === undefined ? 400 : arguments[0];\n\n    return Math.floor(this.calculateImagePixelSize() - this.calculateImagePixelSize(400));\n  },\n\n  isLoan: function isLoan() {\n    return this.state.art.accession_number.match(/^L/i);\n  },\n\n  // different from the noIndex set at `App` - this factors in object status\n  noIndex: function noIndex() {\n    return this.isLoan() || this.state.art.public_access == '0' || process.env.NODE_ENV !== 'production';\n  },\n\n  toggleInfoAndRelatedContent: function toggleInfoAndRelatedContent(event) {\n    this.setState({ smallViewportShowInfoOrRelatedContent: !this.state.smallViewportShowInfoOrRelatedContent });\n    event.preventDefault();\n  }\n});\nArtwork.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n  smallViewport: React.PropTypes.bool\n};\n\nvar noImageStyle = {\n  wrapper: {\n    \"position\": 'absolute',\n    \"top\": '50%',\n    \"left\": '50%',\n    \"transform\": 'translate(-50%, -50%)',\n    \"WebkitTransform\": 'translate(-50%, -50%)',\n    \"width\": '77%',\n    \"textAlign\": 'center'\n  },\n  pattern: {}\n};\nvar NoImagePlaceholder = React.createClass({\n  displayName: 'NoImagePlaceholder',\n\n  render: function render() {\n    var art = this.props.art;\n\n    var model = art[\"related:3dmodels\"] && art[\"related:3dmodels\"][0];\n    return model ? React.createElement(SketchfabEmbed, { model: model }) : React.createElement(\n      'div',\n      { style: noImageStyle.wrapper },\n      React.createElement(\n        'div',\n        { className: 'noImage invalid' },\n        React.createElement(\n          'p',\n          null,\n          'No Image Available'\n        )\n      )\n    );\n  }\n});\n\nvar SketchfabEmbed = React.createClass({\n  displayName: 'SketchfabEmbed',\n\n  render: function render() {\n    var showHideStyle = {};\n    if (!this.props.show) showHideStyle.visibility = 'hidden';\n    return React.createElement(\n      'div',\n      { className: 'sketchfab-embed-wrapper', style: showHideStyle },\n      React.createElement('iframe', {\n        src: this.props.model.link + '/embed?autostart=1&preload=1&ui_infos=0',\n        frameborder: '0',\n        allowvr: true,\n        allowfullscreen: true, mozallowfullscreen: 'true', webkitallowfullscreen: 'true',\n        onmousewheel: '' })\n    );\n  }\n});\n\nmodule.exports = Artwork;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYXJ0d29yay5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUM1QixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7SUFDL0IsSUFBSSxHQUFJLE1BQU0sQ0FBZCxJQUFJOztBQUNULElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQTtBQUMxQixJQUFJLGNBQWMsR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtBQUMvQyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7QUFDcEMsSUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBOztBQUU5QixJQUFJLFlBQVksR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtBQUM3QyxJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7QUFDcEMsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7QUFDakQsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7QUFDakQsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBO0FBQ3BDLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQTtBQUM5QixJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUE7QUFDckMsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLE1BQU0sQ0FBQTtBQUMxQyxJQUFJLHFCQUFxQixHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFBOztBQUV4RCxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7O0FBRXBDLElBQUksT0FBTyxHQUFHLEtBQUssQ0FB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QU8sR0FBRyxPQUFPLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9hcnR3b3JrLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIge0xpbmt9ID0gUm91dGVyXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxudmFyIGh1bWFuaXplTnVtYmVyID0gcmVxdWlyZSgnaHVtYW5pemUtbnVtYmVyJylcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxudmFyIGN4ID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpXG5cbnZhciBBcnR3b3JrSW1hZ2UgPSByZXF1aXJlKCcuL2FydHdvcmstaW1hZ2UnKVxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi9tYXJrZG93bicpXG52YXIgQXJ0d29ya1ByZXZpZXcgPSByZXF1aXJlKCcuL2FydHdvcmstcHJldmlldycpXG52YXIgQXJ0d29ya0RldGFpbHMgPSByZXF1aXJlKCcuL2FydHdvcmstZGV0YWlscycpXG52YXIgX0FydHdvcmsgPSByZXF1aXJlKCcuL19hcnR3b3JrJylcbnZhciBJbWFnZSA9IHJlcXVpcmUoJy4vaW1hZ2UnKVxudmFyIGltYWdlQ0ROID0gcmVxdWlyZSgnLi9pbWFnZS1jZG4nKVxudmFyIFNFQVJDSCA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJykuc2VhcmNoXG52YXIgQXJ0d29ya1JlbGF0ZWRDb250ZW50ID0gcmVxdWlyZSgnLi9hcnR3b3JrLXJlbGF0ZWQnKVxuXG52YXIgU3RpY2t5ID0gcmVxdWlyZSgncmVhY3Qtc3RpY2t5JylcblxudmFyIEFydHdvcmsgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIG1peGluczogW1JvdXRlci5TdGF0ZV0sXG4gIHN0YXRpY3M6IHtcbiAgICBmZXRjaERhdGE6IHtcbiAgICAgIGFydHdvcms6IChwYXJhbXMsIGV4aXN0aW5nRGF0YSkgPT4ge1xuICAgICAgICBpZihleGlzdGluZ0RhdGEgJiYgZXhpc3RpbmdEYXRhLmlkICYmIGV4aXN0aW5nRGF0YS5pZCA9PSBwYXJhbXMuaWQpIHJldHVybiBQcm9taXNlLnJlc29sdmUoZXhpc3RpbmdEYXRhKVxuICAgICAgICByZXR1cm4gcmVzdChgJHtTRUFSQ0h9L2lkL2ArcGFyYW1zLmlkKVxuICAgICAgICAudGhlbigocikgPT4gSlNPTi5wYXJzZShyLmVudGl0eSkpXG4gICAgICAgIC50aGVuKGFydCA9PiB7XG4gICAgICAgICAgYXJ0LnNsdWcgPSBfQXJ0d29yay5zbHVnKGFydClcbiAgICAgICAgICByZXR1cm4gYXJ0XG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgIH0sXG5cbiAgICB3aWxsVHJhbnNpdGlvblRvOiBmdW5jdGlvbiAodHJhbnNpdGlvbiwgcGFyYW1zLCBxdWVyeSwgY2FsbGJhY2spIHtcbiAgICAgIHZhciBleGlzdGluZ0FydCA9IHdpbmRvdy5fX0RBVEFfXyAmJiB3aW5kb3cuX19EQVRBX18uYXJ0d29ya1xuICAgICAgQXJ0d29yay5mZXRjaERhdGEuYXJ0d29yayhwYXJhbXMsIGV4aXN0aW5nQXJ0KS50aGVuKGFydCA9PiB7XG4gICAgICAgIHdpbmRvdy5fX0RBVEFfXyA9IHthcnR3b3JrOiBhcnR9XG4gICAgICAgIGlmKGFydC5zbHVnICE9PSBwYXJhbXMuc2x1Zykge1xuICAgICAgICAgIHBhcmFtcy5zbHVnID0gYXJ0LnNsdWdcbiAgICAgICAgICB0cmFuc2l0aW9uLnJlZGlyZWN0KCdhcnR3b3JrU2x1ZycsIHBhcmFtcylcbiAgICAgICAgfVxuICAgICAgfSkudGhlbihjYWxsYmFjaylcbiAgICB9XG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciBhcnQgPSB0aGlzLnN0YXRlLmFydFxuICAgIHZhciBpZCA9IHRoaXMucHJvcHMuaWQgfHwgdGhpcy5zdGF0ZS5pZFxuICAgIGNvbnN0IGhpZ2hsaWdodHMgPSB0aGlzLnByb3BzLmhpZ2hsaWdodHNcbiAgICB2YXIgc3RpY2t5TWFwU3R5bGUgPSB0aGlzLmNvbnRleHQudW5pdmVyc2FsID8ge3Bvc2l0aW9uOiAnZml4ZWQnfSA6IHt9XG4gICAgdmFyIHtzbWFsbFZpZXdwb3J0fSA9IHRoaXMuY29udGV4dFxuXG4gICAgdmFyIHBhZ2VUaXRsZSA9IFtcbiAgICAgIGFydC50aXRsZS5yZXBsYWNlKC88W14gXSs/Pi9nLCAnXCInKSxcbiAgICAgIF9BcnR3b3JrLkNyZWF0b3IuZ2V0RmFjZXRBbmRWYWx1ZShhcnQpWzFdXG4gICAgXS5maWx0ZXIoZSA9PiBlKS5qb2luKCcsICcpXG4gICAgdmFyIGltYWdlVXJsID0gaW1hZ2VDRE4oaWQpXG4gICAgdmFyIGNhbm9uaWNhbFVSTCA9IGBodHRwczovL2NvbGxlY3Rpb25zLmFydHNtaWEub3JnL2FydC8ke2FydC5pZH0vJHthcnQuc2x1Z31gXG5cbiAgICB2YXIgaW1hZ2UgPSA8SW1hZ2UgYXJ0PXthcnR9XG4gICAgICBzdHlsZT17e3dpZHRoOiA0MDAsIGhlaWdodDogNDAwLCBtYXhXaWR0aDogJzEwMCUnfX1cbiAgICAgIGlnbm9yZVN0eWxlPXt0cnVlfSAvPlxuXG4gICAgdmFyIGFzcGVjdFJhdGlvID0gYXJ0LmltYWdlX3dpZHRoL2FydC5pbWFnZV9oZWlnaHRcbiAgICB2YXIgbWFwSGVpZ2h0ID0gYXJ0LmltYWdlID09IFwidmFsaWRcIiA/XG4gICAgICBNYXRoLm1heCg0MCwgTWF0aC5taW4oNjUsIDEvYXNwZWN0UmF0aW8qODApKSA6XG4gICAgICAyMFxuICAgIGlmKHNtYWxsVmlld3BvcnQgJiYgdGhpcy5zdGF0ZS5zaG93M2QpIG1hcEhlaWdodCA9IDY3XG5cbiAgICB2YXIgc2hvd01vcmVJY29uID0gT2JqZWN0LmtleXMoYXJ0KS5maWx0ZXIoa2V5ID0+IGtleS5tYXRjaCgvcmVsYXRlZDovKSAmJiAha2V5Lm1hdGNoKC9yZWxhdGVkOmV4aGliaXRpb25zLykpLmxlbmd0aCA+IDAgJiZcbiAgICAgICF0aGlzLnN0YXRlLmZ1bGxzY3JlZW5JbWFnZVxuICAgIHZhciB0b2dnbGVSZWxhdGVkID0gdGhpcy5zdGF0ZS5zbWFsbFZpZXdwb3J0U2hvd0luZm9PclJlbGF0ZWRDb250ZW50XG4gICAgdmFyIGV4cGxvcmVJY29uID0gc2hvd01vcmVJY29uICYmXG4gICAgICA8YSBocmVmPVwiI1wiIG9uQ2xpY2s9e3RoaXMudG9nZ2xlSW5mb0FuZFJlbGF0ZWRDb250ZW50fSBzdHlsZT17e3Bvc2l0aW9uOiAnYWJzb2x1dGUnLCB6SW5kZXg6ICcxMDAwMCcsIHJpZ2h0OiAnN3B4JywgYm90dG9tOiAnMHB4JywgY29sb3I6ICcjMjMyMzIzJ319PlxuICAgICAgICB7IXRvZ2dsZVJlbGF0ZWQgPyA8aW1nIHNyYz1cIi9pbWFnZXMvbW9yZS1pY29uLnN2Z1wiIHN0eWxlPXt7d2lkdGg6ICczZW0nfX0vPiA6IDxpIGNsYXNzTmFtZT1cImNvbnRyb2wgbWF0ZXJpYWwtaWNvbnNcIj5pbmZvPC9pPn1cbiAgICAgIDwvYT5cbiAgICB2YXIgcmVsYXRlZENvbnRlbnQgPSA8QXJ0d29ya1JlbGF0ZWRDb250ZW50IGlkPXtpZH0gYXJ0PXthcnR9IC8+XG5cbiAgICB2YXIgbWFwU3R5bGUgPSBzbWFsbFZpZXdwb3J0ID9cbiAgICAgIHt3aWR0aDogJzEwMCUnLCBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJywgaGVpZ2h0OiBtYXBIZWlnaHQrJ3ZoJ30gOlxuICAgICAgc3RpY2t5TWFwU3R5bGVcblxuICAgIHZhciB7em9vbUxvYWRlZH0gPSB0aGlzLnN0YXRlXG4gICAgdmFyIHpvb21Mb2FkZWRTdWNjZXNzZnVsbHkgPSB6b29tTG9hZGVkICYmIHpvb21Mb2FkZWQgIT09ICdlcnJvcidcblxuICAgIHZhciBtYXAgPSA8ZGl2IHJlZj0nbWFwJyBpZD0nbWFwJyBzdHlsZT17bWFwU3R5bGV9PlxuICAgICAge3RoaXMuc3RhdGUuaGFzM2QgJiYgPFNrZXRjaGZhYkVtYmVkIG1vZGVsPXt0aGlzLnN0YXRlLmhhczNkfSBzaG93PXt0aGlzLnN0YXRlLnNob3czZH0gLz59XG4gICAgICB7em9vbUxvYWRlZFN1Y2Nlc3NmdWxseSB8fCAoYXJ0LmltYWdlID09ICd2YWxpZCcgJiYgYXJ0LnJpZ2h0cyAhPT0gJ1Blcm1pc3Npb24gRGVuaWVkJykgJiYgPGRpdiBzdHlsZT17e3Bvc2l0aW9uOiAnYWJzb2x1dGUnLCB0b3A6ICc1MCUnLCBsZWZ0OiAnNTAlJywgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJywgV2Via2l0VHJhbnNmb3JtOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJywgd2lkdGg6ICcxMDAlJywgdGV4dEFsaWduOiAnY2VudGVyJ319PlxuICAgICAgICB7aW1hZ2V9XG4gICAgICAgIHthcnQuaW1hZ2VfY29weXJpZ2h0ICYmIDxwIHN0eWxlPXt7Zm9udFNpemU6ICcwLjhlbSd9fT57ZGVjb2RlVVJJQ29tcG9uZW50KGFydC5pbWFnZV9jb3B5cmlnaHQpfTwvcD59XG4gICAgICA8L2Rpdj4gfHwgPE5vSW1hZ2VQbGFjZWhvbGRlciBhcnQ9e2FydH0gLz59XG4gICAgICB7dGhpcy5pbWFnZVN0YXR1cygpfVxuICAgICAge3NtYWxsVmlld3BvcnQgJiYgc2hvd01vcmVJY29uICYmIGV4cGxvcmVJY29ufVxuICAgIDwvZGl2PlxuXG4gICAgdmFyIGluZm8gPSA8ZGl2IGNsYXNzTmFtZT0naW5mbyc+XG4gICAgICA8QXJ0d29ya1ByZXZpZXcgYXJ0PXthcnR9IHNob3dMaW5rPXtmYWxzZX0gc2hvd0R1cGxpY2F0ZURldGFpbHM9e3RydWV9IC8+XG4gICAgICB7dGhpcy5zdGF0ZS5oYXMzZCAmJiA8ZGl2IGNsYXNzTmFtZT1cImltYWdlc1wiPlxuICAgICAgICA8cCBvbkNsaWNrPXt0aGlzLnRvZ2dsZTNkfT57dGhpcy5zdGF0ZS5zaG93M2QgPyAnc2hvdyBoaWdoLXJlcyBpbWFnZScgOiAnc2hvdyAzRCBtb2RlbCd9PC9wPiBcbiAgICAgIDwvZGl2Pn1cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmFjay1idXR0b25cIj48YSBocmVmPVwiI1wiIG9uQ2xpY2s9eygpID0+IGhpc3RvcnkuZ28oLTEpfT48aSBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uc1wiPmFycm93X2JhY2s8L2k+IGJhY2s8L2E+PC9kaXY+XG4gICAgICB7c21hbGxWaWV3cG9ydCB8fCByZWxhdGVkQ29udGVudH1cbiAgICAgIDxkaXY+XG4gICAgICAgIDxoNSBjbGFzc05hbWU9J2RldGFpbHMtdGl0bGUnPkRldGFpbHM8L2g1PlxuICAgICAgICA8QXJ0d29ya0RldGFpbHMgYXJ0PXthcnR9IHNob3czZD17dGhpcy5zdGF0ZS5zaG93M2R9IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIHZhciBzbWFsbFZpZXdwb3J0V2l0aFRhYmJlZEluZm9BbmRSZWxhdGVkID0gPGRpdj5cbiAgICAgIDxkaXYgc3R5bGU9e3tkaXNwbGF5OiAhIXRvZ2dsZVJlbGF0ZWQgPyAnbm9uZScgOiAnYmxvY2snfX0+e2luZm99PC9kaXY+XG4gICAgICA8ZGl2IHN0eWxlPXt7ZGlzcGxheTogIXRvZ2dsZVJlbGF0ZWQgPyAnbm9uZScgOiAnYmxvY2snfX0+PGRpdiBjbGFzc05hbWU9J2luZm8nPntyZWxhdGVkQ29udGVudH08L2Rpdj48L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICAvLyBUT0RPOiBzaG91bGQgdGhlIHJlbGF0ZWQgY29udGVudCBiZSBpbiBib3RoIHRoZSBpbmZvIGFuZCBtb3JlLXNwZWNpZmljIHZpZXc/XG4gICAgLy8gcmVhY3QgY2FuJ3QgZ3JhZHQgYW4gPGF1ZGlvPiB0YWcgd2hpbGUgcGxheWluZywgc28gc2hvd2luZyBpdCBpbiBib3RoIHBsYWNlcyBtYWtlcyB0aGUgcGxheWJhY2sgd2VpcmQuXG4gICAgLy8gY29kZSBiZWxvdyBpbiBjYXNlIHRoaXMgbmVlZHMgdG8gYmUgcmV2aXNpdGVkXG4gICAgLy8geyhzbWFsbFZpZXdwb3J0ICYmIHRvZ2dsZVJlbGF0ZWQpIHx8IHJlbGF0ZWRDb250ZW50fSA8LSBnb2VzIGludG8gaW5mbyBkaXZcbiAgICAvLyB2YXIgc21hbGxWaWV3cG9ydFdpdGhUYWJiZWRJbmZvQW5kUmVsYXRlZCA9ICF0b2dnbGVSZWxhdGVkID8gXG4gICAgLy8gICBpbmZvIDpcbiAgICAvLyAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mb1wiPntyZWxhdGVkQ29udGVudH08L2Rpdj5cblxuICAgIHZhciBjb250ZW50XG4gICAgaWYoc21hbGxWaWV3cG9ydCkge1xuICAgICAgY29udGVudCA9IDxkaXY+XG4gICAgICAgIHttYXB9XG4gICAgICAgIHtzbWFsbFZpZXdwb3J0V2l0aFRhYmJlZEluZm9BbmRSZWxhdGVkfVxuICAgICAgPC9kaXY+XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRlbnQgPSA8ZGl2PlxuICAgICAgICB7aW5mb31cblxuICAgICAgICA8U3RpY2t5XG4gICAgICAgICAgc3RpY2t5U3R5bGU9e3twb3NpdGlvbjogJ2ZpeGVkJywgaGVpZ2h0OiAnMTAwJScsIHdpZHRoOiAnNjUlJywgdG9wOiAwLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGUzZCgwcHgsMHB4LDBweCknfX1cbiAgICAgICAgICBvblN0aWNreVN0YXRlQ2hhbmdlPXt0aGlzLnJlc2l6ZU1hcH0+XG4gICAgICAgICAge21hcH1cbiAgICAgICAgPC9TdGlja3k+XG4gICAgICA8L2Rpdj5cbiAgICB9XG5cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e2N4KCdhcnR3b3JrJywge3NtYWxsdmlld3BvcnQ6IHNtYWxsVmlld3BvcnR9KX0+XG4gICAgICB7Y29udGVudH1cbiAgICAgIDxIZWxtZXRcbiAgICAgICAgdGl0bGU9e3BhZ2VUaXRsZX1cbiAgICAgICAgbWV0YT17W1xuICAgICAgICAgIHtwcm9wZXJ0eTogXCJvZzp0aXRsZVwiLCBjb250ZW50OiBwYWdlVGl0bGUgKyAnIHwgTWlubmVhcG9saXMgSW5zdGl0dXRlIG9mIEFydCd9LFxuICAgICAgICAgIHtwcm9wZXJ0eTogXCJvZzpkZXNjcmlwdGlvblwiLCBjb250ZW50OiBhcnQudGV4dH0sXG4gICAgICAgICAge3Byb3BlcnR5OiBcIm9nOmltYWdlXCIsIGNvbnRlbnQ6IGltYWdlVXJsfSxcbiAgICAgICAgICB7cHJvcGVydHk6IFwidHdpdHRlcjpjYXJkXCIsIGNvbnRlbnQ6IFwic3VtbWFyeV9sYXJnZV9pbWFnZVwifSxcbiAgICAgICAgICB7cHJvcGVydHk6IFwidHdpdHRlcjpzaXRlXCIsIGNvbnRlbnQ6IFwiQGFydHNtaWFcIn0sXG4gICAgICAgICAge3Byb3BlcnR5OiBcInJvYm90c1wiLCBjb250ZW50OiB0aGlzLm5vSW5kZXgoKSA/ICdmb2xsb3csbm9pbmRleCcgOiAnYWxsJ30sXG4gICAgICAgIF19XG4gICAgICAgIC8+XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgdG9nZ2xlM2QoKSB7XG4gICAgdmFyIG5leHRTaG93M2QgPSAhdGhpcy5zdGF0ZS5zaG93M2RcbiAgICB0aGlzLnNldFN0YXRlKHtzaG93M2Q6IG5leHRTaG93M2R9KVxuICAgIGlmKCFuZXh0U2hvdzNkKSB7XG4gICAgICBpZighdGhpcy5zdGF0ZS56b29tTG9hZGVkKSB0aGlzLmxvYWRab29tKClcbiAgICB9XG4gICAgaWYobmV4dFNob3czZCAmJiB0aGlzLnN0YXRlLnpvb21Mb2FkZWQpIHtcbiAgICB9XG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHZhciBhcnQgPSB0aGlzLnByb3BzLmRhdGEuYXJ0d29ya1xuICAgIGFydC5pZCA9IHRoaXMucHJvcHMuaWQgfHwgYXJ0LmlkLnJlcGxhY2UoJ2h0dHA6Ly9hcGkuYXJ0c21pYS5vcmcvb2JqZWN0cy8nLCAnJylcblxuICAgIHZhciBoYXMzRG1vZGVsID0gYXJ0W1wicmVsYXRlZDozZG1vZGVsc1wiXSAmJiBhcnRbXCJyZWxhdGVkOjNkbW9kZWxzXCJdWzBdXG4gICAgdmFyIG5hdmlnYXRlZEZyb20zZE1vZGVsU2VhcmNoID0gd2luZG93ICYmXG4gICAgICB3aW5kb3cubGFzdFNlYXJjaGVkVGVybXMgJiYgXG4gICAgICB3aW5kb3cubGFzdFNlYXJjaGVkVGVybXMuaW5kZXhPZigncmVsYXRlZDozZG1vZGVscycpID49IDBcblxuICAgIHJldHVybiB7XG4gICAgICBhcnQ6IGFydCxcbiAgICAgIGlkOiBhcnQuaWQsXG4gICAgICBmdWxsc2NyZWVuSW1hZ2U6IGZhbHNlLFxuICAgICAgaGFzM2Q6IGhhczNEbW9kZWwsXG4gICAgICBzaG93M2Q6IG5hdmlnYXRlZEZyb20zZE1vZGVsU2VhcmNoLFxuICAgICAgc21hbGxWaWV3cG9ydFNob3dJbmZvT3JSZWxhdGVkQ29udGVudDogd2luZG93ICYmIHdpbmRvdy5lbnRlcmVkVmlhTW9yZSxcbiAgICB9XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdmFyIGFydCA9IHRoaXMuc3RhdGUuYXJ0XG4gICAgaWYoYXJ0LmltYWdlID09PSAndmFsaWQnICYmIGFydC5yZXN0cmljdGVkICE9IDEgJiYgIXRoaXMuaXNMb2FuKCkgJiYgIXRoaXMuc3RhdGUuc2hvdzNkKSB0aGlzLmxvYWRab29tKClcbiAgICB2YXIge3NtYWxsVmlld3BvcnR9ID0gdGhpcy5jb250ZXh0XG4gICAgLy8gcHVzaCB0aGUgdmlld3BvcnQgZG93biBwYXN0IHRoZSBoZWFkZXIgdG8gbWF4aW1pemUgaW1hZ2UvdGV4dCBvbiB0aGUgcGFnZVxuICAgIC8vIHNjcm9sbGluZyBiYWNrIHVwIHJldmVhbHMgdGhlIG1lbnVcbiAgICAvLyBUT0RPOiBpcyB0aGVyZSBhIHdheSB0byBhdXRvbWF0aWNhbGx5IHRyaWdnZXIgc2FmYXJpJ3MgbWluaW1hbCBjaHJvbWUgb3RoZXIgdGhhbiBhIHVzZXItaW5pdGlhdGVkIHNjcm9sbCBldmVudD8gKHByb2JhYmx5IG5vdCBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY4ODQ1NjEpXG4gICAgaWYoc21hbGxWaWV3cG9ydCAmJiB3aW5kb3cuc2Nyb2xsWCA9PSAwKSBzZXRUaW1lb3V0KCgpID0+IHdpbmRvdy5zY3JvbGxUbygwLCA1NiksIDApXG4gIH0sXG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIGlmKHRoaXMuY29udGV4dC5zbWFsbFZpZXdwb3J0ICE9IHRoaXMuc3RhdGUubGFzdFNtYWxsVmlld3BvcnRTZXR0aW5nKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtsYXN0U21hbGxWaWV3cG9ydFNldHRpbmc6IHRoaXMuY29udGV4dC5zbWFsbFZpZXdwb3J0fSlcbiAgICAgIGlmKHRoaXMubWFwICYmIHRoaXMudGlsZXMpIHtcbiAgICAgICAgdGhpcy5tYXAub2ZmKClcbiAgICAgICAgdGhpcy5tYXAucmVtb3ZlKClcbiAgICAgICAgdGhpcy5tYXAgPSB1bmRlZmluZWRcbiAgICAgICAgdGhpcy5sb2FkWm9vbSgpXG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIGxvYWRab29tKCkge1xuICAgIHZhciBMID0gcmVxdWlyZSgnbXVzZXVtLXRpbGUtbGF5ZXInKVxuICAgIHZhciBmdWxsc2NyZWVuID0gcmVxdWlyZSgnbGVhZmxldC1mdWxsc2NyZWVuJylcblxuICAgIHZhciBhcnQgPSB0aGlzLnN0YXRlLmFydFxuICAgIHRoaXMuc2V0U3RhdGUoe3pvb21Mb2FkZWQ6IGZhbHNlLCB6b29tTG9hZGluZzogdHJ1ZX0pXG5cbiAgICByZXN0KGAvL3RpbGVzLmR4LmFydHNtaWEub3JnLyR7dGhpcy5zdGF0ZS5pZH0uanNvbmApXG4gICAgLnRoZW4oXG4gICAgICByZXNwb25zZSA9PiBKU09OLnBhcnNlKHJlc3BvbnNlLmVudGl0eSksXG4gICAgICByZWplY3RlZCA9PiB7XG4gICAgICAgIC8vIFRPRE86IGxvZyB0aGlzIHNvbWV3aGVyZVxuICAgICAgICB0aGlzLnNldFN0YXRlKHt6b29tTG9hZGVkOiAnZXJyb3InfSlcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihgY2FuJ3QgbG9hZCB0aWxlcyBmb3IgJHthcnQuaWR9YCkpXG4gICAgICB9XG4gICAgKVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICB0aGlzLm1hcCA9IEwubWFwKHRoaXMucmVmcy5tYXAsIHtcbiAgICAgICAgY3JzOiBMLkNSUy5TaW1wbGUsXG4gICAgICAgIHpvb21Db250cm9sOiBmYWxzZSxcbiAgICAgIH0pXG4gICAgICB0aGlzLm1hcC5hdHRyaWJ1dGlvbkNvbnRyb2wuc2V0UHJlZml4KCcnKVxuICAgICAgdGhpcy5tYXAuc2V0VmlldyhbYXJ0LmltYWdlX3dpZHRoLzIsIGFydC5pbWFnZV9oZWlnaHQvMl0sIDApXG4gICAgICBpZighTC5Ccm93c2VyLnRvdWNoKSBuZXcgTC5Db250cm9sLlpvb20oeyBwb3NpdGlvbjogJ3RvcHJpZ2h0JyB9KS5hZGRUbyh0aGlzLm1hcClcbiAgICAgIG5ldyBMLkNvbnRyb2wuRnVsbHNjcmVlbih7XG4gICAgICAgIHBvc2l0aW9uOiAndG9wcmlnaHQnLFxuICAgICAgICBwc2V1ZG9GdWxsc2NyZWVuOiB0cnVlLFxuICAgICAgfSkuYWRkVG8odGhpcy5tYXApXG5cbiAgICAgIHRoaXMudGlsZXMgPSBMLm11c2V1bVRpbGVMYXllcignaHR0cHM6Ly97c30udGlsZXMuZHguYXJ0c21pYS5vcmcve2lkfS97en0ve3h9L3t5fS5wbmcnLCB7XG4gICAgICAgIGF0dHJpYnV0aW9uOiBhcnQuaW1hZ2VfY29weXJpZ2h0ID8gZGVjb2RlVVJJQ29tcG9uZW50KGFydC5pbWFnZV9jb3B5cmlnaHQpIDogJycsXG4gICAgICAgIGlkOiB0aGlzLnN0YXRlLmlkLFxuICAgICAgICB3aWR0aDogZGF0YS53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBkYXRhLmhlaWdodCxcbiAgICAgICAgdGlsZVNpemU6IGRhdGEudGlsZVNpemUgfHwgMjU2LFxuICAgICAgfSlcbiAgICAgIHRoaXMudGlsZXMuYWRkVG8odGhpcy5tYXApXG5cbiAgICAgIC8vIHRoaXMudGlsZXMuZmlsbENvbnRhaW5lcigpXG4gICAgICB0aGlzLnNldFN0YXRlKHt6b29tTG9hZGluZzogZmFsc2UsIHpvb21Mb2FkZWQ6IHRydWV9KVxuICAgICAgdGhpcy5tYXAub24oJ2Z1bGxzY3JlZW5jaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2Z1bGxzY3JlZW5JbWFnZTogIXRoaXMuc3RhdGUuZnVsbHNjcmVlbkltYWdlfSlcbiAgICAgICAgdGhpcy5wcm9wcy50b2dnbGVBcHBIZWFkZXIoKVxuICAgICAgfSlcbiAgICAgIHZhciB6b29tQ291bnQsIHpvb21JbkNvdW50LCB6b29tT3V0Q291bnQsIHByZXZab29tLCBub3dab29tO1xuICAgICAgdmFyIHpvb21Db3VudCA9IHpvb21JbkNvdW50ID0gem9vbU91dENvdW50ID0gMDtcbiAgICAgIHZhciBwcmV2Wm9vbSA9IG5vd1pvb20gPSB0aGlzLm1hcC5nZXRab29tKCk7XG4gICAgICB2YXIgcmVjZW50bHlBdXRvWm9vbWVkID0gZmFsc2U7XG5cbiAgICAgIHRoaXMubWFwLm9uKCd6b29tc3RhcnQgem9vbWVuZCcsIChldmVudCkgPT4ge1xuICAgICAgICBbcHJldlpvb20sIG5vd1pvb21dID0gW25vd1pvb20sIHRoaXMubWFwLmdldFpvb20oKV1cbiAgICAgICAgem9vbUNvdW50ICs9IDFcbiAgICAgICAgbm93Wm9vbSA+IHByZXZab29tID8gem9vbUluQ291bnQgKz0gMSA6IHpvb21PdXRDb3VudCArPSAxXG5cbiAgICAgICAgdmFyIHtzbWFsbFZpZXdwb3J0fSA9IHRoaXMuY29udGV4dFxuICAgICAgICB2YXIgaXNTZWNvbmRab29tSW5BY3Rpb24gPSB6b29tSW5Db3VudCA9PSAyXG4gICAgICAgIGlmKHNtYWxsVmlld3BvcnQgJiYgIXJlY2VudGx5QXV0b1pvb21lZCkge1xuICAgICAgICAgIC8vIGZ1bGxzY3JlZW4gdGhlIGltYWdlIHdoZW4gYSB1c2VyIHpvb21zIHR3aWNlIGluIGEgcm93XG4gICAgICAgICAgLy8gbGVhdmUgZnVsbHNjcmVlbiB3aGVuIHRoZXkgcmV0dXJuIHRvIG1pblpvb21cbiAgICAgICAgICAvLyBtb2JpbGUtb25seSBmb3Igbm93XG4gICAgICAgICAgdmFyIHJlYXNvbnNUb0NoYW5nZUZ1bGxzY3JlZW4gPSBbXG4gICAgICAgICAgICBldmVudC50eXBlID09ICd6b29tc3RhcnQnICYmIHpvb21JbkNvdW50ID09IDIgJiYgIXRoaXMubWFwLmlzRnVsbHNjcmVlbigpLCAvLyB6b29taW5nIGluIHdoZW4gbm90IGZ1bGxzY3JlZW5cbiAgICAgICAgICAgIGV2ZW50LnR5cGUgPT0gJ3pvb21lbmQnICYmIG5vd1pvb20gPj0gMyAmJiAhdGhpcy5tYXAuaXNGdWxsc2NyZWVuKCksIC8vIG5vdCBmdWxsc2NyZWVuIGFuZCB6b29tZWQgaW4gcXVpdGUgZmFyXG4gICAgICAgICAgICBldmVudC50eXBlID09ICd6b29tZW5kJyAmJiB0aGlzLm1hcC5nZXRab29tKCkgPT0gdGhpcy5tYXAuZ2V0TWluWm9vbSgpICYmIHRoaXMubWFwLmlzRnVsbHNjcmVlbigpLCAvLyBpbiBmdWxsc2NyZWVuLCB6b29taW5nIG91dCB0byBtaW5ab29tXG4gICAgICAgICAgXVxuICAgICAgICAgIGlmKHJlYXNvbnNUb0NoYW5nZUZ1bGxzY3JlZW4uZmluZChyZWFzb24gPT4gcmVhc29uKSkgeyAvLyBpZiBhbnkgb2YgdGhlIHZhbGlkIHJlYXNvbnMgZXZhbHVhdGUgdG8gdHJ1ZVxuICAgICAgICAgICAgdGhpcy5tYXAudG9nZ2xlRnVsbHNjcmVlbih7cHNldWRvRnVsbHNjcmVlbjogdHJ1ZX0pXG4gICAgICAgICAgICByZWNlbnRseUF1dG9ab29tZWQgPSB0cnVlXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy56b29tQ291bnRSZXNldFRpbWVyKVxuICAgICAgICAgICAgdGhpcy56b29tQ291bnRSZXNldFRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7IHpvb21Db3VudCA9IHpvb21JbkNvdW50ID0gem9vbU91dENvdW50ID0gMDsgcmVjZW50bHlBdXRvWm9vbWVkID0gZmFsc2UgfSwgMTAwMClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgICAuY2F0Y2goZXJyID0+IHRoaXMuc2V0U3RhdGUoe3pvb21Mb2FkaW5nOiBmYWxzZX0pKVxuICB9LFxuXG4gIHJlc2l6ZU1hcCgpIHtcbiAgICBpZih0aGlzLm1hcCAmJiB0aGlzLnRpbGVzKSB7XG4gICAgICB0aGlzLm1hcC5pbnZhbGlkYXRlU2l6ZSgpXG4gICAgICB0aGlzLnRpbGVzLmZpdEJvdW5kc0V4YWN0bHkoKVxuICAgIH1cbiAgfSxcblxuICBpbWFnZVN0YXR1cygpIHtcbiAgICB2YXIge2FydCwgem9vbUxvYWRlZCwgem9vbUxvYWRpbmd9ID0gdGhpcy5zdGF0ZVxuICAgIHZhciBjb3B5cmlnaHRBbmRPblZpZXdNZXNzYWdlID0gYXJ0LnJvb21bMF0gPT0gJ0cnID8gXCIgKFlvdSdsbCBoYXZlIHRvIGNvbWUgc2VlIGl0IGluIHBlcnNvbi4pXCIgOiAnJ1xuICAgIHZhciBsb2FkaW5nWm9vbU1lc3NhZ2UgPSAgYFxuICAgICAgKOKAlElzIHRoYXQgdGhlIGJlc3QgaW1hZ2UgeW91J3ZlIGdvdCEhP1xuICAgICAg4oCUTm9wZSEgV2UncmUgbG9hZGluZyAke2h1bWFuaXplTnVtYmVyKHRoaXMuZ2V0UGl4ZWxEaWZmZXJlbmNlKDQwMCkpfSBtb3JlIHBpeGVscyByaWdodCBub3cuXG4gICAgICBJdCBjYW4gdGFrZSBhIGZldyBzZWNvbmRzLilgXG4gICAgdmFyIHNob3dMb2FkaW5nTWVzc2FnZSA9IHpvb21Mb2FkaW5nICYmIHpvb21Mb2FkZWQgPT09IGZhbHNlICYmICF0aGlzLmNvbnRleHQudW5pdmVyc2FsXG4gICAgdmFyIHNob3dFcnJvck1lc3NhZ2UgPSB6b29tTG9hZGVkID09PSAnZXJyb3InXG4gICAgdmFyIHtzbWFsbFZpZXdwb3J0fSA9IHRoaXMuY29udGV4dFxuXG4gICAgcmV0dXJuIGFydC5pbWFnZSA9PT0gJ3ZhbGlkJyAmJiA8c3BhbiBjbGFzc05hbWU9XCJpbWFnZVN0YXR1c1wiPlxuICAgICAge3Nob3dMb2FkaW5nTWVzc2FnZSAmJiBsb2FkaW5nWm9vbU1lc3NhZ2V9XG4gICAgICB7c2hvd0Vycm9yTWVzc2FnZSAmJiA8cD5FcnJvciBsb2FkaW5nIGhpZ2ggcmVzb2x1dGlvbiBpbWFnZS4gPGEgaHJlZj1cIm1haWx0bzpjb2xsZWN0aW9uc2RhdGEraW1hZ2VzQGFydHNtaWEub3JnXCI+UmVwb3J0IHRoaXMgcHJvYmxlbTwvYT4uPC9wPn1cbiAgICAgIHthcnQucmVzdHJpY3RlZCA9PT0gMSAmJiAhc21hbGxWaWV3cG9ydCAmJiBcIkJlY2F1c2Ugb2YgwqkgcmVzdHJpY3Rpb25zLCB3ZSBjYW4gb25seSBzaG93IHlvdSBhIHNtYWxsIGltYWdlIG9mIHRoaXMgYXJ0d29yay5cIiArIGNvcHlyaWdodEFuZE9uVmlld01lc3NhZ2V9XG4gICAgPC9zcGFuPlxuICB9LFxuXG4gIGNhbGN1bGF0ZUltYWdlUGl4ZWxTaXplKHNpemUpIHtcbiAgICB2YXIge2ltYWdlX3dpZHRoLCBpbWFnZV9oZWlnaHR9ID0gdGhpcy5zdGF0ZS5hcnRcbiAgICB2YXIgbWF4RGltZW5zaW9uID0gTWF0aC5tYXgoaW1hZ2Vfd2lkdGgsIGltYWdlX2hlaWdodClcbiAgICB2YXIgc2l6ZSA9IHNpemUgfHwgbWF4RGltZW5zaW9uXG4gICAgdmFyIHJhdGlvID0gTWF0aC5mbG9vcihtYXhEaW1lbnNpb24vc2l6ZSlcblxuICAgIHJldHVybiBNYXRoLmZsb29yKGltYWdlX3dpZHRoL3JhdGlvKSAqIE1hdGguZmxvb3IoaW1hZ2VfaGVpZ2h0L3JhdGlvKVxuICB9LFxuXG4gIC8vIGhvdyBtYW55IG1vcmUgcGl4ZWxzIGFyZSBpbiB0aGUgZnVsbCBzaXplZCBpbWFnZSB0aGFuIHRoZSBnaXZlbiB0aHVtYm5haWw/XG4gIGdldFBpeGVsRGlmZmVyZW5jZShzaXplPTQwMCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKFxuICAgICAgdGhpcy5jYWxjdWxhdGVJbWFnZVBpeGVsU2l6ZSgpIC0gdGhpcy5jYWxjdWxhdGVJbWFnZVBpeGVsU2l6ZSg0MDApXG4gICAgKVxuICB9LFxuXG4gIGlzTG9hbigpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5hcnQuYWNjZXNzaW9uX251bWJlci5tYXRjaCgvXkwvaSlcbiAgfSxcblxuICAvLyBkaWZmZXJlbnQgZnJvbSB0aGUgbm9JbmRleCBzZXQgYXQgYEFwcGAgLSB0aGlzIGZhY3RvcnMgaW4gb2JqZWN0IHN0YXR1cyBcbiAgbm9JbmRleCgpIHtcbiAgICByZXR1cm4gdGhpcy5pc0xvYW4oKVxuICAgICAgfHwgdGhpcy5zdGF0ZS5hcnQucHVibGljX2FjY2VzcyA9PSAnMCdcbiAgICAgIHx8IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbidcbiAgfSxcblxuICB0b2dnbGVJbmZvQW5kUmVsYXRlZENvbnRlbnQoZXZlbnQpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtzbWFsbFZpZXdwb3J0U2hvd0luZm9PclJlbGF0ZWRDb250ZW50OiAhdGhpcy5zdGF0ZS5zbWFsbFZpZXdwb3J0U2hvd0luZm9PclJlbGF0ZWRDb250ZW50fSlcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gIH0sXG59KVxuQXJ0d29yay5jb250ZXh0VHlwZXMgPSB7XG4gIHJvdXRlcjogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIHVuaXZlcnNhbDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIHNtYWxsVmlld3BvcnQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxufVxuXG52YXIgbm9JbWFnZVN0eWxlID0ge1xuICB3cmFwcGVyOiB7XG4gICAgXCJwb3NpdGlvblwiOiAnYWJzb2x1dGUnLFxuICAgIFwidG9wXCI6ICc1MCUnLFxuICAgIFwibGVmdFwiOiAnNTAlJyxcbiAgICBcInRyYW5zZm9ybVwiOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJyxcbiAgICBcIldlYmtpdFRyYW5zZm9ybVwiOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJyxcbiAgICBcIndpZHRoXCI6ICc3NyUnLFxuICAgIFwidGV4dEFsaWduXCI6ICdjZW50ZXInLFxuICB9LFxuICBwYXR0ZXJuOiB7XG4gIH1cbn1cbnZhciBOb0ltYWdlUGxhY2Vob2xkZXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIge2FydH0gPSB0aGlzLnByb3BzXG4gICAgdmFyIG1vZGVsID0gYXJ0W1wicmVsYXRlZDozZG1vZGVsc1wiXSAmJiBhcnRbXCJyZWxhdGVkOjNkbW9kZWxzXCJdWzBdXG4gICAgcmV0dXJuIG1vZGVsID8gPFNrZXRjaGZhYkVtYmVkIG1vZGVsPXttb2RlbH0gLz4gOlxuICAgICAgPGRpdiBzdHlsZT17bm9JbWFnZVN0eWxlLndyYXBwZXJ9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5vSW1hZ2UgaW52YWxpZFwiPjxwPk5vIEltYWdlIEF2YWlsYWJsZTwvcD48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICB9XG59KVxuXG52YXIgU2tldGNoZmFiRW1iZWQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIgc2hvd0hpZGVTdHlsZSA9IHt9XG4gICAgaWYoIXRoaXMucHJvcHMuc2hvdykgc2hvd0hpZGVTdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbidcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJza2V0Y2hmYWItZW1iZWQtd3JhcHBlclwiIHN0eWxlPXtzaG93SGlkZVN0eWxlfT5cbiAgICAgIDxpZnJhbWVcbiAgICAgICAgc3JjPXtgJHt0aGlzLnByb3BzLm1vZGVsLmxpbmt9L2VtYmVkP2F1dG9zdGFydD0xJnByZWxvYWQ9MSZ1aV9pbmZvcz0wYH1cbiAgICAgICAgZnJhbWVib3JkZXI9XCIwXCJcbiAgICAgICAgYWxsb3d2clxuICAgICAgICBhbGxvd2Z1bGxzY3JlZW4gbW96YWxsb3dmdWxsc2NyZWVuPVwidHJ1ZVwiIHdlYmtpdGFsbG93ZnVsbHNjcmVlbj1cInRydWVcIlxuICAgICAgICBvbm1vdXNld2hlZWw9XCJcIj48L2lmcmFtZT5cbiAgICA8L2Rpdj5cbiAgfVxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBBcnR3b3JrXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/artwork.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/artwork.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\nvar rest = require('rest')\nvar humanizeNumber = require('humanize-number')\nvar Helmet = require('react-helmet')\nvar cx = require('classnames')\n\nvar ArtworkImage = require('./artwork-image')\nvar Markdown = require('./markdown')\nvar ArtworkPreview = require('./artwork-preview')\nvar ArtworkDetails = require('./artwork-details')\nvar _Artwork = require('./_artwork')\nvar Image = require('./image')\nvar imageCDN = require('./image-cdn')\nvar SEARCH = require('./endpoints').search\nvar ArtworkRelatedContent = require('./artwork-related')\n\nvar Sticky = require('react-sticky')\n\nvar Artwork = React.createClass({\n  mixins: [Router.State],\n  statics: {\n    fetchData: {\n      artwork: (params, existingData) => {\n        if(existingData && existingData.id && existingData.id == params.id) return Promise.resolve(existingData)\n        return rest(`${SEARCH}/id/`+params.id)\n        .then((r) => JSON.parse(r.entity))\n        .then(art => {\n          art.slug = _Artwork.slug(art)\n          return art\n        })\n      },\n    },\n\n    willTransitionTo: function (transition, params, query, callback) {\n      var existingArt = window.__DATA__ && window.__DATA__.artwork\n      Artwork.fetchData.artwork(params, existingArt).then(art => {\n        window.__DATA__ = {artwork: art}\n        if(art.slug !== params.slug) {\n          params.slug = art.slug\n          transition.redirect('artworkSlug', params)\n        }\n      }).then(callback)\n    }\n  },\n\n  render() {\n    var art = this.state.art\n    var id = this.props.id || this.state.id\n    const highlights = this.props.highlights\n    var stickyMapStyle = this.context.universal ? {position: 'fixed'} : {}\n    var {smallViewport} = this.context\n\n    var pageTitle = [\n      art.title.replace(/<[^ ]+?>/g, '\"'),\n      _Artwork.Creator.getFacetAndValue(art)[1]\n    ].filter(e => e).join(', ')\n    var imageUrl = imageCDN(id)\n    var canonicalURL = `https://collections.artsmia.org/art/${art.id}/${art.slug}`\n\n    var image = <Image art={art}\n      style={{width: 400, height: 400, maxWidth: '100%'}}\n      ignoreStyle={true} />\n\n    var aspectRatio = art.image_width/art.image_height\n    var mapHeight = art.image == \"valid\" ?\n      Math.max(40, Math.min(65, 1/aspectRatio*80)) :\n      20\n    if(smallViewport && this.state.show3d) mapHeight = 67\n\n    var showMoreIcon = Object.keys(art).filter(key => key.match(/related:/) && !key.match(/related:exhibitions/)).length > 0 &&\n      !this.state.fullscreenImage\n    var toggleRelated = this.state.smallViewportShowInfoOrRelatedContent\n    var exploreIcon = showMoreIcon &&\n      <a href=\"#\" onClick={this.toggleInfoAndRelatedContent} style={{position: 'absolute', zIndex: '10000', right: '7px', bottom: '0px', color: '#232323'}}>\n        {!toggleRelated ? <img src=\"/images/more-icon.svg\" style={{width: '3em'}}/> : <i className=\"control material-icons\">info</i>}\n      </a>\n    var relatedContent = <ArtworkRelatedContent id={id} art={art} />\n\n    var mapStyle = smallViewport ?\n      {width: '100%', display: 'inline-block', height: mapHeight+'vh'} :\n      stickyMapStyle\n\n    var {zoomLoaded} = this.state\n    var zoomLoadedSuccessfully = zoomLoaded && zoomLoaded !== 'error'\n\n    var map = <div ref='map' id='map' style={mapStyle}>\n      {this.state.has3d && <SketchfabEmbed model={this.state.has3d} show={this.state.show3d} />}\n      {zoomLoadedSuccessfully || (art.image == 'valid' && art.rights !== 'Permission Denied') && <div style={{position: 'absolute', top: '50%', left: '50%', transform: 'translate(-50%, -50%)', WebkitTransform: 'translate(-50%, -50%)', width: '100%', textAlign: 'center'}}>\n        {image}\n        {art.image_copyright && <p style={{fontSize: '0.8em'}}>{decodeURIComponent(art.image_copyright)}</p>}\n      </div> || <NoImagePlaceholder art={art} />}\n      {this.imageStatus()}\n      {smallViewport && showMoreIcon && exploreIcon}\n    </div>\n\n    var info = <div className='info'>\n      <ArtworkPreview art={art} showLink={false} showDuplicateDetails={true} />\n      {this.state.has3d && <div className=\"images\">\n        <p onClick={this.toggle3d}>{this.state.show3d ? 'show high-res image' : 'show 3D model'}</p> \n      </div>}\n      <div className=\"back-button\"><a href=\"#\" onClick={() => history.go(-1)}><i className=\"material-icons\">arrow_back</i> back</a></div>\n      {smallViewport || relatedContent}\n      <div>\n        <h5 className='details-title'>Details</h5>\n        <ArtworkDetails art={art} show3d={this.state.show3d} />\n      </div>\n    </div>\n\n    var smallViewportWithTabbedInfoAndRelated = <div>\n      <div style={{display: !!toggleRelated ? 'none' : 'block'}}>{info}</div>\n      <div style={{display: !toggleRelated ? 'none' : 'block'}}><div className='info'>{relatedContent}</div></div>\n    </div>\n    // TODO: should the related content be in both the info and more-specific view?\n    // react can't gradt an <audio> tag while playing, so showing it in both places makes the playback weird.\n    // code below in case this needs to be revisited\n    // {(smallViewport && toggleRelated) || relatedContent} <- goes into info div\n    // var smallViewportWithTabbedInfoAndRelated = !toggleRelated ? \n    //   info :\n    //   <div className=\"info\">{relatedContent}</div>\n\n    var content\n    if(smallViewport) {\n      content = <div>\n        {map}\n        {smallViewportWithTabbedInfoAndRelated}\n      </div>\n    } else {\n      content = <div>\n        {info}\n\n        <Sticky\n          stickyStyle={{position: 'fixed', height: '100%', width: '65%', top: 0, transform: 'translate3d(0px,0px,0px)'}}\n          onStickyStateChange={this.resizeMap}>\n          {map}\n        </Sticky>\n      </div>\n    }\n\n    return <div className={cx('artwork', {smallviewport: smallViewport})}>\n      {content}\n      <Helmet\n        title={pageTitle}\n        meta={[\n          {property: \"og:title\", content: pageTitle + ' | Minneapolis Institute of Art'},\n          {property: \"og:description\", content: art.text},\n          {property: \"og:image\", content: imageUrl},\n          {property: \"twitter:card\", content: \"summary_large_image\"},\n          {property: \"twitter:site\", content: \"@artsmia\"},\n          {property: \"robots\", content: this.noIndex() ? 'follow,noindex' : 'all'},\n        ]}\n        />\n    </div>\n  },\n\n  toggle3d() {\n    var nextShow3d = !this.state.show3d\n    this.setState({show3d: nextShow3d})\n    if(!nextShow3d) {\n      if(!this.state.zoomLoaded) this.loadZoom()\n    }\n    if(nextShow3d && this.state.zoomLoaded) {\n    }\n  },\n\n  getInitialState() {\n    var art = this.props.data.artwork\n    art.id = this.props.id || art.id.replace('http://api.artsmia.org/objects/', '')\n\n    var has3Dmodel = art[\"related:3dmodels\"] && art[\"related:3dmodels\"][0]\n    var navigatedFrom3dModelSearch = window &&\n      window.lastSearchedTerms && \n      window.lastSearchedTerms.indexOf('related:3dmodels') >= 0\n\n    return {\n      art: art,\n      id: art.id,\n      fullscreenImage: false,\n      has3d: has3Dmodel,\n      show3d: navigatedFrom3dModelSearch,\n      smallViewportShowInfoOrRelatedContent: window && window.enteredViaMore,\n    }\n  },\n\n  componentDidMount() {\n    var art = this.state.art\n    if(art.image === 'valid' && art.restricted != 1 && !this.isLoan() && !this.state.show3d) this.loadZoom()\n    var {smallViewport} = this.context\n    // push the viewport down past the header to maximize image/text on the page\n    // scrolling back up reveals the menu\n    // TODO: is there a way to automatically trigger safari's minimal chrome other than a user-initiated scroll event? (probably not https://stackoverflow.com/a/26884561)\n    if(smallViewport && window.scrollX == 0) setTimeout(() => window.scrollTo(0, 56), 0)\n  },\n\n  componentDidUpdate() {\n    if(this.context.smallViewport != this.state.lastSmallViewportSetting) {\n      this.setState({lastSmallViewportSetting: this.context.smallViewport})\n      if(this.map && this.tiles) {\n        this.map.off()\n        this.map.remove()\n        this.map = undefined\n        this.loadZoom()\n      }\n    }\n  },\n\n  loadZoom() {\n    var L = require('museum-tile-layer')\n    var fullscreen = require('leaflet-fullscreen')\n\n    var art = this.state.art\n    this.setState({zoomLoaded: false, zoomLoading: true})\n\n    rest(`//tiles.dx.artsmia.org/${this.state.id}.json`)\n    .then(\n      response => JSON.parse(response.entity),\n      rejected => {\n        // TODO: log this somewhere\n        this.setState({zoomLoaded: 'error'})\n        return Promise.reject(new Error(`can't load tiles for ${art.id}`))\n      }\n    )\n    .then((data) => {\n      this.map = L.map(this.refs.map, {\n        crs: L.CRS.Simple,\n        zoomControl: false,\n      })\n      this.map.attributionControl.setPrefix('')\n      this.map.setView([art.image_width/2, art.image_height/2], 0)\n      if(!L.Browser.touch) new L.Control.Zoom({ position: 'topright' }).addTo(this.map)\n      new L.Control.Fullscreen({\n        position: 'topright',\n        pseudoFullscreen: true,\n      }).addTo(this.map)\n\n      this.tiles = L.museumTileLayer('https://{s}.tiles.dx.artsmia.org/{id}/{z}/{x}/{y}.png', {\n        attribution: art.image_copyright ? decodeURIComponent(art.image_copyright) : '',\n        id: this.state.id,\n        width: data.width,\n        height: data.height,\n        tileSize: data.tileSize || 256,\n      })\n      this.tiles.addTo(this.map)\n\n      // this.tiles.fillContainer()\n      this.setState({zoomLoading: false, zoomLoaded: true})\n      this.map.on('fullscreenchange', () => {\n        this.setState({fullscreenImage: !this.state.fullscreenImage})\n        this.props.toggleAppHeader()\n      })\n      var zoomCount, zoomInCount, zoomOutCount, prevZoom, nowZoom;\n      var zoomCount = zoomInCount = zoomOutCount = 0;\n      var prevZoom = nowZoom = this.map.getZoom();\n      var recentlyAutoZoomed = false;\n\n      this.map.on('zoomstart zoomend', (event) => {\n        [prevZoom, nowZoom] = [nowZoom, this.map.getZoom()]\n        zoomCount += 1\n        nowZoom > prevZoom ? zoomInCount += 1 : zoomOutCount += 1\n\n        var {smallViewport} = this.context\n        var isSecondZoomInAction = zoomInCount == 2\n        if(smallViewport && !recentlyAutoZoomed) {\n          // fullscreen the image when a user zooms twice in a row\n          // leave fullscreen when they return to minZoom\n          // mobile-only for now\n          var reasonsToChangeFullscreen = [\n            event.type == 'zoomstart' && zoomInCount == 2 && !this.map.isFullscreen(), // zooming in when not fullscreen\n            event.type == 'zoomend' && nowZoom >= 3 && !this.map.isFullscreen(), // not fullscreen and zoomed in quite far\n            event.type == 'zoomend' && this.map.getZoom() == this.map.getMinZoom() && this.map.isFullscreen(), // in fullscreen, zooming out to minZoom\n          ]\n          if(reasonsToChangeFullscreen.find(reason => reason)) { // if any of the valid reasons evaluate to true\n            this.map.toggleFullscreen({pseudoFullscreen: true})\n            recentlyAutoZoomed = true\n            clearTimeout(this.zoomCountResetTimer)\n            this.zoomCountResetTimer = setTimeout(() => { zoomCount = zoomInCount = zoomOutCount = 0; recentlyAutoZoomed = false }, 1000)\n          }\n        }\n      })\n    })\n    .catch(err => this.setState({zoomLoading: false}))\n  },\n\n  resizeMap() {\n    if(this.map && this.tiles) {\n      this.map.invalidateSize()\n      this.tiles.fitBoundsExactly()\n    }\n  },\n\n  imageStatus() {\n    var {art, zoomLoaded, zoomLoading} = this.state\n    var copyrightAndOnViewMessage = art.room[0] == 'G' ? \" (You'll have to come see it in person.)\" : ''\n    var loadingZoomMessage =  `\n      (—Is that the best image you've got!!?\n      —Nope! We're loading ${humanizeNumber(this.getPixelDifference(400))} more pixels right now.\n      It can take a few seconds.)`\n    var showLoadingMessage = zoomLoading && zoomLoaded === false && !this.context.universal\n    var showErrorMessage = zoomLoaded === 'error'\n    var {smallViewport} = this.context\n\n    return art.image === 'valid' && <span className=\"imageStatus\">\n      {showLoadingMessage && loadingZoomMessage}\n      {showErrorMessage && <p>Error loading high resolution image. <a href=\"mailto:collectionsdata+images@artsmia.org\">Report this problem</a>.</p>}\n      {art.restricted === 1 && !smallViewport && \"Because of © restrictions, we can only show you a small image of this artwork.\" + copyrightAndOnViewMessage}\n    </span>\n  },\n\n  calculateImagePixelSize(size) {\n    var {image_width, image_height} = this.state.art\n    var maxDimension = Math.max(image_width, image_height)\n    var size = size || maxDimension\n    var ratio = Math.floor(maxDimension/size)\n\n    return Math.floor(image_width/ratio) * Math.floor(image_height/ratio)\n  },\n\n  // how many more pixels are in the full sized image than the given thumbnail?\n  getPixelDifference(size=400) {\n    return Math.floor(\n      this.calculateImagePixelSize() - this.calculateImagePixelSize(400)\n    )\n  },\n\n  isLoan() {\n    return this.state.art.accession_number.match(/^L/i)\n  },\n\n  // different from the noIndex set at `App` - this factors in object status \n  noIndex() {\n    return this.isLoan()\n      || this.state.art.public_access == '0'\n      || process.env.NODE_ENV !== 'production'\n  },\n\n  toggleInfoAndRelatedContent(event) {\n    this.setState({smallViewportShowInfoOrRelatedContent: !this.state.smallViewportShowInfoOrRelatedContent})\n    event.preventDefault()\n  },\n})\nArtwork.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n  smallViewport: React.PropTypes.bool,\n}\n\nvar noImageStyle = {\n  wrapper: {\n    \"position\": 'absolute',\n    \"top\": '50%',\n    \"left\": '50%',\n    \"transform\": 'translate(-50%, -50%)',\n    \"WebkitTransform\": 'translate(-50%, -50%)',\n    \"width\": '77%',\n    \"textAlign\": 'center',\n  },\n  pattern: {\n  }\n}\nvar NoImagePlaceholder = React.createClass({\n  render() {\n    var {art} = this.props\n    var model = art[\"related:3dmodels\"] && art[\"related:3dmodels\"][0]\n    return model ? <SketchfabEmbed model={model} /> :\n      <div style={noImageStyle.wrapper}>\n        <div className=\"noImage invalid\"><p>No Image Available</p></div>\n      </div>\n  }\n})\n\nvar SketchfabEmbed = React.createClass({\n  render() {\n    var showHideStyle = {}\n    if(!this.props.show) showHideStyle.visibility = 'hidden'\n    return <div className=\"sketchfab-embed-wrapper\" style={showHideStyle}>\n      <iframe\n        src={`${this.props.model.link}/embed?autostart=1&preload=1&ui_infos=0`}\n        frameborder=\"0\"\n        allowvr\n        allowfullscreen mozallowfullscreen=\"true\" webkitallowfullscreen=\"true\"\n        onmousewheel=\"\"></iframe>\n    </div>\n  }\n})\n\nmodule.exports = Artwork\n"
      ]
    },
    "mtime": 1489007701718
  },
  "{\"filename\":\"/var/www/art/src/artists-by-letter.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar rest = require('rest');\n\nvar ArtistsByLetter = React.createClass({\n  displayName: 'ArtistsByLetter',\n\n  mixins: [Router.State, Router.Navigation],\n\n  statics: {\n    fetchData: function fetchData(params) {\n      return rest('https://cdn.dx.artsmia.org/artists.json').then(function (r) {\n        return JSON.parse(r.entity).aggregations.artist.buckets;\n      });\n    }\n  },\n\n  render: function render() {\n    if (!this.props.data.artistsByName) return React.createElement('div', { className: 'loading' });\n    var letter = this.getParams().letter;\n    var letters = this.props.data.artistsByName.map(function (a) {\n      return a;\n    });\n    console.info(letters);\n    return React.createElement(\n      'dl',\n      null,\n      letters.map(function (l) {\n        return React.createElement(\n          'div',\n          { className: 'artist-by-letter' },\n          React.createElement(\n            'dt',\n            { key: l.key },\n            React.createElement(\n              Link,\n              { to: 'artistsByName', params: { letter: l.key } },\n              l.key\n            )\n          ),\n          letter === l.key && React.createElement(\n            'dd',\n            { style: { position: 'absolute', top: '3em' } },\n            l.byName.buckets.map(function (b) {\n              return React.createElement(\n                Link,\n                { to: 'filteredSearchResults', params: { terms: '*', splat: 'artist.raw:%22' + b.key + '%22' }, style: { display: 'block' } },\n                b.key\n              );\n            })\n          )\n        );\n      })\n    );\n  }\n});\n\nmodule.exports = ArtistsByLetter;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYXJ0aXN0cy1ieS1sZXR0ZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0lBQzlCLElBQUksR0FBSyxNQUFNLENBQWYsSUFBSTs7QUFDVixJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUE7O0FBRTFCLElBQUksZUFBZSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUN0QyxRQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxVQUFVLENBQUM7O0FBRXpDLFNBQU8sRUFBRTtBQUNQLGFBQVMsRUFBRSxtQkFBQyxNQUFNLEVBQUs7QUFDckIsYUFBTyxJQUFJLENBQUMseUNBQXlDLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQyxDQUFDLEVBQUs7QUFDakUsZUFBTyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQTtPQUN4RCxDQUFDLENBQUE7S0FDSDtHQUNGOztBQUVELFFBQU0sRUFBQSxrQkFBRztBQUNQLFFBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsT0FBTyw2QkFBSyxTQUFTLEVBQUMsU0FBUyxHQUFPLENBQUE7QUFDekUsUUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLE1BQU0sQ0FBQTtBQUNwQyxRQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLFVBQUMsQ0FBQzthQUFLLENBQUM7S0FBQSxDQUFDLENBQUE7QUFDekQsV0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUNyQixXQUNFOzs7TUFDQyxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQUMsQ0FBQyxFQUFLO0FBQ2xCLGVBQU87O1lBQUssU0FBUyxFQUFDLGtCQUFrQjtVQUN0Qzs7Y0FBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQUFBQztZQUFDO0FBQUMsa0JBQUk7Z0JBQUMsRUFBRSxFQUFDLGVBQWUsRUFBQyxNQUFNLEVBQUUsRUFBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBQyxBQUFDO2NBQUUsQ0FBQyxDQUFDLEdBQUc7YUFBUTtXQUFLO1VBQ3BGLE1BQU0sS0FBSyxDQUFDLENBQUMsR0FBRyxJQUFJOztjQUFJLEtBQUssRUFBRSxFQUFDLFFBQVEsRUFBRSxVQUFVLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBQyxBQUFDO1lBQ2hFLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFDLENBQUM7cUJBQUs7QUFBQyxvQkFBSTtrQkFBQyxFQUFFLEVBQUMsdUJBQXVCLEVBQUMsTUFBTSxFQUFFLEVBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxLQUFLLHFCQUFtQixDQUFDLENBQUMsR0FBRyxRQUFLLEVBQUMsQUFBQyxFQUFDLEtBQUssRUFBRSxFQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUMsQUFBQztnQkFBRSxDQUFDLENBQUMsR0FBRztlQUFRO2FBQUEsQ0FBQztXQUMvSjtTQUNELENBQUE7T0FDUCxDQUFDO0tBQ0csQ0FDTjtHQUNGO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsZUFBZSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvYXJ0aXN0cy1ieS1sZXR0ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciB7IExpbmsgfSA9IFJvdXRlclxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcblxudmFyIEFydGlzdHNCeUxldHRlciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgbWl4aW5zOiBbUm91dGVyLlN0YXRlLCBSb3V0ZXIuTmF2aWdhdGlvbl0sXG5cbiAgc3RhdGljczogeyBcbiAgICBmZXRjaERhdGE6IChwYXJhbXMpID0+IHtcbiAgICAgIHJldHVybiByZXN0KCdodHRwczovL2Nkbi5keC5hcnRzbWlhLm9yZy9hcnRpc3RzLmpzb24nKS50aGVuKChyKSA9PiB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHIuZW50aXR5KS5hZ2dyZWdhdGlvbnMuYXJ0aXN0LmJ1Y2tldHNcbiAgICAgIH0pXG4gICAgfVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICBpZighdGhpcy5wcm9wcy5kYXRhLmFydGlzdHNCeU5hbWUpIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImxvYWRpbmdcIj48L2Rpdj5cbiAgICB2YXIgbGV0dGVyID0gdGhpcy5nZXRQYXJhbXMoKS5sZXR0ZXJcbiAgICB2YXIgbGV0dGVycyA9IHRoaXMucHJvcHMuZGF0YS5hcnRpc3RzQnlOYW1lLm1hcCgoYSkgPT4gYSlcbiAgICBjb25zb2xlLmluZm8obGV0dGVycylcbiAgICByZXR1cm4gKFxuICAgICAgPGRsPlxuICAgICAge2xldHRlcnMubWFwKChsKSA9PiB7XG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT0nYXJ0aXN0LWJ5LWxldHRlcic+XG4gICAgICAgICAgPGR0IGtleT17bC5rZXl9PjxMaW5rIHRvPVwiYXJ0aXN0c0J5TmFtZVwiIHBhcmFtcz17e2xldHRlcjogbC5rZXl9fT57bC5rZXl9PC9MaW5rPjwvZHQ+XG4gICAgICAgICAge2xldHRlciA9PT0gbC5rZXkgJiYgPGRkIHN0eWxlPXt7cG9zaXRpb246ICdhYnNvbHV0ZScsIHRvcDogJzNlbSd9fT5cbiAgICAgICAgICAgIHtsLmJ5TmFtZS5idWNrZXRzLm1hcCgoYikgPT4gPExpbmsgdG89XCJmaWx0ZXJlZFNlYXJjaFJlc3VsdHNcIiBwYXJhbXM9e3t0ZXJtczogJyonLCBzcGxhdDogYGFydGlzdC5yYXc6JTIyJHtiLmtleX0lMjJgfX0gc3R5bGU9e3tkaXNwbGF5OiAnYmxvY2snfX0+e2Iua2V5fTwvTGluaz4pfVxuICAgICAgICAgIDwvZGQ+fVxuICAgICAgICA8L2Rpdj5cbiAgICAgIH0pfVxuICAgICAgPC9kbD5cbiAgICApXG4gIH1cbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gQXJ0aXN0c0J5TGV0dGVyXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/artists-by-letter.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;IAC9B,IAAI,GAAK,MAAM,CAAf,IAAI;;AACV,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;;AAE1B,IAAI,eAAe,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACtC,QAAM,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,UAAU,CAAC;;AAEzC,SAAO,EAAE;AACP,aAAS,EAAE,mBAAC,MAAM,EAAK;AACrB,aAAO,IAAI,CAAC,yCAAyC,CAAC,CAAC,IAAI,CAAC,UAAC,CAAC,EAAK;AACjE,eAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,CAAA;OACxD,CAAC,CAAA;KACH;GACF;;AAED,QAAM,EAAA,kBAAG;AACP,QAAG,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,EAAE,OAAO,6BAAK,SAAS,EAAC,SAAS,GAAO,CAAA;AACzE,QAAI,MAAM,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC,MAAM,CAAA;AACpC,QAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,UAAC,CAAC;aAAK,CAAC;KAAA,CAAC,CAAA;AACzD,WAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;AACrB,WACE;;;MACC,OAAO,CAAC,GAAG,CAAC,UAAC,CAAC,EAAK;AAClB,eAAO;;YAAK,SAAS,EAAC,kBAAkB;UACtC;;cAAI,GAAG,EAAE,CAAC,CAAC,GAAG,AAAC;YAAC;AAAC,kBAAI;gBAAC,EAAE,EAAC,eAAe,EAAC,MAAM,EAAE,EAAC,MAAM,EAAE,CAAC,CAAC,GAAG,EAAC,AAAC;cAAE,CAAC,CAAC,GAAG;aAAQ;WAAK;UACpF,MAAM,KAAK,CAAC,CAAC,GAAG,IAAI;;cAAI,KAAK,EAAE,EAAC,QAAQ,EAAE,UAAU,EAAE,GAAG,EAAE,KAAK,EAAC,AAAC;YAChE,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,UAAC,CAAC;qBAAK;AAAC,oBAAI;kBAAC,EAAE,EAAC,uBAAuB,EAAC,MAAM,EAAE,EAAC,KAAK,EAAE,GAAG,EAAE,KAAK,qBAAmB,CAAC,CAAC,GAAG,QAAK,EAAC,AAAC,EAAC,KAAK,EAAE,EAAC,OAAO,EAAE,OAAO,EAAC,AAAC;gBAAE,CAAC,CAAC,GAAG;eAAQ;aAAA,CAAC;WAC/J;SACD,CAAA;OACP,CAAC;KACG,CACN;GACF;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,eAAe,CAAA",
      "file": "/var/www/art/src/artists-by-letter.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar { Link } = Router\nvar rest = require('rest')\n\nvar ArtistsByLetter = React.createClass({\n  mixins: [Router.State, Router.Navigation],\n\n  statics: { \n    fetchData: (params) => {\n      return rest('https://cdn.dx.artsmia.org/artists.json').then((r) => {\n        return JSON.parse(r.entity).aggregations.artist.buckets\n      })\n    }\n  },\n\n  render() {\n    if(!this.props.data.artistsByName) return <div className=\"loading\"></div>\n    var letter = this.getParams().letter\n    var letters = this.props.data.artistsByName.map((a) => a)\n    console.info(letters)\n    return (\n      <dl>\n      {letters.map((l) => {\n        return <div className='artist-by-letter'>\n          <dt key={l.key}><Link to=\"artistsByName\" params={{letter: l.key}}>{l.key}</Link></dt>\n          {letter === l.key && <dd style={{position: 'absolute', top: '3em'}}>\n            {l.byName.buckets.map((b) => <Link to=\"filteredSearchResults\" params={{terms: '*', splat: `artist.raw:%22${b.key}%22`}} style={{display: 'block'}}>{b.key}</Link>)}\n          </dd>}\n        </div>\n      })}\n      </dl>\n    )\n  }\n})\n\nmodule.exports = ArtistsByLetter\n"
      ]
    },
    "mtime": 1485807805238
  },
  "{\"filename\":\"/var/www/art/src/objects-by-id.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar rest = require('rest');\n\nvar SEARCH = require('./endpoints').search;\nvar ArtworkResult = require('./artwork-result');\nvar Search = require('./search');\n\nvar ObjectsById = React.createClass({\n  displayName: 'ObjectsById',\n\n  mixins: [Router.State],\n\n  statics: {\n    fetchData: {\n      searchResults: function searchResults(params) {\n        return rest(SEARCH + '/ids/' + params.ids).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    return React.createElement(Search, this.props);\n  }\n});\n\nmodule.exports = ObjectsById;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvb2JqZWN0cy1ieS1pZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUM1QixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7QUFDcEMsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFBOztBQUUxQixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsTUFBTSxDQUFBO0FBQzFDLElBQUksYUFBYSxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFBO0FBQy9DLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQTs7QUFFaEMsSUFBSSxXQUFXLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ2xDLFFBQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7O0FBRXRCLFNBQU8sRUFBRTtBQUNQLGFBQVMsRUFBRTtBQUNULG1CQUFhLEVBQUUsdUJBQUMsTUFBTTtlQUFLLElBQUksQ0FBSSxNQUFNLGFBQVEsTUFBTSxDQUFDLEdBQUcsQ0FBRyxDQUFDLElBQUksQ0FBQyxVQUFDLENBQUM7aUJBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO1NBQUEsQ0FBQztPQUFBO0tBQ2pHO0dBQ0Y7O0FBRUQsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsV0FBTyxvQkFBQyxNQUFNLEVBQUssSUFBSSxDQUFDLEtBQUssQ0FBSSxDQUFBO0dBQ2xDO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsV0FBVyxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvb2JqZWN0cy1ieS1pZC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcblxudmFyIFNFQVJDSCA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJykuc2VhcmNoXG52YXIgQXJ0d29ya1Jlc3VsdCA9IHJlcXVpcmUoJy4vYXJ0d29yay1yZXN1bHQnKVxudmFyIFNlYXJjaCA9IHJlcXVpcmUoJy4vc2VhcmNoJylcblxudmFyIE9iamVjdHNCeUlkID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBtaXhpbnM6IFtSb3V0ZXIuU3RhdGVdLFxuXG4gIHN0YXRpY3M6IHtcbiAgICBmZXRjaERhdGE6IHtcbiAgICAgIHNlYXJjaFJlc3VsdHM6IChwYXJhbXMpID0+IHJlc3QoYCR7U0VBUkNIfS9pZHMvJHtwYXJhbXMuaWRzfWApLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpKSxcbiAgICB9LFxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPFNlYXJjaCB7Li4udGhpcy5wcm9wc30gLz5cbiAgfVxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3RzQnlJZFxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/objects-by-id.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACpC,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;;AAE1B,IAAI,MAAM,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC,MAAM,CAAA;AAC1C,IAAI,aAAa,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAA;AAC/C,IAAI,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA;;AAEhC,IAAI,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAClC,QAAM,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;;AAEtB,SAAO,EAAE;AACP,aAAS,EAAE;AACT,mBAAa,EAAE,uBAAC,MAAM;eAAK,IAAI,CAAI,MAAM,aAAQ,MAAM,CAAC,GAAG,CAAG,CAAC,IAAI,CAAC,UAAC,CAAC;iBAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;SAAA,CAAC;OAAA;KACjG;GACF;;AAED,QAAM,EAAA,kBAAG;AACP,WAAO,oBAAC,MAAM,EAAK,IAAI,CAAC,KAAK,CAAI,CAAA;GAClC;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,WAAW,CAAA",
      "file": "/var/www/art/src/objects-by-id.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar rest = require('rest')\n\nvar SEARCH = require('./endpoints').search\nvar ArtworkResult = require('./artwork-result')\nvar Search = require('./search')\n\nvar ObjectsById = React.createClass({\n  mixins: [Router.State],\n\n  statics: {\n    fetchData: {\n      searchResults: (params) => rest(`${SEARCH}/ids/${params.ids}`).then((r) => JSON.parse(r.entity)),\n    },\n  },\n\n  render() {\n    return <Search {...this.props} />\n  }\n})\n\nmodule.exports = ObjectsById\n"
      ]
    },
    "mtime": 1456957925207
  },
  "{\"filename\":\"/var/www/art/src/department.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "sliced-to-array",
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Helmet = require('react-helmet');\n\nvar rest = require('rest');\n\nvar Search = require('./search');\nvar SearchResults = require('./search-results');\nvar Peek = require('./peek');\nvar DepartmentDecorator = require('./decorate/department');\nvar findDepartment = require('./department-slug');\nvar endpoint = require('./endpoints').info;\n\nvar Department = React.createClass({\n  displayName: 'Department',\n\n  mixins: [Router.State],\n\n  statics: {\n    fetchData: {\n      searchResults: function searchResults(params, query) {\n        params.terms = '*';\n        var name = findDepartment(params.dept)[0];\n        params.splat = 'department:\"' + name + '\"';\n        return SearchResults.fetchData.searchResults(params, query);\n      },\n      departments: function departments(params, query) {\n        return rest(endpoint).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var _findDepartment = findDepartment(this.props.params.dept);\n\n    var _findDepartment2 = _slicedToArray(_findDepartment, 3);\n\n    var deptName = _findDepartment2[0];\n    var _ = _findDepartment2[1];\n    var slug = _findDepartment2[2];\n\n    var facet = 'department:\"' + deptName + '\"';\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(Search, _extends({\n        facet: facet\n      }, this.props, {\n        hideInput: true,\n        hideResults: true })),\n      React.createElement(\n        'div',\n        { className: 'departmentPage' },\n        React.createElement(DepartmentDecorator, { department: deptName, params: this.props.params, departmentInfo: this.props.data.departments })\n      ),\n      React.createElement(Peek, { facet: 'department', q: deptName, quiltProps: { maxRowHeight: 400 }, offset: 10 }),\n      React.createElement(Helmet, { title: deptName })\n    );\n  }\n});\n\nmodule.exports = Department;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZGVwYXJ0bWVudC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0FBQ3BDLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTs7QUFFcEMsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFBOztBQUUxQixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUE7QUFDaEMsSUFBSSxhQUFhLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUE7QUFDL0MsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQzVCLElBQUksbUJBQW1CLEdBQUcsT0FBTyxDQUFDLHVCQUF1QixDQUFDLENBQUE7QUFDMUQsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7QUFDakQsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLElBQUksQ0FBQTs7QUFFMUMsSUFBSSxVQUFVLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ2pDLFFBQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7O0FBRXRCLFNBQU8sRUFBRTtBQUNQLGFBQVMsRUFBRTtBQUNULG1CQUFhLEVBQUUsdUJBQUMsTUFBTSxFQUFFLEtBQUssRUFBSztBQUNoQyxjQUFNLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQTtBQUNsQixZQUFJLElBQUksR0FBRyxjQUFjLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQ3pDLGNBQU0sQ0FBQyxLQUFLLEdBQUcsY0FBYyxHQUFDLElBQUksR0FBQyxHQUFHLENBQUE7QUFDdEMsZUFBTyxhQUFhLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUE7T0FDNUQ7QUFDRCxpQkFBVyxFQUFFLHFCQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUs7QUFDOUIsZUFBTyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsQ0FBQztpQkFBSyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7U0FBQSxDQUFDLENBQUE7T0FDeEQ7S0FDRjtHQUNGOztBQUVELFFBQU0sRUFBQSxrQkFBRzswQkFDbUIsY0FBYyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQzs7OztRQUEzRCxRQUFRO1FBQUUsQ0FBQztRQUFFLElBQUk7O0FBQ3RCLFFBQUksS0FBSyxvQkFBa0IsUUFBUSxNQUFHLENBQUE7QUFDdEMsV0FBTzs7O01BQ0wsb0JBQUMsTUFBTTtBQUNMLGFBQUssRUFBRSxLQUFLLEFBQUM7U0FDVCxJQUFJLENBQUMsS0FBSztBQUNkLGlCQUFTLEVBQUUsSUFBSSxBQUFDO0FBQ2hCLG1CQUFXLEVBQUUsSUFBSSxBQUFDLElBQUc7TUFDdkI7O1VBQUssU0FBUyxFQUFDLGdCQUFnQjtRQUM3QixvQkFBQyxtQkFBbUIsSUFBQyxVQUFVLEVBQUUsUUFBUSxBQUFDLEVBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxBQUFDLEVBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFdBQVcsQUFBQyxHQUFHO09BQ2pIO01BQ04sb0JBQUMsSUFBSSxJQUFDLEtBQUssRUFBQyxZQUFZLEVBQUMsQ0FBQyxFQUFFLFFBQVEsQUFBQyxFQUFDLFVBQVUsRUFBRSxFQUFDLFlBQVksRUFBRSxHQUFHLEVBQUMsQUFBQyxFQUFDLE1BQU0sRUFBRSxFQUFFLEFBQUMsR0FBRTtNQUNwRixvQkFBQyxNQUFNLElBQUMsS0FBSyxFQUFFLFFBQVEsQUFBQyxHQUFHO0tBQ3ZCLENBQUE7R0FDUDtDQUNGLENBQUMsQ0FBQTs7QUFFRixNQUFNLENBQUMsT0FBTyxHQUFHLFVBQVUsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL2RlcGFydG1lbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxuXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxuXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zZWFyY2gnKVxudmFyIFNlYXJjaFJlc3VsdHMgPSByZXF1aXJlKCcuL3NlYXJjaC1yZXN1bHRzJylcbnZhciBQZWVrID0gcmVxdWlyZSgnLi9wZWVrJylcbnZhciBEZXBhcnRtZW50RGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9kZXBhcnRtZW50JylcbnZhciBmaW5kRGVwYXJ0bWVudCA9IHJlcXVpcmUoJy4vZGVwYXJ0bWVudC1zbHVnJylcbnZhciBlbmRwb2ludCA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJykuaW5mb1xuXG52YXIgRGVwYXJ0bWVudCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgbWl4aW5zOiBbUm91dGVyLlN0YXRlXSxcblxuICBzdGF0aWNzOiB7XG4gICAgZmV0Y2hEYXRhOiB7XG4gICAgICBzZWFyY2hSZXN1bHRzOiAocGFyYW1zLCBxdWVyeSkgPT4ge1xuICAgICAgICBwYXJhbXMudGVybXMgPSAnKidcbiAgICAgICAgdmFyIG5hbWUgPSBmaW5kRGVwYXJ0bWVudChwYXJhbXMuZGVwdClbMF1cbiAgICAgICAgcGFyYW1zLnNwbGF0ID0gJ2RlcGFydG1lbnQ6XCInK25hbWUrJ1wiJ1xuICAgICAgICByZXR1cm4gU2VhcmNoUmVzdWx0cy5mZXRjaERhdGEuc2VhcmNoUmVzdWx0cyhwYXJhbXMsIHF1ZXJ5KVxuICAgICAgfSxcbiAgICAgIGRlcGFydG1lbnRzOiAocGFyYW1zLCBxdWVyeSkgPT4ge1xuICAgICAgICByZXR1cm4gcmVzdChlbmRwb2ludCkudGhlbigocikgPT4gSlNPTi5wYXJzZShyLmVudGl0eSkpXG4gICAgICB9XG4gICAgfSxcbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIFtkZXB0TmFtZSwgXywgc2x1Z10gPSBmaW5kRGVwYXJ0bWVudCh0aGlzLnByb3BzLnBhcmFtcy5kZXB0KVxuICAgIHZhciBmYWNldCA9IGBkZXBhcnRtZW50OlwiJHtkZXB0TmFtZX1cImBcbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIDxTZWFyY2hcbiAgICAgICAgZmFjZXQ9e2ZhY2V0fVxuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgaGlkZUlucHV0PXt0cnVlfVxuICAgICAgICBoaWRlUmVzdWx0cz17dHJ1ZX0gLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGVwYXJ0bWVudFBhZ2VcIj5cbiAgICAgICAgPERlcGFydG1lbnREZWNvcmF0b3IgZGVwYXJ0bWVudD17ZGVwdE5hbWV9IHBhcmFtcz17dGhpcy5wcm9wcy5wYXJhbXN9IGRlcGFydG1lbnRJbmZvPXt0aGlzLnByb3BzLmRhdGEuZGVwYXJ0bWVudHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxQZWVrIGZhY2V0PVwiZGVwYXJ0bWVudFwiIHE9e2RlcHROYW1lfSBxdWlsdFByb3BzPXt7bWF4Um93SGVpZ2h0OiA0MDB9fSBvZmZzZXQ9ezEwfS8+XG4gICAgICA8SGVsbWV0IHRpdGxlPXtkZXB0TmFtZX0gLz5cbiAgICA8L2Rpdj5cbiAgfVxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBEZXBhcnRtZW50XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/department.js"
      ],
      "names": [],
      "mappings": ";;;;;;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACpC,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;;AAEpC,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;;AAE1B,IAAI,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA;AAChC,IAAI,aAAa,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAA;AAC/C,IAAI,IAAI,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAA;AAC5B,IAAI,mBAAmB,GAAG,OAAO,CAAC,uBAAuB,CAAC,CAAA;AAC1D,IAAI,cAAc,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAA;AACjD,IAAI,QAAQ,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC,IAAI,CAAA;;AAE1C,IAAI,UAAU,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACjC,QAAM,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;;AAEtB,SAAO,EAAE;AACP,aAAS,EAAE;AACT,mBAAa,EAAE,uBAAC,MAAM,EAAE,KAAK,EAAK;AAChC,cAAM,CAAC,KAAK,GAAG,GAAG,CAAA;AAClB,YAAI,IAAI,GAAG,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAA;AACzC,cAAM,CAAC,KAAK,GAAG,cAAc,GAAC,IAAI,GAAC,GAAG,CAAA;AACtC,eAAO,aAAa,CAAC,SAAS,CAAC,aAAa,CAAC,MAAM,EAAE,KAAK,CAAC,CAAA;OAC5D;AACD,iBAAW,EAAE,qBAAC,MAAM,EAAE,KAAK,EAAK;AAC9B,eAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,CAAC;iBAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;SAAA,CAAC,CAAA;OACxD;KACF;GACF;;AAED,QAAM,EAAA,kBAAG;0BACmB,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC;;;;QAA3D,QAAQ;QAAE,CAAC;QAAE,IAAI;;AACtB,QAAI,KAAK,oBAAkB,QAAQ,MAAG,CAAA;AACtC,WAAO;;;MACL,oBAAC,MAAM;AACL,aAAK,EAAE,KAAK,AAAC;SACT,IAAI,CAAC,KAAK;AACd,iBAAS,EAAE,IAAI,AAAC;AAChB,mBAAW,EAAE,IAAI,AAAC,IAAG;MACvB;;UAAK,SAAS,EAAC,gBAAgB;QAC7B,oBAAC,mBAAmB,IAAC,UAAU,EAAE,QAAQ,AAAC,EAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,AAAC,EAAC,cAAc,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,AAAC,GAAG;OACjH;MACN,oBAAC,IAAI,IAAC,KAAK,EAAC,YAAY,EAAC,CAAC,EAAE,QAAQ,AAAC,EAAC,UAAU,EAAE,EAAC,YAAY,EAAE,GAAG,EAAC,AAAC,EAAC,MAAM,EAAE,EAAE,AAAC,GAAE;MACpF,oBAAC,MAAM,IAAC,KAAK,EAAE,QAAQ,AAAC,GAAG;KACvB,CAAA;GACP;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,UAAU,CAAA",
      "file": "/var/www/art/src/department.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar Helmet = require('react-helmet')\n\nvar rest = require('rest')\n\nvar Search = require('./search')\nvar SearchResults = require('./search-results')\nvar Peek = require('./peek')\nvar DepartmentDecorator = require('./decorate/department')\nvar findDepartment = require('./department-slug')\nvar endpoint = require('./endpoints').info\n\nvar Department = React.createClass({\n  mixins: [Router.State],\n\n  statics: {\n    fetchData: {\n      searchResults: (params, query) => {\n        params.terms = '*'\n        var name = findDepartment(params.dept)[0]\n        params.splat = 'department:\"'+name+'\"'\n        return SearchResults.fetchData.searchResults(params, query)\n      },\n      departments: (params, query) => {\n        return rest(endpoint).then((r) => JSON.parse(r.entity))\n      }\n    },\n  },\n\n  render() {\n    var [deptName, _, slug] = findDepartment(this.props.params.dept)\n    var facet = `department:\"${deptName}\"`\n    return <div>\n      <Search\n        facet={facet}\n        {...this.props}\n        hideInput={true}\n        hideResults={true} />\n      <div className=\"departmentPage\">\n        <DepartmentDecorator department={deptName} params={this.props.params} departmentInfo={this.props.data.departments} />\n      </div>\n      <Peek facet=\"department\" q={deptName} quiltProps={{maxRowHeight: 400}} offset={10}/>\n      <Helmet title={deptName} />\n    </div>\n  }\n})\n\nmodule.exports = Department\n"
      ]
    },
    "mtime": 1449524147383
  },
  "{\"filename\":\"/var/www/art/src/curator.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "sliced-to-array"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar Helmet = require('react-helmet');\n\nvar rest = require('rest');\n\nvar Markdown = require('./markdown');\nvar endpoint = require('./endpoints').info;\nvar Search = require('./search');\nvar SearchResults = require('./search-results');\nvar Peek = require('./peek');\nvar DepartmentDecorator = require('./decorate/department');\nvar findDepartment = require('./department-slug');\n\nvar Curator = React.createClass({\n  displayName: 'Curator',\n\n  mixins: [Router.State],\n  headers: [{ curator: 'aaron-rio', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'andreas-marks', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'dennis-michael-jon', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'jan-lodewijk-grootaers', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'jennifer-komar-olivarez', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'jill-ahlberg-yohe', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'liu-yang', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'nicole-labouff', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'patrick-noon', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'rachel-mcgarry', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'thomas-rassieur', image: 'http://new.artsmia.org/exhibitions' }],\n  statics: {\n    fetchData: {\n      curator: function curator(params, query) {\n        return rest(endpoint).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var curator = this.props.data.curator.curators[this.props.params.slug];\n    var departmentLink;\n    var departmentNames = findDepartment(curator.department);\n    if (departmentNames) {\n      var _departmentNames = _slicedToArray(departmentNames, 3);\n\n      var _ = _departmentNames[0];\n      var _ = _departmentNames[1];\n      var departmentSlug = _departmentNames[2];\n\n      var departmentLink = React.createElement(\n        Link,\n        { to: 'department', params: { dept: departmentSlug } },\n        curator.department\n      );\n    }\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement('div', { className: 'curator-header' }),\n      React.createElement(\n        'div',\n        { className: 'curatorProfile pageText' },\n        React.createElement(\n          'h2',\n          null,\n          curator.name\n        ),\n        React.createElement(\n          'h4',\n          null,\n          departmentLink || curator.department\n        ),\n        React.createElement(\n          'h5',\n          null,\n          React.createElement(\n            Markdown,\n            null,\n            curator.title\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'curatorContent' },\n          React.createElement(\n            'div',\n            { className: 'curatorPic' },\n            React.createElement('img', { src: 'https://collections.artsmia.org/_info/curator-portraits/' + curator.slug + '.jpg', alt: 'portrait of ' + curator.name })\n          ),\n          React.createElement(\n            Markdown,\n            { alreadyRendered: true },\n            curator.output\n          )\n        ),\n        curator.cv && React.createElement(\n          'p',\n          null,\n          React.createElement(\n            'a',\n            { href: 'https://collections.artsmia.org/_info/cv/' + curator.cv },\n            'Curriculum Vitae'\n          )\n        )\n      )\n    );\n  }\n});\n\nmodule.exports = Curator;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvY3VyYXRvci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtJQUMvQixJQUFJLEdBQUksTUFBTSxDQUFkLElBQUk7O0FBQ1QsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBOztBQUVwQyxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUE7O0FBRTFCLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTtBQUNwQyxJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFBO0FBQzFDLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQTtBQUNoQyxJQUFJLGFBQWEsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQTtBQUMvQyxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUE7QUFDNUIsSUFBSSxtQkFBbUIsR0FBRyxPQUFPLENBQUMsdUJBQXVCLENBQUMsQ0FBQTtBQUMxRCxJQUFJLGNBQWMsR0FBRyxPQUFPLENBQUMsbUJBQW1CLENBQUMsQ0FBQTs7QUFFakQsSUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQzlCLFFBQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7QUFDdEIsU0FBTyxFQUFFLENBQ1AsRUFBQyxPQUFPLEVBQUMsV0FBVyxFQUFFLEtBQUssRUFBQyxvQ0FBb0MsRUFBQyxFQUNqRSxFQUFDLE9BQU8sRUFBQyxlQUFlLEVBQUUsS0FBSyxFQUFDLG9DQUFvQyxFQUFDLEVBQ3JFLEVBQUMsT0FBTyxFQUFDLG9CQUFvQixFQUFFLEtBQUssRUFBQyxvQ0FBb0MsRUFBQyxFQUMxRSxFQUFDLE9BQU8sRUFBQyx3QkFBd0IsRUFBRSxLQUFLLEVBQUMsb0NBQW9DLEVBQUMsRUFDOUUsRUFBQyxPQUFPLEVBQUMseUJBQXlCLEVBQUUsS0FBSyxFQUFDLG9DQUFvQyxFQUFDLEVBQy9FLEVBQUMsT0FBTyxFQUFDLG1CQUFtQixFQUFFLEtBQUssRUFBQyxvQ0FBb0MsRUFBQyxFQUN6RSxFQUFDLE9BQU8sRUFBQyxVQUFVLEVBQUUsS0FBSyxFQUFDLG9DQUFvQyxFQUFDLEVBQ2hFLEVBQUMsT0FBTyxFQUFDLGdCQUFnQixFQUFFLEtBQUssRUFBQyxvQ0FBb0MsRUFBQyxFQUN0RSxFQUFDLE9BQU8sRUFBQyxjQUFjLEVBQUUsS0FBSyxFQUFDLG9DQUFvQyxFQUFDLEVBQ3BFLEVBQUMsT0FBTyxFQUFDLGdCQUFnQixFQUFFLEtBQUssRUFBQyxvQ0FBb0MsRUFBQyxFQUN0RSxFQUFDLE9BQU8sRUFBQyxpQkFBaUIsRUFBRSxLQUFLLEVBQUMsb0NBQW9DLEVBQUMsQ0FDMUU7QUFDQyxTQUFPLEVBQUU7QUFDUCxhQUFTLEVBQUU7QUFDVCxhQUFPLEVBQUUsaUJBQUMsTUFBTSxFQUFFLEtBQUssRUFBSztBQUMxQixlQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQyxDQUFDO2lCQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztTQUFBLENBQUMsQ0FBQTtPQUN4RDtLQUNGO0dBQ0Y7O0FBRUQsUUFBTSxFQUFBLGtCQUFHO0FBQ1AsUUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQTtBQUN0RSxRQUFJLGNBQWMsQ0FBQTtBQUNsQixRQUFJLGVBQWUsR0FBRyxjQUFjLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFBO0FBQ3hELFFBQUcsZUFBZSxFQUFFOzRDQUNXLGVBQWU7O1VBQXZDLENBQUM7VUFBRSxDQUFDO1VBQUUsY0FBYzs7QUFDekIsVUFBSSxjQUFjLEdBQUc7QUFBQyxZQUFJO1VBQUMsRUFBRSxFQUFDLFlBQVksRUFBQyxNQUFNLEVBQUUsRUFBQyxJQUFJLEVBQUUsY0FBYyxFQUFDLEFBQUM7UUFBRSxPQUFPLENBQUMsVUFBVTtPQUFRLENBQUE7S0FDdkc7O0FBR0gsV0FBTzs7O01BQ0wsNkJBQUssU0FBUyxFQUFDLGdCQUFnQixHQUFPO01BQ3RDOztVQUFLLFNBQVMsRUFBQyx5QkFBeUI7UUFDdEM7OztVQUFLLE9BQU8sQ0FBQyxJQUFJO1NBQU07UUFDdkI7OztVQUFLLGNBQWMsSUFBSSxPQUFPLENBQUMsVUFBVTtTQUFNO1FBQy9DOzs7VUFBSTtBQUFDLG9CQUFROztZQUFFLE9BQU8sQ0FBQyxLQUFLO1dBQVk7U0FBSztRQUM3Qzs7WUFBSyxTQUFTLEVBQUMsZ0JBQWdCO1VBQzdCOztjQUFLLFNBQVMsRUFBQyxZQUFZO1lBQ3pCLDZCQUFLLEdBQUcsK0RBQTZELE9BQU8sQ0FBQyxJQUFJLFNBQU8sRUFBQyxHQUFHLG1CQUFpQixPQUFPLENBQUMsSUFBSSxBQUFHLEdBQUc7V0FDM0g7VUFDTjtBQUFDLG9CQUFRO2NBQUMsZUFBZSxFQUFFLElBQUksQUFBQztZQUFFLE9BQU8sQ0FBQyxNQUFNO1dBQVk7U0FDeEQ7UUFDTCxPQUFPLENBQUMsRUFBRSxJQUFJOzs7VUFBRzs7Y0FBRyxJQUFJLGdEQUE4QyxPQUFPLENBQUMsRUFBRSxBQUFHOztXQUFxQjtTQUFJO09BQ3pHO0tBQ0YsQ0FBQTtHQUNMO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvY3VyYXRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHtMaW5rfSA9IFJvdXRlclxudmFyIEhlbG1ldCA9IHJlcXVpcmUoJ3JlYWN0LWhlbG1ldCcpXG5cbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG5cbnZhciBNYXJrZG93biA9IHJlcXVpcmUoJy4vbWFya2Rvd24nKVxudmFyIGVuZHBvaW50ID0gcmVxdWlyZSgnLi9lbmRwb2ludHMnKS5pbmZvXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zZWFyY2gnKVxudmFyIFNlYXJjaFJlc3VsdHMgPSByZXF1aXJlKCcuL3NlYXJjaC1yZXN1bHRzJylcbnZhciBQZWVrID0gcmVxdWlyZSgnLi9wZWVrJylcbnZhciBEZXBhcnRtZW50RGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9kZXBhcnRtZW50JylcbnZhciBmaW5kRGVwYXJ0bWVudCA9IHJlcXVpcmUoJy4vZGVwYXJ0bWVudC1zbHVnJylcblxudmFyIEN1cmF0b3IgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIG1peGluczogW1JvdXRlci5TdGF0ZV0sXG4gIGhlYWRlcnM6IFtcbiAgICB7Y3VyYXRvcjonYWFyb24tcmlvJywgaW1hZ2U6J2h0dHA6Ly9uZXcuYXJ0c21pYS5vcmcvZXhoaWJpdGlvbnMnfSxcbiAgICB7Y3VyYXRvcjonYW5kcmVhcy1tYXJrcycsIGltYWdlOidodHRwOi8vbmV3LmFydHNtaWEub3JnL2V4aGliaXRpb25zJ30sXG4gICAge2N1cmF0b3I6J2Rlbm5pcy1taWNoYWVsLWpvbicsIGltYWdlOidodHRwOi8vbmV3LmFydHNtaWEub3JnL2V4aGliaXRpb25zJ30sXG4gICAge2N1cmF0b3I6J2phbi1sb2Rld2lqay1ncm9vdGFlcnMnLCBpbWFnZTonaHR0cDovL25ldy5hcnRzbWlhLm9yZy9leGhpYml0aW9ucyd9LFxuICAgIHtjdXJhdG9yOidqZW5uaWZlci1rb21hci1vbGl2YXJleicsIGltYWdlOidodHRwOi8vbmV3LmFydHNtaWEub3JnL2V4aGliaXRpb25zJ30sXG4gICAge2N1cmF0b3I6J2ppbGwtYWhsYmVyZy15b2hlJywgaW1hZ2U6J2h0dHA6Ly9uZXcuYXJ0c21pYS5vcmcvZXhoaWJpdGlvbnMnfSxcbiAgICB7Y3VyYXRvcjonbGl1LXlhbmcnLCBpbWFnZTonaHR0cDovL25ldy5hcnRzbWlhLm9yZy9leGhpYml0aW9ucyd9LFxuICAgIHtjdXJhdG9yOiduaWNvbGUtbGFib3VmZicsIGltYWdlOidodHRwOi8vbmV3LmFydHNtaWEub3JnL2V4aGliaXRpb25zJ30sXG4gICAge2N1cmF0b3I6J3BhdHJpY2stbm9vbicsIGltYWdlOidodHRwOi8vbmV3LmFydHNtaWEub3JnL2V4aGliaXRpb25zJ30sXG4gICAge2N1cmF0b3I6J3JhY2hlbC1tY2dhcnJ5JywgaW1hZ2U6J2h0dHA6Ly9uZXcuYXJ0c21pYS5vcmcvZXhoaWJpdGlvbnMnfSxcbiAgICB7Y3VyYXRvcjondGhvbWFzLXJhc3NpZXVyJywgaW1hZ2U6J2h0dHA6Ly9uZXcuYXJ0c21pYS5vcmcvZXhoaWJpdGlvbnMnfSxcbl0sXG4gIHN0YXRpY3M6IHtcbiAgICBmZXRjaERhdGE6IHtcbiAgICAgIGN1cmF0b3I6IChwYXJhbXMsIHF1ZXJ5KSA9PiB7XG4gICAgICAgIHJldHVybiByZXN0KGVuZHBvaW50KS50aGVuKChyKSA9PiBKU09OLnBhcnNlKHIuZW50aXR5KSlcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIgY3VyYXRvciA9IHRoaXMucHJvcHMuZGF0YS5jdXJhdG9yLmN1cmF0b3JzW3RoaXMucHJvcHMucGFyYW1zLnNsdWddXG4gICAgdmFyIGRlcGFydG1lbnRMaW5rXG4gICAgdmFyIGRlcGFydG1lbnROYW1lcyA9IGZpbmREZXBhcnRtZW50KGN1cmF0b3IuZGVwYXJ0bWVudClcbiAgICBpZihkZXBhcnRtZW50TmFtZXMpIHtcbiAgICAgIHZhciBbXywgXywgZGVwYXJ0bWVudFNsdWddID0gZGVwYXJ0bWVudE5hbWVzXG4gICAgICB2YXIgZGVwYXJ0bWVudExpbmsgPSA8TGluayB0bz1cImRlcGFydG1lbnRcIiBwYXJhbXM9e3tkZXB0OiBkZXBhcnRtZW50U2x1Z319PntjdXJhdG9yLmRlcGFydG1lbnR9PC9MaW5rPlxuICAgIH1cblxuXG4gIHJldHVybiA8ZGl2PlxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY3VyYXRvci1oZWFkZXJcIj48L2Rpdj5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cImN1cmF0b3JQcm9maWxlIHBhZ2VUZXh0XCI+XG4gICAgICA8aDI+e2N1cmF0b3IubmFtZX08L2gyPlxuICAgICAgPGg0PntkZXBhcnRtZW50TGluayB8fCBjdXJhdG9yLmRlcGFydG1lbnR9PC9oND5cbiAgICAgIDxoNT48TWFya2Rvd24+e2N1cmF0b3IudGl0bGV9PC9NYXJrZG93bj48L2g1PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdXJhdG9yQ29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1cmF0b3JQaWNcIj5cbiAgICAgICAgICA8aW1nIHNyYz17YGh0dHBzOi8vY29sbGVjdGlvbnMuYXJ0c21pYS5vcmcvX2luZm8vY3VyYXRvci1wb3J0cmFpdHMvJHtjdXJhdG9yLnNsdWd9LmpwZ2B9IGFsdD17YHBvcnRyYWl0IG9mICR7Y3VyYXRvci5uYW1lfWB9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8TWFya2Rvd24gYWxyZWFkeVJlbmRlcmVkPXt0cnVlfT57Y3VyYXRvci5vdXRwdXR9PC9NYXJrZG93bj5cbiAgICAgIDwvZGl2PlxuICAgICAge2N1cmF0b3IuY3YgJiYgPHA+PGEgaHJlZj17YGh0dHBzOi8vY29sbGVjdGlvbnMuYXJ0c21pYS5vcmcvX2luZm8vY3YvJHtjdXJhdG9yLmN2fWB9PkN1cnJpY3VsdW0gVml0YWU8L2E+PC9wPn1cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIH1cbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gQ3VyYXRvclxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/curator.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/curator.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\nvar Helmet = require('react-helmet')\n\nvar rest = require('rest')\n\nvar Markdown = require('./markdown')\nvar endpoint = require('./endpoints').info\nvar Search = require('./search')\nvar SearchResults = require('./search-results')\nvar Peek = require('./peek')\nvar DepartmentDecorator = require('./decorate/department')\nvar findDepartment = require('./department-slug')\n\nvar Curator = React.createClass({\n  mixins: [Router.State],\n  headers: [\n    {curator:'aaron-rio', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'andreas-marks', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'dennis-michael-jon', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'jan-lodewijk-grootaers', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'jennifer-komar-olivarez', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'jill-ahlberg-yohe', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'liu-yang', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'nicole-labouff', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'patrick-noon', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'rachel-mcgarry', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'thomas-rassieur', image:'http://new.artsmia.org/exhibitions'},\n],\n  statics: {\n    fetchData: {\n      curator: (params, query) => {\n        return rest(endpoint).then((r) => JSON.parse(r.entity))\n      }\n    },\n  },\n\n  render() {\n    var curator = this.props.data.curator.curators[this.props.params.slug]\n    var departmentLink\n    var departmentNames = findDepartment(curator.department)\n    if(departmentNames) {\n      var [_, _, departmentSlug] = departmentNames\n      var departmentLink = <Link to=\"department\" params={{dept: departmentSlug}}>{curator.department}</Link>\n    }\n\n\n  return <div>\n    <div className=\"curator-header\"></div>\n    <div className=\"curatorProfile pageText\">\n      <h2>{curator.name}</h2>\n      <h4>{departmentLink || curator.department}</h4>\n      <h5><Markdown>{curator.title}</Markdown></h5>\n      <div className=\"curatorContent\">\n        <div className=\"curatorPic\">\n          <img src={`https://collections.artsmia.org/_info/curator-portraits/${curator.slug}.jpg`} alt={`portrait of ${curator.name}`} />\n        </div>\n        <Markdown alreadyRendered={true}>{curator.output}</Markdown>\n      </div>\n      {curator.cv && <p><a href={`https://collections.artsmia.org/_info/cv/${curator.cv}`}>Curriculum Vitae</a></p>}\n    </div>\n  </div>\n  }\n})\n\nmodule.exports = Curator\n"
      ]
    },
    "mtime": 1485807805242
  },
  "{\"filename\":\"/var/www/art/src/curators.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Helmet = require('react-helmet');\nvar Link = Router.Link;\n\nvar Markdown = require('./markdown');\nvar rest = require('rest');\nvar endpoint = require('./endpoints').info;\n\nvar Curators = React.createClass({\n  displayName: 'Curators',\n\n  mixins: [Router.State],\n\n  statics: {\n    fetchData: {\n      curators: function curators(params, query) {\n        return rest(endpoint).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var curators = this.props.data.curators.curators;\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement('div', { className: 'explore-header' }),\n      React.createElement(\n        'div',\n        { className: 'mdl-grid curatorsPage', id: 'curators' },\n        React.createElement(\n          'h2',\n          null,\n          'Curators'\n        ),\n        Object.keys(curators).filter(function (name) {\n          return ['kaywin-feldman', 'matthew-welch'].indexOf(name) == -1;\n        }).map(function (name) {\n          var curator = curators[name];\n          if (!curator || !curator.slug) return;\n\n          return React.createElement(\n            'div',\n            { className: 'mdl-cell curatorBio', key: curator.slug },\n            React.createElement(\n              Link,\n              { to: 'curator', params: { slug: curator.slug } },\n              React.createElement(\n                'div',\n                { className: 'curatorPic' },\n                React.createElement('img', { src: 'https://collections.artsmia.org/_info/curator-portraits/' + curator.slug + '.jpg', alt: 'portrait of ' + curator.name })\n              ),\n              React.createElement(\n                'div',\n                { className: 'curator-intro' },\n                React.createElement(\n                  'h4',\n                  null,\n                  curator.name\n                ),\n                React.createElement(\n                  'h5',\n                  null,\n                  React.createElement(\n                    Markdown,\n                    null,\n                    curator.title\n                  )\n                )\n              )\n            )\n          );\n        })\n      ),\n      React.createElement(Helmet, { title: 'Curators' })\n    );\n  }\n});\n\nmodule.exports = Curators;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvY3VyYXRvcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0FBQ3BDLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtJQUMvQixJQUFJLEdBQUksTUFBTSxDQUFkLElBQUk7O0FBRVQsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBO0FBQ3BDLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQTtBQUMxQixJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFBOztBQUcxQyxJQUFJLFFBQVEsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDL0IsUUFBTSxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQzs7QUFFdEIsU0FBTyxFQUFFO0FBQ1AsYUFBUyxFQUFFO0FBQ1QsY0FBUSxFQUFFLGtCQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUs7QUFDM0IsZUFBTyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsQ0FBQztpQkFBSyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7U0FBQSxDQUFDLENBQUE7T0FDeEQ7S0FDRjtHQUNGOztBQUVELFFBQU0sRUFBQSxrQkFBRztBQUNQLFFBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUE7O0FBRWhELFdBQU87OztNQUNQLDZCQUFLLFNBQVMsRUFBQyxnQkFBZ0IsR0FBTztNQUN0Qzs7VUFBSyxTQUFTLEVBQUMsdUJBQXVCLEVBQUMsRUFBRSxFQUFDLFVBQVU7UUFDbEQ7Ozs7U0FBaUI7UUFDaEIsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FDckIsTUFBTSxDQUFDLFVBQUEsSUFBSTtpQkFBSSxDQUFDLGdCQUFnQixFQUFFLGVBQWUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7U0FBQSxDQUFDLENBQ3ZFLEdBQUcsQ0FBQyxVQUFBLElBQUksRUFBSTtBQUNYLGNBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQTtBQUM1QixjQUFHLENBQUMsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxPQUFNOztBQUVwQyxpQkFBTzs7Y0FBSyxTQUFTLEVBQUMscUJBQXFCLEVBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxJQUFJLEFBQUM7WUFDNUQ7QUFBQyxrQkFBSTtnQkFBQyxFQUFFLEVBQUMsU0FBUyxFQUFDLE1BQU0sRUFBRSxFQUFDLElBQUksRUFBQyxPQUFPLENBQUMsSUFBSSxFQUFDLEFBQUM7Y0FDN0M7O2tCQUFLLFNBQVMsRUFBQyxZQUFZO2dCQUN6Qiw2QkFBSyxHQUFHLCtEQUE2RCxPQUFPLENBQUMsSUFBSSxTQUFPLEVBQUMsR0FBRyxtQkFBaUIsT0FBTyxDQUFDLElBQUksQUFBRyxHQUFHO2VBQzNIO2NBQ047O2tCQUFLLFNBQVMsRUFBQyxlQUFlO2dCQUM1Qjs7O2tCQUFLLE9BQU8sQ0FBQyxJQUFJO2lCQUFNO2dCQUN2Qjs7O2tCQUFJO0FBQUMsNEJBQVE7O29CQUFFLE9BQU8sQ0FBQyxLQUFLO21CQUFZO2lCQUFLO2VBQ3pDO2FBQ0Q7V0FDSCxDQUFBO1NBQ1AsQ0FBQztPQUNFO01BQ04sb0JBQUMsTUFBTSxJQUFDLEtBQUssRUFBQyxVQUFVLEdBQUc7S0FDckIsQ0FBQTtHQUNQO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvY3VyYXRvcnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxudmFyIHtMaW5rfSA9IFJvdXRlclxuXG52YXIgTWFya2Rvd24gPSByZXF1aXJlKCcuL21hcmtkb3duJylcbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG52YXIgZW5kcG9pbnQgPSByZXF1aXJlKCcuL2VuZHBvaW50cycpLmluZm9cblxuXG52YXIgQ3VyYXRvcnMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIG1peGluczogW1JvdXRlci5TdGF0ZV0sXG5cbiAgc3RhdGljczoge1xuICAgIGZldGNoRGF0YToge1xuICAgICAgY3VyYXRvcnM6IChwYXJhbXMsIHF1ZXJ5KSA9PiB7XG4gICAgICAgIHJldHVybiByZXN0KGVuZHBvaW50KS50aGVuKChyKSA9PiBKU09OLnBhcnNlKHIuZW50aXR5KSlcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIgY3VyYXRvcnMgPSB0aGlzLnByb3BzLmRhdGEuY3VyYXRvcnMuY3VyYXRvcnNcblxuICAgIHJldHVybiA8ZGl2PlxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZXhwbG9yZS1oZWFkZXJcIj48L2Rpdj5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1kbC1ncmlkIGN1cmF0b3JzUGFnZVwiIGlkPVwiY3VyYXRvcnNcIj5cbiAgICAgIDxoMj5DdXJhdG9yczwvaDI+XG4gICAgICB7T2JqZWN0LmtleXMoY3VyYXRvcnMpXG4gICAgICAuZmlsdGVyKG5hbWUgPT4gWydrYXl3aW4tZmVsZG1hbicsICdtYXR0aGV3LXdlbGNoJ10uaW5kZXhPZihuYW1lKSA9PSAtMSlcbiAgICAgIC5tYXAobmFtZSA9PiB7XG4gICAgICAgIHZhciBjdXJhdG9yID0gY3VyYXRvcnNbbmFtZV1cbiAgICAgICAgaWYoIWN1cmF0b3IgfHwgIWN1cmF0b3Iuc2x1ZykgcmV0dXJuXG5cbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibWRsLWNlbGwgY3VyYXRvckJpb1wiIGtleT17Y3VyYXRvci5zbHVnfT5cbiAgICAgICAgICA8TGluayB0bz1cImN1cmF0b3JcIiBwYXJhbXM9e3tzbHVnOmN1cmF0b3Iuc2x1Z319PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdXJhdG9yUGljXCI+XG4gICAgICAgICAgICAgIDxpbWcgc3JjPXtgaHR0cHM6Ly9jb2xsZWN0aW9ucy5hcnRzbWlhLm9yZy9faW5mby9jdXJhdG9yLXBvcnRyYWl0cy8ke2N1cmF0b3Iuc2x1Z30uanBnYH0gYWx0PXtgcG9ydHJhaXQgb2YgJHtjdXJhdG9yLm5hbWV9YH0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdXJhdG9yLWludHJvXCI+XG4gICAgICAgICAgICAgIDxoND57Y3VyYXRvci5uYW1lfTwvaDQ+XG4gICAgICAgICAgICAgIDxoNT48TWFya2Rvd24+e2N1cmF0b3IudGl0bGV9PC9NYXJrZG93bj48L2g1PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIH0pfVxuICAgIDwvZGl2PlxuICAgIDxIZWxtZXQgdGl0bGU9XCJDdXJhdG9yc1wiIC8+XG4gICAgPC9kaXY+XG4gIH1cbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gQ3VyYXRvcnNcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/curators.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACpC,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;IAC/B,IAAI,GAAI,MAAM,CAAd,IAAI;;AAET,IAAI,QAAQ,GAAG,OAAO,CAAC,YAAY,CAAC,CAAA;AACpC,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;AAC1B,IAAI,QAAQ,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC,IAAI,CAAA;;AAG1C,IAAI,QAAQ,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC/B,QAAM,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;;AAEtB,SAAO,EAAE;AACP,aAAS,EAAE;AACT,cAAQ,EAAE,kBAAC,MAAM,EAAE,KAAK,EAAK;AAC3B,eAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,CAAC;iBAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;SAAA,CAAC,CAAA;OACxD;KACF;GACF;;AAED,QAAM,EAAA,kBAAG;AACP,QAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAA;;AAEhD,WAAO;;;MACP,6BAAK,SAAS,EAAC,gBAAgB,GAAO;MACtC;;UAAK,SAAS,EAAC,uBAAuB,EAAC,EAAE,EAAC,UAAU;QAClD;;;;SAAiB;QAChB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CACrB,MAAM,CAAC,UAAA,IAAI;iBAAI,CAAC,gBAAgB,EAAE,eAAe,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAAA,CAAC,CACvE,GAAG,CAAC,UAAA,IAAI,EAAI;AACX,cAAI,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;AAC5B,cAAG,CAAC,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,OAAM;;AAEpC,iBAAO;;cAAK,SAAS,EAAC,qBAAqB,EAAC,GAAG,EAAE,OAAO,CAAC,IAAI,AAAC;YAC5D;AAAC,kBAAI;gBAAC,EAAE,EAAC,SAAS,EAAC,MAAM,EAAE,EAAC,IAAI,EAAC,OAAO,CAAC,IAAI,EAAC,AAAC;cAC7C;;kBAAK,SAAS,EAAC,YAAY;gBACzB,6BAAK,GAAG,+DAA6D,OAAO,CAAC,IAAI,SAAO,EAAC,GAAG,mBAAiB,OAAO,CAAC,IAAI,AAAG,GAAG;eAC3H;cACN;;kBAAK,SAAS,EAAC,eAAe;gBAC5B;;;kBAAK,OAAO,CAAC,IAAI;iBAAM;gBACvB;;;kBAAI;AAAC,4BAAQ;;oBAAE,OAAO,CAAC,KAAK;mBAAY;iBAAK;eACzC;aACD;WACH,CAAA;SACP,CAAC;OACE;MACN,oBAAC,MAAM,IAAC,KAAK,EAAC,UAAU,GAAG;KACrB,CAAA;GACP;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,QAAQ,CAAA",
      "file": "/var/www/art/src/curators.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar Helmet = require('react-helmet')\nvar {Link} = Router\n\nvar Markdown = require('./markdown')\nvar rest = require('rest')\nvar endpoint = require('./endpoints').info\n\n\nvar Curators = React.createClass({\n  mixins: [Router.State],\n\n  statics: {\n    fetchData: {\n      curators: (params, query) => {\n        return rest(endpoint).then((r) => JSON.parse(r.entity))\n      }\n    },\n  },\n\n  render() {\n    var curators = this.props.data.curators.curators\n\n    return <div>\n    <div className=\"explore-header\"></div>\n    <div className=\"mdl-grid curatorsPage\" id=\"curators\">\n      <h2>Curators</h2>\n      {Object.keys(curators)\n      .filter(name => ['kaywin-feldman', 'matthew-welch'].indexOf(name) == -1)\n      .map(name => {\n        var curator = curators[name]\n        if(!curator || !curator.slug) return\n\n        return <div className=\"mdl-cell curatorBio\" key={curator.slug}>\n          <Link to=\"curator\" params={{slug:curator.slug}}>\n            <div className=\"curatorPic\">\n              <img src={`https://collections.artsmia.org/_info/curator-portraits/${curator.slug}.jpg`} alt={`portrait of ${curator.name}`} />\n            </div>\n            <div className=\"curator-intro\">\n              <h4>{curator.name}</h4>\n              <h5><Markdown>{curator.title}</Markdown></h5>\n            </div>\n          </Link>\n        </div>\n      })}\n    </div>\n    <Helmet title=\"Curators\" />\n    </div>\n  }\n})\n\nmodule.exports = Curators\n"
      ]
    },
    "mtime": 1485807805242
  },
  "{\"filename\":\"/var/www/art/src/explore.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "to-array"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\nvar React = require('react');\nvar Helmet = require('react-helmet');\n\nvar Peek = require('./peek');\nvar Department = require('./department');\nvar Search = require('./search');\nvar Artwork = require('./artwork');\nvar ExpandableNewArtsmiaContentBlock = require('./expandable-new-artsmia-content-block');\n\nvar Explore = React.createClass({\n  displayName: 'Explore',\n\n  statics: {\n    searchResults: Department.fetchData.searchResults\n  },\n\n  render: function render() {\n    return React.createElement(\n      'div',\n      null,\n      React.createElement('a', { href: '/art/8747', className: 'explore-header' }),\n      React.createElement(\n        'div',\n        { className: 'explore-section', style: { padding: '0 2.5em' } },\n        this.searches.map(function (_ref, index) {\n          var term = _ref.term;\n          var blurb = _ref.blurb;\n\n          var _term$split = term.split(':');\n\n          var _term$split2 = _toArray(_term$split);\n\n          var facet = _term$split2[0];\n\n          var terms = _term$split2.slice(1);\n\n          return React.createElement(\n            'section',\n            null,\n            React.createElement(\n              'h2',\n              null,\n              'Explore ',\n              React.createElement(\n                'span',\n                { style: { fontFamily: '\"MiaGrotesk-Light\",sans-serif' } },\n                terms[1]\n              )\n            ),\n            React.createElement(\n              'p',\n              null,\n              blurb\n            ),\n            React.createElement(Peek, {\n              offset: index * 5,\n              facet: facet,\n              q: terms.join(':'),\n              quiltProps: { maxRowHeight: 600 },\n              directLinkTo: terms[1],\n              shuffleQuilt: true\n            }),\n            React.createElement('hr', { style: { visibility: 'hidden' } })\n          );\n        }),\n        React.createElement(\n          'div',\n          null,\n          React.createElement(\n            'h2',\n            null,\n            'Personalize Mia with new ways to explore art.'\n          ),\n          React.createElement(\n            'h3',\n            null,\n            'Journeys'\n          ),\n          React.createElement(\n            'p',\n            null,\n            'Use this new app to create a personalized journey through the museum or follow the suggestions of others. Either way, we’ll map it out for you. ',\n            React.createElement(\n              'a',\n              { href: 'https://itunes.apple.com/us/app/mia-journeys/id1058993004' },\n              'Download the app free (iOS).'\n            )\n          ),\n          React.createElement(ExpandableNewArtsmiaContentBlock, { page: 'journeys' }),\n          React.createElement(\n            'h3',\n            null,\n            'Overheard'\n          ),\n          React.createElement(\n            'p',\n            null,\n            'Eavesdrop on the conversations of fictional fellow visitors as they wander the galleries, using this playful new audio app. ',\n            React.createElement(\n              'a',\n              { href: 'https://itunes.apple.com/us/app/overheard-mia/id1116319582' },\n              'Download it free (iOS)'\n            ),\n            '.'\n          ),\n          React.createElement(ExpandableNewArtsmiaContentBlock, { page: 'overheard' }),\n          React.createElement(\n            'h3',\n            null,\n            'ArtStories'\n          ),\n          React.createElement(\n            'p',\n            null,\n            'In-depth multimedia explorations of Mia’s highlights and hidden gems—from intriguing details to secret backstories. Available on iPads in the galleries, and optimized for your smartphone or home computer: ',\n            React.createElement(\n              'a',\n              { href: 'https://artstories.artsmia.org' },\n              'ArtStories'\n            ),\n            '.'\n          ),\n          React.createElement(ExpandableNewArtsmiaContentBlock, { page: 'artstories' })\n        ),\n        React.createElement(Helmet, { title: 'Explore the art' })\n      )\n    );\n  },\n\n  searches: [{ term: '_exists_:related:artstories', blurb: 'ArtStories are digital explorations of Mia’s highlights and hidden gems—from intriguing details to secret backstories—available on your computer, phone, or tablet.' }, { term: '_exists_:related:newsflashes', blurb: 'Thought-provoking and a little cheeky, Newsflash updates connect current events to the art in the museum. Look for new updates taped to the gallery walls, or find old ones online.' }, { term: '_exists_:related:audio-stops', blurb: 'Audio Stops are mini-podcasts that present many of Mia’s highlights and favorite artworks through sound and stories. Connect in the galleries or at home.' }, { term: '_exists_:related:stories', blurb: 'Mia Stories is the museum beyond the walls, outside the frame, at the lively intersection of life and art. From behind-the-scenes buzz to inspiring connections with current events, it’s the museum in conversation.' }]\n});\n\nmodule.exports = Explore;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZXhwbG9yZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTs7QUFFcEMsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQzVCLElBQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtBQUN4QyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUE7QUFDaEMsSUFBSSxPQUFPLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFBO0FBQ2xDLElBQUksZ0NBQWdDLEdBQUcsT0FBTyxDQUFDLHdDQUF3QyxDQUFDLENBQUE7O0FBRXhGLElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUM5QixTQUFPLEVBQUU7QUFDUCxpQkFBYSxFQUFFLFVBQVUsQ0FBQyxTQUFTLENBQUMsYUFBYTtHQUNsRDs7QUFFRCxRQUFNLEVBQUEsa0JBQUc7QUFDUCxXQUFPOzs7TUFDTCwyQkFBRyxJQUFJLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBQyxnQkFBZ0IsR0FBSztNQUNuRDs7VUFBSyxTQUFTLEVBQUMsaUJBQWlCLEVBQUMsS0FBSyxFQUFFLEVBQUMsT0FBTyxFQUFFLFNBQVMsRUFBQyxBQUFDO1FBQzFELElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLFVBQUMsSUFBYSxFQUFFLEtBQUssRUFBSztjQUF4QixJQUFJLEdBQUwsSUFBYSxDQUFaLElBQUk7Y0FBRSxLQUFLLEdBQVosSUFBYSxDQUFOLEtBQUs7OzRCQUNOLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDOzs7O2NBQWxDLEtBQUs7O2NBQUssS0FBSzs7QUFDcEIsaUJBQU87OztZQUNMOzs7O2NBQVk7O2tCQUFNLEtBQUssRUFBRSxFQUFDLFVBQVUsRUFBRSwrQkFBK0IsRUFBQyxBQUFDO2dCQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7ZUFBUTthQUFLO1lBQzlGOzs7Y0FBSSxLQUFLO2FBQUs7WUFDZCxvQkFBQyxJQUFJO0FBQ0gsb0JBQU0sRUFBRSxLQUFLLEdBQUMsQ0FBQyxBQUFDO0FBQ2hCLG1CQUFLLEVBQUUsS0FBSyxBQUFDO0FBQ2IsZUFBQyxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEFBQUM7QUFDbkIsd0JBQVUsRUFBRSxFQUFDLFlBQVksRUFBRSxHQUFHLEVBQUMsQUFBQztBQUNoQywwQkFBWSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQUFBQztBQUN2QiwwQkFBWSxFQUFFLElBQUksQUFBQztjQUNqQjtZQUNKLDRCQUFJLEtBQUssRUFBRSxFQUFDLFVBQVUsRUFBRSxRQUFRLEVBQUMsQUFBQyxHQUFHO1dBQzdCLENBQUE7U0FDWCxDQUFDO1FBRUY7OztVQUNFOzs7O1dBQXNEO1VBRXREOzs7O1dBQWlCO1VBQ2pCOzs7O1lBQW1KOztnQkFBRyxJQUFJLEVBQUMsMkRBQTJEOzthQUFpQztXQUFJO1VBQzNQLG9CQUFDLGdDQUFnQyxJQUFDLElBQUksRUFBQyxVQUFVLEdBQUc7VUFFcEQ7Ozs7V0FBa0I7VUFDbEI7Ozs7WUFBK0g7O2dCQUFHLElBQUksRUFBQyw0REFBNEQ7O2FBQTJCOztXQUFLO1VBQ25PLG9CQUFDLGdDQUFnQyxJQUFDLElBQUksRUFBQyxXQUFXLEdBQUc7VUFFckQ7Ozs7V0FBbUI7VUFDbkI7Ozs7WUFBZ047O2dCQUFHLElBQUksRUFBQyxnQ0FBZ0M7O2FBQWU7O1dBQUs7VUFDNVEsb0JBQUMsZ0NBQWdDLElBQUMsSUFBSSxFQUFDLFlBQVksR0FBRztTQUNsRDtRQUNSLG9CQUFDLE1BQU0sSUFBQyxLQUFLLEVBQUMsaUJBQWlCLEdBQUc7T0FDOUI7S0FBTSxDQUFBO0dBQ2I7O0FBR0QsVUFBUSxFQUFFLENBQ1IsRUFBQyxJQUFJLEVBQUMsNkJBQTZCLEVBQUUsS0FBSyxFQUFDLHFLQUFxSyxFQUFDLEVBQ2pOLEVBQUMsSUFBSSxFQUFDLDhCQUE4QixFQUFFLEtBQUssRUFBQyxxTEFBcUwsRUFBQyxFQUNsTyxFQUFDLElBQUksRUFBQyw4QkFBOEIsRUFBRSxLQUFLLEVBQUMsMkpBQTJKLEVBQUMsRUFDeE0sRUFBQyxJQUFJLEVBQUMsMEJBQTBCLEVBQUUsS0FBSyxFQUFDLHVOQUF1TixFQUFDLENBQ2pRO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvZXhwbG9yZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxuXG52YXIgUGVlayA9IHJlcXVpcmUoJy4vcGVlaycpXG52YXIgRGVwYXJ0bWVudCA9IHJlcXVpcmUoJy4vZGVwYXJ0bWVudCcpXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zZWFyY2gnKVxudmFyIEFydHdvcmsgPSByZXF1aXJlKCcuL2FydHdvcmsnKVxudmFyIEV4cGFuZGFibGVOZXdBcnRzbWlhQ29udGVudEJsb2NrID0gcmVxdWlyZSgnLi9leHBhbmRhYmxlLW5ldy1hcnRzbWlhLWNvbnRlbnQtYmxvY2snKVxuXG52YXIgRXhwbG9yZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgc3RhdGljczoge1xuICAgIHNlYXJjaFJlc3VsdHM6IERlcGFydG1lbnQuZmV0Y2hEYXRhLnNlYXJjaFJlc3VsdHNcbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8YSBocmVmPVwiL2FydC84NzQ3XCIgY2xhc3NOYW1lPVwiZXhwbG9yZS1oZWFkZXJcIj48L2E+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImV4cGxvcmUtc2VjdGlvblwiIHN0eWxlPXt7cGFkZGluZzogJzAgMi41ZW0nfX0+XG4gICAgICAgIHt0aGlzLnNlYXJjaGVzLm1hcCgoe3Rlcm0sIGJsdXJifSwgaW5kZXgpID0+IHtcbiAgICAgICAgICB2YXIgW2ZhY2V0LCAuLi50ZXJtc10gPSB0ZXJtLnNwbGl0KCc6JylcbiAgICAgICAgICByZXR1cm4gPHNlY3Rpb24+XG4gICAgICAgICAgICA8aDI+RXhwbG9yZSA8c3BhbiBzdHlsZT17e2ZvbnRGYW1pbHk6ICdcIk1pYUdyb3Rlc2stTGlnaHRcIixzYW5zLXNlcmlmJ319Pnt0ZXJtc1sxXX08L3NwYW4+PC9oMj5cbiAgICAgICAgICAgIDxwPntibHVyYn08L3A+XG4gICAgICAgICAgICA8UGVla1xuICAgICAgICAgICAgICBvZmZzZXQ9e2luZGV4KjV9XG4gICAgICAgICAgICAgIGZhY2V0PXtmYWNldH1cbiAgICAgICAgICAgICAgcT17dGVybXMuam9pbignOicpfVxuICAgICAgICAgICAgICBxdWlsdFByb3BzPXt7bWF4Um93SGVpZ2h0OiA2MDB9fVxuICAgICAgICAgICAgICBkaXJlY3RMaW5rVG89e3Rlcm1zWzFdfVxuICAgICAgICAgICAgICBzaHVmZmxlUXVpbHQ9e3RydWV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8aHIgc3R5bGU9e3t2aXNpYmlsaXR5OiAnaGlkZGVuJ319IC8+XG4gICAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgICB9KX1cblxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxoMj5QZXJzb25hbGl6ZSBNaWEgd2l0aCBuZXcgd2F5cyB0byBleHBsb3JlIGFydC48L2gyPlxuXG4gICAgICAgICAgPGgzPkpvdXJuZXlzPC9oMz5cbiAgICAgICAgICA8cD5Vc2UgdGhpcyBuZXcgYXBwIHRvIGNyZWF0ZSBhIHBlcnNvbmFsaXplZCBqb3VybmV5IHRocm91Z2ggdGhlIG11c2V1bSBvciBmb2xsb3cgdGhlIHN1Z2dlc3Rpb25zIG9mIG90aGVycy4gRWl0aGVyIHdheSwgd2XigJlsbCBtYXAgaXQgb3V0IGZvciB5b3UuIDxhIGhyZWY9XCJodHRwczovL2l0dW5lcy5hcHBsZS5jb20vdXMvYXBwL21pYS1qb3VybmV5cy9pZDEwNTg5OTMwMDRcIj5Eb3dubG9hZCB0aGUgYXBwIGZyZWUgKGlPUykuPC9hPjwvcD5cbiAgICAgICAgICA8RXhwYW5kYWJsZU5ld0FydHNtaWFDb250ZW50QmxvY2sgcGFnZT1cImpvdXJuZXlzXCIgLz5cblxuICAgICAgICAgIDxoMz5PdmVyaGVhcmQ8L2gzPlxuICAgICAgICAgIDxwPkVhdmVzZHJvcCBvbiB0aGUgY29udmVyc2F0aW9ucyBvZiBmaWN0aW9uYWwgZmVsbG93IHZpc2l0b3JzIGFzIHRoZXkgd2FuZGVyIHRoZSBnYWxsZXJpZXMsIHVzaW5nIHRoaXMgcGxheWZ1bCBuZXcgYXVkaW8gYXBwLiA8YSBocmVmPVwiaHR0cHM6Ly9pdHVuZXMuYXBwbGUuY29tL3VzL2FwcC9vdmVyaGVhcmQtbWlhL2lkMTExNjMxOTU4MlwiPkRvd25sb2FkIGl0IGZyZWUgKGlPUyk8L2E+LjwvcD5cbiAgICAgICAgICA8RXhwYW5kYWJsZU5ld0FydHNtaWFDb250ZW50QmxvY2sgcGFnZT1cIm92ZXJoZWFyZFwiIC8+XG5cbiAgICAgICAgICA8aDM+QXJ0U3RvcmllczwvaDM+XG4gICAgICAgICAgPHA+SW4tZGVwdGggbXVsdGltZWRpYSBleHBsb3JhdGlvbnMgb2YgTWlh4oCZcyBoaWdobGlnaHRzIGFuZCBoaWRkZW4gZ2Vtc+KAlGZyb20gaW50cmlndWluZyBkZXRhaWxzIHRvIHNlY3JldCBiYWNrc3Rvcmllcy4gQXZhaWxhYmxlIG9uIGlQYWRzIGluIHRoZSBnYWxsZXJpZXMsIGFuZCBvcHRpbWl6ZWQgZm9yIHlvdXIgc21hcnRwaG9uZSBvciBob21lIGNvbXB1dGVyOiA8YSBocmVmPVwiaHR0cHM6Ly9hcnRzdG9yaWVzLmFydHNtaWEub3JnXCI+QXJ0U3RvcmllczwvYT4uPC9wPlxuICAgICAgICAgIDxFeHBhbmRhYmxlTmV3QXJ0c21pYUNvbnRlbnRCbG9jayBwYWdlPVwiYXJ0c3Rvcmllc1wiIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPEhlbG1ldCB0aXRsZT1cIkV4cGxvcmUgdGhlIGFydFwiIC8+XG4gICAgPC9kaXY+PC9kaXY+XG4gIH0sXG5cblxuICBzZWFyY2hlczogW1xuICAgIHt0ZXJtOidfZXhpc3RzXzpyZWxhdGVkOmFydHN0b3JpZXMnLCBibHVyYjonQXJ0U3RvcmllcyBhcmUgZGlnaXRhbCBleHBsb3JhdGlvbnMgb2YgTWlh4oCZcyBoaWdobGlnaHRzIGFuZCBoaWRkZW4gZ2Vtc+KAlGZyb20gaW50cmlndWluZyBkZXRhaWxzIHRvIHNlY3JldCBiYWNrc3Rvcmllc+KAlGF2YWlsYWJsZSBvbiB5b3VyIGNvbXB1dGVyLCBwaG9uZSwgb3IgdGFibGV0Lid9LFxuICAgIHt0ZXJtOidfZXhpc3RzXzpyZWxhdGVkOm5ld3NmbGFzaGVzJywgYmx1cmI6J1Rob3VnaHQtcHJvdm9raW5nIGFuZCBhIGxpdHRsZSBjaGVla3ksIE5ld3NmbGFzaCB1cGRhdGVzIGNvbm5lY3QgY3VycmVudCBldmVudHMgdG8gdGhlIGFydCBpbiB0aGUgbXVzZXVtLiBMb29rIGZvciBuZXcgdXBkYXRlcyB0YXBlZCB0byB0aGUgZ2FsbGVyeSB3YWxscywgb3IgZmluZCBvbGQgb25lcyBvbmxpbmUuJ30sXG4gICAge3Rlcm06J19leGlzdHNfOnJlbGF0ZWQ6YXVkaW8tc3RvcHMnLCBibHVyYjonQXVkaW8gU3RvcHMgYXJlIG1pbmktcG9kY2FzdHMgdGhhdCBwcmVzZW50IG1hbnkgb2YgTWlh4oCZcyBoaWdobGlnaHRzIGFuZCBmYXZvcml0ZSBhcnR3b3JrcyB0aHJvdWdoIHNvdW5kIGFuZCBzdG9yaWVzLiBDb25uZWN0IGluIHRoZSBnYWxsZXJpZXMgb3IgYXQgaG9tZS4nfSxcbiAgICB7dGVybTonX2V4aXN0c186cmVsYXRlZDpzdG9yaWVzJywgYmx1cmI6J01pYSBTdG9yaWVzIGlzIHRoZSBtdXNldW0gYmV5b25kIHRoZSB3YWxscywgb3V0c2lkZSB0aGUgZnJhbWUsIGF0IHRoZSBsaXZlbHkgaW50ZXJzZWN0aW9uIG9mIGxpZmUgYW5kIGFydC4gRnJvbSBiZWhpbmQtdGhlLXNjZW5lcyBidXp6IHRvIGluc3BpcmluZyBjb25uZWN0aW9ucyB3aXRoIGN1cnJlbnQgZXZlbnRzLCBpdOKAmXMgdGhlIG11c2V1bSBpbiBjb252ZXJzYXRpb24uJ30sXG4gIF0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IEV4cGxvcmVcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/explore.js"
      ],
      "names": [],
      "mappings": ";;;;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;;AAEpC,IAAI,IAAI,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAA;AAC5B,IAAI,UAAU,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACxC,IAAI,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA;AAChC,IAAI,OAAO,GAAG,OAAO,CAAC,WAAW,CAAC,CAAA;AAClC,IAAI,gCAAgC,GAAG,OAAO,CAAC,wCAAwC,CAAC,CAAA;;AAExF,IAAI,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC9B,SAAO,EAAE;AACP,iBAAa,EAAE,UAAU,CAAC,SAAS,CAAC,aAAa;GAClD;;AAED,QAAM,EAAA,kBAAG;AACP,WAAO;;;MACL,2BAAG,IAAI,EAAC,WAAW,EAAC,SAAS,EAAC,gBAAgB,GAAK;MACnD;;UAAK,SAAS,EAAC,iBAAiB,EAAC,KAAK,EAAE,EAAC,OAAO,EAAE,SAAS,EAAC,AAAC;QAC1D,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAC,IAAa,EAAE,KAAK,EAAK;cAAxB,IAAI,GAAL,IAAa,CAAZ,IAAI;cAAE,KAAK,GAAZ,IAAa,CAAN,KAAK;;4BACN,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;;;;cAAlC,KAAK;;cAAK,KAAK;;AACpB,iBAAO;;;YACL;;;;cAAY;;kBAAM,KAAK,EAAE,EAAC,UAAU,EAAE,+BAA+B,EAAC,AAAC;gBAAE,KAAK,CAAC,CAAC,CAAC;eAAQ;aAAK;YAC9F;;;cAAI,KAAK;aAAK;YACd,oBAAC,IAAI;AACH,oBAAM,EAAE,KAAK,GAAC,CAAC,AAAC;AAChB,mBAAK,EAAE,KAAK,AAAC;AACb,eAAC,EAAE,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,AAAC;AACnB,wBAAU,EAAE,EAAC,YAAY,EAAE,GAAG,EAAC,AAAC;AAChC,0BAAY,EAAE,KAAK,CAAC,CAAC,CAAC,AAAC;AACvB,0BAAY,EAAE,IAAI,AAAC;cACjB;YACJ,4BAAI,KAAK,EAAE,EAAC,UAAU,EAAE,QAAQ,EAAC,AAAC,GAAG;WAC7B,CAAA;SACX,CAAC;QAEF;;;UACE;;;;WAAsD;UAEtD;;;;WAAiB;UACjB;;;;YAAmJ;;gBAAG,IAAI,EAAC,2DAA2D;;aAAiC;WAAI;UAC3P,oBAAC,gCAAgC,IAAC,IAAI,EAAC,UAAU,GAAG;UAEpD;;;;WAAkB;UAClB;;;;YAA+H;;gBAAG,IAAI,EAAC,4DAA4D;;aAA2B;;WAAK;UACnO,oBAAC,gCAAgC,IAAC,IAAI,EAAC,WAAW,GAAG;UAErD;;;;WAAmB;UACnB;;;;YAAgN;;gBAAG,IAAI,EAAC,gCAAgC;;aAAe;;WAAK;UAC5Q,oBAAC,gCAAgC,IAAC,IAAI,EAAC,YAAY,GAAG;SAClD;QACR,oBAAC,MAAM,IAAC,KAAK,EAAC,iBAAiB,GAAG;OAC9B;KAAM,CAAA;GACb;;AAGD,UAAQ,EAAE,CACR,EAAC,IAAI,EAAC,6BAA6B,EAAE,KAAK,EAAC,qKAAqK,EAAC,EACjN,EAAC,IAAI,EAAC,8BAA8B,EAAE,KAAK,EAAC,qLAAqL,EAAC,EAClO,EAAC,IAAI,EAAC,8BAA8B,EAAE,KAAK,EAAC,2JAA2J,EAAC,EACxM,EAAC,IAAI,EAAC,0BAA0B,EAAE,KAAK,EAAC,uNAAuN,EAAC,CACjQ;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,OAAO,CAAA",
      "file": "/var/www/art/src/explore.js",
      "sourcesContent": [
        "var React = require('react')\nvar Helmet = require('react-helmet')\n\nvar Peek = require('./peek')\nvar Department = require('./department')\nvar Search = require('./search')\nvar Artwork = require('./artwork')\nvar ExpandableNewArtsmiaContentBlock = require('./expandable-new-artsmia-content-block')\n\nvar Explore = React.createClass({\n  statics: {\n    searchResults: Department.fetchData.searchResults\n  },\n\n  render() {\n    return <div>\n      <a href=\"/art/8747\" className=\"explore-header\"></a>\n      <div className=\"explore-section\" style={{padding: '0 2.5em'}}>\n        {this.searches.map(({term, blurb}, index) => {\n          var [facet, ...terms] = term.split(':')\n          return <section>\n            <h2>Explore <span style={{fontFamily: '\"MiaGrotesk-Light\",sans-serif'}}>{terms[1]}</span></h2>\n            <p>{blurb}</p>\n            <Peek\n              offset={index*5}\n              facet={facet}\n              q={terms.join(':')}\n              quiltProps={{maxRowHeight: 600}}\n              directLinkTo={terms[1]}\n              shuffleQuilt={true}\n              />\n            <hr style={{visibility: 'hidden'}} />\n          </section>\n        })}\n\n        <div>\n          <h2>Personalize Mia with new ways to explore art.</h2>\n\n          <h3>Journeys</h3>\n          <p>Use this new app to create a personalized journey through the museum or follow the suggestions of others. Either way, we’ll map it out for you. <a href=\"https://itunes.apple.com/us/app/mia-journeys/id1058993004\">Download the app free (iOS).</a></p>\n          <ExpandableNewArtsmiaContentBlock page=\"journeys\" />\n\n          <h3>Overheard</h3>\n          <p>Eavesdrop on the conversations of fictional fellow visitors as they wander the galleries, using this playful new audio app. <a href=\"https://itunes.apple.com/us/app/overheard-mia/id1116319582\">Download it free (iOS)</a>.</p>\n          <ExpandableNewArtsmiaContentBlock page=\"overheard\" />\n\n          <h3>ArtStories</h3>\n          <p>In-depth multimedia explorations of Mia’s highlights and hidden gems—from intriguing details to secret backstories. Available on iPads in the galleries, and optimized for your smartphone or home computer: <a href=\"https://artstories.artsmia.org\">ArtStories</a>.</p>\n          <ExpandableNewArtsmiaContentBlock page=\"artstories\" />\n        </div>\n      <Helmet title=\"Explore the art\" />\n    </div></div>\n  },\n\n\n  searches: [\n    {term:'_exists_:related:artstories', blurb:'ArtStories are digital explorations of Mia’s highlights and hidden gems—from intriguing details to secret backstories—available on your computer, phone, or tablet.'},\n    {term:'_exists_:related:newsflashes', blurb:'Thought-provoking and a little cheeky, Newsflash updates connect current events to the art in the museum. Look for new updates taped to the gallery walls, or find old ones online.'},\n    {term:'_exists_:related:audio-stops', blurb:'Audio Stops are mini-podcasts that present many of Mia’s highlights and favorite artworks through sound and stories. Connect in the galleries or at home.'},\n    {term:'_exists_:related:stories', blurb:'Mia Stories is the museum beyond the walls, outside the frame, at the lively intersection of life and art. From behind-the-scenes buzz to inspiring connections with current events, it’s the museum in conversation.'},\n  ],\n})\n\nmodule.exports = Explore\n"
      ]
    },
    "mtime": 1488248774578
  },
  "{\"filename\":\"/var/www/art/src/expandable-new-artsmia-content-block.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar rest = require('rest');\nvar Markdown = require('./markdown');\n\nvar ExpandableNewArtsmiaContentBlock = React.createClass({\n  displayName: 'ExpandableNewArtsmiaContentBlock',\n\n  // statics: {\n  //   fetchData: (params, query) => {\n  //   }\n  // },\n  getInitialState: function getInitialState() {\n    return {\n      expanded: false,\n      loaded: false\n    };\n  },\n\n  componentWillMount: function componentWillMount() {\n    this.loadExternalContent();\n  },\n\n  loadExternalContent: function loadExternalContent() {\n    var _this = this;\n\n    return rest('https://new.artsmia.org/wp-json/wp/v2/pages?slug=' + this.props.page).then(function (r) {\n      return JSON.parse(r.entity);\n    }).then(function (json) {\n      return _this.setState({ loaded: true, json: json });\n    });\n  },\n\n  render: function render() {\n    var _state = this.state;\n    var loaded = _state.loaded;\n    var expanded = _state.expanded;\n    var json = _state.json;\n\n    var toggleButton = React.createElement(\n      'a',\n      { href: '#', onClick: this.toggle },\n      expanded ? 'Less' : 'More',\n      ' Info'\n    );\n\n    var content = loaded && React.createElement(\n      'div',\n      null,\n      React.createElement(\n        Markdown,\n        null,\n        json[0].acf.modules[1].content[0].text\n      ),\n      React.createElement('hr', null)\n    );\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'p',\n        null,\n        toggleButton\n      ),\n      loaded && expanded && content\n    );\n  },\n\n  toggle: function toggle(event) {\n    this.setState({ expanded: !this.state.expanded });\n    event.preventDefault();\n    return false;\n  }\n});\n\nmodule.exports = ExpandableNewArtsmiaContentBlock;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZXhwYW5kYWJsZS1uZXctYXJ0c21pYS1jb250ZW50LWJsb2NrLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQTtBQUMxQixJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7O0FBRXBDLElBQUksZ0NBQWdDLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7Ozs7OztBQUt2RCxpQkFBZSxFQUFBLDJCQUFHO0FBQ2hCLFdBQU87QUFDTCxjQUFRLEVBQUUsS0FBSztBQUNmLFlBQU0sRUFBRSxLQUFLO0tBQ2QsQ0FBQTtHQUNGOztBQUVELG9CQUFrQixFQUFBLDhCQUFHO0FBQ25CLFFBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFBO0dBQzNCOztBQUVELHFCQUFtQixFQUFBLCtCQUFHOzs7QUFDcEIsV0FBTyxJQUFJLENBQUMsbURBQW1ELEdBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FDL0UsSUFBSSxDQUFDLFVBQUMsQ0FBQzthQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztLQUFBLENBQUMsQ0FDakMsSUFBSSxDQUFDLFVBQUEsSUFBSTthQUFJLE1BQUssUUFBUSxDQUFDLEVBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFDLENBQUM7S0FBQSxDQUFDLENBQUE7R0FDekQ7O0FBRUQsUUFBTSxFQUFBLGtCQUFHO2lCQUN3QixJQUFJLENBQUMsS0FBSztRQUFwQyxNQUFNLFVBQU4sTUFBTTtRQUFFLFFBQVEsVUFBUixRQUFRO1FBQUUsSUFBSSxVQUFKLElBQUk7O0FBQzNCLFFBQUksWUFBWSxHQUFHOztRQUFHLElBQUksRUFBQyxHQUFHLEVBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxNQUFNLEFBQUM7TUFBRSxRQUFRLEdBQUcsTUFBTSxHQUFHLE1BQU07O0tBQVUsQ0FBQTs7QUFFMUYsUUFBSSxPQUFPLEdBQUcsTUFBTSxJQUFJOzs7TUFBSztBQUFDLGdCQUFROztRQUNuQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSTtPQUM5QjtNQUFBLCtCQUFNO0tBQU0sQ0FBQTs7QUFFdkIsV0FBTzs7O01BQ0w7OztRQUFJLFlBQVk7T0FBSztNQUNwQixNQUFNLElBQUksUUFBUSxJQUFJLE9BQU87S0FDMUIsQ0FBQTtHQUNQOztBQUVELFFBQU0sRUFBQSxnQkFBQyxLQUFLLEVBQUU7QUFDWixRQUFJLENBQUMsUUFBUSxDQUFDLEVBQUMsUUFBUSxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUMsQ0FBQyxDQUFBO0FBQy9DLFNBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQTtBQUN0QixXQUFPLEtBQUssQ0FBQTtHQUNiO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsZ0NBQWdDLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9leHBhbmRhYmxlLW5ldy1hcnRzbWlhLWNvbnRlbnQtYmxvY2suanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi9tYXJrZG93bicpXG5cbnZhciBFeHBhbmRhYmxlTmV3QXJ0c21pYUNvbnRlbnRCbG9jayA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgLy8gc3RhdGljczoge1xuICAvLyAgIGZldGNoRGF0YTogKHBhcmFtcywgcXVlcnkpID0+IHtcbiAgLy8gICB9XG4gIC8vIH0sXG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXhwYW5kZWQ6IGZhbHNlLFxuICAgICAgbG9hZGVkOiBmYWxzZSxcbiAgICB9XG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHRoaXMubG9hZEV4dGVybmFsQ29udGVudCgpXG4gIH0sXG5cbiAgbG9hZEV4dGVybmFsQ29udGVudCgpIHtcbiAgICByZXR1cm4gcmVzdCgnaHR0cHM6Ly9uZXcuYXJ0c21pYS5vcmcvd3AtanNvbi93cC92Mi9wYWdlcz9zbHVnPScrdGhpcy5wcm9wcy5wYWdlKVxuICAgIC50aGVuKChyKSA9PiBKU09OLnBhcnNlKHIuZW50aXR5KSlcbiAgICAudGhlbihqc29uID0+IHRoaXMuc2V0U3RhdGUoe2xvYWRlZDogdHJ1ZSwganNvbjoganNvbn0pKVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIge2xvYWRlZCwgZXhwYW5kZWQsIGpzb259ID0gdGhpcy5zdGF0ZVxuICAgIHZhciB0b2dnbGVCdXR0b24gPSA8YSBocmVmPVwiI1wiIG9uQ2xpY2s9e3RoaXMudG9nZ2xlfT57ZXhwYW5kZWQgPyAnTGVzcycgOiAnTW9yZSd9IEluZm88L2E+XG5cbiAgICB2YXIgY29udGVudCA9IGxvYWRlZCAmJiA8ZGl2PjxNYXJrZG93bj5cbiAgICAgIHtqc29uWzBdLmFjZi5tb2R1bGVzWzFdLmNvbnRlbnRbMF0udGV4dH1cbiAgICA8L01hcmtkb3duPjxociAvPjwvZGl2PlxuXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8cD57dG9nZ2xlQnV0dG9ufTwvcD5cbiAgICAgIHtsb2FkZWQgJiYgZXhwYW5kZWQgJiYgY29udGVudH1cbiAgICA8L2Rpdj5cbiAgfSxcblxuICB0b2dnbGUoZXZlbnQpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtleHBhbmRlZDogIXRoaXMuc3RhdGUuZXhwYW5kZWR9KVxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICByZXR1cm4gZmFsc2VcbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gRXhwYW5kYWJsZU5ld0FydHNtaWFDb250ZW50QmxvY2tcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/expandable-new-artsmia-content-block.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;AAC1B,IAAI,QAAQ,GAAG,OAAO,CAAC,YAAY,CAAC,CAAA;;AAEpC,IAAI,gCAAgC,GAAG,KAAK,CAAC,WAAW,CAAC;;;;;;;AAKvD,iBAAe,EAAA,2BAAG;AAChB,WAAO;AACL,cAAQ,EAAE,KAAK;AACf,YAAM,EAAE,KAAK;KACd,CAAA;GACF;;AAED,oBAAkB,EAAA,8BAAG;AACnB,QAAI,CAAC,mBAAmB,EAAE,CAAA;GAC3B;;AAED,qBAAmB,EAAA,+BAAG;;;AACpB,WAAO,IAAI,CAAC,mDAAmD,GAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAC/E,IAAI,CAAC,UAAC,CAAC;aAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;KAAA,CAAC,CACjC,IAAI,CAAC,UAAA,IAAI;aAAI,MAAK,QAAQ,CAAC,EAAC,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAC,CAAC;KAAA,CAAC,CAAA;GACzD;;AAED,QAAM,EAAA,kBAAG;iBACwB,IAAI,CAAC,KAAK;QAApC,MAAM,UAAN,MAAM;QAAE,QAAQ,UAAR,QAAQ;QAAE,IAAI,UAAJ,IAAI;;AAC3B,QAAI,YAAY,GAAG;;QAAG,IAAI,EAAC,GAAG,EAAC,OAAO,EAAE,IAAI,CAAC,MAAM,AAAC;MAAE,QAAQ,GAAG,MAAM,GAAG,MAAM;;KAAU,CAAA;;AAE1F,QAAI,OAAO,GAAG,MAAM,IAAI;;;MAAK;AAAC,gBAAQ;;QACnC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI;OAC9B;MAAA,+BAAM;KAAM,CAAA;;AAEvB,WAAO;;;MACL;;;QAAI,YAAY;OAAK;MACpB,MAAM,IAAI,QAAQ,IAAI,OAAO;KAC1B,CAAA;GACP;;AAED,QAAM,EAAA,gBAAC,KAAK,EAAE;AACZ,QAAI,CAAC,QAAQ,CAAC,EAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAC,CAAC,CAAA;AAC/C,SAAK,CAAC,cAAc,EAAE,CAAA;AACtB,WAAO,KAAK,CAAA;GACb;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,gCAAgC,CAAA",
      "file": "/var/www/art/src/expandable-new-artsmia-content-block.js",
      "sourcesContent": [
        "var React = require('react')\nvar rest = require('rest')\nvar Markdown = require('./markdown')\n\nvar ExpandableNewArtsmiaContentBlock = React.createClass({\n  // statics: {\n  //   fetchData: (params, query) => {\n  //   }\n  // },\n  getInitialState() {\n    return {\n      expanded: false,\n      loaded: false,\n    }\n  },\n\n  componentWillMount() {\n    this.loadExternalContent()\n  },\n\n  loadExternalContent() {\n    return rest('https://new.artsmia.org/wp-json/wp/v2/pages?slug='+this.props.page)\n    .then((r) => JSON.parse(r.entity))\n    .then(json => this.setState({loaded: true, json: json}))\n  },\n\n  render() {\n    var {loaded, expanded, json} = this.state\n    var toggleButton = <a href=\"#\" onClick={this.toggle}>{expanded ? 'Less' : 'More'} Info</a>\n\n    var content = loaded && <div><Markdown>\n      {json[0].acf.modules[1].content[0].text}\n    </Markdown><hr /></div>\n\n    return <div>\n      <p>{toggleButton}</p>\n      {loaded && expanded && content}\n    </div>\n  },\n\n  toggle(event) {\n    this.setState({expanded: !this.state.expanded})\n    event.preventDefault()\n    return false\n  },\n})\n\nmodule.exports = ExpandableNewArtsmiaContentBlock\n"
      ]
    },
    "mtime": 1488248774578
  },
  "{\"filename\":\"/var/www/art/src/page.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Helmet = require('react-helmet');\nvar rest = require('rest');\n\nvar Search = require('./search');\nvar SearchResults = require('./search-results');\nvar Markdown = require('./markdown');\nvar Peek = require('./peek');\nvar collectionInfo = require('./endpoints').info;\n\nvar Page = React.createClass({\n  displayName: 'Page',\n\n  statics: {\n    fetchData: {\n      page: function page(params, query) {\n        return rest(collectionInfo).then(function (r) {\n          return JSON.parse(r.entity).pages;\n        }).then(function (pages) {\n          return pages[params.name];\n        });\n      },\n      searchResults: function searchResults(params, query) {\n        return Page.fetchData.page(params, query).then(function (page) {\n          return SearchResults.fetchData.searchResults({ terms: page.query });\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var _props$data$page = this.props.data.page;\n    var title = _props$data$page.title;\n    var content = _props$data$page.content;\n    var query = _props$data$page.query;\n\n    return React.createElement(\n      'section',\n      { className: 'page' },\n      query && React.createElement(Search, _extends({\n        hideResults: true,\n        hideInput: true,\n        facet: query\n      }, this.props)),\n      React.createElement(\n        'div',\n        { className: 'pageText' },\n        React.createElement(\n          'h1',\n          null,\n          title\n        ),\n        React.createElement(\n          Markdown,\n          null,\n          content\n        )\n      ),\n      query && React.createElement(Peek, { q: query, filtered: true, quiltProps: { maxRowHeight: 400 }, offset: 10 }),\n      React.createElement(Helmet, { title: title })\n    );\n  }\n});\n\nmodule.exports = Page;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvcGFnZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtBQUNwQyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7QUFDcEMsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFBOztBQUUxQixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUE7QUFDaEMsSUFBSSxhQUFhLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUE7QUFDL0MsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBO0FBQ3BDLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQTtBQUM1QixJQUFJLGNBQWMsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFBOztBQUVoRCxJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDM0IsU0FBTyxFQUFFO0FBQ1AsYUFBUyxFQUFFO0FBQ1QsVUFBSSxFQUFFLGNBQUMsTUFBTSxFQUFFLEtBQUs7ZUFBSyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQzFDLElBQUksQ0FBQyxVQUFBLENBQUM7aUJBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSztTQUFBLENBQUMsQ0FDckMsSUFBSSxDQUFDLFVBQUEsS0FBSztpQkFBSSxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQztTQUFBLENBQUM7T0FBQTtBQUNwQyxtQkFBYSxFQUFFLHVCQUFDLE1BQU0sRUFBRSxLQUFLO2VBQUssSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUNqRSxJQUFJLENBQUMsVUFBQSxJQUFJO2lCQUFJLGFBQWEsQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLEVBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUMsQ0FBQztTQUFBLENBQUM7T0FBQTtLQUM1RTtHQUNGOztBQUVELFFBQU0sRUFBQSxrQkFBRzsyQkFDdUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSTtRQUE3QyxLQUFLLG9CQUFMLEtBQUs7UUFBRSxPQUFPLG9CQUFQLE9BQU87UUFBRSxLQUFLLG9CQUFMLEtBQUs7O0FBRTFCLFdBQU87O1FBQVMsU0FBUyxFQUFDLE1BQU07TUFDN0IsS0FBSyxJQUFJLG9CQUFDLE1BQU07QUFDZixtQkFBVyxFQUFFLElBQUksQUFBQztBQUNsQixpQkFBUyxFQUFFLElBQUksQUFBQztBQUNoQixhQUFLLEVBQUUsS0FBSyxBQUFDO1NBQ1QsSUFBSSxDQUFDLEtBQUssRUFDZDtNQUVGOztVQUFLLFNBQVMsRUFBQyxVQUFVO1FBQ3ZCOzs7VUFBSyxLQUFLO1NBQU07UUFDaEI7QUFBQyxrQkFBUTs7VUFBRSxPQUFPO1NBQVk7T0FDMUI7TUFFTCxLQUFLLElBQUksb0JBQUMsSUFBSSxJQUFDLENBQUMsRUFBRSxLQUFLLEFBQUMsRUFBQyxRQUFRLEVBQUUsSUFBSSxBQUFDLEVBQUMsVUFBVSxFQUFFLEVBQUMsWUFBWSxFQUFFLEdBQUcsRUFBQyxBQUFDLEVBQUMsTUFBTSxFQUFFLEVBQUUsQUFBQyxHQUFHO01BQ3pGLG9CQUFDLE1BQU0sSUFBQyxLQUFLLEVBQUUsS0FBSyxBQUFDLEdBQUc7S0FDaEIsQ0FBQTtHQUNYO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvcGFnZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIEhlbG1ldCA9IHJlcXVpcmUoJ3JlYWN0LWhlbG1ldCcpXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxuXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zZWFyY2gnKVxudmFyIFNlYXJjaFJlc3VsdHMgPSByZXF1aXJlKCcuL3NlYXJjaC1yZXN1bHRzJylcbnZhciBNYXJrZG93biA9IHJlcXVpcmUoJy4vbWFya2Rvd24nKVxudmFyIFBlZWsgPSByZXF1aXJlKCcuL3BlZWsnKVxudmFyIGNvbGxlY3Rpb25JbmZvID0gcmVxdWlyZSgnLi9lbmRwb2ludHMnKS5pbmZvXG5cbnZhciBQYWdlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBzdGF0aWNzOiB7XG4gICAgZmV0Y2hEYXRhOiB7XG4gICAgICBwYWdlOiAocGFyYW1zLCBxdWVyeSkgPT4gcmVzdChjb2xsZWN0aW9uSW5mbylcbiAgICAgICAgLnRoZW4ociA9PiBKU09OLnBhcnNlKHIuZW50aXR5KS5wYWdlcylcbiAgICAgICAgLnRoZW4ocGFnZXMgPT4gcGFnZXNbcGFyYW1zLm5hbWVdKSxcbiAgICAgIHNlYXJjaFJlc3VsdHM6IChwYXJhbXMsIHF1ZXJ5KSA9PiBQYWdlLmZldGNoRGF0YS5wYWdlKHBhcmFtcywgcXVlcnkpXG4gICAgICAgIC50aGVuKHBhZ2UgPT4gU2VhcmNoUmVzdWx0cy5mZXRjaERhdGEuc2VhcmNoUmVzdWx0cyh7dGVybXM6IHBhZ2UucXVlcnl9KSlcbiAgICB9XG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciB7dGl0bGUsIGNvbnRlbnQsIHF1ZXJ5fSA9IHRoaXMucHJvcHMuZGF0YS5wYWdlXG5cbiAgICByZXR1cm4gPHNlY3Rpb24gY2xhc3NOYW1lPVwicGFnZVwiPlxuICAgICAge3F1ZXJ5ICYmIDxTZWFyY2hcbiAgICAgICAgaGlkZVJlc3VsdHM9e3RydWV9XG4gICAgICAgIGhpZGVJbnB1dD17dHJ1ZX1cbiAgICAgICAgZmFjZXQ9e3F1ZXJ5fVxuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgIC8+fVxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2VUZXh0XCI+XG4gICAgICAgIDxoMT57dGl0bGV9PC9oMT5cbiAgICAgICAgPE1hcmtkb3duPntjb250ZW50fTwvTWFya2Rvd24+XG4gICAgICA8L2Rpdj5cblxuICAgICAge3F1ZXJ5ICYmIDxQZWVrIHE9e3F1ZXJ5fSBmaWx0ZXJlZD17dHJ1ZX0gcXVpbHRQcm9wcz17e21heFJvd0hlaWdodDogNDAwfX0gb2Zmc2V0PXsxMH0gLz59XG4gICAgICA8SGVsbWV0IHRpdGxlPXt0aXRsZX0gLz5cbiAgICA8L3NlY3Rpb24+XG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IFBhZ2VcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/page.js"
      ],
      "names": [],
      "mappings": ";;;;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACpC,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACpC,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;;AAE1B,IAAI,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA;AAChC,IAAI,aAAa,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAA;AAC/C,IAAI,QAAQ,GAAG,OAAO,CAAC,YAAY,CAAC,CAAA;AACpC,IAAI,IAAI,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAA;AAC5B,IAAI,cAAc,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC,IAAI,CAAA;;AAEhD,IAAI,IAAI,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC3B,SAAO,EAAE;AACP,aAAS,EAAE;AACT,UAAI,EAAE,cAAC,MAAM,EAAE,KAAK;eAAK,IAAI,CAAC,cAAc,CAAC,CAC1C,IAAI,CAAC,UAAA,CAAC;iBAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK;SAAA,CAAC,CACrC,IAAI,CAAC,UAAA,KAAK;iBAAI,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC;SAAA,CAAC;OAAA;AACpC,mBAAa,EAAE,uBAAC,MAAM,EAAE,KAAK;eAAK,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CACjE,IAAI,CAAC,UAAA,IAAI;iBAAI,aAAa,CAAC,SAAS,CAAC,aAAa,CAAC,EAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAC,CAAC;SAAA,CAAC;OAAA;KAC5E;GACF;;AAED,QAAM,EAAA,kBAAG;2BACuB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI;QAA7C,KAAK,oBAAL,KAAK;QAAE,OAAO,oBAAP,OAAO;QAAE,KAAK,oBAAL,KAAK;;AAE1B,WAAO;;QAAS,SAAS,EAAC,MAAM;MAC7B,KAAK,IAAI,oBAAC,MAAM;AACf,mBAAW,EAAE,IAAI,AAAC;AAClB,iBAAS,EAAE,IAAI,AAAC;AAChB,aAAK,EAAE,KAAK,AAAC;SACT,IAAI,CAAC,KAAK,EACd;MAEF;;UAAK,SAAS,EAAC,UAAU;QACvB;;;UAAK,KAAK;SAAM;QAChB;AAAC,kBAAQ;;UAAE,OAAO;SAAY;OAC1B;MAEL,KAAK,IAAI,oBAAC,IAAI,IAAC,CAAC,EAAE,KAAK,AAAC,EAAC,QAAQ,EAAE,IAAI,AAAC,EAAC,UAAU,EAAE,EAAC,YAAY,EAAE,GAAG,EAAC,AAAC,EAAC,MAAM,EAAE,EAAE,AAAC,GAAG;MACzF,oBAAC,MAAM,IAAC,KAAK,EAAE,KAAK,AAAC,GAAG;KAChB,CAAA;GACX;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,IAAI,CAAA",
      "file": "/var/www/art/src/page.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar Helmet = require('react-helmet')\nvar rest = require('rest')\n\nvar Search = require('./search')\nvar SearchResults = require('./search-results')\nvar Markdown = require('./markdown')\nvar Peek = require('./peek')\nvar collectionInfo = require('./endpoints').info\n\nvar Page = React.createClass({\n  statics: {\n    fetchData: {\n      page: (params, query) => rest(collectionInfo)\n        .then(r => JSON.parse(r.entity).pages)\n        .then(pages => pages[params.name]),\n      searchResults: (params, query) => Page.fetchData.page(params, query)\n        .then(page => SearchResults.fetchData.searchResults({terms: page.query}))\n    }\n  },\n\n  render() {\n    var {title, content, query} = this.props.data.page\n\n    return <section className=\"page\">\n      {query && <Search\n        hideResults={true}\n        hideInput={true}\n        facet={query}\n        {...this.props}\n      />}\n\n      <div className=\"pageText\">\n        <h1>{title}</h1>\n        <Markdown>{content}</Markdown>\n      </div>\n\n      {query && <Peek q={query} filtered={true} quiltProps={{maxRowHeight: 400}} offset={10} />}\n      <Helmet title={title} />\n    </section>\n  },\n})\n\nmodule.exports = Page\n"
      ]
    },
    "mtime": 1456957925207
  },
  "{\"filename\":\"/var/www/art/src/info.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar Helmet = require('react-helmet');\nvar rest = require('rest');\nvar toSlug = require('speakingurl');\nvar collectionInfo = require('./endpoints').info;\n\nvar Info = React.createClass({\n  displayName: 'Info',\n\n  statics: {\n    fetchData: {\n      pages: function pages(params, query) {\n        return rest(collectionInfo).then(function (r) {\n          return JSON.parse(r.entity).pages;\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var _this = this;\n\n    var pages = Object.keys(this.props.data.pages).filter(function (key) {\n      return !key.match('index');\n    }).map(function (name) {\n      return _this.props.data.pages[name];\n    });\n\n    return React.createElement(\n      'ul',\n      null,\n      pages.map(function (page) {\n        return React.createElement(\n          'li',\n          null,\n          React.createElement(\n            Link,\n            { to: 'page', params: { name: toSlug(page.title) } },\n            page.title\n          )\n        );\n      })\n    );\n  }\n});\n\nmodule.exports = Info;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvaW5mby5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUM1QixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7SUFDL0IsSUFBSSxHQUFJLE1BQU0sQ0FBZCxJQUFJOztBQUNULElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtBQUNwQyxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUE7QUFDMUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBO0FBQ25DLElBQUksY0FBYyxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQyxJQUFJLENBQUE7O0FBRWhELElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUMzQixTQUFPLEVBQUU7QUFDUCxhQUFTLEVBQUU7QUFDVCxXQUFLLEVBQUUsZUFBQyxNQUFNLEVBQUUsS0FBSztlQUFLLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FDM0MsSUFBSSxDQUFDLFVBQUEsQ0FBQztpQkFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLO1NBQUEsQ0FBQztPQUFBO0tBQ3pDO0dBQ0Y7O0FBRUQsUUFBTSxFQUFBLGtCQUFHOzs7QUFDUCxRQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUM3QyxNQUFNLENBQUMsVUFBQSxHQUFHO2FBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQztLQUFBLENBQUMsQ0FDbEMsR0FBRyxDQUFDLFVBQUEsSUFBSTthQUFJLE1BQUssS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO0tBQUEsQ0FBQyxDQUFBOztBQUV6QyxXQUFPOzs7TUFBSyxLQUFLLENBQUMsR0FBRyxDQUFDLFVBQUEsSUFBSSxFQUFJO0FBQzVCLGVBQU87OztVQUFJO0FBQUMsZ0JBQUk7Y0FBQyxFQUFFLEVBQUMsTUFBTSxFQUFDLE1BQU0sRUFBRSxFQUFDLElBQUksRUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFDLEFBQUM7WUFBRSxJQUFJLENBQUMsS0FBSztXQUFRO1NBQUssQ0FBQTtPQUN4RixDQUFDO0tBQU0sQ0FBQTtHQUNUO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvaW5mby5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHtMaW5rfSA9IFJvdXRlclxudmFyIEhlbG1ldCA9IHJlcXVpcmUoJ3JlYWN0LWhlbG1ldCcpXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxudmFyIHRvU2x1ZyA9IHJlcXVpcmUoJ3NwZWFraW5ndXJsJylcbnZhciBjb2xsZWN0aW9uSW5mbyA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJykuaW5mb1xuXG52YXIgSW5mbyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgc3RhdGljczoge1xuICAgIGZldGNoRGF0YToge1xuICAgICAgcGFnZXM6IChwYXJhbXMsIHF1ZXJ5KSA9PiByZXN0KGNvbGxlY3Rpb25JbmZvKVxuICAgICAgICAudGhlbihyID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpLnBhZ2VzKVxuICAgIH1cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHBhZ2VzID0gT2JqZWN0LmtleXModGhpcy5wcm9wcy5kYXRhLnBhZ2VzKVxuICAgIC5maWx0ZXIoa2V5ID0+ICFrZXkubWF0Y2goJ2luZGV4JykpXG4gICAgLm1hcChuYW1lID0+IHRoaXMucHJvcHMuZGF0YS5wYWdlc1tuYW1lXSlcblxuICAgIHJldHVybiA8dWw+e3BhZ2VzLm1hcChwYWdlID0+IHtcbiAgICAgIHJldHVybiA8bGk+PExpbmsgdG89XCJwYWdlXCIgcGFyYW1zPXt7bmFtZTogdG9TbHVnKHBhZ2UudGl0bGUpfX0+e3BhZ2UudGl0bGV9PC9MaW5rPjwvbGk+XG4gICAgfSl9PC91bD5cbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gSW5mb1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/info.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;IAC/B,IAAI,GAAI,MAAM,CAAd,IAAI;;AACT,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACpC,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;AAC1B,IAAI,MAAM,GAAG,OAAO,CAAC,aAAa,CAAC,CAAA;AACnC,IAAI,cAAc,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC,IAAI,CAAA;;AAEhD,IAAI,IAAI,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC3B,SAAO,EAAE;AACP,aAAS,EAAE;AACT,WAAK,EAAE,eAAC,MAAM,EAAE,KAAK;eAAK,IAAI,CAAC,cAAc,CAAC,CAC3C,IAAI,CAAC,UAAA,CAAC;iBAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK;SAAA,CAAC;OAAA;KACzC;GACF;;AAED,QAAM,EAAA,kBAAG;;;AACP,QAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAC7C,MAAM,CAAC,UAAA,GAAG;aAAI,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC;KAAA,CAAC,CAClC,GAAG,CAAC,UAAA,IAAI;aAAI,MAAK,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;KAAA,CAAC,CAAA;;AAEzC,WAAO;;;MAAK,KAAK,CAAC,GAAG,CAAC,UAAA,IAAI,EAAI;AAC5B,eAAO;;;UAAI;AAAC,gBAAI;cAAC,EAAE,EAAC,MAAM,EAAC,MAAM,EAAE,EAAC,IAAI,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,EAAC,AAAC;YAAE,IAAI,CAAC,KAAK;WAAQ;SAAK,CAAA;OACxF,CAAC;KAAM,CAAA;GACT;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,IAAI,CAAA",
      "file": "/var/www/art/src/info.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\nvar Helmet = require('react-helmet')\nvar rest = require('rest')\nvar toSlug = require('speakingurl')\nvar collectionInfo = require('./endpoints').info\n\nvar Info = React.createClass({\n  statics: {\n    fetchData: {\n      pages: (params, query) => rest(collectionInfo)\n        .then(r => JSON.parse(r.entity).pages)\n    }\n  },\n\n  render() {\n    var pages = Object.keys(this.props.data.pages)\n    .filter(key => !key.match('index'))\n    .map(name => this.props.data.pages[name])\n\n    return <ul>{pages.map(page => {\n      return <li><Link to=\"page\" params={{name: toSlug(page.title)}}>{page.title}</Link></li>\n    })}</ul>\n  },\n})\n\nmodule.exports = Info\n"
      ]
    },
    "mtime": 1456957925207
  },
  "{\"filename\":\"/var/www/art/src/gallery.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Helmet = require('react-helmet');\n\nvar rest = require('rest');\n\nvar Search = require('./search');\nvar SearchResults = require('./search-results');\nvar GalleryDecorator = require('./decorate/gallery.js');\nvar Markdown = require('./markdown');\nvar Peek = require('./peek');\n\nvar _require = require('../data/galleries.json');\n\nvar galleries = _require.galleries;\nvar messages = _require.messages;\n\nvar galleryPanelUrl = require('./endpoints').galleryPanel;\n\nvar Gallery = React.createClass({\n  displayName: 'Gallery',\n\n  mixins: [Router.State, Router.Navigation],\n\n  statics: {\n    fetchData: {\n      gallery: function gallery(params, query) {\n        var id = params.gallery.replace(/g/i, '');\n        var url = galleryPanelUrl(id);\n        return rest(url).then(function (result) {\n          return result.status.code == 200 ? result.entity : false;\n        });\n      },\n      searchResults: function searchResults(params, query) {\n        if (!params.gallery.match(/^g/i)) params.gallery = 'G' + params.gallery;\n        params.terms = '*';\n        params.splat = 'room:\"' + params.gallery + '\"';\n        return SearchResults.fetchData.searchResults(params, query);\n      }\n    },\n\n    willTransitionTo: function willTransitionTo(transition, params, query, callback) {\n      var gallery = params.gallery;\n\n      var isWithinTargetGalleries = gallery !== '266-G274' && 266 <= parseInt(gallery) && parseInt(gallery) <= 274;\n\n      if (isWithinTargetGalleries) {\n        transition.redirect('gallery', _extends({}, params, { gallery: '266-G274' }));\n      }\n\n      callback();\n    }\n  },\n\n  render: function render() {\n    var gallery = this.props.params.gallery;\n\n    var facet = 'room:\"' + gallery + '\"';\n    var galleryPanel = this.props.data.gallery;\n    var number = gallery.replace(/g/i, '');\n    if (number == '266-274') number = '266-G274';\n    var galleryInfo = galleries[number];\n    var galleryTitle = galleryPanel ? galleryPanel.replace(/^# /, '').split('\\n')[0] : galleryInfo.title;\n    var pageTitle = gallery + ': ' + (galleryTitle || 'On view now');\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(Search, _extends({\n        facet: facet\n      }, this.props, {\n        summaryProps: {\n          galleryPanel: galleryPanel,\n          showFullGalleryInfo: true\n        },\n        // changeTo: this.changeGallery,\n        disableHover: true // TODO: fix :hover going to the search results page\n      })),\n      React.createElement(Helmet, {\n        title: pageTitle,\n        meta: [{ property: \"og:title\", content: pageTitle + ' ^ Minneapolis Institute of Art' }, { property: \"og:description\", content: galleryTitle || '' }]\n      })\n    );\n  }\n});\n\nmodule.exports = Gallery;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZ2FsbGVyeS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtBQUNwQyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7O0FBRXBDLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQTs7QUFFMUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFBO0FBQ2hDLElBQUksYUFBYSxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFBO0FBQy9DLElBQUksZ0JBQWdCLEdBQUcsT0FBTyxDQUFDLHVCQUF1QixDQUFDLENBQUE7QUFDdkQsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBO0FBQ3BDLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQTs7ZUFDQSxPQUFPLENBQUMsd0JBQXdCLENBQUM7O0lBQXhELFNBQVMsWUFBVCxTQUFTO0lBQUUsUUFBUSxZQUFSLFFBQVE7O0FBQ3hCLElBQUksZUFBZSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQyxZQUFZLENBQUE7O0FBRXpELElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUM5QixRQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxVQUFVLENBQUM7O0FBRXpDLFNBQU8sRUFBRTtBQUNQLGFBQVMsRUFBRTtBQUNULGFBQU8sRUFBRSxpQkFBQyxNQUFNLEVBQUUsS0FBSyxFQUFLO0FBQzFCLFlBQUksRUFBRSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQTtBQUN6QyxZQUFJLEdBQUcs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QUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvZ2FsbGVyeS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIEhlbG1ldCA9IHJlcXVpcmUoJ3JlYWN0LWhlbG1ldCcpXG5cbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG5cbnZhciBTZWFyY2ggPSByZXF1aXJlKCcuL3NlYXJjaCcpXG52YXIgU2VhcmNoUmVzdWx0cyA9IHJlcXVpcmUoJy4vc2VhcmNoLXJlc3VsdHMnKVxudmFyIEdhbGxlcnlEZWNvcmF0b3IgPSByZXF1aXJlKCcuL2RlY29yYXRlL2dhbGxlcnkuanMnKVxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi9tYXJrZG93bicpXG52YXIgUGVlayA9IHJlcXVpcmUoJy4vcGVlaycpXG52YXIge2dhbGxlcmllcywgbWVzc2FnZXN9ID0gcmVxdWlyZSgnLi4vZGF0YS9nYWxsZXJpZXMuanNvbicpXG52YXIgZ2FsbGVyeVBhbmVsVXJsID0gcmVxdWlyZSgnLi9lbmRwb2ludHMnKS5nYWxsZXJ5UGFuZWxcblxudmFyIEdhbGxlcnkgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIG1peGluczogW1JvdXRlci5TdGF0ZSwgUm91dGVyLk5hdmlnYXRpb25dLFxuXG4gIHN0YXRpY3M6IHtcbiAgICBmZXRjaERhdGE6IHtcbiAgICAgIGdhbGxlcnk6IChwYXJhbXMsIHF1ZXJ5KSA9PiB7XG4gICAgICAgIHZhciBpZCA9IHBhcmFtcy5nYWxsZXJ5LnJlcGxhY2UoL2cvaSwgJycpXG4gICAgICAgIHZhciB1cmwgPSBnYWxsZXJ5UGFuZWxVcmwoaWQpXG4gICAgICAgIHJldHVybiByZXN0KHVybCkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgIHJldHVybiByZXN1bHQuc3RhdHVzLmNvZGUgPT0gMjAwID8gcmVzdWx0LmVudGl0eSA6IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgc2VhcmNoUmVzdWx0czogKHBhcmFtcywgcXVlcnkpID0+IHtcbiAgICAgICAgaWYoIXBhcmFtcy5nYWxsZXJ5Lm1hdGNoKC9eZy9pKSkgcGFyYW1zLmdhbGxlcnkgPSBgRyR7cGFyYW1zLmdhbGxlcnl9YFxuICAgICAgICBwYXJhbXMudGVybXMgPSAnKidcbiAgICAgICAgcGFyYW1zLnNwbGF0ID0gJ3Jvb206XCInK3BhcmFtcy5nYWxsZXJ5KydcIidcbiAgICAgICAgcmV0dXJuIFNlYXJjaFJlc3VsdHMuZmV0Y2hEYXRhLnNlYXJjaFJlc3VsdHMocGFyYW1zLCBxdWVyeSlcbiAgICAgIH0sXG4gICAgfSxcblxuICAgIHdpbGxUcmFuc2l0aW9uVG86IGZ1bmN0aW9uICh0cmFuc2l0aW9uLCBwYXJhbXMsIHF1ZXJ5LCBjYWxsYmFjaykge1xuICAgICAgdmFyIHtnYWxsZXJ5fSA9IHBhcmFtc1xuXG4gICAgICB2YXIgaXNXaXRoaW5UYXJnZXRHYWxsZXJpZXMgPSBnYWxsZXJ5ICE9PSAnMjY2LUcyNzQnICYmXG4gICAgICAgIDI2NiA8PSBwYXJzZUludChnYWxsZXJ5KVxuICAgICAgICAmJiBwYXJzZUludChnYWxsZXJ5KSA8PSAyNzRcblxuICAgICAgaWYoaXNXaXRoaW5UYXJnZXRHYWxsZXJpZXMpIHtcbiAgICAgICAgdHJhbnNpdGlvbi5yZWRpcmVjdCgnZ2FsbGVyeScsIHsuLi5wYXJhbXMsIGdhbGxlcnk6ICcyNjYtRzI3NCd9KVxuICAgICAgfVxuXG4gICAgICBjYWxsYmFjaygpXG4gICAgfSxcbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHtnYWxsZXJ5fSA9IHRoaXMucHJvcHMucGFyYW1zXG4gICAgdmFyIGZhY2V0ID0gYHJvb206XCIke2dhbGxlcnl9XCJgXG4gICAgdmFyIGdhbGxlcnlQYW5lbCA9IHRoaXMucHJvcHMuZGF0YS5nYWxsZXJ5XG4gICAgdmFyIG51bWJlciA9IGdhbGxlcnkucmVwbGFjZSgvZy9pLCAnJylcbiAgICBpZihudW1iZXIgPT0gJzI2Ni0yNzQnKSBudW1iZXIgPSAnMjY2LUcyNzQnXG4gICAgdmFyIGdhbGxlcnlJbmZvID0gZ2FsbGVyaWVzW251bWJlcl1cbiAgICB2YXIgZ2FsbGVyeVRpdGxlID0gZ2FsbGVyeVBhbmVsID9cbiAgICAgIGdhbGxlcnlQYW5lbC5yZXBsYWNlKC9eIyAvLCAnJykuc3BsaXQoJ1xcbicpWzBdIDpcbiAgICAgIGdhbGxlcnlJbmZvLnRpdGxlXG4gICAgdmFyIHBhZ2VUaXRsZSA9IGAke2dhbGxlcnl9OiAke2dhbGxlcnlUaXRsZSB8fCAnT24gdmlldyBub3cnfWBcblxuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPFNlYXJjaFxuICAgICAgICBmYWNldD17ZmFjZXR9XG4gICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICBzdW1tYXJ5UHJvcHM9e3tcbiAgICAgICAgICBnYWxsZXJ5UGFuZWw6IGdhbGxlcnlQYW5lbCxcbiAgICAgICAgICBzaG93RnVsbEdhbGxlcnlJbmZvOiB0cnVlLFxuICAgICAgICAgIC8vIGNoYW5nZVRvOiB0aGlzLmNoYW5nZUdhbGxlcnksXG4gICAgICAgIH19XG4gICAgICAgIGRpc2FibGVIb3Zlcj17dHJ1ZX0gLy8gVE9ETzogZml4IDpob3ZlciBnb2luZyB0byB0aGUgc2VhcmNoIHJlc3VsdHMgcGFnZVxuICAgICAgLz5cbiAgICAgIDxIZWxtZXRcbiAgICAgICAgdGl0bGU9e3BhZ2VUaXRsZX1cbiAgICAgICAgbWV0YT17W1xuICAgICAgICAgIHtwcm9wZXJ0eTogXCJvZzp0aXRsZVwiLCBjb250ZW50OiBwYWdlVGl0bGUgKyAnIF4gTWlubmVhcG9saXMgSW5zdGl0dXRlIG9mIEFydCd9LFxuICAgICAgICAgIHtwcm9wZXJ0eTogXCJvZzpkZXNjcmlwdGlvblwiLCBjb250ZW50OiBnYWxsZXJ5VGl0bGUgfHwgJyd9LFxuICAgICAgICBdfVxuICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBHYWxsZXJ5XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/gallery.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/gallery.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar Helmet = require('react-helmet')\n\nvar rest = require('rest')\n\nvar Search = require('./search')\nvar SearchResults = require('./search-results')\nvar GalleryDecorator = require('./decorate/gallery.js')\nvar Markdown = require('./markdown')\nvar Peek = require('./peek')\nvar {galleries, messages} = require('../data/galleries.json')\nvar galleryPanelUrl = require('./endpoints').galleryPanel\n\nvar Gallery = React.createClass({\n  mixins: [Router.State, Router.Navigation],\n\n  statics: {\n    fetchData: {\n      gallery: (params, query) => {\n        var id = params.gallery.replace(/g/i, '')\n        var url = galleryPanelUrl(id)\n        return rest(url).then(result => {\n          return result.status.code == 200 ? result.entity : false\n        })\n      },\n      searchResults: (params, query) => {\n        if(!params.gallery.match(/^g/i)) params.gallery = `G${params.gallery}`\n        params.terms = '*'\n        params.splat = 'room:\"'+params.gallery+'\"'\n        return SearchResults.fetchData.searchResults(params, query)\n      },\n    },\n\n    willTransitionTo: function (transition, params, query, callback) {\n      var {gallery} = params\n\n      var isWithinTargetGalleries = gallery !== '266-G274' &&\n        266 <= parseInt(gallery)\n        && parseInt(gallery) <= 274\n\n      if(isWithinTargetGalleries) {\n        transition.redirect('gallery', {...params, gallery: '266-G274'})\n      }\n\n      callback()\n    },\n  },\n\n  render() {\n    var {gallery} = this.props.params\n    var facet = `room:\"${gallery}\"`\n    var galleryPanel = this.props.data.gallery\n    var number = gallery.replace(/g/i, '')\n    if(number == '266-274') number = '266-G274'\n    var galleryInfo = galleries[number]\n    var galleryTitle = galleryPanel ?\n      galleryPanel.replace(/^# /, '').split('\\n')[0] :\n      galleryInfo.title\n    var pageTitle = `${gallery}: ${galleryTitle || 'On view now'}`\n\n    return <div>\n      <Search\n        facet={facet}\n        {...this.props}\n        summaryProps={{\n          galleryPanel: galleryPanel,\n          showFullGalleryInfo: true,\n          // changeTo: this.changeGallery,\n        }}\n        disableHover={true} // TODO: fix :hover going to the search results page\n      />\n      <Helmet\n        title={pageTitle}\n        meta={[\n          {property: \"og:title\", content: pageTitle + ' ^ Minneapolis Institute of Art'},\n          {property: \"og:description\", content: galleryTitle || ''},\n        ]}\n      />\n      </div>\n  },\n})\n\nmodule.exports = Gallery\n"
      ]
    },
    "mtime": 1456957925207
  },
  "{\"filename\":\"/var/www/art/src/more.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar toSlug = require('speakingurl');\nvar LazyLoad = require('react-lazy-load')['default'];\n\nvar SEARCH = require('./endpoints').search;\nvar rest = require('rest');\nvar Search = require('./search');\nvar MapPage = require('./map-page');\nvar Markdown = require('./markdown');\n\n// TODO: de-dupe this and src/home.js\nvar More = React.createClass({\n  displayName: 'More',\n\n  statics: {\n    fetchData: {\n      searchResults: function searchResults(params, query) {\n        var searchUrl = SEARCH + '/highlight:true';\n        return rest(searchUrl).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  componentDidMount: function componentDidMount() {\n    var smallViewport = this.context.smallViewport;\n\n    if (smallViewport && window.scrollX == 0) setTimeout(function () {\n      return window.scrollTo(0, document.querySelector('.quilt-wrap').clientHeight);\n    }, 0);\n    window.enteredViaMore = true;\n  },\n\n  render: function render() {\n    var smallViewport = this.context.smallViewport;\n\n    var quiltProps = smallViewport ? { maxRows: 1, maxWorks: 5 } : { maxRows: 2, maxWorks: 9 };\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(Search, _extends({\n        hideResults: true,\n        activateInput: true,\n        quiltProps: quiltProps,\n        facet: 'highlight:true',\n        searchAll: true,\n        suggestStyle: { margin: \"1em 3em\" },\n        bumpSearchBox: smallViewport,\n        shuffleQuilt: true,\n        hideHeader: true\n      }, this.props)),\n      React.createElement(\n        'div',\n        { id: 'more', className: 'welcome mdl-grid' },\n        React.createElement(\n          'div',\n          { className: 'mdl-cell mdl-cell--9-col' },\n          React.createElement(\n            'h1',\n            null,\n            smallViewport && React.createElement('img', { src: '/images/more-icon.svg', style: { maxWidth: '7em', padding: '2em 1em 0.25em 1em', float: 'right' } }),\n            'Search to explore audio guides, ArtStories, and more'\n          ),\n          React.createElement(\n            'p',\n            { 'class': 'labelHelper' },\n            React.createElement(TombstoneIdeograph, null)\n          ),\n          smallViewport || React.createElement(\n            'p',\n            null,\n            React.createElement('img', { src: '/images/more-icon.svg', style: { maxWidth: '11em' } })\n          ),\n          React.createElement('hr', null),\n          React.createElement(\n            'p',\n            null,\n            React.createElement(\n              Link,\n              { to: 'explore' },\n              'More ways to explore the collection'\n            )\n          )\n        )\n      ),\n      React.createElement(\n        'div',\n        { id: 'map' },\n        React.createElement(\n          MapPage,\n          { hideList: true },\n          React.createElement(\n            Link,\n            { to: 'map', style: { textAlign: 'center', float: 'right', paddingRight: '1em' } },\n            'All galleries'\n          )\n        )\n      )\n    );\n  }\n});\nMore.contextTypes = {\n  smallViewport: React.PropTypes.bool\n};\n\nmodule.exports = More;\n\nvar tombstoneStyles = {\n  position: 'absolute',\n  background: 'white',\n  zIndex: 1000,\n  width: '90vw',\n  padding: '1em',\n  border: '1px solid black',\n  marginTop: '1em'\n};\n\nvar RandomArtworkTombstone = require('./random-artwork-tombstone');\nvar TombstoneTooltip = React.createClass({\n  displayName: 'TombstoneTooltip',\n\n  render: function render() {\n    var _state = this.state;\n    var expanded = _state.expanded;\n    var timeClicked = _state.timeClicked;\n\n    var fieldToHighlight = this.props.children;\n\n    return React.createElement(\n      'span',\n      { style: { display: 'inline', cursor: 'pointer' },\n        onMouseOver: this.toggleExpanded.bind(this, true),\n        onMouseOut: this.toggleExpanded.bind(this, false),\n        onClick: this.toggleExpanded },\n      React.createElement(\n        'a',\n        { onclick: 'return false' },\n        this.props.children\n      ),\n      expanded && React.createElement(\n        'div',\n        { style: tombstoneStyles },\n        React.createElement(RandomArtworkTombstone, { fieldToHighlight: fieldToHighlight })\n      )\n    );\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      expanded: this.props.startOpen\n    };\n  },\n\n  toggleExpanded: function toggleExpanded(value) {\n    this.setState({\n      expanded: value || !this.state.expanded\n    });\n  }\n});\n\n// http://stackoverflow.com/a/23619085\nfunction intersperse(arr, sep) {\n  if (arr.length === 0) {\n    return [];\n  }\n\n  return arr.slice(1).reduce(function (xs, x, i) {\n    return xs.concat([sep, x]);\n  }, [arr[0]]);\n}\n\nvar TombstoneIdeograph = React.createClass({\n  displayName: 'TombstoneIdeograph',\n\n  getInitialState: function getInitialState() {\n    return { fieldToHighlight: 'accession number' };\n  },\n\n  render: function render() {\n    var _this = this;\n\n    var fieldToHighlight = this.state.fieldToHighlight;\n\n    var fieldHighlighters = ['title', 'artist', 'accession number'].map(function (fieldName) {\n      return React.createElement(\n        'a',\n        { key: fieldName, onclick: 'return false', onClick: _this.changeHighlight.bind(_this, fieldName) },\n        fieldName\n      );\n    });\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'p',\n        null,\n        'To find more, search for an artwork by ',\n        React.createElement(\n          'span',\n          null,\n          intersperse(fieldHighlighters, ', ')\n        ),\n        '.'\n      ),\n      React.createElement(RandomArtworkTombstone, { initialId: '529', fieldToHighlight: fieldToHighlight })\n    );\n  },\n\n  changeHighlight: function changeHighlight(field) {\n    this.setState({ fieldToHighlight: field });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvbW9yZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtJQUMvQixJQUFJLEdBQUksTUFBTSxDQUFkLElBQUk7O0FBRVQsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBO0FBQ25DLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxXQUFRLENBQUE7O0FBRWpELElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQyxNQUFNLENBQUE7QUFDMUMsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFBO0FBQzFCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQTtBQUNoQyxJQUFJLE9BQU8sR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7QUFDbkMsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFBOzs7QUFHcEMsSUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQzNCLFNBQU8sRUFBRTtBQUNQLGFBQVMsRUFBRTtBQUNULG1CQUFhLEVBQUUsdUJBQUMsTUFBTSxFQUFFLEtBQUssRUFBSztBQUNoQyxZQUFJLFNBQVMsR0FBTSxNQUFNLG9CQUFpQixDQUFBO0FBQzFDLGVBQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFDLENBQUM7aUJBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO1NBQUEsQ0FBQyxDQUFBO09BQ3pEO0tBQ0Y7R0FDRjs7QUFFRCxtQkFBaUIsRUFBQSw2QkFBRztRQUNiLGFBQWEsR0FBSSxJQUFJLENBQUMsT0FBTyxDQUE3QixhQUFhOztBQUNs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QUFLLEVBQUMsQ0FBQyxDQUFBO0dBQ3pDO0NBQ0YsQ0FBQyxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvbW9yZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHtMaW5rfSA9IFJvdXRlclxuXG52YXIgdG9TbHVnID0gcmVxdWlyZSgnc3BlYWtpbmd1cmwnKVxudmFyIExhenlMb2FkID0gcmVxdWlyZSgncmVhY3QtbGF6eS1sb2FkJykuZGVmYXVsdFxuXG52YXIgU0VBUkNIID0gcmVxdWlyZSgnLi9lbmRwb2ludHMnKS5zZWFyY2hcbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zZWFyY2gnKVxudmFyIE1hcFBhZ2UgPSByZXF1aXJlKCcuL21hcC1wYWdlJylcbnZhciBNYXJrZG93biA9IHJlcXVpcmUoJy4vbWFya2Rvd24nKVxuXG4vLyBUT0RPOiBkZS1kdXBlIHRoaXMgYW5kIHNyYy9ob21lLmpzXG52YXIgTW9yZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgc3RhdGljczoge1xuICAgIGZldGNoRGF0YToge1xuICAgICAgc2VhcmNoUmVzdWx0czogKHBhcmFtcywgcXVlcnkpID0+IHtcbiAgICAgICAgbGV0IHNlYXJjaFVybCA9IGAke1NFQVJDSH0vaGlnaGxpZ2h0OnRydWVgXG4gICAgICAgIHJldHVybiByZXN0KHNlYXJjaFVybCkudGhlbigocikgPT4gSlNPTi5wYXJzZShyLmVudGl0eSkpXG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHZhciB7c21hbGxWaWV3cG9ydH0gPSB0aGlzLmNvbnRleHRcbiAgICBpZihzbWFsbFZpZXdwb3J0ICYmIHdpbmRvdy5zY3JvbGxYID09IDApIHNldFRpbWVvdXQoKCkgPT4gd2luZG93LnNjcm9sbFRvKDAsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5xdWlsdC13cmFwJykuY2xpZW50SGVpZ2h0KSwgMClcbiAgICB3aW5kb3cuZW50ZXJlZFZpYU1vcmUgPSB0cnVlXG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCB7c21hbGxWaWV3cG9ydH0gPSB0aGlzLmNvbnRleHRcbiAgICBsZXQgcXVpbHRQcm9wcyA9IHNtYWxsVmlld3BvcnQgPyBcbiAgICAgIHttYXhSb3dzOiAxLCBtYXhXb3JrczogNX0gOlxuICAgICAge21heFJvd3M6IDIsIG1heFdvcmtzOiA5fVxuXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8U2VhcmNoXG4gICAgICAgIGhpZGVSZXN1bHRzPXt0cnVlfVxuICAgICAgICBhY3RpdmF0ZUlucHV0PXt0cnVlfVxuICAgICAgICBxdWlsdFByb3BzPXtxdWlsdFByb3BzfVxuICAgICAgICBmYWNldD17J2hpZ2hsaWdodDp0cnVlJ31cbiAgICAgICAgc2VhcmNoQWxsPXt0cnVlfVxuICAgICAgICBzdWdnZXN0U3R5bGU9e3ttYXJnaW46IFwiMWVtIDNlbVwifX1cbiAgICAgICAgYnVtcFNlYXJjaEJveD17c21hbGxWaWV3cG9ydH1cbiAgICAgICAgc2h1ZmZsZVF1aWx0PXt0cnVlfVxuICAgICAgICBoaWRlSGVhZGVyPXt0cnVlfVxuICAgICAgICB7Li4udGhpcy5wcm9wc30gLz5cblxuICAgICAgPGRpdiBpZD1cIm1vcmVcIiBjbGFzc05hbWU9XCJ3ZWxjb21lIG1kbC1ncmlkXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWRsLWNlbGwgbWRsLWNlbGwtLTktY29sXCI+XG4gICAgICAgICAgPGgxPlxuICAgICAgICAgICAge3NtYWxsVmlld3BvcnQgJiYgPGltZyBzcmM9XCIvaW1hZ2VzL21vcmUtaWNvbi5zdmdcIiBzdHlsZT17e21heFdpZHRoOiAnN2VtJywgcGFkZGluZzogJzJlbSAxZW0gMC4yNWVtIDFlbScsIGZsb2F0OiAncmlnaHQnfX0gLz59XG4gICAgICAgICAgICBTZWFyY2ggdG8gZXhwbG9yZSBhdWRpbyBndWlkZXMsIEFydFN0b3JpZXMsIGFuZCBtb3JlXG4gICAgICAgICAgPC9oMT5cbiAgICAgICAgICA8cCBjbGFzcz1cImxhYmVsSGVscGVyXCI+PFRvbWJzdG9uZUlkZW9ncmFwaCAvPjwvcD5cbiAgICAgICAgICB7c21hbGxWaWV3cG9ydCB8fCA8cD48aW1nIHNyYz1cIi9pbWFnZXMvbW9yZS1pY29uLnN2Z1wiIHN0eWxlPXt7bWF4V2lkdGg6ICcxMWVtJ319IC8+PC9wPn1cblxuICAgICAgICAgIDxociAvPlxuICAgICAgICAgIDxwPjxMaW5rIHRvPVwiZXhwbG9yZVwiPk1vcmUgd2F5cyB0byBleHBsb3JlIHRoZSBjb2xsZWN0aW9uPC9MaW5rPjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBpZD1cIm1hcFwiPlxuICAgICAgICA8TWFwUGFnZSBoaWRlTGlzdD17dHJ1ZX0+XG4gICAgICAgICAgPExpbmsgdG89XCJtYXBcIiBzdHlsZT17e3RleHRBbGlnbjogJ2NlbnRlcicsIGZsb2F0OiAncmlnaHQnLCBwYWRkaW5nUmlnaHQ6ICcxZW0nfX0+XG4gICAgICAgICAgICBBbGwgZ2FsbGVyaWVzXG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICA8L01hcFBhZ2U+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgfSxcbn0pXG5Nb3JlLmNvbnRleHRUeXBlcyA9IHtcbiAgc21hbGxWaWV3cG9ydDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG59XG5cbm1vZHVsZS5leHBvcnRzID0gTW9yZVxuXG52YXIgdG9tYnN0b25lU3R5bGVzID0ge1xuICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgYmFja2dyb3VuZDogJ3doaXRlJyxcbiAgekluZGV4OiAxMDAwLFxuICB3aWR0aDogJzkwdncnLFxuICBwYWRkaW5nOiAnMWVtJyxcbiAgYm9yZGVyOiAnMXB4IHNvbGlkIGJsYWNrJyxcbiAgbWFyZ2luVG9wOiAnMWVtJyxcbn1cblxuXG52YXIgUmFuZG9tQXJ0d29ya1RvbWJzdG9uZSA9IHJlcXVpcmUoJy4vcmFuZG9tLWFydHdvcmstdG9tYnN0b25lJylcbnZhciBUb21ic3RvbmVUb29sdGlwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHtleHBhbmRlZCwgdGltZUNsaWNrZWR9ID0gdGhpcy5zdGF0ZVxuXG4gICAgdmFyIGZpZWxkVG9IaWdobGlnaHQgPSB0aGlzLnByb3BzLmNoaWxkcmVuXG5cbiAgICByZXR1cm4gPHNwYW4gc3R5bGU9e3tkaXNwbGF5OiAnaW5saW5lJywgY3Vyc29yOiAncG9pbnRlcid9fVxuICAgICAgb25Nb3VzZU92ZXI9e3RoaXMudG9nZ2xlRXhwYW5kZWQuYmluZCh0aGlzLCB0cnVlKX1cbiAgICAgIG9uTW91c2VPdXQ9e3RoaXMudG9nZ2xlRXhwYW5kZWQuYmluZCh0aGlzLCBmYWxzZSl9XG4gICAgICBvbkNsaWNrPXt0aGlzLnRvZ2dsZUV4cGFuZGVkfT5cbiAgICAgIDxhIG9uY2xpY2s9XCJyZXR1cm4gZmFsc2VcIj57dGhpcy5wcm9wcy5jaGlsZHJlbn08L2E+XG4gICAgICB7ZXhwYW5kZWQgJiYgPGRpdiBzdHlsZT17dG9tYnN0b25lU3R5bGVzfT5cbiAgICAgICAgPFJhbmRvbUFydHdvcmtUb21ic3RvbmUgZmllbGRUb0hpZ2hsaWdodD17ZmllbGRUb0hpZ2hsaWdodH0gLz5cbiAgICAgIDwvZGl2Pn1cbiAgICA8L3NwYW4+XG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBleHBhbmRlZDogdGhpcy5wcm9wcy5zdGFydE9wZW4sXG4gICAgfVxuICB9LFxuXG4gIHRvZ2dsZUV4cGFuZGVkKHZhbHVlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBleHBhbmRlZDogdmFsdWUgfHwgIXRoaXMuc3RhdGUuZXhwYW5kZWQsXG4gICAgfSlcbiAgfSxcbn0pXG5cbi8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIzNjE5MDg1XG5mdW5jdGlvbiBpbnRlcnNwZXJzZShhcnIsIHNlcCkge1xuICBpZiAoYXJyLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHJldHVybiBhcnIuc2xpY2UoMSkucmVkdWNlKGZ1bmN0aW9uKHhzLCB4LCBpKSB7XG4gICAgcmV0dXJuIHhzLmNvbmNhdChbc2VwLCB4XSk7XG4gIH0sIFthcnJbMF1dKTtcbn1cblxudmFyIFRvbWJzdG9uZUlkZW9ncmFwaCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiB7ZmllbGRUb0hpZ2hsaWdodDogJ2FjY2Vzc2lvbiBudW1iZXInfVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIge2ZpZWxkVG9IaWdobGlnaHR9ID0gdGhpcy5zdGF0ZVxuICAgIHZhciBmaWVsZEhpZ2hsaWdodGVycyA9IFsndGl0bGUnLCAnYXJ0aXN0JywgJ2FjY2Vzc2lvbiBudW1iZXInXS5tYXAoZmllbGROYW1lID0+IHtcbiAgICAgIHJldHVybiA8YSBrZXk9e2ZpZWxkTmFtZX0gb25jbGljaz1cInJldHVybiBmYWxzZVwiIG9uQ2xpY2s9e3RoaXMuY2hhbmdlSGlnaGxpZ2h0LmJpbmQodGhpcywgZmllbGROYW1lKX0+e2ZpZWxkTmFtZX08L2E+XG4gICAgfSlcbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIDxwPlRvIGZpbmQgbW9yZSwgc2VhcmNoIGZvciBhbiBhcnR3b3JrIGJ5IDxzcGFuPntpbnRlcnNwZXJzZShmaWVsZEhpZ2hsaWdodGVycywgJywgJyl9PC9zcGFuPi48L3A+XG4gICAgICA8UmFuZG9tQXJ0d29ya1RvbWJzdG9uZSBpbml0aWFsSWQ9XCI1MjlcIiBmaWVsZFRvSGlnaGxpZ2h0PXtmaWVsZFRvSGlnaGxpZ2h0fSAvPlxuICAgIDwvZGl2PlxuICB9LFxuXG4gIGNoYW5nZUhpZ2hsaWdodChmaWVsZCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe2ZpZWxkVG9IaWdobGlnaHQ6IGZpZWxkfSlcbiAgfSxcbn0pXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/more.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/more.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\n\nvar toSlug = require('speakingurl')\nvar LazyLoad = require('react-lazy-load').default\n\nvar SEARCH = require('./endpoints').search\nvar rest = require('rest')\nvar Search = require('./search')\nvar MapPage = require('./map-page')\nvar Markdown = require('./markdown')\n\n// TODO: de-dupe this and src/home.js\nvar More = React.createClass({\n  statics: {\n    fetchData: {\n      searchResults: (params, query) => {\n        let searchUrl = `${SEARCH}/highlight:true`\n        return rest(searchUrl).then((r) => JSON.parse(r.entity))\n      }\n    }\n  },\n\n  componentDidMount() {\n    var {smallViewport} = this.context\n    if(smallViewport && window.scrollX == 0) setTimeout(() => window.scrollTo(0, document.querySelector('.quilt-wrap').clientHeight), 0)\n    window.enteredViaMore = true\n  },\n\n  render() {\n    let {smallViewport} = this.context\n    let quiltProps = smallViewport ? \n      {maxRows: 1, maxWorks: 5} :\n      {maxRows: 2, maxWorks: 9}\n\n    return <div>\n      <Search\n        hideResults={true}\n        activateInput={true}\n        quiltProps={quiltProps}\n        facet={'highlight:true'}\n        searchAll={true}\n        suggestStyle={{margin: \"1em 3em\"}}\n        bumpSearchBox={smallViewport}\n        shuffleQuilt={true}\n        hideHeader={true}\n        {...this.props} />\n\n      <div id=\"more\" className=\"welcome mdl-grid\">\n        <div className=\"mdl-cell mdl-cell--9-col\">\n          <h1>\n            {smallViewport && <img src=\"/images/more-icon.svg\" style={{maxWidth: '7em', padding: '2em 1em 0.25em 1em', float: 'right'}} />}\n            Search to explore audio guides, ArtStories, and more\n          </h1>\n          <p class=\"labelHelper\"><TombstoneIdeograph /></p>\n          {smallViewport || <p><img src=\"/images/more-icon.svg\" style={{maxWidth: '11em'}} /></p>}\n\n          <hr />\n          <p><Link to=\"explore\">More ways to explore the collection</Link></p>\n        </div>\n      </div>\n\n      <div id=\"map\">\n        <MapPage hideList={true}>\n          <Link to=\"map\" style={{textAlign: 'center', float: 'right', paddingRight: '1em'}}>\n            All galleries\n          </Link>\n        </MapPage>\n      </div>\n    </div>\n  },\n})\nMore.contextTypes = {\n  smallViewport: React.PropTypes.bool,\n}\n\nmodule.exports = More\n\nvar tombstoneStyles = {\n  position: 'absolute',\n  background: 'white',\n  zIndex: 1000,\n  width: '90vw',\n  padding: '1em',\n  border: '1px solid black',\n  marginTop: '1em',\n}\n\n\nvar RandomArtworkTombstone = require('./random-artwork-tombstone')\nvar TombstoneTooltip = React.createClass({\n  render() {\n    var {expanded, timeClicked} = this.state\n\n    var fieldToHighlight = this.props.children\n\n    return <span style={{display: 'inline', cursor: 'pointer'}}\n      onMouseOver={this.toggleExpanded.bind(this, true)}\n      onMouseOut={this.toggleExpanded.bind(this, false)}\n      onClick={this.toggleExpanded}>\n      <a onclick=\"return false\">{this.props.children}</a>\n      {expanded && <div style={tombstoneStyles}>\n        <RandomArtworkTombstone fieldToHighlight={fieldToHighlight} />\n      </div>}\n    </span>\n  },\n\n  getInitialState() {\n    return {\n      expanded: this.props.startOpen,\n    }\n  },\n\n  toggleExpanded(value) {\n    this.setState({\n      expanded: value || !this.state.expanded,\n    })\n  },\n})\n\n// http://stackoverflow.com/a/23619085\nfunction intersperse(arr, sep) {\n  if (arr.length === 0) {\n    return [];\n  }\n\n  return arr.slice(1).reduce(function(xs, x, i) {\n    return xs.concat([sep, x]);\n  }, [arr[0]]);\n}\n\nvar TombstoneIdeograph = React.createClass({\n  getInitialState() {\n    return {fieldToHighlight: 'accession number'}\n  },\n\n  render() {\n    var {fieldToHighlight} = this.state\n    var fieldHighlighters = ['title', 'artist', 'accession number'].map(fieldName => {\n      return <a key={fieldName} onclick=\"return false\" onClick={this.changeHighlight.bind(this, fieldName)}>{fieldName}</a>\n    })\n    return <div>\n      <p>To find more, search for an artwork by <span>{intersperse(fieldHighlighters, ', ')}</span>.</p>\n      <RandomArtworkTombstone initialId=\"529\" fieldToHighlight={fieldToHighlight} />\n    </div>\n  },\n\n  changeHighlight(field) {\n    this.setState({fieldToHighlight: field})\n  },\n})\n"
      ]
    },
    "mtime": 1488248774578
  },
  "{\"filename\":\"/var/www/art/src/random-artwork-tombstone.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar rest = require('rest');\n\nvar Artwork = require('./_artwork');\nvar ArtworkPreview = require('./artwork-preview');\nvar SEARCH = require('./endpoints').search;\n\nmodule.exports = React.createClass({\n  displayName: 'exports',\n\n  render: function render() {\n    var art = this.state.art;\n    var fieldToHighlight = this.props.fieldToHighlight;\n\n    var highlight = function highlight(children, _highlight) {\n      return _highlight ? React.createElement(\n        'span',\n        { style: { color: 'red', fontWeight: 'bold', borderBottom: '1px solid black !important' } },\n        children\n      ) : children;\n    };\n\n    // and check on mobile = does touch work?\n    var rawTitle = React.createElement(Artwork.Title, { art: art, link: false });\n    var rawArtist = React.createElement(Artwork.Creator, { art: art });\n\n    return art && React.createElement(\n      'div',\n      { key: fieldToHighlight },\n      highlight(rawTitle, fieldToHighlight == 'title'),\n      highlight(rawArtist, fieldToHighlight == 'artist'),\n      React.createElement(Artwork.Tombstone, { art: art,\n        highlightAccessionNumber: fieldToHighlight == 'accession number',\n        highlighter: highlight })\n    );\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      art: null\n    };\n  },\n\n  componentDidMount: function componentDidMount() {\n    var _this = this;\n\n    var id = this.props.initialId;\n\n    var searchUrl = id ? SEARCH + '/id/' + id : SEARCH + '/random/art';\n    rest(searchUrl).then(function (data) {\n      return _this.setState({ art: JSON.parse(data.entity) });\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvcmFuZG9tLWFydHdvcmstdG9tYnN0b25lLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtJQUMvQixJQUFJLEdBQUksTUFBTSxDQUFkLElBQUk7O0FBQ1QsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFBOztBQUUxQixJQUFJLE9BQU8sR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUE7QUFDbkMsSUFBSSxjQUFjLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUE7QUFDakQsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLE1BQU0sQ0FBQTs7QUFFMUMsTUFBTSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDOzs7QUFDakMsUUFBTSxFQUFBLGtCQUFHO1FBQ0YsR0FBRyxHQUFJLElBQUksQ0FBQyxLQUFLLENBQWpCLEdBQUc7UUFDSCxnQkFBZ0IsR0FBSSxJQUFJLENBQUMsS0FBSyxDQUE5QixnQkFBZ0I7O0FBQ3JCLFFBQUksU0FBUyxHQUFHLG1CQUFDLFFBQVEsRUFBRSxVQUFTO2FBQUssVUFBUyxHQUFHOztVQUFNLEtBQUssRUFBRSxFQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsNEJBQTRCLEVBQUMsQUFBQztRQUM5SSxRQUFRO09BQ0osR0FBRyxRQUFRO0tBQUEsQ0FBQTs7O0FBR2xCLFFBQUksUUFBUSxHQUFHLG9CQUFDLE9BQU8sQ0FBQyxLQUFLLElBQUMsR0FBRyxFQUFFLEdBQUcsQUFBQyxFQUFDLElBQUksRUFBRSxLQUFLLEFBQUMsR0FBRyxDQUFBO0FBQ3ZELFFBQUksU0FBUyxHQUFHLG9CQUFDLE9BQU8sQ0FBQyxPQUFPLElBQUMsR0FBRyxFQUFFLEdBQUcsQUFBQyxHQUFHLENBQUE7O0FBRTdDLFdBQU8sR0FBRyxJQUFJOztRQUFLLEdBQUcsRUFBRSxnQkFBZ0IsQUFBQztNQUN0QyxTQUFTLENBQUMsUUFBUSxFQUFFLGdCQUFnQixJQUFJLE9BQU8sQ0FBQztNQUNoRCxTQUFTLENBQUMsU0FBUyxFQUFFLGdCQUFnQixJQUFJLFFBQVEsQ0FBQztNQUNuRCxvQkFBQyxPQUFPLENBQUMsU0FBUyxJQUFDLEdBQUcsRUFBRSxHQUFHLEFBQUM7QUFDMUIsZ0NBQXdCLEVBQUUsZ0JBQWdCLElBQUksa0JBQWtCLEFBQUM7QUFDakUsbUJBQVcsRUFBRSxTQUFTLEFBQUMsR0FBRztLQUN4QixDQUFBO0dBQ1A7O0FBRUQsaUJBQWUsRUFBQSwyQkFBRztBQUNoQixXQUFPO0FBQ0wsU0FBRyxFQUFFLElBQUk7S0FDVixDQUFBO0dBQ0Y7O0FBRUQsbUJBQWlCLEVBQUEsNkJBQUc7OztBQUNsQixRQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQTs7QUFFN0IsUUFBSSxTQUFTLEdBQUcsRUFBRSxHQUFNLE1BQU0sWUFBTyxFQUFFLEdBQVEsTUFBTSxnQkFBYSxDQUFBO0FBQ2xFLFFBQUksQ0FBQyxTQUFTLENBQUMsQ0FDZCxJQUFJLENBQUMsVUFBQSxJQUFJO2FBQUksTUFBSyxRQUFRLENBQUMsRUFBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQztLQUFBLENBQUMsQ0FBQTtHQUM3RDtDQUNGLENBQUMsQ0FBQSIsImZpbGUiOiIvdmFyL3d3dy9hcnQvc3JjL3JhbmRvbS1hcnR3b3JrLXRvbWJzdG9uZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHtMaW5rfSA9IFJvdXRlclxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcblxudmFyIEFydHdvcmsgPSByZXF1aXJlKCcuL19hcnR3b3JrJylcbnZhciBBcnR3b3JrUHJldmlldyA9IHJlcXVpcmUoJy4vYXJ0d29yay1wcmV2aWV3JylcbnZhciBTRUFSQ0ggPSByZXF1aXJlKCcuL2VuZHBvaW50cycpLnNlYXJjaFxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7YXJ0fSA9IHRoaXMuc3RhdGVcbiAgICB2YXIge2ZpZWxkVG9IaWdobGlnaHR9ID0gdGhpcy5wcm9wc1xuICAgIHZhciBoaWdobGlnaHQgPSAoY2hpbGRyZW4sIGhpZ2hsaWdodCkgPT4gaGlnaGxpZ2h0ID8gPHNwYW4gc3R5bGU9e3tjb2xvcjogJ3JlZCcsIGZvbnRXZWlnaHQ6ICdib2xkJywgYm9yZGVyQm90dG9tOiAnMXB4IHNvbGlkIGJsYWNrICFpbXBvcnRhbnQnfX0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9zcGFuPiA6IGNoaWxkcmVuXG5cbiAgICAvLyBhbmQgY2hlY2sgb24gbW9iaWxlID0gZG9lcyB0b3VjaCB3b3JrP1xuICAgIHZhciByYXdUaXRsZSA9IDxBcnR3b3JrLlRpdGxlIGFydD17YXJ0fSBsaW5rPXtmYWxzZX0gLz5cbiAgICB2YXIgcmF3QXJ0aXN0ID0gPEFydHdvcmsuQ3JlYXRvciBhcnQ9e2FydH0gLz5cblxuICAgIHJldHVybiBhcnQgJiYgPGRpdiBrZXk9e2ZpZWxkVG9IaWdobGlnaHR9PlxuICAgICAge2hpZ2hsaWdodChyYXdUaXRsZSwgZmllbGRUb0hpZ2hsaWdodCA9PSAndGl0bGUnKX1cbiAgICAgIHtoaWdobGlnaHQocmF3QXJ0aXN0LCBmaWVsZFRvSGlnaGxpZ2h0ID09ICdhcnRpc3QnKX1cbiAgICAgIDxBcnR3b3JrLlRvbWJzdG9uZSBhcnQ9e2FydH1cbiAgICAgICAgaGlnaGxpZ2h0QWNjZXNzaW9uTnVtYmVyPXtmaWVsZFRvSGlnaGxpZ2h0ID09ICdhY2Nlc3Npb24gbnVtYmVyJ31cbiAgICAgICAgaGlnaGxpZ2h0ZXI9e2hpZ2hsaWdodH0gLz5cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFydDogbnVsbCxcbiAgICB9XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdmFyIGlkID0gdGhpcy5wcm9wcy5pbml0aWFsSWRcblxuICAgIHZhciBzZWFyY2hVcmwgPSBpZCA/IGAke1NFQVJDSH0vaWQvJHtpZH1gIDogYCR7U0VBUkNIfS9yYW5kb20vYXJ0YFxuICAgIHJlc3Qoc2VhcmNoVXJsKVxuICAgIC50aGVuKGRhdGEgPT4gdGhpcy5zZXRTdGF0ZSh7YXJ0OiBKU09OLnBhcnNlKGRhdGEuZW50aXR5KX0pKVxuICB9LFxufSlcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/random-artwork-tombstone.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;IAC/B,IAAI,GAAI,MAAM,CAAd,IAAI;;AACT,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;;AAE1B,IAAI,OAAO,GAAG,OAAO,CAAC,YAAY,CAAC,CAAA;AACnC,IAAI,cAAc,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAA;AACjD,IAAI,MAAM,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC,MAAM,CAAA;;AAE1C,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACjC,QAAM,EAAA,kBAAG;QACF,GAAG,GAAI,IAAI,CAAC,KAAK,CAAjB,GAAG;QACH,gBAAgB,GAAI,IAAI,CAAC,KAAK,CAA9B,gBAAgB;;AACrB,QAAI,SAAS,GAAG,mBAAC,QAAQ,EAAE,UAAS;aAAK,UAAS,GAAG;;UAAM,KAAK,EAAE,EAAC,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,MAAM,EAAE,YAAY,EAAE,4BAA4B,EAAC,AAAC;QAC9I,QAAQ;OACJ,GAAG,QAAQ;KAAA,CAAA;;;AAGlB,QAAI,QAAQ,GAAG,oBAAC,OAAO,CAAC,KAAK,IAAC,GAAG,EAAE,GAAG,AAAC,EAAC,IAAI,EAAE,KAAK,AAAC,GAAG,CAAA;AACvD,QAAI,SAAS,GAAG,oBAAC,OAAO,CAAC,OAAO,IAAC,GAAG,EAAE,GAAG,AAAC,GAAG,CAAA;;AAE7C,WAAO,GAAG,IAAI;;QAAK,GAAG,EAAE,gBAAgB,AAAC;MACtC,SAAS,CAAC,QAAQ,EAAE,gBAAgB,IAAI,OAAO,CAAC;MAChD,SAAS,CAAC,SAAS,EAAE,gBAAgB,IAAI,QAAQ,CAAC;MACnD,oBAAC,OAAO,CAAC,SAAS,IAAC,GAAG,EAAE,GAAG,AAAC;AAC1B,gCAAwB,EAAE,gBAAgB,IAAI,kBAAkB,AAAC;AACjE,mBAAW,EAAE,SAAS,AAAC,GAAG;KACxB,CAAA;GACP;;AAED,iBAAe,EAAA,2BAAG;AAChB,WAAO;AACL,SAAG,EAAE,IAAI;KACV,CAAA;GACF;;AAED,mBAAiB,EAAA,6BAAG;;;AAClB,QAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAA;;AAE7B,QAAI,SAAS,GAAG,EAAE,GAAM,MAAM,YAAO,EAAE,GAAQ,MAAM,gBAAa,CAAA;AAClE,QAAI,CAAC,SAAS,CAAC,CACd,IAAI,CAAC,UAAA,IAAI;aAAI,MAAK,QAAQ,CAAC,EAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,EAAC,CAAC;KAAA,CAAC,CAAA;GAC7D;CACF,CAAC,CAAA",
      "file": "/var/www/art/src/random-artwork-tombstone.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\nvar rest = require('rest')\n\nvar Artwork = require('./_artwork')\nvar ArtworkPreview = require('./artwork-preview')\nvar SEARCH = require('./endpoints').search\n\nmodule.exports = React.createClass({\n  render() {\n    var {art} = this.state\n    var {fieldToHighlight} = this.props\n    var highlight = (children, highlight) => highlight ? <span style={{color: 'red', fontWeight: 'bold', borderBottom: '1px solid black !important'}}>\n      {children}\n    </span> : children\n\n    // and check on mobile = does touch work?\n    var rawTitle = <Artwork.Title art={art} link={false} />\n    var rawArtist = <Artwork.Creator art={art} />\n\n    return art && <div key={fieldToHighlight}>\n      {highlight(rawTitle, fieldToHighlight == 'title')}\n      {highlight(rawArtist, fieldToHighlight == 'artist')}\n      <Artwork.Tombstone art={art}\n        highlightAccessionNumber={fieldToHighlight == 'accession number'}\n        highlighter={highlight} />\n    </div>\n  },\n\n  getInitialState() {\n    return {\n      art: null,\n    }\n  },\n\n  componentDidMount() {\n    var id = this.props.initialId\n\n    var searchUrl = id ? `${SEARCH}/id/${id}` : `${SEARCH}/random/art`\n    rest(searchUrl)\n    .then(data => this.setState({art: JSON.parse(data.entity)}))\n  },\n})\n"
      ]
    },
    "mtime": 1488248774578
  },
  "{\"filename\":\"/var/www/art/src/exhibition.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar rest = require('rest');\nvar Helmet = require('react-helmet');\n\nvar Search = require('./search');\nvar endpoints = require('./endpoints');\nvar SEARCH = endpoints.search;\nvar toSlug = require('speakingurl');\nvar Markdown = require('./markdown');\n\nvar Exhibition = React.createClass({\n  displayName: 'Exhibition',\n\n  mixins: [Router.State],\n  statics: {\n    fetchData: {\n      exhibition: function exhibition(params) {\n        var id = params.id;\n\n        return rest(endpoints.exhibition(id)).then(function (r) {\n          return JSON.parse(r.entity);\n        }).then(function (exh) {\n          exh.slug = toSlug(exh.exhibition_title);\n          return exh;\n        });\n      },\n\n      searchResults: function searchResults(params, query) {\n        return Exhibition.fetchData.exhibition(params).then(function (exhibition) {\n          var searchUrl = SEARCH + '/ids/' + exhibition.objects.join(',');\n          return rest(searchUrl).then(function (r) {\n            return JSON.parse(r.entity);\n          });\n        });\n      }\n    },\n\n    willTransitionTo: function willTransitionTo(transition, params, query, callback) {\n      Exhibition.fetchData.exhibition(params).then(function (exhibition) {\n        if (exhibition.slug !== params.slug) {\n          params.slug = exhibition.slug;\n          transition.redirect('exhibitionSlug', params);\n        }\n      })['catch'](function (err) {\n        return transition.redirect('home');\n      }).then(callback);\n    }\n  },\n\n  render: function render() {\n    var exhibition = this.props.data.exhibition;\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        Search,\n        _extends({}, this.props, {\n          disableHover: true // TODO: fix :hover going to the search results page\n        }),\n        React.createElement(\n          'div',\n          { style: { margin: '0.5em 3em 2em', maxWidth: '37em' } },\n          React.createElement(\n            'h2',\n            null,\n            exhibition.exhibition_title\n          ),\n          React.createElement(\n            'p',\n            { style: { margin: '-1em 0 0.5em 0' } },\n            exhibition.display_date\n          ),\n          React.createElement(\n            Markdown,\n            null,\n            exhibition.exhibition_description\n          )\n        ),\n        React.createElement('hr', null)\n      ),\n      React.createElement(Helmet, {\n        title: 'Exhibition: ' + exhibition.exhibition_title,\n        meta: [{ property: \"og:title\", content: exhibition.exhibition_title + ' ^ Minneapolis Institute of Art' }, { property: \"og:description\", content: 'An exhibition at the Minneapolis Institute of Art. ' + exhibition.display_date }]\n      })\n    );\n  }\n});\n\nmodule.exports = Exhibition;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvZXhoaWJpdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzVCLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQTtBQUNwQyxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUE7QUFDMUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBOztBQUVwQyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUE7QUFDaEMsSUFBSSxTQUFTLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBO0FBQ3RDLElBQUksTUFBTSxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUE7QUFDN0IsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFBO0FBQ25DLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTs7QUFFcEMsSUFBSSxVQUFVLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQzs7O0FBQ2pDLFFBQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7QUFDdEIsU0FBTyxFQUFFO0FBQ1AsYUFBUyxFQUFFO0FBQ1QsZ0JBQVUsRUFBRSxvQkFBQyxNQUFNLEVBQUs7WUFDakIsRUFBRSxHQUFJLE1BQU0sQ0FBWixFQUFFOztBQUNQLGVBQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FDcEMsSUFBSSxDQUFDLFVBQUMsQ0FBQztpQkFBSyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7U0FBQSxDQUFDLENBQ2pDLElBQUksQ0FBQyxVQUFBLEdBQUcsRUFBSTtBQUNYLGFBQUcsQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFBO0FBQ3ZDLGlCQUFPLEdBQUcsQ0FBQTtTQUNYLENBQUMsQ0FBQTtPQUNIOztBQUVELG1CQUFhLEVBQUUsdUJBQUMsTUFBTSxFQUFFLEtBQUssRUFBSztBQUNoQyxlQUFPLFVBQVUsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFBLFVBQVUsRUFBSTtBQUNoRSxjQUFJLFNBQVMsR0FBTSxNQUFNLGFBQVEsVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEFBQUUsQ0FBQTtBQUMvRCxpQkFBTyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsQ0FBQzttQkFBSyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7V0FBQSxDQUFDLENBQUE7U0FDekQsQ0FBQyxDQUFBO09BQ0g7S0FDRjs7QUFFRCxvQkFBZ0IsRUFBRSwwQkFBVSxVQUFVLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUU7QUFDL0QsZ0JBQVUsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFBLFVBQVUsRUFBSTtBQUN6RCxZQUFHLFVBQVUsQ0FBQyxJQUFJLEtBQUssTUFBTSxDQUFDLElBQUksRUFBRTtBQUNsQyxnQkFBTSxDQUFDLElBQUksR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFBO0FBQzdCLG9CQUFVLENBQUMsUUFBUSxDQUFDLGdCQUFnQixFQUFFLE1BQU0sQ0FBQyxDQUFBO1NBQzlDO09BQ0YsQ0FBQyxTQUNJLENBQUMsVUFBQSxHQUFHO2VBQUksVUFBVSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUM7T0FBQSxDQUFDLENBQ3pDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQTtLQUNoQjtHQUNGOztBQUVELFFBQU0sRUFBQSxrQkFBRztRQUNGLFVBQVUsR0FBSSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBN0IsVUFBVTs7QUFFZixXQUFPOzs7TUFDTDtBQUFDLGNBQU07cUJBQ0QsSUFBSSxDQUFDLEtBQUs7QUFDZCxzQkFBWSxFQUFFLElBQUksQUFBQzs7UUFFbkI7O1lBQUssS0FBSyxFQUFFLEVBQUMsTUFBTSxFQUFFLGVBQWUsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFDLEFBQUM7VUFDdEQ7OztZQUFLLFVBQVUsQ0FBQyxnQkFBZ0I7V0FBTTtVQUN0Qzs7Y0FBRyxLQUFLLEVBQUUsRUFBQyxNQUFNLEVBQUUsZ0JBQWdCLEVBQUMsQUFBQztZQUFFLFVBQVUsQ0FBQyxZQUFZO1dBQUs7VUFDbkU7QUFBQyxvQkFBUTs7WUFBRSxVQUFVLENBQUMsc0JBQXNCO1dBQVk7U0FDcEQ7UUFDTiwrQkFBTTtPQUNDO01BQ1Qsb0JBQUMsTUFBTTtBQUNMLGFBQUssbUJBQWlCLFVBQVUsQ0FBQyxnQkFBZ0IsQUFBRztBQUNwRCxZQUFJLEVBQUUsQ0FDSixFQUFDLFFBQVEsRUFBRSxVQUFVLEVBQUUsT0FBTyxFQUFFLFVBQVUsQ0FBQyxnQkFBZ0IsR0FBRyxpQ0FBaUMsRUFBQyxFQUNoRyxFQUFDLFFBQVEsRUFBRSxnQkFBZ0IsRUFBRSxPQUFPLDBEQUF3RCxVQUFVLENBQUMsWUFBWSxBQUFFLEVBQUMsQ0FDdkgsQUFBQztRQUNGO0tBQ0UsQ0FBQTtHQUNQO0NBQ0YsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxDQUFBIiwiZmlsZSI6Ii92YXIvd3d3L2FydC9zcmMvZXhoaWJpdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxuXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zZWFyY2gnKVxudmFyIGVuZHBvaW50cyA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJylcbnZhciBTRUFSQ0ggPSBlbmRwb2ludHMuc2VhcmNoXG52YXIgdG9TbHVnID0gcmVxdWlyZSgnc3BlYWtpbmd1cmwnKVxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi9tYXJrZG93bicpXG5cbnZhciBFeGhpYml0aW9uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBtaXhpbnM6IFtSb3V0ZXIuU3RhdGVdLFxuICBzdGF0aWNzOiB7XG4gICAgZmV0Y2hEYXRhOiB7XG4gICAgICBleGhpYml0aW9uOiAocGFyYW1zKSA9PiB7XG4gICAgICAgIHZhciB7aWR9ID0gcGFyYW1zXG4gICAgICAgIHJldHVybiByZXN0KGVuZHBvaW50cy5leGhpYml0aW9uKGlkKSlcbiAgICAgICAgLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpKVxuICAgICAgICAudGhlbihleGggPT4ge1xuICAgICAgICAgIGV4aC5zbHVnID0gdG9TbHVnKGV4aC5leGhpYml0aW9uX3RpdGxlKVxuICAgICAgICAgIHJldHVybiBleGhcbiAgICAgICAgfSlcbiAgICAgIH0sXG5cbiAgICAgIHNlYXJjaFJlc3VsdHM6IChwYXJhbXMsIHF1ZXJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBFeGhpYml0aW9uLmZldGNoRGF0YS5leGhpYml0aW9uKHBhcmFtcykudGhlbihleGhpYml0aW9uID0+IHtcbiAgICAgICAgICB2YXIgc2VhcmNoVXJsID0gYCR7U0VBUkNIfS9pZHMvJHtleGhpYml0aW9uLm9iamVjdHMuam9pbignLCcpfWBcbiAgICAgICAgICByZXR1cm4gcmVzdChzZWFyY2hVcmwpLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpKVxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICB9LFxuXG4gICAgd2lsbFRyYW5zaXRpb25UbzogZnVuY3Rpb24gKHRyYW5zaXRpb24sIHBhcmFtcywgcXVlcnksIGNhbGxiYWNrKSB7XG4gICAgICBFeGhpYml0aW9uLmZldGNoRGF0YS5leGhpYml0aW9uKHBhcmFtcykudGhlbihleGhpYml0aW9uID0+IHtcbiAgICAgICAgaWYoZXhoaWJpdGlvbi5zbHVnICE9PSBwYXJhbXMuc2x1Zykge1xuICAgICAgICAgIHBhcmFtcy5zbHVnID0gZXhoaWJpdGlvbi5zbHVnXG4gICAgICAgICAgdHJhbnNpdGlvbi5yZWRpcmVjdCgnZXhoaWJpdGlvblNsdWcnLCBwYXJhbXMpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyID0+IHRyYW5zaXRpb24ucmVkaXJlY3QoJ2hvbWUnKSlcbiAgICAgIC50aGVuKGNhbGxiYWNrKVxuICAgIH0sXG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciB7ZXhoaWJpdGlvbn0gPSB0aGlzLnByb3BzLmRhdGFcblxuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPFNlYXJjaFxuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgZGlzYWJsZUhvdmVyPXt0cnVlfSAvLyBUT0RPOiBmaXggOmhvdmVyIGdvaW5nIHRvIHRoZSBzZWFyY2ggcmVzdWx0cyBwYWdlXG4gICAgICA+XG4gICAgICAgIDxkaXYgc3R5bGU9e3ttYXJnaW46ICcwLjVlbSAzZW0gMmVtJywgbWF4V2lkdGg6ICczN2VtJ319PlxuICAgICAgICAgIDxoMj57ZXhoaWJpdGlvbi5leGhpYml0aW9uX3RpdGxlfTwvaDI+XG4gICAgICAgICAgPHAgc3R5bGU9e3ttYXJnaW46ICctMWVtIDAgMC41ZW0gMCd9fT57ZXhoaWJpdGlvbi5kaXNwbGF5X2RhdGV9PC9wPlxuICAgICAgICAgIDxNYXJrZG93bj57ZXhoaWJpdGlvbi5leGhpYml0aW9uX2Rlc2NyaXB0aW9ufTwvTWFya2Rvd24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8aHIgLz5cbiAgICAgIDwvU2VhcmNoPlxuICAgICAgPEhlbG1ldFxuICAgICAgICB0aXRsZT17YEV4aGliaXRpb246ICR7ZXhoaWJpdGlvbi5leGhpYml0aW9uX3RpdGxlfWB9XG4gICAgICAgIG1ldGE9e1tcbiAgICAgICAgICB7cHJvcGVydHk6IFwib2c6dGl0bGVcIiwgY29udGVudDogZXhoaWJpdGlvbi5leGhpYml0aW9uX3RpdGxlICsgJyBeIE1pbm5lYXBvbGlzIEluc3RpdHV0ZSBvZiBBcnQnfSxcbiAgICAgICAgICB7cHJvcGVydHk6IFwib2c6ZGVzY3JpcHRpb25cIiwgY29udGVudDogYEFuIGV4aGliaXRpb24gYXQgdGhlIE1pbm5lYXBvbGlzIEluc3RpdHV0ZSBvZiBBcnQuICR7ZXhoaWJpdGlvbi5kaXNwbGF5X2RhdGV9YH0sXG4gICAgICAgIF19XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBFeGhpYml0aW9uXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/exhibition.js"
      ],
      "names": [],
      "mappings": ";;;;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;AAC5B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;AACpC,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAA;AAC1B,IAAI,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAA;;AAEpC,IAAI,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC,CAAA;AAChC,IAAI,SAAS,GAAG,OAAO,CAAC,aAAa,CAAC,CAAA;AACtC,IAAI,MAAM,GAAG,SAAS,CAAC,MAAM,CAAA;AAC7B,IAAI,MAAM,GAAG,OAAO,CAAC,aAAa,CAAC,CAAA;AACnC,IAAI,QAAQ,GAAG,OAAO,CAAC,YAAY,CAAC,CAAA;;AAEpC,IAAI,UAAU,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACjC,QAAM,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;AACtB,SAAO,EAAE;AACP,aAAS,EAAE;AACT,gBAAU,EAAE,oBAAC,MAAM,EAAK;YACjB,EAAE,GAAI,MAAM,CAAZ,EAAE;;AACP,eAAO,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,CACpC,IAAI,CAAC,UAAC,CAAC;iBAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;SAAA,CAAC,CACjC,IAAI,CAAC,UAAA,GAAG,EAAI;AACX,aAAG,CAAC,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAA;AACvC,iBAAO,GAAG,CAAA;SACX,CAAC,CAAA;OACH;;AAED,mBAAa,EAAE,uBAAC,MAAM,EAAE,KAAK,EAAK;AAChC,eAAO,UAAU,CAAC,SAAS,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,UAAA,UAAU,EAAI;AAChE,cAAI,SAAS,GAAM,MAAM,aAAQ,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,AAAE,CAAA;AAC/D,iBAAO,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,UAAC,CAAC;mBAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;WAAA,CAAC,CAAA;SACzD,CAAC,CAAA;OACH;KACF;;AAED,oBAAgB,EAAE,0BAAU,UAAU,EAAE,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE;AAC/D,gBAAU,CAAC,SAAS,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,UAAA,UAAU,EAAI;AACzD,YAAG,UAAU,CAAC,IAAI,KAAK,MAAM,CAAC,IAAI,EAAE;AAClC,gBAAM,CAAC,IAAI,GAAG,UAAU,CAAC,IAAI,CAAA;AAC7B,oBAAU,CAAC,QAAQ,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAA;SAC9C;OACF,CAAC,SACI,CAAC,UAAA,GAAG;eAAI,UAAU,CAAC,QAAQ,CAAC,MAAM,CAAC;OAAA,CAAC,CACzC,IAAI,CAAC,QAAQ,CAAC,CAAA;KAChB;GACF;;AAED,QAAM,EAAA,kBAAG;QACF,UAAU,GAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAA7B,UAAU;;AAEf,WAAO;;;MACL;AAAC,cAAM;qBACD,IAAI,CAAC,KAAK;AACd,sBAAY,EAAE,IAAI,AAAC;;QAEnB;;YAAK,KAAK,EAAE,EAAC,MAAM,EAAE,eAAe,EAAE,QAAQ,EAAE,MAAM,EAAC,AAAC;UACtD;;;YAAK,UAAU,CAAC,gBAAgB;WAAM;UACtC;;cAAG,KAAK,EAAE,EAAC,MAAM,EAAE,gBAAgB,EAAC,AAAC;YAAE,UAAU,CAAC,YAAY;WAAK;UACnE;AAAC,oBAAQ;;YAAE,UAAU,CAAC,sBAAsB;WAAY;SACpD;QACN,+BAAM;OACC;MACT,oBAAC,MAAM;AACL,aAAK,mBAAiB,UAAU,CAAC,gBAAgB,AAAG;AACpD,YAAI,EAAE,CACJ,EAAC,QAAQ,EAAE,UAAU,EAAE,OAAO,EAAE,UAAU,CAAC,gBAAgB,GAAG,iCAAiC,EAAC,EAChG,EAAC,QAAQ,EAAE,gBAAgB,EAAE,OAAO,0DAAwD,UAAU,CAAC,YAAY,AAAE,EAAC,CACvH,AAAC;QACF;KACE,CAAA;GACP;CACF,CAAC,CAAA;;AAEF,MAAM,CAAC,OAAO,GAAG,UAAU,CAAA",
      "file": "/var/www/art/src/exhibition.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar rest = require('rest')\nvar Helmet = require('react-helmet')\n\nvar Search = require('./search')\nvar endpoints = require('./endpoints')\nvar SEARCH = endpoints.search\nvar toSlug = require('speakingurl')\nvar Markdown = require('./markdown')\n\nvar Exhibition = React.createClass({\n  mixins: [Router.State],\n  statics: {\n    fetchData: {\n      exhibition: (params) => {\n        var {id} = params\n        return rest(endpoints.exhibition(id))\n        .then((r) => JSON.parse(r.entity))\n        .then(exh => {\n          exh.slug = toSlug(exh.exhibition_title)\n          return exh\n        })\n      },\n\n      searchResults: (params, query) => {\n        return Exhibition.fetchData.exhibition(params).then(exhibition => {\n          var searchUrl = `${SEARCH}/ids/${exhibition.objects.join(',')}`\n          return rest(searchUrl).then((r) => JSON.parse(r.entity))\n        })\n      },\n    },\n\n    willTransitionTo: function (transition, params, query, callback) {\n      Exhibition.fetchData.exhibition(params).then(exhibition => {\n        if(exhibition.slug !== params.slug) {\n          params.slug = exhibition.slug\n          transition.redirect('exhibitionSlug', params)\n        }\n      })\n      .catch(err => transition.redirect('home'))\n      .then(callback)\n    },\n  },\n\n  render() {\n    var {exhibition} = this.props.data\n\n    return <div>\n      <Search\n        {...this.props}\n        disableHover={true} // TODO: fix :hover going to the search results page\n      >\n        <div style={{margin: '0.5em 3em 2em', maxWidth: '37em'}}>\n          <h2>{exhibition.exhibition_title}</h2>\n          <p style={{margin: '-1em 0 0.5em 0'}}>{exhibition.display_date}</p>\n          <Markdown>{exhibition.exhibition_description}</Markdown>\n        </div>\n        <hr />\n      </Search>\n      <Helmet\n        title={`Exhibition: ${exhibition.exhibition_title}`}\n        meta={[\n          {property: \"og:title\", content: exhibition.exhibition_title + ' ^ Minneapolis Institute of Art'},\n          {property: \"og:description\", content: `An exhibition at the Minneapolis Institute of Art. ${exhibition.display_date}`},\n        ]}\n      />\n    </div>\n  },\n})\n\nmodule.exports = Exhibition\n"
      ]
    },
    "mtime": 1481821196786
  },
  "{\"filename\":\"/var/www/art/src/artist.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":0,\"blacklist\":[],\"optional\":[],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38:production": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar rest = require('rest');\nvar Helmet = require('react-helmet');\nvar toSlug = require('speakingurl');\n\nvar artists = require('../artists.json');\n\nvar Search = require('./search');\nvar SearchResults = require('./search-results');\nvar Peek = require('./peek');\n\nvar Person = React.createClass({\n  displayName: 'Person',\n\n  statics: {\n    fetchData: {\n      artist: function artist(params, query) {\n        // TODO: rest() this?\n        return artists.find(function (a) {\n          return a.id == Number(params.id);\n        });\n      },\n      searchResults: function searchResults(params, query) {\n        var artist = artists.find(function (a) {\n          return a.id == Number(params.id);\n        });\n        params.terms = 'artist:\"' + artist.name + '\"';\n        return SearchResults.fetchData.searchResults(params, query);\n      }\n    },\n\n    willTransitionTo: function willTransitionTo(transition, params, query, callback) {\n      var artist = artists.find(function (a) {\n        return a.id == Number(params.id);\n      });\n      var artistSlug = toSlug(artist.name);\n\n      if (artistSlug !== params.slug) {\n        params.slug = artistSlug;\n        transition.redirect('artistSlug', params);\n      }\n      callback();\n    }\n  },\n\n  render: function render() {\n    var _props$data = this.props.data;\n    var artist = _props$data.artist;\n    var searchResults = _props$data.searchResults;\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(Search, _extends({\n        facet: 'artist:\"' + artist.name + '\"'\n      }, this.props, {\n        hideInput: true,\n        hideResults: true })),\n      React.createElement(\n        'div',\n        { className: 'personPage' },\n        React.createElement(\n          'p',\n          null,\n          artist.name,\n          ' created ',\n          searchResults.hits.total,\n          ' works that are now at Mia.'\n        ),\n        React.createElement(\n          'pre',\n          null,\n          React.createElement(\n            'code',\n            null,\n            JSON.stringify(artist, null, 2)\n          )\n        )\n      ),\n      React.createElement(Peek, { facet: 'artist', q: artist.name, quiltProps: { maxRowHeight: 400 }, offset: 10 }),\n      React.createElement(Helmet, { title: artist.name })\n    );\n  }\n});\n\nmodule.exports = Person;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L2FydC9zcmMvYXJ0aXN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0lBQzlCLElBQUksR0FBSyxNQUFNLENBQWYsSUFBSTs7QUFDVixJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUE7QUFDMUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFBO0FBQ3BDLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQTs7QUFFbkMsSUFBSSxPQUFPLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUE7O0FBRXhDLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQTtBQUNoQyxJQUFJLGFBQWEsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQTtBQUMvQyxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUE7O0FBRTVCLElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7OztBQUM3QixTQUFPLEVBQUU7QUFDUCxhQUFTLEVBQUU7QUFDVCxZQUFNLEVBQUUsZ0JBQUMsTUFBTSxFQUFFLEtBQUssRUFBSzs7QUFFekIsZUFBTyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQUEsQ0FBQztpQkFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO1NBQUEsQ0FBQyxDQUFBO09BQ3BEO0FBQ0QsbUJBQWEsRUFBRSx1QkFBQyxNQUFNLEVBQUUsS0FBSyxFQUFLO0FBQ2hDLFlBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsVUFBQSxDQUFDO2lCQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7U0FBQSxDQUFDLENBQUE7QUFDekQsY0FBTSxDQUFDLEtBQUssZ0JBQWMsTUFBTSxDQUFDLElBQUksTUFBRyxDQUFBO0FBQ3hDLGVBQU8sYUFBYSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFBO09BQzVEO0tBQ0Y7O0FBRUQsb0JBQWdCLEVBQUUsMEJBQVUsVUFBVSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFO0FBQy9ELFVBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsVUFBQSxDQUFDO2VBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQztPQUFBLENBQUMsQ0FBQTtBQUN6RCxVQUFJLFVBQVUsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFBOztBQUVwQyxVQUFHLFVBQVUsS0FBSyxNQUFNLENBQUMsSUFBSSxFQUFFO0FBQzdCLGNBQU0sQ0FBQyxJQUFJLEdBQUcsVUFBVSxDQUFBO0FBQ3hCLGtCQUFVLENBQUMsUUFBUSxDQUFDLFlBQVksRUFBRSxNQUFNLENBQUMsQ0FBQTtPQUMxQztBQUNELGNBQVEsRUFBRSxDQUFBO0tBQ1g7R0FDRjs7QUFFRCxRQUFNLEVBQUEsa0JBQUc7c0JBQ3VCLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSTtRQUF4QyxNQUFNLGVBQU4sTUFBTTtRQUFFLGFBQWEsZUFBYixhQUFhOztBQUUxQixXQUFPOzs7TUFDTCxvQkFBQyxNQUFNO0FBQ0wsYUFBSyxlQUFhLE1BQU0sQ0FBQyxJQUFJLE1BQUk7U0FDN0IsSUFBSSxDQUFDLEtBQUs7QUFDZCxpQkFBUyxFQUFFLElBQUksQUFBQztBQUNoQixtQkFBVyxFQUFFLElBQUksQUFBQyxJQUFHO01BRXZCOztVQUFLLFNBQVMsRUFBQyxZQUFZO1FBQ3pCOzs7VUFBSSxNQUFNLENBQUMsSUFBSTs7VUFBVyxhQUFhLENBQUMsSUFBSSxDQUFDLEtBQUs7O1NBQWdDO1FBQ2xGOzs7VUFBSzs7O1lBQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztXQUFRO1NBQU07T0FDckQ7TUFFTixvQkFBQyxJQUFJLElBQUMsS0FBSyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLElBQUksQUFBQyxFQUFDLFVBQVUsRUFBRSxFQUFDLFlBQVksRUFBRSxHQUFHLEVBQUMsQUFBQyxFQUFDLE1BQU0sRUFBRSxFQUFFLEFBQUMsR0FBRTtNQUNuRixvQkFBQyxNQUFNLElBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxJQUFJLEFBQUMsR0FBRztLQUMxQixDQUFBO0dBQ1A7Q0FDRixDQUFDLENBQUE7O0FBRUYsTUFBTSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUEiLCJmaWxlIjoiL3Zhci93d3cvYXJ0L3NyYy9hcnRpc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciB7IExpbmsgfSA9IFJvdXRlclxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxudmFyIHRvU2x1ZyA9IHJlcXVpcmUoJ3NwZWFraW5ndXJsJylcblxudmFyIGFydGlzdHMgPSByZXF1aXJlKCcuLi9hcnRpc3RzLmpzb24nKVxuXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zZWFyY2gnKVxudmFyIFNlYXJjaFJlc3VsdHMgPSByZXF1aXJlKCcuL3NlYXJjaC1yZXN1bHRzJylcbnZhciBQZWVrID0gcmVxdWlyZSgnLi9wZWVrJylcblxudmFyIFBlcnNvbiA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgc3RhdGljczoge1xuICAgIGZldGNoRGF0YToge1xuICAgICAgYXJ0aXN0OiAocGFyYW1zLCBxdWVyeSkgPT4ge1xuICAgICAgICAvLyBUT0RPOiByZXN0KCkgdGhpcz9cbiAgICAgICAgcmV0dXJuIGFydGlzdHMuZmluZChhID0+IGEuaWQgPT0gTnVtYmVyKHBhcmFtcy5pZCkpXG4gICAgICB9LFxuICAgICAgc2VhcmNoUmVzdWx0czogKHBhcmFtcywgcXVlcnkpID0+IHtcbiAgICAgICAgdmFyIGFydGlzdCA9IGFydGlzdHMuZmluZChhID0+IGEuaWQgPT0gTnVtYmVyKHBhcmFtcy5pZCkpXG4gICAgICAgIHBhcmFtcy50ZXJtcyA9IGBhcnRpc3Q6XCIke2FydGlzdC5uYW1lfVwiYFxuICAgICAgICByZXR1cm4gU2VhcmNoUmVzdWx0cy5mZXRjaERhdGEuc2VhcmNoUmVzdWx0cyhwYXJhbXMsIHF1ZXJ5KVxuICAgICAgfSxcbiAgICB9LFxuXG4gICAgd2lsbFRyYW5zaXRpb25UbzogZnVuY3Rpb24gKHRyYW5zaXRpb24sIHBhcmFtcywgcXVlcnksIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgYXJ0aXN0ID0gYXJ0aXN0cy5maW5kKGEgPT4gYS5pZCA9PSBOdW1iZXIocGFyYW1zLmlkKSlcbiAgICAgIHZhciBhcnRpc3RTbHVnID0gdG9TbHVnKGFydGlzdC5uYW1lKVxuXG4gICAgICBpZihhcnRpc3RTbHVnICE9PSBwYXJhbXMuc2x1Zykge1xuICAgICAgICBwYXJhbXMuc2x1ZyA9IGFydGlzdFNsdWdcbiAgICAgICAgdHJhbnNpdGlvbi5yZWRpcmVjdCgnYXJ0aXN0U2x1ZycsIHBhcmFtcylcbiAgICAgIH1cbiAgICAgIGNhbGxiYWNrKClcbiAgICB9XG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciB7YXJ0aXN0LCBzZWFyY2hSZXN1bHRzfSA9IHRoaXMucHJvcHMuZGF0YVxuXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8U2VhcmNoXG4gICAgICAgIGZhY2V0PXtgYXJ0aXN0OlwiJHthcnRpc3QubmFtZX1cImB9XG4gICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICBoaWRlSW5wdXQ9e3RydWV9XG4gICAgICAgIGhpZGVSZXN1bHRzPXt0cnVlfSAvPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBlcnNvblBhZ2VcIj5cbiAgICAgICAgPHA+e2FydGlzdC5uYW1lfSBjcmVhdGVkIHtzZWFyY2hSZXN1bHRzLmhpdHMudG90YWx9IHdvcmtzIHRoYXQgYXJlIG5vdyBhdCBNaWEuPC9wPlxuICAgICAgICA8cHJlPjxjb2RlPntKU09OLnN0cmluZ2lmeShhcnRpc3QsIG51bGwsIDIpfTwvY29kZT48L3ByZT5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8UGVlayBmYWNldD1cImFydGlzdFwiIHE9e2FydGlzdC5uYW1lfSBxdWlsdFByb3BzPXt7bWF4Um93SGVpZ2h0OiA0MDB9fSBvZmZzZXQ9ezEwfS8+XG4gICAgICA8SGVsbWV0IHRpdGxlPXthcnRpc3QubmFtZX0gLz5cbiAgICA8L2Rpdj5cbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gUGVyc29uXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/var/www/art/src/artist.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/var/www/art/src/artist.js",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar { Link } = Router\nvar rest = require('rest')\nvar Helmet = require('react-helmet')\nvar toSlug = require('speakingurl')\n\nvar artists = require('../artists.json')\n\nvar Search = require('./search')\nvar SearchResults = require('./search-results')\nvar Peek = require('./peek')\n\nvar Person = React.createClass({\n  statics: {\n    fetchData: {\n      artist: (params, query) => {\n        // TODO: rest() this?\n        return artists.find(a => a.id == Number(params.id))\n      },\n      searchResults: (params, query) => {\n        var artist = artists.find(a => a.id == Number(params.id))\n        params.terms = `artist:\"${artist.name}\"`\n        return SearchResults.fetchData.searchResults(params, query)\n      },\n    },\n\n    willTransitionTo: function (transition, params, query, callback) {\n      var artist = artists.find(a => a.id == Number(params.id))\n      var artistSlug = toSlug(artist.name)\n\n      if(artistSlug !== params.slug) {\n        params.slug = artistSlug\n        transition.redirect('artistSlug', params)\n      }\n      callback()\n    }\n  },\n\n  render() {\n    var {artist, searchResults} = this.props.data\n\n    return <div>\n      <Search\n        facet={`artist:\"${artist.name}\"`}\n        {...this.props}\n        hideInput={true}\n        hideResults={true} />\n\n      <div className=\"personPage\">\n        <p>{artist.name} created {searchResults.hits.total} works that are now at Mia.</p>\n        <pre><code>{JSON.stringify(artist, null, 2)}</code></pre>\n      </div>\n\n      <Peek facet=\"artist\" q={artist.name} quiltProps={{maxRowHeight: 400}} offset={10}/>\n      <Helmet title={artist.name} />\n    </div>\n  },\n})\n\nmodule.exports = Person\n"
      ]
    },
    "mtime": 1485987477910
  }
}