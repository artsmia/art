{
  "{\"filename\":\"/var/www/art/server.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/server.js",
      "filenameRelative": "/var/www/art/server.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "server.js",
      "sourceFileName": "server.js",
      "sourceRoot": "/var/www/art",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "server"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar ReactDOM = require('react-dom/server');\nvar Router = require('react-router');\nvar Helmet = require('react-helmet');\nvar express = require('express');\nvar ga = require('react-ga');\nvar fs = require('fs');\nvar index = fs.readFileSync('./index.html', 'utf-8');\n\nvar fetchComponentData = require('./fetch');\nvar routes = require('./routes');\n\nvar app = express();\nvar serveStatic = require('serve-static');\napp.locals.settings['x-powered-by'] = false;\napp.enable('trust proxy');\n\nif (typeof window === \"undefined\") {\n  global.window = global;\n  global.window.serverRendered = true;\n}\n\n// ga.initialize(process.env.GA_TRACKING_ID)\n\napp.get('/search/', function (req, res, next) {\n  // catch searches with JS disabled\n  var match = req.url.match(/\\/search\\/\\?q=(.*)/);\n  if (match && match[1]) return res.redirect(301, '/search/' + match[1]);\n  next();\n});\n\nvar html = function html(_ref, data, body) {\n  var title = _ref.title,\n      meta = _ref.meta,\n      link = _ref.link;\n\n  var renderedHead = ['' + title, meta, link, '<script>window.__DATA__ = ' + JSON.stringify(data) + ';</script>'].filter(function (e) {\n    return e;\n  }).join('  \\n').replace(/ data-react-helmet=\"true\"/g, '');\n\n  return index.replace('<!--HEAD-->', renderedHead).replace('<!--BODY-->', body);\n};\n\napp.use(serveStatic('.'));\n\napp.use(function (req, res, next) {\n  var actingUrl = req.url.replace(/\\/(.*)\\/$/, '/$1');\n  var internalIPs = process.env.PRIVILEGED_IP_LIST;\n  var privilegedClientIP = internalIPs.split(' ').indexOf(req.ip) > -1;\n  window.privilegedClientIP = privilegedClientIP; // FIXME how to pass this other than as a global?\n\n  var router = Router.create({\n    routes: routes,\n    location: actingUrl,\n    onAbort: function onAbort(_ref2) {\n      var to = _ref2.to,\n          params = _ref2.params,\n          query = _ref2.query;\n\n      var url = to && router.makePath(to, params, query) || '/';\n      if (params && params.status == 403) return res.sendStatus(403);\n      res.redirect(params && params.status || 301, url);\n    }\n  });\n\n  if (!router.match(actingUrl)) return next();\n\n  router.run(function (Handler, state) {\n    // ga.pageview(state.pathname)\n    fetchComponentData(state).then(function (data) {\n      var handler = React.createElement(Handler, _extends({}, state, { data: data, universal: true, clientIp: req.ip, privilegedClientIP: privilegedClientIP, userAgent: req.headers['user-agent'] }));\n      var body = ReactDOM.renderToString(handler);\n      res.send(html(Helmet.rewind(), data, body));\n    });\n  });\n});\n\nvar port = process.env.PORT || 3413;\napp.listen(port, function () {\n  return console.info('👌 ', port);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJSZWFjdERPTSIsIlJvdXRlciIsIkhlbG1ldCIsImV4cHJlc3MiLCJnYSIsImZzIiwiaW5kZXgiLCJyZWFkRmlsZVN5bmMiLCJmZXRjaENvbXBvbmVudERhdGEiLCJyb3V0ZXMiLCJhcHAiLCJzZXJ2ZVN0YXRpYyIsImxvY2FscyIsInNldHRpbmdzIiwiZW5hYmxlIiwid2luZG93IiwiZ2xvYmFsIiwic2VydmVyUmVuZGVyZWQiLCJnZXQiLCJyZXEiLCJyZXMiLCJuZXh0IiwibWF0Y2giLCJ1cmwiLCJyZWRpcmVjdCIsImh0bWwiLCJkYXRhIiwiYm9keSIsInRpdGxlIiwibWV0YSIsImxpbmsiLCJyZW5kZXJlZEhlYWQiLCJKU09OIiwic3RyaW5naWZ5IiwiZmlsdGVyIiwiZSIsImpvaW4iLCJyZXBsYWNlIiwidXNlIiwiYWN0aW5nVXJsIiwiaW50ZXJuYWxJUHMiLCJwcm9jZXNzIiwiZW52IiwiUFJJVklMRUdFRF9JUF9MSVNUIiwicHJpdmlsZWdlZENsaWVudElQIiwic3BsaXQiLCJpbmRleE9mIiwiaXAiLCJyb3V0ZXIiLCJjcmVhdGUiLCJsb2NhdGlvbiIsIm9uQWJvcnQiLCJ0byIsInBhcmFtcyIsInF1ZXJ5IiwibWFrZVBhdGgiLCJzdGF0dXMiLCJzZW5kU3RhdHVzIiwicnVuIiwiSGFuZGxlciIsInN0YXRlIiwidGhlbiIsImhhbmRsZXIiLCJoZWFkZXJzIiwicmVuZGVyVG9TdHJpbmciLCJzZW5kIiwicmV3aW5kIiwicG9ydCIsIlBPUlQiLCJsaXN0ZW4iLCJjb25zb2xlIiwiaW5mbyJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQUlBLFFBQVFDLFFBQVEsT0FBUixDQUFaO0FBQ0EsSUFBSUMsV0FBV0QsUUFBUSxrQkFBUixDQUFmO0FBQ0EsSUFBSUUsU0FBU0YsUUFBUSxjQUFSLENBQWI7QUFDQSxJQUFJRyxTQUFTSCxRQUFRLGNBQVIsQ0FBYjtBQUNBLElBQUlJLFVBQVVK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QUFHRCxVQUFVQSxPQUFPRyxNQUFQLElBQWlCLEdBQTlCLEVBQW1DLE9BQU9wQyxJQUFJcUMsVUFBSixDQUFlLEdBQWYsQ0FBUDtBQUNuQ3JDLFVBQUlJLFFBQUosQ0FBYTZCLFVBQVVBLE9BQU9HLE1BQWpCLElBQTJCLEdBQXhDLEVBQTZDakMsR0FBN0M7QUFDRDtBQVB3QixHQUFkLENBQWI7O0FBVUEsTUFBRyxDQUFDeUIsT0FBTzFCLEtBQVAsQ0FBYWlCLFNBQWIsQ0FBSixFQUE2QixPQUFPbEIsTUFBUDs7QUFFN0IyQixTQUFPVSxHQUFQLENBQVcsVUFBQ0MsT0FBRCxFQUFVQyxLQUFWLEVBQW9CO0FBQzdCO0FBQ0FwRCx1QkFBbUJvRCxLQUFuQixFQUEwQkMsSUFBMUIsQ0FBK0IsZ0JBQVE7QUFDckMsVUFBSUMsVUFBVSxvQkFBQyxPQUFELGVBQWFGLEtBQWIsSUFBb0IsTUFBTWxDLElBQTFCLEVBQWdDLFdBQVcsSUFBM0MsRUFBaUQsVUFBVVAsSUFBSTRCLEVBQS9ELEVBQW1FLG9CQUFvQkgsa0JBQXZGLEVBQTJHLFdBQVd6QixJQUFJNEMsT0FBSixDQUFZLFlBQVosQ0FBdEgsSUFBZDtBQUNBLFVBQUlwQyxPQUFPM0IsU0FBU2dFLGNBQVQsQ0FBd0JGLE9BQXhCLENBQVg7QUFDQTFDLFVBQUk2QyxJQUFKLENBQVN4QyxLQUFLdkIsT0FBT2dFLE1BQVAsRUFBTCxFQUFzQnhDLElBQXRCLEVBQTRCQyxJQUE1QixDQUFUO0FBQ0QsS0FKRDtBQUtELEdBUEQ7QUFRRCxDQTFCRDs7QUE0QkEsSUFBSXdDLE9BQU8xQixRQUFRQyxHQUFSLENBQVkwQixJQUFaLElBQW9CLElBQS9CO0FBQ0ExRCxJQUFJMkQsTUFBSixDQUFXRixJQUFYLEVBQWlCO0FBQUEsU0FBTUcsUUFBUUMsSUFBUixDQUFhLEtBQWIsRUFBb0JKLElBQXBCLENBQU47QUFBQSxDQUFqQiIsImZpbGUiOiJzZXJ2ZXIuanMiLCJzb3VyY2VSb290IjoiL3Zhci93d3cvYXJ0Iiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJlYWN0RE9NID0gcmVxdWlyZSgncmVhY3QtZG9tL3NlcnZlcicpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxudmFyIGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJylcbnZhciBnYSA9IHJlcXVpcmUoJ3JlYWN0LWdhJylcbnZhciBmcyA9IHJlcXVpcmUoJ2ZzJylcbnZhciBpbmRleCA9IGZzLnJlYWRGaWxlU3luYygnLi9pbmRleC5odG1sJywgJ3V0Zi04JylcblxudmFyIGZldGNoQ29tcG9uZW50RGF0YSA9IHJlcXVpcmUoJy4vZmV0Y2gnKVxudmFyIHJvdXRlcyA9IHJlcXVpcmUoJy4vcm91dGVzJylcblxudmFyIGFwcCA9IGV4cHJlc3MoKVxudmFyIHNlcnZlU3RhdGljID0gcmVxdWlyZSgnc2VydmUtc3RhdGljJylcbmFwcC5sb2NhbHMuc2V0dGluZ3NbJ3gtcG93ZXJlZC1ieSddID0gZmFsc2VcbmFwcC5lbmFibGUoJ3RydXN0IHByb3h5JylcblxuaWYodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICBnbG9iYWwud2luZG93ID0gZ2xvYmFsXG4gIGdsb2JhbC53aW5kb3cuc2VydmVyUmVuZGVyZWQgPSB0cnVlXG59XG5cbi8vIGdhLmluaXRpYWxpemUocHJvY2Vzcy5lbnYuR0FfVFJBQ0tJTkdfSUQpXG5cbmFwcC5nZXQoJy9zZWFyY2gvJywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIC8vIGNhdGNoIHNlYXJjaGVzIHdpdGggSlMgZGlzYWJsZWRcbiAgdmFyIG1hdGNoID0gcmVxLnVybC5tYXRjaCgvXFwvc2VhcmNoXFwvXFw/cT0oLiopLylcbiAgaWYobWF0Y2ggJiYgbWF0Y2hbMV0pIHJldHVybiByZXMucmVkaXJlY3QoMzAxLCAnL3NlYXJjaC8nK21hdGNoWzFdKVxuICBuZXh0KClcbn0pXG5cbnZhciBodG1sID0gKHsgdGl0bGUsIG1ldGEsIGxpbmsgfSwgZGF0YSwgYm9keSkgPT4ge1xuICBjb25zdCByZW5kZXJlZEhlYWQgPSBbXG4gICAgYCR7dGl0bGV9YCxcbiAgICBtZXRhLFxuICAgIGxpbmssXG4gICAgYDxzY3JpcHQ+d2luZG93Ll9fREFUQV9fID0gJHtKU09OLnN0cmluZ2lmeShkYXRhKX07PC9zY3JpcHQ+YCxcbiAgXVxuICAgIC5maWx0ZXIoZSA9PiBlKVxuICAgIC5qb2luKCcgIFxcbicpXG4gICAgLnJlcGxhY2UoLyBkYXRhLXJlYWN0LWhlbG1ldD1cInRydWVcIi9nLCAnJylcblxuICByZXR1cm4gaW5kZXhcbiAgICAucmVwbGFjZSgnPCEtLUhFQUQtLT4nLCByZW5kZXJlZEhlYWQpXG4gICAgLnJlcGxhY2UoJzwhLS1CT0RZLS0+JywgYm9keSlcbn1cblxuYXBwLnVzZShzZXJ2ZVN0YXRpYygnLicpKVxuXG5hcHAudXNlKChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICB2YXIgYWN0aW5nVXJsID0gcmVxLnVybC5yZXBsYWNlKC9cXC8oLiopXFwvJC8sICcvJDEnKVxuICBjb25zdCBpbnRlcm5hbElQcyA9IHByb2Nlc3MuZW52LlBSSVZJTEVHRURfSVBfTElTVFxuICB2YXIgcHJpdmlsZWdlZENsaWVudElQID0gaW50ZXJuYWxJUHMuc3BsaXQoJyAnKS5pbmRleE9mKHJlcS5pcCkgPiAtMVxuICB3aW5kb3cucHJpdmlsZWdlZENsaWVudElQID0gcHJpdmlsZWdlZENsaWVudElQIC8vIEZJWE1FIGhvdyB0byBwYXNzIHRoaXMgb3RoZXIgdGhhbiBhcyBhIGdsb2JhbD9cblxuICB2YXIgcm91dGVyID0gUm91dGVyLmNyZWF0ZSh7XG4gICAgcm91dGVzLFxuICAgIGxvY2F0aW9uOiBhY3RpbmdVcmwsXG4gICAgb25BYm9ydDogKHt0bywgcGFyYW1zLCBxdWVyeX0pID0+IHtcbiAgICAgIHZhciB1cmwgPSB0byAmJiByb3V0ZXIubWFrZVBhdGgodG8sIHBhcmFtcywgcXVlcnkpIHx8ICcvJ1xuICAgICAgaWYocGFyYW1zICYmIHBhcmFtcy5zdGF0dXMgPT0gNDAzKSByZXR1cm4gcmVzLnNlbmRTdGF0dXMoNDAzKVxuICAgICAgcmVzLnJlZGlyZWN0KHBhcmFtcyAmJiBwYXJhbXMuc3RhdHVzIHx8IDMwMSwgdXJsKVxuICAgIH0sXG4gIH0pXG5cbiAgaWYoIXJvdXRlci5tYXRjaChhY3RpbmdVcmwpKSByZXR1cm4gbmV4dCgpXG5cbiAgcm91dGVyLnJ1bigoSGFuZGxlciwgc3RhdGUpID0+IHtcbiAgICAvLyBnYS5wYWdldmlldyhzdGF0ZS5wYXRobmFtZSlcbiAgICBmZXRjaENvbXBvbmVudERhdGEoc3RhdGUpLnRoZW4oZGF0YSA9PiB7XG4gICAgICB2YXIgaGFuZGxlciA9IDxIYW5kbGVyIHsuLi5zdGF0ZX0gZGF0YT17ZGF0YX0gdW5pdmVyc2FsPXt0cnVlfSBjbGllbnRJcD17cmVxLmlwfSBwcml2aWxlZ2VkQ2xpZW50SVA9e3ByaXZpbGVnZWRDbGllbnRJUH0gdXNlckFnZW50PXtyZXEuaGVhZGVyc1sndXNlci1hZ2VudCddfSAvPlxuICAgICAgdmFyIGJvZHkgPSBSZWFjdERPTS5yZW5kZXJUb1N0cmluZyhoYW5kbGVyKVxuICAgICAgcmVzLnNlbmQoaHRtbChIZWxtZXQucmV3aW5kKCksIGRhdGEsIGJvZHkpKVxuICAgIH0pXG4gIH0pXG59KVxuXG52YXIgcG9ydCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgMzQxM1xuYXBwLmxpc3Rlbihwb3J0LCAoKSA9PiBjb25zb2xlLmluZm8oJ/CfkYwgJywgcG9ydCkpXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "React",
        "require",
        "ReactDOM",
        "Router",
        "Helmet",
        "express",
        "ga",
        "fs",
        "index",
        "readFileSync",
        "fetchComponentData",
        "routes",
        "app",
        "serveStatic",
        "locals",
        "settings",
        "enable",
        "window",
        "global",
        "serverRendered",
        "get",
        "req",
        "res",
        "next",
        "match",
        "url",
        "redirect",
        "html",
        "data",
        "body",
        "title",
        "meta",
        "link",
        "renderedHead",
        "JSON",
        "stringify",
        "filter",
        "e",
        "join",
        "replace",
        "use",
        "actingUrl",
        "internalIPs",
        "process",
        "env",
        "PRIVILEGED_IP_LIST",
        "privilegedClientIP",
        "split",
        "indexOf",
        "ip",
        "router",
        "create",
        "location",
        "onAbort",
        "to",
        "params",
        "query",
        "makePath",
        "status",
        "sendStatus",
        "run",
        "Handler",
        "state",
        "then",
        "handler",
        "headers",
        "renderToString",
        "send",
        "rewind",
        "port",
        "PORT",
        "listen",
        "console",
        "info"
      ],
      "mappings": "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",
      "file": "server.js",
      "sourceRoot": "/var/www/art",
      "sourcesContent": [
        "var React = require('react')\nvar ReactDOM = require('react-dom/server')\nvar Router = require('react-router')\nvar Helmet = require('react-helmet')\nvar express = require('express')\nvar ga = require('react-ga')\nvar fs = require('fs')\nvar index = fs.readFileSync('./index.html', 'utf-8')\n\nvar fetchComponentData = require('./fetch')\nvar routes = require('./routes')\n\nvar app = express()\nvar serveStatic = require('serve-static')\napp.locals.settings['x-powered-by'] = false\napp.enable('trust proxy')\n\nif(typeof window === \"undefined\") {\n  global.window = global\n  global.window.serverRendered = true\n}\n\n// ga.initialize(process.env.GA_TRACKING_ID)\n\napp.get('/search/', (req, res, next) => {\n  // catch searches with JS disabled\n  var match = req.url.match(/\\/search\\/\\?q=(.*)/)\n  if(match && match[1]) return res.redirect(301, '/search/'+match[1])\n  next()\n})\n\nvar html = ({ title, meta, link }, data, body) => {\n  const renderedHead = [\n    `${title}`,\n    meta,\n    link,\n    `<script>window.__DATA__ = ${JSON.stringify(data)};</script>`,\n  ]\n    .filter(e => e)\n    .join('  \\n')\n    .replace(/ data-react-helmet=\"true\"/g, '')\n\n  return index\n    .replace('<!--HEAD-->', renderedHead)\n    .replace('<!--BODY-->', body)\n}\n\napp.use(serveStatic('.'))\n\napp.use((req, res, next) => {\n  var actingUrl = req.url.replace(/\\/(.*)\\/$/, '/$1')\n  const internalIPs = process.env.PRIVILEGED_IP_LIST\n  var privilegedClientIP = internalIPs.split(' ').indexOf(req.ip) > -1\n  window.privilegedClientIP = privilegedClientIP // FIXME how to pass this other than as a global?\n\n  var router = Router.create({\n    routes,\n    location: actingUrl,\n    onAbort: ({to, params, query}) => {\n      var url = to && router.makePath(to, params, query) || '/'\n      if(params && params.status == 403) return res.sendStatus(403)\n      res.redirect(params && params.status || 301, url)\n    },\n  })\n\n  if(!router.match(actingUrl)) return next()\n\n  router.run((Handler, state) => {\n    // ga.pageview(state.pathname)\n    fetchComponentData(state).then(data => {\n      var handler = <Handler {...state} data={data} universal={true} clientIp={req.ip} privilegedClientIP={privilegedClientIP} userAgent={req.headers['user-agent']} />\n      var body = ReactDOM.renderToString(handler)\n      res.send(html(Helmet.rewind(), data, body))\n    })\n  })\n})\n\nvar port = process.env.PORT || 3413\napp.listen(port, () => console.info('👌 ', port))\n"
      ]
    },
    "mtime": 1595435599436
  },
  "{\"filename\":\"/var/www/art/fetch.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "typeof",
        "slicedToArray"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/fetch.js",
      "filenameRelative": "/var/www/art/fetch.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "fetch.js",
      "sourceFileName": "fetch.js",
      "sourceRoot": "/var/www/art",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "fetch"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nrequire('babel-polyfill');\nvar resolveHash = require('when/keys').all;\n\nfunction fetchComponentData(state, initialData) {\n  var promises = state.routes.filter(function (route, index, allRoutes) {\n    // Don't `fetchData` twice for nested routes with the same `Handler`\n    // Prefer the parent\n    var prevRoute = index > 0 && allRoutes[index - 1];\n    if (prevRoute && route.handler.fetchData === prevRoute.handler.fetchData) return;\n\n    return route.handler.fetchData;\n  }).reduce(function (promises, route) {\n    if (initialData) {\n      Object.keys(initialData).forEach(function (key) {\n        promises[key] = Promise.resolve(initialData[key]);\n      });\n      return promises;\n    }\n\n    // `fetchData` is either a function, or an object with keyed functions.\n    // If a component requires custom-named data or pulls data from multiple sources,\n    // each data is fetched from the value of each entry in the object and made\n    // available under the key\n    var fetchData = route.handler.fetchData;\n    if (typeof fetchData == 'function') {\n      promises[route.name] = fetchData(state.params, state.query);\n    } else if ((typeof fetchData === 'undefined' ? 'undefined' : _typeof(fetchData)) == 'object') {\n      Object.entries(fetchData).map(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            name = _ref2[0],\n            _fetchData = _ref2[1];\n\n        promises[name] = _fetchData(state.params, state.query);\n      });\n    }\n\n    return promises;\n  }, {});\n\n  return resolveHash(promises);\n}\n\nmodule.exports = fetchComponentData;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZldGNoLmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJyZXNvbHZlSGFzaCIsImFsbCIsImZldGNoQ29tcG9uZW50RGF0YSIsInN0YXRlIiwiaW5pdGlhbERhdGEiLCJwcm9taXNlcyIsInJvdXRlcyIsImZpbHRlciIsInJvdXRlIiwiaW5kZXgiLCJhbGxSb3V0ZXMiLCJwcmV2Um91dGUiLCJoYW5kbGVyIiwiZmV0Y2hEYXRhIiwicmVkdWNlIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm5hbWUiLCJwYXJhbXMiLCJxdWVyeSIsImVudHJpZXMiLCJtYXAiLCJfZmV0Y2hEYXRhIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUFBLFFBQVEsZ0JBQVI7QUFDQSxJQUFJQyxjQUFjRCxRQUFRLFdBQVIsRUFBcUJFLEdBQXZDOztBQUVBLFNBQVNDLGtCQUFULENBQTRCQyxLQUE1QixFQUFtQ0MsV0FBbkMsRUFBZ0Q7QUFDOUMsTUFBSUMsV0FBV0YsTUFBTUcsTUFBTixDQUFhQyxNQUFiLENBQW9CLFVBQUNDLEtBQUQsRUFBUUMsS0FBUixFQUFlQyxTQUFmLEVBQTZCO0FBQzlEO0FBQ0E7QUFDQSxRQUFNQyxZQUFZRixRQUFRLENBQVIsSUFBYUMsVUFBVUQsUUFBTSxDQUFoQixDQUEvQjtBQUNBLFFBQUdFLGFBQWFILE1BQU1JLE9BQU4sQ0FBY0MsU0FBZCxLQUE0QkYsVUFBVUMsT0FBVixDQUFrQkMsU0FBOUQsRUFBeUU7O0FBRXpFLFdBQU9MLE1BQU1JLE9BQU4sQ0FBY0MsU0FBckI7QUFDRCxHQVBjLEVBT1pDLE1BUFksQ0FPTCxVQUFDVCxRQUFELEVBQVdHLEtBQVgsRUFBcUI7QUFDN0IsUUFBR0osV0FBSCxFQUFnQjtBQUNkVyxhQUFPQyxJQUFQLENBQVlaLFdBQVosRUFDQ2EsT0FERCxDQUNTLGVBQU87QUFDZFosaUJBQVNhLEdBQVQsSUFBZ0JDLFFBQVFDLE9BQVIsQ0FBZ0JoQixZQUFZYyxHQUFaLENBQWhCLENBQWhCO0FBQ0QsT0FIRDtBQUlBLGFBQU9iLFFBQVA7QUFDRDs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU1RLFlBQVlMLE1BQU1JLE9BQU4sQ0FBY0MsU0FBaEM7QUFDQSxRQUFHLE9BQU9BLFNBQVAsSUFBb0IsVUFBdkIsRUFBbUM7QUFDakNSLGVBQVNHLE1BQU1hLElBQWYsSUFBdUJSLFVBQVVWLE1BQU1tQixNQUFoQixFQUF3Qm5CLE1BQU1vQixLQUE5QixDQUF2QjtBQUNELEtBRkQsTUFFTyxJQUFHLFFBQU9WLFNBQVAseUNBQU9BLFNBQVAsTUFBb0IsUUFBdkIsRUFBaUM7QUFDdENFLGFBQU9TLE9BQVAsQ0FBZVgsU0FBZixFQUEwQlksR0FBMUIsQ0FBOEIsZ0JBQXdCO0FBQUE7QUFBQSxZQUF0QkosSUFBc0I7QUFBQSxZQUFoQkssVUFBZ0I7O0FBQ3BEckIsaUJBQVNnQixJQUFULElBQWlCSyxXQUFXdkIsTUFBTW1CLE1BQWpCLEVBQXlCbkIsTUFBTW9CLEtBQS9CLENBQWpCO0FBQ0QsT0FGRDtBQUdEOztBQUVELFdBQU9sQixRQUFQO0FBQ0QsR0E5QmMsRUE4QlosRUE5QlksQ0FBZjs7QUFnQ0EsU0FBT0wsWUFBWUssUUFBWixDQUFQO0FBQ0Q7O0FBRURzQixPQUFPQyxPQUFQLEdBQWlCMUIsa0JBQWpCIiwiZmlsZSI6ImZldGNoLmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydCIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJ2JhYmVsLXBvbHlmaWxsJylcbnZhciByZXNvbHZlSGFzaCA9IHJlcXVpcmUoJ3doZW4va2V5cycpLmFsbFxuXG5mdW5jdGlvbiBmZXRjaENvbXBvbmVudERhdGEoc3RhdGUsIGluaXRpYWxEYXRhKSB7XG4gIHZhciBwcm9taXNlcyA9IHN0YXRlLnJvdXRlcy5maWx0ZXIoKHJvdXRlLCBpbmRleCwgYWxsUm91dGVzKSA9PiB7XG4gICAgLy8gRG9uJ3QgYGZldGNoRGF0YWAgdHdpY2UgZm9yIG5lc3RlZCByb3V0ZXMgd2l0aCB0aGUgc2FtZSBgSGFuZGxlcmBcbiAgICAvLyBQcmVmZXIgdGhlIHBhcmVudFxuICAgIGNvbnN0IHByZXZSb3V0ZSA9IGluZGV4ID4gMCAmJiBhbGxSb3V0ZXNbaW5kZXgtMV1cbiAgICBpZihwcmV2Um91dGUgJiYgcm91dGUuaGFuZGxlci5mZXRjaERhdGEgPT09IHByZXZSb3V0ZS5oYW5kbGVyLmZldGNoRGF0YSkgcmV0dXJuXG5cbiAgICByZXR1cm4gcm91dGUuaGFuZGxlci5mZXRjaERhdGFcbiAgfSkucmVkdWNlKChwcm9taXNlcywgcm91dGUpID0+IHtcbiAgICBpZihpbml0aWFsRGF0YSkge1xuICAgICAgT2JqZWN0LmtleXMoaW5pdGlhbERhdGEpXG4gICAgICAuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBwcm9taXNlc1trZXldID0gUHJvbWlzZS5yZXNvbHZlKGluaXRpYWxEYXRhW2tleV0pXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHByb21pc2VzXG4gICAgfVxuXG4gICAgLy8gYGZldGNoRGF0YWAgaXMgZWl0aGVyIGEgZnVuY3Rpb24sIG9yIGFuIG9iamVjdCB3aXRoIGtleWVkIGZ1bmN0aW9ucy5cbiAgICAvLyBJZiBhIGNvbXBvbmVudCByZXF1aXJlcyBjdXN0b20tbmFtZWQgZGF0YSBvciBwdWxscyBkYXRhIGZyb20gbXVsdGlwbGUgc291cmNlcyxcbiAgICAvLyBlYWNoIGRhdGEgaXMgZmV0Y2hlZCBmcm9tIHRoZSB2YWx1ZSBvZiBlYWNoIGVudHJ5IGluIHRoZSBvYmplY3QgYW5kIG1hZGVcbiAgICAvLyBhdmFpbGFibGUgdW5kZXIgdGhlIGtleVxuICAgIGNvbnN0IGZldGNoRGF0YSA9IHJvdXRlLmhhbmRsZXIuZmV0Y2hEYXRhXG4gICAgaWYodHlwZW9mIGZldGNoRGF0YSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwcm9taXNlc1tyb3V0ZS5uYW1lXSA9IGZldGNoRGF0YShzdGF0ZS5wYXJhbXMsIHN0YXRlLnF1ZXJ5KVxuICAgIH0gZWxzZSBpZih0eXBlb2YgZmV0Y2hEYXRhID09ICdvYmplY3QnKSB7XG4gICAgICBPYmplY3QuZW50cmllcyhmZXRjaERhdGEpLm1hcCgoW25hbWUsIF9mZXRjaERhdGFdKSA9PiB7XG4gICAgICAgIHByb21pc2VzW25hbWVdID0gX2ZldGNoRGF0YShzdGF0ZS5wYXJhbXMsIHN0YXRlLnF1ZXJ5KVxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZXNcbiAgfSwge30pXG5cbiAgcmV0dXJuIHJlc29sdmVIYXNoKHByb21pc2VzKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZldGNoQ29tcG9uZW50RGF0YVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "fetch.js"
      ],
      "names": [
        "require",
        "resolveHash",
        "all",
        "fetchComponentData",
        "state",
        "initialData",
        "promises",
        "routes",
        "filter",
        "route",
        "index",
        "allRoutes",
        "prevRoute",
        "handler",
        "fetchData",
        "reduce",
        "Object",
        "keys",
        "forEach",
        "key",
        "Promise",
        "resolve",
        "name",
        "params",
        "query",
        "entries",
        "map",
        "_fetchData",
        "module",
        "exports"
      ],
      "mappings": ";;;;;;AAAAA,QAAQ,gBAAR;AACA,IAAIC,cAAcD,QAAQ,WAAR,EAAqBE,GAAvC;;AAEA,SAASC,kBAAT,CAA4BC,KAA5B,EAAmCC,WAAnC,EAAgD;AAC9C,MAAIC,WAAWF,MAAMG,MAAN,CAAaC,MAAb,CAAoB,UAACC,KAAD,EAAQC,KAAR,EAAeC,SAAf,EAA6B;AAC9D;AACA;AACA,QAAMC,YAAYF,QAAQ,CAAR,IAAaC,UAAUD,QAAM,CAAhB,CAA/B;AACA,QAAGE,aAAaH,MAAMI,OAAN,CAAcC,SAAd,KAA4BF,UAAUC,OAAV,CAAkBC,SAA9D,EAAyE;;AAEzE,WAAOL,MAAMI,OAAN,CAAcC,SAArB;AACD,GAPc,EAOZC,MAPY,CAOL,UAACT,QAAD,EAAWG,KAAX,EAAqB;AAC7B,QAAGJ,WAAH,EAAgB;AACdW,aAAOC,IAAP,CAAYZ,WAAZ,EACCa,OADD,CACS,eAAO;AACdZ,iBAASa,GAAT,IAAgBC,QAAQC,OAAR,CAAgBhB,YAAYc,GAAZ,CAAhB,CAAhB;AACD,OAHD;AAIA,aAAOb,QAAP;AACD;;AAED;AACA;AACA;AACA;AACA,QAAMQ,YAAYL,MAAMI,OAAN,CAAcC,SAAhC;AACA,QAAG,OAAOA,SAAP,IAAoB,UAAvB,EAAmC;AACjCR,eAASG,MAAMa,IAAf,IAAuBR,UAAUV,MAAMmB,MAAhB,EAAwBnB,MAAMoB,KAA9B,CAAvB;AACD,KAFD,MAEO,IAAG,QAAOV,SAAP,yCAAOA,SAAP,MAAoB,QAAvB,EAAiC;AACtCE,aAAOS,OAAP,CAAeX,SAAf,EAA0BY,GAA1B,CAA8B,gBAAwB;AAAA;AAAA,YAAtBJ,IAAsB;AAAA,YAAhBK,UAAgB;;AACpDrB,iBAASgB,IAAT,IAAiBK,WAAWvB,MAAMmB,MAAjB,EAAyBnB,MAAMoB,KAA/B,CAAjB;AACD,OAFD;AAGD;;AAED,WAAOlB,QAAP;AACD,GA9Bc,EA8BZ,EA9BY,CAAf;;AAgCA,SAAOL,YAAYK,QAAZ,CAAP;AACD;;AAEDsB,OAAOC,OAAP,GAAiB1B,kBAAjB",
      "file": "fetch.js",
      "sourceRoot": "/var/www/art",
      "sourcesContent": [
        "require('babel-polyfill')\nvar resolveHash = require('when/keys').all\n\nfunction fetchComponentData(state, initialData) {\n  var promises = state.routes.filter((route, index, allRoutes) => {\n    // Don't `fetchData` twice for nested routes with the same `Handler`\n    // Prefer the parent\n    const prevRoute = index > 0 && allRoutes[index-1]\n    if(prevRoute && route.handler.fetchData === prevRoute.handler.fetchData) return\n\n    return route.handler.fetchData\n  }).reduce((promises, route) => {\n    if(initialData) {\n      Object.keys(initialData)\n      .forEach(key => {\n        promises[key] = Promise.resolve(initialData[key])\n      })\n      return promises\n    }\n\n    // `fetchData` is either a function, or an object with keyed functions.\n    // If a component requires custom-named data or pulls data from multiple sources,\n    // each data is fetched from the value of each entry in the object and made\n    // available under the key\n    const fetchData = route.handler.fetchData\n    if(typeof fetchData == 'function') {\n      promises[route.name] = fetchData(state.params, state.query)\n    } else if(typeof fetchData == 'object') {\n      Object.entries(fetchData).map(([name, _fetchData]) => {\n        promises[name] = _fetchData(state.params, state.query)\n      })\n    }\n\n    return promises\n  }, {})\n\n  return resolveHash(promises)\n}\n\nmodule.exports = fetchComponentData\n"
      ]
    },
    "mtime": 1491504523006
  },
  "{\"filename\":\"/var/www/art/routes.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/routes.js",
      "filenameRelative": "/var/www/art/routes.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "routes.js",
      "sourceFileName": "routes.js",
      "sourceRoot": "/var/www/art",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "routes"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Route = Router.Route,\n    Redirect = Router.Redirect,\n    DefaultRoute = Router.DefaultRoute,\n    NotFoundRoute = Router.NotFoundRoute;\n\n\nvar App = require('./src/app');\nvar Home = require('./src/home');\nvar Search = require('./src/search');\nvar SearchResults = require('./src/search-results');\nvar Artwork = require('./src/artwork');\nvar ArtistsByLetter = require('./src/artists-by-letter');\nvar ObjectsById = require('./src/objects-by-id');\nvar Department = require('./src/department');\nvar DepartmentsIndex = require('./src/departments').index;\nvar Curator = require('./src/curator');\nvar Curators = require('./src/curators');\nvar Explore = require('./src/explore');\nvar Page = require('./src/page');\nvar Info = require('./src/info');\nvar Gallery = require('./src/gallery');\nvar Map = require('./src/map-page');\nvar More = require('./src/more');\nvar Exhibition = require('./src/exhibition');\nvar Artist = require('./src/artist');\nvar RecentAccessions = require('./src/recent');\nvar AccessionHighlight = require('./src/accession-highlight');\nvar ArtChampionPage = require('./src/art-champion');\nvar PeopleById = require('./src/people-by-id');\nvar Survey = require('./src/survey');\nvar RandomArtwork = require('./src/pages/random');\nvar NotFound = require('./src/pages/not-found');\nvar PseudoArtwork = require('./src/pseudo-artwork.js');\n\nvar routes = React.createElement(\n  Route,\n  { handler: App, path: '/' },\n  React.createElement(DefaultRoute, { name: 'home', handler: Home }),\n  React.createElement(Route, { name: 'randomArtwork', path: 'art/random', handler: RandomArtwork }),\n  React.createElement(Route, { name: 'artwork', path: 'art/:id', handler: Artwork }),\n  React.createElement(Route, { name: 'artworkSlug', path: 'art/:id/:slug', handler: Artwork }),\n  React.createElement(Route, { name: 'accessionHighlight', path: 'art/:id/:slug/accessionHighlight', handler: AccessionHighlight }),\n  React.createElement(Route, { name: 'artChampion', path: 'art/:id/:slug/art-champion', handler: ArtChampionPage }),\n  React.createElement(Route, { name: 'sandboxArtwork', path: 'sandbox/:id', handler: PseudoArtwork }),\n  React.createElement(Route, { name: 'sandboxArtworkSlug', path: 'sandbox/:id/:slug', handler: PseudoArtwork }),\n  React.createElement(\n    Route,\n    { name: 'search', path: '/search/', handler: Search },\n    React.createElement(\n      Route,\n      { name: 'searchResults', path: ':terms', handler: SearchResults },\n      React.createElement(Route, { name: 'filteredSearchResults', path: 'filters/*', handler: SearchResults })\n    )\n  ),\n  React.createElement(Route, { name: 'department', path: '/departments/:dept', handler: Department }),\n  React.createElement(Route, { name: 'departments', path: '/departments', handler: DepartmentsIndex }),\n  React.createElement(Route, { name: 'curator', path: '/curators/:slug', handler: Curator }),\n  React.createElement(Route, { name: 'curators', path: '/curators', handler: Curators }),\n  React.createElement(Route, { name: 'explore', path: '/explore', handler: Explore }),\n  React.createElement(Route, { name: 'artistsByName', path: '/search/artists/:letter', handler: ArtistsByLetter }),\n  React.createElement(Route, { name: 'artist', path: '/people/:id', handler: Artist }),\n  React.createElement(Route, { name: 'artistSlug', path: '/people/:id/:slug', handler: Artist }),\n  React.createElement(Route, { name: 'objectsById', path: '/search/ids/:ids', handler: ObjectsById }),\n  React.createElement(Route, { name: 'peopleById', path: '/search/people/:ids', handler: PeopleById }),\n  React.createElement(Route, { name: 'page', path: '/info/:name', handler: Page }),\n  React.createElement(Route, { name: 'info', path: '/info', handler: Info }),\n  React.createElement(Route, { name: 'gallery', path: '/galleries/:gallery', handler: Gallery }),\n  React.createElement(Route, { name: 'map', path: '/map', handler: Map }),\n  React.createElement(Route, { name: 'galleries', path: '/galleries', handler: Map }),\n  React.createElement(Route, { name: 'more', path: '/more', handler: More }),\n  React.createElement(Route, { name: 'exhibition', path: '/exhibitions/:id', handler: Exhibition }),\n  React.createElement(Route, { name: 'exhibitionSlug', path: 'exhibitions/:id/:slug', handler: Exhibition }),\n  React.createElement(Route, { name: 'recent', path: '/new', handler: RecentAccessions }),\n  React.createElement(Route, { name: 'surveys', path: 'surveys/:surveyId', handler: Survey }),\n  React.createElement(Route, { name: 'survey', path: 'survey', handler: Survey }),\n  React.createElement(NotFoundRoute, { handler: NotFound })\n);\n\nmodule.exports = routes;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlcy5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJSb3V0ZXIiLCJSb3V0ZSIsIlJlZGlyZWN0IiwiRGVmYXVsdFJvdXRlIiwiTm90Rm91bmRSb3V0ZSIsIkFwcCIsIkhvbWUiLCJTZWFyY2giLCJTZWFyY2hSZXN1bHRzIiwiQXJ0d29yayIsIkFydGlzdHNCeUxldHRlciIsIk9iamVjdHNCeUlkIiwiRGVwYXJ0bWVudCIsIkRlcGFydG1lbnRzSW5kZXgiLCJpbmRleCIsIkN1cmF0b3IiLCJDdXJhdG9ycyIsIkV4cGxvcmUiLCJQYWdlIiwiSW5mbyIsIkdhbGxlcnkiLCJNYXAiLCJNb3JlIiwiRXhoaWJpdGlvbiIsIkFydGlzdCIsIlJlY2VudEFjY2Vzc2lvbnMiLCJBY2Nlc3Npb25IaWdobGlnaHQiLCJBcnRDaGFtcGlvblBhZ2UiLCJQZW9wbGVCeUlkIiwiU3VydmV5IiwiUmFuZG9tQXJ0d29yayIsIk5vdEZvdW5kIiwiUHNldWRvQXJ0d29yayIsInJvdXRlcyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7QUFDQSxJQUFJQyxTQUFTRCxRQUFRLGNBQVIsQ0FBYjtJQUNLRSxLLEdBQWdERCxNLENBQWhEQyxLO0lBQU9DLFEsR0FBeUNGLE0sQ0FBekNFLFE7SUFBVUMsWSxHQUErQkgsTSxDQUEvQkcsWTtJQUFjQyxhLEdBQWlCSixNLENBQWpCSSxhOzs7QUFFcEMsSUFBSUMsTUFBTU4sUUFBUSxXQUFSLENBQVY7QUFDQSxJQUFJTyxPQUFPUCxRQUFRLFlBQVIsQ0FBWDtBQUNBLElBQUlRLFNBQVNSLFFBQVEsY0FBUixDQUFiO0FBQ0EsSUFBSVMsZ0JBQWdCVCxRQUFRLHNCQUFSLENBQXBCO0FBQ0EsSUFBSVUsVUFBVVYsUUFBUSxlQUFSLENBQWQ7QUFDQSxJQUFJVyxrQkFBa0JYLFFBQVEseUJBQVIsQ0FBdEI7QUFDQSxJQUFJWSxjQUFjWixRQUFRLHFCQUFSLENB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QVosRUFBbUIsTUFBSyxPQUF4QixFQUFnQyxTQUFTQyxJQUF6QyxHQTdCRjtBQThCRSxzQkFBQyxLQUFELElBQU8sTUFBSyxZQUFaLEVBQXlCLE1BQUssa0JBQTlCLEVBQWlELFNBQVNDLFVBQTFELEdBOUJGO0FBK0JFLHNCQUFDLEtBQUQsSUFBTyxNQUFLLGdCQUFaLEVBQTZCLE1BQUssdUJBQWxDLEVBQTBELFNBQVNBLFVBQW5FLEdBL0JGO0FBZ0NFLHNCQUFDLEtBQUQsSUFBTyxNQUFLLFFBQVosRUFBcUIsTUFBSyxNQUExQixFQUFpQyxTQUFTRSxnQkFBMUMsR0FoQ0Y7QUFpQ0Usc0JBQUMsS0FBRCxJQUFPLE1BQUssU0FBWixFQUFzQixNQUFLLG1CQUEzQixFQUErQyxTQUFTSSxNQUF4RCxHQWpDRjtBQWtDRSxzQkFBQyxLQUFELElBQU8sTUFBSyxRQUFaLEVBQXFCLE1BQUssUUFBMUIsRUFBbUMsU0FBU0EsTUFBNUMsR0FsQ0Y7QUFtQ0Usc0JBQUMsYUFBRCxJQUFlLFNBQVNFLFFBQXhCO0FBbkNGLENBREY7O0FBd0NBRyxPQUFPQyxPQUFQLEdBQWlCRixNQUFqQiIsImZpbGUiOiJyb3V0ZXMuanMiLCJzb3VyY2VSb290IjoiL3Zhci93d3cvYXJ0Iiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIge1JvdXRlLCBSZWRpcmVjdCwgRGVmYXVsdFJvdXRlLCBOb3RGb3VuZFJvdXRlfSA9IFJvdXRlclxuXG52YXIgQXBwID0gcmVxdWlyZSgnLi9zcmMvYXBwJylcbnZhciBIb21lID0gcmVxdWlyZSgnLi9zcmMvaG9tZScpXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zcmMvc2VhcmNoJylcbnZhciBTZWFyY2hSZXN1bHRzID0gcmVxdWlyZSgnLi9zcmMvc2VhcmNoLXJlc3VsdHMnKVxudmFyIEFydHdvcmsgPSByZXF1aXJlKCcuL3NyYy9hcnR3b3JrJylcbnZhciBBcnRpc3RzQnlMZXR0ZXIgPSByZXF1aXJlKCcuL3NyYy9hcnRpc3RzLWJ5LWxldHRlcicpXG52YXIgT2JqZWN0c0J5SWQgPSByZXF1aXJlKCcuL3NyYy9vYmplY3RzLWJ5LWlkJylcbnZhciBEZXBhcnRtZW50ID0gcmVxdWlyZSgnLi9zcmMvZGVwYXJ0bWVudCcpXG52YXIgRGVwYXJ0bWVudHNJbmRleCA9IHJlcXVpcmUoJy4vc3JjL2RlcGFydG1lbnRzJykuaW5kZXhcbnZhciBDdXJhdG9yID0gcmVxdWlyZSgnLi9zcmMvY3VyYXRvcicpXG52YXIgQ3VyYXRvcnMgPSByZXF1aXJlKCcuL3NyYy9jdXJhdG9ycycpXG52YXIgRXhwbG9yZSA9IHJlcXVpcmUoJy4vc3JjL2V4cGxvcmUnKVxudmFyIFBhZ2UgPSByZXF1aXJlKCcuL3NyYy9wYWdlJylcbnZhciBJbmZvID0gcmVxdWlyZSgnLi9zcmMvaW5mbycpXG52YXIgR2FsbGVyeSA9IHJlcXVpcmUoJy4vc3JjL2dhbGxlcnknKVxudmFyIE1hcCA9IHJlcXVpcmUoJy4vc3JjL21hcC1wYWdlJylcbnZhciBNb3JlID0gcmVxdWlyZSgnLi9zcmMvbW9yZScpXG52YXIgRXhoaWJpdGlvbiA9IHJlcXVpcmUoJy4vc3JjL2V4aGliaXRpb24nKVxudmFyIEFydGlzdCA9IHJlcXVpcmUoJy4vc3JjL2FydGlzdCcpXG52YXIgUmVjZW50QWNjZXNzaW9ucyA9IHJlcXVpcmUoJy4vc3JjL3JlY2VudCcpXG52YXIgQWNjZXNzaW9uSGlnaGxpZ2h0ID0gcmVxdWlyZSgnLi9zcmMvYWNjZXNzaW9uLWhpZ2hsaWdodCcpXG52YXIgQXJ0Q2hhbXBpb25QYWdlID0gcmVxdWlyZSgnLi9zcmMvYXJ0LWNoYW1waW9uJylcbnZhciBQZW9wbGVCeUlkID0gcmVxdWlyZSgnLi9zcmMvcGVvcGxlLWJ5LWlkJylcbnZhciBTdXJ2ZXkgPSByZXF1aXJlKCcuL3NyYy9zdXJ2ZXknKVxudmFyIFJhbmRvbUFydHdvcmsgPSByZXF1aXJlKCcuL3NyYy9wYWdlcy9yYW5kb20nKVxudmFyIE5vdEZvdW5kID0gcmVxdWlyZSgnLi9zcmMvcGFnZXMvbm90LWZvdW5kJylcbnZhciBQc2V1ZG9BcnR3b3JrID0gcmVxdWlyZSgnLi9zcmMvcHNldWRvLWFydHdvcmsuanMnKVxuXG52YXIgcm91dGVzID0gKFxuICA8Um91dGUgaGFuZGxlcj17QXBwfSBwYXRoPVwiL1wiPlxuICAgIDxEZWZhdWx0Um91dGUgbmFtZT1cImhvbWVcIiBoYW5kbGVyPXtIb21lfSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwicmFuZG9tQXJ0d29ya1wiIHBhdGg9XCJhcnQvcmFuZG9tXCIgaGFuZGxlcj17UmFuZG9tQXJ0d29ya30gLz5cbiAgICA8Um91dGUgbmFtZT1cImFydHdvcmtcIiBwYXRoPVwiYXJ0LzppZFwiIGhhbmRsZXI9e0FydHdvcmt9IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJhcnR3b3JrU2x1Z1wiIHBhdGg9XCJhcnQvOmlkLzpzbHVnXCIgaGFuZGxlcj17QXJ0d29ya30gLz5cbiAgICA8Um91dGUgbmFtZT1cImFjY2Vzc2lvbkhpZ2hsaWdodFwiIHBhdGg9XCJhcnQvOmlkLzpzbHVnL2FjY2Vzc2lvbkhpZ2hsaWdodFwiIGhhbmRsZXI9e0FjY2Vzc2lvbkhpZ2hsaWdodH0gLz5cbiAgICA8Um91dGUgbmFtZT1cImFydENoYW1waW9uXCIgcGF0aD1cImFydC86aWQvOnNsdWcvYXJ0LWNoYW1waW9uXCIgaGFuZGxlcj17QXJ0Q2hhbXBpb25QYWdlfSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwic2FuZGJveEFydHdvcmtcIiBwYXRoPVwic2FuZGJveC86aWRcIiBoYW5kbGVyPXtQc2V1ZG9BcnR3b3JrfSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwic2FuZGJveEFydHdvcmtTbHVnXCIgcGF0aD1cInNhbmRib3gvOmlkLzpzbHVnXCIgaGFuZGxlcj17UHNldWRvQXJ0d29ya30gLz5cbiAgICA8Um91dGUgbmFtZT1cInNlYXJjaFwiIHBhdGg9XCIvc2VhcmNoL1wiIGhhbmRsZXI9e1NlYXJjaH0+XG4gICAgICA8Um91dGUgbmFtZT1cInNlYXJjaFJlc3VsdHNcIiBwYXRoPVwiOnRlcm1zXCIgaGFuZGxlcj17U2VhcmNoUmVzdWx0c30+XG4gICAgICAgIDxSb3V0ZSBuYW1lPVwiZmlsdGVyZWRTZWFyY2hSZXN1bHRzXCIgcGF0aD1cImZpbHRlcnMvKlwiIGhhbmRsZXI9e1NlYXJjaFJlc3VsdHN9IC8+XG4gICAgICA8L1JvdXRlPlxuICAgIDwvUm91dGU+XG4gICAgPFJvdXRlIG5hbWU9XCJkZXBhcnRtZW50XCIgcGF0aD1cIi9kZXBhcnRtZW50cy86ZGVwdFwiIGhhbmRsZXI9e0RlcGFydG1lbnR9IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJkZXBhcnRtZW50c1wiIHBhdGg9XCIvZGVwYXJ0bWVudHNcIiBoYW5kbGVyPXtEZXBhcnRtZW50c0luZGV4fSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwiY3VyYXRvclwiIHBhdGg9XCIvY3VyYXRvcnMvOnNsdWdcIiBoYW5kbGVyPXtDdXJhdG9yfSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwiY3VyYXRvcnNcIiBwYXRoPVwiL2N1cmF0b3JzXCIgaGFuZGxlcj17Q3VyYXRvcnN9IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJleHBsb3JlXCIgcGF0aD1cIi9leHBsb3JlXCIgaGFuZGxlcj17RXhwbG9yZX0gLz5cbiAgICA8Um91dGUgbmFtZT1cImFydGlzdHNCeU5hbWVcIiBwYXRoPVwiL3NlYXJjaC9hcnRpc3RzLzpsZXR0ZXJcIiBoYW5kbGVyPXtBcnRpc3RzQnlMZXR0ZXJ9IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJhcnRpc3RcIiBwYXRoPVwiL3Blb3BsZS86aWRcIiBoYW5kbGVyPXtBcnRpc3R9IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJhcnRpc3RTbHVnXCIgcGF0aD1cIi9wZW9wbGUvOmlkLzpzbHVnXCIgaGFuZGxlcj17QXJ0aXN0fSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwib2JqZWN0c0J5SWRcIiBwYXRoPVwiL3NlYXJjaC9pZHMvOmlkc1wiIGhhbmRsZXI9e09iamVjdHNCeUlkfSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwicGVvcGxlQnlJZFwiIHBhdGg9XCIvc2VhcmNoL3Blb3BsZS86aWRzXCIgaGFuZGxlcj17UGVvcGxlQnlJZH0gLz5cbiAgICA8Um91dGUgbmFtZT1cInBhZ2VcIiBwYXRoPVwiL2luZm8vOm5hbWVcIiBoYW5kbGVyPXtQYWdlfSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwiaW5mb1wiIHBhdGg9XCIvaW5mb1wiIGhhbmRsZXI9e0luZm99IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJnYWxsZXJ5XCIgcGF0aD1cIi9nYWxsZXJpZXMvOmdhbGxlcnlcIiBoYW5kbGVyPXtHYWxsZXJ5fSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwibWFwXCIgcGF0aD1cIi9tYXBcIiBoYW5kbGVyPXtNYXB9IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJnYWxsZXJpZXNcIiBwYXRoPVwiL2dhbGxlcmllc1wiIGhhbmRsZXI9e01hcH0gLz5cbiAgICA8Um91dGUgbmFtZT1cIm1vcmVcIiBwYXRoPVwiL21vcmVcIiBoYW5kbGVyPXtNb3JlfSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwiZXhoaWJpdGlvblwiIHBhdGg9XCIvZXhoaWJpdGlvbnMvOmlkXCIgaGFuZGxlcj17RXhoaWJpdGlvbn0gLz5cbiAgICA8Um91dGUgbmFtZT1cImV4aGliaXRpb25TbHVnXCIgcGF0aD1cImV4aGliaXRpb25zLzppZC86c2x1Z1wiIGhhbmRsZXI9e0V4aGliaXRpb259IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJyZWNlbnRcIiBwYXRoPVwiL25ld1wiIGhhbmRsZXI9e1JlY2VudEFjY2Vzc2lvbnN9IC8+XG4gICAgPFJvdXRlIG5hbWU9XCJzdXJ2ZXlzXCIgcGF0aD1cInN1cnZleXMvOnN1cnZleUlkXCIgaGFuZGxlcj17U3VydmV5fSAvPlxuICAgIDxSb3V0ZSBuYW1lPVwic3VydmV5XCIgcGF0aD1cInN1cnZleVwiIGhhbmRsZXI9e1N1cnZleX0gLz5cbiAgICA8Tm90Rm91bmRSb3V0ZSBoYW5kbGVyPXtOb3RGb3VuZH0gLz5cbiAgPC9Sb3V0ZT5cbik7XG5cbm1vZHVsZS5leHBvcnRzID0gcm91dGVzXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "routes.js"
      ],
      "names": [
        "React",
        "require",
        "Router",
        "Route",
        "Redirect",
        "DefaultRoute",
        "NotFoundRoute",
        "App",
        "Home",
        "Search",
        "SearchResults",
        "Artwork",
        "ArtistsByLetter",
        "ObjectsById",
        "Department",
        "DepartmentsIndex",
        "index",
        "Curator",
        "Curators",
        "Explore",
        "Page",
        "Info",
        "Gallery",
        "Map",
        "More",
        "Exhibition",
        "Artist",
        "RecentAccessions",
        "AccessionHighlight",
        "ArtChampionPage",
        "PeopleById",
        "Survey",
        "RandomArtwork",
        "NotFound",
        "PseudoArtwork",
        "routes",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "routes.js",
      "sourceRoot": "/var/www/art",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Route, Redirect, DefaultRoute, NotFoundRoute} = Router\n\nvar App = require('./src/app')\nvar Home = require('./src/home')\nvar Search = require('./src/search')\nvar SearchResults = require('./src/search-results')\nvar Artwork = require('./src/artwork')\nvar ArtistsByLetter = require('./src/artists-by-letter')\nvar ObjectsById = require('./src/objects-by-id')\nvar Department = require('./src/department')\nvar DepartmentsIndex = require('./src/departments').index\nvar Curator = require('./src/curator')\nvar Curators = require('./src/curators')\nvar Explore = require('./src/explore')\nvar Page = require('./src/page')\nvar Info = require('./src/info')\nvar Gallery = require('./src/gallery')\nvar Map = require('./src/map-page')\nvar More = require('./src/more')\nvar Exhibition = require('./src/exhibition')\nvar Artist = require('./src/artist')\nvar RecentAccessions = require('./src/recent')\nvar AccessionHighlight = require('./src/accession-highlight')\nvar ArtChampionPage = require('./src/art-champion')\nvar PeopleById = require('./src/people-by-id')\nvar Survey = require('./src/survey')\nvar RandomArtwork = require('./src/pages/random')\nvar NotFound = require('./src/pages/not-found')\nvar PseudoArtwork = require('./src/pseudo-artwork.js')\n\nvar routes = (\n  <Route handler={App} path=\"/\">\n    <DefaultRoute name=\"home\" handler={Home} />\n    <Route name=\"randomArtwork\" path=\"art/random\" handler={RandomArtwork} />\n    <Route name=\"artwork\" path=\"art/:id\" handler={Artwork} />\n    <Route name=\"artworkSlug\" path=\"art/:id/:slug\" handler={Artwork} />\n    <Route name=\"accessionHighlight\" path=\"art/:id/:slug/accessionHighlight\" handler={AccessionHighlight} />\n    <Route name=\"artChampion\" path=\"art/:id/:slug/art-champion\" handler={ArtChampionPage} />\n    <Route name=\"sandboxArtwork\" path=\"sandbox/:id\" handler={PseudoArtwork} />\n    <Route name=\"sandboxArtworkSlug\" path=\"sandbox/:id/:slug\" handler={PseudoArtwork} />\n    <Route name=\"search\" path=\"/search/\" handler={Search}>\n      <Route name=\"searchResults\" path=\":terms\" handler={SearchResults}>\n        <Route name=\"filteredSearchResults\" path=\"filters/*\" handler={SearchResults} />\n      </Route>\n    </Route>\n    <Route name=\"department\" path=\"/departments/:dept\" handler={Department} />\n    <Route name=\"departments\" path=\"/departments\" handler={DepartmentsIndex} />\n    <Route name=\"curator\" path=\"/curators/:slug\" handler={Curator} />\n    <Route name=\"curators\" path=\"/curators\" handler={Curators} />\n    <Route name=\"explore\" path=\"/explore\" handler={Explore} />\n    <Route name=\"artistsByName\" path=\"/search/artists/:letter\" handler={ArtistsByLetter} />\n    <Route name=\"artist\" path=\"/people/:id\" handler={Artist} />\n    <Route name=\"artistSlug\" path=\"/people/:id/:slug\" handler={Artist} />\n    <Route name=\"objectsById\" path=\"/search/ids/:ids\" handler={ObjectsById} />\n    <Route name=\"peopleById\" path=\"/search/people/:ids\" handler={PeopleById} />\n    <Route name=\"page\" path=\"/info/:name\" handler={Page} />\n    <Route name=\"info\" path=\"/info\" handler={Info} />\n    <Route name=\"gallery\" path=\"/galleries/:gallery\" handler={Gallery} />\n    <Route name=\"map\" path=\"/map\" handler={Map} />\n    <Route name=\"galleries\" path=\"/galleries\" handler={Map} />\n    <Route name=\"more\" path=\"/more\" handler={More} />\n    <Route name=\"exhibition\" path=\"/exhibitions/:id\" handler={Exhibition} />\n    <Route name=\"exhibitionSlug\" path=\"exhibitions/:id/:slug\" handler={Exhibition} />\n    <Route name=\"recent\" path=\"/new\" handler={RecentAccessions} />\n    <Route name=\"surveys\" path=\"surveys/:surveyId\" handler={Survey} />\n    <Route name=\"survey\" path=\"survey\" handler={Survey} />\n    <NotFoundRoute handler={NotFound} />\n  </Route>\n);\n\nmodule.exports = routes\n"
      ]
    },
    "mtime": 1612393616748
  },
  "{\"filename\":\"/var/www/art/src/app.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/app.js",
      "filenameRelative": "/var/www/art/src/app.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "app.js",
      "sourceFileName": "app.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "app"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\n\nvar _require = require('react-router'),\n    RouteHandler = _require.RouteHandler,\n    Link = _require.Link;\n\nvar Helmet = require('react-helmet');\nvar debounce = require('debounce');\n\nvar _require2 = require('ramda'),\n    pathSatisfies = _require2.pathSatisfies;\n\nvar cx = require('classnames');\n\nvar LiveSearch = require('./live-search');\nvar GlobalNavigation = require('./navigation');\nvar consoleWelcomeMessage = require('./console-welcome-message');\nvar Survey = require('./survey');\n\nvar surveyStyle = {\n  opacity: 0,\n  zIndex: -1,\n  position: 'fixed',\n  bottom: '1em',\n  right: '1em',\n  width: 444,\n  maxWidth: '93%',\n  maxHeight: '257px',\n  height: '456px',\n  backgroundColor: 'white',\n  transition: 'max-height 0.15s ease-out, opacity 0.15s ease-out',\n  border: '1px solid black',\n  overflow: 'scroll'\n};\n\nvar isDev = process.env.NODE_ENV !== 'production';\n\nvar App = React.createClass({\n  displayName: 'App',\n  render: function render() {\n    var _this = this;\n\n    var logo = this.makeLogo();\n    var canonicalURL = \"https://collections.artsmia.org\" + this.props.path;\n    var classes = cx({\n      universal: this.props.universal,\n      isDev: isDev,\n      smallViewport: this.isSmallViewport()\n    });\n    var showMenuOrSearch = this.state.showMenu || this.state.showSearch;\n\n    return React.createElement(\n      'div',\n      { className: classes },\n      React.createElement(\n        'style',\n        { type: 'text/css' },\n        '\\n          *:focus {\\n            outline: 1px dotted #212121;\\n            outline: -webkit-focus-ring-color auto 5px;\\n          }\\n        '\n      ),\n      this.state.hideHeader || React.createElement(\n        'header',\n        { style: { zIndex: showMenuOrSearch ? 444 : 1 }, className: cx({ open: showMenuOrSearch }) },\n        logo,\n        this.globalToolBar()\n      ),\n      React.createElement(Helmet, {\n        title: 'Collection | Minneapolis Institute of Art',\n        titleTemplate: '%s | Mia',\n        link: [{ \"rel\": \"canonical\", \"href\": canonicalURL }],\n        meta: [{ property: \"robots\", content: this.noIndex() ? 'follow,noindex' : 'all' }, { property: \"og:url\", content: canonicalURL }]\n      }),\n      React.createElement(RouteHandler, _extends({}, this.props, {\n        activateSearch: this.state.activateSearch,\n        toggleAppHeader: this.toggleHeader\n      })),\n      this.state.disableSurveyPopup || React.createElement(\n        'div',\n        { style: _extends({}, surveyStyle, this.state.surveySize === 'big' ? { maxHeight: '456px' } : {}, this.state.showSurveyPopup ? { opacity: 1, zIndex: 99999999 } : {}),\n          role: 'dialog',\n          ariaLabelledby: 'Site visitor survey',\n          ariaModal: 'true'\n        },\n        React.createElement(Survey, {\n          params: { surveyId: '2019-survey' },\n          onOpen: function onOpen() {\n            return _this.setState({ showSurveyPopup: true });\n          },\n          onClose: function onClose() {\n            return _this.setState({ showSurveyPopup: false, disableSurveyPopup: true });\n          },\n          expand: function expand() {\n            return _this.setState({ surveySize: 'big' });\n          },\n          contract: function contract() {\n            return _this.setState({ surveySize: 'small' });\n          }\n        })\n      )\n    );\n  },\n  componentDidMount: function componentDidMount() {\n    this.debouncedResize = debounce(this.handleResize, 500), window.addEventListener('resize', this.debouncedResize);\n    consoleWelcomeMessage();\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedResize);\n    this.debouncedResize = undefined;\n  },\n\n  handleResize: function handleResize(e) {\n    if (!this.isMounted()) return;\n    this.setState({ smallViewport: this.isSmallViewport() });\n  },\n\n  isSmallViewport: function isSmallViewport() {\n    var userAgent = this.props.userAgent;\n\n    return userAgent && userAgent.match(/iphone|android/i) || window && window.innerWidth <= 600;\n  },\n  toggleHeader: function toggleHeader() {\n    this.setState({ hideHeader: !this.state.hideHeader });\n  },\n  getChildContext: function getChildContext() {\n    return {\n      universal: this.props.universal,\n      smallViewport: this.state.smallViewport,\n      clientIp: this.props.clientIp\n    };\n  },\n  globalToolBar: function globalToolBar() {\n    var searchButton = React.createElement(\n      'button',\n      { className: 'material-icons search', onClick: this.toggleSearch },\n      this.state.showSearch ? 'close' : 'search'\n    );\n    var searchTrigger = this.props.universal ? React.createElement(\n      Link,\n      { to: 'home' },\n      searchButton\n    ) : searchButton;\n    var menuButton = React.createElement(\n      'button',\n      { className: 'material-icons menu', onClick: this.toggleMenu },\n      this.state.showMenu ? 'close' : 'menu'\n    );\n    var menuTrigger = menuButton;\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'div',\n        { className: 'global_buttons' },\n        menuTrigger,\n        searchTrigger\n      ),\n      React.createElement(\n        'div',\n        { className: 'global_display' },\n        this.state.showMenu && React.createElement(GlobalNavigation, { closeNav: this.toggleMenu }),\n        this.state.showSearch && React.createElement(LiveSearch, { afterSearch: this.toggleSearch })\n      )\n    );\n  },\n  toggleSearch: function toggleSearch(event, args) {\n    var _ref = event || {},\n        forceClose = _ref.forceClose;\n\n    var data = this.props.data;\n\n    this.setState(data && data.searchResults && !forceClose ? { activateSearch: event.timeStamp } : { showSearch: forceClose ? false : !this.state.showSearch });\n    this.setState({ showMenu: false });\n  },\n  toggleMenu: function toggleMenu(event) {\n    this.setState({\n      showMenu: !this.state.showMenu,\n      showSearch: false\n    });\n\n    event && event.preventDefault();\n  },\n  getInitialState: function getInitialState() {\n    var hasMoreInQueryParams = pathSatisfies(function (search) {\n      return search && search.indexOf('more=') > 0;\n    });\n    window.enteredViaMore = hasMoreInQueryParams(['window', 'location', 'search'], window);\n\n    var disableSurveyPopup = true;\n    var showSurveyPopup = false; // don't show until survey fetches data and knows if this user has already completed or rejected the survey\n\n    return {\n      showSearch: false,\n      smallViewport: this.isSmallViewport(),\n      enteredViaMore: window.enteredViaMore,\n      showSurveyPopup: showSurveyPopup,\n      disableSurveyPopup: disableSurveyPopup\n    };\n  },\n\n\n  // wrap in a click handler when the navigation isn't visible, and open the nav\n  // once nav is open, a second click goes to artsmia.org\n  makeLogo: function makeLogo() {\n    var showMenu = this.state.showMenu;\n\n    var logo = React.createElement('div', { className: 'logo-container' });\n\n    if (this.props.universal) return React.createElement(\n      'a',\n      { href: '/' },\n      logo\n    );\n\n    return showMenu ? React.createElement(\n      'a',\n      { href: 'https://new.artsmia.org', title: 'Back to artsmia.org' },\n      logo\n    ) : React.createElement(\n      'a',\n      { href: '/', onClick: this.toggleMenu },\n      logo\n    );\n  },\n  noIndex: function noIndex() {\n    return process.env.NODE_ENV !== 'production';\n  }\n});\nApp.childContextTypes = {\n  universal: React.PropTypes.bool,\n  smallViewport: React.PropTypes.bool,\n  clientIp: React.PropTypes.string\n};\n\nmodule.exports = App;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJSb3V0ZUhhbmRsZXIiLCJMaW5rIiwiSGVsbWV0IiwiZGVib3VuY2UiLCJwYXRoU2F0aXNmaWVzIiwiY3giLCJMaXZlU2VhcmNoIiwiR2xvYmFsTmF2aWdhdGlvbiIsImNvbnNvbGVXZWxjb21lTWVzc2FnZSIsIlN1cnZleSIsInN1cnZleVN0eWxlIiwib3BhY2l0eSIsInpJbmRleCIsInBvc2l0aW9uIiwiYm90dG9tIiwicmlnaHQiLCJ3aWR0aCIsIm1heFdpZHRoIiwibWF4SGVpZ2h0IiwiaGVpZ2h0IiwiYmFja2dyb3VuZENvbG9yIiwidHJhbnNpdGlvbiIsImJvcmRlciIsIm92ZXJmbG93IiwiaXNEZXYiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJBcHAiLCJjcmVhdGVDbGFzcyIsInJlbmRlciIsImxvZ28iLCJtYWtlTG9nbyIsImNhbm9uaWNhbFVSTCIsInByb3BzIiwicGF0aCIsImNsYXNzZXMiLCJ1bml2ZXJzYWwiLCJzbWFsbFZpZXdwb3J0IiwiaXNTbWFsbFZpZXdwb3J0Iiwic2hvd01lbnVPclNlYXJjaCIsInN0YXRlIiwic2hvd01lbnUiLCJzaG93U2VhcmNoIiwiaGlkZUhlYWRlciIsIm9wZW4iLCJnbG9iYWxUb29sQmFyIiwicHJvcGVydHkiLCJjb250ZW50Iiwibm9JbmRleCIsImFjdGl2YXRlU2VhcmNoIiwidG9nZ2xlSGVhZGVyIiwiZGlzYWJsZVN1cnZleVBvcHVwIiwic3VydmV5U2l6ZSIsInNob3dTdXJ2ZXlQb3B1cCIsInN1cnZleUlkIiwic2V0U3RhdGUiLCJjb21wb25lbnREaWRNb3VudCIsImRlYm91bmNlZFJlc2l6ZSIsImhhbmRsZVJlc2l6ZSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1bmRlZmluZWQiLCJlIiwiaXNNb3VudGVkIiwidXNlckFnZW50IiwibWF0Y2giLCJpbm5lcldpZHRoIiwiZ2V0Q2hpbGRDb250ZXh0IiwiY2xpZW50SXAiLCJzZWFyY2hCdXR0b24iLCJ0b2dnbGVTZWFyY2giLCJzZWFyY2hUcmlnZ2VyIiwibWVudUJ1dHRvbiIsInRvZ2dsZU1lbnUiLCJtZW51VHJpZ2dlciIsImV2ZW50IiwiYXJncyIsImZvcmNlQ2xvc2UiLCJkYXRhIiwic2VhcmNoUmVzdWx0cyIsInRpbWVTdGFtcCIsInByZXZlbnREZWZhdWx0IiwiZ2V0SW5pdGlhbFN0YXRlIiwiaGFzTW9yZUluUXVlcnlQYXJhbXMiLCJzZWFyY2giLCJpbmRleE9mIiwiZW50ZXJlZFZpYU1vcmUiLCJjaGlsZENvbnRleHRUeXBlcyIsIlByb3BUeXBlcyIsImJvb2wiLCJzdHJpbmciLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7O2VBQzJCQSxRQUFRLGNBQVIsQztJQUF0QkMsWSxZQUFBQSxZO0lBQWNDLEksWUFBQUEsSTs7QUFDbkIsSUFBSUMsU0FBU0gsUUFBUSxjQUFSLENBQWI7QUFDQSxJQUFJSSxXQUFXSixRQUFRLFVBQVIsQ0FBZjs7Z0JBQ3NCQSxRQUFRLE9BQVIsQztJQUFqQkssYSxhQUFBQSxhOztBQUNMLElBQUlDLEtBQUtOLFFBQVEsWUFBUixDQUFUOztBQUVBLElBQUlPLGFBQWFQLFFBQVEsZUFBUixDQUFqQjtBQUNBLElBQUlRLG1CQUFtQlIsUUFBUSxjQUFSLENBQXZCO0FBQ0EsSUFBSVMsd0JBQXdCVCxRQUFRLDJCQUFSLENBQTVCO0FBQ0EsSUFBSVUsU0FBU1YsUUFBUSxVQUFSLENBQWI7O0FBRUEsSUFBSVcsY0FBYztBQUNoQkMsV0FBUyxDQURPO0FBRWhCQyxVQUFRLENBQUMsQ0FGTztBQUdoQkMsWUFBVSxPQUhNO0FBSWhCQyxVQUFRLEtBSlE7QUFLaEJDLFNBQU8sS0FMUztBQU1oQkMsU0FBTyxHQU5TO0FBT2hCQyxZQUFVLEtBUE07QUFRaEJDLGFBQVcsT0FSSztBQVNoQkMs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L0QsS0FESyxHQUVMO0FBQUE7QUFBQSxRQUFHLE1BQUssR0FBUixFQUFZLFNBQVMsS0FBSzZDLFVBQTFCO0FBQXVDN0M7QUFBdkMsS0FGRjtBQUdELEdBL0p5QjtBQWlLMUJrQixTQWpLMEIscUJBaUtoQjtBQUNSLFdBQU94QixRQUFRQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBaEM7QUFDRDtBQW5LeUIsQ0FBbEIsQ0FBVjtBQXFLQUMsSUFBSThELGlCQUFKLEdBQXdCO0FBQ3RCckQsYUFBV3ZDLE1BQU02RixTQUFOLENBQWdCQyxJQURMO0FBRXRCdEQsaUJBQWV4QyxNQUFNNkYsU0FBTixDQUFnQkMsSUFGVDtBQUd0QnJCLFlBQVV6RSxNQUFNNkYsU0FBTixDQUFnQkU7QUFISixDQUF4Qjs7QUFNQUMsT0FBT0MsT0FBUCxHQUFpQm5FLEdBQWpCIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZVJvb3QiOiIvdmFyL3d3dy9hcnQvc3JjIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIHtSb3V0ZUhhbmRsZXIsIExpbmt9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxudmFyIGRlYm91bmNlID0gcmVxdWlyZSgnZGVib3VuY2UnKVxudmFyIHtwYXRoU2F0aXNmaWVzfSA9IHJlcXVpcmUoJ3JhbWRhJylcbnZhciBjeCA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKVxuXG52YXIgTGl2ZVNlYXJjaCA9IHJlcXVpcmUoJy4vbGl2ZS1zZWFyY2gnKVxudmFyIEdsb2JhbE5hdmlnYXRpb24gPSByZXF1aXJlKCcuL25hdmlnYXRpb24nKVxudmFyIGNvbnNvbGVXZWxjb21lTWVzc2FnZSA9IHJlcXVpcmUoJy4vY29uc29sZS13ZWxjb21lLW1lc3NhZ2UnKVxudmFyIFN1cnZleSA9IHJlcXVpcmUoJy4vc3VydmV5JylcblxudmFyIHN1cnZleVN0eWxlID0ge1xuICBvcGFjaXR5OiAwLFxuICB6SW5kZXg6IC0xLFxuICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgYm90dG9tOiAnMWVtJyxcbiAgcmlnaHQ6ICcxZW0nLFxuICB3aWR0aDogNDQ0LFxuICBtYXhXaWR0aDogJzkzJScsXG4gIG1heEhlaWdodDogJzI1N3B4JyxcbiAgaGVpZ2h0OiAnNDU2cHgnLFxuICBiYWNrZ3JvdW5kQ29sb3I6ICd3aGl0ZScsXG4gIHRyYW5zaXRpb246ICdtYXgtaGVpZ2h0IDAuMTVzIGVhc2Utb3V0LCBvcGFjaXR5IDAuMTVzIGVhc2Utb3V0JyxcbiAgYm9yZGVyOiAnMXB4IHNvbGlkIGJsYWNrJyxcbiAgb3ZlcmZsb3c6ICdzY3JvbGwnLFxufVxuXG5jb25zdCBpc0RldiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbidcblxudmFyIEFwcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciBsb2dvID0gdGhpcy5tYWtlTG9nbygpXG4gICAgdmFyIGNhbm9uaWNhbFVSTCA9IFwiaHR0cHM6Ly9jb2xsZWN0aW9ucy5hcnRzbWlhLm9yZ1wiK3RoaXMucHJvcHMucGF0aFxuICAgIHZhciBjbGFzc2VzID0gY3goe1xuICAgICAgdW5pdmVyc2FsOiB0aGlzLnByb3BzLnVuaXZlcnNhbCxcbiAgICAgIGlzRGV2LFxuICAgICAgc21hbGxWaWV3cG9ydDogdGhpcy5pc1NtYWxsVmlld3BvcnQoKSxcbiAgICB9KVxuICAgIHZhciBzaG93TWVudU9yU2VhcmNoID0gdGhpcy5zdGF0ZS5zaG93TWVudSB8fCB0aGlzLnN0YXRlLnNob3dTZWFyY2hcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlc30+XG4gICAgICAgIDxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj57YFxuICAgICAgICAgICo6Zm9jdXMge1xuICAgICAgICAgICAgb3V0bGluZTogMXB4IGRvdHRlZCAjMjEyMTIxO1xuICAgICAgICAgICAgb3V0bGluZTogLXdlYmtpdC1mb2N1cy1yaW5nLWNvbG9yIGF1dG8gNXB4O1xuICAgICAgICAgIH1cbiAgICAgICAgYH08L3N0eWxlPlxuICAgICAgICB7dGhpcy5zdGF0ZS5oaWRlSGVhZGVyIHx8IDxoZWFkZXIgc3R5bGU9e3t6SW5kZXg6IHNob3dNZW51T3JTZWFyY2ggPyA0NDQgOiAxfX0gY2xhc3NOYW1lPXtjeCh7b3Blbjogc2hvd01lbnVPclNlYXJjaH0pfT5cbiAgICAgICAgICB7bG9nb31cbiAgICAgICAgICB7dGhpcy5nbG9iYWxUb29sQmFyKCl9XG4gICAgICAgIDwvaGVhZGVyPn1cbiAgICAgICAgPEhlbG1ldFxuICAgICAgICAgIHRpdGxlPVwiQ29sbGVjdGlvbiB8IE1pbm5lYXBvbGlzIEluc3RpdHV0ZSBvZiBBcnRcIlxuICAgICAgICAgIHRpdGxlVGVtcGxhdGU9XCIlcyB8IE1pYVwiXG4gICAgICAgICAgbGluaz17W1xuICAgICAgICAgICAge1wicmVsXCI6IFwiY2Fub25pY2FsXCIsIFwiaHJlZlwiOiBjYW5vbmljYWxVUkx9LFxuICAgICAgICAgIF19XG4gICAgICAgICAgbWV0YT17W1xuICAgICAgICAgICAge3Byb3BlcnR5OiBcInJvYm90c1wiLCBjb250ZW50OiB0aGlzLm5vSW5kZXgoKSA/ICdmb2xsb3csbm9pbmRleCcgOiAnYWxsJ30sXG4gICAgICAgICAgICB7cHJvcGVydHk6IFwib2c6dXJsXCIsIGNvbnRlbnQ6IGNhbm9uaWNhbFVSTH0sXG4gICAgICAgICAgXX1cbiAgICAgICAgICAvPlxuICAgICAgICA8Um91dGVIYW5kbGVyXG4gICAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgICAgYWN0aXZhdGVTZWFyY2g9e3RoaXMuc3RhdGUuYWN0aXZhdGVTZWFyY2h9XG4gICAgICAgICAgdG9nZ2xlQXBwSGVhZGVyPXt0aGlzLnRvZ2dsZUhlYWRlcn1cbiAgICAgICAgICAvPlxuXG4gICAgICAgIHt0aGlzLnN0YXRlLmRpc2FibGVTdXJ2ZXlQb3B1cCB8fCA8ZGl2IHN0eWxlPXt7XG4gICAgICAgICAgICAgIC4uLnN1cnZleVN0eWxlLFxuICAgICAgICAgICAgICAuLi4odGhpcy5zdGF0ZS5zdXJ2ZXlTaXplID09PSAnYmlnJyA/IHttYXhIZWlnaHQ6ICc0NTZweCd9IDoge30pLFxuICAgICAgICAgICAgICAuLi4odGhpcy5zdGF0ZS5zaG93U3VydmV5UG9wdXAgPyB7b3BhY2l0eTogMSwgekluZGV4OiA5OTk5OTk5OX0gOiB7fSksXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgcm9sZT1cImRpYWxvZ1wiXG4gICAgICAgICAgICBhcmlhTGFiZWxsZWRieT1cIlNpdGUgdmlzaXRvciBzdXJ2ZXlcIlxuICAgICAgICAgICAgYXJpYU1vZGFsPVwidHJ1ZVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFN1cnZleVxuICAgICAgICAgICAgICBwYXJhbXM9e3tzdXJ2ZXlJZDogJzIwMTktc3VydmV5J319XG4gICAgICAgICAgICAgIG9uT3Blbj17KCkgPT4gdGhpcy5zZXRTdGF0ZSh7c2hvd1N1cnZleVBvcHVwOiB0cnVlfSl9XG4gICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHRoaXMuc2V0U3RhdGUoe3Nob3dTdXJ2ZXlQb3B1cDogZmFsc2UsIGRpc2FibGVTdXJ2ZXlQb3B1cDogdHJ1ZX0pfVxuICAgICAgICAgICAgICBleHBhbmQ9eygpID0+IHRoaXMuc2V0U3RhdGUoe3N1cnZleVNpemU6ICdiaWcnfSkgfVxuICAgICAgICAgICAgICBjb250cmFjdD17KCkgPT4gdGhpcy5zZXRTdGF0ZSh7c3VydmV5U2l6ZTogJ3NtYWxsJ30pfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+fVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuZGVib3VuY2VkUmVzaXplID0gZGVib3VuY2UodGhpcy5oYW5kbGVSZXNpemUsIDUwMCksXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuZGVib3VuY2VkUmVzaXplKVxuICAgIGNvbnNvbGVXZWxjb21lTWVzc2FnZSgpXG4gIH0sXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmRlYm91bmNlZFJlc2l6ZSlcbiAgICB0aGlzLmRlYm91bmNlZFJlc2l6ZSA9IHVuZGVmaW5lZFxuICB9LFxuICBoYW5kbGVSZXNpemU6IGZ1bmN0aW9uKGUpIHtcbiAgICBpZighdGhpcy5pc01vdW50ZWQoKSkgcmV0dXJuXG4gICAgdGhpcy5zZXRTdGF0ZSh7c21hbGxWaWV3cG9ydDogdGhpcy5pc1NtYWxsVmlld3BvcnQoKX0pXG4gIH0sXG5cbiAgaXNTbWFsbFZpZXdwb3J0KCkge1xuICAgIHZhciB7dXNlckFnZW50fSA9IHRoaXMucHJvcHNcbiAgICByZXR1cm4gdXNlckFnZW50ICYmIHVzZXJBZ2VudC5tYXRjaCgvaXBob25lfGFuZHJvaWQvaSkgfHwgd2luZG93ICYmIHdpbmRvdy5pbm5lcldpZHRoIDw9IDYwMFxuICB9LFxuXG4gIHRvZ2dsZUhlYWRlcigpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtoaWRlSGVhZGVyOiAhdGhpcy5zdGF0ZS5oaWRlSGVhZGVyfSlcbiAgfSxcblxuICBnZXRDaGlsZENvbnRleHQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVuaXZlcnNhbDogdGhpcy5wcm9wcy51bml2ZXJzYWwsXG4gICAgICBzbWFsbFZpZXdwb3J0OiB0aGlzLnN0YXRlLnNtYWxsVmlld3BvcnQsXG4gICAgICBjbGllbnRJcDogdGhpcy5wcm9wcy5jbGllbnRJcCxcbiAgICB9XG4gIH0sXG5cbiAgZ2xvYmFsVG9vbEJhcigpIHtcbiAgICB2YXIgc2VhcmNoQnV0dG9uID0gPGJ1dHRvbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29ucyBzZWFyY2hcIiBvbkNsaWNrPXt0aGlzLnRvZ2dsZVNlYXJjaH0+XG4gICAgICB7dGhpcy5zdGF0ZS5zaG93U2VhcmNoID8gJ2Nsb3NlJyA6ICdzZWFyY2gnfVxuICAgIDwvYnV0dG9uPlxuICAgIHZhciBzZWFyY2hUcmlnZ2VyID0gdGhpcy5wcm9wcy51bml2ZXJzYWwgPyA8TGluayB0bz1cImhvbWVcIj57c2VhcmNoQnV0dG9ufTwvTGluaz4gOiBzZWFyY2hCdXR0b25cbiAgICB2YXIgbWVudUJ1dHRvbiA9IDxidXR0b24gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbnMgbWVudVwiIG9uQ2xpY2s9e3RoaXMudG9nZ2xlTWVudX0+XG4gICAgICB7dGhpcy5zdGF0ZS5zaG93TWVudSA/ICdjbG9zZScgOiAnbWVudSd9XG4gICAgPC9idXR0b24+XG4gICAgdmFyIG1lbnVUcmlnZ2VyID0gbWVudUJ1dHRvblxuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbG9iYWxfYnV0dG9uc1wiPlxuICAgICAgICB7bWVudVRyaWdnZXJ9XG4gICAgICAgIHtzZWFyY2hUcmlnZ2VyfVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdsb2JhbF9kaXNwbGF5XCI+XG4gICAgICB7dGhpcy5zdGF0ZS5zaG93TWVudSAmJiA8R2xvYmFsTmF2aWdhdGlvbiBjbG9zZU5hdj17dGhpcy50b2dnbGVNZW51fSAvPn1cbiAgICAgIHt0aGlzLnN0YXRlLnNob3dTZWFyY2ggJiYgPExpdmVTZWFyY2ggYWZ0ZXJTZWFyY2g9e3RoaXMudG9nZ2xlU2VhcmNofSAvPn1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICB9LFxuXG4gIHRvZ2dsZVNlYXJjaChldmVudCwgYXJncykge1xuICAgIHZhciB7Zm9yY2VDbG9zZX0gPSBldmVudCB8fCB7fVxuICAgIHZhciB7ZGF0YX0gPSB0aGlzLnByb3BzXG4gICAgdGhpcy5zZXRTdGF0ZShcbiAgICAgIGRhdGEgJiYgZGF0YS5zZWFyY2hSZXN1bHRzICYmICFmb3JjZUNsb3NlID9cbiAgICAgICAge2FjdGl2YXRlU2VhcmNoOiBldmVudC50aW1lU3RhbXB9IDpcbiAgICAgICAge3Nob3dTZWFyY2g6IGZvcmNlQ2xvc2UgPyBmYWxzZSA6ICF0aGlzLnN0YXRlLnNob3dTZWFyY2h9XG4gICAgICApXG4gICAgICB0aGlzLnNldFN0YXRlKHtzaG93TWVudTogZmFsc2V9KVxuICB9LFxuICB0b2dnbGVNZW51KGV2ZW50KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzaG93TWVudTogIXRoaXMuc3RhdGUuc2hvd01lbnUsXG4gICAgICBzaG93U2VhcmNoOiBmYWxzZVxuICAgIH0pXG5cbiAgICBldmVudCAmJiBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHZhciBoYXNNb3JlSW5RdWVyeVBhcmFtcyA9IHBhdGhTYXRpc2ZpZXMoc2VhcmNoID0+IHNlYXJjaCAmJiBzZWFyY2guaW5kZXhPZignbW9yZT0nKSA+IDApXG4gICAgd2luZG93LmVudGVyZWRWaWFNb3JlID0gaGFzTW9yZUluUXVlcnlQYXJhbXMoWyd3aW5kb3cnLCAnbG9jYXRpb24nLCAnc2VhcmNoJ10sIHdpbmRvdylcblxuICAgIGNvbnN0IGRpc2FibGVTdXJ2ZXlQb3B1cCA9IHRydWVcbiAgICBjb25zdCBzaG93U3VydmV5UG9wdXAgPSBmYWxzZSAvLyBkb24ndCBzaG93IHVudGlsIHN1cnZleSBmZXRjaGVzIGRhdGEgYW5kIGtub3dzIGlmIHRoaXMgdXNlciBoYXMgYWxyZWFkeSBjb21wbGV0ZWQgb3IgcmVqZWN0ZWQgdGhlIHN1cnZleVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHNob3dTZWFyY2g6IGZhbHNlLFxuICAgICAgc21hbGxWaWV3cG9ydDogdGhpcy5pc1NtYWxsVmlld3BvcnQoKSxcbiAgICAgIGVudGVyZWRWaWFNb3JlOiB3aW5kb3cuZW50ZXJlZFZpYU1vcmUsXG4gICAgICBzaG93U3VydmV5UG9wdXAsXG4gICAgICBkaXNhYmxlU3VydmV5UG9wdXAsXG4gICAgfVxuICB9LFxuXG4gIC8vIHdyYXAgaW4gYSBjbGljayBoYW5kbGVyIHdoZW4gdGhlIG5hdmlnYXRpb24gaXNuJ3QgdmlzaWJsZSwgYW5kIG9wZW4gdGhlIG5hdlxuICAvLyBvbmNlIG5hdiBpcyBvcGVuLCBhIHNlY29uZCBjbGljayBnb2VzIHRvIGFydHNtaWEub3JnXG4gIG1ha2VMb2dvKCkge1xuICAgIHZhciB7c2hvd01lbnV9ID0gdGhpcy5zdGF0ZVxuICAgIHZhciBsb2dvID0gPGRpdiBjbGFzc05hbWU9J2xvZ28tY29udGFpbmVyJz48L2Rpdj5cblxuICAgIGlmKHRoaXMucHJvcHMudW5pdmVyc2FsKSByZXR1cm4gPGEgaHJlZj1cIi9cIj57bG9nb308L2E+XG5cbiAgICByZXR1cm4gc2hvd01lbnUgP1xuICAgICAgPGEgaHJlZj1cImh0dHBzOi8vbmV3LmFydHNtaWEub3JnXCIgdGl0bGU9XCJCYWNrIHRvIGFydHNtaWEub3JnXCI+e2xvZ299PC9hPiA6XG4gICAgICA8YSBocmVmPVwiL1wiIG9uQ2xpY2s9e3RoaXMudG9nZ2xlTWVudX0+e2xvZ299PC9hPlxuICB9LFxuXG4gIG5vSW5kZXgoKSB7XG4gICAgcmV0dXJuIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbidcbiAgfSxcbn0pXG5BcHAuY2hpbGRDb250ZXh0VHlwZXMgPSB7XG4gIHVuaXZlcnNhbDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIHNtYWxsVmlld3BvcnQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuICBjbGllbnRJcDogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBcHBcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "React",
        "require",
        "RouteHandler",
        "Link",
        "Helmet",
        "debounce",
        "pathSatisfies",
        "cx",
        "LiveSearch",
        "GlobalNavigation",
        "consoleWelcomeMessage",
        "Survey",
        "surveyStyle",
        "opacity",
        "zIndex",
        "position",
        "bottom",
        "right",
        "width",
        "maxWidth",
        "maxHeight",
        "height",
        "backgroundColor",
        "transition",
        "border",
        "overflow",
        "isDev",
        "process",
        "env",
        "NODE_ENV",
        "App",
        "createClass",
        "render",
        "logo",
        "makeLogo",
        "canonicalURL",
        "props",
        "path",
        "classes",
        "universal",
        "smallViewport",
        "isSmallViewport",
        "showMenuOrSearch",
        "state",
        "showMenu",
        "showSearch",
        "hideHeader",
        "open",
        "globalToolBar",
        "property",
        "content",
        "noIndex",
        "activateSearch",
        "toggleHeader",
        "disableSurveyPopup",
        "surveySize",
        "showSurveyPopup",
        "surveyId",
        "setState",
        "componentDidMount",
        "debouncedResize",
        "handleResize",
        "window",
        "addEventListener",
        "componentWillUnmount",
        "removeEventListener",
        "undefined",
        "e",
        "isMounted",
        "userAgent",
        "match",
        "innerWidth",
        "getChildContext",
        "clientIp",
        "searchButton",
        "toggleSearch",
        "searchTrigger",
        "menuButton",
        "toggleMenu",
        "menuTrigger",
        "event",
        "args",
        "forceClose",
        "data",
        "searchResults",
        "timeStamp",
        "preventDefault",
        "getInitialState",
        "hasMoreInQueryParams",
        "search",
        "indexOf",
        "enteredViaMore",
        "childContextTypes",
        "PropTypes",
        "bool",
        "string",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "app.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar {RouteHandler, Link} = require('react-router')\nvar Helmet = require('react-helmet')\nvar debounce = require('debounce')\nvar {pathSatisfies} = require('ramda')\nvar cx = require('classnames')\n\nvar LiveSearch = require('./live-search')\nvar GlobalNavigation = require('./navigation')\nvar consoleWelcomeMessage = require('./console-welcome-message')\nvar Survey = require('./survey')\n\nvar surveyStyle = {\n  opacity: 0,\n  zIndex: -1,\n  position: 'fixed',\n  bottom: '1em',\n  right: '1em',\n  width: 444,\n  maxWidth: '93%',\n  maxHeight: '257px',\n  height: '456px',\n  backgroundColor: 'white',\n  transition: 'max-height 0.15s ease-out, opacity 0.15s ease-out',\n  border: '1px solid black',\n  overflow: 'scroll',\n}\n\nconst isDev = process.env.NODE_ENV !== 'production'\n\nvar App = React.createClass({\n  render() {\n    var logo = this.makeLogo()\n    var canonicalURL = \"https://collections.artsmia.org\"+this.props.path\n    var classes = cx({\n      universal: this.props.universal,\n      isDev,\n      smallViewport: this.isSmallViewport(),\n    })\n    var showMenuOrSearch = this.state.showMenu || this.state.showSearch\n\n    return (\n      <div className={classes}>\n        <style type=\"text/css\">{`\n          *:focus {\n            outline: 1px dotted #212121;\n            outline: -webkit-focus-ring-color auto 5px;\n          }\n        `}</style>\n        {this.state.hideHeader || <header style={{zIndex: showMenuOrSearch ? 444 : 1}} className={cx({open: showMenuOrSearch})}>\n          {logo}\n          {this.globalToolBar()}\n        </header>}\n        <Helmet\n          title=\"Collection | Minneapolis Institute of Art\"\n          titleTemplate=\"%s | Mia\"\n          link={[\n            {\"rel\": \"canonical\", \"href\": canonicalURL},\n          ]}\n          meta={[\n            {property: \"robots\", content: this.noIndex() ? 'follow,noindex' : 'all'},\n            {property: \"og:url\", content: canonicalURL},\n          ]}\n          />\n        <RouteHandler\n          {...this.props}\n          activateSearch={this.state.activateSearch}\n          toggleAppHeader={this.toggleHeader}\n          />\n\n        {this.state.disableSurveyPopup || <div style={{\n              ...surveyStyle,\n              ...(this.state.surveySize === 'big' ? {maxHeight: '456px'} : {}),\n              ...(this.state.showSurveyPopup ? {opacity: 1, zIndex: 99999999} : {}),\n            }}\n            role=\"dialog\"\n            ariaLabelledby=\"Site visitor survey\"\n            ariaModal=\"true\"\n          >\n            <Survey\n              params={{surveyId: '2019-survey'}}\n              onOpen={() => this.setState({showSurveyPopup: true})}\n              onClose={() => this.setState({showSurveyPopup: false, disableSurveyPopup: true})}\n              expand={() => this.setState({surveySize: 'big'}) }\n              contract={() => this.setState({surveySize: 'small'})}\n            />\n        </div>}\n      </div>\n    )\n  },\n\n  componentDidMount() {\n    this.debouncedResize = debounce(this.handleResize, 500),\n    window.addEventListener('resize', this.debouncedResize)\n    consoleWelcomeMessage()\n  },\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedResize)\n    this.debouncedResize = undefined\n  },\n  handleResize: function(e) {\n    if(!this.isMounted()) return\n    this.setState({smallViewport: this.isSmallViewport()})\n  },\n\n  isSmallViewport() {\n    var {userAgent} = this.props\n    return userAgent && userAgent.match(/iphone|android/i) || window && window.innerWidth <= 600\n  },\n\n  toggleHeader() {\n    this.setState({hideHeader: !this.state.hideHeader})\n  },\n\n  getChildContext() {\n    return {\n      universal: this.props.universal,\n      smallViewport: this.state.smallViewport,\n      clientIp: this.props.clientIp,\n    }\n  },\n\n  globalToolBar() {\n    var searchButton = <button className=\"material-icons search\" onClick={this.toggleSearch}>\n      {this.state.showSearch ? 'close' : 'search'}\n    </button>\n    var searchTrigger = this.props.universal ? <Link to=\"home\">{searchButton}</Link> : searchButton\n    var menuButton = <button className=\"material-icons menu\" onClick={this.toggleMenu}>\n      {this.state.showMenu ? 'close' : 'menu'}\n    </button>\n    var menuTrigger = menuButton\n    return <div>\n      <div className=\"global_buttons\">\n        {menuTrigger}\n        {searchTrigger}\n      </div>\n      <div className=\"global_display\">\n      {this.state.showMenu && <GlobalNavigation closeNav={this.toggleMenu} />}\n      {this.state.showSearch && <LiveSearch afterSearch={this.toggleSearch} />}\n      </div>\n    </div>\n  },\n\n  toggleSearch(event, args) {\n    var {forceClose} = event || {}\n    var {data} = this.props\n    this.setState(\n      data && data.searchResults && !forceClose ?\n        {activateSearch: event.timeStamp} :\n        {showSearch: forceClose ? false : !this.state.showSearch}\n      )\n      this.setState({showMenu: false})\n  },\n  toggleMenu(event) {\n    this.setState({\n      showMenu: !this.state.showMenu,\n      showSearch: false\n    })\n\n    event && event.preventDefault()\n  },\n\n  getInitialState() {\n    var hasMoreInQueryParams = pathSatisfies(search => search && search.indexOf('more=') > 0)\n    window.enteredViaMore = hasMoreInQueryParams(['window', 'location', 'search'], window)\n\n    const disableSurveyPopup = true\n    const showSurveyPopup = false // don't show until survey fetches data and knows if this user has already completed or rejected the survey\n\n    return {\n      showSearch: false,\n      smallViewport: this.isSmallViewport(),\n      enteredViaMore: window.enteredViaMore,\n      showSurveyPopup,\n      disableSurveyPopup,\n    }\n  },\n\n  // wrap in a click handler when the navigation isn't visible, and open the nav\n  // once nav is open, a second click goes to artsmia.org\n  makeLogo() {\n    var {showMenu} = this.state\n    var logo = <div className='logo-container'></div>\n\n    if(this.props.universal) return <a href=\"/\">{logo}</a>\n\n    return showMenu ?\n      <a href=\"https://new.artsmia.org\" title=\"Back to artsmia.org\">{logo}</a> :\n      <a href=\"/\" onClick={this.toggleMenu}>{logo}</a>\n  },\n\n  noIndex() {\n    return process.env.NODE_ENV !== 'production'\n  },\n})\nApp.childContextTypes = {\n  universal: React.PropTypes.bool,\n  smallViewport: React.PropTypes.bool,\n  clientIp: React.PropTypes.string,\n}\n\nmodule.exports = App\n"
      ]
    },
    "mtime": 1612393616748
  },
  "{\"filename\":\"/var/www/art/src/live-search.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/live-search.js",
      "filenameRelative": "/var/www/art/src/live-search.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "live-search.js",
      "sourceFileName": "live-search.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "live-search"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\n\nvar Search = require('./search');\nvar SearchResults = require('./search-results');\n\nvar styles = {\n  searchBox: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    minHeight: '3em',\n    zIndex: '1',\n    backgroundColor: 'white',\n    borderBottom: '1em solid #222',\n    background: 'rgb(35,35,35)',\n    color: 'white',\n    paddingTop: '3.3em'\n  },\n\n  message: {\n    textAlign: 'center',\n    display: 'inline-block',\n    width: '100%',\n    paddingTop: '1em'\n  }\n};\n\nvar LiveSearch = React.createClass({\n  displayName: 'LiveSearch',\n  render: function render() {\n    return React.createElement(\n      'div',\n      { style: styles.searchBox },\n      React.createElement(\n        Search,\n        {\n          hideResults: true,\n          blank: this.state.blank,\n          activateInput: true,\n          onUpdate: this.updateQuilt,\n          onSearch: this.afterSearch,\n          terms: this.state.terms,\n          results: this.state.results,\n          link: ['searchResults', { terms: this.state.terms }],\n          delay: 1000,\n          suggestStyle: { margin: \"1em 3em\" }\n        },\n        React.createElement(\n          'span',\n          { style: styles.message },\n          this.getText()\n        )\n      )\n    );\n  },\n  updateQuilt: function updateQuilt(terms) {\n    var _this = this;\n\n    !!terms && SearchResults.fetchData.searchResults({ terms: terms }).then(function (results) {\n      return _this.setState({ results: results, blank: false, terms: terms });\n    });\n  },\n  afterSearch: function afterSearch(terms) {\n    this.props.afterSearch({ forceClose: true });\n  },\n  getInitialState: function getInitialState() {\n    return {\n      results: [],\n      blank: true\n    };\n  },\n  getText: function getText() {\n    var results = this.state.results;\n\n    return results.hits && '(' + Math.min(results.hits.total, 10) + ' of ' + results.hits.total + '\\n      results for \\'' + this.state.terms + '\\'.\\n      hit enter to see the rest)';\n  }\n});\n\nmodule.exports = LiveSearch;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpdmUtc2VhcmNoLmpzIl0sIm5hbWVzIjpbIlJlYWN0IiwicmVxdWlyZSIsIlNlYXJjaCIsIlNlYXJjaFJlc3VsdHMiLCJzdHlsZXMiLCJzZWFyY2hCb3giLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJyaWdodCIsIm1pbkhlaWdodCIsInpJbmRleCIsImJhY2tncm91bmRDb2xvciIsImJvcmRlckJvdHRvbSIsImJhY2tncm91bmQiLCJjb2xvciIsInBhZGRpbmdUb3AiLCJtZXNzYWdlIiwidGV4dEFsaWduIiwiZGlzcGxheSIsIndpZHRoIiwiTGl2ZVNlYXJjaCIsImNyZWF0ZUNsYXNzIiwicmVuZGVyIiwic3RhdGUiLCJibGFuayIsInVwZGF0ZVF1aWx0IiwiYWZ0ZXJTZWFyY2giLCJ0ZXJtcyIsInJlc3VsdHMiLCJtYXJnaW4iLCJnZXRUZXh0IiwiZmV0Y2hEYXRhIiwic2VhcmNoUmVzdWx0cyIsInRoZW4iLCJzZXRTdGF0ZSIsInByb3BzIiwiZm9yY2VDbG9zZSIsImdldEluaXRpYWxTdGF0ZSIsImhpdHMiLCJNYXRoIiwibWluIiwidG90YWwiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFFBQVFDLFFBQVEsT0FBUixDQUFaOztBQUVBLElBQUlDLFNBQVNELFFBQVEsVUFBUixDQUFiO0FBQ0EsSUFBSUUsZ0JBQWdCRixRQUFRLGtCQUFSLENBQXBCOztBQUVBLElBQUlHLFNBQVM7QUFDWEMsYUFBVztBQUNUQyxjQUFVLFVBREQ7QUFFVEMsU0FBSyxDQUZJO0FBR1RDLFVBQU0sQ0FIRztBQUlUQyxXQUFPLENBSkU7QUFLVEMsZUFBVyxLQUxGO0FBTVRDLFlBQVEsR0FOQztBQU9UQyxxQkFBaUIsT0FQUjtBQVFUQyxrQkFBYyxnQkFSTDtBQVNUQyxnQkFBWSxlQVRIO0FBVVRDLFdBQU8sT0FWRTtBQVdUQyxnQkFBVztBQVhGLEdBREE7O0FBZVhDLFdBQVM7QUFDUEMsZUFBVyxRQURKO0FBRVBDLGFBQVMsY0FGRjtBQUdQQyxXQUFPLE1BSEE7QUFJUEosZ0JBQVk7QUFKTDtBQWZFLENBQWI7O0FBdUJBLElBQUlLLGFBQWFyQixNQUFNc0IsV0FBTixDQUFrQjtBQUFBO0FBQ2pDQyxRQURpQyxvQkFDeEI7QUFDUCxXQUFPO0FBQUE7QUFBQSxRQUFLLE9BQU9uQixPQUFPQyxTQUFuQjtBQUNMO0FBQUMsY0FBRDtBQUFBO0FBQ0UsdUJBQWEsSUFEZjtBQUVFLGlCQUFPLEtBQUttQixLQUFMLENBQVdDLEtBRnBCO0FBR0UseUJBQWUsSUFIakI7QUFJRSxvQkFBVSxLQUFLQyxXQUpqQjtBQUtFLG9CQUFVLEtBQUtDLFdBTGpCO0FBTUUsaUJBQU8sS0FBS0gsS0FBTCxDQUFXSSxLQU5wQjtBQU9FLG1CQUFTLEtBQUtKLEtBQUwsQ0FBV0ssT0FQdEI7QUFRRSxnQkFBTSxDQUFDLGVBQUQsRUFBa0IsRUFBQ0QsT0FBTyxLQUFLSixLQUFMLENBQVdJLEtBQW5CLEVBQWxCLENBUlI7QUFTRSxpQkFBTyxJQVRUO0FBVUUsd0JBQWMsRUFBQ0UsUUFBUSxTQUFUO0FBVmhCO0FBWUU7QUFBQTtBQUFBLFlBQU0sT0FBTzFCLE9BQU9hLE9BQXBCO0FBQThCLGVBQUtjLE9BQUw7QUFBOUI7QUFaRjtBQURLLEtBQVA7QUFnQkQsR0FsQmdDO0FBb0JqQ0wsYUFwQmlDLHVCQW9CckJFLEtBcEJxQixFQW9CZDtBQUFBOztBQUNqQixLQUFDLENBQUNBLEtBQUYsSUFDRXpCLGNBQWM2QixTQUFkLENBQXdCQyxhQUF4QixDQUFzQyxFQUFDTCxZQUFELEVBQXRDLEVBQ0NNLElBREQsQ0FDTTtBQUFBLGFBQVcsTUFBS0MsUUFBTCxDQUFjLEVBQUNOLGdCQUFELEVBQVVKLE9BQU8sS0FBakIsRUFBd0JHLFlBQXhCLEVBQWQsQ0FBWDtBQUFBLEtBRE4sQ0FERjtBQUdELEdBeEJnQztBQTBCakNELGFBMUJpQyx1QkEwQnJCQyxLQTFCcUIsRUEwQmQ7QUFDakIsU0FBS1EsS0FBTCxDQUFXVCxXQUFYLENBQXVCLEVBQUNVLFlBQVksSUFBYixFQUF2QjtBQUNELEdBNUJnQztBQThCakNDLGlCQTlCaUMsNkJBOEJmO0FBQ2hCLFdBQU87QUFDTFQsZUFBUyxFQURKO0FBRUxKLGFBQU87QUFGRixLQUFQO0FBSUQsR0FuQ2dDO0FBcUNqQ00sU0FyQ2lDLHFCQXFDdkI7QUFBQSxRQUNIRixPQURHLEdBQ1EsS0FBS0wsS0FEYixDQUNISyxPQURHOztBQUVSLFdBQU9BLFFBQVFVLElBQVIsVUFDREMsS0FBS0MsR0FBTCxDQUFTWixRQUFRVSxJQUFSLENBQWFHLEtBQXRCLEVBQTZCLEVBQTdCLENBREMsWUFDc0NiLFFBQVFVLElBQVIsQ0FBYUcsS0FEbkQsOEJBRVUsS0FBS2xCLEtBQUwsQ0FBV0ksS0FGckIsMENBQVA7QUFJRDtBQTNDZ0MsQ0FBbEIsQ0FBakI7O0FBOENBZSxPQUFPQyxPQUFQLEdBQWlCdkIsVUFBakIiLCJmaWxlIjoibGl2ZS1zZWFyY2guanMiLCJzb3VyY2VSb290IjoiL3Zhci93d3cvYXJ0L3NyYyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcblxudmFyIFNlYXJjaCA9IHJlcXVpcmUoJy4vc2VhcmNoJylcbnZhciBTZWFyY2hSZXN1bHRzID0gcmVxdWlyZSgnLi9zZWFyY2gtcmVzdWx0cycpXG5cbnZhciBzdHlsZXMgPSB7XG4gIHNlYXJjaEJveDoge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRvcDogMCxcbiAgICBsZWZ0OiAwLFxuICAgIHJpZ2h0OiAwLFxuICAgIG1pbkhlaWdodDogJzNlbScsXG4gICAgekluZGV4OiAnMScsXG4gICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgIGJvcmRlckJvdHRvbTogJzFlbSBzb2xpZCAjMjIyJyxcbiAgICBiYWNrZ3JvdW5kOiAncmdiKDM1LDM1LDM1KScsXG4gICAgY29sb3I6ICd3aGl0ZScsXG4gICAgcGFkZGluZ1RvcDonMy4zZW0nXG4gIH0sXG5cbiAgbWVzc2FnZToge1xuICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgd2lkdGg6ICcxMDAlJyxcbiAgICBwYWRkaW5nVG9wOiAnMWVtJyxcbiAgfSxcbn1cblxudmFyIExpdmVTZWFyY2ggPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPGRpdiBzdHlsZT17c3R5bGVzLnNlYXJjaEJveH0+XG4gICAgICA8U2VhcmNoXG4gICAgICAgIGhpZGVSZXN1bHRzPXt0cnVlfVxuICAgICAgICBibGFuaz17dGhpcy5zdGF0ZS5ibGFua31cbiAgICAgICAgYWN0aXZhdGVJbnB1dD17dHJ1ZX1cbiAgICAgICAgb25VcGRhdGU9e3RoaXMudXBkYXRlUXVpbHR9XG4gICAgICAgIG9uU2VhcmNoPXt0aGlzLmFmdGVyU2VhcmNofVxuICAgICAgICB0ZXJtcz17dGhpcy5zdGF0ZS50ZXJtc31cbiAgICAgICAgcmVzdWx0cz17dGhpcy5zdGF0ZS5yZXN1bHRzfVxuICAgICAgICBsaW5rPXtbJ3NlYXJjaFJlc3VsdHMnLCB7dGVybXM6IHRoaXMuc3RhdGUudGVybXN9XX1cbiAgICAgICAgZGVsYXk9ezEwMDB9XG4gICAgICAgIHN1Z2dlc3RTdHlsZT17e21hcmdpbjogXCIxZW0gM2VtXCJ9fVxuICAgICAgICA+XG4gICAgICAgIDxzcGFuIHN0eWxlPXtzdHlsZXMubWVzc2FnZX0+e3RoaXMuZ2V0VGV4dCgpfTwvc3Bhbj5cbiAgICAgIDwvU2VhcmNoPlxuICAgIDwvZGl2PlxuICB9LFxuXG4gIHVwZGF0ZVF1aWx0KHRlcm1zKSB7XG4gICAgISF0ZXJtcyAmJlxuICAgICAgU2VhcmNoUmVzdWx0cy5mZXRjaERhdGEuc2VhcmNoUmVzdWx0cyh7dGVybXN9KVxuICAgICAgLnRoZW4ocmVzdWx0cyA9PiB0aGlzLnNldFN0YXRlKHtyZXN1bHRzLCBibGFuazogZmFsc2UsIHRlcm1zfSkpXG4gIH0sXG5cbiAgYWZ0ZXJTZWFyY2godGVybXMpIHtcbiAgICB0aGlzLnByb3BzLmFmdGVyU2VhcmNoKHtmb3JjZUNsb3NlOiB0cnVlfSlcbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3VsdHM6IFtdLFxuICAgICAgYmxhbms6IHRydWVcbiAgICB9XG4gIH0sXG5cbiAgZ2V0VGV4dCgpIHtcbiAgICB2YXIge3Jlc3VsdHN9ID0gdGhpcy5zdGF0ZVxuICAgIHJldHVybiByZXN1bHRzLmhpdHMgJiZcbiAgICAgIGAoJHtNYXRoLm1pbihyZXN1bHRzLmhpdHMudG90YWwsIDEwKX0gb2YgJHtyZXN1bHRzLmhpdHMudG90YWx9XG4gICAgICByZXN1bHRzIGZvciAnJHt0aGlzLnN0YXRlLnRlcm1zfScuXG4gICAgICBoaXQgZW50ZXIgdG8gc2VlIHRoZSByZXN0KWBcbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gTGl2ZVNlYXJjaFxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "live-search.js"
      ],
      "names": [
        "React",
        "require",
        "Search",
        "SearchResults",
        "styles",
        "searchBox",
        "position",
        "top",
        "left",
        "right",
        "minHeight",
        "zIndex",
        "backgroundColor",
        "borderBottom",
        "background",
        "color",
        "paddingTop",
        "message",
        "textAlign",
        "display",
        "width",
        "LiveSearch",
        "createClass",
        "render",
        "state",
        "blank",
        "updateQuilt",
        "afterSearch",
        "terms",
        "results",
        "margin",
        "getText",
        "fetchData",
        "searchResults",
        "then",
        "setState",
        "props",
        "forceClose",
        "getInitialState",
        "hits",
        "Math",
        "min",
        "total",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;;AAEA,IAAIC,SAASD,QAAQ,UAAR,CAAb;AACA,IAAIE,gBAAgBF,QAAQ,kBAAR,CAApB;;AAEA,IAAIG,SAAS;AACXC,aAAW;AACTC,cAAU,UADD;AAETC,SAAK,CAFI;AAGTC,UAAM,CAHG;AAITC,WAAO,CAJE;AAKTC,eAAW,KALF;AAMTC,YAAQ,GANC;AAOTC,qBAAiB,OAPR;AAQTC,kBAAc,gBARL;AASTC,gBAAY,eATH;AAUTC,WAAO,OAVE;AAWTC,gBAAW;AAXF,GADA;;AAeXC,WAAS;AACPC,eAAW,QADJ;AAEPC,aAAS,cAFF;AAGPC,WAAO,MAHA;AAIPJ,gBAAY;AAJL;AAfE,CAAb;;AAuBA,IAAIK,aAAarB,MAAMsB,WAAN,CAAkB;AAAA;AACjCC,QADiC,oBACxB;AACP,WAAO;AAAA;AAAA,QAAK,OAAOnB,OAAOC,SAAnB;AACL;AAAC,cAAD;AAAA;AACE,uBAAa,IADf;AAEE,iBAAO,KAAKmB,KAAL,CAAWC,KAFpB;AAGE,yBAAe,IAHjB;AAIE,oBAAU,KAAKC,WAJjB;AAKE,oBAAU,KAAKC,WALjB;AAME,iBAAO,KAAKH,KAAL,CAAWI,KANpB;AAOE,mBAAS,KAAKJ,KAAL,CAAWK,OAPtB;AAQE,gBAAM,CAAC,eAAD,EAAkB,EAACD,OAAO,KAAKJ,KAAL,CAAWI,KAAnB,EAAlB,CARR;AASE,iBAAO,IATT;AAUE,wBAAc,EAACE,QAAQ,SAAT;AAVhB;AAYE;AAAA;AAAA,YAAM,OAAO1B,OAAOa,OAApB;AAA8B,eAAKc,OAAL;AAA9B;AAZF;AADK,KAAP;AAgBD,GAlBgC;AAoBjCL,aApBiC,uBAoBrBE,KApBqB,EAoBd;AAAA;;AACjB,KAAC,CAACA,KAAF,IACEzB,cAAc6B,SAAd,CAAwBC,aAAxB,CAAsC,EAACL,YAAD,EAAtC,EACCM,IADD,CACM;AAAA,aAAW,MAAKC,QAAL,CAAc,EAACN,gBAAD,EAAUJ,OAAO,KAAjB,EAAwBG,YAAxB,EAAd,CAAX;AAAA,KADN,CADF;AAGD,GAxBgC;AA0BjCD,aA1BiC,uBA0BrBC,KA1BqB,EA0Bd;AACjB,SAAKQ,KAAL,CAAWT,WAAX,CAAuB,EAACU,YAAY,IAAb,EAAvB;AACD,GA5BgC;AA8BjCC,iBA9BiC,6BA8Bf;AAChB,WAAO;AACLT,eAAS,EADJ;AAELJ,aAAO;AAFF,KAAP;AAID,GAnCgC;AAqCjCM,SArCiC,qBAqCvB;AAAA,QACHF,OADG,GACQ,KAAKL,KADb,CACHK,OADG;;AAER,WAAOA,QAAQU,IAAR,UACDC,KAAKC,GAAL,CAASZ,QAAQU,IAAR,CAAaG,KAAtB,EAA6B,EAA7B,CADC,YACsCb,QAAQU,IAAR,CAAaG,KADnD,8BAEU,KAAKlB,KAAL,CAAWI,KAFrB,0CAAP;AAID;AA3CgC,CAAlB,CAAjB;;AA8CAe,OAAOC,OAAP,GAAiBvB,UAAjB",
      "file": "live-search.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\n\nvar Search = require('./search')\nvar SearchResults = require('./search-results')\n\nvar styles = {\n  searchBox: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    minHeight: '3em',\n    zIndex: '1',\n    backgroundColor: 'white',\n    borderBottom: '1em solid #222',\n    background: 'rgb(35,35,35)',\n    color: 'white',\n    paddingTop:'3.3em'\n  },\n\n  message: {\n    textAlign: 'center',\n    display: 'inline-block',\n    width: '100%',\n    paddingTop: '1em',\n  },\n}\n\nvar LiveSearch = React.createClass({\n  render() {\n    return <div style={styles.searchBox}>\n      <Search\n        hideResults={true}\n        blank={this.state.blank}\n        activateInput={true}\n        onUpdate={this.updateQuilt}\n        onSearch={this.afterSearch}\n        terms={this.state.terms}\n        results={this.state.results}\n        link={['searchResults', {terms: this.state.terms}]}\n        delay={1000}\n        suggestStyle={{margin: \"1em 3em\"}}\n        >\n        <span style={styles.message}>{this.getText()}</span>\n      </Search>\n    </div>\n  },\n\n  updateQuilt(terms) {\n    !!terms &&\n      SearchResults.fetchData.searchResults({terms})\n      .then(results => this.setState({results, blank: false, terms}))\n  },\n\n  afterSearch(terms) {\n    this.props.afterSearch({forceClose: true})\n  },\n\n  getInitialState() {\n    return {\n      results: [],\n      blank: true\n    }\n  },\n\n  getText() {\n    var {results} = this.state\n    return results.hits &&\n      `(${Math.min(results.hits.total, 10)} of ${results.hits.total}\n      results for '${this.state.terms}'.\n      hit enter to see the rest)`\n  },\n})\n\nmodule.exports = LiveSearch\n"
      ]
    },
    "mtime": 1447960210959
  },
  "{\"filename\":\"/var/www/art/src/search.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/search.js",
      "filenameRelative": "/var/www/art/src/search.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "search.js",
      "sourceFileName": "search.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "search"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\nvar Router = require('react-router');\nvar NotFoundRoute = Router.NotFoundRoute,\n    Navigation = Router.Navigation,\n    State = Router.State,\n    Link = Router.Link,\n    Route = Router.Route,\n    RouteHandler = Router.RouteHandler,\n    DefaultRoute = Router.DefaultRoute,\n    Redirect = Router.Redirect;\n\nvar rest = require('rest');\nvar debounce = require('debounce');\nvar SEARCH = require('./endpoints').search;\n\nvar ImageQuilt = require('./image-quilt');\nvar SearchResults = require('./search-results');\nvar Suggest = require('./suggest');\nvar searchLanguageMap = require('./search-language');\nvar ClosedBanner = require('./museum-closed-banner');\n\nvar Search = React.createClass({\n  displayName: 'Search',\n\n  mixins: [Router.State, Router.Navigation],\n\n  getInitialState: function getInitialState() {\n    var blank = this.props.blank;\n\n    var results = this.props.results || this.props.data && this.props.data.searchResults || [];\n    results || this.props.blank || this.transitionTo('home');\n\n    return {\n      results: results,\n      terms: blank ? '' : this.props.params && this.props.params.terms && decodeURIComponent(this.props.params.terms),\n      hits: results && results.hits && results.hits.hits || [],\n      showAggs: this.props.showAggs,\n      blank: this.props.blank\n    };\n  },\n  render: function render() {\n    var _this = this;\n\n    var results = this.state.results;\n    // `hits` is different from `state.hits` so artworks don't change order when hovered in the quilt.\n    // Handle both results from the ES search endpoint (`results.hits.hits`) and the randomized search (`[random1, 2, ...]`)\n    var hits = results.hits ? results.hits.hits : results;\n    var _context = this.context,\n        universal = _context.universal,\n        smallViewport = _context.smallViewport;\n\n    var path = this.props.path;\n    var darkenQuilt = this.props.path && (path.match(/\\/search/) || path.match('more') && window && window.innerWidth <= 736);\n    var headerArtworks = ImageQuilt.getImagedResults(hits);\n    var showQuilt = !darkenQuilt && headerArtworks;\n    var quiltProps = Object.assign({\n      maxRows: this.state.showAggs ? 1 : 2,\n      maxWorks: 10,\n      artworks: headerArtworks,\n      onClick: this.updateFromQuilt,\n      disableHover: this.props.hideResults || this.props.disableHover,\n      lazyLoad: universal,\n      darken: darkenQuilt,\n      shuffle: this.props.shuffleQuilt\n    }, this.props.quiltProps || {});\n\n    var idealSearchBoxWidth = Math.max(17, this.state.terms && this.state.terms.length * 1.1 || 0);\n    var formProps = universal ? { action: \"/search/\", method: \"get\" } : { action: '' };\n    var simpleSearchBox = React.createElement(\n      'div',\n      { className: 'search-wrapper', style: { width: idealSearchBoxWidth + 'em' } },\n      React.createElement(\n        'form',\n        formProps,\n        React.createElement('input', { className: 'search-input', type: 'search',\n          placeholder: 'search',\n          value: searchLanguageMap(this.state.terms),\n          onKeyDown: this.keyDown,\n          onChange: this.throttledSearch,\n          onFocus: function onFocus(_ref) {\n            var target = _ref.target;\n            return target && target.select();\n          },\n          style: { width: '100%', pointerEvents: 'all' },\n          name: 'q',\n          ref: 'searchInput',\n          autoComplete: 'off',\n          list: 'searchCompletions'\n        })\n      )\n    );\n\n    var hideInput = this.props.hideInput && !this.state.activateSearch;\n    var searchStyles = {\n      left: 0,\n      right: 0,\n      width: '100%',\n      textAlign: 'center',\n      pointerEvents: 'none',\n      display: hideInput ? 'none' : 'inherit',\n      padding: this.props.bumpSearchBox ? '0.5em' : '0',\n      position: 'relative',\n      zIndex: 4\n    };\n\n    var searchOverQuiltStyles = _extends({}, searchStyles, {\n      position: 'absolute',\n      top: '50%',\n      transform: \"translateY(-50%)\",\n      WebkitTransform: \"translateY(-50%)\"\n    });\n\n    var searchBox = React.createElement(\n      'div',\n      { className: 'quilt-search-wrap', style: showQuilt && { position: 'relative', width: '100%', overflow: 'hidden' } || {} },\n      showQuilt && React.createElement(ImageQuilt, quiltProps) || React.createElement('span', { className: 'quilt-wrap dark', style: { display: 'block', minHeight: '3.5rem' } }),\n      React.createElement(\n        'div',\n        { className: 'search-wrap',\n          style: showQuilt && !this.props.bumpSearchBox ? searchOverQuiltStyles : searchStyles },\n        React.createElement(\n          'div',\n          { style: { opacity: this.props.hideHeader ? '1' : '0.95' } },\n          simpleSearchBox\n        )\n      )\n    );\n\n    var aggsProps = {\n      showAggs: this.state.showAggs,\n      toggleAggs: this.toggleAggs\n    };\n\n    var suggestions = React.createElement(Suggest, {\n      search: this.props.data && this.props.data.searchResults,\n      completions: this.state.completions,\n      style: this.props.suggestStyle\n    });\n\n    var _ref2 = this.props.query || {},\n        embed = _ref2.embed;\n\n    var hideSearch = embed && !this.state.cancelEmbed;\n\n    return React.createElement(\n      'div',\n      { id: 'search' },\n      !!hideSearch || searchBox,\n      this.props.children,\n      this.props.hideResults && suggestions || React.createElement(\n        'div',\n        null,\n        React.createElement(SearchResults, _extends({}, this.props, {\n          hits: this.state.hits\n        }, aggsProps, {\n          suggestions: suggestions,\n          minHeight: this.state.minHeight,\n          embed: hideSearch,\n          handleCancelEmbed: function handleCancelEmbed() {\n            return _this.setState({ cancelEmbed: true });\n          }\n        }))\n      ),\n      this.props.hideResults && React.createElement(ClosedBanner, null)\n    );\n  },\n  componentWillMount: function componentWillMount() {\n    var update = this.props.onUpdate || this.search;\n    var delay = this.props.delay;\n\n    var isDesktop = typeof window.orientation === 'undefined';\n\n    this.debouncedSearch = delay || isDesktop ? debounce(update, this.props.delay || 3000) : undefined;\n    this.debouncedAutocomplete = debounce(this.autocomplete, 300);\n  },\n  autocomplete: function autocomplete(rawTerms) {\n    var _this2 = this;\n\n    if (rawTerms == '') return;\n    var terms = decodeURIComponent(rawTerms.replace(/\\/|%2F/g, ' '));\n    rest(SEARCH + '/autofill/' + terms).then(function (r) {\n      return JSON.parse(r.entity);\n    }).then(function (completions) {\n      return _this2.setState({ completions: completions });\n    });\n  },\n  componentDidMount: function componentDidMount() {\n    if (this.props.activateInput) {\n      this.activateSearch();\n    }\n    window.lastSearchedTerms = this.state.terms;\n  },\n  throttledSearch: function throttledSearch(event) {\n    var terms = searchLanguageMap(event.target.value);\n    this.setState({ terms: terms });\n    this.debouncedSearch && this.debouncedSearch(terms);\n    this.debouncedAutocomplete(terms);\n    window.lastSearchedTerms = terms;\n  },\n  search: function search() {\n    var rawTerms = this.normalizeTerms(this.state.terms);\n    var terms = encodeURIComponent(rawTerms).replace(/%3A/g, ':');\n    var _props = this.props,\n        facet = _props.facet,\n        searchAll = _props.searchAll;\n\n    if (terms === '') return;\n\n    var filters = this.props.params && this.props.params.splat;\n    if (filters && filters.match(/deaccessioned:.?true.?/)) facet = filters;\n    this.props.onSearch && this.props.onSearch(terms);\n\n    this.transitionTo(filters && !searchAll ? 'filteredSearchResults' : 'searchResults', {\n      terms: terms,\n      splat: filters\n    });\n  },\n  keyDown: function keyDown(event) {\n    if (event.key == 'Enter') {\n      this.search();\n      event.preventDefault();\n    }\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    // Replace `terms` with the terms from the current search, so back+forward\n    // work correctly. UNLESS the only difference is insignificant whitespace.\n    var nextTerms = nextProps.params && nextProps.params.terms || nextProps.terms;\n    if (this.normalizeTerms() != nextTerms) {\n      this.setState({ terms: nextTerms });\n    }\n    var results = nextProps.results || nextProps.data && nextProps.data.searchResults;\n\n    this.setState({\n      results: results,\n      hits: results && results.hits && results.hits.hits || []\n    });\n  },\n  componentDidUpdate: function componentDidUpdate(prevProps) {\n    var activateSearch = this.props.activateSearch;\n\n    if (activateSearch && activateSearch !== this.state.activateSearch) {\n      this.activateSearch();\n      this.setState({ activateSearch: activateSearch });\n    }\n  },\n  normalizeTerms: function normalizeTerms() {\n    var terms = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.terms;\n\n    return terms && terms.replace(/\\s+/, ' ').trim();\n  },\n\n\n  // update `state.hits` to float a hit from the quilt to the top.\n  // If no `art` is passed, that means the quilt has lost focus,\n  // reset hits to be the searchResults straigt from ES\n  updateFromQuilt: function updateFromQuilt(art) {\n    var results = this.state.results;\n    var hits = results.hits ? results.hits.hits : results;\n    if (art) {\n      if (this.props.facet) this.linkToClickedArtwork(this.props.facet, art);\n      var index = hits.indexOf(art) + 1;\n      if (hits.indexOf(art) === -1) {\n        var sameArtDifferentObject = hits.filter(function (h) {\n          return h._id === art._id;\n        });\n        if (sameArtDifferentObject) index = hits.indexOf(sameArtDifferentObject[0]) + 1;\n      }\n      var nextHits = [art].concat(hits);\n      nextHits.splice(index, 1);\n      this.setState({ hits: nextHits || hits });\n    }\n  },\n  linkToClickedArtwork: function linkToClickedArtwork(facet, art) {\n    window.clickedArtwork = art;\n    this.props.onSearch && this.props.onSearch('clicked a link');\n    this.transitionTo(facet ? 'filteredSearchResults' : 'searchResults', { terms: '*', splat: facet });\n  },\n  toggleAggs: function toggleAggs() {\n    this.setState({ showAggs: !this.state.showAggs });\n  },\n  activateSearch: function activateSearch() {\n    var node = ReactDOM.findDOMNode(this.refs.searchInput);\n    if (node) {\n      node.focus();\n      node.value && node.setSelectionRange(0, node.value.length);\n    }\n  }\n});\nSearch.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n  smallViewport: React.PropTypes.bool\n};\n\nmodule.exports = Search;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlYXJjaC5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJSZWFjdERPTSIsIlJvdXRlciIsIk5vdEZvdW5kUm91dGUiLCJOYXZpZ2F0aW9uIiwiU3RhdGUiLCJMaW5rIiwiUm91dGUiLCJSb3V0ZUhhbmRsZXIiLCJEZWZhdWx0Um91dGUiLCJSZWRpcmVjdCIsInJlc3QiLCJkZWJvdW5jZSIsIlNFQVJDSCIsInNlYXJjaCIsIkltYWdlUXVpbHQiLCJTZWFyY2hSZXN1bHRzIiwiU3VnZ2VzdCIsInNlYXJjaExhbmd1YWdlTWFwIiwiQ2xvc2VkQmFubmVyIiwiU2VhcmNoIiwiY3JlYXRlQ2xhc3MiLCJtaXhpbnMiLCJnZXRJbml0aWFsU3RhdGUiLCJibGFuayIsInByb3BzIiwicmVzdWx0cyIsImRhdGEiLCJzZWFyY2hSZXN1bHRzIiwidHJhbnNpdGlvblRvIiwidGVybXMiLCJwYXJhbXMiLCJkZWNvZGVVUklDb21wb25lbnQiLCJoaXRzIiwic2hvd0FnZ3MiLCJyZW5kZXIiLCJzdGF0ZSIsImNvbnRleHQiLCJ1bml2ZXJzYWwiLCJzbWFsbFZpZXdwb3J0IiwicGF0aCIsImRhcmtlblF1aWx0IiwibWF0Y2giLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaGVhZGVyQXJ0d29ya3MiLCJnZXRJbWFnZWRSZXN1bHRzIiwic2hvd1F1aWx0IiwicXVpbHRQcm9wcyIsIk9iamVjdCIsImFzc2lnbiIsIm1heFJvd3MiLCJtYXhXb3JrcyIsImFydHdvcmtzIiwib25DbGljayIsInVwZGF0ZUZyb21RdWlsdCIsImRpc2FibGVIb3ZlciIsImhpZGVSZXN1bHRzIiwibGF6eUxvYWQiLCJkYXJrZW4iLCJzaHVmZmxlIiwic2h1ZmZsZVF1aWx0IiwiaWRlYWxTZWFyY2hCb3hXaWR0aCIsIk1hdGgiLCJtYXgiLCJsZW5ndGgiLCJmb3JtUHJvcHMiLCJhY3Rpb24iLCJtZXRob2QiLCJzaW1wbGVTZWFyY2hCb3giLCJ3aWR0aCIsImtleURvd24iLCJ0aHJvdHRsZWRTZWFyY2giLCJ0YXJnZXQiLCJzZWxlY3QiLCJwb2ludGVyRXZlbnRzIiwiaGlkZUlucHV0IiwiYWN0aXZhdGVTZWFyY2giLCJzZWFyY2hTdHlsZXMiLCJsZWZ0IiwicmlnaHQiLCJ0ZXh0QWxpZ24iLCJkaXNwbGF5IiwicGFkZGluZyIsImJ1bXBTZWFyY2hCb3giLCJwb3NpdGlvbiIsInpJbmRleCIsInNlYXJjaE92ZXJRdWlsdFN0eWxlcyIsInRvcCIsInRyYW5zZm9ybSIsIldlYmtpdFRyYW5zZm9ybSIsInNlYXJjaEJveCIsIm92ZXJmbG93IiwibWluSGVpZ2h0Iiwib3BhY2l0eSIsImhpZGVIZWFkZXIiLCJhZ2dzUHJvcHMiLCJ0b2dnbGVBZ2dzIiwic3VnZ2VzdGlvbnMiLCJjb21wbGV0aW9ucyIsInN1Z2dlc3RTdHlsZSIsInF1ZXJ5IiwiZW1iZWQiLCJoaWRlU2VhcmNoIiwiY2FuY2VsRW1iZWQiLCJjaGlsZHJlbiIsInNldFN0YXRlIiwiY29tcG9uZW50V2lsbE1vdW50IiwidXBkYXRlIiwib25VcGRhdGUiLCJkZWxheSIsImlzRGVza3RvcCIsIm9yaWVudGF0aW9uIiwiZGVib3VuY2VkU2VhcmNoIiwidW5kZWZpbmVkIiwiZGVib3VuY2VkQXV0b2NvbXBsZXRlIiwiYXV0b2NvbXBsZXRlIiwicmF3VGVybXMiLCJyZXBsYWNlIiwidGhlbiIsInIiLCJKU09OIiwicGFyc2UiLCJlbnRpdHkiLCJjb21wb25lbnREaWRNb3VudCIsImFjdGl2YXRlSW5wdXQiLCJsYXN0U2VhcmNoZWRUZXJtcyIsImV2ZW50IiwidmFsdWUiLCJub3JtYWxpemVUZXJtcyIsImVuY29kZVVSSUNvbXBvbmVudCIsImZhY2V0Iiwic2VhcmNoQWxsIiwiZmlsdGVycyIsInNwbGF0Iiwib25TZWFyY2giLCJrZXkiLCJwcmV2ZW50RGVmYXVsdCIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJuZXh0UHJvcHMiLCJuZXh0VGVybXMiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwcmV2UHJvcHMiLCJ0cmltIiwiYXJ0IiwibGlua1RvQ2xpY2tlZEFydHdvcmsiLCJpbmRleCIsImluZGV4T2YiLCJzYW1lQXJ0RGlmZmVyZW50T2JqZWN0IiwiZmlsdGVyIiwiaCIsIl9pZCIsIm5leHRIaXRzIiwiY29uY2F0Iiwic3BsaWNlIiwiY2xpY2tlZEFydHdvcmsiLCJub2RlIiwiZmluZERPTU5vZGUiLCJyZWZzIiwic2VhcmNoSW5wdXQiLCJmb2N1cyIsInNldFNlbGVjdGlvblJhbmdlIiwiY29udGV4dFR5cGVzIiwicm91dGVyIiwiUHJvcFR5cGVzIiwiZnVuYyIsImJvb2wiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7QUFDQSxJQUFJQyxXQUFXRCxRQUFRLFdBQVIsQ0FBZjtBQUNBLElBQUlFLFNBQVNGLFFBQVEsY0FBUixDQUFiO0lBQ01HLGEsR0FBd0ZELE0sQ0FBeEZDLGE7SUFBZUMsVSxHQUF5RUYsTSxDQUF6RUUsVTtJQUFZQyxLLEdBQTZESCxNLENBQTdERyxLO0lBQU9DLEksR0FBc0RKLE0sQ0FBdERJLEk7SUFBTUMsSyxHQUFnREwsTSxDQUFoREssSztJQUFPQyxZLEdBQXlDTixNLENBQXpDTSxZO0lBQWNDLFksR0FBMkJQLE0sQ0FBM0JPLFk7SUFBY0MsUSxHQUFhUixNLENBQWJRLFE7O0FBQ2pGLElBQUlDLE9BQU9YLFFBQVEsTUFBUixDQUFYO0FBQ0EsSUFBSVksV0FBV1osUUFBUSxVQUFSLENBQWY7QUFDQSxJQUFJYSxTQUFTYixRQUFRLGFBQVIsRUFBdUJjLE1BQXBDOztBQUVBLElBQUlDLGFBQWFmLFFBQVEsZUFBUixDQUFqQjtBQUNBLElBQUlnQixnQkFBZ0JoQixRQUFRLGtCQUFSLENBQXBCO0FBQ0EsSUFBSWlCLFVBQVVqQixRQUFRLFdBQVIsQ0FBZDtBQUNBLElBQUlrQixvQkFBb0JsQixRQUFRLG1CQUFSLENBQXhCO0FBQ0EsSUFBSW1CLGVBQWVuQixRQUFRLHdCQUFSLENBQW5COztBQUVBLElBQUlvQixTQUFTckIsTUFBTXNCLFdB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QyxJQURKO0FBRXBCL0gsYUFBV3ZDLE1BQU1xSyxTQUFOLENBQWdCRSxJQUZQO0FBR3BCL0gsaUJBQWV4QyxNQUFNcUssU0FBTixDQUFnQkU7QUFIWCxDQUF0Qjs7QUFNQUMsT0FBT0MsT0FBUCxHQUFpQnBKLE1BQWpCIiwiZmlsZSI6InNlYXJjaC5qcyIsInNvdXJjZVJvb3QiOiIvdmFyL3d3dy9hcnQvc3JjIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJlYWN0RE9NID0gcmVxdWlyZSgncmVhY3QtZG9tJylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHsgTm90Rm91bmRSb3V0ZSwgTmF2aWdhdGlvbiwgU3RhdGUsIExpbmssIFJvdXRlLCBSb3V0ZUhhbmRsZXIsIERlZmF1bHRSb3V0ZSwgUmVkaXJlY3QgfSA9IFJvdXRlclxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcbnZhciBkZWJvdW5jZSA9IHJlcXVpcmUoJ2RlYm91bmNlJylcbnZhciBTRUFSQ0ggPSByZXF1aXJlKCcuL2VuZHBvaW50cycpLnNlYXJjaFxuXG52YXIgSW1hZ2VRdWlsdCA9IHJlcXVpcmUoJy4vaW1hZ2UtcXVpbHQnKVxudmFyIFNlYXJjaFJlc3VsdHMgPSByZXF1aXJlKCcuL3NlYXJjaC1yZXN1bHRzJylcbnZhciBTdWdnZXN0ID0gcmVxdWlyZSgnLi9zdWdnZXN0JylcbnZhciBzZWFyY2hMYW5ndWFnZU1hcCA9IHJlcXVpcmUoJy4vc2VhcmNoLWxhbmd1YWdlJylcbnZhciBDbG9zZWRCYW5uZXIgPSByZXF1aXJlKCcuL211c2V1bS1jbG9zZWQtYmFubmVyJylcblxudmFyIFNlYXJjaCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgbWl4aW5zOiBbUm91dGVyLlN0YXRlLCBSb3V0ZXIuTmF2aWdhdGlvbl0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIGNvbnN0IHtibGFua30gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgcmVzdWx0cyA9IHRoaXMucHJvcHMucmVzdWx0cyB8fCB0aGlzLnByb3BzLmRhdGEgJiYgdGhpcy5wcm9wcy5kYXRhLnNlYXJjaFJlc3VsdHMgfHwgW11cbiAgICByZXN1bHRzIHx8IHRoaXMucHJvcHMuYmxhbmsgfHwgdGhpcy50cmFuc2l0aW9uVG8oJ2hvbWUnKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3VsdHM6IHJlc3VsdHMsXG4gICAgICB0ZXJtczogYmxhbmsgPyAnJyA6IHRoaXMucHJvcHMucGFyYW1zICYmIHRoaXMucHJvcHMucGFyYW1zLnRlcm1zICYmIGRlY29kZVVSSUNvbXBvbmVudCh0aGlzLnByb3BzLnBhcmFtcy50ZXJtcyksXG4gICAgICBoaXRzOiByZXN1bHRzICYmIHJlc3VsdHMuaGl0cyAmJiByZXN1bHRzLmhpdHMuaGl0cyB8fCBbXSxcbiAgICAgIHNob3dBZ2dzOiB0aGlzLnByb3BzLnNob3dBZ2dzLFxuICAgICAgYmxhbms6IHRoaXMucHJvcHMuYmxhbmssXG4gICAgfVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCByZXN1bHRzID0gdGhpcy5zdGF0ZS5yZXN1bHRzXG4gICAgLy8gYGhpdHNgIGlzIGRpZmZlcmVudCBmcm9tIGBzdGF0ZS5oaXRzYCBzbyBhcnR3b3JrcyBkb24ndCBjaGFuZ2Ugb3JkZXIgd2hlbiBob3ZlcmVkIGluIHRoZSBxdWlsdC5cbiAgICAvLyBIYW5kbGUgYm90aCByZXN1bHRzIGZyb20gdGhlIEVTIHNlYXJjaCBlbmRwb2ludCAoYHJlc3VsdHMuaGl0cy5oaXRzYCkgYW5kIHRoZSByYW5kb21pemVkIHNlYXJjaCAoYFtyYW5kb20xLCAyLCAuLi5dYClcbiAgICBjb25zdCBoaXRzID0gcmVzdWx0cy5oaXRzID8gcmVzdWx0cy5oaXRzLmhpdHMgOiByZXN1bHRzXG4gICAgY29uc3Qge3VuaXZlcnNhbCwgc21hbGxWaWV3cG9ydH0gPSB0aGlzLmNvbnRleHRcbiAgICBjb25zdCBwYXRoID0gdGhpcy5wcm9wcy5wYXRoXG4gICAgY29uc3QgZGFya2VuUXVpbHQgPSB0aGlzLnByb3BzLnBhdGggJiYgKHBhdGgubWF0Y2goL1xcL3NlYXJjaC8pIHx8IHBhdGgubWF0Y2goJ21vcmUnKSAmJiB3aW5kb3cgJiYgd2luZG93LmlubmVyV2lkdGggPD0gNzM2KVxuICAgIGNvbnN0IGhlYWRlckFydHdvcmtzID0gSW1hZ2VRdWlsdC5nZXRJbWFnZWRSZXN1bHRzKGhpdHMpXG4gICAgY29uc3Qgc2hvd1F1aWx0ID0gIWRhcmtlblF1aWx0ICYmIGhlYWRlckFydHdvcmtzXG4gICAgdmFyIHF1aWx0UHJvcHMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIG1heFJvd3M6IHRoaXMuc3RhdGUuc2hvd0FnZ3MgPyAxIDogMixcbiAgICAgIG1heFdvcmtzOiAxMCxcbiAgICAgIGFydHdvcmtzOiBoZWFkZXJBcnR3b3JrcyxcbiAgICAgIG9uQ2xpY2s6IHRoaXMudXBkYXRlRnJvbVF1aWx0LFxuICAgICAgZGlzYWJsZUhvdmVyOiB0aGlzLnByb3BzLmhpZGVSZXN1bHRzIHx8IHRoaXMucHJvcHMuZGlzYWJsZUhvdmVyLFxuICAgICAgbGF6eUxvYWQ6IHVuaXZlcnNhbCxcbiAgICAgIGRhcmtlbjogZGFya2VuUXVpbHQsXG4gICAgICBzaHVmZmxlOiB0aGlzLnByb3BzLnNodWZmbGVRdWlsdCxcbiAgICB9LCB0aGlzLnByb3BzLnF1aWx0UHJvcHMgfHwge30pXG5cbiAgICBjb25zdCBpZGVhbFNlYXJjaEJveFdpZHRoID0gTWF0aC5tYXgoMTcsIHRoaXMuc3RhdGUudGVybXMgJiYgdGhpcy5zdGF0ZS50ZXJtcy5sZW5ndGgqMS4xIHx8IDApXG4gICAgY29uc3QgZm9ybVByb3BzID0gdW5pdmVyc2FsID8ge2FjdGlvbjogXCIvc2VhcmNoL1wiLCBtZXRob2Q6IFwiZ2V0XCJ9IDoge2FjdGlvbjogJyd9XG4gICAgY29uc3Qgc2ltcGxlU2VhcmNoQm94ID0gPGRpdiBjbGFzc05hbWU9J3NlYXJjaC13cmFwcGVyJyBzdHlsZT17e3dpZHRoOiBpZGVhbFNlYXJjaEJveFdpZHRoICsgJ2VtJ319PlxuICAgICAgPGZvcm0gey4uLmZvcm1Qcm9wc30+PGlucHV0IGNsYXNzTmFtZT0nc2VhcmNoLWlucHV0JyB0eXBlPVwic2VhcmNoXCJcbiAgICAgICAgcGxhY2Vob2xkZXI9XCJzZWFyY2hcIlxuICAgICAgICB2YWx1ZT17c2VhcmNoTGFuZ3VhZ2VNYXAodGhpcy5zdGF0ZS50ZXJtcyl9XG4gICAgICAgIG9uS2V5RG93bj17dGhpcy5rZXlEb3dufVxuICAgICAgICBvbkNoYW5nZT17dGhpcy50aHJvdHRsZWRTZWFyY2h9XG4gICAgICAgIG9uRm9jdXM9eyh7dGFyZ2V0fSkgPT4gdGFyZ2V0ICYmIHRhcmdldC5zZWxlY3QoKX1cbiAgICAgICAgc3R5bGU9e3t3aWR0aDogJzEwMCUnLCBwb2ludGVyRXZlbnRzOiAnYWxsJ319XG4gICAgICAgIG5hbWU9XCJxXCJcbiAgICAgICAgcmVmPVwic2VhcmNoSW5wdXRcIlxuICAgICAgICBhdXRvQ29tcGxldGU9XCJvZmZcIlxuICAgICAgICBsaXN0PVwic2VhcmNoQ29tcGxldGlvbnNcIlxuICAgICAgICAvPjwvZm9ybT5cbiAgICA8L2Rpdj5cblxuICAgIGNvbnN0IGhpZGVJbnB1dCA9IHRoaXMucHJvcHMuaGlkZUlucHV0ICYmICF0aGlzLnN0YXRlLmFjdGl2YXRlU2VhcmNoXG4gICAgdmFyIHNlYXJjaFN0eWxlcyA9IHtcbiAgICAgIGxlZnQ6IDAsXG4gICAgICByaWdodDogMCxcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgZGlzcGxheTogaGlkZUlucHV0ID8gJ25vbmUnIDogJ2luaGVyaXQnLFxuICAgICAgcGFkZGluZzogdGhpcy5wcm9wcy5idW1wU2VhcmNoQm94ID8gJzAuNWVtJyA6ICcwJyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLCBcbiAgICAgIHpJbmRleDogNCxcbiAgICB9XG5cbiAgICB2YXIgc2VhcmNoT3ZlclF1aWx0U3R5bGVzID0ge1xuICAgICAgLi4uc2VhcmNoU3R5bGVzLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB0b3A6ICc1MCUnLFxuICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZVkoLTUwJSlcIixcbiAgICAgIFdlYmtpdFRyYW5zZm9ybTogXCJ0cmFuc2xhdGVZKC01MCUpXCIsXG4gICAgfVxuXG4gICAgY29uc3Qgc2VhcmNoQm94ID0gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J3F1aWx0LXNlYXJjaC13cmFwJyBzdHlsZT17c2hvd1F1aWx0ICYmIHtwb3NpdGlvbjogJ3JlbGF0aXZlJywgd2lkdGg6ICcxMDAlJywgb3ZlcmZsb3c6ICdoaWRkZW4nfSB8fCB7fX0+XG4gICAgICAgIHtzaG93UXVpbHQgJiYgPEltYWdlUXVpbHQgey4uLnF1aWx0UHJvcHN9IC8+IHx8IDxzcGFuIGNsYXNzTmFtZT0ncXVpbHQtd3JhcCBkYXJrJyBzdHlsZT17e2Rpc3BsYXk6ICdibG9jaycsIG1pbkhlaWdodDogJzMuNXJlbSd9fSAvPn1cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J3NlYXJjaC13cmFwJ1xuICAgICAgICAgIHN0eWxlPXtzaG93UXVpbHQgJiYgIXRoaXMucHJvcHMuYnVtcFNlYXJjaEJveCA/IHNlYXJjaE92ZXJRdWlsdFN0eWxlcyA6IHNlYXJjaFN0eWxlc30+XG4gICAgICAgICAgPGRpdiBzdHlsZT17e29wYWNpdHk6IHRoaXMucHJvcHMuaGlkZUhlYWRlciA/ICcxJyA6ICcwLjk1J319PntzaW1wbGVTZWFyY2hCb3h9PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuXG4gICAgdmFyIGFnZ3NQcm9wcyA9IHtcbiAgICAgIHNob3dBZ2dzOiB0aGlzLnN0YXRlLnNob3dBZ2dzLFxuICAgICAgdG9nZ2xlQWdnczogdGhpcy50b2dnbGVBZ2dzLFxuICAgIH1cblxuICAgIHZhciBzdWdnZXN0aW9ucyA9IDxTdWdnZXN0XG4gICAgICBzZWFyY2g9e3RoaXMucHJvcHMuZGF0YSAmJiB0aGlzLnByb3BzLmRhdGEuc2VhcmNoUmVzdWx0c31cbiAgICAgIGNvbXBsZXRpb25zPXt0aGlzLnN0YXRlLmNvbXBsZXRpb25zfVxuICAgICAgc3R5bGU9e3RoaXMucHJvcHMuc3VnZ2VzdFN0eWxlfVxuICAgICAgLz5cblxuICAgIHZhciB7ZW1iZWR9ID0gdGhpcy5wcm9wcy5xdWVyeSB8fCB7fVxuICAgIHZhciBoaWRlU2VhcmNoID0gZW1iZWQgJiYgIXRoaXMuc3RhdGUuY2FuY2VsRW1iZWRcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGlkPVwic2VhcmNoXCI+XG4gICAgICAgIHshIWhpZGVTZWFyY2ggfHwgc2VhcmNoQm94fVxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAge3RoaXMucHJvcHMuaGlkZVJlc3VsdHMgJiYgc3VnZ2VzdGlvbnMgfHwgPGRpdj5cbiAgICAgICAgICA8U2VhcmNoUmVzdWx0cyB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgICAgIGhpdHM9e3RoaXMuc3RhdGUuaGl0c31cbiAgICAgICAgICAgIHsuLi5hZ2dzUHJvcHN9XG4gICAgICAgICAgICBzdWdnZXN0aW9ucz17c3VnZ2VzdGlvbnN9XG4gICAgICAgICAgICBtaW5IZWlnaHQ9e3RoaXMuc3RhdGUubWluSGVpZ2h0fVxuICAgICAgICAgICAgZW1iZWQ9e2hpZGVTZWFyY2h9XG4gICAgICAgICAgICBoYW5kbGVDYW5jZWxFbWJlZD17KCkgPT4gdGhpcy5zZXRTdGF0ZSh7Y2FuY2VsRW1iZWQ6IHRydWV9KX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj59XG4gICAgICAgIHt0aGlzLnByb3BzLmhpZGVSZXN1bHRzICYmIDxDbG9zZWRCYW5uZXIgLz59XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHZhciB1cGRhdGUgPSB0aGlzLnByb3BzLm9uVXBkYXRlIHx8IHRoaXMuc2VhcmNoXG4gICAgdmFyIHtkZWxheX0gPSB0aGlzLnByb3BzXG4gICAgdmFyIGlzRGVza3RvcCA9IHR5cGVvZiB3aW5kb3cub3JpZW50YXRpb24gPT09ICd1bmRlZmluZWQnXG5cbiAgICB0aGlzLmRlYm91bmNlZFNlYXJjaCA9IChkZWxheSB8fCBpc0Rlc2t0b3ApID9cbiAgICAgIGRlYm91bmNlKHVwZGF0ZSwgdGhpcy5wcm9wcy5kZWxheSB8fCAzMDAwKSA6XG4gICAgICB1bmRlZmluZWRcbiAgICB0aGlzLmRlYm91bmNlZEF1dG9jb21wbGV0ZSA9IGRlYm91bmNlKHRoaXMuYXV0b2NvbXBsZXRlLCAzMDApXG4gIH0sXG5cbiAgYXV0b2NvbXBsZXRlKHJhd1Rlcm1zKSB7XG4gICAgaWYocmF3VGVybXMgPT0gJycpIHJldHVyblxuICAgIGNvbnN0IHRlcm1zID0gZGVjb2RlVVJJQ29tcG9uZW50KHJhd1Rlcm1zLnJlcGxhY2UoL1xcL3wlMkYvZywgJyAnKSlcbiAgICByZXN0KGAke1NFQVJDSH0vYXV0b2ZpbGwvJHt0ZXJtc31gKVxuICAgIC50aGVuKChyKSA9PiBKU09OLnBhcnNlKHIuZW50aXR5KSApXG4gICAgLnRoZW4oY29tcGxldGlvbnMgPT4gdGhpcy5zZXRTdGF0ZSh7Y29tcGxldGlvbnN9KSlcbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZih0aGlzLnByb3BzLmFjdGl2YXRlSW5wdXQpIHtcbiAgICAgIHRoaXMuYWN0aXZhdGVTZWFyY2goKVxuICAgIH1cbiAgICB3aW5kb3cubGFzdFNlYXJjaGVkVGVybXMgPSB0aGlzLnN0YXRlLnRlcm1zXG4gIH0sXG5cbiAgdGhyb3R0bGVkU2VhcmNoKGV2ZW50KSB7XG4gICAgdmFyIHRlcm1zID0gc2VhcmNoTGFuZ3VhZ2VNYXAoZXZlbnQudGFyZ2V0LnZhbHVlKVxuICAgIHRoaXMuc2V0U3RhdGUoe3Rlcm1zOiB0ZXJtc30pXG4gICAgdGhpcy5kZWJvdW5jZWRTZWFyY2ggJiYgdGhpcy5kZWJvdW5jZWRTZWFyY2godGVybXMpXG4gICAgdGhpcy5kZWJvdW5jZWRBdXRvY29tcGxldGUodGVybXMpXG4gICAgd2luZG93Lmxhc3RTZWFyY2hlZFRlcm1zID0gdGVybXNcbiAgfSxcblxuICBzZWFyY2goKSB7XG4gICAgdmFyIHJhd1Rlcm1zID0gdGhpcy5ub3JtYWxpemVUZXJtcyh0aGlzLnN0YXRlLnRlcm1zKVxuICAgIHZhciB0ZXJtcyA9IGVuY29kZVVSSUNvbXBvbmVudChyYXdUZXJtcykucmVwbGFjZSgvJTNBL2csICc6JylcbiAgICB2YXIge2ZhY2V0LCBzZWFyY2hBbGx9ID0gdGhpcy5wcm9wc1xuICAgIGlmKHRlcm1zID09PSAnJykgcmV0dXJuXG5cbiAgICB2YXIgZmlsdGVycyA9IHRoaXMucHJvcHMucGFyYW1zICYmIHRoaXMucHJvcHMucGFyYW1zLnNwbGF0XG4gICAgaWYoZmlsdGVycyAmJiBmaWx0ZXJzLm1hdGNoKC9kZWFjY2Vzc2lvbmVkOi4/dHJ1ZS4/LykpIGZhY2V0ID0gZmlsdGVyc1xuICAgIHRoaXMucHJvcHMub25TZWFyY2ggJiYgdGhpcy5wcm9wcy5vblNlYXJjaCh0ZXJtcylcblxuICAgIHRoaXMudHJhbnNpdGlvblRvKFxuICAgICAgZmlsdGVycyAmJiAhc2VhcmNoQWxsID8gJ2ZpbHRlcmVkU2VhcmNoUmVzdWx0cycgOiAnc2VhcmNoUmVzdWx0cycsIHtcbiAgICAgICAgdGVybXMsXG4gICAgICAgIHNwbGF0OiBmaWx0ZXJzLFxuICAgICAgfVxuICAgIClcbiAgfSxcblxuICBrZXlEb3duKGV2ZW50KSB7XG4gICAgaWYoZXZlbnQua2V5ID09ICdFbnRlcicpIHtcbiAgICAgIHRoaXMuc2VhcmNoKClcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB9XG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAvLyBSZXBsYWNlIGB0ZXJtc2Agd2l0aCB0aGUgdGVybXMgZnJvbSB0aGUgY3VycmVudCBzZWFyY2gsIHNvIGJhY2srZm9yd2FyZFxuICAgIC8vIHdvcmsgY29ycmVjdGx5LiBVTkxFU1MgdGhlIG9ubHkgZGlmZmVyZW5jZSBpcyBpbnNpZ25pZmljYW50IHdoaXRlc3BhY2UuXG4gICAgdmFyIG5leHRUZXJtcyA9IG5leHRQcm9wcy5wYXJhbXMgJiYgbmV4dFByb3BzLnBhcmFtcy50ZXJtcyB8fCBuZXh0UHJvcHMudGVybXNcbiAgICBpZih0aGlzLm5vcm1hbGl6ZVRlcm1zKCkgIT0gbmV4dFRlcm1zKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHt0ZXJtczogbmV4dFRlcm1zfSlcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0cyA9IG5leHRQcm9wcy5yZXN1bHRzIHx8IG5leHRQcm9wcy5kYXRhICYmIG5leHRQcm9wcy5kYXRhLnNlYXJjaFJlc3VsdHNcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgcmVzdWx0cyxcbiAgICAgIGhpdHM6IHJlc3VsdHMgJiYgcmVzdWx0cy5oaXRzICYmIHJlc3VsdHMuaGl0cy5oaXRzIHx8IFtdXG4gICAgfSlcbiAgfSxcblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgdmFyIHthY3RpdmF0ZVNlYXJjaH0gPSB0aGlzLnByb3BzXG4gICAgaWYoYWN0aXZhdGVTZWFyY2ggJiYgYWN0aXZhdGVTZWFyY2ggIT09IHRoaXMuc3RhdGUuYWN0aXZhdGVTZWFyY2gpIHtcbiAgICAgIHRoaXMuYWN0aXZhdGVTZWFyY2goKVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7YWN0aXZhdGVTZWFyY2g6IGFjdGl2YXRlU2VhcmNofSlcbiAgICB9XG4gIH0sXG5cbiAgbm9ybWFsaXplVGVybXModGVybXM9dGhpcy5zdGF0ZS50ZXJtcykge1xuICAgIHJldHVybiB0ZXJtcyAmJiB0ZXJtcy5yZXBsYWNlKC9cXHMrLywgJyAnKS50cmltKClcbiAgfSxcblxuICAvLyB1cGRhdGUgYHN0YXRlLmhpdHNgIHRvIGZsb2F0IGEgaGl0IGZyb20gdGhlIHF1aWx0IHRvIHRoZSB0b3AuXG4gIC8vIElmIG5vIGBhcnRgIGlzIHBhc3NlZCwgdGhhdCBtZWFucyB0aGUgcXVpbHQgaGFzIGxvc3QgZm9jdXMsXG4gIC8vIHJlc2V0IGhpdHMgdG8gYmUgdGhlIHNlYXJjaFJlc3VsdHMgc3RyYWlndCBmcm9tIEVTXG4gIHVwZGF0ZUZyb21RdWlsdChhcnQpIHtcbiAgICBjb25zdCByZXN1bHRzID0gdGhpcy5zdGF0ZS5yZXN1bHRzXG4gICAgY29uc3QgaGl0cyA9IHJlc3VsdHMuaGl0cyA/IHJlc3VsdHMuaGl0cy5oaXRzIDogcmVzdWx0c1xuICAgIGlmKGFydCkge1xuICAgICAgaWYodGhpcy5wcm9wcy5mYWNldCkgdGhpcy5saW5rVG9DbGlja2VkQXJ0d29yayh0aGlzLnByb3BzLmZhY2V0LCBhcnQpXG4gICAgICB2YXIgaW5kZXggPSBoaXRzLmluZGV4T2YoYXJ0KSsxXG4gICAgICBpZihoaXRzLmluZGV4T2YoYXJ0KSA9PT0gLTEpIHtcbiAgICAgICAgdmFyIHNhbWVBcnREaWZmZXJlbnRPYmplY3QgPSBoaXRzLmZpbHRlcihoID0+IGguX2lkID09PSBhcnQuX2lkKVxuICAgICAgICBpZihzYW1lQXJ0RGlmZmVyZW50T2JqZWN0KSBpbmRleCA9IGhpdHMuaW5kZXhPZihzYW1lQXJ0RGlmZmVyZW50T2JqZWN0WzBdKSsxXG4gICAgICB9XG4gICAgICB2YXIgbmV4dEhpdHMgPSAoW2FydF0uY29uY2F0KGhpdHMpKVxuICAgICAgbmV4dEhpdHMuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7aGl0czogbmV4dEhpdHMgfHwgaGl0c30pXG4gICAgfVxuICB9LFxuXG4gIGxpbmtUb0NsaWNrZWRBcnR3b3JrKGZhY2V0LCBhcnQpIHtcbiAgICB3aW5kb3cuY2xpY2tlZEFydHdvcmsgPSBhcnRcbiAgICB0aGlzLnByb3BzLm9uU2VhcmNoICYmIHRoaXMucHJvcHMub25TZWFyY2goJ2NsaWNrZWQgYSBsaW5rJylcbiAgICB0aGlzLnRyYW5zaXRpb25UbyhmYWNldCA/ICdmaWx0ZXJlZFNlYXJjaFJlc3VsdHMnIDogJ3NlYXJjaFJlc3VsdHMnLCB7dGVybXM6ICcqJywgc3BsYXQ6IGZhY2V0fSlcbiAgfSxcblxuICB0b2dnbGVBZ2dzKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe3Nob3dBZ2dzOiAhdGhpcy5zdGF0ZS5zaG93QWdnc30pXG4gIH0sXG5cbiAgYWN0aXZhdGVTZWFyY2goKSB7XG4gICAgdmFyIG5vZGUgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLnJlZnMuc2VhcmNoSW5wdXQpXG4gICAgaWYobm9kZSkge1xuICAgICAgbm9kZS5mb2N1cygpXG4gICAgICBub2RlLnZhbHVlICYmIG5vZGUuc2V0U2VsZWN0aW9uUmFuZ2UoMCwgbm9kZS52YWx1ZS5sZW5ndGgpXG4gICAgfVxuICB9LFxufSlcblNlYXJjaC5jb250ZXh0VHlwZXMgPSB7XG4gIHJvdXRlcjogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIHVuaXZlcnNhbDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIHNtYWxsVmlld3BvcnQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNlYXJjaFxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "search.js"
      ],
      "names": [
        "React",
        "require",
        "ReactDOM",
        "Router",
        "NotFoundRoute",
        "Navigation",
        "State",
        "Link",
        "Route",
        "RouteHandler",
        "DefaultRoute",
        "Redirect",
        "rest",
        "debounce",
        "SEARCH",
        "search",
        "ImageQuilt",
        "SearchResults",
        "Suggest",
        "searchLanguageMap",
        "ClosedBanner",
        "Search",
        "createClass",
        "mixins",
        "getInitialState",
        "blank",
        "props",
        "results",
        "data",
        "searchResults",
        "transitionTo",
        "terms",
        "params",
        "decodeURIComponent",
        "hits",
        "showAggs",
        "render",
        "state",
        "context",
        "universal",
        "smallViewport",
        "path",
        "darkenQuilt",
        "match",
        "window",
        "innerWidth",
        "headerArtworks",
        "getImagedResults",
        "showQuilt",
        "quiltProps",
        "Object",
        "assign",
        "maxRows",
        "maxWorks",
        "artworks",
        "onClick",
        "updateFromQuilt",
        "disableHover",
        "hideResults",
        "lazyLoad",
        "darken",
        "shuffle",
        "shuffleQuilt",
        "idealSearchBoxWidth",
        "Math",
        "max",
        "length",
        "formProps",
        "action",
        "method",
        "simpleSearchBox",
        "width",
        "keyDown",
        "throttledSearch",
        "target",
        "select",
        "pointerEvents",
        "hideInput",
        "activateSearch",
        "searchStyles",
        "left",
        "right",
        "textAlign",
        "display",
        "padding",
        "bumpSearchBox",
        "position",
        "zIndex",
        "searchOverQuiltStyles",
        "top",
        "transform",
        "WebkitTransform",
        "searchBox",
        "overflow",
        "minHeight",
        "opacity",
        "hideHeader",
        "aggsProps",
        "toggleAggs",
        "suggestions",
        "completions",
        "suggestStyle",
        "query",
        "embed",
        "hideSearch",
        "cancelEmbed",
        "children",
        "setState",
        "componentWillMount",
        "update",
        "onUpdate",
        "delay",
        "isDesktop",
        "orientation",
        "debouncedSearch",
        "undefined",
        "debouncedAutocomplete",
        "autocomplete",
        "rawTerms",
        "replace",
        "then",
        "r",
        "JSON",
        "parse",
        "entity",
        "componentDidMount",
        "activateInput",
        "lastSearchedTerms",
        "event",
        "value",
        "normalizeTerms",
        "encodeURIComponent",
        "facet",
        "searchAll",
        "filters",
        "splat",
        "onSearch",
        "key",
        "preventDefault",
        "componentWillReceiveProps",
        "nextProps",
        "nextTerms",
        "componentDidUpdate",
        "prevProps",
        "trim",
        "art",
        "linkToClickedArtwork",
        "index",
        "indexOf",
        "sameArtDifferentObject",
        "filter",
        "h",
        "_id",
        "nextHits",
        "concat",
        "splice",
        "clickedArtwork",
        "node",
        "findDOMNode",
        "refs",
        "searchInput",
        "focus",
        "setSelectionRange",
        "contextTypes",
        "router",
        "PropTypes",
        "func",
        "bool",
        "module",
        "exports"
      ],
      "mappings": ";;;;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;AACA,IAAIC,WAAWD,QAAQ,WAAR,CAAf;AACA,IAAIE,SAASF,QAAQ,cAAR,CAAb;IACMG,a,GAAwFD,M,CAAxFC,a;IAAeC,U,GAAyEF,M,CAAzEE,U;IAAYC,K,GAA6DH,M,CAA7DG,K;IAAOC,I,GAAsDJ,M,CAAtDI,I;IAAMC,K,GAAgDL,M,CAAhDK,K;IAAOC,Y,GAAyCN,M,CAAzCM,Y;IAAcC,Y,GAA2BP,M,CAA3BO,Y;IAAcC,Q,GAAaR,M,CAAbQ,Q;;AACjF,IAAIC,OAAOX,QAAQ,MAAR,CAAX;AACA,IAAIY,WAAWZ,QAAQ,UAAR,CAAf;AACA,IAAIa,SAASb,QAAQ,aAAR,EAAuBc,MAApC;;AAEA,IAAIC,aAAaf,QAAQ,eAAR,CAAjB;AACA,IAAIgB,gBAAgBhB,QAAQ,kBAAR,CAApB;AACA,IAAIiB,UAAUjB,QAAQ,WAAR,CAAd;AACA,IAAIkB,oBAAoBlB,QAAQ,mBAAR,CAAxB;AACA,IAAImB,eAAenB,QAAQ,wBAAR,CAAnB;;AAEA,IAAIoB,SAASrB,MAAMsB,WAAN,CAAkB;AAAA;;AAC7BC,UAAQ,CAACpB,OAAOG,KAAR,EAAeH,OAAOE,UAAtB,CADqB;;AAG7BmB,iBAH6B,6BAGX;AAAA,QACTC,KADS,GACA,KAAKC,KADL,CACTD,KADS;;AAEhB,QAAME,UAAU,KAAKD,KAAL,CAAWC,OAAX,IAAsB,KAAKD,KAAL,CAAWE,IAAX,IAAmB,KAAKF,KAAL,CAAWE,IAAX,CAAgBC,aAAzD,IAA0E,EAA1F;AACAF,eAAW,KAAKD,KAAL,CAAWD,KAAtB,IAA+B,KAAKK,YAAL,CAAkB,MAAlB,CAA/B;;AAEA,WAAO;AACLH,eAASA,OADJ;AAELI,aAAON,QAAQ,EAAR,GAAa,KAAKC,KAAL,CAAWM,MAAX,IAAqB,KAAKN,KAAL,CAAWM,MAAX,CAAkBD,KAAvC,IAAgDE,mBAAmB,KAAKP,KAAL,CAAWM,MAAX,CAAkBD,KAArC,CAF/D;AAGLG,YAAMP,WAAWA,QAAQO,IAAnB,IAA2BP,QAAQO,IAAR,CAAaA,IAAxC,IAAgD,EAHjD;AAILC,gBAAU,KAAKT,KAAL,CAAWS,QAJhB;AAKLV,aAAO,KAAKC,KAAL,CAAWD;AALb,KAAP;AAOD,GAf4B;AAiB7BW,QAjB6B,oBAiBpB;AAAA;;AACP,QAAMT,UAAU,KAAKU,KAAL,CAAWV,OAA3B;AACA;AACA;AACA,QAAMO,OAAOP,QAAQO,IAAR,GAAeP,QAAQO,IAAR,CAAaA,IAA5B,GAAmCP,OAAhD;AAJO,mBAK4B,KAAKW,OALjC;AAAA,QAKAC,SALA,YAKAA,SALA;AAAA,QAKWC,aALX,YAKWA,aALX;;AAMP,QAAMC,OAAO,KAAKf,KAAL,CAAWe,IAAxB;AACA,QAAMC,cAAc,KAAKhB,KAAL,CAAWe,IAAX,KAAoBA,KAAKE,KAAL,CAAW,UAAX,KAA0BF,KAAKE,KAAL,CAAW,MAAX,KAAsBC,MAAtB,IAAgCA,OAAOC,UAAP,IAAqB,GAAnG,CAApB;AACA,QAAMC,iBAAiB9B,WAAW+B,gBAAX,CAA4Bb,IAA5B,CAAvB;AACA,QAAMc,YAAY,CAACN,WAAD,IAAgBI,cAAlC;AACA,QAAIG,aAAaC,OAAOC,MAAP,CAAc;AAC7BC,eAAS,KAAKf,KAAL,CAAWF,QAAX,GAAsB,CAAtB,GAA0B,CADN;AAE7BkB,gBAAU,EAFmB;AAG7BC,gBAAUR,cAHmB;AAI7BS,eAAS,KAAKC,eAJe;AAK7BC,oBAAc,KAAK/B,KAAL,CAAWgC,WAAX,IAA0B,KAAKhC,KAAL,CAAW+B,YALtB;AAM7BE,gBAAUpB,SANmB;AAO7BqB,cAAQlB,WAPqB;AAQ7BmB,eAAS,KAAKnC,KAAL,CAAWoC;AARS,KAAd,EASd,KAAKpC,KAAL,CAAWuB,UAAX,IAAyB,EATX,CAAjB;;AAWA,QAAMc,sBAAsBC,KAAKC,GAAL,CAAS,EAAT,EAAa,KAAK5B,KAAL,CAAWN,KAAX,IAAoB,KAAKM,KAAL,CAAWN,KAAX,CAAiBmC,MAAjB,GAAwB,GAA5C,IAAmD,CAAhE,CAA5B;AACA,QAAMC,YAAY5B,YAAY,EAAC6B,QAAQ,UAAT,EAAqBC,QAAQ,KAA7B,EAAZ,GAAkD,EAACD,QAAQ,EAAT,EAApE;AACA,QAAME,kBAAkB;AAAA;AAAA,QAAK,WAAU,gBAAf,EAAgC,OAAO,EAACC,OAAOR,sBAAsB,IAA9B,EAAvC;AACtB;AAAA;AAAUI,iBAAV;AAAqB,uCAAO,WAAU,cAAjB,EAAgC,MAAK,QAArC;AACnB,uBAAY,QADO;AAEnB,iBAAOhD,kBAAkB,KAAKkB,KAAL,CAAWN,KAA7B,CAFY;AAGnB,qBAAW,KAAKyC,OAHG;AAInB,oBAAU,KAAKC,eAJI;AAKnB,mBAAS;AAAA,gBAAEC,MAAF,QAAEA,MAAF;AAAA,mBAAcA,UAAUA,OAAOC,MAAP,EAAxB;AAAA,WALU;AAMnB,iBAAO,EAACJ,OAAO,MAAR,EAAgBK,eAAe,KAA/B,EANY;AAOnB,gBAAK,GAPc;AAQnB,eAAI,aARe;AASnB,wBAAa,KATM;AAUnB,gBAAK;AAVc;AAArB;AADsB,KAAxB;;AAeA,QAAMC,YAAY,KAAKnD,KAAL,CAAWmD,SAAX,IAAwB,CAAC,KAAKxC,KAAL,CAAWyC,cAAtD;AACA,QAAIC,eAAe;AACjBC,YAAM,CADW;AAEjBC,aAAO,CAFU;AAGjBV,aAAO,MAHU;AAIjBW,iBAAW,QAJM;AAKjBN,qBAAe,MALE;AAMjBO,eAASN,YAAY,MAAZ,GAAqB,SANb;AAOjBO,eAAS,KAAK1D,KAAL,CAAW2D,aAAX,GAA2B,OAA3B,GAAqC,GAP7B;AAQjBC,gBAAU,UARO;AASjBC,cAAQ;AATS,KAAnB;;AAYA,QAAIC,qCACCT,YADD;AAEFO,gBAAU,UAFR;AAGFG,WAAK,KAHH;AAIFC,iBAAW,kBAJT;AAKFC,uBAAiB;AALf,MAAJ;;AAQA,QAAMC,YACJ;AAAA;AAAA,QAAK,WAAU,mBAAf,EAAmC,OAAO5C,aAAa,EAACsC,UAAU,UAAX,EAAuBf,OAAO,MAA9B,EAAsCsB,UAAU,QAAhD,EAAb,IAA0E,EAApH;AACG7C,mBAAa,oBAAC,UAAD,EAAgBC,UAAhB,CAAb,IAA+C,8BAAM,WAAU,iBAAhB,EAAkC,OAAO,EAACkC,SAAS,OAAV,EAAmBW,WAAW,QAA9B,EAAzC,GADlD;AAEE;AAAA;AAAA,UAAK,WAAU,aAAf;AACE,iBAAO9C,aAAa,CAAC,KAAKtB,KAAL,CAAW2D,aAAzB,GAAyCG,qBAAzC,GAAiET,YAD1E;AAEE;AAAA;AAAA,YAAK,OAAO,EAACgB,SAAS,KAAKrE,KAAL,CAAWsE,UAAX,GAAwB,GAAxB,GAA8B,MAAxC,EAAZ;AAA8D1B;AAA9D;AAFF;AAFF,KADF;;AAUA,QAAI2B,YAAY;AACd9D,gBAAU,KAAKE,KAAL,CAAWF,QADP;AAEd+D,kBAAY,KAAKA;AAFH,KAAhB;;AAKA,QAAIC,cAAc,oBAAC,OAAD;AAChB,cAAQ,KAAKzE,KAAL,CAAWE,IAAX,IAAmB,KAAKF,KAAL,CAAWE,IAAX,CAAgBC,aAD3B;AAEhB,mBAAa,KAAKQ,KAAL,CAAW+D,WAFR;AAGhB,aAAO,KAAK1E,KAAL,CAAW2E;AAHF,MAAlB;;AA1EO,gBAgFO,KAAK3E,KAAL,CAAW4E,KAAX,IAAoB,EAhF3B;AAAA,QAgFFC,KAhFE,SAgFFA,KAhFE;;AAiFP,QAAIC,aAAaD,SAAS,CAAC,KAAKlE,KAAL,CAAWoE,WAAtC;;AAEA,WACE;AAAA;AAAA,QAAK,IAAG,QAAR;AACG,OAAC,CAACD,UAAF,IAAgBZ,SADnB;AAEG,WAAKlE,KAAL,CAAWgF,QAFd;AAGG,WAAKhF,KAAL,CAAWgC,WAAX,IAA0ByC,WAA1B,IAAyC;AAAA;AAAA;AACxC,4BAAC,aAAD,eAAmB,KAAKzE,KAAxB;AACE,gBAAM,KAAKW,KAAL,CAAWH;AADnB,WAEM+D,SAFN;AAGE,uBAAaE,WAHf;AAIE,qBAAW,KAAK9D,KAAL,CAAWyD,SAJxB;AAKE,iBAAOU,UALT;AAME,6BAAmB;AAAA,mBAAM,MAAKG,QAAL,CAAc,EAACF,aAAa,IAAd,EAAd,CAAN;AAAA;AANrB;AADwC,OAH5C;AAaG,WAAK/E,KAAL,CAAWgC,WAAX,IAA0B,oBAAC,YAAD;AAb7B,KADF;AAiBD,GArH4B;AAuH7BkD,oBAvH6B,gCAuHR;AACnB,QAAIC,SAAS,KAAKnF,KAAL,CAAWoF,QAAX,IAAuB,KAAK/F,MAAzC;AADmB,QAEdgG,KAFc,GAEL,KAAKrF,KAFA,CAEdqF,KAFc;;AAGnB,QAAIC,YAAY,OAAOpE,OAAOqE,WAAd,KAA8B,WAA9C;;AAEA,SAAKC,eAAL,GAAwBH,SAASC,SAAV,GACrBnG,SAASgG,MAAT,EAAiB,KAAKnF,KAAL,CAAWqF,KAAX,IAAoB,IAArC,CADqB,GAErBI,SAFF;AAGA,SAAKC,qBAAL,GAA6BvG,SAAS,KAAKwG,YAAd,EAA4B,GAA5B,CAA7B;AACD,GAhI4B;AAkI7BA,cAlI6B,wBAkIhBC,QAlIgB,EAkIN;AAAA;;AACrB,QAAGA,YAAY,EAAf,EAAmB;AACnB,QAAMvF,QAAQE,mBAAmBqF,SAASC,OAAT,CAAiB,SAAjB,EAA4B,GAA5B,CAAnB,CAAd;AACA3G,SAAQE,MAAR,kBAA2BiB,KAA3B,EACCyF,IADD,CACM,UAACC,CAAD;AAAA,aAAOC,KAAKC,KAAL,CAAWF,EAAEG,MAAb,CAAP;AAAA,KADN,EAECJ,IAFD,CAEM;AAAA,aAAe,OAAKb,QAAL,CAAc,EAACP,wBAAD,EAAd,CAAf;AAAA,KAFN;AAGD,GAxI4B;AA0I7ByB,mBA1I6B,+BA0IT;AAClB,QAAG,KAAKnG,KAAL,CAAWoG,aAAd,EAA6B;AAC3B,WAAKhD,cAAL;AACD;AACDlC,WAAOmF,iBAAP,GAA2B,KAAK1F,KAAL,CAAWN,KAAtC;AACD,GA/I4B;AAiJ7B0C,iBAjJ6B,2BAiJbuD,KAjJa,EAiJN;AACrB,QAAIjG,QAAQZ,kBAAkB6G,MAAMtD,MAAN,CAAauD,KAA/B,CAAZ;AACA,SAAKtB,QAAL,CAAc,EAAC5E,OAAOA,KAAR,EAAd;AACA,SAAKmF,eAAL,IAAwB,KAAKA,eAAL,CAAqBnF,KAArB,CAAxB;AACA,SAAKqF,qBAAL,CAA2BrF,KAA3B;AACAa,WAAOmF,iBAAP,GAA2BhG,KAA3B;AACD,GAvJ4B;AAyJ7BhB,QAzJ6B,oBAyJpB;AACP,QAAIuG,WAAW,KAAKY,cAAL,CAAoB,KAAK7F,KAAL,CAAWN,KAA/B,CAAf;AACA,QAAIA,QAAQoG,mBAAmBb,QAAnB,EAA6BC,OAA7B,CAAqC,MAArC,EAA6C,GAA7C,CAAZ;AAFO,iBAGkB,KAAK7F,KAHvB;AAAA,QAGF0G,KAHE,UAGFA,KAHE;AAAA,QAGKC,SAHL,UAGKA,SAHL;;AAIP,QAAGtG,UAAU,EAAb,EAAiB;;AAEjB,QAAIuG,UAAU,KAAK5G,KAAL,CAAWM,MAAX,IAAqB,KAAKN,KAAL,CAAWM,MAAX,CAAkBuG,KAArD;AACA,QAAGD,WAAWA,QAAQ3F,KAAR,CAAc,wBAAd,CAAd,EAAuDyF,QAAQE,OAAR;AACvD,SAAK5G,KAAL,CAAW8G,QAAX,IAAuB,KAAK9G,KAAL,CAAW8G,QAAX,CAAoBzG,KAApB,CAAvB;;AAEA,SAAKD,YAAL,CACEwG,WAAW,CAACD,SAAZ,GAAwB,uBAAxB,GAAkD,eADpD,EACqE;AACjEtG,kBADiE;AAEjEwG,aAAOD;AAF0D,KADrE;AAMD,GAzK4B;AA2K7B9D,SA3K6B,mBA2KrBwD,KA3KqB,EA2Kd;AACb,QAAGA,MAAMS,GAAN,IAAa,OAAhB,EAAyB;AACvB,WAAK1H,MAAL;AACAiH,YAAMU,cAAN;AACD;AACF,GAhL4B;AAkL7BC,2BAlL6B,qCAkLHC,SAlLG,EAkLQ;AACnC;AACA;AACA,QAAIC,YAAYD,UAAU5G,MAAV,IAAoB4G,UAAU5G,MAAV,CAAiBD,KAArC,IAA8C6G,UAAU7G,KAAxE;AACA,QAAG,KAAKmG,cAAL,MAAyBW,SAA5B,EAAuC;AACrC,WAAKlC,QAAL,CAAc,EAAC5E,OAAO8G,SAAR,EAAd;AACD;AACD,QAAMlH,UAAUiH,UAAUjH,OAAV,IAAqBiH,UAAUhH,IAAV,IAAkBgH,UAAUhH,IAAV,CAAeC,aAAtE;;AAEA,SAAK8E,QAAL,CAAc;AACZhF,sBADY;AAEZO,YAAMP,WAAWA,QAAQO,IAAnB,IAA2BP,QAAQO,IAAR,CAAaA,IAAxC,IAAgD;AAF1C,KAAd;AAID,GA/L4B;AAiM7B4G,oBAjM6B,8BAiMVC,SAjMU,EAiMC;AAAA,QACvBjE,cADuB,GACL,KAAKpD,KADA,CACvBoD,cADuB;;AAE5B,QAAGA,kBAAkBA,mBAAmB,KAAKzC,KAAL,CAAWyC,cAAnD,EAAmE;AACjE,WAAKA,cAAL;AACA,WAAK6B,QAAL,CAAc,EAAC7B,gBAAgBA,cAAjB,EAAd;AACD;AACF,GAvM4B;AAyM7BoD,gBAzM6B,4BAyMU;AAAA,QAAxBnG,KAAwB,uEAAlB,KAAKM,KAAL,CAAWN,KAAO;;AACrC,WAAOA,SAASA,MAAMwF,OAAN,CAAc,KAAd,EAAqB,GAArB,EAA0ByB,IAA1B,EAAhB;AACD,GA3M4B;;;AA6M7B;AACA;AACA;AACAxF,iBAhN6B,2BAgNbyF,GAhNa,EAgNR;AACnB,QAAMtH,UAAU,KAAKU,KAAL,CAAWV,OAA3B;AACA,QAAMO,OAAOP,QAAQO,IAAR,GAAeP,QAAQO,IAAR,CAAaA,IAA5B,GAAmCP,OAAhD;AACA,QAAGsH,GAAH,EAAQ;AACN,UAAG,KAAKvH,KAAL,CAAW0G,KAAd,EAAqB,KAAKc,oBAAL,CAA0B,KAAKxH,KAAL,CAAW0G,KAArC,EAA4Ca,GAA5C;AACrB,UAAIE,QAAQjH,KAAKkH,OAAL,CAAaH,GAAb,IAAkB,CAA9B;AACA,UAAG/G,KAAKkH,OAAL,CAAaH,GAAb,MAAsB,CAAC,CAA1B,EAA6B;AAC3B,YAAII,yBAAyBnH,KAAKoH,MAAL,CAAY;AAAA,iBAAKC,EAAEC,GAAF,KAAUP,IAAIO,GAAnB;AAAA,SAAZ,CAA7B;AACA,YAAGH,sBAAH,EAA2BF,QAAQjH,KAAKkH,OAAL,CAAaC,uBAAuB,CAAvB,CAAb,IAAwC,CAAhD;AAC5B;AACD,UAAII,WAAY,CAACR,GAAD,EAAMS,MAAN,CAAaxH,IAAb,CAAhB;AACAuH,eAASE,MAAT,CAAgBR,KAAhB,EAAuB,CAAvB;AACA,WAAKxC,QAAL,CAAc,EAACzE,MAAMuH,YAAYvH,IAAnB,EAAd;AACD;AACF,GA9N4B;AAgO7BgH,sBAhO6B,gCAgORd,KAhOQ,EAgODa,GAhOC,EAgOI;AAC/BrG,WAAOgH,cAAP,GAAwBX,GAAxB;AACA,SAAKvH,KAAL,CAAW8G,QAAX,IAAuB,KAAK9G,KAAL,CAAW8G,QAAX,CAAoB,gBAApB,CAAvB;AACA,SAAK1G,YAAL,CAAkBsG,QAAQ,uBAAR,GAAkC,eAApD,EAAqE,EAACrG,OAAO,GAAR,EAAawG,OAAOH,KAApB,EAArE;AACD,GApO4B;AAsO7BlC,YAtO6B,wBAsOhB;AACX,SAAKS,QAAL,CAAc,EAACxE,UAAU,CAAC,KAAKE,KAAL,CAAWF,QAAvB,EAAd;AACD,GAxO4B;AA0O7B2C,gBA1O6B,4BA0OZ;AACf,QAAI+E,OAAO3J,SAAS4J,WAAT,CAAqB,KAAKC,IAAL,CAAUC,WAA/B,CAAX;AACA,QAAGH,IAAH,EAAS;AACPA,WAAKI,KAAL;AACAJ,WAAK5B,KAAL,IAAc4B,KAAKK,iBAAL,CAAuB,CAAvB,EAA0BL,KAAK5B,KAAL,CAAW/D,MAArC,CAAd;AACD;AACF;AAhP4B,CAAlB,CAAb;AAkPA7C,OAAO8I,YAAP,GAAsB;AACpBC,UAAQpK,MAAMqK,SAAN,CAAgBC,IADJ;AAEpB/H,aAAWvC,MAAMqK,SAAN,CAAgBE,IAFP;AAGpB/H,iBAAexC,MAAMqK,SAAN,CAAgBE;AAHX,CAAtB;;AAMAC,OAAOC,OAAP,GAAiBpJ,MAAjB",
      "file": "search.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar ReactDOM = require('react-dom')\nvar Router = require('react-router')\nvar { NotFoundRoute, Navigation, State, Link, Route, RouteHandler, DefaultRoute, Redirect } = Router\nvar rest = require('rest')\nvar debounce = require('debounce')\nvar SEARCH = require('./endpoints').search\n\nvar ImageQuilt = require('./image-quilt')\nvar SearchResults = require('./search-results')\nvar Suggest = require('./suggest')\nvar searchLanguageMap = require('./search-language')\nvar ClosedBanner = require('./museum-closed-banner')\n\nvar Search = React.createClass({\n  mixins: [Router.State, Router.Navigation],\n\n  getInitialState() {\n    const {blank} = this.props\n    const results = this.props.results || this.props.data && this.props.data.searchResults || []\n    results || this.props.blank || this.transitionTo('home')\n\n    return {\n      results: results,\n      terms: blank ? '' : this.props.params && this.props.params.terms && decodeURIComponent(this.props.params.terms),\n      hits: results && results.hits && results.hits.hits || [],\n      showAggs: this.props.showAggs,\n      blank: this.props.blank,\n    }\n  },\n\n  render() {\n    const results = this.state.results\n    // `hits` is different from `state.hits` so artworks don't change order when hovered in the quilt.\n    // Handle both results from the ES search endpoint (`results.hits.hits`) and the randomized search (`[random1, 2, ...]`)\n    const hits = results.hits ? results.hits.hits : results\n    const {universal, smallViewport} = this.context\n    const path = this.props.path\n    const darkenQuilt = this.props.path && (path.match(/\\/search/) || path.match('more') && window && window.innerWidth <= 736)\n    const headerArtworks = ImageQuilt.getImagedResults(hits)\n    const showQuilt = !darkenQuilt && headerArtworks\n    var quiltProps = Object.assign({\n      maxRows: this.state.showAggs ? 1 : 2,\n      maxWorks: 10,\n      artworks: headerArtworks,\n      onClick: this.updateFromQuilt,\n      disableHover: this.props.hideResults || this.props.disableHover,\n      lazyLoad: universal,\n      darken: darkenQuilt,\n      shuffle: this.props.shuffleQuilt,\n    }, this.props.quiltProps || {})\n\n    const idealSearchBoxWidth = Math.max(17, this.state.terms && this.state.terms.length*1.1 || 0)\n    const formProps = universal ? {action: \"/search/\", method: \"get\"} : {action: ''}\n    const simpleSearchBox = <div className='search-wrapper' style={{width: idealSearchBoxWidth + 'em'}}>\n      <form {...formProps}><input className='search-input' type=\"search\"\n        placeholder=\"search\"\n        value={searchLanguageMap(this.state.terms)}\n        onKeyDown={this.keyDown}\n        onChange={this.throttledSearch}\n        onFocus={({target}) => target && target.select()}\n        style={{width: '100%', pointerEvents: 'all'}}\n        name=\"q\"\n        ref=\"searchInput\"\n        autoComplete=\"off\"\n        list=\"searchCompletions\"\n        /></form>\n    </div>\n\n    const hideInput = this.props.hideInput && !this.state.activateSearch\n    var searchStyles = {\n      left: 0,\n      right: 0,\n      width: '100%',\n      textAlign: 'center',\n      pointerEvents: 'none',\n      display: hideInput ? 'none' : 'inherit',\n      padding: this.props.bumpSearchBox ? '0.5em' : '0',\n      position: 'relative', \n      zIndex: 4,\n    }\n\n    var searchOverQuiltStyles = {\n      ...searchStyles,\n      position: 'absolute',\n      top: '50%',\n      transform: \"translateY(-50%)\",\n      WebkitTransform: \"translateY(-50%)\",\n    }\n\n    const searchBox = (\n      <div className='quilt-search-wrap' style={showQuilt && {position: 'relative', width: '100%', overflow: 'hidden'} || {}}>\n        {showQuilt && <ImageQuilt {...quiltProps} /> || <span className='quilt-wrap dark' style={{display: 'block', minHeight: '3.5rem'}} />}\n        <div className='search-wrap'\n          style={showQuilt && !this.props.bumpSearchBox ? searchOverQuiltStyles : searchStyles}>\n          <div style={{opacity: this.props.hideHeader ? '1' : '0.95'}}>{simpleSearchBox}</div>\n        </div>\n      </div>\n    )\n\n    var aggsProps = {\n      showAggs: this.state.showAggs,\n      toggleAggs: this.toggleAggs,\n    }\n\n    var suggestions = <Suggest\n      search={this.props.data && this.props.data.searchResults}\n      completions={this.state.completions}\n      style={this.props.suggestStyle}\n      />\n\n    var {embed} = this.props.query || {}\n    var hideSearch = embed && !this.state.cancelEmbed\n\n    return (\n      <div id=\"search\">\n        {!!hideSearch || searchBox}\n        {this.props.children}\n        {this.props.hideResults && suggestions || <div>\n          <SearchResults {...this.props}\n            hits={this.state.hits}\n            {...aggsProps}\n            suggestions={suggestions}\n            minHeight={this.state.minHeight}\n            embed={hideSearch}\n            handleCancelEmbed={() => this.setState({cancelEmbed: true})}\n          />\n        </div>}\n        {this.props.hideResults && <ClosedBanner />}\n      </div>\n    )\n  },\n\n  componentWillMount() {\n    var update = this.props.onUpdate || this.search\n    var {delay} = this.props\n    var isDesktop = typeof window.orientation === 'undefined'\n\n    this.debouncedSearch = (delay || isDesktop) ?\n      debounce(update, this.props.delay || 3000) :\n      undefined\n    this.debouncedAutocomplete = debounce(this.autocomplete, 300)\n  },\n\n  autocomplete(rawTerms) {\n    if(rawTerms == '') return\n    const terms = decodeURIComponent(rawTerms.replace(/\\/|%2F/g, ' '))\n    rest(`${SEARCH}/autofill/${terms}`)\n    .then((r) => JSON.parse(r.entity) )\n    .then(completions => this.setState({completions}))\n  },\n\n  componentDidMount() {\n    if(this.props.activateInput) {\n      this.activateSearch()\n    }\n    window.lastSearchedTerms = this.state.terms\n  },\n\n  throttledSearch(event) {\n    var terms = searchLanguageMap(event.target.value)\n    this.setState({terms: terms})\n    this.debouncedSearch && this.debouncedSearch(terms)\n    this.debouncedAutocomplete(terms)\n    window.lastSearchedTerms = terms\n  },\n\n  search() {\n    var rawTerms = this.normalizeTerms(this.state.terms)\n    var terms = encodeURIComponent(rawTerms).replace(/%3A/g, ':')\n    var {facet, searchAll} = this.props\n    if(terms === '') return\n\n    var filters = this.props.params && this.props.params.splat\n    if(filters && filters.match(/deaccessioned:.?true.?/)) facet = filters\n    this.props.onSearch && this.props.onSearch(terms)\n\n    this.transitionTo(\n      filters && !searchAll ? 'filteredSearchResults' : 'searchResults', {\n        terms,\n        splat: filters,\n      }\n    )\n  },\n\n  keyDown(event) {\n    if(event.key == 'Enter') {\n      this.search()\n      event.preventDefault()\n    }\n  },\n\n  componentWillReceiveProps(nextProps) {\n    // Replace `terms` with the terms from the current search, so back+forward\n    // work correctly. UNLESS the only difference is insignificant whitespace.\n    var nextTerms = nextProps.params && nextProps.params.terms || nextProps.terms\n    if(this.normalizeTerms() != nextTerms) {\n      this.setState({terms: nextTerms})\n    }\n    const results = nextProps.results || nextProps.data && nextProps.data.searchResults\n\n    this.setState({\n      results,\n      hits: results && results.hits && results.hits.hits || []\n    })\n  },\n\n  componentDidUpdate(prevProps) {\n    var {activateSearch} = this.props\n    if(activateSearch && activateSearch !== this.state.activateSearch) {\n      this.activateSearch()\n      this.setState({activateSearch: activateSearch})\n    }\n  },\n\n  normalizeTerms(terms=this.state.terms) {\n    return terms && terms.replace(/\\s+/, ' ').trim()\n  },\n\n  // update `state.hits` to float a hit from the quilt to the top.\n  // If no `art` is passed, that means the quilt has lost focus,\n  // reset hits to be the searchResults straigt from ES\n  updateFromQuilt(art) {\n    const results = this.state.results\n    const hits = results.hits ? results.hits.hits : results\n    if(art) {\n      if(this.props.facet) this.linkToClickedArtwork(this.props.facet, art)\n      var index = hits.indexOf(art)+1\n      if(hits.indexOf(art) === -1) {\n        var sameArtDifferentObject = hits.filter(h => h._id === art._id)\n        if(sameArtDifferentObject) index = hits.indexOf(sameArtDifferentObject[0])+1\n      }\n      var nextHits = ([art].concat(hits))\n      nextHits.splice(index, 1)\n      this.setState({hits: nextHits || hits})\n    }\n  },\n\n  linkToClickedArtwork(facet, art) {\n    window.clickedArtwork = art\n    this.props.onSearch && this.props.onSearch('clicked a link')\n    this.transitionTo(facet ? 'filteredSearchResults' : 'searchResults', {terms: '*', splat: facet})\n  },\n\n  toggleAggs() {\n    this.setState({showAggs: !this.state.showAggs})\n  },\n\n  activateSearch() {\n    var node = ReactDOM.findDOMNode(this.refs.searchInput)\n    if(node) {\n      node.focus()\n      node.value && node.setSelectionRange(0, node.value.length)\n    }\n  },\n})\nSearch.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n  smallViewport: React.PropTypes.bool,\n}\n\nmodule.exports = Search\n"
      ]
    },
    "mtime": 1612395010596
  },
  "{\"filename\":\"/var/www/art/src/endpoints.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/endpoints.js",
      "filenameRelative": "/var/www/art/src/endpoints.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "endpoints.js",
      "sourceFileName": "endpoints.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "endpoints"
    },
    "ignored": false,
    "code": "\"use strict\";\n\nvar protocol = (typeof window == \"undefined\" ? \"http\" : \"https\") + \"://\";\nmodule.exports = {\n  search: protocol + \"search.artsmia.org\",\n  // search: 'http://localhost:4680',\n  info: \"https://artsmia.github.io/collection-info/index.json\",\n  dimensionSvg: function dimensionSvg(id, file) {\n    return \"https://mia-dimensions.s3.amazonaws.com/\" + id + \"/\" + (file || 'dimensions') + \".svg\";\n  },\n  galleryPanel: function galleryPanel(room) {\n    return \"\\\"https://cdn.jsdelivr.net/gh/artsmia/mia-gallery-panels@master/\" + room + \".md\";\n  },\n  exhibition: function exhibition(id) {\n    return protocol + (\"cdn.dx.artsmia.org/exhibitions/\" + Math.floor(id / 1000) + \"/\" + id + \".json\");\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVuZHBvaW50cy5qcyJdLCJuYW1lcyI6WyJwcm90b2NvbCIsIndpbmRvdyIsIm1vZHVsZSIsImV4cG9ydHMiLCJzZWFyY2giLCJpbmZvIiwiZGltZW5zaW9uU3ZnIiwiaWQiLCJmaWxlIiwiZ2FsbGVyeVBhbmVsIiwicm9vbSIsImV4aGliaXRpb24iLCJNYXRoIiwiZmxvb3IiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsV0FBVyxDQUFDLE9BQU9DLE1BQVAsSUFBa0IsV0FBbEIsR0FBZ0MsTUFBaEMsR0FBeUMsT0FBMUMsSUFBbUQsS0FBbEU7QUFDQUMsT0FBT0MsT0FBUCxHQUFpQjtBQUNmQyxVQUFRSixXQUFTLG9CQURGO0FBRWY7QUFDQUssUUFBTSxzREFIUztBQUlmQyxnQkFBYyxzQkFBQ0MsRUFBRCxFQUFLQyxJQUFMO0FBQUEsd0RBQXlERCxFQUF6RCxVQUErREMsUUFBUSxZQUF2RTtBQUFBLEdBSkM7QUFLZkMsZ0JBQWMsc0JBQUNDLElBQUQ7QUFBQSxnRkFBNEVBLElBQTVFO0FBQUEsR0FMQztBQU1mQyxjQUFZLG9CQUFDSixFQUFEO0FBQUEsV0FBUVAsZ0RBQTJDWSxLQUFLQyxLQUFMLENBQVdOLEtBQUcsSUFBZCxDQUEzQyxTQUFrRUEsRUFBbEUsV0FBUjtBQUFBO0FBTkcsQ0FBakIiLCJmaWxlIjoiZW5kcG9pbnRzLmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcHJvdG9jb2wgPSAodHlwZW9mKHdpbmRvdykgPT0gXCJ1bmRlZmluZWRcIiA/IFwiaHR0cFwiIDogXCJodHRwc1wiKStcIjovL1wiXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2VhcmNoOiBwcm90b2NvbCtcInNlYXJjaC5hcnRzbWlhLm9yZ1wiLFxuICAvLyBzZWFyY2g6ICdodHRwOi8vbG9jYWxob3N0OjQ2ODAnLFxuICBpbmZvOiBcImh0dHBzOi8vYXJ0c21pYS5naXRodWIuaW8vY29sbGVjdGlvbi1pbmZvL2luZGV4Lmpzb25cIixcbiAgZGltZW5zaW9uU3ZnOiAoaWQsIGZpbGUpID0+IGBodHRwczovL21pYS1kaW1lbnNpb25zLnMzLmFtYXpvbmF3cy5jb20vJHtpZH0vJHtmaWxlIHx8ICdkaW1lbnNpb25zJ30uc3ZnYCxcbiAgZ2FsbGVyeVBhbmVsOiAocm9vbSkgPT4gYFwiaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2FydHNtaWEvbWlhLWdhbGxlcnktcGFuZWxzQG1hc3Rlci8ke3Jvb219Lm1kYCxcbiAgZXhoaWJpdGlvbjogKGlkKSA9PiBwcm90b2NvbCtgY2RuLmR4LmFydHNtaWEub3JnL2V4aGliaXRpb25zLyR7TWF0aC5mbG9vcihpZC8xMDAwKX0vJHtpZH0uanNvbmAsXG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "endpoints.js"
      ],
      "names": [
        "protocol",
        "window",
        "module",
        "exports",
        "search",
        "info",
        "dimensionSvg",
        "id",
        "file",
        "galleryPanel",
        "room",
        "exhibition",
        "Math",
        "floor"
      ],
      "mappings": ";;AAAA,IAAIA,WAAW,CAAC,OAAOC,MAAP,IAAkB,WAAlB,GAAgC,MAAhC,GAAyC,OAA1C,IAAmD,KAAlE;AACAC,OAAOC,OAAP,GAAiB;AACfC,UAAQJ,WAAS,oBADF;AAEf;AACAK,QAAM,sDAHS;AAIfC,gBAAc,sBAACC,EAAD,EAAKC,IAAL;AAAA,wDAAyDD,EAAzD,UAA+DC,QAAQ,YAAvE;AAAA,GAJC;AAKfC,gBAAc,sBAACC,IAAD;AAAA,gFAA4EA,IAA5E;AAAA,GALC;AAMfC,cAAY,oBAACJ,EAAD;AAAA,WAAQP,gDAA2CY,KAAKC,KAAL,CAAWN,KAAG,IAAd,CAA3C,SAAkEA,EAAlE,WAAR;AAAA;AANG,CAAjB",
      "file": "endpoints.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var protocol = (typeof(window) == \"undefined\" ? \"http\" : \"https\")+\"://\"\nmodule.exports = {\n  search: protocol+\"search.artsmia.org\",\n  // search: 'http://localhost:4680',\n  info: \"https://artsmia.github.io/collection-info/index.json\",\n  dimensionSvg: (id, file) => `https://mia-dimensions.s3.amazonaws.com/${id}/${file || 'dimensions'}.svg`,\n  galleryPanel: (room) => `\"https://cdn.jsdelivr.net/gh/artsmia/mia-gallery-panels@master/${room}.md`,\n  exhibition: (id) => protocol+`cdn.dx.artsmia.org/exhibitions/${Math.floor(id/1000)}/${id}.json`,\n}\n"
      ]
    },
    "mtime": 1584573136822
  },
  "{\"filename\":\"/var/www/art/src/image-quilt.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "extends",
        "objectWithoutProperties"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/image-quilt.js",
      "filenameRelative": "/var/www/art/src/image-quilt.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "image-quilt.js",
      "sourceFileName": "image-quilt.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "image-quilt"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\n\nvar _require = require('react-router'),\n    Link = _require.Link;\n\nvar PureRenderMixin = require('react-addons-pure-render-mixin');\nvar ReactDOM = require('react-dom');\nvar debounce = require('debounce');\nvar cookie = require('react-cookie');\n\nvar linearPartition = require('linear-partitioning');\nvar ArtworkImage = require('./artwork-image');\nvar Image = require('./image');\n\nvar ImageQuilt = React.createClass({\n  displayName: 'ImageQuilt',\n\n  mixins: [PureRenderMixin],\n\n  getInitialState: function getInitialState() {\n    var artworks = this.props.artworks;\n    var maybeShuffledArtworks = this.props.shuffle ? artworks.sort(function () {\n      return .5 - Math.random();\n    }) : artworks;\n\n    return {\n      active: null,\n      unpinned: false,\n      width: window.innerWidth || this.context.universal && 1000,\n      alwaysShow: cookie.load('freeTheQuilt'),\n      shuffledArtworks: this.props.shuffle ? maybeShuffledArtworks : undefined,\n      maxRows: this.props.maxRows,\n      maxWorks: this.props.maxWorks\n    };\n  },\n\n\n  handleResize: function handleResize(e) {\n    if (!this.isMounted()) return;\n    this.setState({ width: ReactDOM.findDOMNode(this).clientWidth });\n  },\n  componentDidMount: function componentDidMount() {\n    this.handleResize();\n    window.addEventListener('resize', debounce(this.handleResize, 200));\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n  },\n\n  render: function render() {\n    var _this = this;\n\n    if (this.hideDarkenedQuilt()) return this.emptyQuiltToggleControl();\n\n    var artworks = this.props.artworks.slice(0, this.state.maxWorks);\n    var shuffledArtworks = this.state.shuffledArtworks && this.state.shuffledArtworks.slice(0, this.props.maxWorks);\n    var _art = artworks.map(function (art) {\n      var s = art._source;\n      if (s.image == 'invalid' || s.image_width == 0 && s.image_height == 0 || s.rights_type == 'Permission Denied') {\n        s.image = 'invalid';\n        var splitOn = /;|:|\\]/;\n        var _ref = [s.title.split(splitOn)[0], s.artist.split(splitOn)[0]];\n        s.title_short = _ref[0];\n        s.artist_short = _ref[1];\n\n        var text = s.title_short;\n        s.text_length = text.length;\n        var deltaAverageTextLength = text.length / 17; // bigger box for items with more text\n        s.image_width = deltaAverageTextLength > 2 ? 300 : 200;\n        s.image_height = 200;\n      }\n      return s;\n    });\n\n    var isInspiredByMia = this.props.isInspiredByMia;\n\n    var hPadding = this.props.isInspiredByMia ? '10px' : '0';\n    var vPadding = this.props.isInspiredByMia ? '2em' : 0;\n    var hPaddingInt = Number(hPadding.replace(/[^0-9]/g, ''));\n\n    isInspiredByMia ? _art.map(function (art) {\n      return art.aspect_ratio = (art.image_width + Number(hPaddingInt) * 2) / art.image_height;\n    }) : _art.map(function (art) {\n      return art.aspect_ratio = art.image_width / art.image_height;\n    });\n    var summedAspectRatio = _art.reduce(function (sum, art) {\n      return sum + art.aspect_ratio;\n    }, 0);\n    // Fit the images into `maxRows` or however many rows it would take to show each\n    // approx `rowHeight`px tall\n    var rowHeight = !isInspiredByMia ? this.props.rowHeight || 200 : 234; // bigger images for 'inspired by mia'\n    var numRows = Math.min(this.props.maxRows, Math.max(Math.floor(summedAspectRatio * rowHeight / this.state.width), 1));\n\n    var rows = this.getPartition(shuffledArtworks || artworks, numRows);\n\n    console.info('ImageQuilt', {\n      summedAspectRatio: summedAspectRatio, rowHeight: rowHeight, numRows: numRows, rows: rows,\n      hPadding: hPadding, hPaddingInt: hPaddingInt,\n      vPadding: vPadding,\n      isInspiredByMia: isInspiredByMia\n    });\n\n    var images = rows.map(function (row, index) {\n      var rowSummedAspectRatio = row.reduce(function (sum, art) {\n        return sum + art._source.aspect_ratio;\n      }, 0);\n      var rowAspectRatio = rowSummedAspectRatio / row.length;\n      var unadjustedHeight = _this.state.width / rowSummedAspectRatio;\n\n      false && console.info('ImageQuilt row', {\n        rowSummedAspectRatio: rowSummedAspectRatio,\n        rowAspectRatio: rowAspectRatio,\n        unadjustedHeight: unadjustedHeight\n      });\n\n      var images = row.map(function (art) {\n        var _art = art._source;\n        var id = _art.id;\n        var width = _art.aspect_ratio / rowSummedAspectRatio * _this.state.width;\n        var height = width / _art.aspect_ratio;\n        var maxRowHeight = _this.props.maxRowHeight || 200;\n        var widthAdjustedToClipTallRows = unadjustedHeight > maxRowHeight ? width / (unadjustedHeight / maxRowHeight) : width;\n\n        false && console.info('ImageQuilt row image', {\n          widthAdjustedToClipTallRows: widthAdjustedToClipTallRows\n        });\n\n        return React.createElement(QuiltPatch, { art: _art,\n          width: widthAdjustedToClipTallRows,\n          onClick: _this.clicked.bind(_this, art),\n          onMouseEnter: _this.hovered.bind(_this, art, true),\n          onMouseLeave: _this.hovered.bind(_this, art, false),\n          onImageInvalidation: _this.forceUpdate.bind(_this),\n          key: _art.id,\n          customImageFn: _this.props.customImageFn,\n          lazyLoad: _this.props.lazyLoad,\n          hPadding: hPadding\n        });\n      });\n\n      // centered doesn't work on the first row because the search box is in the way\n      // space-around looks best on bottom rows\n      var justify = index == 0 && row.length <= 3 ? 'space-around' : 'center';\n      var rowStyle = {\n        minHeight: Math.min(unadjustedHeight, _this.props.maxRowHeight || 200, 50),\n        display: 'flex',\n        justifyContent: justify,\n        whiteSpace: 'nowrap',\n        padding: '0 0 ' + vPadding + ' 0'\n      };\n\n      return React.createElement(\n        'div',\n        { className: 'quilt-row-wrap',\n          key: 'row' + index,\n          style: rowStyle },\n        images\n      );\n    });\n\n    var quiltStyle = _extends({\n      cursor: 'pointer',\n      minHeight: 150\n    }, this.props.style);\n\n    return React.createElement(\n      'div',\n      { className: 'quilt-wrap', onMouseLeave: this.hovered.bind(this, null, false), style: quiltStyle },\n      images,\n      React.createElement(\n        'div',\n        { id: 'quilt-controls', style: { float: 'right', display: 'none' } },\n        this.state.maxWorks < this.props.artworks.length && React.createElement(\n          'a',\n          { onClick: this.enlarge.bind(this, 1, 10) },\n          'more thumbnails'\n        ),\n        this.state.maxWorks > 0 && React.createElement(\n          'a',\n          { onClick: this.enlarge.bind(this, -1, -10) },\n          ' / fewer'\n        ),\n        React.createElement('br', null),\n        React.createElement(\n          'a',\n          { onClick: this.enlarge.bind(this, 1, 0) },\n          'bigger'\n        ),\n        React.createElement(\n          'a',\n          { onClick: this.enlarge.bind(this, -1, 0) },\n          ' / smaller'\n        ),\n        React.createElement('br', null),\n        this.state.morphDelta > 0 || React.createElement(\n          'a',\n          { onClick: this.morph.bind(this, 1) },\n          'grow!'\n        ),\n        this.state.morphDelta < 0 || React.createElement(\n          'a',\n          { onClick: this.morph.bind(this, -1) },\n          ' / shrink!'\n        ),\n        this.state.morphDelta != 0 && React.createElement(\n          'a',\n          { onClick: this.resetMorph },\n          ' / stop!'\n        ),\n        React.createElement('br', null),\n        this.props.maxRows == this.state.maxRows && this.props.maxWorks == this.state.maxWorks || React.createElement(\n          'a',\n          { onClick: this.reset },\n          'reset'\n        )\n      )\n    );\n  },\n\n\n  cachedPartitions: {},\n\n  getPartition: function getPartition(artworks, numRows) {\n    var memoKey = 'rows:' + this.props.maxRows + '|width:' + this.state.width + '|' + artworks.map(function (art) {\n      return art._id;\n    }).join('-');\n    var memo = this.cachedPartitions[memoKey];\n    if (memo) return memo;\n\n    var partitionBy = function partitionBy(collection, weightFn, k) {\n      var weights = collection.map(weightFn);\n      var partition = linearPartition(weights, k);\n\n      var index = 0;\n      return partition.map(function (weightedRow) {\n        return weightedRow.map(function (weight, i) {\n          return collection[index++];\n        });\n      });\n    };\n\n    var rows = partitionBy(artworks, function (art) {\n      return art._source.aspect_ratio * 100;\n    }, numRows);\n    // Don't cache quilt partitions when server rendering, potential memory waterfall\n    if (!this.context.universal) this.cachedPartitions[memoKey] = rows;\n    return rows;\n  },\n\n\n  // The quilt changes the order of search results in 2 ways:\n  // * clicking pins a result to the top, in which case it will stay there\n  // * hovering 'floats' a result to the top, but it will sink back down\n  // …after the interaction is finished.\n  // Clicking the pinned artwork un-pins it\n  clicked: function clicked(art) {\n    var updateState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var onClick = this.props.onClick;\n\n    if (updateState) this.setState({ active: art, unpinned: false });\n    var sameArt = this.state.unpinned && !updateState || updateState && this.state.active && art == this.state.active;\n    if (sameArt) {\n      this.setState({ active: null, unpinned: true });\n      art = null;\n    }\n    onClick && onClick(art);\n    this.state.unpinned && this.setState({ unpinned: false });\n  },\n  hovered: function hovered(art, active) {\n    if (this.props.disableHover) return;\n    // cancel the delayed 'float' on mouseleave\n    // if an artwork was clicked, leave it pinned\n    if (!active) {\n      clearTimeout(this.activate);\n      if (!art) this.clicked(this.state.active, false);\n      return;\n    }\n    this.activate = setTimeout(this.clicked.bind(this, art, false), 300);\n  },\n  hideDarkenedQuilt: function hideDarkenedQuilt() {\n    return this.props.darken && !this.state.alwaysShow;\n  },\n  emptyQuiltToggleControl: function emptyQuiltToggleControl() {\n    var styles = {\n      minHeight: '7rem',\n      display: 'inline-block',\n      width: '100%',\n      WebkitUserSelect: 'none',\n      cursor: 'pointer',\n      zIndex: 100\n    };\n\n    return React.createElement('span', { className: 'quilt-wrap dark', style: styles, onDoubleClick: this.freeTheQuilt });\n  },\n  freeTheQuilt: function freeTheQuilt() {\n    cookie.save('freeTheQuilt', true);\n    this.setState({ alwaysShow: true });\n  },\n  enlarge: function enlarge() {\n    var rows = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n    var works = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n\n    this.setState({\n      maxRows: this.state.maxRows + rows,\n      maxWorks: this.state.maxWorks + works\n    });\n  },\n  reset: function reset() {\n    console.info('resetting quilt', this.props);\n    if (this.state.morphInterval) clearInterval(this.state.morphInterval);\n    this.setState({\n      maxRows: this.props.maxRows,\n      maxWorks: this.props.maxWorks\n    });\n  },\n  morph: function morph() {\n    var _this2 = this;\n\n    var delta = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n    var morph = function morph() {\n      console.info('morphing', _this2.state.maxWorks, _this2.props.artworks.length);\n      if (_this2.state.maxWorks > _this2.props.artworks.length || _this2.state.maxRows <= 0) {\n        clearInterval(_this2.state.morphInterval);\n        _this2.setState({ morphDelta: 0, morphInterval: false });\n      }\n      _this2.enlarge(delta, delta * 5);\n    };\n    this.enlarge(delta, delta * 5);\n    this.setState({\n      morphDelta: delta,\n      morphInterval: setInterval(morph, 3000)\n    });\n  },\n  resetMorph: function resetMorph() {\n    this.setState({ morphDelta: 0 });\n    clearInterval(this.state.morphInterval);\n  }\n});\nImageQuilt.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nImageQuilt.getImagedResults = function (hits) {\n  return hits && hits.filter(function (hit) {\n    return hit._source.image == 'valid' && hit._source.image_width > 0;\n  });\n};\n\nmodule.exports = ImageQuilt;\n\nvar QuiltPatch = React.createClass({\n  displayName: 'QuiltPatch',\n  render: function render() {\n    var _props = this.props,\n        art = _props.art,\n        width = _props.width,\n        customImageFn = _props.customImageFn,\n        hPadding = _props.hPadding,\n        other = _objectWithoutProperties(_props, ['art', 'width', 'customImageFn', 'hPadding']);\n\n    var id = art.id;\n\n    var style = {\n      display: 'inline-block',\n      verticalAlign: 'top',\n      overflow: 'hidden',\n      width: width,\n      height: width / art.aspect_ratio,\n      margin: '0 ' + hPadding\n    };\n\n    var imgStyle = _extends({}, style, {\n      left: \"50%\",\n      top: \"50%\",\n      transform: \"translateY(-50%) translateX(-50%)\",\n      WebkitTransform: \"translateY(-50%) translateX(-50%)\",\n      position: \"absolute\"\n    });\n\n    false && console.info('QuiltPatch', { hPadding: hPadding, imgStyle: imgStyle });\n\n    var image = React.createElement(Image, _extends({\n      art: art,\n      style: imgStyle,\n      customImage: customImageFn\n    }, other));\n\n    var textStyle = _extends({}, style, {\n      display: 'table',\n      whiteSpace: 'normal'\n    });\n\n    var patch = art.image == 'valid' ? image : React.createElement(\n      'span',\n      _extends({ className: 'invalid', style: textStyle }, other),\n      React.createElement(\n        'p',\n        null,\n        React.createElement(\n          'strong',\n          null,\n          art.title_short\n        )\n      )\n    );\n\n    return React.createElement(\n      Link,\n      {\n        onClick: this.clickOrDontClick,\n        style: _extends({}, style, { position: 'relative' }),\n        to: 'artwork',\n        params: { id: art.id } },\n      patch\n    );\n  },\n\n\n  // halt the click event if javascript is loaded\n  // clicking triggers the right-hand preview, not the `<a>`\n  // TODO make this work with command click tho\n  clickOrDontClick: function clickOrDontClick(event) {\n    if (!this.context.universal) event.preventDefault();\n  },\n  getDefaultProps: function getDefaultProps() {\n    return {\n      lazyLoad: true,\n      darken: false\n    };\n  }\n});\nQuiltPatch.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImltYWdlLXF1aWx0LmpzIl0sIm5hbWVzIjpbIlJlYWN0IiwicmVxdWlyZSIsIkxpbmsiLCJQdXJlUmVuZGVyTWl4aW4iLCJSZWFjdERPTSIsImRlYm91bmNlIiwiY29va2llIiwibGluZWFyUGFydGl0aW9uIiwiQXJ0d29ya0ltYWdlIiwiSW1hZ2UiLCJJbWFnZVF1aWx0IiwiY3JlYXRlQ2xhc3MiLCJtaXhpbnMiLCJnZXRJbml0aWFsU3RhdGUiLCJhcnR3b3JrcyIsInByb3BzIiwibWF5YmVTaHVmZmxlZEFydHdvcmtzIiwic2h1ZmZsZSIsInNvcnQiLCJNYXRoIiwicmFuZG9tIiwiYWN0aXZlIiwidW5waW5uZWQiLCJ3aWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJjb250ZXh0IiwidW5pdmVyc2FsIiwiYWx3YXlzU2hvdyIsImxvYWQiLCJzaHVmZmxlZEFydHdvcmtzIiwidW5kZWZpbmVkIiwibWF4Um93cyIsIm1heFdvcmtzIiwiaGFuZGxlUmVzaXplIiwiZSIsImlzTW91bnRlZCIsInNldFN0YXRlIiwiZmluZERPTU5vZGUiLCJjbGllbnRXaWR0aCIsImNvbXBvbmVudERpZE1vdW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbmRlciIsImhpZGVEYXJrZW5lZFF1aWx0IiwiZW1wdHlRdWlsdFRvZ2dsZUNvbnRyb2wiLCJzbGljZSIsInN0YXRlIiwiX2FydCIsIm1hcCIsImFydCIsInMiLCJfc291cmNlIiwiaW1hZ2UiLCJpbWFnZV93aWR0aCIsImltYWdlX2hlaWdodCIsInJpZ2h0c190eXBlIiwic3BsaXRPbiIsInRpdGxlIiwic3BsaXQiLCJhcnRpc3QiLCJ0aXRsZV9zaG9ydCIsImFydGlzdF9zaG9ydCIsInRleHQiLCJ0ZXh0X2xlbmd0aCIsImxlbmd0aCIsImRlbHRhQXZlcmFnZVRleHRMZW5ndGgiLCJpc0luc3BpcmVkQnlNaWEiLCJoUGFkZGluZyIsInZQYWRkaW5nIiwiaFBhZGRpbmdJbnQiLCJOdW1iZXIiLCJyZXBsYWNlIiwiYXNwZWN0X3JhdGlvIiwic3VtbWVkQXNwZWN0UmF0aW8iLCJyZWR1Y2UiLCJzdW0iLCJyb3dIZWlnaHQiLCJudW1Sb3dzIiwibWluIiwibWF4IiwiZmxvb3IiLCJyb3dzIiwiZ2V0UGFydGl0aW9uIiwiY29uc29sZSIsImluZm8iLCJpbWFnZXMiLCJyb3ciLCJpbmRleCIsInJvd1N1bW1lZEFzcGVjdFJhdGlvIiwicm93QXNwZWN0UmF0aW8iLCJ1bmFkanVzdGVkSGVpZ2h0IiwiaWQiLCJoZWlnaHQiLCJtYXhSb3dIZWlnaHQiLCJ3aWR0aEFkanVzdGVkVG9DbGlwVGFsbFJvd3MiLCJjbGlja2VkIiwiYmluZCIsImhvdmVyZWQiLCJmb3JjZVVwZGF0ZSIsImN1c3RvbUltYWdlRm4iLCJsYXp5TG9hZCIsImp1c3RpZnkiLCJyb3dTdHlsZSIsIm1pbkhlaWdodCIsImRpc3BsYXkiLCJqdXN0aWZ5Q29udGVudCIsIndoaXRlU3BhY2UiLCJwYWRkaW5nIiwicXVpbHRTdHlsZSIsImN1cnNvciIsInN0eWxlIiwiZmxvYXQiLCJlbmxhcmdlIiwibW9ycGhEZWx0YSIsIm1vcnBoIiwicmVzZXRNb3JwaCIsInJlc2V0IiwiY2FjaGVkUGFydGl0aW9ucyIsIm1lbW9LZXkiLCJfaWQiLCJqb2luIiwibWVtbyIsInBhcnRpdGlvbkJ5IiwiY29sbGVjdGlvbiIsIndlaWdodEZuIiwiayIsIndlaWdodHMiLCJwYXJ0aXRpb24iLCJ3ZWlnaHRlZFJvdyIsIndlaWdodCIsImkiLCJ1cGRhdGVTdGF0ZSIsIm9uQ2xpY2siLCJzYW1lQXJ0IiwiZGlzYWJsZUhvdmVyIiwiY2xlYXJUaW1lb3V0IiwiYWN0aXZhdGUiLCJzZXRUaW1lb3V0IiwiZGFya2VuIiwic3R5bGVzIiwiV2Via2l0VXNlclNlbGVjdCIsInpJbmRleCIsImZyZWVUaGVRdWlsdCIsInNhdmUiLCJ3b3JrcyIsIm1vcnBoSW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiZGVsdGEiLCJzZXRJbnRlcnZhbCIsImNvbnRleHRUeXBlcyIsInJvdXRlciIsIlByb3BUeXBlcyIsImZ1bmMiLCJib29sIiwiZ2V0SW1hZ2VkUmVzdWx0cyIsImhpdHMiLCJmaWx0ZXIiLCJoaXQiLCJtb2R1bGUiLCJleHBvcnRzIiwiUXVpbHRQYXRjaCIsIm90aGVyIiwidmVydGljYWxBbGlnbiIsIm92ZXJmbG93IiwibWFyZ2luIiwiaW1nU3R5bGUiLCJsZWZ0IiwidG9wIiwidHJhbnNmb3JtIiwiV2Via2l0VHJhbnNmb3JtIiwicG9zaXRpb24iLCJ0ZXh0U3R5bGUiLCJwYXRjaCIsImNsaWNrT3JEb250Q2xpY2siLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZ2V0RGVmYXVsdFByb3BzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFJQSxRQUFRQyxRQUFRLE9BQVIsQ0FBWjs7ZUFDYUEsUUFBUSxjQUFSLEM7SUFBUkMsSSxZQUFBQSxJOztBQUNMLElBQUlDLGtCQUFrQkYsUUFBUSxnQ0FBUixDQUF0QjtBQUNBLElBQUlHLFdBQVdILFFBQVEsV0FBUixDQUFmO0FBQ0EsSUFBSUksV0FBV0osUUFBUSxVQUFSLENBQWY7QUFDQSxJQUFJSyxTQUFTTCxRQUFRLGNBQVIsQ0FBYjs7QUFFQSxJQUFJTSxrQkFBa0JOLFFBQVEscUJBQVIsQ0FBdEI7QUFDQSxJQUFJTyxlQUFlUCxRQUFRLGlCQUFSLENBQW5CO0FBQ0EsSUFBSVEsUUFBUVIsUUFBUSxTQUFSLENBQVo7O0FBRUEsSUFBTVMsYUFBYVYsTUFBTVcsV0FBTixDQUFrQjtBQUFBOztBQUNuQ0MsVUFBUSxDQUFDVCxlQUFELENBRDJCOztBQUduQ1UsaUJBSG1DLDZCQUdqQjtBQUNoQixRQUFNQyxXQUFXLEtBQUtDLEtBQUwsQ0FBV0QsUUFBNUI7QUFDQSxRQUFNRSx3QkFBd0IsS0FBS0QsS0FBTCxDQUFXRSxPQUFYLEdBQzVCSCxTQUFTSSxJQUFULENBQWM7QUFBQSxhQUFNLEtBQUtDLEtBQUtDLE1BQUwsRUFBWDtBQUFBLEtBQWQsQ0FENEIsR0FFNUJOLFFB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S0FBS2lILGdCQURUO0FBRUwsNEJBQVcvRCxLQUFYLElBQWtCNEQsVUFBVSxVQUE1QixHQUZLO0FBR0wsWUFBRyxTQUhFO0FBSUwsZ0JBQVEsRUFBQy9FLElBQUkxQyxJQUFJMEMsRUFBVCxFQUpIO0FBSWtCaUY7QUFKbEIsS0FBUDtBQUtELEdBL0NnQzs7O0FBaURqQztBQUNBO0FBQ0E7QUFDQUMsa0JBcERpQyw0QkFvRGhCQyxLQXBEZ0IsRUFvRFQ7QUFDdEIsUUFBRyxDQUFDLEtBQUt0SixPQUFMLENBQWFDLFNBQWpCLEVBQTRCcUosTUFBTUMsY0FBTjtBQUM3QixHQXREZ0M7QUF3RGpDQyxpQkF4RGlDLDZCQXdEZjtBQUNoQixXQUFPO0FBQ0w1RSxnQkFBVSxJQURMO0FBRUxzQyxjQUFRO0FBRkgsS0FBUDtBQUlEO0FBN0RnQyxDQUFsQixDQUFqQjtBQStEQXNCLFdBQVdYLFlBQVgsR0FBMEI7QUFDeEJDLFVBQVF4SixNQUFNeUosU0FBTixDQUFnQkMsSUFEQTtBQUV4Qi9ILGFBQVczQixNQUFNeUosU0FBTixDQUFnQkU7QUFGSCxDQUExQiIsImZpbGUiOiJpbWFnZS1xdWlsdC5qcyIsInNvdXJjZVJvb3QiOiIvdmFyL3d3dy9hcnQvc3JjIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIHtMaW5rfSA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIgUHVyZVJlbmRlck1peGluID0gcmVxdWlyZSgncmVhY3QtYWRkb25zLXB1cmUtcmVuZGVyLW1peGluJylcbnZhciBSZWFjdERPTSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpXG52YXIgZGVib3VuY2UgPSByZXF1aXJlKCdkZWJvdW5jZScpXG52YXIgY29va2llID0gcmVxdWlyZSgncmVhY3QtY29va2llJylcblxudmFyIGxpbmVhclBhcnRpdGlvbiA9IHJlcXVpcmUoJ2xpbmVhci1wYXJ0aXRpb25pbmcnKVxudmFyIEFydHdvcmtJbWFnZSA9IHJlcXVpcmUoJy4vYXJ0d29yay1pbWFnZScpXG52YXIgSW1hZ2UgPSByZXF1aXJlKCcuL2ltYWdlJylcblxuY29uc3QgSW1hZ2VRdWlsdCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgbWl4aW5zOiBbUHVyZVJlbmRlck1peGluXSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgY29uc3QgYXJ0d29ya3MgPSB0aGlzLnByb3BzLmFydHdvcmtzXG4gICAgY29uc3QgbWF5YmVTaHVmZmxlZEFydHdvcmtzID0gdGhpcy5wcm9wcy5zaHVmZmxlID9cbiAgICAgIGFydHdvcmtzLnNvcnQoKCkgPT4gLjUgLSBNYXRoLnJhbmRvbSgpKSA6XG4gICAgICBhcnR3b3Jrc1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGFjdGl2ZTogbnVsbCxcbiAgICAgIHVucGlubmVkOiBmYWxzZSxcbiAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCB8fCB0aGlzLmNvbnRleHQudW5pdmVyc2FsICYmIDEwMDAsXG4gICAgICBhbHdheXNTaG93OiBjb29raWUubG9hZCgnZnJlZVRoZVF1aWx0JyksXG4gICAgICBzaHVmZmxlZEFydHdvcmtzOiB0aGlzLnByb3BzLnNodWZmbGUgPyBtYXliZVNodWZmbGVkQXJ0d29ya3MgOiB1bmRlZmluZWQsXG4gICAgICBtYXhSb3dzOiB0aGlzLnByb3BzLm1heFJvd3MsXG4gICAgICBtYXhXb3JrczogdGhpcy5wcm9wcy5tYXhXb3JrcyxcbiAgICB9XG4gIH0sXG5cbiAgaGFuZGxlUmVzaXplOiBmdW5jdGlvbihlKSB7XG4gICAgaWYoIXRoaXMuaXNNb3VudGVkKCkpIHJldHVyblxuICAgIHRoaXMuc2V0U3RhdGUoe3dpZHRoOiBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKS5jbGllbnRXaWR0aH0pXG4gIH0sXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmhhbmRsZVJlc2l6ZSgpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGRlYm91bmNlKHRoaXMuaGFuZGxlUmVzaXplLCAyMDApKVxuICB9LFxuICBjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24oKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuaGFuZGxlUmVzaXplKVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICBpZih0aGlzLmhpZGVEYXJrZW5lZFF1aWx0KCkpIHJldHVybiB0aGlzLmVtcHR5UXVpbHRUb2dnbGVDb250cm9sKClcblxuICAgIGNvbnN0IGFydHdvcmtzID0gdGhpcy5wcm9wcy5hcnR3b3Jrcy5zbGljZSgwLCB0aGlzLnN0YXRlLm1heFdvcmtzKVxuICAgIGNvbnN0IHNodWZmbGVkQXJ0d29ya3MgPSB0aGlzLnN0YXRlLnNodWZmbGVkQXJ0d29ya3MgJiYgdGhpcy5zdGF0ZS5zaHVmZmxlZEFydHdvcmtzLnNsaWNlKDAsIHRoaXMucHJvcHMubWF4V29ya3MpXG4gICAgY29uc3QgX2FydCA9IGFydHdvcmtzLm1hcCgoYXJ0KSA9PiB7XG4gICAgICB2YXIgcyA9IGFydC5fc291cmNlXG4gICAgICBpZihzLmltYWdlID09ICdpbnZhbGlkJyB8fCAocy5pbWFnZV93aWR0aCA9PSAwICYmIHMuaW1hZ2VfaGVpZ2h0ID09IDApIHx8IHMucmlnaHRzX3R5cGUgPT0gJ1Blcm1pc3Npb24gRGVuaWVkJykge1xuICAgICAgICBzLmltYWdlID0gJ2ludmFsaWQnXG4gICAgICAgIHZhciBzcGxpdE9uID0gLzt8OnxcXF0vO1xuICAgICAgICAoW3MudGl0bGVfc2hvcnQsIHMuYXJ0aXN0X3Nob3J0XSA9IFtzLnRpdGxlLnNwbGl0KHNwbGl0T24pWzBdLCBzLmFydGlzdC5zcGxpdChzcGxpdE9uKVswXV0pXG4gICAgICAgIHZhciB0ZXh0ID0gcy50aXRsZV9zaG9ydFxuICAgICAgICBzLnRleHRfbGVuZ3RoID0gdGV4dC5sZW5ndGhcbiAgICAgICAgdmFyIGRlbHRhQXZlcmFnZVRleHRMZW5ndGggPSB0ZXh0Lmxlbmd0aC8xNyAvLyBiaWdnZXIgYm94IGZvciBpdGVtcyB3aXRoIG1vcmUgdGV4dFxuICAgICAgICBzLmltYWdlX3dpZHRoID0gZGVsdGFBdmVyYWdlVGV4dExlbmd0aCA+IDIgPyAzMDAgOiAyMDBcbiAgICAgICAgcy5pbWFnZV9oZWlnaHQgPSAyMDBcbiAgICAgIH1cbiAgICAgIHJldHVybiBzXG4gICAgfSlcblxuICAgIGNvbnN0IHsgaXNJbnNwaXJlZEJ5TWlhIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgaFBhZGRpbmcgPSB0aGlzLnByb3BzLmlzSW5zcGlyZWRCeU1pYSA/ICcxMHB4JyA6ICcwJ1xuICAgIGNvbnN0IHZQYWRkaW5nID0gdGhpcy5wcm9wcy5pc0luc3BpcmVkQnlNaWEgPyAnMmVtJyA6IDBcbiAgICBjb25zdCBoUGFkZGluZ0ludCA9IE51bWJlcihoUGFkZGluZy5yZXBsYWNlKC9bXjAtOV0vZywgJycpKVxuXG4gICAgaXNJbnNwaXJlZEJ5TWlhXG4gICAgICA/IF9hcnQubWFwKChhcnQpID0+IGFydC5hc3BlY3RfcmF0aW8gPSAoYXJ0LmltYWdlX3dpZHRoK051bWJlcihoUGFkZGluZ0ludCkqMikvYXJ0LmltYWdlX2hlaWdodClcbiAgICAgIDogX2FydC5tYXAoKGFydCkgPT4gYXJ0LmFzcGVjdF9yYXRpbyA9IChhcnQuaW1hZ2Vfd2lkdGgvYXJ0LmltYWdlX2hlaWdodCkpXG4gICAgY29uc3Qgc3VtbWVkQXNwZWN0UmF0aW8gPSBfYXJ0LnJlZHVjZSgoc3VtLCBhcnQpID0+IHtyZXR1cm4gc3VtK2FydC5hc3BlY3RfcmF0aW99LCAwKVxuICAgIC8vIEZpdCB0aGUgaW1hZ2VzIGludG8gYG1heFJvd3NgIG9yIGhvd2V2ZXIgbWFueSByb3dzIGl0IHdvdWxkIHRha2UgdG8gc2hvdyBlYWNoXG4gICAgLy8gYXBwcm94IGByb3dIZWlnaHRgcHggdGFsbFxuICAgIHZhciByb3dIZWlnaHQgPSAhaXNJbnNwaXJlZEJ5TWlhXG4gICAgICA/IHRoaXMucHJvcHMucm93SGVpZ2h0IHx8IDIwMFxuICAgICAgOiAyMzQgLy8gYmlnZ2VyIGltYWdlcyBmb3IgJ2luc3BpcmVkIGJ5IG1pYSdcbiAgICB2YXIgbnVtUm93cyA9IE1hdGgubWluKHRoaXMucHJvcHMubWF4Um93cywgTWF0aC5tYXgoTWF0aC5mbG9vcihzdW1tZWRBc3BlY3RSYXRpbypyb3dIZWlnaHQvdGhpcy5zdGF0ZS53aWR0aCksIDEpKVxuXG4gICAgdmFyIHJvd3MgPSB0aGlzLmdldFBhcnRpdGlvbihzaHVmZmxlZEFydHdvcmtzIHx8IGFydHdvcmtzLCBudW1Sb3dzKVxuXG4gICAgY29uc29sZS5pbmZvKCdJbWFnZVF1aWx0Jywge1xuICAgICAgc3VtbWVkQXNwZWN0UmF0aW8sIHJvd0hlaWdodCwgbnVtUm93cywgcm93cyxcbiAgICAgIGhQYWRkaW5nLCBoUGFkZGluZ0ludCxcbiAgICAgIHZQYWRkaW5nLFxuICAgICAgaXNJbnNwaXJlZEJ5TWlhLFxuICAgIH0pXG5cbiAgICBjb25zdCBpbWFnZXMgPSByb3dzLm1hcCgocm93LCBpbmRleCkgPT4ge1xuICAgICAgdmFyIHJvd1N1bW1lZEFzcGVjdFJhdGlvID0gcm93LnJlZHVjZSgoc3VtLCBhcnQpID0+IHtyZXR1cm4gc3VtK2FydC5fc291cmNlLmFzcGVjdF9yYXRpb30sIDApXG4gICAgICB2YXIgcm93QXNwZWN0UmF0aW8gPSByb3dTdW1tZWRBc3BlY3RSYXRpby9yb3cubGVuZ3RoXG4gICAgICB2YXIgdW5hZGp1c3RlZEhlaWdodCA9IHRoaXMuc3RhdGUud2lkdGgvcm93U3VtbWVkQXNwZWN0UmF0aW9cblxuICAgICAgZmFsc2UgJiYgY29uc29sZS5pbmZvKCdJbWFnZVF1aWx0IHJvdycsIHtcbiAgICAgICAgcm93U3VtbWVkQXNwZWN0UmF0aW8sXG4gICAgICAgIHJvd0FzcGVjdFJhdGlvLFxuICAgICAgICB1bmFkanVzdGVkSGVpZ2h0LFxuICAgICAgfSlcblxuICAgICAgdmFyIGltYWdlcyA9IHJvdy5tYXAoKGFydCkgPT4ge1xuICAgICAgICB2YXIgX2FydCA9IGFydC5fc291cmNlXG4gICAgICAgIGNvbnN0IGlkID0gX2FydC5pZFxuICAgICAgICBjb25zdCB3aWR0aCA9IF9hcnQuYXNwZWN0X3JhdGlvL3Jvd1N1bW1lZEFzcGVjdFJhdGlvKnRoaXMuc3RhdGUud2lkdGhcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gd2lkdGgvX2FydC5hc3BlY3RfcmF0aW9cbiAgICAgICAgY29uc3QgbWF4Um93SGVpZ2h0ID0gdGhpcy5wcm9wcy5tYXhSb3dIZWlnaHQgfHwgMjAwXG4gICAgICAgIGNvbnN0IHdpZHRoQWRqdXN0ZWRUb0NsaXBUYWxsUm93cyA9IHVuYWRqdXN0ZWRIZWlnaHQgPiBtYXhSb3dIZWlnaHQgPyB3aWR0aC8odW5hZGp1c3RlZEhlaWdodC9tYXhSb3dIZWlnaHQpIDogd2lkdGhcblxuICAgICAgICBmYWxzZSAmJiBjb25zb2xlLmluZm8oJ0ltYWdlUXVpbHQgcm93IGltYWdlJywge1xuICAgICAgICAgIHdpZHRoQWRqdXN0ZWRUb0NsaXBUYWxsUm93cyxcbiAgICAgICAgfSlcblxuICAgICAgICByZXR1cm4gPFF1aWx0UGF0Y2ggYXJ0PXtfYXJ0fVxuICAgICAgICAgIHdpZHRoPXt3aWR0aEFkanVzdGVkVG9DbGlwVGFsbFJvd3N9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5jbGlja2VkLmJpbmQodGhpcywgYXJ0KX1cbiAgICAgICAgICBvbk1vdXNlRW50ZXI9e3RoaXMuaG92ZXJlZC5iaW5kKHRoaXMsIGFydCwgdHJ1ZSl9XG4gICAgICAgICAgb25Nb3VzZUxlYXZlPXt0aGlzLmhvdmVyZWQuYmluZCh0aGlzLCBhcnQsIGZhbHNlKX1cbiAgICAgICAgICBvbkltYWdlSW52YWxpZGF0aW9uPXt0aGlzLmZvcmNlVXBkYXRlLmJpbmQodGhpcyl9XG4gICAgICAgICAga2V5PXtfYXJ0LmlkfVxuICAgICAgICAgIGN1c3RvbUltYWdlRm49e3RoaXMucHJvcHMuY3VzdG9tSW1hZ2VGbn1cbiAgICAgICAgICBsYXp5TG9hZD17dGhpcy5wcm9wcy5sYXp5TG9hZH1cbiAgICAgICAgICBoUGFkZGluZz17aFBhZGRpbmd9XG4gICAgICAgIC8+XG4gICAgICB9KVxuXG4gICAgICAvLyBjZW50ZXJlZCBkb2Vzbid0IHdvcmsgb24gdGhlIGZpcnN0IHJvdyBiZWNhdXNlIHRoZSBzZWFyY2ggYm94IGlzIGluIHRoZSB3YXlcbiAgICAgIC8vIHNwYWNlLWFyb3VuZCBsb29rcyBiZXN0IG9uIGJvdHRvbSByb3dzXG4gICAgICBjb25zdCBqdXN0aWZ5ID0gaW5kZXggPT0gMCAmJiByb3cubGVuZ3RoIDw9MyA/ICdzcGFjZS1hcm91bmQnIDogJ2NlbnRlcidcbiAgICAgIHZhciByb3dTdHlsZSA9IHtcbiAgICAgICAgbWluSGVpZ2h0OiBNYXRoLm1pbih1bmFkanVzdGVkSGVpZ2h0LCB0aGlzLnByb3BzLm1heFJvd0hlaWdodCB8fCAyMDAsIDUwKSxcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDoganVzdGlmeSxcbiAgICAgICAgd2hpdGVTcGFjZTogJ25vd3JhcCcsXG4gICAgICAgIHBhZGRpbmc6IGAwIDAgJHt2UGFkZGluZ30gMGAsXG4gICAgICB9XG5cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT0ncXVpbHQtcm93LXdyYXAnXG4gICAgICAgIGtleT17J3JvdycraW5kZXh9XG4gICAgICAgIHN0eWxlPXtyb3dTdHlsZX0+XG4gICAgICAgIHtpbWFnZXN9XG4gICAgICA8L2Rpdj5cbiAgICB9KVxuXG4gICAgdmFyIHF1aWx0U3R5bGUgPSB7XG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgIG1pbkhlaWdodDogMTUwLFxuICAgICAgLi4udGhpcy5wcm9wcy5zdHlsZSxcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9J3F1aWx0LXdyYXAnIG9uTW91c2VMZWF2ZT17dGhpcy5ob3ZlcmVkLmJpbmQodGhpcywgbnVsbCwgZmFsc2UpfSBzdHlsZT17cXVpbHRTdHlsZX0+XG4gICAgICAgIHtpbWFnZXN9XG4gICAgICAgIDxkaXYgaWQ9XCJxdWlsdC1jb250cm9sc1wiIHN0eWxlPXt7ZmxvYXQ6ICdyaWdodCcsIGRpc3BsYXk6ICdub25lJ319PlxuICAgICAgICAgIHt0aGlzLnN0YXRlLm1heFdvcmtzIDwgdGhpcy5wcm9wcy5hcnR3b3Jrcy5sZW5ndGggJiYgPGEgb25DbGljaz17dGhpcy5lbmxhcmdlLmJpbmQodGhpcywgMSwgMTApfT5tb3JlIHRodW1ibmFpbHM8L2E+fVxuICAgICAgICAgIHt0aGlzLnN0YXRlLm1heFdvcmtzID4gMCAmJiA8YSBvbkNsaWNrPXt0aGlzLmVubGFyZ2UuYmluZCh0aGlzLCAtMSwgLTEwKX0+IC8gZmV3ZXI8L2E+fVxuICAgICAgICAgIDxici8+XG4gICAgICAgICAgPGEgb25DbGljaz17dGhpcy5lbmxhcmdlLmJpbmQodGhpcywgMSwgMCl9PmJpZ2dlcjwvYT5cbiAgICAgICAgICA8YSBvbkNsaWNrPXt0aGlzLmVubGFyZ2UuYmluZCh0aGlzLCAtMSwgMCl9PiAvIHNtYWxsZXI8L2E+XG4gICAgICAgICAgPGJyLz5cbiAgICAgICAgICB7dGhpcy5zdGF0ZS5tb3JwaERlbHRhID4gMCB8fCA8YSBvbkNsaWNrPXt0aGlzLm1vcnBoLmJpbmQodGhpcywgMSl9Pmdyb3chPC9hPn1cbiAgICAgICAgICB7dGhpcy5zdGF0ZS5tb3JwaERlbHRhIDwgMCB8fCA8YSBvbkNsaWNrPXt0aGlzLm1vcnBoLmJpbmQodGhpcywgLTEpfT4gLyBzaHJpbmshPC9hPn1cbiAgICAgICAgICB7dGhpcy5zdGF0ZS5tb3JwaERlbHRhICE9IDAgJiYgPGEgb25DbGljaz17dGhpcy5yZXNldE1vcnBofT4gLyBzdG9wITwvYT59XG4gICAgICAgICAgPGJyLz5cbiAgICAgICAgICB7KHRoaXMucHJvcHMubWF4Um93cyA9PSB0aGlzLnN0YXRlLm1heFJvd3MgJiYgdGhpcy5wcm9wcy5tYXhXb3JrcyA9PSB0aGlzLnN0YXRlLm1heFdvcmtzKSB8fFxuICAgICAgICAgICAgPGEgb25DbGljaz17dGhpcy5yZXNldH0+XG4gICAgICAgICAgICAgIHJlc2V0XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfSxcblxuICBjYWNoZWRQYXJ0aXRpb25zOiB7fSxcblxuICBnZXRQYXJ0aXRpb24oYXJ0d29ya3MsIG51bVJvd3MpIHtcbiAgICB2YXIgbWVtb0tleSA9IGByb3dzOiR7dGhpcy5wcm9wcy5tYXhSb3dzfXx3aWR0aDoke3RoaXMuc3RhdGUud2lkdGh9fCR7YXJ0d29ya3MubWFwKGFydCA9PiBhcnQuX2lkKS5qb2luKCctJyl9YFxuICAgIHZhciBtZW1vID0gdGhpcy5jYWNoZWRQYXJ0aXRpb25zW21lbW9LZXldXG4gICAgaWYobWVtbykgcmV0dXJuIG1lbW9cblxuICAgIGNvbnN0IHBhcnRpdGlvbkJ5ID0gZnVuY3Rpb24oY29sbGVjdGlvbiwgd2VpZ2h0Rm4sIGspIHtcbiAgICAgIGxldCB3ZWlnaHRzID0gY29sbGVjdGlvbi5tYXAod2VpZ2h0Rm4pXG4gICAgICBsZXQgcGFydGl0aW9uID0gbGluZWFyUGFydGl0aW9uKHdlaWdodHMsIGspXG5cbiAgICAgIGxldCBpbmRleCA9IDBcbiAgICAgIHJldHVybiBwYXJ0aXRpb24ubWFwKCh3ZWlnaHRlZFJvdykgPT4ge1xuICAgICAgICByZXR1cm4gd2VpZ2h0ZWRSb3cubWFwKCh3ZWlnaHQsIGkpID0+IGNvbGxlY3Rpb25baW5kZXgrK10pXG4gICAgICB9KVxuICAgIH1cblxuICAgIHZhciByb3dzID0gcGFydGl0aW9uQnkoYXJ0d29ya3MsIChhcnQpID0+IGFydC5fc291cmNlLmFzcGVjdF9yYXRpbyoxMDAsIG51bVJvd3MpXG4gICAgLy8gRG9uJ3QgY2FjaGUgcXVpbHQgcGFydGl0aW9ucyB3aGVuIHNlcnZlciByZW5kZXJpbmcsIHBvdGVudGlhbCBtZW1vcnkgd2F0ZXJmYWxsXG4gICAgaWYoIXRoaXMuY29udGV4dC51bml2ZXJzYWwpIHRoaXMuY2FjaGVkUGFydGl0aW9uc1ttZW1vS2V5XSA9IHJvd3NcbiAgICByZXR1cm4gcm93c1xuICB9LFxuXG4gIC8vIFRoZSBxdWlsdCBjaGFuZ2VzIHRoZSBvcmRlciBvZiBzZWFyY2ggcmVzdWx0cyBpbiAyIHdheXM6XG4gIC8vICogY2xpY2tpbmcgcGlucyBhIHJlc3VsdCB0byB0aGUgdG9wLCBpbiB3aGljaCBjYXNlIGl0IHdpbGwgc3RheSB0aGVyZVxuICAvLyAqIGhvdmVyaW5nICdmbG9hdHMnIGEgcmVzdWx0IHRvIHRoZSB0b3AsIGJ1dCBpdCB3aWxsIHNpbmsgYmFjayBkb3duXG4gIC8vIOKApmFmdGVyIHRoZSBpbnRlcmFjdGlvbiBpcyBmaW5pc2hlZC5cbiAgLy8gQ2xpY2tpbmcgdGhlIHBpbm5lZCBhcnR3b3JrIHVuLXBpbnMgaXRcbiAgY2xpY2tlZChhcnQsIHVwZGF0ZVN0YXRlPXRydWUpIHtcbiAgICB2YXIge29uQ2xpY2t9ID0gdGhpcy5wcm9wc1xuICAgIGlmKHVwZGF0ZVN0YXRlKSB0aGlzLnNldFN0YXRlKHthY3RpdmU6IGFydCwgdW5waW5uZWQ6IGZhbHNlfSlcbiAgICBjb25zdCBzYW1lQXJ0ID0gdGhpcy5zdGF0ZS51bnBpbm5lZCAmJiAhdXBkYXRlU3RhdGUgfHxcbiAgICAgIHVwZGF0ZVN0YXRlICYmIHRoaXMuc3RhdGUuYWN0aXZlICYmIGFydCA9PSB0aGlzLnN0YXRlLmFjdGl2ZVxuICAgIGlmKHNhbWVBcnQpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2FjdGl2ZTogbnVsbCwgdW5waW5uZWQ6IHRydWV9KVxuICAgICAgYXJ0ID0gbnVsbFxuICAgIH1cbiAgICBvbkNsaWNrICYmIG9uQ2xpY2soYXJ0KVxuICAgIHRoaXMuc3RhdGUudW5waW5uZWQgJiYgdGhpcy5zZXRTdGF0ZSh7dW5waW5uZWQ6IGZhbHNlfSlcbiAgfSxcbiAgaG92ZXJlZChhcnQsIGFjdGl2ZSkge1xuICAgIGlmKHRoaXMucHJvcHMuZGlzYWJsZUhvdmVyKSByZXR1cm5cbiAgICAvLyBjYW5jZWwgdGhlIGRlbGF5ZWQgJ2Zsb2F0JyBvbiBtb3VzZWxlYXZlXG4gICAgLy8gaWYgYW4gYXJ0d29yayB3YXMgY2xpY2tlZCwgbGVhdmUgaXQgcGlubmVkXG4gICAgaWYoIWFjdGl2ZSkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuYWN0aXZhdGUpXG4gICAgICBpZighYXJ0KSB0aGlzLmNsaWNrZWQodGhpcy5zdGF0ZS5hY3RpdmUsIGZhbHNlKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHRoaXMuYWN0aXZhdGUgPSBzZXRUaW1lb3V0KHRoaXMuY2xpY2tlZC5iaW5kKHRoaXMsIGFydCwgZmFsc2UpLCAzMDApXG4gIH0sXG5cbiAgaGlkZURhcmtlbmVkUXVpbHQoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuZGFya2VuICYmICF0aGlzLnN0YXRlLmFsd2F5c1Nob3dcbiAgfSxcblxuICBlbXB0eVF1aWx0VG9nZ2xlQ29udHJvbCgpIHtcbiAgICB2YXIgc3R5bGVzID0ge1xuICAgICAgbWluSGVpZ2h0OiAnN3JlbScsXG4gICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICBXZWJraXRVc2VyU2VsZWN0OiAnbm9uZScsXG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgIHpJbmRleDogMTAwLFxuICAgIH1cblxuICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9J3F1aWx0LXdyYXAgZGFyaycgc3R5bGU9e3N0eWxlc30gb25Eb3VibGVDbGljaz17dGhpcy5mcmVlVGhlUXVpbHR9IC8+XG4gIH0sXG5cbiAgZnJlZVRoZVF1aWx0KCkge1xuICAgIGNvb2tpZS5zYXZlKCdmcmVlVGhlUXVpbHQnLCB0cnVlKVxuICAgIHRoaXMuc2V0U3RhdGUoe2Fsd2F5c1Nob3c6IHRydWV9KVxuICB9LFxuXG4gIGVubGFyZ2Uocm93cz0xLCB3b3Jrcz0xMCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgbWF4Um93czogdGhpcy5zdGF0ZS5tYXhSb3dzK3Jvd3MsXG4gICAgICBtYXhXb3JrczogdGhpcy5zdGF0ZS5tYXhXb3Jrcyt3b3JrcyxcbiAgICB9KVxuICB9LFxuICByZXNldCgpIHtcbiAgICBjb25zb2xlLmluZm8oJ3Jlc2V0dGluZyBxdWlsdCcsIHRoaXMucHJvcHMpXG4gICAgaWYodGhpcy5zdGF0ZS5tb3JwaEludGVydmFsKSBjbGVhckludGVydmFsKHRoaXMuc3RhdGUubW9ycGhJbnRlcnZhbClcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG1heFJvd3M6IHRoaXMucHJvcHMubWF4Um93cyxcbiAgICAgIG1heFdvcmtzOiB0aGlzLnByb3BzLm1heFdvcmtzLFxuICAgIH0pXG4gIH0sXG4gIG1vcnBoKGRlbHRhPTEpIHtcbiAgICBjb25zdCBtb3JwaCA9ICgpID0+IHtcbiAgICAgIGNvbnNvbGUuaW5mbygnbW9ycGhpbmcnLCB0aGlzLnN0YXRlLm1heFdvcmtzLCB0aGlzLnByb3BzLmFydHdvcmtzLmxlbmd0aClcbiAgICAgIGlmKHRoaXMuc3RhdGUubWF4V29ya3MgPiB0aGlzLnByb3BzLmFydHdvcmtzLmxlbmd0aCB8fCB0aGlzLnN0YXRlLm1heFJvd3MgPD0gMCkge1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuc3RhdGUubW9ycGhJbnRlcnZhbClcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7bW9ycGhEZWx0YTogMCwgbW9ycGhJbnRlcnZhbDogZmFsc2V9KVxuICAgICAgfVxuICAgICAgdGhpcy5lbmxhcmdlKGRlbHRhLCBkZWx0YSo1KVxuICAgIH1cbiAgICB0aGlzLmVubGFyZ2UoZGVsdGEsIGRlbHRhKjUpXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBtb3JwaERlbHRhOiBkZWx0YSxcbiAgICAgIG1vcnBoSW50ZXJ2YWw6IHNldEludGVydmFsKG1vcnBoLCAzMDAwKVxuICAgIH0pXG4gIH0sXG4gIHJlc2V0TW9ycGgoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7bW9ycGhEZWx0YTogMH0pXG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLnN0YXRlLm1vcnBoSW50ZXJ2YWwpXG4gIH0sXG59KVxuSW1hZ2VRdWlsdC5jb250ZXh0VHlwZXMgPSB7XG4gIHJvdXRlcjogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIHVuaXZlcnNhbDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG59XG5cbkltYWdlUXVpbHQuZ2V0SW1hZ2VkUmVzdWx0cyA9IChoaXRzKSA9PiBoaXRzICYmIGhpdHNcbiAgLmZpbHRlcigoaGl0KSA9PiBoaXQuX3NvdXJjZS5pbWFnZSA9PSAndmFsaWQnICYmIGhpdC5fc291cmNlLmltYWdlX3dpZHRoID4gMClcblxubW9kdWxlLmV4cG9ydHMgPSBJbWFnZVF1aWx0XG5cbnZhciBRdWlsdFBhdGNoID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnQsIHdpZHRoLCBjdXN0b21JbWFnZUZuLCBoUGFkZGluZywgLi4ub3RoZXJ9ID0gdGhpcy5wcm9wc1xuICAgIHZhciBpZCA9IGFydC5pZFxuXG4gICAgdmFyIHN0eWxlID0ge1xuICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICB2ZXJ0aWNhbEFsaWduOiAndG9wJyxcbiAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgIGhlaWdodDogd2lkdGgvYXJ0LmFzcGVjdF9yYXRpbyxcbiAgICAgIG1hcmdpbjogYDAgJHtoUGFkZGluZ31gLFxuICAgIH1cblxuICAgIHZhciBpbWdTdHlsZSA9IHtcbiAgICAgIC4uLnN0eWxlLFxuICAgICAgbGVmdDogXCI1MCVcIixcbiAgICAgIHRvcDogXCI1MCVcIixcbiAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGVZKC01MCUpIHRyYW5zbGF0ZVgoLTUwJSlcIixcbiAgICAgIFdlYmtpdFRyYW5zZm9ybTogXCJ0cmFuc2xhdGVZKC01MCUpIHRyYW5zbGF0ZVgoLTUwJSlcIixcbiAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgfVxuXG4gICAgZmFsc2UgJiYgY29uc29sZS5pbmZvKCdRdWlsdFBhdGNoJywge2hQYWRkaW5nLCBpbWdTdHlsZX0pXG5cbiAgICB2YXIgaW1hZ2UgPSA8SW1hZ2VcbiAgICAgIGFydD17YXJ0fVxuICAgICAgc3R5bGU9e2ltZ1N0eWxlfVxuICAgICAgY3VzdG9tSW1hZ2U9e2N1c3RvbUltYWdlRm59XG4gICAgICB7Li4ub3RoZXJ9XG4gICAgLz5cblxuICAgIHZhciB0ZXh0U3R5bGUgPSB7XG4gICAgICAgIC4uLnN0eWxlLFxuICAgICAgICBkaXNwbGF5OiAndGFibGUnLFxuICAgICAgICB3aGl0ZVNwYWNlOiAnbm9ybWFsJyxcbiAgICB9XG5cbiAgICB2YXIgcGF0Y2ggPSBhcnQuaW1hZ2UgPT0gJ3ZhbGlkJyA/IGltYWdlIDogPHNwYW4gY2xhc3NOYW1lPSdpbnZhbGlkJyBzdHlsZT17dGV4dFN0eWxlfSB7Li4ub3RoZXJ9PlxuICAgICAgPHA+PHN0cm9uZz57YXJ0LnRpdGxlX3Nob3J0fTwvc3Ryb25nPjwvcD5cbiAgICA8L3NwYW4+XG5cbiAgICByZXR1cm4gPExpbmtcbiAgICAgIG9uQ2xpY2s9e3RoaXMuY2xpY2tPckRvbnRDbGlja31cbiAgICAgIHN0eWxlPXt7Li4uc3R5bGUsIHBvc2l0aW9uOiAncmVsYXRpdmUnfX1cbiAgICAgIHRvPVwiYXJ0d29ya1wiXG4gICAgICBwYXJhbXM9e3tpZDogYXJ0LmlkfX0+e3BhdGNofTwvTGluaz5cbiAgfSxcblxuICAvLyBoYWx0IHRoZSBjbGljayBldmVudCBpZiBqYXZhc2NyaXB0IGlzIGxvYWRlZFxuICAvLyBjbGlja2luZyB0cmlnZ2VycyB0aGUgcmlnaHQtaGFuZCBwcmV2aWV3LCBub3QgdGhlIGA8YT5gXG4gIC8vIFRPRE8gbWFrZSB0aGlzIHdvcmsgd2l0aCBjb21tYW5kIGNsaWNrIHRob1xuICBjbGlja09yRG9udENsaWNrKGV2ZW50KSB7XG4gICAgaWYoIXRoaXMuY29udGV4dC51bml2ZXJzYWwpIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgfSxcblxuICBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhenlMb2FkOiB0cnVlLFxuICAgICAgZGFya2VuOiBmYWxzZSxcbiAgICB9XG4gIH0sXG59KVxuUXVpbHRQYXRjaC5jb250ZXh0VHlwZXMgPSB7XG4gIHJvdXRlcjogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIHVuaXZlcnNhbDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "image-quilt.js"
      ],
      "names": [
        "React",
        "require",
        "Link",
        "PureRenderMixin",
        "ReactDOM",
        "debounce",
        "cookie",
        "linearPartition",
        "ArtworkImage",
        "Image",
        "ImageQuilt",
        "createClass",
        "mixins",
        "getInitialState",
        "artworks",
        "props",
        "maybeShuffledArtworks",
        "shuffle",
        "sort",
        "Math",
        "random",
        "active",
        "unpinned",
        "width",
        "window",
        "innerWidth",
        "context",
        "universal",
        "alwaysShow",
        "load",
        "shuffledArtworks",
        "undefined",
        "maxRows",
        "maxWorks",
        "handleResize",
        "e",
        "isMounted",
        "setState",
        "findDOMNode",
        "clientWidth",
        "componentDidMount",
        "addEventListener",
        "componentWillUnmount",
        "removeEventListener",
        "render",
        "hideDarkenedQuilt",
        "emptyQuiltToggleControl",
        "slice",
        "state",
        "_art",
        "map",
        "art",
        "s",
        "_source",
        "image",
        "image_width",
        "image_height",
        "rights_type",
        "splitOn",
        "title",
        "split",
        "artist",
        "title_short",
        "artist_short",
        "text",
        "text_length",
        "length",
        "deltaAverageTextLength",
        "isInspiredByMia",
        "hPadding",
        "vPadding",
        "hPaddingInt",
        "Number",
        "replace",
        "aspect_ratio",
        "summedAspectRatio",
        "reduce",
        "sum",
        "rowHeight",
        "numRows",
        "min",
        "max",
        "floor",
        "rows",
        "getPartition",
        "console",
        "info",
        "images",
        "row",
        "index",
        "rowSummedAspectRatio",
        "rowAspectRatio",
        "unadjustedHeight",
        "id",
        "height",
        "maxRowHeight",
        "widthAdjustedToClipTallRows",
        "clicked",
        "bind",
        "hovered",
        "forceUpdate",
        "customImageFn",
        "lazyLoad",
        "justify",
        "rowStyle",
        "minHeight",
        "display",
        "justifyContent",
        "whiteSpace",
        "padding",
        "quiltStyle",
        "cursor",
        "style",
        "float",
        "enlarge",
        "morphDelta",
        "morph",
        "resetMorph",
        "reset",
        "cachedPartitions",
        "memoKey",
        "_id",
        "join",
        "memo",
        "partitionBy",
        "collection",
        "weightFn",
        "k",
        "weights",
        "partition",
        "weightedRow",
        "weight",
        "i",
        "updateState",
        "onClick",
        "sameArt",
        "disableHover",
        "clearTimeout",
        "activate",
        "setTimeout",
        "darken",
        "styles",
        "WebkitUserSelect",
        "zIndex",
        "freeTheQuilt",
        "save",
        "works",
        "morphInterval",
        "clearInterval",
        "delta",
        "setInterval",
        "contextTypes",
        "router",
        "PropTypes",
        "func",
        "bool",
        "getImagedResults",
        "hits",
        "filter",
        "hit",
        "module",
        "exports",
        "QuiltPatch",
        "other",
        "verticalAlign",
        "overflow",
        "margin",
        "imgStyle",
        "left",
        "top",
        "transform",
        "WebkitTransform",
        "position",
        "textStyle",
        "patch",
        "clickOrDontClick",
        "event",
        "preventDefault",
        "getDefaultProps"
      ],
      "mappings": "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",
      "file": "image-quilt.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar {Link} = require('react-router')\nvar PureRenderMixin = require('react-addons-pure-render-mixin')\nvar ReactDOM = require('react-dom')\nvar debounce = require('debounce')\nvar cookie = require('react-cookie')\n\nvar linearPartition = require('linear-partitioning')\nvar ArtworkImage = require('./artwork-image')\nvar Image = require('./image')\n\nconst ImageQuilt = React.createClass({\n  mixins: [PureRenderMixin],\n\n  getInitialState() {\n    const artworks = this.props.artworks\n    const maybeShuffledArtworks = this.props.shuffle ?\n      artworks.sort(() => .5 - Math.random()) :\n      artworks\n\n    return {\n      active: null,\n      unpinned: false,\n      width: window.innerWidth || this.context.universal && 1000,\n      alwaysShow: cookie.load('freeTheQuilt'),\n      shuffledArtworks: this.props.shuffle ? maybeShuffledArtworks : undefined,\n      maxRows: this.props.maxRows,\n      maxWorks: this.props.maxWorks,\n    }\n  },\n\n  handleResize: function(e) {\n    if(!this.isMounted()) return\n    this.setState({width: ReactDOM.findDOMNode(this).clientWidth})\n  },\n  componentDidMount: function() {\n    this.handleResize()\n    window.addEventListener('resize', debounce(this.handleResize, 200))\n  },\n  componentWillUnmount: function() {\n    window.removeEventListener('resize', this.handleResize)\n  },\n\n  render() {\n    if(this.hideDarkenedQuilt()) return this.emptyQuiltToggleControl()\n\n    const artworks = this.props.artworks.slice(0, this.state.maxWorks)\n    const shuffledArtworks = this.state.shuffledArtworks && this.state.shuffledArtworks.slice(0, this.props.maxWorks)\n    const _art = artworks.map((art) => {\n      var s = art._source\n      if(s.image == 'invalid' || (s.image_width == 0 && s.image_height == 0) || s.rights_type == 'Permission Denied') {\n        s.image = 'invalid'\n        var splitOn = /;|:|\\]/;\n        ([s.title_short, s.artist_short] = [s.title.split(splitOn)[0], s.artist.split(splitOn)[0]])\n        var text = s.title_short\n        s.text_length = text.length\n        var deltaAverageTextLength = text.length/17 // bigger box for items with more text\n        s.image_width = deltaAverageTextLength > 2 ? 300 : 200\n        s.image_height = 200\n      }\n      return s\n    })\n\n    const { isInspiredByMia } = this.props\n    const hPadding = this.props.isInspiredByMia ? '10px' : '0'\n    const vPadding = this.props.isInspiredByMia ? '2em' : 0\n    const hPaddingInt = Number(hPadding.replace(/[^0-9]/g, ''))\n\n    isInspiredByMia\n      ? _art.map((art) => art.aspect_ratio = (art.image_width+Number(hPaddingInt)*2)/art.image_height)\n      : _art.map((art) => art.aspect_ratio = (art.image_width/art.image_height))\n    const summedAspectRatio = _art.reduce((sum, art) => {return sum+art.aspect_ratio}, 0)\n    // Fit the images into `maxRows` or however many rows it would take to show each\n    // approx `rowHeight`px tall\n    var rowHeight = !isInspiredByMia\n      ? this.props.rowHeight || 200\n      : 234 // bigger images for 'inspired by mia'\n    var numRows = Math.min(this.props.maxRows, Math.max(Math.floor(summedAspectRatio*rowHeight/this.state.width), 1))\n\n    var rows = this.getPartition(shuffledArtworks || artworks, numRows)\n\n    console.info('ImageQuilt', {\n      summedAspectRatio, rowHeight, numRows, rows,\n      hPadding, hPaddingInt,\n      vPadding,\n      isInspiredByMia,\n    })\n\n    const images = rows.map((row, index) => {\n      var rowSummedAspectRatio = row.reduce((sum, art) => {return sum+art._source.aspect_ratio}, 0)\n      var rowAspectRatio = rowSummedAspectRatio/row.length\n      var unadjustedHeight = this.state.width/rowSummedAspectRatio\n\n      false && console.info('ImageQuilt row', {\n        rowSummedAspectRatio,\n        rowAspectRatio,\n        unadjustedHeight,\n      })\n\n      var images = row.map((art) => {\n        var _art = art._source\n        const id = _art.id\n        const width = _art.aspect_ratio/rowSummedAspectRatio*this.state.width\n        const height = width/_art.aspect_ratio\n        const maxRowHeight = this.props.maxRowHeight || 200\n        const widthAdjustedToClipTallRows = unadjustedHeight > maxRowHeight ? width/(unadjustedHeight/maxRowHeight) : width\n\n        false && console.info('ImageQuilt row image', {\n          widthAdjustedToClipTallRows,\n        })\n\n        return <QuiltPatch art={_art}\n          width={widthAdjustedToClipTallRows}\n          onClick={this.clicked.bind(this, art)}\n          onMouseEnter={this.hovered.bind(this, art, true)}\n          onMouseLeave={this.hovered.bind(this, art, false)}\n          onImageInvalidation={this.forceUpdate.bind(this)}\n          key={_art.id}\n          customImageFn={this.props.customImageFn}\n          lazyLoad={this.props.lazyLoad}\n          hPadding={hPadding}\n        />\n      })\n\n      // centered doesn't work on the first row because the search box is in the way\n      // space-around looks best on bottom rows\n      const justify = index == 0 && row.length <=3 ? 'space-around' : 'center'\n      var rowStyle = {\n        minHeight: Math.min(unadjustedHeight, this.props.maxRowHeight || 200, 50),\n        display: 'flex',\n        justifyContent: justify,\n        whiteSpace: 'nowrap',\n        padding: `0 0 ${vPadding} 0`,\n      }\n\n      return <div className='quilt-row-wrap'\n        key={'row'+index}\n        style={rowStyle}>\n        {images}\n      </div>\n    })\n\n    var quiltStyle = {\n      cursor: 'pointer',\n      minHeight: 150,\n      ...this.props.style,\n    }\n\n    return (\n      <div className='quilt-wrap' onMouseLeave={this.hovered.bind(this, null, false)} style={quiltStyle}>\n        {images}\n        <div id=\"quilt-controls\" style={{float: 'right', display: 'none'}}>\n          {this.state.maxWorks < this.props.artworks.length && <a onClick={this.enlarge.bind(this, 1, 10)}>more thumbnails</a>}\n          {this.state.maxWorks > 0 && <a onClick={this.enlarge.bind(this, -1, -10)}> / fewer</a>}\n          <br/>\n          <a onClick={this.enlarge.bind(this, 1, 0)}>bigger</a>\n          <a onClick={this.enlarge.bind(this, -1, 0)}> / smaller</a>\n          <br/>\n          {this.state.morphDelta > 0 || <a onClick={this.morph.bind(this, 1)}>grow!</a>}\n          {this.state.morphDelta < 0 || <a onClick={this.morph.bind(this, -1)}> / shrink!</a>}\n          {this.state.morphDelta != 0 && <a onClick={this.resetMorph}> / stop!</a>}\n          <br/>\n          {(this.props.maxRows == this.state.maxRows && this.props.maxWorks == this.state.maxWorks) ||\n            <a onClick={this.reset}>\n              reset\n            </a>\n          }\n        </div>\n      </div>\n    )\n  },\n\n  cachedPartitions: {},\n\n  getPartition(artworks, numRows) {\n    var memoKey = `rows:${this.props.maxRows}|width:${this.state.width}|${artworks.map(art => art._id).join('-')}`\n    var memo = this.cachedPartitions[memoKey]\n    if(memo) return memo\n\n    const partitionBy = function(collection, weightFn, k) {\n      let weights = collection.map(weightFn)\n      let partition = linearPartition(weights, k)\n\n      let index = 0\n      return partition.map((weightedRow) => {\n        return weightedRow.map((weight, i) => collection[index++])\n      })\n    }\n\n    var rows = partitionBy(artworks, (art) => art._source.aspect_ratio*100, numRows)\n    // Don't cache quilt partitions when server rendering, potential memory waterfall\n    if(!this.context.universal) this.cachedPartitions[memoKey] = rows\n    return rows\n  },\n\n  // The quilt changes the order of search results in 2 ways:\n  // * clicking pins a result to the top, in which case it will stay there\n  // * hovering 'floats' a result to the top, but it will sink back down\n  // …after the interaction is finished.\n  // Clicking the pinned artwork un-pins it\n  clicked(art, updateState=true) {\n    var {onClick} = this.props\n    if(updateState) this.setState({active: art, unpinned: false})\n    const sameArt = this.state.unpinned && !updateState ||\n      updateState && this.state.active && art == this.state.active\n    if(sameArt) {\n      this.setState({active: null, unpinned: true})\n      art = null\n    }\n    onClick && onClick(art)\n    this.state.unpinned && this.setState({unpinned: false})\n  },\n  hovered(art, active) {\n    if(this.props.disableHover) return\n    // cancel the delayed 'float' on mouseleave\n    // if an artwork was clicked, leave it pinned\n    if(!active) {\n      clearTimeout(this.activate)\n      if(!art) this.clicked(this.state.active, false)\n      return\n    }\n    this.activate = setTimeout(this.clicked.bind(this, art, false), 300)\n  },\n\n  hideDarkenedQuilt() {\n    return this.props.darken && !this.state.alwaysShow\n  },\n\n  emptyQuiltToggleControl() {\n    var styles = {\n      minHeight: '7rem',\n      display: 'inline-block',\n      width: '100%',\n      WebkitUserSelect: 'none',\n      cursor: 'pointer',\n      zIndex: 100,\n    }\n\n    return <span className='quilt-wrap dark' style={styles} onDoubleClick={this.freeTheQuilt} />\n  },\n\n  freeTheQuilt() {\n    cookie.save('freeTheQuilt', true)\n    this.setState({alwaysShow: true})\n  },\n\n  enlarge(rows=1, works=10) {\n    this.setState({\n      maxRows: this.state.maxRows+rows,\n      maxWorks: this.state.maxWorks+works,\n    })\n  },\n  reset() {\n    console.info('resetting quilt', this.props)\n    if(this.state.morphInterval) clearInterval(this.state.morphInterval)\n    this.setState({\n      maxRows: this.props.maxRows,\n      maxWorks: this.props.maxWorks,\n    })\n  },\n  morph(delta=1) {\n    const morph = () => {\n      console.info('morphing', this.state.maxWorks, this.props.artworks.length)\n      if(this.state.maxWorks > this.props.artworks.length || this.state.maxRows <= 0) {\n        clearInterval(this.state.morphInterval)\n        this.setState({morphDelta: 0, morphInterval: false})\n      }\n      this.enlarge(delta, delta*5)\n    }\n    this.enlarge(delta, delta*5)\n    this.setState({\n      morphDelta: delta,\n      morphInterval: setInterval(morph, 3000)\n    })\n  },\n  resetMorph() {\n    this.setState({morphDelta: 0})\n    clearInterval(this.state.morphInterval)\n  },\n})\nImageQuilt.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nImageQuilt.getImagedResults = (hits) => hits && hits\n  .filter((hit) => hit._source.image == 'valid' && hit._source.image_width > 0)\n\nmodule.exports = ImageQuilt\n\nvar QuiltPatch = React.createClass({\n  render() {\n    var {art, width, customImageFn, hPadding, ...other} = this.props\n    var id = art.id\n\n    var style = {\n      display: 'inline-block',\n      verticalAlign: 'top',\n      overflow: 'hidden',\n      width: width,\n      height: width/art.aspect_ratio,\n      margin: `0 ${hPadding}`,\n    }\n\n    var imgStyle = {\n      ...style,\n      left: \"50%\",\n      top: \"50%\",\n      transform: \"translateY(-50%) translateX(-50%)\",\n      WebkitTransform: \"translateY(-50%) translateX(-50%)\",\n      position: \"absolute\",\n    }\n\n    false && console.info('QuiltPatch', {hPadding, imgStyle})\n\n    var image = <Image\n      art={art}\n      style={imgStyle}\n      customImage={customImageFn}\n      {...other}\n    />\n\n    var textStyle = {\n        ...style,\n        display: 'table',\n        whiteSpace: 'normal',\n    }\n\n    var patch = art.image == 'valid' ? image : <span className='invalid' style={textStyle} {...other}>\n      <p><strong>{art.title_short}</strong></p>\n    </span>\n\n    return <Link\n      onClick={this.clickOrDontClick}\n      style={{...style, position: 'relative'}}\n      to=\"artwork\"\n      params={{id: art.id}}>{patch}</Link>\n  },\n\n  // halt the click event if javascript is loaded\n  // clicking triggers the right-hand preview, not the `<a>`\n  // TODO make this work with command click tho\n  clickOrDontClick(event) {\n    if(!this.context.universal) event.preventDefault()\n  },\n\n  getDefaultProps() {\n    return {\n      lazyLoad: true,\n      darken: false,\n    }\n  },\n})\nQuiltPatch.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n"
      ]
    },
    "mtime": 1614714208384
  },
  "{\"filename\":\"/var/www/art/src/artwork-image.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/artwork-image.js",
      "filenameRelative": "/var/www/art/src/artwork-image.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "artwork-image.js",
      "sourceFileName": "artwork-image.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "artwork-image"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar LazyLoad = require('react-lazy-load').default;\n\nvar Markdown = require('./markdown');\nvar Image = require('./image');\nvar rightsDescriptions = require('./rights-types.js');\n\nvar ArtworkImage = React.createClass({\n  displayName: 'ArtworkImage',\n  render: function render() {\n    var _props = this.props,\n        art = _props.art,\n        id = _props.id,\n        customImage = _props.customImage,\n        style = _props.style,\n        containerStyle = _props.containerStyle,\n        ignoreStyle = _props.ignoreStyle;\n\n    var aspectRatio = art.image_width / art.image_height;\n    var maxWidth = window.innerWidth ? Math.min(window.innerWidth, 400) : 400;\n    var width = aspectRatio >= 1 ? maxWidth : maxWidth / aspectRatio;\n    var height = aspectRatio >= 1 ? maxWidth / aspectRatio : maxWidth;\n    var padding = width >= maxWidth ? -8 : -8 + (maxWidth - width) / 2;\n    style = style || { width: width, height: height };\n    containerStyle = _extends({ minHeight: '173px' }, containerStyle);\n\n    var image = React.createElement(Image, { art: art,\n      style: style,\n      ignoreStyle: ignoreStyle,\n      itemProp: 'image',\n      alt: art.description,\n      customImage: customImage,\n      key: id,\n      lazyLoad: this.props.lazyLoad });\n\n    var rights = rightsDescriptions.getRights(art);\n    var showImage = !!customImage || art.image == 'valid' && art.image_width > 0 && rights !== 'Permission Denied';\n\n    return showImage && React.createElement(\n      'div',\n      { className: 'artwork-image', style: containerStyle },\n      image,\n      React.createElement(\n        Markdown,\n        null,\n        art.image_copyright\n      )\n    );\n  },\n  getDefaultProps: function getDefaultProps() {\n    return { lazyLoad: true };\n  }\n});\n\nmodule.exports = ArtworkImage;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFydHdvcmstaW1hZ2UuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiTGF6eUxvYWQiLCJkZWZhdWx0IiwiTWFya2Rvd24iLCJJbWFnZSIsInJpZ2h0c0Rlc2NyaXB0aW9ucyIsIkFydHdvcmtJbWFnZSIsImNyZWF0ZUNsYXNzIiwicmVuZGVyIiwicHJvcHMiLCJhcnQiLCJpZCIsImN1c3RvbUltYWdlIiwic3R5bGUiLCJjb250YWluZXJTdHlsZSIsImlnbm9yZVN0eWxlIiwiYXNwZWN0UmF0aW8iLCJpbWFnZV93aWR0aCIsImltYWdlX2hlaWdodCIsIm1heFdpZHRoIiwid2luZG93IiwiaW5uZXJXaWR0aCIsIk1hdGgiLCJtaW4iLCJ3aWR0aCIsImhlaWdodCIsInBhZGRpbmciLCJtaW5IZWlnaHQiLCJpbWFnZSIsImRlc2NyaXB0aW9uIiwibGF6eUxvYWQiLCJyaWdodHMiLCJnZXRSaWdodHMiLCJzaG93SW1hZ2UiLCJpbWFnZV9jb3B5cmlnaHQiLCJnZXREZWZhdWx0UHJvcHMiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7QUFDQSxJQUFJQyxXQUFXRCxRQUFRLGlCQUFSLEVBQTJCRSxPQUExQzs7QUFFQSxJQUFJQyxXQUFXSCxRQUFRLFlBQVIsQ0FBZjtBQUNBLElBQUlJLFFBQVFKLFFBQVEsU0FBUixDQUFaO0FBQ0EsSUFBSUsscUJBQXFCTCxRQUFRLG1CQUFSLENBQXpCOztBQUVBLElBQUlNLGVBQWVQLE1BQU1RLFdBQU4sQ0FBa0I7QUFBQTtBQUNuQ0MsUUFEbUMsb0JBQzFCO0FBQUEsaUJBQzBELEtBQUtDLEtBRC9EO0FBQUEsUUFDRkMsR0FERSxVQUNGQSxHQURFO0FBQUEsUUFDR0MsRUFESCxVQUNHQSxFQURIO0FBQUEsUUFDT0MsV0FEUCxVQUNPQSxXQURQO0FBQUEsUUFDb0JDLEtBRHBCLFVBQ29CQSxLQURwQjtBQUFBLFFBQzJCQyxjQUQzQixVQUMyQkEsY0FEM0I7QUFBQSxRQUMyQ0MsV0FEM0MsVUFDMkNBLFdBRDNDOztBQUVQLFFBQUlDLGNBQWNOLElBQUlPLFdBQUosR0FBZ0JQLElBQUlRLFlBQXRDO0FBQ0EsUUFBSUMsV0FBV0MsT0FBT0MsVUFBUCxHQUFvQkMsS0FBS0MsR0FBTCxDQUFTSCxPQUFPQyxVQUFoQixFQUE0QixHQUE1QixDQUFwQixHQUF1RCxHQUF0RTtBQUNBLFFBQUlHLFFBQVFSLGVBQWUsQ0FBZixHQUFtQkcsUUFBbkIsR0FBOEJBLFdBQVNILFdBQW5EO0FBQ0EsUUFBSVMsU0FBU1QsZUFBZSxDQUFmLEdBQW1CRyxXQUFTSCxXQUE1QixHQUEwQ0csUUFBdkQ7QUFDQSxRQUFJTyxVQUFVRixTQUFTTCxRQUFULEdBQW9CLENBQUMsQ0FBckIsR0FBeUIsQ0FBQyxDQUFELEdBQUcsQ0FBQ0EsV0FBU0ssS0FBVixJQUFpQixDQUEzRDtBQUNBWCxZQUFRQSxTQUFTLEVBQUNXLE9BQU9BLEtBQVIsRUFBZUMsUUFBUUEsTUFBdkIsRUFBakI7QUFDQVgsZ0NBQWtCYSxXQUFXLE9BQTdCLElBQXlDYixjQUF6Qzs7QUFFQSxRQUFJYyxRQUFRLG9CQUFDLEtBQUQsSUFBTyxLQUFLbEIsR0FBWjtBQUNWLGFBQU9HLEtBREc7QUFFVixtQkFBYUUsV0FGSDtBQUdWLGdCQUFTLE9BSEM7QUFJVixXQUFLTCxJQUFJbUIsV0FKQztBQUtWLG1CQUFhakIsV0FMSDtBQU1WLFdBQUtELEVBTks7QUFPVixnQkFBVSxLQUFLRixLQUFMLENBQVdxQixRQVBYLEdBQVo7O0FBU0EsUUFBSUMsU0FBUzFCLG1CQUFtQjJCLFNBQW5CLENBQTZCdEIsR0FBN0IsQ0FBYjtBQUNBLFFBQUl1QixZQUFZLENBQUMsQ0FBQ3JCLFdBQUYsSUFBaUJGLElBQUlrQixLQUFKLElBQWEsT0FBYixJQUF3QmxCLElBQUlPLFdBQUosR0FBa0IsQ0FBMUMsSUFBK0NjLFdBQVcsbUJBQTNGOztBQUVBLFdBQU9FLGFBQ0w7QUFBQTtBQUFBLFFBQUssV0FBVSxlQUFmLEVBQStCLE9BQU9uQixjQUF0QztBQUNHYyxXQURIO0FBRUU7QUFBQyxnQkFBRDtBQUFBO0FBQVdsQixZQUFJd0I7QUFBZjtBQUZGLEtBREY7QUFNRCxHQTdCa0M7QUErQm5DQyxpQkEvQm1DLDZCQStCakI7QUFDaEIsV0FBTyxFQUFDTCxVQUFVLElBQVgsRUFBUDtBQUNEO0FBakNrQyxDQUFsQixDQUFuQjs7QUFvQ0FNLE9BQU9DLE9BQVAsR0FBaUIvQixZQUFqQiIsImZpbGUiOiJhcnR3b3JrLWltYWdlLmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG5sZXQgTGF6eUxvYWQgPSByZXF1aXJlKCdyZWFjdC1sYXp5LWxvYWQnKS5kZWZhdWx0XG5cbnZhciBNYXJrZG93biA9IHJlcXVpcmUoJy4vbWFya2Rvd24nKVxudmFyIEltYWdlID0gcmVxdWlyZSgnLi9pbWFnZScpXG52YXIgcmlnaHRzRGVzY3JpcHRpb25zID0gcmVxdWlyZSgnLi9yaWdodHMtdHlwZXMuanMnKVxuXG52YXIgQXJ0d29ya0ltYWdlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgbGV0IHthcnQsIGlkLCBjdXN0b21JbWFnZSwgc3R5bGUsIGNvbnRhaW5lclN0eWxlLCBpZ25vcmVTdHlsZX0gPSB0aGlzLnByb3BzXG4gICAgbGV0IGFzcGVjdFJhdGlvID0gYXJ0LmltYWdlX3dpZHRoL2FydC5pbWFnZV9oZWlnaHRcbiAgICBsZXQgbWF4V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCA/IE1hdGgubWluKHdpbmRvdy5pbm5lcldpZHRoLCA0MDApIDogNDAwXG4gICAgbGV0IHdpZHRoID0gYXNwZWN0UmF0aW8gPj0gMSA/IG1heFdpZHRoIDogbWF4V2lkdGgvYXNwZWN0UmF0aW9cbiAgICBsZXQgaGVpZ2h0ID0gYXNwZWN0UmF0aW8gPj0gMSA/IG1heFdpZHRoL2FzcGVjdFJhdGlvIDogbWF4V2lkdGhcbiAgICBsZXQgcGFkZGluZyA9IHdpZHRoID49IG1heFdpZHRoID8gLTggOiAtOCsobWF4V2lkdGgtd2lkdGgpLzJcbiAgICBzdHlsZSA9IHN0eWxlIHx8IHt3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0fVxuICAgIGNvbnRhaW5lclN0eWxlID0ge21pbkhlaWdodDogJzE3M3B4JywgLi4uY29udGFpbmVyU3R5bGV9XG5cbiAgICB2YXIgaW1hZ2UgPSA8SW1hZ2UgYXJ0PXthcnR9XG4gICAgICBzdHlsZT17c3R5bGV9XG4gICAgICBpZ25vcmVTdHlsZT17aWdub3JlU3R5bGV9XG4gICAgICBpdGVtUHJvcD1cImltYWdlXCJcbiAgICAgIGFsdD17YXJ0LmRlc2NyaXB0aW9ufVxuICAgICAgY3VzdG9tSW1hZ2U9e2N1c3RvbUltYWdlfVxuICAgICAga2V5PXtpZH1cbiAgICAgIGxhenlMb2FkPXt0aGlzLnByb3BzLmxhenlMb2FkfSAvPlxuXG4gICAgdmFyIHJpZ2h0cyA9IHJpZ2h0c0Rlc2NyaXB0aW9ucy5nZXRSaWdodHMoYXJ0KVxuICAgIHZhciBzaG93SW1hZ2UgPSAhIWN1c3RvbUltYWdlIHx8IGFydC5pbWFnZSA9PSAndmFsaWQnICYmIGFydC5pbWFnZV93aWR0aCA+IDAgJiYgcmlnaHRzICE9PSAnUGVybWlzc2lvbiBEZW5pZWQnXG5cbiAgICByZXR1cm4gc2hvd0ltYWdlICYmIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdhcnR3b3JrLWltYWdlJyBzdHlsZT17Y29udGFpbmVyU3R5bGV9PlxuICAgICAgICB7aW1hZ2V9XG4gICAgICAgIDxNYXJrZG93bj57YXJ0LmltYWdlX2NvcHlyaWdodH08L01hcmtkb3duPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9LFxuXG4gIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICByZXR1cm4ge2xhenlMb2FkOiB0cnVlfVxuICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBBcnR3b3JrSW1hZ2VcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "artwork-image.js"
      ],
      "names": [
        "React",
        "require",
        "LazyLoad",
        "default",
        "Markdown",
        "Image",
        "rightsDescriptions",
        "ArtworkImage",
        "createClass",
        "render",
        "props",
        "art",
        "id",
        "customImage",
        "style",
        "containerStyle",
        "ignoreStyle",
        "aspectRatio",
        "image_width",
        "image_height",
        "maxWidth",
        "window",
        "innerWidth",
        "Math",
        "min",
        "width",
        "height",
        "padding",
        "minHeight",
        "image",
        "description",
        "lazyLoad",
        "rights",
        "getRights",
        "showImage",
        "image_copyright",
        "getDefaultProps",
        "module",
        "exports"
      ],
      "mappings": ";;;;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;AACA,IAAIC,WAAWD,QAAQ,iBAAR,EAA2BE,OAA1C;;AAEA,IAAIC,WAAWH,QAAQ,YAAR,CAAf;AACA,IAAII,QAAQJ,QAAQ,SAAR,CAAZ;AACA,IAAIK,qBAAqBL,QAAQ,mBAAR,CAAzB;;AAEA,IAAIM,eAAeP,MAAMQ,WAAN,CAAkB;AAAA;AACnCC,QADmC,oBAC1B;AAAA,iBAC0D,KAAKC,KAD/D;AAAA,QACFC,GADE,UACFA,GADE;AAAA,QACGC,EADH,UACGA,EADH;AAAA,QACOC,WADP,UACOA,WADP;AAAA,QACoBC,KADpB,UACoBA,KADpB;AAAA,QAC2BC,cAD3B,UAC2BA,cAD3B;AAAA,QAC2CC,WAD3C,UAC2CA,WAD3C;;AAEP,QAAIC,cAAcN,IAAIO,WAAJ,GAAgBP,IAAIQ,YAAtC;AACA,QAAIC,WAAWC,OAAOC,UAAP,GAAoBC,KAAKC,GAAL,CAASH,OAAOC,UAAhB,EAA4B,GAA5B,CAApB,GAAuD,GAAtE;AACA,QAAIG,QAAQR,eAAe,CAAf,GAAmBG,QAAnB,GAA8BA,WAASH,WAAnD;AACA,QAAIS,SAAST,eAAe,CAAf,GAAmBG,WAASH,WAA5B,GAA0CG,QAAvD;AACA,QAAIO,UAAUF,SAASL,QAAT,GAAoB,CAAC,CAArB,GAAyB,CAAC,CAAD,GAAG,CAACA,WAASK,KAAV,IAAiB,CAA3D;AACAX,YAAQA,SAAS,EAACW,OAAOA,KAAR,EAAeC,QAAQA,MAAvB,EAAjB;AACAX,gCAAkBa,WAAW,OAA7B,IAAyCb,cAAzC;;AAEA,QAAIc,QAAQ,oBAAC,KAAD,IAAO,KAAKlB,GAAZ;AACV,aAAOG,KADG;AAEV,mBAAaE,WAFH;AAGV,gBAAS,OAHC;AAIV,WAAKL,IAAImB,WAJC;AAKV,mBAAajB,WALH;AAMV,WAAKD,EANK;AAOV,gBAAU,KAAKF,KAAL,CAAWqB,QAPX,GAAZ;;AASA,QAAIC,SAAS1B,mBAAmB2B,SAAnB,CAA6BtB,GAA7B,CAAb;AACA,QAAIuB,YAAY,CAAC,CAACrB,WAAF,IAAiBF,IAAIkB,KAAJ,IAAa,OAAb,IAAwBlB,IAAIO,WAAJ,GAAkB,CAA1C,IAA+Cc,WAAW,mBAA3F;;AAEA,WAAOE,aACL;AAAA;AAAA,QAAK,WAAU,eAAf,EAA+B,OAAOnB,cAAtC;AACGc,WADH;AAEE;AAAC,gBAAD;AAAA;AAAWlB,YAAIwB;AAAf;AAFF,KADF;AAMD,GA7BkC;AA+BnCC,iBA/BmC,6BA+BjB;AAChB,WAAO,EAACL,UAAU,IAAX,EAAP;AACD;AAjCkC,CAAlB,CAAnB;;AAoCAM,OAAOC,OAAP,GAAiB/B,YAAjB",
      "file": "artwork-image.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nlet LazyLoad = require('react-lazy-load').default\n\nvar Markdown = require('./markdown')\nvar Image = require('./image')\nvar rightsDescriptions = require('./rights-types.js')\n\nvar ArtworkImage = React.createClass({\n  render() {\n    let {art, id, customImage, style, containerStyle, ignoreStyle} = this.props\n    let aspectRatio = art.image_width/art.image_height\n    let maxWidth = window.innerWidth ? Math.min(window.innerWidth, 400) : 400\n    let width = aspectRatio >= 1 ? maxWidth : maxWidth/aspectRatio\n    let height = aspectRatio >= 1 ? maxWidth/aspectRatio : maxWidth\n    let padding = width >= maxWidth ? -8 : -8+(maxWidth-width)/2\n    style = style || {width: width, height: height}\n    containerStyle = {minHeight: '173px', ...containerStyle}\n\n    var image = <Image art={art}\n      style={style}\n      ignoreStyle={ignoreStyle}\n      itemProp=\"image\"\n      alt={art.description}\n      customImage={customImage}\n      key={id}\n      lazyLoad={this.props.lazyLoad} />\n\n    var rights = rightsDescriptions.getRights(art)\n    var showImage = !!customImage || art.image == 'valid' && art.image_width > 0 && rights !== 'Permission Denied'\n\n    return showImage && (\n      <div className='artwork-image' style={containerStyle}>\n        {image}\n        <Markdown>{art.image_copyright}</Markdown>\n      </div>\n    )\n  },\n\n  getDefaultProps() {\n    return {lazyLoad: true}\n  },\n})\n\nmodule.exports = ArtworkImage\n"
      ]
    },
    "mtime": 1612393616748
  },
  "{\"filename\":\"/var/www/art/src/markdown.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/markdown.js",
      "filenameRelative": "/var/www/art/src/markdown.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "markdown.js",
      "sourceFileName": "markdown.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "markdown"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\n\nvar marked = require('marked');\nmarked.setOptions({\n  gfm: true,\n  breaks: true\n});\n\nvar Markdown = React.createClass({\n  displayName: 'Markdown',\n  render: function render() {\n    if (!this.props.children) return React.createElement('span', null);\n\n    var content = this.props.children.replace('\\n', '\\n\\n').replace(/<i>([^<]+)<\\/?i>/gi, '<i>$1</i>');\n\n    var Tag = this.props.tag || 'div';\n    var rendered = this.props.alreadyRendered ? content : marked(content);\n    if (this.props.tag) rendered = rendered.replace(/<.?p>/g, '').trim();\n    return React.createElement(Tag, { dangerouslySetInnerHTML: { __html: rendered } });\n  }\n});\n\nmodule.exports = Markdown;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcmtkb3duLmpzIl0sIm5hbWVzIjpbIlJlYWN0IiwicmVxdWlyZSIsIm1hcmtlZCIsInNldE9wdGlvbnMiLCJnZm0iLCJicmVha3MiLCJNYXJrZG93biIsImNyZWF0ZUNsYXNzIiwicmVuZGVyIiwicHJvcHMiLCJjaGlsZHJlbiIsImNvbnRlbnQiLCJyZXBsYWNlIiwiVGFnIiwidGFnIiwicmVuZGVyZWQiLCJhbHJlYWR5UmVuZGVyZWQiLCJ0cmltIiwiX19odG1sIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxRQUFRQyxRQUFRLE9BQVIsQ0FBWjs7QUFFQSxJQUFNQyxTQUFTRCxRQUFRLFFBQVIsQ0FBZjtBQUNBQyxPQUFPQyxVQUFQLENBQWtCO0FBQ2hCQyxPQUFLLElBRFc7QUFFaEJDLFVBQVE7QUFGUSxDQUFsQjs7QUFLQSxJQUFJQyxXQUFXTixNQUFNTyxXQUFOLENBQWtCO0FBQUE7QUFDL0JDLFFBRCtCLG9CQUN0QjtBQUNQLFFBQUcsQ0FBQyxLQUFLQyxLQUFMLENBQVdDLFFBQWYsRUFBeUIsT0FBTyxpQ0FBUDs7QUFFekIsUUFBSUMsVUFBVSxLQUFLRixLQUFMLENBQVdDLFFBQVgsQ0FDWEUsT0FEVyxDQUNILElBREcsRUFDRyxNQURILEVBRVhBLE9BRlcsQ0FFSCxvQkFGRyxFQUVtQixXQUZuQixDQUFkOztBQUlBLFFBQUlDLE1BQU0sS0FBS0osS0FBTCxDQUFXSyxHQUFYLElBQWtCLEtBQTVCO0FBQ0EsUUFBSUMsV0FBVyxLQUFLTixLQUFMLENBQVdPLGVBQVgsR0FBNkJMLE9BQTdCLEdBQXVDVCxPQUFPUyxPQUFQLENBQXREO0FBQ0EsUUFBRyxLQUFLRixLQUFMLENBQVdLLEdBQWQsRUFBbUJDLFdBQVdBLFNBQVNILE9BQVQsQ0FBaUIsUUFBakIsRUFBMkIsRUFBM0IsRUFBK0JLLElBQS9CLEVBQVg7QUFDbkIsV0FBTyxvQkFBQyxHQUFELElBQUsseUJBQXlCLEVBQUNDLFFBQVFILFFBQVQsRUFBOUIsR0FBUDtBQUNEO0FBWjhCLENBQWxCLENBQWY7O0FBZUFJLE9BQU9DLE9BQVAsR0FBaUJkLFFBQWpCIiwiZmlsZSI6Im1hcmtkb3duLmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG5cbmNvbnN0IG1hcmtlZCA9IHJlcXVpcmUoJ21hcmtlZCcpXG5tYXJrZWQuc2V0T3B0aW9ucyh7XG4gIGdmbTogdHJ1ZSxcbiAgYnJlYWtzOiB0cnVlLFxufSlcblxudmFyIE1hcmtkb3duID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgaWYoIXRoaXMucHJvcHMuY2hpbGRyZW4pIHJldHVybiA8c3BhbiAvPlxuXG4gICAgdmFyIGNvbnRlbnQgPSB0aGlzLnByb3BzLmNoaWxkcmVuXG4gICAgICAucmVwbGFjZSgnXFxuJywgJ1xcblxcbicpXG4gICAgICAucmVwbGFjZSgvPGk+KFtePF0rKTxcXC8/aT4vZ2ksICc8aT4kMTwvaT4nKVxuXG4gICAgbGV0IFRhZyA9IHRoaXMucHJvcHMudGFnIHx8ICdkaXYnXG4gICAgbGV0IHJlbmRlcmVkID0gdGhpcy5wcm9wcy5hbHJlYWR5UmVuZGVyZWQgPyBjb250ZW50IDogbWFya2VkKGNvbnRlbnQpXG4gICAgaWYodGhpcy5wcm9wcy50YWcpIHJlbmRlcmVkID0gcmVuZGVyZWQucmVwbGFjZSgvPC4/cD4vZywgJycpLnRyaW0oKVxuICAgIHJldHVybiA8VGFnIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiByZW5kZXJlZH19PjwvVGFnPlxuICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBNYXJrZG93blxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "markdown.js"
      ],
      "names": [
        "React",
        "require",
        "marked",
        "setOptions",
        "gfm",
        "breaks",
        "Markdown",
        "createClass",
        "render",
        "props",
        "children",
        "content",
        "replace",
        "Tag",
        "tag",
        "rendered",
        "alreadyRendered",
        "trim",
        "__html",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;;AAEA,IAAMC,SAASD,QAAQ,QAAR,CAAf;AACAC,OAAOC,UAAP,CAAkB;AAChBC,OAAK,IADW;AAEhBC,UAAQ;AAFQ,CAAlB;;AAKA,IAAIC,WAAWN,MAAMO,WAAN,CAAkB;AAAA;AAC/BC,QAD+B,oBACtB;AACP,QAAG,CAAC,KAAKC,KAAL,CAAWC,QAAf,EAAyB,OAAO,iCAAP;;AAEzB,QAAIC,UAAU,KAAKF,KAAL,CAAWC,QAAX,CACXE,OADW,CACH,IADG,EACG,MADH,EAEXA,OAFW,CAEH,oBAFG,EAEmB,WAFnB,CAAd;;AAIA,QAAIC,MAAM,KAAKJ,KAAL,CAAWK,GAAX,IAAkB,KAA5B;AACA,QAAIC,WAAW,KAAKN,KAAL,CAAWO,eAAX,GAA6BL,OAA7B,GAAuCT,OAAOS,OAAP,CAAtD;AACA,QAAG,KAAKF,KAAL,CAAWK,GAAd,EAAmBC,WAAWA,SAASH,OAAT,CAAiB,QAAjB,EAA2B,EAA3B,EAA+BK,IAA/B,EAAX;AACnB,WAAO,oBAAC,GAAD,IAAK,yBAAyB,EAACC,QAAQH,QAAT,EAA9B,GAAP;AACD;AAZ8B,CAAlB,CAAf;;AAeAI,OAAOC,OAAP,GAAiBd,QAAjB",
      "file": "markdown.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\n\nconst marked = require('marked')\nmarked.setOptions({\n  gfm: true,\n  breaks: true,\n})\n\nvar Markdown = React.createClass({\n  render() {\n    if(!this.props.children) return <span />\n\n    var content = this.props.children\n      .replace('\\n', '\\n\\n')\n      .replace(/<i>([^<]+)<\\/?i>/gi, '<i>$1</i>')\n\n    let Tag = this.props.tag || 'div'\n    let rendered = this.props.alreadyRendered ? content : marked(content)\n    if(this.props.tag) rendered = rendered.replace(/<.?p>/g, '').trim()\n    return <Tag dangerouslySetInnerHTML={{__html: rendered}}></Tag>\n  },\n})\n\nmodule.exports = Markdown\n"
      ]
    },
    "mtime": 1491504523014
  },
  "{\"filename\":\"/var/www/art/src/image.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "objectWithoutProperties",
        "extends",
        "defineProperty",
        "toConsumableArray"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/image.js",
      "filenameRelative": "/var/www/art/src/image.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "image.js",
      "sourceFileName": "image.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "image"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\nvar cx = require('classnames');\nvar LazyLoad = require('react-lazy-load').default;\n\nvar imageCDN = require('./image-cdn');\n\nvar _require = require('./artwork/creator'),\n    getFacetAndValue = _require.getFacetAndValue;\n\nvar rightsDescriptions = require('./rights-types.js');\n\nvar Image = React.createClass({\n  displayName: 'Image',\n  render: function render() {\n    var _extends2;\n\n    var _props = this.props,\n        art = _props.art,\n        style = _props.style,\n        lazyLoad = _props.lazyLoad,\n        ignoreStyle = _props.ignoreStyle,\n        customImage = _props.customImage,\n        other = _objectWithoutProperties(_props, ['art', 'style', 'lazyLoad', 'ignoreStyle', 'customImage']);\n\n    var id = art.id;\n    var width = style.width,\n        height = style.height;\n\n\n    var classes = cx('image', {\n      loading: !this.state.loaded,\n      loaded: this.state.loaded,\n      error: this.state.error,\n      invalid: this.state.error\n    });\n\n    var loadingStyle = _extends({}, style);\n\n    var url = this.imageURL();\n    if (art.image_url) ignoreStyle = true;\n\n    var _style = _extends({}, ignoreStyle ? { maxWidth: '100%', maxHeight: '69vh' } : style, {\n      objectFit: 'cover'\n    });\n\n    var nakedImage = React.createElement('img', _extends((_extends2 = {\n      key: id,\n      style: _style,\n      src: url\n    }, _defineProperty(_extends2, 'key', url), _defineProperty(_extends2, 'onLoad', this.handleImageLoad), _defineProperty(_extends2, 'onError', this.handleError), _defineProperty(_extends2, 'className', classes), _defineProperty(_extends2, 'title', art.title + ', ' + getFacetAndValue(art)[1]), _defineProperty(_extends2, 'alt', art.description), _extends2), other));\n\n    var rights = rightsDescriptions.getRights(art);\n    if (rights == 'Permission Denied') return React.createElement('span', null);\n\n    var image = !lazyLoad ? nakedImage : React.createElement(\n      LazyLoad,\n      { wrapper: 'span', style: { display: 'inline' }, width: width, height: '' + height, className: classes },\n      nakedImage\n    );\n\n    return image;\n  },\n  imageURL: function imageURL() {\n    var _this = this;\n\n    var _props2 = this.props,\n        customImage = _props2.customImage,\n        size = _props2.size,\n        showLink = _props2.showLink;\n    var _props$art = this.props.art,\n        id = _props$art.id,\n        image_url = _props$art.image_url;\n\n\n    if (image_url) return image_url;\n\n    // This watches out for the image to fail ONCE, then swaps in \n    // the 400px IIIF thumbnail\n    // TODO: cascade from customImage -> S3 -> api.artsmia.org?\n    var binaryFailImageUrl = this.state.skipCDN ? 'https://iiif.dx.artsmia.org/' + id + '.jpg/full/400,/0/default.jpg' : customImage ? customImage(id) : imageCDN(id, size || showLink ? undefined : 800);\n\n    // do this by tracking when a URL fails to load in this.state.failedLoads `[]`\n    // (variable might need a re-name)\n    // and checking that state against the image to be loaded here.\n    // Options:\n    // customImage by function\n    // S3 thumbnail\n    // IIIF thumbnail\n    // non-existent image that will trigger the `error` state\n    var imageCandidates = [customImage ? customImage(id) : null, imageCDN(id, size || showLink ? undefined : 800),\n    // `https://iiif.dx.artsmia.org/${id}.jpg/-1,-1,800,800/800,/0/default.jpg`,\n    'https://iiif.dx.artsmia.org/' + id + '.jpg/full/800,/0/default.jpg', 'http://0.api.artsmia.org/null.jpg'].filter(function (url) {\n      return url;\n    });\n    var firstUnFailedImageUrl = imageCandidates.find(function (url) {\n      return (_this.state.failedLoads || []).indexOf(url) < 0;\n    });\n\n    return firstUnFailedImageUrl;\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    if (this.props.art !== nextProps.art) this.setState({ skipCDN: false });\n  },\n  handleImageLoad: function handleImageLoad() {\n    this.setState({ loaded: true });\n  },\n\n\n  // if the image doesn't load, it's probably because it's not on the CDN\n  // yet. Fall back and load it from the API\n  // If it also won't load from there, we've got problems\n  handleError: function handleError(event) {\n    var src = event.target.src;\n\n    var failedSoFar = this.state.failedLoads || [];\n    var failedLoads = [].concat(_toConsumableArray(failedSoFar), [src]);\n\n    this.setState({ failedLoads: failedLoads });\n\n    // problems! the image isn't working\n    if (src === 'http://0.api.artsmia.org/null.jpg') {\n      this.setState({ loaded: true, error: true });\n      this.props.art.image = 'invalid';\n      this.props.onImageInvalidation && this.props.onImageInvalidation();\n    }\n  },\n  getInitialState: function getInitialState() {\n    return {\n      loaded: this.context.universal || false,\n      skipCDN: false\n    };\n  },\n  getDefaultProps: function getDefaultProps() {\n    return {\n      ignoreStyle: false\n    };\n  }\n});\nImage.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nmodule.exports = Image;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImltYWdlLmpzIl0sIm5hbWVzIjpbIlJlYWN0IiwicmVxdWlyZSIsImN4IiwiTGF6eUxvYWQiLCJkZWZhdWx0IiwiaW1hZ2VDRE4iLCJnZXRGYWNldEFuZFZhbHVlIiwicmlnaHRzRGVzY3JpcHRpb25zIiwiSW1hZ2UiLCJjcmVhdGVDbGFzcyIsInJlbmRlciIsInByb3BzIiwiYXJ0Iiwic3R5bGUiLCJsYXp5TG9hZCIsImlnbm9yZVN0eWxlIiwiY3VzdG9tSW1hZ2UiLCJvdGhlciIsImlkIiwid2lkdGgiLCJoZWlnaHQiLCJjbGFzc2VzIiwibG9hZGluZyIsInN0YXRlIiwibG9hZGVkIiwiZXJyb3IiLCJpbnZhbGlkIiwibG9hZGluZ1N0eWxlIiwidXJsIiwiaW1hZ2VVUkwiLCJpbWFnZV91cmwiLCJfc3R5bGUiLCJtYXhXaWR0aCIsIm1heEhlaWdodCIsIm9iamVjdEZpdCIsIm5ha2VkSW1hZ2UiLCJoYW5kbGVJbWFnZUxvYWQiLCJoYW5kbGVFcnJvciIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJyaWdodHMiLCJnZXRSaWdodHMiLCJpbWFnZSIsImRpc3BsYXkiLCJzaXplIiwic2hvd0xpbmsiLCJiaW5hcnlGYWlsSW1hZ2VVcmwiLCJza2lwQ0ROIiwidW5kZWZpbmVkIiwiaW1hZ2VDYW5kaWRhdGVzIiwiZmlsdGVyIiwiZmlyc3RVbkZhaWxlZEltYWdlVXJsIiwiZmluZCIsImZhaWxlZExvYWRzIiwiaW5kZXhPZiIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJuZXh0UHJvcHMiLCJzZXRTdGF0ZSIsImV2ZW50Iiwic3JjIiwidGFyZ2V0IiwiZmFpbGVkU29GYXIiLCJvbkltYWdlSW52YWxpZGF0aW9uIiwiZ2V0SW5pdGlhbFN0YXRlIiwiY29udGV4dCIsInVuaXZlcnNhbCIsImdldERlZmF1bHRQcm9wcyIsImNvbnRleHRUeXBlcyIsInJvdXRlciIsIlByb3BUeXBlcyIsImZ1bmMiLCJib29sIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5n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VEQsR0FEUzs7QUFFakIsUUFBTUUsY0FBYyxLQUFLdEMsS0FBTCxDQUFXOEIsV0FBWCxJQUEwQixFQUE5QztBQUNBLFFBQU1BLDJDQUFrQlEsV0FBbEIsSUFBK0JGLEdBQS9CLEVBQU47O0FBRUEsU0FBS0YsUUFBTCxDQUFjLEVBQUNKLHdCQUFELEVBQWQ7O0FBRUE7QUFDQSxRQUFHTSxRQUFRLG1DQUFYLEVBQWdEO0FBQzlDLFdBQUtGLFFBQUwsQ0FBYyxFQUFDakMsUUFBUSxJQUFULEVBQWVDLE9BQU8sSUFBdEIsRUFBZDtBQUNBLFdBQUtkLEtBQUwsQ0FBV0MsR0FBWCxDQUFlOEIsS0FBZixHQUF1QixTQUF2QjtBQUNBLFdBQUsvQixLQUFMLENBQVdtRCxtQkFBWCxJQUFrQyxLQUFLbkQsS0FBTCxDQUFXbUQsbUJBQVgsRUFBbEM7QUFDRDtBQUNGLEdBeEc2QjtBQTBHOUJDLGlCQTFHOEIsNkJBMEdaO0FBQ2hCLFdBQU87QUFDTHZDLGNBQVEsS0FBS3dDLE9BQUwsQ0FBYUMsU0FBYixJQUEwQixLQUQ3QjtBQUVMbEIsZUFBUztBQUZKLEtBQVA7QUFJRCxHQS9HNkI7QUFpSDlCbUIsaUJBakg4Qiw2QkFpSFo7QUFDaEIsV0FBTztBQUNMbkQsbUJBQWE7QUFEUixLQUFQO0FBR0Q7QUFySDZCLENBQWxCLENBQWQ7QUF1SEFQLE1BQU0yRCxZQUFOLEdBQXFCO0FBQ25CQyxVQUFRcEUsTUFBTXFFLFNBQU4sQ0FBZ0JDLElBREw7QUFFbkJMLGFBQVdqRSxNQUFNcUUsU0FBTixDQUFnQkU7QUFGUixDQUFyQjs7QUFLQUMsT0FBT0MsT0FBUCxHQUFpQmpFLEtBQWpCIiwiZmlsZSI6ImltYWdlLmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgY3ggPSByZXF1aXJlKCdjbGFzc25hbWVzJylcbnZhciBMYXp5TG9hZCA9IHJlcXVpcmUoJ3JlYWN0LWxhenktbG9hZCcpLmRlZmF1bHRcblxudmFyIGltYWdlQ0ROID0gcmVxdWlyZSgnLi9pbWFnZS1jZG4nKVxudmFyIHtnZXRGYWNldEFuZFZhbHVlfSA9IHJlcXVpcmUoJy4vYXJ0d29yay9jcmVhdG9yJylcbnZhciByaWdodHNEZXNjcmlwdGlvbnMgPSByZXF1aXJlKCcuL3JpZ2h0cy10eXBlcy5qcycpXG5cbmNvbnN0IEltYWdlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnQsIHN0eWxlLCBsYXp5TG9hZCwgaWdub3JlU3R5bGUsIGN1c3RvbUltYWdlLCAuLi5vdGhlcn0gPSB0aGlzLnByb3BzXG4gICAgdmFyIHtpZH0gPSBhcnRcbiAgICB2YXIge3dpZHRoLCBoZWlnaHR9ID0gc3R5bGVcblxuICAgIHZhciBjbGFzc2VzID0gY3goJ2ltYWdlJywge1xuICAgICAgbG9hZGluZzogIXRoaXMuc3RhdGUubG9hZGVkLFxuICAgICAgbG9hZGVkOiB0aGlzLnN0YXRlLmxvYWRlZCxcbiAgICAgIGVycm9yOiB0aGlzLnN0YXRlLmVycm9yLFxuICAgICAgaW52YWxpZDogdGhpcy5zdGF0ZS5lcnJvcixcbiAgICB9KVxuXG4gICAgdmFyIGxvYWRpbmdTdHlsZSA9IHtcbiAgICAgIC4uLnN0eWxlLFxuICAgIH1cblxuICAgIHZhciB1cmwgPSB0aGlzLmltYWdlVVJMKClcbiAgICBpZihhcnQuaW1hZ2VfdXJsKSBpZ25vcmVTdHlsZSA9IHRydWVcblxuICAgIGNvbnN0IF9zdHlsZSA9IHtcbiAgICAgIC4uLihpZ25vcmVTdHlsZSA/IHttYXhXaWR0aDogJzEwMCUnLCBtYXhIZWlnaHQ6ICc2OXZoJ30gOiBzdHlsZSksXG4gICAgICBvYmplY3RGaXQ6ICdjb3ZlcicsXG4gICAgfVxuXG4gICAgdmFyIG5ha2VkSW1hZ2UgPSA8aW1nXG4gICAgICBrZXk9e2lkfVxuICAgICAgc3R5bGU9e19zdHlsZX1cbiAgICAgIHNyYz17dXJsfVxuICAgICAga2V5PXt1cmx9XG4gICAgICBvbkxvYWQ9e3RoaXMuaGFuZGxlSW1hZ2VMb2FkfVxuICAgICAgb25FcnJvcj17dGhpcy5oYW5kbGVFcnJvcn1cbiAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlc31cbiAgICAgIHRpdGxlPXtgJHthcnQudGl0bGV9LCAke2dldEZhY2V0QW5kVmFsdWUoYXJ0KVsxXX1gfVxuICAgICAgYWx0PXthcnQuZGVzY3JpcHRpb259XG4gICAgICB7Li4ub3RoZXJ9IC8+XG5cbiAgICB2YXIgcmlnaHRzID0gcmlnaHRzRGVzY3JpcHRpb25zLmdldFJpZ2h0cyhhcnQpXG4gICAgaWYocmlnaHRzID09ICdQZXJtaXNzaW9uIERlbmllZCcpIHJldHVybiA8c3BhbiAvPlxuXG4gICAgdmFyIGltYWdlID0gIWxhenlMb2FkID8gbmFrZWRJbWFnZSA6IDxMYXp5TG9hZCB3cmFwcGVyPVwic3BhblwiIHN0eWxlPXt7ZGlzcGxheTogJ2lubGluZSd9fSB3aWR0aD17d2lkdGh9IGhlaWdodD17YCR7aGVpZ2h0fWB9IGNsYXNzTmFtZT17Y2xhc3Nlc30+XG4gICAgICB7bmFrZWRJbWFnZX1cbiAgICA8L0xhenlMb2FkPlxuXG4gICAgcmV0dXJuIGltYWdlXG4gIH0sXG5cbiAgaW1hZ2VVUkwoKSB7XG4gICAgdmFyIHtjdXN0b21JbWFnZSwgc2l6ZSwgc2hvd0xpbmt9ID0gdGhpcy5wcm9wc1xuICAgIHZhciB7aWQsIGltYWdlX3VybH0gPSB0aGlzLnByb3BzLmFydFxuXG4gICAgaWYoaW1hZ2VfdXJsKSByZXR1cm4gaW1hZ2VfdXJsXG5cbiAgICAvLyBUaGlzIHdhdGNoZXMgb3V0IGZvciB0aGUgaW1hZ2UgdG8gZmFpbCBPTkNFLCB0aGVuIHN3YXBzIGluIFxuICAgIC8vIHRoZSA0MDBweCBJSUlGIHRodW1ibmFpbFxuICAgIC8vIFRPRE86IGNhc2NhZGUgZnJvbSBjdXN0b21JbWFnZSAtPiBTMyAtPiBhcGkuYXJ0c21pYS5vcmc/XG4gICAgY29uc3QgYmluYXJ5RmFpbEltYWdlVXJsID0gdGhpcy5zdGF0ZS5za2lwQ0ROID9cbiAgICAgIGBodHRwczovL2lpaWYuZHguYXJ0c21pYS5vcmcvJHtpZH0uanBnL2Z1bGwvNDAwLC8wL2RlZmF1bHQuanBnYCA6XG4gICAgICBjdXN0b21JbWFnZSA/IGN1c3RvbUltYWdlKGlkKSA6IGltYWdlQ0ROKGlkLCBzaXplIHx8IHNob3dMaW5rID8gdW5kZWZpbmVkIDogODAwKVxuXG4gICAgLy8gZG8gdGhpcyBieSB0cmFja2luZyB3aGVuIGEgVVJMIGZhaWxzIHRvIGxvYWQgaW4gdGhpcy5zdGF0ZS5mYWlsZWRMb2FkcyBgW11gXG4gICAgLy8gKHZhcmlhYmxlIG1pZ2h0IG5lZWQgYSByZS1uYW1lKVxuICAgIC8vIGFuZCBjaGVja2luZyB0aGF0IHN0YXRlIGFnYWluc3QgdGhlIGltYWdlIHRvIGJlIGxvYWRlZCBoZXJlLlxuICAgIC8vIE9wdGlvbnM6XG4gICAgLy8gY3VzdG9tSW1hZ2UgYnkgZnVuY3Rpb25cbiAgICAvLyBTMyB0aHVtYm5haWxcbiAgICAvLyBJSUlGIHRodW1ibmFpbFxuICAgIC8vIG5vbi1leGlzdGVudCBpbWFnZSB0aGF0IHdpbGwgdHJpZ2dlciB0aGUgYGVycm9yYCBzdGF0ZVxuICAgIGNvbnN0IGltYWdlQ2FuZGlkYXRlcyA9IFtcbiAgICAgIGN1c3RvbUltYWdlID8gY3VzdG9tSW1hZ2UoaWQpIDogbnVsbCxcbiAgICAgIGltYWdlQ0ROKGlkLCBzaXplIHx8IHNob3dMaW5rID8gdW5kZWZpbmVkIDogODAwKSxcbiAgICAgIC8vIGBodHRwczovL2lpaWYuZHguYXJ0c21pYS5vcmcvJHtpZH0uanBnLy0xLC0xLDgwMCw4MDAvODAwLC8wL2RlZmF1bHQuanBnYCxcbiAgICAgIGBodHRwczovL2lpaWYuZHguYXJ0c21pYS5vcmcvJHtpZH0uanBnL2Z1bGwvODAwLC8wL2RlZmF1bHQuanBnYCxcbiAgICAgICdodHRwOi8vMC5hcGkuYXJ0c21pYS5vcmcvbnVsbC5qcGcnXG4gICAgXS5maWx0ZXIodXJsID0+IHVybClcbiAgICBjb25zdCBmaXJzdFVuRmFpbGVkSW1hZ2VVcmwgPSBpbWFnZUNhbmRpZGF0ZXMuZmluZCh1cmwgPT4gKHRoaXMuc3RhdGUuZmFpbGVkTG9hZHMgfHwgW10pLmluZGV4T2YodXJsKSA8IDApXG5cbiAgICByZXR1cm4gZmlyc3RVbkZhaWxlZEltYWdlVXJsXG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICBpZih0aGlzLnByb3BzLmFydCAhPT0gbmV4dFByb3BzLmFydCkgdGhpcy5zZXRTdGF0ZSh7c2tpcENETjogZmFsc2V9KVxuICB9LFxuXG4gIGhhbmRsZUltYWdlTG9hZCgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtsb2FkZWQ6IHRydWV9KVxuICB9LFxuXG4gIC8vIGlmIHRoZSBpbWFnZSBkb2Vzbid0IGxvYWQsIGl0J3MgcHJvYmFibHkgYmVjYXVzZSBpdCdzIG5vdCBvbiB0aGUgQ0ROXG4gIC8vIHlldC4gRmFsbCBiYWNrIGFuZCBsb2FkIGl0IGZyb20gdGhlIEFQSVxuICAvLyBJZiBpdCBhbHNvIHdvbid0IGxvYWQgZnJvbSB0aGVyZSwgd2UndmUgZ290IHByb2JsZW1zXG4gIGhhbmRsZUVycm9yKGV2ZW50KSB7XG4gICAgY29uc3QgeyBzcmMgfSA9IGV2ZW50LnRhcmdldFxuICAgIGNvbnN0IGZhaWxlZFNvRmFyID0gdGhpcy5zdGF0ZS5mYWlsZWRMb2FkcyB8fCBbXVxuICAgIGNvbnN0IGZhaWxlZExvYWRzID0gWy4uLmZhaWxlZFNvRmFyLCBzcmNdXG5cbiAgICB0aGlzLnNldFN0YXRlKHtmYWlsZWRMb2Fkc30pXG5cbiAgICAvLyBwcm9ibGVtcyEgdGhlIGltYWdlIGlzbid0IHdvcmtpbmdcbiAgICBpZihzcmMgPT09ICdodHRwOi8vMC5hcGkuYXJ0c21pYS5vcmcvbnVsbC5qcGcnKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtsb2FkZWQ6IHRydWUsIGVycm9yOiB0cnVlfSlcbiAgICAgIHRoaXMucHJvcHMuYXJ0LmltYWdlID0gJ2ludmFsaWQnIFxuICAgICAgdGhpcy5wcm9wcy5vbkltYWdlSW52YWxpZGF0aW9uICYmIHRoaXMucHJvcHMub25JbWFnZUludmFsaWRhdGlvbigpXG4gICAgfVxuICB9LFxuXG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbG9hZGVkOiB0aGlzLmNvbnRleHQudW5pdmVyc2FsIHx8IGZhbHNlLFxuICAgICAgc2tpcENETjogZmFsc2UsXG4gICAgfVxuICB9LFxuXG4gIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWdub3JlU3R5bGU6IGZhbHNlLFxuICAgIH1cbiAgfSxcbn0pXG5JbWFnZS5jb250ZXh0VHlwZXMgPSB7XG4gIHJvdXRlcjogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIHVuaXZlcnNhbDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG59XG5cbm1vZHVsZS5leHBvcnRzID0gSW1hZ2VcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "image.js"
      ],
      "names": [
        "React",
        "require",
        "cx",
        "LazyLoad",
        "default",
        "imageCDN",
        "getFacetAndValue",
        "rightsDescriptions",
        "Image",
        "createClass",
        "render",
        "props",
        "art",
        "style",
        "lazyLoad",
        "ignoreStyle",
        "customImage",
        "other",
        "id",
        "width",
        "height",
        "classes",
        "loading",
        "state",
        "loaded",
        "error",
        "invalid",
        "loadingStyle",
        "url",
        "imageURL",
        "image_url",
        "_style",
        "maxWidth",
        "maxHeight",
        "objectFit",
        "nakedImage",
        "handleImageLoad",
        "handleError",
        "title",
        "description",
        "rights",
        "getRights",
        "image",
        "display",
        "size",
        "showLink",
        "binaryFailImageUrl",
        "skipCDN",
        "undefined",
        "imageCandidates",
        "filter",
        "firstUnFailedImageUrl",
        "find",
        "failedLoads",
        "indexOf",
        "componentWillReceiveProps",
        "nextProps",
        "setState",
        "event",
        "src",
        "target",
        "failedSoFar",
        "onImageInvalidation",
        "getInitialState",
        "context",
        "universal",
        "getDefaultProps",
        "contextTypes",
        "router",
        "PropTypes",
        "func",
        "bool",
        "module",
        "exports"
      ],
      "mappings": ";;;;;;;;;;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;AACA,IAAIC,KAAKD,QAAQ,YAAR,CAAT;AACA,IAAIE,WAAWF,QAAQ,iBAAR,EAA2BG,OAA1C;;AAEA,IAAIC,WAAWJ,QAAQ,aAAR,CAAf;;eACyBA,QAAQ,mBAAR,C;IAApBK,gB,YAAAA,gB;;AACL,IAAIC,qBAAqBN,QAAQ,mBAAR,CAAzB;;AAEA,IAAMO,QAAQR,MAAMS,WAAN,CAAkB;AAAA;AAC9BC,QAD8B,oBACrB;AAAA;;AAAA,iBAC0D,KAAKC,KAD/D;AAAA,QACFC,GADE,UACFA,GADE;AAAA,QACGC,KADH,UACGA,KADH;AAAA,QACUC,QADV,UACUA,QADV;AAAA,QACoBC,WADpB,UACoBA,WADpB;AAAA,QACiCC,WADjC,UACiCA,WADjC;AAAA,QACiDC,KADjD;;AAAA,QAEFC,EAFE,GAEIN,GAFJ,CAEFM,EAFE;AAAA,QAGFC,KAHE,GAGeN,KAHf,CAGFM,KAHE;AAAA,QAGKC,MAHL,GAGeP,KAHf,CAGKO,MAHL;;;AAKP,QAAIC,UAAUnB,GAAG,OAAH,EAAY;AACxBoB,eAAS,CAAC,KAAKC,KAAL,CAAWC,MADG;AAExBA,cAAQ,KAAKD,KAAL,CAAWC,MAFK;AAGxBC,aAAO,KAAKF,KAAL,CAAWE,KAHM;AAIxBC,eAAS,KAAKH,KAAL,CAAWE;AAJI,KAAZ,CAAd;;AAOA,QAAIE,4BACCd,KADD,CAAJ;;AAIA,QAAIe,MAAM,KAAKC,QAAL,EAAV;AACA,QAAGjB,IAAIkB,SAAP,EAAkBf,cAAc,IAAd;;AAElB,QAAMgB,sBACAhB,cAAc,EAACiB,UAAU,MAAX,EAAmBC,WAAW,MAA9B,EAAd,GAAsDpB,KADtD;AAEJqB,iBAAW;AAFP,MAAN;;AAKA,QAAIC,aAAa;AACf,WAAKjB,EADU;AAEf,aAAOa,MAFQ;AAGf,WAAKH;AAHU,yCAIVA,GAJU,wCAKP,KAAKQ,eALE,yCAMN,KAAKC,WANC,2CAOJhB,OAPI,uCAQLT,IAAI0B,KARC,UAQShC,iBAAiBM,GAAjB,EAAsB,CAAtB,CART,qCASVA,IAAI2B,WATM,eAUXtB,KAVW,EAAjB;;AAYA,QAAIuB,SAASjC,mBAAmBkC,SAAnB,CAA6B7B,GAA7B,CAAb;AACA,QAAG4B,UAAU,mBAAb,EAAkC,OAAO,iCAAP;;AAElC,QAAIE,QAAQ,CAAC5B,QAAD,GAAYqB,UAAZ,GAAyB;AAAC,cAAD;AAAA,QAAU,SAAQ,MAAlB,EAAyB,OAAO,EAACQ,SAAS,QAAV,EAAhC,EAAqD,OAAOxB,KAA5D,EAAmE,aAAWC,MAA9E,EAAwF,WAAWC,OAAnG;AAClCc;AADkC,KAArC;;AAIA,WAAOO,KAAP;AACD,GA7C6B;AA+C9Bb,UA/C8B,sBA+CnB;AAAA;;AAAA,kBAC2B,KAAKlB,KADhC;AAAA,QACJK,WADI,WACJA,WADI;AAAA,QACS4B,IADT,WACSA,IADT;AAAA,QACeC,QADf,WACeA,QADf;AAAA,qBAEa,KAAKlC,KAAL,CAAWC,GAFxB;AAAA,QAEJM,EAFI,cAEJA,EAFI;AAAA,QAEAY,SAFA,cAEAA,SAFA;;;AAIT,QAAGA,SAAH,EAAc,OAAOA,SAAP;;AAEd;AACA;AACA;AACA,QAAMgB,qBAAqB,KAAKvB,KAAL,CAAWwB,OAAX,oCACM7B,EADN,oCAEzBF,cAAcA,YAAYE,EAAZ,CAAd,GAAgCb,SAASa,EAAT,EAAa0B,QAAQC,QAAR,GAAmBG,SAAnB,GAA+B,GAA5C,CAFlC;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAMC,kBAAkB,CACtBjC,cAAcA,YAAYE,EAAZ,CAAd,GAAgC,IADV,EAEtBb,SAASa,EAAT,EAAa0B,QAAQC,QAAR,GAAmBG,SAAnB,GAA+B,GAA5C,CAFsB;AAGtB;AAHsB,qCAIS9B,EAJT,mCAKtB,mCALsB,EAMtBgC,MANsB,CAMf;AAAA,aAAOtB,GAAP;AAAA,KANe,CAAxB;AAOA,QAAMuB,wBAAwBF,gBAAgBG,IAAhB,CAAqB;AAAA,aAAO,CAAC,MAAK7B,KAAL,CAAW8B,WAAX,IAA0B,EAA3B,EAA+BC,OAA/B,CAAuC1B,GAAvC,IAA8C,CAArD;AAAA,KAArB,CAA9B;;AAEA,WAAOuB,qBAAP;AACD,GA9E6B;AAgF9BI,2BAhF8B,qCAgFJC,SAhFI,EAgFO;AACnC,QAAG,KAAK7C,KAAL,CAAWC,GAAX,KAAmB4C,UAAU5C,GAAhC,EAAqC,KAAK6C,QAAL,CAAc,EAACV,SAAS,KAAV,EAAd;AACtC,GAlF6B;AAoF9BX,iBApF8B,6BAoFZ;AAChB,SAAKqB,QAAL,CAAc,EAACjC,QAAQ,IAAT,EAAd;AACD,GAtF6B;;;AAwF9B;AACA;AACA;AACAa,aA3F8B,uBA2FlBqB,KA3FkB,EA2FX;AAAA,QACTC,GADS,GACDD,MAAME,MADL,CACTD,GADS;;AAEjB,QAAME,cAAc,KAAKtC,KAAL,CAAW8B,WAAX,IAA0B,EAA9C;AACA,QAAMA,2CAAkBQ,WAAlB,IAA+BF,GAA/B,EAAN;;AAEA,SAAKF,QAAL,CAAc,EAACJ,wBAAD,EAAd;;AAEA;AACA,QAAGM,QAAQ,mCAAX,EAAgD;AAC9C,WAAKF,QAAL,CAAc,EAACjC,QAAQ,IAAT,EAAeC,OAAO,IAAtB,EAAd;AACA,WAAKd,KAAL,CAAWC,GAAX,CAAe8B,KAAf,GAAuB,SAAvB;AACA,WAAK/B,KAAL,CAAWmD,mBAAX,IAAkC,KAAKnD,KAAL,CAAWmD,mBAAX,EAAlC;AACD;AACF,GAxG6B;AA0G9BC,iBA1G8B,6BA0GZ;AAChB,WAAO;AACLvC,cAAQ,KAAKwC,OAAL,CAAaC,SAAb,IAA0B,KAD7B;AAELlB,eAAS;AAFJ,KAAP;AAID,GA/G6B;AAiH9BmB,iBAjH8B,6BAiHZ;AAChB,WAAO;AACLnD,mBAAa;AADR,KAAP;AAGD;AArH6B,CAAlB,CAAd;AAuHAP,MAAM2D,YAAN,GAAqB;AACnBC,UAAQpE,MAAMqE,SAAN,CAAgBC,IADL;AAEnBL,aAAWjE,MAAMqE,SAAN,CAAgBE;AAFR,CAArB;;AAKAC,OAAOC,OAAP,GAAiBjE,KAAjB",
      "file": "image.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar cx = require('classnames')\nvar LazyLoad = require('react-lazy-load').default\n\nvar imageCDN = require('./image-cdn')\nvar {getFacetAndValue} = require('./artwork/creator')\nvar rightsDescriptions = require('./rights-types.js')\n\nconst Image = React.createClass({\n  render() {\n    var {art, style, lazyLoad, ignoreStyle, customImage, ...other} = this.props\n    var {id} = art\n    var {width, height} = style\n\n    var classes = cx('image', {\n      loading: !this.state.loaded,\n      loaded: this.state.loaded,\n      error: this.state.error,\n      invalid: this.state.error,\n    })\n\n    var loadingStyle = {\n      ...style,\n    }\n\n    var url = this.imageURL()\n    if(art.image_url) ignoreStyle = true\n\n    const _style = {\n      ...(ignoreStyle ? {maxWidth: '100%', maxHeight: '69vh'} : style),\n      objectFit: 'cover',\n    }\n\n    var nakedImage = <img\n      key={id}\n      style={_style}\n      src={url}\n      key={url}\n      onLoad={this.handleImageLoad}\n      onError={this.handleError}\n      className={classes}\n      title={`${art.title}, ${getFacetAndValue(art)[1]}`}\n      alt={art.description}\n      {...other} />\n\n    var rights = rightsDescriptions.getRights(art)\n    if(rights == 'Permission Denied') return <span />\n\n    var image = !lazyLoad ? nakedImage : <LazyLoad wrapper=\"span\" style={{display: 'inline'}} width={width} height={`${height}`} className={classes}>\n      {nakedImage}\n    </LazyLoad>\n\n    return image\n  },\n\n  imageURL() {\n    var {customImage, size, showLink} = this.props\n    var {id, image_url} = this.props.art\n\n    if(image_url) return image_url\n\n    // This watches out for the image to fail ONCE, then swaps in \n    // the 400px IIIF thumbnail\n    // TODO: cascade from customImage -> S3 -> api.artsmia.org?\n    const binaryFailImageUrl = this.state.skipCDN ?\n      `https://iiif.dx.artsmia.org/${id}.jpg/full/400,/0/default.jpg` :\n      customImage ? customImage(id) : imageCDN(id, size || showLink ? undefined : 800)\n\n    // do this by tracking when a URL fails to load in this.state.failedLoads `[]`\n    // (variable might need a re-name)\n    // and checking that state against the image to be loaded here.\n    // Options:\n    // customImage by function\n    // S3 thumbnail\n    // IIIF thumbnail\n    // non-existent image that will trigger the `error` state\n    const imageCandidates = [\n      customImage ? customImage(id) : null,\n      imageCDN(id, size || showLink ? undefined : 800),\n      // `https://iiif.dx.artsmia.org/${id}.jpg/-1,-1,800,800/800,/0/default.jpg`,\n      `https://iiif.dx.artsmia.org/${id}.jpg/full/800,/0/default.jpg`,\n      'http://0.api.artsmia.org/null.jpg'\n    ].filter(url => url)\n    const firstUnFailedImageUrl = imageCandidates.find(url => (this.state.failedLoads || []).indexOf(url) < 0)\n\n    return firstUnFailedImageUrl\n  },\n\n  componentWillReceiveProps(nextProps) {\n    if(this.props.art !== nextProps.art) this.setState({skipCDN: false})\n  },\n\n  handleImageLoad() {\n    this.setState({loaded: true})\n  },\n\n  // if the image doesn't load, it's probably because it's not on the CDN\n  // yet. Fall back and load it from the API\n  // If it also won't load from there, we've got problems\n  handleError(event) {\n    const { src } = event.target\n    const failedSoFar = this.state.failedLoads || []\n    const failedLoads = [...failedSoFar, src]\n\n    this.setState({failedLoads})\n\n    // problems! the image isn't working\n    if(src === 'http://0.api.artsmia.org/null.jpg') {\n      this.setState({loaded: true, error: true})\n      this.props.art.image = 'invalid' \n      this.props.onImageInvalidation && this.props.onImageInvalidation()\n    }\n  },\n\n  getInitialState() {\n    return {\n      loaded: this.context.universal || false,\n      skipCDN: false,\n    }\n  },\n\n  getDefaultProps() {\n    return {\n      ignoreStyle: false,\n    }\n  },\n})\nImage.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nmodule.exports = Image\n"
      ]
    },
    "mtime": 1612393616748
  },
  "{\"filename\":\"/var/www/art/src/image-cdn.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/image-cdn.js",
      "filenameRelative": "/var/www/art/src/image-cdn.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "image-cdn.js",
      "sourceFileName": "image-cdn.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "image-cdn"
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction imageUrlForId(id) {\n  var size = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 400;\n\n  size = size == 'full' ? 'full/' : size > 400 ? '800/' : '';\n  return 'https://' + id % 7 + '.api.artsmia.org/' + size + id + '.jpg';\n}\n\nmodule.exports = imageUrlForId;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImltYWdlLWNkbi5qcyJdLCJuYW1lcyI6WyJpbWFnZVVybEZvcklkIiwiaWQiLCJzaXplIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxTQUFTQSxhQUFULENBQXVCQyxFQUF2QixFQUFxQztBQUFBLE1BQVZDLElBQVUsdUVBQUwsR0FBSzs7QUFDbkNBLFNBQU9BLFFBQVEsTUFBUixHQUFpQixPQUFqQixHQUE2QkEsT0FBTyxHQUFSLEdBQWUsTUFBZixHQUF3QixFQUEzRDtBQUNBLHNCQUFrQkQsS0FBRyxDQUFyQix5QkFBMENDLElBQTFDLEdBQWlERCxFQUFqRDtBQUNEOztBQUVERSxPQUFPQyxPQUFQLEdBQWlCSixhQUFqQiIsImZpbGUiOiJpbWFnZS1jZG4uanMiLCJzb3VyY2VSb290IjoiL3Zhci93d3cvYXJ0L3NyYyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGltYWdlVXJsRm9ySWQoaWQsIHNpemU9NDAwKSB7XG4gIHNpemUgPSBzaXplID09ICdmdWxsJyA/ICdmdWxsLycgOiAoKHNpemUgPiA0MDApID8gJzgwMC8nIDogJycpXG4gIHJldHVybiBgaHR0cHM6Ly8ke2lkJTd9LmFwaS5hcnRzbWlhLm9yZy8ke3NpemV9JHtpZH0uanBnYFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGltYWdlVXJsRm9ySWRcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "image-cdn.js"
      ],
      "names": [
        "imageUrlForId",
        "id",
        "size",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,SAASA,aAAT,CAAuBC,EAAvB,EAAqC;AAAA,MAAVC,IAAU,uEAAL,GAAK;;AACnCA,SAAOA,QAAQ,MAAR,GAAiB,OAAjB,GAA6BA,OAAO,GAAR,GAAe,MAAf,GAAwB,EAA3D;AACA,sBAAkBD,KAAG,CAArB,yBAA0CC,IAA1C,GAAiDD,EAAjD;AACD;;AAEDE,OAAOC,OAAP,GAAiBJ,aAAjB",
      "file": "image-cdn.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "function imageUrlForId(id, size=400) {\n  size = size == 'full' ? 'full/' : ((size > 400) ? '800/' : '')\n  return `https://${id%7}.api.artsmia.org/${size}${id}.jpg`\n}\n\nmodule.exports = imageUrlForId\n"
      ]
    },
    "mtime": 1584573136822
  },
  "{\"filename\":\"/var/www/art/src/artwork/creator.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src/artwork\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "slicedToArray",
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/artwork/creator.js",
      "filenameRelative": "/var/www/art/src/artwork/creator.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "creator.js",
      "sourceFileName": "creator.js",
      "sourceRoot": "/var/www/art/src/artwork",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src/artwork",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "creator"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar React = require('react');\n\nvar highlighter = require('../highlighter');\nvar Markdown = require('../markdown');\n\nvar Creator = React.createClass({\n  displayName: 'Creator',\n  render: function render() {\n    var Peek = require('../peek'); // required here to avoid circular react dependency - yikes!\n    var Wrapper = this.props.wrapper || \"h5\";\n\n    var _Creator$getFacetAndV = Creator.getFacetAndValue(this.props.art, this.props.highlights),\n        _Creator$getFacetAndV2 = _slicedToArray(_Creator$getFacetAndV, 3),\n        facet = _Creator$getFacetAndV2[0],\n        value = _Creator$getFacetAndV2[1],\n        highlightedValue = _Creator$getFacetAndV2[2];\n\n    var creatorPeek = (facet == 'artist' || facet == 'culture') && React.createElement(\n      Peek,\n      _extends({ microdata: true, facet: facet }, { highlightedValue: highlightedValue }),\n      value\n    ) || facet == 'country' && React.createElement(\n      'span',\n      null,\n      'Unknown artist, ',\n      React.createElement(\n        Peek,\n        _extends({ microdata: true, facet: 'country', tag: 'span', showIcon: this.props.showIcon }, { highlightedValue: highlightedValue }),\n        value\n      )\n    );\n\n    return React.createElement(\n      Wrapper,\n      { itemProp: 'creator', itemScope: true, itemType: 'https://schema.org/Person' },\n      this.props.peek && this.props.showPeeks ? creatorPeek : highlightedValue ? React.createElement(\n        Markdown,\n        null,\n        highlightedValue\n      ) : value\n    );\n  },\n  getDefaultProps: function getDefaultProps() {\n    return { peek: true, showPeeks: true };\n  }\n});\nCreator.getFacetAndValue = function (art, highlights) {\n  var artist = art.artist,\n      culture = art.culture,\n      country = art.country;\n\n  var highlight = highlighter.bind(null, art, highlights);\n\n  return !(artist == '' || artist && artist.match(/^unknown/i)) && ['artist', (art.artist || '').replace(/^([^;]+):/, ''), (highlight('artist') || '').replace(/^([^;]+):/, '')] || !!culture && ['culture', art.culture.replace(/ culture/i, ''), (highlight('culture') || '').replace(/ culture/i, '')] || !!country && ['country', art.country, highlight('country')] || [undefined, undefined];\n};\n\nmodule.exports = Creator;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNyZWF0b3IuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiaGlnaGxpZ2h0ZXIiLCJNYXJrZG93biIsIkNyZWF0b3IiLCJjcmVhdGVDbGFzcyIsInJlbmRlciIsIlBlZWsiLCJXcmFwcGVyIiwicHJvcHMiLCJ3cmFwcGVyIiwiZ2V0RmFjZXRBbmRWYWx1ZSIsImFydCIsImhpZ2hsaWdodHMiLCJmYWNldCIsInZhbHVlIiwiaGlnaGxpZ2h0ZWRWYWx1ZSIsImNyZWF0b3JQZWVrIiwic2hvd0ljb24iLCJwZWVrIiwic2hvd1BlZWtzIiwiZ2V0RGVmYXVsdFByb3BzIiwiYXJ0aXN0IiwiY3VsdHVyZSIsImNvdW50cnkiLCJoaWdobGlnaHQiLCJiaW5kIiwibWF0Y2giLCJyZXBsYWNlIiwidW5kZWZpbmVkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7O0FBRUEsSUFBSUMsY0FBY0QsUUFBUSxnQkFBUixDQUFsQjtBQUNBLElBQUlFLFdBQVdGLFFBQVEsYUFBUixDQUFmOztBQUVBLElBQUlHLFVBQVVKLE1BQU1LLFdBQU4sQ0FBa0I7QUFBQTtBQUM5QkMsUUFEOEIsb0JBQ3JCO0FBQ1AsUUFBSUMsT0FBT04sUUFBUSxTQUFSLENBQVgsQ0FETyxDQUN1QjtBQUM5QixRQUFJTyxVQUFVLEtBQUtDLEtBQUwsQ0FBV0MsT0FBWCxJQUFzQixJQUFwQzs7QUFGTyxnQ0FHZ0NOLFFBQVFPLGdCQUFSLENBQXlCLEtBQUtGLEtBQUwsQ0FBV0csR0FBcEMsRUFBeUMsS0FBS0gsS0FBTCxDQUFXSSxVQUFwRCxDQUhoQztBQUFBO0FBQUEsUUFHRkMsS0FIRTtBQUFBLFFBR0tDLEtBSEw7QUFBQSxRQUdZQyxnQkFIWjs7QUFJUCxRQUFJQyxjQUFjLENBQUNILFNBQVMsUUFBVCxJQUFxQkEsU0FBUyxTQUEvQixLQUNiO0FBQUMsVUFBRDtBQUFBLGlCQUFNLFdBQVcsSUFBakIsRUFBdUIsT0FBT0EsS0FBOUIsSUFBeUMsRUFBQ0Usa0NBQUQsRUFBekM7QUFBOEREO0FBQTlELEtBRGEsSUFFYkQsU0FBUyxTQUFULElBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBc0I7QUFBQyxZQUFEO0FBQUEsbUJBQU0sV0FBVyxJQUFqQixFQUF1QixPQUFNLFNBQTdCLEVBQXVDLEtBQUksTUFBM0MsRUFBa0QsVUFBVSxLQUFLTCxLQUFMLENBQVdTLFFBQXZFLElBQXFGLEVBQUNGLGtDQUFELEVBQXJGO0FBQTBHRDtBQUExRztBQUF0QixLQUhMOztBQUtBLFdBQU87QUFBQyxhQUFEO0FBQUEsUUFBUyxVQUFTLFNBQWxCLEVBQTRCLGVBQTVCLEVBQXNDLFVBQVMsMkJBQS9DO0FBQ0osV0FBS04sS0FBTCxDQUFXVSxJQUFYLElBQW1CLEtBQUtWLEtBQUwsQ0FBV1csU0FBOUIsR0FBMENILFdBQTFDLEdBQXlERCxtQkFBbUI7QUFBQyxnQkFBRDtBQUFBO0FBQVdBO0FBQVgsT0FBbkIsR0FBNkREO0FBRGxILEtBQVA7QUFHRCxHQWI2QjtBQWU5Qk0saUJBZjhCLDZCQWVaO0FBQ2hCLFdBQU8sRUFBQ0YsTUFBTSxJQUFQLEVBQWFDLFdBQVcsSUFBeEIsRUFBUDtBQUNEO0FBakI2QixDQUFsQixDQUFkO0FBbUJBaEIsUUFBUU8sZ0JBQVIsR0FBMkIsVUFBQ0MsR0FBRCxFQUFNQyxVQUFOLEVBQXFCO0FBQUEsTUFDekNTLE1BRHlDLEdBQ2JWLEdBRGEsQ0FDekNVLE1BRHlDO0FBQUEsTUFDakNDLE9BRGlDLEdBQ2JYLEdBRGEsQ0FDakNXLE9BRGlDO0FBQUEsTUFDeEJDLE9BRHdCLEdBQ2JaLEdBRGEsQ0FDeEJZLE9BRHdCOztBQUU5QyxNQUFJQyxZQUFZdkIsWUFBWXdCLElBQVosQ0FBaUIsSUFBakIsRUFBdUJkLEdBQXZCLEVBQTRCQyxVQUE1QixDQUFoQjs7QUFFQSxTQUFPLEVBQUVTLFVBQVUsRUFBVixJQUFnQkEsVUFBVUEsT0FBT0ssS0FBUCxDQUFhLFdBQWIsQ0FBNUIsS0FDTCxDQUFDLFFBQUQsRUFBVyxDQUFDZixJQUFJVSxNQUFKLElBQWMsRUFBZixFQUFtQk0sT0FBbkIsQ0FBMkIsV0FBM0IsRUFBd0MsRUFBeEMsQ0FBWCxFQUF3RCxDQUFDSCxVQUFVLFFBQVYsS0FBdUIsRUFBeEIsRUFBNEJHLE9BQTVCLENBQW9DLFdBQXBDLEVBQWlELEVBQWpELENBQXhELENBREssSUFFSixDQUFDLENBQUNMLE9BQUYsSUFDRSxDQUFDLFNBQUQsRUFBWVgsSUFBSVcsT0FBSixDQUFZSyxPQUFaLENBQW9CLFdBQXBCLEVBQWlDLEVBQWpDLENBQVosRUFBa0QsQ0FBQ0gsVUFBVSxTQUFWLEtBQXdCLEVBQXpCLEVBQTZCRyxPQUE3QixDQUFxQyxXQUFyQyxFQUFrRCxFQUFsRCxDQUFsRCxDQUhFLElBSUosQ0FBQyxDQUFDSixPQUFGLElBQ0UsQ0FBQyxTQUFELEVBQVlaLElBQUlZLE9BQWhCLEVBQXlCQyxVQUFVLFNBQVYsQ0FBekIsQ0FMRSxJQU1KLENBQUNJLFNBQUQsRUFBWUEsU0FBWixDQU5IO0FBT0QsQ0FYRDs7QUFhQUMsT0FBT0MsT0FBUCxHQUFpQjNCLE9BQWpCIiwiZmlsZSI6ImNyZWF0b3IuanMiLCJzb3VyY2VSb290IjoiL3Zhci93d3cvYXJ0L3NyYy9hcnR3b3JrIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxuXG52YXIgaGlnaGxpZ2h0ZXIgPSByZXF1aXJlKCcuLi9oaWdobGlnaHRlcicpXG52YXIgTWFya2Rvd24gPSByZXF1aXJlKCcuLi9tYXJrZG93bicpXG5cbnZhciBDcmVhdG9yID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIFBlZWsgPSByZXF1aXJlKCcuLi9wZWVrJykgLy8gcmVxdWlyZWQgaGVyZSB0byBhdm9pZCBjaXJjdWxhciByZWFjdCBkZXBlbmRlbmN5IC0geWlrZXMhXG4gICAgdmFyIFdyYXBwZXIgPSB0aGlzLnByb3BzLndyYXBwZXIgfHwgXCJoNVwiXG4gICAgdmFyIFtmYWNldCwgdmFsdWUsIGhpZ2hsaWdodGVkVmFsdWVdID0gQ3JlYXRvci5nZXRGYWNldEFuZFZhbHVlKHRoaXMucHJvcHMuYXJ0LCB0aGlzLnByb3BzLmhpZ2hsaWdodHMpXG4gICAgdmFyIGNyZWF0b3JQZWVrID0gKGZhY2V0ID09ICdhcnRpc3QnIHx8IGZhY2V0ID09ICdjdWx0dXJlJylcbiAgICAgICYmIDxQZWVrIG1pY3JvZGF0YT17dHJ1ZX0gZmFjZXQ9e2ZhY2V0fSB7Li4ue2hpZ2hsaWdodGVkVmFsdWV9fT57dmFsdWV9PC9QZWVrPlxuICAgICAgfHwgZmFjZXQgPT0gJ2NvdW50cnknXG4gICAgICAmJiA8c3Bhbj5Vbmtub3duIGFydGlzdCwgPFBlZWsgbWljcm9kYXRhPXt0cnVlfSBmYWNldD1cImNvdW50cnlcIiB0YWc9XCJzcGFuXCIgc2hvd0ljb249e3RoaXMucHJvcHMuc2hvd0ljb259IHsuLi57aGlnaGxpZ2h0ZWRWYWx1ZX19Pnt2YWx1ZX08L1BlZWs+PC9zcGFuPlxuXG4gICAgcmV0dXJuIDxXcmFwcGVyIGl0ZW1Qcm9wPVwiY3JlYXRvclwiIGl0ZW1TY29wZSBpdGVtVHlwZT1cImh0dHBzOi8vc2NoZW1hLm9yZy9QZXJzb25cIj5cbiAgICAgIHt0aGlzLnByb3BzLnBlZWsgJiYgdGhpcy5wcm9wcy5zaG93UGVla3MgPyBjcmVhdG9yUGVlayA6IChoaWdobGlnaHRlZFZhbHVlID8gPE1hcmtkb3duPntoaWdobGlnaHRlZFZhbHVlfTwvTWFya2Rvd24+IDogdmFsdWUpfVxuICAgIDwvV3JhcHBlcj5cbiAgfSxcblxuICBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtwZWVrOiB0cnVlLCBzaG93UGVla3M6IHRydWV9XG4gIH0sXG59KVxuQ3JlYXRvci5nZXRGYWNldEFuZFZhbHVlID0gKGFydCwgaGlnaGxpZ2h0cykgPT4ge1xuICB2YXIge2FydGlzdCwgY3VsdHVyZSwgY291bnRyeX0gPSBhcnRcbiAgdmFyIGhpZ2hsaWdodCA9IGhpZ2hsaWdodGVyLmJpbmQobnVsbCwgYXJ0LCBoaWdobGlnaHRzKVxuXG4gIHJldHVybiAhKGFydGlzdCA9PSAnJyB8fCBhcnRpc3QgJiYgYXJ0aXN0Lm1hdGNoKC9edW5rbm93bi9pKSkgJiZcbiAgICBbJ2FydGlzdCcsIChhcnQuYXJ0aXN0IHx8ICcnKS5yZXBsYWNlKC9eKFteO10rKTovLCAnJyksIChoaWdobGlnaHQoJ2FydGlzdCcpIHx8ICcnKS5yZXBsYWNlKC9eKFteO10rKTovLCAnJyldXG4gIHx8ICEhY3VsdHVyZVxuICAgICYmIFsnY3VsdHVyZScsIGFydC5jdWx0dXJlLnJlcGxhY2UoLyBjdWx0dXJlL2ksICcnKSwgKGhpZ2hsaWdodCgnY3VsdHVyZScpIHx8ICcnKS5yZXBsYWNlKC8gY3VsdHVyZS9pLCAnJyldXG4gIHx8ICEhY291bnRyeVxuICAgICYmIFsnY291bnRyeScsIGFydC5jb3VudHJ5LCBoaWdobGlnaHQoJ2NvdW50cnknKV1cbiAgfHwgW3VuZGVmaW5lZCwgdW5kZWZpbmVkXVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENyZWF0b3JcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "creator.js"
      ],
      "names": [
        "React",
        "require",
        "highlighter",
        "Markdown",
        "Creator",
        "createClass",
        "render",
        "Peek",
        "Wrapper",
        "props",
        "wrapper",
        "getFacetAndValue",
        "art",
        "highlights",
        "facet",
        "value",
        "highlightedValue",
        "creatorPeek",
        "showIcon",
        "peek",
        "showPeeks",
        "getDefaultProps",
        "artist",
        "culture",
        "country",
        "highlight",
        "bind",
        "match",
        "replace",
        "undefined",
        "module",
        "exports"
      ],
      "mappings": ";;;;;;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;;AAEA,IAAIC,cAAcD,QAAQ,gBAAR,CAAlB;AACA,IAAIE,WAAWF,QAAQ,aAAR,CAAf;;AAEA,IAAIG,UAAUJ,MAAMK,WAAN,CAAkB;AAAA;AAC9BC,QAD8B,oBACrB;AACP,QAAIC,OAAON,QAAQ,SAAR,CAAX,CADO,CACuB;AAC9B,QAAIO,UAAU,KAAKC,KAAL,CAAWC,OAAX,IAAsB,IAApC;;AAFO,gCAGgCN,QAAQO,gBAAR,CAAyB,KAAKF,KAAL,CAAWG,GAApC,EAAyC,KAAKH,KAAL,CAAWI,UAApD,CAHhC;AAAA;AAAA,QAGFC,KAHE;AAAA,QAGKC,KAHL;AAAA,QAGYC,gBAHZ;;AAIP,QAAIC,cAAc,CAACH,SAAS,QAAT,IAAqBA,SAAS,SAA/B,KACb;AAAC,UAAD;AAAA,iBAAM,WAAW,IAAjB,EAAuB,OAAOA,KAA9B,IAAyC,EAACE,kCAAD,EAAzC;AAA8DD;AAA9D,KADa,IAEbD,SAAS,SAAT,IACA;AAAA;AAAA;AAAA;AAAsB;AAAC,YAAD;AAAA,mBAAM,WAAW,IAAjB,EAAuB,OAAM,SAA7B,EAAuC,KAAI,MAA3C,EAAkD,UAAU,KAAKL,KAAL,CAAWS,QAAvE,IAAqF,EAACF,kCAAD,EAArF;AAA0GD;AAA1G;AAAtB,KAHL;;AAKA,WAAO;AAAC,aAAD;AAAA,QAAS,UAAS,SAAlB,EAA4B,eAA5B,EAAsC,UAAS,2BAA/C;AACJ,WAAKN,KAAL,CAAWU,IAAX,IAAmB,KAAKV,KAAL,CAAWW,SAA9B,GAA0CH,WAA1C,GAAyDD,mBAAmB;AAAC,gBAAD;AAAA;AAAWA;AAAX,OAAnB,GAA6DD;AADlH,KAAP;AAGD,GAb6B;AAe9BM,iBAf8B,6BAeZ;AAChB,WAAO,EAACF,MAAM,IAAP,EAAaC,WAAW,IAAxB,EAAP;AACD;AAjB6B,CAAlB,CAAd;AAmBAhB,QAAQO,gBAAR,GAA2B,UAACC,GAAD,EAAMC,UAAN,EAAqB;AAAA,MACzCS,MADyC,GACbV,GADa,CACzCU,MADyC;AAAA,MACjCC,OADiC,GACbX,GADa,CACjCW,OADiC;AAAA,MACxBC,OADwB,GACbZ,GADa,CACxBY,OADwB;;AAE9C,MAAIC,YAAYvB,YAAYwB,IAAZ,CAAiB,IAAjB,EAAuBd,GAAvB,EAA4BC,UAA5B,CAAhB;;AAEA,SAAO,EAAES,UAAU,EAAV,IAAgBA,UAAUA,OAAOK,KAAP,CAAa,WAAb,CAA5B,KACL,CAAC,QAAD,EAAW,CAACf,IAAIU,MAAJ,IAAc,EAAf,EAAmBM,OAAnB,CAA2B,WAA3B,EAAwC,EAAxC,CAAX,EAAwD,CAACH,UAAU,QAAV,KAAuB,EAAxB,EAA4BG,OAA5B,CAAoC,WAApC,EAAiD,EAAjD,CAAxD,CADK,IAEJ,CAAC,CAACL,OAAF,IACE,CAAC,SAAD,EAAYX,IAAIW,OAAJ,CAAYK,OAAZ,CAAoB,WAApB,EAAiC,EAAjC,CAAZ,EAAkD,CAACH,UAAU,SAAV,KAAwB,EAAzB,EAA6BG,OAA7B,CAAqC,WAArC,EAAkD,EAAlD,CAAlD,CAHE,IAIJ,CAAC,CAACJ,OAAF,IACE,CAAC,SAAD,EAAYZ,IAAIY,OAAhB,EAAyBC,UAAU,SAAV,CAAzB,CALE,IAMJ,CAACI,SAAD,EAAYA,SAAZ,CANH;AAOD,CAXD;;AAaAC,OAAOC,OAAP,GAAiB3B,OAAjB",
      "file": "creator.js",
      "sourceRoot": "/var/www/art/src/artwork",
      "sourcesContent": [
        "var React = require('react')\n\nvar highlighter = require('../highlighter')\nvar Markdown = require('../markdown')\n\nvar Creator = React.createClass({\n  render() {\n    var Peek = require('../peek') // required here to avoid circular react dependency - yikes!\n    var Wrapper = this.props.wrapper || \"h5\"\n    var [facet, value, highlightedValue] = Creator.getFacetAndValue(this.props.art, this.props.highlights)\n    var creatorPeek = (facet == 'artist' || facet == 'culture')\n      && <Peek microdata={true} facet={facet} {...{highlightedValue}}>{value}</Peek>\n      || facet == 'country'\n      && <span>Unknown artist, <Peek microdata={true} facet=\"country\" tag=\"span\" showIcon={this.props.showIcon} {...{highlightedValue}}>{value}</Peek></span>\n\n    return <Wrapper itemProp=\"creator\" itemScope itemType=\"https://schema.org/Person\">\n      {this.props.peek && this.props.showPeeks ? creatorPeek : (highlightedValue ? <Markdown>{highlightedValue}</Markdown> : value)}\n    </Wrapper>\n  },\n\n  getDefaultProps() {\n    return {peek: true, showPeeks: true}\n  },\n})\nCreator.getFacetAndValue = (art, highlights) => {\n  var {artist, culture, country} = art\n  var highlight = highlighter.bind(null, art, highlights)\n\n  return !(artist == '' || artist && artist.match(/^unknown/i)) &&\n    ['artist', (art.artist || '').replace(/^([^;]+):/, ''), (highlight('artist') || '').replace(/^([^;]+):/, '')]\n  || !!culture\n    && ['culture', art.culture.replace(/ culture/i, ''), (highlight('culture') || '').replace(/ culture/i, '')]\n  || !!country\n    && ['country', art.country, highlight('country')]\n  || [undefined, undefined]\n}\n\nmodule.exports = Creator\n"
      ]
    },
    "mtime": 1588088003276
  },
  "{\"filename\":\"/var/www/art/src/highlighter.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/highlighter.js",
      "filenameRelative": "/var/www/art/src/highlighter.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "highlighter.js",
      "sourceFileName": "highlighter.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "highlighter"
    },
    "ignored": false,
    "code": "\"use strict\";\n\nfunction highlightField(source, highlights, field) {\n  if (!highlights) return source[field];\n\n  var possibleHighlights = Object.keys(highlights).filter(function (key) {\n    return key.match(new RegExp(\"^\" + field));\n  }).map(function (key) {\n    return highlights[key][0];\n  });\n\n  return highlights && possibleHighlights && possibleHighlights[0] || source[field];\n}\n\nmodule.exports = highlightField;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhpZ2hsaWdodGVyLmpzIl0sIm5hbWVzIjpbImhpZ2hsaWdodEZpZWxkIiwic291cmNlIiwiaGlnaGxpZ2h0cyIsImZpZWxkIiwicG9zc2libGVIaWdobGlnaHRzIiwiT2JqZWN0Iiwia2V5cyIsImZpbHRlciIsImtleSIsIm1hdGNoIiwiUmVnRXhwIiwibWFwIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxTQUFTQSxjQUFULENBQXdCQyxNQUF4QixFQUFnQ0MsVUFBaEMsRUFBNENDLEtBQTVDLEVBQW1EO0FBQ2pELE1BQUcsQ0FBQ0QsVUFBSixFQUFnQixPQUFPRCxPQUFPRSxLQUFQLENBQVA7O0FBRWhCLE1BQUlDLHFCQUFxQkMsT0FBT0MsSUFBUCxDQUFZSixVQUFaLEVBQ3hCSyxNQUR3QixDQUNqQjtBQUFBLFdBQU9DLElBQUlDLEtBQUosQ0FBVSxJQUFJQyxNQUFKLENBQVcsTUFBSVAsS0FBZixDQUFWLENBQVA7QUFBQSxHQURpQixFQUV4QlEsR0FGd0IsQ0FFcEI7QUFBQSxXQUFPVCxXQUFXTSxHQUFYLEVBQWdCLENBQWhCLENBQVA7QUFBQSxHQUZvQixDQUF6Qjs7QUFJQSxTQUFPTixjQUFjRSxrQkFBZCxJQUFvQ0EsbUJBQW1CLENBQW5CLENBQXBDLElBQ0ZILE9BQU9FLEtBQVAsQ0FETDtBQUVEOztBQUVEUyxPQUFPQyxPQUFQLEdBQWlCYixjQUFqQiIsImZpbGUiOiJoaWdobGlnaHRlci5qcyIsInNvdXJjZVJvb3QiOiIvdmFyL3d3dy9hcnQvc3JjIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gaGlnaGxpZ2h0RmllbGQoc291cmNlLCBoaWdobGlnaHRzLCBmaWVsZCkge1xuICBpZighaGlnaGxpZ2h0cykgcmV0dXJuIHNvdXJjZVtmaWVsZF1cblxuICB2YXIgcG9zc2libGVIaWdobGlnaHRzID0gT2JqZWN0LmtleXMoaGlnaGxpZ2h0cylcbiAgLmZpbHRlcihrZXkgPT4ga2V5Lm1hdGNoKG5ldyBSZWdFeHAoXCJeXCIrZmllbGQpKSlcbiAgLm1hcChrZXkgPT4gaGlnaGxpZ2h0c1trZXldWzBdKVxuXG4gIHJldHVybiBoaWdobGlnaHRzICYmIHBvc3NpYmxlSGlnaGxpZ2h0cyAmJiBwb3NzaWJsZUhpZ2hsaWdodHNbMF1cbiAgICB8fCBzb3VyY2VbZmllbGRdXG59XG5cbm1vZHVsZS5leHBvcnRzID0gaGlnaGxpZ2h0RmllbGRcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "highlighter.js"
      ],
      "names": [
        "highlightField",
        "source",
        "highlights",
        "field",
        "possibleHighlights",
        "Object",
        "keys",
        "filter",
        "key",
        "match",
        "RegExp",
        "map",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,SAASA,cAAT,CAAwBC,MAAxB,EAAgCC,UAAhC,EAA4CC,KAA5C,EAAmD;AACjD,MAAG,CAACD,UAAJ,EAAgB,OAAOD,OAAOE,KAAP,CAAP;;AAEhB,MAAIC,qBAAqBC,OAAOC,IAAP,CAAYJ,UAAZ,EACxBK,MADwB,CACjB;AAAA,WAAOC,IAAIC,KAAJ,CAAU,IAAIC,MAAJ,CAAW,MAAIP,KAAf,CAAV,CAAP;AAAA,GADiB,EAExBQ,GAFwB,CAEpB;AAAA,WAAOT,WAAWM,GAAX,EAAgB,CAAhB,CAAP;AAAA,GAFoB,CAAzB;;AAIA,SAAON,cAAcE,kBAAd,IAAoCA,mBAAmB,CAAnB,CAApC,IACFH,OAAOE,KAAP,CADL;AAED;;AAEDS,OAAOC,OAAP,GAAiBb,cAAjB",
      "file": "highlighter.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "function highlightField(source, highlights, field) {\n  if(!highlights) return source[field]\n\n  var possibleHighlights = Object.keys(highlights)\n  .filter(key => key.match(new RegExp(\"^\"+field)))\n  .map(key => highlights[key][0])\n\n  return highlights && possibleHighlights && possibleHighlights[0]\n    || source[field]\n}\n\nmodule.exports = highlightField\n"
      ]
    },
    "mtime": 1489607727022
  },
  "{\"filename\":\"/var/www/art/src/search-results.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "extends",
        "toConsumableArray"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/search-results.js",
      "filenameRelative": "/var/www/art/src/search-results.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "search-results.js",
      "sourceFileName": "search-results.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "search-results"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\nvar Router = require('react-router');\n\nvar _require = require('react-router'),\n    Link = _require.Link;\n\nvar rest = require('rest');\n\nvar SEARCH = require('./endpoints').search;\nvar SearchSummary = require('./search-summary');\nvar ResultsList = require('./search-results/list');\nvar ResultsGrid = require('./search-results/grid');\n\nfunction omitResultsById() {\n  for (var _len = arguments.length, ids = Array(_len), _key = 0; _key < _len; _key++) {\n    ids[_key] = arguments[_key];\n  }\n\n  return function (json) {\n    return _extends({}, json, {\n      hits: _extends({}, json.hits, {\n        hits: json.hits.hits.filter(function (hit) {\n          return !ids.find(function (id) {\n            return id === parseInt(hit._id);\n          });\n        })\n      })\n    });\n  };\n}\n/* Given a list of artwork ids to be promoted, find any that exist\n * in `results` and increase their _score, then re-sort the results\n */\nfunction promoteResultsById() {\n  for (var _len2 = arguments.length, ids = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    ids[_key2] = arguments[_key2];\n  }\n\n  return function (json, additionalArt) {\n    var idComparison = function idComparison(hit) {\n      return ids.indexOf(Number(hit._id)) > -1;\n    };\n    var hits = [].concat(_toConsumableArray(json.hits.hits), _toConsumableArray(additionalArt.map(function (art) {\n      return {\n        _score: 100,\n        _source: art\n      };\n    })));\n    var includesId = hits.filter(idComparison);\n    var resortedResults = hits.map(function (hit) {\n      if (idComparison(hit)) hit._score = hit._score * 100;\n\n      return hit;\n    }).sort(function (a, b) {\n      return b._score - a._score;\n    });\n\n    return _extends({}, json, {\n      hits: _extends({}, json.hits, {\n        hits: resortedResults\n      })\n    });\n  };\n}\nfunction reshapeResultsJson(json) {\n  // For this query there are two photographs that are included because of `2013`\n  // being included in their title, that really don't belong and are a thorn in\n  // the side of one of our curators.\n  //\n  // Manually remove ids 126303 and 126745 from a search where the query starts with\n  // 2013.29\n  if (json.query.match(/^2013.29/)) {\n    return omitResultsById(126303, 126745)(json);\n  }\n\n  if (json.query.match(/black|african.?american/i)) {\n    // TODO how to do this without hard-coding a single artwork?\n    var gfPortrait = JSON.parse('{\"id\":\"139005\",\"title\":\"George Floyd, In Memorium 2020\",\"medium\":\"Screenprint\",\"classification\":\" Prints\",\"dimension\":\"25 \\xD7 15 in. (63.5 \\xD7 38.1 cm) (sheet)\",\"object_name\":\"Print\",\"continent\":\"North America\",\"country\":\"United States\",\"culture\":null,\"dated\":\"2020\",\"room\":\"Not on View\",\"style\":\"21st century\",\"inscription\":\"LLC in pencil: 8:46\",\"signed\":\"LRC in pencil: David Barthold\",\"markings\":\"bottom center in pencil: 113/200\",\"text\":\"As Minneapolis and the world mourned the murder of George Floyd in the summer of 2020, an outpouring of art was created by artists, professional and amateur alike\\u2014murals, sidewalk art, sculpture installations, cardboard signs, paintings, drawings, and prints. The works were made to memorialize Floyd and countless other Black citizens martyred in this country, to protest racial injustice and police brutality, and to try to help communities heal. Barthold, a New York printmaker and street artist, completed this powerful memorial portrait of Floyd just days after he was killed. The artist subsequently produced other portrait prints of important Americans\\u2014John Lewis, Fred Hampton, Ruth Bader Ginsburg, and Alexandria Ocasio-Cortez\\u2014to, in the artist\\u2019s words, \\u201Cremember the lost and honor the living.\\u201D Barthold mass-produced these likenesses and pasted them around the city of New York throughout the summer of 2020, and, again, in a campaign just before the 2020 election. To broaden their reach, he shared the images on social media, and sold the prints online, using the proceeds to raise money for Black Lives Matter and the Bail Project.\",\"description\":\"portrait of George Floyd in black inside an irregularly shaped dark form\",\"provenance\":\"The artist, New York (2020; sold to McGarry); Rachel McGarry, Deephaven (2020; given to Mia).\",\"portfolio\":\"From \",\"creditline\":\"Anonymous gift\",\"accession_number\":\"2020.91\",\"artist\":\"Artist: David Barthold\",\"role\":\"Artist\",\"nationality\":\"American\",\"life_date\":\"American, born 1959\",\"image_copyright\":\"\",\"department\":\"Prints and Drawings\",\"rights_type\":\"Copyright Not Evaluated\",\"image\":\"valid\",\"image_width\":4823,\"image_height\":7846,\"restricted\":1,\"public_access\":\"1\",\"curator_approved\":0,\"catalogue_raissonne\":null,\"art_champions_text\":null,\"see_also\":[\"\"]}');\n\n    return promoteResultsById(139005, 7890, 3754, 107241, 126991, 79932)(json, [gfPortrait]);\n  }\n\n  return json;\n}\n\nvar SearchResults = React.createClass({\n  displayName: 'SearchResults',\n\n  mixins: [Router.State, Router.Navigation],\n\n  statics: {\n    fetchData: {\n      searchResults: function searchResults(params, query) {\n        var size = query && query.size || 100;\n        var sort = query && query.sort;\n        var filters = params.splat;\n        var properlyCodedTerms = params.terms.replace(/\\/|%2F/g, ' '); // no forward slashes in search `/`\n        var properlyCodedFilters = encodeURIComponent(decodeURIComponent(filters)); // yuck\n        var searchUrl = SEARCH + '/' + properlyCodedTerms + '?size=' + size;\n        if (sort) searchUrl += '&sort=' + sort;\n        if (filters) searchUrl += '&filters=' + properlyCodedFilters;\n        if (window && window.enteredViaMore || query && query.more) searchUrl += '&tag=more';\n        return rest(searchUrl).then(function (r) {\n          return reshapeResultsJson(JSON.parse(r.entity));\n        });\n      }\n    }\n  },\n\n  getInitialState: function getInitialState() {\n    var focus = window.clickedArtwork || this.props.hits[0];\n    setTimeout(function () {\n      return window.clickedArtwork = null;\n    });\n    var smallViewport = this.context.smallViewport;\n\n\n    var isInspiredByMia = this.isInspiredByMia();\n\n    var _props$query = this.props.query,\n        view = _props$query.view,\n        showPreview = _props$query.preview;\n\n    var initialView = view && view == 'list' || smallViewport || this.context.universal ? ResultsList : ResultsGrid;\n\n    var showPreview = showPreview == \"false\" || isInspiredByMia ? false : true;\n\n    return {\n      focusedResult: showPreview && focus && focus,\n      view: initialView,\n      isInspiredByMia: isInspiredByMia\n    };\n  },\n  isInspiredByMia: function isInspiredByMia() {\n    var search = this.props.data.searchResults;\n    var query = search.query,\n        filters = search.filters;\n\n    var inspiredFragment = '_exists_:\"related:inspiredByMia\"';\n\n    return query && query.match(inspiredFragment) || filters && filters.match(inspiredFragment);\n  },\n  shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {\n    return this.props.data.searchResults != nextProps.data.searchResults || this.props.hits != nextProps.hits || this.props.completions !== nextProps.completions || this.props.query.sort !== nextProps.query.sort || this.state !== nextState;\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    var showPreview = this.state.showPreview;\n\n    var focused = window.clickedArtwork || this.state && this.state.focusedResult || showPreview && nextProps.hits[0];\n    this.focusResult(focused);\n    if (window.clickedArtwork) window.clickedArtwork = null;\n  },\n\n\n  maxResults: 5000,\n\n  triggerLoad: function triggerLoad(nextPage) {\n    this.setState({ loadingMore: nextPage });\n  },\n  render: function render() {\n    var _this = this;\n\n    var search = this.props.data.searchResults;\n    var focusedResult = this.state.focusedResult;\n\n    var leftColumnWidth = '35%';\n    var smallViewport = this.context.smallViewport;\n\n    var unloadedResults = Math.max(0, search.hits.total - this.props.hits.length);\n    var loadThisManyMore = Math.min(200, unloadedResults);\n    var nextPage = Math.min(this.maxResults, this.props.hits.length + loadThisManyMore);\n    var nextPageQuery = _extends({}, this.props.query, { size: nextPage });\n    var showMoreLink = search && React.createElement(\n      'span',\n      null,\n      '.\\xA0(',\n      React.createElement(\n        Link,\n        { to: search.filters ? 'filteredSearchResults' : 'searchResults',\n          params: { terms: search.query, splat: search.filters },\n          query: nextPageQuery,\n          onClick: this.triggerLoad.bind(this, nextPage)\n        },\n        'load ',\n        loadThisManyMore,\n        ' more'\n      ),\n      ')'\n    );\n\n    if (this.state.loadingMore) showMoreLink = ' (…loading)';\n\n    var summaryProps = _extends({\n      search: this.props.data.searchResults,\n      hits: this.props.hits,\n      params: this.props.params,\n      showAggs: this.props.showAggs,\n      toggleAggs: this.props.toggleAggs,\n      showMoreLink: showMoreLink,\n      maxResults: this.maxResults,\n      query: this.props.query,\n      forceSearchUpdate: function forceSearchUpdate(nextFocusResult) {\n        _this.focusResult(nextFocusResult);\n      },\n      embed: this.props.embed,\n      handleCancelEmbed: this.props.handleCancelEmbed,\n      isInspiredByMia: this.state.isInspiredByMia\n    }, this.props.summaryProps);\n\n    var _props$params = this.props.params,\n        terms = _props$params.terms,\n        splat = _props$params.splat;\n\n    var showFocusRelatedContent = [terms, splat].join(' ').match(/related/);\n\n    var isInspiredByMia = this.state.isInspiredByMia;\n\n    var customImageFn = isInspiredByMia ? function (id) {\n      var art = this.props.hits.find(function (_ref) {\n        var _id = _ref._id;\n        return id === _id;\n      })._source;\n      var inspired = art['related:inspiredByMia'];\n      return inspired && inspired[0].image;\n    } : undefined;\n\n    console.info('search-results render', {\n      isInspiredByMia: isInspiredByMia,\n      view: this.state.view.displayName,\n      props: this.props\n    });\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        SearchSummary,\n        summaryProps,\n        React.createElement(SearchResultViewToggle, {\n          click: this.changeView,\n          activeView: this.state.view,\n          views: [ResultsList, ResultsGrid]\n        })\n      ),\n      this.props.suggestions,\n      React.createElement(this.state.view, {\n        leftColumnWidth: leftColumnWidth,\n        focusedResult: focusedResult,\n        focusHandler: this.focusResult,\n        search: search,\n        hits: this.props.hits,\n        postSearch: this.postSearch(summaryProps, this.state.postSearchOffset),\n        smallViewport: this.context.smallViewport,\n        showRelated: showFocusRelatedContent,\n        customImage: customImageFn && customImageFn.bind(this),\n        isInspiredByMia: isInspiredByMia\n      })\n    );\n  },\n  focusResult: function focusResult(hit) {\n    var nextView = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var smallViewport = this.context.smallViewport;\n\n\n    if (smallViewport && nextView) {\n      this.transitionTo('artwork', { id: hit._id });\n    } else {\n      !smallViewport && nextView && this.changeView(nextView);\n      this.setState({ focusedResult: hit ? hit : null });\n    }\n  },\n  changeView: function changeView(next) {\n    next && this.setState({ view: next });\n  },\n\n\n  // How to code this: after seeing all the results (on a page?)\n  // summarize them and give the chance to do something. Such as:\n  // * load more\n  // * did you find what you were looking for? (solicit feedback)\n  // * related searches?\n  //\n  // Also fudge the height of this so the right column scroll doesn't get cut off.\n  postSearch: function postSearch(_ref2, postSearchOffset) {\n    var hits = _ref2.hits,\n        search = _ref2.search,\n        showMoreLink = _ref2.showMoreLink;\n\n    var showingAll = hits.length >= search.hits.total || hits.length >= this.maxResults;\n\n    var style = {\n      marginTop: '1em',\n      padding: '1em',\n      borderTop: '1em solid #232323',\n      minHeight: Math.max(50, this.state.minHeight - postSearchOffset)\n    };\n\n    var searchResults = this.props.data.searchResults;\n\n    var csvTerms = searchResults.csvQuery || [searchResults.query, searchResults.filters].filter(function (s) {\n      return s;\n    }).join(' ');\n    var csvUrl = SEARCH + '/' + csvTerms + '?format=csv';\n    var showCsvLink = true;\n\n    return React.createElement(\n      'div',\n      { ref: 'postSearch', style: style },\n      React.createElement(\n        'p',\n        null,\n        'showing ',\n        hits.length,\n        ' ',\n        ' ',\n        showingAll || React.createElement(\n          'span',\n          null,\n          'of ',\n          search.hits.total,\n          ' ',\n          ' '\n        ),\n        'results matching ',\n        React.createElement(\n          'code',\n          null,\n          search.query\n        ),\n        search.filters && React.createElement(\n          'span',\n          null,\n          ' and ',\n          React.createElement(\n            'code',\n            null,\n            search.filters\n          )\n        ),\n        showingAll || showMoreLink\n      ),\n      showCsvLink && React.createElement(\n        'p',\n        null,\n        React.createElement(\n          'a',\n          { href: csvUrl },\n          'Download results as CSV'\n        )\n      )\n    );\n  },\n  componentDidUpdate: function componentDidUpdate(prevProps, prevState) {\n    var domNode = this.refs.postSearch && ReactDOM.findDOMNode(this.refs.postSearch);\n    var offset = domNode.getBoundingClientRect().top;\n    if (domNode && offset != prevState.postSearchOffset) {\n      this.setState({ postSearchOffset: offset || 0 });\n    }\n\n    if (this.props.query.size == this.state.loadingMore) this.setState({ loadingMore: false });\n\n    if (this.props.params.terms !== prevProps.params.terms || this.props.params.splat !== prevProps.params.splat) {\n      this.setState({\n        isInspiredByMia: this.isInspiredByMia(),\n        focusedResult: null\n      });\n    }\n  },\n  onHeightChange: function onHeightChange(newHeight) {\n    this.setState({ minHeight: newHeight });\n  },\n  getChildContext: function getChildContext() {\n    return {\n      onHeightChange: this.onHeightChange\n    };\n  }\n});\nSearchResults.childContextTypes = { onHeightChange: React.PropTypes.func };\nSearchResults.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n  smallViewport: React.PropTypes.bool\n};\n\nmodule.exports = SearchResults;\n\nvar SearchResultViewToggle = React.createClass({\n  displayName: 'SearchResultViewToggle',\n  render: function render() {\n    var _this2 = this;\n\n    var _props = this.props,\n        views = _props.views,\n        click = _props.click,\n        activeView = _props.activeView;\n\n\n    var toggles = views.map(function (r) {\n      var name = r.displayName.replace('SearchResults', '');\n      var activeStyle = activeView === r && {\n        color: '#222',\n        backgroundColor: 'white',\n        borderRadius: 5,\n        margin: '0 5px',\n        display: 'inline-block'\n      } || {};\n      return React.createElement(\n        'span',\n        { key: name, onClick: _this2.toggleView.bind(_this2, r), style: activeStyle },\n        React.createElement('i', { className: name })\n      );\n    });\n\n    return React.createElement(\n      'div',\n      { className: 'mdl-cell mdl-cell--2-col views' },\n      toggles\n    );\n  },\n  toggleView: function toggleView(view) {\n    this.props.click(view);\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlYXJjaC1yZXN1bHRzLmpzIl0sIm5hbWVzIjpbIlJlYWN0IiwicmVxdWlyZSIsIlJlYWN0RE9NIiwiUm91dGVyIiwiTGluayIsInJlc3QiLCJTRUFSQ0giLCJzZWFyY2giLCJTZWFyY2hTdW1tYXJ5IiwiUmVzdWx0c0xpc3QiLCJSZXN1bHRzR3JpZCIsIm9taXRSZXN1bHRzQnlJZCIsImlkcyIsImpzb24iLCJoaXRzIiwiZmlsdGVyIiwiZmluZCIsImlkIiwicGFyc2VJbnQiLCJoaXQiLCJfaWQiLCJwcm9tb3RlUmVzdWx0c0J5SWQiLCJhZGRpdGlvbmFsQXJ0IiwiaWRDb21wYXJpc29uIiwiaW5kZXhPZiIsIk51bWJlciIsIm1hcCIsIl9zY29yZSIsIl9zb3VyY2UiLCJhcnQiLCJpbmNsdWRlc0lkIiwicmVzb3J0ZWRSZXN1bHRzIiwic29ydCIsImEiLCJiIiwicmVzaGFwZVJlc3VsdHNKc29uIiwicXVlcnkiLCJtYXRjaCIsImdmUG9ydHJhaXQiLCJKU09OIiwicGFyc2UiLCJTZWFyY2hSZXN1bHRzIiwiY3JlYXRlQ2xhc3MiLCJtaXhpbnMiLCJTdGF0ZSIsIk5hdmlnYXRpb24iLCJzdGF0aWNzIiwiZmV0Y2hEYXRhIiwic2VhcmNoUmVzdWx0cyIsInBhcmFtcyIsInNpemUiLCJmaWx0ZXJzIiwic3BsYXQiLCJwcm9wZXJseUNvZGVkVGVybXMiLCJ0ZXJtcyIsInJlcGxhY2UiLCJwcm9wZXJseUNvZGVkRmlsdGVycyIsImVuY29kZVVSSUNvbXBvbmVudCIsImRlY29kZVVSSUNvbXBvbmVudCIsInNlYXJjaFVybCIsIndpbmRvdyIsImVudGVyZWRWaWFNb3JlIiwibW9yZSIsInRoZW4iLCJyIiwiZW50aXR5IiwiZ2V0SW5pdGlhbFN0YXRlIiwiZm9jdXMiLCJjbGlja2VkQXJ0d29yayIsInByb3BzIiwic2V0VGltZW91dCIsInNtYWxsVmlld3BvcnQiLCJjb250ZXh0IiwiaXNJbnNwaXJlZEJ5TWlhIiwidmlldyIsInNob3dQcmV2aWV3IiwicHJldmlldyIsImluaXRpYWxWaWV3IiwidW5pdmVyc2FsIiwiZm9jdXNlZFJlc3VsdCIsImRhdGEiLCJpbnNwaXJlZEZyYWdtZW50Iiwic2hvdWxkQ29tcG9uZW50VXBkYXRlIiwibmV4dFByb3BzIiwibmV4dFN0YXRlIiwiY29tcGxldGlvbnMiLCJzdGF0ZSIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJmb2N1c2VkIiwiZm9jdXNSZXN1bHQiLCJtYXhSZXN1bHRzIiwidHJpZ2dlckxvYWQiLCJuZXh0UGFnZSIsInNldFN0YXRlIiwibG9hZGluZ01vcmUiLCJyZW5kZXIiLCJsZWZ0Q29sdW1uV2lkdGgiLCJ1bmxvYWRlZFJlc3VsdHMiLCJNYXRoIiwibWF4IiwidG90YWwiLCJsZW5ndGgiLCJsb2FkVGhpc01hbnlNb3JlIiwibWluIiwibmV4dFBhZ2VRdWVyeSIsInNob3dNb3JlTGluayIsImJpbmQiLCJzdW1tYXJ5UHJvcHMiLCJzaG93QWdncyIsInRvZ2dsZUFnZ3MiLCJmb3JjZVNlYXJjaFVwZGF0ZSIsIm5leHRGb2N1c1Jlc3VsdCIsImVtYmVkIiwiaGFuZGxlQ2FuY2VsRW1iZWQiLCJzaG93Rm9jdXNSZWxhdGVkQ29udGVudCIsImpvaW4iLCJjdXN0b21JbWFnZUZuIiwiaW5zcGlyZWQiLCJpbWFnZSIsInVuZGVmaW5lZCIsImNvbnNvbGUiLCJpbmZvIiwiZGlzcGxheU5hbWUiLCJjaGFuZ2VWaWV3Iiwic3VnZ2VzdGlvbnMiLCJwb3N0U2VhcmNoIiwicG9zdFNlYXJjaE9mZnNldCIsIm5leHRWaWV3IiwidHJhbnNpdGlvblRvIiwibmV4dCIsInNob3dpbmdBbGwiLCJzdHlsZSIsIm1hcmdpblRvcCIsInBhZGRpbmciLCJib3JkZXJUb3AiLCJtaW5IZWlnaHQiLCJjc3ZUZXJtcyIsImNzdlF1ZXJ5IiwicyIsImNzdlVybCIsInNob3dDc3ZMaW5rIiwiY29tcG9uZW50RGlkVXBkYXRlIiwicHJldlByb3BzIiwicHJldlN0YXRlIiwiZG9tTm9kZSIsInJlZnMiLCJmaW5kRE9NTm9kZSIsIm9mZnNldCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvcCIsIm9uSGVpZ2h0Q2hhbmdlIiwibmV3SGVpZ2h0IiwiZ2V0Q2hpbGRDb250ZXh0IiwiY2hpbGRDb250ZXh0VHlwZXMiLCJQcm9wVHlwZXMiLCJmdW5jIiwiY29udGV4dFR5cGVzIiwicm91dGVyIiwiYm9vbCIsIm1vZHVsZSIsImV4cG9ydHMiLCJTZWFyY2hSZXN1bHRWaWV3VG9nZ2xlIiwidmlld3MiLCJjbGljayIsImFjdGl2ZVZpZXciLCJ0b2dnbGVzIiwibmFtZSIsImFjdGl2ZVN0eWxlIiwiY29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXJSYWRpdXMiLCJtYXJnaW4iLCJkaXNwbGF5IiwidG9nZ2xlVmlldyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7QUFDQSxJQUFJQyxXQUFXRCxRQUFRLFdBQVIsQ0FBZjtBQUNBLElBQUlFLFNBQVNGLFFBQVEsY0FBUixDQUFiOztlQUNhQSxRQUFRLGNBQVIsQztJQUFSRyxJLFlBQUFBLEk7O0FBQ0wsSUFBSUMsT0FBT0osUUFBUSxNQUFSLENBQVg7O0FBRUEsSUFBSUssU0FBU0wsUUFBUSxhQUFSLEVBQXVCTSxNQUFwQztBQUNBLElBQUlDLGdCQUFnQlAsUUFBUSxrQkFBUixDQUFwQjtBQUNBLElBQUlRLGNBQWNSLFFBQVEsdUJBQVIsQ0FBbEI7QUFDQSxJQUFJUyxjQUFjVCxRQUFRLHVCQUFSLENBQWxCOztBQUVBLFNBQVNVLGVBQVQsR0FBaUM7QUFBQSxvQ0FBTEMsR0FBSztBQUFMQSxPQUFLO0FBQUE7O0FBQy9CLFNBQU8sVUFBQ0MsSUFBRCxFQUFVO0FBQ2Ysd0JBQ0tBLElBREw7QUFFRUMseUJBQ0tELEtBQUtDLElBRFY7QUFFRUEsY0FBTUQsS0FBS0MsSUFBTCxDQUFVQSxJQUFWLENBQWVDLE1BQWYsQ0FBc0I7QUFBQSxpQkFBTyxDQUFDSCxJQUFJSSxJQUFKLENBQVM7QUFBQSxtQkFBTUMsT0FBT0MsU0FBU0MsSUFBSUMsR0FBYixD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LE9BQU9DLE9BQVAsR0FBaUJ2SCxhQUFqQjs7QUFFQSxJQUFJd0gseUJBQXlCakssTUFBTTBDLFdBQU4sQ0FBa0I7QUFBQTtBQUM3Q3FELFFBRDZDLG9CQUNwQztBQUFBOztBQUFBLGlCQUMwQixLQUFLMUIsS0FEL0I7QUFBQSxRQUNGNkYsS0FERSxVQUNGQSxLQURFO0FBQUEsUUFDS0MsS0FETCxVQUNLQSxLQURMO0FBQUEsUUFDWUMsVUFEWixVQUNZQSxVQURaOzs7QUFHUCxRQUFJQyxVQUFVSCxNQUFNeEksR0FBTixDQUFVLFVBQUNzQyxDQUFELEVBQU87QUFDN0IsVUFBSXNHLE9BQU90RyxFQUFFMEQsV0FBRixDQUFjbkUsT0FBZCxDQUFzQixlQUF0QixFQUF1QyxFQUF2QyxDQUFYO0FBQ0EsVUFBSWdILGNBQWNILGVBQWVwRyxDQUFmLElBQW9CO0FBQ3BDd0csZUFBTyxNQUQ2QjtBQUVwQ0MseUJBQWlCLE9BRm1CO0FBR3BDQyxzQkFBYyxDQUhzQjtBQUlwQ0MsZ0JBQVEsT0FKNEI7QUFLcENDLGlCQUFTO0FBTDJCLE9BQXBCLElBTWIsRUFOTDtBQU9BLGFBQU87QUFBQTtBQUFBLFVBQU0sS0FBS04sSUFBWCxFQUFpQixTQUFTLE9BQUtPLFVBQUwsQ0FBZ0JuRSxJQUFoQixTQUEyQjFDLENBQTNCLENBQTFCLEVBQXlELE9BQU91RyxXQUFoRTtBQUE2RSxtQ0FBRyxXQUFXRCxJQUFkO0FBQTdFLE9BQVA7QUFDRCxLQVZhLENBQWQ7O0FBWUEsV0FBTztBQUFBO0FBQUEsUUFBSyxXQUFVLGdDQUFmO0FBQWlERDtBQUFqRCxLQUFQO0FBQ0QsR0FqQjRDO0FBbUI3Q1EsWUFuQjZDLHNCQW1CbENuRyxJQW5Ca0MsRUFtQjVCO0FBQ2YsU0FBS0wsS0FBTCxDQUFXOEYsS0FBWCxDQUFpQnpGLElBQWpCO0FBQ0Q7QUFyQjRDLENBQWxCLENBQTdCIiwiZmlsZSI6InNlYXJjaC1yZXN1bHRzLmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUmVhY3RET00gPSByZXF1aXJlKCdyZWFjdC1kb20nKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIge0xpbmt9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG5cbnZhciBTRUFSQ0ggPSByZXF1aXJlKCcuL2VuZHBvaW50cycpLnNlYXJjaFxudmFyIFNlYXJjaFN1bW1hcnkgPSByZXF1aXJlKCcuL3NlYXJjaC1zdW1tYXJ5JylcbnZhciBSZXN1bHRzTGlzdCA9IHJlcXVpcmUoJy4vc2VhcmNoLXJlc3VsdHMvbGlzdCcpXG52YXIgUmVzdWx0c0dyaWQgPSByZXF1aXJlKCcuL3NlYXJjaC1yZXN1bHRzL2dyaWQnKVxuXG5mdW5jdGlvbiBvbWl0UmVzdWx0c0J5SWQoLi4uaWRzKSB7XG4gIHJldHVybiAoanNvbikgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5qc29uLFxuICAgICAgaGl0czoge1xuICAgICAgICAuLi5qc29uLmhpdHMsXG4gICAgICAgIGhpdHM6IGpzb24uaGl0cy5oaXRzLmZpbHRlcihoaXQgPT4gIWlkcy5maW5kKGlkID0+IGlkID09PSBwYXJzZUludChoaXQuX2lkKSkpLFxuICAgICAgfSxcbiAgICB9XG4gIH1cbn1cbi8qIEdpdmVuIGEgbGlzdCBvZiBhcnR3b3JrIGlkcyB0byBiZSBwcm9tb3RlZCwgZmluZCBhbnkgdGhhdCBleGlzdFxuICogaW4gYHJlc3VsdHNgIGFuZCBpbmNyZWFzZSB0aGVpciBfc2NvcmUsIHRoZW4gcmUtc29ydCB0aGUgcmVzdWx0c1xuICovXG5mdW5jdGlvbiBwcm9tb3RlUmVzdWx0c0J5SWQoLi4uaWRzKSB7XG4gIHJldHVybiBmdW5jdGlvbihqc29uLCBhZGRpdGlvbmFsQXJ0KSB7XG4gICAgY29uc3QgaWRDb21wYXJpc29uID0gaGl0ID0+IGlkcy5pbmRleE9mKE51bWJlcihoaXQuX2lkKSkgPiAtMVxuICAgIGNvbnN0IGhpdHMgPSBbXG4gICAgICAuLi5qc29uLmhpdHMuaGl0cyxcbiAgICAgIC4uLmFkZGl0aW9uYWxBcnQubWFwKGFydCA9PiAoe1xuICAgICAgICBfc2NvcmU6IDEwMCxcbiAgICAgICAgX3NvdXJjZTogYXJ0LFxuICAgICAgfSkpXG4gICAgXVxuICAgIGNvbnN0IGluY2x1ZGVzSWQgPSBoaXRzLmZpbHRlcihpZENvbXBhcmlzb24pXG4gICAgY29uc3QgcmVzb3J0ZWRSZXN1bHRzID0gaGl0cy5tYXAoaGl0ID0+IHtcbiAgICAgIGlmKGlkQ29tcGFyaXNvbihoaXQpKSBoaXQuX3Njb3JlID0gaGl0Ll9zY29yZSAqIDEwMFxuXG4gICAgICByZXR1cm4gaGl0XG4gICAgfSkuc29ydCgoYSwgYikgPT4gYi5fc2NvcmUgLSBhLl9zY29yZSlcblxuICAgIHJldHVybiB7XG4gICAgICAuLi5qc29uLFxuICAgICAgaGl0czoge1xuICAgICAgICAuLi5qc29uLmhpdHMsXG4gICAgICAgIGhpdHM6IHJlc29ydGVkUmVzdWx0cyxcbiAgICAgIH0sXG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiByZXNoYXBlUmVzdWx0c0pzb24oanNvbikge1xuICAvLyBGb3IgdGhpcyBxdWVyeSB0aGVyZSBhcmUgdHdvIHBob3RvZ3JhcGhzIHRoYXQgYXJlIGluY2x1ZGVkIGJlY2F1c2Ugb2YgYDIwMTNgXG4gIC8vIGJlaW5nIGluY2x1ZGVkIGluIHRoZWlyIHRpdGxlLCB0aGF0IHJlYWxseSBkb24ndCBiZWxvbmcgYW5kIGFyZSBhIHRob3JuIGluXG4gIC8vIHRoZSBzaWRlIG9mIG9uZSBvZiBvdXIgY3VyYXRvcnMuXG4gIC8vXG4gIC8vIE1hbnVhbGx5IHJlbW92ZSBpZHMgMTI2MzAzIGFuZCAxMjY3NDUgZnJvbSBhIHNlYXJjaCB3aGVyZSB0aGUgcXVlcnkgc3RhcnRzIHdpdGhcbiAgLy8gMjAxMy4yOVxuICBpZihqc29uLnF1ZXJ5Lm1hdGNoKC9eMjAxMy4yOS8pKSB7XG4gICAgcmV0dXJuIG9taXRSZXN1bHRzQnlJZCgxMjYzMDMsIDEyNjc0NSkoanNvbilcbiAgfVxuXG4gIGlmKGpzb24ucXVlcnkubWF0Y2goL2JsYWNrfGFmcmljYW4uP2FtZXJpY2FuL2kpKSB7XG4gICAgLy8gVE9ETyBob3cgdG8gZG8gdGhpcyB3aXRob3V0IGhhcmQtY29kaW5nIGEgc2luZ2xlIGFydHdvcms/XG4gICAgY29uc3QgZ2ZQb3J0cmFpdCA9IEpTT04ucGFyc2UoYHtcImlkXCI6XCIxMzkwMDVcIixcInRpdGxlXCI6XCJHZW9yZ2UgRmxveWQsIEluIE1lbW9yaXVtIDIwMjBcIixcIm1lZGl1bVwiOlwiU2NyZWVucHJpbnRcIixcImNsYXNzaWZpY2F0aW9uXCI6XCIgUHJpbnRzXCIsXCJkaW1lbnNpb25cIjpcIjI1IMOXIDE1IGluLiAoNjMuNSDDlyAzOC4xIGNtKSAoc2hlZXQpXCIsXCJvYmplY3RfbmFtZVwiOlwiUHJpbnRcIixcImNvbnRpbmVudFwiOlwiTm9ydGggQW1lcmljYVwiLFwiY291bnRyeVwiOlwiVW5pdGVkIFN0YXRlc1wiLFwiY3VsdHVyZVwiOm51bGwsXCJkYXRlZFwiOlwiMjAyMFwiLFwicm9vbVwiOlwiTm90IG9uIFZpZXdcIixcInN0eWxlXCI6XCIyMXN0IGNlbnR1cnlcIixcImluc2NyaXB0aW9uXCI6XCJMTEMgaW4gcGVuY2lsOiA4OjQ2XCIsXCJzaWduZWRcIjpcIkxSQyBpbiBwZW5jaWw6IERhdmlkIEJhcnRob2xkXCIsXCJtYXJraW5nc1wiOlwiYm90dG9tIGNlbnRlciBpbiBwZW5jaWw6IDExMy8yMDBcIixcInRleHRcIjpcIkFzIE1pbm5lYXBvbGlzIGFuZCB0aGUgd29ybGQgbW91cm5lZCB0aGUgbXVyZGVyIG9mIEdlb3JnZSBGbG95ZCBpbiB0aGUgc3VtbWVyIG9mIDIwMjAsIGFuIG91dHBvdXJpbmcgb2YgYXJ0IHdhcyBjcmVhdGVkIGJ5IGFydGlzdHMsIHByb2Zlc3Npb25hbCBhbmQgYW1hdGV1ciBhbGlrZeKAlG11cmFscywgc2lkZXdhbGsgYXJ0LCBzY3VscHR1cmUgaW5zdGFsbGF0aW9ucywgY2FyZGJvYXJkIHNpZ25zLCBwYWludGluZ3MsIGRyYXdpbmdzLCBhbmQgcHJpbnRzLiBUaGUgd29ya3Mgd2VyZSBtYWRlIHRvIG1lbW9yaWFsaXplIEZsb3lkIGFuZCBjb3VudGxlc3Mgb3RoZXIgQmxhY2sgY2l0aXplbnMgbWFydHlyZWQgaW4gdGhpcyBjb3VudHJ5LCB0byBwcm90ZXN0IHJhY2lhbCBpbmp1c3RpY2UgYW5kIHBvbGljZSBicnV0YWxpdHksIGFuZCB0byB0cnkgdG8gaGVscCBjb21tdW5pdGllcyBoZWFsLiBCYXJ0aG9sZCwgYSBOZXcgWW9yayBwcmludG1ha2VyIGFuZCBzdHJlZXQgYXJ0aXN0LCBjb21wbGV0ZWQgdGhpcyBwb3dlcmZ1bCBtZW1vcmlhbCBwb3J0cmFpdCBvZiBGbG95ZCBqdXN0IGRheXMgYWZ0ZXIgaGUgd2FzIGtpbGxlZC4gVGhlIGFydGlzdCBzdWJzZXF1ZW50bHkgcHJvZHVjZWQgb3RoZXIgcG9ydHJhaXQgcHJpbnRzIG9mIGltcG9ydGFudCBBbWVyaWNhbnPigJRKb2huIExld2lzLCBGcmVkIEhhbXB0b24sIFJ1dGggQmFkZXIgR2luc2J1cmcsIGFuZCBBbGV4YW5kcmlhIE9jYXNpby1Db3J0ZXrigJR0bywgaW4gdGhlIGFydGlzdOKAmXMgd29yZHMsIOKAnHJlbWVtYmVyIHRoZSBsb3N0IGFuZCBob25vciB0aGUgbGl2aW5nLuKAnSBCYXJ0aG9sZCBtYXNzLXByb2R1Y2VkIHRoZXNlIGxpa2VuZXNzZXMgYW5kIHBhc3RlZCB0aGVtIGFyb3VuZCB0aGUgY2l0eSBvZiBOZXcgWW9yayB0aHJvdWdob3V0IHRoZSBzdW1tZXIgb2YgMjAyMCwgYW5kLCBhZ2FpbiwgaW4gYSBjYW1wYWlnbiBqdXN0IGJlZm9yZSB0aGUgMjAyMCBlbGVjdGlvbi4gVG8gYnJvYWRlbiB0aGVpciByZWFjaCwgaGUgc2hhcmVkIHRoZSBpbWFnZXMgb24gc29jaWFsIG1lZGlhLCBhbmQgc29sZCB0aGUgcHJpbnRzIG9ubGluZSwgdXNpbmcgdGhlIHByb2NlZWRzIHRvIHJhaXNlIG1vbmV5IGZvciBCbGFjayBMaXZlcyBNYXR0ZXIgYW5kIHRoZSBCYWlsIFByb2plY3QuXCIsXCJkZXNjcmlwdGlvblwiOlwicG9ydHJhaXQgb2YgR2VvcmdlIEZsb3lkIGluIGJsYWNrIGluc2lkZSBhbiBpcnJlZ3VsYXJseSBzaGFwZWQgZGFyayBmb3JtXCIsXCJwcm92ZW5hbmNlXCI6XCJUaGUgYXJ0aXN0LCBOZXcgWW9yayAoMjAyMDsgc29sZCB0byBNY0dhcnJ5KTsgUmFjaGVsIE1jR2FycnksIERlZXBoYXZlbiAoMjAyMDsgZ2l2ZW4gdG8gTWlhKS5cIixcInBvcnRmb2xpb1wiOlwiRnJvbSBcIixcImNyZWRpdGxpbmVcIjpcIkFub255bW91cyBnaWZ0XCIsXCJhY2Nlc3Npb25fbnVtYmVyXCI6XCIyMDIwLjkxXCIsXCJhcnRpc3RcIjpcIkFydGlzdDogRGF2aWQgQmFydGhvbGRcIixcInJvbGVcIjpcIkFydGlzdFwiLFwibmF0aW9uYWxpdHlcIjpcIkFtZXJpY2FuXCIsXCJsaWZlX2RhdGVcIjpcIkFtZXJpY2FuLCBib3JuIDE5NTlcIixcImltYWdlX2NvcHlyaWdodFwiOlwiXCIsXCJkZXBhcnRtZW50XCI6XCJQcmludHMgYW5kIERyYXdpbmdzXCIsXCJyaWdodHNfdHlwZVwiOlwiQ29weXJpZ2h0IE5vdCBFdmFsdWF0ZWRcIixcImltYWdlXCI6XCJ2YWxpZFwiLFwiaW1hZ2Vfd2lkdGhcIjo0ODIzLFwiaW1hZ2VfaGVpZ2h0XCI6Nzg0NixcInJlc3RyaWN0ZWRcIjoxLFwicHVibGljX2FjY2Vzc1wiOlwiMVwiLFwiY3VyYXRvcl9hcHByb3ZlZFwiOjAsXCJjYXRhbG9ndWVfcmFpc3Nvbm5lXCI6bnVsbCxcImFydF9jaGFtcGlvbnNfdGV4dFwiOm51bGwsXCJzZWVfYWxzb1wiOltcIlwiXX1gKVxuXG4gICAgcmV0dXJuIHByb21vdGVSZXN1bHRzQnlJZCgxMzkwMDUsIDc4OTAsIDM3NTQsIDEwNzI0MSwgMTI2OTkxLCA3OTkzMikoanNvbiwgW2dmUG9ydHJhaXRdKVxuICB9XG5cbiAgcmV0dXJuIGpzb25cbn1cblxudmFyIFNlYXJjaFJlc3VsdHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIG1peGluczogW1JvdXRlci5TdGF0ZSwgUm91dGVyLk5hdmlnYXRpb25dLFxuXG4gIHN0YXRpY3M6IHtcbiAgICBmZXRjaERhdGE6IHtcbiAgICAgIHNlYXJjaFJlc3VsdHM6IChwYXJhbXMsIHF1ZXJ5KSA9PiB7XG4gICAgICAgIHZhciBzaXplID0gcXVlcnkgJiYgcXVlcnkuc2l6ZSB8fCAxMDBcbiAgICAgICAgdmFyIHNvcnQgPSBxdWVyeSAmJiBxdWVyeS5zb3J0XG4gICAgICAgIGNvbnN0IGZpbHRlcnMgPSBwYXJhbXMuc3BsYXRcbiAgICAgICAgY29uc3QgcHJvcGVybHlDb2RlZFRlcm1zID0gcGFyYW1zLnRlcm1zLnJlcGxhY2UoL1xcL3wlMkYvZywgJyAnKSAvLyBubyBmb3J3YXJkIHNsYXNoZXMgaW4gc2VhcmNoIGAvYFxuICAgICAgICBjb25zdCBwcm9wZXJseUNvZGVkRmlsdGVycyA9IGVuY29kZVVSSUNvbXBvbmVudChkZWNvZGVVUklDb21wb25lbnQoZmlsdGVycykpIC8vIHl1Y2tcbiAgICAgICAgbGV0IHNlYXJjaFVybCA9IGAke1NFQVJDSH0vJHtwcm9wZXJseUNvZGVkVGVybXN9P3NpemU9JHtzaXplfWBcbiAgICAgICAgaWYoc29ydCkgc2VhcmNoVXJsICs9IGAmc29ydD0ke3NvcnR9YFxuICAgICAgICBpZihmaWx0ZXJzKSBzZWFyY2hVcmwgKz0gYCZmaWx0ZXJzPSR7cHJvcGVybHlDb2RlZEZpbHRlcnN9YFxuICAgICAgICBpZih3aW5kb3cgJiYgd2luZG93LmVudGVyZWRWaWFNb3JlIHx8IHF1ZXJ5ICYmIHF1ZXJ5Lm1vcmUpIHNlYXJjaFVybCArPSBgJnRhZz1tb3JlYFxuICAgICAgICByZXR1cm4gcmVzdChzZWFyY2hVcmwpLnRoZW4oKHIpID0+IHJlc2hhcGVSZXN1bHRzSnNvbihKU09OLnBhcnNlKHIuZW50aXR5KSkpXG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICB2YXIgZm9jdXMgPSB3aW5kb3cuY2xpY2tlZEFydHdvcmsgfHwgdGhpcy5wcm9wcy5oaXRzWzBdXG4gICAgc2V0VGltZW91dCgoKSA9PiB3aW5kb3cuY2xpY2tlZEFydHdvcmsgPSBudWxsKVxuICAgIHZhciB7c21hbGxWaWV3cG9ydH0gPSB0aGlzLmNvbnRleHRcblxuICAgIHZhciBpc0luc3BpcmVkQnlNaWEgPSB0aGlzLmlzSW5zcGlyZWRCeU1pYSgpXG5cbiAgICB2YXIge3ZpZXcsIHByZXZpZXc6IHNob3dQcmV2aWV3fSA9IHRoaXMucHJvcHMucXVlcnlcbiAgICB2YXIgaW5pdGlhbFZpZXcgPSAodmlldyAmJiB2aWV3ID09ICdsaXN0JyB8fCBzbWFsbFZpZXdwb3J0IHx8IHRoaXMuY29udGV4dC51bml2ZXJzYWwpID9cbiAgICAgIFJlc3VsdHNMaXN0IDpcbiAgICAgIFJlc3VsdHNHcmlkXG5cbiAgICB2YXIgc2hvd1ByZXZpZXcgPSAoc2hvd1ByZXZpZXcgPT0gXCJmYWxzZVwiIHx8IGlzSW5zcGlyZWRCeU1pYSkgPyBmYWxzZSA6IHRydWVcblxuICAgIHJldHVybiB7XG4gICAgICBmb2N1c2VkUmVzdWx0OiBzaG93UHJldmlldyAmJiBmb2N1cyAmJiBmb2N1cyxcbiAgICAgIHZpZXc6IGluaXRpYWxWaWV3LFxuICAgICAgaXNJbnNwaXJlZEJ5TWlhLFxuICAgIH1cbiAgfSxcblxuICBpc0luc3BpcmVkQnlNaWEoKSB7XG4gICAgdmFyIHNlYXJjaCA9IHRoaXMucHJvcHMuZGF0YS5zZWFyY2hSZXN1bHRzXG4gICAgdmFyIHsgcXVlcnksIGZpbHRlcnMgfSA9IHNlYXJjaFxuICAgIHZhciBpbnNwaXJlZEZyYWdtZW50ID0gJ19leGlzdHNfOlwicmVsYXRlZDppbnNwaXJlZEJ5TWlhXCInXG5cbiAgICByZXR1cm4gcXVlcnkgJiYgcXVlcnkubWF0Y2goaW5zcGlyZWRGcmFnbWVudCkgfHwgZmlsdGVycyAmJiBmaWx0ZXJzLm1hdGNoKGluc3BpcmVkRnJhZ21lbnQpXG4gIH0sXG5cbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuZGF0YS5zZWFyY2hSZXN1bHRzICE9IG5leHRQcm9wcy5kYXRhLnNlYXJjaFJlc3VsdHMgfHxcbiAgICAgIHRoaXMucHJvcHMuaGl0cyAhPSBuZXh0UHJvcHMuaGl0cyB8fFxuICAgICAgdGhpcy5wcm9wcy5jb21wbGV0aW9ucyAhPT0gbmV4dFByb3BzLmNvbXBsZXRpb25zIHx8XG4gICAgICB0aGlzLnByb3BzLnF1ZXJ5LnNvcnQgIT09IG5leHRQcm9wcy5xdWVyeS5zb3J0IHx8XG4gICAgICB0aGlzLnN0YXRlICE9PSBuZXh0U3RhdGVcbiAgfSxcblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIHZhciB7IHNob3dQcmV2aWV3IH0gPSB0aGlzLnN0YXRlXG4gICAgdmFyIGZvY3VzZWQgPVxuICAgICAgd2luZG93LmNsaWNrZWRBcnR3b3JrXG4gICAgICB8fCB0aGlzLnN0YXRlICYmIHRoaXMuc3RhdGUuZm9jdXNlZFJlc3VsdFxuICAgICAgfHwgc2hvd1ByZXZpZXcgJiYgbmV4dFByb3BzLmhpdHNbMF1cbiAgICB0aGlzLmZvY3VzUmVzdWx0KGZvY3VzZWQpXG4gICAgaWYod2luZG93LmNsaWNrZWRBcnR3b3JrKSB3aW5kb3cuY2xpY2tlZEFydHdvcmsgPSBudWxsXG4gIH0sXG5cbiAgbWF4UmVzdWx0czogNTAwMCxcblxuICB0cmlnZ2VyTG9hZChuZXh0UGFnZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe2xvYWRpbmdNb3JlOiBuZXh0UGFnZX0pXG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciBzZWFyY2ggPSB0aGlzLnByb3BzLmRhdGEuc2VhcmNoUmVzdWx0c1xuICAgIHZhciB7Zm9jdXNlZFJlc3VsdH0gPSB0aGlzLnN0YXRlXG4gICAgdmFyIGxlZnRDb2x1bW5XaWR0aCA9ICczNSUnXG4gICAgdmFyIHtzbWFsbFZpZXdwb3J0fSA9IHRoaXMuY29udGV4dFxuICAgIHZhciB1bmxvYWRlZFJlc3VsdHMgPSBNYXRoLm1heCgwLCBzZWFyY2guaGl0cy50b3RhbCAtIHRoaXMucHJvcHMuaGl0cy5sZW5ndGgpXG4gICAgdmFyIGxvYWRUaGlzTWFueU1vcmUgPSBNYXRoLm1pbigyMDAsIHVubG9hZGVkUmVzdWx0cylcbiAgICB2YXIgbmV4dFBhZ2UgPSBNYXRoLm1pbih0aGlzLm1heFJlc3VsdHMsIHRoaXMucHJvcHMuaGl0cy5sZW5ndGgrbG9hZFRoaXNNYW55TW9yZSlcbiAgICB2YXIgbmV4dFBhZ2VRdWVyeSA9IHsuLi50aGlzLnByb3BzLnF1ZXJ5LCBzaXplOiBuZXh0UGFnZX1cbiAgICB2YXIgc2hvd01vcmVMaW5rID0gc2VhcmNoICYmXG4gICAgICA8c3Bhbj4uJm5ic3A7KDxMaW5rIHRvPXtzZWFyY2guZmlsdGVycyA/ICdmaWx0ZXJlZFNlYXJjaFJlc3VsdHMnIDogJ3NlYXJjaFJlc3VsdHMnfVxuICAgICAgICAgICAgIHBhcmFtcz17e3Rlcm1zOiBzZWFyY2gucXVlcnksIHNwbGF0OiBzZWFyY2guZmlsdGVyc319XG4gICAgICAgICAgICAgcXVlcnk9e25leHRQYWdlUXVlcnl9XG4gICAgICAgICAgICAgb25DbGljaz17dGhpcy50cmlnZ2VyTG9hZC5iaW5kKHRoaXMsIG5leHRQYWdlKX1cbiAgICAgICAgICAgID5sb2FkIHtsb2FkVGhpc01hbnlNb3JlfSBtb3JlPC9MaW5rPilcbiAgICAgIDwvc3Bhbj5cblxuICAgIGlmKHRoaXMuc3RhdGUubG9hZGluZ01vcmUpIHNob3dNb3JlTGluayA9ICcgKOKApmxvYWRpbmcpJ1xuXG4gICAgdmFyIHN1bW1hcnlQcm9wcyA9IHtcbiAgICAgIHNlYXJjaDogdGhpcy5wcm9wcy5kYXRhLnNlYXJjaFJlc3VsdHMsXG4gICAgICBoaXRzOiB0aGlzLnByb3BzLmhpdHMsXG4gICAgICBwYXJhbXM6IHRoaXMucHJvcHMucGFyYW1zLFxuICAgICAgc2hvd0FnZ3M6IHRoaXMucHJvcHMuc2hvd0FnZ3MsXG4gICAgICB0b2dnbGVBZ2dzOiB0aGlzLnByb3BzLnRvZ2dsZUFnZ3MsXG4gICAgICBzaG93TW9yZUxpbmssXG4gICAgICBtYXhSZXN1bHRzOiB0aGlzLm1heFJlc3VsdHMsXG4gICAgICBxdWVyeTogdGhpcy5wcm9wcy5xdWVyeSxcbiAgICAgIGZvcmNlU2VhcmNoVXBkYXRlOiAobmV4dEZvY3VzUmVzdWx0KSA9PiB7XG4gICAgICAgIHRoaXMuZm9jdXNSZXN1bHQobmV4dEZvY3VzUmVzdWx0KVxuICAgICAgfSxcbiAgICAgIGVtYmVkOiB0aGlzLnByb3BzLmVtYmVkLFxuICAgICAgaGFuZGxlQ2FuY2VsRW1iZWQ6IHRoaXMucHJvcHMuaGFuZGxlQ2FuY2VsRW1iZWQsXG4gICAgICBpc0luc3BpcmVkQnlNaWE6IHRoaXMuc3RhdGUuaXNJbnNwaXJlZEJ5TWlhLFxuICAgICAgLi4udGhpcy5wcm9wcy5zdW1tYXJ5UHJvcHNcbiAgICB9XG5cbiAgICB2YXIge3Rlcm1zLCBzcGxhdH0gPSB0aGlzLnByb3BzLnBhcmFtc1xuICAgIHZhciBzaG93Rm9jdXNSZWxhdGVkQ29udGVudCA9IFt0ZXJtcywgc3BsYXRdLmpvaW4oJyAnKS5tYXRjaCgvcmVsYXRlZC8pXG5cbiAgICB2YXIgeyBpc0luc3BpcmVkQnlNaWEgfSA9IHRoaXMuc3RhdGVcbiAgICBjb25zdCBjdXN0b21JbWFnZUZuID0gaXNJbnNwaXJlZEJ5TWlhXG4gICAgICA/IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIGNvbnN0IGFydCA9IHRoaXMucHJvcHMuaGl0cy5maW5kKCh7X2lkfSkgPT4gaWQgPT09IF9pZCkuX3NvdXJjZVxuICAgICAgICBjb25zdCBpbnNwaXJlZCA9IGFydFsncmVsYXRlZDppbnNwaXJlZEJ5TWlhJ11cbiAgICAgICAgcmV0dXJuIGluc3BpcmVkICYmIGluc3BpcmVkWzBdLmltYWdlXG4gICAgICB9XG4gICAgICA6IHVuZGVmaW5lZFxuXG4gICAgY29uc29sZS5pbmZvKCdzZWFyY2gtcmVzdWx0cyByZW5kZXInLCB7XG4gICAgICBpc0luc3BpcmVkQnlNaWEsXG4gICAgICB2aWV3OiB0aGlzLnN0YXRlLnZpZXcuZGlzcGxheU5hbWUsXG4gICAgICBwcm9wczogdGhpcy5wcm9wcyxcbiAgICB9KVxuXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8U2VhcmNoU3VtbWFyeSB7Li4uc3VtbWFyeVByb3BzfT5cbiAgICAgICAgPFNlYXJjaFJlc3VsdFZpZXdUb2dnbGVcbiAgICAgICAgICBjbGljaz17dGhpcy5jaGFuZ2VWaWV3fVxuICAgICAgICAgIGFjdGl2ZVZpZXc9e3RoaXMuc3RhdGUudmlld31cbiAgICAgICAgICB2aWV3cz17W1Jlc3VsdHNMaXN0LCBSZXN1bHRzR3JpZF19XG4gICAgICAgIC8+XG4gICAgICA8L1NlYXJjaFN1bW1hcnk+XG4gICAgICB7dGhpcy5wcm9wcy5zdWdnZXN0aW9uc31cbiAgICAgIDx0aGlzLnN0YXRlLnZpZXdcbiAgICAgICAgbGVmdENvbHVtbldpZHRoPXtsZWZ0Q29sdW1uV2lkdGh9XG4gICAgICAgIGZvY3VzZWRSZXN1bHQ9e2ZvY3VzZWRSZXN1bHR9XG4gICAgICAgIGZvY3VzSGFuZGxlcj17dGhpcy5mb2N1c1Jlc3VsdH1cbiAgICAgICAgc2VhcmNoPXtzZWFyY2h9XG4gICAgICAgIGhpdHM9e3RoaXMucHJvcHMuaGl0c31cbiAgICAgICAgcG9zdFNlYXJjaD17dGhpcy5wb3N0U2VhcmNoKHN1bW1hcnlQcm9wcywgdGhpcy5zdGF0ZS5wb3N0U2VhcmNoT2Zmc2V0KX1cbiAgICAgICAgc21hbGxWaWV3cG9ydD17dGhpcy5jb250ZXh0LnNtYWxsVmlld3BvcnR9XG4gICAgICAgIHNob3dSZWxhdGVkPXtzaG93Rm9jdXNSZWxhdGVkQ29udGVudH1cbiAgICAgICAgY3VzdG9tSW1hZ2U9e2N1c3RvbUltYWdlRm4gJiYgY3VzdG9tSW1hZ2VGbi5iaW5kKHRoaXMpfVxuICAgICAgICBpc0luc3BpcmVkQnlNaWE9e2lzSW5zcGlyZWRCeU1pYX1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgZm9jdXNSZXN1bHQoaGl0LCBuZXh0VmlldyA9IGZhbHNlKSB7XG4gICAgdmFyIHtzbWFsbFZpZXdwb3J0fSA9IHRoaXMuY29udGV4dFxuXG4gICAgaWYoc21hbGxWaWV3cG9ydCAmJiBuZXh0Vmlldykge1xuICAgICAgdGhpcy50cmFuc2l0aW9uVG8oJ2FydHdvcmsnLCB7aWQ6IGhpdC5faWR9KVxuICAgIH0gZWxzZSB7XG4gICAgICAhc21hbGxWaWV3cG9ydCAmJiBuZXh0VmlldyAmJiB0aGlzLmNoYW5nZVZpZXcobmV4dFZpZXcpXG4gICAgICB0aGlzLnNldFN0YXRlKHtmb2N1c2VkUmVzdWx0OiBoaXQgPyBoaXQgOiBudWxsfSlcbiAgICB9XG4gIH0sXG5cbiAgY2hhbmdlVmlldyhuZXh0KSB7XG4gICAgbmV4dCAmJiB0aGlzLnNldFN0YXRlKHt2aWV3OiBuZXh0fSlcbiAgfSxcblxuICAvLyBIb3cgdG8gY29kZSB0aGlzOiBhZnRlciBzZWVpbmcgYWxsIHRoZSByZXN1bHRzIChvbiBhIHBhZ2U/KVxuICAvLyBzdW1tYXJpemUgdGhlbSBhbmQgZ2l2ZSB0aGUgY2hhbmNlIHRvIGRvIHNvbWV0aGluZy4gU3VjaCBhczpcbiAgLy8gKiBsb2FkIG1vcmVcbiAgLy8gKiBkaWQgeW91IGZpbmQgd2hhdCB5b3Ugd2VyZSBsb29raW5nIGZvcj8gKHNvbGljaXQgZmVlZGJhY2spXG4gIC8vICogcmVsYXRlZCBzZWFyY2hlcz9cbiAgLy9cbiAgLy8gQWxzbyBmdWRnZSB0aGUgaGVpZ2h0IG9mIHRoaXMgc28gdGhlIHJpZ2h0IGNvbHVtbiBzY3JvbGwgZG9lc24ndCBnZXQgY3V0IG9mZi5cbiAgcG9zdFNlYXJjaCh7aGl0cywgc2VhcmNoLCBzaG93TW9yZUxpbmt9LCBwb3N0U2VhcmNoT2Zmc2V0KSB7XG4gICAgdmFyIHNob3dpbmdBbGwgPSBoaXRzLmxlbmd0aCA+PSBzZWFyY2guaGl0cy50b3RhbCB8fCBoaXRzLmxlbmd0aCA+PSB0aGlzLm1heFJlc3VsdHNcblxuICAgIGNvbnN0IHN0eWxlID0ge1xuICAgICAgbWFyZ2luVG9wOiAnMWVtJyxcbiAgICAgIHBhZGRpbmc6ICcxZW0nLFxuICAgICAgYm9yZGVyVG9wOiAnMWVtIHNvbGlkICMyMzIzMjMnLFxuICAgICAgbWluSGVpZ2h0OiBNYXRoLm1heCg1MCwgdGhpcy5zdGF0ZS5taW5IZWlnaHQgLSBwb3N0U2VhcmNoT2Zmc2V0KVxuICAgIH1cblxuICAgIGNvbnN0IHtzZWFyY2hSZXN1bHRzfSA9IHRoaXMucHJvcHMuZGF0YVxuICAgIGNvbnN0IGNzdlRlcm1zID0gc2VhcmNoUmVzdWx0cy5jc3ZRdWVyeVxuICAgICAgfHwgW3NlYXJjaFJlc3VsdHMucXVlcnksIHNlYXJjaFJlc3VsdHMuZmlsdGVyc10uZmlsdGVyKHMgPT4gcykuam9pbignICcpXG4gICAgY29uc3QgY3N2VXJsID0gYCR7U0VBUkNIfS8ke2NzdlRlcm1zfT9mb3JtYXQ9Y3N2YFxuICAgIGNvbnN0IHNob3dDc3ZMaW5rID0gdHJ1ZVxuXG4gICAgcmV0dXJuIDxkaXYgcmVmPVwicG9zdFNlYXJjaFwiIHN0eWxlPXtzdHlsZX0+XG4gICAgICA8cD5cbiAgICAgICAgc2hvd2luZyB7aGl0cy5sZW5ndGh9IHsnICd9XG4gICAgICAgIHtzaG93aW5nQWxsIHx8IDxzcGFuPm9mIHtzZWFyY2guaGl0cy50b3RhbH0geycgJ308L3NwYW4+fVxuICAgICAgICByZXN1bHRzIG1hdGNoaW5nIDxjb2RlPntzZWFyY2gucXVlcnl9PC9jb2RlPlxuICAgICAgICB7c2VhcmNoLmZpbHRlcnMgJiYgPHNwYW4+IGFuZCA8Y29kZT57c2VhcmNoLmZpbHRlcnN9PC9jb2RlPjwvc3Bhbj59XG4gICAgICAgIHtzaG93aW5nQWxsIHx8IHNob3dNb3JlTGlua31cbiAgICAgIDwvcD5cblxuICAgICAge3Nob3dDc3ZMaW5rICYmIDxwPlxuICAgICAgICA8YSBocmVmPXtjc3ZVcmx9PkRvd25sb2FkIHJlc3VsdHMgYXMgQ1NWPC9hPlxuICAgICAgPC9wPn1cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICB2YXIgZG9tTm9kZSA9IHRoaXMucmVmcy5wb3N0U2VhcmNoICYmIFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmcy5wb3N0U2VhcmNoKVxuICAgIHZhciBvZmZzZXQgPSBkb21Ob2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcFxuICAgIGlmKGRvbU5vZGUgJiYgb2Zmc2V0ICE9IHByZXZTdGF0ZS5wb3N0U2VhcmNoT2Zmc2V0KSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtwb3N0U2VhcmNoT2Zmc2V0OiBvZmZzZXQgfHwgMH0pXG4gICAgfVxuXG4gICAgaWYodGhpcy5wcm9wcy5xdWVyeS5zaXplID09IHRoaXMuc3RhdGUubG9hZGluZ01vcmUpIHRoaXMuc2V0U3RhdGUoe2xvYWRpbmdNb3JlOiBmYWxzZX0pXG5cbiAgICBpZih0aGlzLnByb3BzLnBhcmFtcy50ZXJtcyAhPT0gcHJldlByb3BzLnBhcmFtcy50ZXJtcyB8fCB0aGlzLnByb3BzLnBhcmFtcy5zcGxhdCAhPT0gcHJldlByb3BzLnBhcmFtcy5zcGxhdCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzSW5zcGlyZWRCeU1pYTogdGhpcy5pc0luc3BpcmVkQnlNaWEoKSxcbiAgICAgICAgZm9jdXNlZFJlc3VsdDogbnVsbCxcbiAgICAgIH0pXG4gICAgfVxuICB9LFxuXG4gIG9uSGVpZ2h0Q2hhbmdlKG5ld0hlaWdodCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe21pbkhlaWdodDogbmV3SGVpZ2h0fSlcbiAgfSxcblxuICBnZXRDaGlsZENvbnRleHQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9uSGVpZ2h0Q2hhbmdlOiB0aGlzLm9uSGVpZ2h0Q2hhbmdlLFxuICAgIH1cbiAgfSxcbn0pXG5TZWFyY2hSZXN1bHRzLmNoaWxkQ29udGV4dFR5cGVzID0ge29uSGVpZ2h0Q2hhbmdlOiBSZWFjdC5Qcm9wVHlwZXMuZnVuY31cblNlYXJjaFJlc3VsdHMuY29udGV4dFR5cGVzID0ge1xuICByb3V0ZXI6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICB1bml2ZXJzYWw6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuICBzbWFsbFZpZXdwb3J0OiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTZWFyY2hSZXN1bHRzXG5cbnZhciBTZWFyY2hSZXN1bHRWaWV3VG9nZ2xlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHt2aWV3cywgY2xpY2ssIGFjdGl2ZVZpZXd9ID0gdGhpcy5wcm9wc1xuXG4gICAgdmFyIHRvZ2dsZXMgPSB2aWV3cy5tYXAoKHIpID0+IHtcbiAgICAgIHZhciBuYW1lID0gci5kaXNwbGF5TmFtZS5yZXBsYWNlKCdTZWFyY2hSZXN1bHRzJywgJycpXG4gICAgICB2YXIgYWN0aXZlU3R5bGUgPSBhY3RpdmVWaWV3ID09PSByICYmIHtcbiAgICAgICAgY29sb3I6ICcjMjIyJyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgICAgICBib3JkZXJSYWRpdXM6IDUsXG4gICAgICAgIG1hcmdpbjogJzAgNXB4JyxcbiAgICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICB9IHx8IHt9XG4gICAgICByZXR1cm4gPHNwYW4ga2V5PXtuYW1lfSBvbkNsaWNrPXt0aGlzLnRvZ2dsZVZpZXcuYmluZCh0aGlzLCByKX0gc3R5bGU9e2FjdGl2ZVN0eWxlfT48aSBjbGFzc05hbWU9e25hbWV9PjwvaT48L3NwYW4+XG4gICAgfSlcblxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1kbC1jZWxsIG1kbC1jZWxsLS0yLWNvbCB2aWV3c1wiPnt0b2dnbGVzfTwvZGl2PlxuICB9LFxuXG4gIHRvZ2dsZVZpZXcodmlldykge1xuICAgIHRoaXMucHJvcHMuY2xpY2sodmlldylcbiAgfSxcbn0pXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "search-results.js"
      ],
      "names": [
        "React",
        "require",
        "ReactDOM",
        "Router",
        "Link",
        "rest",
        "SEARCH",
        "search",
        "SearchSummary",
        "ResultsList",
        "ResultsGrid",
        "omitResultsById",
        "ids",
        "json",
        "hits",
        "filter",
        "find",
        "id",
        "parseInt",
        "hit",
        "_id",
        "promoteResultsById",
        "additionalArt",
        "idComparison",
        "indexOf",
        "Number",
        "map",
        "_score",
        "_source",
        "art",
        "includesId",
        "resortedResults",
        "sort",
        "a",
        "b",
        "reshapeResultsJson",
        "query",
        "match",
        "gfPortrait",
        "JSON",
        "parse",
        "SearchResults",
        "createClass",
        "mixins",
        "State",
        "Navigation",
        "statics",
        "fetchData",
        "searchResults",
        "params",
        "size",
        "filters",
        "splat",
        "properlyCodedTerms",
        "terms",
        "replace",
        "properlyCodedFilters",
        "encodeURIComponent",
        "decodeURIComponent",
        "searchUrl",
        "window",
        "enteredViaMore",
        "more",
        "then",
        "r",
        "entity",
        "getInitialState",
        "focus",
        "clickedArtwork",
        "props",
        "setTimeout",
        "smallViewport",
        "context",
        "isInspiredByMia",
        "view",
        "showPreview",
        "preview",
        "initialView",
        "universal",
        "focusedResult",
        "data",
        "inspiredFragment",
        "shouldComponentUpdate",
        "nextProps",
        "nextState",
        "completions",
        "state",
        "componentWillReceiveProps",
        "focused",
        "focusResult",
        "maxResults",
        "triggerLoad",
        "nextPage",
        "setState",
        "loadingMore",
        "render",
        "leftColumnWidth",
        "unloadedResults",
        "Math",
        "max",
        "total",
        "length",
        "loadThisManyMore",
        "min",
        "nextPageQuery",
        "showMoreLink",
        "bind",
        "summaryProps",
        "showAggs",
        "toggleAggs",
        "forceSearchUpdate",
        "nextFocusResult",
        "embed",
        "handleCancelEmbed",
        "showFocusRelatedContent",
        "join",
        "customImageFn",
        "inspired",
        "image",
        "undefined",
        "console",
        "info",
        "displayName",
        "changeView",
        "suggestions",
        "postSearch",
        "postSearchOffset",
        "nextView",
        "transitionTo",
        "next",
        "showingAll",
        "style",
        "marginTop",
        "padding",
        "borderTop",
        "minHeight",
        "csvTerms",
        "csvQuery",
        "s",
        "csvUrl",
        "showCsvLink",
        "componentDidUpdate",
        "prevProps",
        "prevState",
        "domNode",
        "refs",
        "findDOMNode",
        "offset",
        "getBoundingClientRect",
        "top",
        "onHeightChange",
        "newHeight",
        "getChildContext",
        "childContextTypes",
        "PropTypes",
        "func",
        "contextTypes",
        "router",
        "bool",
        "module",
        "exports",
        "SearchResultViewToggle",
        "views",
        "click",
        "activeView",
        "toggles",
        "name",
        "activeStyle",
        "color",
        "backgroundColor",
        "borderRadius",
        "margin",
        "display",
        "toggleView"
      ],
      "mappings": "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",
      "file": "search-results.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar ReactDOM = require('react-dom')\nvar Router = require('react-router')\nvar {Link} = require('react-router')\nvar rest = require('rest')\n\nvar SEARCH = require('./endpoints').search\nvar SearchSummary = require('./search-summary')\nvar ResultsList = require('./search-results/list')\nvar ResultsGrid = require('./search-results/grid')\n\nfunction omitResultsById(...ids) {\n  return (json) => {\n    return {\n      ...json,\n      hits: {\n        ...json.hits,\n        hits: json.hits.hits.filter(hit => !ids.find(id => id === parseInt(hit._id))),\n      },\n    }\n  }\n}\n/* Given a list of artwork ids to be promoted, find any that exist\n * in `results` and increase their _score, then re-sort the results\n */\nfunction promoteResultsById(...ids) {\n  return function(json, additionalArt) {\n    const idComparison = hit => ids.indexOf(Number(hit._id)) > -1\n    const hits = [\n      ...json.hits.hits,\n      ...additionalArt.map(art => ({\n        _score: 100,\n        _source: art,\n      }))\n    ]\n    const includesId = hits.filter(idComparison)\n    const resortedResults = hits.map(hit => {\n      if(idComparison(hit)) hit._score = hit._score * 100\n\n      return hit\n    }).sort((a, b) => b._score - a._score)\n\n    return {\n      ...json,\n      hits: {\n        ...json.hits,\n        hits: resortedResults,\n      },\n    }\n  }\n}\nfunction reshapeResultsJson(json) {\n  // For this query there are two photographs that are included because of `2013`\n  // being included in their title, that really don't belong and are a thorn in\n  // the side of one of our curators.\n  //\n  // Manually remove ids 126303 and 126745 from a search where the query starts with\n  // 2013.29\n  if(json.query.match(/^2013.29/)) {\n    return omitResultsById(126303, 126745)(json)\n  }\n\n  if(json.query.match(/black|african.?american/i)) {\n    // TODO how to do this without hard-coding a single artwork?\n    const gfPortrait = JSON.parse(`{\"id\":\"139005\",\"title\":\"George Floyd, In Memorium 2020\",\"medium\":\"Screenprint\",\"classification\":\" Prints\",\"dimension\":\"25 × 15 in. (63.5 × 38.1 cm) (sheet)\",\"object_name\":\"Print\",\"continent\":\"North America\",\"country\":\"United States\",\"culture\":null,\"dated\":\"2020\",\"room\":\"Not on View\",\"style\":\"21st century\",\"inscription\":\"LLC in pencil: 8:46\",\"signed\":\"LRC in pencil: David Barthold\",\"markings\":\"bottom center in pencil: 113/200\",\"text\":\"As Minneapolis and the world mourned the murder of George Floyd in the summer of 2020, an outpouring of art was created by artists, professional and amateur alike—murals, sidewalk art, sculpture installations, cardboard signs, paintings, drawings, and prints. The works were made to memorialize Floyd and countless other Black citizens martyred in this country, to protest racial injustice and police brutality, and to try to help communities heal. Barthold, a New York printmaker and street artist, completed this powerful memorial portrait of Floyd just days after he was killed. The artist subsequently produced other portrait prints of important Americans—John Lewis, Fred Hampton, Ruth Bader Ginsburg, and Alexandria Ocasio-Cortez—to, in the artist’s words, “remember the lost and honor the living.” Barthold mass-produced these likenesses and pasted them around the city of New York throughout the summer of 2020, and, again, in a campaign just before the 2020 election. To broaden their reach, he shared the images on social media, and sold the prints online, using the proceeds to raise money for Black Lives Matter and the Bail Project.\",\"description\":\"portrait of George Floyd in black inside an irregularly shaped dark form\",\"provenance\":\"The artist, New York (2020; sold to McGarry); Rachel McGarry, Deephaven (2020; given to Mia).\",\"portfolio\":\"From \",\"creditline\":\"Anonymous gift\",\"accession_number\":\"2020.91\",\"artist\":\"Artist: David Barthold\",\"role\":\"Artist\",\"nationality\":\"American\",\"life_date\":\"American, born 1959\",\"image_copyright\":\"\",\"department\":\"Prints and Drawings\",\"rights_type\":\"Copyright Not Evaluated\",\"image\":\"valid\",\"image_width\":4823,\"image_height\":7846,\"restricted\":1,\"public_access\":\"1\",\"curator_approved\":0,\"catalogue_raissonne\":null,\"art_champions_text\":null,\"see_also\":[\"\"]}`)\n\n    return promoteResultsById(139005, 7890, 3754, 107241, 126991, 79932)(json, [gfPortrait])\n  }\n\n  return json\n}\n\nvar SearchResults = React.createClass({\n  mixins: [Router.State, Router.Navigation],\n\n  statics: {\n    fetchData: {\n      searchResults: (params, query) => {\n        var size = query && query.size || 100\n        var sort = query && query.sort\n        const filters = params.splat\n        const properlyCodedTerms = params.terms.replace(/\\/|%2F/g, ' ') // no forward slashes in search `/`\n        const properlyCodedFilters = encodeURIComponent(decodeURIComponent(filters)) // yuck\n        let searchUrl = `${SEARCH}/${properlyCodedTerms}?size=${size}`\n        if(sort) searchUrl += `&sort=${sort}`\n        if(filters) searchUrl += `&filters=${properlyCodedFilters}`\n        if(window && window.enteredViaMore || query && query.more) searchUrl += `&tag=more`\n        return rest(searchUrl).then((r) => reshapeResultsJson(JSON.parse(r.entity)))\n      }\n    }\n  },\n\n  getInitialState() {\n    var focus = window.clickedArtwork || this.props.hits[0]\n    setTimeout(() => window.clickedArtwork = null)\n    var {smallViewport} = this.context\n\n    var isInspiredByMia = this.isInspiredByMia()\n\n    var {view, preview: showPreview} = this.props.query\n    var initialView = (view && view == 'list' || smallViewport || this.context.universal) ?\n      ResultsList :\n      ResultsGrid\n\n    var showPreview = (showPreview == \"false\" || isInspiredByMia) ? false : true\n\n    return {\n      focusedResult: showPreview && focus && focus,\n      view: initialView,\n      isInspiredByMia,\n    }\n  },\n\n  isInspiredByMia() {\n    var search = this.props.data.searchResults\n    var { query, filters } = search\n    var inspiredFragment = '_exists_:\"related:inspiredByMia\"'\n\n    return query && query.match(inspiredFragment) || filters && filters.match(inspiredFragment)\n  },\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return this.props.data.searchResults != nextProps.data.searchResults ||\n      this.props.hits != nextProps.hits ||\n      this.props.completions !== nextProps.completions ||\n      this.props.query.sort !== nextProps.query.sort ||\n      this.state !== nextState\n  },\n\n  componentWillReceiveProps(nextProps) {\n    var { showPreview } = this.state\n    var focused =\n      window.clickedArtwork\n      || this.state && this.state.focusedResult\n      || showPreview && nextProps.hits[0]\n    this.focusResult(focused)\n    if(window.clickedArtwork) window.clickedArtwork = null\n  },\n\n  maxResults: 5000,\n\n  triggerLoad(nextPage) {\n    this.setState({loadingMore: nextPage})\n  },\n\n  render() {\n    var search = this.props.data.searchResults\n    var {focusedResult} = this.state\n    var leftColumnWidth = '35%'\n    var {smallViewport} = this.context\n    var unloadedResults = Math.max(0, search.hits.total - this.props.hits.length)\n    var loadThisManyMore = Math.min(200, unloadedResults)\n    var nextPage = Math.min(this.maxResults, this.props.hits.length+loadThisManyMore)\n    var nextPageQuery = {...this.props.query, size: nextPage}\n    var showMoreLink = search &&\n      <span>.&nbsp;(<Link to={search.filters ? 'filteredSearchResults' : 'searchResults'}\n             params={{terms: search.query, splat: search.filters}}\n             query={nextPageQuery}\n             onClick={this.triggerLoad.bind(this, nextPage)}\n            >load {loadThisManyMore} more</Link>)\n      </span>\n\n    if(this.state.loadingMore) showMoreLink = ' (…loading)'\n\n    var summaryProps = {\n      search: this.props.data.searchResults,\n      hits: this.props.hits,\n      params: this.props.params,\n      showAggs: this.props.showAggs,\n      toggleAggs: this.props.toggleAggs,\n      showMoreLink,\n      maxResults: this.maxResults,\n      query: this.props.query,\n      forceSearchUpdate: (nextFocusResult) => {\n        this.focusResult(nextFocusResult)\n      },\n      embed: this.props.embed,\n      handleCancelEmbed: this.props.handleCancelEmbed,\n      isInspiredByMia: this.state.isInspiredByMia,\n      ...this.props.summaryProps\n    }\n\n    var {terms, splat} = this.props.params\n    var showFocusRelatedContent = [terms, splat].join(' ').match(/related/)\n\n    var { isInspiredByMia } = this.state\n    const customImageFn = isInspiredByMia\n      ? function(id) {\n        const art = this.props.hits.find(({_id}) => id === _id)._source\n        const inspired = art['related:inspiredByMia']\n        return inspired && inspired[0].image\n      }\n      : undefined\n\n    console.info('search-results render', {\n      isInspiredByMia,\n      view: this.state.view.displayName,\n      props: this.props,\n    })\n\n    return <div>\n      <SearchSummary {...summaryProps}>\n        <SearchResultViewToggle\n          click={this.changeView}\n          activeView={this.state.view}\n          views={[ResultsList, ResultsGrid]}\n        />\n      </SearchSummary>\n      {this.props.suggestions}\n      <this.state.view\n        leftColumnWidth={leftColumnWidth}\n        focusedResult={focusedResult}\n        focusHandler={this.focusResult}\n        search={search}\n        hits={this.props.hits}\n        postSearch={this.postSearch(summaryProps, this.state.postSearchOffset)}\n        smallViewport={this.context.smallViewport}\n        showRelated={showFocusRelatedContent}\n        customImage={customImageFn && customImageFn.bind(this)}\n        isInspiredByMia={isInspiredByMia}\n      />\n    </div>\n  },\n\n  focusResult(hit, nextView = false) {\n    var {smallViewport} = this.context\n\n    if(smallViewport && nextView) {\n      this.transitionTo('artwork', {id: hit._id})\n    } else {\n      !smallViewport && nextView && this.changeView(nextView)\n      this.setState({focusedResult: hit ? hit : null})\n    }\n  },\n\n  changeView(next) {\n    next && this.setState({view: next})\n  },\n\n  // How to code this: after seeing all the results (on a page?)\n  // summarize them and give the chance to do something. Such as:\n  // * load more\n  // * did you find what you were looking for? (solicit feedback)\n  // * related searches?\n  //\n  // Also fudge the height of this so the right column scroll doesn't get cut off.\n  postSearch({hits, search, showMoreLink}, postSearchOffset) {\n    var showingAll = hits.length >= search.hits.total || hits.length >= this.maxResults\n\n    const style = {\n      marginTop: '1em',\n      padding: '1em',\n      borderTop: '1em solid #232323',\n      minHeight: Math.max(50, this.state.minHeight - postSearchOffset)\n    }\n\n    const {searchResults} = this.props.data\n    const csvTerms = searchResults.csvQuery\n      || [searchResults.query, searchResults.filters].filter(s => s).join(' ')\n    const csvUrl = `${SEARCH}/${csvTerms}?format=csv`\n    const showCsvLink = true\n\n    return <div ref=\"postSearch\" style={style}>\n      <p>\n        showing {hits.length} {' '}\n        {showingAll || <span>of {search.hits.total} {' '}</span>}\n        results matching <code>{search.query}</code>\n        {search.filters && <span> and <code>{search.filters}</code></span>}\n        {showingAll || showMoreLink}\n      </p>\n\n      {showCsvLink && <p>\n        <a href={csvUrl}>Download results as CSV</a>\n      </p>}\n    </div>\n  },\n\n  componentDidUpdate(prevProps, prevState) {\n    var domNode = this.refs.postSearch && ReactDOM.findDOMNode(this.refs.postSearch)\n    var offset = domNode.getBoundingClientRect().top\n    if(domNode && offset != prevState.postSearchOffset) {\n      this.setState({postSearchOffset: offset || 0})\n    }\n\n    if(this.props.query.size == this.state.loadingMore) this.setState({loadingMore: false})\n\n    if(this.props.params.terms !== prevProps.params.terms || this.props.params.splat !== prevProps.params.splat) {\n      this.setState({\n        isInspiredByMia: this.isInspiredByMia(),\n        focusedResult: null,\n      })\n    }\n  },\n\n  onHeightChange(newHeight) {\n    this.setState({minHeight: newHeight})\n  },\n\n  getChildContext() {\n    return {\n      onHeightChange: this.onHeightChange,\n    }\n  },\n})\nSearchResults.childContextTypes = {onHeightChange: React.PropTypes.func}\nSearchResults.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n  smallViewport: React.PropTypes.bool,\n}\n\nmodule.exports = SearchResults\n\nvar SearchResultViewToggle = React.createClass({\n  render() {\n    var {views, click, activeView} = this.props\n\n    var toggles = views.map((r) => {\n      var name = r.displayName.replace('SearchResults', '')\n      var activeStyle = activeView === r && {\n        color: '#222',\n        backgroundColor: 'white',\n        borderRadius: 5,\n        margin: '0 5px',\n        display: 'inline-block',\n      } || {}\n      return <span key={name} onClick={this.toggleView.bind(this, r)} style={activeStyle}><i className={name}></i></span>\n    })\n\n    return <div className=\"mdl-cell mdl-cell--2-col views\">{toggles}</div>\n  },\n\n  toggleView(view) {\n    this.props.click(view)\n  },\n})\n"
      ]
    },
    "mtime": 1614714208384
  },
  "{\"filename\":\"/var/www/art/src/search-summary.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/search-summary.js",
      "filenameRelative": "/var/www/art/src/search-summary.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "search-summary.js",
      "sourceFileName": "search-summary.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "search-summary"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Helmet = require('react-helmet');\n\nvar _require = require('react-router'),\n    Link = _require.Link;\n\nvar Decorate = require('./decorate');\nvar Aggregations = require('./aggregations');\nvar searchLanguageMap = require('./search-language');\n\nvar SearchSummary = React.createClass({\n  displayName: 'SearchSummary',\n  render: function render() {\n    var search = this.props.search;\n    if (!search || !search.hits) return React.createElement('div', null);\n    var hits = this.props.hits;\n    var results = this.props.results;\n    var showAggs = this.props.showAggs;\n\n    // only allow opening the filters box when\n    // 1. there's more than 1 result\n    // 2. there are filters applied that could be reducing the results to 0\n\n    var toggleAggs = (hits && hits.length > 1 || search.filters && search.filters.length > 0) && React.createElement(\n      'span',\n      { className: 'filter-button' },\n      React.createElement(\n        'a',\n        { onClick: this.toggleAggs, style: { cursor: 'pointer' } },\n        showAggs ? 'hide' : 'advanced'\n      )\n    );\n\n    var showingAll = hits.length >= search.hits.total || hits.length >= this.props.maxResults;\n\n    var smallViewport = this.context.smallViewport;\n\n    var toolbarClasses = \"summaryText mdl-cell \" + (smallViewport ? \"mdl-cell--4-col\" : \"mdl-cell--8-col mdl-cell--4-col-tablet\");\n\n    var pretty = {\n      query: searchLanguageMap(search.query),\n      filters: searchLanguageMap(search.filters)\n    };\n    pretty['searchString'] = [pretty.query, pretty.filters].filter(function (string) {\n      return !!string && string !== '*' && string !== 'undefined';\n    }).join(', ');\n\n    var sort = this.props.query.sort;\n\n    var humanizeSnakeCase = function humanizeSnakeCase(s) {\n      return ('_' + s).replace(/_(.?)/g, function (_, x) {\n        return ' ' + x.toUpperCase();\n      }).trim();\n    };\n\n    return React.createElement(\n      'div',\n      { className: 'agg-wrap' },\n      React.createElement(\n        'div',\n        { className: 'toolbar mdl-grid' },\n        this.props.children,\n        React.createElement(\n          'div',\n          { className: toolbarClasses },\n          React.createElement(\n            'h2',\n            { onClick: this.toggleContent },\n            'showing ',\n            hits.length,\n            ' ',\n            ' ',\n            showingAll || React.createElement(\n              'span',\n              null,\n              'of ',\n              search.hits.total,\n              ' ',\n              ' '\n            ),\n            'results ',\n            pretty.query && React.createElement(\n              'span',\n              null,\n              'matching ',\n              React.createElement(\n                'code',\n                null,\n                pretty.query\n              )\n            ),\n            search.filters && React.createElement(\n              'span',\n              null,\n              ' ',\n              'and ',\n              React.createElement(\n                'code',\n                null,\n                decodeURIComponent(pretty.filters)\n              ),\n              ' ',\n              '(',\n              React.createElement(\n                Link,\n                { to: 'searchResults',\n                  query: search.query,\n                  params: { terms: '' + search.query, splat: '' }\n                },\n                'clear filters'\n              ),\n              ')'\n            ),\n            sort && React.createElement(\n              'span',\n              null,\n              ' sorted by ',\n              humanizeSnakeCase(sort.replace(/(-|\\.).*/, ''))\n            ),\n            showingAll || this.props.showMoreLink,\n            this.props.embed && React.createElement(\n              'span',\n              null,\n              ' (',\n              React.createElement(\n                'a',\n                { href: '#', onClick: this.props.handleCancelEmbed },\n                'show search'\n              ),\n              ')'\n            )\n          )\n        ),\n        !this.props.embed && React.createElement(\n          'div',\n          { className: 'mdl-cell mdl-cell--2-col' },\n          toggleAggs\n        )\n      ),\n      showAggs && React.createElement(Aggregations, _extends({ search: search }, this.props)),\n      React.createElement(Decorate, _extends({\n        search: search,\n        params: this.props.params\n      }, this.props)),\n      false && React.createElement(ClosedBanner, null),\n      React.createElement(Helmet, {\n        title: '\\uD83D\\uDD0E ' + pretty.searchString,\n        meta: [{ property: \"robots\", content: \"noindex\" }, { property: \"og:title\", content: pretty.searchString + ' | Minneapolis Institute of Art' }]\n      })\n    );\n  },\n  toggleAggs: function toggleAggs() {\n    this.props.toggleAggs();\n  }\n});\nSearchSummary.contextTypes = {\n  smallViewport: React.PropTypes.bool\n};\n\nmodule.exports = SearchSummary;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlYXJjaC1zdW1tYXJ5LmpzIl0sIm5hbWVzIjpbIlJlYWN0IiwicmVxdWlyZSIsIkhlbG1ldCIsIkxpbmsiLCJEZWNvcmF0ZSIsIkFnZ3JlZ2F0aW9ucyIsInNlYXJjaExhbmd1YWdlTWFwIiwiU2VhcmNoU3VtbWFyeSIsImNyZWF0ZUNsYXNzIiwicmVuZGVyIiwic2VhcmNoIiwicHJvcHMiLCJoaXRzIiwicmVzdWx0cyIsInNob3dBZ2dzIiwidG9nZ2xlQWdncyIsImxlbmd0aCIsImZpbHRlcnMiLCJjdXJzb3IiLCJzaG93aW5nQWxsIiwidG90YWwiLCJtYXhSZXN1bHRzIiwic21hbGxWaWV3cG9ydCIsImNvbnRleHQiLCJ0b29sYmFyQ2xhc3NlcyIsInByZXR0eSIsInF1ZXJ5IiwiZmlsdGVyIiwic3RyaW5nIiwiam9pbiIsInNvcnQiLCJodW1hbml6ZVNuYWtlQ2FzZSIsInMiLCJyZXBsYWNlIiwiXyIsIngiLCJ0b1VwcGVyQ2FzZSIsInRyaW0iLCJjaGlsZHJlbiIsInRvZ2dsZUNvbnRlbnQiLCJkZWNvZGVVUklDb21wb25lbnQiLCJ0ZXJtcyIsInNwbGF0Iiwic2hvd01vcmVMaW5rIiwiZW1iZWQiLCJoYW5kbGVDYW5jZWxFbWJlZCIsInBhcmFtcyIsInNlYXJjaFN0cmluZyIsInByb3BlcnR5IiwiY29udGVudCIsImNvbnRleHRUeXBlcyIsIlByb3BUeXBlcyIsImJvb2wiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7QUFDQSxJQUFJQyxTQUFTRCxRQUFRLGNBQVIsQ0FBYjs7ZUFDZUEsUUFBUSxjQUFSLEM7SUFBVEUsSSxZQUFBQSxJOztBQUVOLElBQUlDLFdBQVdILFFBQVEsWUFBUixDQUFmO0FBQ0EsSUFBSUksZUFBZUosUUFBUSxnQkFBUixDQUFuQjtBQUNBLElBQUlLLG9CQUFvQkwsUUFBUSxtQkFBUixDQUF4Qjs7QUFFQSxJQUFNTSxnQkFBZ0JQLE1BQU1RLFdB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LFNBQUtKLEtBQUwsQ0FBV0ksVUFBWDtBQUNEO0FBL0VxQyxDQUFsQixDQUF0QjtBQWlGQVIsY0FBYzJDLFlBQWQsR0FBNkI7QUFDM0I1QixpQkFBZXRCLE1BQU1tRCxTQUFOLENBQWdCQztBQURKLENBQTdCOztBQUlBQyxPQUFPQyxPQUFQLEdBQWlCL0MsYUFBakIiLCJmaWxlIjoic2VhcmNoLXN1bW1hcnkuanMiLCJzb3VyY2VSb290IjoiL3Zhci93d3cvYXJ0L3NyYyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxudmFyIHsgTGluayB9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcblxudmFyIERlY29yYXRlID0gcmVxdWlyZSgnLi9kZWNvcmF0ZScpXG52YXIgQWdncmVnYXRpb25zID0gcmVxdWlyZSgnLi9hZ2dyZWdhdGlvbnMnKVxudmFyIHNlYXJjaExhbmd1YWdlTWFwID0gcmVxdWlyZSgnLi9zZWFyY2gtbGFuZ3VhZ2UnKVxuXG5jb25zdCBTZWFyY2hTdW1tYXJ5ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgY29uc3Qgc2VhcmNoID0gdGhpcy5wcm9wcy5zZWFyY2hcbiAgICBpZighc2VhcmNoIHx8ICFzZWFyY2guaGl0cykgcmV0dXJuIDxkaXYgLz5cbiAgICBjb25zdCBoaXRzID0gdGhpcy5wcm9wcy5oaXRzXG4gICAgY29uc3QgcmVzdWx0cyA9IHRoaXMucHJvcHMucmVzdWx0c1xuICAgIGNvbnN0IHtzaG93QWdnc30gPSB0aGlzLnByb3BzXG5cbiAgICAvLyBvbmx5IGFsbG93IG9wZW5pbmcgdGhlIGZpbHRlcnMgYm94IHdoZW5cbiAgICAvLyAxLiB0aGVyZSdzIG1vcmUgdGhhbiAxIHJlc3VsdFxuICAgIC8vIDIuIHRoZXJlIGFyZSBmaWx0ZXJzIGFwcGxpZWQgdGhhdCBjb3VsZCBiZSByZWR1Y2luZyB0aGUgcmVzdWx0cyB0byAwXG4gICAgY29uc3QgdG9nZ2xlQWdncyA9IChoaXRzICYmIGhpdHMubGVuZ3RoID4gMSB8fCBzZWFyY2guZmlsdGVycyAmJiBzZWFyY2guZmlsdGVycy5sZW5ndGggPiAwKSAmJiA8c3BhbiBjbGFzc05hbWU9XCJmaWx0ZXItYnV0dG9uXCI+XG4gICAgICA8YSBvbkNsaWNrPXt0aGlzLnRvZ2dsZUFnZ3N9IHN0eWxlPXt7Y3Vyc29yOiAncG9pbnRlcid9fT57c2hvd0FnZ3MgPyAnaGlkZScgOiAnYWR2YW5jZWQnfTwvYT5cbiAgICA8L3NwYW4+XG5cbiAgICBjb25zdCBzaG93aW5nQWxsID0gaGl0cy5sZW5ndGggPj0gc2VhcmNoLmhpdHMudG90YWwgfHwgaGl0cy5sZW5ndGggPj0gdGhpcy5wcm9wcy5tYXhSZXN1bHRzXG5cbiAgICB2YXIge3NtYWxsVmlld3BvcnR9ID0gdGhpcy5jb250ZXh0XG4gICAgdmFyIHRvb2xiYXJDbGFzc2VzID0gXCJzdW1tYXJ5VGV4dCBtZGwtY2VsbCBcIiArIChzbWFsbFZpZXdwb3J0ID9cbiAgICAgIFwibWRsLWNlbGwtLTQtY29sXCIgOlxuICAgICAgXCJtZGwtY2VsbC0tOC1jb2wgbWRsLWNlbGwtLTQtY29sLXRhYmxldFwiKVxuXG4gICAgdmFyIHByZXR0eSA9IHtcbiAgICAgIHF1ZXJ5OiBzZWFyY2hMYW5ndWFnZU1hcChzZWFyY2gucXVlcnkpLFxuICAgICAgZmlsdGVyczogc2VhcmNoTGFuZ3VhZ2VNYXAoc2VhcmNoLmZpbHRlcnMpLFxuICAgIH1cbiAgICBwcmV0dHlbJ3NlYXJjaFN0cmluZyddID0gW3ByZXR0eS5xdWVyeSwgcHJldHR5LmZpbHRlcnNdXG4gICAgICAuZmlsdGVyKHN0cmluZyA9PiAhIXN0cmluZyAmJiBzdHJpbmcgIT09ICcqJyAmJiBzdHJpbmcgIT09ICd1bmRlZmluZWQnKVxuICAgICAgLmpvaW4oJywgJylcblxuICAgIHZhciB7c29ydH0gPSB0aGlzLnByb3BzLnF1ZXJ5XG4gICAgdmFyIGh1bWFuaXplU25ha2VDYXNlID0gKHMpID0+IGBfJHtzfWBcbiAgICAgIC5yZXBsYWNlKC9fKC4/KS9nLCAoXywgeCkgPT4gYCAke3gudG9VcHBlckNhc2UoKX1gKS50cmltKClcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nYWdnLXdyYXAnPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvb2xiYXIgbWRsLWdyaWRcIj5cbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXt0b29sYmFyQ2xhc3Nlc30+PGgyIG9uQ2xpY2s9e3RoaXMudG9nZ2xlQ29udGVudH0+XG4gICAgICAgICAgc2hvd2luZyB7aGl0cy5sZW5ndGh9IHsnICd9XG4gICAgICAgICAge3Nob3dpbmdBbGwgfHwgPHNwYW4+b2Yge3NlYXJjaC5oaXRzLnRvdGFsfSB7JyAnfTwvc3Bhbj59XG4gICAgICAgICAgcmVzdWx0cyB7cHJldHR5LnF1ZXJ5ICYmIDxzcGFuPm1hdGNoaW5nIDxjb2RlPntwcmV0dHkucXVlcnl9PC9jb2RlPjwvc3Bhbj59XG4gICAgICAgICAge3NlYXJjaC5maWx0ZXJzICYmIDxzcGFuPlxuICAgICAgICAgICAgeycgJ31hbmQgPGNvZGU+e2RlY29kZVVSSUNvbXBvbmVudChwcmV0dHkuZmlsdGVycyl9PC9jb2RlPlxuICAgICAgICAgICAgeycgJ30oPExpbmsgdG89J3NlYXJjaFJlc3VsdHMnXG4gICAgICAgICAgICAgIHF1ZXJ5PXtzZWFyY2gucXVlcnl9XG4gICAgICAgICAgICAgIHBhcmFtcz17e3Rlcm1zOiBgJHtzZWFyY2gucXVlcnl9YCwgc3BsYXQ6ICcnfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICBjbGVhciBmaWx0ZXJzXG4gICAgICAgICAgICA8L0xpbms+KVxuICAgICAgICAgIDwvc3Bhbj59XG4gICAgICAgICAge3NvcnQgJiYgPHNwYW4+IHNvcnRlZCBieSB7aHVtYW5pemVTbmFrZUNhc2Uoc29ydC5yZXBsYWNlKC8oLXxcXC4pLiovLCAnJykpfTwvc3Bhbj59XG4gICAgICAgICAge3Nob3dpbmdBbGwgfHwgdGhpcy5wcm9wcy5zaG93TW9yZUxpbmt9XG4gICAgICAgICAge3RoaXMucHJvcHMuZW1iZWQgJiYgPHNwYW4+ICg8YSBocmVmPVwiI1wiIG9uQ2xpY2s9e3RoaXMucHJvcHMuaGFuZGxlQ2FuY2VsRW1iZWR9PnNob3cgc2VhcmNoPC9hPik8L3NwYW4+fVxuICAgICAgICA8L2gyPlxuICAgICAgPC9kaXY+XG4gICAgICAgIHshdGhpcy5wcm9wcy5lbWJlZCAmJiA8ZGl2IGNsYXNzTmFtZT1cIm1kbC1jZWxsIG1kbC1jZWxsLS0yLWNvbFwiPnt0b2dnbGVBZ2dzfTwvZGl2Pn1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAge3Nob3dBZ2dzICYmIDxBZ2dyZWdhdGlvbnMgc2VhcmNoPXtzZWFyY2h9IHsuLi50aGlzLnByb3BzfSAvPn1cbiAgICAgICAgPERlY29yYXRlXG4gICAgICAgICAgc2VhcmNoPXtzZWFyY2h9XG4gICAgICAgICAgcGFyYW1zPXt0aGlzLnByb3BzLnBhcmFtc31cbiAgICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgLz5cbiAgICAgICAge2ZhbHNlICYmIDxDbG9zZWRCYW5uZXIgLz59XG4gICAgICAgIDxIZWxtZXRcbiAgICAgICAgICB0aXRsZT17YPCflI4gJHtwcmV0dHkuc2VhcmNoU3RyaW5nfWB9XG4gICAgICAgICAgbWV0YT17W1xuICAgICAgICAgICAge3Byb3BlcnR5OiBcInJvYm90c1wiLCBjb250ZW50OiBcIm5vaW5kZXhcIn0sXG4gICAgICAgICAgICB7cHJvcGVydHk6IFwib2c6dGl0bGVcIiwgY29udGVudDogYCR7cHJldHR5LnNlYXJjaFN0cmluZ30gfCBNaW5uZWFwb2xpcyBJbnN0aXR1dGUgb2YgQXJ0YH0sXG4gICAgICAgICAgXX1cbiAgICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9LFxuXG4gIHRvZ2dsZUFnZ3MoKSB7XG4gICAgdGhpcy5wcm9wcy50b2dnbGVBZ2dzKClcbiAgfSxcbn0pXG5TZWFyY2hTdW1tYXJ5LmNvbnRleHRUeXBlcyA9IHtcbiAgc21hbGxWaWV3cG9ydDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG59XG5cbm1vZHVsZS5leHBvcnRzID0gU2VhcmNoU3VtbWFyeVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "search-summary.js"
      ],
      "names": [
        "React",
        "require",
        "Helmet",
        "Link",
        "Decorate",
        "Aggregations",
        "searchLanguageMap",
        "SearchSummary",
        "createClass",
        "render",
        "search",
        "props",
        "hits",
        "results",
        "showAggs",
        "toggleAggs",
        "length",
        "filters",
        "cursor",
        "showingAll",
        "total",
        "maxResults",
        "smallViewport",
        "context",
        "toolbarClasses",
        "pretty",
        "query",
        "filter",
        "string",
        "join",
        "sort",
        "humanizeSnakeCase",
        "s",
        "replace",
        "_",
        "x",
        "toUpperCase",
        "trim",
        "children",
        "toggleContent",
        "decodeURIComponent",
        "terms",
        "splat",
        "showMoreLink",
        "embed",
        "handleCancelEmbed",
        "params",
        "searchString",
        "property",
        "content",
        "contextTypes",
        "PropTypes",
        "bool",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "search-summary.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar Helmet = require('react-helmet')\nvar { Link } = require('react-router')\n\nvar Decorate = require('./decorate')\nvar Aggregations = require('./aggregations')\nvar searchLanguageMap = require('./search-language')\n\nconst SearchSummary = React.createClass({\n  render() {\n    const search = this.props.search\n    if(!search || !search.hits) return <div />\n    const hits = this.props.hits\n    const results = this.props.results\n    const {showAggs} = this.props\n\n    // only allow opening the filters box when\n    // 1. there's more than 1 result\n    // 2. there are filters applied that could be reducing the results to 0\n    const toggleAggs = (hits && hits.length > 1 || search.filters && search.filters.length > 0) && <span className=\"filter-button\">\n      <a onClick={this.toggleAggs} style={{cursor: 'pointer'}}>{showAggs ? 'hide' : 'advanced'}</a>\n    </span>\n\n    const showingAll = hits.length >= search.hits.total || hits.length >= this.props.maxResults\n\n    var {smallViewport} = this.context\n    var toolbarClasses = \"summaryText mdl-cell \" + (smallViewport ?\n      \"mdl-cell--4-col\" :\n      \"mdl-cell--8-col mdl-cell--4-col-tablet\")\n\n    var pretty = {\n      query: searchLanguageMap(search.query),\n      filters: searchLanguageMap(search.filters),\n    }\n    pretty['searchString'] = [pretty.query, pretty.filters]\n      .filter(string => !!string && string !== '*' && string !== 'undefined')\n      .join(', ')\n\n    var {sort} = this.props.query\n    var humanizeSnakeCase = (s) => `_${s}`\n      .replace(/_(.?)/g, (_, x) => ` ${x.toUpperCase()}`).trim()\n\n    return (\n      <div className='agg-wrap'>\n        <div className=\"toolbar mdl-grid\">\n        {this.props.children}\n        <div className={toolbarClasses}><h2 onClick={this.toggleContent}>\n          showing {hits.length} {' '}\n          {showingAll || <span>of {search.hits.total} {' '}</span>}\n          results {pretty.query && <span>matching <code>{pretty.query}</code></span>}\n          {search.filters && <span>\n            {' '}and <code>{decodeURIComponent(pretty.filters)}</code>\n            {' '}(<Link to='searchResults'\n              query={search.query}\n              params={{terms: `${search.query}`, splat: ''}}\n            >\n             clear filters\n            </Link>)\n          </span>}\n          {sort && <span> sorted by {humanizeSnakeCase(sort.replace(/(-|\\.).*/, ''))}</span>}\n          {showingAll || this.props.showMoreLink}\n          {this.props.embed && <span> (<a href=\"#\" onClick={this.props.handleCancelEmbed}>show search</a>)</span>}\n        </h2>\n      </div>\n        {!this.props.embed && <div className=\"mdl-cell mdl-cell--2-col\">{toggleAggs}</div>}\n        </div>\n\n        {showAggs && <Aggregations search={search} {...this.props} />}\n        <Decorate\n          search={search}\n          params={this.props.params}\n          {...this.props}\n        />\n        {false && <ClosedBanner />}\n        <Helmet\n          title={`🔎 ${pretty.searchString}`}\n          meta={[\n            {property: \"robots\", content: \"noindex\"},\n            {property: \"og:title\", content: `${pretty.searchString} | Minneapolis Institute of Art`},\n          ]}\n          />\n      </div>\n    )\n  },\n\n  toggleAggs() {\n    this.props.toggleAggs()\n  },\n})\nSearchSummary.contextTypes = {\n  smallViewport: React.PropTypes.bool,\n}\n\nmodule.exports = SearchSummary\n"
      ]
    },
    "mtime": 1612393616752
  },
  "{\"filename\":\"/var/www/art/src/decorate.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "extends",
        "defineProperty"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/decorate.js",
      "filenameRelative": "/var/www/art/src/decorate.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "decorate.js",
      "sourceFileName": "decorate.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "decorate"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/** @format */\nvar React = require('react');\nvar cx = require('classnames');\nvar R = require('ramda');\n\nvar Markdown = require('./markdown');\n\nvar DepartmentDecorator = require('./decorate/department');\nvar GalleryDecorator = require('./decorate/gallery');\nvar HighlightsDecorator = require('./decorate/highlights');\nvar RecentDecorator = require('./decorate/recent');\nvar RightsDecorator = require('./decorate/rights');\nvar AudioDecorator = require('./decorate/audio');\nvar NumberDecorator = require('./decorate/number');\nvar ArtistDecorator = require('./decorate/artist');\nvar InfoDecorator = require('./decorate/info');\nvar InspiredByMiaDecorator = require('./decorate/pseudo-artwork');\n\nvar Decorate = React.createClass({\n  displayName: 'Decorate',\n  render: function render() {\n    var _this = this;\n\n    var _props$search = this.props.search,\n        query = _props$search.query,\n        filters = _props$search.filters;\n\n    if (!query && !filters) return React.createElement('span', null);\n    var decorations = DecorationFinder(query, filters, this.props, this.removeDecorator);\n    var _state = this.state,\n        _showDecs = _state.showDecorators,\n        showByName = _state.showByName,\n        removedDecorators = _state.removedDecorators;\n\n\n    var decTabControls = React.createElement(\n      'span',\n      { style: { color: 'white' } },\n      decorations.map(function (d) {\n        var decoratorName = d && d.type.displayName;\n        var humanName = decoratorName.replace('Decorator', '').replace(/([A-Z])/g, function (word) {\n          return ' ' + word.toUpperCase();\n        }).trim();\n        var activeOrNotStyle = showByName[decoratorName] ? { border: '1px solid gold' } : {};\n        var isRemoved = removedDecorators[decoratorName];\n\n        return isRemoved ? React.createElement('span', null) : React.createElement(\n          'button',\n          { onClick: _this.toggleDecoration, style: activeOrNotStyle },\n          humanName\n        );\n      })\n    );\n\n    var decsToShow = decorations.filter(function (d) {\n      var decoratorName = d && d.type.displayName;\n      return showByName[decoratorName];\n    });\n    var showDecorators = decsToShow && decsToShow.length > 0 && _showDecs;\n\n    var toggleDecsControl = React.createElement(\n      'i',\n      { className: 'control material-icons', onClick: this.toggleDecoration },\n      false && 'expand_' + (showDecorators ? 'less' : 'more'),\n      showDecorators ? 'close' : 'info'\n    );\n\n    var decNames = decorations.map(function (d) {\n      return d.type.displayName;\n    });\n    var allHidden = decorations && removedDecorators && JSON.stringify(decNames) == JSON.stringify(Object.keys(removedDecorators));\n\n    return decorations.length > 0 && !allHidden && React.createElement(\n      'div',\n      {\n        className: cx('decorator-wrap', { closed: !showDecorators }),\n        onClick: !showDecorators && this.toggleDecoration\n      },\n      React.createElement(\n        'span',\n        { style: { alignSelf: 'start' } },\n        toggleDecsControl,\n        decTabControls\n      ),\n      showDecorators ? decsToShow : React.createElement('span', null),\n      showDecorators && toggleDecsControl\n    );\n  },\n  getInitialState: function getInitialState(_props) {\n    var props = _props || this.props;\n    var _props$search2 = props.search,\n        query = _props$search2.query,\n        filters = _props$search2.filters;\n\n    var decorations = DecorationFinder(query, filters, props, this.removeDecorator.bind(this));\n    var decNames = decorations.map(function (d) {\n      return d.type.displayName;\n    });\n\n    var showDecorations = !this.context.smallViewport;\n    var audioDecoratorMatches = void 0;\n    var artistDecoratorMatches = void 0;\n    var infoDecoratorMatches = void 0;\n    var pseudoDecoratorMatches = void 0;\n    // Always show audio decorator.\n    // Otherwise, show the first decorator matched when viewed on a desktop,\n    // and collapse bar by default when on mobile to conserve space.\n    var showByName = decorations.reduce(function (map, d, index) {\n      var decName = d.type.displayName;\n      audioDecoratorMatches = audioDecoratorMatches || decName === 'AudioDecorator';\n      artistDecoratorMatches = artistDecoratorMatches || decName === 'ArtistDecorator';\n      infoDecoratorMatches = infoDecoratorMatches || decName === 'InfoDecorator';\n      // uncomment this to re-enable the InspiredBy decorator opening automatically by default\n      // pseudoDecoratorMatches =\n      //  pseudoDecoratorMatches || decName === 'InspiredByMiaDecorator'\n\n      map[decName] = decName === 'InfoDecorator' || decName === 'InspiredByMiaDecorator' && (query && query.match(/_exists_:\"related:inspiredByMia\"/) || filters && filters.match(/_exists_:\"related:inspiredByMia\"/));\n      decName === 'ArtistDecorator' || decName === 'AudioDecorator' && !!query.match(/^\\d+$/);\n\n      return map;\n    }, {});\n\n    var showDecorators = !this.context.smallViewport || artistDecoratorMatches || audioDecoratorMatches || infoDecoratorMatches;\n\n    var s = {\n      decorations: decorations,\n      showDecorators: showDecorators,\n      showByName: showByName,\n      removedDecorators: {}\n    };\n    return s;\n  },\n  toggleDecoration: function toggleDecoration(event) {\n    var _this2 = this;\n\n    event.preventDefault();\n    event.stopPropagation();\n    var target = event.target;\n\n    var decoratorToToggle = this.state.decorations.find(function (d) {\n      return d.type.displayName === target.innerText + 'Decorator';\n    });\n\n    // if decorator bar is minimized and the clicked decorator is already 'on',\n    // maximize it instead of toggling the clicked decorator in the minimized bar\n    this.setState(function (prevState) {\n      var decToggleName = decoratorToToggle && decoratorToToggle.type.displayName;\n      var nextShowByName = _extends({}, prevState.showByName, decoratorToToggle ? _defineProperty({}, decToggleName, !prevState.showDecorators || !prevState.showByName[decToggleName]) : {});\n\n      var openCount = R.compose(R.length, R.toPairs, R.filter(R.identity))(nextShowByName);\n\n      // If no specific decorator is open and the bar is clicked, select the first to be open\n      var openDefault = !decoratorToToggle && openCount === 0 ? _defineProperty({}, _this2.state.decorations[0].type.displayName, true) : {};\n\n      return {\n        showByName: _extends({}, nextShowByName, openDefault),\n        showDecorators: !decoratorToToggle ? !prevState.showDecorators : openCount !== 0\n      };\n    });\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    // update decorators when query changes\n    var _props$search3 = this.props.search,\n        query = _props$search3.query,\n        filters = _props$search3.filters;\n\n    var nextQuery = nextProps.search.query;\n    var nextFilters = nextProps.search.filters;\n\n    if (query !== nextQuery || filters !== nextFilters) {\n      this.setState(this.getInitialState(nextProps));\n    }\n  },\n\n\n  // Provide this to subcomponent decorators so each decorator can\n  // remove itself from the list e.g. when making an API call\n  // and finding no results\n  removeDecorator: function removeDecorator(decoratorName) {\n    console.info('removeDecorator', { decoratorName: decoratorName });\n\n    this.setState({\n      showByName: _extends({}, this.state.showByName, _defineProperty({}, decoratorName, false)),\n      removedDecorators: _extends({}, this.state.removedDecorators, _defineProperty({}, decoratorName, true)),\n      showDecorators: false\n    });\n  }\n});\nDecorate.contextTypes = {\n  smallViewport: React.PropTypes.bool\n};\n\nmodule.exports = Decorate;\n\nvar DecorationFinder = function DecorationFinder(search, filters, props, removeFn) {\n  var params = props.params,\n      hits = props.hits;\n\n  var terms = search ? search.match(/\\w+.+|\"(?:\\\\\"|[^\"])+\"/g) || search.split(' ') : false;\n  if (filters) terms = terms.concat(filters.split('\" ').map(function (f) {\n    return f.trim();\n  }));\n  if (!terms) return []; // search by ids `search/ids` doesn't have any terms\n\n  // first and second result are of the same artist, indicating that this\n  // search is about that artist overall?\n  // cancel this assumption when there's a `facet: ed` query that ISNT `artist:`\n  var firstArtist = hits && hits.length > 0 && hits[0]._source.artist;\n  var nonArtistFacetedTerm = terms.find(function (t) {\n    return t.match(':') && !t.match(/artist:/i);\n  });\n  var artistRegexpName = hits && hits[1] && hits[1]._source.artist.replace('?', '');\n  var hitsFeatureSingleArtist = artistRegexpName && hits.length > 0 && (hits.length == 1 ||\n  // are the first and second artists the same, and not an empty string which\n  // breaks the regex comparison?\n  !!(firstArtist !== '' && hits[1]._source.artist.match(new RegExp(firstArtist, 'i')) || firstArtist.match(new RegExp(artistRegexpName, 'i')) && hits[1]._source.artist !== '')) && !nonArtistFacetedTerm;\n\n  var Decor = {\n    // call the artist decorator beyond just when searching for `artist:` - if the first and second hits\n    // both match the artist, show the decorator?\n    // \"artist:\": (term) => <ArtistDecorator artist={term} params={params} key={term} remove={removeFn} />,\n    '.+': function _(term) {\n      return hitsFeatureSingleArtist && React.createElement(ArtistDecorator, {\n        artist: hitsFeatureSingleArtist ? [firstArtist] : term,\n        params: params,\n        key: term,\n        remove: removeFn\n      });\n    },\n    'department:': function department(term) {\n      return React.createElement(DepartmentDecorator, { department: term, params: params, key: term });\n    },\n    'g[0-9]{3}a?': function g093A(gallery) {\n      return React.createElement(GalleryDecorator, _extends({ gallery: gallery[0] }, props, { key: gallery }));\n    },\n    'Not on View': function NotOnView(gallery) {\n      return React.createElement(GalleryDecorator, { notOnView: true, key: gallery });\n    },\n    'highlight:': function highlight() {\n      return React.createElement(HighlightsDecorator, { key: 'highlight' });\n    },\n    'recent:': function recent() {\n      return React.createElement(RecentDecorator, { key: 'recent' });\n    },\n    'rights_type:': function rights_type(term) {\n      return React.createElement(RightsDecorator, { term: term, params: params, key: term });\n    },\n    'black|african.?american|list:bhm': function blackAfricanAmericanListBhm(term) {\n      return React.createElement(InfoDecorator, { term: term, params: params, key: term });\n    },\n    '.*': function _(term) {\n      // TODO how to handle multiple decorators keyed by one `term` match?\n      // Artist is above, and there are two I want to trigger from this block…\n      // …Should be a way to have one block\n      // in this array enable more than a single decorator?\n      // return multiple and `concat`/`flat` them?\n      var decorators = [];\n\n      var hitsHaveInspiredContent = hits.filter(function (hit) {\n        return hit._source['related:inspiredByMia'];\n      }).length > 0;\n      if (hitsHaveInspiredContent) {\n        decorators.push(React.createElement(InspiredByMiaDecorator, _extends({\n          term: term,\n          params: params,\n          key: term + '-inspired'\n        }, props)));\n      }\n\n      var hitsHaveAudioContent = hits.filter(function (hit) {\n        return hit._source['related:audio-stops'];\n      }).length > 0;\n      if (hitsHaveAudioContent) {\n        // [1]\n        decorators.push(React.createElement(AudioDecorator, _extends({\n          term: term,\n          params: params,\n          key: term + '-audio'\n        }, props)));\n      }\n\n      return decorators;\n    }\n  };\n\n  // [1] Here we 'gate' a decorator with certain conditions - it will only show when\n  // there are hits with audio stops.\n  // TODO it would be nice if the decorator itself could define the conditions\n  // under which is should display\n  // for ArtistDecorator I came up with the idea of the decorator rendering, doing it's stuff,\n  // and from there deciding if \"what it did\" means anything. If not, the decorator is provided\n  // with a `removeDecorator` prop which it can use to 'turn itself off'… Not ideal but OK\n\n  var m = Object.keys(Decor).reduce(function (matches, d) {\n    var _m = terms.filter(function (term) {\n      return term.match(new RegExp(d, 'i'));\n    });\n    if (_m.length > 0) matches[d] = _m;\n    return matches;\n  }, {});\n\n  return Object.keys(m).map(function (key) {\n    var decorators = Decor[key](m[key]);\n\n    return decorators;\n  })\n  // .flat() too new! need to upgrade node version on deployment server\n  .reduce(function (acc, val) {\n    return acc.concat(val);\n  }, []).filter(function (component) {\n    return component;\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlY29yYXRlLmpzIl0sIm5hbWVzIjpbIlJlYWN0IiwicmVxdWlyZSIsImN4IiwiUiIsIk1hcmtkb3duIiwiRGVwYXJ0bWVudERlY29yYXRvciIsIkdhbGxlcnlEZWNvcmF0b3IiLCJIaWdobGlnaHRzRGVjb3JhdG9yIiwiUmVjZW50RGVjb3JhdG9yIiwiUmlnaHRzRGVjb3JhdG9yIiwiQXVkaW9EZWNvcmF0b3IiLCJOdW1iZXJEZWNvcmF0b3IiLCJBcnRpc3REZWNvcmF0b3IiLCJJbmZvRGVjb3JhdG9yIiwiSW5zcGlyZWRCeU1pYURlY29yYXRvciIsIkRlY29yYXRlIiwiY3JlYXRlQ2xhc3MiLCJyZW5kZXIiLCJwcm9wcyIsInNlYXJjaCIsInF1ZXJ5IiwiZmlsdGVycyIsImRlY29yYXRpb25zIiwiRGVjb3JhdGlvbkZpbmRlciIsInJlbW92ZURlY29yYXRvciIsInN0YXRlIiwiX3Nob3dEZWNzIiwic2hvd0RlY29yYXRvcnMiLCJzaG93QnlOYW1lIiwicmVtb3ZlZERlY29yYXRvcnMiLCJkZWNUYWJDb250cm9scyIsImNvbG9yIiwibWFwIiwiZCIsImRlY29yYXRvck5hbWUiLCJ0eXBlIiwiZGlzcGxheU5hbWUiLCJodW1hbk5hbWUiLCJyZXBsYWNlIiwid29yZCIsInRvVXBwZXJDYXNlIiwidHJpbSIsImFjdGl2ZU9yTm90U3R5bGUiLCJib3JkZXIiLCJpc1JlbW92ZWQiLCJ0b2dnbGVEZWNvcmF0aW9uIiwiZGVjc1RvU2hvdyIsImZpbHRlciIsImxlbmd0aCIsInRvZ2dsZURlY3NDb250cm9sIiwiZGVjTmFtZXMiLCJhbGxIaWRkZW4iLCJKU09OIiwic3RyaW5naWZ5IiwiT2JqZWN0Iiwia2V5cyIsImNsb3NlZCIsImFsaWduU2VsZiIsImdldEluaXRpYWxTdGF0ZSIsIl9wcm9wcyIsImJpbmQiLCJzaG93RGVjb3JhdGlvbnMiLCJjb250ZXh0Iiwic21hbGxWaWV3cG9ydCIsImF1ZGlvRGVjb3JhdG9yTWF0Y2hlcyIsImFydGlzdERlY29yYXRvck1hdGNoZXMiLCJpbmZvRGVjb3JhdG9yTWF0Y2hlcyIsInBzZXVkb0RlY29yYXRvck1hdGNoZXMiLCJyZWR1Y2UiLCJpbmRleCIsImRlY05hbWUiLCJtYXRjaCIsInMiLCJldmVudCIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwidGFyZ2V0IiwiZGVjb3JhdG9yVG9Ub2dnbGUiLCJmaW5kIiwiaW5uZXJUZXh0Iiwic2V0U3RhdGUiLCJwcmV2U3RhdGUiLCJkZWNUb2dnbGVOYW1lIiwibmV4dFNob3dCeU5hbWUiLCJvcGVuQ291bnQiLCJjb21wb3NlIiwidG9QYWlycyIsImlkZW50aXR5Iiwib3BlbkRlZmF1bHQiLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwibmV4dFByb3BzIiwibmV4dFF1ZXJ5IiwibmV4dEZpbHRlcnMiLCJjb25zb2xlIiwiaW5mbyIsImNvbnRleHRUeXBlcyIsIlByb3BUeXBlcyIsImJvb2wiLCJtb2R1bGUiLCJleHBvcnRzIiwicmVtb3ZlRm4iLCJwYXJhbXMiLCJoaXRzIiwidGVybXMiLCJzcGxpdCIsImNvbmNhdCIsImYiLCJmaXJzdEFydGlzdCIsIl9zb3VyY2UiLCJhcnRpc3QiLCJub25BcnRpc3RGYWNldGVkVGVybSIsInQiLCJhcnRpc3RSZWdleHBOYW1lIiwiaGl0c0ZlYXR1cmVTaW5nbGVBcnRpc3QiLCJSZWdFeHAiLCJEZWNvciIsInRlcm0iLCJnYWxsZXJ5IiwiZGVjb3JhdG9ycyIsImhpdHNIYXZlSW5zcGlyZWRDb250ZW50IiwiaGl0IiwicHVzaCIsImhpdHNIYXZlQXVkaW9Db250ZW50IiwibSIsIm1hdGNoZXMiLCJfbSIsImtleSIsImFjYyIsInZhbCIsImNvbXBvbmVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQSxJQUFJQSxRQUFRQyxRQUFRLE9BQVIsQ0FBWjtBQUNBLElBQUlDLEtBQUtELFFBQVEsWUFBUixDQUFUO0FBQ0EsSUFBSUUsSUFBSUYsUUFBUSxPQUFSLENBQVI7O0FBRUEsSUFBSUcsV0FBV0gsUUFBUSxZQUFS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R0FBWSxDQUFoQixFQUFtQjRFLFFBQVEzRixDQUFSLElBQWE0RixFQUFiO0FBQ25CLFdBQU9ELE9BQVA7QUFDRCxHQUpPLEVBSUwsRUFKSyxDQUFSOztBQU1BLFNBQU90RSxPQUFPQyxJQUFQLENBQVlvRSxDQUFaLEVBQ0ozRixHQURJLENBQ0EsVUFBQzhGLEdBQUQsRUFBUztBQUNaLFFBQU1SLGFBQWFILE1BQU1XLEdBQU4sRUFBV0gsRUFBRUcsR0FBRixDQUFYLENBQW5COztBQUVBLFdBQU9SLFVBQVA7QUFDRCxHQUxJO0FBTUw7QUFOSyxHQU9KbEQsTUFQSSxDQU9HLFVBQUMyRCxHQUFELEVBQU1DLEdBQU47QUFBQSxXQUFjRCxJQUFJdEIsTUFBSixDQUFXdUIsR0FBWCxDQUFkO0FBQUEsR0FQSCxFQU9rQyxFQVBsQyxFQVFKakYsTUFSSSxDQVFHLFVBQUNrRixTQUFEO0FBQUEsV0FBZUEsU0FBZjtBQUFBLEdBUkgsQ0FBUDtBQVNELENBNUhEIiwiZmlsZSI6ImRlY29yYXRlLmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGZvcm1hdCAqL1xudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIGN4ID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpXG52YXIgUiA9IHJlcXVpcmUoJ3JhbWRhJylcblxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi9tYXJrZG93bicpXG5cbnZhciBEZXBhcnRtZW50RGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9kZXBhcnRtZW50JylcbnZhciBHYWxsZXJ5RGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9nYWxsZXJ5JylcbnZhciBIaWdobGlnaHRzRGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9oaWdobGlnaHRzJylcbnZhciBSZWNlbnREZWNvcmF0b3IgPSByZXF1aXJlKCcuL2RlY29yYXRlL3JlY2VudCcpXG52YXIgUmlnaHRzRGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9yaWdodHMnKVxudmFyIEF1ZGlvRGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9hdWRpbycpXG52YXIgTnVtYmVyRGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9udW1iZXInKVxudmFyIEFydGlzdERlY29yYXRvciA9IHJlcXVpcmUoJy4vZGVjb3JhdGUvYXJ0aXN0JylcbnZhciBJbmZvRGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9pbmZvJylcbnZhciBJbnNwaXJlZEJ5TWlhRGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9wc2V1ZG8tYXJ0d29yaycpXG5cbnZhciBEZWNvcmF0ZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7IHF1ZXJ5LCBmaWx0ZXJzIH0gPSB0aGlzLnByb3BzLnNlYXJjaFxuICAgIGlmICghcXVlcnkgJiYgIWZpbHRlcnMpIHJldHVybiA8c3BhbiAvPlxuICAgIHZhciBkZWNvcmF0aW9ucyA9IERlY29yYXRpb25GaW5kZXIoXG4gICAgICBxdWVyeSxcbiAgICAgIGZpbHRlcnMsXG4gICAgICB0aGlzLnByb3BzLFxuICAgICAgdGhpcy5yZW1vdmVEZWNvcmF0b3JcbiAgICApXG4gICAgdmFyIHtcbiAgICAgIHNob3dEZWNvcmF0b3JzOiBfc2hvd0RlY3MsXG4gICAgICBzaG93QnlOYW1lLFxuICAgICAgcmVtb3ZlZERlY29yYXRvcnMsXG4gICAgfSA9IHRoaXMuc3RhdGVcblxuICAgIGNvbnN0IGRlY1RhYkNvbnRyb2xzID0gKFxuICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6ICd3aGl0ZScgfX0+XG4gICAgICAgIHtkZWNvcmF0aW9ucy5tYXAoKGQpID0+IHtcbiAgICAgICAgICBjb25zdCBkZWNvcmF0b3JOYW1lID0gZCAmJiBkLnR5cGUuZGlzcGxheU5hbWVcbiAgICAgICAgICBjb25zdCBodW1hbk5hbWUgPSBkZWNvcmF0b3JOYW1lXG4gICAgICAgICAgICAucmVwbGFjZSgnRGVjb3JhdG9yJywgJycpXG4gICAgICAgICAgICAucmVwbGFjZSgvKFtBLVpdKS9nLCAod29yZCkgPT4gJyAnICsgd29yZC50b1VwcGVyQ2FzZSgpKVxuICAgICAgICAgICAgLnRyaW0oKVxuICAgICAgICAgIGNvbnN0IGFjdGl2ZU9yTm90U3R5bGUgPSBzaG93QnlOYW1lW2RlY29yYXRvck5hbWVdXG4gICAgICAgICAgICA/IHsgYm9yZGVyOiAnMXB4IHNvbGlkIGdvbGQnIH1cbiAgICAgICAgICAgIDoge31cbiAgICAgICAgICBjb25zdCBpc1JlbW92ZWQgPSByZW1vdmVkRGVjb3JhdG9yc1tkZWNvcmF0b3JOYW1lXVxuXG4gICAgICAgICAgcmV0dXJuIGlzUmVtb3ZlZCA/IChcbiAgICAgICAgICAgIDxzcGFuIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17dGhpcy50b2dnbGVEZWNvcmF0aW9ufSBzdHlsZT17YWN0aXZlT3JOb3RTdHlsZX0+XG4gICAgICAgICAgICAgIHtodW1hbk5hbWV9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApXG4gICAgICAgIH0pfVxuICAgICAgPC9zcGFuPlxuICAgIClcblxuICAgIGNvbnN0IGRlY3NUb1Nob3cgPSBkZWNvcmF0aW9ucy5maWx0ZXIoKGQpID0+IHtcbiAgICAgIGNvbnN0IGRlY29yYXRvck5hbWUgPSBkICYmIGQudHlwZS5kaXNwbGF5TmFtZVxuICAgICAgcmV0dXJuIHNob3dCeU5hbWVbZGVjb3JhdG9yTmFtZV1cbiAgICB9KVxuICAgIGNvbnN0IHNob3dEZWNvcmF0b3JzID0gZGVjc1RvU2hvdyAmJiBkZWNzVG9TaG93Lmxlbmd0aCA+IDAgJiYgX3Nob3dEZWNzXG5cbiAgICBjb25zdCB0b2dnbGVEZWNzQ29udHJvbCA9IChcbiAgICAgIDxpIGNsYXNzTmFtZT1cImNvbnRyb2wgbWF0ZXJpYWwtaWNvbnNcIiBvbkNsaWNrPXt0aGlzLnRvZ2dsZURlY29yYXRpb259PlxuICAgICAgICB7ZmFsc2UgJiYgJ2V4cGFuZF8nICsgKHNob3dEZWNvcmF0b3JzID8gJ2xlc3MnIDogJ21vcmUnKX1cbiAgICAgICAge3Nob3dEZWNvcmF0b3JzID8gJ2Nsb3NlJyA6ICdpbmZvJ31cbiAgICAgIDwvaT5cbiAgICApXG5cbiAgICBjb25zdCBkZWNOYW1lcyA9IGRlY29yYXRpb25zLm1hcCgoZCkgPT4gZC50eXBlLmRpc3BsYXlOYW1lKVxuICAgIGNvbnN0IGFsbEhpZGRlbiA9XG4gICAgICBkZWNvcmF0aW9ucyAmJlxuICAgICAgcmVtb3ZlZERlY29yYXRvcnMgJiZcbiAgICAgIEpTT04uc3RyaW5naWZ5KGRlY05hbWVzKSA9PSBKU09OLnN0cmluZ2lmeShPYmplY3Qua2V5cyhyZW1vdmVkRGVjb3JhdG9ycykpXG5cbiAgICByZXR1cm4gKFxuICAgICAgZGVjb3JhdGlvbnMubGVuZ3RoID4gMCAmJlxuICAgICAgIWFsbEhpZGRlbiAmJiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e2N4KCdkZWNvcmF0b3Itd3JhcCcsIHsgY2xvc2VkOiAhc2hvd0RlY29yYXRvcnMgfSl9XG4gICAgICAgICAgb25DbGljaz17IXNob3dEZWNvcmF0b3JzICYmIHRoaXMudG9nZ2xlRGVjb3JhdGlvbn1cbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGFsaWduU2VsZjogJ3N0YXJ0JyB9fT5cbiAgICAgICAgICAgIHt0b2dnbGVEZWNzQ29udHJvbH1cbiAgICAgICAgICAgIHtkZWNUYWJDb250cm9sc31cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge3Nob3dEZWNvcmF0b3JzID8gZGVjc1RvU2hvdyA6IDxzcGFuIC8+fVxuICAgICAgICAgIHtzaG93RGVjb3JhdG9ycyAmJiB0b2dnbGVEZWNzQ29udHJvbH1cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgKVxuICB9LFxuXG4gIGdldEluaXRpYWxTdGF0ZShfcHJvcHMpIHtcbiAgICBjb25zdCBwcm9wcyA9IF9wcm9wcyB8fCB0aGlzLnByb3BzXG4gICAgdmFyIHsgcXVlcnksIGZpbHRlcnMgfSA9IHByb3BzLnNlYXJjaFxuICAgIHZhciBkZWNvcmF0aW9ucyA9IERlY29yYXRpb25GaW5kZXIoXG4gICAgICBxdWVyeSxcbiAgICAgIGZpbHRlcnMsXG4gICAgICBwcm9wcyxcbiAgICAgIHRoaXMucmVtb3ZlRGVjb3JhdG9yLmJpbmQodGhpcylcbiAgICApXG4gICAgY29uc3QgZGVjTmFtZXMgPSBkZWNvcmF0aW9ucy5tYXAoKGQpID0+IGQudHlwZS5kaXNwbGF5TmFtZSlcblxuICAgIHZhciBzaG93RGVjb3JhdGlvbnMgPSAhdGhpcy5jb250ZXh0LnNtYWxsVmlld3BvcnRcbiAgICBsZXQgYXVkaW9EZWNvcmF0b3JNYXRjaGVzXG4gICAgbGV0IGFydGlzdERlY29yYXRvck1hdGNoZXNcbiAgICBsZXQgaW5mb0RlY29yYXRvck1hdGNoZXNcbiAgICBsZXQgcHNldWRvRGVjb3JhdG9yTWF0Y2hlc1xuICAgIC8vIEFsd2F5cyBzaG93IGF1ZGlvIGRlY29yYXRvci5cbiAgICAvLyBPdGhlcndpc2UsIHNob3cgdGhlIGZpcnN0IGRlY29yYXRvciBtYXRjaGVkIHdoZW4gdmlld2VkIG9uIGEgZGVza3RvcCxcbiAgICAvLyBhbmQgY29sbGFwc2UgYmFyIGJ5IGRlZmF1bHQgd2hlbiBvbiBtb2JpbGUgdG8gY29uc2VydmUgc3BhY2UuXG4gICAgY29uc3Qgc2hvd0J5TmFtZSA9IGRlY29yYXRpb25zLnJlZHVjZSgobWFwLCBkLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgZGVjTmFtZSA9IGQudHlwZS5kaXNwbGF5TmFtZVxuICAgICAgYXVkaW9EZWNvcmF0b3JNYXRjaGVzID1cbiAgICAgICAgYXVkaW9EZWNvcmF0b3JNYXRjaGVzIHx8IGRlY05hbWUgPT09ICdBdWRpb0RlY29yYXRvcidcbiAgICAgIGFydGlzdERlY29yYXRvck1hdGNoZXMgPVxuICAgICAgICBhcnRpc3REZWNvcmF0b3JNYXRjaGVzIHx8IGRlY05hbWUgPT09ICdBcnRpc3REZWNvcmF0b3InXG4gICAgICBpbmZvRGVjb3JhdG9yTWF0Y2hlcyA9IGluZm9EZWNvcmF0b3JNYXRjaGVzIHx8IGRlY05hbWUgPT09ICdJbmZvRGVjb3JhdG9yJ1xuICAgICAgLy8gdW5jb21tZW50IHRoaXMgdG8gcmUtZW5hYmxlIHRoZSBJbnNwaXJlZEJ5IGRlY29yYXRvciBvcGVuaW5nIGF1dG9tYXRpY2FsbHkgYnkgZGVmYXVsdFxuICAgICAgLy8gcHNldWRvRGVjb3JhdG9yTWF0Y2hlcyA9XG4gICAgICAvLyAgcHNldWRvRGVjb3JhdG9yTWF0Y2hlcyB8fCBkZWNOYW1lID09PSAnSW5zcGlyZWRCeU1pYURlY29yYXRvcidcblxuICAgICAgbWFwW2RlY05hbWVdID1cbiAgICAgICAgZGVjTmFtZSA9PT0gJ0luZm9EZWNvcmF0b3InIHx8XG4gICAgICAgIChkZWNOYW1lID09PSAnSW5zcGlyZWRCeU1pYURlY29yYXRvcicgJiZcbiAgICAgICAgICAocXVlcnkgJiYgcXVlcnkubWF0Y2goL19leGlzdHNfOlwicmVsYXRlZDppbnNwaXJlZEJ5TWlhXCIvKSB8fCBmaWx0ZXJzICYmIGZpbHRlcnMubWF0Y2goL19leGlzdHNfOlwicmVsYXRlZDppbnNwaXJlZEJ5TWlhXCIvKSkpXG4gICAgICAgIGRlY05hbWUgPT09ICdBcnRpc3REZWNvcmF0b3InIHx8XG4gICAgICAgIChkZWNOYW1lID09PSAnQXVkaW9EZWNvcmF0b3InICYmICEhcXVlcnkubWF0Y2goL15cXGQrJC8pKVxuXG4gICAgICByZXR1cm4gbWFwXG4gICAgfSwge30pXG5cbiAgICB2YXIgc2hvd0RlY29yYXRvcnMgPVxuICAgICAgIXRoaXMuY29udGV4dC5zbWFsbFZpZXdwb3J0IHx8XG4gICAgICBhcnRpc3REZWNvcmF0b3JNYXRjaGVzIHx8XG4gICAgICBhdWRpb0RlY29yYXRvck1hdGNoZXMgfHxcbiAgICAgIGluZm9EZWNvcmF0b3JNYXRjaGVzXG5cbiAgICB2YXIgcyA9IHtcbiAgICAgIGRlY29yYXRpb25zLFxuICAgICAgc2hvd0RlY29yYXRvcnMsXG4gICAgICBzaG93QnlOYW1lLFxuICAgICAgcmVtb3ZlZERlY29yYXRvcnM6IHt9LFxuICAgIH1cbiAgICByZXR1cm4gc1xuICB9LFxuXG4gIHRvZ2dsZURlY29yYXRpb24oZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBjb25zdCB7IHRhcmdldCB9ID0gZXZlbnRcbiAgICBjb25zdCBkZWNvcmF0b3JUb1RvZ2dsZSA9IHRoaXMuc3RhdGUuZGVjb3JhdGlvbnMuZmluZChcbiAgICAgIChkKSA9PiBkLnR5cGUuZGlzcGxheU5hbWUgPT09IHRhcmdldC5pbm5lclRleHQgKyAnRGVjb3JhdG9yJ1xuICAgIClcblxuICAgIC8vIGlmIGRlY29yYXRvciBiYXIgaXMgbWluaW1pemVkIGFuZCB0aGUgY2xpY2tlZCBkZWNvcmF0b3IgaXMgYWxyZWFkeSAnb24nLFxuICAgIC8vIG1heGltaXplIGl0IGluc3RlYWQgb2YgdG9nZ2xpbmcgdGhlIGNsaWNrZWQgZGVjb3JhdG9yIGluIHRoZSBtaW5pbWl6ZWQgYmFyXG4gICAgdGhpcy5zZXRTdGF0ZSgocHJldlN0YXRlKSA9PiB7XG4gICAgICBjb25zdCBkZWNUb2dnbGVOYW1lID1cbiAgICAgICAgZGVjb3JhdG9yVG9Ub2dnbGUgJiYgZGVjb3JhdG9yVG9Ub2dnbGUudHlwZS5kaXNwbGF5TmFtZVxuICAgICAgY29uc3QgbmV4dFNob3dCeU5hbWUgPSB7XG4gICAgICAgIC4uLnByZXZTdGF0ZS5zaG93QnlOYW1lLFxuICAgICAgICAuLi4oZGVjb3JhdG9yVG9Ub2dnbGVcbiAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgW2RlY1RvZ2dsZU5hbWVdOlxuICAgICAgICAgICAgICAgICFwcmV2U3RhdGUuc2hvd0RlY29yYXRvcnMgfHxcbiAgICAgICAgICAgICAgICAhcHJldlN0YXRlLnNob3dCeU5hbWVbZGVjVG9nZ2xlTmFtZV0sXG4gICAgICAgICAgICB9XG4gICAgICAgICAgOiB7fSksXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG9wZW5Db3VudCA9IFIuY29tcG9zZShcbiAgICAgICAgUi5sZW5ndGgsXG4gICAgICAgIFIudG9QYWlycyxcbiAgICAgICAgUi5maWx0ZXIoUi5pZGVudGl0eSlcbiAgICAgICkobmV4dFNob3dCeU5hbWUpXG5cbiAgICAgIC8vIElmIG5vIHNwZWNpZmljIGRlY29yYXRvciBpcyBvcGVuIGFuZCB0aGUgYmFyIGlzIGNsaWNrZWQsIHNlbGVjdCB0aGUgZmlyc3QgdG8gYmUgb3BlblxuICAgICAgY29uc3Qgb3BlbkRlZmF1bHQgPVxuICAgICAgICAhZGVjb3JhdG9yVG9Ub2dnbGUgJiYgb3BlbkNvdW50ID09PSAwXG4gICAgICAgICAgPyB7XG4gICAgICAgICAgICAgIFt0aGlzLnN0YXRlLmRlY29yYXRpb25zWzBdLnR5cGUuZGlzcGxheU5hbWVdOiB0cnVlLFxuICAgICAgICAgICAgfVxuICAgICAgICAgIDoge31cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2hvd0J5TmFtZToge1xuICAgICAgICAgIC4uLm5leHRTaG93QnlOYW1lLFxuICAgICAgICAgIC4uLm9wZW5EZWZhdWx0LFxuICAgICAgICB9LFxuICAgICAgICBzaG93RGVjb3JhdG9yczogIWRlY29yYXRvclRvVG9nZ2xlXG4gICAgICAgICAgPyAhcHJldlN0YXRlLnNob3dEZWNvcmF0b3JzXG4gICAgICAgICAgOiBvcGVuQ291bnQgIT09IDAsXG4gICAgICB9XG4gICAgfSlcbiAgfSxcblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIC8vIHVwZGF0ZSBkZWNvcmF0b3JzIHdoZW4gcXVlcnkgY2hhbmdlc1xuICAgIHZhciB7IHF1ZXJ5LCBmaWx0ZXJzIH0gPSB0aGlzLnByb3BzLnNlYXJjaFxuICAgIHZhciBuZXh0UXVlcnkgPSBuZXh0UHJvcHMuc2VhcmNoLnF1ZXJ5XG4gICAgdmFyIG5leHRGaWx0ZXJzID0gbmV4dFByb3BzLnNlYXJjaC5maWx0ZXJzXG5cbiAgICBpZiAocXVlcnkgIT09IG5leHRRdWVyeSB8fCBmaWx0ZXJzICE9PSBuZXh0RmlsdGVycykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh0aGlzLmdldEluaXRpYWxTdGF0ZShuZXh0UHJvcHMpKVxuICAgIH1cbiAgfSxcblxuICAvLyBQcm92aWRlIHRoaXMgdG8gc3ViY29tcG9uZW50IGRlY29yYXRvcnMgc28gZWFjaCBkZWNvcmF0b3IgY2FuXG4gIC8vIHJlbW92ZSBpdHNlbGYgZnJvbSB0aGUgbGlzdCBlLmcuIHdoZW4gbWFraW5nIGFuIEFQSSBjYWxsXG4gIC8vIGFuZCBmaW5kaW5nIG5vIHJlc3VsdHNcbiAgcmVtb3ZlRGVjb3JhdG9yKGRlY29yYXRvck5hbWUpIHtcbiAgICBjb25zb2xlLmluZm8oJ3JlbW92ZURlY29yYXRvcicsIHsgZGVjb3JhdG9yTmFtZSB9KVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzaG93QnlOYW1lOiB7IC4uLnRoaXMuc3RhdGUuc2hvd0J5TmFtZSwgW2RlY29yYXRvck5hbWVdOiBmYWxzZSB9LFxuICAgICAgcmVtb3ZlZERlY29yYXRvcnM6IHtcbiAgICAgICAgLi4udGhpcy5zdGF0ZS5yZW1vdmVkRGVjb3JhdG9ycyxcbiAgICAgICAgW2RlY29yYXRvck5hbWVdOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHNob3dEZWNvcmF0b3JzOiBmYWxzZSxcbiAgICB9KVxuICB9LFxufSlcbkRlY29yYXRlLmNvbnRleHRUeXBlcyA9IHtcbiAgc21hbGxWaWV3cG9ydDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG59XG5cbm1vZHVsZS5leHBvcnRzID0gRGVjb3JhdGVcblxudmFyIERlY29yYXRpb25GaW5kZXIgPSAoc2VhcmNoLCBmaWx0ZXJzLCBwcm9wcywgcmVtb3ZlRm4pID0+IHtcbiAgbGV0IHsgcGFyYW1zLCBoaXRzIH0gPSBwcm9wc1xuICBsZXQgdGVybXMgPSBzZWFyY2hcbiAgICA/IHNlYXJjaC5tYXRjaCgvXFx3Ky4rfFwiKD86XFxcXFwifFteXCJdKStcIi9nKSB8fCBzZWFyY2guc3BsaXQoJyAnKVxuICAgIDogZmFsc2VcbiAgaWYgKGZpbHRlcnMpIHRlcm1zID0gdGVybXMuY29uY2F0KGZpbHRlcnMuc3BsaXQoJ1wiICcpLm1hcCgoZikgPT4gZi50cmltKCkpKVxuICBpZiAoIXRlcm1zKSByZXR1cm4gW10gLy8gc2VhcmNoIGJ5IGlkcyBgc2VhcmNoL2lkc2AgZG9lc24ndCBoYXZlIGFueSB0ZXJtc1xuXG4gIC8vIGZpcnN0IGFuZCBzZWNvbmQgcmVzdWx0IGFyZSBvZiB0aGUgc2FtZSBhcnRpc3QsIGluZGljYXRpbmcgdGhhdCB0aGlzXG4gIC8vIHNlYXJjaCBpcyBhYm91dCB0aGF0IGFydGlzdCBvdmVyYWxsP1xuICAvLyBjYW5jZWwgdGhpcyBhc3N1bXB0aW9uIHdoZW4gdGhlcmUncyBhIGBmYWNldDogZWRgIHF1ZXJ5IHRoYXQgSVNOVCBgYXJ0aXN0OmBcbiAgY29uc3QgZmlyc3RBcnRpc3QgPSBoaXRzICYmIGhpdHMubGVuZ3RoID4gMCAmJiBoaXRzWzBdLl9zb3VyY2UuYXJ0aXN0XG4gIGNvbnN0IG5vbkFydGlzdEZhY2V0ZWRUZXJtID0gdGVybXMuZmluZChcbiAgICAodCkgPT4gdC5tYXRjaCgnOicpICYmICF0Lm1hdGNoKC9hcnRpc3Q6L2kpXG4gIClcbiAgY29uc3QgYXJ0aXN0UmVnZXhwTmFtZSA9XG4gICAgaGl0cyAmJiBoaXRzWzFdICYmIGhpdHNbMV0uX3NvdXJjZS5hcnRpc3QucmVwbGFjZSgnPycsICcnKVxuICBjb25zdCBoaXRzRmVhdHVyZVNpbmdsZUFydGlzdCA9XG4gICAgYXJ0aXN0UmVnZXhwTmFtZSAmJlxuICAgIGhpdHMubGVuZ3RoID4gMCAmJlxuICAgIChoaXRzLmxlbmd0aCA9PSAxIHx8XG4gICAgICAvLyBhcmUgdGhlIGZpcnN0IGFuZCBzZWNvbmQgYXJ0aXN0cyB0aGUgc2FtZSwgYW5kIG5vdCBhbiBlbXB0eSBzdHJpbmcgd2hpY2hcbiAgICAgIC8vIGJyZWFrcyB0aGUgcmVnZXggY29tcGFyaXNvbj9cbiAgICAgICEhKFxuICAgICAgICAoZmlyc3RBcnRpc3QgIT09ICcnICYmXG4gICAgICAgICAgaGl0c1sxXS5fc291cmNlLmFydGlzdC5tYXRjaChuZXcgUmVnRXhwKGZpcnN0QXJ0aXN0LCAnaScpKSkgfHxcbiAgICAgICAgKGZpcnN0QXJ0aXN0Lm1hdGNoKG5ldyBSZWdFeHAoYXJ0aXN0UmVnZXhwTmFtZSwgJ2knKSkgJiZcbiAgICAgICAgICBoaXRzWzFdLl9zb3VyY2UuYXJ0aXN0ICE9PSAnJylcbiAgICAgICkpICYmXG4gICAgIW5vbkFydGlzdEZhY2V0ZWRUZXJtXG5cbiAgdmFyIERlY29yID0ge1xuICAgIC8vIGNhbGwgdGhlIGFydGlzdCBkZWNvcmF0b3IgYmV5b25kIGp1c3Qgd2hlbiBzZWFyY2hpbmcgZm9yIGBhcnRpc3Q6YCAtIGlmIHRoZSBmaXJzdCBhbmQgc2Vjb25kIGhpdHNcbiAgICAvLyBib3RoIG1hdGNoIHRoZSBhcnRpc3QsIHNob3cgdGhlIGRlY29yYXRvcj9cbiAgICAvLyBcImFydGlzdDpcIjogKHRlcm0pID0+IDxBcnRpc3REZWNvcmF0b3IgYXJ0aXN0PXt0ZXJtfSBwYXJhbXM9e3BhcmFtc30ga2V5PXt0ZXJtfSByZW1vdmU9e3JlbW92ZUZufSAvPixcbiAgICAnLisnOiAodGVybSkgPT5cbiAgICAgIGhpdHNGZWF0dXJlU2luZ2xlQXJ0aXN0ICYmIChcbiAgICAgICAgPEFydGlzdERlY29yYXRvclxuICAgICAgICAgIGFydGlzdD17aGl0c0ZlYXR1cmVTaW5nbGVBcnRpc3QgPyBbZmlyc3RBcnRpc3RdIDogdGVybX1cbiAgICAgICAgICBwYXJhbXM9e3BhcmFtc31cbiAgICAgICAgICBrZXk9e3Rlcm19XG4gICAgICAgICAgcmVtb3ZlPXtyZW1vdmVGbn1cbiAgICAgICAgLz5cbiAgICAgICksXG4gICAgJ2RlcGFydG1lbnQ6JzogKHRlcm0pID0+IChcbiAgICAgIDxEZXBhcnRtZW50RGVjb3JhdG9yIGRlcGFydG1lbnQ9e3Rlcm19IHBhcmFtcz17cGFyYW1zfSBrZXk9e3Rlcm19IC8+XG4gICAgKSxcbiAgICAnZ1swLTldezN9YT8nOiAoZ2FsbGVyeSkgPT4gKFxuICAgICAgPEdhbGxlcnlEZWNvcmF0b3IgZ2FsbGVyeT17Z2FsbGVyeVswXX0gey4uLnByb3BzfSBrZXk9e2dhbGxlcnl9IC8+XG4gICAgKSxcbiAgICAnTm90IG9uIFZpZXcnOiAoZ2FsbGVyeSkgPT4gKFxuICAgICAgPEdhbGxlcnlEZWNvcmF0b3Igbm90T25WaWV3PXt0cnVlfSBrZXk9e2dhbGxlcnl9IC8+XG4gICAgKSxcbiAgICAnaGlnaGxpZ2h0Oic6ICgpID0+IDxIaWdobGlnaHRzRGVjb3JhdG9yIGtleT1cImhpZ2hsaWdodFwiIC8+LFxuICAgICdyZWNlbnQ6JzogKCkgPT4gPFJlY2VudERlY29yYXRvciBrZXk9XCJyZWNlbnRcIiAvPixcbiAgICAncmlnaHRzX3R5cGU6JzogKHRlcm0pID0+IChcbiAgICAgIDxSaWdodHNEZWNvcmF0b3IgdGVybT17dGVybX0gcGFyYW1zPXtwYXJhbXN9IGtleT17dGVybX0gLz5cbiAgICApLFxuICAgICdibGFja3xhZnJpY2FuLj9hbWVyaWNhbnxsaXN0OmJobSc6ICh0ZXJtKSA9PiAoXG4gICAgICA8SW5mb0RlY29yYXRvciB0ZXJtPXt0ZXJtfSBwYXJhbXM9e3BhcmFtc30ga2V5PXt0ZXJtfSAvPlxuICAgICksXG4gICAgJy4qJzogKHRlcm0pID0+IHtcbiAgICAgIC8vIFRPRE8gaG93IHRvIGhhbmRsZSBtdWx0aXBsZSBkZWNvcmF0b3JzIGtleWVkIGJ5IG9uZSBgdGVybWAgbWF0Y2g/XG4gICAgICAvLyBBcnRpc3QgaXMgYWJvdmUsIGFuZCB0aGVyZSBhcmUgdHdvIEkgd2FudCB0byB0cmlnZ2VyIGZyb20gdGhpcyBibG9ja+KAplxuICAgICAgLy8g4oCmU2hvdWxkIGJlIGEgd2F5IHRvIGhhdmUgb25lIGJsb2NrXG4gICAgICAvLyBpbiB0aGlzIGFycmF5IGVuYWJsZSBtb3JlIHRoYW4gYSBzaW5nbGUgZGVjb3JhdG9yP1xuICAgICAgLy8gcmV0dXJuIG11bHRpcGxlIGFuZCBgY29uY2F0YC9gZmxhdGAgdGhlbT9cbiAgICAgIGxldCBkZWNvcmF0b3JzID0gW11cblxuICAgICAgY29uc3QgaGl0c0hhdmVJbnNwaXJlZENvbnRlbnQgPVxuICAgICAgICBoaXRzLmZpbHRlcigoaGl0KSA9PiBoaXQuX3NvdXJjZVsncmVsYXRlZDppbnNwaXJlZEJ5TWlhJ10pLmxlbmd0aCA+IDBcbiAgICAgIGlmIChoaXRzSGF2ZUluc3BpcmVkQ29udGVudCkge1xuICAgICAgICBkZWNvcmF0b3JzLnB1c2goXG4gICAgICAgICAgPEluc3BpcmVkQnlNaWFEZWNvcmF0b3JcbiAgICAgICAgICAgIHRlcm09e3Rlcm19XG4gICAgICAgICAgICBwYXJhbXM9e3BhcmFtc31cbiAgICAgICAgICAgIGtleT17dGVybSArICctaW5zcGlyZWQnfVxuICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgY29uc3QgaGl0c0hhdmVBdWRpb0NvbnRlbnQgPVxuICAgICAgICBoaXRzLmZpbHRlcigoaGl0KSA9PiBoaXQuX3NvdXJjZVsncmVsYXRlZDphdWRpby1zdG9wcyddKS5sZW5ndGggPiAwXG4gICAgICBpZiAoaGl0c0hhdmVBdWRpb0NvbnRlbnQpIHtcbiAgICAgICAgLy8gWzFdXG4gICAgICAgIGRlY29yYXRvcnMucHVzaChcbiAgICAgICAgICA8QXVkaW9EZWNvcmF0b3JcbiAgICAgICAgICAgIHRlcm09e3Rlcm19XG4gICAgICAgICAgICBwYXJhbXM9e3BhcmFtc31cbiAgICAgICAgICAgIGtleT17dGVybSArICctYXVkaW8nfVxuICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlY29yYXRvcnNcbiAgICB9LFxuICAgIC8vIFwiXlswLTlcXC5cXCosXFwtYS16QS1aXSskXCI6ICh0ZXJtKSA9PiA8TnVtYmVyRGVjb3JhdG9yIHRlcm09e3Rlcm19IHBhcmFtcz17cGFyYW1zfSBrZXk9e3Rlcm0gKyAnLW51bWJlcid9IHsuLi5wcm9wc30gLz4sXG4gIH1cblxuICAvLyBbMV0gSGVyZSB3ZSAnZ2F0ZScgYSBkZWNvcmF0b3Igd2l0aCBjZXJ0YWluIGNvbmRpdGlvbnMgLSBpdCB3aWxsIG9ubHkgc2hvdyB3aGVuXG4gIC8vIHRoZXJlIGFyZSBoaXRzIHdpdGggYXVkaW8gc3RvcHMuXG4gIC8vIFRPRE8gaXQgd291bGQgYmUgbmljZSBpZiB0aGUgZGVjb3JhdG9yIGl0c2VsZiBjb3VsZCBkZWZpbmUgdGhlIGNvbmRpdGlvbnNcbiAgLy8gdW5kZXIgd2hpY2ggaXMgc2hvdWxkIGRpc3BsYXlcbiAgLy8gZm9yIEFydGlzdERlY29yYXRvciBJIGNhbWUgdXAgd2l0aCB0aGUgaWRlYSBvZiB0aGUgZGVjb3JhdG9yIHJlbmRlcmluZywgZG9pbmcgaXQncyBzdHVmZixcbiAgLy8gYW5kIGZyb20gdGhlcmUgZGVjaWRpbmcgaWYgXCJ3aGF0IGl0IGRpZFwiIG1lYW5zIGFueXRoaW5nLiBJZiBub3QsIHRoZSBkZWNvcmF0b3IgaXMgcHJvdmlkZWRcbiAgLy8gd2l0aCBhIGByZW1vdmVEZWNvcmF0b3JgIHByb3Agd2hpY2ggaXQgY2FuIHVzZSB0byAndHVybiBpdHNlbGYgb2ZmJ+KApiBOb3QgaWRlYWwgYnV0IE9LXG5cbiAgbGV0IG0gPSBPYmplY3Qua2V5cyhEZWNvcikucmVkdWNlKChtYXRjaGVzLCBkKSA9PiB7XG4gICAgdmFyIF9tID0gdGVybXMuZmlsdGVyKCh0ZXJtKSA9PiB0ZXJtLm1hdGNoKG5ldyBSZWdFeHAoZCwgJ2knKSkpXG4gICAgaWYgKF9tLmxlbmd0aCA+IDApIG1hdGNoZXNbZF0gPSBfbVxuICAgIHJldHVybiBtYXRjaGVzXG4gIH0sIHt9KVxuXG4gIHJldHVybiBPYmplY3Qua2V5cyhtKVxuICAgIC5tYXAoKGtleSkgPT4ge1xuICAgICAgY29uc3QgZGVjb3JhdG9ycyA9IERlY29yW2tleV0obVtrZXldKVxuXG4gICAgICByZXR1cm4gZGVjb3JhdG9yc1xuICAgIH0pXG4gICAgLy8gLmZsYXQoKSB0b28gbmV3ISBuZWVkIHRvIHVwZ3JhZGUgbm9kZSB2ZXJzaW9uIG9uIGRlcGxveW1lbnQgc2VydmVyXG4gICAgLnJlZHVjZSgoYWNjLCB2YWwpID0+IGFjYy5jb25jYXQodmFsKSwgW10pXG4gICAgLmZpbHRlcigoY29tcG9uZW50KSA9PiBjb21wb25lbnQpXG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "decorate.js"
      ],
      "names": [
        "React",
        "require",
        "cx",
        "R",
        "Markdown",
        "DepartmentDecorator",
        "GalleryDecorator",
        "HighlightsDecorator",
        "RecentDecorator",
        "RightsDecorator",
        "AudioDecorator",
        "NumberDecorator",
        "ArtistDecorator",
        "InfoDecorator",
        "InspiredByMiaDecorator",
        "Decorate",
        "createClass",
        "render",
        "props",
        "search",
        "query",
        "filters",
        "decorations",
        "DecorationFinder",
        "removeDecorator",
        "state",
        "_showDecs",
        "showDecorators",
        "showByName",
        "removedDecorators",
        "decTabControls",
        "color",
        "map",
        "d",
        "decoratorName",
        "type",
        "displayName",
        "humanName",
        "replace",
        "word",
        "toUpperCase",
        "trim",
        "activeOrNotStyle",
        "border",
        "isRemoved",
        "toggleDecoration",
        "decsToShow",
        "filter",
        "length",
        "toggleDecsControl",
        "decNames",
        "allHidden",
        "JSON",
        "stringify",
        "Object",
        "keys",
        "closed",
        "alignSelf",
        "getInitialState",
        "_props",
        "bind",
        "showDecorations",
        "context",
        "smallViewport",
        "audioDecoratorMatches",
        "artistDecoratorMatches",
        "infoDecoratorMatches",
        "pseudoDecoratorMatches",
        "reduce",
        "index",
        "decName",
        "match",
        "s",
        "event",
        "preventDefault",
        "stopPropagation",
        "target",
        "decoratorToToggle",
        "find",
        "innerText",
        "setState",
        "prevState",
        "decToggleName",
        "nextShowByName",
        "openCount",
        "compose",
        "toPairs",
        "identity",
        "openDefault",
        "componentWillReceiveProps",
        "nextProps",
        "nextQuery",
        "nextFilters",
        "console",
        "info",
        "contextTypes",
        "PropTypes",
        "bool",
        "module",
        "exports",
        "removeFn",
        "params",
        "hits",
        "terms",
        "split",
        "concat",
        "f",
        "firstArtist",
        "_source",
        "artist",
        "nonArtistFacetedTerm",
        "t",
        "artistRegexpName",
        "hitsFeatureSingleArtist",
        "RegExp",
        "Decor",
        "term",
        "gallery",
        "decorators",
        "hitsHaveInspiredContent",
        "hit",
        "push",
        "hitsHaveAudioContent",
        "m",
        "matches",
        "_m",
        "key",
        "acc",
        "val",
        "component"
      ],
      "mappings": "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",
      "file": "decorate.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "/** @format */\nvar React = require('react')\nvar cx = require('classnames')\nvar R = require('ramda')\n\nvar Markdown = require('./markdown')\n\nvar DepartmentDecorator = require('./decorate/department')\nvar GalleryDecorator = require('./decorate/gallery')\nvar HighlightsDecorator = require('./decorate/highlights')\nvar RecentDecorator = require('./decorate/recent')\nvar RightsDecorator = require('./decorate/rights')\nvar AudioDecorator = require('./decorate/audio')\nvar NumberDecorator = require('./decorate/number')\nvar ArtistDecorator = require('./decorate/artist')\nvar InfoDecorator = require('./decorate/info')\nvar InspiredByMiaDecorator = require('./decorate/pseudo-artwork')\n\nvar Decorate = React.createClass({\n  render() {\n    var { query, filters } = this.props.search\n    if (!query && !filters) return <span />\n    var decorations = DecorationFinder(\n      query,\n      filters,\n      this.props,\n      this.removeDecorator\n    )\n    var {\n      showDecorators: _showDecs,\n      showByName,\n      removedDecorators,\n    } = this.state\n\n    const decTabControls = (\n      <span style={{ color: 'white' }}>\n        {decorations.map((d) => {\n          const decoratorName = d && d.type.displayName\n          const humanName = decoratorName\n            .replace('Decorator', '')\n            .replace(/([A-Z])/g, (word) => ' ' + word.toUpperCase())\n            .trim()\n          const activeOrNotStyle = showByName[decoratorName]\n            ? { border: '1px solid gold' }\n            : {}\n          const isRemoved = removedDecorators[decoratorName]\n\n          return isRemoved ? (\n            <span />\n          ) : (\n            <button onClick={this.toggleDecoration} style={activeOrNotStyle}>\n              {humanName}\n            </button>\n          )\n        })}\n      </span>\n    )\n\n    const decsToShow = decorations.filter((d) => {\n      const decoratorName = d && d.type.displayName\n      return showByName[decoratorName]\n    })\n    const showDecorators = decsToShow && decsToShow.length > 0 && _showDecs\n\n    const toggleDecsControl = (\n      <i className=\"control material-icons\" onClick={this.toggleDecoration}>\n        {false && 'expand_' + (showDecorators ? 'less' : 'more')}\n        {showDecorators ? 'close' : 'info'}\n      </i>\n    )\n\n    const decNames = decorations.map((d) => d.type.displayName)\n    const allHidden =\n      decorations &&\n      removedDecorators &&\n      JSON.stringify(decNames) == JSON.stringify(Object.keys(removedDecorators))\n\n    return (\n      decorations.length > 0 &&\n      !allHidden && (\n        <div\n          className={cx('decorator-wrap', { closed: !showDecorators })}\n          onClick={!showDecorators && this.toggleDecoration}\n        >\n          <span style={{ alignSelf: 'start' }}>\n            {toggleDecsControl}\n            {decTabControls}\n          </span>\n          {showDecorators ? decsToShow : <span />}\n          {showDecorators && toggleDecsControl}\n        </div>\n      )\n    )\n  },\n\n  getInitialState(_props) {\n    const props = _props || this.props\n    var { query, filters } = props.search\n    var decorations = DecorationFinder(\n      query,\n      filters,\n      props,\n      this.removeDecorator.bind(this)\n    )\n    const decNames = decorations.map((d) => d.type.displayName)\n\n    var showDecorations = !this.context.smallViewport\n    let audioDecoratorMatches\n    let artistDecoratorMatches\n    let infoDecoratorMatches\n    let pseudoDecoratorMatches\n    // Always show audio decorator.\n    // Otherwise, show the first decorator matched when viewed on a desktop,\n    // and collapse bar by default when on mobile to conserve space.\n    const showByName = decorations.reduce((map, d, index) => {\n      const decName = d.type.displayName\n      audioDecoratorMatches =\n        audioDecoratorMatches || decName === 'AudioDecorator'\n      artistDecoratorMatches =\n        artistDecoratorMatches || decName === 'ArtistDecorator'\n      infoDecoratorMatches = infoDecoratorMatches || decName === 'InfoDecorator'\n      // uncomment this to re-enable the InspiredBy decorator opening automatically by default\n      // pseudoDecoratorMatches =\n      //  pseudoDecoratorMatches || decName === 'InspiredByMiaDecorator'\n\n      map[decName] =\n        decName === 'InfoDecorator' ||\n        (decName === 'InspiredByMiaDecorator' &&\n          (query && query.match(/_exists_:\"related:inspiredByMia\"/) || filters && filters.match(/_exists_:\"related:inspiredByMia\"/)))\n        decName === 'ArtistDecorator' ||\n        (decName === 'AudioDecorator' && !!query.match(/^\\d+$/))\n\n      return map\n    }, {})\n\n    var showDecorators =\n      !this.context.smallViewport ||\n      artistDecoratorMatches ||\n      audioDecoratorMatches ||\n      infoDecoratorMatches\n\n    var s = {\n      decorations,\n      showDecorators,\n      showByName,\n      removedDecorators: {},\n    }\n    return s\n  },\n\n  toggleDecoration(event) {\n    event.preventDefault()\n    event.stopPropagation()\n    const { target } = event\n    const decoratorToToggle = this.state.decorations.find(\n      (d) => d.type.displayName === target.innerText + 'Decorator'\n    )\n\n    // if decorator bar is minimized and the clicked decorator is already 'on',\n    // maximize it instead of toggling the clicked decorator in the minimized bar\n    this.setState((prevState) => {\n      const decToggleName =\n        decoratorToToggle && decoratorToToggle.type.displayName\n      const nextShowByName = {\n        ...prevState.showByName,\n        ...(decoratorToToggle\n          ? {\n              [decToggleName]:\n                !prevState.showDecorators ||\n                !prevState.showByName[decToggleName],\n            }\n          : {}),\n      }\n\n      const openCount = R.compose(\n        R.length,\n        R.toPairs,\n        R.filter(R.identity)\n      )(nextShowByName)\n\n      // If no specific decorator is open and the bar is clicked, select the first to be open\n      const openDefault =\n        !decoratorToToggle && openCount === 0\n          ? {\n              [this.state.decorations[0].type.displayName]: true,\n            }\n          : {}\n\n      return {\n        showByName: {\n          ...nextShowByName,\n          ...openDefault,\n        },\n        showDecorators: !decoratorToToggle\n          ? !prevState.showDecorators\n          : openCount !== 0,\n      }\n    })\n  },\n\n  componentWillReceiveProps(nextProps) {\n    // update decorators when query changes\n    var { query, filters } = this.props.search\n    var nextQuery = nextProps.search.query\n    var nextFilters = nextProps.search.filters\n\n    if (query !== nextQuery || filters !== nextFilters) {\n      this.setState(this.getInitialState(nextProps))\n    }\n  },\n\n  // Provide this to subcomponent decorators so each decorator can\n  // remove itself from the list e.g. when making an API call\n  // and finding no results\n  removeDecorator(decoratorName) {\n    console.info('removeDecorator', { decoratorName })\n\n    this.setState({\n      showByName: { ...this.state.showByName, [decoratorName]: false },\n      removedDecorators: {\n        ...this.state.removedDecorators,\n        [decoratorName]: true,\n      },\n      showDecorators: false,\n    })\n  },\n})\nDecorate.contextTypes = {\n  smallViewport: React.PropTypes.bool,\n}\n\nmodule.exports = Decorate\n\nvar DecorationFinder = (search, filters, props, removeFn) => {\n  let { params, hits } = props\n  let terms = search\n    ? search.match(/\\w+.+|\"(?:\\\\\"|[^\"])+\"/g) || search.split(' ')\n    : false\n  if (filters) terms = terms.concat(filters.split('\" ').map((f) => f.trim()))\n  if (!terms) return [] // search by ids `search/ids` doesn't have any terms\n\n  // first and second result are of the same artist, indicating that this\n  // search is about that artist overall?\n  // cancel this assumption when there's a `facet: ed` query that ISNT `artist:`\n  const firstArtist = hits && hits.length > 0 && hits[0]._source.artist\n  const nonArtistFacetedTerm = terms.find(\n    (t) => t.match(':') && !t.match(/artist:/i)\n  )\n  const artistRegexpName =\n    hits && hits[1] && hits[1]._source.artist.replace('?', '')\n  const hitsFeatureSingleArtist =\n    artistRegexpName &&\n    hits.length > 0 &&\n    (hits.length == 1 ||\n      // are the first and second artists the same, and not an empty string which\n      // breaks the regex comparison?\n      !!(\n        (firstArtist !== '' &&\n          hits[1]._source.artist.match(new RegExp(firstArtist, 'i'))) ||\n        (firstArtist.match(new RegExp(artistRegexpName, 'i')) &&\n          hits[1]._source.artist !== '')\n      )) &&\n    !nonArtistFacetedTerm\n\n  var Decor = {\n    // call the artist decorator beyond just when searching for `artist:` - if the first and second hits\n    // both match the artist, show the decorator?\n    // \"artist:\": (term) => <ArtistDecorator artist={term} params={params} key={term} remove={removeFn} />,\n    '.+': (term) =>\n      hitsFeatureSingleArtist && (\n        <ArtistDecorator\n          artist={hitsFeatureSingleArtist ? [firstArtist] : term}\n          params={params}\n          key={term}\n          remove={removeFn}\n        />\n      ),\n    'department:': (term) => (\n      <DepartmentDecorator department={term} params={params} key={term} />\n    ),\n    'g[0-9]{3}a?': (gallery) => (\n      <GalleryDecorator gallery={gallery[0]} {...props} key={gallery} />\n    ),\n    'Not on View': (gallery) => (\n      <GalleryDecorator notOnView={true} key={gallery} />\n    ),\n    'highlight:': () => <HighlightsDecorator key=\"highlight\" />,\n    'recent:': () => <RecentDecorator key=\"recent\" />,\n    'rights_type:': (term) => (\n      <RightsDecorator term={term} params={params} key={term} />\n    ),\n    'black|african.?american|list:bhm': (term) => (\n      <InfoDecorator term={term} params={params} key={term} />\n    ),\n    '.*': (term) => {\n      // TODO how to handle multiple decorators keyed by one `term` match?\n      // Artist is above, and there are two I want to trigger from this block…\n      // …Should be a way to have one block\n      // in this array enable more than a single decorator?\n      // return multiple and `concat`/`flat` them?\n      let decorators = []\n\n      const hitsHaveInspiredContent =\n        hits.filter((hit) => hit._source['related:inspiredByMia']).length > 0\n      if (hitsHaveInspiredContent) {\n        decorators.push(\n          <InspiredByMiaDecorator\n            term={term}\n            params={params}\n            key={term + '-inspired'}\n            {...props}\n          />\n        )\n      }\n\n      const hitsHaveAudioContent =\n        hits.filter((hit) => hit._source['related:audio-stops']).length > 0\n      if (hitsHaveAudioContent) {\n        // [1]\n        decorators.push(\n          <AudioDecorator\n            term={term}\n            params={params}\n            key={term + '-audio'}\n            {...props}\n          />\n        )\n      }\n\n      return decorators\n    },\n    // \"^[0-9\\.\\*,\\-a-zA-Z]+$\": (term) => <NumberDecorator term={term} params={params} key={term + '-number'} {...props} />,\n  }\n\n  // [1] Here we 'gate' a decorator with certain conditions - it will only show when\n  // there are hits with audio stops.\n  // TODO it would be nice if the decorator itself could define the conditions\n  // under which is should display\n  // for ArtistDecorator I came up with the idea of the decorator rendering, doing it's stuff,\n  // and from there deciding if \"what it did\" means anything. If not, the decorator is provided\n  // with a `removeDecorator` prop which it can use to 'turn itself off'… Not ideal but OK\n\n  let m = Object.keys(Decor).reduce((matches, d) => {\n    var _m = terms.filter((term) => term.match(new RegExp(d, 'i')))\n    if (_m.length > 0) matches[d] = _m\n    return matches\n  }, {})\n\n  return Object.keys(m)\n    .map((key) => {\n      const decorators = Decor[key](m[key])\n\n      return decorators\n    })\n    // .flat() too new! need to upgrade node version on deployment server\n    .reduce((acc, val) => acc.concat(val), [])\n    .filter((component) => component)\n}\n"
      ]
    },
    "mtime": 1614714208384
  },
  "{\"filename\":\"/var/www/art/src/decorate/department.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src/decorate\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "slicedToArray"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/decorate/department.js",
      "filenameRelative": "/var/www/art/src/decorate/department.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "department.js",
      "sourceFileName": "department.js",
      "sourceRoot": "/var/www/art/src/decorate",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src/decorate",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "department"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar React = require('react');\n\nvar _require = require('react-router'),\n    Link = _require.Link;\n\nvar Markdown = require('../markdown');\nvar findDepartment = require('../department-slug');\n\nvar DepartmentDecorator = React.createClass({\n  displayName: 'DepartmentDecorator',\n  getInitialState: function getInitialState() {\n    var _getNameAndSelector = this.getNameAndSelector(this.props.department),\n        _getNameAndSelector2 = _slicedToArray(_getNameAndSelector, 3),\n        deptName = _getNameAndSelector2[0],\n        selector = _getNameAndSelector2[1],\n        slug = _getNameAndSelector2[2];\n\n    var departmentInfo = this.props.departmentInfo;\n\n    var info = departmentInfo && departmentInfo.departments[selector];\n\n    return {\n      deptName: deptName,\n      selector: selector,\n      slug: slug,\n      info: info,\n      blurb: info && info.content || DepartmentContent[selector] || 'Sorry, there\\'s no \"' + deptName + '\" department.',\n      expanded: this.props.expanded || !!this.props.params.dept || false\n    };\n  },\n  render: function render() {\n    var department = this.props.department;\n    var _state = this.state,\n        deptName = _state.deptName,\n        selector = _state.selector,\n        blurb = _state.blurb,\n        expanded = _state.expanded;\n\n    var _blurb$split = blurb.split('<hr />'),\n        _blurb$split2 = _slicedToArray(_blurb$split, 2),\n        blurbA = _blurb$split2[0],\n        blurbB = _blurb$split2[1];\n\n    var fullInfo = expanded && this.getFullInfo(blurbB);\n\n    return React.createElement(\n      'div',\n      { className: 'departmentBlurb mdl-grid decorator d-department' },\n      React.createElement(\n        'h2',\n        null,\n        React.createElement(\n          Link,\n          { to: 'department', params: { dept: this.state.slug, terms: department } },\n          React.createElement(\n            'span',\n            { className: 'd-visit' },\n            'Visit '\n          ),\n          this.state.deptName\n        )\n      ),\n      React.createElement(\n        'div',\n        { className: 'mdl-cell mdl-cell--6-col departmentContent' },\n        expanded ? React.createElement(\n          Markdown,\n          { alreadyRendered: true },\n          blurbA\n        ) : this.shortBlurb(),\n        expanded && this.affinityBlurb()\n      ),\n      expanded && fullInfo\n    );\n  },\n  getNameAndSelector: function getNameAndSelector(term) {\n    var decodedTerm = decodeURIComponent(term);\n    var deptName = findDepartment(decodedTerm) ? decodedTerm : decodedTerm.match(/department:\"?([^\"]*)\"?/)[1];\n    return findDepartment(deptName);\n  },\n  shortBlurb: function shortBlurb() {\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        Markdown,\n        null,\n        this.state.blurb.split('\\n')[0]\n      )\n    );\n  },\n  getFullInfo: function getFullInfo(info) {\n    var deptName = this.state.deptName;\n\n\n    return React.createElement(\n      'div',\n      { className: 'departmentResources mdl-cell mdl-cell--6-col' },\n      React.createElement(\n        'div',\n        null,\n        this.getCurators()\n      ),\n      React.createElement(\n        Markdown,\n        { alreadyRendered: true },\n        info\n      )\n    );\n  },\n  getCurators: function getCurators() {\n    var _this = this;\n\n    var curators = this.state.info.curators.map(function (name) {\n      return _this.props.departmentInfo.curators[name];\n    }).filter(function (exists) {\n      return !!exists;\n    }).filter(function (_ref) {\n      var emeritus = _ref.emeritus;\n      return !emeritus;\n    }).filter(function (curator) {\n      return !curator.name.match(/yasufumi/i);\n    });\n\n    return curators.length > 0 && React.createElement(\n      'div',\n      { id: 'curators' },\n      React.createElement(\n        'h3',\n        null,\n        'Curators'\n      ),\n      curators.map(function (curator) {\n        curator.photo = 'https://collections.artsmia.org/_info/curator-portraits/' + curator.slug + '.jpg';\n\n        return React.createElement(\n          'div',\n          { className: 'curatorBio', key: curator.slug },\n          React.createElement(\n            Link,\n            { to: 'curator', params: { slug: curator.slug } },\n            React.createElement(\n              'div',\n              { className: 'curatorPic' },\n              React.createElement('img', { src: curator.photo, alt: 'portrait of ' + curator.name })\n            ),\n            React.createElement(\n              'div',\n              { className: 'curator-intro' },\n              React.createElement(\n                'h4',\n                null,\n                curator.name\n              ),\n              React.createElement(\n                'h5',\n                null,\n                React.createElement(\n                  Markdown,\n                  null,\n                  curator.title\n                )\n              )\n            )\n          )\n        );\n      })\n    );\n  },\n  getAffinity: function getAffinity() {\n    var _this2 = this;\n\n    var affinities = this.props.departmentInfo.affinityGroups.filter(function (ag) {\n      return ag.departments && ag.departments.indexOf(findDepartment(_this2.props.department)[1]) > -1;\n    });\n\n    return affinities.map(function (a) {\n      var image = React.createElement('img', { src: a.featuredArt ? 'http://api.artsMia.org/images/' + a.featuredArt + '/400/medium.jpg' : a.image });\n      image = a.featuredArt ? React.createElement(\n        Link,\n        { to: 'artwork', params: { id: a.featuredArt } },\n        image\n      ) : image;\n\n      return React.createElement(\n        'div',\n        { className: 'affinity', key: a.title },\n        React.createElement(\n          'h3',\n          null,\n          a.title\n        ),\n        React.createElement(\n          'div',\n          { className: 'affinityImage' },\n          image\n        ),\n        React.createElement(\n          'div',\n          { className: 'affinity-intro' },\n          React.createElement(\n            Markdown,\n            { alreadyRendered: true },\n            a.content\n          ),\n          React.createElement(\n            'p',\n            null,\n            'Mia\\u2019s Affinity Groups are a great way for museum members to connect more closely with special areas of art interest, allowing you to delve deeper into the curatorial area of your choice.'\n          ),\n          React.createElement(\n            'a',\n            { href: 'http://new.artsmia.org/join-and-invest/affinity-groups/', className: 'button' },\n            'Learn More'\n          )\n        )\n      );\n    });\n  },\n  affinityBlurb: function affinityBlurb() {\n    return React.createElement(\n      'div',\n      { className: 'affinity' },\n      React.createElement(\n        'p',\n        null,\n        'Mia\\u2019s Affinity Groups are a great way for museum members to connect more closely with special areas of art interest, allowing you to delve deeper into the curatorial area of your choice.'\n      ),\n      React.createElement(\n        'a',\n        { href: 'http://new.artsmia.org/join-and-invest/affinity-groups/', className: 'button' },\n        'Learn More'\n      )\n    );\n  }\n});\n\nvar DepartmentContent = {\n  africa: 'The Arts of Africa and the Americas Department is dedicated to the immense creativity of Native peoples across the world, from prehistory to the present. The collection has grown significantly since the department was founded more than thirty years ago, and now numbers more than 3,000 objects, including masterworks of sculpture, ceramics, metalsmithing, painting, basketry, and bead-, shell-, and quillwork, reflecting the diversity of these regions and cultures.\\r\\n\\r\\nHighlights of African art at the museum include a ceramic portrait head from the ancient civilization of Ife, a thousand-year-old wooden horse-and-rider from Djenne, and a cast bronze leopard and a carved ivory tusk, both from the eighteenth-century Kingdom of Benin. Other important pieces are a rare Luba mask, one of only two known in the world, a dramatic dance mask often known as a \\u201Cfirespitter\\u201D from Cote d\\u2019Ivoire, and a palace door created by the famed Yoruba artist Areogun of Osi.\\r\\n\\r\\nThe Native American galleries are equally rich in examples of the highest quality art, such as our unparalleled three-thousand-year-old Olmec jade mask, an exceptional nineteenth-century Sun Mask from the Northwest Coast, and a monumental pipe in the form of a bound prisoner, made in southeastern United States around 1200. Additional masterworks include the finely worked gold earspools from the ancient Andes, and a beaded man\\u2019s shoulder pouch made in Minnesota in the early 1800s.\\r\\n\\r\\nOur Oceanic collection contains world-class pieces, such as the Maori Poutokomanawa (Post Figure) created in the 1840s, the three fabulous Malagan figures, an early Papuan Gope Board, and the Bis Pole, a centerpiece of the gallery.',\n  contemporary: 'In 2008 the Mia launched an initiative to focus on the art of our times. Through its new Department of Contemporary Art, the museum brings a fresh dynamism to its galleries by collecting and exhibiting works by living artists. This initiative emphasizes the relationships among historical art, diverse cultures, and contemporary art-making.\\r\\n\\r\\nContemporary art of the region continues to be represented by the Minnesota Artists Exhibition Program (MAEP) as well as by selected projects with local artists, architects, designers, and other creative thinkers. In collaboration with other Mia curatorial departments, the Department of Contemporary Art engages both local and global artists to create public and site-specific work at the Mia.',\n  dats: 'Originally established to focus on furniture, metalwork, ceramics, and glass, the department today encompasses more than 18,000 works in all mediums from America and Europe, from the Middle Ages to the present.\\r\\n\\r\\nMany collectors and donors have contributed to the porcelain and pottery collection, which includes eighteenth-century French faience from Mrs. John P. Rutherfurd, seventeenth- and eighteenth-century English delft from Mr. and Mrs. George R. Steiner, and Chinese Export porcelain from Leo and Doris Hodroff. Domestic interiors and furnishings spanning four centuries are presented in the Mia\\u2019s nine period rooms, with a 1730 grand salon from the H\\xF4tel de la Bou\\xEBxi\\xE8re in Paris, which has been restored with funds from the Groves Foundation.\\r\\n\\r\\nThe department\\u2019s textile collection has gained an international reputation for its spectacular individual pieces as well as its impressive holdings of European tapestries, early Italian laces, passementerie, Kashmir shawls, and Turkish embroideries. Textiles from the Jack Lenor Larsen company archive and the Norwest Modernism Collection have broadened the scope of the collection\\u2019s twentieth-century holdings, complementing its already strong collection of contemporary fiber art.\\r\\n\\r\\nA particular strength of the Mia\\u2019s decorative arts collection includes English, American and Continental silver, which is showcased in the Mary Agnes and Al McQuinn Gallery (350). Mia trustee and silver collector James Ford Bell established the foundation of the museum\\u2019s collection with numerous gifts, including a monumental eighteenth-century wine cistern by English Huguenot silversmith Paul de Lamerie and the most complete neoclassical tea service known by Paul Revere, Jr. The McQuinn Fund continues to support purchases of great English and Continental objects such as the Richmond racing cup designed by Robert Adam and an elaborate covered cup made in Strasbourg by Johann Friedrich Baer.\\r\\n\\r\\nSculpture from the Middle Ages to 1960 includes important works by Amedeo Modigliani, Sir Jacob Epstein, John Bernard Flannagan, Constantin Brancusi, Henri Matisse, and Henry Moore. Recent acquisitions in this area include Raymond Duchamp-Villon\\u2019s\\xA0<em>Head of Baudelaire</em>\\xA0(1911), and Alberto Giacometti\\u2019s\\xA0<em>Diego</em>\\xA0(196).\\r\\n\\r\\nThe Harold and Mickey Smith Gallery (362) features one of the most comprehensive permanent collections of Jewish ritual art found in an American art museum. Rotations include prints, photographs, and textiles. Purchases of modern and contemporary Judaica are made possible by the Eloise and Elliot Kaplan Fund for Judaica.\\r\\n\\r\\nThe department is strong in modernist design, including the Prairie School-style\\xA0<em>Purcell-Cutts House</em>\\xA0(1913), designed by William Gray Purcell and George Grant Elmslie for the Purcell family. In addition, the Mia houses one of the best collections of Prairie School material in the country, presented in the Bob Ulrich and Jill Dahlin Architecture and Design Gallery (355). The Norwest Modernism Collection is a major component of the department\\u2019s holdings, comprising nearly 500 objects dating from 1880 to 1940. In recent decades, the department has built up a significant collection of contemporary studio ceramics, glass, and wood. A current focus is design of the Scandinavian and Nordic countries. The Mia continues to showcase these collections at the Wells Fargo Center in downtown Minneapolis. On the Web, they are represented by the award-winning sites\\xA0<a href=\"http://http//www.artsMia.org/unified-vision/\">Unified Vision: The Architecture and Design of the Prairie School</a>\\xA0and\\xA0<a href=\"http://www.artsMia.org/modernism/\">Modernism</a>.',\n  paintings: 'The Mia\\'s internationally acclaimed collection of paintings contains nearly 900 European and American works from the fourteenth century to the present. It offers a comprehensive survey of both celebrated schools and individual artists and is notable for its concentration of masterworks.\\r\\n\\r\\nOne of the museum\\u2019s earliest acquisitions was Gustave Courbet\\u2019s Deer in a Forest, which St. Paul railroad magnate James J. Hill donated in 1914. Hill\\u2019s collection of nineteenth-century French Romantic and Realist art was exceptional. Many of his most important pictures, including Eug\\xE8ne Delacroix\\u2019s The Fanatics of Tangier, were given or bequeathed to the Mia by his descendants.\\r\\n\\r\\nThe present paintings collection has been expanded in varied and often delightfully unpredictable ways by a succession of astute trustees, donors, directors, and curators. It includes Claude Lorrain\\u2019s Pastoral Landscape of 1638, Nicolas Poussin\\u2019s Death of Germanicus of 1627, and Rembrandt van Rijn\\u2019s Lucretia of 1666. In addition to many wonderful French nineteenth-century pictures, the museum has rich holdings of Italian Baroque, seventeenth-century Dutch, and Fauve, Cubist, and German Expressionist works. The American collection showcases a range of artistic accomplishments from Gilbert Stuart to Larry Rivers and contains exceptional paintings by John Singer Sargent and Georgia O\\u2019Keeffe.',\n  photography: 'Begun in 1973, the Mia\\u2019s collection of photographs spans the history of photography from the 1860s to the present. Representing more than 800 photographers and 11,500 works of art, the collection has outstanding examples of twentieth-century American photography, with particular depth in the genres of documentary photography, photojournalism, and pictorialism. Since 2008, the museum has focused on expanding its holdings of contemporary photography and new media from all countries. This initiative increases the scope and relevance of the photography collection and enhances its links to the Mia\\u2019s diverse, global holdings.\\r\\n\\r\\nThe Department of Photography &amp; New Media continues to thrive thanks to the active, generous support of loyal donors. The earliest acquisitions were funded by Kate Butler and Hall James Peterson. Their initiative inspired others, including Harry Drake, Martin Weinstein, and Fred and Ellen Wells. More recently, the creation of the Alfred and Ingrid Lenz Harrison Fund and the establishment of the Harrison Photography Galleries (364 &amp; 365) have given the department enormous momentum. These superb new galleries are devoted to presenting the permanent collection. In addition, Linda and Lawrence Perlman established the Perlman Gallery (262), which is dedicated to featuring contemporary photography and is located in the Mia\\u2019s Target Wing, hosting\\xA0<a href=\"http://www2.artsMia.org/blogs/new-pictures\">New Pictures</a>, a semi-annual series highlighting emerging photographers from around the world. You, too, can contribute to and enjoy special access to exhibitions and events by joining the\\xA0<a href=\"http://new.artsMia.org/join-and-invest/affinity-groups/\">Photography &amp; New Media Affinity Group</a>.\\r\\n\\r\\nOver the years, the Department of Photography &amp; New Media has been committed to using its collection for educational purposes, and the Mia now serves as a major resource for the five-state region. Numerous exhibitions drawn from the collection have traveled to other institutions, and students and teachers frequently visit the galleries and\\xA0<a href=\"http://new.artsMia.org/visit/museum-facilities/study-rooms/\">Photography Study Room</a>\\xA0to learn from the collection firsthand. Click on the photograph below to browse the collection and prepare for your next visit to the Mia.',\n  prints: 'The Department of Prints &amp; Drawings keeps up an active program of thematic exhibitions, but it is also the Mia\\u2019s hidden treasure chest. At any given time, only a fraction of the museum\\u2019s collection of nearly 40,000 prints and 3,000 drawings is on view in the galleries. Nearly all, however, are available to the public in the comfort of the\\xA0<a href=\"http://new.artsMia.org/visit/study-rooms/\">Herschel V. Jones Print Study Room</a>. To prepare for your visit, please make an appointment by phone (612) 870-3105 or by e-mail (<a href=\"mailto:printstudy@artsMia.org\">printstudy@artsMia.org</a>).\\r\\n\\r\\nMany of the greatest European and American artists from the Renaissance to the present are represented, often in considerable depth and quality. Among the highlights are old master prints by Albrecht D\\xFCrer and Rembrandt van Rijn; Jacopo de\\u2019Barbari\\u2019s amazing bird\\u2019s-eye view of Venice; a rare presentation copy of Francisco de Goya\\u2019s\\xA0<em>Los Caprichos</em>; a fabulous monotype by William Blake; extensive holdings in nineteenth-century French and British prints and drawings, featuring artists such as James McNeill Whistler, Edgar Degas, and F\\xE9lix Buhot; and outstanding twentieth-century drawings by Lovis Corinth, Egon Schiele, Ernst Ludwig Kirchner, Erich Heckel, Piet Mondrian, Georges Rouault, Henri Matisse, Jasper Johns, Andy Warhol, Roy Lichtenstein, Jim Dine, Ed Ruscha, Nicola Hicks, and many more. The department is building its collection of twenty-first-century prints and drawings, which is reaching ever further beyond America and Europe to other parts of the world. P&amp;D has secured works by William Kentridge, Julie Mehretu, Mequitta Ahuja, Jaune Quick-to-See Smith, Chuck Close, Luis Jimenez, Cynthia Lin, Carlos Amorales, Diane Victor, and more.\\r\\n\\r\\nThere are also fascinating collections within the collection. The department has a large number of books designed and illustrated by artists, which is especially rich in works from France. Students of modern printmaking will want to explore the Vermillion Editions Limited Archival Collection, which contains examples of all the prints published by that Twin Cities press as well as preparatory drawings, proofs, and maquettes that led to the finished work. Botanical, zoological, fashion, and ornamental illustrations from the fifteenth through the twentieth centuries all figure in the mix, as does a wide array of works by Minnesota and regional artists.\\r\\n\\r\\nThe\\xA0<a href=\"http://new.artsMia.org/join-and-invest/affinity-groups/\">Prints &amp; Drawings Affinity Group</a>\\xA0provides a terrific opportunity to learn more about this vital field of art, to meet others with similar interests, and to help the Mia improve its ability to make art available to the public.',\n  cssaa: 'The Department of Chinese and South and Southeast Asian Art has benefited greatly from generous gifts from knowledgeable collectors. Augustus L. Searle, Alfred F. Pillsbury, Richard P. Gale, Louis W. Hill, Jr., and Ruth and Bruce Dayton have donated collections of international reputation. These include ancient Chinese bronzes, ancient and post-Song jade, Chinese monochrome ceramics, and classical Chinese furniture. In addition, curators have built exquisite collections of Qing dynasty silk textiles and Miao textiles.\\r\\n\\r\\nSome of the first works of art to enter the museum\\u2019s collection were from South (India, Bangladesh, Sri Lanka, Pakistan, Nepal, Bhutan, and Afghanistan) and Southeast Asia (Cambodia, Laos, Myanmar, Thailand, Malaysia, Vietnam, Singapore, Indonesia, Brunei and the Philippines), beginning in 1914 when Charles Freer donated several Thai Buddhist sculptures.\\xA0 In 1929 Sarah Bell Pillsbury Gale gave the museum its first major Indian work of art, a 12th century bronze (ca. 1100) Dancing Shiva (Nataraja).\\xA0 The highlight of the South Asian collection is a monumental stone Yogini sculpture from 10<span style=\"font-size: 11px;\">th\\xA0</span>century south India. Today the South Asian collection numbers about 150 objects and the Southeast Asian collection numbers around 183.\\r\\n\\r\\nWithin the galleries there are two Chinese period rooms including an original reception hall from the late Ming dynasty and a ca. 1700 Suzchou-area library.',\n  jka: 'The collection of Japanese and Korean art includes over 7,000 works ranging from ancient to contemporary and is amongst the top five collections in the United States. The permanent display space for Japanese art is the largest in the Western world with 15 galleries and over 10,000 square feet (930 sqm). The collection itself includes Buddhist sculpture, woodblock prints, paintings, lacquer, works of bamboo, and ceramics, and it is particularly rich in works from the Edo period (1610\\u20131868).\\r\\n\\r\\nTwo historic rooms, a formal audience hall (<i>shoin</i>) and a teahouse (<i>chashitsu</i>), allow highly visible installations within the permanent galleries and serve to heighten awareness of the relationship between art and architecture.</p><p>The Department of Japanese and Korean art has benefited greatly from generous gifts from knowledgeable collectors. Richard P. Gale, Louis W. Hill, Jr., Ruth and Bruce Dayton, and Ellen and Fred Wells have all donated specialized collections of international reputation. With the addition of over 1,500 works of art from the collections of Elizabeth and Willard \\u201CBill\\u201D Clark and the Clark Center for Japanese Art in 2013 and half of the world-renowned Mary Griggs Burke collection, the Japanese and Korean art galleries are no doubt a destination for both art enthusiasts and scholars alike.</p><p>The department is dedicated to providing the public with a broad overview of Japanese and Korean art. By showcasing art both chronologically and by medium, the galleries show the history of not only the objects themselves, but also of a collected process of artistic creation. This can be seen, for example, by the scope of ceramics, ranging from early utilitarian to contemporary sculptures.</p><p>Of notable strength is the collection of <i>ukiyo-e</i> paintings and prints, popularly known as \\u201Cpictures of the floating world\\u201D. The core of the collection was built by Richard P. Gale and Louis W. Hill, Jr., and the Gale bequest included some 57 paintings and 206 prints, many of which are rare and in admirable condition. A strong collection of <i>\\u014Ctsu-e</i>, folk paintings produced in and around the town of \\u014Ctsu during the Edo period, came from collectors Edson and Harriet Spencer who also donated their collection of tiger paintings.'\n};\n\nmodule.exports = DepartmentDecorator;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlcGFydG1lbnQuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiTGluayIsIk1hcmtkb3duIiwiZmluZERlcGFydG1lbnQiLCJEZXBhcnRtZW50RGVjb3JhdG9yIiwiY3JlYXRlQ2xhc3MiLCJnZXRJbml0aWFsU3RhdGUiLCJnZXROYW1lQW5kU2VsZWN0b3IiLCJwcm9wcyIsImRlcGFydG1lbnQiLCJkZXB0TmFtZSIsInNlbGVjdG9yIiwic2x1ZyIsImRlcGFydG1lbnRJbmZvIiwiaW5mbyIsImRlcGFydG1lbnRzIiwiYmx1cmIiLCJjb250ZW50IiwiRGVwYXJ0bWVudENvbnRlbnQiLCJleHBhbmRlZCIsInBhcmFtcyIsImRlcHQiLCJyZW5kZXIiLCJzdGF0ZSIsInNwbGl0IiwiYmx1cmJBIiwiYmx1cmJCIiwiZnVsbEluZm8iLCJnZXRGdWxsSW5mbyIsInRlcm1zIiwic2hvcnRCbHVyYiIsImFmZmluaXR5Qmx1cmIiLCJ0ZXJtIiwiZGVjb2RlZFRlcm0iLCJkZWNvZGVVUklDb21wb25lbnQiLCJtYXRjaCIsImdldEN1cmF0b3JzIiwiY3VyYXRvcnMiLCJtYXAiLCJuYW1lIiwiZmlsdGVyIiwiZXhpc3RzIiwiZW1lcml0dXMiLCJjdXJhdG9yIiwibGVuZ3RoIiwicGhvdG8iLCJ0aXRsZSIsImdldEFmZmluaXR5IiwiYWZmaW5pdGllcyIsImFmZmluaXR5R3JvdXBzIiwiYWciLCJpbmRleE9mIiwiaW1hZ2UiLCJhIiwiZmVhdHVyZWRBcnQiLCJpZCIsImFmcmljYSIsImNvbnRlbXBvcmFyeSIsImRhdHMiLCJwYWludGluZ3MiLCJwaG90b2dyYXBoeSIsInByaW50cyIsImNzc2FhIiwiamthIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQUlBLFFBQVFDLFFBQVEsT0FBUixDQUFaOztlQUNhQSxRQUFRLGNBQVIsQztJQUFSQyxJLFlBQUFBLEk7O0FBRUwsSUFBSUMsV0FBV0YsUUFBUSxhQUFSLENBQWY7QUFDQSxJ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VSxpQkFBaUIsSUFBM0I7QUFBa0NDLGNBQUVwQztBQUFwQyxXQURBO0FBRUU7QUFBQTtBQUFBO0FBQUE7QUFBQSxXQUZGO0FBR0U7QUFBQTtBQUFBLGNBQUcsTUFBSyx5REFBUixFQUFrRSxXQUFVLFFBQTVFO0FBQUE7QUFBQTtBQUhGO0FBSEssT0FBUDtBQVNELEtBYk0sQ0FBUDtBQWNELEdBcEd5QztBQXNHMUNjLGVBdEcwQywyQkFzRzFCO0FBQ2QsV0FBTztBQUFBO0FBQUEsUUFBSyxXQUFVLFVBQWY7QUFDTDtBQUFBO0FBQUE7QUFBQTtBQUFBLE9BREs7QUFFTDtBQUFBO0FBQUEsVUFBRyxNQUFLLHlEQUFSLEVBQWtFLFdBQVUsUUFBNUU7QUFBQTtBQUFBO0FBRkssS0FBUDtBQUlEO0FBM0d5QyxDQUFsQixDQUExQjs7QUE4R0EsSUFBSWIsb0JBQW9CO0FBQ3RCc0MsOHJEQURzQjtBQUV0QkMsd3ZCQUZzQjtBQUd0QkMsOHJIQUhzQjtBQUl0QkMsKzVDQUpzQjtBQUt0QkMsZzFFQUxzQjtBQU10QkMseXZGQU5zQjtBQU90QkMsaTlDQVBzQjtBQVF0QkM7QUFSc0IsQ0FBeEI7O0FBV0FDLE9BQU9DLE9BQVAsR0FBaUI3RCxtQkFBakIiLCJmaWxlIjoiZGVwYXJ0bWVudC5qcyIsInNvdXJjZVJvb3QiOiIvdmFyL3d3dy9hcnQvc3JjL2RlY29yYXRlIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIHtMaW5rfSA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG5cbnZhciBNYXJrZG93biA9IHJlcXVpcmUoJy4uL21hcmtkb3duJylcbnZhciBmaW5kRGVwYXJ0bWVudCA9IHJlcXVpcmUoJy4uL2RlcGFydG1lbnQtc2x1ZycpXG5cbnZhciBEZXBhcnRtZW50RGVjb3JhdG9yID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgdmFyIFtkZXB0TmFtZSwgc2VsZWN0b3IsIHNsdWddID0gdGhpcy5nZXROYW1lQW5kU2VsZWN0b3IodGhpcy5wcm9wcy5kZXBhcnRtZW50KVxuICAgIHZhciB7ZGVwYXJ0bWVudEluZm99ID0gdGhpcy5wcm9wc1xuICAgIHZhciBpbmZvID0gZGVwYXJ0bWVudEluZm8gJiYgZGVwYXJ0bWVudEluZm8uZGVwYXJ0bWVudHNbc2VsZWN0b3JdXG5cbiAgICByZXR1cm4ge1xuICAgICAgZGVwdE5hbWUsXG4gICAgICBzZWxlY3RvcixcbiAgICAgIHNsdWcsXG4gICAgICBpbmZvOiBpbmZvLFxuICAgICAgYmx1cmI6IGluZm8gJiYgaW5mby5jb250ZW50IHx8IERlcGFydG1lbnRDb250ZW50W3NlbGVjdG9yXSB8fCBgU29ycnksIHRoZXJlJ3Mgbm8gXCIke2RlcHROYW1lfVwiIGRlcGFydG1lbnQuYCxcbiAgICAgIGV4cGFuZGVkOiB0aGlzLnByb3BzLmV4cGFuZGVkIHx8ICEhdGhpcy5wcm9wcy5wYXJhbXMuZGVwdCB8fCBmYWxzZSxcbiAgICB9XG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciB7ZGVwYXJ0bWVudH0gPSB0aGlzLnByb3BzXG4gICAgdmFyIHtkZXB0TmFtZSwgc2VsZWN0b3IsIGJsdXJiLCBleHBhbmRlZH0gPSB0aGlzLnN0YXRlXG5cbiAgICB2YXIgW2JsdXJiQSwgYmx1cmJCXSA9IGJsdXJiLnNwbGl0KCc8aHIgLz4nKVxuXG4gICAgdmFyIGZ1bGxJbmZvID0gZXhwYW5kZWQgJiYgdGhpcy5nZXRGdWxsSW5mbyhibHVyYkIpXG5cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJkZXBhcnRtZW50Qmx1cmIgbWRsLWdyaWQgZGVjb3JhdG9yIGQtZGVwYXJ0bWVudFwiPlxuICAgICAgPGgyPjxMaW5rIHRvPSdkZXBhcnRtZW50JyBwYXJhbXM9e3tkZXB0OiB0aGlzLnN0YXRlLnNsdWcsIHRlcm1zOiBkZXBhcnRtZW50fX0+PHNwYW4gY2xhc3NOYW1lPVwiZC12aXNpdFwiPlZpc2l0IDwvc3Bhbj57dGhpcy5zdGF0ZS5kZXB0TmFtZX08L0xpbms+PC9oMj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWRsLWNlbGwgbWRsLWNlbGwtLTYtY29sIGRlcGFydG1lbnRDb250ZW50XCI+XG4gICAgICAgIHtleHBhbmRlZCA/IDxNYXJrZG93biBhbHJlYWR5UmVuZGVyZWQ9e3RydWV9PntibHVyYkF9PC9NYXJrZG93bj4gOiB0aGlzLnNob3J0Qmx1cmIoKX1cbiAgICAgICAge2V4cGFuZGVkICYmIHRoaXMuYWZmaW5pdHlCbHVyYigpfVxuICAgICAgPC9kaXY+XG4gICAgICB7ZXhwYW5kZWQgJiYgZnVsbEluZm99XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgZ2V0TmFtZUFuZFNlbGVjdG9yKHRlcm0pIHtcbiAgICB2YXIgZGVjb2RlZFRlcm0gPSBkZWNvZGVVUklDb21wb25lbnQodGVybSlcbiAgICB2YXIgZGVwdE5hbWUgPSBmaW5kRGVwYXJ0bWVudChkZWNvZGVkVGVybSkgPyBkZWNvZGVkVGVybSA6IGRlY29kZWRUZXJtLm1hdGNoKC9kZXBhcnRtZW50OlwiPyhbXlwiXSopXCI/LylbMV1cbiAgICByZXR1cm4gZmluZERlcGFydG1lbnQoZGVwdE5hbWUpXG4gIH0sXG5cbiAgc2hvcnRCbHVyYigpIHtcbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIDxNYXJrZG93bj57dGhpcy5zdGF0ZS5ibHVyYi5zcGxpdCgnXFxuJylbMF19PC9NYXJrZG93bj5cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBnZXRGdWxsSW5mbyhpbmZvKSB7XG4gICAgdmFyIHtkZXB0TmFtZX0gPSB0aGlzLnN0YXRlXG5cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJkZXBhcnRtZW50UmVzb3VyY2VzIG1kbC1jZWxsIG1kbC1jZWxsLS02LWNvbFwiPlxuICAgICAgPGRpdj57dGhpcy5nZXRDdXJhdG9ycygpfTwvZGl2PlxuICAgICAgPE1hcmtkb3duIGFscmVhZHlSZW5kZXJlZD17dHJ1ZX0+e2luZm99PC9NYXJrZG93bj5cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBnZXRDdXJhdG9ycygpIHtcbiAgICB2YXIgY3VyYXRvcnMgPSB0aGlzLnN0YXRlLmluZm8uY3VyYXRvcnNcbiAgICAubWFwKG5hbWUgPT4gdGhpcy5wcm9wcy5kZXBhcnRtZW50SW5mby5jdXJhdG9yc1tuYW1lXSlcbiAgICAuZmlsdGVyKGV4aXN0cyA9PiAhIWV4aXN0cylcbiAgICAuZmlsdGVyKCh7ZW1lcml0dXN9KSA9PiAhZW1lcml0dXMpXG4gICAgLmZpbHRlcihjdXJhdG9yID0+ICFjdXJhdG9yLm5hbWUubWF0Y2goL3lhc3VmdW1pL2kpKVxuXG4gICAgcmV0dXJuIGN1cmF0b3JzLmxlbmd0aCA+IDAgJiYgPGRpdiBpZD1cImN1cmF0b3JzXCI+XG4gICAgICA8aDM+Q3VyYXRvcnM8L2gzPlxuICAgICAge2N1cmF0b3JzLm1hcChjdXJhdG9yID0+IHtcbiAgICAgICAgY3VyYXRvci5waG90byA9IGBodHRwczovL2NvbGxlY3Rpb25zLmFydHNtaWEub3JnL19pbmZvL2N1cmF0b3ItcG9ydHJhaXRzLyR7Y3VyYXRvci5zbHVnfS5qcGdgXG5cbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiY3VyYXRvckJpb1wiIGtleT17Y3VyYXRvci5zbHVnfT5cbiAgICAgICAgICA8TGluayB0bz1cImN1cmF0b3JcIiBwYXJhbXM9e3tzbHVnOmN1cmF0b3Iuc2x1Z319PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdXJhdG9yUGljXCI+XG4gICAgICAgICAgICAgIDxpbWcgc3JjPXtjdXJhdG9yLnBob3RvfSBhbHQ9e2Bwb3J0cmFpdCBvZiAke2N1cmF0b3IubmFtZX1gfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1cmF0b3ItaW50cm9cIj5cbiAgICAgICAgICAgIDxoND57Y3VyYXRvci5uYW1lfTwvaDQ+XG4gICAgICAgICAgICA8aDU+PE1hcmtkb3duPntjdXJhdG9yLnRpdGxlfTwvTWFya2Rvd24+PC9oNT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgPC9kaXY+XG4gICAgICB9KX1cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBnZXRBZmZpbml0eSgpIHtcbiAgICB2YXIgYWZmaW5pdGllcyA9IHRoaXMucHJvcHMuZGVwYXJ0bWVudEluZm8uYWZmaW5pdHlHcm91cHNcbiAgICAuZmlsdGVyKGFnID0+IGFnLmRlcGFydG1lbnRzICYmIGFnLmRlcGFydG1lbnRzLmluZGV4T2YoZmluZERlcGFydG1lbnQodGhpcy5wcm9wcy5kZXBhcnRtZW50KVsxXSkgPiAtMSlcblxuICAgIHJldHVybiBhZmZpbml0aWVzLm1hcChhID0+IHtcbiAgICAgIHZhciBpbWFnZSA9IDxpbWcgc3JjPXthLmZlYXR1cmVkQXJ0ID8gYGh0dHA6Ly9hcGkuYXJ0c01pYS5vcmcvaW1hZ2VzLyR7YS5mZWF0dXJlZEFydH0vNDAwL21lZGl1bS5qcGdgIDogYS5pbWFnZX0gLz5cbiAgICAgIGltYWdlID0gYS5mZWF0dXJlZEFydCA/IDxMaW5rIHRvPVwiYXJ0d29ya1wiIHBhcmFtcz17e2lkOiBhLmZlYXR1cmVkQXJ0fX0+e2ltYWdlfTwvTGluaz4gOiBpbWFnZVxuXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJhZmZpbml0eVwiIGtleT17YS50aXRsZX0+XG4gICAgICAgIDxoMz57YS50aXRsZX08L2gzPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFmZmluaXR5SW1hZ2VcIj57aW1hZ2V9PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWZmaW5pdHktaW50cm9cIj5cbiAgICAgICAgPE1hcmtkb3duIGFscmVhZHlSZW5kZXJlZD17dHJ1ZX0+e2EuY29udGVudH08L01hcmtkb3duPlxuICAgICAgICAgIDxwPk1pYeKAmXMgQWZmaW5pdHkgR3JvdXBzIGFyZSBhIGdyZWF0IHdheSBmb3IgbXVzZXVtIG1lbWJlcnMgdG8gY29ubmVjdCBtb3JlIGNsb3NlbHkgd2l0aCBzcGVjaWFsIGFyZWFzIG9mIGFydCBpbnRlcmVzdCwgYWxsb3dpbmcgeW91IHRvIGRlbHZlIGRlZXBlciBpbnRvIHRoZSBjdXJhdG9yaWFsIGFyZWEgb2YgeW91ciBjaG9pY2UuPC9wPlxuICAgICAgICAgIDxhIGhyZWY9XCJodHRwOi8vbmV3LmFydHNtaWEub3JnL2pvaW4tYW5kLWludmVzdC9hZmZpbml0eS1ncm91cHMvXCIgY2xhc3NOYW1lPVwiYnV0dG9uXCI+TGVhcm4gTW9yZTwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICB9KVxuICB9LFxuXG4gIGFmZmluaXR5Qmx1cmIoKSB7XG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiYWZmaW5pdHlcIj5cbiAgICAgIDxwPk1pYeKAmXMgQWZmaW5pdHkgR3JvdXBzIGFyZSBhIGdyZWF0IHdheSBmb3IgbXVzZXVtIG1lbWJlcnMgdG8gY29ubmVjdCBtb3JlIGNsb3NlbHkgd2l0aCBzcGVjaWFsIGFyZWFzIG9mIGFydCBpbnRlcmVzdCwgYWxsb3dpbmcgeW91IHRvIGRlbHZlIGRlZXBlciBpbnRvIHRoZSBjdXJhdG9yaWFsIGFyZWEgb2YgeW91ciBjaG9pY2UuPC9wPlxuICAgICAgPGEgaHJlZj1cImh0dHA6Ly9uZXcuYXJ0c21pYS5vcmcvam9pbi1hbmQtaW52ZXN0L2FmZmluaXR5LWdyb3Vwcy9cIiBjbGFzc05hbWU9XCJidXR0b25cIj5MZWFybiBNb3JlPC9hPlxuICAgIDwvZGl2PlxuICB9LFxufSlcblxudmFyIERlcGFydG1lbnRDb250ZW50ID0ge1xuICBhZnJpY2E6IGBUaGUgQXJ0cyBvZiBBZnJpY2EgYW5kIHRoZSBBbWVyaWNhcyBEZXBhcnRtZW50IGlzIGRlZGljYXRlZCB0byB0aGUgaW1tZW5zZSBjcmVhdGl2aXR5IG9mIE5hdGl2ZSBwZW9wbGVzIGFjcm9zcyB0aGUgd29ybGQsIGZyb20gcHJlaGlzdG9yeSB0byB0aGUgcHJlc2VudC4gVGhlIGNvbGxlY3Rpb24gaGFzIGdyb3duIHNpZ25pZmljYW50bHkgc2luY2UgdGhlIGRlcGFydG1lbnQgd2FzIGZvdW5kZWQgbW9yZSB0aGFuIHRoaXJ0eSB5ZWFycyBhZ28sIGFuZCBub3cgbnVtYmVycyBtb3JlIHRoYW4gMywwMDAgb2JqZWN0cywgaW5jbHVkaW5nIG1hc3RlcndvcmtzIG9mIHNjdWxwdHVyZSwgY2VyYW1pY3MsIG1ldGFsc21pdGhpbmcsIHBhaW50aW5nLCBiYXNrZXRyeSwgYW5kIGJlYWQtLCBzaGVsbC0sIGFuZCBxdWlsbHdvcmssIHJlZmxlY3RpbmcgdGhlIGRpdmVyc2l0eSBvZiB0aGVzZSByZWdpb25zIGFuZCBjdWx0dXJlcy5cXHJcXG5cXHJcXG5IaWdobGlnaHRzIG9mIEFmcmljYW4gYXJ0IGF0IHRoZSBtdXNldW0gaW5jbHVkZSBhIGNlcmFtaWMgcG9ydHJhaXQgaGVhZCBmcm9tIHRoZSBhbmNpZW50IGNpdmlsaXphdGlvbiBvZiBJZmUsIGEgdGhvdXNhbmQteWVhci1vbGQgd29vZGVuIGhvcnNlLWFuZC1yaWRlciBmcm9tIERqZW5uZSwgYW5kIGEgY2FzdCBicm9uemUgbGVvcGFyZCBhbmQgYSBjYXJ2ZWQgaXZvcnkgdHVzaywgYm90aCBmcm9tIHRoZSBlaWdodGVlbnRoLWNlbnR1cnkgS2luZ2RvbSBvZiBCZW5pbi4gT3RoZXIgaW1wb3J0YW50IHBpZWNlcyBhcmUgYSByYXJlIEx1YmEgbWFzaywgb25lIG9mIG9ubHkgdHdvIGtub3duIGluIHRoZSB3b3JsZCwgYSBkcmFtYXRpYyBkYW5jZSBtYXNrIG9mdGVuIGtub3duIGFzIGEg4oCcZmlyZXNwaXR0ZXLigJ0gZnJvbSBDb3RlIGTigJlJdm9pcmUsIGFuZCBhIHBhbGFjZSBkb29yIGNyZWF0ZWQgYnkgdGhlIGZhbWVkIFlvcnViYSBhcnRpc3QgQXJlb2d1biBvZiBPc2kuXFxyXFxuXFxyXFxuVGhlIE5hdGl2ZSBBbWVyaWNhbiBnYWxsZXJpZXMgYXJlIGVxdWFsbHkgcmljaCBpbiBleGFtcGxlcyBvZiB0aGUgaGlnaGVzdCBxdWFsaXR5IGFydCwgc3VjaCBhcyBvdXIgdW5wYXJhbGxlbGVkIHRocmVlLXRob3VzYW5kLXllYXItb2xkIE9sbWVjIGphZGUgbWFzaywgYW4gZXhjZXB0aW9uYWwgbmluZXRlZW50aC1jZW50dXJ5IFN1biBNYXNrIGZyb20gdGhlIE5vcnRod2VzdCBDb2FzdCwgYW5kIGEgbW9udW1lbnRhbCBwaXBlIGluIHRoZSBmb3JtIG9mIGEgYm91bmQgcHJpc29uZXIsIG1hZGUgaW4gc291dGhlYXN0ZXJuIFVuaXRlZCBTdGF0ZXMgYXJvdW5kIDEyMDAuIEFkZGl0aW9uYWwgbWFzdGVyd29ya3MgaW5jbHVkZSB0aGUgZmluZWx5IHdvcmtlZCBnb2xkIGVhcnNwb29scyBmcm9tIHRoZSBhbmNpZW50IEFuZGVzLCBhbmQgYSBiZWFkZWQgbWFu4oCZcyBzaG91bGRlciBwb3VjaCBtYWRlIGluIE1pbm5lc290YSBpbiB0aGUgZWFybHkgMTgwMHMuXFxyXFxuXFxyXFxuT3VyIE9jZWFuaWMgY29sbGVjdGlvbiBjb250YWlucyB3b3JsZC1jbGFzcyBwaWVjZXMsIHN1Y2ggYXMgdGhlIE1hb3JpIFBvdXRva29tYW5hd2EgKFBvc3QgRmlndXJlKSBjcmVhdGVkIGluIHRoZSAxODQwcywgdGhlIHRocmVlIGZhYnVsb3VzIE1hbGFnYW4gZmlndXJlcywgYW4gZWFybHkgUGFwdWFuIEdvcGUgQm9hcmQsIGFuZCB0aGUgQmlzIFBvbGUsIGEgY2VudGVycGllY2Ugb2YgdGhlIGdhbGxlcnkuYCxcbiAgY29udGVtcG9yYXJ5OiBgSW4gMjAwOCB0aGUgTWlhIGxhdW5jaGVkIGFuIGluaXRpYXRpdmUgdG8gZm9jdXMgb24gdGhlIGFydCBvZiBvdXIgdGltZXMuIFRocm91Z2ggaXRzIG5ldyBEZXBhcnRtZW50IG9mIENvbnRlbXBvcmFyeSBBcnQsIHRoZSBtdXNldW0gYnJpbmdzIGEgZnJlc2ggZHluYW1pc20gdG8gaXRzIGdhbGxlcmllcyBieSBjb2xsZWN0aW5nIGFuZCBleGhpYml0aW5nIHdvcmtzIGJ5IGxpdmluZyBhcnRpc3RzLiBUaGlzIGluaXRpYXRpdmUgZW1waGFzaXplcyB0aGUgcmVsYXRpb25zaGlwcyBhbW9uZyBoaXN0b3JpY2FsIGFydCwgZGl2ZXJzZSBjdWx0dXJlcywgYW5kIGNvbnRlbXBvcmFyeSBhcnQtbWFraW5nLlxcclxcblxcclxcbkNvbnRlbXBvcmFyeSBhcnQgb2YgdGhlIHJlZ2lvbiBjb250aW51ZXMgdG8gYmUgcmVwcmVzZW50ZWQgYnkgdGhlIE1pbm5lc290YSBBcnRpc3RzIEV4aGliaXRpb24gUHJvZ3JhbSAoTUFFUCkgYXMgd2VsbCBhcyBieSBzZWxlY3RlZCBwcm9qZWN0cyB3aXRoIGxvY2FsIGFydGlzdHMsIGFyY2hpdGVjdHMsIGRlc2lnbmVycywgYW5kIG90aGVyIGNyZWF0aXZlIHRoaW5rZXJzLiBJbiBjb2xsYWJvcmF0aW9uIHdpdGggb3RoZXIgTWlhIGN1cmF0b3JpYWwgZGVwYXJ0bWVudHMsIHRoZSBEZXBhcnRtZW50IG9mIENvbnRlbXBvcmFyeSBBcnQgZW5nYWdlcyBib3RoIGxvY2FsIGFuZCBnbG9iYWwgYXJ0aXN0cyB0byBjcmVhdGUgcHVibGljIGFuZCBzaXRlLXNwZWNpZmljIHdvcmsgYXQgdGhlIE1pYS5gLFxuICBkYXRzOiBgT3JpZ2luYWxseSBlc3RhYmxpc2hlZCB0byBmb2N1cyBvbiBmdXJuaXR1cmUsIG1ldGFsd29yaywgY2VyYW1pY3MsIGFuZCBnbGFzcywgdGhlIGRlcGFydG1lbnQgdG9kYXkgZW5jb21wYXNzZXMgbW9yZSB0aGFuIDE4LDAwMCB3b3JrcyBpbiBhbGwgbWVkaXVtcyBmcm9tIEFtZXJpY2EgYW5kIEV1cm9wZSwgZnJvbSB0aGUgTWlkZGxlIEFnZXMgdG8gdGhlIHByZXNlbnQuXFxyXFxuXFxyXFxuTWFueSBjb2xsZWN0b3JzIGFuZCBkb25vcnMgaGF2ZSBjb250cmlidXRlZCB0byB0aGUgcG9yY2VsYWluIGFuZCBwb3R0ZXJ5IGNvbGxlY3Rpb24sIHdoaWNoIGluY2x1ZGVzIGVpZ2h0ZWVudGgtY2VudHVyeSBGcmVuY2ggZmFpZW5jZSBmcm9tIE1ycy4gSm9obiBQLiBSdXRoZXJmdXJkLCBzZXZlbnRlZW50aC0gYW5kIGVpZ2h0ZWVudGgtY2VudHVyeSBFbmdsaXNoIGRlbGZ0IGZyb20gTXIuIGFuZCBNcnMuIEdlb3JnZSBSLiBTdGVpbmVyLCBhbmQgQ2hpbmVzZSBFeHBvcnQgcG9yY2VsYWluIGZyb20gTGVvIGFuZCBEb3JpcyBIb2Ryb2ZmLiBEb21lc3RpYyBpbnRlcmlvcnMgYW5kIGZ1cm5pc2hpbmdzIHNwYW5uaW5nIGZvdXIgY2VudHVyaWVzIGFyZSBwcmVzZW50ZWQgaW4gdGhlIE1pYeKAmXMgbmluZSBwZXJpb2Qgcm9vbXMsIHdpdGggYSAxNzMwIGdyYW5kIHNhbG9uIGZyb20gdGhlIEjDtHRlbCBkZSBsYSBCb3XDq3hpw6hyZSBpbiBQYXJpcywgd2hpY2ggaGFzIGJlZW4gcmVzdG9yZWQgd2l0aCBmdW5kcyBmcm9tIHRoZSBHcm92ZXMgRm91bmRhdGlvbi5cXHJcXG5cXHJcXG5UaGUgZGVwYXJ0bWVudOKAmXMgdGV4dGlsZSBjb2xsZWN0aW9uIGhhcyBnYWluZWQgYW4gaW50ZXJuYXRpb25hbCByZXB1dGF0aW9uIGZvciBpdHMgc3BlY3RhY3VsYXIgaW5kaXZpZHVhbCBwaWVjZXMgYXMgd2VsbCBhcyBpdHMgaW1wcmVzc2l2ZSBob2xkaW5ncyBvZiBFdXJvcGVhbiB0YXBlc3RyaWVzLCBlYXJseSBJdGFsaWFuIGxhY2VzLCBwYXNzZW1lbnRlcmllLCBLYXNobWlyIHNoYXdscywgYW5kIFR1cmtpc2ggZW1icm9pZGVyaWVzLiBUZXh0aWxlcyBmcm9tIHRoZSBKYWNrIExlbm9yIExhcnNlbiBjb21wYW55IGFyY2hpdmUgYW5kIHRoZSBOb3J3ZXN0IE1vZGVybmlzbSBDb2xsZWN0aW9uIGhhdmUgYnJvYWRlbmVkIHRoZSBzY29wZSBvZiB0aGUgY29sbGVjdGlvbuKAmXMgdHdlbnRpZXRoLWNlbnR1cnkgaG9sZGluZ3MsIGNvbXBsZW1lbnRpbmcgaXRzIGFscmVhZHkgc3Ryb25nIGNvbGxlY3Rpb24gb2YgY29udGVtcG9yYXJ5IGZpYmVyIGFydC5cXHJcXG5cXHJcXG5BIHBhcnRpY3VsYXIgc3RyZW5ndGggb2YgdGhlIE1pYeKAmXMgZGVjb3JhdGl2ZSBhcnRzIGNvbGxlY3Rpb24gaW5jbHVkZXMgRW5nbGlzaCwgQW1lcmljYW4gYW5kIENvbnRpbmVudGFsIHNpbHZlciwgd2hpY2ggaXMgc2hvd2Nhc2VkIGluIHRoZSBNYXJ5IEFnbmVzIGFuZCBBbCBNY1F1aW5uIEdhbGxlcnkgKDM1MCkuIE1pYSB0cnVzdGVlIGFuZCBzaWx2ZXIgY29sbGVjdG9yIEphbWVzIEZvcmQgQmVsbCBlc3RhYmxpc2hlZCB0aGUgZm91bmRhdGlvbiBvZiB0aGUgbXVzZXVt4oCZcyBjb2xsZWN0aW9uIHdpdGggbnVtZXJvdXMgZ2lmdHMsIGluY2x1ZGluZyBhIG1vbnVtZW50YWwgZWlnaHRlZW50aC1jZW50dXJ5IHdpbmUgY2lzdGVybiBieSBFbmdsaXNoIEh1Z3Vlbm90IHNpbHZlcnNtaXRoIFBhdWwgZGUgTGFtZXJpZSBhbmQgdGhlIG1vc3QgY29tcGxldGUgbmVvY2xhc3NpY2FsIHRlYSBzZXJ2aWNlIGtub3duIGJ5IFBhdWwgUmV2ZXJlLCBKci4gVGhlIE1jUXVpbm4gRnVuZCBjb250aW51ZXMgdG8gc3VwcG9ydCBwdXJjaGFzZXMgb2YgZ3JlYXQgRW5nbGlzaCBhbmQgQ29udGluZW50YWwgb2JqZWN0cyBzdWNoIGFzIHRoZSBSaWNobW9uZCByYWNpbmcgY3VwIGRlc2lnbmVkIGJ5IFJvYmVydCBBZGFtIGFuZCBhbiBlbGFib3JhdGUgY292ZXJlZCBjdXAgbWFkZSBpbiBTdHJhc2JvdXJnIGJ5IEpvaGFubiBGcmllZHJpY2ggQmFlci5cXHJcXG5cXHJcXG5TY3VscHR1cmUgZnJvbSB0aGUgTWlkZGxlIEFnZXMgdG8gMTk2MCBpbmNsdWRlcyBpbXBvcnRhbnQgd29ya3MgYnkgQW1lZGVvIE1vZGlnbGlhbmksIFNpciBKYWNvYiBFcHN0ZWluLCBKb2huIEJlcm5hcmQgRmxhbm5hZ2FuLCBDb25zdGFudGluIEJyYW5jdXNpLCBIZW5yaSBNYXRpc3NlLCBhbmQgSGVucnkgTW9vcmUuIFJlY2VudCBhY3F1aXNpdGlvbnMgaW4gdGhpcyBhcmVhIGluY2x1ZGUgUmF5bW9uZCBEdWNoYW1wLVZpbGxvbuKAmXPCoDxlbT5IZWFkIG9mIEJhdWRlbGFpcmU8L2VtPsKgKDE5MTEpLCBhbmQgQWxiZXJ0byBHaWFjb21ldHRp4oCZc8KgPGVtPkRpZWdvPC9lbT7CoCgxOTYpLlxcclxcblxcclxcblRoZSBIYXJvbGQgYW5kIE1pY2tleSBTbWl0aCBHYWxsZXJ5ICgzNjIpIGZlYXR1cmVzIG9uZSBvZiB0aGUgbW9zdCBjb21wcmVoZW5zaXZlIHBlcm1hbmVudCBjb2xsZWN0aW9ucyBvZiBKZXdpc2ggcml0dWFsIGFydCBmb3VuZCBpbiBhbiBBbWVyaWNhbiBhcnQgbXVzZXVtLiBSb3RhdGlvbnMgaW5jbHVkZSBwcmludHMsIHBob3RvZ3JhcGhzLCBhbmQgdGV4dGlsZXMuIFB1cmNoYXNlcyBvZiBtb2Rlcm4gYW5kIGNvbnRlbXBvcmFyeSBKdWRhaWNhIGFyZSBtYWRlIHBvc3NpYmxlIGJ5IHRoZSBFbG9pc2UgYW5kIEVsbGlvdCBLYXBsYW4gRnVuZCBmb3IgSnVkYWljYS5cXHJcXG5cXHJcXG5UaGUgZGVwYXJ0bWVudCBpcyBzdHJvbmcgaW4gbW9kZXJuaXN0IGRlc2lnbiwgaW5jbHVkaW5nIHRoZSBQcmFpcmllIFNjaG9vbC1zdHlsZcKgPGVtPlB1cmNlbGwtQ3V0dHMgSG91c2U8L2VtPsKgKDE5MTMpLCBkZXNpZ25lZCBieSBXaWxsaWFtIEdyYXkgUHVyY2VsbCBhbmQgR2VvcmdlIEdyYW50IEVsbXNsaWUgZm9yIHRoZSBQdXJjZWxsIGZhbWlseS4gSW4gYWRkaXRpb24sIHRoZSBNaWEgaG91c2VzIG9uZSBvZiB0aGUgYmVzdCBjb2xsZWN0aW9ucyBvZiBQcmFpcmllIFNjaG9vbCBtYXRlcmlhbCBpbiB0aGUgY291bnRyeSwgcHJlc2VudGVkIGluIHRoZSBCb2IgVWxyaWNoIGFuZCBKaWxsIERhaGxpbiBBcmNoaXRlY3R1cmUgYW5kIERlc2lnbiBHYWxsZXJ5ICgzNTUpLiBUaGUgTm9yd2VzdCBNb2Rlcm5pc20gQ29sbGVjdGlvbiBpcyBhIG1ham9yIGNvbXBvbmVudCBvZiB0aGUgZGVwYXJ0bWVudOKAmXMgaG9sZGluZ3MsIGNvbXByaXNpbmcgbmVhcmx5IDUwMCBvYmplY3RzIGRhdGluZyBmcm9tIDE4ODAgdG8gMTk0MC4gSW4gcmVjZW50IGRlY2FkZXMsIHRoZSBkZXBhcnRtZW50IGhhcyBidWlsdCB1cCBhIHNpZ25pZmljYW50IGNvbGxlY3Rpb24gb2YgY29udGVtcG9yYXJ5IHN0dWRpbyBjZXJhbWljcywgZ2xhc3MsIGFuZCB3b29kLiBBIGN1cnJlbnQgZm9jdXMgaXMgZGVzaWduIG9mIHRoZSBTY2FuZGluYXZpYW4gYW5kIE5vcmRpYyBjb3VudHJpZXMuIFRoZSBNaWEgY29udGludWVzIHRvIHNob3djYXNlIHRoZXNlIGNvbGxlY3Rpb25zIGF0IHRoZSBXZWxscyBGYXJnbyBDZW50ZXIgaW4gZG93bnRvd24gTWlubmVhcG9saXMuIE9uIHRoZSBXZWIsIHRoZXkgYXJlIHJlcHJlc2VudGVkIGJ5IHRoZSBhd2FyZC13aW5uaW5nIHNpdGVzwqA8YSBocmVmPVxcXCJodHRwOi8vaHR0cC8vd3d3LmFydHNNaWEub3JnL3VuaWZpZWQtdmlzaW9uL1xcXCI+VW5pZmllZCBWaXNpb246IFRoZSBBcmNoaXRlY3R1cmUgYW5kIERlc2lnbiBvZiB0aGUgUHJhaXJpZSBTY2hvb2w8L2E+wqBhbmTCoDxhIGhyZWY9XFxcImh0dHA6Ly93d3cuYXJ0c01pYS5vcmcvbW9kZXJuaXNtL1xcXCI+TW9kZXJuaXNtPC9hPi5gLFxuICBwYWludGluZ3M6IGBUaGUgTWlhJ3MgaW50ZXJuYXRpb25hbGx5IGFjY2xhaW1lZCBjb2xsZWN0aW9uIG9mIHBhaW50aW5ncyBjb250YWlucyBuZWFybHkgOTAwIEV1cm9wZWFuIGFuZCBBbWVyaWNhbiB3b3JrcyBmcm9tIHRoZSBmb3VydGVlbnRoIGNlbnR1cnkgdG8gdGhlIHByZXNlbnQuIEl0IG9mZmVycyBhIGNvbXByZWhlbnNpdmUgc3VydmV5IG9mIGJvdGggY2VsZWJyYXRlZCBzY2hvb2xzIGFuZCBpbmRpdmlkdWFsIGFydGlzdHMgYW5kIGlzIG5vdGFibGUgZm9yIGl0cyBjb25jZW50cmF0aW9uIG9mIG1hc3RlcndvcmtzLlxcclxcblxcclxcbk9uZSBvZiB0aGUgbXVzZXVt4oCZcyBlYXJsaWVzdCBhY3F1aXNpdGlvbnMgd2FzIEd1c3RhdmUgQ291cmJldOKAmXMgRGVlciBpbiBhIEZvcmVzdCwgd2hpY2ggU3QuIFBhdWwgcmFpbHJvYWQgbWFnbmF0ZSBKYW1lcyBKLiBIaWxsIGRvbmF0ZWQgaW4gMTkxNC4gSGlsbOKAmXMgY29sbGVjdGlvbiBvZiBuaW5ldGVlbnRoLWNlbnR1cnkgRnJlbmNoIFJvbWFudGljIGFuZCBSZWFsaXN0IGFydCB3YXMgZXhjZXB0aW9uYWwuIE1hbnkgb2YgaGlzIG1vc3QgaW1wb3J0YW50IHBpY3R1cmVzLCBpbmNsdWRpbmcgRXVnw6huZSBEZWxhY3JvaXjigJlzIFRoZSBGYW5hdGljcyBvZiBUYW5naWVyLCB3ZXJlIGdpdmVuIG9yIGJlcXVlYXRoZWQgdG8gdGhlIE1pYSBieSBoaXMgZGVzY2VuZGFudHMuXFxyXFxuXFxyXFxuVGhlIHByZXNlbnQgcGFpbnRpbmdzIGNvbGxlY3Rpb24gaGFzIGJlZW4gZXhwYW5kZWQgaW4gdmFyaWVkIGFuZCBvZnRlbiBkZWxpZ2h0ZnVsbHkgdW5wcmVkaWN0YWJsZSB3YXlzIGJ5IGEgc3VjY2Vzc2lvbiBvZiBhc3R1dGUgdHJ1c3RlZXMsIGRvbm9ycywgZGlyZWN0b3JzLCBhbmQgY3VyYXRvcnMuIEl0IGluY2x1ZGVzIENsYXVkZSBMb3JyYWlu4oCZcyBQYXN0b3JhbCBMYW5kc2NhcGUgb2YgMTYzOCwgTmljb2xhcyBQb3Vzc2lu4oCZcyBEZWF0aCBvZiBHZXJtYW5pY3VzIG9mIDE2MjcsIGFuZCBSZW1icmFuZHQgdmFuIFJpam7igJlzIEx1Y3JldGlhIG9mIDE2NjYuIEluIGFkZGl0aW9uIHRvIG1hbnkgd29uZGVyZnVsIEZyZW5jaCBuaW5ldGVlbnRoLWNlbnR1cnkgcGljdHVyZXMsIHRoZSBtdXNldW0gaGFzIHJpY2ggaG9sZGluZ3Mgb2YgSXRhbGlhbiBCYXJvcXVlLCBzZXZlbnRlZW50aC1jZW50dXJ5IER1dGNoLCBhbmQgRmF1dmUsIEN1YmlzdCwgYW5kIEdlcm1hbiBFeHByZXNzaW9uaXN0IHdvcmtzLiBUaGUgQW1lcmljYW4gY29sbGVjdGlvbiBzaG93Y2FzZXMgYSByYW5nZSBvZiBhcnRpc3RpYyBhY2NvbXBsaXNobWVudHMgZnJvbSBHaWxiZXJ0IFN0dWFydCB0byBMYXJyeSBSaXZlcnMgYW5kIGNvbnRhaW5zIGV4Y2VwdGlvbmFsIHBhaW50aW5ncyBieSBKb2huIFNpbmdlciBTYXJnZW50IGFuZCBHZW9yZ2lhIE/igJlLZWVmZmUuYCxcbiAgcGhvdG9ncmFwaHk6IGBCZWd1biBpbiAxOTczLCB0aGUgTWlh4oCZcyBjb2xsZWN0aW9uIG9mIHBob3RvZ3JhcGhzIHNwYW5zIHRoZSBoaXN0b3J5IG9mIHBob3RvZ3JhcGh5IGZyb20gdGhlIDE4NjBzIHRvIHRoZSBwcmVzZW50LiBSZXByZXNlbnRpbmcgbW9yZSB0aGFuIDgwMCBwaG90b2dyYXBoZXJzIGFuZCAxMSw1MDAgd29ya3Mgb2YgYXJ0LCB0aGUgY29sbGVjdGlvbiBoYXMgb3V0c3RhbmRpbmcgZXhhbXBsZXMgb2YgdHdlbnRpZXRoLWNlbnR1cnkgQW1lcmljYW4gcGhvdG9ncmFwaHksIHdpdGggcGFydGljdWxhciBkZXB0aCBpbiB0aGUgZ2VucmVzIG9mIGRvY3VtZW50YXJ5IHBob3RvZ3JhcGh5LCBwaG90b2pvdXJuYWxpc20sIGFuZCBwaWN0b3JpYWxpc20uIFNpbmNlIDIwMDgsIHRoZSBtdXNldW0gaGFzIGZvY3VzZWQgb24gZXhwYW5kaW5nIGl0cyBob2xkaW5ncyBvZiBjb250ZW1wb3JhcnkgcGhvdG9ncmFwaHkgYW5kIG5ldyBtZWRpYSBmcm9tIGFsbCBjb3VudHJpZXMuIFRoaXMgaW5pdGlhdGl2ZSBpbmNyZWFzZXMgdGhlIHNjb3BlIGFuZCByZWxldmFuY2Ugb2YgdGhlIHBob3RvZ3JhcGh5IGNvbGxlY3Rpb24gYW5kIGVuaGFuY2VzIGl0cyBsaW5rcyB0byB0aGUgTWlh4oCZcyBkaXZlcnNlLCBnbG9iYWwgaG9sZGluZ3MuXFxyXFxuXFxyXFxuVGhlIERlcGFydG1lbnQgb2YgUGhvdG9ncmFwaHkgJmFtcDsgTmV3IE1lZGlhIGNvbnRpbnVlcyB0byB0aHJpdmUgdGhhbmtzIHRvIHRoZSBhY3RpdmUsIGdlbmVyb3VzIHN1cHBvcnQgb2YgbG95YWwgZG9ub3JzLiBUaGUgZWFybGllc3QgYWNxdWlzaXRpb25zIHdlcmUgZnVuZGVkIGJ5IEthdGUgQnV0bGVyIGFuZCBIYWxsIEphbWVzIFBldGVyc29uLiBUaGVpciBpbml0aWF0aXZlIGluc3BpcmVkIG90aGVycywgaW5jbHVkaW5nIEhhcnJ5IERyYWtlLCBNYXJ0aW4gV2VpbnN0ZWluLCBhbmQgRnJlZCBhbmQgRWxsZW4gV2VsbHMuIE1vcmUgcmVjZW50bHksIHRoZSBjcmVhdGlvbiBvZiB0aGUgQWxmcmVkIGFuZCBJbmdyaWQgTGVueiBIYXJyaXNvbiBGdW5kIGFuZCB0aGUgZXN0YWJsaXNobWVudCBvZiB0aGUgSGFycmlzb24gUGhvdG9ncmFwaHkgR2FsbGVyaWVzICgzNjQgJmFtcDsgMzY1KSBoYXZlIGdpdmVuIHRoZSBkZXBhcnRtZW50IGVub3Jtb3VzIG1vbWVudHVtLiBUaGVzZSBzdXBlcmIgbmV3IGdhbGxlcmllcyBhcmUgZGV2b3RlZCB0byBwcmVzZW50aW5nIHRoZSBwZXJtYW5lbnQgY29sbGVjdGlvbi4gSW4gYWRkaXRpb24sIExpbmRhIGFuZCBMYXdyZW5jZSBQZXJsbWFuIGVzdGFibGlzaGVkIHRoZSBQZXJsbWFuIEdhbGxlcnkgKDI2MiksIHdoaWNoIGlzIGRlZGljYXRlZCB0byBmZWF0dXJpbmcgY29udGVtcG9yYXJ5IHBob3RvZ3JhcGh5IGFuZCBpcyBsb2NhdGVkIGluIHRoZSBNaWHigJlzIFRhcmdldCBXaW5nLCBob3N0aW5nwqA8YSBocmVmPVxcXCJodHRwOi8vd3d3Mi5hcnRzTWlhLm9yZy9ibG9ncy9uZXctcGljdHVyZXNcXFwiPk5ldyBQaWN0dXJlczwvYT4sIGEgc2VtaS1hbm51YWwgc2VyaWVzIGhpZ2hsaWdodGluZyBlbWVyZ2luZyBwaG90b2dyYXBoZXJzIGZyb20gYXJvdW5kIHRoZSB3b3JsZC4gWW91LCB0b28sIGNhbiBjb250cmlidXRlIHRvIGFuZCBlbmpveSBzcGVjaWFsIGFjY2VzcyB0byBleGhpYml0aW9ucyBhbmQgZXZlbnRzIGJ5IGpvaW5pbmcgdGhlwqA8YSBocmVmPVxcXCJodHRwOi8vbmV3LmFydHNNaWEub3JnL2pvaW4tYW5kLWludmVzdC9hZmZpbml0eS1ncm91cHMvXFxcIj5QaG90b2dyYXBoeSAmYW1wOyBOZXcgTWVkaWEgQWZmaW5pdHkgR3JvdXA8L2E+Llxcclxcblxcclxcbk92ZXIgdGhlIHllYXJzLCB0aGUgRGVwYXJ0bWVudCBvZiBQaG90b2dyYXBoeSAmYW1wOyBOZXcgTWVkaWEgaGFzIGJlZW4gY29tbWl0dGVkIHRvIHVzaW5nIGl0cyBjb2xsZWN0aW9uIGZvciBlZHVjYXRpb25hbCBwdXJwb3NlcywgYW5kIHRoZSBNaWEgbm93IHNlcnZlcyBhcyBhIG1ham9yIHJlc291cmNlIGZvciB0aGUgZml2ZS1zdGF0ZSByZWdpb24uIE51bWVyb3VzIGV4aGliaXRpb25zIGRyYXduIGZyb20gdGhlIGNvbGxlY3Rpb24gaGF2ZSB0cmF2ZWxlZCB0byBvdGhlciBpbnN0aXR1dGlvbnMsIGFuZCBzdHVkZW50cyBhbmQgdGVhY2hlcnMgZnJlcXVlbnRseSB2aXNpdCB0aGUgZ2FsbGVyaWVzIGFuZMKgPGEgaHJlZj1cXFwiaHR0cDovL25ldy5hcnRzTWlhLm9yZy92aXNpdC9tdXNldW0tZmFjaWxpdGllcy9zdHVkeS1yb29tcy9cXFwiPlBob3RvZ3JhcGh5IFN0dWR5IFJvb208L2E+wqB0byBsZWFybiBmcm9tIHRoZSBjb2xsZWN0aW9uIGZpcnN0aGFuZC4gQ2xpY2sgb24gdGhlIHBob3RvZ3JhcGggYmVsb3cgdG8gYnJvd3NlIHRoZSBjb2xsZWN0aW9uIGFuZCBwcmVwYXJlIGZvciB5b3VyIG5leHQgdmlzaXQgdG8gdGhlIE1pYS5gLFxuICBwcmludHM6IGBUaGUgRGVwYXJ0bWVudCBvZiBQcmludHMgJmFtcDsgRHJhd2luZ3Mga2VlcHMgdXAgYW4gYWN0aXZlIHByb2dyYW0gb2YgdGhlbWF0aWMgZXhoaWJpdGlvbnMsIGJ1dCBpdCBpcyBhbHNvIHRoZSBNaWHigJlzIGhpZGRlbiB0cmVhc3VyZSBjaGVzdC4gQXQgYW55IGdpdmVuIHRpbWUsIG9ubHkgYSBmcmFjdGlvbiBvZiB0aGUgbXVzZXVt4oCZcyBjb2xsZWN0aW9uIG9mIG5lYXJseSA0MCwwMDAgcHJpbnRzIGFuZCAzLDAwMCBkcmF3aW5ncyBpcyBvbiB2aWV3IGluIHRoZSBnYWxsZXJpZXMuIE5lYXJseSBhbGwsIGhvd2V2ZXIsIGFyZSBhdmFpbGFibGUgdG8gdGhlIHB1YmxpYyBpbiB0aGUgY29tZm9ydCBvZiB0aGXCoDxhIGhyZWY9XFxcImh0dHA6Ly9uZXcuYXJ0c01pYS5vcmcvdmlzaXQvc3R1ZHktcm9vbXMvXFxcIj5IZXJzY2hlbCBWLiBKb25lcyBQcmludCBTdHVkeSBSb29tPC9hPi4gVG8gcHJlcGFyZSBmb3IgeW91ciB2aXNpdCwgcGxlYXNlIG1ha2UgYW4gYXBwb2ludG1lbnQgYnkgcGhvbmUgKDYxMikgODcwLTMxMDUgb3IgYnkgZS1tYWlsICg8YSBocmVmPVxcXCJtYWlsdG86cHJpbnRzdHVkeUBhcnRzTWlhLm9yZ1xcXCI+cHJpbnRzdHVkeUBhcnRzTWlhLm9yZzwvYT4pLlxcclxcblxcclxcbk1hbnkgb2YgdGhlIGdyZWF0ZXN0IEV1cm9wZWFuIGFuZCBBbWVyaWNhbiBhcnRpc3RzIGZyb20gdGhlIFJlbmFpc3NhbmNlIHRvIHRoZSBwcmVzZW50IGFyZSByZXByZXNlbnRlZCwgb2Z0ZW4gaW4gY29uc2lkZXJhYmxlIGRlcHRoIGFuZCBxdWFsaXR5LiBBbW9uZyB0aGUgaGlnaGxpZ2h0cyBhcmUgb2xkIG1hc3RlciBwcmludHMgYnkgQWxicmVjaHQgRMO8cmVyIGFuZCBSZW1icmFuZHQgdmFuIFJpam47IEphY29wbyBkZeKAmUJhcmJhcmnigJlzIGFtYXppbmcgYmlyZOKAmXMtZXllIHZpZXcgb2YgVmVuaWNlOyBhIHJhcmUgcHJlc2VudGF0aW9uIGNvcHkgb2YgRnJhbmNpc2NvIGRlIEdveWHigJlzwqA8ZW0+TG9zIENhcHJpY2hvczwvZW0+OyBhIGZhYnVsb3VzIG1vbm90eXBlIGJ5IFdpbGxpYW0gQmxha2U7IGV4dGVuc2l2ZSBob2xkaW5ncyBpbiBuaW5ldGVlbnRoLWNlbnR1cnkgRnJlbmNoIGFuZCBCcml0aXNoIHByaW50cyBhbmQgZHJhd2luZ3MsIGZlYXR1cmluZyBhcnRpc3RzIHN1Y2ggYXMgSmFtZXMgTWNOZWlsbCBXaGlzdGxlciwgRWRnYXIgRGVnYXMsIGFuZCBGw6lsaXggQnVob3Q7IGFuZCBvdXRzdGFuZGluZyB0d2VudGlldGgtY2VudHVyeSBkcmF3aW5ncyBieSBMb3ZpcyBDb3JpbnRoLCBFZ29uIFNjaGllbGUsIEVybnN0IEx1ZHdpZyBLaXJjaG5lciwgRXJpY2ggSGVja2VsLCBQaWV0IE1vbmRyaWFuLCBHZW9yZ2VzIFJvdWF1bHQsIEhlbnJpIE1hdGlzc2UsIEphc3BlciBKb2hucywgQW5keSBXYXJob2wsIFJveSBMaWNodGVuc3RlaW4sIEppbSBEaW5lLCBFZCBSdXNjaGEsIE5pY29sYSBIaWNrcywgYW5kIG1hbnkgbW9yZS4gVGhlIGRlcGFydG1lbnQgaXMgYnVpbGRpbmcgaXRzIGNvbGxlY3Rpb24gb2YgdHdlbnR5LWZpcnN0LWNlbnR1cnkgcHJpbnRzIGFuZCBkcmF3aW5ncywgd2hpY2ggaXMgcmVhY2hpbmcgZXZlciBmdXJ0aGVyIGJleW9uZCBBbWVyaWNhIGFuZCBFdXJvcGUgdG8gb3RoZXIgcGFydHMgb2YgdGhlIHdvcmxkLiBQJmFtcDtEIGhhcyBzZWN1cmVkIHdvcmtzIGJ5IFdpbGxpYW0gS2VudHJpZGdlLCBKdWxpZSBNZWhyZXR1LCBNZXF1aXR0YSBBaHVqYSwgSmF1bmUgUXVpY2stdG8tU2VlIFNtaXRoLCBDaHVjayBDbG9zZSwgTHVpcyBKaW1lbmV6LCBDeW50aGlhIExpbiwgQ2FybG9zIEFtb3JhbGVzLCBEaWFuZSBWaWN0b3IsIGFuZCBtb3JlLlxcclxcblxcclxcblRoZXJlIGFyZSBhbHNvIGZhc2NpbmF0aW5nIGNvbGxlY3Rpb25zIHdpdGhpbiB0aGUgY29sbGVjdGlvbi4gVGhlIGRlcGFydG1lbnQgaGFzIGEgbGFyZ2UgbnVtYmVyIG9mIGJvb2tzIGRlc2lnbmVkIGFuZCBpbGx1c3RyYXRlZCBieSBhcnRpc3RzLCB3aGljaCBpcyBlc3BlY2lhbGx5IHJpY2ggaW4gd29ya3MgZnJvbSBGcmFuY2UuIFN0dWRlbnRzIG9mIG1vZGVybiBwcmludG1ha2luZyB3aWxsIHdhbnQgdG8gZXhwbG9yZSB0aGUgVmVybWlsbGlvbiBFZGl0aW9ucyBMaW1pdGVkIEFyY2hpdmFsIENvbGxlY3Rpb24sIHdoaWNoIGNvbnRhaW5zIGV4YW1wbGVzIG9mIGFsbCB0aGUgcHJpbnRzIHB1Ymxpc2hlZCBieSB0aGF0IFR3aW4gQ2l0aWVzIHByZXNzIGFzIHdlbGwgYXMgcHJlcGFyYXRvcnkgZHJhd2luZ3MsIHByb29mcywgYW5kIG1hcXVldHRlcyB0aGF0IGxlZCB0byB0aGUgZmluaXNoZWQgd29yay4gQm90YW5pY2FsLCB6b29sb2dpY2FsLCBmYXNoaW9uLCBhbmQgb3JuYW1lbnRhbCBpbGx1c3RyYXRpb25zIGZyb20gdGhlIGZpZnRlZW50aCB0aHJvdWdoIHRoZSB0d2VudGlldGggY2VudHVyaWVzIGFsbCBmaWd1cmUgaW4gdGhlIG1peCwgYXMgZG9lcyBhIHdpZGUgYXJyYXkgb2Ygd29ya3MgYnkgTWlubmVzb3RhIGFuZCByZWdpb25hbCBhcnRpc3RzLlxcclxcblxcclxcblRoZcKgPGEgaHJlZj1cXFwiaHR0cDovL25ldy5hcnRzTWlhLm9yZy9qb2luLWFuZC1pbnZlc3QvYWZmaW5pdHktZ3JvdXBzL1xcXCI+UHJpbnRzICZhbXA7IERyYXdpbmdzIEFmZmluaXR5IEdyb3VwPC9hPsKgcHJvdmlkZXMgYSB0ZXJyaWZpYyBvcHBvcnR1bml0eSB0byBsZWFybiBtb3JlIGFib3V0IHRoaXMgdml0YWwgZmllbGQgb2YgYXJ0LCB0byBtZWV0IG90aGVycyB3aXRoIHNpbWlsYXIgaW50ZXJlc3RzLCBhbmQgdG8gaGVscCB0aGUgTWlhIGltcHJvdmUgaXRzIGFiaWxpdHkgdG8gbWFrZSBhcnQgYXZhaWxhYmxlIHRvIHRoZSBwdWJsaWMuYCxcbiAgY3NzYWE6IGBUaGUgRGVwYXJ0bWVudCBvZiBDaGluZXNlIGFuZCBTb3V0aCBhbmQgU291dGhlYXN0IEFzaWFuIEFydCBoYXMgYmVuZWZpdGVkIGdyZWF0bHkgZnJvbSBnZW5lcm91cyBnaWZ0cyBmcm9tIGtub3dsZWRnZWFibGUgY29sbGVjdG9ycy4gQXVndXN0dXMgTC4gU2VhcmxlLCBBbGZyZWQgRi4gUGlsbHNidXJ5LCBSaWNoYXJkIFAuIEdhbGUsIExvdWlzIFcuIEhpbGwsIEpyLiwgYW5kIFJ1dGggYW5kIEJydWNlIERheXRvbiBoYXZlIGRvbmF0ZWQgY29sbGVjdGlvbnMgb2YgaW50ZXJuYXRpb25hbCByZXB1dGF0aW9uLiBUaGVzZSBpbmNsdWRlIGFuY2llbnQgQ2hpbmVzZSBicm9uemVzLCBhbmNpZW50IGFuZCBwb3N0LVNvbmcgamFkZSwgQ2hpbmVzZSBtb25vY2hyb21lIGNlcmFtaWNzLCBhbmQgY2xhc3NpY2FsIENoaW5lc2UgZnVybml0dXJlLiBJbiBhZGRpdGlvbiwgY3VyYXRvcnMgaGF2ZSBidWlsdCBleHF1aXNpdGUgY29sbGVjdGlvbnMgb2YgUWluZyBkeW5hc3R5IHNpbGsgdGV4dGlsZXMgYW5kIE1pYW8gdGV4dGlsZXMuXFxyXFxuXFxyXFxuU29tZSBvZiB0aGUgZmlyc3Qgd29ya3Mgb2YgYXJ0IHRvIGVudGVyIHRoZSBtdXNldW3igJlzIGNvbGxlY3Rpb24gd2VyZSBmcm9tIFNvdXRoIChJbmRpYSwgQmFuZ2xhZGVzaCwgU3JpIExhbmthLCBQYWtpc3RhbiwgTmVwYWwsIEJodXRhbiwgYW5kIEFmZ2hhbmlzdGFuKSBhbmQgU291dGhlYXN0IEFzaWEgKENhbWJvZGlhLCBMYW9zLCBNeWFubWFyLCBUaGFpbGFuZCwgTWFsYXlzaWEsIFZpZXRuYW0sIFNpbmdhcG9yZSwgSW5kb25lc2lhLCBCcnVuZWkgYW5kIHRoZSBQaGlsaXBwaW5lcyksIGJlZ2lubmluZyBpbiAxOTE0IHdoZW4gQ2hhcmxlcyBGcmVlciBkb25hdGVkIHNldmVyYWwgVGhhaSBCdWRkaGlzdCBzY3VscHR1cmVzLsKgIEluIDE5MjkgU2FyYWggQmVsbCBQaWxsc2J1cnkgR2FsZSBnYXZlIHRoZSBtdXNldW0gaXRzIGZpcnN0IG1ham9yIEluZGlhbiB3b3JrIG9mIGFydCwgYSAxMnRoIGNlbnR1cnkgYnJvbnplIChjYS4gMTEwMCkgRGFuY2luZyBTaGl2YSAoTmF0YXJhamEpLsKgIFRoZSBoaWdobGlnaHQgb2YgdGhlIFNvdXRoIEFzaWFuIGNvbGxlY3Rpb24gaXMgYSBtb251bWVudGFsIHN0b25lIFlvZ2luaSBzY3VscHR1cmUgZnJvbSAxMDxzcGFuIHN0eWxlPVxcXCJmb250LXNpemU6IDExcHg7XFxcIj50aMKgPC9zcGFuPmNlbnR1cnkgc291dGggSW5kaWEuIFRvZGF5IHRoZSBTb3V0aCBBc2lhbiBjb2xsZWN0aW9uIG51bWJlcnMgYWJvdXQgMTUwIG9iamVjdHMgYW5kIHRoZSBTb3V0aGVhc3QgQXNpYW4gY29sbGVjdGlvbiBudW1iZXJzIGFyb3VuZCAxODMuXFxyXFxuXFxyXFxuV2l0aGluIHRoZSBnYWxsZXJpZXMgdGhlcmUgYXJlIHR3byBDaGluZXNlIHBlcmlvZCByb29tcyBpbmNsdWRpbmcgYW4gb3JpZ2luYWwgcmVjZXB0aW9uIGhhbGwgZnJvbSB0aGUgbGF0ZSBNaW5nIGR5bmFzdHkgYW5kIGEgY2EuIDE3MDAgU3V6Y2hvdS1hcmVhIGxpYnJhcnkuYCxcbiAgamthOiBgVGhlIGNvbGxlY3Rpb24gb2YgSmFwYW5lc2UgYW5kIEtvcmVhbiBhcnQgaW5jbHVkZXMgb3ZlciA3LDAwMCB3b3JrcyByYW5naW5nIGZyb20gYW5jaWVudCB0byBjb250ZW1wb3JhcnkgYW5kIGlzIGFtb25nc3QgdGhlIHRvcCBmaXZlIGNvbGxlY3Rpb25zIGluIHRoZSBVbml0ZWQgU3RhdGVzLiBUaGUgcGVybWFuZW50IGRpc3BsYXkgc3BhY2UgZm9yIEphcGFuZXNlIGFydCBpcyB0aGUgbGFyZ2VzdCBpbiB0aGUgV2VzdGVybiB3b3JsZCB3aXRoIDE1IGdhbGxlcmllcyBhbmQgb3ZlciAxMCwwMDAgc3F1YXJlIGZlZXQgKDkzMCBzcW0pLiBUaGUgY29sbGVjdGlvbiBpdHNlbGYgaW5jbHVkZXMgQnVkZGhpc3Qgc2N1bHB0dXJlLCB3b29kYmxvY2sgcHJpbnRzLCBwYWludGluZ3MsIGxhY3F1ZXIsIHdvcmtzIG9mIGJhbWJvbywgYW5kIGNlcmFtaWNzLCBhbmQgaXQgaXMgcGFydGljdWxhcmx5IHJpY2ggaW4gd29ya3MgZnJvbSB0aGUgRWRvIHBlcmlvZCAoMTYxMOKAkzE4NjgpLlxcclxcblxcclxcblR3byBoaXN0b3JpYyByb29tcywgYSBmb3JtYWwgYXVkaWVuY2UgaGFsbCAoPGk+c2hvaW48L2k+KSBhbmQgYSB0ZWFob3VzZSAoPGk+Y2hhc2hpdHN1PC9pPiksIGFsbG93IGhpZ2hseSB2aXNpYmxlIGluc3RhbGxhdGlvbnMgd2l0aGluIHRoZSBwZXJtYW5lbnQgZ2FsbGVyaWVzIGFuZCBzZXJ2ZSB0byBoZWlnaHRlbiBhd2FyZW5lc3Mgb2YgdGhlIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIGFydCBhbmQgYXJjaGl0ZWN0dXJlLjwvcD48cD5UaGUgRGVwYXJ0bWVudCBvZiBKYXBhbmVzZSBhbmQgS29yZWFuIGFydCBoYXMgYmVuZWZpdGVkIGdyZWF0bHkgZnJvbSBnZW5lcm91cyBnaWZ0cyBmcm9tIGtub3dsZWRnZWFibGUgY29sbGVjdG9ycy4gUmljaGFyZCBQLiBHYWxlLCBMb3VpcyBXLiBIaWxsLCBKci4sIFJ1dGggYW5kIEJydWNlIERheXRvbiwgYW5kIEVsbGVuIGFuZCBGcmVkIFdlbGxzIGhhdmUgYWxsIGRvbmF0ZWQgc3BlY2lhbGl6ZWQgY29sbGVjdGlvbnMgb2YgaW50ZXJuYXRpb25hbCByZXB1dGF0aW9uLiBXaXRoIHRoZSBhZGRpdGlvbiBvZiBvdmVyIDEsNTAwIHdvcmtzIG9mIGFydCBmcm9tIHRoZSBjb2xsZWN0aW9ucyBvZiBFbGl6YWJldGggYW5kIFdpbGxhcmQg4oCcQmlsbOKAnSBDbGFyayBhbmQgdGhlIENsYXJrIENlbnRlciBmb3IgSmFwYW5lc2UgQXJ0IGluIDIwMTMgYW5kIGhhbGYgb2YgdGhlIHdvcmxkLXJlbm93bmVkIE1hcnkgR3JpZ2dzIEJ1cmtlIGNvbGxlY3Rpb24sIHRoZSBKYXBhbmVzZSBhbmQgS29yZWFuIGFydCBnYWxsZXJpZXMgYXJlIG5vIGRvdWJ0IGEgZGVzdGluYXRpb24gZm9yIGJvdGggYXJ0IGVudGh1c2lhc3RzIGFuZCBzY2hvbGFycyBhbGlrZS48L3A+PHA+VGhlIGRlcGFydG1lbnQgaXMgZGVkaWNhdGVkIHRvIHByb3ZpZGluZyB0aGUgcHVibGljIHdpdGggYSBicm9hZCBvdmVydmlldyBvZiBKYXBhbmVzZSBhbmQgS29yZWFuIGFydC4gQnkgc2hvd2Nhc2luZyBhcnQgYm90aCBjaHJvbm9sb2dpY2FsbHkgYW5kIGJ5IG1lZGl1bSwgdGhlIGdhbGxlcmllcyBzaG93IHRoZSBoaXN0b3J5IG9mIG5vdCBvbmx5IHRoZSBvYmplY3RzIHRoZW1zZWx2ZXMsIGJ1dCBhbHNvIG9mIGEgY29sbGVjdGVkIHByb2Nlc3Mgb2YgYXJ0aXN0aWMgY3JlYXRpb24uIFRoaXMgY2FuIGJlIHNlZW4sIGZvciBleGFtcGxlLCBieSB0aGUgc2NvcGUgb2YgY2VyYW1pY3MsIHJhbmdpbmcgZnJvbSBlYXJseSB1dGlsaXRhcmlhbiB0byBjb250ZW1wb3Jhcnkgc2N1bHB0dXJlcy48L3A+PHA+T2Ygbm90YWJsZSBzdHJlbmd0aCBpcyB0aGUgY29sbGVjdGlvbiBvZiA8aT51a2l5by1lPC9pPiBwYWludGluZ3MgYW5kIHByaW50cywgcG9wdWxhcmx5IGtub3duIGFzIOKAnHBpY3R1cmVzIG9mIHRoZSBmbG9hdGluZyB3b3JsZOKAnS4gVGhlIGNvcmUgb2YgdGhlIGNvbGxlY3Rpb24gd2FzIGJ1aWx0IGJ5IFJpY2hhcmQgUC4gR2FsZSBhbmQgTG91aXMgVy4gSGlsbCwgSnIuLCBhbmQgdGhlIEdhbGUgYmVxdWVzdCBpbmNsdWRlZCBzb21lIDU3IHBhaW50aW5ncyBhbmQgMjA2IHByaW50cywgbWFueSBvZiB3aGljaCBhcmUgcmFyZSBhbmQgaW4gYWRtaXJhYmxlIGNvbmRpdGlvbi4gQSBzdHJvbmcgY29sbGVjdGlvbiBvZiA8aT7FjHRzdS1lPC9pPiwgZm9sayBwYWludGluZ3MgcHJvZHVjZWQgaW4gYW5kIGFyb3VuZCB0aGUgdG93biBvZiDFjHRzdSBkdXJpbmcgdGhlIEVkbyBwZXJpb2QsIGNhbWUgZnJvbSBjb2xsZWN0b3JzIEVkc29uIGFuZCBIYXJyaWV0IFNwZW5jZXIgd2hvIGFsc28gZG9uYXRlZCB0aGVpciBjb2xsZWN0aW9uIG9mIHRpZ2VyIHBhaW50aW5ncy5gLFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IERlcGFydG1lbnREZWNvcmF0b3JcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "department.js"
      ],
      "names": [
        "React",
        "require",
        "Link",
        "Markdown",
        "findDepartment",
        "DepartmentDecorator",
        "createClass",
        "getInitialState",
        "getNameAndSelector",
        "props",
        "department",
        "deptName",
        "selector",
        "slug",
        "departmentInfo",
        "info",
        "departments",
        "blurb",
        "content",
        "DepartmentContent",
        "expanded",
        "params",
        "dept",
        "render",
        "state",
        "split",
        "blurbA",
        "blurbB",
        "fullInfo",
        "getFullInfo",
        "terms",
        "shortBlurb",
        "affinityBlurb",
        "term",
        "decodedTerm",
        "decodeURIComponent",
        "match",
        "getCurators",
        "curators",
        "map",
        "name",
        "filter",
        "exists",
        "emeritus",
        "curator",
        "length",
        "photo",
        "title",
        "getAffinity",
        "affinities",
        "affinityGroups",
        "ag",
        "indexOf",
        "image",
        "a",
        "featuredArt",
        "id",
        "africa",
        "contemporary",
        "dats",
        "paintings",
        "photography",
        "prints",
        "cssaa",
        "jka",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "department.js",
      "sourceRoot": "/var/www/art/src/decorate",
      "sourcesContent": [
        "var React = require('react')\nvar {Link} = require('react-router')\n\nvar Markdown = require('../markdown')\nvar findDepartment = require('../department-slug')\n\nvar DepartmentDecorator = React.createClass({\n  getInitialState() {\n    var [deptName, selector, slug] = this.getNameAndSelector(this.props.department)\n    var {departmentInfo} = this.props\n    var info = departmentInfo && departmentInfo.departments[selector]\n\n    return {\n      deptName,\n      selector,\n      slug,\n      info: info,\n      blurb: info && info.content || DepartmentContent[selector] || `Sorry, there's no \"${deptName}\" department.`,\n      expanded: this.props.expanded || !!this.props.params.dept || false,\n    }\n  },\n\n  render() {\n    var {department} = this.props\n    var {deptName, selector, blurb, expanded} = this.state\n\n    var [blurbA, blurbB] = blurb.split('<hr />')\n\n    var fullInfo = expanded && this.getFullInfo(blurbB)\n\n    return <div className=\"departmentBlurb mdl-grid decorator d-department\">\n      <h2><Link to='department' params={{dept: this.state.slug, terms: department}}><span className=\"d-visit\">Visit </span>{this.state.deptName}</Link></h2>\n      <div className=\"mdl-cell mdl-cell--6-col departmentContent\">\n        {expanded ? <Markdown alreadyRendered={true}>{blurbA}</Markdown> : this.shortBlurb()}\n        {expanded && this.affinityBlurb()}\n      </div>\n      {expanded && fullInfo}\n    </div>\n  },\n\n  getNameAndSelector(term) {\n    var decodedTerm = decodeURIComponent(term)\n    var deptName = findDepartment(decodedTerm) ? decodedTerm : decodedTerm.match(/department:\"?([^\"]*)\"?/)[1]\n    return findDepartment(deptName)\n  },\n\n  shortBlurb() {\n    return <div>\n      <Markdown>{this.state.blurb.split('\\n')[0]}</Markdown>\n    </div>\n  },\n\n  getFullInfo(info) {\n    var {deptName} = this.state\n\n    return <div className=\"departmentResources mdl-cell mdl-cell--6-col\">\n      <div>{this.getCurators()}</div>\n      <Markdown alreadyRendered={true}>{info}</Markdown>\n    </div>\n  },\n\n  getCurators() {\n    var curators = this.state.info.curators\n    .map(name => this.props.departmentInfo.curators[name])\n    .filter(exists => !!exists)\n    .filter(({emeritus}) => !emeritus)\n    .filter(curator => !curator.name.match(/yasufumi/i))\n\n    return curators.length > 0 && <div id=\"curators\">\n      <h3>Curators</h3>\n      {curators.map(curator => {\n        curator.photo = `https://collections.artsmia.org/_info/curator-portraits/${curator.slug}.jpg`\n\n        return <div className=\"curatorBio\" key={curator.slug}>\n          <Link to=\"curator\" params={{slug:curator.slug}}>\n            <div className=\"curatorPic\">\n              <img src={curator.photo} alt={`portrait of ${curator.name}`} />\n            </div>\n            <div className=\"curator-intro\">\n            <h4>{curator.name}</h4>\n            <h5><Markdown>{curator.title}</Markdown></h5>\n            </div>\n          </Link>\n        </div>\n      })}\n    </div>\n  },\n\n  getAffinity() {\n    var affinities = this.props.departmentInfo.affinityGroups\n    .filter(ag => ag.departments && ag.departments.indexOf(findDepartment(this.props.department)[1]) > -1)\n\n    return affinities.map(a => {\n      var image = <img src={a.featuredArt ? `http://api.artsMia.org/images/${a.featuredArt}/400/medium.jpg` : a.image} />\n      image = a.featuredArt ? <Link to=\"artwork\" params={{id: a.featuredArt}}>{image}</Link> : image\n\n      return <div className=\"affinity\" key={a.title}>\n        <h3>{a.title}</h3>\n        <div className=\"affinityImage\">{image}</div>\n        <div className=\"affinity-intro\">\n        <Markdown alreadyRendered={true}>{a.content}</Markdown>\n          <p>Mia’s Affinity Groups are a great way for museum members to connect more closely with special areas of art interest, allowing you to delve deeper into the curatorial area of your choice.</p>\n          <a href=\"http://new.artsmia.org/join-and-invest/affinity-groups/\" className=\"button\">Learn More</a>\n        </div>\n      </div>\n    })\n  },\n\n  affinityBlurb() {\n    return <div className=\"affinity\">\n      <p>Mia’s Affinity Groups are a great way for museum members to connect more closely with special areas of art interest, allowing you to delve deeper into the curatorial area of your choice.</p>\n      <a href=\"http://new.artsmia.org/join-and-invest/affinity-groups/\" className=\"button\">Learn More</a>\n    </div>\n  },\n})\n\nvar DepartmentContent = {\n  africa: `The Arts of Africa and the Americas Department is dedicated to the immense creativity of Native peoples across the world, from prehistory to the present. The collection has grown significantly since the department was founded more than thirty years ago, and now numbers more than 3,000 objects, including masterworks of sculpture, ceramics, metalsmithing, painting, basketry, and bead-, shell-, and quillwork, reflecting the diversity of these regions and cultures.\\r\\n\\r\\nHighlights of African art at the museum include a ceramic portrait head from the ancient civilization of Ife, a thousand-year-old wooden horse-and-rider from Djenne, and a cast bronze leopard and a carved ivory tusk, both from the eighteenth-century Kingdom of Benin. Other important pieces are a rare Luba mask, one of only two known in the world, a dramatic dance mask often known as a “firespitter” from Cote d’Ivoire, and a palace door created by the famed Yoruba artist Areogun of Osi.\\r\\n\\r\\nThe Native American galleries are equally rich in examples of the highest quality art, such as our unparalleled three-thousand-year-old Olmec jade mask, an exceptional nineteenth-century Sun Mask from the Northwest Coast, and a monumental pipe in the form of a bound prisoner, made in southeastern United States around 1200. Additional masterworks include the finely worked gold earspools from the ancient Andes, and a beaded man’s shoulder pouch made in Minnesota in the early 1800s.\\r\\n\\r\\nOur Oceanic collection contains world-class pieces, such as the Maori Poutokomanawa (Post Figure) created in the 1840s, the three fabulous Malagan figures, an early Papuan Gope Board, and the Bis Pole, a centerpiece of the gallery.`,\n  contemporary: `In 2008 the Mia launched an initiative to focus on the art of our times. Through its new Department of Contemporary Art, the museum brings a fresh dynamism to its galleries by collecting and exhibiting works by living artists. This initiative emphasizes the relationships among historical art, diverse cultures, and contemporary art-making.\\r\\n\\r\\nContemporary art of the region continues to be represented by the Minnesota Artists Exhibition Program (MAEP) as well as by selected projects with local artists, architects, designers, and other creative thinkers. In collaboration with other Mia curatorial departments, the Department of Contemporary Art engages both local and global artists to create public and site-specific work at the Mia.`,\n  dats: `Originally established to focus on furniture, metalwork, ceramics, and glass, the department today encompasses more than 18,000 works in all mediums from America and Europe, from the Middle Ages to the present.\\r\\n\\r\\nMany collectors and donors have contributed to the porcelain and pottery collection, which includes eighteenth-century French faience from Mrs. John P. Rutherfurd, seventeenth- and eighteenth-century English delft from Mr. and Mrs. George R. Steiner, and Chinese Export porcelain from Leo and Doris Hodroff. Domestic interiors and furnishings spanning four centuries are presented in the Mia’s nine period rooms, with a 1730 grand salon from the Hôtel de la Bouëxière in Paris, which has been restored with funds from the Groves Foundation.\\r\\n\\r\\nThe department’s textile collection has gained an international reputation for its spectacular individual pieces as well as its impressive holdings of European tapestries, early Italian laces, passementerie, Kashmir shawls, and Turkish embroideries. Textiles from the Jack Lenor Larsen company archive and the Norwest Modernism Collection have broadened the scope of the collection’s twentieth-century holdings, complementing its already strong collection of contemporary fiber art.\\r\\n\\r\\nA particular strength of the Mia’s decorative arts collection includes English, American and Continental silver, which is showcased in the Mary Agnes and Al McQuinn Gallery (350). Mia trustee and silver collector James Ford Bell established the foundation of the museum’s collection with numerous gifts, including a monumental eighteenth-century wine cistern by English Huguenot silversmith Paul de Lamerie and the most complete neoclassical tea service known by Paul Revere, Jr. The McQuinn Fund continues to support purchases of great English and Continental objects such as the Richmond racing cup designed by Robert Adam and an elaborate covered cup made in Strasbourg by Johann Friedrich Baer.\\r\\n\\r\\nSculpture from the Middle Ages to 1960 includes important works by Amedeo Modigliani, Sir Jacob Epstein, John Bernard Flannagan, Constantin Brancusi, Henri Matisse, and Henry Moore. Recent acquisitions in this area include Raymond Duchamp-Villon’s <em>Head of Baudelaire</em> (1911), and Alberto Giacometti’s <em>Diego</em> (196).\\r\\n\\r\\nThe Harold and Mickey Smith Gallery (362) features one of the most comprehensive permanent collections of Jewish ritual art found in an American art museum. Rotations include prints, photographs, and textiles. Purchases of modern and contemporary Judaica are made possible by the Eloise and Elliot Kaplan Fund for Judaica.\\r\\n\\r\\nThe department is strong in modernist design, including the Prairie School-style <em>Purcell-Cutts House</em> (1913), designed by William Gray Purcell and George Grant Elmslie for the Purcell family. In addition, the Mia houses one of the best collections of Prairie School material in the country, presented in the Bob Ulrich and Jill Dahlin Architecture and Design Gallery (355). The Norwest Modernism Collection is a major component of the department’s holdings, comprising nearly 500 objects dating from 1880 to 1940. In recent decades, the department has built up a significant collection of contemporary studio ceramics, glass, and wood. A current focus is design of the Scandinavian and Nordic countries. The Mia continues to showcase these collections at the Wells Fargo Center in downtown Minneapolis. On the Web, they are represented by the award-winning sites <a href=\\\"http://http//www.artsMia.org/unified-vision/\\\">Unified Vision: The Architecture and Design of the Prairie School</a> and <a href=\\\"http://www.artsMia.org/modernism/\\\">Modernism</a>.`,\n  paintings: `The Mia's internationally acclaimed collection of paintings contains nearly 900 European and American works from the fourteenth century to the present. It offers a comprehensive survey of both celebrated schools and individual artists and is notable for its concentration of masterworks.\\r\\n\\r\\nOne of the museum’s earliest acquisitions was Gustave Courbet’s Deer in a Forest, which St. Paul railroad magnate James J. Hill donated in 1914. Hill’s collection of nineteenth-century French Romantic and Realist art was exceptional. Many of his most important pictures, including Eugène Delacroix’s The Fanatics of Tangier, were given or bequeathed to the Mia by his descendants.\\r\\n\\r\\nThe present paintings collection has been expanded in varied and often delightfully unpredictable ways by a succession of astute trustees, donors, directors, and curators. It includes Claude Lorrain’s Pastoral Landscape of 1638, Nicolas Poussin’s Death of Germanicus of 1627, and Rembrandt van Rijn’s Lucretia of 1666. In addition to many wonderful French nineteenth-century pictures, the museum has rich holdings of Italian Baroque, seventeenth-century Dutch, and Fauve, Cubist, and German Expressionist works. The American collection showcases a range of artistic accomplishments from Gilbert Stuart to Larry Rivers and contains exceptional paintings by John Singer Sargent and Georgia O’Keeffe.`,\n  photography: `Begun in 1973, the Mia’s collection of photographs spans the history of photography from the 1860s to the present. Representing more than 800 photographers and 11,500 works of art, the collection has outstanding examples of twentieth-century American photography, with particular depth in the genres of documentary photography, photojournalism, and pictorialism. Since 2008, the museum has focused on expanding its holdings of contemporary photography and new media from all countries. This initiative increases the scope and relevance of the photography collection and enhances its links to the Mia’s diverse, global holdings.\\r\\n\\r\\nThe Department of Photography &amp; New Media continues to thrive thanks to the active, generous support of loyal donors. The earliest acquisitions were funded by Kate Butler and Hall James Peterson. Their initiative inspired others, including Harry Drake, Martin Weinstein, and Fred and Ellen Wells. More recently, the creation of the Alfred and Ingrid Lenz Harrison Fund and the establishment of the Harrison Photography Galleries (364 &amp; 365) have given the department enormous momentum. These superb new galleries are devoted to presenting the permanent collection. In addition, Linda and Lawrence Perlman established the Perlman Gallery (262), which is dedicated to featuring contemporary photography and is located in the Mia’s Target Wing, hosting <a href=\\\"http://www2.artsMia.org/blogs/new-pictures\\\">New Pictures</a>, a semi-annual series highlighting emerging photographers from around the world. You, too, can contribute to and enjoy special access to exhibitions and events by joining the <a href=\\\"http://new.artsMia.org/join-and-invest/affinity-groups/\\\">Photography &amp; New Media Affinity Group</a>.\\r\\n\\r\\nOver the years, the Department of Photography &amp; New Media has been committed to using its collection for educational purposes, and the Mia now serves as a major resource for the five-state region. Numerous exhibitions drawn from the collection have traveled to other institutions, and students and teachers frequently visit the galleries and <a href=\\\"http://new.artsMia.org/visit/museum-facilities/study-rooms/\\\">Photography Study Room</a> to learn from the collection firsthand. Click on the photograph below to browse the collection and prepare for your next visit to the Mia.`,\n  prints: `The Department of Prints &amp; Drawings keeps up an active program of thematic exhibitions, but it is also the Mia’s hidden treasure chest. At any given time, only a fraction of the museum’s collection of nearly 40,000 prints and 3,000 drawings is on view in the galleries. Nearly all, however, are available to the public in the comfort of the <a href=\\\"http://new.artsMia.org/visit/study-rooms/\\\">Herschel V. Jones Print Study Room</a>. To prepare for your visit, please make an appointment by phone (612) 870-3105 or by e-mail (<a href=\\\"mailto:printstudy@artsMia.org\\\">printstudy@artsMia.org</a>).\\r\\n\\r\\nMany of the greatest European and American artists from the Renaissance to the present are represented, often in considerable depth and quality. Among the highlights are old master prints by Albrecht Dürer and Rembrandt van Rijn; Jacopo de’Barbari’s amazing bird’s-eye view of Venice; a rare presentation copy of Francisco de Goya’s <em>Los Caprichos</em>; a fabulous monotype by William Blake; extensive holdings in nineteenth-century French and British prints and drawings, featuring artists such as James McNeill Whistler, Edgar Degas, and Félix Buhot; and outstanding twentieth-century drawings by Lovis Corinth, Egon Schiele, Ernst Ludwig Kirchner, Erich Heckel, Piet Mondrian, Georges Rouault, Henri Matisse, Jasper Johns, Andy Warhol, Roy Lichtenstein, Jim Dine, Ed Ruscha, Nicola Hicks, and many more. The department is building its collection of twenty-first-century prints and drawings, which is reaching ever further beyond America and Europe to other parts of the world. P&amp;D has secured works by William Kentridge, Julie Mehretu, Mequitta Ahuja, Jaune Quick-to-See Smith, Chuck Close, Luis Jimenez, Cynthia Lin, Carlos Amorales, Diane Victor, and more.\\r\\n\\r\\nThere are also fascinating collections within the collection. The department has a large number of books designed and illustrated by artists, which is especially rich in works from France. Students of modern printmaking will want to explore the Vermillion Editions Limited Archival Collection, which contains examples of all the prints published by that Twin Cities press as well as preparatory drawings, proofs, and maquettes that led to the finished work. Botanical, zoological, fashion, and ornamental illustrations from the fifteenth through the twentieth centuries all figure in the mix, as does a wide array of works by Minnesota and regional artists.\\r\\n\\r\\nThe <a href=\\\"http://new.artsMia.org/join-and-invest/affinity-groups/\\\">Prints &amp; Drawings Affinity Group</a> provides a terrific opportunity to learn more about this vital field of art, to meet others with similar interests, and to help the Mia improve its ability to make art available to the public.`,\n  cssaa: `The Department of Chinese and South and Southeast Asian Art has benefited greatly from generous gifts from knowledgeable collectors. Augustus L. Searle, Alfred F. Pillsbury, Richard P. Gale, Louis W. Hill, Jr., and Ruth and Bruce Dayton have donated collections of international reputation. These include ancient Chinese bronzes, ancient and post-Song jade, Chinese monochrome ceramics, and classical Chinese furniture. In addition, curators have built exquisite collections of Qing dynasty silk textiles and Miao textiles.\\r\\n\\r\\nSome of the first works of art to enter the museum’s collection were from South (India, Bangladesh, Sri Lanka, Pakistan, Nepal, Bhutan, and Afghanistan) and Southeast Asia (Cambodia, Laos, Myanmar, Thailand, Malaysia, Vietnam, Singapore, Indonesia, Brunei and the Philippines), beginning in 1914 when Charles Freer donated several Thai Buddhist sculptures.  In 1929 Sarah Bell Pillsbury Gale gave the museum its first major Indian work of art, a 12th century bronze (ca. 1100) Dancing Shiva (Nataraja).  The highlight of the South Asian collection is a monumental stone Yogini sculpture from 10<span style=\\\"font-size: 11px;\\\">th </span>century south India. Today the South Asian collection numbers about 150 objects and the Southeast Asian collection numbers around 183.\\r\\n\\r\\nWithin the galleries there are two Chinese period rooms including an original reception hall from the late Ming dynasty and a ca. 1700 Suzchou-area library.`,\n  jka: `The collection of Japanese and Korean art includes over 7,000 works ranging from ancient to contemporary and is amongst the top five collections in the United States. The permanent display space for Japanese art is the largest in the Western world with 15 galleries and over 10,000 square feet (930 sqm). The collection itself includes Buddhist sculpture, woodblock prints, paintings, lacquer, works of bamboo, and ceramics, and it is particularly rich in works from the Edo period (1610–1868).\\r\\n\\r\\nTwo historic rooms, a formal audience hall (<i>shoin</i>) and a teahouse (<i>chashitsu</i>), allow highly visible installations within the permanent galleries and serve to heighten awareness of the relationship between art and architecture.</p><p>The Department of Japanese and Korean art has benefited greatly from generous gifts from knowledgeable collectors. Richard P. Gale, Louis W. Hill, Jr., Ruth and Bruce Dayton, and Ellen and Fred Wells have all donated specialized collections of international reputation. With the addition of over 1,500 works of art from the collections of Elizabeth and Willard “Bill” Clark and the Clark Center for Japanese Art in 2013 and half of the world-renowned Mary Griggs Burke collection, the Japanese and Korean art galleries are no doubt a destination for both art enthusiasts and scholars alike.</p><p>The department is dedicated to providing the public with a broad overview of Japanese and Korean art. By showcasing art both chronologically and by medium, the galleries show the history of not only the objects themselves, but also of a collected process of artistic creation. This can be seen, for example, by the scope of ceramics, ranging from early utilitarian to contemporary sculptures.</p><p>Of notable strength is the collection of <i>ukiyo-e</i> paintings and prints, popularly known as “pictures of the floating world”. The core of the collection was built by Richard P. Gale and Louis W. Hill, Jr., and the Gale bequest included some 57 paintings and 206 prints, many of which are rare and in admirable condition. A strong collection of <i>Ōtsu-e</i>, folk paintings produced in and around the town of Ōtsu during the Edo period, came from collectors Edson and Harriet Spencer who also donated their collection of tiger paintings.`,\n}\n\nmodule.exports = DepartmentDecorator\n"
      ]
    },
    "mtime": 1584573136822
  },
  "{\"filename\":\"/var/www/art/src/department-slug.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/department-slug.js",
      "filenameRelative": "/var/www/art/src/department-slug.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "department-slug.js",
      "sourceFileName": "department-slug.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "department-slug"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar toSlug = require('speakingurl');\n\n// { full name: short name, …}\nvar representations = {\n  \"Art of Africa and the Americas\": 'africa',\n  \"Contemporary Art\": 'contemporary',\n  \"Decorative Arts, Textiles and Sculpture\": 'dats',\n  \"Paintings\": 'paintings',\n  \"Photography and New Media\": 'photography',\n  \"Prints and Drawings\": 'prints',\n  \"Chinese, South and Southeast Asian Art\": 'cssaa',\n  \"Japanese and Korean Art\": 'jka'\n};\n\n// Associate [full name, short name, slug]\nvar nameTriple = Object.keys(representations).map(function (key) {\n  return [key, representations[key], toSlug(key)];\n}, []);\n\nmodule.exports = function (deptSelector) {\n  return nameTriple.find(function (triple) {\n    if (triple.indexOf(deptSelector) > -1) return triple;\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlcGFydG1lbnQtc2x1Zy5qcyJdLCJuYW1lcyI6WyJ0b1NsdWciLCJyZXF1aXJlIiwicmVwcmVzZW50YXRpb25zIiwibmFtZVRyaXBsZSIsIk9iamVjdCIsImtleXMiLCJtYXAiLCJrZXkiLCJtb2R1bGUiLCJleHBvcnRzIiwiZmluZCIsInRyaXBsZSIsImluZGV4T2YiLCJkZXB0U2VsZWN0b3IiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsU0FBU0MsUUFBUSxhQUFSLENBQWI7O0FBRUE7QUFDQSxJQUFJQyxrQkFBa0I7QUFDcEIsb0NBQWtDLFFBRGQ7QUFFcEIsc0JBQW9CLGNBRkE7QUFHcEIsNkNBQTJDLE1BSHZCO0FBSXBCLGVBQWEsV0FKTztBQUtwQiwrQkFBNkIsYUFMVDtBQU1wQix5QkFBdUIsUUFOSDtBQU9wQiw0Q0FBMEMsT0FQdEI7QUFRcEIsNkJBQTJCO0FBUlAsQ0FBdEI7O0FBV0E7QUFDQSxJQUFJQyxhQUFhQyxPQUFPQyxJQUFQLENBQVlILGVBQVosRUFBNkJJLEdBQTdCLENBQWlDO0FBQUEsU0FBTyxDQUFDQyxHQUFELEVBQU1MLGdCQUFnQkssR0FBaEIsQ0FBTixFQUE0QlAsT0FBT08sR0FBUCxDQUE1QixDQUFQO0FBQUEsQ0FBakMsRUFBa0YsRUFBbEYsQ0FBakI7O0FBRUFDLE9BQU9DLE9BQVAsR0FBaUI7QUFBQSxTQUFnQk4sV0FBV08sSUFBWCxDQUFnQixVQUFDQyxNQUFELEVBQVk7QUFDM0QsUUFBR0EsT0FBT0MsT0FBUCxDQUFlQyxZQUFmLElBQStCLENBQUMsQ0FBbkMsRUFBc0MsT0FBT0YsTUFBUDtBQUN2QyxHQUZnQyxDQUFoQjtBQUFBLENBQWpCIiwiZmlsZSI6ImRlcGFydG1lbnQtc2x1Zy5qcyIsInNvdXJjZVJvb3QiOiIvdmFyL3d3dy9hcnQvc3JjIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHRvU2x1ZyA9IHJlcXVpcmUoJ3NwZWFraW5ndXJsJylcblxuLy8geyBmdWxsIG5hbWU6IHNob3J0IG5hbWUsIOKApn1cbnZhciByZXByZXNlbnRhdGlvbnMgPSB7XG4gIFwiQXJ0IG9mIEFmcmljYSBhbmQgdGhlIEFtZXJpY2FzXCI6ICdhZnJpY2EnLFxuICBcIkNvbnRlbXBvcmFyeSBBcnRcIjogJ2NvbnRlbXBvcmFyeScsXG4gIFwiRGVjb3JhdGl2ZSBBcnRzLCBUZXh0aWxlcyBhbmQgU2N1bHB0dXJlXCI6ICdkYXRzJyxcbiAgXCJQYWludGluZ3NcIjogJ3BhaW50aW5ncycsXG4gIFwiUGhvdG9ncmFwaHkgYW5kIE5ldyBNZWRpYVwiOiAncGhvdG9ncmFwaHknLFxuICBcIlByaW50cyBhbmQgRHJhd2luZ3NcIjogJ3ByaW50cycsXG4gIFwiQ2hpbmVzZSwgU291dGggYW5kIFNvdXRoZWFzdCBBc2lhbiBBcnRcIjogJ2Nzc2FhJyxcbiAgXCJKYXBhbmVzZSBhbmQgS29yZWFuIEFydFwiOiAnamthJ1xufVxuXG4vLyBBc3NvY2lhdGUgW2Z1bGwgbmFtZSwgc2hvcnQgbmFtZSwgc2x1Z11cbnZhciBuYW1lVHJpcGxlID0gT2JqZWN0LmtleXMocmVwcmVzZW50YXRpb25zKS5tYXAoa2V5ID0+IFtrZXksIHJlcHJlc2VudGF0aW9uc1trZXldLCB0b1NsdWcoa2V5KV0sIFtdKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRlcHRTZWxlY3RvciA9PiBuYW1lVHJpcGxlLmZpbmQoKHRyaXBsZSkgPT4ge1xuICBpZih0cmlwbGUuaW5kZXhPZihkZXB0U2VsZWN0b3IpID4gLTEpIHJldHVybiB0cmlwbGVcbn0pXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "department-slug.js"
      ],
      "names": [
        "toSlug",
        "require",
        "representations",
        "nameTriple",
        "Object",
        "keys",
        "map",
        "key",
        "module",
        "exports",
        "find",
        "triple",
        "indexOf",
        "deptSelector"
      ],
      "mappings": ";;AAAA,IAAIA,SAASC,QAAQ,aAAR,CAAb;;AAEA;AACA,IAAIC,kBAAkB;AACpB,oCAAkC,QADd;AAEpB,sBAAoB,cAFA;AAGpB,6CAA2C,MAHvB;AAIpB,eAAa,WAJO;AAKpB,+BAA6B,aALT;AAMpB,yBAAuB,QANH;AAOpB,4CAA0C,OAPtB;AAQpB,6BAA2B;AARP,CAAtB;;AAWA;AACA,IAAIC,aAAaC,OAAOC,IAAP,CAAYH,eAAZ,EAA6BI,GAA7B,CAAiC;AAAA,SAAO,CAACC,GAAD,EAAML,gBAAgBK,GAAhB,CAAN,EAA4BP,OAAOO,GAAP,CAA5B,CAAP;AAAA,CAAjC,EAAkF,EAAlF,CAAjB;;AAEAC,OAAOC,OAAP,GAAiB;AAAA,SAAgBN,WAAWO,IAAX,CAAgB,UAACC,MAAD,EAAY;AAC3D,QAAGA,OAAOC,OAAP,CAAeC,YAAf,IAA+B,CAAC,CAAnC,EAAsC,OAAOF,MAAP;AACvC,GAFgC,CAAhB;AAAA,CAAjB",
      "file": "department-slug.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var toSlug = require('speakingurl')\n\n// { full name: short name, …}\nvar representations = {\n  \"Art of Africa and the Americas\": 'africa',\n  \"Contemporary Art\": 'contemporary',\n  \"Decorative Arts, Textiles and Sculpture\": 'dats',\n  \"Paintings\": 'paintings',\n  \"Photography and New Media\": 'photography',\n  \"Prints and Drawings\": 'prints',\n  \"Chinese, South and Southeast Asian Art\": 'cssaa',\n  \"Japanese and Korean Art\": 'jka'\n}\n\n// Associate [full name, short name, slug]\nvar nameTriple = Object.keys(representations).map(key => [key, representations[key], toSlug(key)], [])\n\nmodule.exports = deptSelector => nameTriple.find((triple) => {\n  if(triple.indexOf(deptSelector) > -1) return triple\n})\n"
      ]
    },
    "mtime": 1465405261330
  },
  "{\"filename\":\"/var/www/art/src/decorate/gallery.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src/decorate\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "slicedToArray"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/decorate/gallery.js",
      "filenameRelative": "/var/www/art/src/decorate/gallery.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "gallery.js",
      "sourceFileName": "gallery.js",
      "sourceRoot": "/var/www/art/src/decorate",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src/decorate",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "gallery"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar React = require('react');\n\nvar _require = require('react-router'),\n    Link = _require.Link;\n\nvar rest = require('rest');\n\nvar _require2 = require('../../data/galleries.json'),\n    galleries = _require2.galleries,\n    messages = _require2.messages;\n\nvar Markdown = require('../markdown');\nvar Map = require('../map');\nvar galleryPanelUrl = require('../endpoints').galleryPanel;\n\nvar GalleryDecorator = React.createClass({\n  displayName: 'GalleryDecorator',\n  getGalleryInfo: function getGalleryInfo(gallery) {\n    // gallery can either be `G215` or `room:G215` (or `room:\"G215\"`)\n    // or, \"Not on View\", in which case skip retrieving info\n    if (this.props.notOnView) return null;\n    var galleryId = gallery.match(/(room:)?\"?([^\"]*)\"?/)[2];\n    var number = galleryId.replace(/g/i, '');\n    if (number == '266-274') number = '266-G274';\n    var galleryInfo = galleries[number];\n    this.fetchData(number);\n\n    return {\n      number: number,\n      galleryInfo: galleryInfo,\n      panel: this.props.galleryPanel\n    };\n  },\n  getInitialState: function getInitialState() {\n    return this.getGalleryInfo(this.props.gallery);\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    var dontUpdate = this.props.gallery == nextProps.gallery && this.props.showFullInfo == nextProps.showFullInfo;\n\n    if (!dontUpdate) this.setState(this.getGalleryInfo(nextProps.gallery));\n  },\n  render: function render() {\n    if (this.props.notOnView) return React.createElement(NotOnViewGalleryDecorator, null);\n    var _state = this.state,\n        number = _state.number,\n        galleryInfo = _state.galleryInfo,\n        panel = _state.panel;\n\n    var showFullInfo = this.props.showFullGalleryInfo;\n    if (panel && !showFullInfo) {\n      panel = panel.split('\\n').slice(0, 3).join('\\n');\n    }\n\n    var _nextPrevLinks = this.nextPrevLinks(),\n        _nextPrevLinks2 = _slicedToArray(_nextPrevLinks, 2),\n        prevLink = _nextPrevLinks2[0],\n        nextLink = _nextPrevLinks2[1];\n\n    var mapProps = {\n      closed: true,\n      number: number,\n      prevLink: prevLink,\n      nextLink: nextLink\n    };\n\n    if (!panel && !galleryInfo) return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'h1',\n        null,\n        'Gallery Not Found!'\n      ),\n      React.createElement(\n        Link,\n        { to: 'galleries' },\n        'Show all galleries'\n      )\n    );\n\n    return React.createElement(\n      'div',\n      { style: { clear: 'both' }, className: 'decorator d-gallery' },\n      React.createElement(\n        'div',\n        null,\n        React.createElement(Map, mapProps)\n      ),\n      (panel || galleryInfo) && React.createElement(\n        'div',\n        { className: 'info' },\n        panel && React.createElement(\n          Markdown,\n          null,\n          panel\n        ),\n        galleryInfo && React.createElement(\n          'p',\n          null,\n          React.createElement(\n            'strong',\n            null,\n            galleryInfo.title\n          )\n        ),\n        !showFullInfo && React.createElement(\n          Link,\n          { to: 'gallery', params: { gallery: number } },\n          'More info'\n        )\n      ),\n      React.createElement('hr', { style: { clear: 'both', visibility: 'hidden' } })\n    );\n  },\n  nextPrevLinks: function nextPrevLinks() {\n    var _this = this;\n\n    var _state2 = this.state,\n        number = _state2.number,\n        galleryInfo = _state2.galleryInfo,\n        panel = _state2.panel;\n\n    if (!galleryInfo) return [];\n\n    var prev = galleryInfo.prev,\n        next = galleryInfo.next;\n\n\n    var linkParams = function linkParams(adjacentGallery) {\n      return _this.props.showFullGalleryInfo ? { to: 'gallery', params: { gallery: adjacentGallery } } : { to: 'searchResults', params: { terms: 'G' + adjacentGallery } };\n    };\n\n    return [prev && React.createElement(\n      Link,\n      linkParams(prev),\n      '\\u2190 G',\n      prev\n    ), next && React.createElement(\n      Link,\n      linkParams(next),\n      'G',\n      next,\n      ' \\u2192'\n    )];\n  },\n  fetchData: function fetchData(number) {\n    var _this2 = this;\n\n    rest(galleryPanelUrl(number || this.state.number)).then(function (result) {\n      _this2.setState({\n        panel: result.status.code == 200 ? result.entity : ''\n      });\n    });\n  },\n  componentDidMount: function componentDidMount() {\n    if (!this.props.notOnView) this.fetchData();\n  }\n});\n\nmodule.exports = GalleryDecorator;\n\nvar NotOnViewGalleryDecorator = React.createClass({\n  displayName: 'NotOnViewGalleryDecorator',\n  render: function render() {\n    var message = 'Very few of the artworks at Mia can be \"on view\" at any point in time.\\n\\n' + \"The museum's [Print and Photograph Study Rooms](https://new.artsmia.org/visit/study-rooms/) offer individuals and groups the opportunity to examine off-view artworks (including woodcuts, engravings, etchings, lithographs, screenprints, drawings, watercolors, artist’s books, photography, and new media) upon appointment.\";\n\n    return React.createElement(\n      Markdown,\n      null,\n      message\n    );\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdhbGxlcnkuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiTGluayIsInJlc3QiLCJnYWxsZXJpZXMiLCJtZXNzYWdlcyIsIk1hcmtkb3duIiwiTWFwIiwiZ2FsbGVyeVBhbmVsVXJsIiwiZ2FsbGVyeVBhbmVsIiwiR2FsbGVyeURlY29yYXRvciIsImNyZWF0ZUNsYXNzIiwiZ2V0R2FsbGVyeUluZm8iLCJnYWxsZXJ5IiwicHJvcHMiLCJub3RPblZpZXciLCJnYWxsZXJ5SWQiLCJtYXRjaCIsIm51bWJlciIsInJlcGxhY2UiLCJnYWxsZXJ5SW5mbyIsImZldGNoRGF0YSIsInBhbmVsIiwiZ2V0SW5pdGlhbFN0YXRlIiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIm5leHRQcm9wcyIsImRvbnRVcGRhdGUiLCJzaG93RnVsbEluZm8iLCJzZXRTdGF0ZSIsInJlbmRlciIsInN0YXRlIiwic2hvd0Z1bGxHYWxsZXJ5SW5mbyIsInNwbGl0Iiwic2xpY2UiLCJqb2luIiwibmV4dFByZXZMaW5rcyIsInByZXZMaW5rIiwibmV4dExpbmsiLCJtYXBQcm9wcyIsImNsb3NlZCIsImNsZWFyIiwidGl0bGUiLCJ2aXNpYmlsaXR5IiwicHJldiIsIm5leHQiLCJsaW5rUGFyYW1zIiwiYWRqYWNlbnRHYWxsZXJ5IiwidG8iLCJwYXJhbXMiLCJ0ZXJtcyIsInRoZW4iLCJyZXN1bHQiLCJzdGF0dXMiLCJjb2RlIiwiZW50aXR5IiwiY29tcG9uZW50RGlkTW91bnQiLCJtb2R1bGUiLCJleHBvcnRzIiwiTm90T25WaWV3R2FsbGVyeURlY29yYXRvciIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJQSxRQUFRQyxRQUFRLE9BQVIsQ0FBWjs7ZUFDYUEsUUFBUSxjQUFSLEM7SUFBUkMsSSxZQUFBQSxJOztBQUNMLElBQUlDLE9BQU9GLFFBQVEsTUFBUixDQUFYOztnQkFFNEJBLFFBQVEsMkJBQVIsQztJQUF2QkcsUyxhQUFBQSxTO0lBQVdDLFEs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QUFBOztBQUNoQmYsU0FBS0ssZ0JBQWdCVSxVQUFVLEtBQUtZLEtBQUwsQ0FBV1osTUFBckMsQ0FBTCxFQUNDZ0MsSUFERCxDQUNNLFVBQUNDLE1BQUQsRUFBWTtBQUNoQixhQUFLdkIsUUFBTCxDQUFjO0FBQ1pOLGVBQU82QixPQUFPQyxNQUFQLENBQWNDLElBQWQsSUFBc0IsR0FBdEIsR0FBNEJGLE9BQU9HLE1BQW5DLEdBQTRDO0FBRHZDLE9BQWQ7QUFHRCxLQUxEO0FBTUQsR0F2RnVDO0FBeUZ4Q0MsbUJBekZ3QywrQkF5RnBCO0FBQ2xCLFFBQUcsQ0FBQyxLQUFLekMsS0FBTCxDQUFXQyxTQUFmLEVBQTBCLEtBQUtNLFNBQUw7QUFDM0I7QUEzRnVDLENBQWxCLENBQXhCOztBQThGQW1DLE9BQU9DLE9BQVAsR0FBaUIvQyxnQkFBakI7O0FBRUEsSUFBSWdELDRCQUE0QjFELE1BQU1XLFdBQU4sQ0FBa0I7QUFBQTtBQUNoRGtCLFFBRGdELG9CQUN2QztBQUNQLFFBQUk4QixVQUFVLCtFQUNkLGtVQURBOztBQUdBLFdBQU87QUFBQyxjQUFEO0FBQUE7QUFBV0E7QUFBWCxLQUFQO0FBQ0Q7QUFOK0MsQ0FBbEIsQ0FBaEMiLCJmaWxlIjoiZ2FsbGVyeS5qcyIsInNvdXJjZVJvb3QiOiIvdmFyL3d3dy9hcnQvc3JjL2RlY29yYXRlIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIHtMaW5rfSA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxuXG52YXIge2dhbGxlcmllcywgbWVzc2FnZXN9ID0gcmVxdWlyZSgnLi4vLi4vZGF0YS9nYWxsZXJpZXMuanNvbicpXG52YXIgTWFya2Rvd24gPSByZXF1aXJlKCcuLi9tYXJrZG93bicpXG52YXIgTWFwID0gcmVxdWlyZSgnLi4vbWFwJylcbnZhciBnYWxsZXJ5UGFuZWxVcmwgPSByZXF1aXJlKCcuLi9lbmRwb2ludHMnKS5nYWxsZXJ5UGFuZWxcblxudmFyIEdhbGxlcnlEZWNvcmF0b3IgPSAgUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBnZXRHYWxsZXJ5SW5mbyhnYWxsZXJ5KSB7XG4gICAgLy8gZ2FsbGVyeSBjYW4gZWl0aGVyIGJlIGBHMjE1YCBvciBgcm9vbTpHMjE1YCAob3IgYHJvb206XCJHMjE1XCJgKVxuICAgIC8vIG9yLCBcIk5vdCBvbiBWaWV3XCIsIGluIHdoaWNoIGNhc2Ugc2tpcCByZXRyaWV2aW5nIGluZm9cbiAgICBpZih0aGlzLnByb3BzLm5vdE9uVmlldykgcmV0dXJuIG51bGxcbiAgICB2YXIgZ2FsbGVyeUlkID0gZ2FsbGVyeS5tYXRjaCgvKHJvb206KT9cIj8oW15cIl0qKVwiPy8pWzJdXG4gICAgdmFyIG51bWJlciA9IGdhbGxlcnlJZC5yZXBsYWNlKC9nL2ksICcnKVxuICAgIGlmKG51bWJlciA9PSAnMjY2LTI3NCcpIG51bWJlciA9ICcyNjYtRzI3NCdcbiAgICB2YXIgZ2FsbGVyeUluZm8gPSBnYWxsZXJpZXNbbnVtYmVyXVxuICAgIHRoaXMuZmV0Y2hEYXRhKG51bWJlcilcblxuICAgIHJldHVybiB7XG4gICAgICBudW1iZXIsXG4gICAgICBnYWxsZXJ5SW5mbyxcbiAgICAgIHBhbmVsOiB0aGlzLnByb3BzLmdhbGxlcnlQYW5lbCxcbiAgICB9XG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLmdldEdhbGxlcnlJbmZvKHRoaXMucHJvcHMuZ2FsbGVyeSlcbiAgfSxcblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIHZhciBkb250VXBkYXRlID0gdGhpcy5wcm9wcy5nYWxsZXJ5ID09IG5leHRQcm9wcy5nYWxsZXJ5ICYmXG4gICAgICB0aGlzLnByb3BzLnNob3dGdWxsSW5mbyA9PSBuZXh0UHJvcHMuc2hvd0Z1bGxJbmZvXG5cbiAgICBpZighZG9udFVwZGF0ZSkgdGhpcy5zZXRTdGF0ZSh0aGlzLmdldEdhbGxlcnlJbmZvKG5leHRQcm9wcy5nYWxsZXJ5KSlcbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgaWYodGhpcy5wcm9wcy5ub3RPblZpZXcpIHJldHVybiA8Tm90T25WaWV3R2FsbGVyeURlY29yYXRvciAvPlxuICAgIHZhciB7bnVtYmVyLCBnYWxsZXJ5SW5mbywgcGFuZWx9ID0gdGhpcy5zdGF0ZVxuICAgIHZhciBzaG93RnVsbEluZm8gPSB0aGlzLnByb3BzLnNob3dGdWxsR2FsbGVyeUluZm9cbiAgICBpZihwYW5lbCAmJiAhc2hvd0Z1bGxJbmZvKSB7XG4gICAgICBwYW5lbCA9IHBhbmVsLnNwbGl0KCdcXG4nKS5zbGljZSgwLDMpLmpvaW4oJ1xcbicpXG4gICAgfVxuXG4gICAgbGV0IFtwcmV2TGluaywgbmV4dExpbmtdID0gdGhpcy5uZXh0UHJldkxpbmtzKClcblxuICAgIGxldCBtYXBQcm9wcyA9IHtcbiAgICAgIGNsb3NlZDogdHJ1ZSxcbiAgICAgIG51bWJlcixcbiAgICAgIHByZXZMaW5rLFxuICAgICAgbmV4dExpbmssXG4gICAgfVxuXG4gICAgaWYoIXBhbmVsICYmICFnYWxsZXJ5SW5mbykgcmV0dXJuIDxkaXY+XG4gICAgICA8aDE+R2FsbGVyeSBOb3QgRm91bmQhPC9oMT5cbiAgICAgIDxMaW5rIHRvPVwiZ2FsbGVyaWVzXCI+U2hvdyBhbGwgZ2FsbGVyaWVzPC9MaW5rPlxuICAgIDwvZGl2PlxuXG4gICAgcmV0dXJuIDxkaXYgc3R5bGU9e3tjbGVhcjogJ2JvdGgnfX0gY2xhc3NOYW1lPVwiZGVjb3JhdG9yIGQtZ2FsbGVyeVwiPlxuICAgICAgPGRpdj5cbiAgICAgICAgPE1hcCB7Li4ubWFwUHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIHsocGFuZWwgfHwgZ2FsbGVyeUluZm8pICYmIDxkaXYgY2xhc3NOYW1lPVwiaW5mb1wiPlxuICAgICAgICB7cGFuZWwgJiYgPE1hcmtkb3duPntwYW5lbH08L01hcmtkb3duPn1cbiAgICAgICAge2dhbGxlcnlJbmZvICYmIDxwPjxzdHJvbmc+e2dhbGxlcnlJbmZvLnRpdGxlfTwvc3Ryb25nPjwvcD59XG4gICAgICAgIHshc2hvd0Z1bGxJbmZvICYmIDxMaW5rIHRvPSdnYWxsZXJ5JyBwYXJhbXM9e3tnYWxsZXJ5OiBudW1iZXJ9fT5Nb3JlIGluZm88L0xpbms+fVxuICAgICAgPC9kaXY+fVxuICAgICAgPGhyIHN0eWxlPXt7Y2xlYXI6ICdib3RoJywgdmlzaWJpbGl0eTogJ2hpZGRlbid9fSAvPlxuICAgIDwvZGl2PlxuICB9LFxuXG4gIG5leHRQcmV2TGlua3MoKSB7XG4gICAgdmFyIHtudW1iZXIsIGdhbGxlcnlJbmZvLCBwYW5lbH0gPSB0aGlzLnN0YXRlXG4gICAgaWYoIWdhbGxlcnlJbmZvKSByZXR1cm4gW11cblxuICAgIHZhciB7cHJldiwgbmV4dH0gPSBnYWxsZXJ5SW5mb1xuXG4gICAgdmFyIGxpbmtQYXJhbXMgPSAoYWRqYWNlbnRHYWxsZXJ5KSA9PiB0aGlzLnByb3BzLnNob3dGdWxsR2FsbGVyeUluZm8gP1xuICAgICAge3RvOiAnZ2FsbGVyeScsIHBhcmFtczoge2dhbGxlcnk6IGFkamFjZW50R2FsbGVyeX19IDpcbiAgICAgIHt0bzogJ3NlYXJjaFJlc3VsdHMnLCBwYXJhbXM6IHt0ZXJtczogYEcke2FkamFjZW50R2FsbGVyeX1gfX1cblxuICAgIHJldHVybiBbXG4gICAgICBwcmV2ICYmIDxMaW5rIHsuLi5saW5rUGFyYW1zKHByZXYpfT4mbGFycjsgR3twcmV2fTwvTGluaz4sXG4gICAgICBuZXh0ICYmIDxMaW5rIHsuLi5saW5rUGFyYW1zKG5leHQpfT5He25leHR9ICZyYXJyOzwvTGluaz4sXG4gICAgXVxuICB9LFxuXG4gIGZldGNoRGF0YShudW1iZXIpIHtcbiAgICByZXN0KGdhbGxlcnlQYW5lbFVybChudW1iZXIgfHwgdGhpcy5zdGF0ZS5udW1iZXIpKVxuICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBwYW5lbDogcmVzdWx0LnN0YXR1cy5jb2RlID09IDIwMCA/IHJlc3VsdC5lbnRpdHkgOiAnJyxcbiAgICAgIH0pXG4gICAgfSlcbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZighdGhpcy5wcm9wcy5ub3RPblZpZXcpIHRoaXMuZmV0Y2hEYXRhKClcbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gR2FsbGVyeURlY29yYXRvclxuXG52YXIgTm90T25WaWV3R2FsbGVyeURlY29yYXRvciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciBtZXNzYWdlID0gJ1ZlcnkgZmV3IG9mIHRoZSBhcnR3b3JrcyBhdCBNaWEgY2FuIGJlIFwib24gdmlld1wiIGF0IGFueSBwb2ludCBpbiB0aW1lLlxcblxcbicgK1xuICAgIFwiVGhlIG11c2V1bSdzIFtQcmludCBhbmQgUGhvdG9ncmFwaCBTdHVkeSBSb29tc10oaHR0cHM6Ly9uZXcuYXJ0c21pYS5vcmcvdmlzaXQvc3R1ZHktcm9vbXMvKSBvZmZlciBpbmRpdmlkdWFscyBhbmQgZ3JvdXBzIHRoZSBvcHBvcnR1bml0eSB0byBleGFtaW5lIG9mZi12aWV3IGFydHdvcmtzIChpbmNsdWRpbmcgd29vZGN1dHMsIGVuZ3JhdmluZ3MsIGV0Y2hpbmdzLCBsaXRob2dyYXBocywgc2NyZWVucHJpbnRzLCBkcmF3aW5ncywgd2F0ZXJjb2xvcnMsIGFydGlzdOKAmXMgYm9va3MsIHBob3RvZ3JhcGh5LCBhbmQgbmV3IG1lZGlhKSB1cG9uIGFwcG9pbnRtZW50LlwiXG5cbiAgICByZXR1cm4gPE1hcmtkb3duPnttZXNzYWdlfTwvTWFya2Rvd24+XG4gIH1cbn0pXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "gallery.js"
      ],
      "names": [
        "React",
        "require",
        "Link",
        "rest",
        "galleries",
        "messages",
        "Markdown",
        "Map",
        "galleryPanelUrl",
        "galleryPanel",
        "GalleryDecorator",
        "createClass",
        "getGalleryInfo",
        "gallery",
        "props",
        "notOnView",
        "galleryId",
        "match",
        "number",
        "replace",
        "galleryInfo",
        "fetchData",
        "panel",
        "getInitialState",
        "componentWillReceiveProps",
        "nextProps",
        "dontUpdate",
        "showFullInfo",
        "setState",
        "render",
        "state",
        "showFullGalleryInfo",
        "split",
        "slice",
        "join",
        "nextPrevLinks",
        "prevLink",
        "nextLink",
        "mapProps",
        "closed",
        "clear",
        "title",
        "visibility",
        "prev",
        "next",
        "linkParams",
        "adjacentGallery",
        "to",
        "params",
        "terms",
        "then",
        "result",
        "status",
        "code",
        "entity",
        "componentDidMount",
        "module",
        "exports",
        "NotOnViewGalleryDecorator",
        "message"
      ],
      "mappings": "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",
      "file": "gallery.js",
      "sourceRoot": "/var/www/art/src/decorate",
      "sourcesContent": [
        "var React = require('react')\nvar {Link} = require('react-router')\nvar rest = require('rest')\n\nvar {galleries, messages} = require('../../data/galleries.json')\nvar Markdown = require('../markdown')\nvar Map = require('../map')\nvar galleryPanelUrl = require('../endpoints').galleryPanel\n\nvar GalleryDecorator =  React.createClass({\n  getGalleryInfo(gallery) {\n    // gallery can either be `G215` or `room:G215` (or `room:\"G215\"`)\n    // or, \"Not on View\", in which case skip retrieving info\n    if(this.props.notOnView) return null\n    var galleryId = gallery.match(/(room:)?\"?([^\"]*)\"?/)[2]\n    var number = galleryId.replace(/g/i, '')\n    if(number == '266-274') number = '266-G274'\n    var galleryInfo = galleries[number]\n    this.fetchData(number)\n\n    return {\n      number,\n      galleryInfo,\n      panel: this.props.galleryPanel,\n    }\n  },\n\n  getInitialState() {\n    return this.getGalleryInfo(this.props.gallery)\n  },\n\n  componentWillReceiveProps(nextProps) {\n    var dontUpdate = this.props.gallery == nextProps.gallery &&\n      this.props.showFullInfo == nextProps.showFullInfo\n\n    if(!dontUpdate) this.setState(this.getGalleryInfo(nextProps.gallery))\n  },\n\n  render() {\n    if(this.props.notOnView) return <NotOnViewGalleryDecorator />\n    var {number, galleryInfo, panel} = this.state\n    var showFullInfo = this.props.showFullGalleryInfo\n    if(panel && !showFullInfo) {\n      panel = panel.split('\\n').slice(0,3).join('\\n')\n    }\n\n    let [prevLink, nextLink] = this.nextPrevLinks()\n\n    let mapProps = {\n      closed: true,\n      number,\n      prevLink,\n      nextLink,\n    }\n\n    if(!panel && !galleryInfo) return <div>\n      <h1>Gallery Not Found!</h1>\n      <Link to=\"galleries\">Show all galleries</Link>\n    </div>\n\n    return <div style={{clear: 'both'}} className=\"decorator d-gallery\">\n      <div>\n        <Map {...mapProps} />\n      </div>\n      {(panel || galleryInfo) && <div className=\"info\">\n        {panel && <Markdown>{panel}</Markdown>}\n        {galleryInfo && <p><strong>{galleryInfo.title}</strong></p>}\n        {!showFullInfo && <Link to='gallery' params={{gallery: number}}>More info</Link>}\n      </div>}\n      <hr style={{clear: 'both', visibility: 'hidden'}} />\n    </div>\n  },\n\n  nextPrevLinks() {\n    var {number, galleryInfo, panel} = this.state\n    if(!galleryInfo) return []\n\n    var {prev, next} = galleryInfo\n\n    var linkParams = (adjacentGallery) => this.props.showFullGalleryInfo ?\n      {to: 'gallery', params: {gallery: adjacentGallery}} :\n      {to: 'searchResults', params: {terms: `G${adjacentGallery}`}}\n\n    return [\n      prev && <Link {...linkParams(prev)}>&larr; G{prev}</Link>,\n      next && <Link {...linkParams(next)}>G{next} &rarr;</Link>,\n    ]\n  },\n\n  fetchData(number) {\n    rest(galleryPanelUrl(number || this.state.number))\n    .then((result) => {\n      this.setState({\n        panel: result.status.code == 200 ? result.entity : '',\n      })\n    })\n  },\n\n  componentDidMount() {\n    if(!this.props.notOnView) this.fetchData()\n  },\n})\n\nmodule.exports = GalleryDecorator\n\nvar NotOnViewGalleryDecorator = React.createClass({\n  render() {\n    var message = 'Very few of the artworks at Mia can be \"on view\" at any point in time.\\n\\n' +\n    \"The museum's [Print and Photograph Study Rooms](https://new.artsmia.org/visit/study-rooms/) offer individuals and groups the opportunity to examine off-view artworks (including woodcuts, engravings, etchings, lithographs, screenprints, drawings, watercolors, artist’s books, photography, and new media) upon appointment.\"\n\n    return <Markdown>{message}</Markdown>\n  }\n})\n"
      ]
    },
    "mtime": 1489607727018
  },
  "{\"filename\":\"/var/www/art/src/map.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "objectWithoutProperties"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/map.js",
      "filenameRelative": "/var/www/art/src/map.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "map.js",
      "sourceFileName": "map.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "map"
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\nvar Router = require('react-router');\nvar cx = require('classnames');\nvar Isvg = require('react-inlinesvg');\n\nvar Map = React.createClass({\n  displayName: 'Map',\n\n  mixins: [Router.Navigation],\n\n  render: function render() {\n    var _this = this;\n\n    var _props = this.props,\n        number = _props.number,\n        prevLink = _props.prevLink,\n        nextLink = _props.nextLink,\n        extraProps = _objectWithoutProperties(_props, ['number', 'prevLink', 'nextLink']);\n\n    var thumbnail = React.createElement('img', {\n      src: 'https://artsmia.github.io/map/galleries/' + number + '.png',\n      onClick: this.handleClick\n    });\n    var floor = this.state.floor || this.props.floor || parseInt(parseInt(number) / 100);\n    var svg = React.createElement(\n      'div',\n      { style: { cursor: 'pointer' } },\n      React.createElement(\n        'div',\n        {\n          onClick: this.handleMapClick,\n          onMouseOver: this.handleMouseOver,\n          onMouseOut: this.handleMouseOut },\n        React.createElement(\n          Isvg,\n          {\n            src: '/map/svgs/' + floor + '.svg',\n            key: floor,\n            onLoad: this.handleSvgLoad\n          },\n          thumbnail\n        )\n      ),\n      React.createElement(FloorControls, {\n        map: this,\n        active: floor,\n        handleChange: this.changeFloor,\n        closeMap: function closeMap() {\n          return _this.setState({ open: false });\n        },\n        startOpen: this.props.startOpen\n      })\n    );\n\n    return React.createElement(\n      'div',\n      extraProps,\n      React.createElement(\n        'div',\n        { className: cx('map', { open: this.state.open }) },\n        this.state.open ? svg : thumbnail\n      ),\n      number && (prevLink || nextLink) && React.createElement(\n        'div',\n        { style: { textAlign: 'center' } },\n        prevLink,\n        React.createElement(\n          'span',\n          null,\n          ' G',\n          number,\n          ' '\n        ),\n        nextLink\n      )\n    );\n  },\n  getInitialState: function getInitialState() {\n    return {\n      open: this.props.startOpen || false\n    };\n  },\n  handleClick: function handleClick() {\n    if (!this.state.open) return this.setState({ open: true });\n  },\n  handleMapClick: function handleMapClick(event) {\n    var text = this.getSvgText(event.target);\n    if (text) {\n      var gallery = text.textContent.match(/(\\d+a?)/)[0];\n      if (266 <= parseInt(gallery) && parseInt(gallery) <= 274) gallery = '266-G274';\n      this.highlightGallery(text);\n      this.changeGallery(gallery);\n    }\n  },\n  handleMouseOver: function handleMouseOver(event) {\n    if (!this.state.open) return; // don't handle mouseover until map opens\n\n    var text = this.getSvgText(event.target);\n    if (text) {\n      var gallery = text.textContent.match(/(\\d+a?)/)[0];\n      this.hoverGallery(text);\n      this.props.onHover && this.props.onHover(gallery);\n    }\n  },\n  handleMouseOut: function handleMouseOut(event) {\n    this.setState({ hoveredPoly: null });\n  },\n\n\n  // recursively climb the SVG from where the click event happened\n  // until we find a `<text>` node, which will tell us what gallery\n  // was clicked\n  getSvgText: function getSvgText(node) {\n    var wantedNode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'text';\n\n    if (node.nodeName == wantedNode) return node;\n\n    var parent = node.parentElement;\n    if (parent.nodeName !== 'g') return null;\n\n    var next = parent.querySelector(wantedNode) || parent;\n    return this.getSvgText(next);\n  },\n  handleSvgLoad: function handleSvgLoad(event) {\n    var _this2 = this;\n\n    var allTexts = ReactDOM.findDOMNode(this).querySelectorAll('svg text');\n    var activeText = Array.from(allTexts).filter(function (t) {\n      return t.textContent == _this2.props.number;\n    });\n    this.highlightGallery(activeText && activeText[0]);\n\n    this.props.onSvgLoad && this.props.onSvgLoad();\n  },\n  changeGallery: function changeGallery(nextGallery) {\n    this.transitionTo('gallery', { gallery: nextGallery });\n  },\n  highlightGallery: function highlightGallery(element) {\n    var poly = this.colorGallery(element);\n    var activePoly = this.state.activePoly;\n\n    this.setState({ activePoly: poly });\n  },\n  hoverGallery: function hoverGallery(element) {\n    var poly = this.colorGallery(element);\n    var hoveredPoly = this.state.hoveredPoly;\n\n    this.setState({ hoveredPoly: poly });\n  },\n  colorGallery: function colorGallery(element) {\n    if (!element) return;\n    var accentColor = '#fff';\n    var poly = element.parentElement.querySelector('polygon');\n    poly && poly.style.setProperty('fill', accentColor);\n    return poly;\n  },\n  resetGallery: function resetGallery(poly) {\n    // `style.fill` overrides the `fill` attribute without clobbering it\n    // so we can reset it to the original color with `''`\n    poly && poly.style.setProperty('fill', '');\n  },\n  componentDidUpdate: function componentDidUpdate(prevProps, prevState) {\n    var prevActive = prevState.activePoly;\n    var prevHovered = prevState.hoveredPoly;\n    var _state = this.state,\n        activePoly = _state.activePoly,\n        hoveredPoly = _state.hoveredPoly;\n\n\n    if (prevActive != activePoly) this.resetGallery(prevActive);\n    if (prevHovered != hoveredPoly && prevHovered != activePoly) this.resetGallery(prevHovered);\n\n    if (prevProps.number !== this.props.number) {\n      this.handleSvgLoad(); // reset the highlighted gallery\n    }\n  },\n  changeFloor: function changeFloor(toFloor) {\n    this.setState({ floor: toFloor });\n  }\n});\n\nvar FloorControls = React.createClass({\n  displayName: 'FloorControls',\n  render: function render() {\n    var _this3 = this;\n\n    var buttonStyle = { display: 'block' };\n    var floorControls = [3, 2, 1].map(function (_floor) {\n      var text = _floor == _this3.props.active ? 'floor ' + _floor : _floor;\n      return React.createElement(\n        'button',\n        { style: buttonStyle, onClick: _this3.props.handleChange.bind(_this3.props.map, _floor), key: _floor },\n        text\n      );\n    });\n\n    var controlStyle = {\n      float: 'right',\n      margin: '-7em 2em 0 0',\n      position: 'relative',\n      zIndex: '10'\n    };\n\n    return React.createElement(\n      'div',\n      { style: controlStyle },\n      floorControls,\n      !this.props.startOpen && React.createElement(\n        'button',\n        { style: buttonStyle, onClick: this.props.closeMap },\n        'close map'\n      )\n    );\n  }\n});\n\nmodule.exports = Map;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcC5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJSZWFjdERPTSIsIlJvdXRlciIsImN4IiwiSXN2ZyIsIk1hcCIsImNyZWF0ZUNsYXNzIiwibWl4aW5zIiwiTmF2aWdhdGlvbiIsInJlbmRlciIsInByb3BzIiwibnVtYmVyIiwicHJldkxpbmsiLCJuZXh0TGluayIsImV4dHJhUHJvcHMiLCJ0aHVtYm5haWwiLCJoYW5kbGVDbGljayIsImZsb29yIiwic3RhdGUiLCJwYXJzZUludCIsInN2ZyIsImN1cnNvciIsImhhbmRsZU1hcENsaWNrIiwiaGFuZGxlTW91c2VPdmVyIiwiaGFuZGxlTW91c2VPdXQiLCJoYW5kbGVTdmdMb2FkIiwiY2hhbmdlRmxvb3IiLCJzZXRTdGF0ZSIsIm9wZW4iLCJzdGFydE9wZW4iLCJ0ZXh0QWxpZ24iLCJnZXRJbml0aWFsU3RhdGUiLCJldmVudCIsInRleHQiLCJnZXRTdmdUZXh0IiwidGFyZ2V0IiwiZ2FsbGVyeSIsInRleHRDb250ZW50IiwibWF0Y2giLCJoaWdobGlnaHRHYWxsZXJ5IiwiY2hhbmdlR2FsbGVyeSIsImhvdmVyR2FsbGVyeSIsIm9uSG92ZXIiLCJob3ZlcmVkUG9seSIsIm5vZGUiLCJ3YW50ZWROb2RlIiwibm9kZU5hbWUiLCJwYXJlbnQiLCJwYXJlbnRFbGVtZW50IiwibmV4dCIsInF1ZXJ5U2VsZWN0b3IiLCJhbGxUZXh0cyIsImZpbmRET01Ob2RlIiwicXVlcnlTZWxlY3RvckFsbCIsImFjdGl2ZVRleHQiLCJBcnJheSIsImZyb20iLCJmaWx0ZXIiLCJ0Iiwib25TdmdMb2FkIiwibmV4dEdhbGxlcnkiLCJ0cmFuc2l0aW9uVG8iLCJlbGVtZW50IiwicG9seSIsImNvbG9yR2FsbGVyeSIsImFjdGl2ZVBvbHkiLCJhY2NlbnRDb2xvciIsInN0eWxlIiwic2V0UHJvcGVydHkiLCJyZXNldEdhbGxlcnkiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwcmV2UHJvcHMiLCJwcmV2U3RhdGUiLCJwcmV2QWN0aXZlIiwicHJldkhvdmVyZWQiLCJ0b0Zsb29yIiwiRmxvb3JDb250cm9scyIsImJ1dHRvblN0eWxlIiwiZGlzcGxheSIsImZsb29yQ29udHJvbHMiLCJtYXAiLCJfZmxvb3IiLCJhY3RpdmUiLCJoYW5kbGVDaGFuZ2UiLCJiaW5kIiwiY29udHJvbFN0eWxlIiwiZmxvYXQiLCJtYXJnaW4iLCJwb3NpdGlvbiIsInpJbmRleCIsImNsb3NlTWFwIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQUlBLFFBQVFDLFFBQVEsT0FBUixDQUFaO0FBQ0EsSUFBSUMsV0FBV0QsUUFBUSxXQUFSLENBQWY7QUFDQSxJQUFJRSxTQUFTRixRQUFRLGNBQVIsQ0FBYjtBQUNBLElBQUlHLEtBQUtILFFBQVEsWUFBUixDQUFUO0FBQ0EsSUFBSUksT0FBT0osUUFBUSxpQkFBUixDQUFYOztBQUVBLElBQUlLLE1BQU1OLE1BQU1PLFdBQU4sQ0FBa0I7QUFBQTs7QUFDMUJDLFVBQVEsQ0FBQ0wsT0FBT00sVUFBUixDQURrQjs7QUFHMUJDLFFBSDBCLG9CQUdqQjtBQUFBOztBQUFBLGlCQUMyQyxLQUFLQyxLQURoRDtBQUFBLFFBQ0ZDLE1BREUsVUFDRkEsTUFERTtBQUFBLFFBQ01DLFFBRE4sVUFDTUEsUUFETjtBQUFBLFFBQ2dCQyxRQURoQixVQUNnQkEsUUFEaEI7QUFBQSxRQUM2QkMsVUFEN0I7O0FBRVAsUUFBSUMsWUFBWTtBQUNaLHdEQUFnREosTUFBaEQsU0FEWTtBQUVaLGVBQVMsS0FBS0s7QUFGRixNQUFoQjtBQUlBLFFBQUlDLFFBQVEsS0FBS0MsS0FBTCxDQUFXRCxLQUFYLElBQ1AsS0FBS1AsS0FBTCxDQUFXTyxLQURKLElBRVBFLFNBQVNBLFNBQVNSLE1BQVQsSUFBaUIsR0FBMUIsQ0FGTDtBQUdBLFFBQUlTLE1BQU07QUFBQTtBQUFBLFFBQUssT0FBTyxFQUFDQyxRQUFRLFNBQVQsRUFBWjtBQUNSO0FBQUE7QUFBQTtBQUNFLG1CQUFTLEtBQUtDLGNBRGhCO0FBRUUsdUJB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Qjs7QUEyQkFDLE9BQU9DLE9BQVAsR0FBaUJ2RixHQUFqQiIsImZpbGUiOiJtYXAuanMiLCJzb3VyY2VSb290IjoiL3Zhci93d3cvYXJ0L3NyYyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSZWFjdERPTSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciBjeCA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKVxudmFyIElzdmcgPSByZXF1aXJlKCdyZWFjdC1pbmxpbmVzdmcnKVxuXG52YXIgTWFwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBtaXhpbnM6IFtSb3V0ZXIuTmF2aWdhdGlvbl0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciB7bnVtYmVyLCBwcmV2TGluaywgbmV4dExpbmssIC4uLmV4dHJhUHJvcHN9ID0gdGhpcy5wcm9wc1xuICAgIHZhciB0aHVtYm5haWwgPSA8aW1nXG4gICAgICAgIHNyYz17YGh0dHBzOi8vYXJ0c21pYS5naXRodWIuaW8vbWFwL2dhbGxlcmllcy8ke251bWJlcn0ucG5nYH1cbiAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVDbGlja31cbiAgICAgICAgLz5cbiAgICB2YXIgZmxvb3IgPSB0aGlzLnN0YXRlLmZsb29yXG4gICAgICB8fCB0aGlzLnByb3BzLmZsb29yXG4gICAgICB8fCBwYXJzZUludChwYXJzZUludChudW1iZXIpLzEwMClcbiAgICB2YXIgc3ZnID0gPGRpdiBzdHlsZT17e2N1cnNvcjogJ3BvaW50ZXInfX0+XG4gICAgICA8ZGl2XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlTWFwQ2xpY2t9XG4gICAgICAgIG9uTW91c2VPdmVyPXt0aGlzLmhhbmRsZU1vdXNlT3Zlcn1cbiAgICAgICAgb25Nb3VzZU91dD17dGhpcy5oYW5kbGVNb3VzZU91dH0+XG4gICAgICAgIDxJc3ZnXG4gICAgICAgICAgc3JjPXtgL21hcC9zdmdzLyR7Zmxvb3J9LnN2Z2B9XG4gICAgICAgICAga2V5PXtmbG9vcn1cbiAgICAgICAgICBvbkxvYWQ9e3RoaXMuaGFuZGxlU3ZnTG9hZH1cbiAgICAgICAgPnt0aHVtYm5haWx9PC9Jc3ZnPlxuICAgICAgPC9kaXY+XG4gICAgICA8Rmxvb3JDb250cm9sc1xuICAgICAgICBtYXA9e3RoaXN9XG4gICAgICAgIGFjdGl2ZT17Zmxvb3J9XG4gICAgICAgIGhhbmRsZUNoYW5nZT17dGhpcy5jaGFuZ2VGbG9vcn1cbiAgICAgICAgY2xvc2VNYXA9eygpID0+IHRoaXMuc2V0U3RhdGUoe29wZW46IGZhbHNlfSl9XG4gICAgICAgIHN0YXJ0T3Blbj17dGhpcy5wcm9wcy5zdGFydE9wZW59XG4gICAgICAgIC8+XG4gICAgPC9kaXY+XG5cbiAgICByZXR1cm4gPGRpdiB7Li4uZXh0cmFQcm9wc30+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y3goJ21hcCcsIHtvcGVuOiB0aGlzLnN0YXRlLm9wZW59KX0+XG4gICAgICAgIHt0aGlzLnN0YXRlLm9wZW4gPyBzdmcgOiB0aHVtYm5haWx9XG4gICAgICA8L2Rpdj5cbiAgICAgIHtudW1iZXIgJiYgKHByZXZMaW5rIHx8IG5leHRMaW5rKSAmJiA8ZGl2IHN0eWxlPXt7dGV4dEFsaWduOiAnY2VudGVyJ319PlxuICAgICAgICB7cHJldkxpbmt9XG4gICAgICAgIDxzcGFuPiBHe251bWJlcn0gPC9zcGFuPlxuICAgICAgICB7bmV4dExpbmt9XG4gICAgICA8L2Rpdj59XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBvcGVuOiB0aGlzLnByb3BzLnN0YXJ0T3BlbiB8fCBmYWxzZSxcbiAgICB9XG4gIH0sXG5cbiAgaGFuZGxlQ2xpY2soKSB7XG4gICAgaWYoIXRoaXMuc3RhdGUub3BlbikgcmV0dXJuIHRoaXMuc2V0U3RhdGUoe29wZW46IHRydWV9KVxuICB9LFxuXG4gIGhhbmRsZU1hcENsaWNrKGV2ZW50KSB7XG4gICAgdmFyIHRleHQgPSB0aGlzLmdldFN2Z1RleHQoZXZlbnQudGFyZ2V0KVxuICAgIGlmKHRleHQpIHtcbiAgICAgIHZhciBnYWxsZXJ5ID0gdGV4dC50ZXh0Q29udGVudC5tYXRjaCgvKFxcZCthPykvKVswXVxuICAgICAgaWYoMjY2IDw9IHBhcnNlSW50KGdhbGxlcnkpICYmIHBhcnNlSW50KGdhbGxlcnkpIDw9IDI3NCkgZ2FsbGVyeSA9ICcyNjYtRzI3NCdcbiAgICAgIHRoaXMuaGlnaGxpZ2h0R2FsbGVyeSh0ZXh0KVxuICAgICAgdGhpcy5jaGFuZ2VHYWxsZXJ5KGdhbGxlcnkpXG4gICAgfVxuICB9LFxuXG4gIGhhbmRsZU1vdXNlT3ZlcihldmVudCkge1xuICAgIGlmKCF0aGlzLnN0YXRlLm9wZW4pIHJldHVybiAvLyBkb24ndCBoYW5kbGUgbW91c2VvdmVyIHVudGlsIG1hcCBvcGVuc1xuXG4gICAgdmFyIHRleHQgPSB0aGlzLmdldFN2Z1RleHQoZXZlbnQudGFyZ2V0KVxuICAgIGlmKHRleHQpIHtcbiAgICAgIHZhciBnYWxsZXJ5ID0gdGV4dC50ZXh0Q29udGVudC5tYXRjaCgvKFxcZCthPykvKVswXVxuICAgICAgdGhpcy5ob3ZlckdhbGxlcnkodGV4dClcbiAgICAgIHRoaXMucHJvcHMub25Ib3ZlciAmJiB0aGlzLnByb3BzLm9uSG92ZXIoZ2FsbGVyeSlcbiAgICB9XG4gIH0sXG5cbiAgaGFuZGxlTW91c2VPdXQoZXZlbnQpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtob3ZlcmVkUG9seTogbnVsbH0pXG4gIH0sXG5cbiAgLy8gcmVjdXJzaXZlbHkgY2xpbWIgdGhlIFNWRyBmcm9tIHdoZXJlIHRoZSBjbGljayBldmVudCBoYXBwZW5lZFxuICAvLyB1bnRpbCB3ZSBmaW5kIGEgYDx0ZXh0PmAgbm9kZSwgd2hpY2ggd2lsbCB0ZWxsIHVzIHdoYXQgZ2FsbGVyeVxuICAvLyB3YXMgY2xpY2tlZFxuICBnZXRTdmdUZXh0KG5vZGUsIHdhbnRlZE5vZGU9J3RleHQnKSB7XG4gICAgaWYobm9kZS5ub2RlTmFtZSA9PSB3YW50ZWROb2RlKSByZXR1cm4gbm9kZVxuXG4gICAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50RWxlbWVudFxuICAgIGlmKHBhcmVudC5ub2RlTmFtZSAhPT0gJ2cnKSByZXR1cm4gbnVsbFxuXG4gICAgdmFyIG5leHQgPSBwYXJlbnQucXVlcnlTZWxlY3Rvcih3YW50ZWROb2RlKSB8fCBwYXJlbnRcbiAgICByZXR1cm4gdGhpcy5nZXRTdmdUZXh0KG5leHQpXG4gIH0sXG5cbiAgaGFuZGxlU3ZnTG9hZChldmVudCkge1xuICAgIHZhciBhbGxUZXh0cyA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N2ZyB0ZXh0JylcbiAgICB2YXIgYWN0aXZlVGV4dCA9IEFycmF5LmZyb20oYWxsVGV4dHMpXG4gICAgLmZpbHRlcih0ID0+IHQudGV4dENvbnRlbnQgPT0gdGhpcy5wcm9wcy5udW1iZXIpXG4gICAgdGhpcy5oaWdobGlnaHRHYWxsZXJ5KGFjdGl2ZVRleHQgJiYgYWN0aXZlVGV4dFswXSlcblxuICAgIHRoaXMucHJvcHMub25TdmdMb2FkICYmIHRoaXMucHJvcHMub25TdmdMb2FkKClcbiAgfSxcblxuICBjaGFuZ2VHYWxsZXJ5KG5leHRHYWxsZXJ5KSB7XG4gICAgdGhpcy50cmFuc2l0aW9uVG8oJ2dhbGxlcnknLCB7Z2FsbGVyeTogbmV4dEdhbGxlcnl9KVxuICB9LFxuXG4gIGhpZ2hsaWdodEdhbGxlcnkoZWxlbWVudCkge1xuICAgIHZhciBwb2x5ID0gdGhpcy5jb2xvckdhbGxlcnkoZWxlbWVudClcbiAgICB2YXIge2FjdGl2ZVBvbHl9ID0gdGhpcy5zdGF0ZVxuICAgIHRoaXMuc2V0U3RhdGUoe2FjdGl2ZVBvbHk6IHBvbHl9KVxuICB9LFxuXG4gIGhvdmVyR2FsbGVyeShlbGVtZW50KSB7XG4gICAgdmFyIHBvbHkgPSB0aGlzLmNvbG9yR2FsbGVyeShlbGVtZW50KVxuICAgIHZhciB7aG92ZXJlZFBvbHl9ID0gdGhpcy5zdGF0ZVxuICAgIHRoaXMuc2V0U3RhdGUoe2hvdmVyZWRQb2x5OiBwb2x5fSlcbiAgfSxcblxuICBjb2xvckdhbGxlcnkoZWxlbWVudCkge1xuICAgIGlmKCFlbGVtZW50KSByZXR1cm5cbiAgICB2YXIgYWNjZW50Q29sb3IgPSAnI2ZmZidcbiAgICB2YXIgcG9seSA9IGVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCdwb2x5Z29uJylcbiAgICBwb2x5ICYmIHBvbHkuc3R5bGUuc2V0UHJvcGVydHkoJ2ZpbGwnLCBhY2NlbnRDb2xvcilcbiAgICByZXR1cm4gcG9seVxuICB9LFxuXG4gIHJlc2V0R2FsbGVyeShwb2x5KSB7XG4gICAgLy8gYHN0eWxlLmZpbGxgIG92ZXJyaWRlcyB0aGUgYGZpbGxgIGF0dHJpYnV0ZSB3aXRob3V0IGNsb2JiZXJpbmcgaXRcbiAgICAvLyBzbyB3ZSBjYW4gcmVzZXQgaXQgdG8gdGhlIG9yaWdpbmFsIGNvbG9yIHdpdGggYCcnYFxuICAgIHBvbHkgJiYgcG9seS5zdHlsZS5zZXRQcm9wZXJ0eSgnZmlsbCcsICcnKVxuICB9LFxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgIGxldCBwcmV2QWN0aXZlID0gcHJldlN0YXRlLmFjdGl2ZVBvbHlcbiAgICBsZXQgcHJldkhvdmVyZWQgPSBwcmV2U3RhdGUuaG92ZXJlZFBvbHlcbiAgICBsZXQge2FjdGl2ZVBvbHksIGhvdmVyZWRQb2x5fSA9IHRoaXMuc3RhdGVcblxuICAgIGlmKHByZXZBY3RpdmUgIT0gYWN0aXZlUG9seSkgdGhpcy5yZXNldEdhbGxlcnkocHJldkFjdGl2ZSlcbiAgICBpZihwcmV2SG92ZXJlZCAhPSBob3ZlcmVkUG9seSAmJiBwcmV2SG92ZXJlZCAhPSBhY3RpdmVQb2x5KSB0aGlzLnJlc2V0R2FsbGVyeShwcmV2SG92ZXJlZClcblxuICAgIGlmKHByZXZQcm9wcy5udW1iZXIgIT09IHRoaXMucHJvcHMubnVtYmVyKSB7XG4gICAgICB0aGlzLmhhbmRsZVN2Z0xvYWQoKSAvLyByZXNldCB0aGUgaGlnaGxpZ2h0ZWQgZ2FsbGVyeVxuICAgIH1cbiAgfSxcblxuICBjaGFuZ2VGbG9vcih0b0Zsb29yKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7Zmxvb3I6IHRvRmxvb3J9KVxuICB9LFxufSlcblxudmFyIEZsb29yQ29udHJvbHMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIgYnV0dG9uU3R5bGUgPSB7ZGlzcGxheTogJ2Jsb2NrJ31cbiAgICB2YXIgZmxvb3JDb250cm9scyA9IFszLDIsMV0ubWFwKF9mbG9vciA9PiB7XG4gICAgICB2YXIgdGV4dCA9IF9mbG9vciA9PSB0aGlzLnByb3BzLmFjdGl2ZSA/IGBmbG9vciAke19mbG9vcn1gIDogX2Zsb29yXG4gICAgICByZXR1cm4gPGJ1dHRvbiBzdHlsZT17YnV0dG9uU3R5bGV9IG9uQ2xpY2s9e3RoaXMucHJvcHMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcy5wcm9wcy5tYXAsIF9mbG9vcil9IGtleT17X2Zsb29yfT5cbiAgICAgICAge3RleHR9XG4gICAgICA8L2J1dHRvbj5cbiAgICB9KVxuXG4gICAgdmFyIGNvbnRyb2xTdHlsZSA9IHtcbiAgICAgIGZsb2F0OiAncmlnaHQnLFxuICAgICAgbWFyZ2luOiAnLTdlbSAyZW0gMCAwJyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgekluZGV4OiAnMTAnLFxuICAgICAgLy8gcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAvLyByaWdodDogJzAnLFxuICAgICAgLy8gYm90dG9tOiAnMWVtJyxcbiAgICB9XG5cbiAgICByZXR1cm4gPGRpdiBzdHlsZT17Y29udHJvbFN0eWxlfT5cbiAgICAgIHtmbG9vckNvbnRyb2xzfVxuICAgICAgeyF0aGlzLnByb3BzLnN0YXJ0T3BlbiAmJiA8YnV0dG9uIHN0eWxlPXtidXR0b25TdHlsZX0gb25DbGljaz17dGhpcy5wcm9wcy5jbG9zZU1hcH0+Y2xvc2UgbWFwPC9idXR0b24+fVxuICAgIDwvZGl2PlxuICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBNYXBcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "map.js"
      ],
      "names": [
        "React",
        "require",
        "ReactDOM",
        "Router",
        "cx",
        "Isvg",
        "Map",
        "createClass",
        "mixins",
        "Navigation",
        "render",
        "props",
        "number",
        "prevLink",
        "nextLink",
        "extraProps",
        "thumbnail",
        "handleClick",
        "floor",
        "state",
        "parseInt",
        "svg",
        "cursor",
        "handleMapClick",
        "handleMouseOver",
        "handleMouseOut",
        "handleSvgLoad",
        "changeFloor",
        "setState",
        "open",
        "startOpen",
        "textAlign",
        "getInitialState",
        "event",
        "text",
        "getSvgText",
        "target",
        "gallery",
        "textContent",
        "match",
        "highlightGallery",
        "changeGallery",
        "hoverGallery",
        "onHover",
        "hoveredPoly",
        "node",
        "wantedNode",
        "nodeName",
        "parent",
        "parentElement",
        "next",
        "querySelector",
        "allTexts",
        "findDOMNode",
        "querySelectorAll",
        "activeText",
        "Array",
        "from",
        "filter",
        "t",
        "onSvgLoad",
        "nextGallery",
        "transitionTo",
        "element",
        "poly",
        "colorGallery",
        "activePoly",
        "accentColor",
        "style",
        "setProperty",
        "resetGallery",
        "componentDidUpdate",
        "prevProps",
        "prevState",
        "prevActive",
        "prevHovered",
        "toFloor",
        "FloorControls",
        "buttonStyle",
        "display",
        "floorControls",
        "map",
        "_floor",
        "active",
        "handleChange",
        "bind",
        "controlStyle",
        "float",
        "margin",
        "position",
        "zIndex",
        "closeMap",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "map.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar ReactDOM = require('react-dom')\nvar Router = require('react-router')\nvar cx = require('classnames')\nvar Isvg = require('react-inlinesvg')\n\nvar Map = React.createClass({\n  mixins: [Router.Navigation],\n\n  render() {\n    var {number, prevLink, nextLink, ...extraProps} = this.props\n    var thumbnail = <img\n        src={`https://artsmia.github.io/map/galleries/${number}.png`}\n        onClick={this.handleClick}\n        />\n    var floor = this.state.floor\n      || this.props.floor\n      || parseInt(parseInt(number)/100)\n    var svg = <div style={{cursor: 'pointer'}}>\n      <div\n        onClick={this.handleMapClick}\n        onMouseOver={this.handleMouseOver}\n        onMouseOut={this.handleMouseOut}>\n        <Isvg\n          src={`/map/svgs/${floor}.svg`}\n          key={floor}\n          onLoad={this.handleSvgLoad}\n        >{thumbnail}</Isvg>\n      </div>\n      <FloorControls\n        map={this}\n        active={floor}\n        handleChange={this.changeFloor}\n        closeMap={() => this.setState({open: false})}\n        startOpen={this.props.startOpen}\n        />\n    </div>\n\n    return <div {...extraProps}>\n      <div className={cx('map', {open: this.state.open})}>\n        {this.state.open ? svg : thumbnail}\n      </div>\n      {number && (prevLink || nextLink) && <div style={{textAlign: 'center'}}>\n        {prevLink}\n        <span> G{number} </span>\n        {nextLink}\n      </div>}\n    </div>\n  },\n\n  getInitialState() {\n    return {\n      open: this.props.startOpen || false,\n    }\n  },\n\n  handleClick() {\n    if(!this.state.open) return this.setState({open: true})\n  },\n\n  handleMapClick(event) {\n    var text = this.getSvgText(event.target)\n    if(text) {\n      var gallery = text.textContent.match(/(\\d+a?)/)[0]\n      if(266 <= parseInt(gallery) && parseInt(gallery) <= 274) gallery = '266-G274'\n      this.highlightGallery(text)\n      this.changeGallery(gallery)\n    }\n  },\n\n  handleMouseOver(event) {\n    if(!this.state.open) return // don't handle mouseover until map opens\n\n    var text = this.getSvgText(event.target)\n    if(text) {\n      var gallery = text.textContent.match(/(\\d+a?)/)[0]\n      this.hoverGallery(text)\n      this.props.onHover && this.props.onHover(gallery)\n    }\n  },\n\n  handleMouseOut(event) {\n    this.setState({hoveredPoly: null})\n  },\n\n  // recursively climb the SVG from where the click event happened\n  // until we find a `<text>` node, which will tell us what gallery\n  // was clicked\n  getSvgText(node, wantedNode='text') {\n    if(node.nodeName == wantedNode) return node\n\n    var parent = node.parentElement\n    if(parent.nodeName !== 'g') return null\n\n    var next = parent.querySelector(wantedNode) || parent\n    return this.getSvgText(next)\n  },\n\n  handleSvgLoad(event) {\n    var allTexts = ReactDOM.findDOMNode(this).querySelectorAll('svg text')\n    var activeText = Array.from(allTexts)\n    .filter(t => t.textContent == this.props.number)\n    this.highlightGallery(activeText && activeText[0])\n\n    this.props.onSvgLoad && this.props.onSvgLoad()\n  },\n\n  changeGallery(nextGallery) {\n    this.transitionTo('gallery', {gallery: nextGallery})\n  },\n\n  highlightGallery(element) {\n    var poly = this.colorGallery(element)\n    var {activePoly} = this.state\n    this.setState({activePoly: poly})\n  },\n\n  hoverGallery(element) {\n    var poly = this.colorGallery(element)\n    var {hoveredPoly} = this.state\n    this.setState({hoveredPoly: poly})\n  },\n\n  colorGallery(element) {\n    if(!element) return\n    var accentColor = '#fff'\n    var poly = element.parentElement.querySelector('polygon')\n    poly && poly.style.setProperty('fill', accentColor)\n    return poly\n  },\n\n  resetGallery(poly) {\n    // `style.fill` overrides the `fill` attribute without clobbering it\n    // so we can reset it to the original color with `''`\n    poly && poly.style.setProperty('fill', '')\n  },\n\n  componentDidUpdate(prevProps, prevState) {\n    let prevActive = prevState.activePoly\n    let prevHovered = prevState.hoveredPoly\n    let {activePoly, hoveredPoly} = this.state\n\n    if(prevActive != activePoly) this.resetGallery(prevActive)\n    if(prevHovered != hoveredPoly && prevHovered != activePoly) this.resetGallery(prevHovered)\n\n    if(prevProps.number !== this.props.number) {\n      this.handleSvgLoad() // reset the highlighted gallery\n    }\n  },\n\n  changeFloor(toFloor) {\n    this.setState({floor: toFloor})\n  },\n})\n\nvar FloorControls = React.createClass({\n  render() {\n    var buttonStyle = {display: 'block'}\n    var floorControls = [3,2,1].map(_floor => {\n      var text = _floor == this.props.active ? `floor ${_floor}` : _floor\n      return <button style={buttonStyle} onClick={this.props.handleChange.bind(this.props.map, _floor)} key={_floor}>\n        {text}\n      </button>\n    })\n\n    var controlStyle = {\n      float: 'right',\n      margin: '-7em 2em 0 0',\n      position: 'relative',\n      zIndex: '10',\n      // position: 'fixed',\n      // right: '0',\n      // bottom: '1em',\n    }\n\n    return <div style={controlStyle}>\n      {floorControls}\n      {!this.props.startOpen && <button style={buttonStyle} onClick={this.props.closeMap}>close map</button>}\n    </div>\n  },\n})\n\nmodule.exports = Map\n"
      ]
    },
    "mtime": 1584573136822
  },
  "{\"filename\":\"/var/www/art/src/decorate/highlights.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src/decorate\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/decorate/highlights.js",
      "filenameRelative": "/var/www/art/src/decorate/highlights.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "highlights.js",
      "sourceFileName": "highlights.js",
      "sourceRoot": "/var/www/art/src/decorate",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src/decorate",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "highlights"
    },
    "ignored": false,
    "code": "\"use strict\";\n\nvar React = require('react');\n\nvar HighlightsDecorator = React.createClass({\n  displayName: \"HighlightsDecorator\",\n  render: function render() {\n    return React.createElement(\n      \"div\",\n      { className: \"decorator d-highlights\" },\n      React.createElement(\n        \"p\",\n        null,\n        \"These are the highlights of Mia's collection. The must-see masterpieces, the beloved visitor favorites, the great stories of the museum. Each has something important to say about creativity and wonder, the world and our place in it. What do they say to you?\"\n      )\n    );\n  }\n});\n\nmodule.exports = HighlightsDecorator;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhpZ2hsaWdodHMuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiSGlnaGxpZ2h0c0RlY29yYXRvciIsImNyZWF0ZUNsYXNzIiwicmVuZGVyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxRQUFRQyxRQUFRLE9BQVIsQ0FBWjs7QUFFQSxJQUFJQyxzQkFBdUJGLE1BQU1HLFdBQU4sQ0FBa0I7QUFBQTtBQUMzQ0MsUUFEMkMsb0JBQ2xDO0FBQ1AsV0FBTztBQUFBO0FBQUEsUUFBSyxXQUFVLHdCQUFmO0FBQXdDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBeEMsS0FBUDtBQU1EO0FBUjBDLENBQWxCLENBQTNCOztBQVdBQyxPQUFPQyxPQUFQLEdBQWlCSixtQkFBakIiLCJmaWxlIjoiaGlnaGxpZ2h0cy5qcyIsInNvdXJjZVJvb3QiOiIvdmFyL3d3dy9hcnQvc3JjL2RlY29yYXRlIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxuXG52YXIgSGlnaGxpZ2h0c0RlY29yYXRvciA9ICBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJkZWNvcmF0b3IgZC1oaWdobGlnaHRzXCI+PHA+XG4gICAgICBUaGVzZSBhcmUgdGhlIGhpZ2hsaWdodHMgb2YgTWlhJ3MgY29sbGVjdGlvbi4gVGhlIG11c3Qtc2VlIG1hc3RlcnBpZWNlcyxcbiAgICAgIHRoZSBiZWxvdmVkIHZpc2l0b3IgZmF2b3JpdGVzLCB0aGUgZ3JlYXQgc3RvcmllcyBvZiB0aGUgbXVzZXVtLiBFYWNoIGhhc1xuICAgICAgc29tZXRoaW5nIGltcG9ydGFudCB0byBzYXkgYWJvdXQgY3JlYXRpdml0eSBhbmQgd29uZGVyLCB0aGUgd29ybGQgYW5kIG91clxuICAgICAgcGxhY2UgaW4gaXQuIFdoYXQgZG8gdGhleSBzYXkgdG8geW91P1xuICAgIDwvcD48L2Rpdj5cbiAgfVxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBIaWdobGlnaHRzRGVjb3JhdG9yXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "highlights.js"
      ],
      "names": [
        "React",
        "require",
        "HighlightsDecorator",
        "createClass",
        "render",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;;AAEA,IAAIC,sBAAuBF,MAAMG,WAAN,CAAkB;AAAA;AAC3CC,QAD2C,oBAClC;AACP,WAAO;AAAA;AAAA,QAAK,WAAU,wBAAf;AAAwC;AAAA;AAAA;AAAA;AAAA;AAAxC,KAAP;AAMD;AAR0C,CAAlB,CAA3B;;AAWAC,OAAOC,OAAP,GAAiBJ,mBAAjB",
      "file": "highlights.js",
      "sourceRoot": "/var/www/art/src/decorate",
      "sourcesContent": [
        "var React = require('react')\n\nvar HighlightsDecorator =  React.createClass({\n  render() {\n    return <div className=\"decorator d-highlights\"><p>\n      These are the highlights of Mia's collection. The must-see masterpieces,\n      the beloved visitor favorites, the great stories of the museum. Each has\n      something important to say about creativity and wonder, the world and our\n      place in it. What do they say to you?\n    </p></div>\n  }\n})\n\nmodule.exports = HighlightsDecorator\n"
      ]
    },
    "mtime": 1447960210959
  },
  "{\"filename\":\"/var/www/art/src/decorate/recent.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src/decorate\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/decorate/recent.js",
      "filenameRelative": "/var/www/art/src/decorate/recent.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "recent.js",
      "sourceFileName": "recent.js",
      "sourceRoot": "/var/www/art/src/decorate",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src/decorate",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "recent"
    },
    "ignored": false,
    "code": "\"use strict\";\n\nvar React = require('react');\n\nvar RecentDecorator = React.createClass({\n  displayName: \"RecentDecorator\",\n  render: function render() {\n    return React.createElement(\n      \"div\",\n      { className: \"decorator d-highlights\" },\n      React.createElement(\n        \"p\",\n        null,\n        \"Mia continues to add important artworks to its collection that enrich our perspectives on artists, eras, and cultures.\"\n      )\n    );\n  }\n});\n\nmodule.exports = RecentDecorator;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlY2VudC5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJSZWNlbnREZWNvcmF0b3IiLCJjcmVhdGVDbGFzcyIsInJlbmRlciIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7O0FBRUEsSUFBSUMsa0JBQW1CRixNQUFNRyxXQUFOLENBQWtCO0FBQUE7QUFDdkNDLFFBRHVDLG9CQUM5QjtBQUNQLFdBQU87QUFBQTtBQUFBLFFBQUssV0FBVSx3QkFBZjtBQUF3QztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQXhDLEtBQVA7QUFJRDtBQU5zQyxDQUFsQixDQUF2Qjs7QUFTQUMsT0FBT0MsT0FBUCxHQUFpQkosZUFBakIiLCJmaWxlIjoicmVjZW50LmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMvZGVjb3JhdGUiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG5cbnZhciBSZWNlbnREZWNvcmF0b3IgPSAgUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiZGVjb3JhdG9yIGQtaGlnaGxpZ2h0c1wiPjxwPlxuICAgICAgTWlhIGNvbnRpbnVlcyB0byBhZGQgaW1wb3J0YW50IGFydHdvcmtzIHRvIGl0cyBjb2xsZWN0aW9uIHRoYXQgZW5yaWNoIG91clxuICAgICAgcGVyc3BlY3RpdmVzIG9uIGFydGlzdHMsIGVyYXMsIGFuZCBjdWx0dXJlcy5cbiAgICA8L3A+PC9kaXY+XG4gIH1cbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gUmVjZW50RGVjb3JhdG9yXG5cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "recent.js"
      ],
      "names": [
        "React",
        "require",
        "RecentDecorator",
        "createClass",
        "render",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;;AAEA,IAAIC,kBAAmBF,MAAMG,WAAN,CAAkB;AAAA;AACvCC,QADuC,oBAC9B;AACP,WAAO;AAAA;AAAA,QAAK,WAAU,wBAAf;AAAwC;AAAA;AAAA;AAAA;AAAA;AAAxC,KAAP;AAID;AANsC,CAAlB,CAAvB;;AASAC,OAAOC,OAAP,GAAiBJ,eAAjB",
      "file": "recent.js",
      "sourceRoot": "/var/www/art/src/decorate",
      "sourcesContent": [
        "var React = require('react')\n\nvar RecentDecorator =  React.createClass({\n  render() {\n    return <div className=\"decorator d-highlights\"><p>\n      Mia continues to add important artworks to its collection that enrich our\n      perspectives on artists, eras, and cultures.\n    </p></div>\n  }\n})\n\nmodule.exports = RecentDecorator\n\n"
      ]
    },
    "mtime": 1447960210959
  },
  "{\"filename\":\"/var/www/art/src/decorate/rights.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src/decorate\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/decorate/rights.js",
      "filenameRelative": "/var/www/art/src/decorate/rights.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "rights.js",
      "sourceFileName": "rights.js",
      "sourceRoot": "/var/www/art/src/decorate",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src/decorate",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "rights"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\n\nvar _require = require('../rights-types.js'),\n    findByName = _require.findByName,\n    rightsDescriptions = _require.legacy,\n    rightsStatements = _require.rightsStatements,\n    RightsStatementIcon = _require.RightsStatementIcon;\n\nvar RightsDecorator = React.createClass({\n  displayName: 'RightsDecorator',\n  render: function render() {\n    var rightsType = this.props.term[0].match(/rights_type:\"?([^\"]*)\"?/)[1];\n    var rightsStatement = findByName(rightsType);\n    if (!rightsStatement) return React.createElement('span', null);\n\n    return React.createElement(\n      'div',\n      { className: 'decorator' },\n      React.createElement(\n        'p',\n        null,\n        React.createElement(\n          'a',\n          { href: rightsStatement.id },\n          React.createElement(RightsStatementIcon, { statement: rightsStatement }),\n          rightsStatement.label\n        )\n      ),\n      rightsStatement.definition.replace('This Item is', 'These Items are').replace('this Item', 'these Items')\n    );\n  }\n});\n\nmodule.exports = RightsDecorator;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJpZ2h0cy5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJmaW5kQnlOYW1lIiwicmlnaHRzRGVzY3JpcHRpb25zIiwibGVnYWN5IiwicmlnaHRzU3RhdGVtZW50cyIsIlJpZ2h0c1N0YXRlbWVudEljb24iLCJSaWdodHNEZWNvcmF0b3IiLCJjcmVhdGVDbGFzcyIsInJlbmRlciIsInJpZ2h0c1R5cGUiLCJwcm9wcyIsInRlcm0iLCJtYXRjaCIsInJpZ2h0c1N0YXRlbWVudCIsImlkIiwibGFiZWwiLCJkZWZpbml0aW9uIiwicmVwbGFjZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7O2VBT0lBLFFBQVEsb0JBQVIsQztJQUpGQyxVLFlBQUFBLFU7SUFDUUMsa0IsWUFBUkMsTTtJQUNBQyxnQixZQUFBQSxnQjtJQUNBQyxtQixZQUFBQSxtQjs7QUFHRixJQUFJQyxrQkFBa0JQLE1BQU1RLFdBQU4sQ0FBa0I7QUFBQTtBQUN0Q0MsUUFEc0Msb0JBQzdCO0FBQ1AsUUFBSUMsYUFBYSxLQUFLQyxLQUFMLENBQVdDLElBQVgsQ0FBZ0IsQ0FBaEIsRUFBbUJDLEtBQW5CLENBQXlCLHlCQUF6QixFQUFvRCxDQUFwRCxDQUFqQjtBQUNBLFFBQUlDLGtCQUFrQlosV0FBV1EsVUFBWCxDQUF0QjtBQUNBLFFBQUcsQ0FBQ0ksZUFBSixFQUFxQixPQUFPLGlDQUFQOztBQUVyQixXQUFPO0FBQUE7QUFBQSxRQUFLLFdBQVUsV0FBZjtBQUNMO0FBQUE7QUFBQTtBQUNFO0FBQUE7QUFBQSxZQUFHLE1BQU1BLGdCQUFnQkMsRUFBekI7QUFDRSw4QkFBQyxtQkFBRCxJQUFxQixXQUFXRCxlQUFoQyxHQURGO0FBRUdBLDBCQUFnQkU7QUFGbkI7QUFERixPQURLO0FBT0pGLHNCQUFnQkcsVUFBaEIsQ0FBMkJDLE9BQTNCLENBQW1DLGNBQW5DLEVBQW1ELGlCQUFuRCxFQUFzRUEsT0FBdEUsQ0FBOEUsV0FBOUUsRUFBMkYsYUFBM0Y7QUFQSSxLQUFQO0FBU0Q7QUFmcUMsQ0FBbEIsQ0FBdEI7O0FBa0JBQyxPQUFPQyxPQUFQLEdBQWlCYixlQUFqQiIsImZpbGUiOiJyaWdodHMuanMiLCJzb3VyY2VSb290IjoiL3Zhci93d3cvYXJ0L3NyYy9kZWNvcmF0ZSIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcblxudmFyIHtcbiAgZmluZEJ5TmFtZSxcbiAgbGVnYWN5OiByaWdodHNEZXNjcmlwdGlvbnMsXG4gIHJpZ2h0c1N0YXRlbWVudHMsXG4gIFJpZ2h0c1N0YXRlbWVudEljb24sXG59ID0gcmVxdWlyZSgnLi4vcmlnaHRzLXR5cGVzLmpzJylcblxudmFyIFJpZ2h0c0RlY29yYXRvciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciByaWdodHNUeXBlID0gdGhpcy5wcm9wcy50ZXJtWzBdLm1hdGNoKC9yaWdodHNfdHlwZTpcIj8oW15cIl0qKVwiPy8pWzFdXG4gICAgdmFyIHJpZ2h0c1N0YXRlbWVudCA9IGZpbmRCeU5hbWUocmlnaHRzVHlwZSlcbiAgICBpZighcmlnaHRzU3RhdGVtZW50KSByZXR1cm4gPHNwYW4gLz5cblxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImRlY29yYXRvclwiPlxuICAgICAgPHA+XG4gICAgICAgIDxhIGhyZWY9e3JpZ2h0c1N0YXRlbWVudC5pZH0+XG4gICAgICAgICAgPFJpZ2h0c1N0YXRlbWVudEljb24gc3RhdGVtZW50PXtyaWdodHNTdGF0ZW1lbnR9IC8+XG4gICAgICAgICAge3JpZ2h0c1N0YXRlbWVudC5sYWJlbH1cbiAgICAgICAgPC9hPlxuICAgICAgPC9wPlxuICAgICAge3JpZ2h0c1N0YXRlbWVudC5kZWZpbml0aW9uLnJlcGxhY2UoJ1RoaXMgSXRlbSBpcycsICdUaGVzZSBJdGVtcyBhcmUnKS5yZXBsYWNlKCd0aGlzIEl0ZW0nLCAndGhlc2UgSXRlbXMnKX1cbiAgICA8L2Rpdj5cbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gUmlnaHRzRGVjb3JhdG9yXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "rights.js"
      ],
      "names": [
        "React",
        "require",
        "findByName",
        "rightsDescriptions",
        "legacy",
        "rightsStatements",
        "RightsStatementIcon",
        "RightsDecorator",
        "createClass",
        "render",
        "rightsType",
        "props",
        "term",
        "match",
        "rightsStatement",
        "id",
        "label",
        "definition",
        "replace",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;;eAOIA,QAAQ,oBAAR,C;IAJFC,U,YAAAA,U;IACQC,kB,YAARC,M;IACAC,gB,YAAAA,gB;IACAC,mB,YAAAA,mB;;AAGF,IAAIC,kBAAkBP,MAAMQ,WAAN,CAAkB;AAAA;AACtCC,QADsC,oBAC7B;AACP,QAAIC,aAAa,KAAKC,KAAL,CAAWC,IAAX,CAAgB,CAAhB,EAAmBC,KAAnB,CAAyB,yBAAzB,EAAoD,CAApD,CAAjB;AACA,QAAIC,kBAAkBZ,WAAWQ,UAAX,CAAtB;AACA,QAAG,CAACI,eAAJ,EAAqB,OAAO,iCAAP;;AAErB,WAAO;AAAA;AAAA,QAAK,WAAU,WAAf;AACL;AAAA;AAAA;AACE;AAAA;AAAA,YAAG,MAAMA,gBAAgBC,EAAzB;AACE,8BAAC,mBAAD,IAAqB,WAAWD,eAAhC,GADF;AAEGA,0BAAgBE;AAFnB;AADF,OADK;AAOJF,sBAAgBG,UAAhB,CAA2BC,OAA3B,CAAmC,cAAnC,EAAmD,iBAAnD,EAAsEA,OAAtE,CAA8E,WAA9E,EAA2F,aAA3F;AAPI,KAAP;AASD;AAfqC,CAAlB,CAAtB;;AAkBAC,OAAOC,OAAP,GAAiBb,eAAjB",
      "file": "rights.js",
      "sourceRoot": "/var/www/art/src/decorate",
      "sourcesContent": [
        "var React = require('react')\n\nvar {\n  findByName,\n  legacy: rightsDescriptions,\n  rightsStatements,\n  RightsStatementIcon,\n} = require('../rights-types.js')\n\nvar RightsDecorator = React.createClass({\n  render() {\n    var rightsType = this.props.term[0].match(/rights_type:\"?([^\"]*)\"?/)[1]\n    var rightsStatement = findByName(rightsType)\n    if(!rightsStatement) return <span />\n\n    return <div className=\"decorator\">\n      <p>\n        <a href={rightsStatement.id}>\n          <RightsStatementIcon statement={rightsStatement} />\n          {rightsStatement.label}\n        </a>\n      </p>\n      {rightsStatement.definition.replace('This Item is', 'These Items are').replace('this Item', 'these Items')}\n    </div>\n  },\n})\n\nmodule.exports = RightsDecorator\n"
      ]
    },
    "mtime": 1584573136822
  },
  "{\"filename\":\"/var/www/art/src/rights-types.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "toConsumableArray",
        "extends",
        "objectWithoutProperties",
        "defineProperty"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/rights-types.js",
      "filenameRelative": "/var/www/art/src/rights-types.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "rights-types.js",
      "sourceFileName": "rights-types.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "rights-types"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n/** @format\n */\n\nvar React = require('react');\n\n// CC PDM or CC0 isn't a rightsstatement. Here we sling it in with the rightsstatements, how does that work?\nvar publicDomainMark = {\n  id: 'https://creativecommons.org/publicdomain/mark/1.0/',\n  identifier: 'CC-PDM',\n  label: 'Public Domain',\n  definition: 'This work has been identified as being free of known restrictions under copyright law, including all related and neighboring rights.\\n\\nYou can copy, modify, distribute and perform the work, even for commercial purposes, all without asking permission. See Other Information below.'\n};\n\nvar rightsstatements = [].concat(_toConsumableArray(require('rightsstatements').map(function (rs) {\n  rs.definition = rs.definition.replace('The copyright and related rights status of this Item has not been evaluated', 'The copyright and related rights status of this Item has not been evaluated by the Minneapolis Institute of Art (Mia)').replace('Please refer to the organization that has made the Item available for more information.', 'Please contact us for more information.').replace(/The organization that has made the Item available/i, 'Minneapolis Institute of Art (Mia)') // TODO link 'contact us' to collectionsdata@artsmia.org\n  .replace('the organization was', 'we were');\n\n  if (rs.definition.match(/The organization/)) {\n    console.info(rs.label, rs.definition, rs.identifier);\n    // debugger\n  }\n  return rs;\n})), [publicDomainMark]);\n\nvar miaLegacyRightsTypes = {\n  \"Copyright Protected\": \"Artwork is copyright protected. Permission from the rights holder named here may be required for use. A copyright statement and credit line must accompany image.\",\n  \"Full Permission\": \"Artwork is copyright protected. Mia holds a non-exclusive license to reproduce images from the rights holder named here. A copyright statement and credit line must accompany image.\",\n  \"Need Permission\": \"Copyright protection is assumed for this artwork. Object rights status has not yet been determined or assigned.\",\n  \"No Known Copyright Restrictions\": \"Artwork may be protected by some other intellectual property, or may be considered ineligible for copyright protection (ex. useful articles). Alternately, artwork may be in the public domain in the United States, but the public domain status has not or cannot be clearly determined.\",\n  \"Non-commercial Use\": \"Artwork is copyright protected. Mia holds a non-exclusive license to reproduce images of this artwork, for limited non-commercial uses only, from the rights holder named here. A copyright statement and credit line must accompany image.\",\n  \"Orphaned Work\": \"Artwork may be subject to copyright protection under the terms of current US copyright law. Mia has been unable to identify the creator and/or rights holder. The statement “Copyright of the artist, artist’s estate, or assignees” should accompany image.\",\n  \"Public Domain\": \"Artwork is in the public domain. Images are available for any use.\",\n  \"Permission Denied\": \"Artwork is copyright protected. Mia has contacted the rights holder and the rights holder denied Mia any use rights.\"\n};\n\nvar legacyToStandardizedStmt = {\n  \"Copyright Protected\": \"In Copyright\",\n  \"Non-Commercial Use\": \"In Copyright - Educational Use Permitted\",\n  \"Non-commercial Use\": \"In Copyright - Educational Use Permitted\",\n  \"Full Permission\": \"In Copyright - Non-Commercial Use Permitted\",\n  \"Orphaned Work\": \"In Copyright - Rights-holder(s) Unlocatable or Unidentifiable\",\n  \"Permission Denied\": \"In Copyright\", // TODO what goes here? Empty in Heidi's mapping\n  \"Public Domain\": \"Public Domain\",\n  \"No Known Copyright Restrictions\": \"No Known Copyright\",\n  \"Need Permission\": \"Copyright Not Evaluated\"\n};\n\nvar _rightsStatements = Object.keys(miaLegacyRightsTypes).map(function (legacyName) {\n  var legacyExplanation = miaLegacyRightsTypes[legacyName];\n\n  var legacyToStand = legacyToStandardizedStmt[legacyName];\n  var rightsStmt = rightsstatements.find(function (stmt) {\n    return stmt.label === legacyToStand;\n  });\n  if (!rightsStmt && legacyName !== 'getRights') {\n    console.info({ legacyName: legacyName, legacyToStand: legacyToStand, rightsStmt: rightsStmt });\n  }\n\n  return _extends({}, rightsStmt, {\n    legacyName: legacyName,\n    legacyExplanation: legacyExplanation\n  });\n});\n\n// This is a kludge because this used to use the field `rights` but now\n// needs to use `rights_type`. Some artworks only have `rights`, some have both.\n//\n// TODO reindex all of ES to remove `rights` and  populate `rights_type`\nvar getRights = function getRights(art) {\n  art.rights_type = art.rights_type || art.rights;\n  art.rights = false;\n  return art.rights_type;\n};\n\n// Due to limitations in our TMS database, we don't exactly map rights statements correctly.\n// This is a map that corrects our shortened statements (…due to a character limit on the field in SQL…)\n// to the full Rights Statement label\nvar miaRightsLabelToRightsStatementID = {\n  \"In Copyright–Educational Use\": \"InC-EDU\",\n  \"In Copyright–Non-Commercial Use\": \"InC-NC\",\n  \"In Copyright–Rights-holder(s) Unlocatable\": \"InC-RUU\",\n  \"No Copyright–United States\": \"NoC-US\",\n  \"No Copyright—Contractual Restrictions\": \"NoC-CR\"\n};\n\n// TODO map Mia used named to proper rights statements labels\n// this would have been 10x easier if we'd just used the short hand identifier,\n// but probably wouldn't read well in TMS\n\nfunction RightsStatementIcon(_ref) {\n  var statement = _ref.statement,\n      color = _ref.color,\n      style = _ref.style,\n      props = _objectWithoutProperties(_ref, ['statement', 'color', 'style']);\n\n  if (!statement) return React.createElement('span', null);\n\n  var shortId = statement.identifier.split('-')[0];\n  var iconURL = statement.identifier === 'CC-PDM' ? 'https://upload.wikimedia.org/wikipedia/commons/a/af/Cc-public_domain_mark.svg' : 'https://rightsstatements.org/files/icons/' + shortId + '.Icon-Only.' + (color || 'white') + '.svg';\n  var fullIconURL = statement.identifier === 'CC-PDM' ? 'https://upload.wikimedia.org/wikipedia/commons/a/af/Cc-public_domain_mark.svg' : 'https://rightsstatements.org/files/buttons/' + statement.identifier + '.' + (color || 'white') + '.svg';\n\n  return React.createElement('img', _extends(_defineProperty({\n    src: fullIconURL,\n    style: _extends({ paddingRight: '0.43em', display: 'inline', height: '1em' }, style),\n    alt: statement.label + ' Rights Statement icon'\n  }, 'alt', ''), props));\n}\n\nmodule.exports = {\n  legacy: _extends({}, miaLegacyRightsTypes, {\n    getRights: getRights\n  }),\n  rightsStatements: _extends({}, rightsstatements, {\n    getRights: getRights\n  }),\n  findByName: function findByName(name) {\n    var mappedRightsID = miaRightsLabelToRightsStatementID[name];\n    var rights = rightsstatements.find(function (st) {\n      return st.label === name || st.legacyName === name || st.identifier === mappedRightsID;\n    });\n\n    return rights;\n  },\n  getRights: getRights,\n  RightsStatementIcon: RightsStatementIcon\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJpZ2h0cy10eXBlcy5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJwdWJsaWNEb21haW5NYXJrIiwiaWQiLCJpZGVudGlmaWVyIiwibGFiZWwiLCJkZWZpbml0aW9uIiwicmlnaHRzc3RhdGVtZW50cyIsIm1hcCIsInJzIiwicmVwbGFjZSIsIm1hdGNoIiwiY29uc29sZSIsImluZm8iLCJtaWFMZWdhY3lSaWdodHNUeXBlcyIsImxlZ2FjeVRvU3RhbmRhcmRpemVkU3RtdCIsIl9yaWdodHNTdGF0ZW1lbnRzIiwiT2JqZWN0Iiwia2V5cyIsImxlZ2FjeUV4cGxhbmF0aW9uIiwibGVnYWN5TmFtZSIsImxlZ2FjeVRvU3RhbmQiLCJyaWdodHNTdG10IiwiZmluZCIsInN0bXQiLCJnZXRSaWdodHMiLCJhcnQiLCJyaWdodHNfdHlwZSIsInJpZ2h0cyIsIm1pYVJpZ2h0c0xhYmVsVG9SaWdodHNTdGF0ZW1lbnRJRCIsIlJpZ2h0c1N0YXRlbWVudEljb24iLCJzdGF0ZW1lbnQiLCJjb2xvciIsInN0eWxlIiwicHJvcHMiLCJzaG9ydElkIiwic3BsaXQiLCJpY29uVVJMIiwiZnVsbEljb25VUkwiLCJwYWRkaW5nUmlnaHQiLCJkaXNwbGF5IiwiaGVpZ2h0IiwibW9kdWxlIiwiZXhwb3J0cyIsImxlZ2FjeSIsInJpZ2h0c1N0YXRlbWVudHMiLCJmaW5kQnlOYW1lIiwibWFwcGVkUmlnaHRzSUQiLCJuYW1lIiwic3QiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7O0FBR0EsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7O0FBRUE7QUFDQSxJQUFNQyxtQkFBbUI7QUFDdkJDLE1BQUksb0RBRG1CO0FBRXZCQyxjQUFZLFFBRlc7QUFHdkJDLFNBQU8sZUFIZ0I7QUFJdkJDLGNBQVk7QUFKVyxDQUF6Qjs7QUFPQSxJQUFNQyxnREFDRE4sUUFBUSxrQkFBUixFQUE0Qk8sR0FBNUIsQ0FBZ0MsY0FBTTtBQUN2Q0MsS0FBR0gsVUFBSCxHQUFnQkcsR0FB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TSxjQUFjUCxVQUFVM0IsVUFBVixLQUF5QixRQUF6QixxSUFFZ0MyQixVQUFVM0IsVUFGMUMsVUFFd0Q0QixTQUFTLE9BRmpFLFVBQWxCOztBQUlBLFNBQU87QUFDTCxTQUFLTSxXQURBO0FBRUwsc0JBQVFDLGNBQWMsUUFBdEIsRUFBZ0NDLFNBQVMsUUFBekMsRUFBbURDLFFBQVEsS0FBM0QsSUFBcUVSLEtBQXJFLENBRks7QUFHTCxTQUFRRixVQUFVMUIsS0FBbEI7QUFISyxZQUlELEVBSkMsR0FLRDZCLEtBTEMsRUFBUDtBQU9EOztBQUdEUSxPQUFPQyxPQUFQLEdBQWlCO0FBQ2ZDLHVCQUNLOUIsb0JBREw7QUFFRVc7QUFGRixJQURlO0FBS2ZvQixpQ0FDS3RDLGdCQURMO0FBRUVrQjtBQUZGLElBTGU7QUFTZnFCLGNBQVksMEJBQVE7QUFDbEIsUUFBTUMsaUJBQWlCbEIsa0NBQWtDbUIsSUFBbEMsQ0FBdkI7QUFDQSxRQUFNcEIsU0FBU3JCLGlCQUFpQmdCLElBQWpCLENBQXNCO0FBQUEsYUFBTTBCLEdBQUc1QyxLQUFILEtBQWEyQyxJQUFiLElBQXFCQyxHQUFHN0IsVUFBSCxLQUFrQjRCLElBQXZDLElBQStDQyxHQUFHN0MsVUFBSCxLQUFrQjJDLGNBQXZFO0FBQUEsS0FBdEIsQ0FBZjs7QUFFQSxXQUFPbkIsTUFBUDtBQUNELEdBZGM7QUFlZkgsc0JBZmU7QUFnQmZLO0FBaEJlLENBQWpCIiwiZmlsZSI6InJpZ2h0cy10eXBlcy5qcyIsInNvdXJjZVJvb3QiOiIvdmFyL3d3dy9hcnQvc3JjIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBmb3JtYXRcbiAqL1xuXG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG5cbi8vIENDIFBETSBvciBDQzAgaXNuJ3QgYSByaWdodHNzdGF0ZW1lbnQuIEhlcmUgd2Ugc2xpbmcgaXQgaW4gd2l0aCB0aGUgcmlnaHRzc3RhdGVtZW50cywgaG93IGRvZXMgdGhhdCB3b3JrP1xuY29uc3QgcHVibGljRG9tYWluTWFyayA9IHtcbiAgaWQ6ICdodHRwczovL2NyZWF0aXZlY29tbW9ucy5vcmcvcHVibGljZG9tYWluL21hcmsvMS4wLycsXG4gIGlkZW50aWZpZXI6ICdDQy1QRE0nLFxuICBsYWJlbDogJ1B1YmxpYyBEb21haW4nLFxuICBkZWZpbml0aW9uOiAnVGhpcyB3b3JrIGhhcyBiZWVuIGlkZW50aWZpZWQgYXMgYmVpbmcgZnJlZSBvZiBrbm93biByZXN0cmljdGlvbnMgdW5kZXIgY29weXJpZ2h0IGxhdywgaW5jbHVkaW5nIGFsbCByZWxhdGVkIGFuZCBuZWlnaGJvcmluZyByaWdodHMuXFxuXFxuWW91IGNhbiBjb3B5LCBtb2RpZnksIGRpc3RyaWJ1dGUgYW5kIHBlcmZvcm0gdGhlIHdvcmssIGV2ZW4gZm9yIGNvbW1lcmNpYWwgcHVycG9zZXMsIGFsbCB3aXRob3V0IGFza2luZyBwZXJtaXNzaW9uLiBTZWUgT3RoZXIgSW5mb3JtYXRpb24gYmVsb3cuJyxcbn1cblxuY29uc3QgcmlnaHRzc3RhdGVtZW50cyA9IFtcbiAgLi4ucmVxdWlyZSgncmlnaHRzc3RhdGVtZW50cycpLm1hcChycyA9PiB7XG4gICAgcnMuZGVmaW5pdGlvbiA9IHJzLmRlZmluaXRpb25cbiAgICAgIC5yZXBsYWNlKCdUaGUgY29weXJpZ2h0IGFuZCByZWxhdGVkIHJpZ2h0cyBzdGF0dXMgb2YgdGhpcyBJdGVtIGhhcyBub3QgYmVlbiBldmFsdWF0ZWQnLCAnVGhlIGNvcHlyaWdodCBhbmQgcmVsYXRlZCByaWdodHMgc3RhdHVzIG9mIHRoaXMgSXRlbSBoYXMgbm90IGJlZW4gZXZhbHVhdGVkIGJ5IHRoZSBNaW5uZWFwb2xpcyBJbnN0aXR1dGUgb2YgQXJ0IChNaWEpJylcbiAgICAgIC5yZXBsYWNlKCdQbGVhc2UgcmVmZXIgdG8gdGhlIG9yZ2FuaXphdGlvbiB0aGF0IGhhcyBtYWRlIHRoZSBJdGVtIGF2YWlsYWJsZSBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nLCAnUGxlYXNlIGNvbnRhY3QgdXMgZm9yIG1vcmUgaW5mb3JtYXRpb24uJylcbiAgICAgIC5yZXBsYWNlKC9UaGUgb3JnYW5pemF0aW9uIHRoYXQgaGFzIG1hZGUgdGhlIEl0ZW0gYXZhaWxhYmxlL2ksICdNaW5uZWFwb2xpcyBJbnN0aXR1dGUgb2YgQXJ0IChNaWEpJykgLy8gVE9ETyBsaW5rICdjb250YWN0IHVzJyB0byBjb2xsZWN0aW9uc2RhdGFAYXJ0c21pYS5vcmdcbiAgICAgIC5yZXBsYWNlKCd0aGUgb3JnYW5pemF0aW9uIHdhcycsICd3ZSB3ZXJlJylcblxuICAgIGlmKHJzLmRlZmluaXRpb24ubWF0Y2goL1RoZSBvcmdhbml6YXRpb24vKSkge1xuICAgICAgY29uc29sZS5pbmZvKHJzLmxhYmVsLCBycy5kZWZpbml0aW9uLCBycy5pZGVudGlmaWVyKVxuICAgICAgLy8gZGVidWdnZXJcbiAgICB9XG4gICAgcmV0dXJuIHJzXG4gIH0pLFxuICBwdWJsaWNEb21haW5NYXJrLFxuXVxuXG5jb25zdCBtaWFMZWdhY3lSaWdodHNUeXBlcyA9IHtcbiAgXCJDb3B5cmlnaHQgUHJvdGVjdGVkXCI6IFwiQXJ0d29yayBpcyBjb3B5cmlnaHQgcHJvdGVjdGVkLiBQZXJtaXNzaW9uIGZyb20gdGhlIHJpZ2h0cyBob2xkZXIgbmFtZWQgaGVyZSBtYXkgYmUgcmVxdWlyZWQgZm9yIHVzZS4gQSBjb3B5cmlnaHQgc3RhdGVtZW50IGFuZCBjcmVkaXQgbGluZSBtdXN0IGFjY29tcGFueSBpbWFnZS5cIixcbiAgXCJGdWxsIFBlcm1pc3Npb25cIjogXCJBcnR3b3JrIGlzIGNvcHlyaWdodCBwcm90ZWN0ZWQuIE1pYSBob2xkcyBhIG5vbi1leGNsdXNpdmUgbGljZW5zZSB0byByZXByb2R1Y2UgaW1hZ2VzIGZyb20gdGhlIHJpZ2h0cyBob2xkZXIgbmFtZWQgaGVyZS4gQSBjb3B5cmlnaHQgc3RhdGVtZW50IGFuZCBjcmVkaXQgbGluZSBtdXN0IGFjY29tcGFueSBpbWFnZS5cIixcbiAgXCJOZWVkIFBlcm1pc3Npb25cIjogXCJDb3B5cmlnaHQgcHJvdGVjdGlvbiBpcyBhc3N1bWVkIGZvciB0aGlzIGFydHdvcmsuIE9iamVjdCByaWdodHMgc3RhdHVzIGhhcyBub3QgeWV0IGJlZW4gZGV0ZXJtaW5lZCBvciBhc3NpZ25lZC5cIixcbiAgXCJObyBLbm93biBDb3B5cmlnaHQgUmVzdHJpY3Rpb25zXCI6IFwiQXJ0d29yayBtYXkgYmUgcHJvdGVjdGVkIGJ5IHNvbWUgb3RoZXIgaW50ZWxsZWN0dWFsIHByb3BlcnR5LCBvciBtYXkgYmUgY29uc2lkZXJlZCBpbmVsaWdpYmxlIGZvciBjb3B5cmlnaHQgcHJvdGVjdGlvbiAoZXguIHVzZWZ1bCBhcnRpY2xlcykuIEFsdGVybmF0ZWx5LCBhcnR3b3JrIG1heSBiZSBpbiB0aGUgcHVibGljIGRvbWFpbiBpbiB0aGUgVW5pdGVkIFN0YXRlcywgYnV0IHRoZSBwdWJsaWMgZG9tYWluIHN0YXR1cyBoYXMgbm90IG9yIGNhbm5vdCBiZSBjbGVhcmx5IGRldGVybWluZWQuXCIsXG4gIFwiTm9uLWNvbW1lcmNpYWwgVXNlXCI6IFwiQXJ0d29yayBpcyBjb3B5cmlnaHQgcHJvdGVjdGVkLiBNaWEgaG9sZHMgYSBub24tZXhjbHVzaXZlIGxpY2Vuc2UgdG8gcmVwcm9kdWNlIGltYWdlcyBvZiB0aGlzIGFydHdvcmssIGZvciBsaW1pdGVkIG5vbi1jb21tZXJjaWFsIHVzZXMgb25seSwgZnJvbSB0aGUgcmlnaHRzIGhvbGRlciBuYW1lZCBoZXJlLiBBIGNvcHlyaWdodCBzdGF0ZW1lbnQgYW5kIGNyZWRpdCBsaW5lIG11c3QgYWNjb21wYW55IGltYWdlLlwiLFxuICBcIk9ycGhhbmVkIFdvcmtcIjogXCJBcnR3b3JrIG1heSBiZSBzdWJqZWN0IHRvIGNvcHlyaWdodCBwcm90ZWN0aW9uIHVuZGVyIHRoZSB0ZXJtcyBvZiBjdXJyZW50IFVTIGNvcHlyaWdodCBsYXcuIE1pYSBoYXMgYmVlbiB1bmFibGUgdG8gaWRlbnRpZnkgdGhlIGNyZWF0b3IgYW5kL29yIHJpZ2h0cyBob2xkZXIuIFRoZSBzdGF0ZW1lbnQg4oCcQ29weXJpZ2h0IG9mIHRoZSBhcnRpc3QsIGFydGlzdOKAmXMgZXN0YXRlLCBvciBhc3NpZ25lZXPigJ0gc2hvdWxkIGFjY29tcGFueSBpbWFnZS5cIixcbiAgXCJQdWJsaWMgRG9tYWluXCI6IFwiQXJ0d29yayBpcyBpbiB0aGUgcHVibGljIGRvbWFpbi4gSW1hZ2VzIGFyZSBhdmFpbGFibGUgZm9yIGFueSB1c2UuXCIsXG4gIFwiUGVybWlzc2lvbiBEZW5pZWRcIjogXCJBcnR3b3JrIGlzIGNvcHlyaWdodCBwcm90ZWN0ZWQuIE1pYSBoYXMgY29udGFjdGVkIHRoZSByaWdodHMgaG9sZGVyIGFuZCB0aGUgcmlnaHRzIGhvbGRlciBkZW5pZWQgTWlhIGFueSB1c2UgcmlnaHRzLlwiLFxufVxuXG5jb25zdCBsZWdhY3lUb1N0YW5kYXJkaXplZFN0bXQgPSB7XG4gIFwiQ29weXJpZ2h0IFByb3RlY3RlZFwiOiBcIkluIENvcHlyaWdodFwiLFxuICBcIk5vbi1Db21tZXJjaWFsIFVzZVwiOiBcIkluIENvcHlyaWdodCAtIEVkdWNhdGlvbmFsIFVzZSBQZXJtaXR0ZWRcIixcbiAgXCJOb24tY29tbWVyY2lhbCBVc2VcIjogXCJJbiBDb3B5cmlnaHQgLSBFZHVjYXRpb25hbCBVc2UgUGVybWl0dGVkXCIsXG4gIFwiRnVsbCBQZXJtaXNzaW9uXCI6IFwiSW4gQ29weXJpZ2h0IC0gTm9uLUNvbW1lcmNpYWwgVXNlIFBlcm1pdHRlZFwiLFxuICBcIk9ycGhhbmVkIFdvcmtcIjogXCJJbiBDb3B5cmlnaHQgLSBSaWdodHMtaG9sZGVyKHMpIFVubG9jYXRhYmxlIG9yIFVuaWRlbnRpZmlhYmxlXCIsXG4gIFwiUGVybWlzc2lvbiBEZW5pZWRcIjogXCJJbiBDb3B5cmlnaHRcIiwgLy8gVE9ETyB3aGF0IGdvZXMgaGVyZT8gRW1wdHkgaW4gSGVpZGkncyBtYXBwaW5nXG4gIFwiUHVibGljIERvbWFpblwiOiBcIlB1YmxpYyBEb21haW5cIiwgXG4gIFwiTm8gS25vd24gQ29weXJpZ2h0IFJlc3RyaWN0aW9uc1wiOiBcIk5vIEtub3duIENvcHlyaWdodFwiLFxuICBcIk5lZWQgUGVybWlzc2lvblwiOiBcIkNvcHlyaWdodCBOb3QgRXZhbHVhdGVkXCIsXG59XG5cbmNvbnN0IF9yaWdodHNTdGF0ZW1lbnRzID0gT2JqZWN0LmtleXMobWlhTGVnYWN5UmlnaHRzVHlwZXMpLm1hcChsZWdhY3lOYW1lID0+IHtcbiAgY29uc3QgbGVnYWN5RXhwbGFuYXRpb24gPSBtaWFMZWdhY3lSaWdodHNUeXBlc1tsZWdhY3lOYW1lXVxuXG4gIGNvbnN0IGxlZ2FjeVRvU3RhbmQgPSBsZWdhY3lUb1N0YW5kYXJkaXplZFN0bXRbbGVnYWN5TmFtZV1cbiAgY29uc3QgcmlnaHRzU3RtdCA9IHJpZ2h0c3N0YXRlbWVudHMuZmluZChzdG10ID0+IHN0bXQubGFiZWwgPT09IGxlZ2FjeVRvU3RhbmQpXG4gIGlmKCFyaWdodHNTdG10ICYmIGxlZ2FjeU5hbWUgIT09ICdnZXRSaWdodHMnKSB7XG4gICAgY29uc29sZS5pbmZvKHtsZWdhY3lOYW1lLCBsZWdhY3lUb1N0YW5kLCByaWdodHNTdG10fSlcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgLi4ucmlnaHRzU3RtdCxcbiAgICBsZWdhY3lOYW1lLFxuICAgIGxlZ2FjeUV4cGxhbmF0aW9uLFxuICB9XG59KVxuXG5cbi8vIFRoaXMgaXMgYSBrbHVkZ2UgYmVjYXVzZSB0aGlzIHVzZWQgdG8gdXNlIHRoZSBmaWVsZCBgcmlnaHRzYCBidXQgbm93XG4vLyBuZWVkcyB0byB1c2UgYHJpZ2h0c190eXBlYC4gU29tZSBhcnR3b3JrcyBvbmx5IGhhdmUgYHJpZ2h0c2AsIHNvbWUgaGF2ZSBib3RoLlxuLy9cbi8vIFRPRE8gcmVpbmRleCBhbGwgb2YgRVMgdG8gcmVtb3ZlIGByaWdodHNgIGFuZCAgcG9wdWxhdGUgYHJpZ2h0c190eXBlYFxuY29uc3QgZ2V0UmlnaHRzID0gZnVuY3Rpb24oYXJ0KSB7XG4gIGFydC5yaWdodHNfdHlwZSA9IGFydC5yaWdodHNfdHlwZSB8fCBhcnQucmlnaHRzXG4gIGFydC5yaWdodHMgPSBmYWxzZVxuICByZXR1cm4gYXJ0LnJpZ2h0c190eXBlXG59XG5cbi8vIER1ZSB0byBsaW1pdGF0aW9ucyBpbiBvdXIgVE1TIGRhdGFiYXNlLCB3ZSBkb24ndCBleGFjdGx5IG1hcCByaWdodHMgc3RhdGVtZW50cyBjb3JyZWN0bHkuXG4vLyBUaGlzIGlzIGEgbWFwIHRoYXQgY29ycmVjdHMgb3VyIHNob3J0ZW5lZCBzdGF0ZW1lbnRzICjigKZkdWUgdG8gYSBjaGFyYWN0ZXIgbGltaXQgb24gdGhlIGZpZWxkIGluIFNRTOKApilcbi8vIHRvIHRoZSBmdWxsIFJpZ2h0cyBTdGF0ZW1lbnQgbGFiZWxcbmNvbnN0IG1pYVJpZ2h0c0xhYmVsVG9SaWdodHNTdGF0ZW1lbnRJRCA9IHtcbiAgXCJJbiBDb3B5cmlnaHTigJNFZHVjYXRpb25hbCBVc2VcIjogXCJJbkMtRURVXCIsXG4gIFwiSW4gQ29weXJpZ2h04oCTTm9uLUNvbW1lcmNpYWwgVXNlXCI6IFwiSW5DLU5DXCIsXG4gIFwiSW4gQ29weXJpZ2h04oCTUmlnaHRzLWhvbGRlcihzKSBVbmxvY2F0YWJsZVwiOiBcIkluQy1SVVVcIixcbiAgXCJObyBDb3B5cmlnaHTigJNVbml0ZWQgU3RhdGVzXCI6IFwiTm9DLVVTXCIsXG4gIFwiTm8gQ29weXJpZ2h04oCUQ29udHJhY3R1YWwgUmVzdHJpY3Rpb25zXCI6IFwiTm9DLUNSXCIsXG59XG5cbi8vIFRPRE8gbWFwIE1pYSB1c2VkIG5hbWVkIHRvIHByb3BlciByaWdodHMgc3RhdGVtZW50cyBsYWJlbHNcbi8vIHRoaXMgd291bGQgaGF2ZSBiZWVuIDEweCBlYXNpZXIgaWYgd2UnZCBqdXN0IHVzZWQgdGhlIHNob3J0IGhhbmQgaWRlbnRpZmllcixcbi8vIGJ1dCBwcm9iYWJseSB3b3VsZG4ndCByZWFkIHdlbGwgaW4gVE1TXG5cbmZ1bmN0aW9uIFJpZ2h0c1N0YXRlbWVudEljb24oe3N0YXRlbWVudCwgY29sb3IsIHN0eWxlLCAuLi5wcm9wc30pIHtcbiAgaWYoIXN0YXRlbWVudCkgcmV0dXJuIDxzcGFuIC8+XG5cbiAgdmFyIHNob3J0SWQgPSBzdGF0ZW1lbnQuaWRlbnRpZmllci5zcGxpdCgnLScpWzBdXG4gIHZhciBpY29uVVJMID0gc3RhdGVtZW50LmlkZW50aWZpZXIgPT09ICdDQy1QRE0nID8gXG4gICAgYGh0dHBzOi8vdXBsb2FkLndpa2ltZWRpYS5vcmcvd2lraXBlZGlhL2NvbW1vbnMvYS9hZi9DYy1wdWJsaWNfZG9tYWluX21hcmsuc3ZnYFxuICAgIDogYGh0dHBzOi8vcmlnaHRzc3RhdGVtZW50cy5vcmcvZmlsZXMvaWNvbnMvJHtzaG9ydElkfS5JY29uLU9ubHkuJHtjb2xvciB8fCAnd2hpdGUnfS5zdmdgXG4gIHZhciBmdWxsSWNvblVSTCA9IHN0YXRlbWVudC5pZGVudGlmaWVyID09PSAnQ0MtUERNJyA/IFxuICAgIGBodHRwczovL3VwbG9hZC53aWtpbWVkaWEub3JnL3dpa2lwZWRpYS9jb21tb25zL2EvYWYvQ2MtcHVibGljX2RvbWFpbl9tYXJrLnN2Z2BcbiAgICA6IGBodHRwczovL3JpZ2h0c3N0YXRlbWVudHMub3JnL2ZpbGVzL2J1dHRvbnMvJHtzdGF0ZW1lbnQuaWRlbnRpZmllcn0uJHtjb2xvciB8fCAnd2hpdGUnfS5zdmdgXG5cbiAgcmV0dXJuIDxpbWdcbiAgICBzcmM9e2Z1bGxJY29uVVJMfVxuICAgIHN0eWxlPXt7cGFkZGluZ1JpZ2h0OiAnMC40M2VtJywgZGlzcGxheTogJ2lubGluZScsIGhlaWdodDogJzFlbScsIC4uLnN0eWxlfX1cbiAgICBhbHQ9e2Ake3N0YXRlbWVudC5sYWJlbH0gUmlnaHRzIFN0YXRlbWVudCBpY29uYH1cbiAgICBhbHQ9XCJcIlxuICAgIHsuLi5wcm9wc31cbiAgLz5cbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgbGVnYWN5OiB7XG4gICAgLi4ubWlhTGVnYWN5UmlnaHRzVHlwZXMsXG4gICAgZ2V0UmlnaHRzLFxuICB9LFxuICByaWdodHNTdGF0ZW1lbnRzOiB7XG4gICAgLi4ucmlnaHRzc3RhdGVtZW50cyxcbiAgICBnZXRSaWdodHMsXG4gIH0sXG4gIGZpbmRCeU5hbWU6IG5hbWUgPT4ge1xuICAgIGNvbnN0IG1hcHBlZFJpZ2h0c0lEID0gbWlhUmlnaHRzTGFiZWxUb1JpZ2h0c1N0YXRlbWVudElEW25hbWVdXG4gICAgY29uc3QgcmlnaHRzID0gcmlnaHRzc3RhdGVtZW50cy5maW5kKHN0ID0+IHN0LmxhYmVsID09PSBuYW1lIHx8IHN0LmxlZ2FjeU5hbWUgPT09IG5hbWUgfHwgc3QuaWRlbnRpZmllciA9PT0gbWFwcGVkUmlnaHRzSUQpXG5cbiAgICByZXR1cm4gcmlnaHRzXG4gIH0sXG4gIGdldFJpZ2h0cyxcbiAgUmlnaHRzU3RhdGVtZW50SWNvbixcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "rights-types.js"
      ],
      "names": [
        "React",
        "require",
        "publicDomainMark",
        "id",
        "identifier",
        "label",
        "definition",
        "rightsstatements",
        "map",
        "rs",
        "replace",
        "match",
        "console",
        "info",
        "miaLegacyRightsTypes",
        "legacyToStandardizedStmt",
        "_rightsStatements",
        "Object",
        "keys",
        "legacyExplanation",
        "legacyName",
        "legacyToStand",
        "rightsStmt",
        "find",
        "stmt",
        "getRights",
        "art",
        "rights_type",
        "rights",
        "miaRightsLabelToRightsStatementID",
        "RightsStatementIcon",
        "statement",
        "color",
        "style",
        "props",
        "shortId",
        "split",
        "iconURL",
        "fullIconURL",
        "paddingRight",
        "display",
        "height",
        "module",
        "exports",
        "legacy",
        "rightsStatements",
        "findByName",
        "mappedRightsID",
        "name",
        "st"
      ],
      "mappings": ";;;;;;;;;;AAAA;;;AAGA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;;AAEA;AACA,IAAMC,mBAAmB;AACvBC,MAAI,oDADmB;AAEvBC,cAAY,QAFW;AAGvBC,SAAO,eAHgB;AAIvBC,cAAY;AAJW,CAAzB;;AAOA,IAAMC,gDACDN,QAAQ,kBAAR,EAA4BO,GAA5B,CAAgC,cAAM;AACvCC,KAAGH,UAAH,GAAgBG,GAAGH,UAAH,CACbI,OADa,CACL,6EADK,EAC0E,uHAD1E,EAEbA,OAFa,CAEL,yFAFK,EAEsF,yCAFtF,EAGbA,OAHa,CAGL,oDAHK,EAGiD,oCAHjD,EAGuF;AAHvF,GAIbA,OAJa,CAIL,sBAJK,EAImB,SAJnB,CAAhB;;AAMA,MAAGD,GAAGH,UAAH,CAAcK,KAAd,CAAoB,kBAApB,CAAH,EAA4C;AAC1CC,YAAQC,IAAR,CAAaJ,GAAGJ,KAAhB,EAAuBI,GAAGH,UAA1B,EAAsCG,GAAGL,UAAzC;AACA;AACD;AACD,SAAOK,EAAP;AACD,CAZE,CADC,IAcJP,gBAdI,EAAN;;AAiBA,IAAMY,uBAAuB;AAC3B,yBAAuB,mKADI;AAE3B,qBAAmB,sLAFQ;AAG3B,qBAAmB,iHAHQ;AAI3B,qCAAmC,4RAJR;AAK3B,wBAAsB,6OALK;AAM3B,mBAAiB,8PANU;AAO3B,mBAAiB,oEAPU;AAQ3B,uBAAqB;AARM,CAA7B;;AAWA,IAAMC,2BAA2B;AAC/B,yBAAuB,cADQ;AAE/B,wBAAsB,0CAFS;AAG/B,wBAAsB,0CAHS;AAI/B,qBAAmB,6CAJY;AAK/B,mBAAiB,+DALc;AAM/B,uBAAqB,cANU,EAMM;AACrC,mBAAiB,eAPc;AAQ/B,qCAAmC,oBARJ;AAS/B,qBAAmB;AATY,CAAjC;;AAYA,IAAMC,oBAAoBC,OAAOC,IAAP,CAAYJ,oBAAZ,EAAkCN,GAAlC,CAAsC,sBAAc;AAC5E,MAAMW,oBAAoBL,qBAAqBM,UAArB,CAA1B;;AAEA,MAAMC,gBAAgBN,yBAAyBK,UAAzB,CAAtB;AACA,MAAME,aAAaf,iBAAiBgB,IAAjB,CAAsB;AAAA,WAAQC,KAAKnB,KAAL,KAAegB,aAAvB;AAAA,GAAtB,CAAnB;AACA,MAAG,CAACC,UAAD,IAAeF,eAAe,WAAjC,EAA8C;AAC5CR,YAAQC,IAAR,CAAa,EAACO,sBAAD,EAAaC,4BAAb,EAA4BC,sBAA5B,EAAb;AACD;;AAED,sBACKA,UADL;AAEEF,0BAFF;AAGED;AAHF;AAKD,CAdyB,CAA1B;;AAiBA;AACA;AACA;AACA;AACA,IAAMM,YAAY,SAAZA,SAAY,CAASC,GAAT,EAAc;AAC9BA,MAAIC,WAAJ,GAAkBD,IAAIC,WAAJ,IAAmBD,IAAIE,MAAzC;AACAF,MAAIE,MAAJ,GAAa,KAAb;AACA,SAAOF,IAAIC,WAAX;AACD,CAJD;;AAMA;AACA;AACA;AACA,IAAME,oCAAoC;AACxC,kCAAgC,SADQ;AAExC,qCAAmC,QAFK;AAGxC,+CAA6C,SAHL;AAIxC,gCAA8B,QAJU;AAKxC,2CAAyC;AALD,CAA1C;;AAQA;AACA;AACA;;AAEA,SAASC,mBAAT,OAAkE;AAAA,MAApCC,SAAoC,QAApCA,SAAoC;AAAA,MAAzBC,KAAyB,QAAzBA,KAAyB;AAAA,MAAlBC,KAAkB,QAAlBA,KAAkB;AAAA,MAARC,KAAQ;;AAChE,MAAG,CAACH,SAAJ,EAAe,OAAO,iCAAP;;AAEf,MAAII,UAAUJ,UAAU3B,UAAV,CAAqBgC,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAd;AACA,MAAIC,UAAUN,UAAU3B,UAAV,KAAyB,QAAzB,mIAEkC+B,OAFlC,oBAEuDH,SAAS,OAFhE,UAAd;AAGA,MAAIM,cAAcP,UAAU3B,UAAV,KAAyB,QAAzB,qIAEgC2B,UAAU3B,UAF1C,UAEwD4B,SAAS,OAFjE,UAAlB;;AAIA,SAAO;AACL,SAAKM,WADA;AAEL,sBAAQC,cAAc,QAAtB,EAAgCC,SAAS,QAAzC,EAAmDC,QAAQ,KAA3D,IAAqER,KAArE,CAFK;AAGL,SAAQF,UAAU1B,KAAlB;AAHK,YAID,EAJC,GAKD6B,KALC,EAAP;AAOD;;AAGDQ,OAAOC,OAAP,GAAiB;AACfC,uBACK9B,oBADL;AAEEW;AAFF,IADe;AAKfoB,iCACKtC,gBADL;AAEEkB;AAFF,IALe;AASfqB,cAAY,0BAAQ;AAClB,QAAMC,iBAAiBlB,kCAAkCmB,IAAlC,CAAvB;AACA,QAAMpB,SAASrB,iBAAiBgB,IAAjB,CAAsB;AAAA,aAAM0B,GAAG5C,KAAH,KAAa2C,IAAb,IAAqBC,GAAG7B,UAAH,KAAkB4B,IAAvC,IAA+CC,GAAG7C,UAAH,KAAkB2C,cAAvE;AAAA,KAAtB,CAAf;;AAEA,WAAOnB,MAAP;AACD,GAdc;AAefH,sBAfe;AAgBfK;AAhBe,CAAjB",
      "file": "rights-types.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "/** @format\n */\n\nvar React = require('react')\n\n// CC PDM or CC0 isn't a rightsstatement. Here we sling it in with the rightsstatements, how does that work?\nconst publicDomainMark = {\n  id: 'https://creativecommons.org/publicdomain/mark/1.0/',\n  identifier: 'CC-PDM',\n  label: 'Public Domain',\n  definition: 'This work has been identified as being free of known restrictions under copyright law, including all related and neighboring rights.\\n\\nYou can copy, modify, distribute and perform the work, even for commercial purposes, all without asking permission. See Other Information below.',\n}\n\nconst rightsstatements = [\n  ...require('rightsstatements').map(rs => {\n    rs.definition = rs.definition\n      .replace('The copyright and related rights status of this Item has not been evaluated', 'The copyright and related rights status of this Item has not been evaluated by the Minneapolis Institute of Art (Mia)')\n      .replace('Please refer to the organization that has made the Item available for more information.', 'Please contact us for more information.')\n      .replace(/The organization that has made the Item available/i, 'Minneapolis Institute of Art (Mia)') // TODO link 'contact us' to collectionsdata@artsmia.org\n      .replace('the organization was', 'we were')\n\n    if(rs.definition.match(/The organization/)) {\n      console.info(rs.label, rs.definition, rs.identifier)\n      // debugger\n    }\n    return rs\n  }),\n  publicDomainMark,\n]\n\nconst miaLegacyRightsTypes = {\n  \"Copyright Protected\": \"Artwork is copyright protected. Permission from the rights holder named here may be required for use. A copyright statement and credit line must accompany image.\",\n  \"Full Permission\": \"Artwork is copyright protected. Mia holds a non-exclusive license to reproduce images from the rights holder named here. A copyright statement and credit line must accompany image.\",\n  \"Need Permission\": \"Copyright protection is assumed for this artwork. Object rights status has not yet been determined or assigned.\",\n  \"No Known Copyright Restrictions\": \"Artwork may be protected by some other intellectual property, or may be considered ineligible for copyright protection (ex. useful articles). Alternately, artwork may be in the public domain in the United States, but the public domain status has not or cannot be clearly determined.\",\n  \"Non-commercial Use\": \"Artwork is copyright protected. Mia holds a non-exclusive license to reproduce images of this artwork, for limited non-commercial uses only, from the rights holder named here. A copyright statement and credit line must accompany image.\",\n  \"Orphaned Work\": \"Artwork may be subject to copyright protection under the terms of current US copyright law. Mia has been unable to identify the creator and/or rights holder. The statement “Copyright of the artist, artist’s estate, or assignees” should accompany image.\",\n  \"Public Domain\": \"Artwork is in the public domain. Images are available for any use.\",\n  \"Permission Denied\": \"Artwork is copyright protected. Mia has contacted the rights holder and the rights holder denied Mia any use rights.\",\n}\n\nconst legacyToStandardizedStmt = {\n  \"Copyright Protected\": \"In Copyright\",\n  \"Non-Commercial Use\": \"In Copyright - Educational Use Permitted\",\n  \"Non-commercial Use\": \"In Copyright - Educational Use Permitted\",\n  \"Full Permission\": \"In Copyright - Non-Commercial Use Permitted\",\n  \"Orphaned Work\": \"In Copyright - Rights-holder(s) Unlocatable or Unidentifiable\",\n  \"Permission Denied\": \"In Copyright\", // TODO what goes here? Empty in Heidi's mapping\n  \"Public Domain\": \"Public Domain\", \n  \"No Known Copyright Restrictions\": \"No Known Copyright\",\n  \"Need Permission\": \"Copyright Not Evaluated\",\n}\n\nconst _rightsStatements = Object.keys(miaLegacyRightsTypes).map(legacyName => {\n  const legacyExplanation = miaLegacyRightsTypes[legacyName]\n\n  const legacyToStand = legacyToStandardizedStmt[legacyName]\n  const rightsStmt = rightsstatements.find(stmt => stmt.label === legacyToStand)\n  if(!rightsStmt && legacyName !== 'getRights') {\n    console.info({legacyName, legacyToStand, rightsStmt})\n  }\n\n  return {\n    ...rightsStmt,\n    legacyName,\n    legacyExplanation,\n  }\n})\n\n\n// This is a kludge because this used to use the field `rights` but now\n// needs to use `rights_type`. Some artworks only have `rights`, some have both.\n//\n// TODO reindex all of ES to remove `rights` and  populate `rights_type`\nconst getRights = function(art) {\n  art.rights_type = art.rights_type || art.rights\n  art.rights = false\n  return art.rights_type\n}\n\n// Due to limitations in our TMS database, we don't exactly map rights statements correctly.\n// This is a map that corrects our shortened statements (…due to a character limit on the field in SQL…)\n// to the full Rights Statement label\nconst miaRightsLabelToRightsStatementID = {\n  \"In Copyright–Educational Use\": \"InC-EDU\",\n  \"In Copyright–Non-Commercial Use\": \"InC-NC\",\n  \"In Copyright–Rights-holder(s) Unlocatable\": \"InC-RUU\",\n  \"No Copyright–United States\": \"NoC-US\",\n  \"No Copyright—Contractual Restrictions\": \"NoC-CR\",\n}\n\n// TODO map Mia used named to proper rights statements labels\n// this would have been 10x easier if we'd just used the short hand identifier,\n// but probably wouldn't read well in TMS\n\nfunction RightsStatementIcon({statement, color, style, ...props}) {\n  if(!statement) return <span />\n\n  var shortId = statement.identifier.split('-')[0]\n  var iconURL = statement.identifier === 'CC-PDM' ? \n    `https://upload.wikimedia.org/wikipedia/commons/a/af/Cc-public_domain_mark.svg`\n    : `https://rightsstatements.org/files/icons/${shortId}.Icon-Only.${color || 'white'}.svg`\n  var fullIconURL = statement.identifier === 'CC-PDM' ? \n    `https://upload.wikimedia.org/wikipedia/commons/a/af/Cc-public_domain_mark.svg`\n    : `https://rightsstatements.org/files/buttons/${statement.identifier}.${color || 'white'}.svg`\n\n  return <img\n    src={fullIconURL}\n    style={{paddingRight: '0.43em', display: 'inline', height: '1em', ...style}}\n    alt={`${statement.label} Rights Statement icon`}\n    alt=\"\"\n    {...props}\n  />\n}\n\n\nmodule.exports = {\n  legacy: {\n    ...miaLegacyRightsTypes,\n    getRights,\n  },\n  rightsStatements: {\n    ...rightsstatements,\n    getRights,\n  },\n  findByName: name => {\n    const mappedRightsID = miaRightsLabelToRightsStatementID[name]\n    const rights = rightsstatements.find(st => st.label === name || st.legacyName === name || st.identifier === mappedRightsID)\n\n    return rights\n  },\n  getRights,\n  RightsStatementIcon,\n}\n"
      ]
    },
    "mtime": 1584573136826
  },
  "{\"filename\":\"/var/www/art/src/aggregations.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "extends",
        "slicedToArray"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/aggregations.js",
      "filenameRelative": "/var/www/art/src/aggregations.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "aggregations.js",
      "sourceFileName": "aggregations.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "aggregations"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n/**\n * TODO\n * add different types of related content to Aggregations?\n *\n */\nvar React = require('react');\n\nvar _require = require('react-router'),\n    Link = _require.Link;\n\nvar Aggregations = React.createClass({\n  displayName: 'Aggregations',\n  getInitialState: function getInitialState() {\n    return {\n      aggs: this.buildAndSortAggregationsArray(),\n      showAdder: true\n    };\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    this.setState({ aggs: this.buildAndSortAggregationsArray(nextProps) });\n  },\n  render: function render() {\n    var _this = this;\n\n    var _props = this.props,\n        search = _props.search,\n        query = _props.query;\n    var _state = this.state,\n        aggs = _state.aggs,\n        showAdder = _state.showAdder;\n\n    var customFilters = this.customFilters;\n    var toggleAgg = function toggleAgg(agg) {\n      return _this.toggleAggregation.bind(_this, agg);\n    };\n    var toggleMoreAggs = this.toggleMoreAggs;\n    var defListStyle = { display: 'inline-block', margin: '0', verticalAlign: 'top' }; // , opacity: showAgg ? 1 : 0.5\n\n    return React.createElement(\n      'div',\n      { id: 'aggs' },\n      React.createElement(\n        'div',\n        { style: { width: '100%', overflowX: 'scroll', whiteSpace: 'nowrap', paddingBottom: '10px', paddingLeft: '10px' } },\n        this.sortBox(defListStyle),\n        aggs.map(function (agg) {\n          var aggIsActive = search.filters && search.filters.match(new RegExp(agg.name, 'i'));\n          var showAgg = agg.open || aggIsActive;\n          if (showAgg) return React.createElement(\n            'dl',\n            { key: agg.name, id: agg.name, style: defListStyle },\n            React.createElement(\n              'dt',\n              { style: { fontWeight: aggIsActive && 'bold' }, onClick: toggleAgg(agg) },\n              agg.displayName\n            ),\n            (agg.open || aggIsActive) && agg.buckets.slice(0, 5).map(function (bucket) {\n              var filterString = customFilters[agg.name] ? customFilters[agg.name][bucket.key] || bucket.key : agg.name.toLowerCase() + ':\"' + bucket.key + '\"';\n              if (agg.name === 'Rights') filterString = 'rights_type:\"' + bucket.key + '\"';\n              var filterRegex = new RegExp(decodeURIComponent(filterString).replace(/([\\[\\]\\?])/, '\\\\$1'), 'i');\n              var bucketIsActive = search.filters && search.filters.match(filterRegex);\n              var newFilters = bucketIsActive ? search.filters.replace(filterRegex, '').trim() : ((search.filters || '') + ' ' + filterString).trim();\n              var bucketText = '' + (bucket.key || '\"\"');\n\n              if (bucket.key) return React.createElement(\n                'dd',\n                { key: agg.name + bucket.key, style: { margin: '0', fontWeight: bucketIsActive && 'bold', textDecoration: bucketIsActive && 'underline' } },\n                React.createElement(\n                  'span',\n                  { className: 'objectTotal' },\n                  React.createElement(\n                    Link,\n                    { to: newFilters == '' ? 'searchResults' : 'filteredSearchResults', query: query, params: { terms: '' + search.query, splat: newFilters } },\n                    bucketText,\n                    ' ',\n                    React.createElement(\n                      'span',\n                      { className: 'numbers' },\n                      bucket.doc_count\n                    )\n                  )\n                )\n              );\n            })\n          );\n        })\n      ),\n      React.createElement(\n        'div',\n        { id: 'more-aggs' },\n        React.createElement(\n          'dl',\n          null,\n          aggs.slice(3).map(function (agg) {\n            return React.createElement(\n              'dd',\n              { key: agg.name, onClick: toggleAgg(agg), style: { background: agg.open || agg.active ? 'rgb(35,35,35)' : 'white', color: agg.open || agg.active ? 'white' : 'rgb(35,35,35)' } },\n              agg.displayName\n            );\n          })\n        )\n      )\n    );\n  },\n  toggleAggregation: function toggleAggregation(agg) {\n    var aggs = this.state.aggs;\n\n    var open = aggs[aggs.indexOf(agg)].open;\n    aggs[aggs.indexOf(agg)].open = !open;\n    this.setState({ aggs: aggs });\n  },\n  toggleMoreAggs: function toggleMoreAggs() {\n    this.setState({ showAdder: !this.state.showAdder });\n  },\n\n\n  // Aggregations come from ES as an object with named keys.\n  //     {\"On View\": {…}, \"Artist\": {…}}\n  // I want a `map`able array of the objects:\n  //     [{name: \"On View\", …}, {name: \"Artist\", …}]\n  // This does that transform and sorts the new array in the order they should\n  // be displayed.\n  buildAndSortAggregationsArray: function buildAndSortAggregationsArray() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n    var search = props.search;\n\n    var aggs = props.search.aggregations;\n    var _aggs = [];\n    var order = [\"On View\", \"Image\", \"Department\", \"Artist\", \"Country\", \"Room\", \"Rights\", \"Title\", \"Style\"];\n\n    for (var agg in aggs) {\n      var openByDefault = order.slice(0, 3).indexOf(agg) > -1;\n      // make sure to show the value of the filter, even if there are no matches.\n      // If there's an active filter, and it's key isn't in the buckets of that aggregation,\n      // add it in.\n      // it's a big edge case, but happens when a filter is applied leading an empty\n      // result set.\n      var aggIsActive = search.filters && search.filters.match(new RegExp(agg + ':\"(.*?)\"', 'i'));\n      if (aggIsActive) {\n        var value = aggIsActive[1];\n        aggs[agg].buckets.find(function (_ref) {\n          var _ = _ref._,\n              key = _ref.key;\n          return key == value;\n        }) || aggs[agg].buckets.push({ doc_count: 0, key: value });\n      }\n      _aggs.push(_extends({}, aggs[agg], {\n        name: agg,\n        open: openByDefault,\n        displayName: agg.replace(/_/g, ' '),\n        active: search.filters && search.filters.match(new RegExp(agg, 'i'))\n      }));\n    }\n\n    // Sort aggregations in this order, with any others sorted last\n    return _aggs.sort(function (a, b) {\n      var _map = [order.indexOf(a.name), order.indexOf(b.name)].map(function (index) {\n        return index == -1 ? 100 : index;\n      }),\n          _map2 = _slicedToArray(_map, 2),\n          _a = _map2[0],\n          _b = _map2[1];\n\n      return _a - _b;\n    });\n  },\n\n\n  customFilters: {\n    'On View': {\n      'On View': 'room:G*',\n      'Not on View': 'room:\"Not on View\"'\n    },\n    'Image': {\n      'Available': 'image:valid',\n      'Unavailable': 'image:invalid'\n    },\n    'Gist': {}\n  },\n\n  linkToCurrentSearchWithSort: function linkToCurrentSearchWithSort(newSort) {\n    var humanizeSnakeCase = function humanizeSnakeCase(s) {\n      return ('_' + s).replace(/_(.?)/g, function (_, x) {\n        return ' ' + x.toUpperCase();\n      }).trim();\n    };\n    var _props2 = this.props,\n        search = _props2.search,\n        query = _props2.query,\n        params = _props2.params;\n    // var newParams = {terms: `${search.query}`}\n\n    var newFilters = '';\n\n    var _ref2 = query && query.sort ? query.sort.split('-') : [undefined, undefined],\n        _ref3 = _slicedToArray(_ref2, 2),\n        querySort = _ref3[0],\n        querySortDirection = _ref3[1];\n\n    var currentSortIsDescending = querySortDirection === 'desc';\n    var sortIsActive = query && (querySort === newSort || newSort == 'relevance' && !querySort);\n    var humanName = humanizeSnakeCase(newSort.replace(/\\..*$/, ''));\n    var newQuery = _extends({}, query, {\n      sort: newSort\n    });\n    if (newSort === 'relevance') delete newQuery.sort;\n\n    var sortLink = sortIsActive ? humanName : React.createElement(\n      Link,\n      {\n        to: !params.splat ? 'searchResults' : 'filteredSearchResults',\n        query: newQuery,\n        params: params },\n      humanName\n    );\n\n    var complementarySortLink = React.createElement(\n      Link,\n      {\n        to: !params.splat ? 'searchResults' : 'filteredSearchResults',\n        query: _extends({}, newQuery, { sort: currentSortIsDescending ? newSort : newSort + '-desc' }),\n        title: 'Sort in ' + (currentSortIsDescending ? 'ascending' : 'descending') + ' order',\n        params: params },\n      currentSortIsDescending ? '↑' : '↓'\n    );\n\n    return sortIsActive && newSort !== 'relevance' ? React.createElement(\n      'span',\n      null,\n      sortLink,\n      '     ',\n      complementarySortLink\n    ) : sortLink;\n  },\n  sortBox: function sortBox(style) {\n    var _this2 = this;\n\n    var sorts = ['relevance', 'department.raw', 'accession_number.sort', 'title.raw', 'artist.raw', 'classification'];\n\n    return React.createElement(\n      'dl',\n      { style: style },\n      React.createElement(\n        'dt',\n        null,\n        'Sort by\\u2026'\n      ),\n      sorts.map(function (sort_key) {\n        return React.createElement(\n          'dd',\n          null,\n          _this2.linkToCurrentSearchWithSort(sort_key)\n        );\n      })\n    );\n  }\n});\n\nmodule.exports = Aggregations;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFnZ3JlZ2F0aW9ucy5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJMaW5rIiwiQWdncmVnYXRpb25zIiwiY3JlYXRlQ2xhc3MiLCJnZXRJbml0aWFsU3RhdGUiLCJhZ2dzIiwiYnVpbGRBbmRTb3J0QWdncmVnYXRpb25zQXJyYXkiLCJzaG93QWRkZXIiLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwibmV4dFByb3BzIiwic2V0U3RhdGUiLCJyZW5kZXIiLCJwcm9wcyIsInNlYXJjaCIsInF1ZXJ5Iiwic3RhdGUiLCJjdXN0b21GaWx0ZXJzIiwidG9nZ2xlQWdnIiwiYWdnIiwidG9nZ2xlQWdncmVnYXRpb24iLCJiaW5kIiwidG9nZ2xlTW9yZUFnZ3MiLCJkZWZMaXN0U3R5bGUiLCJkaXNwbGF5IiwibWFyZ2luIiwidmVydGljYWxBbGlnbiIsIndpZHRoIiwib3ZlcmZsb3dYIiwid2hpdGVTcGFjZSIsInBhZGRpbmdCb3R0b20iLCJwYWRkaW5nTGVmdCIsInNvcnRCb3giLCJtYXAiLCJhZ2dJc0FjdGl2ZSIsImZpbHRlcnMiLCJtYXRjaCIsIlJlZ0V4cCIsIm5hbWUiLCJzaG93QWdnIiwib3BlbiIsImZvbnRXZWlnaHQiLCJkaXNwbGF5TmFtZSIsImJ1Y2tldHMiLCJzbGljZSIsImJ1Y2tldCIsImZpbHRlclN0cmluZyIsImtleSIsInRvTG93ZXJDYXNlIiwiZmlsdGVyUmVnZXgiLCJkZWNvZGVVUklDb21wb25lbnQiLCJyZXBsYWNlIiwiYnVja2V0SXNBY3RpdmUiLCJuZXdGaWx0ZXJzIiwidHJpbSIsImJ1Y2tldFRleHQiLCJ0ZXh0RGVjb3JhdGlvbiIsInRlcm1zIiwic3BsYXQiLCJkb2NfY291bnQiLCJiYWNrZ3JvdW5kIiwiYWN0aXZlIiwiY29sb3IiLCJpbmRleE9mIiwiYWdncmVnYXRpb25zIiwiX2FnZ3MiLCJvcmRlciIsIm9wZW5CeURlZmF1bHQiLCJ2YWx1ZSIsImZpbmQiLCJfIiwicHVzaCIsInNvcnQiLCJhIiwiYiIsImluZGV4IiwiX2EiLCJfYiIsImxpbmtUb0N1cnJlbnRTZWFyY2hXaXRoU29ydCIsIm5ld1NvcnQiLCJodW1hbml6ZVNuYWtlQ2FzZSIsInMiLCJ4IiwidG9VcHBlckNhc2UiLCJwYXJhbXMiLCJzcGxpdCIsInVuZGVmaW5lZCIsInF1ZXJ5U29ydCIsInF1ZXJ5U29ydERpcmVjdGlvbiIsImN1cnJlbnRTb3J0SXNEZXNjZW5kaW5nIiwic29ydElzQWN0aXZlIiwiaHVtYW5OYW1lIiwibmV3UXVlcnkiLCJzb3J0TGluayIsImNvbXBsZW1lbnRhcnlTb3J0TGluayIsInN0eWxlIiwic29ydHMiLCJzb3J0X2tleSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7OztBQUtBLElBQUlBLFFBQVFDLFFBQVEsT0FBUixDQUFaOztlQUNlQSxRQUFRLGNBQVIsQztJQUFUQyxJLFlBQUFBLEk7O0FBRU4sSUFBSUMsZUFBZUgsTUFBTUksV0FBTixDQUFrQjtBQUFBO0FBQ25DQyxpQkFEbUMsNkJBQ2pCO0FBQ2hCLFdBQU87QUFDTEMsWUFBTSxLQUFLQyw2QkFBTCxFQUREO0FBRUxDLGlCQUFXO0FBRk4sS0FBUDtBQUlELEdBTmtDO0FBUW5DQywyQkFSbUMscUNBUVRDLFNBUlMsRUFRRTtBQUNuQyxTQUFLQyxRQUFMLENBQWMsRUFBQ0wsTUFBTSxLQUFLQyw2QkFBTCxDQUFtQ0csU0FBbkMsQ0FBUCxFQUFkO0FBQ0QsR0FWa0M7QUFZbkNFLFFBWm1DLG9CQVkxQjtBQUFBOztBQUFBLGlCQUNpQixLQUFLQyxLQUR0QjtBQUFBLFFBQ0FDLE1BREEsVUFDQUEsTUFEQTtBQUFBLFFBQ1FDLEtBRFIsVUFDUUEsS0FEUjtBQUFBLGlCQUVtQixLQUFLQyxLQUZ4QjtBQUFBLFFBRUFWLElBRkEsVUFFQUEsSUFGQTtBQUFBLFFBRU1FLFNBRk4sVUFFTUEsU0FGTjs7QUFHUCxRQUFNUyxnQkFBZ0IsS0FBS0EsYUFBM0I7QUFDQSxRQUFNQyxZQUFZLFNBQVpBLFNBQVksQ0FBQ0MsR0FBRDtBQUFBLGFB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QVFSLE1BSFY7QUFHbUJPO0FBSG5CLEtBRkY7O0FBT0EsUUFBTUcsd0JBQXdCO0FBQUMsVUFBRDtBQUFBO0FBQzFCLFlBQUksQ0FBQ1YsT0FBTzFCLEtBQVIsR0FBZ0IsZUFBaEIsR0FBa0MsdUJBRFo7QUFFMUIsNEJBQVdrQyxRQUFYLElBQXFCcEIsTUFBTWlCLDBCQUEwQlYsT0FBMUIsR0FBdUNBLE9BQXZDLFVBQTNCLEdBRjBCO0FBRzFCLDZCQUFrQlUsMEJBQTBCLFdBQTFCLEdBQXdDLFlBQTFELFlBSDBCO0FBSTFCLGdCQUFRTCxNQUprQjtBQUlUSyxnQ0FBMEIsR0FBMUIsR0FBZ0M7QUFKdkIsS0FBOUI7O0FBTUEsV0FBT0MsZ0JBQWdCWCxZQUFZLFdBQTVCLEdBQ0w7QUFBQTtBQUFBO0FBQU9jLGNBQVA7QUFBQTtBQUFzQkM7QUFBdEIsS0FESyxHQUVMRCxRQUZGO0FBR0QsR0E1SmtDO0FBOEpuQzdELFNBOUptQyxtQkE4SjNCK0QsS0E5SjJCLEVBOEpwQjtBQUFBOztBQUNiLFFBQUlDLFFBQVEsQ0FBQyxXQUFELEVBQWMsZ0JBQWQsRUFBZ0MsdUJBQWhDLEVBQXlELFdBQXpELEVBQXNFLFlBQXRFLEVBQW9GLGdCQUFwRixDQUFaOztBQUVBLFdBQU87QUFBQTtBQUFBLFFBQUksT0FBT0QsS0FBWDtBQUNMO0FBQUE7QUFBQTtBQUFBO0FBQUEsT0FESztBQUVKQyxZQUFNL0QsR0FBTixDQUFVLG9CQUFZO0FBQ3JCLGVBQU87QUFBQTtBQUFBO0FBQUssaUJBQUs2QywyQkFBTCxDQUFpQ21CLFFBQWpDO0FBQUwsU0FBUDtBQUNELE9BRkE7QUFGSSxLQUFQO0FBTUQ7QUF2S2tDLENBQWxCLENBQW5COztBQTBLQUMsT0FBT0MsT0FBUCxHQUFpQmhHLFlBQWpCIiwiZmlsZSI6ImFnZ3JlZ2F0aW9ucy5qcyIsInNvdXJjZVJvb3QiOiIvdmFyL3d3dy9hcnQvc3JjIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUT0RPXG4gKiBhZGQgZGlmZmVyZW50IHR5cGVzIG9mIHJlbGF0ZWQgY29udGVudCB0byBBZ2dyZWdhdGlvbnM/XG4gKlxuICovXG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgeyBMaW5rIH0gPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxuXG52YXIgQWdncmVnYXRpb25zID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFnZ3M6IHRoaXMuYnVpbGRBbmRTb3J0QWdncmVnYXRpb25zQXJyYXkoKSxcbiAgICAgIHNob3dBZGRlcjogdHJ1ZSxcbiAgICB9XG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICB0aGlzLnNldFN0YXRlKHthZ2dzOiB0aGlzLmJ1aWxkQW5kU29ydEFnZ3JlZ2F0aW9uc0FycmF5KG5leHRQcm9wcyl9KVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7c2VhcmNoLCBxdWVyeX0gPSB0aGlzLnByb3BzXG4gICAgY29uc3Qge2FnZ3MsIHNob3dBZGRlcn0gPSB0aGlzLnN0YXRlXG4gICAgY29uc3QgY3VzdG9tRmlsdGVycyA9IHRoaXMuY3VzdG9tRmlsdGVyc1xuICAgIGNvbnN0IHRvZ2dsZUFnZyA9IChhZ2cpID0+IHRoaXMudG9nZ2xlQWdncmVnYXRpb24uYmluZCh0aGlzLCBhZ2cpXG4gICAgY29uc3QgdG9nZ2xlTW9yZUFnZ3MgPSB0aGlzLnRvZ2dsZU1vcmVBZ2dzXG4gICAgY29uc3QgZGVmTGlzdFN0eWxlID0ge2Rpc3BsYXk6ICdpbmxpbmUtYmxvY2snLCBtYXJnaW46ICcwJywgdmVydGljYWxBbGlnbjogJ3RvcCd9IC8vICwgb3BhY2l0eTogc2hvd0FnZyA/IDEgOiAwLjVcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGlkPVwiYWdnc1wiID5cbiAgICAgICAgPGRpdiBzdHlsZT17e3dpZHRoOiAnMTAwJScsIG92ZXJmbG93WDogJ3Njcm9sbCcsIHdoaXRlU3BhY2U6ICdub3dyYXAnLCBwYWRkaW5nQm90dG9tOiAnMTBweCcsIHBhZGRpbmdMZWZ0OiAnMTBweCd9fT5cbiAgICAgICAge3RoaXMuc29ydEJveChkZWZMaXN0U3R5bGUpfVxuICAgICAgICB7YWdncy5tYXAoZnVuY3Rpb24oYWdnKSB7XG4gICAgICAgICAgY29uc3QgYWdnSXNBY3RpdmUgPSBzZWFyY2guZmlsdGVycyAmJiBzZWFyY2guZmlsdGVycy5tYXRjaChuZXcgUmVnRXhwKGFnZy5uYW1lLCAnaScpKVxuICAgICAgICAgIGNvbnN0IHNob3dBZ2cgPSBhZ2cub3BlbiB8fCBhZ2dJc0FjdGl2ZVxuICAgICAgICAgIGlmKHNob3dBZ2cpIHJldHVybiAoPGRsIGtleT17YWdnLm5hbWV9IGlkPXthZ2cubmFtZX0gc3R5bGU9e2RlZkxpc3RTdHlsZX0+XG4gICAgICAgICAgICA8ZHQgc3R5bGU9e3tmb250V2VpZ2h0OiBhZ2dJc0FjdGl2ZSAmJiAnYm9sZCd9fSBvbkNsaWNrPXt0b2dnbGVBZ2coYWdnKX0+e2FnZy5kaXNwbGF5TmFtZX08L2R0PlxuICAgICAgICAgICAgeyhhZ2cub3BlbiB8fCBhZ2dJc0FjdGl2ZSkgJiYgYWdnLmJ1Y2tldHMuc2xpY2UoMCwgNSkubWFwKGZ1bmN0aW9uKGJ1Y2tldCkge1xuICAgICAgICAgICAgICBsZXQgZmlsdGVyU3RyaW5nID0gY3VzdG9tRmlsdGVyc1thZ2cubmFtZV0gPyBjdXN0b21GaWx0ZXJzW2FnZy5uYW1lXVtidWNrZXQua2V5XSB8fCBidWNrZXQua2V5IDogYWdnLm5hbWUudG9Mb3dlckNhc2UoKSsnOlwiJytidWNrZXQua2V5KydcIidcbiAgICAgICAgICAgICAgaWYoYWdnLm5hbWUgPT09ICdSaWdodHMnKSBmaWx0ZXJTdHJpbmcgPSAncmlnaHRzX3R5cGU6XCInK2J1Y2tldC5rZXkrJ1wiJ1xuICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJSZWdleCA9IG5ldyBSZWdFeHAoZGVjb2RlVVJJQ29tcG9uZW50KGZpbHRlclN0cmluZykucmVwbGFjZSgvKFtcXFtcXF1cXD9dKS8sICdcXFxcJDEnKSwgJ2knKVxuICAgICAgICAgICAgICBjb25zdCBidWNrZXRJc0FjdGl2ZSA9IHNlYXJjaC5maWx0ZXJzICYmIHNlYXJjaC5maWx0ZXJzLm1hdGNoKGZpbHRlclJlZ2V4KVxuICAgICAgICAgICAgICBjb25zdCBuZXdGaWx0ZXJzID0gYnVja2V0SXNBY3RpdmUgP1xuICAgICAgICAgICAgICAgIHNlYXJjaC5maWx0ZXJzLnJlcGxhY2UoZmlsdGVyUmVnZXgsICcnKS50cmltKCkgOlxuICAgICAgICAgICAgICAgIGAke3NlYXJjaC5maWx0ZXJzIHx8ICcnfSAke2ZpbHRlclN0cmluZ31gLnRyaW0oKVxuICAgICAgICAgICAgICBjb25zdCBidWNrZXRUZXh0ID0gYCR7YnVja2V0LmtleSB8fCAnXCJcIid9YFxuXG4gICAgICAgICAgICAgIGlmKGJ1Y2tldC5rZXkpIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRkIGtleT17YWdnLm5hbWUrYnVja2V0LmtleX0gc3R5bGU9e3ttYXJnaW46ICcwJywgZm9udFdlaWdodDogYnVja2V0SXNBY3RpdmUgJiYgJ2JvbGQnLCB0ZXh0RGVjb3JhdGlvbjogYnVja2V0SXNBY3RpdmUgJiYgJ3VuZGVybGluZSd9fT48c3BhbiBjbGFzc05hbWU9J29iamVjdFRvdGFsJz5cbiAgICAgICAgICAgICAgICAgIHs8TGluayB0bz17bmV3RmlsdGVycyA9PSAnJyA/ICdzZWFyY2hSZXN1bHRzJyA6ICdmaWx0ZXJlZFNlYXJjaFJlc3VsdHMnfSBxdWVyeT17cXVlcnl9IHBhcmFtcz17e3Rlcm1zOiBgJHtzZWFyY2gucXVlcnl9YCwgc3BsYXQ6IG5ld0ZpbHRlcnN9fT5cbiAgICAgICAgICAgICAgICAgICAgICB7YnVja2V0VGV4dH0gPHNwYW4gY2xhc3NOYW1lPVwibnVtYmVyc1wiPntidWNrZXQuZG9jX2NvdW50fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvTGluaz59PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGQ+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvZGw+KVxuICAgICAgICB9KX08L2Rpdj5cbiAgICAgICAgPGRpdiBpZD1cIm1vcmUtYWdnc1wiPlxuICAgICAgICAgICAgPGRsPnthZ2dzLnNsaWNlKDMpLm1hcChhZ2cgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gPGRkIGtleT17YWdnLm5hbWV9IG9uQ2xpY2s9e3RvZ2dsZUFnZyhhZ2cpfSBzdHlsZT17eyBiYWNrZ3JvdW5kOiBhZ2cub3BlbiB8fCBhZ2cuYWN0aXZlID8gJ3JnYigzNSwzNSwzNSknIDogJ3doaXRlJywgY29sb3I6IGFnZy5vcGVuIHx8IGFnZy5hY3RpdmUgPyAnd2hpdGUnIDogJ3JnYigzNSwzNSwzNSknfX0+e2FnZy5kaXNwbGF5TmFtZX08L2RkPlxuICAgICAgICAgICAgfSl9PC9kbD5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9LFxuXG4gIHRvZ2dsZUFnZ3JlZ2F0aW9uKGFnZykge1xuICAgIHZhciB7YWdnc30gPSB0aGlzLnN0YXRlXG4gICAgdmFyIG9wZW4gPSBhZ2dzW2FnZ3MuaW5kZXhPZihhZ2cpXS5vcGVuXG4gICAgYWdnc1thZ2dzLmluZGV4T2YoYWdnKV0ub3BlbiA9ICFvcGVuXG4gICAgdGhpcy5zZXRTdGF0ZSh7YWdnczogYWdnc30pXG4gIH0sXG5cbiAgdG9nZ2xlTW9yZUFnZ3MoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7c2hvd0FkZGVyOiAhdGhpcy5zdGF0ZS5zaG93QWRkZXJ9KVxuICB9LFxuXG4gIC8vIEFnZ3JlZ2F0aW9ucyBjb21lIGZyb20gRVMgYXMgYW4gb2JqZWN0IHdpdGggbmFtZWQga2V5cy5cbiAgLy8gICAgIHtcIk9uIFZpZXdcIjoge+KApn0sIFwiQXJ0aXN0XCI6IHvigKZ9fVxuICAvLyBJIHdhbnQgYSBgbWFwYGFibGUgYXJyYXkgb2YgdGhlIG9iamVjdHM6XG4gIC8vICAgICBbe25hbWU6IFwiT24gVmlld1wiLCDigKZ9LCB7bmFtZTogXCJBcnRpc3RcIiwg4oCmfV1cbiAgLy8gVGhpcyBkb2VzIHRoYXQgdHJhbnNmb3JtIGFuZCBzb3J0cyB0aGUgbmV3IGFycmF5IGluIHRoZSBvcmRlciB0aGV5IHNob3VsZFxuICAvLyBiZSBkaXNwbGF5ZWQuXG4gIGJ1aWxkQW5kU29ydEFnZ3JlZ2F0aW9uc0FycmF5KHByb3BzID0gdGhpcy5wcm9wcykge1xuICAgIGNvbnN0IHtzZWFyY2h9ID0gcHJvcHNcbiAgICBjb25zdCBhZ2dzID0gcHJvcHMuc2VhcmNoLmFnZ3JlZ2F0aW9uc1xuICAgIGNvbnN0IF9hZ2dzID0gW11cbiAgICBjb25zdCBvcmRlciA9IFtcIk9uIFZpZXdcIiwgXCJJbWFnZVwiLCBcIkRlcGFydG1lbnRcIiwgXCJBcnRpc3RcIiwgXCJDb3VudHJ5XCIsIFwiUm9vbVwiLCBcIlJpZ2h0c1wiLCBcIlRpdGxlXCIsIFwiU3R5bGVcIl1cblxuICAgIGZvcih2YXIgYWdnIGluIGFnZ3MpIHtcbiAgICAgIGNvbnN0IG9wZW5CeURlZmF1bHQgPSBvcmRlci5zbGljZSgwLCAzKS5pbmRleE9mKGFnZykgPiAtMVxuICAgICAgLy8gbWFrZSBzdXJlIHRvIHNob3cgdGhlIHZhbHVlIG9mIHRoZSBmaWx0ZXIsIGV2ZW4gaWYgdGhlcmUgYXJlIG5vIG1hdGNoZXMuXG4gICAgICAvLyBJZiB0aGVyZSdzIGFuIGFjdGl2ZSBmaWx0ZXIsIGFuZCBpdCdzIGtleSBpc24ndCBpbiB0aGUgYnVja2V0cyBvZiB0aGF0IGFnZ3JlZ2F0aW9uLFxuICAgICAgLy8gYWRkIGl0IGluLlxuICAgICAgLy8gaXQncyBhIGJpZyBlZGdlIGNhc2UsIGJ1dCBoYXBwZW5zIHdoZW4gYSBmaWx0ZXIgaXMgYXBwbGllZCBsZWFkaW5nIGFuIGVtcHR5XG4gICAgICAvLyByZXN1bHQgc2V0LlxuICAgICAgY29uc3QgYWdnSXNBY3RpdmUgPSBzZWFyY2guZmlsdGVycyAmJiBzZWFyY2guZmlsdGVycy5tYXRjaChuZXcgUmVnRXhwKGAke2FnZ306XCIoLio/KVwiYCwgJ2knKSlcbiAgICAgIGlmKGFnZ0lzQWN0aXZlKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFnZ0lzQWN0aXZlWzFdXG4gICAgICAgIGFnZ3NbYWdnXS5idWNrZXRzLmZpbmQoKHtfLCBrZXl9KSA9PiBrZXkgPT0gdmFsdWUpIHx8IGFnZ3NbYWdnXS5idWNrZXRzLnB1c2goe2RvY19jb3VudDogMCwga2V5OiB2YWx1ZX0pXG4gICAgICB9XG4gICAgICBfYWdncy5wdXNoKHtcbiAgICAgICAgLi4uYWdnc1thZ2ddLFxuICAgICAgICBuYW1lOiBhZ2csXG4gICAgICAgIG9wZW46IG9wZW5CeURlZmF1bHQsXG4gICAgICAgIGRpc3BsYXlOYW1lOiBhZ2cucmVwbGFjZSgvXy9nLCAnICcpLFxuICAgICAgICBhY3RpdmU6IHNlYXJjaC5maWx0ZXJzICYmIHNlYXJjaC5maWx0ZXJzLm1hdGNoKG5ldyBSZWdFeHAoYWdnLCAnaScpKSxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gU29ydCBhZ2dyZWdhdGlvbnMgaW4gdGhpcyBvcmRlciwgd2l0aCBhbnkgb3RoZXJzIHNvcnRlZCBsYXN0XG4gICAgcmV0dXJuIF9hZ2dzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGxldCBbX2EsIF9iXSA9IFtvcmRlci5pbmRleE9mKGEubmFtZSksIG9yZGVyLmluZGV4T2YoYi5uYW1lKV0ubWFwKGluZGV4ID0+IGluZGV4ID09IC0xID8gMTAwIDogaW5kZXgpXG4gICAgICByZXR1cm4gX2EgLSBfYlxuICAgIH0pXG4gIH0sXG5cbiAgY3VzdG9tRmlsdGVyczoge1xuICAgICdPbiBWaWV3Jzoge1xuICAgICAgJ09uIFZpZXcnOiAncm9vbTpHKicsXG4gICAgICAnTm90IG9uIFZpZXcnOiAncm9vbTpcIk5vdCBvbiBWaWV3XCInXG4gICAgfSxcbiAgICAnSW1hZ2UnOiB7XG4gICAgICAnQXZhaWxhYmxlJzogJ2ltYWdlOnZhbGlkJyxcbiAgICAgICdVbmF2YWlsYWJsZSc6ICdpbWFnZTppbnZhbGlkJyxcbiAgICB9LFxuICAgICdHaXN0Jzoge30sXG4gIH0sXG5cbiAgbGlua1RvQ3VycmVudFNlYXJjaFdpdGhTb3J0KG5ld1NvcnQpIHtcbiAgICB2YXIgaHVtYW5pemVTbmFrZUNhc2UgPSAocykgPT4gYF8ke3N9YFxuICAgICAgLnJlcGxhY2UoL18oLj8pL2csIChfLCB4KSA9PiBgICR7eC50b1VwcGVyQ2FzZSgpfWApLnRyaW0oKVxuICAgIHZhciB7c2VhcmNoLCBxdWVyeSwgcGFyYW1zfSA9IHRoaXMucHJvcHNcbiAgICAvLyB2YXIgbmV3UGFyYW1zID0ge3Rlcm1zOiBgJHtzZWFyY2gucXVlcnl9YH1cbiAgICB2YXIgbmV3RmlsdGVycyA9ICcnXG4gICAgdmFyIFtxdWVyeVNvcnQsIHF1ZXJ5U29ydERpcmVjdGlvbl0gPSBxdWVyeSAmJiBxdWVyeS5zb3J0ID9cbiAgICAgIHF1ZXJ5LnNvcnQuc3BsaXQoJy0nKSA6XG4gICAgICBbdW5kZWZpbmVkLCB1bmRlZmluZWRdXG4gICAgdmFyIGN1cnJlbnRTb3J0SXNEZXNjZW5kaW5nID0gcXVlcnlTb3J0RGlyZWN0aW9uID09PSAnZGVzYydcbiAgICB2YXIgc29ydElzQWN0aXZlID0gcXVlcnkgJiYgKHF1ZXJ5U29ydCA9PT0gbmV3U29ydCB8fCBuZXdTb3J0ID09ICdyZWxldmFuY2UnICYmICFxdWVyeVNvcnQpXG4gICAgdmFyIGh1bWFuTmFtZSA9IGh1bWFuaXplU25ha2VDYXNlKG5ld1NvcnQucmVwbGFjZSgvXFwuLiokLywgJycpKVxuICAgIHZhciBuZXdRdWVyeSA9IHtcbiAgICAgIC4uLnF1ZXJ5LFxuICAgICAgc29ydDogbmV3U29ydCxcbiAgICB9XG4gICAgaWYobmV3U29ydCA9PT0gJ3JlbGV2YW5jZScpIGRlbGV0ZSBuZXdRdWVyeS5zb3J0XG5cbiAgICBjb25zdCBzb3J0TGluayA9IHNvcnRJc0FjdGl2ZSA/XG4gICAgICBodW1hbk5hbWUgOlxuICAgICAgPExpbmtcbiAgICAgICAgdG89eyFwYXJhbXMuc3BsYXQgPyAnc2VhcmNoUmVzdWx0cycgOiAnZmlsdGVyZWRTZWFyY2hSZXN1bHRzJ31cbiAgICAgICAgcXVlcnk9e25ld1F1ZXJ5fVxuICAgICAgICBwYXJhbXM9e3BhcmFtc30+e2h1bWFuTmFtZX08L0xpbms+XG5cbiAgICBjb25zdCBjb21wbGVtZW50YXJ5U29ydExpbmsgPSA8TGlua1xuICAgICAgICB0bz17IXBhcmFtcy5zcGxhdCA/ICdzZWFyY2hSZXN1bHRzJyA6ICdmaWx0ZXJlZFNlYXJjaFJlc3VsdHMnfVxuICAgICAgICBxdWVyeT17ey4uLm5ld1F1ZXJ5LCBzb3J0OiBjdXJyZW50U29ydElzRGVzY2VuZGluZyA/IG5ld1NvcnQgOiBgJHtuZXdTb3J0fS1kZXNjYH19XG4gICAgICAgIHRpdGxlPXtgU29ydCBpbiAke2N1cnJlbnRTb3J0SXNEZXNjZW5kaW5nID8gJ2FzY2VuZGluZycgOiAnZGVzY2VuZGluZyd9IG9yZGVyYH1cbiAgICAgICAgcGFyYW1zPXtwYXJhbXN9PntjdXJyZW50U29ydElzRGVzY2VuZGluZyA/ICfihpEnIDogJ+KGkyd9PC9MaW5rPlxuXG4gICAgcmV0dXJuIHNvcnRJc0FjdGl2ZSAmJiBuZXdTb3J0ICE9PSAncmVsZXZhbmNlJyA/IFxuICAgICAgPHNwYW4+e3NvcnRMaW5rfSAgICAge2NvbXBsZW1lbnRhcnlTb3J0TGlua308L3NwYW4+IDpcbiAgICAgIHNvcnRMaW5rXG4gIH0sXG5cbiAgc29ydEJveChzdHlsZSkge1xuICAgIHZhciBzb3J0cyA9IFsncmVsZXZhbmNlJywgJ2RlcGFydG1lbnQucmF3JywgJ2FjY2Vzc2lvbl9udW1iZXIuc29ydCcsICd0aXRsZS5yYXcnLCAnYXJ0aXN0LnJhdycsICdjbGFzc2lmaWNhdGlvbiddXG5cbiAgICByZXR1cm4gPGRsIHN0eWxlPXtzdHlsZX0+XG4gICAgICA8ZHQ+U29ydCBieeKApjwvZHQ+XG4gICAgICB7c29ydHMubWFwKHNvcnRfa2V5ID0+IHtcbiAgICAgICAgcmV0dXJuIDxkZD57dGhpcy5saW5rVG9DdXJyZW50U2VhcmNoV2l0aFNvcnQoc29ydF9rZXkpfTwvZGQ+XG4gICAgICB9KX1cbiAgICA8L2RsPlxuICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBBZ2dyZWdhdGlvbnNcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "aggregations.js"
      ],
      "names": [
        "React",
        "require",
        "Link",
        "Aggregations",
        "createClass",
        "getInitialState",
        "aggs",
        "buildAndSortAggregationsArray",
        "showAdder",
        "componentWillReceiveProps",
        "nextProps",
        "setState",
        "render",
        "props",
        "search",
        "query",
        "state",
        "customFilters",
        "toggleAgg",
        "agg",
        "toggleAggregation",
        "bind",
        "toggleMoreAggs",
        "defListStyle",
        "display",
        "margin",
        "verticalAlign",
        "width",
        "overflowX",
        "whiteSpace",
        "paddingBottom",
        "paddingLeft",
        "sortBox",
        "map",
        "aggIsActive",
        "filters",
        "match",
        "RegExp",
        "name",
        "showAgg",
        "open",
        "fontWeight",
        "displayName",
        "buckets",
        "slice",
        "bucket",
        "filterString",
        "key",
        "toLowerCase",
        "filterRegex",
        "decodeURIComponent",
        "replace",
        "bucketIsActive",
        "newFilters",
        "trim",
        "bucketText",
        "textDecoration",
        "terms",
        "splat",
        "doc_count",
        "background",
        "active",
        "color",
        "indexOf",
        "aggregations",
        "_aggs",
        "order",
        "openByDefault",
        "value",
        "find",
        "_",
        "push",
        "sort",
        "a",
        "b",
        "index",
        "_a",
        "_b",
        "linkToCurrentSearchWithSort",
        "newSort",
        "humanizeSnakeCase",
        "s",
        "x",
        "toUpperCase",
        "params",
        "split",
        "undefined",
        "querySort",
        "querySortDirection",
        "currentSortIsDescending",
        "sortIsActive",
        "humanName",
        "newQuery",
        "sortLink",
        "complementarySortLink",
        "style",
        "sorts",
        "sort_key",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "aggregations.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "/**\n * TODO\n * add different types of related content to Aggregations?\n *\n */\nvar React = require('react')\nvar { Link } = require('react-router')\n\nvar Aggregations = React.createClass({\n  getInitialState() {\n    return {\n      aggs: this.buildAndSortAggregationsArray(),\n      showAdder: true,\n    }\n  },\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({aggs: this.buildAndSortAggregationsArray(nextProps)})\n  },\n\n  render() {\n    const {search, query} = this.props\n    const {aggs, showAdder} = this.state\n    const customFilters = this.customFilters\n    const toggleAgg = (agg) => this.toggleAggregation.bind(this, agg)\n    const toggleMoreAggs = this.toggleMoreAggs\n    const defListStyle = {display: 'inline-block', margin: '0', verticalAlign: 'top'} // , opacity: showAgg ? 1 : 0.5\n\n    return (\n      <div id=\"aggs\" >\n        <div style={{width: '100%', overflowX: 'scroll', whiteSpace: 'nowrap', paddingBottom: '10px', paddingLeft: '10px'}}>\n        {this.sortBox(defListStyle)}\n        {aggs.map(function(agg) {\n          const aggIsActive = search.filters && search.filters.match(new RegExp(agg.name, 'i'))\n          const showAgg = agg.open || aggIsActive\n          if(showAgg) return (<dl key={agg.name} id={agg.name} style={defListStyle}>\n            <dt style={{fontWeight: aggIsActive && 'bold'}} onClick={toggleAgg(agg)}>{agg.displayName}</dt>\n            {(agg.open || aggIsActive) && agg.buckets.slice(0, 5).map(function(bucket) {\n              let filterString = customFilters[agg.name] ? customFilters[agg.name][bucket.key] || bucket.key : agg.name.toLowerCase()+':\"'+bucket.key+'\"'\n              if(agg.name === 'Rights') filterString = 'rights_type:\"'+bucket.key+'\"'\n              const filterRegex = new RegExp(decodeURIComponent(filterString).replace(/([\\[\\]\\?])/, '\\\\$1'), 'i')\n              const bucketIsActive = search.filters && search.filters.match(filterRegex)\n              const newFilters = bucketIsActive ?\n                search.filters.replace(filterRegex, '').trim() :\n                `${search.filters || ''} ${filterString}`.trim()\n              const bucketText = `${bucket.key || '\"\"'}`\n\n              if(bucket.key) return (\n                <dd key={agg.name+bucket.key} style={{margin: '0', fontWeight: bucketIsActive && 'bold', textDecoration: bucketIsActive && 'underline'}}><span className='objectTotal'>\n                  {<Link to={newFilters == '' ? 'searchResults' : 'filteredSearchResults'} query={query} params={{terms: `${search.query}`, splat: newFilters}}>\n                      {bucketText} <span className=\"numbers\">{bucket.doc_count}</span>\n                  </Link>}</span>\n                </dd>\n              )\n            })}\n          </dl>)\n        })}</div>\n        <div id=\"more-aggs\">\n            <dl>{aggs.slice(3).map(agg => {\n              return <dd key={agg.name} onClick={toggleAgg(agg)} style={{ background: agg.open || agg.active ? 'rgb(35,35,35)' : 'white', color: agg.open || agg.active ? 'white' : 'rgb(35,35,35)'}}>{agg.displayName}</dd>\n            })}</dl>\n\n          </div>\n      </div>\n    )\n  },\n\n  toggleAggregation(agg) {\n    var {aggs} = this.state\n    var open = aggs[aggs.indexOf(agg)].open\n    aggs[aggs.indexOf(agg)].open = !open\n    this.setState({aggs: aggs})\n  },\n\n  toggleMoreAggs() {\n    this.setState({showAdder: !this.state.showAdder})\n  },\n\n  // Aggregations come from ES as an object with named keys.\n  //     {\"On View\": {…}, \"Artist\": {…}}\n  // I want a `map`able array of the objects:\n  //     [{name: \"On View\", …}, {name: \"Artist\", …}]\n  // This does that transform and sorts the new array in the order they should\n  // be displayed.\n  buildAndSortAggregationsArray(props = this.props) {\n    const {search} = props\n    const aggs = props.search.aggregations\n    const _aggs = []\n    const order = [\"On View\", \"Image\", \"Department\", \"Artist\", \"Country\", \"Room\", \"Rights\", \"Title\", \"Style\"]\n\n    for(var agg in aggs) {\n      const openByDefault = order.slice(0, 3).indexOf(agg) > -1\n      // make sure to show the value of the filter, even if there are no matches.\n      // If there's an active filter, and it's key isn't in the buckets of that aggregation,\n      // add it in.\n      // it's a big edge case, but happens when a filter is applied leading an empty\n      // result set.\n      const aggIsActive = search.filters && search.filters.match(new RegExp(`${agg}:\"(.*?)\"`, 'i'))\n      if(aggIsActive) {\n        var value = aggIsActive[1]\n        aggs[agg].buckets.find(({_, key}) => key == value) || aggs[agg].buckets.push({doc_count: 0, key: value})\n      }\n      _aggs.push({\n        ...aggs[agg],\n        name: agg,\n        open: openByDefault,\n        displayName: agg.replace(/_/g, ' '),\n        active: search.filters && search.filters.match(new RegExp(agg, 'i')),\n      })\n    }\n\n    // Sort aggregations in this order, with any others sorted last\n    return _aggs.sort((a, b) => {\n      let [_a, _b] = [order.indexOf(a.name), order.indexOf(b.name)].map(index => index == -1 ? 100 : index)\n      return _a - _b\n    })\n  },\n\n  customFilters: {\n    'On View': {\n      'On View': 'room:G*',\n      'Not on View': 'room:\"Not on View\"'\n    },\n    'Image': {\n      'Available': 'image:valid',\n      'Unavailable': 'image:invalid',\n    },\n    'Gist': {},\n  },\n\n  linkToCurrentSearchWithSort(newSort) {\n    var humanizeSnakeCase = (s) => `_${s}`\n      .replace(/_(.?)/g, (_, x) => ` ${x.toUpperCase()}`).trim()\n    var {search, query, params} = this.props\n    // var newParams = {terms: `${search.query}`}\n    var newFilters = ''\n    var [querySort, querySortDirection] = query && query.sort ?\n      query.sort.split('-') :\n      [undefined, undefined]\n    var currentSortIsDescending = querySortDirection === 'desc'\n    var sortIsActive = query && (querySort === newSort || newSort == 'relevance' && !querySort)\n    var humanName = humanizeSnakeCase(newSort.replace(/\\..*$/, ''))\n    var newQuery = {\n      ...query,\n      sort: newSort,\n    }\n    if(newSort === 'relevance') delete newQuery.sort\n\n    const sortLink = sortIsActive ?\n      humanName :\n      <Link\n        to={!params.splat ? 'searchResults' : 'filteredSearchResults'}\n        query={newQuery}\n        params={params}>{humanName}</Link>\n\n    const complementarySortLink = <Link\n        to={!params.splat ? 'searchResults' : 'filteredSearchResults'}\n        query={{...newQuery, sort: currentSortIsDescending ? newSort : `${newSort}-desc`}}\n        title={`Sort in ${currentSortIsDescending ? 'ascending' : 'descending'} order`}\n        params={params}>{currentSortIsDescending ? '↑' : '↓'}</Link>\n\n    return sortIsActive && newSort !== 'relevance' ? \n      <span>{sortLink}     {complementarySortLink}</span> :\n      sortLink\n  },\n\n  sortBox(style) {\n    var sorts = ['relevance', 'department.raw', 'accession_number.sort', 'title.raw', 'artist.raw', 'classification']\n\n    return <dl style={style}>\n      <dt>Sort by…</dt>\n      {sorts.map(sort_key => {\n        return <dd>{this.linkToCurrentSearchWithSort(sort_key)}</dd>\n      })}\n    </dl>\n  },\n})\n\nmodule.exports = Aggregations\n"
      ]
    },
    "mtime": 1584573136814
  },
  "{\"filename\":\"/var/www/art/src/search-language.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/search-language.js",
      "filenameRelative": "/var/www/art/src/search-language.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "search-language.js",
      "sourceFileName": "search-language.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "search-language"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar searchLanguageMap = function searchLanguageMap(queryText) {\n  var map = {\n    'recent:true': \"Recent Accessions\",\n    'highlight:true': \"Museum Highlights\",\n    'deaccessioned:\"true\"': \"Deaccessioned\",\n    '_exists_:\"provenance\"': \"provenance information exists\",\n    '_exists_:\"related:conservation\"': 'Conserved artworks',\n    '_exists_:\"related:artstories\"': \"artworks with related ArtStories\",\n    '_exists_:\"related:newsflashes\"': \"artworks with related NewsFlashes\",\n    '_exists_:\"related:audio-stops\"': \"artworks with related Audio stops\",\n    '_exists_:\"related:stories\"': \"artworks with related Mia Stories\",\n    '_exists_:\"related:adopt-a-painting\"': \"Adopt-a-Painting\",\n    '_exists_:\"related:visual-descriptions\"': \"has Verbal Description of Artwork\",\n    '_exists_:\"related:inspiredByMia\"': 'Inspired By Mia',\n    'room:G*': 'On View',\n    'room:\"Not on View\"': 'Not on View',\n    'image:valid': \"Image Available\",\n    'image:invalid': \"Image Unavailable\",\n    'room:\"G320\"': \"TODO: need to match parameters more cleverly? This should return 'In Gallery 320' or something\",\n    '_exists_:\"list:nahm\"': 'Native American Heritage Month',\n    '_exists_:\"list:whm\"': 'Women\\'s History Month'\n  };\n\n  var reversedMap = Object.keys(map).reduce(function (reversed, key) {\n    reversed[map[key]] = key;return reversed;\n  }, {});\n\n  var trimmedQuery = queryText && queryText.trim();\n\n  return map[trimmedQuery] || reversedMap[trimmedQuery] || queryText;\n};\n\nmodule.exports = searchLanguageMap;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlYXJjaC1sYW5ndWFnZS5qcyJdLCJuYW1lcyI6WyJzZWFyY2hMYW5ndWFnZU1hcCIsInF1ZXJ5VGV4dCIsIm1hcCIsInJldmVyc2VkTWFwIiwiT2JqZWN0Iiwia2V5cyIsInJlZHVjZSIsInJldmVyc2VkIiwia2V5IiwidHJpbW1lZFF1ZXJ5IiwidHJpbSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsb0JBQW9CLFNBQXBCQSxpQkFBb0IsQ0FBQ0MsU0FBRCxFQUFlO0FBQ3JDLE1BQUlDLE1BQU07QUFDUixtQkFBZSxtQkFEUDtBQUVSLHNCQUFrQixtQkFGVjtBQUdSLDRCQUF3QixlQUhoQjtBQUlSLDZCQUF5QiwrQkFKakI7QUFLUix1Q0FBbUMsb0JBTDNCO0FBTVIscUNBQWlDLGtDQU56QjtBQU9SLHNDQUFrQyxtQ0FQMUI7QUFRUixzQ0FBa0MsbUNBUjFCO0FBU1Isa0NBQThCLG1DQVR0QjtBQVVSLDJDQUF1QyxrQkFWL0I7QUFXUiw4Q0FBMEMsbUNBWGxDO0FBWVIsd0NBQW9DLGlCQVo1QjtBQWFSLGVBQVcsU0FiSDtBQWNSLDBCQUFzQixhQWRkO0FBZVIsbUJBQWUsaUJBZlA7QUFnQlIscUJBQWlCLG1CQWhCVDtBQWlCUixtQkFBZSxnR0FqQlA7QUFrQlIsNEJBQXdCLGdDQWxCaEI7QUFtQlIsMkJBQXVCO0FBbkJmLEdBQVY7O0FBdUJBLE1BQUlDLGNBQWNDLE9BQU9DLElBQVAsQ0FBWUgsR0FBWixFQUNmSSxNQURlLENBQ1IsVUFBQ0MsUUFBRCxFQUFXQyxHQUFYLEVBQW1CO0FBQUVELGFBQVNMLElBQUlNLEdBQUosQ0FBVCxJQUFxQkEsR0FBckIsQ0FBMEIsT0FBT0QsUUFBUDtBQUFpQixHQUR4RCxFQUMwRCxFQUQxRCxDQUFsQjs7QUFHQSxNQUFJRSxlQUFlUixhQUFhQSxVQUFVUyxJQUFWLEVBQWhDOztBQUVBLFNBQU9SLElBQUlPLFlBQUosS0FBcUJOLFlBQVlNLFlBQVosQ0FBckIsSUFBa0RSLFNBQXpEO0FBQ0QsQ0E5QkQ7O0FBZ0NBVSxPQUFPQyxPQUFQLEdBQWlCWixpQkFBakIiLCJmaWxlIjoic2VhcmNoLWxhbmd1YWdlLmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgc2VhcmNoTGFuZ3VhZ2VNYXAgPSAocXVlcnlUZXh0KSA9PiB7XG4gIHZhciBtYXAgPSB7XG4gICAgJ3JlY2VudDp0cnVlJzogXCJSZWNlbnQgQWNjZXNzaW9uc1wiLFxuICAgICdoaWdobGlnaHQ6dHJ1ZSc6IFwiTXVzZXVtIEhpZ2hsaWdodHNcIixcbiAgICAnZGVhY2Nlc3Npb25lZDpcInRydWVcIic6IFwiRGVhY2Nlc3Npb25lZFwiLFxuICAgICdfZXhpc3RzXzpcInByb3ZlbmFuY2VcIic6IFwicHJvdmVuYW5jZSBpbmZvcm1hdGlvbiBleGlzdHNcIixcbiAgICAnX2V4aXN0c186XCJyZWxhdGVkOmNvbnNlcnZhdGlvblwiJzogJ0NvbnNlcnZlZCBhcnR3b3JrcycsXG4gICAgJ19leGlzdHNfOlwicmVsYXRlZDphcnRzdG9yaWVzXCInOiBcImFydHdvcmtzIHdpdGggcmVsYXRlZCBBcnRTdG9yaWVzXCIsXG4gICAgJ19leGlzdHNfOlwicmVsYXRlZDpuZXdzZmxhc2hlc1wiJzogXCJhcnR3b3JrcyB3aXRoIHJlbGF0ZWQgTmV3c0ZsYXNoZXNcIixcbiAgICAnX2V4aXN0c186XCJyZWxhdGVkOmF1ZGlvLXN0b3BzXCInOiBcImFydHdvcmtzIHdpdGggcmVsYXRlZCBBdWRpbyBzdG9wc1wiLFxuICAgICdfZXhpc3RzXzpcInJlbGF0ZWQ6c3Rvcmllc1wiJzogXCJhcnR3b3JrcyB3aXRoIHJlbGF0ZWQgTWlhIFN0b3JpZXNcIixcbiAgICAnX2V4aXN0c186XCJyZWxhdGVkOmFkb3B0LWEtcGFpbnRpbmdcIic6IFwiQWRvcHQtYS1QYWludGluZ1wiLFxuICAgICdfZXhpc3RzXzpcInJlbGF0ZWQ6dmlzdWFsLWRlc2NyaXB0aW9uc1wiJzogXCJoYXMgVmVyYmFsIERlc2NyaXB0aW9uIG9mIEFydHdvcmtcIixcbiAgICAnX2V4aXN0c186XCJyZWxhdGVkOmluc3BpcmVkQnlNaWFcIic6ICdJbnNwaXJlZCBCeSBNaWEnLFxuICAgICdyb29tOkcqJzogJ09uIFZpZXcnLFxuICAgICdyb29tOlwiTm90IG9uIFZpZXdcIic6ICdOb3Qgb24gVmlldycsXG4gICAgJ2ltYWdlOnZhbGlkJzogXCJJbWFnZSBBdmFpbGFibGVcIixcbiAgICAnaW1hZ2U6aW52YWxpZCc6IFwiSW1hZ2UgVW5hdmFpbGFibGVcIixcbiAgICAncm9vbTpcIkczMjBcIic6IFwiVE9ETzogbmVlZCB0byBtYXRjaCBwYXJhbWV0ZXJzIG1vcmUgY2xldmVybHk/IFRoaXMgc2hvdWxkIHJldHVybiAnSW4gR2FsbGVyeSAzMjAnIG9yIHNvbWV0aGluZ1wiLFxuICAgICdfZXhpc3RzXzpcImxpc3Q6bmFobVwiJzogJ05hdGl2ZSBBbWVyaWNhbiBIZXJpdGFnZSBNb250aCcsXG4gICAgJ19leGlzdHNfOlwibGlzdDp3aG1cIic6ICdXb21lblxcJ3MgSGlzdG9yeSBNb250aCcsXG4gIH1cblxuXG4gIHZhciByZXZlcnNlZE1hcCA9IE9iamVjdC5rZXlzKG1hcClcbiAgICAucmVkdWNlKChyZXZlcnNlZCwga2V5KSA9PiB7IHJldmVyc2VkW21hcFtrZXldXSA9IGtleTsgcmV0dXJuIHJldmVyc2VkIH0sIHt9KVxuXG4gIHZhciB0cmltbWVkUXVlcnkgPSBxdWVyeVRleHQgJiYgcXVlcnlUZXh0LnRyaW0oKVxuXG4gIHJldHVybiBtYXBbdHJpbW1lZFF1ZXJ5XSB8fCByZXZlcnNlZE1hcFt0cmltbWVkUXVlcnldIHx8IHF1ZXJ5VGV4dFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNlYXJjaExhbmd1YWdlTWFwXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "search-language.js"
      ],
      "names": [
        "searchLanguageMap",
        "queryText",
        "map",
        "reversedMap",
        "Object",
        "keys",
        "reduce",
        "reversed",
        "key",
        "trimmedQuery",
        "trim",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,oBAAoB,SAApBA,iBAAoB,CAACC,SAAD,EAAe;AACrC,MAAIC,MAAM;AACR,mBAAe,mBADP;AAER,sBAAkB,mBAFV;AAGR,4BAAwB,eAHhB;AAIR,6BAAyB,+BAJjB;AAKR,uCAAmC,oBAL3B;AAMR,qCAAiC,kCANzB;AAOR,sCAAkC,mCAP1B;AAQR,sCAAkC,mCAR1B;AASR,kCAA8B,mCATtB;AAUR,2CAAuC,kBAV/B;AAWR,8CAA0C,mCAXlC;AAYR,wCAAoC,iBAZ5B;AAaR,eAAW,SAbH;AAcR,0BAAsB,aAdd;AAeR,mBAAe,iBAfP;AAgBR,qBAAiB,mBAhBT;AAiBR,mBAAe,gGAjBP;AAkBR,4BAAwB,gCAlBhB;AAmBR,2BAAuB;AAnBf,GAAV;;AAuBA,MAAIC,cAAcC,OAAOC,IAAP,CAAYH,GAAZ,EACfI,MADe,CACR,UAACC,QAAD,EAAWC,GAAX,EAAmB;AAAED,aAASL,IAAIM,GAAJ,CAAT,IAAqBA,GAArB,CAA0B,OAAOD,QAAP;AAAiB,GADxD,EAC0D,EAD1D,CAAlB;;AAGA,MAAIE,eAAeR,aAAaA,UAAUS,IAAV,EAAhC;;AAEA,SAAOR,IAAIO,YAAJ,KAAqBN,YAAYM,YAAZ,CAArB,IAAkDR,SAAzD;AACD,CA9BD;;AAgCAU,OAAOC,OAAP,GAAiBZ,iBAAjB",
      "file": "search-language.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var searchLanguageMap = (queryText) => {\n  var map = {\n    'recent:true': \"Recent Accessions\",\n    'highlight:true': \"Museum Highlights\",\n    'deaccessioned:\"true\"': \"Deaccessioned\",\n    '_exists_:\"provenance\"': \"provenance information exists\",\n    '_exists_:\"related:conservation\"': 'Conserved artworks',\n    '_exists_:\"related:artstories\"': \"artworks with related ArtStories\",\n    '_exists_:\"related:newsflashes\"': \"artworks with related NewsFlashes\",\n    '_exists_:\"related:audio-stops\"': \"artworks with related Audio stops\",\n    '_exists_:\"related:stories\"': \"artworks with related Mia Stories\",\n    '_exists_:\"related:adopt-a-painting\"': \"Adopt-a-Painting\",\n    '_exists_:\"related:visual-descriptions\"': \"has Verbal Description of Artwork\",\n    '_exists_:\"related:inspiredByMia\"': 'Inspired By Mia',\n    'room:G*': 'On View',\n    'room:\"Not on View\"': 'Not on View',\n    'image:valid': \"Image Available\",\n    'image:invalid': \"Image Unavailable\",\n    'room:\"G320\"': \"TODO: need to match parameters more cleverly? This should return 'In Gallery 320' or something\",\n    '_exists_:\"list:nahm\"': 'Native American Heritage Month',\n    '_exists_:\"list:whm\"': 'Women\\'s History Month',\n  }\n\n\n  var reversedMap = Object.keys(map)\n    .reduce((reversed, key) => { reversed[map[key]] = key; return reversed }, {})\n\n  var trimmedQuery = queryText && queryText.trim()\n\n  return map[trimmedQuery] || reversedMap[trimmedQuery] || queryText\n}\n\nmodule.exports = searchLanguageMap\n"
      ]
    },
    "mtime": 1612393616752
  },
  "{\"filename\":\"/var/www/art/src/search-results/list.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src/search-results\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "objectWithoutProperties",
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/search-results/list.js",
      "filenameRelative": "/var/www/art/src/search-results/list.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "list.js",
      "sourceFileName": "list.js",
      "sourceRoot": "/var/www/art/src/search-results",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src/search-results",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "list"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\n\nvar ArtworkResult = require('../artwork-result');\nvar FocusedResult = require('./focused');\n\nvar SearchResultsList = React.createClass({\n  displayName: 'SearchResultsList',\n  render: function render() {\n    var _this = this;\n\n    var _props = this.props,\n        leftColumnWidth = _props.leftColumnWidth,\n        focusedResult = _props.focusedResult,\n        focusHandler = _props.focusHandler,\n        smallViewport = _props.smallViewport,\n        customImage = _props.customImage,\n        focusedProps = _objectWithoutProperties(_props, ['leftColumnWidth', 'focusedResult', 'focusHandler', 'smallViewport', 'customImage']);\n\n    if (smallViewport || this.context.universal) {\n      focusedResult = null;\n    }\n    if (!focusedResult) leftColumnWidth = '100%';\n\n    var results = this.props.hits.map(function (hit) {\n      var id = hit._source.id.replace('http://api.artsmia.org/objects/', '');\n      var focused = focusedResult === hit._source;\n      return React.createElement(\n        'div',\n        { key: id, onClick: _this.handleClick.bind(_this, hit), className: focused ? 'focused' : '' },\n        React.createElement(ArtworkResult, { id: id, data: { artwork: hit._source }, highlights: hit.highlight, showMore: smallViewport, customImage: customImage })\n      );\n    });\n\n    return React.createElement(\n      'div',\n      { className: 'search-results-wrap clearfix', style: { position: 'relative', minHeight: this.props.minHeight } },\n      React.createElement(\n        'div',\n        { className: 'objects-wrap leftBar', style: { position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, width: leftColumnWidth } },\n        results,\n        this.props.postSearch\n      ),\n      focusedResult && React.createElement(FocusedResult, _extends({ key: focusedResult._source.id, art: focusedResult._source, highlights: focusedResult.highlight }, this.props))\n    );\n  },\n  handleClick: function handleClick(hit) {\n    this.props.focusHandler(hit, SearchResultsList);\n  }\n});\nSearchResultsList.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nmodule.exports = SearchResultsList;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpc3QuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiQXJ0d29ya1Jlc3VsdCIsIkZvY3VzZWRSZXN1bHQiLCJTZWFyY2hSZXN1bHRzTGlzdCIsImNyZWF0ZUNsYXNzIiwicmVuZGVyIiwicHJvcHMiLCJsZWZ0Q29sdW1uV2lkdGgiLCJmb2N1c2VkUmVzdWx0IiwiZm9jdXNIYW5kbGVyIiwic21hbGxWaWV3cG9ydCIsImN1c3RvbUltYWdlIiwiZm9jdXNlZFByb3BzIiwiY29udGV4dCIsInVuaXZlcnNhbCIsInJlc3VsdHMiLCJoaXRzIiwibWFwIiwiaGl0IiwiaWQiLCJfc291cmNlIiwicmVwbGFjZSIsImZvY3VzZWQiLCJoYW5kbGVDbGljayIsImJpbmQiLCJhcnR3b3JrIiwiaGlnaGxpZ2h0IiwicG9zaXRpb24iLCJtaW5IZWlnaHQiLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJ3aWR0aCIsInBvc3RTZWFyY2giLCJjb250ZXh0VHlwZXMiLCJyb3V0ZXIiLCJQcm9wVHlwZXMiLCJmdW5jIiwiYm9vbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUlBLFFBQVFDLFFBQVEsT0FBUixDQUFaOztBQUVBLElBQUlDLGdCQUFnQkQsUUFBUSxtQkFBUixDQUFwQjtBQUNBLElBQUlFLGdCQUFnQkYsUUFBUSxXQUFSLENBQXBCOztBQUVBLElBQUlHLG9CQUFvQkosTUFBTUssV0FBTixDQUFrQjtBQUFBO0FBQ3hDQyxRQUR3QyxvQkFDL0I7QUFBQTs7QUFBQSxpQkFRSCxLQUFLQyxLQVJGO0FBQUEsUUFFTEMsZUFGSyxVQUVMQSxlQUZLO0FBQUEsUUFHTEMsYUFISyxVQUdMQSxhQUhLO0FBQUEsUUFJTEMsWUFKSyxVQUlMQSxZQUpLO0FBQUEsUUFLTEMsYUFMSyxVQUtMQSxhQUxLO0FBQUEsUUFNTEMsV0FOSyxVQU1MQSxXQU5LO0FBQUEsUUFPRkMsWUFQRTs7QUFVUCxRQUFHRixpQkFBaUIsS0FBS0csT0FBTCxDQUFhQyxTQUFqQyxFQUE0QztBQUMxQ04sc0JBQWdCLElBQWhCO0FBQ0Q7QUFDRCxRQUFHLENBQUNBLGFBQUosRUFBbUJELGtCQUFrQixNQUFsQjs7QUFFbkIsUUFBSVEsVUFBVSxLQUFLVCxLQUFMLENBQVdVLElBQVgsQ0FBZ0JDLEdBQWhCLENBQW9CLFVBQUNDLEdBQUQsRUFBUztBQUN6QyxVQUFJQyxLQUFLRCxJQUFJRSxPQUFKLENBQVlELEVBQVosQ0FBZUUsT0FBZixDQUF1QixpQ0FBdkIsRUFBMEQsRUFBMUQsQ0FBVDtBQUNBLFVBQUlDLFVBQVVkLGtCQUFrQlUsSUFBSUUsT0FBcEM7QUFDQSxhQUFPO0FBQUE7QUFBQSxVQUFLLEtBQUtELEVBQVYsRUFBYyxTQUFTLE1BQUtJLFdBQUwsQ0FBaUJDLElBQWpCLFFBQTRCTixHQUE1QixDQUF2QixFQUF5RCxXQUFXSSxVQUFVLFNBQVYsR0FBc0IsRUFBMUY7QUFDTCw0QkFBQyxhQUFELElBQWUsSUFBSUgsRUFBbkIsRUFBdUIsTUFBTSxFQUFDTSxTQUFTUCxJQUFJRSxPQUFkLEVBQTdCLEVBQXFELFlBQVlGLElBQUlRLFNBQXJFLEVBQWdGLFVBQVVoQixhQUExRixFQUF5RyxhQUFhQyxXQUF0SDtBQURLLE9BQVA7QUFHRCxLQU5hLENBQWQ7O0FBUUEsV0FDRTtBQUFBO0FBQUEsUUFBSyxXQUFVLDhCQUFmLEVBQThDLE9BQU8sRUFBQ2dCLFVBQVUsVUFBWCxFQUF1QkMsV0FBVyxLQUFLdEIsS0FBTCxDQUFXc0IsU0FBN0MsRUFBckQ7QUFDRTtBQUFBO0FBQUEsVUFBSyxXQUFVLHNCQUFmLEVBQXNDLE9BQU8sRUFBQ0QsVUFBVSxVQUFYLEVBQXVCRSxLQUFLLENBQTVCLEVBQStCQyxNQUFNLENBQXJDLEVBQXdDQyxPQUFPLENBQS9DLEVBQWtEQyxRQUFRLENBQTFELEVBQTZEQyxPQUFPMUIsZUFBcEUsRUFBN0M7QUFDR1EsZUFESDtBQUVHLGFBQUtULEtBQUwsQ0FBVzRCO0FBRmQsT0FERjtBQUtHMUIsdUJBQWlCLG9CQUFDLGFBQUQsYUFBZSxLQUFLQSxjQUFjWSxPQUFkLENBQXNCRCxFQUExQyxFQUE4QyxLQUFLWCxjQUFjWSxPQUFqRSxFQUEwRSxZQUFZWixjQUFja0IsU0FBcEcsSUFBbUgsS0FBS3BCLEtBQXhIO0FBTHBCLEtBREY7QUFTRCxHQWpDdUM7QUFtQ3hDaUIsYUFuQ3dDLHVCQW1DNUJMLEdBbkM0QixFQW1DdkI7QUFDZixTQUFLWixLQUFMLENBQVdHLFlBQVgsQ0FBd0JTLEdBQXhCLEVBQTZCZixpQkFBN0I7QUFDRDtBQXJDdUMsQ0FBbEIsQ0FBeEI7QUF1Q0FBLGtCQUFrQmdDLFlBQWxCLEdBQWlDO0FBQy9CQyxVQUFRckMsTUFBTXNDLFNBQU4sQ0FBZ0JDLElBRE87QUFFL0J4QixhQUFXZixNQUFNc0MsU0FBTixDQUFnQkU7QUFGSSxDQUFqQzs7QUFLQUMsT0FBT0MsT0FBUCxHQUFpQnRDLGlCQUFqQiIsImZpbGUiOiJsaXN0LmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMvc2VhcmNoLXJlc3VsdHMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG5cbnZhciBBcnR3b3JrUmVzdWx0ID0gcmVxdWlyZSgnLi4vYXJ0d29yay1yZXN1bHQnKVxudmFyIEZvY3VzZWRSZXN1bHQgPSByZXF1aXJlKCcuL2ZvY3VzZWQnKVxuXG52YXIgU2VhcmNoUmVzdWx0c0xpc3QgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIge1xuICAgICAgbGVmdENvbHVtbldpZHRoLFxuICAgICAgZm9jdXNlZFJlc3VsdCxcbiAgICAgIGZvY3VzSGFuZGxlcixcbiAgICAgIHNtYWxsVmlld3BvcnQsXG4gICAgICBjdXN0b21JbWFnZSxcbiAgICAgIC4uLmZvY3VzZWRQcm9wc1xuICAgIH0gPSB0aGlzLnByb3BzXG5cbiAgICBpZihzbWFsbFZpZXdwb3J0IHx8IHRoaXMuY29udGV4dC51bml2ZXJzYWwpIHtcbiAgICAgIGZvY3VzZWRSZXN1bHQgPSBudWxsXG4gICAgfVxuICAgIGlmKCFmb2N1c2VkUmVzdWx0KSBsZWZ0Q29sdW1uV2lkdGggPSAnMTAwJSdcblxuICAgIHZhciByZXN1bHRzID0gdGhpcy5wcm9wcy5oaXRzLm1hcCgoaGl0KSA9PiB7XG4gICAgICB2YXIgaWQgPSBoaXQuX3NvdXJjZS5pZC5yZXBsYWNlKCdodHRwOi8vYXBpLmFydHNtaWEub3JnL29iamVjdHMvJywgJycpXG4gICAgICB2YXIgZm9jdXNlZCA9IGZvY3VzZWRSZXN1bHQgPT09IGhpdC5fc291cmNlXG4gICAgICByZXR1cm4gPGRpdiBrZXk9e2lkfSBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcywgaGl0KX0gY2xhc3NOYW1lPXtmb2N1c2VkID8gJ2ZvY3VzZWQnIDogJyd9PlxuICAgICAgICA8QXJ0d29ya1Jlc3VsdCBpZD17aWR9IGRhdGE9e3thcnR3b3JrOiBoaXQuX3NvdXJjZX19IGhpZ2hsaWdodHM9e2hpdC5oaWdobGlnaHR9IHNob3dNb3JlPXtzbWFsbFZpZXdwb3J0fSBjdXN0b21JbWFnZT17Y3VzdG9tSW1hZ2V9IC8+XG4gICAgICA8L2Rpdj5cbiAgICB9KVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdzZWFyY2gtcmVzdWx0cy13cmFwIGNsZWFyZml4JyBzdHlsZT17e3Bvc2l0aW9uOiAncmVsYXRpdmUnLCBtaW5IZWlnaHQ6IHRoaXMucHJvcHMubWluSGVpZ2h0fX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdvYmplY3RzLXdyYXAgbGVmdEJhcicgc3R5bGU9e3twb3NpdGlvbjogJ2Fic29sdXRlJywgdG9wOiAwLCBsZWZ0OiAwLCByaWdodDogMCwgYm90dG9tOiAwLCB3aWR0aDogbGVmdENvbHVtbldpZHRofX0+XG4gICAgICAgICAge3Jlc3VsdHN9XG4gICAgICAgICAge3RoaXMucHJvcHMucG9zdFNlYXJjaH1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtmb2N1c2VkUmVzdWx0ICYmIDxGb2N1c2VkUmVzdWx0IGtleT17Zm9jdXNlZFJlc3VsdC5fc291cmNlLmlkfSBhcnQ9e2ZvY3VzZWRSZXN1bHQuX3NvdXJjZX0gaGlnaGxpZ2h0cz17Zm9jdXNlZFJlc3VsdC5oaWdobGlnaHR9IHsuLi50aGlzLnByb3BzfS8+fVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9LFxuXG4gIGhhbmRsZUNsaWNrKGhpdCkge1xuICAgIHRoaXMucHJvcHMuZm9jdXNIYW5kbGVyKGhpdCwgU2VhcmNoUmVzdWx0c0xpc3QpXG4gIH0sXG59KVxuU2VhcmNoUmVzdWx0c0xpc3QuY29udGV4dFR5cGVzID0ge1xuICByb3V0ZXI6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICB1bml2ZXJzYWw6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNlYXJjaFJlc3VsdHNMaXN0XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "list.js"
      ],
      "names": [
        "React",
        "require",
        "ArtworkResult",
        "FocusedResult",
        "SearchResultsList",
        "createClass",
        "render",
        "props",
        "leftColumnWidth",
        "focusedResult",
        "focusHandler",
        "smallViewport",
        "customImage",
        "focusedProps",
        "context",
        "universal",
        "results",
        "hits",
        "map",
        "hit",
        "id",
        "_source",
        "replace",
        "focused",
        "handleClick",
        "bind",
        "artwork",
        "highlight",
        "position",
        "minHeight",
        "top",
        "left",
        "right",
        "bottom",
        "width",
        "postSearch",
        "contextTypes",
        "router",
        "PropTypes",
        "func",
        "bool",
        "module",
        "exports"
      ],
      "mappings": ";;;;;;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;;AAEA,IAAIC,gBAAgBD,QAAQ,mBAAR,CAApB;AACA,IAAIE,gBAAgBF,QAAQ,WAAR,CAApB;;AAEA,IAAIG,oBAAoBJ,MAAMK,WAAN,CAAkB;AAAA;AACxCC,QADwC,oBAC/B;AAAA;;AAAA,iBAQH,KAAKC,KARF;AAAA,QAELC,eAFK,UAELA,eAFK;AAAA,QAGLC,aAHK,UAGLA,aAHK;AAAA,QAILC,YAJK,UAILA,YAJK;AAAA,QAKLC,aALK,UAKLA,aALK;AAAA,QAMLC,WANK,UAMLA,WANK;AAAA,QAOFC,YAPE;;AAUP,QAAGF,iBAAiB,KAAKG,OAAL,CAAaC,SAAjC,EAA4C;AAC1CN,sBAAgB,IAAhB;AACD;AACD,QAAG,CAACA,aAAJ,EAAmBD,kBAAkB,MAAlB;;AAEnB,QAAIQ,UAAU,KAAKT,KAAL,CAAWU,IAAX,CAAgBC,GAAhB,CAAoB,UAACC,GAAD,EAAS;AACzC,UAAIC,KAAKD,IAAIE,OAAJ,CAAYD,EAAZ,CAAeE,OAAf,CAAuB,iCAAvB,EAA0D,EAA1D,CAAT;AACA,UAAIC,UAAUd,kBAAkBU,IAAIE,OAApC;AACA,aAAO;AAAA;AAAA,UAAK,KAAKD,EAAV,EAAc,SAAS,MAAKI,WAAL,CAAiBC,IAAjB,QAA4BN,GAA5B,CAAvB,EAAyD,WAAWI,UAAU,SAAV,GAAsB,EAA1F;AACL,4BAAC,aAAD,IAAe,IAAIH,EAAnB,EAAuB,MAAM,EAACM,SAASP,IAAIE,OAAd,EAA7B,EAAqD,YAAYF,IAAIQ,SAArE,EAAgF,UAAUhB,aAA1F,EAAyG,aAAaC,WAAtH;AADK,OAAP;AAGD,KANa,CAAd;;AAQA,WACE;AAAA;AAAA,QAAK,WAAU,8BAAf,EAA8C,OAAO,EAACgB,UAAU,UAAX,EAAuBC,WAAW,KAAKtB,KAAL,CAAWsB,SAA7C,EAArD;AACE;AAAA;AAAA,UAAK,WAAU,sBAAf,EAAsC,OAAO,EAACD,UAAU,UAAX,EAAuBE,KAAK,CAA5B,EAA+BC,MAAM,CAArC,EAAwCC,OAAO,CAA/C,EAAkDC,QAAQ,CAA1D,EAA6DC,OAAO1B,eAApE,EAA7C;AACGQ,eADH;AAEG,aAAKT,KAAL,CAAW4B;AAFd,OADF;AAKG1B,uBAAiB,oBAAC,aAAD,aAAe,KAAKA,cAAcY,OAAd,CAAsBD,EAA1C,EAA8C,KAAKX,cAAcY,OAAjE,EAA0E,YAAYZ,cAAckB,SAApG,IAAmH,KAAKpB,KAAxH;AALpB,KADF;AASD,GAjCuC;AAmCxCiB,aAnCwC,uBAmC5BL,GAnC4B,EAmCvB;AACf,SAAKZ,KAAL,CAAWG,YAAX,CAAwBS,GAAxB,EAA6Bf,iBAA7B;AACD;AArCuC,CAAlB,CAAxB;AAuCAA,kBAAkBgC,YAAlB,GAAiC;AAC/BC,UAAQrC,MAAMsC,SAAN,CAAgBC,IADO;AAE/BxB,aAAWf,MAAMsC,SAAN,CAAgBE;AAFI,CAAjC;;AAKAC,OAAOC,OAAP,GAAiBtC,iBAAjB",
      "file": "list.js",
      "sourceRoot": "/var/www/art/src/search-results",
      "sourcesContent": [
        "var React = require('react')\n\nvar ArtworkResult = require('../artwork-result')\nvar FocusedResult = require('./focused')\n\nvar SearchResultsList = React.createClass({\n  render() {\n    var {\n      leftColumnWidth,\n      focusedResult,\n      focusHandler,\n      smallViewport,\n      customImage,\n      ...focusedProps\n    } = this.props\n\n    if(smallViewport || this.context.universal) {\n      focusedResult = null\n    }\n    if(!focusedResult) leftColumnWidth = '100%'\n\n    var results = this.props.hits.map((hit) => {\n      var id = hit._source.id.replace('http://api.artsmia.org/objects/', '')\n      var focused = focusedResult === hit._source\n      return <div key={id} onClick={this.handleClick.bind(this, hit)} className={focused ? 'focused' : ''}>\n        <ArtworkResult id={id} data={{artwork: hit._source}} highlights={hit.highlight} showMore={smallViewport} customImage={customImage} />\n      </div>\n    })\n\n    return (\n      <div className='search-results-wrap clearfix' style={{position: 'relative', minHeight: this.props.minHeight}}>\n        <div className='objects-wrap leftBar' style={{position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, width: leftColumnWidth}}>\n          {results}\n          {this.props.postSearch}\n        </div>\n        {focusedResult && <FocusedResult key={focusedResult._source.id} art={focusedResult._source} highlights={focusedResult.highlight} {...this.props}/>}\n      </div>\n    )\n  },\n\n  handleClick(hit) {\n    this.props.focusHandler(hit, SearchResultsList)\n  },\n})\nSearchResultsList.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nmodule.exports = SearchResultsList\n"
      ]
    },
    "mtime": 1612393616752
  },
  "{\"filename\":\"/var/www/art/src/artwork-result.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/artwork-result.js",
      "filenameRelative": "/var/www/art/src/artwork-result.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "artwork-result.js",
      "sourceFileName": "artwork-result.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "artwork-result"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\n\nvar Artwork = require('./_artwork');\nvar Markdown = require('./markdown');\nvar highlighter = require('./highlighter');\n\nvar ArtworkResult = React.createClass({\n  displayName: 'ArtworkResult',\n\n  mixins: [Router.State],\n  statics: {\n    fetchData: function fetchData(params) {\n      return rest(SEARCH + '/id/' + params.id).then(function (r) {\n        return JSON.parse(r.entity);\n      });\n    }\n  },\n\n  render: function render() {\n    var art = this.props.data.artwork;\n    var id = this.props.id || art.id.replace('http://api.artsmia.org/objects/', '');\n    var title = React.createElement(Artwork.Title, { art: art, link: this.context.universal, highlights: this.props.highlights });\n\n    var roomHighlight = highlighter(art, this.props.highlights, 'room');\n    var showMore = this.props.showMore && Object.keys(art).filter(function (key) {\n      return key.match(/related:/) && !key.match(/related:exhibitions/);\n    }).length > 0;\n    var customImage = this.props.customImage;\n\n    return React.createElement(\n      Artwork.Figure,\n      { art: art, className: 'artwork-result', customImage: customImage },\n      React.createElement(\n        'div',\n        { className: 'artwork-summary' },\n        title,\n        React.createElement(Artwork.Creator, { art: art, wrapper: 'h2', peek: false, highlights: this.props.highlights }),\n        React.createElement(\n          'div',\n          null,\n          art.room === 'Not on View' ? art.room : React.createElement(\n            'strong',\n            null,\n            React.createElement(\n              Markdown,\n              null,\n              roomHighlight\n            )\n          )\n        ),\n        showMore && React.createElement(\n          Link,\n          { to: 'artwork', params: { id: art.id, hash: 'explore' } },\n          React.createElement('img', { src: '/images/more.svg', style: { width: '1.3em', marginTop: '0.3em' } })\n        )\n      )\n    );\n  }\n});\nArtworkResult.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nmodule.exports = ArtworkResult;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFydHdvcmstcmVzdWx0LmpzIl0sIm5hbWVzIjpbIlJlYWN0IiwicmVxdWlyZSIsIlJvdXRlciIsIkxpbmsiLCJBcnR3b3JrIiwiTWFya2Rvd24iLCJoaWdobGlnaHRlciIsIkFydHdvcmtSZXN1bHQiLCJjcmVhdGVDbGFzcyIsIm1peGlucyIsIlN0YXRlIiwic3RhdGljcyIsImZldGNoRGF0YSIsInBhcmFtcyIsInJlc3QiLCJTRUFSQ0giLCJpZCIsInRoZW4iLCJyIiwiSlNPTiIsInBhcnNlIiwiZW50aXR5IiwicmVuZGVyIiwiYXJ0IiwicHJvcHMiLCJkYXRhIiwiYXJ0d29yayIsInJlcGxhY2UiLCJ0aXRsZSIsImNvbnRleHQiLCJ1bml2ZXJzYWwiLCJoaWdobGlnaHRzIiwicm9vbUhpZ2hsaWdodCIsInNob3dNb3JlIiwiT2JqZWN0Iiwia2V5cyIsImZpbHRlciIsImtleSIsIm1hdGNoIiwibGVuZ3RoIiwiY3VzdG9tSW1hZ2UiLCJyb29tIiwiaGFzaCIsIndpZHRoIiwibWFyZ2luVG9wIiwiY29udGV4dFR5cGVzIiwicm91dGVyIiwiUHJvcFR5cGVzIiwiZnVuYyIsImJvb2wiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFFBQVFDLFFBQVEsT0FBUixDQUFaO0FBQ0EsSUFBSUMsU0FBU0QsUUFBUSxjQUFSLENBQWI7SUFDTUUsSSxHQUFTRCxNLENBQVRDLEk7OztBQUVOLElBQUlDLFVBQVVILFFBQVEsWUFBUixDQUFkO0FBQ0EsSUFBSUksV0FBV0osUUFBUSxZQUFSLENBQWY7QUFDQSxJQUFJSyxjQUFjTCxRQUFRLGVBQVIsQ0FBbEI7O0FBRUEsSUFBSU0sZ0JBQWdCUCxNQUFNUSxXQUFOLENBQWtCO0FBQUE7O0FBQ3BDQyxVQUFRLENBQUNQLE9BQU9RLEtBQVIsQ0FENEI7QUFFcENDLFdBQVM7QUFDUEMsZUFBVyxtQkFBQ0MsTUFBRCxFQUFZO0FBQ3JCLGFBQU9DLEtBQVFDLE1BQUgsWUFBZ0JGLE9BQU9HLEVBQTVCLEVBQWdDQyxJQUFoQyxDQUFxQyxVQUFDQyxDQUFEO0FBQUEsZUFBT0MsS0FBS0MsS0FBTCxDQUFXRixFQUFFRyxNQUFiLENBQVA7QUFBQSxPQUFyQyxDQUFQO0FBQ0Q7QUFITSxHQUYyQjs7QUFRcENDLFFBUm9DLG9CQVEzQjtBQUNQLFFBQUlDLE1BQU0sS0FBS0MsS0FBTCxDQUFXQyxJQUFYLENBQWdCQyxPQUExQjtBQUNBLFFBQUlWLEtBQUssS0FBS1EsS0FBTCxDQUFXUixFQUFYLElBQWlCTyxJQUFJUCxFQUFKLENBQU9XLE9BQVAsQ0FBZSxpQ0FBZixFQUFrRCxFQUFsRCxDQUExQjtBQUNBLFFBQUlDLFFBQVEsb0JBQUMsT0FBRCxDQUFTLEtBQVQsSUFBZSxLQUFLTCxHQUFwQixFQUF5QixNQUFNLEtBQUtNLE9BQUwsQ0FBYUMsU0FBNUMsRUFBdUQsWUFBWSxLQUFLTixLQUFMLENBQVdPLFVBQTlFLEdBQVo7O0FBRUEsUUFBSUMsZ0JBQWdCMUIsWUFBWWlCLEdBQVosRUFBaUIsS0FBS0MsS0FBTCxDQUFXTyxVQUE1QixFQUF3QyxNQUF4QyxDQUFwQjtBQUNBLFFBQUlFLFdBQVcsS0FBS1QsS0FBTCxDQUFXUyxRQUFYLElBQXVCQyxPQUFPQyxJQUFQLENBQVlaLEdBQVosRUFBaUJhLE1BQWpCLENBQXdCO0FBQUEsYUFBT0MsSUFBSUMsS0FBSixDQUFVLFVBQVYsS0FBeUIsQ0FBQ0QsSUFBSUMsS0FBSixDQUFVLHFCQUFWLENBQWpDO0FBQUEsS0FBeEIsRUFBMkZDLE1BQTNGLEdBQW9HLENBQTFJO0FBQ0EsUUFBSUMsY0FBYyxLQUFLaEIsS0FBTCxDQUFXZ0IsV0FBN0I7O0FBRUEsV0FDRTtBQUFDLGFBQUQsQ0FBUyxNQUFUO0FBQUEsUUFBZ0IsS0FBS2pCLEdBQXJCLEVBQTBCLFdBQVUsZ0JBQXBDLEVBQXFELGFBQWFpQixXQUFsRTtBQUNFO0FBQUE7QUFBQSxVQUFLLFdBQVUsaUJBQWY7QUFDR1osYUFESDtBQUVFLDRCQUFDLE9BQUQsQ0FBUyxPQUFULElBQWlCLEtBQUtMLEdBQXRCLEVBQTJCLFNBQVEsSUFBbkMsRUFBd0MsTUFBTSxLQUE5QyxFQUFxRCxZQUFZLEtBQUtDLEtBQUwsQ0FBV08sVUFBNUUsR0FGRjtBQUdFO0FBQUE7QUFBQTtBQUFNUixjQUFJa0IsSUFBSixLQUFhLGFBQWIsR0FBNkJsQixJQUFJa0IsSUFBakMsR0FBd0M7QUFBQTtBQUFBO0FBQVE7QUFBQyxzQkFBRDtBQUFBO0FBQVdUO0FBQVg7QUFBUjtBQUE5QyxTQUhGO0FBSUdDLG9CQUFZO0FBQUMsY0FBRDtBQUFBLFlBQU0sSUFBRyxTQUFULEVBQW1CLFFBQVEsRUFBQ2pCLElBQUlPLElBQUlQLEVBQVQsRUFBYTBCLE1BQU0sU0FBbkIsRUFBM0I7QUFBMEQsdUNBQUssS0FBSSxrQkFBVCxFQUE0QixPQUFPLEVBQUNDLE9BQU8sT0FBUixFQUFpQkMsV0FBVyxPQUE1QixFQUFuQztBQUExRDtBQUpmO0FBREYsS0FERjtBQVVEO0FBM0JtQyxDQUFsQixDQUFwQjtBQTZCQXJDLGNBQWNzQyxZQUFkLEdBQTZCO0FBQzNCQyxVQUFROUMsTUFBTStDLFNBQU4sQ0FBZ0JDLElBREc7QUFFM0JsQixhQUFXOUIsTUFBTStDLFNBQU4sQ0FBZ0JFO0FBRkEsQ0FBN0I7O0FBS0FDLE9BQU9DLE9BQVAsR0FBaUI1QyxhQUFqQiIsImZpbGUiOiJhcnR3b3JrLXJlc3VsdC5qcyIsInNvdXJjZVJvb3QiOiIvdmFyL3d3dy9hcnQvc3JjIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIgeyBMaW5rIH0gPSBSb3V0ZXJcblxudmFyIEFydHdvcmsgPSByZXF1aXJlKCcuL19hcnR3b3JrJylcbnZhciBNYXJrZG93biA9IHJlcXVpcmUoJy4vbWFya2Rvd24nKVxudmFyIGhpZ2hsaWdodGVyID0gcmVxdWlyZSgnLi9oaWdobGlnaHRlcicpXG5cbnZhciBBcnR3b3JrUmVzdWx0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBtaXhpbnM6IFtSb3V0ZXIuU3RhdGVdLFxuICBzdGF0aWNzOiB7XG4gICAgZmV0Y2hEYXRhOiAocGFyYW1zKSA9PiB7XG4gICAgICByZXR1cm4gcmVzdChgJHtTRUFSQ0h9L2lkL2ArcGFyYW1zLmlkKS50aGVuKChyKSA9PiBKU09OLnBhcnNlKHIuZW50aXR5KSlcbiAgICB9XG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciBhcnQgPSB0aGlzLnByb3BzLmRhdGEuYXJ0d29ya1xuICAgIHZhciBpZCA9IHRoaXMucHJvcHMuaWQgfHwgYXJ0LmlkLnJlcGxhY2UoJ2h0dHA6Ly9hcGkuYXJ0c21pYS5vcmcvb2JqZWN0cy8nLCAnJylcbiAgICB2YXIgdGl0bGUgPSA8QXJ0d29yay5UaXRsZSBhcnQ9e2FydH0gbGluaz17dGhpcy5jb250ZXh0LnVuaXZlcnNhbH0gaGlnaGxpZ2h0cz17dGhpcy5wcm9wcy5oaWdobGlnaHRzfSAvPlxuXG4gICAgdmFyIHJvb21IaWdobGlnaHQgPSBoaWdobGlnaHRlcihhcnQsIHRoaXMucHJvcHMuaGlnaGxpZ2h0cywgJ3Jvb20nKVxuICAgIHZhciBzaG93TW9yZSA9IHRoaXMucHJvcHMuc2hvd01vcmUgJiYgT2JqZWN0LmtleXMoYXJ0KS5maWx0ZXIoa2V5ID0+IGtleS5tYXRjaCgvcmVsYXRlZDovKSAmJiAha2V5Lm1hdGNoKC9yZWxhdGVkOmV4aGliaXRpb25zLykpLmxlbmd0aCA+IDBcbiAgICB2YXIgY3VzdG9tSW1hZ2UgPSB0aGlzLnByb3BzLmN1c3RvbUltYWdlXG5cbiAgICByZXR1cm4gKFxuICAgICAgPEFydHdvcmsuRmlndXJlIGFydD17YXJ0fSBjbGFzc05hbWU9J2FydHdvcmstcmVzdWx0JyBjdXN0b21JbWFnZT17Y3VzdG9tSW1hZ2V9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFydHdvcmstc3VtbWFyeVwiPlxuICAgICAgICAgIHt0aXRsZX1cbiAgICAgICAgICA8QXJ0d29yay5DcmVhdG9yIGFydD17YXJ0fSB3cmFwcGVyPVwiaDJcIiBwZWVrPXtmYWxzZX0gaGlnaGxpZ2h0cz17dGhpcy5wcm9wcy5oaWdobGlnaHRzfSAvPlxuICAgICAgICAgIDxkaXY+e2FydC5yb29tID09PSAnTm90IG9uIFZpZXcnID8gYXJ0LnJvb20gOiA8c3Ryb25nPjxNYXJrZG93bj57cm9vbUhpZ2hsaWdodH08L01hcmtkb3duPjwvc3Ryb25nPn08L2Rpdj5cbiAgICAgICAgICB7c2hvd01vcmUgJiYgPExpbmsgdG89XCJhcnR3b3JrXCIgcGFyYW1zPXt7aWQ6IGFydC5pZCwgaGFzaDogJ2V4cGxvcmUnfX0+PGltZyBzcmM9XCIvaW1hZ2VzL21vcmUuc3ZnXCIgc3R5bGU9e3t3aWR0aDogJzEuM2VtJywgbWFyZ2luVG9wOiAnMC4zZW0nfX0vPjwvTGluaz59XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9BcnR3b3JrLkZpZ3VyZT5cbiAgICApXG4gIH1cbn0pXG5BcnR3b3JrUmVzdWx0LmNvbnRleHRUeXBlcyA9IHtcbiAgcm91dGVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgdW5pdmVyc2FsOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBcnR3b3JrUmVzdWx0XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "artwork-result.js"
      ],
      "names": [
        "React",
        "require",
        "Router",
        "Link",
        "Artwork",
        "Markdown",
        "highlighter",
        "ArtworkResult",
        "createClass",
        "mixins",
        "State",
        "statics",
        "fetchData",
        "params",
        "rest",
        "SEARCH",
        "id",
        "then",
        "r",
        "JSON",
        "parse",
        "entity",
        "render",
        "art",
        "props",
        "data",
        "artwork",
        "replace",
        "title",
        "context",
        "universal",
        "highlights",
        "roomHighlight",
        "showMore",
        "Object",
        "keys",
        "filter",
        "key",
        "match",
        "length",
        "customImage",
        "room",
        "hash",
        "width",
        "marginTop",
        "contextTypes",
        "router",
        "PropTypes",
        "func",
        "bool",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;AACA,IAAIC,SAASD,QAAQ,cAAR,CAAb;IACME,I,GAASD,M,CAATC,I;;;AAEN,IAAIC,UAAUH,QAAQ,YAAR,CAAd;AACA,IAAII,WAAWJ,QAAQ,YAAR,CAAf;AACA,IAAIK,cAAcL,QAAQ,eAAR,CAAlB;;AAEA,IAAIM,gBAAgBP,MAAMQ,WAAN,CAAkB;AAAA;;AACpCC,UAAQ,CAACP,OAAOQ,KAAR,CAD4B;AAEpCC,WAAS;AACPC,eAAW,mBAACC,MAAD,EAAY;AACrB,aAAOC,KAAQC,MAAH,YAAgBF,OAAOG,EAA5B,EAAgCC,IAAhC,CAAqC,UAACC,CAAD;AAAA,eAAOC,KAAKC,KAAL,CAAWF,EAAEG,MAAb,CAAP;AAAA,OAArC,CAAP;AACD;AAHM,GAF2B;;AAQpCC,QARoC,oBAQ3B;AACP,QAAIC,MAAM,KAAKC,KAAL,CAAWC,IAAX,CAAgBC,OAA1B;AACA,QAAIV,KAAK,KAAKQ,KAAL,CAAWR,EAAX,IAAiBO,IAAIP,EAAJ,CAAOW,OAAP,CAAe,iCAAf,EAAkD,EAAlD,CAA1B;AACA,QAAIC,QAAQ,oBAAC,OAAD,CAAS,KAAT,IAAe,KAAKL,GAApB,EAAyB,MAAM,KAAKM,OAAL,CAAaC,SAA5C,EAAuD,YAAY,KAAKN,KAAL,CAAWO,UAA9E,GAAZ;;AAEA,QAAIC,gBAAgB1B,YAAYiB,GAAZ,EAAiB,KAAKC,KAAL,CAAWO,UAA5B,EAAwC,MAAxC,CAApB;AACA,QAAIE,WAAW,KAAKT,KAAL,CAAWS,QAAX,IAAuBC,OAAOC,IAAP,CAAYZ,GAAZ,EAAiBa,MAAjB,CAAwB;AAAA,aAAOC,IAAIC,KAAJ,CAAU,UAAV,KAAyB,CAACD,IAAIC,KAAJ,CAAU,qBAAV,CAAjC;AAAA,KAAxB,EAA2FC,MAA3F,GAAoG,CAA1I;AACA,QAAIC,cAAc,KAAKhB,KAAL,CAAWgB,WAA7B;;AAEA,WACE;AAAC,aAAD,CAAS,MAAT;AAAA,QAAgB,KAAKjB,GAArB,EAA0B,WAAU,gBAApC,EAAqD,aAAaiB,WAAlE;AACE;AAAA;AAAA,UAAK,WAAU,iBAAf;AACGZ,aADH;AAEE,4BAAC,OAAD,CAAS,OAAT,IAAiB,KAAKL,GAAtB,EAA2B,SAAQ,IAAnC,EAAwC,MAAM,KAA9C,EAAqD,YAAY,KAAKC,KAAL,CAAWO,UAA5E,GAFF;AAGE;AAAA;AAAA;AAAMR,cAAIkB,IAAJ,KAAa,aAAb,GAA6BlB,IAAIkB,IAAjC,GAAwC;AAAA;AAAA;AAAQ;AAAC,sBAAD;AAAA;AAAWT;AAAX;AAAR;AAA9C,SAHF;AAIGC,oBAAY;AAAC,cAAD;AAAA,YAAM,IAAG,SAAT,EAAmB,QAAQ,EAACjB,IAAIO,IAAIP,EAAT,EAAa0B,MAAM,SAAnB,EAA3B;AAA0D,uCAAK,KAAI,kBAAT,EAA4B,OAAO,EAACC,OAAO,OAAR,EAAiBC,WAAW,OAA5B,EAAnC;AAA1D;AAJf;AADF,KADF;AAUD;AA3BmC,CAAlB,CAApB;AA6BArC,cAAcsC,YAAd,GAA6B;AAC3BC,UAAQ9C,MAAM+C,SAAN,CAAgBC,IADG;AAE3BlB,aAAW9B,MAAM+C,SAAN,CAAgBE;AAFA,CAA7B;;AAKAC,OAAOC,OAAP,GAAiB5C,aAAjB",
      "file": "artwork-result.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar { Link } = Router\n\nvar Artwork = require('./_artwork')\nvar Markdown = require('./markdown')\nvar highlighter = require('./highlighter')\n\nvar ArtworkResult = React.createClass({\n  mixins: [Router.State],\n  statics: {\n    fetchData: (params) => {\n      return rest(`${SEARCH}/id/`+params.id).then((r) => JSON.parse(r.entity))\n    }\n  },\n\n  render() {\n    var art = this.props.data.artwork\n    var id = this.props.id || art.id.replace('http://api.artsmia.org/objects/', '')\n    var title = <Artwork.Title art={art} link={this.context.universal} highlights={this.props.highlights} />\n\n    var roomHighlight = highlighter(art, this.props.highlights, 'room')\n    var showMore = this.props.showMore && Object.keys(art).filter(key => key.match(/related:/) && !key.match(/related:exhibitions/)).length > 0\n    var customImage = this.props.customImage\n\n    return (\n      <Artwork.Figure art={art} className='artwork-result' customImage={customImage}>\n        <div className=\"artwork-summary\">\n          {title}\n          <Artwork.Creator art={art} wrapper=\"h2\" peek={false} highlights={this.props.highlights} />\n          <div>{art.room === 'Not on View' ? art.room : <strong><Markdown>{roomHighlight}</Markdown></strong>}</div>\n          {showMore && <Link to=\"artwork\" params={{id: art.id, hash: 'explore'}}><img src=\"/images/more.svg\" style={{width: '1.3em', marginTop: '0.3em'}}/></Link>}\n        </div>\n      </Artwork.Figure>\n    )\n  }\n})\nArtworkResult.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nmodule.exports = ArtworkResult\n"
      ]
    },
    "mtime": 1612393616748
  },
  "{\"filename\":\"/var/www/art/src/_artwork.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "slicedToArray",
        "objectWithoutProperties",
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/_artwork.js",
      "filenameRelative": "/var/www/art/src/_artwork.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "_artwork.js",
      "sourceFileName": "_artwork.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "_artwork"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar _require = require('react-router'),\n    Link = _require.Link;\n\nvar toSlug = require('speakingurl');\nvar classnames = require('classnames');\n\nvar Creator = require('./artwork/creator.js');\nvar ArtworkImage = require('./artwork-image');\nvar Peek = require('./peek');\nvar imageCDN = require('./image-cdn');\nvar highlighter = require('./highlighter');\nvar Markdown = require('./markdown');\nvar rightsDescriptions = require('./rights-types.js');\n\n//\n// TODO: move these into separate components at `src/artwork/`?\n// \n\n// Regex to split the title out into two parts:\n// 1. the 'main' part - anything leading up to one of the special characters below,\n// and 2. the rest.\n// This allows the site to show the title with the main part bold and the rest normal,\n// and also cuts down on the length of the artwork slug.\nvar titleSegmentDelimiter = /([^\\(\\)\\[\\],:;]+|with)/;\n\nvar ConditionalLinkWrapper = React.createClass({\n  displayName: 'ConditionalLinkWrapper',\n  render: function render() {\n    var _props = this.props,\n        art = _props.art,\n        link = _props.link;\n\n\n    return link ? React.createElement(\n      Link,\n      { to: 'artwork', params: { id: art.id } },\n      this.props.children\n    ) : this.props.children;\n  }\n});\n\nvar Title = React.createClass({\n  displayName: 'Title',\n  render: function render() {\n    var _props2 = this.props,\n        art = _props2.art,\n        link = _props2.link,\n        highlights = _props2.highlights;\n\n    var _title = highlighter(art, highlights, \"title\");\n    var segmentedTitle = _title.replace(titleSegmentDelimiter, function (segment) {\n      return '<strong>' + segment + '</strong>';\n    });\n\n    var title = React.createElement(\n      Markdown,\n      { tag: 'span' },\n      segmentedTitle\n    );\n    var title = React.createElement(\n      'h1',\n      { itemProp: 'name' },\n      title,\n      ', ',\n      React.createElement(\n        'span',\n        { className: 'dated' },\n        art.dated\n      )\n    );\n\n    return React.createElement(\n      ConditionalLinkWrapper,\n      this.props,\n      title\n    );\n  }\n});\n\nvar Tombstone = React.createClass({\n  displayName: 'Tombstone',\n  getInitialState: function getInitialState() {\n    return {\n      showLabels: false,\n      highlightAccessionNumber: false\n    };\n  },\n  render: function render() {\n    var _props3 = this.props,\n        art = _props3.art,\n        highlightAccessionNumber = _props3.highlightAccessionNumber,\n        showPeeks = _props3.showPeeks;\n\n    var highlight = highlighter.bind(null, art, this.props.highlights);\n\n    var accessionNumber = this.props.highlighter ? this.props.highlighter(art.accession_number, highlightAccessionNumber) : highlightAccessionNumber ? highlight('accession_number') : art.accession_number;\n\n    return React.createElement(\n      'div',\n      { onDoubleClick: this.handleDoubleClick },\n      React.createElement(\n        'p',\n        { className: 'tombstone' },\n        React.createElement(\n          Peek,\n          { facet: 'medium', tag: 'span', highlightedValue: highlight('medium'), showPeeks: this.props.showPeeks },\n          art.medium\n        )\n      ),\n      this.state.showLabels && React.createElement(CopyableLabel, { art: art, onClose: this.handleDoubleClick }),\n      React.createElement(\n        'p',\n        { className: 'gifted' },\n        React.createElement(\n          Peek,\n          { facet: 'creditline', tag: 'span', highlightedValue: highlight('creditline'), showPeeks: this.props.showPeeks },\n          art.creditline\n        ),\n        '\\xA0 ',\n        React.createElement(\n          Markdown,\n          { tag: 'span' },\n          accessionNumber\n        )\n      )\n    );\n  },\n  getDefaultProps: function getDefaultProps() {\n    return {\n      showPeeks: true\n    };\n  },\n  handleDoubleClick: function handleDoubleClick() {\n    // show a copy-able tombstone/label in different formats\n    this.setState({ showLabels: !this.state.showLabels });\n  }\n});\n\nvar ClickToSelect = require('@mapbox/react-click-to-select');\n\nvar CopyableLabel = React.createClass({\n  displayName: 'CopyableLabel',\n  render: function render() {\n    var art = this.props.art;\n\n\n    var style = {\n      border: '1px solid red',\n      position: 'absolute',\n      background: 'white',\n      padding: '0.25em'\n    };\n\n    var join = this.join,\n        formatDates = this.formatDates,\n        titlecase = this.titlecase;\n\n\n    var hasValidArtist = art.artist !== \"\" && !art.artist.match(/Unknown/i);\n\n    var _Creator$getFacetAndV = Creator.getFacetAndValue(art),\n        _Creator$getFacetAndV2 = _slicedToArray(_Creator$getFacetAndV, 2),\n        facet = _Creator$getFacetAndV2[0],\n        creator = _Creator$getFacetAndV2[1];\n\n    if (facet == 'country' || facet == undefined) creator = undefined;\n\n    var title = this.state.useQuotes ? '\\u201C' + art.title + '\\u201D' : React.createElement(\n      'i',\n      null,\n      art.title\n    );\n    if (!hasValidArtist) title = art.title;\n\n    // Artist name [if known], Country of origin, birth/death dates,\n    // or\n    // Self-designation of people/tribe, location (country +/- continent)\n    // Title of object [italicized if simply nondescriptive, like Table], creation date, media,\n    // Source of purchase funds, accession number [+ © or ARS info]\n    return React.createElement(\n      'div',\n      { style: style },\n      React.createElement(\n        ClickToSelect,\n        { ref: 'click' },\n        React.createElement(\n          'p',\n          null,\n          join(hasValidArtist && [creator, art.country, formatDates(art.life_date)] || [creator, art.country, art.continent])\n        ),\n        React.createElement(\n          'p',\n          null,\n          title,\n          ',\\xA0',\n          join([formatDates(art.dated), titlecase(art.medium)])\n        ),\n        React.createElement(\n          'p',\n          null,\n          join([art.creditline, art.accession_number, decodeURIComponent(art.image_copyright)])\n        )\n      ),\n      React.createElement(\n        'div',\n        { style: { opacity: '0.5' } },\n        React.createElement(\n          'label',\n          { 'for': 'useQuotes', onDoubleClick: function onDoubleClick(e) {\n              e.stopPropagation();e.preventDefault();\n            } },\n          React.createElement('input', { type: 'checkbox',\n            onChange: this.toggleQuotes,\n            checked: this.state.useQuotes\n          }),\n          'use quotes'\n        ),\n        React.createElement(\n          'button',\n          { onClick: this.props.onClose, style: { color: '#111', float: 'right' } },\n          '(close)'\n        )\n      )\n    );\n  },\n  getInitialState: function getInitialState() {\n    return {\n      useQuotes: false\n    };\n  },\n  toggleQuotes: function toggleQuotes(event) {\n    event.stopPropagation();\n    var useQuotes = this.state ? !this.state.useQuotes : true;\n    this.setState({ useQuotes: useQuotes });\n  },\n  join: function join(fields) {\n    return fields.filter(function (f) {\n      return !!f;\n    }).join(', ');\n  },\n  formatDates: function formatDates(dateString) {\n    var dates = dateString.replace(/^[A-Za-z \\.,\\(\\)]+/, '').split(/\\s*-\\s*/);\n    if (dates.length > 1) {\n      var _dates = _slicedToArray(dates, 2),\n          start = _dates[0],\n          end = _dates[1];\n\n      if (start.substr(0, 2) === end.substr(0, 2)) return start + \"–\" + end.substr(2);\n      return start + \"–\" + end;\n    }\n    return dates.join(\"–\");\n  },\n  titlecase: function titlecase(string) {\n    return string[0].toUpperCase() + string.substr(1).toLowerCase();\n  },\n  componentDidMount: function componentDidMount() {\n    // auto-select the text instead of requiring a click\n    var domNode = this.refs.click && ReactDOM.findDOMNode(this.refs.click);\n    if (domNode) domNode.click();\n  }\n});\n\n// check if an image exists on our cloudfront distribution,\n// and if not, fall back to loading it from the API\n// TODO - this actually loads the full image, which is unneccessary and slows down the page.\n// Somehow just do a HEAD request?\nvar testCloudfrontImage = function testCloudfrontImage(art, callback) {\n  var rights = rightsDescriptions.getRights(art);\n  var downloadFullRes = art.rights_type === 'Public Domain';\n  var cdnUrl = imageCDN(art.id, !downloadFullRes ? 800 : 'full');\n\n  if (typeof document == 'undefined') {\n    // we're currently server-rendered\n    return cdnUrl;\n  }\n\n  var i = document.createElement('img');\n  i.onload = function () {\n    return callback(cdnUrl);\n  };\n  i.onerror = function () {\n    return callback('https://api.artsmia.org/images/' + art.id + '/' + (art.restricted ? '400/medium.jpg' : '800/large.jpg'));\n  };\n  i.src = cdnUrl;\n};\n\nvar LinkBar = React.createClass({\n  displayName: 'LinkBar',\n  getDefaultProps: function getDefaultProps() {\n    return {\n      actions: {\n        like: {\n          enabled: false,\n          icon: 'favorite_border'\n        },\n        download: {\n          enabled: true,\n          icon: 'file_download'\n        },\n        print: {\n          enabled: true\n        },\n        share: {\n          enabled: true,\n          icon: 'share'\n        }\n      }\n    };\n  },\n  getInitialState: function getInitialState() {\n    var showDownload = this.props.art.rights_type !== 'Permission Denied' || this.props.art.image === 'invalid';\n    return {\n      showDownload: showDownload,\n      showShare: false\n    };\n  },\n  render: function render() {\n    var _this = this;\n\n    var art = this.props.art;\n\n\n    var actions = Object.keys(this.props.actions).map(function (key) {\n      _this.props.actions[key].key = key;\n      return _this.props.actions[key];\n    }, []).filter(function (action) {\n      return action.enabled;\n    })\n    // don't show 'download' for art with an invalid image\n    .filter(function (action) {\n      return !(action.key == 'download' && (art.image == 'invalid' || art.rights_type === 'Permission Denied'));\n    });\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'div',\n        { className: 'link-bar' },\n        actions.map(function (action) {\n          var key = action.key;\n          var handler = eval('_this.handle' + (key[0].toUpperCase() + key.substr(1))); // TODO alert alert warning warning (shouldn't have to reference _this, sketchy code)\n\n          var options = {\n            key: key,\n            className: 'material-icons',\n            onClick: handler\n          };\n          if (key == 'download') {\n            options.download = '';\n            if (_this.state.resolvedImageDownloadUrl) {\n              options.href = _this.state.resolvedImageDownloadUrl;\n            } else {\n              testCloudfrontImage(art, function (url) {\n                _this.setState({ resolvedImageDownloadUrl: url });\n              }, _this.props.downloadFullRes);\n            }\n          }\n          var content = action.icon || action.key;\n\n          return key == 'download' ? React.createElement(\n            'a',\n            options,\n            content\n          ) : React.createElement(\n            'i',\n            options,\n            content\n          );\n        })\n      ),\n      this.state.showShare && this.showShare(),\n      React.createElement('div', { className: 'clear' }),\n      React.createElement(\n        'div',\n        { className: 'back-button' },\n        this.props.link && React.createElement(\n          Link,\n          { to: 'artwork', params: { id: art.id } },\n          'View Details ',\n          React.createElement(\n            'i',\n            { className: 'material-icons' },\n            'arrow_forward'\n          )\n        )\n      )\n    );\n  },\n  getUrl: function getUrl() {\n    return 'https://collections.artsmia.org' + this.context.router.getCurrentPath();\n  },\n  handleShare: function handleShare() {\n    var _this2 = this;\n\n    var art = this.props.art;\n\n\n    if (!this.isMounted()) return;\n\n    // Attempt to use the native share API, if that fails open the\n    // custom built email/facebook/twitter URL-based sharer\n    if (navigator.share) {\n      var shareInfo = {\n        title: art.title,\n        text: art.text || art.description,\n        url: this.getUrl()\n      };\n\n      return navigator.share(shareInfo).then(function () {\n        // TODO add success/complete animation maybe?\n        console.info('Successful share');\n      }).catch(function (error) {\n        console.error('Error sharing', error);\n        _this2.setState({ showShare: !_this2.state.showShare });\n      });\n    }\n\n    this.setState({ showShare: !this.state.showShare });\n  },\n  showShare: function showShare() {\n    var art = this.props.art;\n\n\n    var facebookURL = 'https://www.facebook.com/sharer/sharer.php?u=' + encodeURI(this.getUrl());\n    var twitterURL = 'https://twitter.com/intent/tweet?url=' + encodeURI(this.getUrl());\n    var emailURL = 'mailto:?subject=' + art.title + '&body=' + encodeURI(this.getUrl());\n\n    return React.createElement(\n      'div',\n      { className: 'share' },\n      React.createElement(\n        'div',\n        { className: 'social' },\n        React.createElement(\n          'a',\n          { title: 'Share via email', href: emailURL, target: '_blank' },\n          React.createElement(\n            'span',\n            { className: 'material-icons', style: { color: '#232323' } },\n            'email'\n          )\n        )\n      ),\n      React.createElement(\n        'div',\n        { className: 'social' },\n        React.createElement(\n          'a',\n          { title: 'Share on Facebook', href: facebookURL, target: '_blank' },\n          React.createElement('img', { src: 'https://cdn.rawgit.com/danleech/simple-icons/develop/icons/facebook.svg' })\n        )\n      ),\n      React.createElement(\n        'div',\n        { className: 'social' },\n        React.createElement(\n          'a',\n          { title: 'Share on Twitter', href: twitterURL, target: '_blank' },\n          React.createElement('img', { src: 'https://cdn.rawgit.com/danleech/simple-icons/develop/icons/twitter.svg' })\n        )\n      )\n    );\n  },\n  handlePrint: function handlePrint() {\n    window.print();\n  },\n  handleDownload: function handleDownload() {\n    var art = this.props.art;\n    var id = art.id;\n\n    if (process.env.NODE_ENV == 'production') {\n      require('react-ga').event({\n        category: 'Artwork',\n        action: 'Image Download',\n        label: art.title,\n        value: parseInt(id)\n      });\n    } else {\n      console.info('ga.event', 'downloaded', id);\n    }\n  },\n  handleLike: function handleLike() {\n    console.info('TODO');\n  }\n});\nLinkBar.contextTypes = {\n  router: React.PropTypes.func\n};\n\nvar Figure = React.createClass({\n  displayName: 'Figure',\n  render: function render() {\n    var _props4 = this.props,\n        art = _props4.art,\n        link = _props4.link,\n        className = _props4.className,\n        customImage = _props4.customImage,\n        ignoreImageStyle = _props4.ignoreImageStyle,\n        figureProps = _objectWithoutProperties(_props4, ['art', 'link', 'className', 'customImage', 'ignoreImageStyle']);\n\n    var id = art.id;\n    var classes = classnames(className, { validImage: art.image === 'valid' && art.image_width > 0 });\n\n    return React.createElement(\n      'figure',\n      _extends({}, figureProps, { className: classes,\n        itemScope: true, itemType: 'https://schema.org/VisualArtwork' }),\n      React.createElement('link', { itemProp: 'url', href: '/art/' + id }),\n      React.createElement(\n        ConditionalLinkWrapper,\n        { art: art, link: link },\n        React.createElement(ArtworkImage, { art: art, id: id, lazyLoad: false, className: 'artwork-image', customImage: customImage, ignoreStyle: ignoreImageStyle })\n      ),\n      React.createElement(\n        'figcaption',\n        null,\n        this.props.children\n      )\n    );\n  }\n});\nFigure.contextTypes = {\n  universal: React.PropTypes.bool\n};\n\nvar slug = function slug(art) {\n  var creator = Creator.getFacetAndValue(art)[1];\n  var string = [art.title.replace(/<[^ ]+?>/g, '').match(titleSegmentDelimiter)[1], creator && creator.split(';')[0]].filter(function (e) {\n    return e;\n  }).join(' ').replace(/’|'/g, '').replace(/^(.+)\\(.*\\)/, '$1').replace('ō', 'o');\n  return toSlug(string);\n};\n\nmodule.exports = {\n  Title: Title,\n  Tombstone: Tombstone,\n  LinkBar: LinkBar,\n  Figure: Figure,\n  Creator: Creator,\n  slug: slug\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9hcnR3b3JrLmpzIl0sIm5hbWVzIjpbIlJlYWN0IiwicmVxdWlyZSIsIlJlYWN0RE9NIiwiTGluayIsInRvU2x1ZyIsImNsYXNzbmFtZXMiLCJDcmVhdG9yIiwiQXJ0d29ya0ltYWdlIiwiUGVlayIsImltYWdlQ0ROIiwiaGlnaGxpZ2h0ZXIiLCJNYXJrZG93biIsInJpZ2h0c0Rlc2NyaXB0aW9ucyIsInRpdGxlU2VnbWVudERlbGltaXRlciIsIkNvbmRpdGlvbmFsTGlua1dyYXBwZXIiLCJjcmVhdGVDbGFzcyIsInJlbmRlciIsInByb3BzIiwiYXJ0IiwibGluayIsImlkIiwiY2hpbGRyZW4iLCJUaXRsZSIsImhpZ2hsaWdodHMiLCJfdGl0bGUiLCJzZWdtZW50ZWRUaXRsZSIsInJlcGxhY2UiLCJzZWdtZW50IiwidGl0bGUiLCJkYXRlZCIsIlRvbWJzdG9uZSIsImdldEluaXRpYWxTdGF0ZSIsInNob3dMYWJlbHMiLCJoaWdobGlnaHRBY2Nlc3Npb25OdW1iZXIiLCJzaG93UGVla3MiLCJoaWdobGlnaHQiLCJiaW5kIiwiYWNjZXNzaW9uTnVtYmVyIiwiYWNjZXNzaW9uX251bWJlciIsImhhbmRsZURvdWJsZUNsaWNrIiwibWVkaXVtIiwic3RhdGUiLCJjcmVkaXRsaW5lIiwiZ2V0RGVmYXVsdFByb3BzIiwic2V0U3RhdGUiLCJDbGlja1RvU2VsZWN0IiwiQ29weWFibGVMYWJlbCIsInN0eWxlIiwiYm9yZGVyIiwicG9zaXRpb24iLCJiYWNrZ3JvdW5kIiwicGFkZGluZyIsImpvaW4iLCJmb3JtYXREYXRlcyIsInRpdGxlY2FzZSIsImhhc1ZhbGlkQXJ0aXN0IiwiYXJ0aXN0IiwibWF0Y2giLCJnZXRGYWNldEFuZFZhbHVlIiwiZmFjZXQiLCJjcmVhdG9yIiwidW5kZWZpbmVkIiwidXNlUXVvdGVzIiwiY291bnRyeSIsImxpZmVfZGF0ZSIsImNvbnRpbmVudCIsImRlY29kZVVSSUNvbXBvbmVudCIsImltYWdlX2NvcHlyaWdodCIsIm9wYWNpdHkiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJ0b2dnbGVRdW90ZXMiLCJvbkNsb3NlIiwiY29sb3IiLCJmbG9hdCIsImV2ZW50IiwiZmllbGRzIiwiZmlsdGVyIiwiZiIsImRhdGVTdHJpbmciLCJkYXRlcyIsInNwbGl0IiwibGVuZ3RoIiwic3RhcnQiLCJlbmQiLCJzdWJzdHIiLCJzdHJpbmciLCJ0b1VwcGVyQ2FzZSIsInRvTG93ZXJDYXNlIiwiY29tcG9uZW50RGlkTW91bnQiLCJkb21Ob2RlIiwicmVmcyIsImNsaWNrIiwiZmluZERPTU5vZGUiLCJ0ZXN0Q2xvdWRmcm9udEltYWdlIiwiY2FsbGJhY2siLCJyaWdodHMiLCJnZXRSaWdodHMiLCJkb3dubG9hZEZ1bGxSZXMiLCJyaWdodHNfdHlwZSIsImNkblVybCIsImRvY3VtZW50IiwiaSIsImNyZWF0ZUVsZW1lbnQiLCJvbmxvYWQiLCJvbmVycm9yIiwicmVzdHJpY3RlZCIsInNyYyIsIkxpbmtCYXIiLCJhY3Rpb25zIiwibGlrZSIsImVuYWJsZWQiLCJpY29uIiwiZG93bmxvYWQiLCJwcmludCIsInNoYXJlIiwic2hvd0Rvd25sb2FkIiwiaW1hZ2UiLCJzaG93U2hhcmUiLCJPYmplY3QiLCJrZXlzIiwibWFwIiwia2V5IiwiYWN0aW9uIiwiaGFuZGxlciIsImV2YWwiLCJvcHRpb25zIiwiY2xhc3NOYW1lIiwib25DbGljayIsInJlc29sdmVkSW1hZ2VEb3dubG9hZFVybCIsImhyZWYiLCJ1cmwiLCJjb250ZW50IiwiZ2V0VXJsIiwiY29udGV4dCIsInJvdXRlciIsImdldEN1cnJlbnRQYXRoIiwiaGFuZGxlU2hhcmUiLCJpc01vdW50ZWQiLCJuYXZpZ2F0b3IiLCJzaGFyZUluZm8iLCJ0ZXh0IiwiZGVzY3JpcHRpb24iLCJ0aGVuIiwiY29uc29sZSIsImluZm8iLCJjYXRjaCIsImVycm9yIiwiZmFjZWJvb2tVUkwiLCJlbmNvZGVVUkkiLCJ0d2l0dGVyVVJMIiwiZW1haWxVUkwiLCJoYW5kbGVQcmludCIsIndpbmRvdyIsImhhbmRsZURvd25sb2FkIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiY2F0ZWdvcnkiLCJsYWJlbCIsInZhbHVlIiwicGFyc2VJbnQiLCJoYW5kbGVMaWtlIiwiY29udGV4dFR5cGVzIiwiUHJvcFR5cGVzIiwiZnVuYyIsIkZpZ3VyZSIsImN1c3RvbUltYWdlIiwiaWdub3JlSW1hZ2VTdHlsZSIsImZpZ3VyZVByb3BzIiwiY2xhc3NlcyIsInZhbGlkSW1hZ2UiLCJpbWFnZV93aWR0aCIsInVuaXZlcnNhbCIsImJvb2wiLCJzbHVnIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxJQUFJQSxRQUFRQyxRQUFRLE9BQVIsQ0FBWjtBQUNBLElBQUlDLFdBQVdELFFBQVEsV0FBUixDQUFmOztlQUNhQSxRQUFRLGNBQVIsQztJQUFSRSxJLFlBQUFBLEk7O0FBQ0wsSUFBSUMsU0FBU0gsUUFBUSxhQUFSLENBQWI7QUFDQSxJQUFJSSxhQUFhSixRQUFRLFlBQVIsQ0FBakI7O0FBRUEsSUFBSUssVUFBVUwsUUFBUSxzQkFBUixDQUFkO0FBQ0EsSUFBSU0sZUFBZU4sUUFBUSxpQkFBUixDQUFuQjtBQUNBLElBQUlPLE9BQU9QLFFBQVEsUUFBUixDQUFYO0FBQ0EsSUFBSVEsV0FBV1IsUUFBUSxhQUFSLENBQWY7QUFDQSxJQUFJUyxjQUFjVCxRQUFRLGVBQVIsQ0FBbEI7QUFDQSxJQUFJVSxXQUFXVixRQUFRLFlBQVIsQ0FBZjtBQUNBLElBQUlXLHFCQUFxQlgsUUFBUSxtQkFBUixDQUF6Qjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUlZLHdCQUF3Qix3QkFBNUI7O0FBRUEsSUFBSUMseUJBQXlCZCxNQUFNZSxXQUFOLENBQWtCO0FBQUE7QUFDN0NDLFFBRDZDLG9CQUNwQztBQUFBLGlCQUNXLEtBQUtDLEtBRGhCO0FBQUEsUUFDRkMsR0FERSxVQUNGQSxHQURFO0FBQUEsUUFDR0MsSUFESCxVQUNHQSxJQURIOzs7QUFHUCxX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O0FBU0EsU0FBT3RCLE9BQU9tRixNQUFQLENBQVA7QUFDRCxDQVpEOztBQWNBMEYsT0FBT0MsT0FBUCxHQUFpQjtBQUNmNUosY0FEZTtBQUVmUSxzQkFGZTtBQUdmK0Usa0JBSGU7QUFJZjBELGdCQUplO0FBS2ZqSyxrQkFMZTtBQU1mMEs7QUFOZSxDQUFqQiIsImZpbGUiOiJfYXJ0d29yay5qcyIsInNvdXJjZVJvb3QiOiIvdmFyL3d3dy9hcnQvc3JjIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJlYWN0RE9NID0gcmVxdWlyZSgncmVhY3QtZG9tJylcbnZhciB7TGlua30gPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHRvU2x1ZyA9IHJlcXVpcmUoJ3NwZWFraW5ndXJsJylcbnZhciBjbGFzc25hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpXG5cbnZhciBDcmVhdG9yID0gcmVxdWlyZSgnLi9hcnR3b3JrL2NyZWF0b3IuanMnKVxudmFyIEFydHdvcmtJbWFnZSA9IHJlcXVpcmUoJy4vYXJ0d29yay1pbWFnZScpXG52YXIgUGVlayA9IHJlcXVpcmUoJy4vcGVlaycpXG52YXIgaW1hZ2VDRE4gPSByZXF1aXJlKCcuL2ltYWdlLWNkbicpXG52YXIgaGlnaGxpZ2h0ZXIgPSByZXF1aXJlKCcuL2hpZ2hsaWdodGVyJylcbnZhciBNYXJrZG93biA9IHJlcXVpcmUoJy4vbWFya2Rvd24nKVxudmFyIHJpZ2h0c0Rlc2NyaXB0aW9ucyA9IHJlcXVpcmUoJy4vcmlnaHRzLXR5cGVzLmpzJylcblxuLy9cbi8vIFRPRE86IG1vdmUgdGhlc2UgaW50byBzZXBhcmF0ZSBjb21wb25lbnRzIGF0IGBzcmMvYXJ0d29yay9gP1xuLy8gXG5cbi8vIFJlZ2V4IHRvIHNwbGl0IHRoZSB0aXRsZSBvdXQgaW50byB0d28gcGFydHM6XG4vLyAxLiB0aGUgJ21haW4nIHBhcnQgLSBhbnl0aGluZyBsZWFkaW5nIHVwIHRvIG9uZSBvZiB0aGUgc3BlY2lhbCBjaGFyYWN0ZXJzIGJlbG93LFxuLy8gYW5kIDIuIHRoZSByZXN0LlxuLy8gVGhpcyBhbGxvd3MgdGhlIHNpdGUgdG8gc2hvdyB0aGUgdGl0bGUgd2l0aCB0aGUgbWFpbiBwYXJ0IGJvbGQgYW5kIHRoZSByZXN0IG5vcm1hbCxcbi8vIGFuZCBhbHNvIGN1dHMgZG93biBvbiB0aGUgbGVuZ3RoIG9mIHRoZSBhcnR3b3JrIHNsdWcuXG52YXIgdGl0bGVTZWdtZW50RGVsaW1pdGVyID0gLyhbXlxcKFxcKVxcW1xcXSw6O10rfHdpdGgpL1xuXG52YXIgQ29uZGl0aW9uYWxMaW5rV3JhcHBlciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7YXJ0LCBsaW5rfSA9IHRoaXMucHJvcHNcblxuICAgIHJldHVybiBsaW5rID9cbiAgICAgIDxMaW5rIHRvPVwiYXJ0d29ya1wiIHBhcmFtcz17e2lkOiBhcnQuaWR9fT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L0xpbms+IDpcbiAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgfVxufSlcblxudmFyIFRpdGxlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnQsIGxpbmssIGhpZ2hsaWdodHN9ID0gdGhpcy5wcm9wc1xuICAgIHZhciBfdGl0bGUgPSBoaWdobGlnaHRlcihhcnQsIGhpZ2hsaWdodHMsIFwidGl0bGVcIilcbiAgICB2YXIgc2VnbWVudGVkVGl0bGUgPSBfdGl0bGVcbiAgICAgICAgLnJlcGxhY2UodGl0bGVTZWdtZW50RGVsaW1pdGVyLCAoc2VnbWVudCkgPT4gYDxzdHJvbmc+JHtzZWdtZW50fTwvc3Ryb25nPmApXG5cbiAgICB2YXIgdGl0bGUgPSA8TWFya2Rvd24gdGFnPVwic3BhblwiPntzZWdtZW50ZWRUaXRsZX08L01hcmtkb3duPlxuICAgIHZhciB0aXRsZSA9IDxoMSBpdGVtUHJvcD1cIm5hbWVcIj57dGl0bGV9LCA8c3BhbiBjbGFzc05hbWU9XCJkYXRlZFwiPnthcnQuZGF0ZWR9PC9zcGFuPjwvaDE+XG5cbiAgICByZXR1cm4gPENvbmRpdGlvbmFsTGlua1dyYXBwZXIgey4uLnRoaXMucHJvcHN9PlxuICAgICAge3RpdGxlfVxuICAgIDwvQ29uZGl0aW9uYWxMaW5rV3JhcHBlcj5cbiAgfSxcbn0pXG5cbnZhciBUb21ic3RvbmUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2hvd0xhYmVsczogZmFsc2UsXG4gICAgICBoaWdobGlnaHRBY2Nlc3Npb25OdW1iZXI6IGZhbHNlLFxuICAgIH1cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnQsIGhpZ2hsaWdodEFjY2Vzc2lvbk51bWJlciwgc2hvd1BlZWtzfSA9IHRoaXMucHJvcHNcbiAgICB2YXIgaGlnaGxpZ2h0ID0gaGlnaGxpZ2h0ZXIuYmluZChudWxsLCBhcnQsIHRoaXMucHJvcHMuaGlnaGxpZ2h0cylcblxuICAgIHZhciBhY2Nlc3Npb25OdW1iZXIgPSB0aGlzLnByb3BzLmhpZ2hsaWdodGVyID9cbiAgICAgIHRoaXMucHJvcHMuaGlnaGxpZ2h0ZXIoYXJ0LmFjY2Vzc2lvbl9udW1iZXIsIGhpZ2hsaWdodEFjY2Vzc2lvbk51bWJlcikgOlxuICAgICAgaGlnaGxpZ2h0QWNjZXNzaW9uTnVtYmVyID8gaGlnaGxpZ2h0KCdhY2Nlc3Npb25fbnVtYmVyJykgOiBhcnQuYWNjZXNzaW9uX251bWJlclxuXG4gICAgcmV0dXJuIDxkaXYgb25Eb3VibGVDbGljaz17dGhpcy5oYW5kbGVEb3VibGVDbGlja30+XG4gICAgICA8cCBjbGFzc05hbWU9XCJ0b21ic3RvbmVcIj5cbiAgICAgICAgPFBlZWsgZmFjZXQ9XCJtZWRpdW1cIiB0YWc9XCJzcGFuXCIgaGlnaGxpZ2h0ZWRWYWx1ZT17aGlnaGxpZ2h0KCdtZWRpdW0nKX0gc2hvd1BlZWtzPXt0aGlzLnByb3BzLnNob3dQZWVrc30+e2FydC5tZWRpdW19PC9QZWVrPlxuICAgICAgPC9wPlxuICAgICAge3RoaXMuc3RhdGUuc2hvd0xhYmVscyAmJiA8Q29weWFibGVMYWJlbCBhcnQ9e2FydH0gb25DbG9zZT17dGhpcy5oYW5kbGVEb3VibGVDbGlja30gLz59XG4gICAgICA8cCBjbGFzc05hbWU9XCJnaWZ0ZWRcIj5cbiAgICAgICAgPFBlZWsgZmFjZXQ9XCJjcmVkaXRsaW5lXCIgdGFnPVwic3BhblwiIGhpZ2hsaWdodGVkVmFsdWU9e2hpZ2hsaWdodCgnY3JlZGl0bGluZScpfSBzaG93UGVla3M9e3RoaXMucHJvcHMuc2hvd1BlZWtzfT57YXJ0LmNyZWRpdGxpbmV9PC9QZWVrPlxuICAgICAgICAgICZuYnNwOyA8TWFya2Rvd24gdGFnPVwic3BhblwiPnthY2Nlc3Npb25OdW1iZXJ9PC9NYXJrZG93bj5cbiAgICAgIDwvcD5cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNob3dQZWVrczogdHJ1ZVxuICAgIH1cbiAgfSxcblxuICBoYW5kbGVEb3VibGVDbGljaygpIHtcbiAgICAvLyBzaG93IGEgY29weS1hYmxlIHRvbWJzdG9uZS9sYWJlbCBpbiBkaWZmZXJlbnQgZm9ybWF0c1xuICAgIHRoaXMuc2V0U3RhdGUoe3Nob3dMYWJlbHM6ICF0aGlzLnN0YXRlLnNob3dMYWJlbHN9KVxuICB9LFxufSlcblxudmFyIENsaWNrVG9TZWxlY3QgPSByZXF1aXJlKCdAbWFwYm94L3JlYWN0LWNsaWNrLXRvLXNlbGVjdCcpXG5cbnZhciBDb3B5YWJsZUxhYmVsID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnR9ID0gdGhpcy5wcm9wc1xuXG4gICAgdmFyIHN0eWxlID0ge1xuICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkIHJlZCcsXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIGJhY2tncm91bmQ6ICd3aGl0ZScsXG4gICAgICBwYWRkaW5nOiAnMC4yNWVtJyxcbiAgICB9XG5cbiAgICB2YXIge2pvaW4sIGZvcm1hdERhdGVzLCB0aXRsZWNhc2V9ID0gdGhpc1xuXG4gICAgdmFyIGhhc1ZhbGlkQXJ0aXN0ID0gYXJ0LmFydGlzdCAhPT0gXCJcIiAmJiAhYXJ0LmFydGlzdC5tYXRjaCgvVW5rbm93bi9pKVxuICAgIHZhciBbZmFjZXQsIGNyZWF0b3JdID0gQ3JlYXRvci5nZXRGYWNldEFuZFZhbHVlKGFydClcbiAgICBpZihmYWNldCA9PSAnY291bnRyeScgfHwgZmFjZXQgPT0gdW5kZWZpbmVkKSBjcmVhdG9yID0gdW5kZWZpbmVkXG5cbiAgICB2YXIgdGl0bGUgPSB0aGlzLnN0YXRlLnVzZVF1b3RlcyA/IGDigJwke2FydC50aXRsZX3igJ1gIDogPGk+e2FydC50aXRsZX08L2k+XG4gICAgaWYoIWhhc1ZhbGlkQXJ0aXN0KSB0aXRsZSA9IGFydC50aXRsZVxuXG4gICAgLy8gQXJ0aXN0IG5hbWUgW2lmIGtub3duXSwgQ291bnRyeSBvZiBvcmlnaW4sIGJpcnRoL2RlYXRoIGRhdGVzLFxuICAgIC8vIG9yXG4gICAgLy8gU2VsZi1kZXNpZ25hdGlvbiBvZiBwZW9wbGUvdHJpYmUsIGxvY2F0aW9uIChjb3VudHJ5ICsvLSBjb250aW5lbnQpXG4gICAgLy8gVGl0bGUgb2Ygb2JqZWN0IFtpdGFsaWNpemVkIGlmIHNpbXBseSBub25kZXNjcmlwdGl2ZSwgbGlrZSBUYWJsZV0sIGNyZWF0aW9uIGRhdGUsIG1lZGlhLFxuICAgIC8vIFNvdXJjZSBvZiBwdXJjaGFzZSBmdW5kcywgYWNjZXNzaW9uIG51bWJlciBbKyDCqSBvciBBUlMgaW5mb11cbiAgICByZXR1cm4gPGRpdiBzdHlsZT17c3R5bGV9PlxuICAgICAgPENsaWNrVG9TZWxlY3QgcmVmPVwiY2xpY2tcIj5cbiAgICAgICAgPHA+e2pvaW4oaGFzVmFsaWRBcnRpc3QgJiZcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgY3JlYXRvcixcbiAgICAgICAgICAgICAgYXJ0LmNvdW50cnksXG4gICAgICAgICAgICAgIGZvcm1hdERhdGVzKGFydC5saWZlX2RhdGUpXG4gICAgICAgICAgICBdIHx8XG4gICAgICAgICAgICBbY3JlYXRvciwgYXJ0LmNvdW50cnksIGFydC5jb250aW5lbnRdXG4gICAgICAgICl9PC9wPlxuICAgICAgICA8cD5cbiAgICAgICAgICB7dGl0bGV9LCZuYnNwO3tqb2luKFtmb3JtYXREYXRlcyhhcnQuZGF0ZWQpLCB0aXRsZWNhc2UoYXJ0Lm1lZGl1bSldKX1cbiAgICAgICAgPC9wPlxuICAgICAgICA8cD5cbiAgICAgICAgICB7am9pbihbXG4gICAgICAgICAgICBhcnQuY3JlZGl0bGluZSxcbiAgICAgICAgICAgIGFydC5hY2Nlc3Npb25fbnVtYmVyLFxuICAgICAgICAgICAgZGVjb2RlVVJJQ29tcG9uZW50KGFydC5pbWFnZV9jb3B5cmlnaHQpLFxuICAgICAgICAgIF0pfVxuICAgICAgICA8L3A+XG4gICAgICA8L0NsaWNrVG9TZWxlY3Q+XG5cbiAgICAgIDxkaXYgc3R5bGU9e3tvcGFjaXR5OiAnMC41J319PlxuICAgICAgICA8bGFiZWwgZm9yPVwidXNlUXVvdGVzXCIgb25Eb3VibGVDbGljaz17KGUpID0+IHtlLnN0b3BQcm9wYWdhdGlvbigpOyBlLnByZXZlbnREZWZhdWx0KCl9fT5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnRvZ2dsZVF1b3Rlc31cbiAgICAgICAgICAgIGNoZWNrZWQ9e3RoaXMuc3RhdGUudXNlUXVvdGVzfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgdXNlIHF1b3Rlc1xuICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMucHJvcHMub25DbG9zZX0gc3R5bGU9e3tjb2xvcjogJyMxMTEnLCBmbG9hdDogJ3JpZ2h0J319PihjbG9zZSk8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICB9LFxuXG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXNlUXVvdGVzOiBmYWxzZSxcbiAgICB9XG4gIH0sXG5cbiAgdG9nZ2xlUXVvdGVzKGV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICBjb25zdCB1c2VRdW90ZXMgPSB0aGlzLnN0YXRlID8gIXRoaXMuc3RhdGUudXNlUXVvdGVzIDogdHJ1ZVxuICAgIHRoaXMuc2V0U3RhdGUoe3VzZVF1b3Rlc30pXG4gIH0sXG5cbiAgam9pbihmaWVsZHMpIHtcbiAgICByZXR1cm4gZmllbGRzLmZpbHRlcihmID0+ICEhZikuam9pbignLCAnKVxuICB9LFxuXG4gIGZvcm1hdERhdGVzKGRhdGVTdHJpbmcpIHtcbiAgICB2YXIgZGF0ZXMgPSBkYXRlU3RyaW5nLnJlcGxhY2UoL15bQS1aYS16IFxcLixcXChcXCldKy8sICcnKS5zcGxpdCgvXFxzKi1cXHMqLylcbiAgICBpZihkYXRlcy5sZW5ndGggPiAxKSB7XG4gICAgICB2YXIgW3N0YXJ0LCBlbmRdID0gZGF0ZXNcbiAgICAgIGlmKHN0YXJ0LnN1YnN0cigwLCAyKSA9PT0gZW5kLnN1YnN0cigwLCAyKSkgcmV0dXJuIHN0YXJ0K1wi4oCTXCIrZW5kLnN1YnN0cigyKVxuICAgICAgcmV0dXJuIHN0YXJ0K1wi4oCTXCIrZW5kXG4gICAgfVxuICAgIHJldHVybiBkYXRlcy5qb2luKFwi4oCTXCIpXG4gIH0sXG5cbiAgdGl0bGVjYXNlKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmdbMF0udG9VcHBlckNhc2UoKSArIHN0cmluZy5zdWJzdHIoMSkudG9Mb3dlckNhc2UoKVxuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIC8vIGF1dG8tc2VsZWN0IHRoZSB0ZXh0IGluc3RlYWQgb2YgcmVxdWlyaW5nIGEgY2xpY2tcbiAgICB2YXIgZG9tTm9kZSA9IHRoaXMucmVmcy5jbGljayAmJiBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLnJlZnMuY2xpY2spXG4gICAgaWYoZG9tTm9kZSkgZG9tTm9kZS5jbGljaygpXG4gIH0sXG59KVxuXG4vLyBjaGVjayBpZiBhbiBpbWFnZSBleGlzdHMgb24gb3VyIGNsb3VkZnJvbnQgZGlzdHJpYnV0aW9uLFxuLy8gYW5kIGlmIG5vdCwgZmFsbCBiYWNrIHRvIGxvYWRpbmcgaXQgZnJvbSB0aGUgQVBJXG4vLyBUT0RPIC0gdGhpcyBhY3R1YWxseSBsb2FkcyB0aGUgZnVsbCBpbWFnZSwgd2hpY2ggaXMgdW5uZWNjZXNzYXJ5IGFuZCBzbG93cyBkb3duIHRoZSBwYWdlLlxuLy8gU29tZWhvdyBqdXN0IGRvIGEgSEVBRCByZXF1ZXN0P1xudmFyIHRlc3RDbG91ZGZyb250SW1hZ2UgPSAoYXJ0LCBjYWxsYmFjaykgPT4ge1xuICB2YXIgcmlnaHRzID0gcmlnaHRzRGVzY3JpcHRpb25zLmdldFJpZ2h0cyhhcnQpXG4gIHZhciBkb3dubG9hZEZ1bGxSZXMgPSBhcnQucmlnaHRzX3R5cGUgPT09ICdQdWJsaWMgRG9tYWluJ1xuICB2YXIgY2RuVXJsID0gaW1hZ2VDRE4oYXJ0LmlkLCAhZG93bmxvYWRGdWxsUmVzID8gODAwIDogJ2Z1bGwnKVxuXG4gIGlmKHR5cGVvZiBkb2N1bWVudCA9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIHdlJ3JlIGN1cnJlbnRseSBzZXJ2ZXItcmVuZGVyZWRcbiAgICByZXR1cm4gY2RuVXJsXG4gIH1cblxuICB2YXIgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpXG4gIGkub25sb2FkID0gKCkgPT4gY2FsbGJhY2soY2RuVXJsKVxuICBpLm9uZXJyb3IgPSAoKSA9PiBjYWxsYmFjayhgaHR0cHM6Ly9hcGkuYXJ0c21pYS5vcmcvaW1hZ2VzLyR7YXJ0LmlkfS8ke2FydC5yZXN0cmljdGVkID8gJzQwMC9tZWRpdW0uanBnJyA6ICc4MDAvbGFyZ2UuanBnJ31gKVxuICBpLnNyYyA9IGNkblVybFxufVxuXG52YXIgTGlua0JhciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhY3Rpb25zOiB7XG4gICAgICAgIGxpa2U6IHtcbiAgICAgICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICBpY29uOiAnZmF2b3JpdGVfYm9yZGVyJyxcbiAgICAgICAgfSxcbiAgICAgICAgZG93bmxvYWQ6IHtcbiAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgIGljb246ICdmaWxlX2Rvd25sb2FkJyxcbiAgICAgICAgfSxcbiAgICAgICAgcHJpbnQ6IHtcbiAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBzaGFyZToge1xuICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgaWNvbjogJ3NoYXJlJyxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIGNvbnN0IHNob3dEb3dubG9hZCA9IHRoaXMucHJvcHMuYXJ0LnJpZ2h0c190eXBlICE9PSAnUGVybWlzc2lvbiBEZW5pZWQnXG4gICAgICB8fCB0aGlzLnByb3BzLmFydC5pbWFnZSA9PT0gJ2ludmFsaWQnXG4gICAgcmV0dXJuIHtcbiAgICAgIHNob3dEb3dubG9hZCxcbiAgICAgIHNob3dTaGFyZTogZmFsc2UsXG4gICAgfVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIgeyBhcnQgfSA9IHRoaXMucHJvcHNcblxuICAgIHZhciBhY3Rpb25zID0gT2JqZWN0LmtleXModGhpcy5wcm9wcy5hY3Rpb25zKVxuICAgICAgLm1hcChrZXkgPT4ge1xuICAgICAgICB0aGlzLnByb3BzLmFjdGlvbnNba2V5XS5rZXkgPSBrZXlcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuYWN0aW9uc1trZXldXG4gICAgICB9LCBbXSlcbiAgICAgIC5maWx0ZXIoYWN0aW9uID0+IGFjdGlvbi5lbmFibGVkKVxuICAgICAgLy8gZG9uJ3Qgc2hvdyAnZG93bmxvYWQnIGZvciBhcnQgd2l0aCBhbiBpbnZhbGlkIGltYWdlXG4gICAgICAuZmlsdGVyKGFjdGlvbiA9PiAhKGFjdGlvbi5rZXkgPT0gJ2Rvd25sb2FkJyAmJiAoYXJ0LmltYWdlID09ICdpbnZhbGlkJyB8fCBhcnQucmlnaHRzX3R5cGUgPT09ICdQZXJtaXNzaW9uIERlbmllZCcpKSlcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpbmstYmFyXCI+XG4gICAgICAgICAge2FjdGlvbnMubWFwKGFjdGlvbiA9PiB7XG4gICAgICAgICAgICB2YXIga2V5ID0gYWN0aW9uLmtleVxuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSBldmFsKFxuICAgICAgICAgICAgICBgX3RoaXMuaGFuZGxlJHtrZXlbMF0udG9VcHBlckNhc2UoKSArIGtleS5zdWJzdHIoMSl9YFxuICAgICAgICAgICAgKSAvLyBUT0RPIGFsZXJ0IGFsZXJ0IHdhcm5pbmcgd2FybmluZyAoc2hvdWxkbid0IGhhdmUgdG8gcmVmZXJlbmNlIF90aGlzLCBza2V0Y2h5IGNvZGUpXG5cbiAgICAgICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnbWF0ZXJpYWwtaWNvbnMnLFxuICAgICAgICAgICAgICBvbkNsaWNrOiBoYW5kbGVyLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGtleSA9PSAnZG93bmxvYWQnKSB7XG4gICAgICAgICAgICAgIG9wdGlvbnMuZG93bmxvYWQgPSAnJ1xuICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5yZXNvbHZlZEltYWdlRG93bmxvYWRVcmwpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmhyZWYgPSB0aGlzLnN0YXRlLnJlc29sdmVkSW1hZ2VEb3dubG9hZFVybFxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRlc3RDbG91ZGZyb250SW1hZ2UoYXJ0LCB1cmwgPT4ge1xuICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlc29sdmVkSW1hZ2VEb3dubG9hZFVybDogdXJsIH0pXG4gICAgICAgICAgICAgICAgfSwgdGhpcy5wcm9wcy5kb3dubG9hZEZ1bGxSZXMpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gYWN0aW9uLmljb24gfHwgYWN0aW9uLmtleVxuXG4gICAgICAgICAgICByZXR1cm4ga2V5ID09ICdkb3dubG9hZCdcbiAgICAgICAgICAgICAgPyA8YSB7Li4ub3B0aW9uc30+e2NvbnRlbnR9PC9hPlxuICAgICAgICAgICAgICA6IDxpIHsuLi5vcHRpb25zfT57Y29udGVudH08L2k+XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7dGhpcy5zdGF0ZS5zaG93U2hhcmUgJiYgdGhpcy5zaG93U2hhcmUoKX1cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhclwiIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmFjay1idXR0b25cIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5saW5rICYmXG4gICAgICAgICAgICA8TGluayB0bz1cImFydHdvcmtcIiBwYXJhbXM9e3sgaWQ6IGFydC5pZCB9fT5cbiAgICAgICAgICAgICAgVmlldyBEZXRhaWxzIDxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zXCI+YXJyb3dfZm9yd2FyZDwvaT5cbiAgICAgICAgICAgIDwvTGluaz59XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9LFxuXG4gIGdldFVybCgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgJ2h0dHBzOi8vY29sbGVjdGlvbnMuYXJ0c21pYS5vcmcnICsgdGhpcy5jb250ZXh0LnJvdXRlci5nZXRDdXJyZW50UGF0aCgpXG4gICAgKVxuICB9LFxuXG4gIGhhbmRsZVNoYXJlKCkge1xuICAgIHZhciB7IGFydCB9ID0gdGhpcy5wcm9wc1xuXG4gICAgaWYoIXRoaXMuaXNNb3VudGVkKCkpIHJldHVyblxuXG4gICAgLy8gQXR0ZW1wdCB0byB1c2UgdGhlIG5hdGl2ZSBzaGFyZSBBUEksIGlmIHRoYXQgZmFpbHMgb3BlbiB0aGVcbiAgICAvLyBjdXN0b20gYnVpbHQgZW1haWwvZmFjZWJvb2svdHdpdHRlciBVUkwtYmFzZWQgc2hhcmVyXG4gICAgaWYgKG5hdmlnYXRvci5zaGFyZSkge1xuICAgICAgY29uc3Qgc2hhcmVJbmZvID0ge1xuICAgICAgICB0aXRsZTogYXJ0LnRpdGxlLFxuICAgICAgICB0ZXh0OiBhcnQudGV4dCB8fCBhcnQuZGVzY3JpcHRpb24sXG4gICAgICAgIHVybDogdGhpcy5nZXRVcmwoKSxcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5hdmlnYXRvci5zaGFyZShzaGFyZUluZm8pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAvLyBUT0RPIGFkZCBzdWNjZXNzL2NvbXBsZXRlIGFuaW1hdGlvbiBtYXliZT9cbiAgICAgICAgICBjb25zb2xlLmluZm8oJ1N1Y2Nlc3NmdWwgc2hhcmUnKVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2hhcmluZycsIGVycm9yKVxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzaG93U2hhcmU6ICF0aGlzLnN0YXRlLnNob3dTaGFyZSB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoeyBzaG93U2hhcmU6ICF0aGlzLnN0YXRlLnNob3dTaGFyZSB9KVxuICB9LFxuXG4gIHNob3dTaGFyZSgpIHtcbiAgICB2YXIgeyBhcnQgfSA9IHRoaXMucHJvcHNcblxuICAgIHZhciBmYWNlYm9va1VSTCA9IGBodHRwczovL3d3dy5mYWNlYm9vay5jb20vc2hhcmVyL3NoYXJlci5waHA/dT0ke2VuY29kZVVSSSh0aGlzLmdldFVybCgpKX1gXG4gICAgdmFyIHR3aXR0ZXJVUkwgPSBgaHR0cHM6Ly90d2l0dGVyLmNvbS9pbnRlbnQvdHdlZXQ/dXJsPSR7ZW5jb2RlVVJJKHRoaXMuZ2V0VXJsKCkpfWBcbiAgICB2YXIgZW1haWxVUkwgPSBgbWFpbHRvOj9zdWJqZWN0PSR7YXJ0LnRpdGxlfSZib2R5PSR7ZW5jb2RlVVJJKHRoaXMuZ2V0VXJsKCkpfWBcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNoYXJlXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic29jaWFsXCI+XG4gICAgICAgICAgPGEgdGl0bGU9XCJTaGFyZSB2aWEgZW1haWxcIiBocmVmPXtlbWFpbFVSTH0gdGFyZ2V0PVwiX2JsYW5rXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uc1wiIHN0eWxlPXt7Y29sb3I6ICcjMjMyMzIzJ319PmVtYWlsPC9zcGFuPlxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic29jaWFsXCI+XG4gICAgICAgICAgPGEgdGl0bGU9XCJTaGFyZSBvbiBGYWNlYm9va1wiIGhyZWY9e2ZhY2Vib29rVVJMfSB0YXJnZXQ9XCJfYmxhbmtcIj5cbiAgICAgICAgICAgIDxpbWcgc3JjPVwiaHR0cHM6Ly9jZG4ucmF3Z2l0LmNvbS9kYW5sZWVjaC9zaW1wbGUtaWNvbnMvZGV2ZWxvcC9pY29ucy9mYWNlYm9vay5zdmdcIiAvPlxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic29jaWFsXCI+XG4gICAgICAgICAgPGEgdGl0bGU9XCJTaGFyZSBvbiBUd2l0dGVyXCIgaHJlZj17dHdpdHRlclVSTH0gdGFyZ2V0PVwiX2JsYW5rXCI+XG4gICAgICAgICAgICA8aW1nIHNyYz1cImh0dHBzOi8vY2RuLnJhd2dpdC5jb20vZGFubGVlY2gvc2ltcGxlLWljb25zL2RldmVsb3AvaWNvbnMvdHdpdHRlci5zdmdcIiAvPlxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH0sXG5cbiAgaGFuZGxlUHJpbnQoKSB7XG4gICAgd2luZG93LnByaW50KClcbiAgfSxcblxuICBoYW5kbGVEb3dubG9hZCgpIHtcbiAgICB2YXIge2FydH0gPSB0aGlzLnByb3BzXG4gICAgdmFyIHtpZH0gPSBhcnRcbiAgICBpZihwcm9jZXNzLmVudi5OT0RFX0VOViA9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHJlcXVpcmUoJ3JlYWN0LWdhJykuZXZlbnQoe1xuICAgICAgICBjYXRlZ29yeTogJ0FydHdvcmsnLFxuICAgICAgICBhY3Rpb246ICdJbWFnZSBEb3dubG9hZCcsXG4gICAgICAgIGxhYmVsOiBhcnQudGl0bGUsXG4gICAgICAgIHZhbHVlOiBwYXJzZUludChpZClcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgICBjb25zb2xlLmluZm8oJ2dhLmV2ZW50JywgJ2Rvd25sb2FkZWQnLCBpZClcbiAgICB9XG4gIH0sXG5cbiAgaGFuZGxlTGlrZSgpIHtcbiAgICBjb25zb2xlLmluZm8oJ1RPRE8nKVxuICB9LFxufSlcbkxpbmtCYXIuY29udGV4dFR5cGVzID0ge1xuICByb3V0ZXI6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxufVxuXG52YXIgRmlndXJlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnQsIGxpbmssIGNsYXNzTmFtZSwgY3VzdG9tSW1hZ2UsIGlnbm9yZUltYWdlU3R5bGUsIC4uLmZpZ3VyZVByb3BzfSA9IHRoaXMucHJvcHNcbiAgICB2YXIgaWQgPSBhcnQuaWRcbiAgICB2YXIgY2xhc3NlcyA9IGNsYXNzbmFtZXMoY2xhc3NOYW1lLCB7dmFsaWRJbWFnZTogYXJ0LmltYWdlID09PSAndmFsaWQnICYmIGFydC5pbWFnZV93aWR0aCA+IDB9KVxuXG4gICAgcmV0dXJuIDxmaWd1cmUgey4uLmZpZ3VyZVByb3BzfSBjbGFzc05hbWU9e2NsYXNzZXN9XG4gICAgICBpdGVtU2NvcGUgaXRlbVR5cGU9XCJodHRwczovL3NjaGVtYS5vcmcvVmlzdWFsQXJ0d29ya1wiPlxuICAgICAgPGxpbmsgaXRlbVByb3A9XCJ1cmxcIiBocmVmPXtgL2FydC8ke2lkfWB9IC8+XG4gICAgICA8Q29uZGl0aW9uYWxMaW5rV3JhcHBlciBhcnQ9e2FydH0gbGluaz17bGlua30+XG4gICAgICAgIDxBcnR3b3JrSW1hZ2UgYXJ0PXthcnR9IGlkPXtpZH0gbGF6eUxvYWQ9e2ZhbHNlfSBjbGFzc05hbWU9XCJhcnR3b3JrLWltYWdlXCIgY3VzdG9tSW1hZ2U9e2N1c3RvbUltYWdlfSBpZ25vcmVTdHlsZT17aWdub3JlSW1hZ2VTdHlsZX0gLz5cbiAgICAgIDwvQ29uZGl0aW9uYWxMaW5rV3JhcHBlcj5cbiAgICAgIDxmaWdjYXB0aW9uPlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvZmlnY2FwdGlvbj5cbiAgICA8L2ZpZ3VyZT5cbiAgfSxcbn0pXG5GaWd1cmUuY29udGV4dFR5cGVzID0ge1xuICB1bml2ZXJzYWw6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxufVxuXG52YXIgc2x1ZyA9IChhcnQpID0+IHtcbiAgdmFyIGNyZWF0b3IgPSBDcmVhdG9yLmdldEZhY2V0QW5kVmFsdWUoYXJ0KVsxXVxuICB2YXIgc3RyaW5nID0gW1xuICAgIGFydC50aXRsZS5yZXBsYWNlKC88W14gXSs/Pi9nLCAnJykubWF0Y2godGl0bGVTZWdtZW50RGVsaW1pdGVyKVsxXSxcbiAgICBjcmVhdG9yICYmIGNyZWF0b3Iuc3BsaXQoJzsnKVswXVxuICBdXG4gICAgLmZpbHRlcihlID0+IGUpXG4gICAgLmpvaW4oJyAnKVxuICAgIC5yZXBsYWNlKC/igJl8Jy9nLCAnJylcbiAgICAucmVwbGFjZSgvXiguKylcXCguKlxcKS8sICckMScpXG4gICAgLnJlcGxhY2UoJ8WNJywgJ28nKVxuICByZXR1cm4gdG9TbHVnKHN0cmluZylcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIFRpdGxlLFxuICBUb21ic3RvbmUsXG4gIExpbmtCYXIsXG4gIEZpZ3VyZSxcbiAgQ3JlYXRvcixcbiAgc2x1Z1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "_artwork.js"
      ],
      "names": [
        "React",
        "require",
        "ReactDOM",
        "Link",
        "toSlug",
        "classnames",
        "Creator",
        "ArtworkImage",
        "Peek",
        "imageCDN",
        "highlighter",
        "Markdown",
        "rightsDescriptions",
        "titleSegmentDelimiter",
        "ConditionalLinkWrapper",
        "createClass",
        "render",
        "props",
        "art",
        "link",
        "id",
        "children",
        "Title",
        "highlights",
        "_title",
        "segmentedTitle",
        "replace",
        "segment",
        "title",
        "dated",
        "Tombstone",
        "getInitialState",
        "showLabels",
        "highlightAccessionNumber",
        "showPeeks",
        "highlight",
        "bind",
        "accessionNumber",
        "accession_number",
        "handleDoubleClick",
        "medium",
        "state",
        "creditline",
        "getDefaultProps",
        "setState",
        "ClickToSelect",
        "CopyableLabel",
        "style",
        "border",
        "position",
        "background",
        "padding",
        "join",
        "formatDates",
        "titlecase",
        "hasValidArtist",
        "artist",
        "match",
        "getFacetAndValue",
        "facet",
        "creator",
        "undefined",
        "useQuotes",
        "country",
        "life_date",
        "continent",
        "decodeURIComponent",
        "image_copyright",
        "opacity",
        "e",
        "stopPropagation",
        "preventDefault",
        "toggleQuotes",
        "onClose",
        "color",
        "float",
        "event",
        "fields",
        "filter",
        "f",
        "dateString",
        "dates",
        "split",
        "length",
        "start",
        "end",
        "substr",
        "string",
        "toUpperCase",
        "toLowerCase",
        "componentDidMount",
        "domNode",
        "refs",
        "click",
        "findDOMNode",
        "testCloudfrontImage",
        "callback",
        "rights",
        "getRights",
        "downloadFullRes",
        "rights_type",
        "cdnUrl",
        "document",
        "i",
        "createElement",
        "onload",
        "onerror",
        "restricted",
        "src",
        "LinkBar",
        "actions",
        "like",
        "enabled",
        "icon",
        "download",
        "print",
        "share",
        "showDownload",
        "image",
        "showShare",
        "Object",
        "keys",
        "map",
        "key",
        "action",
        "handler",
        "eval",
        "options",
        "className",
        "onClick",
        "resolvedImageDownloadUrl",
        "href",
        "url",
        "content",
        "getUrl",
        "context",
        "router",
        "getCurrentPath",
        "handleShare",
        "isMounted",
        "navigator",
        "shareInfo",
        "text",
        "description",
        "then",
        "console",
        "info",
        "catch",
        "error",
        "facebookURL",
        "encodeURI",
        "twitterURL",
        "emailURL",
        "handlePrint",
        "window",
        "handleDownload",
        "process",
        "env",
        "NODE_ENV",
        "category",
        "label",
        "value",
        "parseInt",
        "handleLike",
        "contextTypes",
        "PropTypes",
        "func",
        "Figure",
        "customImage",
        "ignoreImageStyle",
        "figureProps",
        "classes",
        "validImage",
        "image_width",
        "universal",
        "bool",
        "slug",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "_artwork.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar ReactDOM = require('react-dom')\nvar {Link} = require('react-router')\nvar toSlug = require('speakingurl')\nvar classnames = require('classnames')\n\nvar Creator = require('./artwork/creator.js')\nvar ArtworkImage = require('./artwork-image')\nvar Peek = require('./peek')\nvar imageCDN = require('./image-cdn')\nvar highlighter = require('./highlighter')\nvar Markdown = require('./markdown')\nvar rightsDescriptions = require('./rights-types.js')\n\n//\n// TODO: move these into separate components at `src/artwork/`?\n// \n\n// Regex to split the title out into two parts:\n// 1. the 'main' part - anything leading up to one of the special characters below,\n// and 2. the rest.\n// This allows the site to show the title with the main part bold and the rest normal,\n// and also cuts down on the length of the artwork slug.\nvar titleSegmentDelimiter = /([^\\(\\)\\[\\],:;]+|with)/\n\nvar ConditionalLinkWrapper = React.createClass({\n  render() {\n    var {art, link} = this.props\n\n    return link ?\n      <Link to=\"artwork\" params={{id: art.id}}>{this.props.children}</Link> :\n      this.props.children\n  }\n})\n\nvar Title = React.createClass({\n  render() {\n    var {art, link, highlights} = this.props\n    var _title = highlighter(art, highlights, \"title\")\n    var segmentedTitle = _title\n        .replace(titleSegmentDelimiter, (segment) => `<strong>${segment}</strong>`)\n\n    var title = <Markdown tag=\"span\">{segmentedTitle}</Markdown>\n    var title = <h1 itemProp=\"name\">{title}, <span className=\"dated\">{art.dated}</span></h1>\n\n    return <ConditionalLinkWrapper {...this.props}>\n      {title}\n    </ConditionalLinkWrapper>\n  },\n})\n\nvar Tombstone = React.createClass({\n  getInitialState() {\n    return {\n      showLabels: false,\n      highlightAccessionNumber: false,\n    }\n  },\n\n  render() {\n    var {art, highlightAccessionNumber, showPeeks} = this.props\n    var highlight = highlighter.bind(null, art, this.props.highlights)\n\n    var accessionNumber = this.props.highlighter ?\n      this.props.highlighter(art.accession_number, highlightAccessionNumber) :\n      highlightAccessionNumber ? highlight('accession_number') : art.accession_number\n\n    return <div onDoubleClick={this.handleDoubleClick}>\n      <p className=\"tombstone\">\n        <Peek facet=\"medium\" tag=\"span\" highlightedValue={highlight('medium')} showPeeks={this.props.showPeeks}>{art.medium}</Peek>\n      </p>\n      {this.state.showLabels && <CopyableLabel art={art} onClose={this.handleDoubleClick} />}\n      <p className=\"gifted\">\n        <Peek facet=\"creditline\" tag=\"span\" highlightedValue={highlight('creditline')} showPeeks={this.props.showPeeks}>{art.creditline}</Peek>\n          &nbsp; <Markdown tag=\"span\">{accessionNumber}</Markdown>\n      </p>\n    </div>\n  },\n\n  getDefaultProps() {\n    return {\n      showPeeks: true\n    }\n  },\n\n  handleDoubleClick() {\n    // show a copy-able tombstone/label in different formats\n    this.setState({showLabels: !this.state.showLabels})\n  },\n})\n\nvar ClickToSelect = require('@mapbox/react-click-to-select')\n\nvar CopyableLabel = React.createClass({\n  render() {\n    var {art} = this.props\n\n    var style = {\n      border: '1px solid red',\n      position: 'absolute',\n      background: 'white',\n      padding: '0.25em',\n    }\n\n    var {join, formatDates, titlecase} = this\n\n    var hasValidArtist = art.artist !== \"\" && !art.artist.match(/Unknown/i)\n    var [facet, creator] = Creator.getFacetAndValue(art)\n    if(facet == 'country' || facet == undefined) creator = undefined\n\n    var title = this.state.useQuotes ? `“${art.title}”` : <i>{art.title}</i>\n    if(!hasValidArtist) title = art.title\n\n    // Artist name [if known], Country of origin, birth/death dates,\n    // or\n    // Self-designation of people/tribe, location (country +/- continent)\n    // Title of object [italicized if simply nondescriptive, like Table], creation date, media,\n    // Source of purchase funds, accession number [+ © or ARS info]\n    return <div style={style}>\n      <ClickToSelect ref=\"click\">\n        <p>{join(hasValidArtist &&\n            [\n              creator,\n              art.country,\n              formatDates(art.life_date)\n            ] ||\n            [creator, art.country, art.continent]\n        )}</p>\n        <p>\n          {title},&nbsp;{join([formatDates(art.dated), titlecase(art.medium)])}\n        </p>\n        <p>\n          {join([\n            art.creditline,\n            art.accession_number,\n            decodeURIComponent(art.image_copyright),\n          ])}\n        </p>\n      </ClickToSelect>\n\n      <div style={{opacity: '0.5'}}>\n        <label for=\"useQuotes\" onDoubleClick={(e) => {e.stopPropagation(); e.preventDefault()}}>\n          <input type=\"checkbox\"\n            onChange={this.toggleQuotes}\n            checked={this.state.useQuotes}\n          />\n          use quotes\n        </label>\n        <button onClick={this.props.onClose} style={{color: '#111', float: 'right'}}>(close)</button>\n      </div>\n    </div>\n  },\n\n  getInitialState() {\n    return {\n      useQuotes: false,\n    }\n  },\n\n  toggleQuotes(event) {\n    event.stopPropagation()\n    const useQuotes = this.state ? !this.state.useQuotes : true\n    this.setState({useQuotes})\n  },\n\n  join(fields) {\n    return fields.filter(f => !!f).join(', ')\n  },\n\n  formatDates(dateString) {\n    var dates = dateString.replace(/^[A-Za-z \\.,\\(\\)]+/, '').split(/\\s*-\\s*/)\n    if(dates.length > 1) {\n      var [start, end] = dates\n      if(start.substr(0, 2) === end.substr(0, 2)) return start+\"–\"+end.substr(2)\n      return start+\"–\"+end\n    }\n    return dates.join(\"–\")\n  },\n\n  titlecase(string) {\n    return string[0].toUpperCase() + string.substr(1).toLowerCase()\n  },\n\n  componentDidMount() {\n    // auto-select the text instead of requiring a click\n    var domNode = this.refs.click && ReactDOM.findDOMNode(this.refs.click)\n    if(domNode) domNode.click()\n  },\n})\n\n// check if an image exists on our cloudfront distribution,\n// and if not, fall back to loading it from the API\n// TODO - this actually loads the full image, which is unneccessary and slows down the page.\n// Somehow just do a HEAD request?\nvar testCloudfrontImage = (art, callback) => {\n  var rights = rightsDescriptions.getRights(art)\n  var downloadFullRes = art.rights_type === 'Public Domain'\n  var cdnUrl = imageCDN(art.id, !downloadFullRes ? 800 : 'full')\n\n  if(typeof document == 'undefined') {\n    // we're currently server-rendered\n    return cdnUrl\n  }\n\n  var i = document.createElement('img')\n  i.onload = () => callback(cdnUrl)\n  i.onerror = () => callback(`https://api.artsmia.org/images/${art.id}/${art.restricted ? '400/medium.jpg' : '800/large.jpg'}`)\n  i.src = cdnUrl\n}\n\nvar LinkBar = React.createClass({\n  getDefaultProps() {\n    return {\n      actions: {\n        like: {\n          enabled: false,\n          icon: 'favorite_border',\n        },\n        download: {\n          enabled: true,\n          icon: 'file_download',\n        },\n        print: {\n          enabled: true,\n        },\n        share: {\n          enabled: true,\n          icon: 'share',\n        },\n      }\n    }\n  },\n\n  getInitialState() {\n    const showDownload = this.props.art.rights_type !== 'Permission Denied'\n      || this.props.art.image === 'invalid'\n    return {\n      showDownload,\n      showShare: false,\n    }\n  },\n\n  render() {\n    var { art } = this.props\n\n    var actions = Object.keys(this.props.actions)\n      .map(key => {\n        this.props.actions[key].key = key\n        return this.props.actions[key]\n      }, [])\n      .filter(action => action.enabled)\n      // don't show 'download' for art with an invalid image\n      .filter(action => !(action.key == 'download' && (art.image == 'invalid' || art.rights_type === 'Permission Denied')))\n\n    return (\n      <div>\n        <div className=\"link-bar\">\n          {actions.map(action => {\n            var key = action.key\n            var handler = eval(\n              `_this.handle${key[0].toUpperCase() + key.substr(1)}`\n            ) // TODO alert alert warning warning (shouldn't have to reference _this, sketchy code)\n\n            var options = {\n              key: key,\n              className: 'material-icons',\n              onClick: handler,\n            }\n            if (key == 'download') {\n              options.download = ''\n              if (this.state.resolvedImageDownloadUrl) {\n                options.href = this.state.resolvedImageDownloadUrl\n              } else {\n                testCloudfrontImage(art, url => {\n                  this.setState({ resolvedImageDownloadUrl: url })\n                }, this.props.downloadFullRes)\n              }\n            }\n            var content = action.icon || action.key\n\n            return key == 'download'\n              ? <a {...options}>{content}</a>\n              : <i {...options}>{content}</i>\n          })}\n        </div>\n        {this.state.showShare && this.showShare()}\n        <div className=\"clear\" />\n        <div className=\"back-button\">\n          {this.props.link &&\n            <Link to=\"artwork\" params={{ id: art.id }}>\n              View Details <i className=\"material-icons\">arrow_forward</i>\n            </Link>}\n        </div>\n      </div>\n    )\n  },\n\n  getUrl() {\n    return (\n      'https://collections.artsmia.org' + this.context.router.getCurrentPath()\n    )\n  },\n\n  handleShare() {\n    var { art } = this.props\n\n    if(!this.isMounted()) return\n\n    // Attempt to use the native share API, if that fails open the\n    // custom built email/facebook/twitter URL-based sharer\n    if (navigator.share) {\n      const shareInfo = {\n        title: art.title,\n        text: art.text || art.description,\n        url: this.getUrl(),\n      }\n\n      return navigator.share(shareInfo)\n        .then(() => {\n          // TODO add success/complete animation maybe?\n          console.info('Successful share')\n        })\n        .catch((error) => {\n          console.error('Error sharing', error)\n          this.setState({ showShare: !this.state.showShare })\n        })\n    }\n\n    this.setState({ showShare: !this.state.showShare })\n  },\n\n  showShare() {\n    var { art } = this.props\n\n    var facebookURL = `https://www.facebook.com/sharer/sharer.php?u=${encodeURI(this.getUrl())}`\n    var twitterURL = `https://twitter.com/intent/tweet?url=${encodeURI(this.getUrl())}`\n    var emailURL = `mailto:?subject=${art.title}&body=${encodeURI(this.getUrl())}`\n\n    return (\n      <div className=\"share\">\n        <div className=\"social\">\n          <a title=\"Share via email\" href={emailURL} target=\"_blank\">\n            <span className=\"material-icons\" style={{color: '#232323'}}>email</span>\n          </a>\n        </div>\n        <div className=\"social\">\n          <a title=\"Share on Facebook\" href={facebookURL} target=\"_blank\">\n            <img src=\"https://cdn.rawgit.com/danleech/simple-icons/develop/icons/facebook.svg\" />\n          </a>\n        </div>\n        <div className=\"social\">\n          <a title=\"Share on Twitter\" href={twitterURL} target=\"_blank\">\n            <img src=\"https://cdn.rawgit.com/danleech/simple-icons/develop/icons/twitter.svg\" />\n          </a>\n        </div>\n      </div>\n    )\n  },\n\n  handlePrint() {\n    window.print()\n  },\n\n  handleDownload() {\n    var {art} = this.props\n    var {id} = art\n    if(process.env.NODE_ENV == 'production') {\n      require('react-ga').event({\n        category: 'Artwork',\n        action: 'Image Download',\n        label: art.title,\n        value: parseInt(id)\n      })\n    } else {\n       console.info('ga.event', 'downloaded', id)\n    }\n  },\n\n  handleLike() {\n    console.info('TODO')\n  },\n})\nLinkBar.contextTypes = {\n  router: React.PropTypes.func,\n}\n\nvar Figure = React.createClass({\n  render() {\n    var {art, link, className, customImage, ignoreImageStyle, ...figureProps} = this.props\n    var id = art.id\n    var classes = classnames(className, {validImage: art.image === 'valid' && art.image_width > 0})\n\n    return <figure {...figureProps} className={classes}\n      itemScope itemType=\"https://schema.org/VisualArtwork\">\n      <link itemProp=\"url\" href={`/art/${id}`} />\n      <ConditionalLinkWrapper art={art} link={link}>\n        <ArtworkImage art={art} id={id} lazyLoad={false} className=\"artwork-image\" customImage={customImage} ignoreStyle={ignoreImageStyle} />\n      </ConditionalLinkWrapper>\n      <figcaption>\n        {this.props.children}\n      </figcaption>\n    </figure>\n  },\n})\nFigure.contextTypes = {\n  universal: React.PropTypes.bool,\n}\n\nvar slug = (art) => {\n  var creator = Creator.getFacetAndValue(art)[1]\n  var string = [\n    art.title.replace(/<[^ ]+?>/g, '').match(titleSegmentDelimiter)[1],\n    creator && creator.split(';')[0]\n  ]\n    .filter(e => e)\n    .join(' ')\n    .replace(/’|'/g, '')\n    .replace(/^(.+)\\(.*\\)/, '$1')\n    .replace('ō', 'o')\n  return toSlug(string)\n}\n\nmodule.exports = {\n  Title,\n  Tombstone,\n  LinkBar,\n  Figure,\n  Creator,\n  slug\n}\n"
      ]
    },
    "mtime": 1612393616748
  },
  "{\"filename\":\"/var/www/art/src/peek.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "toArray",
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/peek.js",
      "filenameRelative": "/var/www/art/src/peek.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "peek.js",
      "sourceFileName": "peek.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "peek"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar rest = require('rest');\nvar debounce = require('debounce');\nvar classnames = require('classnames');\n\nvar SEARCH = require('./endpoints').search;\nvar ImageQuilt = require('./image-quilt');\nvar searchLanguageMap = require('./search-language');\nvar Markdown = require('./markdown');\n\nvar Peek = React.createClass({\n  displayName: 'Peek',\n\n  mixins: [Router.State, Router.Navigation],\n  propTypes: {\n    children: React.PropTypes.string\n  },\n\n  // TODO: this is a mess, simplify to using props better so there's less\n  // state to manage\n  setup: function setup(props) {\n    var qs;\n    var q = props.q,\n        facet = props.facet;\n\n    var results = this.state && this.state.results || {};\n    var open = this.state ? this.state.open : !!q;\n    if (q && q.props && q.props.children) q = q.props.children.replace(/<\\/?em>/g, '');\n    if (q && q.match(/:/) && !facet) {\n      var _q$split = q.split(/:/);\n\n      var _q$split2 = _toArray(_q$split);\n\n      facet = _q$split2[0];\n      qs = _q$split2.slice(1);\n\n      var q = qs.join(':');\n    }\n    if (!q) q = props.controlValue || props.children;\n\n    return {\n      facet: facet,\n      open: open,\n      results: results,\n      offset: props.offset || 0,\n      query: q,\n      facetedQ: this.getFacetedQ(q, facet),\n      startedOpen: !!props.q\n    };\n  },\n  getInitialState: function getInitialState() {\n    return this.setup(this.props);\n  },\n  render: function render() {\n    var _this = this;\n\n    var Tag = this.props.tag;\n    if (!this.props.showPeeks) return React.createElement(\n      Tag,\n      null,\n      this.props.children\n    );\n\n    var _state = this.state,\n        results = _state.results,\n        facetedQ = _state.facetedQ,\n        startedOpen = _state.startedOpen;\n\n    if (!facetedQ) return React.createElement('span', null);\n    var _props = this.props,\n        child = _props.child,\n        microdata = _props.microdata;\n\n    var result = results && results[facetedQ];\n    var showIcon = this.props.showIcon;\n\n    var icon = React.createElement(\n      'i',\n      { className: 'material-icons' },\n      'expand_' + (this.state.open ? 'less' : 'more')\n    );\n    var linkProps = this.props.linkProps || this.props.filtered ? {\n      to: \"filteredSearchResults\",\n      params: { terms: '*', splat: this.state.facetedQ || this.state.q }\n    } : {\n      to: \"searchResults\",\n      params: { terms: this.state.facetedQ || this.state.q }\n    };\n    var text = this.props.highlightedValue !== this.props.controlValue ? React.createElement(\n      Markdown,\n      { tag: 'span' },\n      this.props.highlightedValue\n    ) : this.props.children;\n    var peekText = this.context.universal ? React.createElement(\n      Link,\n      _extends({ itemProp: microdata ? \"url\" : '' }, linkProps),\n      text\n    ) : text;\n\n    var queryString = decodeURIComponent(this.state.facetedQ);\n    var humanLanguage = searchLanguageMap(queryString);\n    var searchExplanation = humanLanguage !== queryString ? humanLanguage : this.state.query + ' ' + (this.state.facet && '(' + this.state.facet + ')');\n\n    var style = this.props.style || {};\n\n    var rider = this.props.controlValue && this.props.controlValue !== 'Not on View' && React.createElement(\n      'div',\n      null,\n      React.createElement('img', { src: 'https://artsmia.github.io/map/galleries/' + this.props.controlValue.replace('G', '') + '.png',\n        style: { maxWidth: \"100%\" }\n      })\n    );\n\n    return React.createElement(\n      Tag,\n      { onClick: debounce(this.onClick, 200), className: classnames(\"peek\", { startedOpen: startedOpen, startedClosed: !startedOpen, open: this.state.open }), style: _extends({ cursor: 'pointer' }, style) },\n      this.props.children && React.createElement(\n        'i',\n        null,\n        React.createElement(\n          'span',\n          { itemProp: microdata ? \"name\" : '' },\n          peekText\n        ),\n        !this.props.universal && showIcon && icon\n      ),\n      this.state.open && this.state.facetedQ && React.createElement(\n        'div',\n        { className: 'peek', style: { fontSize: '80%', maxWidth: this.state.maxWidth || \"100%\" } },\n        result && this.quiltFromResults(),\n        React.createElement(\n          Link,\n          _extends({}, linkProps, { style: { width: '100%' } }),\n          result && result.hits && result.hits.total || 'search',\n          ' results for ',\n          searchExplanation,\n          React.createElement(\n            'span',\n            { style: { float: 'right', marginRight: '10px' }, className: 'more-results-link' },\n            'View more results'\n          ),\n          rider\n        )\n      ),\n      this.state.open && this.getQs().map(function (q) {\n        return React.createElement(Peek, { facet: _this.state.facet, q: q, key: q });\n      })\n    );\n  },\n  onClick: function onClick() {\n    if (this.state.startedOpen) return;\n    if (this.state.open) return this.setState({ open: false });\n\n    this.setState({\n      open: true,\n      loading: true\n    });\n\n    this.fetchResults();\n  },\n  quiltFromResults: function quiltFromResults() {\n    var _state2 = this.state,\n        results = _state2.results,\n        facetedQ = _state2.facetedQ;\n\n    var result = results && results[facetedQ];\n    var hits = result && result.hits && result.hits.hits || [];\n    var offset = this.props.offset || 0;\n\n    if (!result || !hits || hits.length <= (this.props.showSingleResult ? 0 : 1)) return React.createElement('span', null);\n    var wImg = ImageQuilt.getImagedResults(hits).slice(offset, offset + 10);\n    return React.createElement(ImageQuilt, _extends({\n      maxRows: 1,\n      maxWorks: 7,\n      artworks: wImg.length > 3 ? wImg : hits\n    }, this.props.quiltProps, {\n      onClick: this.linkToResults,\n      disableHover: true,\n      shuffle: this.props.shuffleQuilt\n    }));\n  },\n  handleResize: function handleResize() {\n    this.setState({ maxWidth: ReactDOM.findDOMNode(this).clientWidth });\n  },\n\n  componentDidMount: function componentDidMount() {\n    if (this.state.open) this.fetchResults();\n    this.handleResize();\n    window.addEventListener('resize', this.handleResize);\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n  },\n\n  getFacetedQ: function getFacetedQ(q, facet) {\n    var q = q || (this.state ? this.state.query : \"\");\n    var facet = facet || this.state && this.state.facet;\n    if (facet == 'artist') q = q.replace(/([^;]+:)/g, '').trim();\n    if (q == null) return false;\n    return facet ? facet + ':\"' + encodeURIComponent(q.replace(/\"/g, '').replace('\\r\\n', ' ')) + '\"' : q;\n  },\n  getQs: function getQs() {\n    var _this2 = this;\n\n    var q = this.state.query;\n    if (q.match(';')) {\n      return q.split(/;/).map(function (_q) {\n        var cleanedQ = _q.replace(/^.*attributed to|unknown|artist|after/ig, '').trim();\n        if (_this2.state && _this2.state.facet == 'artist') cleanedQ = cleanedQ.replace(/\\w+ by/, '');\n        return cleanedQ;\n      });\n    }\n    return [];\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    this.setState(this.setup(nextProps));\n  },\n  componentWillUpdate: function componentWillUpdate(_, nextState) {\n    if (this.state.open !== nextState.open) this.dispatchEvent();\n  },\n  fetchResults: function fetchResults() {\n    var _this3 = this;\n\n    var _state3 = this.state,\n        results = _state3.results,\n        facetedQ = _state3.facetedQ;\n\n\n    this.state.results[facetedQ] || rest(SEARCH + '/' + facetedQ + '?size=20').then(function (r) {\n      var results = _this3.state.results;\n      results[facetedQ] = JSON.parse(r.entity);\n      _this3.setState({\n        results: results,\n        loading: false\n      });\n    });\n  },\n  linkToResults: function linkToResults(art) {\n    if (!art) return;\n    window.clickedArtwork = art;\n    if (this.props.directLinkTo) {\n      var relatedJson = JSON.parse(art._source['related:' + this.props.directLinkTo]);\n      var url = relatedJson.link;\n      if (url) return window.location = url;\n    }\n    this.props.filtered ? this.transitionTo('filteredSearchResults', { terms: '*', splat: this.state.facetedQ }) : this.transitionTo('searchResults', { terms: this.state.facetedQ });\n  },\n  getDefaultProps: function getDefaultProps() {\n    return {\n      tag: \"div\",\n      showIcon: true,\n      showSingleResult: false,\n      showPeeks: true\n    };\n  },\n  dispatchEvent: function dispatchEvent() {\n    try {\n      window.dispatchEvent(new CustomEvent('peek'));\n    } catch (e) {}\n  }\n});\nPeek.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool\n};\n\nmodule.exports = Peek;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBlZWsuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiUmVhY3RET00iLCJSb3V0ZXIiLCJMaW5rIiwicmVzdCIsImRlYm91bmNlIiwiY2xhc3NuYW1lcyIsIlNFQVJDSCIsInNlYXJjaCIsIkltYWdlUXVpbHQiLCJzZWFyY2hMYW5ndWFnZU1hcCIsIk1hcmtkb3duIiwiUGVlayIsImNyZWF0ZUNsYXNzIiwibWl4aW5zIiwiU3RhdGUiLCJOYXZpZ2F0aW9uIiwicHJvcFR5cGVzIiwiY2hpbGRyZW4iLCJQcm9wVHlwZXMiLCJzdHJpbmciLCJzZXR1cCIsInByb3BzIiwicXMiLCJxIiwiZmFjZXQiLCJyZXN1bHRzIiwic3RhdGUiLCJvcGVuIiwicmVwbGFjZSIsIm1hdGNoIiwic3BsaXQiLCJqb2luIiwiY29udHJvbFZhbHVlIiwib2Zmc2V0IiwicXVlcnkiLCJmYWNldGVkUSIsImdldEZhY2V0ZWRRIiwic3RhcnRlZE9wZW4iLCJnZXRJbml0aWFsU3RhdGUiLCJyZW5kZXIiLCJUYWciLCJ0YWciLCJzaG93UGVla3MiLCJjaGlsZCIsIm1pY3JvZGF0YSIsInJlc3VsdCIsInNob3dJY29uIiwiaWNvbiIsImxpbmtQcm9wcyIsImZpbHRlcmVkIiwidG8iLCJwYXJhbXMiLCJ0ZXJtcyIsInNwbGF0IiwidGV4dCIsImhpZ2hsaWdodGVkVmFsdWUiLCJwZWVrVGV4dCIsImNvbnRleHQiLCJ1bml2ZXJzYWwiLCJxdWVyeVN0cmluZyIsImRlY29kZVVSSUNvbXBvbmVudCIsImh1bWFuTGFuZ3VhZ2UiLCJzZWFyY2hFeHBsYW5hdGlvbiIsInN0eWxlIiwicmlkZXIiLCJtYXhXaWR0aCIsIm9uQ2xpY2siLCJzdGFydGVkQ2xvc2VkIiwiY3Vyc29yIiwiZm9udFNpemUiLCJxdWlsdEZyb21SZXN1bHRzIiwid2lkdGgiLCJoaXRzIiwidG90YWwiLCJmbG9hdCIsIm1hcmdpblJpZ2h0IiwiZ2V0UXMiLCJtYXAiLCJzZXRTdGF0ZSIsImxvYWRpbmciLCJmZXRjaFJlc3VsdHMiLCJsZW5ndGgiLCJzaG93U2luZ2xlUmVzdWx0Iiwid0ltZyIsImdldEltYWdlZFJlc3VsdHMiLCJzbGljZSIsInF1aWx0UHJvcHMiLCJsaW5rVG9SZXN1bHRzIiwic2h1ZmZsZVF1aWx0IiwiaGFuZGxlUmVzaXplIiwiZmluZERPTU5vZGUiLCJjbGllbnRXaWR0aCIsImNvbXBvbmVudERpZE1vdW50Iiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInRyaW0iLCJlbmNvZGVVUklDb21wb25lbnQiLCJjbGVhbmVkUSIsIl9xIiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIm5leHRQcm9wcyIsImNvbXBvbmVudFdpbGxVcGRhdGUiLCJfIiwibmV4dFN0YXRlIiwiZGlzcGF0Y2hFdmVudCIsInRoZW4iLCJyIiwiSlNPTiIsInBhcnNlIiwiZW50aXR5IiwiYXJ0IiwiY2xpY2tlZEFydHdvcmsiLCJkaXJlY3RMaW5rVG8iLCJyZWxhdGVkSnNvbiIsIl9zb3VyY2UiLCJ1cmwiLCJsaW5rIiwibG9jYXRpb24iLCJ0cmFuc2l0aW9uVG8iLCJnZXREZWZhdWx0UHJvcHMiLCJDdXN0b21FdmVudCIsImUiLCJjb250ZXh0VHlwZXMiLCJyb3V0ZXIiLCJmdW5jIiwiYm9vbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUlBLFFBQVFDLFFBQVEsT0FBUixDQUFaO0FBQ0EsSUFBSUMsV0FBV0QsUUFBUSxXQUFSLENBQWY7QUFDQSxJQUFJRSxTQUFTRixRQUFRLGNBQVIsQ0FBYjtJQUNNRyxJLEdBQVNELE0sQ0FBVEMsSTs7QUFDTixJQUFJQyxPQUFPSixRQUFRLE1BQVIsQ0FBWDtBQUNBLElBQUlLLFdBQVdMLFFBQVEsVUFBUixDQUFmO0FBQ0EsSUFBSU0sYUFBYU4sUUFBUSxZQUFSLENBQWpCOztBQUVBLElBQUlPLFNBQVNQLFFBQVEsYUFBUixFQUF1QlEsTUFBcEM7QUFDQSxJ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S0FBTCxDQUFXNEIsUUFBWCxHQUNFLEtBQUt1RSxZQUFMLENBQWtCLHVCQUFsQixFQUEyQyxFQUFDcEUsT0FBTyxHQUFSLEVBQWFDLE9BQU8sS0FBSzNCLEtBQUwsQ0FBV1MsUUFBL0IsRUFBM0MsQ0FERixHQUVFLEtBQUtxRixZQUFMLENBQWtCLGVBQWxCLEVBQW1DLEVBQUNwRSxPQUFPLEtBQUsxQixLQUFMLENBQVdTLFFBQW5CLEVBQW5DLENBRkY7QUFHRCxHQXpMMEI7QUEyTDNCc0YsaUJBM0wyQiw2QkEyTFQ7QUFDaEIsV0FBTztBQUNMaEYsV0FBSyxLQURBO0FBRUxLLGdCQUFVLElBRkw7QUFHTG9DLHdCQUFrQixLQUhiO0FBSUx4QyxpQkFBVztBQUpOLEtBQVA7QUFNRCxHQWxNMEI7QUFvTTNCZ0UsZUFwTTJCLDJCQW9NWDtBQUNkLFFBQUk7QUFDRmIsYUFBT2EsYUFBUCxDQUFxQixJQUFJZ0IsV0FBSixDQUFnQixNQUFoQixDQUFyQjtBQUNELEtBRkQsQ0FFRSxPQUFNQyxDQUFOLEVBQVMsQ0FBRTtBQUNkO0FBeE0wQixDQUFsQixDQUFYO0FBME1BaEgsS0FBS2lILFlBQUwsR0FBb0I7QUFDbEJDLFVBQVEvSCxNQUFNb0IsU0FBTixDQUFnQjRHLElBRE47QUFFbEJwRSxhQUFXNUQsTUFBTW9CLFNBQU4sQ0FBZ0I2RztBQUZULENBQXBCOztBQUtBQyxPQUFPQyxPQUFQLEdBQWlCdEgsSUFBakIiLCJmaWxlIjoicGVlay5qcyIsInNvdXJjZVJvb3QiOiIvdmFyL3d3dy9hcnQvc3JjIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJlYWN0RE9NID0gcmVxdWlyZSgncmVhY3QtZG9tJylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHsgTGluayB9ID0gUm91dGVyXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxudmFyIGRlYm91bmNlID0gcmVxdWlyZSgnZGVib3VuY2UnKVxudmFyIGNsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJylcblxudmFyIFNFQVJDSCA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJykuc2VhcmNoXG52YXIgSW1hZ2VRdWlsdCA9IHJlcXVpcmUoJy4vaW1hZ2UtcXVpbHQnKVxudmFyIHNlYXJjaExhbmd1YWdlTWFwID0gcmVxdWlyZSgnLi9zZWFyY2gtbGFuZ3VhZ2UnKVxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi9tYXJrZG93bicpXG5cbnZhciBQZWVrID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBtaXhpbnM6IFtSb3V0ZXIuU3RhdGUsIFJvdXRlci5OYXZpZ2F0aW9uXSxcbiAgcHJvcFR5cGVzOiB7XG4gICAgY2hpbGRyZW46IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gIH0sXG5cbiAgLy8gVE9ETzogdGhpcyBpcyBhIG1lc3MsIHNpbXBsaWZ5IHRvIHVzaW5nIHByb3BzIGJldHRlciBzbyB0aGVyZSdzIGxlc3NcbiAgLy8gc3RhdGUgdG8gbWFuYWdlXG4gIHNldHVwKHByb3BzKSB7XG4gICAgdmFyIHFzXG4gICAgdmFyIHtxLCBmYWNldH0gPSBwcm9wc1xuICAgIHZhciByZXN1bHRzID0gdGhpcy5zdGF0ZSAmJiB0aGlzLnN0YXRlLnJlc3VsdHMgfHwge31cbiAgICB2YXIgb3BlbiA9IHRoaXMuc3RhdGUgPyB0aGlzLnN0YXRlLm9wZW4gOiAhIXFcbiAgICBpZihxICYmIHEucHJvcHMgJiYgcS5wcm9wcy5jaGlsZHJlbikgcSA9IHEucHJvcHMuY2hpbGRyZW4ucmVwbGFjZSgvPFxcLz9lbT4vZywgJycpXG4gICAgaWYocSAmJiBxLm1hdGNoKC86LykgJiYgIWZhY2V0KSB7XG4gICAgICBbZmFjZXQsIC4uLnFzXSA9IHEuc3BsaXQoLzovKVxuICAgICAgdmFyIHEgPSBxcy5qb2luKCc6JylcbiAgICB9XG4gICAgaWYoIXEpIHEgPSBwcm9wcy5jb250cm9sVmFsdWUgfHwgcHJvcHMuY2hpbGRyZW5cblxuICAgIHJldHVybiB7XG4gICAgICBmYWNldCxcbiAgICAgIG9wZW4sXG4gICAgICByZXN1bHRzLFxuICAgICAgb2Zmc2V0OiBwcm9wcy5vZmZzZXQgfHwgMCxcbiAgICAgIHF1ZXJ5OiBxLFxuICAgICAgZmFjZXRlZFE6IHRoaXMuZ2V0RmFjZXRlZFEocSwgZmFjZXQpLFxuICAgICAgc3RhcnRlZE9wZW46ICEhcHJvcHMucVxuICAgIH1cbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2V0dXAodGhpcy5wcm9wcylcbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIFRhZyA9IHRoaXMucHJvcHMudGFnXG4gICAgaWYoIXRoaXMucHJvcHMuc2hvd1BlZWtzKSByZXR1cm4gPFRhZz57dGhpcy5wcm9wcy5jaGlsZHJlbn08L1RhZz5cblxuICAgIHZhciB7cmVzdWx0cywgZmFjZXRlZFEsIHN0YXJ0ZWRPcGVufSA9IHRoaXMuc3RhdGVcbiAgICBpZighZmFjZXRlZFEpIHJldHVybiA8c3BhbiAvPlxuICAgIHZhciB7Y2hpbGQsIG1pY3JvZGF0YX0gPSB0aGlzLnByb3BzXG4gICAgdmFyIHJlc3VsdCA9IHJlc3VsdHMgJiYgcmVzdWx0c1tmYWNldGVkUV1cbiAgICB2YXIge3Nob3dJY29ufSA9IHRoaXMucHJvcHNcbiAgICB2YXIgaWNvbiA9IDxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zXCI+eydleHBhbmRfJysodGhpcy5zdGF0ZS5vcGVuID8gJ2xlc3MnIDogJ21vcmUnKX08L2k+XG4gICAgdmFyIGxpbmtQcm9wcyA9IHRoaXMucHJvcHMubGlua1Byb3BzIHx8IHRoaXMucHJvcHMuZmlsdGVyZWQgPyB7XG4gICAgICB0bzogXCJmaWx0ZXJlZFNlYXJjaFJlc3VsdHNcIixcbiAgICAgIHBhcmFtczoge3Rlcm1zOiAnKicsIHNwbGF0OiB0aGlzLnN0YXRlLmZhY2V0ZWRRIHx8IHRoaXMuc3RhdGUucX1cbiAgICB9IDoge1xuICAgICAgdG86IFwic2VhcmNoUmVzdWx0c1wiLFxuICAgICAgcGFyYW1zOiB7dGVybXM6IHRoaXMuc3RhdGUuZmFjZXRlZFEgfHwgdGhpcy5zdGF0ZS5xfVxuICAgIH1cbiAgICB2YXIgdGV4dCA9IHRoaXMucHJvcHMuaGlnaGxpZ2h0ZWRWYWx1ZSAhPT0gdGhpcy5wcm9wcy5jb250cm9sVmFsdWVcbiAgICAgID8gPE1hcmtkb3duIHRhZz1cInNwYW5cIj57dGhpcy5wcm9wcy5oaWdobGlnaHRlZFZhbHVlfTwvTWFya2Rvd24+XG4gICAgICA6IHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgICB2YXIgcGVla1RleHQgPSB0aGlzLmNvbnRleHQudW5pdmVyc2FsID9cbiAgICAgIDxMaW5rIGl0ZW1Qcm9wPXttaWNyb2RhdGEgPyBcInVybFwiIDogJyd9IHsuLi5saW5rUHJvcHN9Pnt0ZXh0fTwvTGluaz4gOlxuICAgICAgdGV4dFxuXG4gICAgdmFyIHF1ZXJ5U3RyaW5nID0gZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMuc3RhdGUuZmFjZXRlZFEpXG4gICAgdmFyIGh1bWFuTGFuZ3VhZ2UgPXNlYXJjaExhbmd1YWdlTWFwKHF1ZXJ5U3RyaW5nKVxuICAgIHZhciBzZWFyY2hFeHBsYW5hdGlvbiA9IGh1bWFuTGFuZ3VhZ2UgIT09IHF1ZXJ5U3RyaW5nID9cbiAgICAgIGh1bWFuTGFuZ3VhZ2UgOlxuICAgICAgYCR7dGhpcy5zdGF0ZS5xdWVyeX0gJHt0aGlzLnN0YXRlLmZhY2V0ICYmIGAoJHt0aGlzLnN0YXRlLmZhY2V0fSlgfWBcblxuICAgIHZhciBzdHlsZSA9IHRoaXMucHJvcHMuc3R5bGUgfHwge31cblxuICAgIHZhciByaWRlciA9IHRoaXMucHJvcHMuY29udHJvbFZhbHVlICYmIHRoaXMucHJvcHMuY29udHJvbFZhbHVlICE9PSAnTm90IG9uIFZpZXcnICYmIDxkaXY+XG4gICAgICA8aW1nIHNyYz17YGh0dHBzOi8vYXJ0c21pYS5naXRodWIuaW8vbWFwL2dhbGxlcmllcy8ke3RoaXMucHJvcHMuY29udHJvbFZhbHVlLnJlcGxhY2UoJ0cnLCAnJyl9LnBuZ2B9XG4gICAgICAgIHN0eWxlPXt7bWF4V2lkdGg6IFwiMTAwJVwifX1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG5cbiAgICByZXR1cm4gPFRhZyBvbkNsaWNrPXtkZWJvdW5jZSh0aGlzLm9uQ2xpY2ssIDIwMCl9IGNsYXNzTmFtZT17Y2xhc3NuYW1lcyhcInBlZWtcIiwge3N0YXJ0ZWRPcGVuOiBzdGFydGVkT3Blbiwgc3RhcnRlZENsb3NlZDogIXN0YXJ0ZWRPcGVuLCBvcGVuOnRoaXMuc3RhdGUub3Blbn0pfSBzdHlsZT17e2N1cnNvcjogJ3BvaW50ZXInLCAuLi5zdHlsZX19PlxuICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW4gJiYgPGk+XG4gICAgICAgIDxzcGFuIGl0ZW1Qcm9wPXttaWNyb2RhdGEgPyBcIm5hbWVcIiA6ICcnfT57cGVla1RleHR9PC9zcGFuPlxuICAgICAgICB7IXRoaXMucHJvcHMudW5pdmVyc2FsICYmIHNob3dJY29uICYmIGljb259XG4gICAgICA8L2k+fVxuICAgICAge3RoaXMuc3RhdGUub3BlbiAmJiB0aGlzLnN0YXRlLmZhY2V0ZWRRICYmIDxkaXYgY2xhc3NOYW1lPVwicGVla1wiIHN0eWxlPXt7Zm9udFNpemU6ICc4MCUnLCBtYXhXaWR0aDogdGhpcy5zdGF0ZS5tYXhXaWR0aCB8fCBcIjEwMCVcIn19PlxuICAgICAgICB7cmVzdWx0ICYmIHRoaXMucXVpbHRGcm9tUmVzdWx0cygpfVxuICAgICAgICA8TGluayB7Li4ubGlua1Byb3BzfSBzdHlsZT17e3dpZHRoOiAnMTAwJSd9fT5cbiAgICAgICAgICB7cmVzdWx0ICYmIHJlc3VsdC5oaXRzICYmIHJlc3VsdC5oaXRzLnRvdGFsIHx8ICdzZWFyY2gnfSByZXN1bHRzIGZvciB7c2VhcmNoRXhwbGFuYXRpb259XG4gICAgICAgICAgPHNwYW4gc3R5bGU9e3tmbG9hdDogJ3JpZ2h0JywgbWFyZ2luUmlnaHQ6ICcxMHB4J319IGNsYXNzTmFtZT1cIm1vcmUtcmVzdWx0cy1saW5rXCI+VmlldyBtb3JlIHJlc3VsdHM8L3NwYW4+XG4gICAgICAgICAge3JpZGVyfVxuICAgICAgICA8L0xpbms+XG4gICAgICA8L2Rpdj59XG4gICAgICB7dGhpcy5zdGF0ZS5vcGVuICYmIHRoaXMuZ2V0UXMoKS5tYXAoKHEpID0+IDxQZWVrIGZhY2V0PXt0aGlzLnN0YXRlLmZhY2V0fSBxPXtxfSBrZXk9e3F9IC8+KX1cbiAgICA8L1RhZz5cbiAgfSxcblxuICBvbkNsaWNrKCkge1xuICAgIGlmKHRoaXMuc3RhdGUuc3RhcnRlZE9wZW4pIHJldHVyblxuICAgIGlmKHRoaXMuc3RhdGUub3BlbikgcmV0dXJuIHRoaXMuc2V0U3RhdGUoe29wZW46IGZhbHNlfSlcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgb3BlbjogdHJ1ZSxcbiAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgfSlcblxuICAgIHRoaXMuZmV0Y2hSZXN1bHRzKClcbiAgfSxcblxuICBxdWlsdEZyb21SZXN1bHRzKCkge1xuICAgIHZhciB7cmVzdWx0cywgZmFjZXRlZFF9ID0gdGhpcy5zdGF0ZVxuICAgIHZhciByZXN1bHQgPSByZXN1bHRzICYmIHJlc3VsdHNbZmFjZXRlZFFdXG4gICAgdmFyIGhpdHMgPSByZXN1bHQgJiYgcmVzdWx0LmhpdHMgJiYgcmVzdWx0LmhpdHMuaGl0cyB8fCBbXVxuICAgIHZhciBvZmZzZXQgPSB0aGlzLnByb3BzLm9mZnNldCB8fCAwXG5cbiAgICBpZighcmVzdWx0IHx8ICFoaXRzIHx8IGhpdHMubGVuZ3RoIDw9ICh0aGlzLnByb3BzLnNob3dTaW5nbGVSZXN1bHQgPyAwIDogMSkpIHJldHVybiA8c3Bhbi8+XG4gICAgdmFyIHdJbWcgPSBJbWFnZVF1aWx0LmdldEltYWdlZFJlc3VsdHMoaGl0cykuc2xpY2Uob2Zmc2V0LCBvZmZzZXQrMTApXG4gICAgcmV0dXJuIDxJbWFnZVF1aWx0XG4gICAgICBtYXhSb3dzPXsxfVxuICAgICAgbWF4V29ya3M9ezd9XG4gICAgICBhcnR3b3Jrcz17d0ltZy5sZW5ndGggPiAzID8gd0ltZyA6IGhpdHN9XG4gICAgICB7Li4udGhpcy5wcm9wcy5xdWlsdFByb3BzfVxuICAgICAgb25DbGljaz17dGhpcy5saW5rVG9SZXN1bHRzfVxuICAgICAgZGlzYWJsZUhvdmVyPXt0cnVlfVxuICAgICAgc2h1ZmZsZT17dGhpcy5wcm9wcy5zaHVmZmxlUXVpbHR9XG4gICAgICAvPlxuICB9LFxuXG4gIGhhbmRsZVJlc2l6ZSgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHttYXhXaWR0aDogUmVhY3RET00uZmluZERPTU5vZGUodGhpcykuY2xpZW50V2lkdGh9KVxuICB9LFxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgaWYodGhpcy5zdGF0ZS5vcGVuKSB0aGlzLmZldGNoUmVzdWx0cygpXG4gICAgdGhpcy5oYW5kbGVSZXNpemUoKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmhhbmRsZVJlc2l6ZSlcbiAgfSxcbiAgY29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmhhbmRsZVJlc2l6ZSlcbiAgfSxcblxuICBnZXRGYWNldGVkUShxLCBmYWNldCkge1xuICAgIHZhciBxID0gcSB8fCAodGhpcy5zdGF0ZSA/IHRoaXMuc3RhdGUucXVlcnkgOiBcIlwiKVxuICAgIHZhciBmYWNldCA9IGZhY2V0IHx8IHRoaXMuc3RhdGUgJiYgdGhpcy5zdGF0ZS5mYWNldFxuICAgIGlmKGZhY2V0ID09ICdhcnRpc3QnKSBxID0gcS5yZXBsYWNlKC8oW147XSs6KS9nLCAnJykudHJpbSgpXG4gICAgaWYocSA9PSBudWxsKSByZXR1cm4gZmFsc2VcbiAgICByZXR1cm4gZmFjZXQgPyBgJHtmYWNldH06XCIke2VuY29kZVVSSUNvbXBvbmVudChxLnJlcGxhY2UoL1wiL2csICcnKS5yZXBsYWNlKCdcXHJcXG4nLCAnICcpKX1cImAgOiBxXG4gIH0sXG5cbiAgZ2V0UXMoKSB7XG4gICAgdmFyIHEgPSB0aGlzLnN0YXRlLnF1ZXJ5XG4gICAgaWYocS5tYXRjaCgnOycpKSB7XG4gICAgICByZXR1cm4gcS5zcGxpdCgvOy8pLm1hcChfcSA9PiB7XG4gICAgICAgIHZhciBjbGVhbmVkUSA9IF9xLnJlcGxhY2UoL14uKmF0dHJpYnV0ZWQgdG98dW5rbm93bnxhcnRpc3R8YWZ0ZXIvaWcsICcnKS50cmltKClcbiAgICAgICAgaWYodGhpcy5zdGF0ZSAmJiB0aGlzLnN0YXRlLmZhY2V0ID09ICdhcnRpc3QnKSBjbGVhbmVkUSA9IGNsZWFuZWRRLnJlcGxhY2UoL1xcdysgYnkvLCAnJylcbiAgICAgICAgcmV0dXJuIGNsZWFuZWRRXG4gICAgICB9KVxuICAgIH1cbiAgICByZXR1cm4gW11cbiAgfSxcblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIHRoaXMuc2V0U3RhdGUodGhpcy5zZXR1cChuZXh0UHJvcHMpKVxuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxVcGRhdGUoXywgbmV4dFN0YXRlKSB7XG4gICAgaWYodGhpcy5zdGF0ZS5vcGVuICE9PSBuZXh0U3RhdGUub3BlbikgdGhpcy5kaXNwYXRjaEV2ZW50KClcbiAgfSxcblxuICBmZXRjaFJlc3VsdHMoKSB7XG4gICAgdmFyIHtyZXN1bHRzLCBmYWNldGVkUX0gPSB0aGlzLnN0YXRlXG5cbiAgICB0aGlzLnN0YXRlLnJlc3VsdHNbZmFjZXRlZFFdIHx8IHJlc3QoYCR7U0VBUkNIfS8ke2ZhY2V0ZWRRfT9zaXplPTIwYCkudGhlbigocikgPT4ge1xuICAgICAgdmFyIHJlc3VsdHMgPSB0aGlzLnN0YXRlLnJlc3VsdHNcbiAgICAgIHJlc3VsdHNbZmFjZXRlZFFdID0gSlNPTi5wYXJzZShyLmVudGl0eSlcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICByZXN1bHRzOiByZXN1bHRzLFxuICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgIH0pXG4gICAgfSlcbiAgfSxcblxuICBsaW5rVG9SZXN1bHRzKGFydCkge1xuICAgIGlmKCFhcnQpIHJldHVyblxuICAgIHdpbmRvdy5jbGlja2VkQXJ0d29yayA9IGFydFxuICAgIGlmKHRoaXMucHJvcHMuZGlyZWN0TGlua1RvKSB7XG4gICAgICB2YXIgcmVsYXRlZEpzb24gPSBKU09OLnBhcnNlKGFydC5fc291cmNlW2ByZWxhdGVkOiR7dGhpcy5wcm9wcy5kaXJlY3RMaW5rVG99YF0pXG4gICAgICB2YXIgdXJsID0gcmVsYXRlZEpzb24ubGlua1xuICAgICAgaWYodXJsKSByZXR1cm4gd2luZG93LmxvY2F0aW9uID0gdXJsXG4gICAgfVxuICAgIHRoaXMucHJvcHMuZmlsdGVyZWQgP1xuICAgICAgdGhpcy50cmFuc2l0aW9uVG8oJ2ZpbHRlcmVkU2VhcmNoUmVzdWx0cycsIHt0ZXJtczogJyonLCBzcGxhdDogdGhpcy5zdGF0ZS5mYWNldGVkUX0pIDpcbiAgICAgIHRoaXMudHJhbnNpdGlvblRvKCdzZWFyY2hSZXN1bHRzJywge3Rlcm1zOiB0aGlzLnN0YXRlLmZhY2V0ZWRRfSlcbiAgfSxcblxuICBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRhZzogXCJkaXZcIixcbiAgICAgIHNob3dJY29uOiB0cnVlLFxuICAgICAgc2hvd1NpbmdsZVJlc3VsdDogZmFsc2UsXG4gICAgICBzaG93UGVla3M6IHRydWUsXG4gICAgfVxuICB9LFxuXG4gIGRpc3BhdGNoRXZlbnQoKSB7XG4gICAgdHJ5IHtcbiAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncGVlaycpKVxuICAgIH0gY2F0Y2goZSkge31cbiAgfSxcbn0pXG5QZWVrLmNvbnRleHRUeXBlcyA9IHtcbiAgcm91dGVyOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgdW5pdmVyc2FsOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQZWVrXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "peek.js"
      ],
      "names": [
        "React",
        "require",
        "ReactDOM",
        "Router",
        "Link",
        "rest",
        "debounce",
        "classnames",
        "SEARCH",
        "search",
        "ImageQuilt",
        "searchLanguageMap",
        "Markdown",
        "Peek",
        "createClass",
        "mixins",
        "State",
        "Navigation",
        "propTypes",
        "children",
        "PropTypes",
        "string",
        "setup",
        "props",
        "qs",
        "q",
        "facet",
        "results",
        "state",
        "open",
        "replace",
        "match",
        "split",
        "join",
        "controlValue",
        "offset",
        "query",
        "facetedQ",
        "getFacetedQ",
        "startedOpen",
        "getInitialState",
        "render",
        "Tag",
        "tag",
        "showPeeks",
        "child",
        "microdata",
        "result",
        "showIcon",
        "icon",
        "linkProps",
        "filtered",
        "to",
        "params",
        "terms",
        "splat",
        "text",
        "highlightedValue",
        "peekText",
        "context",
        "universal",
        "queryString",
        "decodeURIComponent",
        "humanLanguage",
        "searchExplanation",
        "style",
        "rider",
        "maxWidth",
        "onClick",
        "startedClosed",
        "cursor",
        "fontSize",
        "quiltFromResults",
        "width",
        "hits",
        "total",
        "float",
        "marginRight",
        "getQs",
        "map",
        "setState",
        "loading",
        "fetchResults",
        "length",
        "showSingleResult",
        "wImg",
        "getImagedResults",
        "slice",
        "quiltProps",
        "linkToResults",
        "shuffleQuilt",
        "handleResize",
        "findDOMNode",
        "clientWidth",
        "componentDidMount",
        "window",
        "addEventListener",
        "componentWillUnmount",
        "removeEventListener",
        "trim",
        "encodeURIComponent",
        "cleanedQ",
        "_q",
        "componentWillReceiveProps",
        "nextProps",
        "componentWillUpdate",
        "_",
        "nextState",
        "dispatchEvent",
        "then",
        "r",
        "JSON",
        "parse",
        "entity",
        "art",
        "clickedArtwork",
        "directLinkTo",
        "relatedJson",
        "_source",
        "url",
        "link",
        "location",
        "transitionTo",
        "getDefaultProps",
        "CustomEvent",
        "e",
        "contextTypes",
        "router",
        "func",
        "bool",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "peek.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar ReactDOM = require('react-dom')\nvar Router = require('react-router')\nvar { Link } = Router\nvar rest = require('rest')\nvar debounce = require('debounce')\nvar classnames = require('classnames')\n\nvar SEARCH = require('./endpoints').search\nvar ImageQuilt = require('./image-quilt')\nvar searchLanguageMap = require('./search-language')\nvar Markdown = require('./markdown')\n\nvar Peek = React.createClass({\n  mixins: [Router.State, Router.Navigation],\n  propTypes: {\n    children: React.PropTypes.string,\n  },\n\n  // TODO: this is a mess, simplify to using props better so there's less\n  // state to manage\n  setup(props) {\n    var qs\n    var {q, facet} = props\n    var results = this.state && this.state.results || {}\n    var open = this.state ? this.state.open : !!q\n    if(q && q.props && q.props.children) q = q.props.children.replace(/<\\/?em>/g, '')\n    if(q && q.match(/:/) && !facet) {\n      [facet, ...qs] = q.split(/:/)\n      var q = qs.join(':')\n    }\n    if(!q) q = props.controlValue || props.children\n\n    return {\n      facet,\n      open,\n      results,\n      offset: props.offset || 0,\n      query: q,\n      facetedQ: this.getFacetedQ(q, facet),\n      startedOpen: !!props.q\n    }\n  },\n\n  getInitialState() {\n    return this.setup(this.props)\n  },\n\n  render() {\n    var Tag = this.props.tag\n    if(!this.props.showPeeks) return <Tag>{this.props.children}</Tag>\n\n    var {results, facetedQ, startedOpen} = this.state\n    if(!facetedQ) return <span />\n    var {child, microdata} = this.props\n    var result = results && results[facetedQ]\n    var {showIcon} = this.props\n    var icon = <i className=\"material-icons\">{'expand_'+(this.state.open ? 'less' : 'more')}</i>\n    var linkProps = this.props.linkProps || this.props.filtered ? {\n      to: \"filteredSearchResults\",\n      params: {terms: '*', splat: this.state.facetedQ || this.state.q}\n    } : {\n      to: \"searchResults\",\n      params: {terms: this.state.facetedQ || this.state.q}\n    }\n    var text = this.props.highlightedValue !== this.props.controlValue\n      ? <Markdown tag=\"span\">{this.props.highlightedValue}</Markdown>\n      : this.props.children\n    var peekText = this.context.universal ?\n      <Link itemProp={microdata ? \"url\" : ''} {...linkProps}>{text}</Link> :\n      text\n\n    var queryString = decodeURIComponent(this.state.facetedQ)\n    var humanLanguage =searchLanguageMap(queryString)\n    var searchExplanation = humanLanguage !== queryString ?\n      humanLanguage :\n      `${this.state.query} ${this.state.facet && `(${this.state.facet})`}`\n\n    var style = this.props.style || {}\n\n    var rider = this.props.controlValue && this.props.controlValue !== 'Not on View' && <div>\n      <img src={`https://artsmia.github.io/map/galleries/${this.props.controlValue.replace('G', '')}.png`}\n        style={{maxWidth: \"100%\"}}\n      />\n    </div>\n\n    return <Tag onClick={debounce(this.onClick, 200)} className={classnames(\"peek\", {startedOpen: startedOpen, startedClosed: !startedOpen, open:this.state.open})} style={{cursor: 'pointer', ...style}}>\n      {this.props.children && <i>\n        <span itemProp={microdata ? \"name\" : ''}>{peekText}</span>\n        {!this.props.universal && showIcon && icon}\n      </i>}\n      {this.state.open && this.state.facetedQ && <div className=\"peek\" style={{fontSize: '80%', maxWidth: this.state.maxWidth || \"100%\"}}>\n        {result && this.quiltFromResults()}\n        <Link {...linkProps} style={{width: '100%'}}>\n          {result && result.hits && result.hits.total || 'search'} results for {searchExplanation}\n          <span style={{float: 'right', marginRight: '10px'}} className=\"more-results-link\">View more results</span>\n          {rider}\n        </Link>\n      </div>}\n      {this.state.open && this.getQs().map((q) => <Peek facet={this.state.facet} q={q} key={q} />)}\n    </Tag>\n  },\n\n  onClick() {\n    if(this.state.startedOpen) return\n    if(this.state.open) return this.setState({open: false})\n\n    this.setState({\n      open: true,\n      loading: true,\n    })\n\n    this.fetchResults()\n  },\n\n  quiltFromResults() {\n    var {results, facetedQ} = this.state\n    var result = results && results[facetedQ]\n    var hits = result && result.hits && result.hits.hits || []\n    var offset = this.props.offset || 0\n\n    if(!result || !hits || hits.length <= (this.props.showSingleResult ? 0 : 1)) return <span/>\n    var wImg = ImageQuilt.getImagedResults(hits).slice(offset, offset+10)\n    return <ImageQuilt\n      maxRows={1}\n      maxWorks={7}\n      artworks={wImg.length > 3 ? wImg : hits}\n      {...this.props.quiltProps}\n      onClick={this.linkToResults}\n      disableHover={true}\n      shuffle={this.props.shuffleQuilt}\n      />\n  },\n\n  handleResize() {\n    this.setState({maxWidth: ReactDOM.findDOMNode(this).clientWidth})\n  },\n  componentDidMount: function() {\n    if(this.state.open) this.fetchResults()\n    this.handleResize()\n    window.addEventListener('resize', this.handleResize)\n  },\n  componentWillUnmount: function() {\n    window.removeEventListener('resize', this.handleResize)\n  },\n\n  getFacetedQ(q, facet) {\n    var q = q || (this.state ? this.state.query : \"\")\n    var facet = facet || this.state && this.state.facet\n    if(facet == 'artist') q = q.replace(/([^;]+:)/g, '').trim()\n    if(q == null) return false\n    return facet ? `${facet}:\"${encodeURIComponent(q.replace(/\"/g, '').replace('\\r\\n', ' '))}\"` : q\n  },\n\n  getQs() {\n    var q = this.state.query\n    if(q.match(';')) {\n      return q.split(/;/).map(_q => {\n        var cleanedQ = _q.replace(/^.*attributed to|unknown|artist|after/ig, '').trim()\n        if(this.state && this.state.facet == 'artist') cleanedQ = cleanedQ.replace(/\\w+ by/, '')\n        return cleanedQ\n      })\n    }\n    return []\n  },\n\n  componentWillReceiveProps(nextProps) {\n    this.setState(this.setup(nextProps))\n  },\n\n  componentWillUpdate(_, nextState) {\n    if(this.state.open !== nextState.open) this.dispatchEvent()\n  },\n\n  fetchResults() {\n    var {results, facetedQ} = this.state\n\n    this.state.results[facetedQ] || rest(`${SEARCH}/${facetedQ}?size=20`).then((r) => {\n      var results = this.state.results\n      results[facetedQ] = JSON.parse(r.entity)\n      this.setState({\n        results: results,\n        loading: false,\n      })\n    })\n  },\n\n  linkToResults(art) {\n    if(!art) return\n    window.clickedArtwork = art\n    if(this.props.directLinkTo) {\n      var relatedJson = JSON.parse(art._source[`related:${this.props.directLinkTo}`])\n      var url = relatedJson.link\n      if(url) return window.location = url\n    }\n    this.props.filtered ?\n      this.transitionTo('filteredSearchResults', {terms: '*', splat: this.state.facetedQ}) :\n      this.transitionTo('searchResults', {terms: this.state.facetedQ})\n  },\n\n  getDefaultProps() {\n    return {\n      tag: \"div\",\n      showIcon: true,\n      showSingleResult: false,\n      showPeeks: true,\n    }\n  },\n\n  dispatchEvent() {\n    try {\n      window.dispatchEvent(new CustomEvent('peek'))\n    } catch(e) {}\n  },\n})\nPeek.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n}\n\nmodule.exports = Peek\n"
      ]
    },
    "mtime": 1588088003288
  },
  "{\"filename\":\"/var/www/art/src/search-results/focused.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src/search-results\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/search-results/focused.js",
      "filenameRelative": "/var/www/art/src/search-results/focused.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "focused.js",
      "sourceFileName": "focused.js",
      "sourceRoot": "/var/www/art/src/search-results",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src/search-results",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "focused"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\n\nvar ArtworkPreview = require('../artwork-preview');\nvar Markdown = require('../markdown');\nvar Sticky = require('../bottom-sticky');\nvar ArtworkRelated = require('../artwork-related');\n\nvar FocusedResult = React.createClass({\n  displayName: 'FocusedResult',\n  render: function render() {\n    var leftSpacing = this.props.leftColumnWidth.replace(/(\\d+)/, function (int) {\n      return parseInt(int) + 3;\n    });\n    var _props = this.props,\n        art = _props.art,\n        highlights = _props.highlights;\n\n    var hasRelatedHighlight = highlights && Object.keys(highlights).join(' ').match(/related:/);\n\n    return React.createElement(\n      Sticky,\n      {\n        className: 'focusedResult',\n        baseStyle: { position: 'relative', top: 0, left: leftSpacing, right: 0, width: '60%' },\n        stickyStyle: { position: 'fixed' }\n      },\n      React.createElement(ArtworkPreview, { art: art, highlights: highlights, showLink: true, onlyShowHighlightDetails: true, key: art.id }),\n      React.createElement(\n        'span',\n        { className: 'closePreview', style: { position: 'absolute', right: '1em', marginTop: '1em', cursor: 'pointer' }, onClick: this.close },\n        React.createElement(\n          'i',\n          { className: 'material-icons' },\n          'clear'\n        )\n      ),\n      React.createElement(ArtworkRelated, { id: art.id, art: art, skipWrapper: true, highlights: highlights })\n    );\n  },\n  close: function close() {\n    this.props.focusHandler();\n  }\n});\n\nmodule.exports = FocusedResult;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvY3VzZWQuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiQXJ0d29ya1ByZXZpZXciLCJNYXJrZG93biIsIlN0aWNreSIsIkFydHdvcmtSZWxhdGVkIiwiRm9jdXNlZFJlc3VsdCIsImNyZWF0ZUNsYXNzIiwicmVuZGVyIiwibGVmdFNwYWNpbmciLCJwcm9wcyIsImxlZnRDb2x1bW5XaWR0aCIsInJlcGxhY2UiLCJwYXJzZUludCIsImludCIsImFydCIsImhpZ2hsaWdodHMiLCJoYXNSZWxhdGVkSGlnaGxpZ2h0IiwiT2JqZWN0Iiwia2V5cyIsImpvaW4iLCJtYXRjaCIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsInJpZ2h0Iiwid2lkdGgiLCJpZCIsIm1hcmdpblRvcCIsImN1cnNvciIsImNsb3NlIiwiZm9jdXNIYW5kbGVyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxRQUFRQyxRQUFRLE9BQVIsQ0FBWjs7QUFFQSxJQUFJQyxpQkFBaUJELFFBQVEsb0JBQVIsQ0FBckI7QUFDQSxJQUFJRSxXQUFXRixRQUFRLGFBQVIsQ0FBZjtBQUNBLElBQUlHLFNBQVNILFFBQVEsa0JBQVIsQ0FBYjtBQUNBLElBQUlJLGlCQUFpQkosUUFBUSxvQkFBUixDQUFyQjs7QUFFQSxJQUFJSyxnQkFBZ0JOLE1BQU1PLFdBQU4sQ0FBa0I7QUFBQTtBQUNwQ0MsUUFEb0Msb0JBQzNCO0FBQ1AsUUFBSUMsY0FBYyxLQUFLQyxLQUFMLENBQVdDLGVBQVgsQ0FBMkJDLE9BQTNCLENBQW1DLE9BQW5DLEVBQTRDO0FBQUEsYUFBT0MsU0FBU0MsR0FBVCxJQUFjLENBQXJCO0FBQUEsS0FBNUMsQ0FBbEI7QUFETyxpQkFFaUIsS0FBS0osS0FGdEI7QUFBQSxRQUVGSyxHQUZFLFVBRUZBLEdBRkU7QUFBQSxRQUVHQyxVQUZILFVBRUdBLFVBRkg7O0FBR1AsUUFBSUMsc0JBQXNCRCxjQUFjRSxPQUFPQyxJQUFQLENBQVlILFVBQVosRUFBd0JJLElBQXhCLENBQTZCLEdBQTdCLEVBQWtDQyxLQUFsQyxDQUF3QyxVQUF4QyxDQUF4Qzs7QUFFQSxXQUFPO0FBQUMsWUFBRDtBQUFBO0FBQ0wsbUJBQVUsZUFETDtBQUVMLG1CQUFXLEVBQUNDLFVBQVUsVUFBWCxFQUF1QkMsS0FBSyxDQUE1QixFQUErQkMsTUFBTWYsV0FBckMsRUFBa0RnQixPQUFPLENBQXpELEVBQTREQyxPQUFPLEtBQW5FLEVBRk47QUFHTCxxQkFBYSxFQUFDSixVQUFVLE9BQVg7QUFIUjtBQUtMLDBCQUFDLGNBQUQsSUFBZ0IsS0FBS1AsR0FBckIsRUFBMEIsWUFBWUMsVUFBdEMsRUFBa0QsVUFBVSxJQUE1RCxFQUFrRSwwQkFBMEIsSUFBNUYsRUFBa0csS0FBS0QsSUFBSVksRUFBM0csR0FMSztBQU1MO0FBQUE7QUFBQSxVQUFNLFdBQVUsY0FBaEIsRUFBK0IsT0FBTyxFQUFDTCxVQUFVLFVBQVgsRUFBdUJHLE9BQU8sS0FBOUIsRUFBcUNHLFdBQVcsS0FBaEQsRUFBdURDLFFBQVEsU0FBL0QsRUFBdEMsRUFBaUgsU0FBUyxLQUFLQyxLQUEvSDtBQUNFO0FBQUE7QUFBQSxZQUFHLFdBQVUsZ0JBQWI7QUFBQTtBQUFBO0FBREYsT0FOSztBQVNMLDBCQUFDLGNBQUQsSUFBZ0IsSUFBSWYsSUFBSVksRUFBeEIsRUFBNEIsS0FBS1osR0FBakMsRUFBc0MsYUFBYSxJQUFuRCxFQUF5RCxZQUFZQyxVQUFyRTtBQVRLLEtBQVA7QUFXRCxHQWpCbUM7QUFtQnBDYyxPQW5Cb0MsbUJBbUI1QjtBQUNOLFNBQUtwQixLQUFMLENBQVdxQixZQUFYO0FBQ0Q7QUFyQm1DLENBQWxCLENBQXBCOztBQXdCQUMsT0FBT0MsT0FBUCxHQUFpQjNCLGFBQWpCIiwiZmlsZSI6ImZvY3VzZWQuanMiLCJzb3VyY2VSb290IjoiL3Zhci93d3cvYXJ0L3NyYy9zZWFyY2gtcmVzdWx0cyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcblxudmFyIEFydHdvcmtQcmV2aWV3ID0gcmVxdWlyZSgnLi4vYXJ0d29yay1wcmV2aWV3JylcbnZhciBNYXJrZG93biA9IHJlcXVpcmUoJy4uL21hcmtkb3duJylcbnZhciBTdGlja3kgPSByZXF1aXJlKCcuLi9ib3R0b20tc3RpY2t5JylcbnZhciBBcnR3b3JrUmVsYXRlZCA9IHJlcXVpcmUoJy4uL2FydHdvcmstcmVsYXRlZCcpXG5cbnZhciBGb2N1c2VkUmVzdWx0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIGxlZnRTcGFjaW5nID0gdGhpcy5wcm9wcy5sZWZ0Q29sdW1uV2lkdGgucmVwbGFjZSgvKFxcZCspLywgaW50ID0+IHBhcnNlSW50KGludCkrMylcbiAgICB2YXIge2FydCwgaGlnaGxpZ2h0c30gPSB0aGlzLnByb3BzXG4gICAgdmFyIGhhc1JlbGF0ZWRIaWdobGlnaHQgPSBoaWdobGlnaHRzICYmIE9iamVjdC5rZXlzKGhpZ2hsaWdodHMpLmpvaW4oJyAnKS5tYXRjaCgvcmVsYXRlZDovKVxuXG4gICAgcmV0dXJuIDxTdGlja3lcbiAgICAgIGNsYXNzTmFtZT1cImZvY3VzZWRSZXN1bHRcIlxuICAgICAgYmFzZVN0eWxlPXt7cG9zaXRpb246ICdyZWxhdGl2ZScsIHRvcDogMCwgbGVmdDogbGVmdFNwYWNpbmcsIHJpZ2h0OiAwLCB3aWR0aDogJzYwJSd9fVxuICAgICAgc3RpY2t5U3R5bGU9e3twb3NpdGlvbjogJ2ZpeGVkJ319XG4gICAgPlxuICAgICAgPEFydHdvcmtQcmV2aWV3IGFydD17YXJ0fSBoaWdobGlnaHRzPXtoaWdobGlnaHRzfSBzaG93TGluaz17dHJ1ZX0gb25seVNob3dIaWdobGlnaHREZXRhaWxzPXt0cnVlfSBrZXk9e2FydC5pZH0gLz5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNsb3NlUHJldmlld1wiIHN0eWxlPXt7cG9zaXRpb246ICdhYnNvbHV0ZScsIHJpZ2h0OiAnMWVtJywgbWFyZ2luVG9wOiAnMWVtJywgY3Vyc29yOiAncG9pbnRlcid9fSBvbkNsaWNrPXt0aGlzLmNsb3NlfT5cbiAgICAgICAgPGkgY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbnNcIj5jbGVhcjwvaT5cbiAgICAgIDwvc3Bhbj5cbiAgICAgIDxBcnR3b3JrUmVsYXRlZCBpZD17YXJ0LmlkfSBhcnQ9e2FydH0gc2tpcFdyYXBwZXI9e3RydWV9IGhpZ2hsaWdodHM9e2hpZ2hsaWdodHN9IC8+XG4gICAgPC9TdGlja3k+XG4gIH0sXG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5wcm9wcy5mb2N1c0hhbmRsZXIoKVxuICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBGb2N1c2VkUmVzdWx0XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "focused.js"
      ],
      "names": [
        "React",
        "require",
        "ArtworkPreview",
        "Markdown",
        "Sticky",
        "ArtworkRelated",
        "FocusedResult",
        "createClass",
        "render",
        "leftSpacing",
        "props",
        "leftColumnWidth",
        "replace",
        "parseInt",
        "int",
        "art",
        "highlights",
        "hasRelatedHighlight",
        "Object",
        "keys",
        "join",
        "match",
        "position",
        "top",
        "left",
        "right",
        "width",
        "id",
        "marginTop",
        "cursor",
        "close",
        "focusHandler",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;;AAEA,IAAIC,iBAAiBD,QAAQ,oBAAR,CAArB;AACA,IAAIE,WAAWF,QAAQ,aAAR,CAAf;AACA,IAAIG,SAASH,QAAQ,kBAAR,CAAb;AACA,IAAII,iBAAiBJ,QAAQ,oBAAR,CAArB;;AAEA,IAAIK,gBAAgBN,MAAMO,WAAN,CAAkB;AAAA;AACpCC,QADoC,oBAC3B;AACP,QAAIC,cAAc,KAAKC,KAAL,CAAWC,eAAX,CAA2BC,OAA3B,CAAmC,OAAnC,EAA4C;AAAA,aAAOC,SAASC,GAAT,IAAc,CAArB;AAAA,KAA5C,CAAlB;AADO,iBAEiB,KAAKJ,KAFtB;AAAA,QAEFK,GAFE,UAEFA,GAFE;AAAA,QAEGC,UAFH,UAEGA,UAFH;;AAGP,QAAIC,sBAAsBD,cAAcE,OAAOC,IAAP,CAAYH,UAAZ,EAAwBI,IAAxB,CAA6B,GAA7B,EAAkCC,KAAlC,CAAwC,UAAxC,CAAxC;;AAEA,WAAO;AAAC,YAAD;AAAA;AACL,mBAAU,eADL;AAEL,mBAAW,EAACC,UAAU,UAAX,EAAuBC,KAAK,CAA5B,EAA+BC,MAAMf,WAArC,EAAkDgB,OAAO,CAAzD,EAA4DC,OAAO,KAAnE,EAFN;AAGL,qBAAa,EAACJ,UAAU,OAAX;AAHR;AAKL,0BAAC,cAAD,IAAgB,KAAKP,GAArB,EAA0B,YAAYC,UAAtC,EAAkD,UAAU,IAA5D,EAAkE,0BAA0B,IAA5F,EAAkG,KAAKD,IAAIY,EAA3G,GALK;AAML;AAAA;AAAA,UAAM,WAAU,cAAhB,EAA+B,OAAO,EAACL,UAAU,UAAX,EAAuBG,OAAO,KAA9B,EAAqCG,WAAW,KAAhD,EAAuDC,QAAQ,SAA/D,EAAtC,EAAiH,SAAS,KAAKC,KAA/H;AACE;AAAA;AAAA,YAAG,WAAU,gBAAb;AAAA;AAAA;AADF,OANK;AASL,0BAAC,cAAD,IAAgB,IAAIf,IAAIY,EAAxB,EAA4B,KAAKZ,GAAjC,EAAsC,aAAa,IAAnD,EAAyD,YAAYC,UAArE;AATK,KAAP;AAWD,GAjBmC;AAmBpCc,OAnBoC,mBAmB5B;AACN,SAAKpB,KAAL,CAAWqB,YAAX;AACD;AArBmC,CAAlB,CAApB;;AAwBAC,OAAOC,OAAP,GAAiB3B,aAAjB",
      "file": "focused.js",
      "sourceRoot": "/var/www/art/src/search-results",
      "sourcesContent": [
        "var React = require('react')\n\nvar ArtworkPreview = require('../artwork-preview')\nvar Markdown = require('../markdown')\nvar Sticky = require('../bottom-sticky')\nvar ArtworkRelated = require('../artwork-related')\n\nvar FocusedResult = React.createClass({\n  render() {\n    var leftSpacing = this.props.leftColumnWidth.replace(/(\\d+)/, int => parseInt(int)+3)\n    var {art, highlights} = this.props\n    var hasRelatedHighlight = highlights && Object.keys(highlights).join(' ').match(/related:/)\n\n    return <Sticky\n      className=\"focusedResult\"\n      baseStyle={{position: 'relative', top: 0, left: leftSpacing, right: 0, width: '60%'}}\n      stickyStyle={{position: 'fixed'}}\n    >\n      <ArtworkPreview art={art} highlights={highlights} showLink={true} onlyShowHighlightDetails={true} key={art.id} />\n      <span className=\"closePreview\" style={{position: 'absolute', right: '1em', marginTop: '1em', cursor: 'pointer'}} onClick={this.close}>\n        <i className=\"material-icons\">clear</i>\n      </span>\n      <ArtworkRelated id={art.id} art={art} skipWrapper={true} highlights={highlights} />\n    </Sticky>\n  },\n\n  close() {\n    this.props.focusHandler()\n  },\n})\n\nmodule.exports = FocusedResult\n"
      ]
    },
    "mtime": 1588088003292
  },
  "{\"filename\":\"/var/www/art/src/artwork-preview.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/artwork-preview.js",
      "filenameRelative": "/var/www/art/src/artwork-preview.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "artwork-preview.js",
      "sourceFileName": "artwork-preview.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "artwork-preview"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar ArtworkImage = require('./artwork-image');\nvar Markdown = require('./markdown');\nvar Peek = require('./peek');\nvar Artwork = require('./_artwork');\nvar highlighter = require('./highlighter');\nvar ArtworkDetails = require('./artwork-details');\n\nvar ArtworkPreview = React.createClass({\n  displayName: 'ArtworkPreview',\n  getDefaultProps: function getDefaultProps() {\n    return {};\n  },\n  render: function render() {\n    var _props = this.props,\n        art = _props.art,\n        style = _props.style,\n        showLink = _props.showLink,\n        highlights = _props.highlights;\n\n    var id = isNaN(art.id) ? art.id.replace('http://api.artsmia.org/objects/', '') : art.id;\n\n    // Modify `text` of certain artworks to insert newlines\n    // that the API chomps out\n    var sideABRegex = /(SIDE [AB]:)/g;\n    if (art.text && art.text.match(sideABRegex)) {\n      art.text = art.text.replace(sideABRegex, '\\n\\n$1');\n    }\n    var highlight = highlighter.bind(null, art, highlights);\n\n    var showHighlights = highlights && React.createElement(\n      'div',\n      { className: 'artwork-detail', style: { marginTop: '1em' } },\n      React.createElement('hr', null),\n      React.createElement(ArtworkDetails, _extends({\n        art: art,\n        highlights: highlights,\n        skipFields: !this.props.showDuplicateDetails && \"title style artist medium credit accession_number gallery text tags\"\n      }, this.props))\n    );\n\n    var details = showLink ? React.createElement(\n      Link,\n      { to: 'artwork', params: { id: art.id } },\n      React.createElement(\n        'div',\n        { className: 'objects-page-link' },\n        React.createElement('div', { className: 'objects-page-icon' }),\n        'details'\n      )\n    ) : '';\n\n    return React.createElement(\n      Artwork.Figure,\n      { art: art, className: 'objects-focus', style: style, link: showLink, ignoreImageStyle: true },\n      React.createElement(\n        'div',\n        { className: 'art-details preview-header' },\n        art.deaccessioned == 'true' && React.createElement(DeaccessionedBanner, { art: art }),\n        art.accession_number.match(/^L/i) && React.createElement(LoanBanner, { art: art }),\n        art.object_name === 'Inspired By Mia' && React.createElement(InspiredByMiaBanner, { art: art }),\n        React.createElement(Artwork.Title, _extends({ art: art, link: showLink }, this.props)),\n        React.createElement(Artwork.Creator, _extends({ art: art }, this.props)),\n        React.createElement(Artwork.Tombstone, _extends({ art: art }, this.props, { highlightAccessionNumber: true })),\n        React.createElement(\n          'h6',\n          null,\n          React.createElement(\n            Peek,\n            { showPeeks: this.props.showPeeks, facet: 'room', highlightedValue: highlight('room'), controlValue: art.room },\n            art.room === 'Not on View' ? art.room : 'On View in Gallery ' + art.room.replace('G', '')\n          )\n        ),\n        this.props.children || React.createElement(\n          'div',\n          null,\n          React.createElement(\n            'div',\n            { className: 'description', itemProp: 'description' },\n            React.createElement(\n              Markdown,\n              null,\n              highlight('text')\n            )\n          ),\n          React.createElement(Artwork.LinkBar, { art: art, link: showLink }),\n          showHighlights\n        )\n      )\n    );\n  },\n  displayBio: function displayBio() {\n    var art = this.props.art;\n    var nationality = art.nationality,\n        life_date = art.life_date;\n\n    var lifeDateWithoutNationality = life_date && life_date.replace(nationality + ', ', '');\n    var nationAndDates = React.createElement(\n      'span',\n      null,\n      nationality && React.createElement(\n        'span',\n        null,\n        React.createElement(\n          Peek,\n          { facet: 'nationality', tag: 'span', showIcon: false },\n          nationality\n        ),\n        ', '\n      ),\n      lifeDateWithoutNationality && React.createElement(\n        Peek,\n        { facet: 'life_date', tag: 'span', showIcon: false },\n        lifeDateWithoutNationality\n      )\n    );\n\n    if (!nationality && !life_date) return React.createElement('span', null);\n    return React.createElement(\n      'div',\n      { className: 'display-bio' },\n      nationAndDates,\n      React.createElement('br', null),\n      art.role\n    );\n  }\n});\n\nmodule.exports = ArtworkPreview;\n\nvar DeaccessionedBanner = React.createClass({\n  displayName: 'DeaccessionedBanner',\n  render: function render() {\n    var art = this.props.art;\n\n    var date = art.deaccessionedDate.split('-')[0];\n    var reason = art.deaccessionedReason;\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'strong',\n        null,\n        'DEACCESSIONED'\n      ),\n      React.createElement(\n        'p',\n        null,\n        'This artwork was ',\n        React.createElement(\n          Link,\n          { to: '/info/deaccessions' },\n          'deaccessioned'\n        ),\n        reason && ' (' + reason + ')',\n        '\\xA0',\n        date && React.createElement(\n          'span',\n          null,\n          'in ',\n          date,\n          '.'\n        )\n      )\n    );\n  }\n});\n\nvar LoanBanner = React.createClass({\n  displayName: 'LoanBanner',\n  render: function render() {\n    var art = this.props.art;\n\n    var date = art.deaccessionedDate;\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'strong',\n        null,\n        'LOAN'\n      ),\n      React.createElement(\n        'p',\n        null,\n        'This artwork is not part of Mia\\'s collection. Its owner has temporarily loaned it to the museum to display.'\n      )\n    );\n  }\n});\n\nvar InspiredByMiaBanner = React.createClass({\n  displayName: 'InspiredByMiaBanner',\n  render: function render() {\n    var art = this.props.art;\n\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'p',\n        null,\n        React.createElement(\n          'strong',\n          null,\n          'Inspired By Mia'\n        ),\n        ': This artwork is not part of Mia\\'s collection, but was inspired by it. Our collection is here for you in person and online. An art museum has walls, but inspiration is limitless. ',\n        React.createElement(\n          Link,\n          { to: 'filteredSearchResults', params: { terms: '*', splat: '_exists_:\"related:inspiredByMia\"' }, query: { embed: 1 } },\n          'See all \\u2192'\n        )\n      )\n    );\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFydHdvcmstcHJldmlldy5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJSb3V0ZXIiLCJMaW5rIiwiQXJ0d29ya0ltYWdlIiwiTWFya2Rvd24iLCJQZWVrIiwiQXJ0d29yayIsImhpZ2hsaWdodGVyIiwiQXJ0d29ya0RldGFpbHMiLCJBcnR3b3JrUHJldmlldyIsImNyZWF0ZUNsYXNzIiwiZ2V0RGVmYXVsdFByb3BzIiwicmVuZGVyIiwicHJvcHMiLCJhcnQiLCJzdHlsZSIsInNob3dMaW5rIiwiaGlnaGxpZ2h0cyIsImlkIiwiaXNOYU4iLCJyZXBsYWNlIiwic2lkZUFCUmVnZXgiLCJ0ZXh0IiwibWF0Y2giLCJoaWdobGlnaHQiLCJiaW5kIiwic2hvd0hpZ2hsaWdodHMiLCJtYXJnaW5Ub3AiLCJzaG93RHVwbGljYXRlRGV0YWlscyIsImRldGFpbHMiLCJkZWFjY2Vzc2lvbmVkIiwiYWNjZXNzaW9uX251bWJlciIsIm9iamVjdF9uYW1lIiwic2hvd1BlZWtzIiwicm9vbSIsImNoaWxkcmVuIiwiZGlzcGxheUJpbyIsIm5hdGlvbmFsaXR5IiwibGlmZV9kYXRlIiwibGlmZURhdGVXaXRob3V0TmF0aW9uYWxpdHkiLCJuYXRpb25BbmREYXRlcyIsInJvbGUiLCJtb2R1bGUiLCJleHBvcnRzIiwiRGVhY2Nlc3Npb25lZEJhbm5lciIsImRhdGUiLCJkZWFjY2Vzc2lvbmVkRGF0ZSIsInNwbGl0IiwicmVhc29uIiwiZGVhY2Nlc3Npb25lZFJlYXNvbiIsIkxvYW5CYW5uZXIiLCJJbnNwaXJlZEJ5TWlhQmFubmVyIiwidGVybXMiLCJzcGxhdCIsImVtYmVkIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7QUFDQSxJQUFJQyxTQUFTRCxRQUFRLGNBQVIsQ0FBYjtJQUNNRSxJLEdBQVNELE0sQ0FBVEMsSTs7QUFDTixJQUFJQyxlQUFlSCxRQUFRLGlCQUFSLENBQW5CO0FBQ0EsSUFBSUksV0FBV0osUUFBUSxZ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QUFBO0FBQUE7QUFDTDtBQUFBO0FBQUE7QUFBQTtBQUFBLE9BREs7QUFFTDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRkssS0FBUDtBQU1EO0FBWGdDLENBQWxCLENBQWpCOztBQWNBLElBQUlLLHNCQUFzQnBELE1BQU1XLFdBQU4sQ0FBa0I7QUFBQTtBQUMxQ0UsUUFEMEMsb0JBQ2pDO0FBQUEsUUFDRkUsR0FERSxHQUNLLEtBQUtELEtBRFYsQ0FDRkMsR0FERTs7O0FBR1AsV0FBTztBQUFBO0FBQUE7QUFDTDtBQUFBO0FBQUE7QUFDRTtBQUFBO0FBQUE7QUFBQTtBQUFBLFNBREY7QUFBQTtBQUVvTDtBQUFDLGNBQUQ7QUFBQSxZQUFNLElBQUcsdUJBQVQsRUFBaUMsUUFBUSxFQUFDc0MsT0FBTyxHQUFSLEVBQWFDLHlDQUFiLEVBQXpDLEVBQWtHLE9BQU8sRUFBQ0MsT0FBTyxDQUFSLEVBQXpHO0FBQUE7QUFBQTtBQUZwTDtBQURLLEtBQVA7QUFNRDtBQVZ5QyxDQUFsQixDQUExQiIsImZpbGUiOiJhcnR3b3JrLXByZXZpZXcuanMiLCJzb3VyY2VSb290IjoiL3Zhci93d3cvYXJ0L3NyYyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHsgTGluayB9ID0gUm91dGVyXG52YXIgQXJ0d29ya0ltYWdlID0gcmVxdWlyZSgnLi9hcnR3b3JrLWltYWdlJylcbnZhciBNYXJrZG93biA9IHJlcXVpcmUoJy4vbWFya2Rvd24nKVxudmFyIFBlZWsgPSByZXF1aXJlKCcuL3BlZWsnKVxudmFyIEFydHdvcmsgPSByZXF1aXJlKCcuL19hcnR3b3JrJylcbnZhciBoaWdobGlnaHRlciA9IHJlcXVpcmUoJy4vaGlnaGxpZ2h0ZXInKVxudmFyIEFydHdvcmtEZXRhaWxzID0gcmVxdWlyZSgnLi9hcnR3b3JrLWRldGFpbHMnKVxuXG52YXIgQXJ0d29ya1ByZXZpZXcgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICByZXR1cm4ge1xuICAgIH1cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnQsIHN0eWxlLCBzaG93TGluaywgaGlnaGxpZ2h0c30gPSB0aGlzLnByb3BzXG4gICAgdmFyIGlkID0gaXNOYU4oYXJ0LmlkKSBcbiAgICAgID8gYXJ0LmlkLnJlcGxhY2UoJ2h0dHA6Ly9hcGkuYXJ0c21pYS5vcmcvb2JqZWN0cy8nLCAnJylcbiAgICAgIDogYXJ0LmlkXG5cbiAgICAvLyBNb2RpZnkgYHRleHRgIG9mIGNlcnRhaW4gYXJ0d29ya3MgdG8gaW5zZXJ0IG5ld2xpbmVzXG4gICAgLy8gdGhhdCB0aGUgQVBJIGNob21wcyBvdXRcbiAgICB2YXIgc2lkZUFCUmVnZXggPSAvKFNJREUgW0FCXTopL2dcbiAgICBpZihhcnQudGV4dCAmJiBhcnQudGV4dC5tYXRjaChzaWRlQUJSZWdleCkpIHtcbiAgICAgIGFydC50ZXh0ID0gYXJ0LnRleHQucmVwbGFjZShzaWRlQUJSZWdleCwgJ1xcblxcbiQxJylcbiAgICB9XG4gICAgdmFyIGhpZ2hsaWdodCA9IGhpZ2hsaWdodGVyLmJpbmQobnVsbCwgYXJ0LCBoaWdobGlnaHRzKVxuXG4gICAgdmFyIHNob3dIaWdobGlnaHRzID0gaGlnaGxpZ2h0cyAmJiA8ZGl2IGNsYXNzTmFtZT0nYXJ0d29yay1kZXRhaWwnIHN0eWxlPXt7bWFyZ2luVG9wOiAnMWVtJ319PlxuICAgICAgPGhyIC8+XG4gICAgICA8QXJ0d29ya0RldGFpbHNcbiAgICAgICAgYXJ0PXthcnR9XG4gICAgICAgIGhpZ2hsaWdodHM9e2hpZ2hsaWdodHN9XG4gICAgICAgIHNraXBGaWVsZHM9eyF0aGlzLnByb3BzLnNob3dEdXBsaWNhdGVEZXRhaWxzICYmIFwidGl0bGUgc3R5bGUgYXJ0aXN0IG1lZGl1bSBjcmVkaXQgYWNjZXNzaW9uX251bWJlciBnYWxsZXJ5IHRleHQgdGFnc1wifVxuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgIC8+XG4gICAgPC9kaXY+XG5cbiAgICB2YXIgZGV0YWlscyA9IHNob3dMaW5rID8gPExpbmsgdG89XCJhcnR3b3JrXCIgcGFyYW1zPXt7aWQ6IGFydC5pZH19PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJvYmplY3RzLXBhZ2UtbGlua1wiPjxkaXYgY2xhc3NOYW1lPVwib2JqZWN0cy1wYWdlLWljb25cIj48L2Rpdj5kZXRhaWxzPC9kaXY+XG4gICAgPC9MaW5rPiA6ICcnXG5cbiAgICByZXR1cm4gKFxuICAgICAgPEFydHdvcmsuRmlndXJlIGFydD17YXJ0fSBjbGFzc05hbWU9J29iamVjdHMtZm9jdXMnIHN0eWxlPXtzdHlsZX0gbGluaz17c2hvd0xpbmt9IGlnbm9yZUltYWdlU3R5bGU9e3RydWV9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFydC1kZXRhaWxzIHByZXZpZXctaGVhZGVyXCI+XG4gICAgICAgICAge2FydC5kZWFjY2Vzc2lvbmVkID09ICd0cnVlJyAmJiA8RGVhY2Nlc3Npb25lZEJhbm5lciBhcnQ9e2FydH0gLz59XG4gICAgICAgICAge2FydC5hY2Nlc3Npb25fbnVtYmVyLm1hdGNoKC9eTC9pKSAmJiA8TG9hbkJhbm5lciBhcnQ9e2FydH0gLz59XG4gICAgICAgICAge2FydC5vYmplY3RfbmFtZSA9PT0gJ0luc3BpcmVkIEJ5IE1pYScgJiYgPEluc3BpcmVkQnlNaWFCYW5uZXIgYXJ0PXthcnR9IC8+fVxuICAgICAgICAgIDxBcnR3b3JrLlRpdGxlIGFydD17YXJ0fSBsaW5rPXtzaG93TGlua30gey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgICAgPEFydHdvcmsuQ3JlYXRvciBhcnQ9e2FydH0gey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgICAgPEFydHdvcmsuVG9tYnN0b25lIGFydD17YXJ0fSB7Li4udGhpcy5wcm9wc30gaGlnaGxpZ2h0QWNjZXNzaW9uTnVtYmVyPXt0cnVlfSAvPlxuICAgICAgICAgIDxoNj5cbiAgICAgICAgICAgIDxQZWVrIHNob3dQZWVrcz17dGhpcy5wcm9wcy5zaG93UGVla3N9IGZhY2V0PVwicm9vbVwiIGhpZ2hsaWdodGVkVmFsdWU9e2hpZ2hsaWdodCgncm9vbScpfSBjb250cm9sVmFsdWU9e2FydC5yb29tfT5cbiAgICAgICAgICAgICAge2FydC5yb29tID09PSAnTm90IG9uIFZpZXcnID8gYXJ0LnJvb20gOiBgT24gVmlldyBpbiBHYWxsZXJ5ICR7YXJ0LnJvb20ucmVwbGFjZSgnRycsICcnKX1gfVxuICAgICAgICAgICAgPC9QZWVrPlxuICAgICAgICAgIDwvaDY+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW4gfHwgPGRpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGVzY3JpcHRpb25cIiBpdGVtUHJvcD1cImRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICAgIDxNYXJrZG93bj57aGlnaGxpZ2h0KCd0ZXh0Jyl9PC9NYXJrZG93bj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPEFydHdvcmsuTGlua0JhciBhcnQ9e2FydH0gbGluaz17c2hvd0xpbmt9IC8+XG4gICAgICAgICAgICB7c2hvd0hpZ2hsaWdodHN9XG4gICAgICAgICAgPC9kaXY+fVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvQXJ0d29yay5GaWd1cmU+XG4gICAgKVxuICB9LFxuXG4gIGRpc3BsYXlCaW8oKSB7XG4gICAgdmFyIHthcnR9ID0gdGhpcy5wcm9wc1xuICAgIHZhciB7bmF0aW9uYWxpdHksIGxpZmVfZGF0ZX0gPSBhcnRcbiAgICB2YXIgbGlmZURhdGVXaXRob3V0TmF0aW9uYWxpdHkgPSBsaWZlX2RhdGUgJiYgbGlmZV9kYXRlLnJlcGxhY2UobmF0aW9uYWxpdHkrJywgJywgJycpO1xuICAgIHZhciBuYXRpb25BbmREYXRlcyA9IDxzcGFuPlxuICAgICAge25hdGlvbmFsaXR5ICYmICg8c3Bhbj48UGVlayBmYWNldD1cIm5hdGlvbmFsaXR5XCIgdGFnPVwic3BhblwiIHNob3dJY29uPXtmYWxzZX0+e25hdGlvbmFsaXR5fTwvUGVlaz4sIDwvc3Bhbj4pfVxuICAgICAge2xpZmVEYXRlV2l0aG91dE5hdGlvbmFsaXR5ICYmIDxQZWVrIGZhY2V0PVwibGlmZV9kYXRlXCIgdGFnPVwic3BhblwiIHNob3dJY29uPXtmYWxzZX0+e2xpZmVEYXRlV2l0aG91dE5hdGlvbmFsaXR5fTwvUGVlaz59XG4gICAgPC9zcGFuPlxuXG4gICAgaWYoIW5hdGlvbmFsaXR5ICYmICFsaWZlX2RhdGUpIHJldHVybiA8c3Bhbi8+XG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPSdkaXNwbGF5LWJpbyc+XG4gICAgICB7bmF0aW9uQW5kRGF0ZXN9PGJyLz5cbiAgICAgIHthcnQucm9sZX1cbiAgICA8L2Rpdj5cbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gQXJ0d29ya1ByZXZpZXdcblxudmFyIERlYWNjZXNzaW9uZWRCYW5uZXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIge2FydH0gPSB0aGlzLnByb3BzXG4gICAgdmFyIGRhdGUgPSBhcnQuZGVhY2Nlc3Npb25lZERhdGUuc3BsaXQoJy0nKVswXVxuICAgIHZhciByZWFzb24gPSBhcnQuZGVhY2Nlc3Npb25lZFJlYXNvblxuXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8c3Ryb25nPkRFQUNDRVNTSU9ORUQ8L3N0cm9uZz5cbiAgICAgIDxwPlxuICAgICAgICBUaGlzIGFydHdvcmsgd2FzIDxMaW5rIHRvPVwiL2luZm8vZGVhY2Nlc3Npb25zXCI+ZGVhY2Nlc3Npb25lZDwvTGluaz57cmVhc29uICYmIGAgKCR7cmVhc29ufSlgfVxuICAgICAgICAmbmJzcDt7ZGF0ZSAmJiA8c3Bhbj5pbiB7ZGF0ZX0uPC9zcGFuPn1cbiAgICAgIDwvcD5cbiAgICA8L2Rpdj5cbiAgfSxcbn0pXG5cbnZhciBMb2FuQmFubmVyID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnR9ID0gdGhpcy5wcm9wc1xuICAgIHZhciBkYXRlID0gYXJ0LmRlYWNjZXNzaW9uZWREYXRlXG5cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIDxzdHJvbmc+TE9BTjwvc3Ryb25nPlxuICAgICAgPHA+XG4gICAgICAgIFRoaXMgYXJ0d29yayBpcyBub3QgcGFydCBvZiBNaWEncyBjb2xsZWN0aW9uLiBJdHMgb3duZXIgaGFzIHRlbXBvcmFyaWx5IGxvYW5lZCBpdCB0byB0aGUgbXVzZXVtIHRvIGRpc3BsYXkuXG4gICAgICA8L3A+XG4gICAgPC9kaXY+XG4gIH0sXG59KVxuXG52YXIgSW5zcGlyZWRCeU1pYUJhbm5lciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7YXJ0fSA9IHRoaXMucHJvcHNcblxuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPHA+XG4gICAgICAgIDxzdHJvbmc+SW5zcGlyZWQgQnkgTWlhPC9zdHJvbmc+OlxuICAgICAgICBUaGlzIGFydHdvcmsgaXMgbm90IHBhcnQgb2YgTWlhJ3MgY29sbGVjdGlvbiwgYnV0IHdhcyBpbnNwaXJlZCBieSBpdC4gT3VyIGNvbGxlY3Rpb24gaXMgaGVyZSBmb3IgeW91IGluIHBlcnNvbiBhbmQgb25saW5lLiBBbiBhcnQgbXVzZXVtIGhhcyB3YWxscywgYnV0IGluc3BpcmF0aW9uIGlzIGxpbWl0bGVzcy4gPExpbmsgdG89J2ZpbHRlcmVkU2VhcmNoUmVzdWx0cycgcGFyYW1zPXt7dGVybXM6ICcqJywgc3BsYXQ6IGBfZXhpc3RzXzpcInJlbGF0ZWQ6aW5zcGlyZWRCeU1pYVwiYH19IHF1ZXJ5PXt7ZW1iZWQ6IDF9fT5TZWUgYWxsICZyYXJyOzwvTGluaz5cbiAgICAgIDwvcD5cbiAgICA8L2Rpdj5cbiAgfSxcbn0pXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "artwork-preview.js"
      ],
      "names": [
        "React",
        "require",
        "Router",
        "Link",
        "ArtworkImage",
        "Markdown",
        "Peek",
        "Artwork",
        "highlighter",
        "ArtworkDetails",
        "ArtworkPreview",
        "createClass",
        "getDefaultProps",
        "render",
        "props",
        "art",
        "style",
        "showLink",
        "highlights",
        "id",
        "isNaN",
        "replace",
        "sideABRegex",
        "text",
        "match",
        "highlight",
        "bind",
        "showHighlights",
        "marginTop",
        "showDuplicateDetails",
        "details",
        "deaccessioned",
        "accession_number",
        "object_name",
        "showPeeks",
        "room",
        "children",
        "displayBio",
        "nationality",
        "life_date",
        "lifeDateWithoutNationality",
        "nationAndDates",
        "role",
        "module",
        "exports",
        "DeaccessionedBanner",
        "date",
        "deaccessionedDate",
        "split",
        "reason",
        "deaccessionedReason",
        "LoanBanner",
        "InspiredByMiaBanner",
        "terms",
        "splat",
        "embed"
      ],
      "mappings": "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",
      "file": "artwork-preview.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar { Link } = Router\nvar ArtworkImage = require('./artwork-image')\nvar Markdown = require('./markdown')\nvar Peek = require('./peek')\nvar Artwork = require('./_artwork')\nvar highlighter = require('./highlighter')\nvar ArtworkDetails = require('./artwork-details')\n\nvar ArtworkPreview = React.createClass({\n  getDefaultProps() {\n    return {\n    }\n  },\n\n  render() {\n    var {art, style, showLink, highlights} = this.props\n    var id = isNaN(art.id) \n      ? art.id.replace('http://api.artsmia.org/objects/', '')\n      : art.id\n\n    // Modify `text` of certain artworks to insert newlines\n    // that the API chomps out\n    var sideABRegex = /(SIDE [AB]:)/g\n    if(art.text && art.text.match(sideABRegex)) {\n      art.text = art.text.replace(sideABRegex, '\\n\\n$1')\n    }\n    var highlight = highlighter.bind(null, art, highlights)\n\n    var showHighlights = highlights && <div className='artwork-detail' style={{marginTop: '1em'}}>\n      <hr />\n      <ArtworkDetails\n        art={art}\n        highlights={highlights}\n        skipFields={!this.props.showDuplicateDetails && \"title style artist medium credit accession_number gallery text tags\"}\n        {...this.props}\n      />\n    </div>\n\n    var details = showLink ? <Link to=\"artwork\" params={{id: art.id}}>\n      <div className=\"objects-page-link\"><div className=\"objects-page-icon\"></div>details</div>\n    </Link> : ''\n\n    return (\n      <Artwork.Figure art={art} className='objects-focus' style={style} link={showLink} ignoreImageStyle={true}>\n        <div className=\"art-details preview-header\">\n          {art.deaccessioned == 'true' && <DeaccessionedBanner art={art} />}\n          {art.accession_number.match(/^L/i) && <LoanBanner art={art} />}\n          {art.object_name === 'Inspired By Mia' && <InspiredByMiaBanner art={art} />}\n          <Artwork.Title art={art} link={showLink} {...this.props} />\n          <Artwork.Creator art={art} {...this.props} />\n          <Artwork.Tombstone art={art} {...this.props} highlightAccessionNumber={true} />\n          <h6>\n            <Peek showPeeks={this.props.showPeeks} facet=\"room\" highlightedValue={highlight('room')} controlValue={art.room}>\n              {art.room === 'Not on View' ? art.room : `On View in Gallery ${art.room.replace('G', '')}`}\n            </Peek>\n          </h6>\n          {this.props.children || <div>\n            <div className=\"description\" itemProp=\"description\">\n              <Markdown>{highlight('text')}</Markdown>\n            </div>\n            <Artwork.LinkBar art={art} link={showLink} />\n            {showHighlights}\n          </div>}\n        </div>\n      </Artwork.Figure>\n    )\n  },\n\n  displayBio() {\n    var {art} = this.props\n    var {nationality, life_date} = art\n    var lifeDateWithoutNationality = life_date && life_date.replace(nationality+', ', '');\n    var nationAndDates = <span>\n      {nationality && (<span><Peek facet=\"nationality\" tag=\"span\" showIcon={false}>{nationality}</Peek>, </span>)}\n      {lifeDateWithoutNationality && <Peek facet=\"life_date\" tag=\"span\" showIcon={false}>{lifeDateWithoutNationality}</Peek>}\n    </span>\n\n    if(!nationality && !life_date) return <span/>\n    return <div className='display-bio'>\n      {nationAndDates}<br/>\n      {art.role}\n    </div>\n  },\n})\n\nmodule.exports = ArtworkPreview\n\nvar DeaccessionedBanner = React.createClass({\n  render() {\n    var {art} = this.props\n    var date = art.deaccessionedDate.split('-')[0]\n    var reason = art.deaccessionedReason\n\n    return <div>\n      <strong>DEACCESSIONED</strong>\n      <p>\n        This artwork was <Link to=\"/info/deaccessions\">deaccessioned</Link>{reason && ` (${reason})`}\n        &nbsp;{date && <span>in {date}.</span>}\n      </p>\n    </div>\n  },\n})\n\nvar LoanBanner = React.createClass({\n  render() {\n    var {art} = this.props\n    var date = art.deaccessionedDate\n\n    return <div>\n      <strong>LOAN</strong>\n      <p>\n        This artwork is not part of Mia's collection. Its owner has temporarily loaned it to the museum to display.\n      </p>\n    </div>\n  },\n})\n\nvar InspiredByMiaBanner = React.createClass({\n  render() {\n    var {art} = this.props\n\n    return <div>\n      <p>\n        <strong>Inspired By Mia</strong>:\n        This artwork is not part of Mia's collection, but was inspired by it. Our collection is here for you in person and online. An art museum has walls, but inspiration is limitless. <Link to='filteredSearchResults' params={{terms: '*', splat: `_exists_:\"related:inspiredByMia\"`}} query={{embed: 1}}>See all &rarr;</Link>\n      </p>\n    </div>\n  },\n})\n"
      ]
    },
    "mtime": 1612393616748
  },
  "{\"filename\":\"/var/www/art/src/artwork-details.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "slicedToArray",
        "extends",
        "toConsumableArray"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/artwork-details.js",
      "filenameRelative": "/var/www/art/src/artwork-details.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "artwork-details.js",
      "sourceFileName": "artwork-details.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "artwork-details"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar _require = require('react-router'),\n    Link = _require.Link;\n\nvar capitalize = require('capitalize');\nvar Isvg = require('react-inlinesvg');\nvar cx = require('classnames');\nvar ClickToSelect = require('@mapbox/react-click-to-select');\n\nvar Markdown = require('./markdown');\nvar Peek = require('./peek');\nvar dimensionSvg = require('./endpoints').dimensionSvg;\n\nvar _require2 = require('./rights-types.js'),\n    rightsDescriptions = _require2.legacy,\n    rightsStatements = _require2.rightsStatements,\n    findRightsByName = _require2.findByName,\n    RightsStatementIcon = _require2.RightsStatementIcon;\n\nvar feedbackSender = require('./email-data-sender');\nvar _Artwork = require('./_artwork');\n\nvar ArtworkDetails = React.createClass({\n  displayName: 'ArtworkDetails',\n  build: function build(field, fn) {\n    var _props = this.props,\n        art = _props.art,\n        highlights = _props.highlights;\n\n    if (this.props.onlyShowHighlightDetails && !highlights[field]) return;\n\n    var humanFieldName = capitalize.words(field).replace('_', ' ');\n    var artAndHighlights = this.artAndHighlights();\n\n    var _ref = fn ? fn(artAndHighlights, art) : [artAndHighlights[field]],\n        _ref2 = _slicedToArray(_ref, 2),\n        content = _ref2[0],\n        extraContent = _ref2[1];\n\n    if (!content || content == '') return;\n    var showExtra = extraContent && this.state.expandDetailsMatrix[field];\n    var classes = cx(\"detail-row\", { expandable: extraContent, expanded: showExtra }, field);\n\n    return React.createElement(\n      'div',\n      { className: classes, key: field },\n      React.createElement(\n        'div',\n        { onClick: this.toggleExtra.bind(this, field) },\n        React.createElement(\n          'dt',\n          { className: 'detail-title' },\n          humanFieldName\n        ),\n        React.createElement(\n          'dd',\n          { className: 'detail-content' },\n          content\n        )\n      ),\n      showExtra && React.createElement(\n        'div',\n        { className: 'detail-extra' },\n        extraContent\n      )\n    );\n  },\n  toggleExtra: function toggleExtra(field) {\n    var expandDetailsMatrix = this.state.expandDetailsMatrix;\n\n    expandDetailsMatrix[field] = !expandDetailsMatrix[field];\n    this.setState({ expandDetailsMatrix: expandDetailsMatrix });\n  },\n\n\n  // merge `art` with `highlights`, replacing the un-highlighted values with\n  // their 'highlit' equivalent\n  artAndHighlights: function artAndHighlights() {\n    var _props2 = this.props,\n        art = _props2.art,\n        highlights = _props2.highlights;\n\n\n    return !highlights ? art : Object.assign(_extends({}, art), Object.keys(highlights).reduce(function (object, key) {\n      var value = highlights[key] && highlights[key][0];\n      if (typeof value == 'string') value = React.createElement(\n        Markdown,\n        null,\n        value\n      );\n      object[key] = value;\n      return object;\n    }, {}));\n  },\n  buildPeekableDetail: function buildPeekableDetail(field, extra, value) {\n    var art = this.props.art;\n\n    var highlights = this.artAndHighlights();\n\n    return [field, function (art) {\n      return [value || highlights[field], React.createElement(\n        'div',\n        null,\n        extra,\n        React.createElement(Peek, { facet: field, q: value || art[field] })\n      )];\n    }];\n  },\n  details: function details() {\n    var _this = this;\n\n    var art = this.props.art;\n\n    return [['deaccessioned', function (art, raw) {\n      return [raw.deaccessioned && '' + art.deaccessionedDate, React.createElement(\n        'div',\n        null,\n        raw.deaccessionedReason && React.createElement(\n          'p',\n          null,\n          raw.deaccessionedReason\n        ),\n        React.createElement(\n          Link,\n          { to: '/info/deaccessions' },\n          'Artworks are deaccessioned for many reasons'\n        )\n      )];\n    }], ['title'], this.buildPeekableDetail('dated'), this.buildPeekableDetail('artist', this.props.art.life_date, art.artist.replace(/^([^;]+):/, '')), this.buildPeekableDetail('nationality'), ['artist_life', function (art) {\n      return [art.life_date && art.life_date.replace(new RegExp(art.nationality + \"(, )?\"), '')];\n    }], ['role', function (_, raw) {\n      var roleFromArtistField = raw.artist.match(/^([^;]+):/);\n      return [roleFromArtistField ? roleFromArtistField[1] : raw.role];\n    }], ['gallery', function (art, raw) {\n      return [art.room, React.createElement(Peek, { facet: 'room', q: raw.room })];\n    }], this.buildPeekableDetail('department'), ['dimension', function (art, rawArt) {\n      var showFancyDimension = art.dimension && _this.dimensions().length > 0;\n\n      return [art.dimension && React.createElement(\n        'div',\n        null,\n        showFancyDimension ? _this.dimensions().map(function (_ref3) {\n          var _ref4 = _slicedToArray(_ref3, 2),\n              d = _ref4[0],\n              aspect = _ref4[1];\n\n          return React.createElement(\n            'span',\n            { style: { display: 'block' }, onMouseEnter: _this.toggleDimensionGraphic.bind(_this, aspect), key: aspect },\n            d\n          );\n        }) : art.dimension\n      ), showFancyDimension && React.createElement(\n        'div',\n        null,\n        rawArt.dimension.match(/cm/) && React.createElement(Isvg, {\n          src: dimensionSvg(art.id, _this.state.dimensionGraphicName),\n          key: _this.state.dimensionGraphicName,\n          onLoad: _this.dimensionSvgLoaded\n        })\n      )];\n    }], ['credit', function (art, raw) {\n      return [art.creditline, React.createElement(Peek, { facet: 'creditline', q: raw.creditline })];\n    }], ['accession_number'], this.buildPeekableDetail('medium'), this.buildPeekableDetail('country'), this.buildPeekableDetail('culture'), ['century', function (art, raw) {\n      return [art.style, React.createElement(Peek, { facet: 'style', q: raw.style })];\n    }], ['provenance'], ['rights', function (art, raw) {\n      var rights = rightsDescriptions.getRights(art);\n      var rs = findRightsByName(rights);\n\n      return [(art.image_copyright || rights) && React.createElement(\n        'div',\n        null,\n        art.image_copyright && decodeURIComponent(art.image_copyright),\n        art.image_copyright && rights && React.createElement('br', null),\n        rights && React.createElement(\n          'span',\n          null,\n          rs ? rs.label : rights\n        )\n      ), React.createElement(\n        'div',\n        null,\n        rs && React.createElement(\n          'p',\n          null,\n          rs.definition,\n          React.createElement('br', null),\n          React.createElement(\n            'a',\n            { href: rs.id, title: 'See more information by visiting righststatments.org' },\n            React.createElement(RightsStatementIcon, {\n              statement: rs,\n              color: 'dark',\n              alt: ''\n            }),\n            ' ',\n            rs.label,\n            ' (',\n            rs.identifier,\n            ')'\n          )\n        ),\n        React.createElement(Peek, { facet: 'rights_type', q: rights }),\n        React.createElement(\n          'p',\n          null,\n          React.createElement(\n            'a',\n            { href: 'https://new.artsmia.org/copyright-and-image-access/' },\n            'Mia\\'s Copyright and Image Access & Use Policies'\n          )\n        )\n      )];\n    }],\n    // apparently markings/inscription/signed are 'for our eyes only'\n    // ['markings', (art) => {\n    //   // show deprecated `marks` field if none of the new `markings, signature, inscription` fields exist yet\n    //   return [art.markings || (!art.signature && !art.inscription && art.marks)]\n    // }],\n    // ['inscription'],\n    // ['signed'],\n    ['classification', function (art, raw) {\n      if (!raw.classification) return [];\n\n      var classificationPeeks = raw.classification.split(',').map(function (classification, index) {\n        return React.createElement(Peek, { facet: 'classification', q: classification, key: index });\n      });\n\n      return [React.createElement(\n        'p',\n        null,\n        art.classification\n      ), React.createElement(\n        'div',\n        null,\n        classificationPeeks\n      )];\n    }], this.buildPeekableDetail('object_name'),\n    // disable tags due to frequent inaccuracies\n    // ['tags', art => {\n    //   if(!art.tags) return []\n\n    //   var linkedTags = art.tags.trim().split(' ')\n    //   .map(tag => <Link to=\"searchResults\" params={{terms: `tags:${tag}`}} key={tag}>{tag.replace(/-/g, ' ')}</Link>)\n\n    //   return [\n    //     <p>{linkedTags.map((tag, index) => {\n    //       return <span key={index}>{tag}{(index == linkedTags.length-1 || ', ')}</span>\n    //     })}</p>\n    // ]\n    // }],\n    ['catalogue_raisonne', function (art) {\n      if (!art.catalogue_raissonne) return [];\n      return [React.createElement(\n        'div',\n        null,\n        art.catalogue_raissonne\n      )];\n    }], ['wikipedia', function (art) {\n      return ['Cite this information', React.createElement(\n        'div',\n        null,\n        React.createElement(\n          ClickToSelect,\n          null,\n          React.createElement(\n            'code',\n            { name: 'Mia' },\n            '{{cite web |title=',\n            art.title,\n            ' |url=https://collections.artsmia.org/art/',\n            art.id,\n            ' |author=',\n            art.artist,\n            ' |year=',\n            art.dated,\n            ' |accessdate=',\n            new Date().toUTCString().split(' ').slice(1, 4).join(' '),\n            ' |publisher=Minneapolis Institute of Art}}'\n          )\n        )\n      )];\n    }], ['IIIF', function (art) {\n      if (true || art.rights_type !== 'Public Domain') return [];\n\n      var manifestLink = 'https://iiif.dx.artsmia.org/' + art.id + '.jpg/manifest.json';\n      var uvLink = 'https://universalviewer.io/uv.html?manifest=' + manifestLink;\n      var miradorLink = 'https://projectmirador.org/embed/?iiif-content=' + manifestLink;\n\n      return ['Share this image with IIIF', React.createElement(\n        'div',\n        null,\n        React.createElement(\n          'p',\n          null,\n          React.createElement(\n            'a',\n            { href: 'https://iiif.io/' },\n            React.createElement(\n              'abbr',\n              { title: 'international image interoperability framework' },\n              'IIIF'\n            )\n          ),\n          ' provides a way for images to be shared in a standard way.'\n        ),\n        React.createElement(\n          'p',\n          null,\n          'This artworks has a \\u201C',\n          React.createElement(\n            'a',\n            { href: manifestLink },\n            'Manifest'\n          ),\n          '\\u201D that encodes information about it and that can be linked into a wide range of IIIF-enabled systems.'\n        ),\n        React.createElement(\n          'p',\n          null,\n          '(Such as ',\n          React.createElement(\n            'a',\n            { href: uvLink },\n            'Universal Viewer'\n          ),\n          ' or ',\n          React.createElement(\n            'a',\n            { href: miradorLink },\n            'Mirador'\n          ),\n          '.)'\n        )\n      )];\n    }], ['exhibition_history', function (art) {\n      if (!art.exhibition_history) return [];\n      return [React.createElement(\n        Markdown,\n        null,\n        art.exhibition_history\n      )];\n    }], ['see_also', function (art, raw) {\n      var also = raw.see_also && raw.see_also.filter(function (id) {\n        return id !== \"\" && id !== raw.id;\n      });\n\n      if (!also) return [];\n\n      var alsoString = also.length + ' other artwork' + (also.length > 1 ? 's' : '');\n      var alsoLink = React.createElement(\n        'a',\n        { href: '/search/ids/' + raw.see_also.join(',') },\n        alsoString\n      );\n\n      console.info('artwork details see_also', {\n        also: also,\n        alsoString: alsoString,\n        rawSeeA: raw.see_also\n      });\n\n      return also && also.length > 0 ? [alsoLink, React.createElement(Peek, { facet: 'see_also', q: raw.id })] : [];\n    }], ['portfolio', function (art, raw) {\n      if (!raw.portfolio || raw.portfolio == 'From ') return [];\n      var portfolioName = raw.portfolio.replace('From From', 'From'); // some have double 'from'\n\n      return [portfolioName, React.createElement(Peek, { facet: 'portfolio', q: portfolioName })];\n    }], ['accession_highlight', function (art) {\n      if (!art.accessionHighlight) return [];\n      return [React.createElement(\n        'p',\n        null,\n        React.createElement(\n          Link,\n          { to: 'accessionHighlight', params: { id: art.id, slug: _Artwork.slug(art) } },\n          'This was one of Mia\\'s top highlights in ',\n          art.accessionDate.split('-')[0],\n          '.',\n          React.createElement('br', null)\n        ),\n        React.createElement(\n          Link,\n          { to: 'recent' },\n          'See the rest!'\n        )\n      ), React.createElement(\n        Markdown,\n        null,\n        art.accessionHighlightText + '\\n\\n---'\n      )];\n    }], ['metadata', function (art) {\n      var message = 'Click here to see the machine readable JSON data that underpins this page.';\n      return [React.createElement(\n        Markdown,\n        null,\n        message\n      ), React.createElement(\n        'div',\n        null,\n        React.createElement(\n          'p',\n          null,\n          React.createElement(\n            'a',\n            { href: 'https://search.artsmia.org/id/' + art.id },\n            'Access metadata though our search API'\n          ),\n          ' /',\n          ' ',\n          React.createElement(\n            'a',\n            { href: 'https://search.artsmia.org/ids/' + art.id + '?format=csv' },\n            'Download as CSV'\n          )\n        ),\n        React.createElement(\n          Markdown,\n          null,\n          'If you\\'re interested in this, you might also want to check out our [Open Access](/info/open-access) page.'\n        ),\n        React.createElement(\n          'pre',\n          null,\n          React.createElement(\n            ClickToSelect,\n            null,\n            React.createElement(\n              'code',\n              null,\n              JSON.stringify(art, null, 2)\n            )\n          )\n        )\n      )];\n    }], ['curator_approved', function (art) {\n      var currentUrl = window.location && window.location.href.split('/').slice(0, 5).join('/');\n      var dataSender = feedbackSender(undefined, undefined, 'Collections data feedback', currentUrl);\n      var imageSender = feedbackSender('collectionsdata+images@artsmia.org', 'Let us know', 'Collections image feedback', currentUrl);\n\n      var dataMessage = art.curator_approved ? 'This record is from historic documentation and may not have been reviewed by a curator, so may be inaccurate or incomplete. Our records are frequently revised and enhanced. If you notice a mistake or have additional information about this object, please email ' + dataSender + '.' : 'This record has been reviewed by our curatorial staff but may be incomplete. These records are frequently revised and enhanced. If you notice a mistake or have additional information about this object, please email ' + dataSender + '.';\n\n      var imageMessage = 'Does something look wrong with this image? ' + imageSender;\n\n      return [React.createElement(\n        Markdown,\n        null,\n        dataMessage + '\\n\\n' + imageMessage\n      )];\n    }]];\n  },\n  getInitialState: function getInitialState() {\n    var dimensions = this.dimensions();\n    var firstDimensionName = dimensions && dimensions[0] && dimensions[0][1];\n    var expandDetails = this.details().reduce(function (reduced, _ref5) {\n      var _ref6 = _slicedToArray(_ref5, 1),\n          field = _ref6[0];\n\n      reduced[field] = false;\n      return reduced;\n    }, {});\n    expandDetails['dimension'] = !!firstDimensionName;\n\n    return {\n      expandDetailsMatrix: expandDetails,\n      dimensionGraphicName: firstDimensionName\n    };\n  },\n  render: function render() {\n    var _this2 = this;\n\n    var _props3 = this.props,\n        art = _props3.art,\n        highlights = _props3.highlights;\n\n    var skip = this.props.skipFields ? this.props.skipFields.split(' ') : [];\n    var details = this.details().filter(function (_ref7) {\n      var _ref8 = _slicedToArray(_ref7, 1),\n          field = _ref8[0];\n\n      return skip.indexOf(field) < 0;\n    }).map(function (field) {\n      return _this2.build.apply(_this2, _toConsumableArray(field));\n    }).filter(function (detail) {\n      return !!detail;\n    });\n\n    return React.createElement(\n      'dl',\n      { className: 'artwork-detail' },\n      details\n    );\n  },\n  dimensions: function dimensions() {\n    var dimension = this.props.art.dimension;\n\n    if (!dimension) return [];\n    // var dimension = this.props.highlights ? this.props.highlights.dimension : this.props.art\n    return dimension.split(\"\\r\\n\").filter(function (string) {\n      return string.match(/[x\\|×].*cm/);\n    }).map(function (string) {\n      var aspect = string.match(/cm\\)\\s\\(*([^\\(]+)\\)$/);\n\n      return [string, aspect ? aspect[1].replace(/[^a-zA-z]+/g, '-').replace(/^-|-$/, '') : 'dimensions'];\n    });\n  },\n  toggleDimensionGraphic: function toggleDimensionGraphic(aspect) {\n    this.setState({ dimensionGraphicName: aspect });\n  },\n  dimensionSvgLoaded: function dimensionSvgLoaded() {\n    if (this.state.heightAdjusted) return;\n    this.setState({ heightAdjusted: true });\n    var domNode = ReactDOM.findDOMNode(this);\n    this.context.onHeightChange && this.context.onHeightChange(domNode.parentElement.parentElement.parentElement.parentElement.clientHeight);\n  }\n});\nArtworkDetails.contextTypes = {\n  onHeightChange: React.PropTypes.func\n};\n\nmodule.exports = ArtworkDetails;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFydHdvcmstZGV0YWlscy5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJSZWFjdERPTSIsIkxpbmsiLCJjYXBpdGFsaXplIiwiSXN2ZyIsImN4IiwiQ2xpY2tUb1NlbGVjdCIsIk1hcmtkb3duIiwiUGVlayIsImRpbWVuc2lvblN2ZyIsInJpZ2h0c0Rlc2NyaXB0aW9ucyIsImxlZ2FjeSIsInJpZ2h0c1N0YXRlbWVudHMiLCJmaW5kUmlnaHRzQnlOYW1lIiwiZmluZEJ5TmFtZSIsIlJpZ2h0c1N0YXRlbWVudEljb24iLCJmZWVkYmFja1NlbmRlciIsIl9BcnR3b3JrIiwiQXJ0d29ya0RldGFpbHMiLCJjcmVhdGVDbGFzcyIsImJ1aWxkIiwiZmllbGQiLCJmbiIsInByb3BzIiwiYXJ0IiwiaGlnaGxpZ2h0cyIsIm9ubHlTaG93SGlnaGxpZ2h0RGV0YWlscyIsImh1bWFuRmllbGROYW1lIiwid29yZHMiLCJyZXBsYWNlIiwiYXJ0QW5kSGlnaGxpZ2h0cyIsImNvbnRlbnQiLCJleHRyYUNvbnRlbnQiLCJzaG93RXh0cmEiLCJzdGF0ZSIsImV4cGFuZERldGFpbHNNYXRyaXgiLCJjbGFzc2VzIiwiZXhwYW5kYWJsZSIsImV4cGFuZGVkIiwidG9nZ2xlRXh0cmEiLCJiaW5kIiwic2V0U3RhdGUiLCJPYmplY3QiLCJhc3NpZ24iLCJrZXlzIiwicmVkdWNlIiwib2JqZWN0Iiwia2V5IiwidmFsdWUiLCJidWlsZFBlZWthYmxlRGV0YWlsIiwiZXh0cmEiLCJkZXRhaWxzIiwicmF3IiwiZGVhY2Nlc3Npb25lZCIsImRlYWNjZXNzaW9uZWREYXRlIiwiZGVhY2Nlc3Npb25lZFJlYXNvbiIsImxpZmVfZGF0ZSIsImFydGlzdCIsIlJlZ0V4cCIsIm5hdGlvbmFsaXR5IiwiXyIsInJvbGVGcm9tQXJ0aXN0RmllbGQiLCJtYXRjaCIsInJvbGUiLCJyb29tIiwicmF3QXJ0Iiwic2hvd0ZhbmN5RGltZW5zaW9uIiwiZGltZW5zaW9uIiwiZGltZW5zaW9ucyIsImxlbmd0aCIsIm1hcCIsImQiLCJhc3BlY3QiLCJkaXNwbGF5IiwidG9nZ2xlRGltZW5zaW9uR3JhcGhpYyIsImlkIiwiZGltZW5zaW9uR3JhcGhpY05hbWUiLCJkaW1lbnNpb25TdmdMb2FkZWQiLCJjcmVkaXRsaW5lIiwic3R5bGUiLCJyaWdodHMiLCJnZXRSaWdodHMiLCJycyIsImltYWdlX2NvcHlyaWdodCIsImRlY29kZVVSSUNvbXBvbmVudCIsImxhYmVsIiwiZGVmaW5pdGlvbiIsImlkZW50aWZpZXIiLCJjbGFzc2lmaWNhdGlvbiIsImNsYXNzaWZpY2F0aW9uUGVla3MiLCJzcGxpdCIsImluZGV4IiwiY2F0YWxvZ3VlX3JhaXNzb25uZSIsInRpdGxlIiwiZGF0ZWQiLCJEYXRlIiwidG9VVENTdHJpbmciLCJzbGljZSIsImpvaW4iLCJyaWdodHNfdHlwZSIsIm1hbmlmZXN0TGluayIsInV2TGluayIsIm1pcmFkb3JMaW5rIiwiZXhoaWJpdGlvbl9oaXN0b3J5IiwiYWxzbyIsInNlZV9hbHNvIiwiZmlsdGVyIiwiYWxzb1N0cmluZyIsImFsc29MaW5rIiwiY29uc29sZSIsImluZm8iLCJyYXdTZWVBIiwicG9ydGZvbGlvIiwicG9ydGZvbGlvTmFtZSIsImFjY2Vzc2lvbkhpZ2hsaWdodCIsInNsdWciLCJhY2Nlc3Npb25EYXRlIiwiYWNjZXNzaW9uSGlnaGxpZ2h0VGV4dCIsIm1lc3NhZ2UiLCJKU09OIiwic3RyaW5naWZ5IiwiY3VycmVudFVybCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImRhdGFTZW5kZXIiLCJ1bmRlZmluZWQiLCJpbWFnZVNlbmRlciIsImRhdGFNZXNzYWdlIiwiY3VyYXRvcl9hcHByb3ZlZCIsImltYWdlTWVzc2FnZSIsImdldEluaXRpYWxTdGF0ZSIsImZpcnN0RGltZW5zaW9uTmFtZSIsImV4cGFuZERldGFpbHMiLCJyZWR1Y2VkIiwicmVuZGVyIiwic2tpcCIsInNraXBGaWVsZHMiLCJpbmRleE9mIiwiZGV0YWlsIiwic3RyaW5nIiwiaGVpZ2h0QWRqdXN0ZWQiLCJkb21Ob2RlIiwiZmluZERPTU5vZGUiLCJjb250ZXh0Iiwib25IZWlnaHRDaGFuZ2UiLCJwYXJlbnRFbGVtZW50IiwiY2xpZW50SGVpZ2h0IiwiY29udGV4dFR5cGVzIiwiUHJvcFR5cGVzIiwiZnVuYyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7QUFDQSxJQUFJQyxXQUFXRCxRQUFRLFdBQVIsQ0FBZjs7ZUFDYUEsUUFBUSxjQUFSLEM7SUFBUkUsSSxZQUFBQSxJOztBQUNMLElBQUlDLGFBQWFILFFBQVEsWUFBUixDQUFqQjtBQUNBLElBQUlJLE9BQU9KLFFBQVEsaUJBQVIsQ0FBWDtBQUNBLElBQUlLLEtBQUtMLFFBQVEsWUFBUixDQUFUO0FBQ0EsSUFBSU0sZ0JBQWdCTixRQUFRLCtCQUFSLENBQXBCOztBQUVBLElBQUlPLFdBQVdQLFFBQVEsWUFBUixDQUFmO0FBQ0EsSUFBSVEsT0FBT1IsUUFBUSxRQUFSLENBQVg7QUFDQSxJQUFJUyxlQUFlVCxRQUFRLGFBQVIsRUFBdUJTLFlBQTFDOztnQkFNSVQsUUFBUSxtQkFBUixDO0lBSk1VLGtCLGFBQVJDLE07SUFDQUMsZ0IsYUFBQUEsZ0I7SUFDWUMsZ0IsYUFBWkMsVTtJQUNBQyxtQixhQUFBQSxtQjs7QUFFRixJQUFJQyxpQkFBaUJoQixRQUFRLHFCQUFSLENBQXJCO0FBQ0EsSUFBSWlCLFdBQVdqQixRQUFRLFlBQVIsQ0FBZjs7QUFFQSxJQUFJa0IsaUJBQWlCbkIsTUFBTW9CLFdBQU4sQ0FBa0I7QUFBQTtBQUNyQ0MsT0FEcUMsaUJBQy9CQyxLQUQrQixFQUN4QkMsRUFEd0IsRUFDcEI7QUFBQSxpQkFDUyxLQUFLQyxLQURkO0FBQUEsUUFDVkMsR0FEVSxVQUNWQSxHQURVO0FBQUEsUUFDTEMsVUFESyxVQUNMQSxVQURLOztBQUVmLFFBQUcsS0FBS0YsS0FBTCxDQUFXRyx3QkFBWCxJQUF1QyxDQUFDRCxXQUFXSixLQUFYLENBQTNDLEVBQThEOztBQUU5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N0ksU0FBUzhJLFdBQVQsQ0FBcUIsSUFBckIsQ0FBZDtBQUNBLFNBQUtDLE9BQUwsQ0FBYUMsY0FBYixJQUErQixLQUFLRCxPQUFMLENBQWFDLGNBQWIsQ0FBNEJILFFBQVFJLGFBQVIsQ0FBc0JBLGFBQXRCLENBQW9DQSxhQUFwQyxDQUFrREEsYUFBbEQsQ0FBZ0VDLFlBQTVGLENBQS9CO0FBQ0Q7QUFuVG9DLENBQWxCLENBQXJCO0FBcVRBakksZUFBZWtJLFlBQWYsR0FBOEI7QUFDNUJILGtCQUFnQmxKLE1BQU1zSixTQUFOLENBQWdCQztBQURKLENBQTlCOztBQUlBQyxPQUFPQyxPQUFQLEdBQWlCdEksY0FBakIiLCJmaWxlIjoiYXJ0d29yay1kZXRhaWxzLmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUmVhY3RET00gPSByZXF1aXJlKCdyZWFjdC1kb20nKVxudmFyIHtMaW5rfSA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIgY2FwaXRhbGl6ZSA9IHJlcXVpcmUoJ2NhcGl0YWxpemUnKVxudmFyIElzdmcgPSByZXF1aXJlKCdyZWFjdC1pbmxpbmVzdmcnKVxudmFyIGN4ID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpXG52YXIgQ2xpY2tUb1NlbGVjdCA9IHJlcXVpcmUoJ0BtYXBib3gvcmVhY3QtY2xpY2stdG8tc2VsZWN0JylcblxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi9tYXJrZG93bicpXG52YXIgUGVlayA9IHJlcXVpcmUoJy4vcGVlaycpXG52YXIgZGltZW5zaW9uU3ZnID0gcmVxdWlyZSgnLi9lbmRwb2ludHMnKS5kaW1lbnNpb25TdmdcbnZhciB7XG4gIGxlZ2FjeTogcmlnaHRzRGVzY3JpcHRpb25zLFxuICByaWdodHNTdGF0ZW1lbnRzLFxuICBmaW5kQnlOYW1lOiBmaW5kUmlnaHRzQnlOYW1lLFxuICBSaWdodHNTdGF0ZW1lbnRJY29uLFxufSA9IHJlcXVpcmUoJy4vcmlnaHRzLXR5cGVzLmpzJylcbnZhciBmZWVkYmFja1NlbmRlciA9IHJlcXVpcmUoJy4vZW1haWwtZGF0YS1zZW5kZXInKVxudmFyIF9BcnR3b3JrID0gcmVxdWlyZSgnLi9fYXJ0d29yaycpXG5cbnZhciBBcnR3b3JrRGV0YWlscyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgYnVpbGQoZmllbGQsIGZuKSB7XG4gICAgdmFyIHthcnQsIGhpZ2hsaWdodHN9ID0gdGhpcy5wcm9wc1xuICAgIGlmKHRoaXMucHJvcHMub25seVNob3dIaWdobGlnaHREZXRhaWxzICYmICFoaWdobGlnaHRzW2ZpZWxkXSkgcmV0dXJuXG5cbiAgICB2YXIgaHVtYW5GaWVsZE5hbWUgPSBjYXBpdGFsaXplLndvcmRzKGZpZWxkKS5yZXBsYWNlKCdfJywgJyAnKVxuICAgIHZhciBhcnRBbmRIaWdobGlnaHRzID0gdGhpcy5hcnRBbmRIaWdobGlnaHRzKClcbiAgICB2YXIgW2NvbnRlbnQsIGV4dHJhQ29udGVudF0gPSBmbiA/IGZuKGFydEFuZEhpZ2hsaWdodHMsIGFydCkgOiBbYXJ0QW5kSGlnaGxpZ2h0c1tmaWVsZF1dXG4gICAgaWYoIWNvbnRlbnQgfHwgY29udGVudCA9PSAnJykgcmV0dXJuXG4gICAgdmFyIHNob3dFeHRyYSA9IGV4dHJhQ29udGVudCAmJiB0aGlzLnN0YXRlLmV4cGFuZERldGFpbHNNYXRyaXhbZmllbGRdXG4gICAgdmFyIGNsYXNzZXMgPSBjeChcImRldGFpbC1yb3dcIiwge2V4cGFuZGFibGU6IGV4dHJhQ29udGVudCwgZXhwYW5kZWQ6IHNob3dFeHRyYX0sIGZpZWxkKVxuXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzfSBrZXk9e2ZpZWxkfT5cbiAgICAgIDxkaXYgb25DbGljaz17dGhpcy50b2dnbGVFeHRyYS5iaW5kKHRoaXMsIGZpZWxkKX0+XG4gICAgICAgIDxkdCBjbGFzc05hbWU9XCJkZXRhaWwtdGl0bGVcIj57aHVtYW5GaWVsZE5hbWV9PC9kdD5cbiAgICAgICAgPGRkIGNsYXNzTmFtZT0nZGV0YWlsLWNvbnRlbnQnPntjb250ZW50fTwvZGQ+XG4gICAgICA8L2Rpdj5cbiAgICAgIHtzaG93RXh0cmEgJiYgPGRpdiBjbGFzc05hbWU9XCJkZXRhaWwtZXh0cmFcIj57ZXh0cmFDb250ZW50fTwvZGl2Pn1cbiAgICA8L2Rpdj5cbiAgfSxcblxuICB0b2dnbGVFeHRyYShmaWVsZCkge1xuICAgIHZhciB7ZXhwYW5kRGV0YWlsc01hdHJpeH0gPSB0aGlzLnN0YXRlXG4gICAgZXhwYW5kRGV0YWlsc01hdHJpeFtmaWVsZF0gPSAhZXhwYW5kRGV0YWlsc01hdHJpeFtmaWVsZF1cbiAgICB0aGlzLnNldFN0YXRlKHtleHBhbmREZXRhaWxzTWF0cml4fSlcbiAgfSxcblxuICAvLyBtZXJnZSBgYXJ0YCB3aXRoIGBoaWdobGlnaHRzYCwgcmVwbGFjaW5nIHRoZSB1bi1oaWdobGlnaHRlZCB2YWx1ZXMgd2l0aFxuICAvLyB0aGVpciAnaGlnaGxpdCcgZXF1aXZhbGVudFxuICBhcnRBbmRIaWdobGlnaHRzKCkge1xuICAgIHZhciB7YXJ0LCBoaWdobGlnaHRzfSA9IHRoaXMucHJvcHNcblxuICAgIHJldHVybiAhaGlnaGxpZ2h0cyA/IGFydCA6IE9iamVjdC5hc3NpZ24oey4uLmFydH0sIE9iamVjdC5rZXlzKGhpZ2hsaWdodHMpLnJlZHVjZSgob2JqZWN0LCBrZXkpID0+IHtcbiAgICAgIHZhciB2YWx1ZSA9IGhpZ2hsaWdodHNba2V5XSAmJiBoaWdobGlnaHRzW2tleV1bMF1cbiAgICAgIGlmKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykgdmFsdWUgPSA8TWFya2Rvd24+e3ZhbHVlfTwvTWFya2Rvd24+XG4gICAgICBvYmplY3Rba2V5XSA9IHZhbHVlXG4gICAgICByZXR1cm4gb2JqZWN0XG4gICAgfSwge30pKVxuICB9LFxuXG4gIGJ1aWxkUGVla2FibGVEZXRhaWwoZmllbGQsIGV4dHJhLCB2YWx1ZSkge1xuICAgIHZhciB7YXJ0fSA9IHRoaXMucHJvcHNcbiAgICB2YXIgaGlnaGxpZ2h0cyA9IHRoaXMuYXJ0QW5kSGlnaGxpZ2h0cygpXG5cbiAgICByZXR1cm4gW1xuICAgICAgZmllbGQsXG4gICAgICBhcnQgPT4gW1xuICAgICAgICB2YWx1ZSB8fCBoaWdobGlnaHRzW2ZpZWxkXSxcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICB7ZXh0cmF9XG4gICAgICAgICAgPFBlZWsgZmFjZXQ9e2ZpZWxkfSBxPXt2YWx1ZSB8fCBhcnRbZmllbGRdfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIF1cbiAgICBdXG4gIH0sXG5cbiAgZGV0YWlscygpIHtcbiAgICB2YXIge2FydH0gPSB0aGlzLnByb3BzXG4gICAgcmV0dXJuIFtcbiAgICAgIFsnZGVhY2Nlc3Npb25lZCcsIChhcnQsIHJhdykgPT4gW1xuICAgICAgICByYXcuZGVhY2Nlc3Npb25lZCAmJiBgJHthcnQuZGVhY2Nlc3Npb25lZERhdGV9YCwgPGRpdj5cbiAgICAgICAgICB7cmF3LmRlYWNjZXNzaW9uZWRSZWFzb24gJiYgPHA+e3Jhdy5kZWFjY2Vzc2lvbmVkUmVhc29ufTwvcD59XG4gICAgICAgICAgPExpbmsgdG89XCIvaW5mby9kZWFjY2Vzc2lvbnNcIj5BcnR3b3JrcyBhcmUgZGVhY2Nlc3Npb25lZCBmb3IgbWFueSByZWFzb25zPC9MaW5rPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIF1dLFxuICAgICAgWyd0aXRsZSddLFxuICAgICAgdGhpcy5idWlsZFBlZWthYmxlRGV0YWlsKCdkYXRlZCcpLFxuICAgICAgdGhpcy5idWlsZFBlZWthYmxlRGV0YWlsKCdhcnRpc3QnLCB0aGlzLnByb3BzLmFydC5saWZlX2RhdGUsIGFydC5hcnRpc3QucmVwbGFjZSgvXihbXjtdKyk6LywgJycpKSxcbiAgICAgIHRoaXMuYnVpbGRQZWVrYWJsZURldGFpbCgnbmF0aW9uYWxpdHknKSxcbiAgICAgIFsnYXJ0aXN0X2xpZmUnLCAoYXJ0KSA9PiBbYXJ0LmxpZmVfZGF0ZSAmJiBhcnQubGlmZV9kYXRlLnJlcGxhY2UobmV3IFJlZ0V4cChhcnQubmF0aW9uYWxpdHkrXCIoLCApP1wiKSwgJycpXV0sXG4gICAgICBbJ3JvbGUnLCAoXywgcmF3KSA9PiB7XG4gICAgICAgIHZhciByb2xlRnJvbUFydGlzdEZpZWxkID0gcmF3LmFydGlzdC5tYXRjaCgvXihbXjtdKyk6LylcbiAgICAgICAgcmV0dXJuIFtyb2xlRnJvbUFydGlzdEZpZWxkID8gcm9sZUZyb21BcnRpc3RGaWVsZFsxXSA6IHJhdy5yb2xlXVxuICAgICAgfV0sXG4gICAgICBbJ2dhbGxlcnknLCAoYXJ0LCByYXcpID0+IFthcnQucm9vbSwgPFBlZWsgZmFjZXQ9XCJyb29tXCIgcT17cmF3LnJvb219IC8+XV0sXG4gICAgICB0aGlzLmJ1aWxkUGVla2FibGVEZXRhaWwoJ2RlcGFydG1lbnQnKSxcbiAgICAgIFsnZGltZW5zaW9uJywgKGFydCwgcmF3QXJ0KSA9PiB7XG4gICAgICAgIHZhciBzaG93RmFuY3lEaW1lbnNpb24gPSBhcnQuZGltZW5zaW9uICYmIHRoaXMuZGltZW5zaW9ucygpLmxlbmd0aCA+IDBcblxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIGFydC5kaW1lbnNpb24gJiYgPGRpdj57c2hvd0ZhbmN5RGltZW5zaW9uID8gdGhpcy5kaW1lbnNpb25zKCkubWFwKChbZCwgYXNwZWN0XSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIDxzcGFuIHN0eWxlPXt7ZGlzcGxheTogJ2Jsb2NrJ319IG9uTW91c2VFbnRlcj17dGhpcy50b2dnbGVEaW1lbnNpb25HcmFwaGljLmJpbmQodGhpcywgYXNwZWN0KX0ga2V5PXthc3BlY3R9PntkfTwvc3Bhbj5cbiAgICAgICAgICB9KSA6IGFydC5kaW1lbnNpb259PC9kaXY+LFxuICAgICAgICAgIHNob3dGYW5jeURpbWVuc2lvbiAmJiA8ZGl2PlxuICAgICAgICAgICAge3Jhd0FydC5kaW1lbnNpb24ubWF0Y2goL2NtLykgJiYgPElzdmdcbiAgICAgICAgICAgICAgc3JjPXtkaW1lbnNpb25TdmcoYXJ0LmlkLCB0aGlzLnN0YXRlLmRpbWVuc2lvbkdyYXBoaWNOYW1lKX1cbiAgICAgICAgICAgICAga2V5PXt0aGlzLnN0YXRlLmRpbWVuc2lvbkdyYXBoaWNOYW1lfVxuICAgICAgICAgICAgICBvbkxvYWQ9e3RoaXMuZGltZW5zaW9uU3ZnTG9hZGVkfVxuICAgICAgICAgICAgLz59XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIF1cbiAgICAgIH1dLFxuICAgICAgWydjcmVkaXQnLCAoYXJ0LCByYXcpID0+IFthcnQuY3JlZGl0bGluZSwgPFBlZWsgZmFjZXQ9XCJjcmVkaXRsaW5lXCIgcT17cmF3LmNyZWRpdGxpbmV9IC8+XV0sXG4gICAgICBbJ2FjY2Vzc2lvbl9udW1iZXInXSxcbiAgICAgIHRoaXMuYnVpbGRQZWVrYWJsZURldGFpbCgnbWVkaXVtJyksXG4gICAgICB0aGlzLmJ1aWxkUGVla2FibGVEZXRhaWwoJ2NvdW50cnknKSxcbiAgICAgIHRoaXMuYnVpbGRQZWVrYWJsZURldGFpbCgnY3VsdHVyZScpLFxuICAgICAgWydjZW50dXJ5JywgKGFydCwgcmF3KSA9PiBbYXJ0LnN0eWxlLCA8UGVlayBmYWNldD1cInN0eWxlXCIgcT17cmF3LnN0eWxlfSAvPl1dLFxuICAgICAgWydwcm92ZW5hbmNlJ10sXG4gICAgICBbJ3JpZ2h0cycsIChhcnQsIHJhdykgPT4ge1xuICAgICAgICB2YXIgcmlnaHRzID0gcmlnaHRzRGVzY3JpcHRpb25zLmdldFJpZ2h0cyhhcnQpXG4gICAgICAgIHZhciBycyA9IGZpbmRSaWdodHNCeU5hbWUocmlnaHRzKVxuXG4gICAgICAgIHJldHVybiBbKGFydC5pbWFnZV9jb3B5cmlnaHQgfHwgcmlnaHRzKSAmJiA8ZGl2PlxuICAgICAgICAgIHthcnQuaW1hZ2VfY29weXJpZ2h0ICYmIGRlY29kZVVSSUNvbXBvbmVudChhcnQuaW1hZ2VfY29weXJpZ2h0KX1cbiAgICAgICAgICB7YXJ0LmltYWdlX2NvcHlyaWdodCAmJiByaWdodHMgJiYgPGJyLz59XG4gICAgICAgICAge3JpZ2h0cyAmJiA8c3Bhbj57cnMgPyBycy5sYWJlbCA6IHJpZ2h0c308L3NwYW4+fVxuICAgICAgICA8L2Rpdj4sXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAge3JzICYmIDxwPlxuICAgICAgICAgICAge3JzLmRlZmluaXRpb259XG4gICAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICAgIDxhIGhyZWY9e3JzLmlkfSB0aXRsZT1cIlNlZSBtb3JlIGluZm9ybWF0aW9uIGJ5IHZpc2l0aW5nIHJpZ2hzdHN0YXRtZW50cy5vcmdcIj5cbiAgICAgICAgICAgICAgPFJpZ2h0c1N0YXRlbWVudEljb24gXG4gICAgICAgICAgICAgICAgc3RhdGVtZW50PXtyc30gXG4gICAgICAgICAgICAgICAgY29sb3I9XCJkYXJrXCIgXG4gICAgICAgICAgICAgICAgYWx0PVwiXCJcbiAgICAgICAgICAgICAgLz4ge3JzLmxhYmVsfSAoe3JzLmlkZW50aWZpZXJ9KVxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvcD59XG4gICAgICAgICAgPFBlZWsgZmFjZXQ9XCJyaWdodHNfdHlwZVwiIHE9e3JpZ2h0c30gLz5cbiAgICAgICAgICA8cD48YSBocmVmPVwiaHR0cHM6Ly9uZXcuYXJ0c21pYS5vcmcvY29weXJpZ2h0LWFuZC1pbWFnZS1hY2Nlc3MvXCI+TWlhJ3MgQ29weXJpZ2h0IGFuZCBJbWFnZSBBY2Nlc3MgJiBVc2UgUG9saWNpZXM8L2E+PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXVxuICAgICAgfV0sXG4gICAgICAvLyBhcHBhcmVudGx5IG1hcmtpbmdzL2luc2NyaXB0aW9uL3NpZ25lZCBhcmUgJ2ZvciBvdXIgZXllcyBvbmx5J1xuICAgICAgLy8gWydtYXJraW5ncycsIChhcnQpID0+IHtcbiAgICAgIC8vICAgLy8gc2hvdyBkZXByZWNhdGVkIGBtYXJrc2AgZmllbGQgaWYgbm9uZSBvZiB0aGUgbmV3IGBtYXJraW5ncywgc2lnbmF0dXJlLCBpbnNjcmlwdGlvbmAgZmllbGRzIGV4aXN0IHlldFxuICAgICAgLy8gICByZXR1cm4gW2FydC5tYXJraW5ncyB8fCAoIWFydC5zaWduYXR1cmUgJiYgIWFydC5pbnNjcmlwdGlvbiAmJiBhcnQubWFya3MpXVxuICAgICAgLy8gfV0sXG4gICAgICAvLyBbJ2luc2NyaXB0aW9uJ10sXG4gICAgICAvLyBbJ3NpZ25lZCddLFxuICAgICAgWydjbGFzc2lmaWNhdGlvbicsIChhcnQsIHJhdykgPT4ge1xuICAgICAgICBpZighcmF3LmNsYXNzaWZpY2F0aW9uKSByZXR1cm4gW11cblxuICAgICAgICB2YXIgY2xhc3NpZmljYXRpb25QZWVrcyA9IHJhdy5jbGFzc2lmaWNhdGlvbi5zcGxpdCgnLCcpXG4gICAgICAgIC5tYXAoKGNsYXNzaWZpY2F0aW9uLCBpbmRleCkgPT4gPFBlZWsgZmFjZXQ9XCJjbGFzc2lmaWNhdGlvblwiIHE9e2NsYXNzaWZpY2F0aW9ufSBrZXk9e2luZGV4fSAvPilcblxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIDxwPnthcnQuY2xhc3NpZmljYXRpb259PC9wPixcbiAgICAgICAgICA8ZGl2PntjbGFzc2lmaWNhdGlvblBlZWtzfTwvZGl2PlxuICAgICAgICBdXG4gICAgICB9XSxcbiAgICAgIHRoaXMuYnVpbGRQZWVrYWJsZURldGFpbCgnb2JqZWN0X25hbWUnKSxcbiAgICAgIC8vIGRpc2FibGUgdGFncyBkdWUgdG8gZnJlcXVlbnQgaW5hY2N1cmFjaWVzXG4gICAgICAvLyBbJ3RhZ3MnLCBhcnQgPT4ge1xuICAgICAgLy8gICBpZighYXJ0LnRhZ3MpIHJldHVybiBbXVxuXG4gICAgICAvLyAgIHZhciBsaW5rZWRUYWdzID0gYXJ0LnRhZ3MudHJpbSgpLnNwbGl0KCcgJylcbiAgICAgIC8vICAgLm1hcCh0YWcgPT4gPExpbmsgdG89XCJzZWFyY2hSZXN1bHRzXCIgcGFyYW1zPXt7dGVybXM6IGB0YWdzOiR7dGFnfWB9fSBrZXk9e3RhZ30+e3RhZy5yZXBsYWNlKC8tL2csICcgJyl9PC9MaW5rPilcblxuICAgICAgLy8gICByZXR1cm4gW1xuICAgICAgLy8gICAgIDxwPntsaW5rZWRUYWdzLm1hcCgodGFnLCBpbmRleCkgPT4ge1xuICAgICAgLy8gICAgICAgcmV0dXJuIDxzcGFuIGtleT17aW5kZXh9Pnt0YWd9eyhpbmRleCA9PSBsaW5rZWRUYWdzLmxlbmd0aC0xIHx8ICcsICcpfTwvc3Bhbj5cbiAgICAgIC8vICAgICB9KX08L3A+XG4gICAgICAvLyBdXG4gICAgICAvLyB9XSxcbiAgICAgIFsnY2F0YWxvZ3VlX3JhaXNvbm5lJywgKGFydCkgPT4ge1xuICAgICAgICBpZighYXJ0LmNhdGFsb2d1ZV9yYWlzc29ubmUpIHJldHVybiBbXVxuICAgICAgICByZXR1cm4gWyA8ZGl2PnthcnQuY2F0YWxvZ3VlX3JhaXNzb25uZX08L2Rpdj5dXG4gICAgICB9XSxcbiAgICAgIFsnd2lraXBlZGlhJywgKGFydCkgPT4ge1xuICAgICAgICByZXR1cm4gWydDaXRlIHRoaXMgaW5mb3JtYXRpb24nLCA8ZGl2PlxuICAgICAgICAgIDxDbGlja1RvU2VsZWN0PlxuICAgICAgICAgICAgPGNvZGUgbmFtZT1cIk1pYVwiPiYjMTIzOyYjMTIzO2NpdGUgd2ViIHx0aXRsZT17YXJ0LnRpdGxlfSB8dXJsPWh0dHBzOi8vY29sbGVjdGlvbnMuYXJ0c21pYS5vcmcvYXJ0L3thcnQuaWR9IHxhdXRob3I9e2FydC5hcnRpc3R9IHx5ZWFyPXthcnQuZGF0ZWR9IHxhY2Nlc3NkYXRlPXsobmV3IERhdGUpLnRvVVRDU3RyaW5nKCkuc3BsaXQoJyAnKS5zbGljZSgxLCA0KS5qb2luKCcgJyl9IHxwdWJsaXNoZXI9TWlubmVhcG9saXMgSW5zdGl0dXRlIG9mIEFydCYjMTI1OyYjMTI1OzwvY29kZT5cbiAgICAgICAgICA8L0NsaWNrVG9TZWxlY3Q+XG4gICAgICAgIDwvZGl2Pl1cbiAgICAgIH1dLFxuICAgICAgWydJSUlGJywgKGFydCkgPT4ge1xuICAgICAgICBpZih0cnVlIHx8IGFydC5yaWdodHNfdHlwZSAhPT0gJ1B1YmxpYyBEb21haW4nKSByZXR1cm4gW11cblxuICAgICAgICBjb25zdCBtYW5pZmVzdExpbmsgPSBgaHR0cHM6Ly9paWlmLmR4LmFydHNtaWEub3JnLyR7YXJ0LmlkfS5qcGcvbWFuaWZlc3QuanNvbmBcbiAgICAgICAgY29uc3QgdXZMaW5rID0gYGh0dHBzOi8vdW5pdmVyc2Fsdmlld2VyLmlvL3V2Lmh0bWw/bWFuaWZlc3Q9JHttYW5pZmVzdExpbmt9YFxuICAgICAgICBjb25zdCBtaXJhZG9yTGluayA9IGBodHRwczovL3Byb2plY3RtaXJhZG9yLm9yZy9lbWJlZC8/aWlpZi1jb250ZW50PSR7bWFuaWZlc3RMaW5rfWBcblxuICAgICAgICByZXR1cm4gWydTaGFyZSB0aGlzIGltYWdlIHdpdGggSUlJRicsIDxkaXY+XG4gICAgICAgICAgPHA+PGEgaHJlZj1cImh0dHBzOi8vaWlpZi5pby9cIj48YWJiciB0aXRsZT1cImludGVybmF0aW9uYWwgaW1hZ2UgaW50ZXJvcGVyYWJpbGl0eSBmcmFtZXdvcmtcIj5JSUlGPC9hYmJyPjwvYT4gcHJvdmlkZXMgYSB3YXkgZm9yIGltYWdlcyB0byBiZSBzaGFyZWQgaW4gYSBzdGFuZGFyZCB3YXkuPC9wPlxuICAgICAgICAgIDxwPlRoaXMgYXJ0d29ya3MgaGFzIGEgJmxkcXVvOzxhIGhyZWY9e21hbmlmZXN0TGlua30+TWFuaWZlc3Q8L2E+JnJkcXVvOyB0aGF0IGVuY29kZXMgaW5mb3JtYXRpb24gYWJvdXQgaXQgYW5kIHRoYXQgY2FuIGJlIGxpbmtlZCBpbnRvIGEgd2lkZSByYW5nZSBvZiBJSUlGLWVuYWJsZWQgc3lzdGVtcy48L3A+XG4gICAgICAgICAgPHA+KFN1Y2ggYXMgPGEgaHJlZj17dXZMaW5rfT5Vbml2ZXJzYWwgVmlld2VyPC9hPiBvciA8YSBocmVmPXttaXJhZG9yTGlua30+TWlyYWRvcjwvYT4uKTwvcD5cbiAgICAgICAgPC9kaXY+XVxuICAgICAgfV0sXG4gICAgICBbJ2V4aGliaXRpb25faGlzdG9yeScsIChhcnQpID0+IHtcbiAgICAgICAgaWYoIWFydC5leGhpYml0aW9uX2hpc3RvcnkpIHJldHVybiBbXVxuICAgICAgICByZXR1cm4gWzxNYXJrZG93bj57YXJ0LmV4aGliaXRpb25faGlzdG9yeX08L01hcmtkb3duPl1cbiAgICAgIH1dLFxuICAgICAgWydzZWVfYWxzbycsIChhcnQsIHJhdykgPT4ge1xuICAgICAgICB2YXIgYWxzbyA9IHJhdy5zZWVfYWxzbyAmJiByYXcuc2VlX2Fsc28uZmlsdGVyKGlkID0+IGlkICE9PSBcIlwiICYmIGlkICE9PSByYXcuaWQpXG5cbiAgICAgICAgaWYoIWFsc28pIHJldHVybiBbXVxuXG4gICAgICAgIHZhciBhbHNvU3RyaW5nID0gYCR7YWxzby5sZW5ndGh9IG90aGVyIGFydHdvcmske2Fsc28ubGVuZ3RoID4gMSA/ICdzJyA6ICcnfWBcbiAgICAgICAgdmFyIGFsc29MaW5rID0gPGEgaHJlZj17YC9zZWFyY2gvaWRzLyR7cmF3LnNlZV9hbHNvLmpvaW4oJywnKX1gfT57YWxzb1N0cmluZ308L2E+XG5cbiAgICAgICAgY29uc29sZS5pbmZvKCdhcnR3b3JrIGRldGFpbHMgc2VlX2Fsc28nLCB7XG4gICAgICAgICAgYWxzbyxcbiAgICAgICAgICBhbHNvU3RyaW5nLFxuICAgICAgICAgIHJhd1NlZUE6IHJhdy5zZWVfYWxzbyxcbiAgICAgICAgfSlcblxuICAgICAgICByZXR1cm4gYWxzbyAmJiBhbHNvLmxlbmd0aCA+IDAgP1xuICAgICAgICAgIFtcbiAgICAgICAgICAgIGFsc29MaW5rLCBcbiAgICAgICAgICAgIDxQZWVrIGZhY2V0PVwic2VlX2Fsc29cIiBxPXtyYXcuaWR9IC8+XG4gICAgICAgICAgXSA6XG4gICAgICAgICAgW11cbiAgICAgIH1dLFxuICAgICAgWydwb3J0Zm9saW8nLCAoYXJ0LCByYXcpID0+IHtcbiAgICAgICAgaWYoIXJhdy5wb3J0Zm9saW8gfHwgcmF3LnBvcnRmb2xpbyA9PSAnRnJvbSAnKSByZXR1cm4gW11cbiAgICAgICAgdmFyIHBvcnRmb2xpb05hbWUgPSByYXcucG9ydGZvbGlvXG4gICAgICAgIC5yZXBsYWNlKCdGcm9tIEZyb20nLCAnRnJvbScpIC8vIHNvbWUgaGF2ZSBkb3VibGUgJ2Zyb20nXG5cbiAgICAgICAgcmV0dXJuIFtwb3J0Zm9saW9OYW1lLCA8UGVlayBmYWNldD1cInBvcnRmb2xpb1wiIHE9e3BvcnRmb2xpb05hbWV9IC8+XVxuICAgICAgfV0sXG4gICAgICBbJ2FjY2Vzc2lvbl9oaWdobGlnaHQnLCAoYXJ0KSA9PiB7XG4gICAgICAgIGlmKCFhcnQuYWNjZXNzaW9uSGlnaGxpZ2h0KSByZXR1cm4gW11cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICA8cD5cbiAgICAgICAgICAgIDxMaW5rIHRvPVwiYWNjZXNzaW9uSGlnaGxpZ2h0XCIgcGFyYW1zPXt7aWQ6IGFydC5pZCwgc2x1ZzogX0FydHdvcmsuc2x1ZyhhcnQpfX0+XG4gICAgICAgICAgICAgIFRoaXMgd2FzIG9uZSBvZiBNaWEncyB0b3AgaGlnaGxpZ2h0cyBpbiB7YXJ0LmFjY2Vzc2lvbkRhdGUuc3BsaXQoJy0nKVswXX0uPGJyLz5cbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgIDxMaW5rIHRvPVwicmVjZW50XCI+U2VlIHRoZSByZXN0ITwvTGluaz5cbiAgICAgICAgICA8L3A+LFxuICAgICAgICAgIDxNYXJrZG93bj57YXJ0LmFjY2Vzc2lvbkhpZ2hsaWdodFRleHQgKyAnXFxuXFxuLS0tJ308L01hcmtkb3duPlxuICAgICAgICBdXG4gICAgICB9XSxcbiAgICAgIFsnbWV0YWRhdGEnLCAoYXJ0KSA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgQ2xpY2sgaGVyZSB0byBzZWUgdGhlIG1hY2hpbmUgcmVhZGFibGUgSlNPTiBkYXRhIHRoYXQgdW5kZXJwaW5zIHRoaXMgcGFnZS5gXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgPE1hcmtkb3duPnttZXNzYWdlfTwvTWFya2Rvd24+LFxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgPGEgaHJlZj17YGh0dHBzOi8vc2VhcmNoLmFydHNtaWEub3JnL2lkLyR7YXJ0LmlkfWB9PkFjY2VzcyBtZXRhZGF0YSB0aG91Z2ggb3VyIHNlYXJjaCBBUEk8L2E+IC97JyAnfVxuICAgICAgICAgICAgICA8YSBocmVmPXtgaHR0cHM6Ly9zZWFyY2guYXJ0c21pYS5vcmcvaWRzLyR7YXJ0LmlkfT9mb3JtYXQ9Y3N2YH0+RG93bmxvYWQgYXMgQ1NWPC9hPlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPE1hcmtkb3duPntgSWYgeW91J3JlIGludGVyZXN0ZWQgaW4gdGhpcywgeW91IG1pZ2h0IGFsc28gd2FudCB0byBjaGVjayBvdXQgb3VyIFtPcGVuIEFjY2Vzc10oL2luZm8vb3Blbi1hY2Nlc3MpIHBhZ2UuYH08L01hcmtkb3duPlxuICAgICAgICAgICAgPHByZT48Q2xpY2tUb1NlbGVjdD48Y29kZT57SlNPTi5zdHJpbmdpZnkoYXJ0LCBudWxsLCAyKX08L2NvZGU+PC9DbGlja1RvU2VsZWN0PjwvcHJlPlxuICAgICAgICAgIDwvZGl2PixcbiAgICAgICAgXVxuICAgICAgfV0sXG4gICAgICBbJ2N1cmF0b3JfYXBwcm92ZWQnLCBhcnQgPT4ge1xuICAgICAgICB2YXIgY3VycmVudFVybCA9IHdpbmRvdy5sb2NhdGlvbiAmJiB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnLycpLnNsaWNlKDAsIDUpLmpvaW4oJy8nKVxuICAgICAgICB2YXIgZGF0YVNlbmRlciA9IGZlZWRiYWNrU2VuZGVyKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCAnQ29sbGVjdGlvbnMgZGF0YSBmZWVkYmFjaycsIGN1cnJlbnRVcmwpXG4gICAgICAgIHZhciBpbWFnZVNlbmRlciA9IGZlZWRiYWNrU2VuZGVyKCdjb2xsZWN0aW9uc2RhdGEraW1hZ2VzQGFydHNtaWEub3JnJywgJ0xldCB1cyBrbm93JywgJ0NvbGxlY3Rpb25zIGltYWdlIGZlZWRiYWNrJywgY3VycmVudFVybClcblxuICAgICAgICB2YXIgZGF0YU1lc3NhZ2UgPSBhcnQuY3VyYXRvcl9hcHByb3ZlZCA/XG4gICAgICAgICAgYFRoaXMgcmVjb3JkIGlzIGZyb20gaGlzdG9yaWMgZG9jdW1lbnRhdGlvbiBhbmQgbWF5IG5vdCBoYXZlIGJlZW4gcmV2aWV3ZWQgYnkgYSBjdXJhdG9yLCBzbyBtYXkgYmUgaW5hY2N1cmF0ZSBvciBpbmNvbXBsZXRlLiBPdXIgcmVjb3JkcyBhcmUgZnJlcXVlbnRseSByZXZpc2VkIGFuZCBlbmhhbmNlZC4gSWYgeW91IG5vdGljZSBhIG1pc3Rha2Ugb3IgaGF2ZSBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoaXMgb2JqZWN0LCBwbGVhc2UgZW1haWwgJHtkYXRhU2VuZGVyfS5gIDpcbiAgICAgICAgICBgVGhpcyByZWNvcmQgaGFzIGJlZW4gcmV2aWV3ZWQgYnkgb3VyIGN1cmF0b3JpYWwgc3RhZmYgYnV0IG1heSBiZSBpbmNvbXBsZXRlLiBUaGVzZSByZWNvcmRzIGFyZSBmcmVxdWVudGx5IHJldmlzZWQgYW5kIGVuaGFuY2VkLiBJZiB5b3Ugbm90aWNlIGEgbWlzdGFrZSBvciBoYXZlIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhpcyBvYmplY3QsIHBsZWFzZSBlbWFpbCAke2RhdGFTZW5kZXJ9LmBcblxuICAgICAgICB2YXIgaW1hZ2VNZXNzYWdlID0gYERvZXMgc29tZXRoaW5nIGxvb2sgd3Jvbmcgd2l0aCB0aGlzIGltYWdlPyAke2ltYWdlU2VuZGVyfWBcblxuICAgICAgICByZXR1cm4gWzxNYXJrZG93bj5cbiAgICAgICAgICB7ZGF0YU1lc3NhZ2UgKyAnXFxuXFxuJyArIGltYWdlTWVzc2FnZX1cbiAgICAgICAgPC9NYXJrZG93bj5dXG4gICAgICB9XSxcbiAgICBdXG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHZhciBkaW1lbnNpb25zID0gdGhpcy5kaW1lbnNpb25zKClcbiAgICB2YXIgZmlyc3REaW1lbnNpb25OYW1lID0gZGltZW5zaW9ucyAmJiBkaW1lbnNpb25zWzBdICYmIGRpbWVuc2lvbnNbMF1bMV1cbiAgICB2YXIgZXhwYW5kRGV0YWlscyA9IHRoaXMuZGV0YWlscygpLnJlZHVjZSgocmVkdWNlZCwgW2ZpZWxkXSkgPT4ge1xuICAgICAgcmVkdWNlZFtmaWVsZF0gPSBmYWxzZVxuICAgICAgcmV0dXJuIHJlZHVjZWRcbiAgICB9LCB7fSlcbiAgICBleHBhbmREZXRhaWxzWydkaW1lbnNpb24nXSA9ICEhZmlyc3REaW1lbnNpb25OYW1lXG5cbiAgICByZXR1cm4ge1xuICAgICAgZXhwYW5kRGV0YWlsc01hdHJpeDogZXhwYW5kRGV0YWlscyxcbiAgICAgIGRpbWVuc2lvbkdyYXBoaWNOYW1lOiBmaXJzdERpbWVuc2lvbk5hbWUsXG4gICAgfVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIge2FydCwgaGlnaGxpZ2h0c30gPSB0aGlzLnByb3BzXG4gICAgdmFyIHNraXAgPSB0aGlzLnByb3BzLnNraXBGaWVsZHMgPyB0aGlzLnByb3BzLnNraXBGaWVsZHMuc3BsaXQoJyAnKSA6IFtdXG4gICAgdmFyIGRldGFpbHMgPSB0aGlzLmRldGFpbHMoKVxuICAgIC5maWx0ZXIoKFtmaWVsZF0pID0+IHNraXAuaW5kZXhPZihmaWVsZCkgPCAwKVxuICAgIC5tYXAoZmllbGQgPT4gdGhpcy5idWlsZCguLi5maWVsZCkpXG4gICAgLmZpbHRlcihkZXRhaWwgPT4gISFkZXRhaWwpXG5cbiAgICByZXR1cm4gPGRsIGNsYXNzTmFtZT0nYXJ0d29yay1kZXRhaWwnPlxuICAgICAge2RldGFpbHN9XG4gICAgPC9kbD5cbiAgfSxcblxuICBkaW1lbnNpb25zKCkge1xuICAgIHZhciB7ZGltZW5zaW9ufSA9IHRoaXMucHJvcHMuYXJ0XG4gICAgaWYoIWRpbWVuc2lvbikgcmV0dXJuIFtdXG4gICAgLy8gdmFyIGRpbWVuc2lvbiA9IHRoaXMucHJvcHMuaGlnaGxpZ2h0cyA/IHRoaXMucHJvcHMuaGlnaGxpZ2h0cy5kaW1lbnNpb24gOiB0aGlzLnByb3BzLmFydFxuICAgIHJldHVybiBkaW1lbnNpb24uc3BsaXQoXCJcXHJcXG5cIilcbiAgICAuZmlsdGVyKHN0cmluZyA9PiBzdHJpbmcubWF0Y2goL1t4XFx8w5ddLipjbS8pKVxuICAgIC5tYXAoc3RyaW5nID0+IHtcbiAgICAgIHZhciBhc3BlY3QgPSBzdHJpbmcubWF0Y2goL2NtXFwpXFxzXFwoKihbXlxcKF0rKVxcKSQvKVxuXG4gICAgICByZXR1cm4gW3N0cmluZywgYXNwZWN0ID8gYXNwZWN0WzFdLnJlcGxhY2UoL1teYS16QS16XSsvZywgJy0nKS5yZXBsYWNlKC9eLXwtJC8sICcnKSA6ICdkaW1lbnNpb25zJ11cbiAgICB9KVxuICB9LFxuXG4gIHRvZ2dsZURpbWVuc2lvbkdyYXBoaWMoYXNwZWN0KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7ZGltZW5zaW9uR3JhcGhpY05hbWU6IGFzcGVjdH0pXG4gIH0sXG5cbiAgZGltZW5zaW9uU3ZnTG9hZGVkKCkge1xuICAgIGlmKHRoaXMuc3RhdGUuaGVpZ2h0QWRqdXN0ZWQpIHJldHVyblxuICAgIHRoaXMuc2V0U3RhdGUoe2hlaWdodEFkanVzdGVkOiB0cnVlfSlcbiAgICB2YXIgZG9tTm9kZSA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpXG4gICAgdGhpcy5jb250ZXh0Lm9uSGVpZ2h0Q2hhbmdlICYmIHRoaXMuY29udGV4dC5vbkhlaWdodENoYW5nZShkb21Ob2RlLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KVxuICB9LFxufSlcbkFydHdvcmtEZXRhaWxzLmNvbnRleHRUeXBlcyA9IHtcbiAgb25IZWlnaHRDaGFuZ2U6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFydHdvcmtEZXRhaWxzXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "artwork-details.js"
      ],
      "names": [
        "React",
        "require",
        "ReactDOM",
        "Link",
        "capitalize",
        "Isvg",
        "cx",
        "ClickToSelect",
        "Markdown",
        "Peek",
        "dimensionSvg",
        "rightsDescriptions",
        "legacy",
        "rightsStatements",
        "findRightsByName",
        "findByName",
        "RightsStatementIcon",
        "feedbackSender",
        "_Artwork",
        "ArtworkDetails",
        "createClass",
        "build",
        "field",
        "fn",
        "props",
        "art",
        "highlights",
        "onlyShowHighlightDetails",
        "humanFieldName",
        "words",
        "replace",
        "artAndHighlights",
        "content",
        "extraContent",
        "showExtra",
        "state",
        "expandDetailsMatrix",
        "classes",
        "expandable",
        "expanded",
        "toggleExtra",
        "bind",
        "setState",
        "Object",
        "assign",
        "keys",
        "reduce",
        "object",
        "key",
        "value",
        "buildPeekableDetail",
        "extra",
        "details",
        "raw",
        "deaccessioned",
        "deaccessionedDate",
        "deaccessionedReason",
        "life_date",
        "artist",
        "RegExp",
        "nationality",
        "_",
        "roleFromArtistField",
        "match",
        "role",
        "room",
        "rawArt",
        "showFancyDimension",
        "dimension",
        "dimensions",
        "length",
        "map",
        "d",
        "aspect",
        "display",
        "toggleDimensionGraphic",
        "id",
        "dimensionGraphicName",
        "dimensionSvgLoaded",
        "creditline",
        "style",
        "rights",
        "getRights",
        "rs",
        "image_copyright",
        "decodeURIComponent",
        "label",
        "definition",
        "identifier",
        "classification",
        "classificationPeeks",
        "split",
        "index",
        "catalogue_raissonne",
        "title",
        "dated",
        "Date",
        "toUTCString",
        "slice",
        "join",
        "rights_type",
        "manifestLink",
        "uvLink",
        "miradorLink",
        "exhibition_history",
        "also",
        "see_also",
        "filter",
        "alsoString",
        "alsoLink",
        "console",
        "info",
        "rawSeeA",
        "portfolio",
        "portfolioName",
        "accessionHighlight",
        "slug",
        "accessionDate",
        "accessionHighlightText",
        "message",
        "JSON",
        "stringify",
        "currentUrl",
        "window",
        "location",
        "href",
        "dataSender",
        "undefined",
        "imageSender",
        "dataMessage",
        "curator_approved",
        "imageMessage",
        "getInitialState",
        "firstDimensionName",
        "expandDetails",
        "reduced",
        "render",
        "skip",
        "skipFields",
        "indexOf",
        "detail",
        "string",
        "heightAdjusted",
        "domNode",
        "findDOMNode",
        "context",
        "onHeightChange",
        "parentElement",
        "clientHeight",
        "contextTypes",
        "PropTypes",
        "func",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "artwork-details.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar ReactDOM = require('react-dom')\nvar {Link} = require('react-router')\nvar capitalize = require('capitalize')\nvar Isvg = require('react-inlinesvg')\nvar cx = require('classnames')\nvar ClickToSelect = require('@mapbox/react-click-to-select')\n\nvar Markdown = require('./markdown')\nvar Peek = require('./peek')\nvar dimensionSvg = require('./endpoints').dimensionSvg\nvar {\n  legacy: rightsDescriptions,\n  rightsStatements,\n  findByName: findRightsByName,\n  RightsStatementIcon,\n} = require('./rights-types.js')\nvar feedbackSender = require('./email-data-sender')\nvar _Artwork = require('./_artwork')\n\nvar ArtworkDetails = React.createClass({\n  build(field, fn) {\n    var {art, highlights} = this.props\n    if(this.props.onlyShowHighlightDetails && !highlights[field]) return\n\n    var humanFieldName = capitalize.words(field).replace('_', ' ')\n    var artAndHighlights = this.artAndHighlights()\n    var [content, extraContent] = fn ? fn(artAndHighlights, art) : [artAndHighlights[field]]\n    if(!content || content == '') return\n    var showExtra = extraContent && this.state.expandDetailsMatrix[field]\n    var classes = cx(\"detail-row\", {expandable: extraContent, expanded: showExtra}, field)\n\n    return <div className={classes} key={field}>\n      <div onClick={this.toggleExtra.bind(this, field)}>\n        <dt className=\"detail-title\">{humanFieldName}</dt>\n        <dd className='detail-content'>{content}</dd>\n      </div>\n      {showExtra && <div className=\"detail-extra\">{extraContent}</div>}\n    </div>\n  },\n\n  toggleExtra(field) {\n    var {expandDetailsMatrix} = this.state\n    expandDetailsMatrix[field] = !expandDetailsMatrix[field]\n    this.setState({expandDetailsMatrix})\n  },\n\n  // merge `art` with `highlights`, replacing the un-highlighted values with\n  // their 'highlit' equivalent\n  artAndHighlights() {\n    var {art, highlights} = this.props\n\n    return !highlights ? art : Object.assign({...art}, Object.keys(highlights).reduce((object, key) => {\n      var value = highlights[key] && highlights[key][0]\n      if(typeof value == 'string') value = <Markdown>{value}</Markdown>\n      object[key] = value\n      return object\n    }, {}))\n  },\n\n  buildPeekableDetail(field, extra, value) {\n    var {art} = this.props\n    var highlights = this.artAndHighlights()\n\n    return [\n      field,\n      art => [\n        value || highlights[field],\n        <div>\n          {extra}\n          <Peek facet={field} q={value || art[field]} />\n        </div>\n      ]\n    ]\n  },\n\n  details() {\n    var {art} = this.props\n    return [\n      ['deaccessioned', (art, raw) => [\n        raw.deaccessioned && `${art.deaccessionedDate}`, <div>\n          {raw.deaccessionedReason && <p>{raw.deaccessionedReason}</p>}\n          <Link to=\"/info/deaccessions\">Artworks are deaccessioned for many reasons</Link>\n        </div>\n      ]],\n      ['title'],\n      this.buildPeekableDetail('dated'),\n      this.buildPeekableDetail('artist', this.props.art.life_date, art.artist.replace(/^([^;]+):/, '')),\n      this.buildPeekableDetail('nationality'),\n      ['artist_life', (art) => [art.life_date && art.life_date.replace(new RegExp(art.nationality+\"(, )?\"), '')]],\n      ['role', (_, raw) => {\n        var roleFromArtistField = raw.artist.match(/^([^;]+):/)\n        return [roleFromArtistField ? roleFromArtistField[1] : raw.role]\n      }],\n      ['gallery', (art, raw) => [art.room, <Peek facet=\"room\" q={raw.room} />]],\n      this.buildPeekableDetail('department'),\n      ['dimension', (art, rawArt) => {\n        var showFancyDimension = art.dimension && this.dimensions().length > 0\n\n        return [\n          art.dimension && <div>{showFancyDimension ? this.dimensions().map(([d, aspect]) => {\n            return <span style={{display: 'block'}} onMouseEnter={this.toggleDimensionGraphic.bind(this, aspect)} key={aspect}>{d}</span>\n          }) : art.dimension}</div>,\n          showFancyDimension && <div>\n            {rawArt.dimension.match(/cm/) && <Isvg\n              src={dimensionSvg(art.id, this.state.dimensionGraphicName)}\n              key={this.state.dimensionGraphicName}\n              onLoad={this.dimensionSvgLoaded}\n            />}\n          </div>\n        ]\n      }],\n      ['credit', (art, raw) => [art.creditline, <Peek facet=\"creditline\" q={raw.creditline} />]],\n      ['accession_number'],\n      this.buildPeekableDetail('medium'),\n      this.buildPeekableDetail('country'),\n      this.buildPeekableDetail('culture'),\n      ['century', (art, raw) => [art.style, <Peek facet=\"style\" q={raw.style} />]],\n      ['provenance'],\n      ['rights', (art, raw) => {\n        var rights = rightsDescriptions.getRights(art)\n        var rs = findRightsByName(rights)\n\n        return [(art.image_copyright || rights) && <div>\n          {art.image_copyright && decodeURIComponent(art.image_copyright)}\n          {art.image_copyright && rights && <br/>}\n          {rights && <span>{rs ? rs.label : rights}</span>}\n        </div>,\n        <div>\n          {rs && <p>\n            {rs.definition}\n            <br />\n            <a href={rs.id} title=\"See more information by visiting righststatments.org\">\n              <RightsStatementIcon \n                statement={rs} \n                color=\"dark\" \n                alt=\"\"\n              /> {rs.label} ({rs.identifier})\n            </a>\n          </p>}\n          <Peek facet=\"rights_type\" q={rights} />\n          <p><a href=\"https://new.artsmia.org/copyright-and-image-access/\">Mia's Copyright and Image Access & Use Policies</a></p>\n        </div>\n        ]\n      }],\n      // apparently markings/inscription/signed are 'for our eyes only'\n      // ['markings', (art) => {\n      //   // show deprecated `marks` field if none of the new `markings, signature, inscription` fields exist yet\n      //   return [art.markings || (!art.signature && !art.inscription && art.marks)]\n      // }],\n      // ['inscription'],\n      // ['signed'],\n      ['classification', (art, raw) => {\n        if(!raw.classification) return []\n\n        var classificationPeeks = raw.classification.split(',')\n        .map((classification, index) => <Peek facet=\"classification\" q={classification} key={index} />)\n\n        return [\n          <p>{art.classification}</p>,\n          <div>{classificationPeeks}</div>\n        ]\n      }],\n      this.buildPeekableDetail('object_name'),\n      // disable tags due to frequent inaccuracies\n      // ['tags', art => {\n      //   if(!art.tags) return []\n\n      //   var linkedTags = art.tags.trim().split(' ')\n      //   .map(tag => <Link to=\"searchResults\" params={{terms: `tags:${tag}`}} key={tag}>{tag.replace(/-/g, ' ')}</Link>)\n\n      //   return [\n      //     <p>{linkedTags.map((tag, index) => {\n      //       return <span key={index}>{tag}{(index == linkedTags.length-1 || ', ')}</span>\n      //     })}</p>\n      // ]\n      // }],\n      ['catalogue_raisonne', (art) => {\n        if(!art.catalogue_raissonne) return []\n        return [ <div>{art.catalogue_raissonne}</div>]\n      }],\n      ['wikipedia', (art) => {\n        return ['Cite this information', <div>\n          <ClickToSelect>\n            <code name=\"Mia\">&#123;&#123;cite web |title={art.title} |url=https://collections.artsmia.org/art/{art.id} |author={art.artist} |year={art.dated} |accessdate={(new Date).toUTCString().split(' ').slice(1, 4).join(' ')} |publisher=Minneapolis Institute of Art&#125;&#125;</code>\n          </ClickToSelect>\n        </div>]\n      }],\n      ['IIIF', (art) => {\n        if(true || art.rights_type !== 'Public Domain') return []\n\n        const manifestLink = `https://iiif.dx.artsmia.org/${art.id}.jpg/manifest.json`\n        const uvLink = `https://universalviewer.io/uv.html?manifest=${manifestLink}`\n        const miradorLink = `https://projectmirador.org/embed/?iiif-content=${manifestLink}`\n\n        return ['Share this image with IIIF', <div>\n          <p><a href=\"https://iiif.io/\"><abbr title=\"international image interoperability framework\">IIIF</abbr></a> provides a way for images to be shared in a standard way.</p>\n          <p>This artworks has a &ldquo;<a href={manifestLink}>Manifest</a>&rdquo; that encodes information about it and that can be linked into a wide range of IIIF-enabled systems.</p>\n          <p>(Such as <a href={uvLink}>Universal Viewer</a> or <a href={miradorLink}>Mirador</a>.)</p>\n        </div>]\n      }],\n      ['exhibition_history', (art) => {\n        if(!art.exhibition_history) return []\n        return [<Markdown>{art.exhibition_history}</Markdown>]\n      }],\n      ['see_also', (art, raw) => {\n        var also = raw.see_also && raw.see_also.filter(id => id !== \"\" && id !== raw.id)\n\n        if(!also) return []\n\n        var alsoString = `${also.length} other artwork${also.length > 1 ? 's' : ''}`\n        var alsoLink = <a href={`/search/ids/${raw.see_also.join(',')}`}>{alsoString}</a>\n\n        console.info('artwork details see_also', {\n          also,\n          alsoString,\n          rawSeeA: raw.see_also,\n        })\n\n        return also && also.length > 0 ?\n          [\n            alsoLink, \n            <Peek facet=\"see_also\" q={raw.id} />\n          ] :\n          []\n      }],\n      ['portfolio', (art, raw) => {\n        if(!raw.portfolio || raw.portfolio == 'From ') return []\n        var portfolioName = raw.portfolio\n        .replace('From From', 'From') // some have double 'from'\n\n        return [portfolioName, <Peek facet=\"portfolio\" q={portfolioName} />]\n      }],\n      ['accession_highlight', (art) => {\n        if(!art.accessionHighlight) return []\n        return [\n          <p>\n            <Link to=\"accessionHighlight\" params={{id: art.id, slug: _Artwork.slug(art)}}>\n              This was one of Mia's top highlights in {art.accessionDate.split('-')[0]}.<br/>\n            </Link>\n            <Link to=\"recent\">See the rest!</Link>\n          </p>,\n          <Markdown>{art.accessionHighlightText + '\\n\\n---'}</Markdown>\n        ]\n      }],\n      ['metadata', (art) => {\n        const message = `Click here to see the machine readable JSON data that underpins this page.`\n        return [\n          <Markdown>{message}</Markdown>,\n          <div>\n            <p>\n              <a href={`https://search.artsmia.org/id/${art.id}`}>Access metadata though our search API</a> /{' '}\n              <a href={`https://search.artsmia.org/ids/${art.id}?format=csv`}>Download as CSV</a>\n            </p>\n            <Markdown>{`If you're interested in this, you might also want to check out our [Open Access](/info/open-access) page.`}</Markdown>\n            <pre><ClickToSelect><code>{JSON.stringify(art, null, 2)}</code></ClickToSelect></pre>\n          </div>,\n        ]\n      }],\n      ['curator_approved', art => {\n        var currentUrl = window.location && window.location.href.split('/').slice(0, 5).join('/')\n        var dataSender = feedbackSender(undefined, undefined, 'Collections data feedback', currentUrl)\n        var imageSender = feedbackSender('collectionsdata+images@artsmia.org', 'Let us know', 'Collections image feedback', currentUrl)\n\n        var dataMessage = art.curator_approved ?\n          `This record is from historic documentation and may not have been reviewed by a curator, so may be inaccurate or incomplete. Our records are frequently revised and enhanced. If you notice a mistake or have additional information about this object, please email ${dataSender}.` :\n          `This record has been reviewed by our curatorial staff but may be incomplete. These records are frequently revised and enhanced. If you notice a mistake or have additional information about this object, please email ${dataSender}.`\n\n        var imageMessage = `Does something look wrong with this image? ${imageSender}`\n\n        return [<Markdown>\n          {dataMessage + '\\n\\n' + imageMessage}\n        </Markdown>]\n      }],\n    ]\n  },\n\n  getInitialState() {\n    var dimensions = this.dimensions()\n    var firstDimensionName = dimensions && dimensions[0] && dimensions[0][1]\n    var expandDetails = this.details().reduce((reduced, [field]) => {\n      reduced[field] = false\n      return reduced\n    }, {})\n    expandDetails['dimension'] = !!firstDimensionName\n\n    return {\n      expandDetailsMatrix: expandDetails,\n      dimensionGraphicName: firstDimensionName,\n    }\n  },\n\n  render() {\n    var {art, highlights} = this.props\n    var skip = this.props.skipFields ? this.props.skipFields.split(' ') : []\n    var details = this.details()\n    .filter(([field]) => skip.indexOf(field) < 0)\n    .map(field => this.build(...field))\n    .filter(detail => !!detail)\n\n    return <dl className='artwork-detail'>\n      {details}\n    </dl>\n  },\n\n  dimensions() {\n    var {dimension} = this.props.art\n    if(!dimension) return []\n    // var dimension = this.props.highlights ? this.props.highlights.dimension : this.props.art\n    return dimension.split(\"\\r\\n\")\n    .filter(string => string.match(/[x\\|×].*cm/))\n    .map(string => {\n      var aspect = string.match(/cm\\)\\s\\(*([^\\(]+)\\)$/)\n\n      return [string, aspect ? aspect[1].replace(/[^a-zA-z]+/g, '-').replace(/^-|-$/, '') : 'dimensions']\n    })\n  },\n\n  toggleDimensionGraphic(aspect) {\n    this.setState({dimensionGraphicName: aspect})\n  },\n\n  dimensionSvgLoaded() {\n    if(this.state.heightAdjusted) return\n    this.setState({heightAdjusted: true})\n    var domNode = ReactDOM.findDOMNode(this)\n    this.context.onHeightChange && this.context.onHeightChange(domNode.parentElement.parentElement.parentElement.parentElement.clientHeight)\n  },\n})\nArtworkDetails.contextTypes = {\n  onHeightChange: React.PropTypes.func,\n}\n\nmodule.exports = ArtworkDetails\n"
      ]
    },
    "mtime": 1612393616748
  },
  "{\"filename\":\"/var/www/art/src/email-data-sender.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/email-data-sender.js",
      "filenameRelative": "/var/www/art/src/email-data-sender.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "email-data-sender.js",
      "sourceFileName": "email-data-sender.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "email-data-sender"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar EmailDataSender = function EmailDataSender(address, text, subject, body) {\n  address = address || 'collectionsdata@artsmia.org';\n  return '<a href=\"mailto:' + address + '?subject=' + subject + '&body=%0A%0A---%0A' + body + '\">' + (text || address) + '</a>';\n};\n\nmodule.exports = EmailDataSender;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtYWlsLWRhdGEtc2VuZGVyLmpzIl0sIm5hbWVzIjpbIkVtYWlsRGF0YVNlbmRlciIsImFkZHJlc3MiLCJ0ZXh0Iiwic3ViamVjdCIsImJvZHkiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLGtCQUFrQixTQUFsQkEsZUFBa0IsQ0FBQ0MsT0FBRCxFQUFVQyxJQUFWLEVBQWdCQyxPQUFoQixFQUF5QkMsSUFBekIsRUFBa0M7QUFDdERILFlBQVVBLFdBQVcsNkJBQXJCO0FBQ0EsOEJBQTBCQSxPQUExQixpQkFBNkNFLE9BQTdDLDBCQUF5RUMsSUFBekUsV0FBa0ZGLFFBQVFELE9BQTFGO0FBQ0QsQ0FIRDs7QUFLQUksT0FBT0MsT0FBUCxHQUFpQk4sZUFBakIiLCJmaWxlIjoiZW1haWwtZGF0YS1zZW5kZXIuanMiLCJzb3VyY2VSb290IjoiL3Zhci93d3cvYXJ0L3NyYyIsInNvdXJjZXNDb250ZW50IjpbInZhciBFbWFpbERhdGFTZW5kZXIgPSAoYWRkcmVzcywgdGV4dCwgc3ViamVjdCwgYm9keSkgPT4ge1xuICBhZGRyZXNzID0gYWRkcmVzcyB8fCAnY29sbGVjdGlvbnNkYXRhQGFydHNtaWEub3JnJ1xuICByZXR1cm4gYDxhIGhyZWY9XCJtYWlsdG86JHthZGRyZXNzfT9zdWJqZWN0PSR7c3ViamVjdH0mYm9keT0lMEElMEEtLS0lMEEke2JvZHl9XCI+JHt0ZXh0IHx8IGFkZHJlc3N9PC9hPmBcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBFbWFpbERhdGFTZW5kZXJcblxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "email-data-sender.js"
      ],
      "names": [
        "EmailDataSender",
        "address",
        "text",
        "subject",
        "body",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,kBAAkB,SAAlBA,eAAkB,CAACC,OAAD,EAAUC,IAAV,EAAgBC,OAAhB,EAAyBC,IAAzB,EAAkC;AACtDH,YAAUA,WAAW,6BAArB;AACA,8BAA0BA,OAA1B,iBAA6CE,OAA7C,0BAAyEC,IAAzE,WAAkFF,QAAQD,OAA1F;AACD,CAHD;;AAKAI,OAAOC,OAAP,GAAiBN,eAAjB",
      "file": "email-data-sender.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var EmailDataSender = (address, text, subject, body) => {\n  address = address || 'collectionsdata@artsmia.org'\n  return `<a href=\"mailto:${address}?subject=${subject}&body=%0A%0A---%0A${body}\">${text || address}</a>`\n}\n\nmodule.exports = EmailDataSender\n\n"
      ]
    },
    "mtime": 1489607727018
  },
  "{\"filename\":\"/var/www/art/src/bottom-sticky.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "objectWithoutProperties",
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/bottom-sticky.js",
      "filenameRelative": "/var/www/art/src/bottom-sticky.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "bottom-sticky.js",
      "sourceFileName": "bottom-sticky.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "bottom-sticky"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\nvar Sticky = require('react-sticky');\n\n// A fixed box that's 'synthetically' scrolled along with the rest of the\n// viewport by adjusting the position `top` to 'pull the content up' the\n// screen.\nvar BottomSticky = React.createClass({\n  displayName: 'BottomSticky',\n  render: function render() {\n    var _props = this.props,\n        stickyStyle = _props.stickyStyle,\n        baseStyle = _props.baseStyle,\n        children = _props.children,\n        other = _objectWithoutProperties(_props, ['stickyStyle', 'baseStyle', 'children']);\n\n    var _state = this.state,\n        style = _state.style,\n        isSticky = _state.isSticky;\n\n\n    var _style = baseStyle;\n    var _stickyStyle = _extends({}, baseStyle, stickyStyle);\n\n    return React.createElement(\n      Sticky,\n      _extends({\n        style: _style,\n        stickyStyle: _stickyStyle\n      }, other, {\n        onStickyStateChange: this.stickyChanged\n      }),\n      React.createElement(\n        'div',\n        { style: _extends({ position: 'relative' }, isSticky ? style : {}) },\n        children\n      )\n    );\n  },\n  stickyChanged: function stickyChanged(isSticky) {\n    this.setState({\n      isSticky: isSticky,\n      style: { top: 0 },\n      initialScrollY: 0\n    });\n\n    this.getSizeAndScroll();\n  },\n  getInitialState: function getInitialState() {\n    return {\n      style: { top: 0 }\n    };\n  },\n\n\n  componentDidMount: function componentDidMount() {\n    this.getSizeAndScroll();\n    window.addEventListener('scroll', this.scrolled);\n    window.addEventListener('peek', this.refresh);\n  },\n\n  componentWillUnmount: function componentWillUnmount() {\n    window.removeEventListener('scroll', this.scrolled);\n    window.removeEventListener('peek', this.refresh);\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    this.refresh(0, true);\n  },\n  componentWillUpdate: function componentWillUpdate(nextProps, nextState) {\n    if (this.state.isSticky !== nextState.isSticky) {\n      this.refresh(0);\n    }\n    if (this.state.height !== nextState.height && nextState.height > 0) {\n      // if the height changes, notify Search through this method exposed\n      // on `context` so it can adjust things to ensure smooth, happy\n      // scrolling\n      this.context.onHeightChange(nextState.height);\n    }\n  },\n  getSizeAndScroll: function getSizeAndScroll() {\n    var domNode = ReactDOM.findDOMNode(this);\n\n    // debugger\n\n    var state = {\n      height: domNode.scrollHeight,\n      initialScrollY: this.state.isSticky && window.scrollY\n    };\n\n    this.setState(state);\n  },\n  scrolled: function scrolled() {\n    this.adjustScroll();\n  },\n  adjustScroll: function adjustScroll() {\n    var _state2 = this.state,\n        style = _state2.style,\n        initialScrollY = _state2.initialScrollY,\n        height = _state2.height,\n        isSticky = _state2.isSticky;\n\n    if (!isSticky) return;\n\n    var currentScrollY = window.scrollY;\n    var deltaScrollY = initialScrollY - currentScrollY;\n    var amountToScroll = height - window.innerHeight + 200;\n    var scrollFudge = 1.1; // make the scrolling a bit smoother?\n\n    var scrollAdjustment = Math.max(0, Math.min(amountToScroll, -deltaScrollY / scrollFudge));\n\n    style.top = -scrollAdjustment;\n\n    this.setState({\n      style: style\n    });\n  },\n  refresh: function refresh() {\n    var _this = this;\n\n    var delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 300;\n    var adjustScroll = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    this.getSizeAndScroll();\n    adjustScroll && this.scrolled();\n    setTimeout(function () {\n      _this.getSizeAndScroll();\n      adjustScroll && _this.scrolled();\n    }, delay);\n  }\n});\nBottomSticky.contextTypes = {\n  onHeightChange: React.PropTypes.func\n};\n\nmodule.exports = BottomSticky;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvdHRvbS1zdGlja3kuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiUmVhY3RET00iLCJTdGlja3kiLCJCb3R0b21TdGlja3kiLCJjcmVhdGVDbGFzcyIsInJlbmRlciIsInByb3BzIiwic3RpY2t5U3R5bGUiLCJiYXNlU3R5bGUiLCJjaGlsZHJlbiIsIm90aGVyIiwic3RhdGUiLCJzdHlsZSIsImlzU3RpY2t5IiwiX3N0eWxlIiwiX3N0aWNreVN0eWxlIiwic3RpY2t5Q2hhbmdlZCIsInBvc2l0aW9uIiwic2V0U3RhdGUiLCJ0b3AiLCJpbml0aWFsU2Nyb2xsWSIsImdldFNpemVBbmRTY3JvbGwiLCJnZXRJbml0aWFsU3RhdGUiLCJjb21wb25lbnREaWRNb3VudCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJzY3JvbGxlZCIsInJlZnJlc2giLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwibmV4dFByb3BzIiwiY29tcG9uZW50V2lsbFVwZGF0ZSIsIm5leHRTdGF0ZSIsImhlaWdodCIsImNvbnRleHQiLCJvbkhlaWdodENoYW5nZSIsImRvbU5vZGUiLCJmaW5kRE9NTm9kZSIsInNjcm9sbEhlaWdodCIsInNjcm9sbFkiLCJhZGp1c3RTY3JvbGwiLCJjdXJyZW50U2Nyb2xsWSIsImRlbHRhU2Nyb2xsWSIsImFtb3VudFRvU2Nyb2xsIiwiaW5uZXJIZWlnaHQiLCJzY3JvbGxGdWRnZSIsInNjcm9sbEFkanVzdG1lbnQiLCJNYXRoIiwibWF4IiwibWluIiwiZGVsYXkiLCJzZXRUaW1lb3V0IiwiY29udGV4dFR5cGVzIiwiUHJvcFR5cGVzIiwiZnVuYyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUlBLFFBQVFDLFFBQVEsT0FBUixDQUFaO0FBQ0EsSUFBSUMsV0FBV0QsUUFBUSxXQUFSLENBQWY7QUFDQSxJQUFJ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b3VyY2VSb290IjoiL3Zhci93d3cvYXJ0L3NyYyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSZWFjdERPTSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpXG52YXIgU3RpY2t5ID0gcmVxdWlyZSgncmVhY3Qtc3RpY2t5JylcblxuLy8gQSBmaXhlZCBib3ggdGhhdCdzICdzeW50aGV0aWNhbGx5JyBzY3JvbGxlZCBhbG9uZyB3aXRoIHRoZSByZXN0IG9mIHRoZVxuLy8gdmlld3BvcnQgYnkgYWRqdXN0aW5nIHRoZSBwb3NpdGlvbiBgdG9wYCB0byAncHVsbCB0aGUgY29udGVudCB1cCcgdGhlXG4vLyBzY3JlZW4uXG52YXIgQm90dG9tU3RpY2t5ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHtzdGlja3lTdHlsZSwgYmFzZVN0eWxlLCBjaGlsZHJlbiwgLi4ub3RoZXJ9ID0gdGhpcy5wcm9wc1xuICAgIHZhciB7XG4gICAgICBzdHlsZSxcbiAgICAgIGlzU3RpY2t5LFxuICAgIH0gPSB0aGlzLnN0YXRlXG5cbiAgICBjb25zdCBfc3R5bGUgPSBiYXNlU3R5bGVcbiAgICBjb25zdCBfc3RpY2t5U3R5bGUgPSB7Li4uYmFzZVN0eWxlLCAuLi5zdGlja3lTdHlsZX1cblxuICAgIHJldHVybiA8U3RpY2t5XG4gICAgICBzdHlsZT17X3N0eWxlfVxuICAgICAgc3RpY2t5U3R5bGU9e19zdGlja3lTdHlsZX1cbiAgICAgIHsuLi5vdGhlcn1cbiAgICAgIG9uU3RpY2t5U3RhdGVDaGFuZ2U9e3RoaXMuc3RpY2t5Q2hhbmdlZH1cbiAgICA+XG4gICAgICA8ZGl2IHN0eWxlPXt7cG9zaXRpb246ICdyZWxhdGl2ZScsIC4uLihpc1N0aWNreSA/IHN0eWxlIDoge30pfX0+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgIDwvU3RpY2t5PlxuICB9LFxuXG4gIHN0aWNreUNoYW5nZWQoaXNTdGlja3kpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzU3RpY2t5OiBpc1N0aWNreSxcbiAgICAgIHN0eWxlOiB7dG9wOiAwfSxcbiAgICAgIGluaXRpYWxTY3JvbGxZOiAwLFxuICAgIH0pXG5cbiAgICB0aGlzLmdldFNpemVBbmRTY3JvbGwoKVxuICB9LFxuXG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3R5bGU6IHt0b3A6IDB9LFxuICAgIH1cbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5nZXRTaXplQW5kU2Nyb2xsKClcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zY3JvbGxlZClcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncGVlaycsIHRoaXMucmVmcmVzaClcbiAgfSxcblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zY3JvbGxlZClcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncGVlaycsIHRoaXMucmVmcmVzaClcbiAgfSxcblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIHRoaXMucmVmcmVzaCgwLCB0cnVlKVxuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgICBpZih0aGlzLnN0YXRlLmlzU3RpY2t5ICE9PSBuZXh0U3RhdGUuaXNTdGlja3kpIHtcbiAgICAgIHRoaXMucmVmcmVzaCgwKVxuICAgIH1cbiAgICBpZih0aGlzLnN0YXRlLmhlaWdodCAhPT0gbmV4dFN0YXRlLmhlaWdodCAmJiBuZXh0U3RhdGUuaGVpZ2h0ID4gMCkge1xuICAgICAgLy8gaWYgdGhlIGhlaWdodCBjaGFuZ2VzLCBub3RpZnkgU2VhcmNoIHRocm91Z2ggdGhpcyBtZXRob2QgZXhwb3NlZFxuICAgICAgLy8gb24gYGNvbnRleHRgIHNvIGl0IGNhbiBhZGp1c3QgdGhpbmdzIHRvIGVuc3VyZSBzbW9vdGgsIGhhcHB5XG4gICAgICAvLyBzY3JvbGxpbmdcbiAgICAgIHRoaXMuY29udGV4dC5vbkhlaWdodENoYW5nZShuZXh0U3RhdGUuaGVpZ2h0KVxuICAgIH1cbiAgfSxcblxuICBnZXRTaXplQW5kU2Nyb2xsKCkge1xuICAgIHZhciBkb21Ob2RlID0gUmVhY3RET00uZmluZERPTU5vZGUodGhpcylcblxuICAgIC8vIGRlYnVnZ2VyXG5cbiAgICB2YXIgc3RhdGUgPSB7XG4gICAgICBoZWlnaHQ6IGRvbU5vZGUuc2Nyb2xsSGVpZ2h0LFxuICAgICAgaW5pdGlhbFNjcm9sbFk6IHRoaXMuc3RhdGUuaXNTdGlja3kgJiYgd2luZG93LnNjcm9sbFksXG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSlcbiAgfSxcblxuICBzY3JvbGxlZCgpIHtcbiAgICB0aGlzLmFkanVzdFNjcm9sbCgpXG4gIH0sXG5cbiAgYWRqdXN0U2Nyb2xsKCkge1xuICAgIHZhciB7c3R5bGUsIGluaXRpYWxTY3JvbGxZLCBoZWlnaHQsIGlzU3RpY2t5fSA9IHRoaXMuc3RhdGVcbiAgICBpZighaXNTdGlja3kpIHJldHVyblxuXG4gICAgdmFyIGN1cnJlbnRTY3JvbGxZID0gd2luZG93LnNjcm9sbFlcbiAgICB2YXIgZGVsdGFTY3JvbGxZID0gaW5pdGlhbFNjcm9sbFkgLSBjdXJyZW50U2Nyb2xsWVxuICAgIHZhciBhbW91bnRUb1Njcm9sbCA9IGhlaWdodCAtIHdpbmRvdy5pbm5lckhlaWdodCArIDIwMFxuICAgIHZhciBzY3JvbGxGdWRnZSA9IDEuMSAvLyBtYWtlIHRoZSBzY3JvbGxpbmcgYSBiaXQgc21vb3RoZXI/XG5cbiAgICB2YXIgc2Nyb2xsQWRqdXN0bWVudCA9IE1hdGgubWF4KFxuICAgICAgMCxcbiAgICAgIE1hdGgubWluKGFtb3VudFRvU2Nyb2xsLCAtZGVsdGFTY3JvbGxZL3Njcm9sbEZ1ZGdlKVxuICAgIClcblxuICAgIHN0eWxlLnRvcCA9IC1zY3JvbGxBZGp1c3RtZW50XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICB9KVxuICB9LFxuXG4gIHJlZnJlc2goZGVsYXk9MzAwLCBhZGp1c3RTY3JvbGw9ZmFsc2UpIHtcbiAgICB0aGlzLmdldFNpemVBbmRTY3JvbGwoKVxuICAgIGFkanVzdFNjcm9sbCAmJiB0aGlzLnNjcm9sbGVkKClcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuZ2V0U2l6ZUFuZFNjcm9sbCgpXG4gICAgICBhZGp1c3RTY3JvbGwgJiYgdGhpcy5zY3JvbGxlZCgpXG4gICAgfSwgZGVsYXkpXG4gIH0sXG59KVxuQm90dG9tU3RpY2t5LmNvbnRleHRUeXBlcyA9IHtcbiAgb25IZWlnaHRDaGFuZ2U6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEJvdHRvbVN0aWNreVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "bottom-sticky.js"
      ],
      "names": [
        "React",
        "require",
        "ReactDOM",
        "Sticky",
        "BottomSticky",
        "createClass",
        "render",
        "props",
        "stickyStyle",
        "baseStyle",
        "children",
        "other",
        "state",
        "style",
        "isSticky",
        "_style",
        "_stickyStyle",
        "stickyChanged",
        "position",
        "setState",
        "top",
        "initialScrollY",
        "getSizeAndScroll",
        "getInitialState",
        "componentDidMount",
        "window",
        "addEventListener",
        "scrolled",
        "refresh",
        "componentWillUnmount",
        "removeEventListener",
        "componentWillReceiveProps",
        "nextProps",
        "componentWillUpdate",
        "nextState",
        "height",
        "context",
        "onHeightChange",
        "domNode",
        "findDOMNode",
        "scrollHeight",
        "scrollY",
        "adjustScroll",
        "currentScrollY",
        "deltaScrollY",
        "amountToScroll",
        "innerHeight",
        "scrollFudge",
        "scrollAdjustment",
        "Math",
        "max",
        "min",
        "delay",
        "setTimeout",
        "contextTypes",
        "PropTypes",
        "func",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "bottom-sticky.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar ReactDOM = require('react-dom')\nvar Sticky = require('react-sticky')\n\n// A fixed box that's 'synthetically' scrolled along with the rest of the\n// viewport by adjusting the position `top` to 'pull the content up' the\n// screen.\nvar BottomSticky = React.createClass({\n  render() {\n    var {stickyStyle, baseStyle, children, ...other} = this.props\n    var {\n      style,\n      isSticky,\n    } = this.state\n\n    const _style = baseStyle\n    const _stickyStyle = {...baseStyle, ...stickyStyle}\n\n    return <Sticky\n      style={_style}\n      stickyStyle={_stickyStyle}\n      {...other}\n      onStickyStateChange={this.stickyChanged}\n    >\n      <div style={{position: 'relative', ...(isSticky ? style : {})}}>\n        {children}\n      </div>\n    </Sticky>\n  },\n\n  stickyChanged(isSticky) {\n    this.setState({\n      isSticky: isSticky,\n      style: {top: 0},\n      initialScrollY: 0,\n    })\n\n    this.getSizeAndScroll()\n  },\n\n  getInitialState() {\n    return {\n      style: {top: 0},\n    }\n  },\n\n  componentDidMount: function() {\n    this.getSizeAndScroll()\n    window.addEventListener('scroll', this.scrolled)\n    window.addEventListener('peek', this.refresh)\n  },\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.scrolled)\n    window.removeEventListener('peek', this.refresh)\n  },\n\n  componentWillReceiveProps(nextProps) {\n    this.refresh(0, true)\n  },\n\n  componentWillUpdate(nextProps, nextState) {\n    if(this.state.isSticky !== nextState.isSticky) {\n      this.refresh(0)\n    }\n    if(this.state.height !== nextState.height && nextState.height > 0) {\n      // if the height changes, notify Search through this method exposed\n      // on `context` so it can adjust things to ensure smooth, happy\n      // scrolling\n      this.context.onHeightChange(nextState.height)\n    }\n  },\n\n  getSizeAndScroll() {\n    var domNode = ReactDOM.findDOMNode(this)\n\n    // debugger\n\n    var state = {\n      height: domNode.scrollHeight,\n      initialScrollY: this.state.isSticky && window.scrollY,\n    }\n\n    this.setState(state)\n  },\n\n  scrolled() {\n    this.adjustScroll()\n  },\n\n  adjustScroll() {\n    var {style, initialScrollY, height, isSticky} = this.state\n    if(!isSticky) return\n\n    var currentScrollY = window.scrollY\n    var deltaScrollY = initialScrollY - currentScrollY\n    var amountToScroll = height - window.innerHeight + 200\n    var scrollFudge = 1.1 // make the scrolling a bit smoother?\n\n    var scrollAdjustment = Math.max(\n      0,\n      Math.min(amountToScroll, -deltaScrollY/scrollFudge)\n    )\n\n    style.top = -scrollAdjustment\n\n    this.setState({\n      style: style,\n    })\n  },\n\n  refresh(delay=300, adjustScroll=false) {\n    this.getSizeAndScroll()\n    adjustScroll && this.scrolled()\n    setTimeout(() => {\n      this.getSizeAndScroll()\n      adjustScroll && this.scrolled()\n    }, delay)\n  },\n})\nBottomSticky.contextTypes = {\n  onHeightChange: React.PropTypes.func,\n}\n\nmodule.exports = BottomSticky\n"
      ]
    },
    "mtime": 1588088003276
  },
  "{\"filename\":\"/var/www/art/src/artwork-related.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/artwork-related.js",
      "filenameRelative": "/var/www/art/src/artwork-related.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "artwork-related.js",
      "sourceFileName": "artwork-related.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "artwork-related"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar rest = require('rest');\nvar cx = require('classnames');\n\nvar _require = require('react-router'),\n    Link = _require.Link;\n\nvar ga = require('react-ga');\nvar R = require('ramda');\n\nvar Markdown = require('./markdown');\nvar imageCDN = require('./image-cdn');\n\nvar artstoryStampStyle = {\n  backgroundPosition: 'center center',\n  backgroundSize: 'contain'\n};\n\nvar ArtworkRelatedContent = React.createClass({\n  displayName: 'ArtworkRelatedContent',\n  render: function render() {\n    var _this = this;\n\n    var art = this.props.art;\n\n    if (!art) return React.createElement('span', null);\n\n    var links = Object.keys(art).filter(function (key) {\n      return key.match('related:');\n    }).reduce(function (relateds, key) {\n      var linkOrListOfLinks = typeof art[key] == 'string' ? JSON.parse(art[key]) : art[key];\n      Array.isArray(linkOrListOfLinks) ? relateds = relateds.concat(linkOrListOfLinks) : relateds.push(linkOrListOfLinks);\n\n      return relateds;\n    }, []);\n\n    var explore = links.filter(function (link) {\n      return link.type !== \"exhibition\";\n    });\n    var exhibitions = links.filter(function (link) {\n      return link.type == \"exhibition\";\n    });\n    // only show exhibitions tagged `rotation`\n    var significantExhibitions = exhibitions.filter(function (ex) {\n      return ex.rotation;\n    });\n\n    var sortedExploreContent = R.sortBy(function (_ref) {\n      var type = _ref.type;\n      return {\n        audio: 17,\n        video: 13,\n        artstory: 9,\n        'mia-story': 5,\n        inspiredByMia: 2,\n        newsflash: 1\n      }[type];\n    }, explore).reverse();\n\n    var groupedByTypeSortedContent = R.groupBy(function (_ref2) {\n      var type = _ref2.type;\n      return type;\n    }, sortedExploreContent);\n    var groupedRelatedContents = R.mapObjIndexed(function (relateds, type) {\n      var humanTypeName = type.replace(/-/g, ' ').replace(/\\w\\S*/g, function (txt) {\n        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n      });\n      var showType = true || ['audio', 'video', 'artstory', '3d', 'inspiredByMia'].indexOf(type) < 0;\n\n      return React.createElement(\n        'div',\n        null,\n        showType && React.createElement(\n          'h2',\n          null,\n          humanTypeName\n        ),\n        relateds.map(_this.build)\n      );\n    }, groupedByTypeSortedContent);\n\n    var meat = React.createElement(\n      'div',\n      { className: 'explore' },\n      R.values(groupedRelatedContents)\n    );\n    var exhibition_wrap = React.createElement(\n      'div',\n      { className: 'exhibition_item' },\n      significantExhibitions.map(this.build)\n    );\n\n    var bones = this.props.skipWrapper ? meat : React.createElement(\n      'div',\n      { id: 'explore', className: 'exploreWrapper' },\n      React.createElement(\n        'h5',\n        { className: 'details-title' },\n        'Explore'\n      ),\n      meat\n    );\n\n    var exhib_bones = React.createElement(\n      'div',\n      { className: 'exhibitionWrapper' },\n      React.createElement(\n        'h5',\n        { className: 'details-title' },\n        'Exhibitions'\n      ),\n      exhibition_wrap\n    );\n\n    return React.createElement(\n      'div',\n      null,\n      explore && explore.length > 0 && bones,\n      significantExhibitions && significantExhibitions.length > 0 && exhib_bones\n    );\n  },\n  build: function build(json) {\n    if (!json.id) json.id = this.props.id;\n    var trackRelatedClick = this.trackRelatedContentInteraction.bind(this, json);\n    if (json.link && json.link.match('vimeo.com')) json.type = 'video';\n    var template = this.templates[json.type] || this.templates.default;\n\n    return React.createElement(\n      'div',\n      { onClick: trackRelatedClick, key: json.link || json.title },\n      template.bind(this)(json, this.props.id, this.props.highlights, trackRelatedClick)\n    );\n  },\n  trackRelatedContentInteraction: function trackRelatedContentInteraction(json, event) {\n    // track clicks on related content via more.artsmia.org fort objects on G311 and 355\n    if (['G311', 'G355'].indexOf(this.props.art.room) > -1) {\n      event.preventDefault();\n\n      // note: outbound link tracking only accepts 'label'\n      ga.outboundLink({\n        category: 'more.artsmia.org related content click',\n        action: 'clicked',\n        label: json.type,\n        value: json.id + ' - ' + json.link\n      }, function () {\n        // window.location = json.link\n        json.type == 'audio' || window.open(json.link, '_blank');\n      });\n    }\n  },\n\n\n  // TODO rebuild these as list items with an image on the left and info on the right\n  // * How to get images for mia stories - they aren't included in the wp download\n  //   Make an api call for each? yuck\n  // * disable adopt a painting until it returns as Art Champions?\n  // * filter out old newsflashes\n  templates: {\n    audio: function audio(json, id, _, track) {\n      return React.createElement(\n        'div',\n        { className: 'audioClip' },\n        json.title,\n        ' ',\n        json.number ? '(#' + json.number + ')' : '',\n        React.createElement('audio', { style: { maxWidth: '100%' }, src: json.link.replace('http:', 'https:'), controls: true, onPlay: track })\n      );\n    },\n    newsflash: function newsflash(json) {\n      return React.createElement(\n        'div',\n        { className: 'newsflash', style: { backgroundImage1: 'url(https://newsflash.dx.artsmia.org' + json.image + ')' } },\n        React.createElement(\n          'a',\n          { href: json.link },\n          json.title,\n          React.createElement('img', { src: 'https://newsflash.dx.artsmia.org' + json.image })\n        )\n      );\n    },\n    artstory: function artstory(json, id, highlight) {\n      return React.createElement(\n        'div',\n        { className: cx(\"artstory\", { \"block-highlight\": highlight && highlight[\"related:artstories\"] }) },\n        React.createElement(\n          'a',\n          { href: json.link },\n          React.createElement(\n            'p',\n            null,\n            'ArtStories',\n            React.createElement('br', null),\n            React.createElement(\n              'sub',\n              null,\n              'Zoom in.'\n            )\n          ),\n          React.createElement('img', { src: imageCDN(id), style: { maxWidth: '13em' } })\n        )\n      );\n    },\n    \"adopt-a-painting\": function adoptAPainting(json, id, highlights) {\n      var highlight = highlights && highlights[\"related:adopt-a-painting\"];\n      var highlight = highlight ? JSON.parse(highlight[0]) : null;\n      if (!(highlight || window.location && window.location.pathname.match(/related.*adopt/))) return React.createElement('span', null);\n\n      if (json.adopted === \"1\") {\n        return React.createElement(\n          'div',\n          { className: 'adopt-ptg', style: { clear: 'both' } },\n          React.createElement(\n            'h3',\n            null,\n            'This painting has been adopted.'\n          ),\n          React.createElement(\n            'a',\n            { href: '/info/adopt-a-painting' },\n            'Learn more about adopting a painting. ',\n            React.createElement(\n              'i',\n              { className: 'material-icons' },\n              'launch'\n            )\n          ),\n          highlight && React.createElement(\n            'div',\n            null,\n            'It needed adoption because\\u2026 ',\n            React.createElement(\n              'blockquote',\n              null,\n              React.createElement(\n                Markdown,\n                null,\n                highlight.description\n              )\n            )\n          )\n        );\n      } else {\n        return React.createElement(\n          'div',\n          { className: 'adopt-ptg' },\n          React.createElement(\n            'div',\n            { style: { width: \"100%\" } },\n            React.createElement(\n              'h3',\n              null,\n              'Adopt-a-Painting'\n            ),\n            React.createElement(\n              'p',\n              null,\n              'Cost ',\n              React.createElement(\n                'span',\n                { className: 'cost' },\n                json.cost\n              )\n            ),\n            React.createElement(\n              Markdown,\n              null,\n              highlight ? highlight.description : json.description\n            ),\n            React.createElement(\n              'a',\n              { href: '/info/adopt-a-painting' },\n              'Learn how to adopt this painting. ',\n              React.createElement(\n                'i',\n                { className: 'material-icons' },\n                'launch'\n              )\n            )\n          )\n        );\n      }\n    },\n    default: function _default(json, id, highlights) {\n      var miaStoryMatches = highlights && highlights['related:stories'] && highlights['related:stories'].filter(function (h) {\n        var h = JSON.parse(h);return json.title == h.title.replace(/<\\/?em>/g, '');\n      });\n      var defaultStyle = {};\n\n      return React.createElement(\n        'div',\n        { className: 'explore-content', style: defaultStyle },\n        React.createElement(\n          'div',\n          { className: cx({ \"block-highlight\": miaStoryMatches && miaStoryMatches.length > 0 }) },\n          React.createElement(\n            'a',\n            { href: json.link },\n            React.createElement(\n              'p',\n              null,\n              json.title\n            )\n          )\n        )\n      );\n    },\n    \"exhibition\": function exhibition(json, id, highlights) {\n      var otherArtCount = json.objectIds ? json.objectIds.length - 1 : '(x)';\n\n      return React.createElement(\n        'ul',\n        { className: 'exhibitions', style: { clear: \"both\" } },\n        React.createElement(\n          'li',\n          null,\n          React.createElement(\n            'h4',\n            null,\n            React.createElement(\n              Link,\n              { to: 'exhibition', params: { id: json.id } },\n              json.title\n            )\n          ),\n          ' ',\n          json.date\n        )\n      );\n    },\n    \"3d\": function d(json, id) {\n      return React.createElement(\n        'div',\n        { className: 'explore-content 3d' },\n        React.createElement(\n          'a',\n          { href: json.link },\n          React.createElement(\n            'p',\n            null,\n            'View in 3D \\uD83D\\uDC53'\n          ),\n          React.createElement('img', { src: json.thumb })\n        )\n      );\n    },\n    \"video\": function video(json, id) {\n      var iframe = React.createElement('iframe', { src: 'https://player.vimeo.com/video/' + json.link.match(/\\d+/)[0], frameborder: '0', webkitallowfullscreen: true, mozallowfullscreen: true, allowfullscreen: true });\n\n      return iframe;\n    },\n    \"Inspired By Mia\": function InspiredByMia(json, id) {\n      return React.createElement(\n        'div',\n        null,\n        React.createElement(\n          Link,\n          { to: 'sandboxArtwork', params: { id: json.wpid } },\n          React.createElement('img', { src: json.image, style: { maxWidth: '13em' } }),\n          React.createElement('br', null),\n          json.title,\n          ' by ',\n          json.artist\n        )\n      );\n    }\n  }\n});\n\nmodule.exports = ArtworkRelatedContent;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFydHdvcmstcmVsYXRlZC5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJyZXN0IiwiY3giLCJMaW5rIiwiZ2EiLCJSIiwiTWFya2Rvd24iLCJpbWFnZUNETiIsImFydHN0b3J5U3RhbXBTdHlsZSIsImJhY2tncm91bmRQb3NpdGlvbiIsImJhY2tncm91bmRTaXplIiwiQXJ0d29ya1JlbGF0ZWRDb250ZW50IiwiY3JlYXRlQ2xhc3MiLCJyZW5kZXIiLCJhcnQiLCJwcm9wcyIsImxpbmtzIiwiT2JqZWN0Iiwia2V5cyIsImZpbHRlciIsImtleSIsIm1hdGNoIiwicmVkdWNlIiwicmVsYXRlZHMiLCJsaW5rT3JMaXN0T2ZMaW5rcyIsIkpTT04iLCJwYXJzZSIsIkFycmF5IiwiaXNBcnJheSIsImNvbmNhdCIsInB1c2giLCJleHBsb3JlIiwibGluayIsInR5cGUiLCJleGhpYml0aW9ucyIsInNpZ25pZmljYW50RXhoaWJpdGlvbnMiLCJleCIsInJvdGF0aW9uIiwic29ydGVkRXhwbG9yZUNvbnRlbnQiLCJzb3J0QnkiLCJhdWRpbyIsInZpZGVvIiwiYXJ0c3RvcnkiLCJpbnNwaXJlZEJ5TWlhIiwibmV3c2ZsYXNoIiwicmV2ZXJzZSIsImdyb3VwZWRCeVR5cGVTb3J0ZWRDb250ZW50IiwiZ3JvdXBCeSIsImdyb3VwZWRSZWxhdGVkQ29udGVudHMiLCJtYXBPYmpJbmRleGVkIiwiaHVtYW5UeXBlTmFtZSIsInJlcGxhY2UiLCJ0eHQiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInN1YnN0ciIsInRvTG93ZXJDYXNlIiwic2hvd1R5cGUiLCJpbmRleE9mIiwibWFwIiwiYnVpbGQiLCJtZWF0IiwidmFsdWVzIiwiZXhoaWJpdGlvbl93cmFwIiwiYm9uZXMiLCJza2lwV3JhcHBlciIsImV4aGliX2JvbmVzIiwibGVuZ3RoIiwianNvbiIsImlkIiwidHJhY2tSZWxhdGVkQ2xpY2siLCJ0cmFja1JlbGF0ZWRDb250ZW50SW50ZXJhY3Rpb24iLCJiaW5kIiwidGVtcGxhdGUiLCJ0ZW1wbGF0ZXMiLCJkZWZhdWx0IiwidGl0bGUiLCJoaWdobGlnaHRzIiwiZXZlbnQiLCJyb29tIiwicHJldmVudERlZmF1bHQiLCJvdXRib3VuZExpbmsiLCJjYXRlZ29yeSIsImFjdGlvbiIsImxhYmVsIiwidmFsdWUiLCJ3aW5kb3ciLCJvcGVuIiwiXyIsInRyYWNrIiwibnVtYmVyIiwibWF4V2lkdGgiLCJiYWNrZ3JvdW5kSW1hZ2UxIiwiaW1hZ2UiLCJoaWdobGlnaHQiLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwiYWRvcHRlZCIsImNsZWFyIiwiZGVzY3JpcHRpb24iLCJ3aWR0aCIsImNvc3QiLCJtaWFTdG9yeU1hdGNoZXMiLCJoIiwiZGVmYXVsdFN0eWxlIiwib3RoZXJBcnRDb3VudCIsIm9iamVjdElkcyIsImRhdGUiLCJ0aHVtYiIsImlmcmFtZSIsIndwaWQiLCJhcnRpc3QiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFFBQVFDLFFBQVEsT0FBUixDQUFaO0FBQ0EsSUFBSUMsT0FBT0QsUUFBUSxNQUFSLENBQVg7QUFDQSxJQUFJRSxLQUFLRixRQUFRLFlBQVIsQ0FBVDs7ZUFDYUEsUUFBUSxjQUFSLEM7SUFBUkcsSSxZQUFBQSxJOztBQUNMLElBQUlDLEtBQUtKLFFBQVEsVUFBUixDQUFUO0FBQ0EsSUFBSUssSUFBSUwsUUFBUSxPQUFSLENBQVI7O0FBRUEsSUFBSU0sV0FBV04sUUFBUSxZQUFSLENBQWY7QUFDQSxJQUFJTyxXQUFXUCxRQUFRLGFBQVIsQ0FBZjs7QUFFQSxJQUFJUSxxQkFBcUI7QUFDdkJDLHNCQUFvQixlQURHO0FBRXZCQyxrQkFBZ0I7QUFGTyxDQUF6Qjs7QUFLQSxJQUFJQyx3QkFBd0JaLE1BQU1hLFdBQU4sQ0FBa0I7QUFBQTtBQUM1Q0MsUUFENEMsb0JBQ25DO0FBQUE7O0FBQUEsUUFDRkMsR0FERSxHQUNLLEtBQUtDLEtBRFYsQ0FDRkQsR0FERTs7QUFFUCxRQUFHLENBQUNBLEdBQUosRUFBUyxPQUFPLGlD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QUFNRCxLQWpFUTtBQWtFVCxhQUFTLGVBQUN4QyxJQUFELEVBQU9DLEVBQVAsRUFBYztBQUNyQixVQUFJd0MsU0FBUyxnQ0FBUSx5Q0FBdUN6QyxLQUFLcEMsSUFBTCxDQUFVWCxLQUFWLENBQWdCLEtBQWhCLEVBQXVCLENBQXZCLENBQS9DLEVBQTRFLGFBQVksR0FBeEYsRUFBNEYsMkJBQTVGLEVBQWtILHdCQUFsSCxFQUFxSSxxQkFBckksR0FBYjs7QUFFQSxhQUFPd0YsTUFBUDtBQUNELEtBdEVRO0FBdUVULHVCQUFtQix1QkFBQ3pDLElBQUQsRUFBT0MsRUFBUCxFQUFjO0FBQy9CLGFBQU87QUFBQTtBQUFBO0FBQ0w7QUFBQyxjQUFEO0FBQUEsWUFBTSxJQUFHLGdCQUFULEVBQTBCLFFBQVEsRUFBQ0EsSUFBSUQsS0FBSzBDLElBQVYsRUFBbEM7QUFDRSx1Q0FBSyxLQUFLMUMsS0FBS3lCLEtBQWYsRUFBc0IsT0FBTyxFQUFDRixVQUFVLE1BQVgsRUFBN0IsR0FERjtBQUNxRCx5Q0FEckQ7QUFFR3ZCLGVBQUtRLEtBRlI7QUFBQTtBQUVtQlIsZUFBSzJDO0FBRnhCO0FBREssT0FBUDtBQU1EO0FBOUVRO0FBcEdpQyxDQUFsQixDQUE1Qjs7QUFzTEFDLE9BQU9DLE9BQVAsR0FBaUJ0RyxxQkFBakIiLCJmaWxlIjoiYXJ0d29yay1yZWxhdGVkLmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxudmFyIGN4ID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpXG52YXIge0xpbmt9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciBnYSA9IHJlcXVpcmUoJ3JlYWN0LWdhJylcbnZhciBSID0gcmVxdWlyZSgncmFtZGEnKVxuXG52YXIgTWFya2Rvd24gPSByZXF1aXJlKCcuL21hcmtkb3duJylcbnZhciBpbWFnZUNETiA9IHJlcXVpcmUoJy4vaW1hZ2UtY2RuJylcblxudmFyIGFydHN0b3J5U3RhbXBTdHlsZSA9IHtcbiAgYmFja2dyb3VuZFBvc2l0aW9uOiAnY2VudGVyIGNlbnRlcicsXG4gIGJhY2tncm91bmRTaXplOiAnY29udGFpbicsXG59XG5cbnZhciBBcnR3b3JrUmVsYXRlZENvbnRlbnQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIge2FydH0gPSB0aGlzLnByb3BzXG4gICAgaWYoIWFydCkgcmV0dXJuIDxzcGFuLz5cblxuICAgIHZhciBsaW5rcyA9IE9iamVjdC5rZXlzKGFydCkuZmlsdGVyKGtleSA9PiBrZXkubWF0Y2goJ3JlbGF0ZWQ6JykpXG4gICAgLnJlZHVjZSgocmVsYXRlZHMsIGtleSkgPT4ge1xuICAgICAgdmFyIGxpbmtPckxpc3RPZkxpbmtzID0gKHR5cGVvZiBhcnRba2V5XSA9PSAnc3RyaW5nJykgPyBKU09OLnBhcnNlKGFydFtrZXldKSA6IGFydFtrZXldXG4gICAgICBBcnJheS5pc0FycmF5KGxpbmtPckxpc3RPZkxpbmtzKSA/XG4gICAgICAgICAgcmVsYXRlZHMgPSByZWxhdGVkcy5jb25jYXQobGlua09yTGlzdE9mTGlua3MpIDpcbiAgICAgICAgICByZWxhdGVkcy5wdXNoKGxpbmtPckxpc3RPZkxpbmtzKVxuXG4gICAgICByZXR1cm4gcmVsYXRlZHNcbiAgICB9LCBbXSlcblxuICAgIHZhciBleHBsb3JlID0gbGlua3MuZmlsdGVyKGxpbmsgPT4gbGluay50eXBlICE9PSBcImV4aGliaXRpb25cIilcbiAgICB2YXIgZXhoaWJpdGlvbnMgPSBsaW5rcy5maWx0ZXIobGluayA9PiBsaW5rLnR5cGUgPT0gXCJleGhpYml0aW9uXCIpXG4gICAgLy8gb25seSBzaG93IGV4aGliaXRpb25zIHRhZ2dlZCBgcm90YXRpb25gXG4gICAgdmFyIHNpZ25pZmljYW50RXhoaWJpdGlvbnMgPSBleGhpYml0aW9ucy5maWx0ZXIoZXggPT4gZXgucm90YXRpb24pXG5cbiAgICB2YXIgc29ydGVkRXhwbG9yZUNvbnRlbnQgPSBSLnNvcnRCeSgoe3R5cGV9KSA9PiAoe1xuICAgICAgYXVkaW86IDE3LFxuICAgICAgdmlkZW86IDEzLFxuICAgICAgYXJ0c3Rvcnk6IDksXG4gICAgICAnbWlhLXN0b3J5JzogNSxcbiAgICAgIGluc3BpcmVkQnlNaWE6IDIsXG4gICAgICBuZXdzZmxhc2g6IDEsXG4gICAgfVt0eXBlXSksIGV4cGxvcmUpLnJldmVyc2UoKVxuXG5cbiAgICB2YXIgZ3JvdXBlZEJ5VHlwZVNvcnRlZENvbnRlbnQgPSBSLmdyb3VwQnkoKHt0eXBlfSkgPT4gdHlwZSwgc29ydGVkRXhwbG9yZUNvbnRlbnQpXG4gICAgdmFyIGdyb3VwZWRSZWxhdGVkQ29udGVudHMgPSBSLm1hcE9iakluZGV4ZWQoKHJlbGF0ZWRzLCB0eXBlKSA9PiB7XG4gICAgICBjb25zdCBodW1hblR5cGVOYW1lID0gdHlwZS5yZXBsYWNlKC8tL2csICcgJykucmVwbGFjZSgvXFx3XFxTKi9nLCBmdW5jdGlvbih0eHQpe3JldHVybiB0eHQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0eHQuc3Vic3RyKDEpLnRvTG93ZXJDYXNlKCk7fSlcbiAgICAgIGNvbnN0IHNob3dUeXBlID0gdHJ1ZSB8fCBbJ2F1ZGlvJywgJ3ZpZGVvJywgJ2FydHN0b3J5JywgJzNkJywgJ2luc3BpcmVkQnlNaWEnXS5pbmRleE9mKHR5cGUpIDwgMFxuXG4gICAgICByZXR1cm4gPGRpdj5cbiAgICAgICAge3Nob3dUeXBlICYmIDxoMj57aHVtYW5UeXBlTmFtZX08L2gyPn1cbiAgICAgICAge3JlbGF0ZWRzLm1hcCh0aGlzLmJ1aWxkKX1cbiAgICAgIDwvZGl2PlxuICAgIH0sIGdyb3VwZWRCeVR5cGVTb3J0ZWRDb250ZW50KVxuXG4gICAgdmFyIG1lYXQgPSA8ZGl2IGNsYXNzTmFtZT1cImV4cGxvcmVcIj5cbiAgICAgIHtSLnZhbHVlcyhncm91cGVkUmVsYXRlZENvbnRlbnRzKX1cbiAgICA8L2Rpdj5cbiAgICB2YXIgZXhoaWJpdGlvbl93cmFwID0gPGRpdiBjbGFzc05hbWU9XCJleGhpYml0aW9uX2l0ZW1cIj5cbiAgICAgIHtzaWduaWZpY2FudEV4aGliaXRpb25zLm1hcCh0aGlzLmJ1aWxkKX1cbiAgICA8L2Rpdj5cblxuICAgIHZhciBib25lcyA9IHRoaXMucHJvcHMuc2tpcFdyYXBwZXIgP1xuICAgICAgbWVhdCA6XG4gICAgICA8ZGl2IGlkPVwiZXhwbG9yZVwiIGNsYXNzTmFtZT1cImV4cGxvcmVXcmFwcGVyXCI+XG4gICAgICAgIDxoNSBjbGFzc05hbWU9XCJkZXRhaWxzLXRpdGxlXCI+RXhwbG9yZTwvaDU+XG4gICAgICAgIHttZWF0fVxuICAgICAgPC9kaXY+XG5cbiAgICB2YXIgZXhoaWJfYm9uZXMgPSA8ZGl2IGNsYXNzTmFtZT1cImV4aGliaXRpb25XcmFwcGVyXCI+XG4gICAgICAgIDxoNSBjbGFzc05hbWU9XCJkZXRhaWxzLXRpdGxlXCI+RXhoaWJpdGlvbnM8L2g1PlxuICAgICAgICB7ZXhoaWJpdGlvbl93cmFwfVxuICAgICAgPC9kaXY+XG5cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIHtleHBsb3JlICYmIGV4cGxvcmUubGVuZ3RoID4gMCAmJiBib25lc31cbiAgICAgIHtzaWduaWZpY2FudEV4aGliaXRpb25zICYmIHNpZ25pZmljYW50RXhoaWJpdGlvbnMubGVuZ3RoID4gMCAmJiBleGhpYl9ib25lc31cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBidWlsZChqc29uKSB7XG4gICAgaWYoIWpzb24uaWQpIGpzb24uaWQgPSB0aGlzLnByb3BzLmlkXG4gICAgdmFyIHRyYWNrUmVsYXRlZENsaWNrID0gdGhpcy50cmFja1JlbGF0ZWRDb250ZW50SW50ZXJhY3Rpb24uYmluZCh0aGlzLCBqc29uKVxuICAgIGlmKGpzb24ubGluayAmJiBqc29uLmxpbmsubWF0Y2goJ3ZpbWVvLmNvbScpKSBqc29uLnR5cGUgPSAndmlkZW8nXG4gICAgdmFyIHRlbXBsYXRlID0gdGhpcy50ZW1wbGF0ZXNbanNvbi50eXBlXSB8fCB0aGlzLnRlbXBsYXRlcy5kZWZhdWx0XG5cbiAgICByZXR1cm4gPGRpdiBvbkNsaWNrPXt0cmFja1JlbGF0ZWRDbGlja30ga2V5PXtqc29uLmxpbmsgfHwganNvbi50aXRsZX0+XG4gICAgICB7dGVtcGxhdGUuYmluZCh0aGlzKShqc29uLCB0aGlzLnByb3BzLmlkLCB0aGlzLnByb3BzLmhpZ2hsaWdodHMsIHRyYWNrUmVsYXRlZENsaWNrKX1cbiAgICA8L2Rpdj5cbiAgfSxcblxuICB0cmFja1JlbGF0ZWRDb250ZW50SW50ZXJhY3Rpb24oanNvbiwgZXZlbnQpIHtcbiAgICAvLyB0cmFjayBjbGlja3Mgb24gcmVsYXRlZCBjb250ZW50IHZpYSBtb3JlLmFydHNtaWEub3JnIGZvcnQgb2JqZWN0cyBvbiBHMzExIGFuZCAzNTVcbiAgICBpZihbJ0czMTEnLCAnRzM1NSddLmluZGV4T2YodGhpcy5wcm9wcy5hcnQucm9vbSkgPiAtMSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgICAvLyBub3RlOiBvdXRib3VuZCBsaW5rIHRyYWNraW5nIG9ubHkgYWNjZXB0cyAnbGFiZWwnXG4gICAgICBnYS5vdXRib3VuZExpbmsoe1xuICAgICAgICBjYXRlZ29yeTogJ21vcmUuYXJ0c21pYS5vcmcgcmVsYXRlZCBjb250ZW50IGNsaWNrJyxcbiAgICAgICAgYWN0aW9uOiAnY2xpY2tlZCcsXG4gICAgICAgIGxhYmVsOiBqc29uLnR5cGUsXG4gICAgICAgIHZhbHVlOiBgJHtqc29uLmlkfSAtICR7anNvbi5saW5rfWAsXG4gICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gd2luZG93LmxvY2F0aW9uID0ganNvbi5saW5rXG4gICAgICAgIGpzb24udHlwZSA9PSAnYXVkaW8nIHx8IHdpbmRvdy5vcGVuKGpzb24ubGluaywgJ19ibGFuaycpXG4gICAgICB9KVxuICAgIH1cbiAgfSxcblxuICAvLyBUT0RPIHJlYnVpbGQgdGhlc2UgYXMgbGlzdCBpdGVtcyB3aXRoIGFuIGltYWdlIG9uIHRoZSBsZWZ0IGFuZCBpbmZvIG9uIHRoZSByaWdodFxuICAvLyAqIEhvdyB0byBnZXQgaW1hZ2VzIGZvciBtaWEgc3RvcmllcyAtIHRoZXkgYXJlbid0IGluY2x1ZGVkIGluIHRoZSB3cCBkb3dubG9hZFxuICAvLyAgIE1ha2UgYW4gYXBpIGNhbGwgZm9yIGVhY2g/IHl1Y2tcbiAgLy8gKiBkaXNhYmxlIGFkb3B0IGEgcGFpbnRpbmcgdW50aWwgaXQgcmV0dXJucyBhcyBBcnQgQ2hhbXBpb25zP1xuICAvLyAqIGZpbHRlciBvdXQgb2xkIG5ld3NmbGFzaGVzXG4gIHRlbXBsYXRlczoge1xuICAgIGF1ZGlvOiAoanNvbiwgaWQsIF8sIHRyYWNrKSA9PiA8ZGl2IGNsYXNzTmFtZT1cImF1ZGlvQ2xpcFwiPlxuICAgICAge2pzb24udGl0bGV9IHtqc29uLm51bWJlciA/IGAoIyR7anNvbi5udW1iZXJ9KWAgOiAnJ31cbiAgICAgIDxhdWRpbyBzdHlsZT17e21heFdpZHRoOiAnMTAwJSd9fSBzcmM9e2pzb24ubGluay5yZXBsYWNlKCdodHRwOicsICdodHRwczonKX0gY29udHJvbHMgb25QbGF5PXt0cmFja30+PC9hdWRpbz5cbiAgICA8L2Rpdj4sXG4gICAgbmV3c2ZsYXNoOiAoanNvbikgPT4gPGRpdiBjbGFzc05hbWU9XCJuZXdzZmxhc2hcIiBzdHlsZT17e2JhY2tncm91bmRJbWFnZTE6IGB1cmwoaHR0cHM6Ly9uZXdzZmxhc2guZHguYXJ0c21pYS5vcmcke2pzb24uaW1hZ2V9KWB9fT5cbiAgICAgIDxhIGhyZWY9e2pzb24ubGlua30+XG4gICAgICAgIHtqc29uLnRpdGxlfVxuICAgICAgICA8aW1nIHNyYz17YGh0dHBzOi8vbmV3c2ZsYXNoLmR4LmFydHNtaWEub3JnJHtqc29uLmltYWdlfWB9IC8+XG4gICAgICA8L2E+XG4gICAgPC9kaXY+LFxuICAgIGFydHN0b3J5OiAoanNvbiwgaWQsIGhpZ2hsaWdodCkgPT4gPGRpdiBjbGFzc05hbWU9e2N4KFwiYXJ0c3RvcnlcIiwge1wiYmxvY2staGlnaGxpZ2h0XCI6IGhpZ2hsaWdodCAmJiBoaWdobGlnaHRbXCJyZWxhdGVkOmFydHN0b3JpZXNcIl19KX0+XG4gICAgICA8YSBocmVmPXtqc29uLmxpbmt9PlxuICAgICAgICA8cD5BcnRTdG9yaWVzPGJyLz48c3ViPlpvb20gaW4uPC9zdWI+PC9wPlxuICAgICAgICA8aW1nIHNyYz17aW1hZ2VDRE4oaWQpfSBzdHlsZT17e21heFdpZHRoOiAnMTNlbSd9fSAvPlxuICAgICAgPC9hPlxuICAgIDwvZGl2PixcbiAgICBcImFkb3B0LWEtcGFpbnRpbmdcIjogKGpzb24sIGlkLCBoaWdobGlnaHRzKSA9PiB7XG4gICAgICB2YXIgaGlnaGxpZ2h0ID0gaGlnaGxpZ2h0cyAmJiBoaWdobGlnaHRzW1wicmVsYXRlZDphZG9wdC1hLXBhaW50aW5nXCJdXG4gICAgICB2YXIgaGlnaGxpZ2h0ID0gaGlnaGxpZ2h0ID8gSlNPTi5wYXJzZShoaWdobGlnaHRbMF0pIDogbnVsbFxuICAgICAgaWYoIShoaWdobGlnaHQgfHwgd2luZG93LmxvY2F0aW9uICYmIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5tYXRjaCgvcmVsYXRlZC4qYWRvcHQvKSkpIHJldHVybiA8c3BhbiAvPlxuXG4gICAgICBpZihqc29uLmFkb3B0ZWQgPT09IFwiMVwiKSB7XG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImFkb3B0LXB0Z1wiIHN0eWxlPXt7Y2xlYXI6J2JvdGgnfX0+XG4gICAgICAgICAgPGgzPlRoaXMgcGFpbnRpbmcgaGFzIGJlZW4gYWRvcHRlZC48L2gzPlxuICAgICAgICAgIDxhIGhyZWY9XCIvaW5mby9hZG9wdC1hLXBhaW50aW5nXCI+TGVhcm4gbW9yZSBhYm91dCBhZG9wdGluZyBhIHBhaW50aW5nLiA8aSBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uc1wiPmxhdW5jaDwvaT48L2E+XG4gICAgICAgICAge2hpZ2hsaWdodCAmJiA8ZGl2Pkl0IG5lZWRlZCBhZG9wdGlvbiBiZWNhdXNl4oCmIDxibG9ja3F1b3RlPjxNYXJrZG93bj57aGlnaGxpZ2h0LmRlc2NyaXB0aW9ufTwvTWFya2Rvd24+PC9ibG9ja3F1b3RlPjwvZGl2Pn1cbiAgICAgICAgPC9kaXY+XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJhZG9wdC1wdGdcIj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7d2lkdGg6IFwiMTAwJVwifX0+XG4gICAgICAgICAgPGgzPkFkb3B0LWEtUGFpbnRpbmc8L2gzPlxuICAgICAgICAgIDxwPkNvc3QgPHNwYW4gY2xhc3NOYW1lPVwiY29zdFwiPntqc29uLmNvc3R9PC9zcGFuPjwvcD5cbiAgICAgICAgICA8TWFya2Rvd24+e2hpZ2hsaWdodCA/IGhpZ2hsaWdodC5kZXNjcmlwdGlvbiA6IGpzb24uZGVzY3JpcHRpb259PC9NYXJrZG93bj5cbiAgICAgICAgICA8YSBocmVmPVwiL2luZm8vYWRvcHQtYS1wYWludGluZ1wiPkxlYXJuIGhvdyB0byBhZG9wdCB0aGlzIHBhaW50aW5nLiA8aSBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uc1wiPmxhdW5jaDwvaT48L2E+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgfVxuICAgIH0sXG4gICAgZGVmYXVsdDogKGpzb24sIGlkLCBoaWdobGlnaHRzKSA9PiB7XG4gICAgICB2YXIgbWlhU3RvcnlNYXRjaGVzID0gaGlnaGxpZ2h0cyAmJiBoaWdobGlnaHRzWydyZWxhdGVkOnN0b3JpZXMnXSAmJiBoaWdobGlnaHRzWydyZWxhdGVkOnN0b3JpZXMnXS5maWx0ZXIoaCA9PiB7IHZhciBoID0gSlNPTi5wYXJzZShoKTsgcmV0dXJuIGpzb24udGl0bGUgPT0gaC50aXRsZS5yZXBsYWNlKC88XFwvP2VtPi9nLCAnJykgfSlcbiAgICAgIHZhciBkZWZhdWx0U3R5bGUgPSB7fVxuXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJleHBsb3JlLWNvbnRlbnRcIiBzdHlsZT17ZGVmYXVsdFN0eWxlfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2N4KHtcImJsb2NrLWhpZ2hsaWdodFwiOiBtaWFTdG9yeU1hdGNoZXMgJiYgbWlhU3RvcnlNYXRjaGVzLmxlbmd0aCA+IDB9KX0+XG4gICAgICAgICAgPGEgaHJlZj17anNvbi5saW5rfT5cbiAgICAgICAgICAgIDxwPntqc29uLnRpdGxlfTwvcD5cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgfSxcbiAgICBcImV4aGliaXRpb25cIjogKGpzb24sIGlkLCBoaWdobGlnaHRzKSA9PiB7XG4gICAgICB2YXIgb3RoZXJBcnRDb3VudCA9IGpzb24ub2JqZWN0SWRzID8ganNvbi5vYmplY3RJZHMubGVuZ3RoLTEgOiAnKHgpJ1xuXG4gICAgICByZXR1cm4gPHVsIGNsYXNzTmFtZT1cImV4aGliaXRpb25zXCIgc3R5bGU9e3tjbGVhcjogXCJib3RoXCJ9fT5cbiAgICAgICAgPGxpPjxoND48TGluayB0bz1cImV4aGliaXRpb25cIiBwYXJhbXM9e3tpZDoganNvbi5pZH19Pntqc29uLnRpdGxlfTwvTGluaz48L2g0PiB7anNvbi5kYXRlfTwvbGk+XG4gICAgICA8L3VsPlxuICAgIH0sXG4gICAgXCIzZFwiOiAoanNvbiwgaWQpID0+IHtcbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImV4cGxvcmUtY29udGVudCAzZFwiPlxuICAgICAgICA8YSBocmVmPXtqc29uLmxpbmt9PlxuICAgICAgICAgIDxwPlZpZXcgaW4gM0Qg8J+RkzwvcD5cbiAgICAgICAgICA8aW1nIHNyYz17anNvbi50aHVtYn0gLz5cbiAgICAgICAgPC9hPlxuICAgICAgPC9kaXY+XG4gICAgfSxcbiAgICBcInZpZGVvXCI6IChqc29uLCBpZCkgPT4ge1xuICAgICAgdmFyIGlmcmFtZSA9IDxpZnJhbWUgc3JjPXtgaHR0cHM6Ly9wbGF5ZXIudmltZW8uY29tL3ZpZGVvLyR7anNvbi5saW5rLm1hdGNoKC9cXGQrLylbMF19YH0gZnJhbWVib3JkZXI9XCIwXCIgd2Via2l0YWxsb3dmdWxsc2NyZWVuIG1vemFsbG93ZnVsbHNjcmVlbiBhbGxvd2Z1bGxzY3JlZW4+PC9pZnJhbWU+XG5cbiAgICAgIHJldHVybiBpZnJhbWVcbiAgICB9LFxuICAgIFwiSW5zcGlyZWQgQnkgTWlhXCI6IChqc29uLCBpZCkgPT4ge1xuICAgICAgcmV0dXJuIDxkaXY+XG4gICAgICAgIDxMaW5rIHRvPVwic2FuZGJveEFydHdvcmtcIiBwYXJhbXM9e3tpZDoganNvbi53cGlkfX0+XG4gICAgICAgICAgPGltZyBzcmM9e2pzb24uaW1hZ2V9IHN0eWxlPXt7bWF4V2lkdGg6ICcxM2VtJ319IC8+PGJyLz5cbiAgICAgICAgICB7anNvbi50aXRsZX0gYnkge2pzb24uYXJ0aXN0fVxuICAgICAgICA8L0xpbms+XG4gICAgICA8L2Rpdj5cbiAgICB9XG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFydHdvcmtSZWxhdGVkQ29udGVudFxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "artwork-related.js"
      ],
      "names": [
        "React",
        "require",
        "rest",
        "cx",
        "Link",
        "ga",
        "R",
        "Markdown",
        "imageCDN",
        "artstoryStampStyle",
        "backgroundPosition",
        "backgroundSize",
        "ArtworkRelatedContent",
        "createClass",
        "render",
        "art",
        "props",
        "links",
        "Object",
        "keys",
        "filter",
        "key",
        "match",
        "reduce",
        "relateds",
        "linkOrListOfLinks",
        "JSON",
        "parse",
        "Array",
        "isArray",
        "concat",
        "push",
        "explore",
        "link",
        "type",
        "exhibitions",
        "significantExhibitions",
        "ex",
        "rotation",
        "sortedExploreContent",
        "sortBy",
        "audio",
        "video",
        "artstory",
        "inspiredByMia",
        "newsflash",
        "reverse",
        "groupedByTypeSortedContent",
        "groupBy",
        "groupedRelatedContents",
        "mapObjIndexed",
        "humanTypeName",
        "replace",
        "txt",
        "charAt",
        "toUpperCase",
        "substr",
        "toLowerCase",
        "showType",
        "indexOf",
        "map",
        "build",
        "meat",
        "values",
        "exhibition_wrap",
        "bones",
        "skipWrapper",
        "exhib_bones",
        "length",
        "json",
        "id",
        "trackRelatedClick",
        "trackRelatedContentInteraction",
        "bind",
        "template",
        "templates",
        "default",
        "title",
        "highlights",
        "event",
        "room",
        "preventDefault",
        "outboundLink",
        "category",
        "action",
        "label",
        "value",
        "window",
        "open",
        "_",
        "track",
        "number",
        "maxWidth",
        "backgroundImage1",
        "image",
        "highlight",
        "location",
        "pathname",
        "adopted",
        "clear",
        "description",
        "width",
        "cost",
        "miaStoryMatches",
        "h",
        "defaultStyle",
        "otherArtCount",
        "objectIds",
        "date",
        "thumb",
        "iframe",
        "wpid",
        "artist",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "artwork-related.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar rest = require('rest')\nvar cx = require('classnames')\nvar {Link} = require('react-router')\nvar ga = require('react-ga')\nvar R = require('ramda')\n\nvar Markdown = require('./markdown')\nvar imageCDN = require('./image-cdn')\n\nvar artstoryStampStyle = {\n  backgroundPosition: 'center center',\n  backgroundSize: 'contain',\n}\n\nvar ArtworkRelatedContent = React.createClass({\n  render() {\n    var {art} = this.props\n    if(!art) return <span/>\n\n    var links = Object.keys(art).filter(key => key.match('related:'))\n    .reduce((relateds, key) => {\n      var linkOrListOfLinks = (typeof art[key] == 'string') ? JSON.parse(art[key]) : art[key]\n      Array.isArray(linkOrListOfLinks) ?\n          relateds = relateds.concat(linkOrListOfLinks) :\n          relateds.push(linkOrListOfLinks)\n\n      return relateds\n    }, [])\n\n    var explore = links.filter(link => link.type !== \"exhibition\")\n    var exhibitions = links.filter(link => link.type == \"exhibition\")\n    // only show exhibitions tagged `rotation`\n    var significantExhibitions = exhibitions.filter(ex => ex.rotation)\n\n    var sortedExploreContent = R.sortBy(({type}) => ({\n      audio: 17,\n      video: 13,\n      artstory: 9,\n      'mia-story': 5,\n      inspiredByMia: 2,\n      newsflash: 1,\n    }[type]), explore).reverse()\n\n\n    var groupedByTypeSortedContent = R.groupBy(({type}) => type, sortedExploreContent)\n    var groupedRelatedContents = R.mapObjIndexed((relateds, type) => {\n      const humanTypeName = type.replace(/-/g, ' ').replace(/\\w\\S*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();})\n      const showType = true || ['audio', 'video', 'artstory', '3d', 'inspiredByMia'].indexOf(type) < 0\n\n      return <div>\n        {showType && <h2>{humanTypeName}</h2>}\n        {relateds.map(this.build)}\n      </div>\n    }, groupedByTypeSortedContent)\n\n    var meat = <div className=\"explore\">\n      {R.values(groupedRelatedContents)}\n    </div>\n    var exhibition_wrap = <div className=\"exhibition_item\">\n      {significantExhibitions.map(this.build)}\n    </div>\n\n    var bones = this.props.skipWrapper ?\n      meat :\n      <div id=\"explore\" className=\"exploreWrapper\">\n        <h5 className=\"details-title\">Explore</h5>\n        {meat}\n      </div>\n\n    var exhib_bones = <div className=\"exhibitionWrapper\">\n        <h5 className=\"details-title\">Exhibitions</h5>\n        {exhibition_wrap}\n      </div>\n\n    return <div>\n      {explore && explore.length > 0 && bones}\n      {significantExhibitions && significantExhibitions.length > 0 && exhib_bones}\n    </div>\n  },\n\n  build(json) {\n    if(!json.id) json.id = this.props.id\n    var trackRelatedClick = this.trackRelatedContentInteraction.bind(this, json)\n    if(json.link && json.link.match('vimeo.com')) json.type = 'video'\n    var template = this.templates[json.type] || this.templates.default\n\n    return <div onClick={trackRelatedClick} key={json.link || json.title}>\n      {template.bind(this)(json, this.props.id, this.props.highlights, trackRelatedClick)}\n    </div>\n  },\n\n  trackRelatedContentInteraction(json, event) {\n    // track clicks on related content via more.artsmia.org fort objects on G311 and 355\n    if(['G311', 'G355'].indexOf(this.props.art.room) > -1) {\n      event.preventDefault()\n\n      // note: outbound link tracking only accepts 'label'\n      ga.outboundLink({\n        category: 'more.artsmia.org related content click',\n        action: 'clicked',\n        label: json.type,\n        value: `${json.id} - ${json.link}`,\n      }, function() {\n        // window.location = json.link\n        json.type == 'audio' || window.open(json.link, '_blank')\n      })\n    }\n  },\n\n  // TODO rebuild these as list items with an image on the left and info on the right\n  // * How to get images for mia stories - they aren't included in the wp download\n  //   Make an api call for each? yuck\n  // * disable adopt a painting until it returns as Art Champions?\n  // * filter out old newsflashes\n  templates: {\n    audio: (json, id, _, track) => <div className=\"audioClip\">\n      {json.title} {json.number ? `(#${json.number})` : ''}\n      <audio style={{maxWidth: '100%'}} src={json.link.replace('http:', 'https:')} controls onPlay={track}></audio>\n    </div>,\n    newsflash: (json) => <div className=\"newsflash\" style={{backgroundImage1: `url(https://newsflash.dx.artsmia.org${json.image})`}}>\n      <a href={json.link}>\n        {json.title}\n        <img src={`https://newsflash.dx.artsmia.org${json.image}`} />\n      </a>\n    </div>,\n    artstory: (json, id, highlight) => <div className={cx(\"artstory\", {\"block-highlight\": highlight && highlight[\"related:artstories\"]})}>\n      <a href={json.link}>\n        <p>ArtStories<br/><sub>Zoom in.</sub></p>\n        <img src={imageCDN(id)} style={{maxWidth: '13em'}} />\n      </a>\n    </div>,\n    \"adopt-a-painting\": (json, id, highlights) => {\n      var highlight = highlights && highlights[\"related:adopt-a-painting\"]\n      var highlight = highlight ? JSON.parse(highlight[0]) : null\n      if(!(highlight || window.location && window.location.pathname.match(/related.*adopt/))) return <span />\n\n      if(json.adopted === \"1\") {\n        return <div className=\"adopt-ptg\" style={{clear:'both'}}>\n          <h3>This painting has been adopted.</h3>\n          <a href=\"/info/adopt-a-painting\">Learn more about adopting a painting. <i className=\"material-icons\">launch</i></a>\n          {highlight && <div>It needed adoption because… <blockquote><Markdown>{highlight.description}</Markdown></blockquote></div>}\n        </div>\n      } else {\n        return <div className=\"adopt-ptg\">\n          <div style={{width: \"100%\"}}>\n          <h3>Adopt-a-Painting</h3>\n          <p>Cost <span className=\"cost\">{json.cost}</span></p>\n          <Markdown>{highlight ? highlight.description : json.description}</Markdown>\n          <a href=\"/info/adopt-a-painting\">Learn how to adopt this painting. <i className=\"material-icons\">launch</i></a>\n          </div>\n        </div>\n      }\n    },\n    default: (json, id, highlights) => {\n      var miaStoryMatches = highlights && highlights['related:stories'] && highlights['related:stories'].filter(h => { var h = JSON.parse(h); return json.title == h.title.replace(/<\\/?em>/g, '') })\n      var defaultStyle = {}\n\n      return <div className=\"explore-content\" style={defaultStyle}>\n        <div className={cx({\"block-highlight\": miaStoryMatches && miaStoryMatches.length > 0})}>\n          <a href={json.link}>\n            <p>{json.title}</p>\n          </a>\n        </div>\n      </div>\n    },\n    \"exhibition\": (json, id, highlights) => {\n      var otherArtCount = json.objectIds ? json.objectIds.length-1 : '(x)'\n\n      return <ul className=\"exhibitions\" style={{clear: \"both\"}}>\n        <li><h4><Link to=\"exhibition\" params={{id: json.id}}>{json.title}</Link></h4> {json.date}</li>\n      </ul>\n    },\n    \"3d\": (json, id) => {\n      return <div className=\"explore-content 3d\">\n        <a href={json.link}>\n          <p>View in 3D 👓</p>\n          <img src={json.thumb} />\n        </a>\n      </div>\n    },\n    \"video\": (json, id) => {\n      var iframe = <iframe src={`https://player.vimeo.com/video/${json.link.match(/\\d+/)[0]}`} frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\n\n      return iframe\n    },\n    \"Inspired By Mia\": (json, id) => {\n      return <div>\n        <Link to=\"sandboxArtwork\" params={{id: json.wpid}}>\n          <img src={json.image} style={{maxWidth: '13em'}} /><br/>\n          {json.title} by {json.artist}\n        </Link>\n      </div>\n    }\n  },\n})\n\nmodule.exports = ArtworkRelatedContent\n"
      ]
    },
    "mtime": 1612393616748
  },
  "{\"filename\":\"/var/www/art/src/search-results/grid.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src/search-results\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "objectWithoutProperties",
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/search-results/grid.js",
      "filenameRelative": "/var/www/art/src/search-results/grid.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "grid.js",
      "sourceFileName": "grid.js",
      "sourceRoot": "/var/www/art/src/search-results",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src/search-results",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "grid"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\nvar Router = require('react-router');\nvar splitArray = require('split-array');\n\nvar ImageQuilt = require('../image-quilt');\nvar ArtworkImage = require('../artwork-image');\nvar FocusedResult = require('./focused.js');\nvar SearchSummary = require('../search-summary');\n\nvar SearchResultsGrid = React.createClass({\n  displayName: 'SearchResultsGrid',\n\n  mixins: [Router.Navigation],\n\n  componentWillMount: function componentWillMount() {\n    this.cachedQuilts = [];\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    var searchChanged = this.props.search.query != nextProps.search.query || this.props.search.filters != nextProps.search.filters || this.props.hits.slice(0, 10) !== nextProps.hits.slice(0, 10);\n\n    if (searchChanged) {\n      this.cachedQuilts = [];\n    }\n  },\n  render: function render() {\n    var _this = this;\n\n    var _props = this.props,\n        hits = _props.hits,\n        leftColumnWidth = _props.leftColumnWidth,\n        focusedResult = _props.focusedResult,\n        smallViewport = _props.smallViewport,\n        focusHandler = _props.focusHandler,\n        isInspiredByMia = _props.isInspiredByMia,\n        focusedProps = _objectWithoutProperties(_props, ['hits', 'leftColumnWidth', 'focusedResult', 'smallViewport', 'focusHandler', 'isInspiredByMia']);\n\n    var targetHeight = hits.length < 20 ? 250 : 150;\n\n    var customImageFn = this.props.customImage;\n\n    var useQuiltCache = !isInspiredByMia;\n    console.info('grid render', { isInspiredByMia: isInspiredByMia, useQuiltCache: useQuiltCache });\n\n    var quilts = splitArray(hits, 50).map(function (chunkedHits, index) {\n      var chunkedQuilt = useQuiltCache && _this.cachedQuilts[index] || React.createElement(ImageQuilt, {\n        artworks: chunkedHits,\n        maxRows: 1000,\n        rowHeight: targetHeight,\n        maxRowHeight: 500,\n        onClick: _this.clickResult,\n        key: index,\n        customImageFn: customImageFn,\n        isInspiredByMia: isInspiredByMia,\n        disableHover: true\n      });\n\n      if (chunkedHits.length >= 50) _this.cachedQuilts[index] = chunkedQuilt;\n      return chunkedQuilt;\n    });\n\n    var dividedQuilts = quilts.map(function (quilt, index) {\n      var start = index * 50;\n      var end = (index + 1) * 50;\n      var _key = 'range:' + start + '-' + end;\n      return React.createElement(\n        'div',\n        { id: _key, key: _key },\n        quilt\n      );\n    });\n    var more = this.props.postSearch;\n\n    var stuff = React.createElement(\n      'div',\n      { style: { minHeight: '150vh' } },\n      dividedQuilts,\n      more\n    );\n\n    if (smallViewport || this.context.universal) {\n      focusedResult = null;\n    }\n\n    if (!focusedResult) leftColumnWidth = '100%';\n\n    var wrappedQuilt = !focusedResult ? stuff : React.createElement(\n      'div',\n      { className: 'leftBar', style: { position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, width: leftColumnWidth } },\n      stuff\n    );\n\n    return React.createElement(\n      'div',\n      { style: { position: 'relative', minHeight: this.props.minHeight } },\n      wrappedQuilt,\n      focusedResult && React.createElement(FocusedResult, _extends({ key: focusedResult._source.id, art: focusedResult._source, highlights: focusedResult.highlight }, this.props))\n    );\n  },\n  clickResult: function clickResult(art) {\n    art && this.props.focusHandler(art, SearchResultsGrid);\n  }\n});\n\nmodule.exports = SearchResultsGrid;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdyaWQuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiUm91dGVyIiwic3BsaXRBcnJheSIsIkltYWdlUXVpbHQiLCJBcnR3b3JrSW1hZ2UiLCJGb2N1c2VkUmVzdWx0IiwiU2VhcmNoU3VtbWFyeSIsIlNlYXJjaFJlc3VsdHNHcmlkIiwiY3JlYXRlQ2xhc3MiLCJtaXhpbnMiLCJOYXZpZ2F0aW9uIiwiY29tcG9uZW50V2lsbE1vdW50IiwiY2FjaGVkUXVpbHRzIiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIm5leHRQcm9wcyIsInNlYXJjaENoYW5nZWQiLCJwcm9wcyIsInNlYXJjaCIsInF1ZXJ5IiwiZmlsdGVycyIsImhpdHMiLCJzbGljZSIsInJlbmRlciIsImxlZnRDb2x1bW5XaWR0aCIsImZvY3VzZWRSZXN1bHQiLCJzbWFsbFZpZXdwb3J0IiwiZm9jdXNIYW5kbGVyIiwiaXNJbnNwaXJlZEJ5TWlhIiwiZm9jdXNlZFByb3BzIiwidGFyZ2V0SGVpZ2h0IiwibGVuZ3RoIiwiY3VzdG9tSW1hZ2VGbiIsImN1c3RvbUltYWdlIiwidXNlUXVpbHRDYWNoZSIsImNvbnNvbGUiLCJpbmZvIiwicXVpbHRzIiwibWFwIiwiY2h1bmtlZEhpdHMiLCJpbmRleCIsImNodW5rZWRRdWlsdCIsImNsaWNrUmVzdWx0IiwiZGl2aWRlZFF1aWx0cyIsInF1aWx0Iiwic3RhcnQiLCJlbmQiLCJfa2V5IiwibW9yZSIsInBvc3RTZWFyY2giLCJzdHVmZiIsIm1pbkhlaWdodCIsImNvbnRleHQiLCJ1bml2ZXJzYWwiLCJ3cmFwcGVkUXVpbHQiLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsIndpZHRoIiwiX3NvdXJjZSIsImlkIiwiaGlnaGxpZ2h0IiwiYXJ0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7QUFDQSxJQUFJQyxTQUFTRCxRQUFRLGNB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QUF4Qjs7QUFxRkF5RCxPQUFPQyxPQUFQLEdBQWlCMUQsaUJBQWpCIiwiZmlsZSI6ImdyaWQuanMiLCJzb3VyY2VSb290IjoiL3Zhci93d3cvYXJ0L3NyYy9zZWFyY2gtcmVzdWx0cyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHNwbGl0QXJyYXkgPSByZXF1aXJlKCdzcGxpdC1hcnJheScpXG5cbnZhciBJbWFnZVF1aWx0ID0gcmVxdWlyZSgnLi4vaW1hZ2UtcXVpbHQnKVxudmFyIEFydHdvcmtJbWFnZSA9IHJlcXVpcmUoJy4uL2FydHdvcmstaW1hZ2UnKVxudmFyIEZvY3VzZWRSZXN1bHQgPSByZXF1aXJlKCcuL2ZvY3VzZWQuanMnKVxudmFyIFNlYXJjaFN1bW1hcnkgPSByZXF1aXJlKCcuLi9zZWFyY2gtc3VtbWFyeScpXG5cbnZhciBTZWFyY2hSZXN1bHRzR3JpZCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgbWl4aW5zOiBbUm91dGVyLk5hdmlnYXRpb25dLFxuXG4gIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICB0aGlzLmNhY2hlZFF1aWx0cyA9IFtdXG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICB2YXIgc2VhcmNoQ2hhbmdlZCA9IHRoaXMucHJvcHMuc2VhcmNoLnF1ZXJ5ICE9IG5leHRQcm9wcy5zZWFyY2gucXVlcnlcbiAgICAgIHx8IHRoaXMucHJvcHMuc2VhcmNoLmZpbHRlcnMgIT0gbmV4dFByb3BzLnNlYXJjaC5maWx0ZXJzXG4gICAgICB8fCB0aGlzLnByb3BzLmhpdHMuc2xpY2UoMCwgMTApICE9PSBuZXh0UHJvcHMuaGl0cy5zbGljZSgwLCAxMClcblxuICAgIGlmKHNlYXJjaENoYW5nZWQpIHtcbiAgICAgIHRoaXMuY2FjaGVkUXVpbHRzID0gW11cbiAgICB9XG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciB7XG4gICAgICBoaXRzLCBsZWZ0Q29sdW1uV2lkdGgsIGZvY3VzZWRSZXN1bHQsXG4gICAgICBzbWFsbFZpZXdwb3J0LCBmb2N1c0hhbmRsZXIsIGlzSW5zcGlyZWRCeU1pYSxcbiAgICAgIC4uLmZvY3VzZWRQcm9wc1xuICAgIH0gPSB0aGlzLnByb3BzXG4gICAgdmFyIHRhcmdldEhlaWdodCA9IGhpdHMubGVuZ3RoIDwgMjAgPyAyNTAgOiAxNTBcblxuICAgIGNvbnN0IGN1c3RvbUltYWdlRm4gPSB0aGlzLnByb3BzLmN1c3RvbUltYWdlXG5cbiAgICBjb25zdCB1c2VRdWlsdENhY2hlID0gIWlzSW5zcGlyZWRCeU1pYVxuICAgIGNvbnNvbGUuaW5mbygnZ3JpZCByZW5kZXInLCB7aXNJbnNwaXJlZEJ5TWlhLCB1c2VRdWlsdENhY2hlfSlcblxuICAgIHZhciBxdWlsdHMgPSBzcGxpdEFycmF5KGhpdHMsIDUwKS5tYXAoKGNodW5rZWRIaXRzLCBpbmRleCkgPT4ge1xuICAgICAgdmFyIGNodW5rZWRRdWlsdCA9IHVzZVF1aWx0Q2FjaGUgJiYgdGhpcy5jYWNoZWRRdWlsdHNbaW5kZXhdIHx8IDxJbWFnZVF1aWx0XG4gICAgICAgIGFydHdvcmtzPXtjaHVua2VkSGl0c31cbiAgICAgICAgbWF4Um93cz17MTAwMH1cbiAgICAgICAgcm93SGVpZ2h0PXt0YXJnZXRIZWlnaHR9XG4gICAgICAgIG1heFJvd0hlaWdodD17NTAwfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLmNsaWNrUmVzdWx0fVxuICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICBjdXN0b21JbWFnZUZuPXtjdXN0b21JbWFnZUZufVxuICAgICAgICBpc0luc3BpcmVkQnlNaWE9e2lzSW5zcGlyZWRCeU1pYX1cbiAgICAgICAgZGlzYWJsZUhvdmVyPXt0cnVlfVxuICAgICAgLz5cblxuICAgICAgaWYoY2h1bmtlZEhpdHMubGVuZ3RoID49IDUwKSB0aGlzLmNhY2hlZFF1aWx0c1tpbmRleF0gPSBjaHVua2VkUXVpbHRcbiAgICAgIHJldHVybiBjaHVua2VkUXVpbHRcbiAgICB9KVxuXG4gICAgdmFyIGRpdmlkZWRRdWlsdHMgPSBxdWlsdHMubWFwKChxdWlsdCwgaW5kZXgpID0+IHtcbiAgICAgIHZhciBzdGFydCA9IGluZGV4KjUwXG4gICAgICB2YXIgZW5kID0gKGluZGV4KzEpKjUwXG4gICAgICB2YXIgX2tleSA9IGByYW5nZToke3N0YXJ0fS0ke2VuZH1gXG4gICAgICByZXR1cm4gPGRpdiBpZD17X2tleX0ga2V5PXtfa2V5fT5cbiAgICAgICAge3F1aWx0fVxuICAgICAgPC9kaXY+XG4gICAgfSlcbiAgICB2YXIgbW9yZSA9IHRoaXMucHJvcHMucG9zdFNlYXJjaFxuXG4gICAgdmFyIHN0dWZmID0gPGRpdiBzdHlsZT17e21pbkhlaWdodDogJzE1MHZoJ319PlxuICAgICAge2RpdmlkZWRRdWlsdHN9XG4gICAgICB7bW9yZX1cbiAgICA8L2Rpdj5cblxuICAgIGlmKHNtYWxsVmlld3BvcnQgfHwgdGhpcy5jb250ZXh0LnVuaXZlcnNhbCkge1xuICAgICAgZm9jdXNlZFJlc3VsdCA9IG51bGxcbiAgICB9XG5cbiAgICBpZighZm9jdXNlZFJlc3VsdCkgbGVmdENvbHVtbldpZHRoID0gJzEwMCUnXG5cbiAgICB2YXIgd3JhcHBlZFF1aWx0ID0gIWZvY3VzZWRSZXN1bHQgP1xuICAgICAgc3R1ZmYgOlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJsZWZ0QmFyXCIgc3R5bGU9e3twb3NpdGlvbjogJ2Fic29sdXRlJywgdG9wOiAwLCBsZWZ0OiAwLCByaWdodDogMCwgYm90dG9tOiAwLCB3aWR0aDogbGVmdENvbHVtbldpZHRofX0+XG4gICAgICAgIHtzdHVmZn1cbiAgICAgIDwvZGl2PlxuXG4gICAgcmV0dXJuIDxkaXYgc3R5bGU9e3twb3NpdGlvbjogJ3JlbGF0aXZlJywgbWluSGVpZ2h0OiB0aGlzLnByb3BzLm1pbkhlaWdodH19PlxuICAgICAge3dyYXBwZWRRdWlsdH1cbiAgICAgIHtmb2N1c2VkUmVzdWx0ICYmIDxGb2N1c2VkUmVzdWx0IGtleT17Zm9jdXNlZFJlc3VsdC5fc291cmNlLmlkfSBhcnQ9e2ZvY3VzZWRSZXN1bHQuX3NvdXJjZX0gaGlnaGxpZ2h0cz17Zm9jdXNlZFJlc3VsdC5oaWdobGlnaHR9IHsuLi50aGlzLnByb3BzfS8+fVxuICAgIDwvZGl2PlxuICB9LFxuXG4gIGNsaWNrUmVzdWx0KGFydCkge1xuICAgIGFydCAmJiB0aGlzLnByb3BzLmZvY3VzSGFuZGxlcihhcnQsIFNlYXJjaFJlc3VsdHNHcmlkKVxuICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBTZWFyY2hSZXN1bHRzR3JpZFxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "grid.js"
      ],
      "names": [
        "React",
        "require",
        "Router",
        "splitArray",
        "ImageQuilt",
        "ArtworkImage",
        "FocusedResult",
        "SearchSummary",
        "SearchResultsGrid",
        "createClass",
        "mixins",
        "Navigation",
        "componentWillMount",
        "cachedQuilts",
        "componentWillReceiveProps",
        "nextProps",
        "searchChanged",
        "props",
        "search",
        "query",
        "filters",
        "hits",
        "slice",
        "render",
        "leftColumnWidth",
        "focusedResult",
        "smallViewport",
        "focusHandler",
        "isInspiredByMia",
        "focusedProps",
        "targetHeight",
        "length",
        "customImageFn",
        "customImage",
        "useQuiltCache",
        "console",
        "info",
        "quilts",
        "map",
        "chunkedHits",
        "index",
        "chunkedQuilt",
        "clickResult",
        "dividedQuilts",
        "quilt",
        "start",
        "end",
        "_key",
        "more",
        "postSearch",
        "stuff",
        "minHeight",
        "context",
        "universal",
        "wrappedQuilt",
        "position",
        "top",
        "left",
        "right",
        "bottom",
        "width",
        "_source",
        "id",
        "highlight",
        "art",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "grid.js",
      "sourceRoot": "/var/www/art/src/search-results",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar splitArray = require('split-array')\n\nvar ImageQuilt = require('../image-quilt')\nvar ArtworkImage = require('../artwork-image')\nvar FocusedResult = require('./focused.js')\nvar SearchSummary = require('../search-summary')\n\nvar SearchResultsGrid = React.createClass({\n  mixins: [Router.Navigation],\n\n  componentWillMount() {\n    this.cachedQuilts = []\n  },\n\n  componentWillReceiveProps(nextProps) {\n    var searchChanged = this.props.search.query != nextProps.search.query\n      || this.props.search.filters != nextProps.search.filters\n      || this.props.hits.slice(0, 10) !== nextProps.hits.slice(0, 10)\n\n    if(searchChanged) {\n      this.cachedQuilts = []\n    }\n  },\n\n  render() {\n    var {\n      hits, leftColumnWidth, focusedResult,\n      smallViewport, focusHandler, isInspiredByMia,\n      ...focusedProps\n    } = this.props\n    var targetHeight = hits.length < 20 ? 250 : 150\n\n    const customImageFn = this.props.customImage\n\n    const useQuiltCache = !isInspiredByMia\n    console.info('grid render', {isInspiredByMia, useQuiltCache})\n\n    var quilts = splitArray(hits, 50).map((chunkedHits, index) => {\n      var chunkedQuilt = useQuiltCache && this.cachedQuilts[index] || <ImageQuilt\n        artworks={chunkedHits}\n        maxRows={1000}\n        rowHeight={targetHeight}\n        maxRowHeight={500}\n        onClick={this.clickResult}\n        key={index}\n        customImageFn={customImageFn}\n        isInspiredByMia={isInspiredByMia}\n        disableHover={true}\n      />\n\n      if(chunkedHits.length >= 50) this.cachedQuilts[index] = chunkedQuilt\n      return chunkedQuilt\n    })\n\n    var dividedQuilts = quilts.map((quilt, index) => {\n      var start = index*50\n      var end = (index+1)*50\n      var _key = `range:${start}-${end}`\n      return <div id={_key} key={_key}>\n        {quilt}\n      </div>\n    })\n    var more = this.props.postSearch\n\n    var stuff = <div style={{minHeight: '150vh'}}>\n      {dividedQuilts}\n      {more}\n    </div>\n\n    if(smallViewport || this.context.universal) {\n      focusedResult = null\n    }\n\n    if(!focusedResult) leftColumnWidth = '100%'\n\n    var wrappedQuilt = !focusedResult ?\n      stuff :\n      <div className=\"leftBar\" style={{position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, width: leftColumnWidth}}>\n        {stuff}\n      </div>\n\n    return <div style={{position: 'relative', minHeight: this.props.minHeight}}>\n      {wrappedQuilt}\n      {focusedResult && <FocusedResult key={focusedResult._source.id} art={focusedResult._source} highlights={focusedResult.highlight} {...this.props}/>}\n    </div>\n  },\n\n  clickResult(art) {\n    art && this.props.focusHandler(art, SearchResultsGrid)\n  },\n})\n\nmodule.exports = SearchResultsGrid\n"
      ]
    },
    "mtime": 1612393616752
  },
  "{\"filename\":\"/var/www/art/src/suggest.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/suggest.js",
      "filenameRelative": "/var/www/art/src/suggest.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "suggest.js",
      "sourceFileName": "suggest.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "suggest"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\n\nvar _require = require('react-router'),\n    Link = _require.Link;\n\nvar Suggest = React.createClass({\n  displayName: 'Suggest',\n  render: function render() {\n    var search = this.props.search;\n\n    var suggestions = Array.from(this.getSuggestions()).map(function (terms) {\n      return terms.replace(/^Painter: /, '');\n    }) // remove `Painter: `. TODO expand to other constituent roles?\n    .slice(0, 5);\n\n    if (suggestions.length == 0) return React.createElement('span', { className: 'noSuggestions' });\n\n    var suggestionLinks = suggestions.map(function (name) {\n      return React.createElement(\n        Link,\n        { to: '/search/' + name },\n        name\n      );\n    }).map(function (link, index) {\n      return React.createElement(\n        'span',\n        { key: index },\n        link,\n        index === suggestions.length - 1 || ', '\n      );\n    });\n\n    var style = _extends({ marginBottom: '1em', textAlign: 'center' }, this.props.style);\n\n    return React.createElement(\n      'div',\n      { id: 'suggestions', style: style },\n      React.createElement(\n        'p',\n        null,\n        'Looking for ',\n        suggestionLinks,\n        '?'\n      ),\n      React.createElement(\n        'datalist',\n        { id: 'searchCompletions' },\n        suggestions.map(function (option) {\n          return React.createElement(\n            'option',\n            { key: option },\n            option\n          );\n        })\n      )\n    );\n  },\n  getSuggestions: function getSuggestions() {\n    var search = this.props.search;\n\n    var suggest = this.props.completions || search && search.suggest || {};\n\n    var suggestions = Object.keys(suggest).filter(function (key) {\n      return key !== '_shards' && suggest[key].length > 0;\n    }).map(function (key) {\n      return suggest[key][0].options.map(function (suggestion) {\n        return _extends({}, suggestion, { type: key });\n      });\n    }).reduce(function (flattenedArray, options) {\n      return flattenedArray.concat(options);\n    }, [])\n    // re-score title completions to 10%, artist is more important\n    .map(function (option) {\n      return _extends({}, option, { score: option.score / (option.type == 'title_completion' ? 10 : 1) });\n    })\n    // re-score highlight completions\n    .map(function (option) {\n      return _extends({}, option, { score: option.score * (option.type == 'highlight_artist_completion' ? 5000 : 1) });\n    }).sort(function (a, b) {\n      return a.score < b.score;\n    }).map(function (option) {\n      return option ? option.text : null;\n    }).filter(function (text) {\n      return search ? text && text !== search.query : true;\n    });\n\n    return new Set(suggestions);\n  }\n});\n\nmodule.exports = Suggest;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN1Z2dlc3QuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiTGluayIsIlN1Z2dlc3QiLCJjcmVhdGVDbGFzcyIsInJlbmRlciIsInNlYXJjaCIsInByb3BzIiwic3VnZ2VzdGlvbnMiLCJBcnJheSIsImZyb20iLCJnZXRTdWdnZXN0aW9ucyIsIm1hcCIsInRlcm1zIiwicmVwbGFjZSIsInNsaWNlIiwibGVuZ3RoIiwic3VnZ2VzdGlvbkxpbmtzIiwibmFtZSIsImxpbmsiLCJpbmRleCIsInN0eWxlIiwibWFyZ2luQm90dG9tIiwidGV4dEFsaWduIiwib3B0aW9uIiwic3VnZ2VzdCIsImNvbXBsZXRpb25zIiwiT2JqZWN0Iiwia2V5cyIsImZpbHRlciIsImtleSIsIm9wdGlvbnMiLCJzdWdnZXN0aW9uIiwidHlwZSIsInJlZHVjZSIsImZsYXR0ZW5lZEFycmF5IiwiY29uY2F0Iiwic2NvcmUiLCJzb3J0IiwiYSIsImIiLCJ0ZXh0IiwicXVlcnkiLCJTZXQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7O2VBQ2FBLFFBQVEsY0FBUixDO0lBQVJDLEksWUFBQUEsSTs7QUFFTCxJQUFJQyxVQUFVSCxNQUFNSSxXQUFOLENBQWtCO0FBQUE7QUFDOUJDLFFBRDhCLG9CQUNyQjtBQUFBLFFBQ0ZDLE1BREUsR0FDUSxLQUFLQyxLQURiLENBQ0ZELE1BREU7O0FBRVAsUUFBSUUsY0FBY0MsTUFBTUMsSUFBTixDQUFXLEtBQUtDLGNBQUwsRUFBWCxFQUNqQkMsR0FEaUIsQ0FDYjtBQUFBLGFBQVNDLE1BQU1DLE9BQU4sQ0FBYyxZQUFkLEVBQTRCLEVBQTVCLENBQVQ7QUFBQSxLQURhLEVBQzZCO0FBRDdCLEtBRWpCQyxLQUZpQixDQUVYLENBRlcsRUFFUixDQUZRLENBQWxCOztBQUlBLFFBQUdQLFlBQVlRLE1BQVosSUFBc0IsQ0FBekIsRUFBNEIsT0FBTyw4QkFBTSxXQUFVLGVB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Iiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIge0xpbmt9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcblxudmFyIFN1Z2dlc3QgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIge3NlYXJjaH0gPSB0aGlzLnByb3BzXG4gICAgdmFyIHN1Z2dlc3Rpb25zID0gQXJyYXkuZnJvbSh0aGlzLmdldFN1Z2dlc3Rpb25zKCkpXG4gICAgLm1hcCh0ZXJtcyA9PiB0ZXJtcy5yZXBsYWNlKC9eUGFpbnRlcjogLywgJycpKSAvLyByZW1vdmUgYFBhaW50ZXI6IGAuIFRPRE8gZXhwYW5kIHRvIG90aGVyIGNvbnN0aXR1ZW50IHJvbGVzP1xuICAgIC5zbGljZSgwLCA1KVxuXG4gICAgaWYoc3VnZ2VzdGlvbnMubGVuZ3RoID09IDApIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJub1N1Z2dlc3Rpb25zXCI+PC9zcGFuPlxuXG4gICAgdmFyIHN1Z2dlc3Rpb25MaW5rcyA9IHN1Z2dlc3Rpb25zXG4gICAgLm1hcChuYW1lID0+IDxMaW5rIHRvPXtgL3NlYXJjaC8ke25hbWV9YH0+e25hbWV9PC9MaW5rPilcbiAgICAubWFwKChsaW5rLCBpbmRleCkgPT4gPHNwYW4ga2V5PXtpbmRleH0+e2xpbmt9e2luZGV4ID09PSBzdWdnZXN0aW9ucy5sZW5ndGgtMSB8fCAnLCAnfTwvc3Bhbj4pXG5cbiAgICB2YXIgc3R5bGUgPSB7bWFyZ2luQm90dG9tOiAnMWVtJywgdGV4dEFsaWduOiAnY2VudGVyJywgLi4udGhpcy5wcm9wcy5zdHlsZX1cblxuICAgIHJldHVybiA8ZGl2IGlkPVwic3VnZ2VzdGlvbnNcIiBzdHlsZT17c3R5bGV9PlxuICAgICAgPHA+TG9va2luZyBmb3Ige3N1Z2dlc3Rpb25MaW5rc30/PC9wPlxuICAgICAgPGRhdGFsaXN0IGlkPVwic2VhcmNoQ29tcGxldGlvbnNcIj5cbiAgICAgICAge3N1Z2dlc3Rpb25zLm1hcChvcHRpb24gPT4gPG9wdGlvbiBrZXk9e29wdGlvbn0+e29wdGlvbn08L29wdGlvbj4pfVxuICAgICAgPC9kYXRhbGlzdD5cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBnZXRTdWdnZXN0aW9ucygpIHtcbiAgICB2YXIge3NlYXJjaH0gPSB0aGlzLnByb3BzXG4gICAgdmFyIHN1Z2dlc3QgPSB0aGlzLnByb3BzLmNvbXBsZXRpb25zIHx8IHNlYXJjaCAmJiBzZWFyY2guc3VnZ2VzdCB8fCB7fVxuXG4gICAgdmFyIHN1Z2dlc3Rpb25zID0gT2JqZWN0LmtleXMoc3VnZ2VzdClcbiAgICAuZmlsdGVyKGtleSA9PiBrZXkgIT09ICdfc2hhcmRzJyAmJiBzdWdnZXN0W2tleV0ubGVuZ3RoID4gMClcbiAgICAubWFwKGtleSA9PiBzdWdnZXN0W2tleV1bMF0ub3B0aW9ucy5tYXAoc3VnZ2VzdGlvbiA9PiAoey4uLnN1Z2dlc3Rpb24sIHR5cGU6IGtleX0pKSlcbiAgICAucmVkdWNlKChmbGF0dGVuZWRBcnJheSwgb3B0aW9ucykgPT4gZmxhdHRlbmVkQXJyYXkuY29uY2F0KG9wdGlvbnMpLCBbXSlcbiAgICAvLyByZS1zY29yZSB0aXRsZSBjb21wbGV0aW9ucyB0byAxMCUsIGFydGlzdCBpcyBtb3JlIGltcG9ydGFudFxuICAgIC5tYXAob3B0aW9uID0+ICh7Li4ub3B0aW9uLCBzY29yZTogb3B0aW9uLnNjb3JlIC8gKG9wdGlvbi50eXBlID09ICd0aXRsZV9jb21wbGV0aW9uJyA/IDEwIDogMSl9KSlcbiAgICAvLyByZS1zY29yZSBoaWdobGlnaHQgY29tcGxldGlvbnNcbiAgICAubWFwKG9wdGlvbiA9PiAoey4uLm9wdGlvbiwgc2NvcmU6IG9wdGlvbi5zY29yZSAqIChvcHRpb24udHlwZSA9PSAnaGlnaGxpZ2h0X2FydGlzdF9jb21wbGV0aW9uJyA/IDUwMDAgOiAxKX0pKVxuICAgIC5zb3J0KChhLCBiKSA9PiBhLnNjb3JlIDwgYi5zY29yZSlcbiAgICAubWFwKG9wdGlvbiA9PiBvcHRpb24gPyBvcHRpb24udGV4dCA6IG51bGwpXG4gICAgLmZpbHRlcih0ZXh0ID0+IHNlYXJjaCA/ICh0ZXh0ICYmIHRleHQgIT09IHNlYXJjaC5xdWVyeSkgOiB0cnVlKVxuXG4gICAgcmV0dXJuIG5ldyBTZXQoc3VnZ2VzdGlvbnMpXG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IFN1Z2dlc3RcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "suggest.js"
      ],
      "names": [
        "React",
        "require",
        "Link",
        "Suggest",
        "createClass",
        "render",
        "search",
        "props",
        "suggestions",
        "Array",
        "from",
        "getSuggestions",
        "map",
        "terms",
        "replace",
        "slice",
        "length",
        "suggestionLinks",
        "name",
        "link",
        "index",
        "style",
        "marginBottom",
        "textAlign",
        "option",
        "suggest",
        "completions",
        "Object",
        "keys",
        "filter",
        "key",
        "options",
        "suggestion",
        "type",
        "reduce",
        "flattenedArray",
        "concat",
        "score",
        "sort",
        "a",
        "b",
        "text",
        "query",
        "Set",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "suggest.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar {Link} = require('react-router')\n\nvar Suggest = React.createClass({\n  render() {\n    var {search} = this.props\n    var suggestions = Array.from(this.getSuggestions())\n    .map(terms => terms.replace(/^Painter: /, '')) // remove `Painter: `. TODO expand to other constituent roles?\n    .slice(0, 5)\n\n    if(suggestions.length == 0) return <span className=\"noSuggestions\"></span>\n\n    var suggestionLinks = suggestions\n    .map(name => <Link to={`/search/${name}`}>{name}</Link>)\n    .map((link, index) => <span key={index}>{link}{index === suggestions.length-1 || ', '}</span>)\n\n    var style = {marginBottom: '1em', textAlign: 'center', ...this.props.style}\n\n    return <div id=\"suggestions\" style={style}>\n      <p>Looking for {suggestionLinks}?</p>\n      <datalist id=\"searchCompletions\">\n        {suggestions.map(option => <option key={option}>{option}</option>)}\n      </datalist>\n    </div>\n  },\n\n  getSuggestions() {\n    var {search} = this.props\n    var suggest = this.props.completions || search && search.suggest || {}\n\n    var suggestions = Object.keys(suggest)\n    .filter(key => key !== '_shards' && suggest[key].length > 0)\n    .map(key => suggest[key][0].options.map(suggestion => ({...suggestion, type: key})))\n    .reduce((flattenedArray, options) => flattenedArray.concat(options), [])\n    // re-score title completions to 10%, artist is more important\n    .map(option => ({...option, score: option.score / (option.type == 'title_completion' ? 10 : 1)}))\n    // re-score highlight completions\n    .map(option => ({...option, score: option.score * (option.type == 'highlight_artist_completion' ? 5000 : 1)}))\n    .sort((a, b) => a.score < b.score)\n    .map(option => option ? option.text : null)\n    .filter(text => search ? (text && text !== search.query) : true)\n\n    return new Set(suggestions)\n  },\n})\n\nmodule.exports = Suggest\n"
      ]
    },
    "mtime": 1612393616752
  },
  "{\"filename\":\"/var/www/art/src/navigation.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/navigation.js",
      "filenameRelative": "/var/www/art/src/navigation.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "navigation.js",
      "sourceFileName": "navigation.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "navigation"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\n\nvar _require = require('react-router'),\n    Link = _require.Link;\n\n//var {main_nav, quick_links, collections_nav} = require('../data/navigation.json')\n\nvar GlobalNavigation = React.createClass({\n  displayName: 'GlobalNavigation',\n\n  mainnav: [{ navItem: 'Exhibitions', link: 'https://new.artsmia.org/exhibitions' }, { navItem: 'Collection', link: 'httpss://collections.artsmia.org/' }, { navItem: 'Visit', link: 'https://new.artsmia.org/visit/' }, { navItem: 'Discover', link: 'https://new.artsmia.org/discover/' }, { navItem: 'Shop', link: 'https://new.artsmia.org/shop/' }, { navItem: 'Join', link: 'https://new.artsmia.org/join-and-invest/' }, { navItem: 'About', link: 'https://new.artsmia.org/about/' }],\n  quicknav: [{ navItem: 'tickets', link: 'https://artsmia.org/donate' }, { navItem: 'calendar', link: 'https://new.artsmia.org/visit/calendar/' }, { navItem: 'donate', link: 'https://artsmia.org/donate' }],\n  render: function render() {\n    var smallViewport = this.context.smallViewport;\n\n    var smallViewport = window && window.innerWidth <= 780;\n\n    if (smallViewport) {\n      return React.createElement(\n        'div',\n        { className: 'mobile-nav nav_bar', onClick: this.closeNav },\n        React.createElement(\n          'div',\n          { className: 'global_nav' },\n          React.createElement(\n            'ul',\n            { className: 'nav_list' },\n            this.mainnav.map(function (_ref) {\n              var navItem = _ref.navItem,\n                  link = _ref.link;\n\n              return React.createElement(\n                'li',\n                { key: navItem, className: 'nav_item' },\n                navItem == 'Collection' ? React.createElement(\n                  Link,\n                  { to: '/' },\n                  'Collection'\n                ) : React.createElement(\n                  'a',\n                  { href: link },\n                  navItem\n                )\n              );\n            })\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'quick_nav' },\n          React.createElement(\n            'ul',\n            { className: 'nav_list' },\n            this.quicknav.map(function (_ref2) {\n              var navItem = _ref2.navItem,\n                  link = _ref2.link;\n\n              return React.createElement(\n                'li',\n                { key: navItem, className: [navItem, \"button nav_item\"].join(' ') },\n                React.createElement(\n                  'a',\n                  { href: link },\n                  navItem\n                )\n              );\n            })\n          )\n        )\n      );\n    } else {\n      return React.createElement(\n        'div',\n        { className: 'nav_bar', onClick: this.closeNav },\n        React.createElement(\n          'div',\n          { className: 'global_nav' },\n          React.createElement(\n            'ul',\n            { className: 'nav_list' },\n            this.mainnav.map(function (_ref3) {\n              var navItem = _ref3.navItem,\n                  link = _ref3.link;\n\n              return React.createElement(\n                'li',\n                { key: navItem, className: 'nav_item' },\n                navItem == 'Collection' ? React.createElement(\n                  Link,\n                  { to: '/' },\n                  'Collection'\n                ) : React.createElement(\n                  'a',\n                  { href: link },\n                  navItem\n                )\n              );\n            })\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'quick_nav' },\n          React.createElement(\n            'ul',\n            { className: 'nav_list' },\n            this.quicknav.map(function (_ref4) {\n              var navItem = _ref4.navItem,\n                  link = _ref4.link;\n\n              return React.createElement(\n                'li',\n                { key: navItem, className: [navItem, \"button nav_item\"].join(' ') },\n                React.createElement(\n                  'a',\n                  { href: link },\n                  navItem\n                )\n              );\n            })\n          )\n        )\n      );\n    }\n  },\n  closeNav: function closeNav() {\n    this.props.closeNav && this.props.closeNav();\n  }\n});\nGlobalNavigation.contextTypes = {\n  smallViewport: React.PropTypes.bool\n};\n\nmodule.exports = GlobalNavigation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5hdmlnYXRpb24uanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiTGluayIsIkdsb2JhbE5hdmlnYXRpb24iLCJjcmVhdGVDbGFzcyIsIm1haW5uYXYiLCJuYXZJdGVtIiwibGluayIsInF1aWNrbmF2IiwicmVuZGVyIiwic21hbGxWaWV3cG9ydCIsImNvbnRleHQiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiY2xvc2VOYXYiLCJtYXAiLCJqb2luIiwicHJvcHMiLCJjb250ZXh0VHlwZXMiLCJQcm9wVHlwZXMiLCJib29sIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxRQUFRQyxRQUFRLE9BQVIsQ0FBWjs7ZUFDY0EsUUFBUSxjQUFSLEM7SUFBUkMsSSxZQUFBQSxJOztBQUVOOztBQUVBLElBQUlDLG1CQUFvQkgsTUFBTUksV0FBTixDQUFrQjtBQUFBOztBQUN4Q0MsV0FBUyxDQUNQLEVBQUNDLFNBQVEsYUFBVCxFQUF3QkMsTUFBSyxxQ0FBN0IsRUFETyxFQUVQLEVBQUNELFNBQVMsWUFBVixFQUF3QkMsTUFBSyxtQ0FBN0IsRUFGTyxFQUdQLEVBQUNELFNBQVMsT0FBVixFQUFtQkMsTUFBSyxnQ0FBeEIsRUFITyxFQUlQLEVBQUNELFNBQVMsVUFBVixFQUFzQkMsTUFBSyxtQ0FBM0IsRUFKTyxFQUtQLEVBQUNELFNBQVMsTUFBVixFQUFrQkMsTUFBSywrQkFBdkIsRUFMTyxFQU1QLEVBQUNELFNBQVMsTUFBVixFQUFrQkMsTUFBSywwQ0FBdkIsRUFOTyxFQU9QLEVBQUNELFNBQVMsT0FBVixFQUFtQkMsTUFBSyxnQ0FBeEIsRUFQTyxDQUQrQjtBQVd4Q0MsWUFBVSxDQUNSLEVBQUNGLFNBQVMsU0FBVixFQUFxQkMsTUFBSyw0QkFBMUIsRUFEUSxFQUVSLEVBQUNELFNBQVMsVUFBVixFQUFzQkMsTUFBSyx5Q0FBM0IsRUFGUSxFQUdSLEVBQUNELFNBQVMsUUFBVixFQUFvQkMsTUFBSyw0QkFBekIsRUFIUSxD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Q0FBV0gsUUFBWCxFQUF2QjtBQUNEO0FBNUV1QyxDQUFsQixDQUF4QjtBQThFQVgsaUJBQWlCZSxZQUFqQixHQUFnQztBQUM5QlIsaUJBQWVWLE1BQU1tQixTQUFOLENBQWdCQztBQURELENBQWhDOztBQUlBQyxPQUFPQyxPQUFQLEdBQWlCbkIsZ0JBQWpCIiwiZmlsZSI6Im5hdmlnYXRpb24uanMiLCJzb3VyY2VSb290IjoiL3Zhci93d3cvYXJ0L3NyYyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciAge0xpbmt9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcblxuLy92YXIge21haW5fbmF2LCBxdWlja19saW5rcywgY29sbGVjdGlvbnNfbmF2fSA9IHJlcXVpcmUoJy4uL2RhdGEvbmF2aWdhdGlvbi5qc29uJylcblxudmFyIEdsb2JhbE5hdmlnYXRpb24gPSAgUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBtYWlubmF2OiBbXG4gICAge25hdkl0ZW06J0V4aGliaXRpb25zJywgbGluazonaHR0cHM6Ly9uZXcuYXJ0c21pYS5vcmcvZXhoaWJpdGlvbnMnfSxcbiAgICB7bmF2SXRlbTogJ0NvbGxlY3Rpb24nLCBsaW5rOidodHRwc3M6Ly9jb2xsZWN0aW9ucy5hcnRzbWlhLm9yZy8nfSxcbiAgICB7bmF2SXRlbTogJ1Zpc2l0JywgbGluazonaHR0cHM6Ly9uZXcuYXJ0c21pYS5vcmcvdmlzaXQvJ30sXG4gICAge25hdkl0ZW06ICdEaXNjb3ZlcicsIGxpbms6J2h0dHBzOi8vbmV3LmFydHNtaWEub3JnL2Rpc2NvdmVyLyd9LFxuICAgIHtuYXZJdGVtOiAnU2hvcCcsIGxpbms6J2h0dHBzOi8vbmV3LmFydHNtaWEub3JnL3Nob3AvJ30sXG4gICAge25hdkl0ZW06ICdKb2luJywgbGluazonaHR0cHM6Ly9uZXcuYXJ0c21pYS5vcmcvam9pbi1hbmQtaW52ZXN0Lyd9LFxuICAgIHtuYXZJdGVtOiAnQWJvdXQnLCBsaW5rOidodHRwczovL25ldy5hcnRzbWlhLm9yZy9hYm91dC8nfVxuXG4gIF0sXG4gIHF1aWNrbmF2OiBbXG4gICAge25hdkl0ZW06ICd0aWNrZXRzJywgbGluazonaHR0cHM6Ly9hcnRzbWlhLm9yZy9kb25hdGUnfSxcbiAgICB7bmF2SXRlbTogJ2NhbGVuZGFyJywgbGluazonaHR0cHM6Ly9uZXcuYXJ0c21pYS5vcmcvdmlzaXQvY2FsZW5kYXIvJ30sXG4gICAge25hdkl0ZW06ICdkb25hdGUnLCBsaW5rOidodHRwczovL2FydHNtaWEub3JnL2RvbmF0ZSd9XG4gIF0sXG4gIHJlbmRlcigpIHtcblxuICAgIHZhciB7c21hbGxWaWV3cG9ydH0gPSB0aGlzLmNvbnRleHRcbiAgICB2YXIgc21hbGxWaWV3cG9ydCA9IHdpbmRvdyAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8PSA3ODBcblxuICAgICAgaWYoc21hbGxWaWV3cG9ydCl7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J21vYmlsZS1uYXYgbmF2X2Jhcicgb25DbGljaz17dGhpcy5jbG9zZU5hdn0+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2xvYmFsX25hdlwiPlxuICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibmF2X2xpc3RcIj5cbiAgICAgICAgICAgICAgICB7dGhpcy5tYWlubmF2Lm1hcCgoe25hdkl0ZW0sIGxpbmt9KSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gPGxpIGtleT17bmF2SXRlbX0gY2xhc3NOYW1lPVwibmF2X2l0ZW1cIj5cbiAgICAgICAgICAgICAgICAgICAge25hdkl0ZW0gPT0gJ0NvbGxlY3Rpb24nID9cbiAgICAgICAgICAgICAgICAgICAgICA8TGluayB0bz1cIi9cIj5Db2xsZWN0aW9uPC9MaW5rPiA6XG4gICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj17bGlua30+e25hdkl0ZW19PC9hPn1cbiAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicXVpY2tfbmF2XCI+XG4gICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJuYXZfbGlzdFwiPlxuICAgICAgICAgICAgICB7dGhpcy5xdWlja25hdi5tYXAoKHtuYXZJdGVtLCBsaW5rfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIDxsaSBrZXk9e25hdkl0ZW19IGNsYXNzTmFtZT17W25hdkl0ZW0sIFwiYnV0dG9uIG5hdl9pdGVtXCJdLmpvaW4oJyAnKX0+XG4gICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9e2xpbmt9PntuYXZJdGVtfTwvYT5cbiAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5hdl9iYXJcIiBvbkNsaWNrPXt0aGlzLmNsb3NlTmF2fT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2xvYmFsX25hdlwiPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibmF2X2xpc3RcIj5cbiAgICAgICAgICB7dGhpcy5tYWlubmF2Lm1hcCgoe25hdkl0ZW0sIGxpbmt9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gPGxpIGtleT17bmF2SXRlbX0gY2xhc3NOYW1lPVwibmF2X2l0ZW1cIj5cbiAgICAgICAgICAgICAge25hdkl0ZW0gPT0gJ0NvbGxlY3Rpb24nID9cbiAgICAgICAgICAgICAgICA8TGluayB0bz1cIi9cIj5Db2xsZWN0aW9uPC9MaW5rPiA6XG4gICAgICAgICAgICAgICAgPGEgaHJlZj17bGlua30+e25hdkl0ZW19PC9hPn1cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicXVpY2tfbmF2XCI+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJuYXZfbGlzdFwiPlxuICAgICAgICB7dGhpcy5xdWlja25hdi5tYXAoKHtuYXZJdGVtLCBsaW5rfSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIDxsaSBrZXk9e25hdkl0ZW19IGNsYXNzTmFtZT17W25hdkl0ZW0sIFwiYnV0dG9uIG5hdl9pdGVtXCJdLmpvaW4oJyAnKX0+XG4gICAgICAgICAgICAgIDxhIGhyZWY9e2xpbmt9PntuYXZJdGVtfTwvYT5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKX1cbn0sXG5cbiAgY2xvc2VOYXYoKSB7XG4gICAgdGhpcy5wcm9wcy5jbG9zZU5hdiAmJiB0aGlzLnByb3BzLmNsb3NlTmF2KClcbiAgfVxufSlcbkdsb2JhbE5hdmlnYXRpb24uY29udGV4dFR5cGVzID0ge1xuICBzbWFsbFZpZXdwb3J0OiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBHbG9iYWxOYXZpZ2F0aW9uXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "navigation.js"
      ],
      "names": [
        "React",
        "require",
        "Link",
        "GlobalNavigation",
        "createClass",
        "mainnav",
        "navItem",
        "link",
        "quicknav",
        "render",
        "smallViewport",
        "context",
        "window",
        "innerWidth",
        "closeNav",
        "map",
        "join",
        "props",
        "contextTypes",
        "PropTypes",
        "bool",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "navigation.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar  {Link} = require('react-router')\n\n//var {main_nav, quick_links, collections_nav} = require('../data/navigation.json')\n\nvar GlobalNavigation =  React.createClass({\n  mainnav: [\n    {navItem:'Exhibitions', link:'https://new.artsmia.org/exhibitions'},\n    {navItem: 'Collection', link:'httpss://collections.artsmia.org/'},\n    {navItem: 'Visit', link:'https://new.artsmia.org/visit/'},\n    {navItem: 'Discover', link:'https://new.artsmia.org/discover/'},\n    {navItem: 'Shop', link:'https://new.artsmia.org/shop/'},\n    {navItem: 'Join', link:'https://new.artsmia.org/join-and-invest/'},\n    {navItem: 'About', link:'https://new.artsmia.org/about/'}\n\n  ],\n  quicknav: [\n    {navItem: 'tickets', link:'https://artsmia.org/donate'},\n    {navItem: 'calendar', link:'https://new.artsmia.org/visit/calendar/'},\n    {navItem: 'donate', link:'https://artsmia.org/donate'}\n  ],\n  render() {\n\n    var {smallViewport} = this.context\n    var smallViewport = window && window.innerWidth <= 780\n\n      if(smallViewport){\n        return (\n          <div className='mobile-nav nav_bar' onClick={this.closeNav}>\n\n            <div className=\"global_nav\">\n              <ul className=\"nav_list\">\n                {this.mainnav.map(({navItem, link}) => {\n                  return <li key={navItem} className=\"nav_item\">\n                    {navItem == 'Collection' ?\n                      <Link to=\"/\">Collection</Link> :\n                      <a href={link}>{navItem}</a>}\n                  </li>\n                })}\n              </ul>\n            </div>\n            <div className=\"quick_nav\">\n              <ul className=\"nav_list\">\n              {this.quicknav.map(({navItem, link}) => {\n                  return <li key={navItem} className={[navItem, \"button nav_item\"].join(' ')}>\n                    <a href={link}>{navItem}</a>\n                  </li>\n                })}\n              </ul>\n            </div>\n          </div>\n        )\n      } else {\n        return (\n          <div className=\"nav_bar\" onClick={this.closeNav}>\n      <div className=\"global_nav\">\n        <ul className=\"nav_list\">\n          {this.mainnav.map(({navItem, link}) => {\n            return <li key={navItem} className=\"nav_item\">\n              {navItem == 'Collection' ?\n                <Link to=\"/\">Collection</Link> :\n                <a href={link}>{navItem}</a>}\n            </li>\n          })}\n        </ul>\n      </div>\n      <div className=\"quick_nav\">\n        <ul className=\"nav_list\">\n        {this.quicknav.map(({navItem, link}) => {\n            return <li key={navItem} className={[navItem, \"button nav_item\"].join(' ')}>\n              <a href={link}>{navItem}</a>\n            </li>\n          })}\n        </ul>\n      </div>\n    </div>\n  )}\n},\n\n  closeNav() {\n    this.props.closeNav && this.props.closeNav()\n  }\n})\nGlobalNavigation.contextTypes = {\n  smallViewport: React.PropTypes.bool,\n}\n\nmodule.exports = GlobalNavigation\n"
      ]
    },
    "mtime": 1491504523014
  },
  "{\"filename\":\"/var/www/art/src/home.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/home.js",
      "filenameRelative": "/var/www/art/src/home.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "home.js",
      "sourceFileName": "home.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "home"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\n\nvar toSlug = require('speakingurl');\n\nvar SEARCH = require('./endpoints').search;\nvar rest = require('rest');\nvar Search = require('./search');\nvar MapPage = require('./map-page');\nvar Departments = require('./departments').component;\n\nvar Home = React.createClass({\n  displayName: 'Home',\n\n  statics: {\n    fetchData: {\n      searchResults: function searchResults(params, query) {\n        var searchUrl = SEARCH + '/random/art?q=_exists_:%22list:bhm%22&size=20';\n        return rest(searchUrl).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var smallViewport = this.context.smallViewport;\n\n    var width = window && window.innerWidth;\n    var quiltProps = smallViewport ? { maxRows: 2, maxWorks: 7 } : { maxRows: 2, maxWorks: 17 };\n\n    if (window && window.ondeviceorientation && width > 500 && width < 800) quiltProps.maxRows = 1;\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(Search, _extends({\n        hideResults: true,\n        activateInput: true,\n        quiltProps: quiltProps,\n        facet: '_exists_:\"list:bhm\"',\n        searchAll: true,\n        suggestStyle: { margin: \"1em 3em\" },\n        bumpSearchBox: smallViewport,\n        shuffleQuilt: true\n      }, this.props)),\n      React.createElement(HomeDepartmentsAndPages, null),\n      React.createElement(\n        'div',\n        { id: 'map' },\n        React.createElement(\n          MapPage,\n          { hideList: true },\n          React.createElement(\n            Link,\n            { to: 'map', style: { textAlign: 'center', float: 'right', paddingRight: '1em' } },\n            'All galleries'\n          )\n        )\n      )\n    );\n  }\n});\nHome.contextTypes = {\n  smallViewport: React.PropTypes.bool\n};\n\nmodule.exports = Home;\n\nvar HomeDepartmentsAndPages = React.createClass({\n  displayName: 'HomeDepartmentsAndPages',\n\n  pages: ['Purcell-Cutts House', 'Provenance Research', 'Deaccessions', 'Conservation'],\n\n  render: function render() {\n    return React.createElement(\n      'div',\n      { className: 'landingPageBody' },\n      React.createElement(\n        'div',\n        { className: 'mdl-grid' },\n        React.createElement(\n          'ul',\n          { className: 'info' },\n          React.createElement(\n            'li',\n            { className: 'mdl-cell mdl-cell--4-col' },\n            React.createElement(\n              'a',\n              { href: 'https://new.artsmia.org/art-artists/' },\n              'Art + Artists'\n            )\n          ),\n          React.createElement(\n            'li',\n            { className: 'mdl-cell mdl-cell--4-col' },\n            React.createElement(\n              Link,\n              { to: '/new' },\n              'New to Mia'\n            )\n          ),\n          React.createElement(\n            'li',\n            { className: 'mdl-cell mdl-cell--4-col' },\n            React.createElement(\n              Link,\n              { to: 'explore' },\n              'Explore'\n            )\n          )\n        )\n      ),\n      React.createElement(\n        'div',\n        { className: 'welcome mdl-grid' },\n        React.createElement(\n          'div',\n          { className: 'mdl-cell mdl-cell--9-col' },\n          React.createElement(\n            'p',\n            null,\n            'It is our mission to enrich the community by collecting, preserving, and making accessible outstanding works of art from the world\\u2019s diverse cultures. With over 90,000 artworks, Mia\\u2019s collection includes art from six continents, spanning about 5,000 years.  Here you will find world-famous artworks that embody the highest levels of artistic achievement and speak to the enduring power of human creativity to shape our world. '\n          )\n        )\n      ),\n      React.createElement(Departments, { compact: true }),\n      React.createElement(\n        'div',\n        { className: 'mdl-grid' },\n        React.createElement(\n          'ul',\n          { className: 'info' },\n          this.pages.map(function (name) {\n            return React.createElement(\n              'li',\n              { key: name, className: 'mdl-cell mdl-cell--3-col' },\n              React.createElement(\n                Link,\n                { to: 'page', params: { name: toSlug(name) } },\n                name\n              )\n            );\n          })\n        )\n      )\n    );\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhvbWUuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiUm91dGVyIiwiTGluayIsInRvU2x1ZyIsIlNFQVJDSCIsInNlYXJjaCIsInJlc3QiLCJTZWFyY2giLCJNYXBQYWdlIiwiRGVwYXJ0bWVudHMiLCJjb21wb25lbnQiLCJIb21lIiwiY3JlYXRlQ2xhc3MiLCJzdGF0aWNzIiwiZmV0Y2hEYXRhIiwic2VhcmNoUmVzdWx0cyIsInBhcmFtcyIsInF1ZXJ5Iiwic2VhcmNoVXJsIiwidGhlbiIsInIiLCJKU09OIiwicGFyc2UiLCJlbnRpdHkiLCJyZW5kZXIiLCJzbWFsbFZpZXdwb3J0IiwiY29udGV4dCIsIndpZHRoIiwid2luZG93IiwiaW5uZXJXaWR0aCIsInF1aWx0UHJvcHMiLCJtYXhSb3dzIiwibWF4V29ya3MiLCJvbmRldmljZW9yaWVudGF0aW9uIiwibWFyZ2luIiwicHJvcHMiLCJ0ZXh0QWxpZ24iLCJmbG9hdCIsInBhZGRpbmdSaWdodCIsImNvbnRleHRUeXBlcyIsIlByb3BUeXBlcyIsImJvb2wiLCJtb2R1bGUiLCJleHBvcnRzIiwiSG9tZURlcGFydG1lbnRzQW5kUGFnZXMiLCJwYWdlcyIsIm1hcCIsIm5hbWUiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJQSxRQUFRQyxRQUFRLE9BQVIsQ0FBWjtBQUNBLElBQUlDLFNBQVNELFFBQVEsY0FBUixDQUFiO0lBQ0tFLEksR0FBUUQsTSxDQUFSQyxJOzs7QUFFTCxJQUFJQyxTQUFTSCxRQUFRLGFBQVIsQ0FBYjs7QUFFQSxJQUFJSSxTQUFTSixRQUFRLGFBQVIsRUFBdUJLLE1BQXBDO0FBQ0EsSUFBSUMsT0FBT04sUUFBUSxNQUFSLENBQVg7QUFDQSxJQUFJTyxTQUFTUCxRQUFRLFVBQVIsQ0FBYjtBQUNBLElBQUlRLFVBQVVSLFFBQVEsWUFBUixDQUFkO0FBQ0EsSUFBSVMsY0FBY1QsUUFBUSxlQUFSLEVBQXlCVSxTQUEzQzs7QUFFQSxJQUFJQyxPQUFPWixNQUFNYSxXQUFOLENBQWtCO0FBQUE7O0FBQzNCQyxXQUFTO0FBQ1BDLGVBQVc7QUFDVEMscUJBQWUsdUJBQUNDLE1BQUQsRUFBU0MsS0FBVCxFQUFtQjtBQUNoQyxZQUFJQyxZQUFlZCxNQUFmLGtEQUFKO0FBQ0EsZUFBT0UsS0FBS1ksU0FBTCxFQUFnQkMsSUFBaEIsQ0FBcUIsVUFBQ0MsQ0FBRDtBQUFBLGlCQUFPQyxLQUFLQyxLQUFMLENBQVdGLEVBQUVHLE1BQWIsQ0FBUDtBQUFBLFNBQXJCLENBQVA7QUFDRDtBQUpRO0FBREosR0FEa0I7O0FBVTNCQyxRQVYyQixvQkFVbEI7QUFBQSxRQUNGQyxhQURFLEdBQ2UsS0FBS0MsT0FEcEIsQ0FDRkQsYUFERTs7QUFFUCxRQUFJRSxRQUFRQyxVQUFVQSxPQUFPQyxVQUE3QjtBQUNBLFFBQUlDLGFBQWFMLGdCQUNmLEVBQUNNLFNBQVMsQ0FBVixFQUFhQyxVQUFVLENBQXZCLEVBRGUsR0FFZixFQUFDRCxTQUFTLENBQVYsRUFBYUMsVUFBVSxFQUF2QixFQUZGOztBQUlBLFFBQUdKLFVBQVVBLE9BQU9LLG1CQUFqQixJQUF3Q04sUUFBUSxHQUFoRCxJQUF1REEsUUFBUSxHQUFsRSxFQUF1RUcsV0FBV0MsT0FBWCxHQUFxQixDQUFyQjs7QUFFdkUsV0FBTztBQUFBO0FBQUE7QUFDTCwwQkFBQyxNQUFEO0FBQ0UscUJBQWEsSUFEZjtBQUVFLHVCQUFlLElBRmpCO0FBR0Usb0JBQVlELFVBSGQ7QUFJRSxlQUFPLHFCQUpUO0FBS0UsbUJBQVcsSUFMYjtBQU1FLHNCQUFjLEVBQUNJLFFBQVEsU0FBVCxFQU5oQjtBQU9FLHVCQUFlVCxhQVBqQjtBQVFFLHNCQUFjO0FBUmhCLFNBU00sS0FBS1UsS0FUWCxFQURLO0FBV0wsMEJBQUMsdUJBQUQsT0FYSztBQVlMO0FBQUE7QUFBQSxVQUFLLElBQUcsS0FBUjtBQUNFO0FBQUMsaUJBQUQ7QUFBQSxZQUFTLFVBQVUsSUFBbkI7QUFDRTtBQUFDLGdCQUFEO0FBQUEsY0FBTSxJQUFHLEtBQVQsRUFBZSxPQUFPLEVBQUNDLFdBQVcsUUFBWixFQUFzQkMsT0FBTyxPQUE3QixFQUFzQ0MsY0FBYyxLQUFwRCxFQUF0QjtBQUFBO0FBQUE7QUFERjtBQURGO0FBWkssS0FBUDtBQW9CRDtBQXZDMEIsQ0FBbEIsQ0FBWDtBQXlDQTNCLEtBQUs0QixZQUFMLEdBQW9CO0FBQ2xCZCxpQkFBZTFCLE1BQU15QyxTQUFOLENBQWdCQztBQURiLENBQXBCOztBQUlBQyxPQUFPQyxPQUFQLEdBQWlCaEMsSUFBakI7O0FBRUEsSUFBSWlDLDBCQUEwQjdDLE1BQU1hLFdBQU4sQ0FBa0I7QUFBQTs7QUFDOUNpQyxTQUFPLENBQUMscUJBQUQsRUFBd0IscUJBQXhCLEVBQStDLGNBQS9DLEVBQStELGNBQS9ELENBRHVDOztBQUc5Q3JCLFFBSDhDLG9CQUdyQztBQUNQLFdBQU87QUFBQTtBQUFBLFFBQUssV0FBVSxpQkFBZjtBQUNMO0FBQUE7QUFBQSxVQUFLLFdBQVUsVUFBZjtBQUNFO0FBQUE7QUFBQSxZQUFJLFdBQVUsTUFBZDtBQUNFO0FBQUE7QUFBQSxjQUFJLFdBQVUsMEJBQWQ7QUFDRTtBQUFBO0FBQUEsZ0JBQUcsTUFBSyxzQ0FBUjtBQUFBO0FBQUE7QUFERixXQURGO0FBTUU7QUFBQTtBQUFBLGNBQUksV0FBVSwwQkFBZDtBQUNFO0FBQUMsa0JBQUQ7QUFBQSxnQkFBTSxJQUFHLE1BQVQ7QUFBQTtBQUFBO0FBREYsV0FORjtBQVdFO0FBQUE7QUFBQSxjQUFJLFdBQVUsMEJBQWQ7QUFDRTtBQUFDLGtCQUFEO0FBQUEsZ0JBQU0sSUFBRyxTQUFUO0FBQUE7QUFBQTtBQURGO0FBWEY7QUFERixPQURLO0FBb0JMO0FBQUE7QUFBQSxVQUFLLFdBQVUsa0JBQWY7QUFDQTtBQUFBO0FBQUEsWUFBSyxXQUFVLDBCQUFmO0FBQ0U7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQURGO0FBREEsT0FwQks7QUF5QkwsMEJBQUMsV0FBRCxJQUFhLFNBQVMsSUFBdEIsR0F6Qks7QUEyQkw7QUFBQTtBQUFBLFVBQUssV0FBVSxVQUFmO0FBQ0U7QUFBQTtBQUFBLFlBQUksV0FBVSxNQUFkO0FBQ0csZUFBS3FCLEtBQUwsQ0FBV0MsR0FBWCxDQUFlLGdCQUFRO0FBQ3RCLG1CQUFPO0FBQUE7QUFBQSxnQkFBSSxLQUFLQyxJQUFULEVBQWUsV0FBVSwwQkFBekI7QUFDTDtBQUFDLG9CQUFEO0FBQUEsa0JBQU0sSUFBRyxNQUFULEVBQWdCLFFBQVEsRUFBQ0EsTUFBTTVDLE9BQU80QyxJQUFQLENBQVAsRUFBeEI7QUFBK0NBO0FBQS9DO0FBREssYUFBUDtBQUdELFdBSkE7QUFESDtBQURGO0FBM0JLLEtBQVA7QUFxQ0Q7QUF6QzZDLENBQWxCLENBQTlCIiwiZmlsZSI6ImhvbWUuanMiLCJzb3VyY2VSb290IjoiL3Zhci93d3cvYXJ0L3NyYyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHtMaW5rfSA9IFJvdXRlclxuXG52YXIgdG9TbHVnID0gcmVxdWlyZSgnc3BlYWtpbmd1cmwnKVxuXG52YXIgU0VBUkNIID0gcmVxdWlyZSgnLi9lbmRwb2ludHMnKS5zZWFyY2hcbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zZWFyY2gnKVxudmFyIE1hcFBhZ2UgPSByZXF1aXJlKCcuL21hcC1wYWdlJylcbnZhciBEZXBhcnRtZW50cyA9IHJlcXVpcmUoJy4vZGVwYXJ0bWVudHMnKS5jb21wb25lbnRcblxudmFyIEhvbWUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHN0YXRpY3M6IHtcbiAgICBmZXRjaERhdGE6IHtcbiAgICAgIHNlYXJjaFJlc3VsdHM6IChwYXJhbXMsIHF1ZXJ5KSA9PiB7XG4gICAgICAgIGxldCBzZWFyY2hVcmwgPSBgJHtTRUFSQ0h9L3JhbmRvbS9hcnQ/cT1fZXhpc3RzXzolMjJsaXN0OmJobSUyMiZzaXplPTIwYFxuICAgICAgICByZXR1cm4gcmVzdChzZWFyY2hVcmwpLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpKVxuICAgICAgfVxuICAgIH0sXG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCB7c21hbGxWaWV3cG9ydH0gPSB0aGlzLmNvbnRleHRcbiAgICBsZXQgd2lkdGggPSB3aW5kb3cgJiYgd2luZG93LmlubmVyV2lkdGhcbiAgICBsZXQgcXVpbHRQcm9wcyA9IHNtYWxsVmlld3BvcnQgP1xuICAgICAge21heFJvd3M6IDIsIG1heFdvcmtzOiA3fSA6XG4gICAgICB7bWF4Um93czogMiwgbWF4V29ya3M6IDE3fVxuXG4gICAgaWYod2luZG93ICYmIHdpbmRvdy5vbmRldmljZW9yaWVudGF0aW9uICYmIHdpZHRoID4gNTAwICYmIHdpZHRoIDwgODAwKSBxdWlsdFByb3BzLm1heFJvd3MgPSAxXG5cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIDxTZWFyY2hcbiAgICAgICAgaGlkZVJlc3VsdHM9e3RydWV9XG4gICAgICAgIGFjdGl2YXRlSW5wdXQ9e3RydWV9XG4gICAgICAgIHF1aWx0UHJvcHM9e3F1aWx0UHJvcHN9XG4gICAgICAgIGZhY2V0PXsnX2V4aXN0c186XCJsaXN0OmJobVwiJ31cbiAgICAgICAgc2VhcmNoQWxsPXt0cnVlfVxuICAgICAgICBzdWdnZXN0U3R5bGU9e3ttYXJnaW46IFwiMWVtIDNlbVwifX1cbiAgICAgICAgYnVtcFNlYXJjaEJveD17c21hbGxWaWV3cG9ydH1cbiAgICAgICAgc2h1ZmZsZVF1aWx0PXt0cnVlfVxuICAgICAgICB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgIDxIb21lRGVwYXJ0bWVudHNBbmRQYWdlcyAvPlxuICAgICAgPGRpdiBpZD1cIm1hcFwiPlxuICAgICAgICA8TWFwUGFnZSBoaWRlTGlzdD17dHJ1ZX0+XG4gICAgICAgICAgPExpbmsgdG89XCJtYXBcIiBzdHlsZT17e3RleHRBbGlnbjogJ2NlbnRlcicsIGZsb2F0OiAncmlnaHQnLCBwYWRkaW5nUmlnaHQ6ICcxZW0nfX0+XG4gICAgICAgICAgICBBbGwgZ2FsbGVyaWVzXG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICA8L01hcFBhZ2U+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgfSxcbn0pXG5Ib21lLmNvbnRleHRUeXBlcyA9IHtcbiAgc21hbGxWaWV3cG9ydDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG59XG5cbm1vZHVsZS5leHBvcnRzID0gSG9tZVxuXG52YXIgSG9tZURlcGFydG1lbnRzQW5kUGFnZXMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHBhZ2VzOiBbJ1B1cmNlbGwtQ3V0dHMgSG91c2UnLCAnUHJvdmVuYW5jZSBSZXNlYXJjaCcsICdEZWFjY2Vzc2lvbnMnLCAnQ29uc2VydmF0aW9uJ10sXG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImxhbmRpbmdQYWdlQm9keVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZGwtZ3JpZFwiPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwiaW5mb1wiPlxuICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJtZGwtY2VsbCBtZGwtY2VsbC0tNC1jb2xcIj5cbiAgICAgICAgICAgIDxhIGhyZWY9XCJodHRwczovL25ldy5hcnRzbWlhLm9yZy9hcnQtYXJ0aXN0cy9cIj5cbiAgICAgICAgICAgICAgQXJ0ICsgQXJ0aXN0c1xuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPGxpIGNsYXNzTmFtZT1cIm1kbC1jZWxsIG1kbC1jZWxsLS00LWNvbFwiPlxuICAgICAgICAgICAgPExpbmsgdG89XCIvbmV3XCI+XG4gICAgICAgICAgICAgIE5ldyB0byBNaWFcbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJtZGwtY2VsbCBtZGwtY2VsbC0tNC1jb2xcIj5cbiAgICAgICAgICAgIDxMaW5rIHRvPSdleHBsb3JlJz5cbiAgICAgICAgICAgICAgRXhwbG9yZVxuICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2VsY29tZSBtZGwtZ3JpZFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZGwtY2VsbCBtZGwtY2VsbC0tOS1jb2xcIj5cbiAgICAgICAgPHA+SXQgaXMgb3VyIG1pc3Npb24gdG8gZW5yaWNoIHRoZSBjb21tdW5pdHkgYnkgY29sbGVjdGluZywgcHJlc2VydmluZywgYW5kIG1ha2luZyBhY2Nlc3NpYmxlIG91dHN0YW5kaW5nIHdvcmtzIG9mIGFydCBmcm9tIHRoZSB3b3JsZOKAmXMgZGl2ZXJzZSBjdWx0dXJlcy4gV2l0aCBvdmVyIDkwLDAwMCBhcnR3b3JrcywgTWlh4oCZcyBjb2xsZWN0aW9uIGluY2x1ZGVzIGFydCBmcm9tIHNpeCBjb250aW5lbnRzLCBzcGFubmluZyBhYm91dCA1LDAwMCB5ZWFycy4gIEhlcmUgeW91IHdpbGwgZmluZCB3b3JsZC1mYW1vdXMgYXJ0d29ya3MgdGhhdCBlbWJvZHkgdGhlIGhpZ2hlc3QgbGV2ZWxzIG9mIGFydGlzdGljIGFjaGlldmVtZW50IGFuZCBzcGVhayB0byB0aGUgZW5kdXJpbmcgcG93ZXIgb2YgaHVtYW4gY3JlYXRpdml0eSB0byBzaGFwZSBvdXIgd29ybGQuIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8RGVwYXJ0bWVudHMgY29tcGFjdD17dHJ1ZX0gLz5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZGwtZ3JpZFwiPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwiaW5mb1wiPlxuICAgICAgICAgIHt0aGlzLnBhZ2VzLm1hcChuYW1lID0+IHtcbiAgICAgICAgICAgIHJldHVybiA8bGkga2V5PXtuYW1lfSBjbGFzc05hbWU9XCJtZGwtY2VsbCBtZGwtY2VsbC0tMy1jb2xcIj5cbiAgICAgICAgICAgICAgPExpbmsgdG89XCJwYWdlXCIgcGFyYW1zPXt7bmFtZTogdG9TbHVnKG5hbWUpfX0+e25hbWV9PC9MaW5rPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICB9KX1cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICB9LFxufSlcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "home.js"
      ],
      "names": [
        "React",
        "require",
        "Router",
        "Link",
        "toSlug",
        "SEARCH",
        "search",
        "rest",
        "Search",
        "MapPage",
        "Departments",
        "component",
        "Home",
        "createClass",
        "statics",
        "fetchData",
        "searchResults",
        "params",
        "query",
        "searchUrl",
        "then",
        "r",
        "JSON",
        "parse",
        "entity",
        "render",
        "smallViewport",
        "context",
        "width",
        "window",
        "innerWidth",
        "quiltProps",
        "maxRows",
        "maxWorks",
        "ondeviceorientation",
        "margin",
        "props",
        "textAlign",
        "float",
        "paddingRight",
        "contextTypes",
        "PropTypes",
        "bool",
        "module",
        "exports",
        "HomeDepartmentsAndPages",
        "pages",
        "map",
        "name"
      ],
      "mappings": ";;;;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;AACA,IAAIC,SAASD,QAAQ,cAAR,CAAb;IACKE,I,GAAQD,M,CAARC,I;;;AAEL,IAAIC,SAASH,QAAQ,aAAR,CAAb;;AAEA,IAAII,SAASJ,QAAQ,aAAR,EAAuBK,MAApC;AACA,IAAIC,OAAON,QAAQ,MAAR,CAAX;AACA,IAAIO,SAASP,QAAQ,UAAR,CAAb;AACA,IAAIQ,UAAUR,QAAQ,YAAR,CAAd;AACA,IAAIS,cAAcT,QAAQ,eAAR,EAAyBU,SAA3C;;AAEA,IAAIC,OAAOZ,MAAMa,WAAN,CAAkB;AAAA;;AAC3BC,WAAS;AACPC,eAAW;AACTC,qBAAe,uBAACC,MAAD,EAASC,KAAT,EAAmB;AAChC,YAAIC,YAAed,MAAf,kDAAJ;AACA,eAAOE,KAAKY,SAAL,EAAgBC,IAAhB,CAAqB,UAACC,CAAD;AAAA,iBAAOC,KAAKC,KAAL,CAAWF,EAAEG,MAAb,CAAP;AAAA,SAArB,CAAP;AACD;AAJQ;AADJ,GADkB;;AAU3BC,QAV2B,oBAUlB;AAAA,QACFC,aADE,GACe,KAAKC,OADpB,CACFD,aADE;;AAEP,QAAIE,QAAQC,UAAUA,OAAOC,UAA7B;AACA,QAAIC,aAAaL,gBACf,EAACM,SAAS,CAAV,EAAaC,UAAU,CAAvB,EADe,GAEf,EAACD,SAAS,CAAV,EAAaC,UAAU,EAAvB,EAFF;;AAIA,QAAGJ,UAAUA,OAAOK,mBAAjB,IAAwCN,QAAQ,GAAhD,IAAuDA,QAAQ,GAAlE,EAAuEG,WAAWC,OAAX,GAAqB,CAArB;;AAEvE,WAAO;AAAA;AAAA;AACL,0BAAC,MAAD;AACE,qBAAa,IADf;AAEE,uBAAe,IAFjB;AAGE,oBAAYD,UAHd;AAIE,eAAO,qBAJT;AAKE,mBAAW,IALb;AAME,sBAAc,EAACI,QAAQ,SAAT,EANhB;AAOE,uBAAeT,aAPjB;AAQE,sBAAc;AARhB,SASM,KAAKU,KATX,EADK;AAWL,0BAAC,uBAAD,OAXK;AAYL;AAAA;AAAA,UAAK,IAAG,KAAR;AACE;AAAC,iBAAD;AAAA,YAAS,UAAU,IAAnB;AACE;AAAC,gBAAD;AAAA,cAAM,IAAG,KAAT,EAAe,OAAO,EAACC,WAAW,QAAZ,EAAsBC,OAAO,OAA7B,EAAsCC,cAAc,KAApD,EAAtB;AAAA;AAAA;AADF;AADF;AAZK,KAAP;AAoBD;AAvC0B,CAAlB,CAAX;AAyCA3B,KAAK4B,YAAL,GAAoB;AAClBd,iBAAe1B,MAAMyC,SAAN,CAAgBC;AADb,CAApB;;AAIAC,OAAOC,OAAP,GAAiBhC,IAAjB;;AAEA,IAAIiC,0BAA0B7C,MAAMa,WAAN,CAAkB;AAAA;;AAC9CiC,SAAO,CAAC,qBAAD,EAAwB,qBAAxB,EAA+C,cAA/C,EAA+D,cAA/D,CADuC;;AAG9CrB,QAH8C,oBAGrC;AACP,WAAO;AAAA;AAAA,QAAK,WAAU,iBAAf;AACL;AAAA;AAAA,UAAK,WAAU,UAAf;AACE;AAAA;AAAA,YAAI,WAAU,MAAd;AACE;AAAA;AAAA,cAAI,WAAU,0BAAd;AACE;AAAA;AAAA,gBAAG,MAAK,sCAAR;AAAA;AAAA;AADF,WADF;AAME;AAAA;AAAA,cAAI,WAAU,0BAAd;AACE;AAAC,kBAAD;AAAA,gBAAM,IAAG,MAAT;AAAA;AAAA;AADF,WANF;AAWE;AAAA;AAAA,cAAI,WAAU,0BAAd;AACE;AAAC,kBAAD;AAAA,gBAAM,IAAG,SAAT;AAAA;AAAA;AADF;AAXF;AADF,OADK;AAoBL;AAAA;AAAA,UAAK,WAAU,kBAAf;AACA;AAAA;AAAA,YAAK,WAAU,0BAAf;AACE;AAAA;AAAA;AAAA;AAAA;AADF;AADA,OApBK;AAyBL,0BAAC,WAAD,IAAa,SAAS,IAAtB,GAzBK;AA2BL;AAAA;AAAA,UAAK,WAAU,UAAf;AACE;AAAA;AAAA,YAAI,WAAU,MAAd;AACG,eAAKqB,KAAL,CAAWC,GAAX,CAAe,gBAAQ;AACtB,mBAAO;AAAA;AAAA,gBAAI,KAAKC,IAAT,EAAe,WAAU,0BAAzB;AACL;AAAC,oBAAD;AAAA,kBAAM,IAAG,MAAT,EAAgB,QAAQ,EAACA,MAAM5C,OAAO4C,IAAP,CAAP,EAAxB;AAA+CA;AAA/C;AADK,aAAP;AAGD,WAJA;AADH;AADF;AA3BK,KAAP;AAqCD;AAzC6C,CAAlB,CAA9B",
      "file": "home.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\n\nvar toSlug = require('speakingurl')\n\nvar SEARCH = require('./endpoints').search\nvar rest = require('rest')\nvar Search = require('./search')\nvar MapPage = require('./map-page')\nvar Departments = require('./departments').component\n\nvar Home = React.createClass({\n  statics: {\n    fetchData: {\n      searchResults: (params, query) => {\n        let searchUrl = `${SEARCH}/random/art?q=_exists_:%22list:bhm%22&size=20`\n        return rest(searchUrl).then((r) => JSON.parse(r.entity))\n      }\n    },\n  },\n\n  render() {\n    let {smallViewport} = this.context\n    let width = window && window.innerWidth\n    let quiltProps = smallViewport ?\n      {maxRows: 2, maxWorks: 7} :\n      {maxRows: 2, maxWorks: 17}\n\n    if(window && window.ondeviceorientation && width > 500 && width < 800) quiltProps.maxRows = 1\n\n    return <div>\n      <Search\n        hideResults={true}\n        activateInput={true}\n        quiltProps={quiltProps}\n        facet={'_exists_:\"list:bhm\"'}\n        searchAll={true}\n        suggestStyle={{margin: \"1em 3em\"}}\n        bumpSearchBox={smallViewport}\n        shuffleQuilt={true}\n        {...this.props} />\n      <HomeDepartmentsAndPages />\n      <div id=\"map\">\n        <MapPage hideList={true}>\n          <Link to=\"map\" style={{textAlign: 'center', float: 'right', paddingRight: '1em'}}>\n            All galleries\n          </Link>\n        </MapPage>\n      </div>\n    </div>\n  },\n})\nHome.contextTypes = {\n  smallViewport: React.PropTypes.bool,\n}\n\nmodule.exports = Home\n\nvar HomeDepartmentsAndPages = React.createClass({\n  pages: ['Purcell-Cutts House', 'Provenance Research', 'Deaccessions', 'Conservation'],\n\n  render() {\n    return <div className=\"landingPageBody\">\n      <div className=\"mdl-grid\">\n        <ul className=\"info\">\n          <li className=\"mdl-cell mdl-cell--4-col\">\n            <a href=\"https://new.artsmia.org/art-artists/\">\n              Art + Artists\n            </a>\n          </li>\n          <li className=\"mdl-cell mdl-cell--4-col\">\n            <Link to=\"/new\">\n              New to Mia\n            </Link>\n          </li>\n          <li className=\"mdl-cell mdl-cell--4-col\">\n            <Link to='explore'>\n              Explore\n            </Link>\n          </li>\n        </ul>\n      </div>\n      <div className=\"welcome mdl-grid\">\n      <div className=\"mdl-cell mdl-cell--9-col\">\n        <p>It is our mission to enrich the community by collecting, preserving, and making accessible outstanding works of art from the world’s diverse cultures. With over 90,000 artworks, Mia’s collection includes art from six continents, spanning about 5,000 years.  Here you will find world-famous artworks that embody the highest levels of artistic achievement and speak to the enduring power of human creativity to shape our world. </p>\n      </div>\n      </div>\n      <Departments compact={true} />\n\n      <div className=\"mdl-grid\">\n        <ul className=\"info\">\n          {this.pages.map(name => {\n            return <li key={name} className=\"mdl-cell mdl-cell--3-col\">\n              <Link to=\"page\" params={{name: toSlug(name)}}>{name}</Link>\n            </li>\n          })}\n        </ul>\n      </div>\n    </div>\n  },\n})\n"
      ]
    },
    "mtime": 1612393616748
  },
  "{\"filename\":\"/var/www/art/src/map-page.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/map-page.js",
      "filenameRelative": "/var/www/art/src/map-page.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "map-page.js",
      "sourceFileName": "map-page.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "map-page"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar debounce = require('debounce');\n\nvar galleries = require('../data/galleries.json').galleries;\nvar Map = require('./map');\nvar Peek = require('./peek');\n\nvar MapPage = React.createClass({\n  displayName: 'MapPage',\n  render: function render() {\n    var gallery = this.state && this.state.hoveredGallery;\n    var galleryInfo = galleries[gallery];\n\n    var minHeight = this.props.hideList ? '15rem' : '1rem';\n\n    return React.createElement(\n      'div',\n      { style: { position: 'relative' } },\n      React.createElement(\n        'div',\n        { ref: 'mapWrap', style: { backgroundColor: 'rgba(35, 35, 35, 0.8)', paddingBottom: '3em', width: '100%', overflow: 'scroll' } },\n        React.createElement(Map, {\n          startOpen: true,\n          floor: 3,\n          style: { maxWidth: '60em', margin: '0 auto' },\n          onHover: this.handleGalleryHover,\n          onMouseLeave: this.focusLost,\n          onSvgLoad: this.handleSvgLoad\n        }),\n        this.props.children && this.props.children\n      ),\n      React.createElement(\n        'div',\n        { style: { minHeight: minHeight } },\n        gallery && React.createElement(\n          'div',\n          null,\n          React.createElement(\n            'h3',\n            { style: { textAlign: 'center' } },\n            galleryInfo.id,\n            ' \\u2014 ',\n            galleryInfo.title\n          ),\n          React.createElement(Peek, {\n            key: 'preview-' + gallery, q: 'room:G' + gallery,\n            showSingleResult: true\n          })\n        )\n      ),\n      this.props.hideList || this.listGalleries()\n    );\n  },\n  listGalleries: function listGalleries() {\n    var skipGalleries = [111, 112, 113, 114, 267, 268, 269, 270, 271, 272, 273, 274];\n    var gs = Object.keys(galleries).filter(function (g) {\n      return skipGalleries.indexOf(parseInt(g)) < 0;\n    }).map(function (number) {\n      return galleries[number];\n    });\n\n    return React.createElement(\n      'ul',\n      { id: 'map-and-gallery-list', style: { margin: '1em' } },\n      gs.map(function (g) {\n        return React.createElement(GalleryPeek, { key: g.id, g: g, style: { minHeight: '78px' } });\n      })\n    );\n  },\n\n\n  // Wait a second before 'Peek'ing the hovered gallery\n  handleGalleryHover: function handleGalleryHover(gallery) {\n    clearTimeout(this.debouncedPeek);\n    this.debouncedPeek = setTimeout(this.showGalleryPeek.bind(this, gallery), this.state && this.state.hoveredGallery ? 700 : 0);\n  },\n  showGalleryPeek: function showGalleryPeek(gallery) {\n    this.setState({ hoveredGallery: gallery });\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    clearTimeout(this.debouncedPeek);\n  },\n  focusLost: function focusLost() {\n    clearTimeout(this.debouncedPeek);\n  },\n  handleSvgLoad: function handleSvgLoad() {\n    ReactDOM.findDOMNode(this.refs.mapWrap).scrollLeft = 171;\n  }\n});\n\nvar LazyLoad = require('react-lazy-load').default;\n\nvar GalleryPeek = React.createClass({\n  displayName: 'GalleryPeek',\n  render: function render() {\n    var g = this.props.g;\n    var universal = this.context.universal;\n\n    var link = { to: \"gallery\", params: { gallery: g.id } };\n    var peek = React.createElement(\n      'li',\n      { style: { marginTop: !universal ? '1em' : 0 } },\n      React.createElement(\n        Peek,\n        { q: 'room:G' + g.id, linkProps: link, showIcon: false, showSingleResult: true },\n        React.createElement(\n          'span',\n          null,\n          g.id,\n          ' \\u2014\\xA0',\n          g.title\n        )\n      )\n    );\n\n    return universal ? peek : React.createElement(\n      'div',\n      { style: this.props.style },\n      React.createElement(\n        LazyLoad,\n        null,\n        peek\n      )\n    );\n  }\n});\nGalleryPeek.contextTypes = {\n  universal: React.PropTypes.bool\n};\n\nmodule.exports = MapPage;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcC1wYWdlLmpzIl0sIm5hbWVzIjpbIlJlYWN0IiwicmVxdWlyZSIsIlJlYWN0RE9NIiwiUm91dGVyIiwiTGluayIsImRlYm91bmNlIiwiZ2FsbGVyaWVzIiwiTWFwIiwiUGVlayIsIk1hcFBhZ2UiLCJjcmVhdGVDbGFzcyIsInJlbmRlciIsImdhbGxlcnkiLCJzdGF0ZSIsImhvdmVyZWRHYWxsZXJ5IiwiZ2FsbGVyeUluZm8iLCJtaW5IZWlnaHQiLCJwcm9wcyIsImhpZGVMaXN0IiwicG9zaXRpb24iLCJiYWNrZ3JvdW5kQ29sb3IiLCJwYWRkaW5nQm90dG9tIiwid2lkdGgiLCJvdmVyZmxvdyIsIm1heFdpZHRoIiwibWFyZ2luIiwiaGFuZGxlR2FsbGVyeUhvdmVyIiwiZm9jdXNMb3N0IiwiaGFuZGxlU3ZnTG9hZCIsImNoaWxkcmVuIiwidGV4dEFsaWduIiwiaWQiLCJ0aXRsZSIsImxpc3RHYWxsZXJpZXMiLCJza2lwR2FsbGVyaWVzIiwiZ3MiLCJPYmplY3QiLCJrZXlzIiwiZmlsdGVyIiwiaW5kZXhPZiIsInBhcnNlSW50IiwiZyIsIm1hcCIsIm51bWJlciIsImNsZWFyVGltZW91dCIsImRlYm91bmNlZFBlZWsiLCJzZXRUaW1lb3V0Iiwic2hvd0dhbGxlcnlQZWVrIiwiYmluZCIsInNldFN0YXRlIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJmaW5kRE9NTm9kZSIsInJlZnMiLCJtYXBXcmFwIiwic2Nyb2xsTGVmdCIsIkxhenlMb2FkIiwiZGVmYXVsdCIsIkdhbGxlcnlQZWVrIiwidW5pdmVyc2FsIiwiY29udGV4dCIsImxpbmsiLCJ0byIsInBhcmFtcyIsInBlZWsiLCJtYXJnaW5Ub3AiLCJzdHlsZSIsImNvbnRleHRUeXBlcyIsIlByb3BUeXBlcyIsImJvb2wiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFFBQVFDLFFBQVEsT0FBUixDQUFaO0FBQ0EsSUFBSUMsV0FBV0QsUUFBUSxXQUFSLENBQWY7QUFD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WWpCLEVBQUVWLEVBQXBCLEVBQTBCLFdBQVc2QixJQUFyQyxFQUEyQyxVQUFVLEtBQXJELEVBQTRELGtCQUFrQixJQUE5RTtBQUNFO0FBQUE7QUFBQTtBQUFPbkIsWUFBRVYsRUFBVDtBQUFBO0FBQWdCVSxZQUFFVDtBQUFsQjtBQURGO0FBRFMsS0FBWDs7QUFNQSxXQUFPMEIsWUFDTEssSUFESyxHQUVMO0FBQUE7QUFBQSxRQUFLLE9BQU8sS0FBSzlDLEtBQUwsQ0FBV2dELEtBQXZCO0FBQ0U7QUFBQyxnQkFBRDtBQUFBO0FBQVdGO0FBQVg7QUFERixLQUZGO0FBS0Q7QUFoQmlDLENBQWxCLENBQWxCO0FBa0JBTixZQUFZUyxZQUFaLEdBQTJCO0FBQ3pCUixhQUFXMUQsTUFBTW1FLFNBQU4sQ0FBZ0JDO0FBREYsQ0FBM0I7O0FBSUFDLE9BQU9DLE9BQVAsR0FBaUI3RCxPQUFqQiIsImZpbGUiOiJtYXAtcGFnZS5qcyIsInNvdXJjZVJvb3QiOiIvdmFyL3d3dy9hcnQvc3JjIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJlYWN0RE9NID0gcmVxdWlyZSgncmVhY3QtZG9tJylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHtMaW5rfSA9IFJvdXRlclxudmFyIGRlYm91bmNlID0gcmVxdWlyZSgnZGVib3VuY2UnKVxuXG52YXIgZ2FsbGVyaWVzID0gcmVxdWlyZSgnLi4vZGF0YS9nYWxsZXJpZXMuanNvbicpLmdhbGxlcmllc1xudmFyIE1hcCA9IHJlcXVpcmUoJy4vbWFwJylcbnZhciBQZWVrID0gcmVxdWlyZSgnLi9wZWVrJylcblxudmFyIE1hcFBhZ2UgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIgZ2FsbGVyeSA9IHRoaXMuc3RhdGUgJiYgdGhpcy5zdGF0ZS5ob3ZlcmVkR2FsbGVyeVxuICAgIHZhciBnYWxsZXJ5SW5mbyA9IGdhbGxlcmllc1tnYWxsZXJ5XVxuXG4gICAgdmFyIG1pbkhlaWdodCA9IHRoaXMucHJvcHMuaGlkZUxpc3QgPyAnMTVyZW0nIDogJzFyZW0nXG5cbiAgICByZXR1cm4gPGRpdiBzdHlsZT17e3Bvc2l0aW9uOiAncmVsYXRpdmUnfX0+XG4gICAgICA8ZGl2IHJlZj1cIm1hcFdyYXBcIiBzdHlsZT17e2JhY2tncm91bmRDb2xvcjogJ3JnYmEoMzUsIDM1LCAzNSwgMC44KScsIHBhZGRpbmdCb3R0b206ICczZW0nLCB3aWR0aDogJzEwMCUnLCBvdmVyZmxvdzogJ3Njcm9sbCd9fT5cbiAgICAgICAgPE1hcFxuICAgICAgICAgIHN0YXJ0T3Blbj17dHJ1ZX1cbiAgICAgICAgICBmbG9vcj17M31cbiAgICAgICAgICBzdHlsZT17e21heFdpZHRoOiAnNjBlbScsIG1hcmdpbjogJzAgYXV0byd9fVxuICAgICAgICAgIG9uSG92ZXI9e3RoaXMuaGFuZGxlR2FsbGVyeUhvdmVyfVxuICAgICAgICAgIG9uTW91c2VMZWF2ZT17dGhpcy5mb2N1c0xvc3R9XG4gICAgICAgICAgb25TdmdMb2FkPXt0aGlzLmhhbmRsZVN2Z0xvYWR9XG4gICAgICAgIC8+XG5cbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW4gJiYgdGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IHN0eWxlPXt7bWluSGVpZ2h0fX0+XG4gICAgICAgIHtnYWxsZXJ5ICYmIDxkaXY+XG4gICAgICAgICAgPGgzIHN0eWxlPXt7dGV4dEFsaWduOiAnY2VudGVyJ319PntnYWxsZXJ5SW5mby5pZH0g4oCUIHtnYWxsZXJ5SW5mby50aXRsZX08L2gzPlxuICAgICAgICAgIDxQZWVrXG4gICAgICAgICAgICBrZXk9e2BwcmV2aWV3LSR7Z2FsbGVyeX1gfSBxPXtgcm9vbTpHJHtnYWxsZXJ5fWB9XG4gICAgICAgICAgICBzaG93U2luZ2xlUmVzdWx0PXt0cnVlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+fVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHt0aGlzLnByb3BzLmhpZGVMaXN0IHx8IHRoaXMubGlzdEdhbGxlcmllcygpfVxuICAgIDwvZGl2PlxuICB9LFxuXG4gIGxpc3RHYWxsZXJpZXMoKSB7XG4gICAgdmFyIHNraXBHYWxsZXJpZXMgPSBbMTExLCAxMTIsIDExMywgMTE0LCAyNjcsIDI2OCwgMjY5LCAyNzAsIDI3MSwgMjcyLCAyNzMsIDI3NF1cbiAgICB2YXIgZ3MgPSBPYmplY3Qua2V5cyhnYWxsZXJpZXMpXG4gICAgLmZpbHRlcihnID0+IHNraXBHYWxsZXJpZXMuaW5kZXhPZihwYXJzZUludChnKSkgPCAwKVxuICAgIC5tYXAobnVtYmVyID0+IGdhbGxlcmllc1tudW1iZXJdKVxuXG4gICAgcmV0dXJuIDx1bCBpZD1cIm1hcC1hbmQtZ2FsbGVyeS1saXN0XCIgc3R5bGU9e3ttYXJnaW46ICcxZW0nfX0+XG4gICAgICB7Z3MubWFwKGcgPT4gPEdhbGxlcnlQZWVrIGtleT17Zy5pZH0gZz17Z30gc3R5bGU9e3ttaW5IZWlnaHQ6ICc3OHB4J319IC8+KX1cbiAgICA8L3VsPlxuICB9LFxuXG4gIC8vIFdhaXQgYSBzZWNvbmQgYmVmb3JlICdQZWVrJ2luZyB0aGUgaG92ZXJlZCBnYWxsZXJ5XG4gIGhhbmRsZUdhbGxlcnlIb3ZlcihnYWxsZXJ5KSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuZGVib3VuY2VkUGVlaylcbiAgICB0aGlzLmRlYm91bmNlZFBlZWsgPSBzZXRUaW1lb3V0KFxuICAgICAgdGhpcy5zaG93R2FsbGVyeVBlZWsuYmluZCh0aGlzLCBnYWxsZXJ5KSxcbiAgICAgIHRoaXMuc3RhdGUgJiYgdGhpcy5zdGF0ZS5ob3ZlcmVkR2FsbGVyeSA/IDcwMCA6IDBcbiAgICApXG4gIH0sXG5cbiAgc2hvd0dhbGxlcnlQZWVrKGdhbGxlcnkpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtob3ZlcmVkR2FsbGVyeTogZ2FsbGVyeX0pXG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuZGVib3VuY2VkUGVlaylcbiAgfSxcblxuICBmb2N1c0xvc3QoKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuZGVib3VuY2VkUGVlaylcbiAgfSxcblxuICBoYW5kbGVTdmdMb2FkKCkge1xuICAgIFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmcy5tYXBXcmFwKS5zY3JvbGxMZWZ0ID0gMTcxXG4gIH1cbn0pXG5cbnZhciBMYXp5TG9hZCA9IHJlcXVpcmUoJ3JlYWN0LWxhenktbG9hZCcpLmRlZmF1bHRcblxudmFyIEdhbGxlcnlQZWVrID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHtnfSA9IHRoaXMucHJvcHNcbiAgICB2YXIge3VuaXZlcnNhbH0gPSB0aGlzLmNvbnRleHRcbiAgICB2YXIgbGluayA9IHt0bzogXCJnYWxsZXJ5XCIsIHBhcmFtczoge2dhbGxlcnk6IGcuaWR9fVxuICAgIHZhciBwZWVrID0gPGxpIHN0eWxlPXt7bWFyZ2luVG9wOiAhdW5pdmVyc2FsID8gJzFlbScgOiAwfX0+XG4gICAgICA8UGVlayBxPXtgcm9vbTpHJHtnLmlkfWB9IGxpbmtQcm9wcz17bGlua30gc2hvd0ljb249e2ZhbHNlfSBzaG93U2luZ2xlUmVzdWx0PXt0cnVlfT5cbiAgICAgICAgPHNwYW4+e2cuaWR9IOKAlMKge2cudGl0bGV9PC9zcGFuPlxuICAgICAgPC9QZWVrPlxuICAgIDwvbGk+XG5cbiAgICByZXR1cm4gdW5pdmVyc2FsID9cbiAgICAgIHBlZWsgOlxuICAgICAgPGRpdiBzdHlsZT17dGhpcy5wcm9wcy5zdHlsZX0+XG4gICAgICAgIDxMYXp5TG9hZD57cGVla308L0xhenlMb2FkPlxuICAgICAgPC9kaXY+XG4gIH0sXG59KVxuR2FsbGVyeVBlZWsuY29udGV4dFR5cGVzID0ge1xuICB1bml2ZXJzYWw6IFJlYWN0LlByb3BUeXBlcy5ib29sXG59XG5cbm1vZHVsZS5leHBvcnRzID0gTWFwUGFnZVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "map-page.js"
      ],
      "names": [
        "React",
        "require",
        "ReactDOM",
        "Router",
        "Link",
        "debounce",
        "galleries",
        "Map",
        "Peek",
        "MapPage",
        "createClass",
        "render",
        "gallery",
        "state",
        "hoveredGallery",
        "galleryInfo",
        "minHeight",
        "props",
        "hideList",
        "position",
        "backgroundColor",
        "paddingBottom",
        "width",
        "overflow",
        "maxWidth",
        "margin",
        "handleGalleryHover",
        "focusLost",
        "handleSvgLoad",
        "children",
        "textAlign",
        "id",
        "title",
        "listGalleries",
        "skipGalleries",
        "gs",
        "Object",
        "keys",
        "filter",
        "indexOf",
        "parseInt",
        "g",
        "map",
        "number",
        "clearTimeout",
        "debouncedPeek",
        "setTimeout",
        "showGalleryPeek",
        "bind",
        "setState",
        "componentWillUnmount",
        "findDOMNode",
        "refs",
        "mapWrap",
        "scrollLeft",
        "LazyLoad",
        "default",
        "GalleryPeek",
        "universal",
        "context",
        "link",
        "to",
        "params",
        "peek",
        "marginTop",
        "style",
        "contextTypes",
        "PropTypes",
        "bool",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "map-page.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar ReactDOM = require('react-dom')\nvar Router = require('react-router')\nvar {Link} = Router\nvar debounce = require('debounce')\n\nvar galleries = require('../data/galleries.json').galleries\nvar Map = require('./map')\nvar Peek = require('./peek')\n\nvar MapPage = React.createClass({\n  render() {\n    var gallery = this.state && this.state.hoveredGallery\n    var galleryInfo = galleries[gallery]\n\n    var minHeight = this.props.hideList ? '15rem' : '1rem'\n\n    return <div style={{position: 'relative'}}>\n      <div ref=\"mapWrap\" style={{backgroundColor: 'rgba(35, 35, 35, 0.8)', paddingBottom: '3em', width: '100%', overflow: 'scroll'}}>\n        <Map\n          startOpen={true}\n          floor={3}\n          style={{maxWidth: '60em', margin: '0 auto'}}\n          onHover={this.handleGalleryHover}\n          onMouseLeave={this.focusLost}\n          onSvgLoad={this.handleSvgLoad}\n        />\n\n        {this.props.children && this.props.children}\n      </div>\n\n      <div style={{minHeight}}>\n        {gallery && <div>\n          <h3 style={{textAlign: 'center'}}>{galleryInfo.id} — {galleryInfo.title}</h3>\n          <Peek\n            key={`preview-${gallery}`} q={`room:G${gallery}`}\n            showSingleResult={true}\n            />\n        </div>}\n      </div>\n\n      {this.props.hideList || this.listGalleries()}\n    </div>\n  },\n\n  listGalleries() {\n    var skipGalleries = [111, 112, 113, 114, 267, 268, 269, 270, 271, 272, 273, 274]\n    var gs = Object.keys(galleries)\n    .filter(g => skipGalleries.indexOf(parseInt(g)) < 0)\n    .map(number => galleries[number])\n\n    return <ul id=\"map-and-gallery-list\" style={{margin: '1em'}}>\n      {gs.map(g => <GalleryPeek key={g.id} g={g} style={{minHeight: '78px'}} />)}\n    </ul>\n  },\n\n  // Wait a second before 'Peek'ing the hovered gallery\n  handleGalleryHover(gallery) {\n    clearTimeout(this.debouncedPeek)\n    this.debouncedPeek = setTimeout(\n      this.showGalleryPeek.bind(this, gallery),\n      this.state && this.state.hoveredGallery ? 700 : 0\n    )\n  },\n\n  showGalleryPeek(gallery) {\n    this.setState({hoveredGallery: gallery})\n  },\n\n  componentWillUnmount() {\n    clearTimeout(this.debouncedPeek)\n  },\n\n  focusLost() {\n    clearTimeout(this.debouncedPeek)\n  },\n\n  handleSvgLoad() {\n    ReactDOM.findDOMNode(this.refs.mapWrap).scrollLeft = 171\n  }\n})\n\nvar LazyLoad = require('react-lazy-load').default\n\nvar GalleryPeek = React.createClass({\n  render() {\n    var {g} = this.props\n    var {universal} = this.context\n    var link = {to: \"gallery\", params: {gallery: g.id}}\n    var peek = <li style={{marginTop: !universal ? '1em' : 0}}>\n      <Peek q={`room:G${g.id}`} linkProps={link} showIcon={false} showSingleResult={true}>\n        <span>{g.id} — {g.title}</span>\n      </Peek>\n    </li>\n\n    return universal ?\n      peek :\n      <div style={this.props.style}>\n        <LazyLoad>{peek}</LazyLoad>\n      </div>\n  },\n})\nGalleryPeek.contextTypes = {\n  universal: React.PropTypes.bool\n}\n\nmodule.exports = MapPage\n"
      ]
    },
    "mtime": 1491504523014
  },
  "{\"filename\":\"/var/www/art/src/artwork.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/artwork.js",
      "filenameRelative": "/var/www/art/src/artwork.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "artwork.js",
      "sourceFileName": "artwork.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "artwork"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar rest = require('rest');\nvar humanizeNumber = require('humanize-number');\nvar Helmet = require('react-helmet');\nvar cx = require('classnames');\n\nvar ArtworkImage = require('./artwork-image');\nvar Markdown = require('./markdown');\nvar ArtworkPreview = require('./artwork-preview');\nvar ArtworkDetails = require('./artwork-details');\nvar _Artwork = require('./_artwork');\nvar Image = require('./image');\nvar imageCDN = require('./image-cdn');\nvar SEARCH = require('./endpoints').search;\nvar ArtworkRelatedContent = require('./artwork-related');\nvar ArtworkPageMetadata = require('./artwork/page-metadata');\nvar rightsDescriptions = require('./rights-types.js');\nvar ClosedBanner = require('./museum-closed-banner');\n\nvar Sticky = require('react-sticky');\n\nvar Artwork = React.createClass({\n  displayName: 'Artwork',\n\n  mixins: [Router.State],\n  statics: {\n    fetchData: {\n      artwork: function artwork(params, existingData) {\n        if (existingData && existingData.id && existingData.id == params.id) return Promise.resolve(existingData);\n        return rest(SEARCH + '/id/' + params.id).then(function (r) {\n          return JSON.parse(r.entity);\n        }).then(function (art) {\n          art.slug = _Artwork.slug(art);\n          return art;\n        });\n      }\n    },\n\n    checkRoute: function checkRoute(params, callback) {\n      var existingArt = window.__DATA__ && window.__DATA__.artwork;\n\n      return Artwork.fetchData.artwork(params, existingArt).then(function (art) {\n        window.__DATA__ = { artwork: art };\n        if (art.slug !== params.slug) {\n          params.slug = art.slug;\n          return callback('mismatched slug', art);\n        }\n\n        if ((isLoan(art) || _notPublicAccess(art)) && !window.privilegedClientIP) {\n          return callback('permission denied', art);\n        }\n\n        callback(false, art);\n      });\n    },\n\n    willTransitionTo: function willTransitionTo(transition, params, query, callback) {\n      if (params.id === 'leaflet-src.js.map') return transition.redirect('home', _extends({}, params, { status: 404 }));\n\n      Artwork.checkRoute(params, function (err) {\n        switch (err) {\n          case 'mismatched slug':\n            transition.redirect('artworkSlug', params);\n          case 'permission denied':\n            transition.redirect('home', _extends({}, params, { status: 403 }));\n        }\n      }).then(callback);\n    }\n  },\n\n  render: function render() {\n    var _this = this;\n\n    var art = this.state.art;\n    var id = this.props.id || this.state.id;\n    var highlights = this.props.highlights;\n    var stickyMapStyle = this.context.universal ? { position: 'fixed' } : {};\n    var smallViewport = this.context.smallViewport;\n\n\n    var pageTitle = [art.title.replace(/<[^ ]+?>/g, '\"'), _Artwork.Creator.getFacetAndValue(art)[1]].filter(function (e) {\n      return e;\n    }).join(', ');\n\n    var imageUrl = art.image_url || imageCDN(id);\n    var canonicalURL = 'https://collections.artsmia.org/art/' + art.id + '/' + art.slug;\n\n    var aspectRatio = art.image_width / art.image_height;\n    var mapHeight = aspectRatio && art.image == \"valid\" ? Math.max(40, Math.min(65, 1 / aspectRatio * 80)) : 20;\n    if (smallViewport && this.state.show3d) mapHeight = 67;\n\n    var image = React.createElement(Image, { art: art, style: { maxWidth: '95%', maxHeight: mapHeight - 5 + 'vh' } });\n\n    var showMoreIcon = Object.keys(art).filter(function (key) {\n      return key.match(/related:/) && !key.match(/related:exhibitions/);\n    }).length > 0 && !this.state.fullscreenImage;\n    var toggleRelated = this.state.smallViewportShowInfoOrRelatedContent;\n    var infoRelatedToggleStyles = {\n      position: 'absolute',\n      zIndex: '10000',\n      right: '7px',\n      bottom: '7px',\n      color: '#232323',\n      backgroundColor: 'rgba(255, 255, 255, 0.7)',\n      borderRadius: '1em',\n      lineHeight: '0.3em',\n      padding: '0.3em'\n    };\n    var exploreStyle = {\n      display: 'block',\n      transform: 'translateY(-13px)',\n      paddingLeft: '2em'\n    };\n    var exploreIcon = showMoreIcon && React.createElement(\n      'a',\n      { href: '#', onClick: this.toggleInfoAndRelatedContent, style: infoRelatedToggleStyles },\n      !toggleRelated ? React.createElement('img', { src: '/images/more.svg', style: { width: '1.7em' } }) : React.createElement(\n        'i',\n        { className: 'control material-icons' },\n        'info'\n      ),\n      React.createElement(\n        'span',\n        { style: exploreStyle },\n        !toggleRelated ? 'Explore' : 'Info'\n      )\n    );\n    var relatedContent = React.createElement(ArtworkRelatedContent, { id: id, art: art });\n\n    var mapStyle = smallViewport ? { width: '100%', display: 'inline-block', height: mapHeight + 'vh' } : stickyMapStyle;\n\n    var _state = this.state,\n        zoomLoaded = _state.zoomLoaded,\n        zoomLoadComplete = _state.zoomLoadComplete;\n\n    var zoomLoadedSuccessfully = zoomLoaded && zoomLoaded !== 'error' && zoomLoadComplete;\n\n    var rights = rightsDescriptions.getRights(art);\n    var map = React.createElement(\n      'div',\n      { ref: 'map', id: 'map', style: mapStyle, className: ['leaflet-container', zoomLoadedSuccessfully && 'zoomLoaded'].join(' ') },\n      this.state.has3d && React.createElement(SketchfabEmbed, { model: this.state.has3d, show: this.state.show3d }),\n      art.image == 'valid' && rights !== 'Permission Denied' && React.createElement(\n        'div',\n        { id: 'staticImage', className: zoomLoadedSuccessfully && 'zoomLoaded' },\n        image,\n        !!zoomLoaded || art.image_copyright && React.createElement(\n          'p',\n          { style: { fontSize: '0.8em' } },\n          decodeURIComponent(art.image_copyright)\n        )\n      ) || React.createElement(NoImagePlaceholder, { art: art }),\n      this.imageStatus(),\n      smallViewport && showMoreIcon && exploreIcon\n    );\n\n    var showCropUI = this.state.showBiggie;\n    var detailCropper = showCropUI && React.createElement(\n      'div',\n      { style: { marginTop: '1em' } },\n      React.createElement(IIIFCropper, {\n        captureViewRegion: this.captureViewRegion,\n        updateRegion: function updateRegion(args) {\n          return _this.setState(args);\n        },\n        currentRegion: this.state.iiifRegion,\n        cropAspectRatio: this.state.cropAspectRatio,\n        art: art\n      })\n    );\n\n    var info = React.createElement(\n      'div',\n      { className: 'info' },\n      this.props.children || React.createElement(\n        'div',\n        null,\n        smallViewport && React.createElement(\n          'div',\n          { style: { margin: '-2em 0 1em 0' } },\n          detailCropper\n        ),\n        React.createElement(ArtworkPreview, { art: art, showLink: this.props.showLink, showDuplicateDetails: true }),\n        this.state.has3d && React.createElement(\n          'div',\n          { className: 'images' },\n          React.createElement(\n            'p',\n            { onClick: this.toggle3d },\n            this.state.show3d ? 'show high-res image' : 'show 3D model'\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'back-button' },\n          this.props.showLinkComponent || (window.history && history.length > 1 ? React.createElement(\n            'a',\n            { href: '#', onClick: function onClick() {\n                return history.go(-1);\n              } },\n            React.createElement(\n              'i',\n              { className: 'material-icons' },\n              'arrow_back'\n            ),\n            ' back'\n          ) : React.createElement(\n            Link,\n            { to: '/' },\n            React.createElement(\n              'i',\n              { className: 'material-icons' },\n              'arrow_back'\n            ),\n            ' home'\n          ))\n        ),\n        smallViewport || relatedContent,\n        React.createElement(\n          'div',\n          null,\n          React.createElement(\n            'h5',\n            { className: 'details-title' },\n            'Details'\n          ),\n          React.createElement(ArtworkDetails, { art: art, show3d: this.state.show3d })\n        )\n      ),\n      React.createElement(ClosedBanner, null),\n      smallViewport || detailCropper,\n      false && React.createElement(\n        'a',\n        { href: '?manifest=https://iiif.dx.artsmia.org/' + this.state.id + '.jpg/manifest.json' },\n        React.createElement('img', { src: 'iiif-dragndrop-100px.png', alt: 'IIIF Drag-n-drop' }),\n        ' IIIF!'\n      )\n    );\n\n    var smallViewportWithTabbedInfoAndRelated = React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'div',\n        { style: { display: !!toggleRelated ? 'none' : 'block' } },\n        info\n      ),\n      React.createElement(\n        'div',\n        { style: { display: !toggleRelated ? 'none' : 'block' } },\n        React.createElement(\n          'div',\n          { className: 'info' },\n          relatedContent\n        )\n      )\n    );\n    // TODO: should the related content be in both the info and more-specific view?\n    // react can't gradt an <audio> tag while playing, so showing it in both places makes the playback weird.\n    // code below in case this needs to be revisited\n    // {(smallViewport && toggleRelated) || relatedContent} <- goes into info div\n    // var smallViewportWithTabbedInfoAndRelated = !toggleRelated ? \n    //   info :\n    //   <div className=\"info\">{relatedContent}</div>\n\n    var content;\n    if (smallViewport) {\n      content = React.createElement(\n        'div',\n        null,\n        map,\n        smallViewportWithTabbedInfoAndRelated\n      );\n    } else {\n      content = React.createElement(\n        'div',\n        null,\n        info,\n        React.createElement(\n          Sticky,\n          {\n            stickyStyle: { position: 'fixed', height: '100%', width: '65%', top: 0, transform: 'translate3d(0px,0px,0px)' },\n            onStickyStateChange: this.resizeMap },\n          map\n        )\n      );\n    }\n\n    return React.createElement(\n      'div',\n      { className: cx('artwork', { smallviewport: smallViewport }) },\n      content,\n      React.createElement(ArtworkPageMetadata, { art: art, noIndex: this.notPublicAccess() })\n    );\n  },\n  toggle3d: function toggle3d() {\n    var nextShow3d = !this.state.show3d;\n    this.setState({ show3d: nextShow3d });\n    if (!nextShow3d) {\n      if (!this.state.zoomLoaded) this.loadZoom();\n    }\n    if (nextShow3d && this.state.zoomLoaded) {}\n  },\n  getInitialState: function getInitialState() {\n    var art = this.props.data.artwork;\n    art.id = this.props.id || (isNaN(art.id) ? art.id.replace('http://api.artsmia.org/objects/', '') : art.id);\n\n    var has3Dmodel = art[\"related:3dmodels\"] && art[\"related:3dmodels\"][0];\n    var navigatedFrom3dModelSearch = window && window.lastSearchedTerms && window.lastSearchedTerms.indexOf('related:3dmodels') >= 0;\n\n    var rights = rightsDescriptions.getRights(art);\n    var showBiggie = art.restricted === 0 || ['Copyright Protected', 'Needs Permission', 'In Copyright', \"In Copyright - Rights-holder(s) Unlocatable or Unidentifiable\", \"In Copyright–Rights-holder(s) Unlocatable\", \"Copyright Not Evaluated\", \"Permission Denied\"].indexOf(rights) < 0;\n\n    return {\n      art: art,\n      id: art.id,\n      fullscreenImage: false,\n      has3d: has3Dmodel,\n      show3d: navigatedFrom3dModelSearch,\n      smallViewportShowInfoOrRelatedContent: window && window.enteredViaMore,\n      showBiggie: showBiggie\n    };\n  },\n  shouldComponentUpdate: function shouldComponentUpdate(prevProps, prevState) {\n    return true;\n  },\n  componentDidMount: function componentDidMount() {\n    this.initView();\n  },\n  initView: function initView() {\n    var art = this.state.art;\n    this.setState({ zoomLoaded: false, zoomLoadComplete: false, zoomLoadedSuccessfully: false });\n\n    if (art.image === 'valid' && this.state.showBiggie && !this.isLoan() && !this.state.show3d) {\n      this.loadZoom({ reset: true });\n    } else {\n      this.map.off();\n      this.map.remove();\n      this.map = undefined;\n      this.tiles = undefined;\n    }\n\n    var smallViewport = this.context.smallViewport;\n    // push the viewport down past the header to maximize image/text on the page\n    // scrolling back up reveals the menu\n    // TODO: is there a way to automatically trigger safari's minimal chrome other than a user-initiated scroll event? (probably not https://stackoverflow.com/a/26884561)\n\n    if (smallViewport && window.scrollX == 0) setTimeout(function () {\n      return window.scrollTo(0, 56);\n    }, 0);\n  },\n  componentDidUpdate: function componentDidUpdate() {\n    if (this.context.smallViewport != this.state.lastSmallViewportSetting) {\n      this.setState({ lastSmallViewportSetting: this.context.smallViewport });\n      if (this.map && this.tiles) {\n        this.loadZoom({ reset: true });\n      }\n    }\n\n    if (this.state.id !== this.props.data.artwork.id) {\n      this.setState(this.getInitialState());\n      setTimeout(this.initView, 1000);\n    }\n  },\n  loadZoom: function loadZoom() {\n    var _this2 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { reset: false };\n\n    var L = require('leaflet');\n    var Liiif = require('leaflet-iiif');\n    var fullscreen = require('leaflet-fullscreen');\n\n    var art = this.state.art;\n    this.setState({ zoomLoaded: false, zoomLoading: true });\n\n    if (options && options.reset && this.map) {\n      this.map.off();\n      this.map.remove();\n      this.map = undefined;\n      this.tiles = undefined;\n    }\n\n    var id = this.state.id;\n    var iiif0Url = 'https://tiles.dx.artsmia.org/iiif/' + this.state.id;\n    var iiifUrl = 'https://iiif.dx.artsmia.org/' + this.state.id + '.jpg/info.json';\n\n    rest(iiif0Url);\n\n    rest(iiifUrl).then(function (response) {\n      return JSON.parse(response.entity);\n    }, function (rejected) {\n      // TODO: log this somewhere\n      _this2.setState({ zoomLoaded: 'error' });\n      return Promise.reject(new Error('can\\'t load tiles for ' + art.id));\n    }).then(function (data) {\n      _this2.map = L.map(_this2.refs.map, {\n        crs: L.CRS.Simple,\n        zoomControl: false,\n        zoomSnap: 0\n      });\n      window._map = _this2.map;\n      _this2.map.attributionControl.setPrefix('');\n      var showZoomControlsIfDesktop = !L.Browser.touch || window.innerWidth > 780;\n      if (showZoomControlsIfDesktop) new L.Control.Zoom({ position: 'topright' }).addTo(_this2.map);\n      new L.Control.Fullscreen({\n        position: 'topright',\n        pseudoFullscreen: true\n      }).addTo(_this2.map);\n\n      _this2.tiles = L.tileLayer.iiif(iiifUrl, {\n        attribution: art.image_copyright ? decodeURIComponent(art.image_copyright) : '',\n        fitBounds: true,\n        setMaxBounds: true,\n        tileSize: 512,\n        id: id,\n        fudgeTileSize: 0.3,\n        iiifImageData: data\n      });\n\n      _this2.map.setView([0, 0], 0);\n\n      _this2.tiles.addTo(_this2.map);\n\n      window._tiles = _this2.tiles;\n      _this2.tiles.on('load', function (event) {\n        _this2.setState({ zoomLoadComplete: true });\n        if (_this2.map.getMinZoom() > 0) return;\n        // don't let the zoomed image get tiny\n        var minZoom = _this2.map.getZoom() - 0.3;\n        console.info('set minZoom', minZoom);\n        _this2.map.setMinZoom(minZoom);\n        // TODO - reset minZoom when window is resized\n        // …and when fullscreen changes?\n      });\n\n      _this2.setState({ zoomLoading: false, zoomLoaded: true });\n\n      _this2.map.on('fullscreenchange', function () {\n        _this2.setState({ fullscreenImage: !_this2.state.fullscreenImage });\n        _this2.props.toggleAppHeader();\n      });\n\n      var interval = 400;\n      false && setTimeout(function () {\n        // if not tile images have been loaded, force a zoom in and then a zoom out.\n        // This tricks leaflet to load the tiles? I'm not sure why but it probably has\n        // to do with a fractional zoom bug that I don't want to get into right now…\n        var tileContainer = _map._mapPane.querySelector('.leaflet-tile-container');\n        var tileElems = tileContainer.childElementCount;\n        console.info('map tiles loaded', { tileElems: tileElems, tileContainer: tileContainer });\n\n        if (tileElems <= 1) {\n          console.info('zooming out then back in', { max: _map.getMaxZoom() });\n          _map.setZoom(_map.getMaxZoom());\n          setTimeout(function () {\n            _map.setZoom(_tiles.options.minZoom + 0.5);\n            setTimeout(function () {\n              _map.setZoom(_tiles.options.minZoom + 0.4);\n              setTimeout(function () {\n                _map.setZoom(_tiles.options.minZoom + 0.3);\n                setTimeout(function () {\n                  _map.setZoom(_tiles.options.minZoom + 0.2);\n                  setTimeout(function () {\n                    _map.setZoom(_tiles.options.minZoom + 0.1);\n                    setTimeout(function () {\n                      _map.setZoom(_tiles.options.minZoom);\n                    }, interval);\n                  }, interval);\n                }, interval);\n              }, interval);\n            }, interval);\n          }, interval);\n        } else {\n          console.info('not simulating zoom in/out?');\n        }\n      }, 1000);\n\n      var zoomCount, zoomInCount, zoomOutCount, prevZoom, nowZoom;\n      var zoomCount = zoomInCount = zoomOutCount = 0;\n      var prevZoom = nowZoom = _this2.map.getZoom();\n      var recentlyAutoZoomed = false;\n\n      _this2.map.on('zoomstart zoomend', function (event) {\n        var _ref = [nowZoom, _this2.map.getZoom()];\n        prevZoom = _ref[0];\n        nowZoom = _ref[1];\n\n        zoomCount += 1;\n        nowZoom > prevZoom ? zoomInCount += 1 : zoomOutCount += 1;\n\n        var smallViewport = _this2.context.smallViewport;\n\n        var isSecondZoomInAction = zoomInCount == 2;\n        if (smallViewport && !recentlyAutoZoomed) {\n          // fullscreen the image when a user zooms twice in a row\n          // leave fullscreen when they return to minZoom\n          // mobile-only for now\n          var reasonsToChangeFullscreen = [event.type == 'zoomstart' && zoomInCount == 2 && !_this2.map.isFullscreen(), // zooming in when not fullscreen\n          event.type == 'zoomend' && nowZoom >= 3 && !_this2.map.isFullscreen(), // not fullscreen and zoomed in quite far\n          event.type == 'zoomend' && _this2.map.getZoom() == _this2.map.getMinZoom() && _this2.map.isFullscreen()];\n          if (reasonsToChangeFullscreen.find(function (reason) {\n            return reason;\n          })) {\n            // if any of the valid reasons evaluate to true\n            _this2.map.toggleFullscreen({ pseudoFullscreen: true });\n            recentlyAutoZoomed = true;\n            clearTimeout(_this2.zoomCountResetTimer);\n            _this2.zoomCountResetTimer = setTimeout(function () {\n              zoomCount = zoomInCount = zoomOutCount = 0;recentlyAutoZoomed = false;\n            }, 1000);\n          }\n        }\n      });\n    }).catch(function (err) {\n      return _this2.setState({ zoomLoading: false });\n    });\n  },\n  resizeMap: function resizeMap() {\n    if (this.map && this.tiles) {\n      this.map.invalidateSize();\n    }\n  },\n\n\n  /**\n   * convert the currently viewed area of the zoomable image to an IIIF deriv\n   * thankya https://bl.ocks.org/mejackreed/6936585f435b60aa9451ae2bc1c199f2\n   */\n  captureViewRegion: function captureViewRegion() {\n    if (!this.map) return;\n\n    var cropAspectRatio = this.state.cropAspectRatio;\n\n\n    var map = this.map;\n    var iiifLayer = this.tiles;\n    var bounds = map.getBounds();\n    var fractionalZoom = map.getZoom();\n    var zoom = Math.floor(fractionalZoom); // should this be floor, or round?\n    var min = map.project(bounds.getSouthWest(), zoom);\n    var max = map.project(bounds.getNorthEast(), zoom);\n    var imageSize = iiifLayer._imageSizes[zoom];\n    var xRatio = iiifLayer.x / imageSize.x;\n    var yRatio = iiifLayer.y / imageSize.y;\n\n    var x0 = Math.max(0, Math.floor(min.x * xRatio));\n    var y0 = Math.max(0, Math.floor(max.y * yRatio));\n    var w = Math.floor((max.x - min.x) * xRatio);\n    var h = Math.floor((min.y - max.y) * yRatio);\n    /**\n     * To constrain the crop to a specific aspect ratio:\n     *\n     *  square = 1/1, and 3:2 (which is actually 2/3? Confuses me, but it's working)\n     *\n     * Adapt the rectangular region to be the desired aspect ratio by\n     * 'shaving' it down to fit. To get a taller region down to 3:2, \n     * take the width as `3`, then remove a strip from the top and bottom\n     * so that the height ends up as `2`. This weighs the 3:2 crop to the center.\n     * TODO adding an option to weigh to the edge of the image might be nice\n     */\n    var deltaFactor = (cropAspectRatio || 1) * 2;\n    var whDelta = Math.round((w - h) / deltaFactor);\n    var adjustedX0 = w > h ? x0 + whDelta : x0;\n    var adjustedY0 = h >= w ? y0 - whDelta : y0;\n    var whMin = Math.min(w, h);\n    var adjustedW = whMin;\n    var adjustedH = Math.round(whMin * cropAspectRatio);\n    var constrainToAspectRatio = Boolean(cropAspectRatio);\n    var region = !constrainToAspectRatio ? [x0, y0, w, h] : [adjustedX0, adjustedY0, adjustedW, adjustedH];\n\n    if (constrainToAspectRatio) {\n      // Indicate where the square crop is coming from with a polygon overlay\n      // that's removed after a second or two\n      var detailHighlightLayer = L.rectangle([L.point(adjustedX0, adjustedY0), // top left\n      L.point(adjustedX0 + adjustedW, adjustedY0 + adjustedH)].map(function (point) {\n        return map.unproject(point, zoom);\n      }));\n      setTimeout(function () {\n        return detailHighlightLayer.addTo(map);\n      }, 31);\n      setTimeout(function () {\n        return detailHighlightLayer.remove();\n      }, 3579);\n    }\n\n    var baseUrl = 'https://iiif.dx.artsmia.org';\n    var url = baseUrl + '/' + this.state.id + '.jpg/' + region.join(',') + '/800,/0/default.jpg';\n\n    this.setState({ iiifRegion: url });\n  },\n  imageStatus: function imageStatus() {\n    var _state2 = this.state,\n        art = _state2.art,\n        zoomLoaded = _state2.zoomLoaded,\n        zoomLoadComplete = _state2.zoomLoadComplete,\n        zoomLoading = _state2.zoomLoading;\n\n    var copyrightAndOnViewMessage = art.room && art.room[0] == 'G' ? \" (You'll have to come see it in person.)\" : '';\n    var loadingZoomMessage = '\\n      (\\u2014Is that the best image you\\'ve got!!?\\n      \\u2014Nope! We\\'re loading ' + humanizeNumber(this.getPixelDifference(800)) + ' more pixels right now.\\n      It can take a few seconds.)';\n    var showLoadingMessage = zoomLoading && zoomLoaded === false && !this.context.universal;\n    var showErrorMessage = zoomLoaded === 'error';\n    var smallViewport = this.context.smallViewport;\n\n\n    var showCopyrightNotice = !this.state.showBiggie;\n\n    return art.image === 'valid' && React.createElement(\n      'span',\n      { className: 'imageStatus' },\n      showLoadingMessage && loadingZoomMessage,\n      showErrorMessage && React.createElement(\n        'p',\n        null,\n        'Error loading high resolution image. ',\n        React.createElement(\n          'a',\n          { href: 'mailto:collectionsdata+images@artsmia.org' },\n          'Report this problem'\n        ),\n        '.'\n      ),\n      showCopyrightNotice && !smallViewport && \"Because of © restrictions, we can only show you a small image of this artwork.\" + copyrightAndOnViewMessage\n    );\n  },\n  calculateImagePixelSize: function calculateImagePixelSize(size) {\n    var _state$art = this.state.art,\n        image_width = _state$art.image_width,\n        image_height = _state$art.image_height;\n\n    var maxDimension = Math.max(image_width, image_height);\n    var size = size || maxDimension;\n    var ratio = Math.floor(maxDimension / size);\n\n    return Math.floor(image_width / ratio) * Math.floor(image_height / ratio);\n  },\n\n\n  // how many more pixels are in the full sized image than the given thumbnail?\n  getPixelDifference: function getPixelDifference() {\n    var size = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 800;\n\n    return Math.floor(this.calculateImagePixelSize() - this.calculateImagePixelSize(800));\n  },\n  isLoan: function isLoan() {\n    return this.state.art.accession_number.match(/^L/i);\n  },\n  notPublicAccess: function notPublicAccess() {\n    return isLoan(this.state.art) || _notPublicAccess(this.state.art) || process.env.NODE_ENV !== 'production';\n  },\n  toggleInfoAndRelatedContent: function toggleInfoAndRelatedContent(event) {\n    this.setState({ smallViewportShowInfoOrRelatedContent: !this.state.smallViewportShowInfoOrRelatedContent });\n    event.preventDefault();\n  }\n});\nArtwork.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n  smallViewport: React.PropTypes.bool,\n  clientIp: React.PropTypes.string\n};\n\nvar noImageStyle = {\n  wrapper: {\n    \"position\": 'absolute',\n    \"top\": '50%',\n    \"left\": '50%',\n    \"transform\": 'translate(-50%, -50%)',\n    \"WebkitTransform\": 'translate(-50%, -50%)',\n    \"width\": '77%',\n    \"textAlign\": 'center'\n  },\n  pattern: {}\n};\nvar NoImagePlaceholder = React.createClass({\n  displayName: 'NoImagePlaceholder',\n  render: function render() {\n    var art = this.props.art;\n\n    var model = art[\"related:3dmodels\"] && art[\"related:3dmodels\"][0];\n    return model ? React.createElement(SketchfabEmbed, { model: model }) : React.createElement(\n      'div',\n      { style: noImageStyle.wrapper },\n      React.createElement(\n        'div',\n        { className: 'noImage invalid' },\n        React.createElement(\n          'p',\n          null,\n          'No Image Available'\n        )\n      )\n    );\n  }\n});\n\nvar SketchfabEmbed = React.createClass({\n  displayName: 'SketchfabEmbed',\n  render: function render() {\n    var showHideStyle = {};\n    if (!this.props.show) showHideStyle.visibility = 'hidden';\n    return React.createElement(\n      'div',\n      { className: 'sketchfab-embed-wrapper', style: showHideStyle },\n      React.createElement('iframe', {\n        src: this.props.model.link + '/embed?autostart=1&preload=1&ui_infos=0',\n        frameborder: '0',\n        allowvr: true,\n        allowfullscreen: true, mozallowfullscreen: 'true', webkitallowfullscreen: 'true',\n        onmousewheel: '' })\n    );\n  }\n});\n\nmodule.exports = Artwork;\n\nfunction isLoan(art) {\n  return !!art.accession_number.match(/^L/i);\n}\nfunction _notPublicAccess(art) {\n  return art.public_access === '0';\n}\n\nvar IIIFCropper = React.createClass({\n  displayName: 'IIIFCropper',\n  getInitialState: function getInitialState(props) {\n    return {\n      isLoading: true,\n      squareSmartCrop: 'https://iiif.dx.artsmia.org/' + this.props.art.id + '.jpg/-1,-1,800,800/full/0/default.jpg',\n      cropSize: 800\n    };\n  },\n  render: function render() {\n    var _this3 = this;\n\n    var _props = this.props,\n        art = _props.art,\n        captureViewRegion = _props.captureViewRegion,\n        updateRegion = _props.updateRegion,\n        currentRegion = _props.currentRegion,\n        cropAspectRatio = _props.cropAspectRatio;\n    var _state3 = this.state,\n        isLoading = _state3.isLoading,\n        squareSmartCrop = _state3.squareSmartCrop,\n        cropSize = _state3.cropSize;\n\n    var isSquare = currentRegion === squareSmartCrop;\n    var getCropFromZoomer = function getCropFromZoomer() {\n      _this3.setState({ cropSize: 800 });\n      captureViewRegion();\n    };\n    var setSquareSmartCrop = function setSquareSmartCrop() {\n      return updateRegion({ iiifRegion: squareSmartCrop, cropAspectRatio: 1 });\n    };\n\n    var buttonStyles = {\n      color: 'white',\n      background: '#232323',\n      opacity: isLoading ? 0.3 : 1\n    };\n\n    var imgStyle = {\n      maxWidth: '100%',\n      maxHeight: '300px',\n      opacity: isLoading ? 0.3 : 1\n    };\n\n    var rawIIIFUrl = currentRegion || squareSmartCrop;\n    // TODO node v7 (running on the server) doesn't support capturing named groups?\n    // const iiifComponents = rawIIIFUrl.match(/.org\\/(?<id>[0-9]+).jpg\\/(?<region>[^/]+)\\/(?<size>[^/]+)\\/0\\/default.jpg/)\n    // const iiifSize = iiifComponents.groups.size\n    var iiifComponents = rawIIIFUrl.match(/.org\\/([0-9]+).jpg\\/([^/]+)\\/([^/]+)\\/0\\/default.jpg/);\n    var iiifSize = iiifComponents[3];\n    var iiifUrl = rawIIIFUrl.replace(iiifSize, cropSize === 'full' ? cropSize : cropSize + ',');\n\n    return React.createElement(\n      'div',\n      null,\n      iiifUrl && React.createElement(\n        'details',\n        { open: Boolean(currentRegion) },\n        React.createElement(\n          'summary',\n          null,\n          React.createElement(\n            'button',\n            { onClick: getCropFromZoomer, disabled: isLoading, style: buttonStyles },\n            '\\uD83D\\uDCF7 Save detail'\n          ),\n          ' ',\n          ' ',\n          !currentRegion || isSquare || React.createElement(\n            'button',\n            { onClick: setSquareSmartCrop, style: buttonStyles },\n            '\\u2702\\uFE0F  Smart Crop'\n          )\n        ),\n        React.createElement(\n          'figure',\n          { style: { margin: 0 } },\n          React.createElement(\n            'a',\n            { href: iiifUrl, target: '_blank' },\n            React.createElement('img', {\n              src: iiifUrl,\n              style: imgStyle,\n              onLoad: function onLoad() {\n                return _this3.setState({ isLoading: false });\n              },\n              onError: function onError() {\n                return _this3.setState({ isLoading: false, error: true });\n              }\n            })\n          ),\n          React.createElement(\n            'figcaption',\n            null,\n            isLoading || React.createElement(\n              'div',\n              null,\n              React.createElement(\n                'p',\n                null,\n                [400, 800, 1200, 'full'].map(function (size) {\n                  var sizeText = isNaN(size) ? 'full size' : size + 'px';\n                  return cropSize === size ? React.createElement(\n                    'span',\n                    { key: size, style: { padding: '0px 7px' } },\n                    sizeText\n                  ) : React.createElement(\n                    'button',\n                    { key: size, onClick: function onClick() {\n                        return _this3.setState({ cropSize: size, isLoading: true });\n                      }, style: buttonStyles },\n                    sizeText\n                  );\n                })\n              ),\n              React.createElement(\n                'label',\n                { style: { display: 'block' } },\n                React.createElement('input', {\n                  name: 'cropAspectRatio',\n                  type: 'radio',\n                  checked: cropAspectRatio !== 1 && cropAspectRatio !== 2 / 3,\n                  onClick: function onClick() {\n                    return updateRegion({ cropAspectRatio: null });\n                  }\n                }),\n                ' no aspect ratio',\n                React.createElement('input', {\n                  name: 'cropAspectRatio',\n                  type: 'radio',\n                  checked: cropAspectRatio === 1,\n                  onClick: function onClick() {\n                    return updateRegion({ cropAspectRatio: 1 });\n                  }\n                }),\n                ' square',\n                React.createElement('input', {\n                  name: 'cropAspectRatio',\n                  type: 'radio',\n                  checked: cropAspectRatio === 2 / 3,\n                  onClick: function onClick() {\n                    return updateRegion({ cropAspectRatio: 2 / 3 });\n                  }\n                }),\n                ' 3:2'\n              )\n            ),\n            React.createElement(\n              'p',\n              null,\n              'Zoom in on the left to the detail you\\'d like to save. Click \\'Save detail\\' and wait until the image updates. Right click the image to \\'save image as\\' or copy link, or click the image to open in a new tab.'\n            )\n          )\n        )\n      )\n    );\n  },\n  componentWillUpdate: function componentWillUpdate(nextProps, nextState) {\n    if (this.props.currentRegion !== nextProps.currentRegion) {\n      this.setState({ isLoading: true });\n    }\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFydHdvcmsuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiUm91dGVyIiwiTGluayIsInJlc3QiLCJodW1hbml6ZU51bWJlciIsIkhlbG1ldCIsImN4IiwiQXJ0d29ya0ltYWdlIiwiTWFya2Rvd24iLCJBcnR3b3JrUHJldmlldyIsIkFydHdvcmtEZXRhaWxzIiwiX0FydHdvcmsiLCJJbWFnZSIsImltYWdlQ0ROIiwiU0VBUkNIIiwic2VhcmNoIiwiQXJ0d29ya1JlbGF0ZWRDb250ZW50IiwiQXJ0d29ya1BhZ2VNZXRhZGF0YSIsInJpZ2h0c0Rlc2NyaXB0aW9ucyIsIkNsb3NlZEJhbm5lciIsIlN0aWNreSIsIkFydHdvcmsiLCJjcmVhdGVDbGFzcyIsIm1peGlucyIsIlN0YXRlIiwic3RhdGljcyIsImZldGNoRGF0YSIsImFydHdvcmsiLCJwYXJhbXMiLCJleGlzdGluZ0RhdGEiLCJpZCIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsInIiLCJKU09OIiwicGFyc2UiLCJlbnRpdHkiLCJhcnQiLCJzbHVnIiwiY2hlY2tSb3V0ZSIsImNhbGxiYWNrIiwiZXhpc3RpbmdBcnQiLCJ3aW5kb3ciLCJfX0RBVEFfXyIsImlzTG9hbiIsIm5vdFB1YmxpY0FjY2VzcyIsInByaXZpbGVnZWRDbGllbnRJUCIsIndpbGxUcmFuc2l0aW9uVG8iLCJ0cmFuc2l0aW9uIiwicXVlcnkiLCJyZWRpcmVjdCIsInN0YXR1cyIsImVyciIsInJlbmRlciIsInN0YXRlIiwicHJvcHMiLCJoaWdobGlnaHRzIiwic3RpY2t5TWFwU3R5bGUiLCJjb250ZXh0IiwidW5pdmVyc2FsIiwicG9zaXRpb24iLCJzbWFsbFZpZXdwb3J0IiwicGFnZVRpdGxlIiwidGl0bGUiLCJyZXBsYWNlIiwiQ3JlYXRvciIsImdldEZhY2V0QW5kVmFsdWUiLCJmaWx0ZXIiLCJlIiwiam9pbiIsImltYWdlVXJsIiwiaW1hZ2VfdXJsIiwiY2Fub25pY2FsVVJMIiwiYXNwZWN0UmF0aW8iLCJpbWFnZV93aWR0aCIsImltYWdlX2hlaWdodCIsIm1hcEhlaWdodCIsImltYWdlIiwiTWF0aCIsIm1heCIsIm1pbiIsInNob3czZCIsIm1heFdpZHRoIiwibWF4SGVpZ2h0Iiwic2hvd01vcmVJY29uIiwiT2JqZWN0Iiwia2V5cyIsImtleSIsIm1hdGNoIiwibGVuZ3RoIiwiZnVsbHNjcmVlbkltYWdlIiwidG9nZ2xlUmVsYXRlZCIsInNtYWxsVmlld3BvcnRTaG93SW5mb09yUmVsYXRlZENvbnRlbnQiLCJpbmZvUmVsYXRlZFRvZ2dsZVN0eWxlcyIsInpJbmRleCIsInJpZ2h0IiwiYm90dG9tIiwiY29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXJSYWRpdXMiLCJsaW5lSGVpZ2h0IiwicGFkZGluZyIsImV4cGxvcmVTdHlsZSIsImRpc3BsYXkiLCJ0cmFuc2Zvcm0iLCJwYWRkaW5nTGVmdCIsImV4cGxvcmVJY29uIiwidG9nZ2xlSW5mb0FuZFJlbGF0ZWRDb250ZW50Iiwid2lkdGgiLCJyZWxhdGVkQ29udGVudCIsIm1hcFN0eWxlIiwiaGVpZ2h0Iiwiem9vbUxvYWRlZCIsInpvb21Mb2FkQ29tcGxldGUiLCJ6b29tTG9hZGVkU3VjY2Vzc2Z1bGx5IiwicmlnaHRzIiwiZ2V0UmlnaHRzIiwibWFwIiwiaGFzM2QiLCJpbWFnZV9jb3B5cmlnaHQiLCJmb250U2l6ZSIsImRlY29kZVVSSUNvbXBvbmVudCIsImltYWdlU3RhdHVzIiwic2hvd0Nyb3BVSSIsInNob3dCaWdnaWUiLCJkZXRhaWxDcm9wcGVyIiwibWFyZ2luVG9wIiwiY2FwdHVyZVZpZXdSZWdpb24iLCJhcmdzIiwic2V0U3RhdGUiLCJpaWlmUmVnaW9uIiwiY3JvcEFzcGVjdFJhdGlvIiwiaW5mbyIsImNoaWxkcmVuIiwibWFyZ2luIiwic2hvd0xpbmsiLCJ0b2dnbGUzZCIsInNob3dMaW5rQ29tcG9uZW50IiwiaGlzdG9yeSIsImdvIiwic21hbGxWaWV3cG9ydFdpdGhUYWJiZWRJbmZvQW5kUmVsYXRlZCIsImNvbnRlbnQiLCJ0b3AiLCJyZXNpemVNYXAiLCJzbWFsbHZpZXdwb3J0IiwibmV4dFNob3czZCIsImxvYWRab29tIiwiZ2V0SW5pdGlhbFN0YXRlIiwiZGF0YSIsImlzTmFOIiwiaGFzM0Rtb2RlbCIsIm5hdmlnYXRlZEZyb20zZE1vZGVsU2VhcmNoIiwibGFzdFNlYXJjaGVkVGVybXMiLCJpbmRleE9mIiwicmVzdHJpY3RlZCIsImVudGVyZWRWaWFNb3JlIiwic2hvdWxkQ29tcG9uZW50VXBkYXRlIiwicHJldlByb3BzIiwicHJldlN0YXRlIiwiY29tcG9uZW50RGlkTW91bnQiLCJpbml0VmlldyIsInJlc2V0Iiwib2ZmIiwicmVtb3ZlIiwidW5kZWZpbmVkIiwidGlsZXMiLCJzY3JvbGxYIiwic2V0VGltZW91dCIsInNjcm9sbFRvIiwiY29tcG9uZW50RGlkVXBkYXRlIiwibGFzdFNtYWxsVmlld3BvcnRTZXR0aW5nIiwib3B0aW9ucyIsIkwiLCJMaWlpZiIsImZ1bGxzY3JlZW4iLCJ6b29tTG9hZGluZyIsImlpaWYwVXJsIiwiaWlpZlVybCIsInJlc3BvbnNlIiwicmVqZWN0IiwiRXJyb3IiLCJyZWZzIiwiY3JzIiwiQ1JTIiwiU2ltcGxlIiwiem9vbUNvbnRyb2wiLCJ6b29tU25hcCIsIl9tYXAiLCJhdHRyaWJ1dGlvbkNvbnRyb2wiLCJzZXRQcmVmaXgiLCJzaG93Wm9vbUNvbnRyb2xzSWZEZXNrdG9wIiwiQnJvd3NlciIsInRvdWNoIiwiaW5uZXJXaWR0aCIsIkNvbnRyb2wiLCJab29tIiwiYWRkVG8iLCJGdWxsc2NyZWVuIiwicHNldWRvRnVsbHNjcmVlbiIsInRpbGVMYXllciIsImlpaWYiLCJhdHRyaWJ1dGlvbiIsImZpdEJvdW5kcyIsInNldE1heEJvdW5kcyIsInRpbGVTaXplIiwiZnVkZ2VUaWxlU2l6ZSIsImlpaWZJbWFnZURhdGEiLCJzZXRWaWV3IiwiX3RpbGVzIiwib24iLCJldmVudCIsImdldE1pblpvb20iLCJtaW5ab29tIiwiZ2V0Wm9vbSIsImNvbnNvbGUiLCJzZXRNaW5ab29tIiwidG9nZ2xlQXBwSGVhZGVyIiwiaW50ZXJ2YWwiLCJ0aWxlQ29udGFpbmVyIiwiX21hcFBhbmUiLCJxdWVyeVNlbGVjdG9yIiwidGlsZUVsZW1zIiwiY2hpbGRFbGVtZW50Q291bnQiLCJnZXRNYXhab29tIiwic2V0Wm9vbSIsInpvb21Db3VudCIsInpvb21JbkNvdW50Iiwiem9vbU91dENvdW50IiwicHJldlpvb20iLCJub3dab29tIiwicmVjZW50bHlBdXRvWm9vbWVkIiwiaXNTZWNvbmRab29tSW5BY3Rpb24iLCJyZWFzb25zVG9DaGFuZ2VGdWxsc2NyZWVuIiwidHlwZSIsImlzRnVsbHNjcmVlbiIsImZpbmQiLCJyZWFzb24iLCJ0b2dnbGVGdWxsc2NyZWVuIiwiY2xlYXJUaW1lb3V0Iiwiem9vbUNvdW50UmVzZXRUaW1lciIsImNhdGNoIiwiaW52YWxpZGF0ZVNpemUiLCJpaWlmTGF5ZXIiLCJib3VuZHMiLCJnZXRCb3VuZHMiLCJmcmFjdGlvbmFsWm9vbSIsInpvb20iLCJmbG9vciIsInByb2plY3QiLCJnZXRTb3V0aFdlc3QiLCJnZXROb3J0aEVhc3QiLCJpbWFnZVNpemUiLCJfaW1hZ2VTaXplcyIsInhSYXRpbyIsIngiLCJ5UmF0aW8iLCJ5IiwieDAiLCJ5MCIsInciLCJoIiwiZGVsdGFGYWN0b3IiLCJ3aERlbHRhIiwicm91bmQiLCJhZGp1c3RlZFgwIiwiYWRqdXN0ZWRZMCIsIndoTWluIiwiYWRqdXN0ZWRXIiwiYWRqdXN0ZWRIIiwiY29uc3RyYWluVG9Bc3BlY3RSYXRpbyIsIkJvb2xlYW4iLCJyZWdpb24iLCJkZXRhaWxIaWdobGlnaHRMYXllciIsInJlY3RhbmdsZSIsInBvaW50IiwidW5wcm9qZWN0IiwiYmFzZVVybCIsInVybCIsImNvcHlyaWdodEFuZE9uVmlld01lc3NhZ2UiLCJyb29tIiwibG9hZGluZ1pvb21NZXNzYWdlIiwiZ2V0UGl4ZWxEaWZmZXJlbmNlIiwic2hvd0xvYWRpbmdNZXNzYWdlIiwic2hvd0Vycm9yTWVzc2FnZSIsInNob3dDb3B5cmlnaHROb3RpY2UiLCJjYWxjdWxhdGVJbWFnZVBpeGVsU2l6ZSIsInNpemUiLCJtYXhEaW1lbnNpb24iLCJyYXRpbyIsImFjY2Vzc2lvbl9udW1iZXIiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJwcmV2ZW50RGVmYXVsdCIsImNvbnRleHRUeXBlcyIsInJvdXRlciIsIlByb3BUeXBlcyIsImZ1bmMiLCJib29sIiwiY2xpZW50SXAiLCJzdHJpbmciLCJub0ltYWdlU3R5bGUiLCJ3cmFwcGVyIiwicGF0dGVybiIsIk5vSW1hZ2VQbGFjZWhvbGRlciIsIm1vZGVsIiwiU2tldGNoZmFiRW1iZWQiLCJzaG93SGlkZVN0eWxlIiwic2hvdyIsInZpc2liaWxpdHkiLCJsaW5rIiwibW9kdWxlIiwiZXhwb3J0cyIsInB1YmxpY19hY2Nlc3MiLCJJSUlGQ3JvcHBlciIsImlzTG9hZGluZyIsInNxdWFyZVNtYXJ0Q3JvcCIsImNyb3BTaXplIiwidXBkYXRlUmVnaW9uIiwiY3VycmVudFJlZ2lvbiIsImlzU3F1YXJlIiwiZ2V0Q3JvcEZyb21ab29tZXIiLCJzZXRTcXVhcmVTbWFydENyb3AiLCJidXR0b25TdHlsZXMiLCJiYWNrZ3JvdW5kIiwib3BhY2l0eSIsImltZ1N0eWxlIiwicmF3SUlJRlVybCIsImlpaWZDb21wb25lbnRzIiwiaWlpZlNpemUiLCJlcnJvciIsInNpemVUZXh0IiwiY29tcG9uZW50V2lsbFVwZGF0ZSIsIm5leHRQcm9wcyIsIm5leHRTdGF0ZSJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQUlBLFFBQVFDLFFBQVEsT0FBUixDQUFaO0FBQ0EsSUFBSUMsU0FBU0QsUUFBUSxjQUFSLENBQWI7SUFDS0UsSSxHQUFRRCxNLENBQVJDLEk7O0FBQ0wsSUFBSUMsT0FBT0gsUUFBUSxNQUFSLENBQVg7QUFDQSxJQUFJSSxpQkFBaUJKLFFBQVEsaUJBQVIsQ0FBckI7QUFDQSxJQUFJSyxTQUFTTCxRQUFRLGNBQVIsQ0FBYjtBQUNBLElBQUlNLEtBQUtOLFFBQVEsWUFBUixDQUFUOztBQUVBLElBQUlPLGVBQWVQLFFBQVEsaUJBQVIsQ0FBbkI7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LEtBQTZCYyxVQUFVZCxhQUEzQyxFQUEwRDtBQUN4RCxXQUFLOUwsUUFBTCxDQUFjLEVBQUMwTCxXQUFXLElBQVosRUFBZDtBQUNEO0FBQ0Y7QUFsR2lDLENBQWxCLENBQWxCIiwiZmlsZSI6ImFydHdvcmsuanMiLCJzb3VyY2VSb290IjoiL3Zhci93d3cvYXJ0L3NyYyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHtMaW5rfSA9IFJvdXRlclxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcbnZhciBodW1hbml6ZU51bWJlciA9IHJlcXVpcmUoJ2h1bWFuaXplLW51bWJlcicpXG52YXIgSGVsbWV0ID0gcmVxdWlyZSgncmVhY3QtaGVsbWV0JylcbnZhciBjeCA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKVxuXG52YXIgQXJ0d29ya0ltYWdlID0gcmVxdWlyZSgnLi9hcnR3b3JrLWltYWdlJylcbnZhciBNYXJrZG93biA9IHJlcXVpcmUoJy4vbWFya2Rvd24nKVxudmFyIEFydHdvcmtQcmV2aWV3ID0gcmVxdWlyZSgnLi9hcnR3b3JrLXByZXZpZXcnKVxudmFyIEFydHdvcmtEZXRhaWxzID0gcmVxdWlyZSgnLi9hcnR3b3JrLWRldGFpbHMnKVxudmFyIF9BcnR3b3JrID0gcmVxdWlyZSgnLi9fYXJ0d29yaycpXG52YXIgSW1hZ2UgPSByZXF1aXJlKCcuL2ltYWdlJylcbnZhciBpbWFnZUNETiA9IHJlcXVpcmUoJy4vaW1hZ2UtY2RuJylcbnZhciBTRUFSQ0ggPSByZXF1aXJlKCcuL2VuZHBvaW50cycpLnNlYXJjaFxudmFyIEFydHdvcmtSZWxhdGVkQ29udGVudCA9IHJlcXVpcmUoJy4vYXJ0d29yay1yZWxhdGVkJylcbnZhciBBcnR3b3JrUGFnZU1ldGFkYXRhID0gcmVxdWlyZSgnLi9hcnR3b3JrL3BhZ2UtbWV0YWRhdGEnKVxudmFyIHJpZ2h0c0Rlc2NyaXB0aW9ucyA9IHJlcXVpcmUoJy4vcmlnaHRzLXR5cGVzLmpzJylcbnZhciBDbG9zZWRCYW5uZXIgPSByZXF1aXJlKCcuL211c2V1bS1jbG9zZWQtYmFubmVyJylcblxudmFyIFN0aWNreSA9IHJlcXVpcmUoJ3JlYWN0LXN0aWNreScpXG5cbnZhciBBcnR3b3JrID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBtaXhpbnM6IFtSb3V0ZXIuU3RhdGVdLFxuICBzdGF0aWNzOiB7XG4gICAgZmV0Y2hEYXRhOiB7XG4gICAgICBhcnR3b3JrOiAocGFyYW1zLCBleGlzdGluZ0RhdGEpID0+IHtcbiAgICAgICAgaWYoZXhpc3RpbmdEYXRhICYmIGV4aXN0aW5nRGF0YS5pZCAmJiBleGlzdGluZ0RhdGEuaWQgPT0gcGFyYW1zLmlkKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGV4aXN0aW5nRGF0YSlcbiAgICAgICAgcmV0dXJuIHJlc3QoYCR7U0VBUkNIfS9pZC9gK3BhcmFtcy5pZClcbiAgICAgICAgLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpKVxuICAgICAgICAudGhlbihhcnQgPT4ge1xuICAgICAgICAgIGFydC5zbHVnID0gX0FydHdvcmsuc2x1ZyhhcnQpXG4gICAgICAgICAgcmV0dXJuIGFydFxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICB9LFxuXG4gICAgY2hlY2tSb3V0ZTogKHBhcmFtcywgY2FsbGJhY2spID0+IHtcbiAgICAgIHZhciBleGlzdGluZ0FydCA9IHdpbmRvdy5fX0RBVEFfXyAmJiB3aW5kb3cuX19EQVRBX18uYXJ0d29ya1xuXG4gICAgICByZXR1cm4gQXJ0d29yay5mZXRjaERhdGEuYXJ0d29yayhwYXJhbXMsIGV4aXN0aW5nQXJ0KS50aGVuKGFydCA9PiB7XG4gICAgICAgIHdpbmRvdy5fX0RBVEFfXyA9IHthcnR3b3JrOiBhcnR9XG4gICAgICAgIGlmKGFydC5zbHVnICE9PSBwYXJhbXMuc2x1Zykge1xuICAgICAgICAgIHBhcmFtcy5zbHVnID0gYXJ0LnNsdWdcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soJ21pc21hdGNoZWQgc2x1ZycsIGFydClcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKChpc0xvYW4oYXJ0KSB8fCBub3RQdWJsaWNBY2Nlc3MoYXJ0KSkgJiYgIXdpbmRvdy5wcml2aWxlZ2VkQ2xpZW50SVApIHtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soJ3Blcm1pc3Npb24gZGVuaWVkJywgYXJ0KVxuICAgICAgICB9XG5cbiAgICAgICAgY2FsbGJhY2soZmFsc2UsIGFydClcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIHdpbGxUcmFuc2l0aW9uVG86IGZ1bmN0aW9uICh0cmFuc2l0aW9uLCBwYXJhbXMsIHF1ZXJ5LCBjYWxsYmFjaykge1xuICAgICAgaWYocGFyYW1zLmlkID09PSAnbGVhZmxldC1zcmMuanMubWFwJylcbiAgICAgICAgcmV0dXJuIHRyYW5zaXRpb24ucmVkaXJlY3QoJ2hvbWUnLCB7Li4ucGFyYW1zLCBzdGF0dXM6IDQwNH0pXG5cbiAgICAgIEFydHdvcmsuY2hlY2tSb3V0ZShwYXJhbXMsIChlcnIpID0+IHtcbiAgICAgICAgc3dpdGNoKGVycikge1xuICAgICAgICAgIGNhc2UgJ21pc21hdGNoZWQgc2x1Zyc6IHRyYW5zaXRpb24ucmVkaXJlY3QoJ2FydHdvcmtTbHVnJywgcGFyYW1zKVxuICAgICAgICAgIGNhc2UgJ3Blcm1pc3Npb24gZGVuaWVkJzogdHJhbnNpdGlvbi5yZWRpcmVjdCgnaG9tZScsIHsuLi5wYXJhbXMsIHN0YXR1czogNDAzfSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC50aGVuKGNhbGxiYWNrKVxuICAgIH0sXG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciBhcnQgPSB0aGlzLnN0YXRlLmFydFxuICAgIHZhciBpZCA9IHRoaXMucHJvcHMuaWQgfHwgdGhpcy5zdGF0ZS5pZFxuICAgIGNvbnN0IGhpZ2hsaWdodHMgPSB0aGlzLnByb3BzLmhpZ2hsaWdodHNcbiAgICB2YXIgc3RpY2t5TWFwU3R5bGUgPSB0aGlzLmNvbnRleHQudW5pdmVyc2FsID8ge3Bvc2l0aW9uOiAnZml4ZWQnfSA6IHt9XG4gICAgdmFyIHtzbWFsbFZpZXdwb3J0fSA9IHRoaXMuY29udGV4dFxuXG4gICAgdmFyIHBhZ2VUaXRsZSA9IFtcbiAgICAgIGFydC50aXRsZS5yZXBsYWNlKC88W14gXSs/Pi9nLCAnXCInKSxcbiAgICAgIF9BcnR3b3JrLkNyZWF0b3IuZ2V0RmFjZXRBbmRWYWx1ZShhcnQpWzFdXG4gICAgXS5maWx0ZXIoZSA9PiBlKS5qb2luKCcsICcpXG5cbiAgICB2YXIgaW1hZ2VVcmwgPSBhcnQuaW1hZ2VfdXJsIHx8IGltYWdlQ0ROKGlkKVxuICAgIHZhciBjYW5vbmljYWxVUkwgPSBgaHR0cHM6Ly9jb2xsZWN0aW9ucy5hcnRzbWlhLm9yZy9hcnQvJHthcnQuaWR9LyR7YXJ0LnNsdWd9YFxuXG4gICAgdmFyIGFzcGVjdFJhdGlvID0gYXJ0LmltYWdlX3dpZHRoL2FydC5pbWFnZV9oZWlnaHRcbiAgICB2YXIgbWFwSGVpZ2h0ID0gYXNwZWN0UmF0aW8gJiYgYXJ0LmltYWdlID09IFwidmFsaWRcIiA/XG4gICAgICBNYXRoLm1heCg0MCwgTWF0aC5taW4oNjUsIDEvYXNwZWN0UmF0aW8qODApKSA6XG4gICAgICAyMFxuICAgIGlmKHNtYWxsVmlld3BvcnQgJiYgdGhpcy5zdGF0ZS5zaG93M2QpIG1hcEhlaWdodCA9IDY3XG5cbiAgICB2YXIgaW1hZ2UgPSA8SW1hZ2UgYXJ0PXthcnR9IHN0eWxlPXt7bWF4V2lkdGg6ICc5NSUnLCBtYXhIZWlnaHQ6IG1hcEhlaWdodC01Kyd2aCd9fSAvPlxuXG4gICAgdmFyIHNob3dNb3JlSWNvbiA9IE9iamVjdC5rZXlzKGFydCkuZmlsdGVyKGtleSA9PiBrZXkubWF0Y2goL3JlbGF0ZWQ6LykgJiYgIWtleS5tYXRjaCgvcmVsYXRlZDpleGhpYml0aW9ucy8pKS5sZW5ndGggPiAwICYmXG4gICAgICAhdGhpcy5zdGF0ZS5mdWxsc2NyZWVuSW1hZ2VcbiAgICB2YXIgdG9nZ2xlUmVsYXRlZCA9IHRoaXMuc3RhdGUuc21hbGxWaWV3cG9ydFNob3dJbmZvT3JSZWxhdGVkQ29udGVudFxuICAgIHZhciBpbmZvUmVsYXRlZFRvZ2dsZVN0eWxlcyA9IHtcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgekluZGV4OiAnMTAwMDAnLFxuICAgICAgcmlnaHQ6ICc3cHgnLFxuICAgICAgYm90dG9tOiAnN3B4JyxcbiAgICAgIGNvbG9yOiAnIzIzMjMyMycsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNyknLFxuICAgICAgYm9yZGVyUmFkaXVzOiAnMWVtJyxcbiAgICAgIGxpbmVIZWlnaHQ6ICcwLjNlbScsXG4gICAgICBwYWRkaW5nOiAnMC4zZW0nLFxuICAgIH1cbiAgICB2YXIgZXhwbG9yZVN0eWxlID0ge1xuICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoLTEzcHgpJyxcbiAgICAgIHBhZGRpbmdMZWZ0OiAnMmVtJyxcbiAgICAgIC8vIFRPRE8gLSB1c2UgYSBiYWNrZ3JvdW5kIGltYWdlIHRvIGNlbnRlciB0aGlzIGJldHRlcj9cbiAgICAgIC8vIGJ1dCBpdCdzIGhhcmQgYmVjYXVzZSBvbmUgdGhpbmcgd2Ugd2FudCB0byB1c2UgaXMgYSBmb250IGljb25cbiAgICAgIC8vIGFuZCB0aGUgb3RoZXIgaXMgYW4gc3Zn4oCmXG4gICAgICAvLyBiYWNrZ3JvdW5kSW1hZ2U6ICd1cmwoL2ltYWdlcy9tb3JlLnN2ZyknLFxuICAgICAgLy8gYmFja2dyb3VuZFBvc2l0aW9uOiAnbGVmdCBjZW50ZXInLFxuICAgICAgLy8gYmFja2dyb3VuZFJlcGVhdDogJ25vbmUnLFxuICAgIH1cbiAgICB2YXIgZXhwbG9yZUljb24gPSBzaG93TW9yZUljb24gJiZcbiAgICAgIDxhIGhyZWY9XCIjXCIgb25DbGljaz17dGhpcy50b2dnbGVJbmZvQW5kUmVsYXRlZENvbnRlbnR9IHN0eWxlPXtpbmZvUmVsYXRlZFRvZ2dsZVN0eWxlc30+XG4gICAgICAgIHshdG9nZ2xlUmVsYXRlZCA/XG4gICAgICAgICAgPGltZyBzcmM9XCIvaW1hZ2VzL21vcmUuc3ZnXCIgc3R5bGU9e3t3aWR0aDogJzEuN2VtJ319Lz4gOlxuICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImNvbnRyb2wgbWF0ZXJpYWwtaWNvbnNcIj5pbmZvPC9pPn1cbiAgICAgICAgPHNwYW4gc3R5bGU9e2V4cGxvcmVTdHlsZX0+XG4gICAgICAgICAgeyF0b2dnbGVSZWxhdGVkID8gJ0V4cGxvcmUnIDogJ0luZm8nfVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2E+XG4gICAgdmFyIHJlbGF0ZWRDb250ZW50ID0gPEFydHdvcmtSZWxhdGVkQ29udGVudCBpZD17aWR9IGFydD17YXJ0fSAvPlxuXG4gICAgdmFyIG1hcFN0eWxlID0gc21hbGxWaWV3cG9ydCA/XG4gICAgICB7d2lkdGg6ICcxMDAlJywgZGlzcGxheTogJ2lubGluZS1ibG9jaycsIGhlaWdodDogbWFwSGVpZ2h0Kyd2aCd9IDpcbiAgICAgIHN0aWNreU1hcFN0eWxlXG5cbiAgICB2YXIge3pvb21Mb2FkZWQsIHpvb21Mb2FkQ29tcGxldGV9ID0gdGhpcy5zdGF0ZVxuICAgIHZhciB6b29tTG9hZGVkU3VjY2Vzc2Z1bGx5ID0gem9vbUxvYWRlZCAmJiB6b29tTG9hZGVkICE9PSAnZXJyb3InICYmIHpvb21Mb2FkQ29tcGxldGVcblxuICAgIHZhciByaWdodHMgPSByaWdodHNEZXNjcmlwdGlvbnMuZ2V0UmlnaHRzKGFydClcbiAgICB2YXIgbWFwID0gPGRpdiByZWY9J21hcCcgaWQ9J21hcCcgc3R5bGU9e21hcFN0eWxlfSBjbGFzc05hbWU9e1snbGVhZmxldC1jb250YWluZXInLCB6b29tTG9hZGVkU3VjY2Vzc2Z1bGx5ICYmICd6b29tTG9hZGVkJ10uam9pbignICcpfT5cbiAgICAgIHt0aGlzLnN0YXRlLmhhczNkICYmIDxTa2V0Y2hmYWJFbWJlZCBtb2RlbD17dGhpcy5zdGF0ZS5oYXMzZH0gc2hvdz17dGhpcy5zdGF0ZS5zaG93M2R9IC8+fVxuICAgICAgeyhhcnQuaW1hZ2UgPT0gJ3ZhbGlkJyAmJiByaWdodHMgIT09ICdQZXJtaXNzaW9uIERlbmllZCcpICYmIDxkaXYgaWQ9XCJzdGF0aWNJbWFnZVwiIGNsYXNzTmFtZT17em9vbUxvYWRlZFN1Y2Nlc3NmdWxseSAmJiAnem9vbUxvYWRlZCd9PlxuICAgICAgICB7aW1hZ2V9XG4gICAgICAgIHshIXpvb21Mb2FkZWQgfHwgKGFydC5pbWFnZV9jb3B5cmlnaHQgJiYgPHAgc3R5bGU9e3tmb250U2l6ZTogJzAuOGVtJ319PntkZWNvZGVVUklDb21wb25lbnQoYXJ0LmltYWdlX2NvcHlyaWdodCl9PC9wPil9XG4gICAgICA8L2Rpdj4gfHwgPE5vSW1hZ2VQbGFjZWhvbGRlciBhcnQ9e2FydH0gLz59XG4gICAgICB7dGhpcy5pbWFnZVN0YXR1cygpfVxuICAgICAge3NtYWxsVmlld3BvcnQgJiYgc2hvd01vcmVJY29uICYmIGV4cGxvcmVJY29ufVxuICAgIDwvZGl2PlxuXG4gICAgdmFyIHNob3dDcm9wVUkgPSB0aGlzLnN0YXRlLnNob3dCaWdnaWVcbiAgICB2YXIgZGV0YWlsQ3JvcHBlciA9IHNob3dDcm9wVUkgJiYgPGRpdiBzdHlsZT17e21hcmdpblRvcDogJzFlbSd9fT5cbiAgICAgIDxJSUlGQ3JvcHBlclxuICAgICAgICBjYXB0dXJlVmlld1JlZ2lvbj17dGhpcy5jYXB0dXJlVmlld1JlZ2lvbn1cbiAgICAgICAgdXBkYXRlUmVnaW9uPXsoYXJncykgPT4gdGhpcy5zZXRTdGF0ZShhcmdzKX1cbiAgICAgICAgY3VycmVudFJlZ2lvbj17dGhpcy5zdGF0ZS5paWlmUmVnaW9ufVxuICAgICAgICBjcm9wQXNwZWN0UmF0aW89e3RoaXMuc3RhdGUuY3JvcEFzcGVjdFJhdGlvfVxuICAgICAgICBhcnQ9e2FydH1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG5cbiAgICB2YXIgaW5mbyA9IDxkaXYgY2xhc3NOYW1lPSdpbmZvJz5cbiAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVuIHx8IDxkaXY+XG4gICAgICAgIHtzbWFsbFZpZXdwb3J0ICYmIDxkaXYgc3R5bGU9e3ttYXJnaW46ICctMmVtIDAgMWVtIDAnfX0+e2RldGFpbENyb3BwZXJ9PC9kaXY+fVxuICAgICAgICA8QXJ0d29ya1ByZXZpZXcgYXJ0PXthcnR9IHNob3dMaW5rPXt0aGlzLnByb3BzLnNob3dMaW5rfSBzaG93RHVwbGljYXRlRGV0YWlscz17dHJ1ZX0gLz5cbiAgICAgICAge3RoaXMuc3RhdGUuaGFzM2QgJiYgPGRpdiBjbGFzc05hbWU9XCJpbWFnZXNcIj5cbiAgICAgICAgICA8cCBvbkNsaWNrPXt0aGlzLnRvZ2dsZTNkfT57dGhpcy5zdGF0ZS5zaG93M2QgPyAnc2hvdyBoaWdoLXJlcyBpbWFnZScgOiAnc2hvdyAzRCBtb2RlbCd9PC9wPiBcbiAgICAgICAgPC9kaXY+fVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJhY2stYnV0dG9uXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuc2hvd0xpbmtDb21wb25lbnQgfHwgKHdpbmRvdy5oaXN0b3J5ICYmIGhpc3RvcnkubGVuZ3RoID4gMSA/IDxhIGhyZWY9XCIjXCIgb25DbGljaz17KCkgPT4gaGlzdG9yeS5nbygtMSl9PlxuICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbnNcIj5hcnJvd19iYWNrPC9pPiBiYWNrXG4gICAgICAgICAgPC9hPiA6IDxMaW5rIHRvPVwiL1wiPjxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zXCI+YXJyb3dfYmFjazwvaT4gaG9tZTwvTGluaz4pfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3NtYWxsVmlld3BvcnQgfHwgcmVsYXRlZENvbnRlbnR9XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGg1IGNsYXNzTmFtZT0nZGV0YWlscy10aXRsZSc+RGV0YWlsczwvaDU+XG4gICAgICAgICAgPEFydHdvcmtEZXRhaWxzIGFydD17YXJ0fSBzaG93M2Q9e3RoaXMuc3RhdGUuc2hvdzNkfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2Pn1cbiAgICAgIDxDbG9zZWRCYW5uZXIgLz5cblxuICAgICAge3NtYWxsVmlld3BvcnQgfHwgZGV0YWlsQ3JvcHBlcn1cblxuICAgICAge2ZhbHNlICYmIDxhIGhyZWY9e2A/bWFuaWZlc3Q9aHR0cHM6Ly9paWlmLmR4LmFydHNtaWEub3JnLyR7dGhpcy5zdGF0ZS5pZH0uanBnL21hbmlmZXN0Lmpzb25gfT5cbiAgICAgICAgPGltZyBzcmM9XCJpaWlmLWRyYWduZHJvcC0xMDBweC5wbmdcIiBhbHQ9XCJJSUlGIERyYWctbi1kcm9wXCIgLz4gSUlJRiFcbiAgICAgIDwvYT59XG4gICAgPC9kaXY+XG5cbiAgICB2YXIgc21hbGxWaWV3cG9ydFdpdGhUYWJiZWRJbmZvQW5kUmVsYXRlZCA9IDxkaXY+XG4gICAgICA8ZGl2IHN0eWxlPXt7ZGlzcGxheTogISF0b2dnbGVSZWxhdGVkID8gJ25vbmUnIDogJ2Jsb2NrJ319PntpbmZvfTwvZGl2PlxuICAgICAgPGRpdiBzdHlsZT17e2Rpc3BsYXk6ICF0b2dnbGVSZWxhdGVkID8gJ25vbmUnIDogJ2Jsb2NrJ319PjxkaXYgY2xhc3NOYW1lPSdpbmZvJz57cmVsYXRlZENvbnRlbnR9PC9kaXY+PC9kaXY+XG4gICAgPC9kaXY+XG4gICAgLy8gVE9ETzogc2hvdWxkIHRoZSByZWxhdGVkIGNvbnRlbnQgYmUgaW4gYm90aCB0aGUgaW5mbyBhbmQgbW9yZS1zcGVjaWZpYyB2aWV3P1xuICAgIC8vIHJlYWN0IGNhbid0IGdyYWR0IGFuIDxhdWRpbz4gdGFnIHdoaWxlIHBsYXlpbmcsIHNvIHNob3dpbmcgaXQgaW4gYm90aCBwbGFjZXMgbWFrZXMgdGhlIHBsYXliYWNrIHdlaXJkLlxuICAgIC8vIGNvZGUgYmVsb3cgaW4gY2FzZSB0aGlzIG5lZWRzIHRvIGJlIHJldmlzaXRlZFxuICAgIC8vIHsoc21hbGxWaWV3cG9ydCAmJiB0b2dnbGVSZWxhdGVkKSB8fCByZWxhdGVkQ29udGVudH0gPC0gZ29lcyBpbnRvIGluZm8gZGl2XG4gICAgLy8gdmFyIHNtYWxsVmlld3BvcnRXaXRoVGFiYmVkSW5mb0FuZFJlbGF0ZWQgPSAhdG9nZ2xlUmVsYXRlZCA/IFxuICAgIC8vICAgaW5mbyA6XG4gICAgLy8gICA8ZGl2IGNsYXNzTmFtZT1cImluZm9cIj57cmVsYXRlZENvbnRlbnR9PC9kaXY+XG5cbiAgICB2YXIgY29udGVudFxuICAgIGlmKHNtYWxsVmlld3BvcnQpIHtcbiAgICAgIGNvbnRlbnQgPSA8ZGl2PlxuICAgICAgICB7bWFwfVxuICAgICAgICB7c21hbGxWaWV3cG9ydFdpdGhUYWJiZWRJbmZvQW5kUmVsYXRlZH1cbiAgICAgIDwvZGl2PlxuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZW50ID0gPGRpdj5cbiAgICAgICAge2luZm99XG5cbiAgICAgICAgPFN0aWNreVxuICAgICAgICAgIHN0aWNreVN0eWxlPXt7cG9zaXRpb246ICdmaXhlZCcsIGhlaWdodDogJzEwMCUnLCB3aWR0aDogJzY1JScsIHRvcDogMCwgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoMHB4LDBweCwwcHgpJ319XG4gICAgICAgICAgb25TdGlja3lTdGF0ZUNoYW5nZT17dGhpcy5yZXNpemVNYXB9PlxuICAgICAgICAgIHttYXB9XG4gICAgICAgIDwvU3RpY2t5PlxuICAgICAgPC9kaXY+XG4gICAgfVxuXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXtjeCgnYXJ0d29yaycsIHtzbWFsbHZpZXdwb3J0OiBzbWFsbFZpZXdwb3J0fSl9PlxuICAgICAge2NvbnRlbnR9XG4gICAgICA8QXJ0d29ya1BhZ2VNZXRhZGF0YSBhcnQ9e2FydH0gbm9JbmRleD17dGhpcy5ub3RQdWJsaWNBY2Nlc3MoKX0gLz5cbiAgICA8L2Rpdj5cbiAgfSxcblxuICB0b2dnbGUzZCgpIHtcbiAgICB2YXIgbmV4dFNob3czZCA9ICF0aGlzLnN0YXRlLnNob3czZFxuICAgIHRoaXMuc2V0U3RhdGUoe3Nob3czZDogbmV4dFNob3czZH0pXG4gICAgaWYoIW5leHRTaG93M2QpIHtcbiAgICAgIGlmKCF0aGlzLnN0YXRlLnpvb21Mb2FkZWQpIHRoaXMubG9hZFpvb20oKVxuICAgIH1cbiAgICBpZihuZXh0U2hvdzNkICYmIHRoaXMuc3RhdGUuem9vbUxvYWRlZCkge1xuICAgIH1cbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgdmFyIGFydCA9IHRoaXMucHJvcHMuZGF0YS5hcnR3b3JrXG4gICAgYXJ0LmlkID0gdGhpcy5wcm9wcy5pZCB8fCAoaXNOYU4oYXJ0LmlkKVxuICAgICAgPyBhcnQuaWQucmVwbGFjZSgnaHR0cDovL2FwaS5hcnRzbWlhLm9yZy9vYmplY3RzLycsICcnKVxuICAgICAgOiBhcnQuaWQpXG5cbiAgICB2YXIgaGFzM0Rtb2RlbCA9IGFydFtcInJlbGF0ZWQ6M2Rtb2RlbHNcIl0gJiYgYXJ0W1wicmVsYXRlZDozZG1vZGVsc1wiXVswXVxuICAgIHZhciBuYXZpZ2F0ZWRGcm9tM2RNb2RlbFNlYXJjaCA9IHdpbmRvdyAmJlxuICAgICAgd2luZG93Lmxhc3RTZWFyY2hlZFRlcm1zICYmIFxuICAgICAgd2luZG93Lmxhc3RTZWFyY2hlZFRlcm1zLmluZGV4T2YoJ3JlbGF0ZWQ6M2Rtb2RlbHMnKSA+PSAwXG5cbiAgICBcbiAgICB2YXIgcmlnaHRzID0gcmlnaHRzRGVzY3JpcHRpb25zLmdldFJpZ2h0cyhhcnQpXG4gICAgY29uc3Qgc2hvd0JpZ2dpZSA9IGFydC5yZXN0cmljdGVkID09PSAwIFxuICAgICAgfHwgWydDb3B5cmlnaHQgUHJvdGVjdGVkJywgJ05lZWRzIFBlcm1pc3Npb24nLCAnSW4gQ29weXJpZ2h0JyxcbiAgICAgICAgXCJJbiBDb3B5cmlnaHQgLSBSaWdodHMtaG9sZGVyKHMpIFVubG9jYXRhYmxlIG9yIFVuaWRlbnRpZmlhYmxlXCIsXG4gICAgICAgIFwiSW4gQ29weXJpZ2h04oCTUmlnaHRzLWhvbGRlcihzKSBVbmxvY2F0YWJsZVwiLFxuICAgICAgICBcIkNvcHlyaWdodCBOb3QgRXZhbHVhdGVkXCIsXG4gICAgICAgIFwiUGVybWlzc2lvbiBEZW5pZWRcIlxuICAgICAgXS5pbmRleE9mKHJpZ2h0cykgPCAwXG5cbiAgICByZXR1cm4ge1xuICAgICAgYXJ0OiBhcnQsXG4gICAgICBpZDogYXJ0LmlkLFxuICAgICAgZnVsbHNjcmVlbkltYWdlOiBmYWxzZSxcbiAgICAgIGhhczNkOiBoYXMzRG1vZGVsLFxuICAgICAgc2hvdzNkOiBuYXZpZ2F0ZWRGcm9tM2RNb2RlbFNlYXJjaCxcbiAgICAgIHNtYWxsVmlld3BvcnRTaG93SW5mb09yUmVsYXRlZENvbnRlbnQ6IHdpbmRvdyAmJiB3aW5kb3cuZW50ZXJlZFZpYU1vcmUsXG4gICAgICBzaG93QmlnZ2llLFxuICAgIH1cbiAgfSxcblxuICBzaG91bGRDb21wb25lbnRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuaW5pdFZpZXcoKVxuICB9LFxuXG4gIGluaXRWaWV3KCkge1xuICAgIHZhciBhcnQgPSB0aGlzLnN0YXRlLmFydFxuICAgIHRoaXMuc2V0U3RhdGUoe3pvb21Mb2FkZWQ6IGZhbHNlLCB6b29tTG9hZENvbXBsZXRlOiBmYWxzZSwgem9vbUxvYWRlZFN1Y2Nlc3NmdWxseTogZmFsc2V9KVxuXG4gICAgaWYoYXJ0LmltYWdlID09PSAndmFsaWQnICYmIHRoaXMuc3RhdGUuc2hvd0JpZ2dpZSAmJiAhdGhpcy5pc0xvYW4oKSAmJiAhdGhpcy5zdGF0ZS5zaG93M2QpIHtcbiAgICAgIHRoaXMubG9hZFpvb20oe3Jlc2V0OiB0cnVlfSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tYXAub2ZmKClcbiAgICAgIHRoaXMubWFwLnJlbW92ZSgpXG4gICAgICB0aGlzLm1hcCA9IHVuZGVmaW5lZFxuICAgICAgdGhpcy50aWxlcyA9IHVuZGVmaW5lZFxuICAgIH1cbiAgICBcbiAgICB2YXIge3NtYWxsVmlld3BvcnR9ID0gdGhpcy5jb250ZXh0XG4gICAgLy8gcHVzaCB0aGUgdmlld3BvcnQgZG93biBwYXN0IHRoZSBoZWFkZXIgdG8gbWF4aW1pemUgaW1hZ2UvdGV4dCBvbiB0aGUgcGFnZVxuICAgIC8vIHNjcm9sbGluZyBiYWNrIHVwIHJldmVhbHMgdGhlIG1lbnVcbiAgICAvLyBUT0RPOiBpcyB0aGVyZSBhIHdheSB0byBhdXRvbWF0aWNhbGx5IHRyaWdnZXIgc2FmYXJpJ3MgbWluaW1hbCBjaHJvbWUgb3RoZXIgdGhhbiBhIHVzZXItaW5pdGlhdGVkIHNjcm9sbCBldmVudD8gKHByb2JhYmx5IG5vdCBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY4ODQ1NjEpXG4gICAgaWYoc21hbGxWaWV3cG9ydCAmJiB3aW5kb3cuc2Nyb2xsWCA9PSAwKSBzZXRUaW1lb3V0KCgpID0+IHdpbmRvdy5zY3JvbGxUbygwLCA1NiksIDApXG4gIH0sXG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIGlmKHRoaXMuY29udGV4dC5zbWFsbFZpZXdwb3J0ICE9IHRoaXMuc3RhdGUubGFzdFNtYWxsVmlld3BvcnRTZXR0aW5nKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtsYXN0U21hbGxWaWV3cG9ydFNldHRpbmc6IHRoaXMuY29udGV4dC5zbWFsbFZpZXdwb3J0fSlcbiAgICAgIGlmKHRoaXMubWFwICYmIHRoaXMudGlsZXMpIHtcbiAgICAgICAgdGhpcy5sb2FkWm9vbSh7cmVzZXQ6IHRydWV9KVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmKHRoaXMuc3RhdGUuaWQgIT09IHRoaXMucHJvcHMuZGF0YS5hcnR3b3JrLmlkKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHRoaXMuZ2V0SW5pdGlhbFN0YXRlKCkpXG4gICAgICBzZXRUaW1lb3V0KHRoaXMuaW5pdFZpZXcsIDEwMDApXG4gICAgfVxuICB9LFxuXG4gIGxvYWRab29tKG9wdGlvbnMgPSB7cmVzZXQ6IGZhbHNlfSkge1xuICAgIHZhciBMID0gcmVxdWlyZSgnbGVhZmxldCcpXG4gICAgdmFyIExpaWlmID0gcmVxdWlyZSgnbGVhZmxldC1paWlmJylcbiAgICB2YXIgZnVsbHNjcmVlbiA9IHJlcXVpcmUoJ2xlYWZsZXQtZnVsbHNjcmVlbicpXG4gICAgXG4gICAgdmFyIGFydCA9IHRoaXMuc3RhdGUuYXJ0XG4gICAgdGhpcy5zZXRTdGF0ZSh7em9vbUxvYWRlZDogZmFsc2UsIHpvb21Mb2FkaW5nOiB0cnVlfSlcblxuICAgIGlmKG9wdGlvbnMgJiYgb3B0aW9ucy5yZXNldCAmJiB0aGlzLm1hcCkge1xuICAgICAgdGhpcy5tYXAub2ZmKClcbiAgICAgIHRoaXMubWFwLnJlbW92ZSgpXG4gICAgICB0aGlzLm1hcCA9IHVuZGVmaW5lZFxuICAgICAgdGhpcy50aWxlcyA9IHVuZGVmaW5lZFxuICAgIH1cblxuICAgIGNvbnN0IGlkID0gdGhpcy5zdGF0ZS5pZFxuICAgIGNvbnN0IGlpaWYwVXJsID0gYGh0dHBzOi8vdGlsZXMuZHguYXJ0c21pYS5vcmcvaWlpZi8ke3RoaXMuc3RhdGUuaWR9YFxuICAgIGNvbnN0IGlpaWZVcmwgPSBgaHR0cHM6Ly9paWlmLmR4LmFydHNtaWEub3JnLyR7dGhpcy5zdGF0ZS5pZH0uanBnL2luZm8uanNvbmBcblxuICAgIHJlc3QoaWlpZjBVcmwpXG5cbiAgICByZXN0KGlpaWZVcmwpXG4gICAgLnRoZW4oXG4gICAgICByZXNwb25zZSA9PiBKU09OLnBhcnNlKHJlc3BvbnNlLmVudGl0eSksXG4gICAgICByZWplY3RlZCA9PiB7XG4gICAgICAgIC8vIFRPRE86IGxvZyB0aGlzIHNvbWV3aGVyZVxuICAgICAgICB0aGlzLnNldFN0YXRlKHt6b29tTG9hZGVkOiAnZXJyb3InfSlcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihgY2FuJ3QgbG9hZCB0aWxlcyBmb3IgJHthcnQuaWR9YCkpXG4gICAgICB9XG4gICAgKVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICB0aGlzLm1hcCA9IEwubWFwKHRoaXMucmVmcy5tYXAsIHtcbiAgICAgICAgY3JzOiBMLkNSUy5TaW1wbGUsXG4gICAgICAgIHpvb21Db250cm9sOiBmYWxzZSxcbiAgICAgICAgem9vbVNuYXA6IDAsXG4gICAgICB9KVxuICAgICAgd2luZG93Ll9tYXAgPSB0aGlzLm1hcFxuICAgICAgdGhpcy5tYXAuYXR0cmlidXRpb25Db250cm9sLnNldFByZWZpeCgnJylcbiAgICAgIGNvbnN0IHNob3dab29tQ29udHJvbHNJZkRlc2t0b3AgPSAhTC5Ccm93c2VyLnRvdWNoIHx8IHdpbmRvdy5pbm5lcldpZHRoID4gNzgwXG4gICAgICBpZihzaG93Wm9vbUNvbnRyb2xzSWZEZXNrdG9wKSBuZXcgTC5Db250cm9sLlpvb20oeyBwb3NpdGlvbjogJ3RvcHJpZ2h0JyB9KS5hZGRUbyh0aGlzLm1hcClcbiAgICAgIG5ldyBMLkNvbnRyb2wuRnVsbHNjcmVlbih7XG4gICAgICAgIHBvc2l0aW9uOiAndG9wcmlnaHQnLFxuICAgICAgICBwc2V1ZG9GdWxsc2NyZWVuOiB0cnVlLFxuICAgICAgfSkuYWRkVG8odGhpcy5tYXApXG5cbiAgICAgIHRoaXMudGlsZXMgPSBMLnRpbGVMYXllci5paWlmKGlpaWZVcmwsIHtcbiAgICAgICAgYXR0cmlidXRpb246IGFydC5pbWFnZV9jb3B5cmlnaHQgPyBkZWNvZGVVUklDb21wb25lbnQoYXJ0LmltYWdlX2NvcHlyaWdodCkgOiAnJyxcbiAgICAgICAgZml0Qm91bmRzOiB0cnVlLFxuICAgICAgICBzZXRNYXhCb3VuZHM6IHRydWUsXG4gICAgICAgIHRpbGVTaXplOiA1MTIsXG4gICAgICAgIGlkOiBpZCxcbiAgICAgICAgZnVkZ2VUaWxlU2l6ZTogMC4zLFxuICAgICAgICBpaWlmSW1hZ2VEYXRhOiBkYXRhLFxuICAgICAgfSlcblxuICAgICAgdGhpcy5tYXAuc2V0VmlldyhbMCwgMF0sIDApXG5cbiAgICAgIHRoaXMudGlsZXMuYWRkVG8odGhpcy5tYXApXG5cbiAgICAgIHdpbmRvdy5fdGlsZXMgPSB0aGlzLnRpbGVzXG4gICAgICB0aGlzLnRpbGVzLm9uKCdsb2FkJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe3pvb21Mb2FkQ29tcGxldGU6IHRydWV9KVxuICAgICAgICBpZih0aGlzLm1hcC5nZXRNaW5ab29tKCkgPiAwKSByZXR1cm5cbiAgICAgICAgLy8gZG9uJ3QgbGV0IHRoZSB6b29tZWQgaW1hZ2UgZ2V0IHRpbnlcbiAgICAgICAgY29uc3QgbWluWm9vbSA9IHRoaXMubWFwLmdldFpvb20oKSAtIDAuM1xuICAgICAgICBjb25zb2xlLmluZm8oJ3NldCBtaW5ab29tJywgbWluWm9vbSlcbiAgICAgICAgdGhpcy5tYXAuc2V0TWluWm9vbShtaW5ab29tKVxuICAgICAgICAvLyBUT0RPIC0gcmVzZXQgbWluWm9vbSB3aGVuIHdpbmRvdyBpcyByZXNpemVkXG4gICAgICAgIC8vIOKApmFuZCB3aGVuIGZ1bGxzY3JlZW4gY2hhbmdlcz9cbiAgICAgIH0pXG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe3pvb21Mb2FkaW5nOiBmYWxzZSwgem9vbUxvYWRlZDogdHJ1ZX0pXG5cbiAgICAgIHRoaXMubWFwLm9uKCdmdWxsc2NyZWVuY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtmdWxsc2NyZWVuSW1hZ2U6ICF0aGlzLnN0YXRlLmZ1bGxzY3JlZW5JbWFnZX0pXG4gICAgICAgIHRoaXMucHJvcHMudG9nZ2xlQXBwSGVhZGVyKClcbiAgICAgIH0pXG5cbiAgICAgIHZhciBpbnRlcnZhbCA9IDQwMFxuICAgICAgZmFsc2UgJiYgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gaWYgbm90IHRpbGUgaW1hZ2VzIGhhdmUgYmVlbiBsb2FkZWQsIGZvcmNlIGEgem9vbSBpbiBhbmQgdGhlbiBhIHpvb20gb3V0LlxuICAgICAgICAvLyBUaGlzIHRyaWNrcyBsZWFmbGV0IHRvIGxvYWQgdGhlIHRpbGVzPyBJJ20gbm90IHN1cmUgd2h5IGJ1dCBpdCBwcm9iYWJseSBoYXNcbiAgICAgICAgLy8gdG8gZG8gd2l0aCBhIGZyYWN0aW9uYWwgem9vbSBidWcgdGhhdCBJIGRvbid0IHdhbnQgdG8gZ2V0IGludG8gcmlnaHQgbm934oCmXG4gICAgICAgIHZhciB0aWxlQ29udGFpbmVyID0gX21hcC5fbWFwUGFuZS5xdWVyeVNlbGVjdG9yKCcubGVhZmxldC10aWxlLWNvbnRhaW5lcicpXG4gICAgICAgIHZhciB0aWxlRWxlbXMgPSB0aWxlQ29udGFpbmVyLmNoaWxkRWxlbWVudENvdW50IFxuICAgICAgICBjb25zb2xlLmluZm8oJ21hcCB0aWxlcyBsb2FkZWQnLCB7dGlsZUVsZW1zLCB0aWxlQ29udGFpbmVyfSlcblxuICAgICAgICBpZih0aWxlRWxlbXMgPD0gMSkge1xuICAgICAgICAgIGNvbnNvbGUuaW5mbygnem9vbWluZyBvdXQgdGhlbiBiYWNrIGluJywge21heDogX21hcC5nZXRNYXhab29tKCl9KVxuICAgICAgICAgIF9tYXAuc2V0Wm9vbShfbWFwLmdldE1heFpvb20oKSlcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgX21hcC5zZXRab29tKF90aWxlcy5vcHRpb25zLm1pblpvb20rMC41KVxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgX21hcC5zZXRab29tKF90aWxlcy5vcHRpb25zLm1pblpvb20rMC40KVxuICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9tYXAuc2V0Wm9vbShfdGlsZXMub3B0aW9ucy5taW5ab29tKzAuMylcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgX21hcC5zZXRab29tKF90aWxlcy5vcHRpb25zLm1pblpvb20rMC4yKVxuICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgX21hcC5zZXRab29tKF90aWxlcy5vcHRpb25zLm1pblpvb20rMC4xKVxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgIF9tYXAuc2V0Wm9vbShfdGlsZXMub3B0aW9ucy5taW5ab29tKVxuICAgICAgICAgICAgICAgICAgICB9LCBpbnRlcnZhbClcbiAgICAgICAgICAgICAgICAgIH0sIGludGVydmFsKVxuICAgICAgICAgICAgICAgIH0sIGludGVydmFsKVxuICAgICAgICAgICAgICB9LCBpbnRlcnZhbClcbiAgICAgICAgICAgIH0sIGludGVydmFsKVxuICAgICAgICAgIH0sIGludGVydmFsKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuaW5mbygnbm90IHNpbXVsYXRpbmcgem9vbSBpbi9vdXQ/JylcbiAgICAgICAgfVxuICAgICAgfSwgMTAwMClcblxuICAgICAgdmFyIHpvb21Db3VudCwgem9vbUluQ291bnQsIHpvb21PdXRDb3VudCwgcHJldlpvb20sIG5vd1pvb207XG4gICAgICB2YXIgem9vbUNvdW50ID0gem9vbUluQ291bnQgPSB6b29tT3V0Q291bnQgPSAwO1xuICAgICAgdmFyIHByZXZab29tID0gbm93Wm9vbSA9IHRoaXMubWFwLmdldFpvb20oKTtcbiAgICAgIHZhciByZWNlbnRseUF1dG9ab29tZWQgPSBmYWxzZTtcblxuICAgICAgdGhpcy5tYXAub24oJ3pvb21zdGFydCB6b29tZW5kJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIFtwcmV2Wm9vbSwgbm93Wm9vbV0gPSBbbm93Wm9vbSwgdGhpcy5tYXAuZ2V0Wm9vbSgpXVxuICAgICAgICB6b29tQ291bnQgKz0gMVxuICAgICAgICBub3dab29tID4gcHJldlpvb20gPyB6b29tSW5Db3VudCArPSAxIDogem9vbU91dENvdW50ICs9IDFcblxuICAgICAgICB2YXIge3NtYWxsVmlld3BvcnR9ID0gdGhpcy5jb250ZXh0XG4gICAgICAgIHZhciBpc1NlY29uZFpvb21JbkFjdGlvbiA9IHpvb21JbkNvdW50ID09IDJcbiAgICAgICAgaWYoc21hbGxWaWV3cG9ydCAmJiAhcmVjZW50bHlBdXRvWm9vbWVkKSB7XG4gICAgICAgICAgLy8gZnVsbHNjcmVlbiB0aGUgaW1hZ2Ugd2hlbiBhIHVzZXIgem9vbXMgdHdpY2UgaW4gYSByb3dcbiAgICAgICAgICAvLyBsZWF2ZSBmdWxsc2NyZWVuIHdoZW4gdGhleSByZXR1cm4gdG8gbWluWm9vbVxuICAgICAgICAgIC8vIG1vYmlsZS1vbmx5IGZvciBub3dcbiAgICAgICAgICB2YXIgcmVhc29uc1RvQ2hhbmdlRnVsbHNjcmVlbiA9IFtcbiAgICAgICAgICAgIGV2ZW50LnR5cGUgPT0gJ3pvb21zdGFydCcgJiYgem9vbUluQ291bnQgPT0gMiAmJiAhdGhpcy5tYXAuaXNGdWxsc2NyZWVuKCksIC8vIHpvb21pbmcgaW4gd2hlbiBub3QgZnVsbHNjcmVlblxuICAgICAgICAgICAgZXZlbnQudHlwZSA9PSAnem9vbWVuZCcgJiYgbm93Wm9vbSA+PSAzICYmICF0aGlzLm1hcC5pc0Z1bGxzY3JlZW4oKSwgLy8gbm90IGZ1bGxzY3JlZW4gYW5kIHpvb21lZCBpbiBxdWl0ZSBmYXJcbiAgICAgICAgICAgIGV2ZW50LnR5cGUgPT0gJ3pvb21lbmQnICYmIHRoaXMubWFwLmdldFpvb20oKSA9PSB0aGlzLm1hcC5nZXRNaW5ab29tKCkgJiYgdGhpcy5tYXAuaXNGdWxsc2NyZWVuKCksIC8vIGluIGZ1bGxzY3JlZW4sIHpvb21pbmcgb3V0IHRvIG1pblpvb21cbiAgICAgICAgICBdXG4gICAgICAgICAgaWYocmVhc29uc1RvQ2hhbmdlRnVsbHNjcmVlbi5maW5kKHJlYXNvbiA9PiByZWFzb24pKSB7IC8vIGlmIGFueSBvZiB0aGUgdmFsaWQgcmVhc29ucyBldmFsdWF0ZSB0byB0cnVlXG4gICAgICAgICAgICB0aGlzLm1hcC50b2dnbGVGdWxsc2NyZWVuKHtwc2V1ZG9GdWxsc2NyZWVuOiB0cnVlfSlcbiAgICAgICAgICAgIHJlY2VudGx5QXV0b1pvb21lZCA9IHRydWVcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnpvb21Db3VudFJlc2V0VGltZXIpXG4gICAgICAgICAgICB0aGlzLnpvb21Db3VudFJlc2V0VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsgem9vbUNvdW50ID0gem9vbUluQ291bnQgPSB6b29tT3V0Q291bnQgPSAwOyByZWNlbnRseUF1dG9ab29tZWQgPSBmYWxzZSB9LCAxMDAwKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuICAgIC5jYXRjaChlcnIgPT4gdGhpcy5zZXRTdGF0ZSh7em9vbUxvYWRpbmc6IGZhbHNlfSkpXG4gIH0sXG5cbiAgcmVzaXplTWFwKCkge1xuICAgIGlmKHRoaXMubWFwICYmIHRoaXMudGlsZXMpIHtcbiAgICAgIHRoaXMubWFwLmludmFsaWRhdGVTaXplKClcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIGNvbnZlcnQgdGhlIGN1cnJlbnRseSB2aWV3ZWQgYXJlYSBvZiB0aGUgem9vbWFibGUgaW1hZ2UgdG8gYW4gSUlJRiBkZXJpdlxuICAgKiB0aGFua3lhIGh0dHBzOi8vYmwub2Nrcy5vcmcvbWVqYWNrcmVlZC82OTM2NTg1ZjQzNWI2MGFhOTQ1MWFlMmJjMWMxOTlmMlxuICAgKi9cbiAgY2FwdHVyZVZpZXdSZWdpb24oKSB7XG4gICAgaWYoIXRoaXMubWFwKSByZXR1cm5cblxuICAgIGxldCB7IGNyb3BBc3BlY3RSYXRpbyB9ID0gdGhpcy5zdGF0ZVxuXG4gICAgbGV0IG1hcCA9IHRoaXMubWFwXG4gICAgbGV0IGlpaWZMYXllciA9IHRoaXMudGlsZXNcbiAgICBsZXQgYm91bmRzID0gbWFwLmdldEJvdW5kcygpXG4gICAgbGV0IGZyYWN0aW9uYWxab29tID0gbWFwLmdldFpvb20oKVxuICAgIGxldCB6b29tID0gTWF0aC5mbG9vcihmcmFjdGlvbmFsWm9vbSkgLy8gc2hvdWxkIHRoaXMgYmUgZmxvb3IsIG9yIHJvdW5kP1xuICAgIGxldCBtaW4gPSBtYXAucHJvamVjdChib3VuZHMuZ2V0U291dGhXZXN0KCksIHpvb20pXG4gICAgbGV0IG1heCA9IG1hcC5wcm9qZWN0KGJvdW5kcy5nZXROb3J0aEVhc3QoKSwgem9vbSlcbiAgICBsZXQgaW1hZ2VTaXplID0gaWlpZkxheWVyLl9pbWFnZVNpemVzW3pvb21dXG4gICAgbGV0IHhSYXRpbyA9IGlpaWZMYXllci54IC8gaW1hZ2VTaXplLnhcbiAgICBsZXQgeVJhdGlvID0gaWlpZkxheWVyLnkgLyBpbWFnZVNpemUueVxuXG4gICAgbGV0IHgwID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihtaW4ueCAqIHhSYXRpbykpXG4gICAgbGV0IHkwID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihtYXgueSAqIHlSYXRpbykpXG4gICAgbGV0IHcgPSBNYXRoLmZsb29yKChtYXgueCAtIG1pbi54KSAqIHhSYXRpbylcbiAgICBsZXQgaCA9IE1hdGguZmxvb3IoKG1pbi55IC0gbWF4LnkpICogeVJhdGlvKVxuICAgIC8qKlxuICAgICAqIFRvIGNvbnN0cmFpbiB0aGUgY3JvcCB0byBhIHNwZWNpZmljIGFzcGVjdCByYXRpbzpcbiAgICAgKlxuICAgICAqICBzcXVhcmUgPSAxLzEsIGFuZCAzOjIgKHdoaWNoIGlzIGFjdHVhbGx5IDIvMz8gQ29uZnVzZXMgbWUsIGJ1dCBpdCdzIHdvcmtpbmcpXG4gICAgICpcbiAgICAgKiBBZGFwdCB0aGUgcmVjdGFuZ3VsYXIgcmVnaW9uIHRvIGJlIHRoZSBkZXNpcmVkIGFzcGVjdCByYXRpbyBieVxuICAgICAqICdzaGF2aW5nJyBpdCBkb3duIHRvIGZpdC4gVG8gZ2V0IGEgdGFsbGVyIHJlZ2lvbiBkb3duIHRvIDM6MiwgXG4gICAgICogdGFrZSB0aGUgd2lkdGggYXMgYDNgLCB0aGVuIHJlbW92ZSBhIHN0cmlwIGZyb20gdGhlIHRvcCBhbmQgYm90dG9tXG4gICAgICogc28gdGhhdCB0aGUgaGVpZ2h0IGVuZHMgdXAgYXMgYDJgLiBUaGlzIHdlaWdocyB0aGUgMzoyIGNyb3AgdG8gdGhlIGNlbnRlci5cbiAgICAgKiBUT0RPIGFkZGluZyBhbiBvcHRpb24gdG8gd2VpZ2ggdG8gdGhlIGVkZ2Ugb2YgdGhlIGltYWdlIG1pZ2h0IGJlIG5pY2VcbiAgICAgKi9cbiAgICBsZXQgZGVsdGFGYWN0b3IgPSAoY3JvcEFzcGVjdFJhdGlvIHx8IDEpKjJcbiAgICBsZXQgd2hEZWx0YSA9IE1hdGgucm91bmQoKHcgLSBoKSAvIGRlbHRhRmFjdG9yKVxuICAgIGxldCBhZGp1c3RlZFgwID0gdyA+IGggPyB4MCArIHdoRGVsdGEgOiB4MFxuICAgIGxldCBhZGp1c3RlZFkwID0gaCA+PSB3ID8geTAgLSB3aERlbHRhIDogeTBcbiAgICBsZXQgd2hNaW4gPSBNYXRoLm1pbih3LCBoKVxuICAgIGxldCBhZGp1c3RlZFcgPSB3aE1pblxuICAgIGxldCBhZGp1c3RlZEggPSBNYXRoLnJvdW5kKHdoTWluKmNyb3BBc3BlY3RSYXRpbylcbiAgICBsZXQgY29uc3RyYWluVG9Bc3BlY3RSYXRpbyA9IEJvb2xlYW4oY3JvcEFzcGVjdFJhdGlvKVxuICAgIGxldCByZWdpb24gPSAhY29uc3RyYWluVG9Bc3BlY3RSYXRpb1xuICAgICAgPyBbIHgwLCB5MCwgdywgaCBdXG4gICAgICA6IFtcbiAgICAgICAgYWRqdXN0ZWRYMCxcbiAgICAgICAgYWRqdXN0ZWRZMCxcbiAgICAgICAgYWRqdXN0ZWRXLFxuICAgICAgICBhZGp1c3RlZEgsXG4gICAgICBdXG5cbiAgICBpZihjb25zdHJhaW5Ub0FzcGVjdFJhdGlvKSB7XG4gICAgICAvLyBJbmRpY2F0ZSB3aGVyZSB0aGUgc3F1YXJlIGNyb3AgaXMgY29taW5nIGZyb20gd2l0aCBhIHBvbHlnb24gb3ZlcmxheVxuICAgICAgLy8gdGhhdCdzIHJlbW92ZWQgYWZ0ZXIgYSBzZWNvbmQgb3IgdHdvXG4gICAgICBsZXQgZGV0YWlsSGlnaGxpZ2h0TGF5ZXIgPSBMLnJlY3RhbmdsZShbXG4gICAgICAgIEwucG9pbnQoYWRqdXN0ZWRYMCwgYWRqdXN0ZWRZMCksIC8vIHRvcCBsZWZ0XG4gICAgICAgIEwucG9pbnQoYWRqdXN0ZWRYMCthZGp1c3RlZFcsIGFkanVzdGVkWTArYWRqdXN0ZWRIKSwgLy8gYm90dG9tIHJpZ2h0XG4gICAgICBdLm1hcChwb2ludCA9PiBtYXAudW5wcm9qZWN0KHBvaW50LCB6b29tKSkpXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IGRldGFpbEhpZ2hsaWdodExheWVyLmFkZFRvKG1hcCksIDMxKVxuICAgICAgc2V0VGltZW91dCgoKSA9PiBkZXRhaWxIaWdobGlnaHRMYXllci5yZW1vdmUoKSwgMzU3OSlcbiAgICB9XG5cbiAgICBsZXQgYmFzZVVybCA9ICdodHRwczovL2lpaWYuZHguYXJ0c21pYS5vcmcnXG4gICAgbGV0IHVybCA9IGJhc2VVcmwgKyAnLycgKyB0aGlzLnN0YXRlLmlkICsgJy5qcGcvJyArIHJlZ2lvbi5qb2luKCcsJykgKyAnLzgwMCwvMC9kZWZhdWx0LmpwZydcblxuICAgIHRoaXMuc2V0U3RhdGUoe2lpaWZSZWdpb246IHVybH0pXG4gIH0sXG5cbiAgaW1hZ2VTdGF0dXMoKSB7XG4gICAgdmFyIHthcnQsIHpvb21Mb2FkZWQsIHpvb21Mb2FkQ29tcGxldGUsIHpvb21Mb2FkaW5nfSA9IHRoaXMuc3RhdGVcbiAgICB2YXIgY29weXJpZ2h0QW5kT25WaWV3TWVzc2FnZSA9IGFydC5yb29tICYmIGFydC5yb29tWzBdID09ICdHJyA/IFwiIChZb3UnbGwgaGF2ZSB0byBjb21lIHNlZSBpdCBpbiBwZXJzb24uKVwiIDogJydcbiAgICB2YXIgbG9hZGluZ1pvb21NZXNzYWdlID0gIGBcbiAgICAgICjigJRJcyB0aGF0IHRoZSBiZXN0IGltYWdlIHlvdSd2ZSBnb3QhIT9cbiAgICAgIOKAlE5vcGUhIFdlJ3JlIGxvYWRpbmcgJHtodW1hbml6ZU51bWJlcih0aGlzLmdldFBpeGVsRGlmZmVyZW5jZSg4MDApKX0gbW9yZSBwaXhlbHMgcmlnaHQgbm93LlxuICAgICAgSXQgY2FuIHRha2UgYSBmZXcgc2Vjb25kcy4pYFxuICAgIHZhciBzaG93TG9hZGluZ01lc3NhZ2UgPSB6b29tTG9hZGluZyAmJiB6b29tTG9hZGVkID09PSBmYWxzZSAmJiAhdGhpcy5jb250ZXh0LnVuaXZlcnNhbFxuICAgIHZhciBzaG93RXJyb3JNZXNzYWdlID0gem9vbUxvYWRlZCA9PT0gJ2Vycm9yJ1xuICAgIHZhciB7c21hbGxWaWV3cG9ydH0gPSB0aGlzLmNvbnRleHRcblxuICAgIGNvbnN0IHNob3dDb3B5cmlnaHROb3RpY2UgPSAhdGhpcy5zdGF0ZS5zaG93QmlnZ2llXG5cbiAgICByZXR1cm4gYXJ0LmltYWdlID09PSAndmFsaWQnICYmIDxzcGFuIGNsYXNzTmFtZT1cImltYWdlU3RhdHVzXCI+XG4gICAgICB7c2hvd0xvYWRpbmdNZXNzYWdlICYmIGxvYWRpbmdab29tTWVzc2FnZX1cbiAgICAgIHtzaG93RXJyb3JNZXNzYWdlICYmIDxwPkVycm9yIGxvYWRpbmcgaGlnaCByZXNvbHV0aW9uIGltYWdlLiA8YSBocmVmPVwibWFpbHRvOmNvbGxlY3Rpb25zZGF0YStpbWFnZXNAYXJ0c21pYS5vcmdcIj5SZXBvcnQgdGhpcyBwcm9ibGVtPC9hPi48L3A+fVxuICAgICAge3Nob3dDb3B5cmlnaHROb3RpY2UgJiYgIXNtYWxsVmlld3BvcnQgJiYgXCJCZWNhdXNlIG9mIMKpIHJlc3RyaWN0aW9ucywgd2UgY2FuIG9ubHkgc2hvdyB5b3UgYSBzbWFsbCBpbWFnZSBvZiB0aGlzIGFydHdvcmsuXCIgKyBjb3B5cmlnaHRBbmRPblZpZXdNZXNzYWdlfVxuICAgIDwvc3Bhbj5cbiAgfSxcblxuICBjYWxjdWxhdGVJbWFnZVBpeGVsU2l6ZShzaXplKSB7XG4gICAgdmFyIHtpbWFnZV93aWR0aCwgaW1hZ2VfaGVpZ2h0fSA9IHRoaXMuc3RhdGUuYXJ0XG4gICAgdmFyIG1heERpbWVuc2lvbiA9IE1hdGgubWF4KGltYWdlX3dpZHRoLCBpbWFnZV9oZWlnaHQpXG4gICAgdmFyIHNpemUgPSBzaXplIHx8IG1heERpbWVuc2lvblxuICAgIHZhciByYXRpbyA9IE1hdGguZmxvb3IobWF4RGltZW5zaW9uL3NpemUpXG5cbiAgICByZXR1cm4gTWF0aC5mbG9vcihpbWFnZV93aWR0aC9yYXRpbykgKiBNYXRoLmZsb29yKGltYWdlX2hlaWdodC9yYXRpbylcbiAgfSxcblxuICAvLyBob3cgbWFueSBtb3JlIHBpeGVscyBhcmUgaW4gdGhlIGZ1bGwgc2l6ZWQgaW1hZ2UgdGhhbiB0aGUgZ2l2ZW4gdGh1bWJuYWlsP1xuICBnZXRQaXhlbERpZmZlcmVuY2Uoc2l6ZT04MDApIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihcbiAgICAgIHRoaXMuY2FsY3VsYXRlSW1hZ2VQaXhlbFNpemUoKSAtIHRoaXMuY2FsY3VsYXRlSW1hZ2VQaXhlbFNpemUoODAwKVxuICAgIClcbiAgfSxcblxuICBpc0xvYW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuYXJ0LmFjY2Vzc2lvbl9udW1iZXIubWF0Y2goL15ML2kpXG4gIH0sXG5cbiAgbm90UHVibGljQWNjZXNzKCkge1xuICAgIHJldHVybiBpc0xvYW4odGhpcy5zdGF0ZS5hcnQpXG4gICAgICB8fCBub3RQdWJsaWNBY2Nlc3ModGhpcy5zdGF0ZS5hcnQpXG4gICAgICB8fCBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nXG4gIH0sXG5cbiAgdG9nZ2xlSW5mb0FuZFJlbGF0ZWRDb250ZW50KGV2ZW50KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7c21hbGxWaWV3cG9ydFNob3dJbmZvT3JSZWxhdGVkQ29udGVudDogIXRoaXMuc3RhdGUuc21hbGxWaWV3cG9ydFNob3dJbmZvT3JSZWxhdGVkQ29udGVudH0pXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICB9LFxufSlcbkFydHdvcmsuY29udGV4dFR5cGVzID0ge1xuICByb3V0ZXI6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICB1bml2ZXJzYWw6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuICBzbWFsbFZpZXdwb3J0OiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgY2xpZW50SXA6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG59XG5cbnZhciBub0ltYWdlU3R5bGUgPSB7XG4gIHdyYXBwZXI6IHtcbiAgICBcInBvc2l0aW9uXCI6ICdhYnNvbHV0ZScsXG4gICAgXCJ0b3BcIjogJzUwJScsXG4gICAgXCJsZWZ0XCI6ICc1MCUnLFxuICAgIFwidHJhbnNmb3JtXCI6ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSknLFxuICAgIFwiV2Via2l0VHJhbnNmb3JtXCI6ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSknLFxuICAgIFwid2lkdGhcIjogJzc3JScsXG4gICAgXCJ0ZXh0QWxpZ25cIjogJ2NlbnRlcicsXG4gIH0sXG4gIHBhdHRlcm46IHtcbiAgfVxufVxudmFyIE5vSW1hZ2VQbGFjZWhvbGRlciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7YXJ0fSA9IHRoaXMucHJvcHNcbiAgICB2YXIgbW9kZWwgPSBhcnRbXCJyZWxhdGVkOjNkbW9kZWxzXCJdICYmIGFydFtcInJlbGF0ZWQ6M2Rtb2RlbHNcIl1bMF1cbiAgICByZXR1cm4gbW9kZWwgPyA8U2tldGNoZmFiRW1iZWQgbW9kZWw9e21vZGVsfSAvPiA6XG4gICAgICA8ZGl2IHN0eWxlPXtub0ltYWdlU3R5bGUud3JhcHBlcn0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibm9JbWFnZSBpbnZhbGlkXCI+PHA+Tm8gSW1hZ2UgQXZhaWxhYmxlPC9wPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gIH1cbn0pXG5cbnZhciBTa2V0Y2hmYWJFbWJlZCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciBzaG93SGlkZVN0eWxlID0ge31cbiAgICBpZighdGhpcy5wcm9wcy5zaG93KSBzaG93SGlkZVN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJ1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInNrZXRjaGZhYi1lbWJlZC13cmFwcGVyXCIgc3R5bGU9e3Nob3dIaWRlU3R5bGV9PlxuICAgICAgPGlmcmFtZVxuICAgICAgICBzcmM9e2Ake3RoaXMucHJvcHMubW9kZWwubGlua30vZW1iZWQ/YXV0b3N0YXJ0PTEmcHJlbG9hZD0xJnVpX2luZm9zPTBgfVxuICAgICAgICBmcmFtZWJvcmRlcj1cIjBcIlxuICAgICAgICBhbGxvd3ZyXG4gICAgICAgIGFsbG93ZnVsbHNjcmVlbiBtb3phbGxvd2Z1bGxzY3JlZW49XCJ0cnVlXCIgd2Via2l0YWxsb3dmdWxsc2NyZWVuPVwidHJ1ZVwiXG4gICAgICAgIG9ubW91c2V3aGVlbD1cIlwiPjwvaWZyYW1lPlxuICAgIDwvZGl2PlxuICB9XG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFydHdvcmtcblxuZnVuY3Rpb24gaXNMb2FuKGFydCkge1xuICByZXR1cm4gISFhcnQuYWNjZXNzaW9uX251bWJlci5tYXRjaCgvXkwvaSlcbn1cbmZ1bmN0aW9uIG5vdFB1YmxpY0FjY2VzcyhhcnQpIHtcbiAgcmV0dXJuIGFydC5wdWJsaWNfYWNjZXNzID09PSAnMCdcbn1cblxudmFyIElJSUZDcm9wcGVyID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBnZXRJbml0aWFsU3RhdGUocHJvcHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpc0xvYWRpbmc6IHRydWUsXG4gICAgICAgIHNxdWFyZVNtYXJ0Q3JvcDogYGh0dHBzOi8vaWlpZi5keC5hcnRzbWlhLm9yZy8ke3RoaXMucHJvcHMuYXJ0LmlkfS5qcGcvLTEsLTEsODAwLDgwMC9mdWxsLzAvZGVmYXVsdC5qcGdgLFxuICAgICAgICBjcm9wU2l6ZTogODAwLFxuICAgICAgfVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGFydCwgY2FwdHVyZVZpZXdSZWdpb24sIHVwZGF0ZVJlZ2lvbiwgY3VycmVudFJlZ2lvbiwgY3JvcEFzcGVjdFJhdGlvIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgeyBpc0xvYWRpbmcsIHNxdWFyZVNtYXJ0Q3JvcCwgY3JvcFNpemUgfSA9IHRoaXMuc3RhdGVcbiAgICBjb25zdCBpc1NxdWFyZSA9IGN1cnJlbnRSZWdpb24gPT09IHNxdWFyZVNtYXJ0Q3JvcFxuICAgIGNvbnN0IGdldENyb3BGcm9tWm9vbWVyID0gKCkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7Y3JvcFNpemU6IDgwMH0pXG4gICAgICBjYXB0dXJlVmlld1JlZ2lvbigpXG4gICAgfVxuICAgIGNvbnN0IHNldFNxdWFyZVNtYXJ0Q3JvcCA9ICgpID0+IHVwZGF0ZVJlZ2lvbih7aWlpZlJlZ2lvbjogc3F1YXJlU21hcnRDcm9wLCBjcm9wQXNwZWN0UmF0aW86IDF9KVxuXG4gICAgY29uc3QgYnV0dG9uU3R5bGVzID0ge1xuICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICBiYWNrZ3JvdW5kOiAnIzIzMjMyMycsXG4gICAgICBvcGFjaXR5OiBpc0xvYWRpbmcgPyAwLjMgOiAxLFxuICAgIH1cblxuICAgIGNvbnN0IGltZ1N0eWxlID0ge1xuICAgICAgbWF4V2lkdGg6ICcxMDAlJyxcbiAgICAgIG1heEhlaWdodDogJzMwMHB4JyxcbiAgICAgIG9wYWNpdHk6IGlzTG9hZGluZyA/IDAuMyA6IDEsXG4gICAgfVxuXG4gICAgY29uc3QgcmF3SUlJRlVybCA9IChjdXJyZW50UmVnaW9uIHx8IHNxdWFyZVNtYXJ0Q3JvcClcbiAgICAvLyBUT0RPIG5vZGUgdjcgKHJ1bm5pbmcgb24gdGhlIHNlcnZlcikgZG9lc24ndCBzdXBwb3J0IGNhcHR1cmluZyBuYW1lZCBncm91cHM/XG4gICAgLy8gY29uc3QgaWlpZkNvbXBvbmVudHMgPSByYXdJSUlGVXJsLm1hdGNoKC8ub3JnXFwvKD88aWQ+WzAtOV0rKS5qcGdcXC8oPzxyZWdpb24+W14vXSspXFwvKD88c2l6ZT5bXi9dKylcXC8wXFwvZGVmYXVsdC5qcGcvKVxuICAgIC8vIGNvbnN0IGlpaWZTaXplID0gaWlpZkNvbXBvbmVudHMuZ3JvdXBzLnNpemVcbiAgICBjb25zdCBpaWlmQ29tcG9uZW50cyA9IHJhd0lJSUZVcmwubWF0Y2goLy5vcmdcXC8oWzAtOV0rKS5qcGdcXC8oW14vXSspXFwvKFteL10rKVxcLzBcXC9kZWZhdWx0LmpwZy8pXG4gICAgY29uc3QgaWlpZlNpemUgPSBpaWlmQ29tcG9uZW50c1szXVxuICAgIGNvbnN0IGlpaWZVcmwgPSByYXdJSUlGVXJsLnJlcGxhY2UoaWlpZlNpemUsIGNyb3BTaXplID09PSAnZnVsbCcgPyBjcm9wU2l6ZSA6IGAke2Nyb3BTaXplfSxgKVxuXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICB7aWlpZlVybCAmJiA8ZGV0YWlscyBvcGVuPXtCb29sZWFuKGN1cnJlbnRSZWdpb24pfT5cbiAgICAgICAgPHN1bW1hcnk+XG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtnZXRDcm9wRnJvbVpvb21lcn0gZGlzYWJsZWQ9e2lzTG9hZGluZ30gc3R5bGU9e2J1dHRvblN0eWxlc30+XG4gICAgICAgICAgICDwn5O3IFNhdmUgZGV0YWlsXG4gICAgICAgICAgPC9idXR0b24+IHsnICd9XG4gICAgICAgICAgeyghY3VycmVudFJlZ2lvbiB8fCBpc1NxdWFyZSkgfHwgPGJ1dHRvbiBvbkNsaWNrPXtzZXRTcXVhcmVTbWFydENyb3B9IHN0eWxlPXtidXR0b25TdHlsZXN9PlxuICAgICAgICAgICAg4pyC77iPICBTbWFydCBDcm9wXG4gICAgICAgICAgPC9idXR0b24+fVxuICAgICAgICA8L3N1bW1hcnk+XG4gICAgICAgIDxmaWd1cmUgc3R5bGU9e3ttYXJnaW46IDB9fT5cbiAgICAgICAgICA8YSBocmVmPXtpaWlmVXJsfSB0YXJnZXQ9XCJfYmxhbmtcIj5cbiAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgc3JjPXtpaWlmVXJsfVxuICAgICAgICAgICAgICBzdHlsZT17aW1nU3R5bGV9XG4gICAgICAgICAgICAgIG9uTG9hZD17KCkgPT4gdGhpcy5zZXRTdGF0ZSh7aXNMb2FkaW5nOiBmYWxzZX0pfVxuICAgICAgICAgICAgICBvbkVycm9yPXsoKSA9PiB0aGlzLnNldFN0YXRlKHtpc0xvYWRpbmc6IGZhbHNlLCBlcnJvcjogdHJ1ZX0pfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2E+XG4gICAgICAgICAgPGZpZ2NhcHRpb24+XG4gICAgICAgICAgICB7aXNMb2FkaW5nIHx8IDxkaXY+XG4gICAgICAgICAgICAgIDxwPntbNDAwLCA4MDAsIDEyMDAsICdmdWxsJ10ubWFwKHNpemUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemVUZXh0ID0gaXNOYU4oc2l6ZSkgPyAnZnVsbCBzaXplJyA6IGAke3NpemV9cHhgXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyb3BTaXplID09PSBzaXplXG4gICAgICAgICAgICAgICAgICA/IDxzcGFuIGtleT17c2l6ZX0gc3R5bGU9e3twYWRkaW5nOiAnMHB4IDdweCd9fT57c2l6ZVRleHR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgOiA8YnV0dG9uIGtleT17c2l6ZX0gb25DbGljaz17KCkgPT4gdGhpcy5zZXRTdGF0ZSh7Y3JvcFNpemU6IHNpemUsIGlzTG9hZGluZzogdHJ1ZX0pfSBzdHlsZT17YnV0dG9uU3R5bGVzfT57c2l6ZVRleHR9PC9idXR0b24+XG4gICAgICAgICAgICAgIH0pfTwvcD5cbiAgICAgICAgICAgICAgPGxhYmVsIHN0eWxlPXt7ZGlzcGxheTogJ2Jsb2NrJ319PlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgbmFtZT1cImNyb3BBc3BlY3RSYXRpb1wiXG4gICAgICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y3JvcEFzcGVjdFJhdGlvICE9PSAxICYmIGNyb3BBc3BlY3RSYXRpbyAhPT0gMi8zfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdXBkYXRlUmVnaW9uKHtjcm9wQXNwZWN0UmF0aW86IG51bGx9KX1cbiAgICAgICAgICAgICAgICAvPiBubyBhc3BlY3QgcmF0aW9cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJjcm9wQXNwZWN0UmF0aW9cIlxuICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2Nyb3BBc3BlY3RSYXRpbyA9PT0gMX1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHVwZGF0ZVJlZ2lvbih7Y3JvcEFzcGVjdFJhdGlvOiAxfSl9XG4gICAgICAgICAgICAgICAgLz4gc3F1YXJlXG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICBuYW1lPVwiY3JvcEFzcGVjdFJhdGlvXCJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICBjaGVja2VkPXtjcm9wQXNwZWN0UmF0aW8gPT09IDIvM31cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHVwZGF0ZVJlZ2lvbih7Y3JvcEFzcGVjdFJhdGlvOiAyLzN9KX1cbiAgICAgICAgICAgICAgICAvPiAzOjJcbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2Pn1cbiAgICAgICAgICAgIDxwPlpvb20gaW4gb24gdGhlIGxlZnQgdG8gdGhlIGRldGFpbCB5b3UnZCBsaWtlIHRvIHNhdmUuIENsaWNrICdTYXZlIGRldGFpbCcgYW5kIHdhaXQgdW50aWwgdGhlIGltYWdlIHVwZGF0ZXMuIFJpZ2h0IGNsaWNrIHRoZSBpbWFnZSB0byAnc2F2ZSBpbWFnZSBhcycgb3IgY29weSBsaW5rLCBvciBjbGljayB0aGUgaW1hZ2UgdG8gb3BlbiBpbiBhIG5ldyB0YWIuPC9wPlxuICAgICAgICAgIDwvZmlnY2FwdGlvbj5cbiAgICAgICAgPC9maWd1cmU+XG4gICAgICA8L2RldGFpbHM+fVxuICAgIDwvZGl2PlxuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jdXJyZW50UmVnaW9uICE9PSBuZXh0UHJvcHMuY3VycmVudFJlZ2lvbikge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNMb2FkaW5nOiB0cnVlfSlcbiAgICB9XG4gIH1cbn0pXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "artwork.js"
      ],
      "names": [
        "React",
        "require",
        "Router",
        "Link",
        "rest",
        "humanizeNumber",
        "Helmet",
        "cx",
        "ArtworkImage",
        "Markdown",
        "ArtworkPreview",
        "ArtworkDetails",
        "_Artwork",
        "Image",
        "imageCDN",
        "SEARCH",
        "search",
        "ArtworkRelatedContent",
        "ArtworkPageMetadata",
        "rightsDescriptions",
        "ClosedBanner",
        "Sticky",
        "Artwork",
        "createClass",
        "mixins",
        "State",
        "statics",
        "fetchData",
        "artwork",
        "params",
        "existingData",
        "id",
        "Promise",
        "resolve",
        "then",
        "r",
        "JSON",
        "parse",
        "entity",
        "art",
        "slug",
        "checkRoute",
        "callback",
        "existingArt",
        "window",
        "__DATA__",
        "isLoan",
        "notPublicAccess",
        "privilegedClientIP",
        "willTransitionTo",
        "transition",
        "query",
        "redirect",
        "status",
        "err",
        "render",
        "state",
        "props",
        "highlights",
        "stickyMapStyle",
        "context",
        "universal",
        "position",
        "smallViewport",
        "pageTitle",
        "title",
        "replace",
        "Creator",
        "getFacetAndValue",
        "filter",
        "e",
        "join",
        "imageUrl",
        "image_url",
        "canonicalURL",
        "aspectRatio",
        "image_width",
        "image_height",
        "mapHeight",
        "image",
        "Math",
        "max",
        "min",
        "show3d",
        "maxWidth",
        "maxHeight",
        "showMoreIcon",
        "Object",
        "keys",
        "key",
        "match",
        "length",
        "fullscreenImage",
        "toggleRelated",
        "smallViewportShowInfoOrRelatedContent",
        "infoRelatedToggleStyles",
        "zIndex",
        "right",
        "bottom",
        "color",
        "backgroundColor",
        "borderRadius",
        "lineHeight",
        "padding",
        "exploreStyle",
        "display",
        "transform",
        "paddingLeft",
        "exploreIcon",
        "toggleInfoAndRelatedContent",
        "width",
        "relatedContent",
        "mapStyle",
        "height",
        "zoomLoaded",
        "zoomLoadComplete",
        "zoomLoadedSuccessfully",
        "rights",
        "getRights",
        "map",
        "has3d",
        "image_copyright",
        "fontSize",
        "decodeURIComponent",
        "imageStatus",
        "showCropUI",
        "showBiggie",
        "detailCropper",
        "marginTop",
        "captureViewRegion",
        "args",
        "setState",
        "iiifRegion",
        "cropAspectRatio",
        "info",
        "children",
        "margin",
        "showLink",
        "toggle3d",
        "showLinkComponent",
        "history",
        "go",
        "smallViewportWithTabbedInfoAndRelated",
        "content",
        "top",
        "resizeMap",
        "smallviewport",
        "nextShow3d",
        "loadZoom",
        "getInitialState",
        "data",
        "isNaN",
        "has3Dmodel",
        "navigatedFrom3dModelSearch",
        "lastSearchedTerms",
        "indexOf",
        "restricted",
        "enteredViaMore",
        "shouldComponentUpdate",
        "prevProps",
        "prevState",
        "componentDidMount",
        "initView",
        "reset",
        "off",
        "remove",
        "undefined",
        "tiles",
        "scrollX",
        "setTimeout",
        "scrollTo",
        "componentDidUpdate",
        "lastSmallViewportSetting",
        "options",
        "L",
        "Liiif",
        "fullscreen",
        "zoomLoading",
        "iiif0Url",
        "iiifUrl",
        "response",
        "reject",
        "Error",
        "refs",
        "crs",
        "CRS",
        "Simple",
        "zoomControl",
        "zoomSnap",
        "_map",
        "attributionControl",
        "setPrefix",
        "showZoomControlsIfDesktop",
        "Browser",
        "touch",
        "innerWidth",
        "Control",
        "Zoom",
        "addTo",
        "Fullscreen",
        "pseudoFullscreen",
        "tileLayer",
        "iiif",
        "attribution",
        "fitBounds",
        "setMaxBounds",
        "tileSize",
        "fudgeTileSize",
        "iiifImageData",
        "setView",
        "_tiles",
        "on",
        "event",
        "getMinZoom",
        "minZoom",
        "getZoom",
        "console",
        "setMinZoom",
        "toggleAppHeader",
        "interval",
        "tileContainer",
        "_mapPane",
        "querySelector",
        "tileElems",
        "childElementCount",
        "getMaxZoom",
        "setZoom",
        "zoomCount",
        "zoomInCount",
        "zoomOutCount",
        "prevZoom",
        "nowZoom",
        "recentlyAutoZoomed",
        "isSecondZoomInAction",
        "reasonsToChangeFullscreen",
        "type",
        "isFullscreen",
        "find",
        "reason",
        "toggleFullscreen",
        "clearTimeout",
        "zoomCountResetTimer",
        "catch",
        "invalidateSize",
        "iiifLayer",
        "bounds",
        "getBounds",
        "fractionalZoom",
        "zoom",
        "floor",
        "project",
        "getSouthWest",
        "getNorthEast",
        "imageSize",
        "_imageSizes",
        "xRatio",
        "x",
        "yRatio",
        "y",
        "x0",
        "y0",
        "w",
        "h",
        "deltaFactor",
        "whDelta",
        "round",
        "adjustedX0",
        "adjustedY0",
        "whMin",
        "adjustedW",
        "adjustedH",
        "constrainToAspectRatio",
        "Boolean",
        "region",
        "detailHighlightLayer",
        "rectangle",
        "point",
        "unproject",
        "baseUrl",
        "url",
        "copyrightAndOnViewMessage",
        "room",
        "loadingZoomMessage",
        "getPixelDifference",
        "showLoadingMessage",
        "showErrorMessage",
        "showCopyrightNotice",
        "calculateImagePixelSize",
        "size",
        "maxDimension",
        "ratio",
        "accession_number",
        "process",
        "env",
        "NODE_ENV",
        "preventDefault",
        "contextTypes",
        "router",
        "PropTypes",
        "func",
        "bool",
        "clientIp",
        "string",
        "noImageStyle",
        "wrapper",
        "pattern",
        "NoImagePlaceholder",
        "model",
        "SketchfabEmbed",
        "showHideStyle",
        "show",
        "visibility",
        "link",
        "module",
        "exports",
        "public_access",
        "IIIFCropper",
        "isLoading",
        "squareSmartCrop",
        "cropSize",
        "updateRegion",
        "currentRegion",
        "isSquare",
        "getCropFromZoomer",
        "setSquareSmartCrop",
        "buttonStyles",
        "background",
        "opacity",
        "imgStyle",
        "rawIIIFUrl",
        "iiifComponents",
        "iiifSize",
        "error",
        "sizeText",
        "componentWillUpdate",
        "nextProps",
        "nextState"
      ],
      "mappings": "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",
      "file": "artwork.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\nvar rest = require('rest')\nvar humanizeNumber = require('humanize-number')\nvar Helmet = require('react-helmet')\nvar cx = require('classnames')\n\nvar ArtworkImage = require('./artwork-image')\nvar Markdown = require('./markdown')\nvar ArtworkPreview = require('./artwork-preview')\nvar ArtworkDetails = require('./artwork-details')\nvar _Artwork = require('./_artwork')\nvar Image = require('./image')\nvar imageCDN = require('./image-cdn')\nvar SEARCH = require('./endpoints').search\nvar ArtworkRelatedContent = require('./artwork-related')\nvar ArtworkPageMetadata = require('./artwork/page-metadata')\nvar rightsDescriptions = require('./rights-types.js')\nvar ClosedBanner = require('./museum-closed-banner')\n\nvar Sticky = require('react-sticky')\n\nvar Artwork = React.createClass({\n  mixins: [Router.State],\n  statics: {\n    fetchData: {\n      artwork: (params, existingData) => {\n        if(existingData && existingData.id && existingData.id == params.id) return Promise.resolve(existingData)\n        return rest(`${SEARCH}/id/`+params.id)\n        .then((r) => JSON.parse(r.entity))\n        .then(art => {\n          art.slug = _Artwork.slug(art)\n          return art\n        })\n      },\n    },\n\n    checkRoute: (params, callback) => {\n      var existingArt = window.__DATA__ && window.__DATA__.artwork\n\n      return Artwork.fetchData.artwork(params, existingArt).then(art => {\n        window.__DATA__ = {artwork: art}\n        if(art.slug !== params.slug) {\n          params.slug = art.slug\n          return callback('mismatched slug', art)\n        }\n\n        if((isLoan(art) || notPublicAccess(art)) && !window.privilegedClientIP) {\n          return callback('permission denied', art)\n        }\n\n        callback(false, art)\n      })\n    },\n\n    willTransitionTo: function (transition, params, query, callback) {\n      if(params.id === 'leaflet-src.js.map')\n        return transition.redirect('home', {...params, status: 404})\n\n      Artwork.checkRoute(params, (err) => {\n        switch(err) {\n          case 'mismatched slug': transition.redirect('artworkSlug', params)\n          case 'permission denied': transition.redirect('home', {...params, status: 403})\n        }\n      })\n      .then(callback)\n    },\n  },\n\n  render() {\n    var art = this.state.art\n    var id = this.props.id || this.state.id\n    const highlights = this.props.highlights\n    var stickyMapStyle = this.context.universal ? {position: 'fixed'} : {}\n    var {smallViewport} = this.context\n\n    var pageTitle = [\n      art.title.replace(/<[^ ]+?>/g, '\"'),\n      _Artwork.Creator.getFacetAndValue(art)[1]\n    ].filter(e => e).join(', ')\n\n    var imageUrl = art.image_url || imageCDN(id)\n    var canonicalURL = `https://collections.artsmia.org/art/${art.id}/${art.slug}`\n\n    var aspectRatio = art.image_width/art.image_height\n    var mapHeight = aspectRatio && art.image == \"valid\" ?\n      Math.max(40, Math.min(65, 1/aspectRatio*80)) :\n      20\n    if(smallViewport && this.state.show3d) mapHeight = 67\n\n    var image = <Image art={art} style={{maxWidth: '95%', maxHeight: mapHeight-5+'vh'}} />\n\n    var showMoreIcon = Object.keys(art).filter(key => key.match(/related:/) && !key.match(/related:exhibitions/)).length > 0 &&\n      !this.state.fullscreenImage\n    var toggleRelated = this.state.smallViewportShowInfoOrRelatedContent\n    var infoRelatedToggleStyles = {\n      position: 'absolute',\n      zIndex: '10000',\n      right: '7px',\n      bottom: '7px',\n      color: '#232323',\n      backgroundColor: 'rgba(255, 255, 255, 0.7)',\n      borderRadius: '1em',\n      lineHeight: '0.3em',\n      padding: '0.3em',\n    }\n    var exploreStyle = {\n      display: 'block',\n      transform: 'translateY(-13px)',\n      paddingLeft: '2em',\n      // TODO - use a background image to center this better?\n      // but it's hard because one thing we want to use is a font icon\n      // and the other is an svg…\n      // backgroundImage: 'url(/images/more.svg)',\n      // backgroundPosition: 'left center',\n      // backgroundRepeat: 'none',\n    }\n    var exploreIcon = showMoreIcon &&\n      <a href=\"#\" onClick={this.toggleInfoAndRelatedContent} style={infoRelatedToggleStyles}>\n        {!toggleRelated ?\n          <img src=\"/images/more.svg\" style={{width: '1.7em'}}/> :\n          <i className=\"control material-icons\">info</i>}\n        <span style={exploreStyle}>\n          {!toggleRelated ? 'Explore' : 'Info'}\n        </span>\n      </a>\n    var relatedContent = <ArtworkRelatedContent id={id} art={art} />\n\n    var mapStyle = smallViewport ?\n      {width: '100%', display: 'inline-block', height: mapHeight+'vh'} :\n      stickyMapStyle\n\n    var {zoomLoaded, zoomLoadComplete} = this.state\n    var zoomLoadedSuccessfully = zoomLoaded && zoomLoaded !== 'error' && zoomLoadComplete\n\n    var rights = rightsDescriptions.getRights(art)\n    var map = <div ref='map' id='map' style={mapStyle} className={['leaflet-container', zoomLoadedSuccessfully && 'zoomLoaded'].join(' ')}>\n      {this.state.has3d && <SketchfabEmbed model={this.state.has3d} show={this.state.show3d} />}\n      {(art.image == 'valid' && rights !== 'Permission Denied') && <div id=\"staticImage\" className={zoomLoadedSuccessfully && 'zoomLoaded'}>\n        {image}\n        {!!zoomLoaded || (art.image_copyright && <p style={{fontSize: '0.8em'}}>{decodeURIComponent(art.image_copyright)}</p>)}\n      </div> || <NoImagePlaceholder art={art} />}\n      {this.imageStatus()}\n      {smallViewport && showMoreIcon && exploreIcon}\n    </div>\n\n    var showCropUI = this.state.showBiggie\n    var detailCropper = showCropUI && <div style={{marginTop: '1em'}}>\n      <IIIFCropper\n        captureViewRegion={this.captureViewRegion}\n        updateRegion={(args) => this.setState(args)}\n        currentRegion={this.state.iiifRegion}\n        cropAspectRatio={this.state.cropAspectRatio}\n        art={art}\n      />\n    </div>\n\n    var info = <div className='info'>\n      {this.props.children || <div>\n        {smallViewport && <div style={{margin: '-2em 0 1em 0'}}>{detailCropper}</div>}\n        <ArtworkPreview art={art} showLink={this.props.showLink} showDuplicateDetails={true} />\n        {this.state.has3d && <div className=\"images\">\n          <p onClick={this.toggle3d}>{this.state.show3d ? 'show high-res image' : 'show 3D model'}</p> \n        </div>}\n        <div className=\"back-button\">\n          {this.props.showLinkComponent || (window.history && history.length > 1 ? <a href=\"#\" onClick={() => history.go(-1)}>\n            <i className=\"material-icons\">arrow_back</i> back\n          </a> : <Link to=\"/\"><i className=\"material-icons\">arrow_back</i> home</Link>)}\n        </div>\n        {smallViewport || relatedContent}\n        <div>\n          <h5 className='details-title'>Details</h5>\n          <ArtworkDetails art={art} show3d={this.state.show3d} />\n        </div>\n      </div>}\n      <ClosedBanner />\n\n      {smallViewport || detailCropper}\n\n      {false && <a href={`?manifest=https://iiif.dx.artsmia.org/${this.state.id}.jpg/manifest.json`}>\n        <img src=\"iiif-dragndrop-100px.png\" alt=\"IIIF Drag-n-drop\" /> IIIF!\n      </a>}\n    </div>\n\n    var smallViewportWithTabbedInfoAndRelated = <div>\n      <div style={{display: !!toggleRelated ? 'none' : 'block'}}>{info}</div>\n      <div style={{display: !toggleRelated ? 'none' : 'block'}}><div className='info'>{relatedContent}</div></div>\n    </div>\n    // TODO: should the related content be in both the info and more-specific view?\n    // react can't gradt an <audio> tag while playing, so showing it in both places makes the playback weird.\n    // code below in case this needs to be revisited\n    // {(smallViewport && toggleRelated) || relatedContent} <- goes into info div\n    // var smallViewportWithTabbedInfoAndRelated = !toggleRelated ? \n    //   info :\n    //   <div className=\"info\">{relatedContent}</div>\n\n    var content\n    if(smallViewport) {\n      content = <div>\n        {map}\n        {smallViewportWithTabbedInfoAndRelated}\n      </div>\n    } else {\n      content = <div>\n        {info}\n\n        <Sticky\n          stickyStyle={{position: 'fixed', height: '100%', width: '65%', top: 0, transform: 'translate3d(0px,0px,0px)'}}\n          onStickyStateChange={this.resizeMap}>\n          {map}\n        </Sticky>\n      </div>\n    }\n\n    return <div className={cx('artwork', {smallviewport: smallViewport})}>\n      {content}\n      <ArtworkPageMetadata art={art} noIndex={this.notPublicAccess()} />\n    </div>\n  },\n\n  toggle3d() {\n    var nextShow3d = !this.state.show3d\n    this.setState({show3d: nextShow3d})\n    if(!nextShow3d) {\n      if(!this.state.zoomLoaded) this.loadZoom()\n    }\n    if(nextShow3d && this.state.zoomLoaded) {\n    }\n  },\n\n  getInitialState() {\n    var art = this.props.data.artwork\n    art.id = this.props.id || (isNaN(art.id)\n      ? art.id.replace('http://api.artsmia.org/objects/', '')\n      : art.id)\n\n    var has3Dmodel = art[\"related:3dmodels\"] && art[\"related:3dmodels\"][0]\n    var navigatedFrom3dModelSearch = window &&\n      window.lastSearchedTerms && \n      window.lastSearchedTerms.indexOf('related:3dmodels') >= 0\n\n    \n    var rights = rightsDescriptions.getRights(art)\n    const showBiggie = art.restricted === 0 \n      || ['Copyright Protected', 'Needs Permission', 'In Copyright',\n        \"In Copyright - Rights-holder(s) Unlocatable or Unidentifiable\",\n        \"In Copyright–Rights-holder(s) Unlocatable\",\n        \"Copyright Not Evaluated\",\n        \"Permission Denied\"\n      ].indexOf(rights) < 0\n\n    return {\n      art: art,\n      id: art.id,\n      fullscreenImage: false,\n      has3d: has3Dmodel,\n      show3d: navigatedFrom3dModelSearch,\n      smallViewportShowInfoOrRelatedContent: window && window.enteredViaMore,\n      showBiggie,\n    }\n  },\n\n  shouldComponentUpdate(prevProps, prevState) {\n    return true\n  },\n\n  componentDidMount() {\n    this.initView()\n  },\n\n  initView() {\n    var art = this.state.art\n    this.setState({zoomLoaded: false, zoomLoadComplete: false, zoomLoadedSuccessfully: false})\n\n    if(art.image === 'valid' && this.state.showBiggie && !this.isLoan() && !this.state.show3d) {\n      this.loadZoom({reset: true})\n    } else {\n      this.map.off()\n      this.map.remove()\n      this.map = undefined\n      this.tiles = undefined\n    }\n    \n    var {smallViewport} = this.context\n    // push the viewport down past the header to maximize image/text on the page\n    // scrolling back up reveals the menu\n    // TODO: is there a way to automatically trigger safari's minimal chrome other than a user-initiated scroll event? (probably not https://stackoverflow.com/a/26884561)\n    if(smallViewport && window.scrollX == 0) setTimeout(() => window.scrollTo(0, 56), 0)\n  },\n\n  componentDidUpdate() {\n    if(this.context.smallViewport != this.state.lastSmallViewportSetting) {\n      this.setState({lastSmallViewportSetting: this.context.smallViewport})\n      if(this.map && this.tiles) {\n        this.loadZoom({reset: true})\n      }\n    }\n\n    if(this.state.id !== this.props.data.artwork.id) {\n      this.setState(this.getInitialState())\n      setTimeout(this.initView, 1000)\n    }\n  },\n\n  loadZoom(options = {reset: false}) {\n    var L = require('leaflet')\n    var Liiif = require('leaflet-iiif')\n    var fullscreen = require('leaflet-fullscreen')\n    \n    var art = this.state.art\n    this.setState({zoomLoaded: false, zoomLoading: true})\n\n    if(options && options.reset && this.map) {\n      this.map.off()\n      this.map.remove()\n      this.map = undefined\n      this.tiles = undefined\n    }\n\n    const id = this.state.id\n    const iiif0Url = `https://tiles.dx.artsmia.org/iiif/${this.state.id}`\n    const iiifUrl = `https://iiif.dx.artsmia.org/${this.state.id}.jpg/info.json`\n\n    rest(iiif0Url)\n\n    rest(iiifUrl)\n    .then(\n      response => JSON.parse(response.entity),\n      rejected => {\n        // TODO: log this somewhere\n        this.setState({zoomLoaded: 'error'})\n        return Promise.reject(new Error(`can't load tiles for ${art.id}`))\n      }\n    )\n    .then((data) => {\n      this.map = L.map(this.refs.map, {\n        crs: L.CRS.Simple,\n        zoomControl: false,\n        zoomSnap: 0,\n      })\n      window._map = this.map\n      this.map.attributionControl.setPrefix('')\n      const showZoomControlsIfDesktop = !L.Browser.touch || window.innerWidth > 780\n      if(showZoomControlsIfDesktop) new L.Control.Zoom({ position: 'topright' }).addTo(this.map)\n      new L.Control.Fullscreen({\n        position: 'topright',\n        pseudoFullscreen: true,\n      }).addTo(this.map)\n\n      this.tiles = L.tileLayer.iiif(iiifUrl, {\n        attribution: art.image_copyright ? decodeURIComponent(art.image_copyright) : '',\n        fitBounds: true,\n        setMaxBounds: true,\n        tileSize: 512,\n        id: id,\n        fudgeTileSize: 0.3,\n        iiifImageData: data,\n      })\n\n      this.map.setView([0, 0], 0)\n\n      this.tiles.addTo(this.map)\n\n      window._tiles = this.tiles\n      this.tiles.on('load', (event) => {\n        this.setState({zoomLoadComplete: true})\n        if(this.map.getMinZoom() > 0) return\n        // don't let the zoomed image get tiny\n        const minZoom = this.map.getZoom() - 0.3\n        console.info('set minZoom', minZoom)\n        this.map.setMinZoom(minZoom)\n        // TODO - reset minZoom when window is resized\n        // …and when fullscreen changes?\n      })\n\n      this.setState({zoomLoading: false, zoomLoaded: true})\n\n      this.map.on('fullscreenchange', () => {\n        this.setState({fullscreenImage: !this.state.fullscreenImage})\n        this.props.toggleAppHeader()\n      })\n\n      var interval = 400\n      false && setTimeout(function() {\n        // if not tile images have been loaded, force a zoom in and then a zoom out.\n        // This tricks leaflet to load the tiles? I'm not sure why but it probably has\n        // to do with a fractional zoom bug that I don't want to get into right now…\n        var tileContainer = _map._mapPane.querySelector('.leaflet-tile-container')\n        var tileElems = tileContainer.childElementCount \n        console.info('map tiles loaded', {tileElems, tileContainer})\n\n        if(tileElems <= 1) {\n          console.info('zooming out then back in', {max: _map.getMaxZoom()})\n          _map.setZoom(_map.getMaxZoom())\n          setTimeout(function() {\n            _map.setZoom(_tiles.options.minZoom+0.5)\n            setTimeout(function() {\n              _map.setZoom(_tiles.options.minZoom+0.4)\n              setTimeout(function() {\n                _map.setZoom(_tiles.options.minZoom+0.3)\n                setTimeout(function() {\n                  _map.setZoom(_tiles.options.minZoom+0.2)\n                  setTimeout(function() {\n                    _map.setZoom(_tiles.options.minZoom+0.1)\n                    setTimeout(function() {\n                      _map.setZoom(_tiles.options.minZoom)\n                    }, interval)\n                  }, interval)\n                }, interval)\n              }, interval)\n            }, interval)\n          }, interval)\n        } else {\n          console.info('not simulating zoom in/out?')\n        }\n      }, 1000)\n\n      var zoomCount, zoomInCount, zoomOutCount, prevZoom, nowZoom;\n      var zoomCount = zoomInCount = zoomOutCount = 0;\n      var prevZoom = nowZoom = this.map.getZoom();\n      var recentlyAutoZoomed = false;\n\n      this.map.on('zoomstart zoomend', (event) => {\n        [prevZoom, nowZoom] = [nowZoom, this.map.getZoom()]\n        zoomCount += 1\n        nowZoom > prevZoom ? zoomInCount += 1 : zoomOutCount += 1\n\n        var {smallViewport} = this.context\n        var isSecondZoomInAction = zoomInCount == 2\n        if(smallViewport && !recentlyAutoZoomed) {\n          // fullscreen the image when a user zooms twice in a row\n          // leave fullscreen when they return to minZoom\n          // mobile-only for now\n          var reasonsToChangeFullscreen = [\n            event.type == 'zoomstart' && zoomInCount == 2 && !this.map.isFullscreen(), // zooming in when not fullscreen\n            event.type == 'zoomend' && nowZoom >= 3 && !this.map.isFullscreen(), // not fullscreen and zoomed in quite far\n            event.type == 'zoomend' && this.map.getZoom() == this.map.getMinZoom() && this.map.isFullscreen(), // in fullscreen, zooming out to minZoom\n          ]\n          if(reasonsToChangeFullscreen.find(reason => reason)) { // if any of the valid reasons evaluate to true\n            this.map.toggleFullscreen({pseudoFullscreen: true})\n            recentlyAutoZoomed = true\n            clearTimeout(this.zoomCountResetTimer)\n            this.zoomCountResetTimer = setTimeout(() => { zoomCount = zoomInCount = zoomOutCount = 0; recentlyAutoZoomed = false }, 1000)\n          }\n        }\n      })\n    })\n    .catch(err => this.setState({zoomLoading: false}))\n  },\n\n  resizeMap() {\n    if(this.map && this.tiles) {\n      this.map.invalidateSize()\n    }\n  },\n\n  /**\n   * convert the currently viewed area of the zoomable image to an IIIF deriv\n   * thankya https://bl.ocks.org/mejackreed/6936585f435b60aa9451ae2bc1c199f2\n   */\n  captureViewRegion() {\n    if(!this.map) return\n\n    let { cropAspectRatio } = this.state\n\n    let map = this.map\n    let iiifLayer = this.tiles\n    let bounds = map.getBounds()\n    let fractionalZoom = map.getZoom()\n    let zoom = Math.floor(fractionalZoom) // should this be floor, or round?\n    let min = map.project(bounds.getSouthWest(), zoom)\n    let max = map.project(bounds.getNorthEast(), zoom)\n    let imageSize = iiifLayer._imageSizes[zoom]\n    let xRatio = iiifLayer.x / imageSize.x\n    let yRatio = iiifLayer.y / imageSize.y\n\n    let x0 = Math.max(0, Math.floor(min.x * xRatio))\n    let y0 = Math.max(0, Math.floor(max.y * yRatio))\n    let w = Math.floor((max.x - min.x) * xRatio)\n    let h = Math.floor((min.y - max.y) * yRatio)\n    /**\n     * To constrain the crop to a specific aspect ratio:\n     *\n     *  square = 1/1, and 3:2 (which is actually 2/3? Confuses me, but it's working)\n     *\n     * Adapt the rectangular region to be the desired aspect ratio by\n     * 'shaving' it down to fit. To get a taller region down to 3:2, \n     * take the width as `3`, then remove a strip from the top and bottom\n     * so that the height ends up as `2`. This weighs the 3:2 crop to the center.\n     * TODO adding an option to weigh to the edge of the image might be nice\n     */\n    let deltaFactor = (cropAspectRatio || 1)*2\n    let whDelta = Math.round((w - h) / deltaFactor)\n    let adjustedX0 = w > h ? x0 + whDelta : x0\n    let adjustedY0 = h >= w ? y0 - whDelta : y0\n    let whMin = Math.min(w, h)\n    let adjustedW = whMin\n    let adjustedH = Math.round(whMin*cropAspectRatio)\n    let constrainToAspectRatio = Boolean(cropAspectRatio)\n    let region = !constrainToAspectRatio\n      ? [ x0, y0, w, h ]\n      : [\n        adjustedX0,\n        adjustedY0,\n        adjustedW,\n        adjustedH,\n      ]\n\n    if(constrainToAspectRatio) {\n      // Indicate where the square crop is coming from with a polygon overlay\n      // that's removed after a second or two\n      let detailHighlightLayer = L.rectangle([\n        L.point(adjustedX0, adjustedY0), // top left\n        L.point(adjustedX0+adjustedW, adjustedY0+adjustedH), // bottom right\n      ].map(point => map.unproject(point, zoom)))\n      setTimeout(() => detailHighlightLayer.addTo(map), 31)\n      setTimeout(() => detailHighlightLayer.remove(), 3579)\n    }\n\n    let baseUrl = 'https://iiif.dx.artsmia.org'\n    let url = baseUrl + '/' + this.state.id + '.jpg/' + region.join(',') + '/800,/0/default.jpg'\n\n    this.setState({iiifRegion: url})\n  },\n\n  imageStatus() {\n    var {art, zoomLoaded, zoomLoadComplete, zoomLoading} = this.state\n    var copyrightAndOnViewMessage = art.room && art.room[0] == 'G' ? \" (You'll have to come see it in person.)\" : ''\n    var loadingZoomMessage =  `\n      (—Is that the best image you've got!!?\n      —Nope! We're loading ${humanizeNumber(this.getPixelDifference(800))} more pixels right now.\n      It can take a few seconds.)`\n    var showLoadingMessage = zoomLoading && zoomLoaded === false && !this.context.universal\n    var showErrorMessage = zoomLoaded === 'error'\n    var {smallViewport} = this.context\n\n    const showCopyrightNotice = !this.state.showBiggie\n\n    return art.image === 'valid' && <span className=\"imageStatus\">\n      {showLoadingMessage && loadingZoomMessage}\n      {showErrorMessage && <p>Error loading high resolution image. <a href=\"mailto:collectionsdata+images@artsmia.org\">Report this problem</a>.</p>}\n      {showCopyrightNotice && !smallViewport && \"Because of © restrictions, we can only show you a small image of this artwork.\" + copyrightAndOnViewMessage}\n    </span>\n  },\n\n  calculateImagePixelSize(size) {\n    var {image_width, image_height} = this.state.art\n    var maxDimension = Math.max(image_width, image_height)\n    var size = size || maxDimension\n    var ratio = Math.floor(maxDimension/size)\n\n    return Math.floor(image_width/ratio) * Math.floor(image_height/ratio)\n  },\n\n  // how many more pixels are in the full sized image than the given thumbnail?\n  getPixelDifference(size=800) {\n    return Math.floor(\n      this.calculateImagePixelSize() - this.calculateImagePixelSize(800)\n    )\n  },\n\n  isLoan() {\n    return this.state.art.accession_number.match(/^L/i)\n  },\n\n  notPublicAccess() {\n    return isLoan(this.state.art)\n      || notPublicAccess(this.state.art)\n      || process.env.NODE_ENV !== 'production'\n  },\n\n  toggleInfoAndRelatedContent(event) {\n    this.setState({smallViewportShowInfoOrRelatedContent: !this.state.smallViewportShowInfoOrRelatedContent})\n    event.preventDefault()\n  },\n})\nArtwork.contextTypes = {\n  router: React.PropTypes.func,\n  universal: React.PropTypes.bool,\n  smallViewport: React.PropTypes.bool,\n  clientIp: React.PropTypes.string,\n}\n\nvar noImageStyle = {\n  wrapper: {\n    \"position\": 'absolute',\n    \"top\": '50%',\n    \"left\": '50%',\n    \"transform\": 'translate(-50%, -50%)',\n    \"WebkitTransform\": 'translate(-50%, -50%)',\n    \"width\": '77%',\n    \"textAlign\": 'center',\n  },\n  pattern: {\n  }\n}\nvar NoImagePlaceholder = React.createClass({\n  render() {\n    var {art} = this.props\n    var model = art[\"related:3dmodels\"] && art[\"related:3dmodels\"][0]\n    return model ? <SketchfabEmbed model={model} /> :\n      <div style={noImageStyle.wrapper}>\n        <div className=\"noImage invalid\"><p>No Image Available</p></div>\n      </div>\n  }\n})\n\nvar SketchfabEmbed = React.createClass({\n  render() {\n    var showHideStyle = {}\n    if(!this.props.show) showHideStyle.visibility = 'hidden'\n    return <div className=\"sketchfab-embed-wrapper\" style={showHideStyle}>\n      <iframe\n        src={`${this.props.model.link}/embed?autostart=1&preload=1&ui_infos=0`}\n        frameborder=\"0\"\n        allowvr\n        allowfullscreen mozallowfullscreen=\"true\" webkitallowfullscreen=\"true\"\n        onmousewheel=\"\"></iframe>\n    </div>\n  }\n})\n\nmodule.exports = Artwork\n\nfunction isLoan(art) {\n  return !!art.accession_number.match(/^L/i)\n}\nfunction notPublicAccess(art) {\n  return art.public_access === '0'\n}\n\nvar IIIFCropper = React.createClass({\n  getInitialState(props) {\n    return {\n        isLoading: true,\n        squareSmartCrop: `https://iiif.dx.artsmia.org/${this.props.art.id}.jpg/-1,-1,800,800/full/0/default.jpg`,\n        cropSize: 800,\n      }\n  },\n\n  render() {\n    const { art, captureViewRegion, updateRegion, currentRegion, cropAspectRatio } = this.props\n    const { isLoading, squareSmartCrop, cropSize } = this.state\n    const isSquare = currentRegion === squareSmartCrop\n    const getCropFromZoomer = () => {\n      this.setState({cropSize: 800})\n      captureViewRegion()\n    }\n    const setSquareSmartCrop = () => updateRegion({iiifRegion: squareSmartCrop, cropAspectRatio: 1})\n\n    const buttonStyles = {\n      color: 'white',\n      background: '#232323',\n      opacity: isLoading ? 0.3 : 1,\n    }\n\n    const imgStyle = {\n      maxWidth: '100%',\n      maxHeight: '300px',\n      opacity: isLoading ? 0.3 : 1,\n    }\n\n    const rawIIIFUrl = (currentRegion || squareSmartCrop)\n    // TODO node v7 (running on the server) doesn't support capturing named groups?\n    // const iiifComponents = rawIIIFUrl.match(/.org\\/(?<id>[0-9]+).jpg\\/(?<region>[^/]+)\\/(?<size>[^/]+)\\/0\\/default.jpg/)\n    // const iiifSize = iiifComponents.groups.size\n    const iiifComponents = rawIIIFUrl.match(/.org\\/([0-9]+).jpg\\/([^/]+)\\/([^/]+)\\/0\\/default.jpg/)\n    const iiifSize = iiifComponents[3]\n    const iiifUrl = rawIIIFUrl.replace(iiifSize, cropSize === 'full' ? cropSize : `${cropSize},`)\n\n    return <div>\n      {iiifUrl && <details open={Boolean(currentRegion)}>\n        <summary>\n          <button onClick={getCropFromZoomer} disabled={isLoading} style={buttonStyles}>\n            📷 Save detail\n          </button> {' '}\n          {(!currentRegion || isSquare) || <button onClick={setSquareSmartCrop} style={buttonStyles}>\n            ✂️  Smart Crop\n          </button>}\n        </summary>\n        <figure style={{margin: 0}}>\n          <a href={iiifUrl} target=\"_blank\">\n            <img\n              src={iiifUrl}\n              style={imgStyle}\n              onLoad={() => this.setState({isLoading: false})}\n              onError={() => this.setState({isLoading: false, error: true})}\n            />\n          </a>\n          <figcaption>\n            {isLoading || <div>\n              <p>{[400, 800, 1200, 'full'].map(size => {\n                const sizeText = isNaN(size) ? 'full size' : `${size}px`\n                return cropSize === size\n                  ? <span key={size} style={{padding: '0px 7px'}}>{sizeText}</span>\n                  : <button key={size} onClick={() => this.setState({cropSize: size, isLoading: true})} style={buttonStyles}>{sizeText}</button>\n              })}</p>\n              <label style={{display: 'block'}}>\n                <input\n                  name=\"cropAspectRatio\"\n                  type=\"radio\"\n                  checked={cropAspectRatio !== 1 && cropAspectRatio !== 2/3}\n                  onClick={() => updateRegion({cropAspectRatio: null})}\n                /> no aspect ratio\n                <input\n                  name=\"cropAspectRatio\"\n                  type=\"radio\"\n                  checked={cropAspectRatio === 1}\n                  onClick={() => updateRegion({cropAspectRatio: 1})}\n                /> square\n                <input\n                  name=\"cropAspectRatio\"\n                  type=\"radio\"\n                  checked={cropAspectRatio === 2/3}\n                  onClick={() => updateRegion({cropAspectRatio: 2/3})}\n                /> 3:2\n              </label>\n            </div>}\n            <p>Zoom in on the left to the detail you'd like to save. Click 'Save detail' and wait until the image updates. Right click the image to 'save image as' or copy link, or click the image to open in a new tab.</p>\n          </figcaption>\n        </figure>\n      </details>}\n    </div>\n  },\n\n  componentWillUpdate(nextProps, nextState) {\n    if (this.props.currentRegion !== nextProps.currentRegion) {\n      this.setState({isLoading: true})\n    }\n  }\n})\n"
      ]
    },
    "mtime": 1612393616748
  },
  "{\"filename\":\"/var/www/art/src/artists-by-letter.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/artists-by-letter.js",
      "filenameRelative": "/var/www/art/src/artists-by-letter.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "artists-by-letter.js",
      "sourceFileName": "artists-by-letter.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "artists-by-letter"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar rest = require('rest');\n\nvar ArtistsByLetter = React.createClass({\n  displayName: 'ArtistsByLetter',\n\n  mixins: [Router.State, Router.Navigation],\n\n  statics: {\n    fetchData: function fetchData(params) {\n      return rest('https://cdn.dx.artsmia.org/artists.json').then(function (r) {\n        return JSON.parse(r.entity).aggregations.artist.buckets;\n      });\n    }\n  },\n\n  render: function render() {\n    if (!this.props.data.artistsByName) return React.createElement('div', { className: 'loading' });\n    var letter = this.getParams().letter;\n    var letters = this.props.data.artistsByName.map(function (a) {\n      return a;\n    });\n    console.info(letters);\n    return React.createElement(\n      'dl',\n      null,\n      letters.map(function (l) {\n        return React.createElement(\n          'div',\n          { className: 'artist-by-letter' },\n          React.createElement(\n            'dt',\n            { key: l.key },\n            React.createElement(\n              Link,\n              { to: 'artistsByName', params: { letter: l.key } },\n              l.key\n            )\n          ),\n          letter === l.key && React.createElement(\n            'dd',\n            { style: { position: 'absolute', top: '3em' } },\n            l.byName.buckets.map(function (b) {\n              return React.createElement(\n                Link,\n                { to: 'filteredSearchResults', params: { terms: '*', splat: 'artist.raw:%22' + b.key + '%22' }, style: { display: 'block' } },\n                b.key\n              );\n            })\n          )\n        );\n      })\n    );\n  }\n});\n\nmodule.exports = ArtistsByLetter;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFydGlzdHMtYnktbGV0dGVyLmpzIl0sIm5hbWVzIjpbIlJlYWN0IiwicmVxdWlyZSIsIlJvdXRlciIsIkxpbmsiLCJyZXN0IiwiQXJ0aXN0c0J5TGV0dGVyIiwiY3JlYXRlQ2xhc3MiLCJtaXhpbnMiLCJTdGF0ZSIsIk5hdmlnYXRpb24iLCJzdGF0aWNzIiwiZmV0Y2hEYXRhIiwicGFyYW1zIiwidGhlbiIsInIiLCJKU09OIiwicGFyc2UiLCJlbnRpdHkiLCJhZ2dyZWdhdGlvbnMiLCJhcnRpc3QiLCJidWNrZXRzIiwicmVuZGVyIiwicHJvcHMiLCJkYXRhIiwiYXJ0aXN0c0J5TmFtZSIsImxldHRlciIsImdldFBhcmFtcyIsImxldHRlcnMiLCJtYXAiLCJhIiwiY29uc29sZSIsImluZm8iLCJsIiwia2V5IiwicG9zaXRpb24iLCJ0b3AiLCJieU5hbWUiLCJiIiwidGVybXMiLCJzcGxhdCIsImRpc3BsYXkiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFFBQVFDLFFBQVEsT0FBUixDQUFaO0FBQ0EsSUFBSUMsU0FBU0QsUUFBUSxjQUFSLENBQWI7SUFDTUUsSSxHQUFTRCxNLENBQVRDLEk7O0FBQ04sSUFBSUMsT0FBT0gsUUFBUSxNQUFSLENBQVg7O0FBRUEsSUFBSUksa0JBQWtCTCxNQUFNTSxXQUFOLENBQWtCO0FBQUE7O0FBQ3RDQyxVQUFRLENBQUNMLE9BQU9NLEtBQVIsRUFBZU4sT0FBT08sVUFBdEIsQ0FEOEI7O0FBR3RDQyxXQUFTO0FBQ1BDLGVBQVcsbUJBQUNDLE1BQUQsRUFBWTtBQUNyQixhQUFPUixLQUFLLHlDQUFMLEVBQWdEUyxJQUFoRCxDQUFxRCxVQUFDQyxDQUFELEVBQU87QUFDakUsZUFBT0MsS0FBS0MsS0FBTCxDQUFXRixFQUFFRyxNQUFiLEVBQXFCQyxZQUFyQixDQUFrQ0MsTUFBbEMsQ0FBeUNDLE9BQWhEO0FBQ0QsT0FGTSxDQUFQO0FBR0Q7QUFMTSxHQUg2Qjs7QUFXdENDLFFBWHNDLG9CQVc3QjtBQUNQLFFBQUcsQ0FBQyxLQUFLQyxLQUFMLENBQVdDLElBQVgsQ0FBZ0JDLGFBQXBCLEVBQW1DLE9BQU8sNkJBQUssV0FBVSxTQUFmLEdBQVA7QUFDbkMsUUFBSUMsU0FBUyxLQUFLQyxTQUFMLEdBQWlCRCxNQUE5QjtBQUNBLFFBQUlFLFVBQVUsS0FBS0wsS0FBTCxDQUFXQyxJQUFYLENBQWdCQyxhQUFoQixDQUE4QkksR0FBOUIsQ0FBa0MsVUFBQ0MsQ0FBRDtBQUFBLGFBQU9BLENBQVA7QUFBQSxLQUFsQyxDQUFkO0FBQ0FDLFlBQVFDLElBQVIsQ0FBYUosT0FBYjtBQUNBLFdBQ0U7QUFBQTtBQUFBO0FBQ0NBLGNBQVFDLEdBQVIsQ0FBWSxVQUFDSSxDQUFELEVBQU87QUFDbEIsZUFBTztBQUFBO0FBQUEsWUFBSyxXQUFVLGtCQUFmO0FBQ0w7QUFBQTtBQUFBLGNBQUksS0FBS0EsRUFBRUMsR0FBWDtBQUFnQjtBQUFDLGtCQUFEO0FBQUEsZ0JBQU0sSUFBRyxlQUFULEVBQXlCLFFBQVEsRUFBQ1IsUUFBUU8sRUFBRUMsR0FBWCxFQUFqQztBQUFtREQsZ0JBQUVDO0FBQXJEO0FBQWhCLFdBREs7QUFFSlIscUJBQVdPLEVBQUVDLEdBQWIsSUFBb0I7QUFBQTtBQUFBLGNBQUksT0FBTyxFQUFDQyxVQUFVLFVBQVgsRUFBdUJDLEtBQUssS0FBNUIsRUFBWDtBQUNsQkgsY0FBRUksTUFBRixDQUFTaEIsT0FBVCxDQUFpQlEsR0FBakIsQ0FBcUIsVUFBQ1MsQ0FBRDtBQUFBLHFCQUFPO0FBQUMsb0JBQUQ7QUFBQSxrQkFBTSxJQUFHLHVCQUFULEVBQWlDLFFBQVEsRUFBQ0MsT0FBTyxHQUFSLEVBQWFDLDBCQUF3QkYsRUFBRUosR0FBMUIsUUFBYixFQUF6QyxFQUEyRixPQUFPLEVBQUNPLFNBQVMsT0FBVixFQUFsRztBQUF1SEgsa0JBQUVKO0FBQXpILGVBQVA7QUFBQSxhQUFyQjtBQURrQjtBQUZoQixTQUFQO0FBTUQsT0FQQTtBQURELEtBREY7QUFZRDtBQTVCcUMsQ0FBbEIsQ0FBdEI7O0FBK0JBUSxPQUFPQyxPQUFQLEdBQWlCckMsZUFBakIiLCJmaWxlIjoiYXJ0aXN0cy1ieS1sZXR0ZXIuanMiLCJzb3VyY2VSb290IjoiL3Zhci93d3cvYXJ0L3NyYyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHsgTGluayB9ID0gUm91dGVyXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxuXG52YXIgQXJ0aXN0c0J5TGV0dGVyID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBtaXhpbnM6IFtSb3V0ZXIuU3RhdGUsIFJvdXRlci5OYXZpZ2F0aW9uXSxcblxuICBzdGF0aWNzOiB7IFxuICAgIGZldGNoRGF0YTogKHBhcmFtcykgPT4ge1xuICAgICAgcmV0dXJuIHJlc3QoJ2h0dHBzOi8vY2RuLmR4LmFydHNtaWEub3JnL2FydGlzdHMuanNvbicpLnRoZW4oKHIpID0+IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoci5lbnRpdHkpLmFnZ3JlZ2F0aW9ucy5hcnRpc3QuYnVja2V0c1xuICAgICAgfSlcbiAgICB9XG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIGlmKCF0aGlzLnByb3BzLmRhdGEuYXJ0aXN0c0J5TmFtZSkgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibG9hZGluZ1wiPjwvZGl2PlxuICAgIHZhciBsZXR0ZXIgPSB0aGlzLmdldFBhcmFtcygpLmxldHRlclxuICAgIHZhciBsZXR0ZXJzID0gdGhpcy5wcm9wcy5kYXRhLmFydGlzdHNCeU5hbWUubWFwKChhKSA9PiBhKVxuICAgIGNvbnNvbGUuaW5mbyhsZXR0ZXJzKVxuICAgIHJldHVybiAoXG4gICAgICA8ZGw+XG4gICAgICB7bGV0dGVycy5tYXAoKGwpID0+IHtcbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPSdhcnRpc3QtYnktbGV0dGVyJz5cbiAgICAgICAgICA8ZHQga2V5PXtsLmtleX0+PExpbmsgdG89XCJhcnRpc3RzQnlOYW1lXCIgcGFyYW1zPXt7bGV0dGVyOiBsLmtleX19PntsLmtleX08L0xpbms+PC9kdD5cbiAgICAgICAgICB7bGV0dGVyID09PSBsLmtleSAmJiA8ZGQgc3R5bGU9e3twb3NpdGlvbjogJ2Fic29sdXRlJywgdG9wOiAnM2VtJ319PlxuICAgICAgICAgICAge2wuYnlOYW1lLmJ1Y2tldHMubWFwKChiKSA9PiA8TGluayB0bz1cImZpbHRlcmVkU2VhcmNoUmVzdWx0c1wiIHBhcmFtcz17e3Rlcm1zOiAnKicsIHNwbGF0OiBgYXJ0aXN0LnJhdzolMjIke2Iua2V5fSUyMmB9fSBzdHlsZT17e2Rpc3BsYXk6ICdibG9jayd9fT57Yi5rZXl9PC9MaW5rPil9XG4gICAgICAgICAgPC9kZD59XG4gICAgICAgIDwvZGl2PlxuICAgICAgfSl9XG4gICAgICA8L2RsPlxuICAgIClcbiAgfVxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBBcnRpc3RzQnlMZXR0ZXJcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "artists-by-letter.js"
      ],
      "names": [
        "React",
        "require",
        "Router",
        "Link",
        "rest",
        "ArtistsByLetter",
        "createClass",
        "mixins",
        "State",
        "Navigation",
        "statics",
        "fetchData",
        "params",
        "then",
        "r",
        "JSON",
        "parse",
        "entity",
        "aggregations",
        "artist",
        "buckets",
        "render",
        "props",
        "data",
        "artistsByName",
        "letter",
        "getParams",
        "letters",
        "map",
        "a",
        "console",
        "info",
        "l",
        "key",
        "position",
        "top",
        "byName",
        "b",
        "terms",
        "splat",
        "display",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;AACA,IAAIC,SAASD,QAAQ,cAAR,CAAb;IACME,I,GAASD,M,CAATC,I;;AACN,IAAIC,OAAOH,QAAQ,MAAR,CAAX;;AAEA,IAAII,kBAAkBL,MAAMM,WAAN,CAAkB;AAAA;;AACtCC,UAAQ,CAACL,OAAOM,KAAR,EAAeN,OAAOO,UAAtB,CAD8B;;AAGtCC,WAAS;AACPC,eAAW,mBAACC,MAAD,EAAY;AACrB,aAAOR,KAAK,yCAAL,EAAgDS,IAAhD,CAAqD,UAACC,CAAD,EAAO;AACjE,eAAOC,KAAKC,KAAL,CAAWF,EAAEG,MAAb,EAAqBC,YAArB,CAAkCC,MAAlC,CAAyCC,OAAhD;AACD,OAFM,CAAP;AAGD;AALM,GAH6B;;AAWtCC,QAXsC,oBAW7B;AACP,QAAG,CAAC,KAAKC,KAAL,CAAWC,IAAX,CAAgBC,aAApB,EAAmC,OAAO,6BAAK,WAAU,SAAf,GAAP;AACnC,QAAIC,SAAS,KAAKC,SAAL,GAAiBD,MAA9B;AACA,QAAIE,UAAU,KAAKL,KAAL,CAAWC,IAAX,CAAgBC,aAAhB,CAA8BI,GAA9B,CAAkC,UAACC,CAAD;AAAA,aAAOA,CAAP;AAAA,KAAlC,CAAd;AACAC,YAAQC,IAAR,CAAaJ,OAAb;AACA,WACE;AAAA;AAAA;AACCA,cAAQC,GAAR,CAAY,UAACI,CAAD,EAAO;AAClB,eAAO;AAAA;AAAA,YAAK,WAAU,kBAAf;AACL;AAAA;AAAA,cAAI,KAAKA,EAAEC,GAAX;AAAgB;AAAC,kBAAD;AAAA,gBAAM,IAAG,eAAT,EAAyB,QAAQ,EAACR,QAAQO,EAAEC,GAAX,EAAjC;AAAmDD,gBAAEC;AAArD;AAAhB,WADK;AAEJR,qBAAWO,EAAEC,GAAb,IAAoB;AAAA;AAAA,cAAI,OAAO,EAACC,UAAU,UAAX,EAAuBC,KAAK,KAA5B,EAAX;AAClBH,cAAEI,MAAF,CAAShB,OAAT,CAAiBQ,GAAjB,CAAqB,UAACS,CAAD;AAAA,qBAAO;AAAC,oBAAD;AAAA,kBAAM,IAAG,uBAAT,EAAiC,QAAQ,EAACC,OAAO,GAAR,EAAaC,0BAAwBF,EAAEJ,GAA1B,QAAb,EAAzC,EAA2F,OAAO,EAACO,SAAS,OAAV,EAAlG;AAAuHH,kBAAEJ;AAAzH,eAAP;AAAA,aAArB;AADkB;AAFhB,SAAP;AAMD,OAPA;AADD,KADF;AAYD;AA5BqC,CAAlB,CAAtB;;AA+BAQ,OAAOC,OAAP,GAAiBrC,eAAjB",
      "file": "artists-by-letter.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar { Link } = Router\nvar rest = require('rest')\n\nvar ArtistsByLetter = React.createClass({\n  mixins: [Router.State, Router.Navigation],\n\n  statics: { \n    fetchData: (params) => {\n      return rest('https://cdn.dx.artsmia.org/artists.json').then((r) => {\n        return JSON.parse(r.entity).aggregations.artist.buckets\n      })\n    }\n  },\n\n  render() {\n    if(!this.props.data.artistsByName) return <div className=\"loading\"></div>\n    var letter = this.getParams().letter\n    var letters = this.props.data.artistsByName.map((a) => a)\n    console.info(letters)\n    return (\n      <dl>\n      {letters.map((l) => {\n        return <div className='artist-by-letter'>\n          <dt key={l.key}><Link to=\"artistsByName\" params={{letter: l.key}}>{l.key}</Link></dt>\n          {letter === l.key && <dd style={{position: 'absolute', top: '3em'}}>\n            {l.byName.buckets.map((b) => <Link to=\"filteredSearchResults\" params={{terms: '*', splat: `artist.raw:%22${b.key}%22`}} style={{display: 'block'}}>{b.key}</Link>)}\n          </dd>}\n        </div>\n      })}\n      </dl>\n    )\n  }\n})\n\nmodule.exports = ArtistsByLetter\n"
      ]
    },
    "mtime": 1489607727002
  },
  "{\"filename\":\"/var/www/art/src/objects-by-id.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/objects-by-id.js",
      "filenameRelative": "/var/www/art/src/objects-by-id.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "objects-by-id.js",
      "sourceFileName": "objects-by-id.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "objects-by-id"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar rest = require('rest');\n\nvar SEARCH = require('./endpoints').search;\nvar ArtworkResult = require('./artwork-result');\nvar Search = require('./search');\n\nvar ObjectsById = React.createClass({\n  displayName: 'ObjectsById',\n\n  mixins: [Router.State],\n\n  statics: {\n    fetchData: {\n      searchResults: function searchResults(params) {\n        return rest(SEARCH + '/ids/' + params.ids).then(function (r) {\n          return JSON.parse(r.entity);\n        }).then(function (json) {\n          // remove any ids that weren't found in ES\n          var existingHits = json.hits.hits.filter(function (hit) {\n            var hasData = hit && hit.found;\n            if (!hasData) console.error('no data for', hit);\n            return hasData;\n          });\n\n          var ids = existingHits.map(function (hit) {\n            return hit._id;\n          });\n\n          // and reshape the ES payload to look the same, but exclude them\n          return _extends({}, json, {\n            csvQuery: 'ids/' + ids.join(','),\n            hits: _extends({}, json.hits, {\n              total: existingHits ? existingHits.length : 0,\n              hits: existingHits\n            })\n          });\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    return React.createElement(Search, this.props);\n  }\n});\n\nmodule.exports = ObjectsById;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9iamVjdHMtYnktaWQuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiUm91dGVyIiwicmVzdCIsIlNFQVJDSCIsInNlYXJjaCIsIkFydHdvcmtSZXN1bHQiLCJTZWFyY2giLCJPYmplY3RzQnlJZCIsImNyZWF0ZUNsYXNzIiwibWl4aW5zIiwiU3RhdGUiLCJzdGF0aWNzIiwiZmV0Y2hEYXRhIiwic2VhcmNoUmVzdWx0cyIsInBhcmFtcyIsImlkcyIsInRoZW4iLCJyIiwiSlNPTiIsInBhcnNlIiwiZW50aXR5IiwiZXhpc3RpbmdIaXRzIiwianNvbiIsImhpdHMiLCJmaWx0ZXIiLCJoYXNEYXRhIiwiaGl0IiwiZm91bmQiLCJjb25zb2xlIiwiZXJyb3IiLCJtYXAiLCJfaWQiLCJjc3ZRdWVyeSIsImpvaW4iLCJ0b3RhbCIsImxlbmd0aCIsInJlbmRlciIsInByb3BzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQUlBLFFBQVFDLFFBQVEsT0FBUixDQUFaO0FBQ0EsSUFBSUMsU0FBU0QsUUFBUSxjQUFSLENBQWI7QUFDQSxJQUFJRSxPQUFPRixRQUFRLE1BQVIsQ0FBWDs7QUFFQSxJQUFJRyxTQUFTSCxRQUFRLGFBQVIsRUFBdUJJLE1BQXBDO0FBQ0EsSUFBSUMsZ0JBQWdCTCxRQUFRLGtCQUFSLENBQXBCO0FBQ0EsSUFBSU0sU0FBU04sUUFBUSxVQUFSLENBQWI7O0FBRUEsSUFBSU8sY0FBY1IsTUFBTVMsV0FBTixDQUFrQjtBQUFBOztBQUNsQ0MsVUFBUSxDQUFDUixPQUFPUyxLQUFSLENBRDBCOztBQUdsQ0MsV0FBUztBQUNQQyxlQUFXO0FBQ1RDLHFCQUFlLHVCQUFDQyxNQUFEO0FBQUEsZUFBWVosS0FBUUMsTUFBUixhQUFzQlcsT0FBT0MsR0FBN0IsRUFDMUJDLElBRDBCLENBQ3JCLFVBQUNDLENBQUQ7QUFBQSxpQkFBT0MsS0FBS0MsS0FBTCxDQUFXRixFQUFFRyxNQUFiLENBQVA7QUFBQSxTQURxQixFQUUxQkosSUFGMEIsQ0FFckIsZ0JBQVE7QUFDWjtBQUNBLGNBQU1LLGVBQWdCQyxLQUFLQyxJQUFMLENBQVVBLElBQVYsQ0FBZUMsTUFBZixDQUFzQixlQUFPO0FBQ2pELGdCQUFNQyxVQUFVQyxPQUFPQSxJQUFJQyxLQUEzQjtBQUNBLGdCQUFHLENBQUNGLE9BQUosRUFBYUcsUUFBUUMsS0FBUixDQUFjLGFBQWQsRUFBNkJILEdBQTdCO0FBQ2IsbUJBQU9ELE9BQVA7QUFDRCxXQUpxQixDQUF0Qjs7QUFNQSxjQUFNVixNQUFNTSxhQUFhUyxHQUFiLENBQWlCO0FBQUEsbUJBQU9KLElBQUlLLEdBQVg7QUFBQSxXQUFqQixDQUFaOztBQUVBO0FBQ0EsOEJBQ0tULElBREw7QUFFRVUsK0JBQWlCakIsSUFBSWtCLElBQUosQ0FBUyxHQUFULENBRm5CO0FBR0VWLCtCQUNLRCxLQUFLQyxJQURWO0FBRUVXLHFCQUFPYixlQUFlQSxhQUFhYyxNQUE1QixHQUFxQyxDQUY5QztBQUdFWixvQkFBTUY7QUFIUjtBQUhGO0FBU0QsU0F0QjBCLENBQVo7QUFBQTtBQUROO0FBREosR0FIeUI7O0FBK0JsQ2UsUUEvQmtDLG9CQStCekI7QUFDUCxXQUFPLG9CQUFDLE1BQUQsRUFBWSxLQUFLQyxLQUFqQixDQUFQO0FBQ0Q7QUFqQ2lDLENBQWxCLENBQWxCOztBQW9DQUMsT0FBT0MsT0FBUCxHQUFpQmhDLFdBQWpCIiwiZmlsZSI6Im9iamVjdHMtYnktaWQuanMiLCJzb3VyY2VSb290IjoiL3Zhci93d3cvYXJ0L3NyYyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcblxudmFyIFNFQVJDSCA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJykuc2VhcmNoXG52YXIgQXJ0d29ya1Jlc3VsdCA9IHJlcXVpcmUoJy4vYXJ0d29yay1yZXN1bHQnKVxudmFyIFNlYXJjaCA9IHJlcXVpcmUoJy4vc2VhcmNoJylcblxudmFyIE9iamVjdHNCeUlkID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBtaXhpbnM6IFtSb3V0ZXIuU3RhdGVdLFxuXG4gIHN0YXRpY3M6IHtcbiAgICBmZXRjaERhdGE6IHtcbiAgICAgIHNlYXJjaFJlc3VsdHM6IChwYXJhbXMpID0+IHJlc3QoYCR7U0VBUkNIfS9pZHMvJHtwYXJhbXMuaWRzfWApXG4gICAgICAudGhlbigocikgPT4gSlNPTi5wYXJzZShyLmVudGl0eSkpXG4gICAgICAudGhlbihqc29uID0+IHtcbiAgICAgICAgLy8gcmVtb3ZlIGFueSBpZHMgdGhhdCB3ZXJlbid0IGZvdW5kIGluIEVTXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nSGl0cyA9ICBqc29uLmhpdHMuaGl0cy5maWx0ZXIoaGl0ID0+IHtcbiAgICAgICAgICBjb25zdCBoYXNEYXRhID0gaGl0ICYmIGhpdC5mb3VuZFxuICAgICAgICAgIGlmKCFoYXNEYXRhKSBjb25zb2xlLmVycm9yKCdubyBkYXRhIGZvcicsIGhpdClcbiAgICAgICAgICByZXR1cm4gaGFzRGF0YVxuICAgICAgICB9KVxuXG4gICAgICAgIGNvbnN0IGlkcyA9IGV4aXN0aW5nSGl0cy5tYXAoaGl0ID0+IGhpdC5faWQpXG5cbiAgICAgICAgLy8gYW5kIHJlc2hhcGUgdGhlIEVTIHBheWxvYWQgdG8gbG9vayB0aGUgc2FtZSwgYnV0IGV4Y2x1ZGUgdGhlbVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLmpzb24sXG4gICAgICAgICAgY3N2UXVlcnk6IGBpZHMvJHtpZHMuam9pbignLCcpfWAsXG4gICAgICAgICAgaGl0czoge1xuICAgICAgICAgICAgLi4uanNvbi5oaXRzLFxuICAgICAgICAgICAgdG90YWw6IGV4aXN0aW5nSGl0cyA/IGV4aXN0aW5nSGl0cy5sZW5ndGggOiAwLFxuICAgICAgICAgICAgaGl0czogZXhpc3RpbmdIaXRzLFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgfSxcbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxTZWFyY2ggey4uLnRoaXMucHJvcHN9IC8+XG4gIH1cbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0c0J5SWRcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "objects-by-id.js"
      ],
      "names": [
        "React",
        "require",
        "Router",
        "rest",
        "SEARCH",
        "search",
        "ArtworkResult",
        "Search",
        "ObjectsById",
        "createClass",
        "mixins",
        "State",
        "statics",
        "fetchData",
        "searchResults",
        "params",
        "ids",
        "then",
        "r",
        "JSON",
        "parse",
        "entity",
        "existingHits",
        "json",
        "hits",
        "filter",
        "hasData",
        "hit",
        "found",
        "console",
        "error",
        "map",
        "_id",
        "csvQuery",
        "join",
        "total",
        "length",
        "render",
        "props",
        "module",
        "exports"
      ],
      "mappings": ";;;;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;AACA,IAAIC,SAASD,QAAQ,cAAR,CAAb;AACA,IAAIE,OAAOF,QAAQ,MAAR,CAAX;;AAEA,IAAIG,SAASH,QAAQ,aAAR,EAAuBI,MAApC;AACA,IAAIC,gBAAgBL,QAAQ,kBAAR,CAApB;AACA,IAAIM,SAASN,QAAQ,UAAR,CAAb;;AAEA,IAAIO,cAAcR,MAAMS,WAAN,CAAkB;AAAA;;AAClCC,UAAQ,CAACR,OAAOS,KAAR,CAD0B;;AAGlCC,WAAS;AACPC,eAAW;AACTC,qBAAe,uBAACC,MAAD;AAAA,eAAYZ,KAAQC,MAAR,aAAsBW,OAAOC,GAA7B,EAC1BC,IAD0B,CACrB,UAACC,CAAD;AAAA,iBAAOC,KAAKC,KAAL,CAAWF,EAAEG,MAAb,CAAP;AAAA,SADqB,EAE1BJ,IAF0B,CAErB,gBAAQ;AACZ;AACA,cAAMK,eAAgBC,KAAKC,IAAL,CAAUA,IAAV,CAAeC,MAAf,CAAsB,eAAO;AACjD,gBAAMC,UAAUC,OAAOA,IAAIC,KAA3B;AACA,gBAAG,CAACF,OAAJ,EAAaG,QAAQC,KAAR,CAAc,aAAd,EAA6BH,GAA7B;AACb,mBAAOD,OAAP;AACD,WAJqB,CAAtB;;AAMA,cAAMV,MAAMM,aAAaS,GAAb,CAAiB;AAAA,mBAAOJ,IAAIK,GAAX;AAAA,WAAjB,CAAZ;;AAEA;AACA,8BACKT,IADL;AAEEU,+BAAiBjB,IAAIkB,IAAJ,CAAS,GAAT,CAFnB;AAGEV,+BACKD,KAAKC,IADV;AAEEW,qBAAOb,eAAeA,aAAac,MAA5B,GAAqC,CAF9C;AAGEZ,oBAAMF;AAHR;AAHF;AASD,SAtB0B,CAAZ;AAAA;AADN;AADJ,GAHyB;;AA+BlCe,QA/BkC,oBA+BzB;AACP,WAAO,oBAAC,MAAD,EAAY,KAAKC,KAAjB,CAAP;AACD;AAjCiC,CAAlB,CAAlB;;AAoCAC,OAAOC,OAAP,GAAiBhC,WAAjB",
      "file": "objects-by-id.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar rest = require('rest')\n\nvar SEARCH = require('./endpoints').search\nvar ArtworkResult = require('./artwork-result')\nvar Search = require('./search')\n\nvar ObjectsById = React.createClass({\n  mixins: [Router.State],\n\n  statics: {\n    fetchData: {\n      searchResults: (params) => rest(`${SEARCH}/ids/${params.ids}`)\n      .then((r) => JSON.parse(r.entity))\n      .then(json => {\n        // remove any ids that weren't found in ES\n        const existingHits =  json.hits.hits.filter(hit => {\n          const hasData = hit && hit.found\n          if(!hasData) console.error('no data for', hit)\n          return hasData\n        })\n\n        const ids = existingHits.map(hit => hit._id)\n\n        // and reshape the ES payload to look the same, but exclude them\n        return {\n          ...json,\n          csvQuery: `ids/${ids.join(',')}`,\n          hits: {\n            ...json.hits,\n            total: existingHits ? existingHits.length : 0,\n            hits: existingHits,\n          }\n        }\n      }),\n    },\n  },\n\n  render() {\n    return <Search {...this.props} />\n  }\n})\n\nmodule.exports = ObjectsById\n"
      ]
    },
    "mtime": 1588088003280
  },
  "{\"filename\":\"/var/www/art/src/department.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "slicedToArray",
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/department.js",
      "filenameRelative": "/var/www/art/src/department.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "department.js",
      "sourceFileName": "department.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "department"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Helmet = require('react-helmet');\n\nvar rest = require('rest');\n\nvar Search = require('./search');\nvar SearchResults = require('./search-results');\nvar Peek = require('./peek');\nvar DepartmentDecorator = require('./decorate/department');\nvar findDepartment = require('./department-slug');\nvar endpoint = require('./endpoints').info;\nvar Departments = require('./departments').component;\n\nvar Department = React.createClass({\n  displayName: 'Department',\n\n  mixins: [Router.State],\n\n  statics: {\n    fetchData: {\n      searchResults: function searchResults(params, query) {\n        params.terms = '*';\n        var name = findDepartment(params.dept)[0];\n        params.splat = 'department:\"' + name + '\"';\n        return SearchResults.fetchData.searchResults(params, query);\n      },\n      departments: function departments(params, query) {\n        return rest(endpoint).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var _findDepartment = findDepartment(this.props.params.dept),\n        _findDepartment2 = _slicedToArray(_findDepartment, 3),\n        deptName = _findDepartment2[0],\n        _ = _findDepartment2[1],\n        slug = _findDepartment2[2];\n\n    var facet = 'department:\"' + deptName + '\"';\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(Search, _extends({\n        facet: facet\n      }, this.props, {\n        hideInput: true,\n        hideResults: true })),\n      React.createElement(\n        'div',\n        { className: 'departmentPage' },\n        React.createElement(DepartmentDecorator, { key: deptName, department: deptName, params: this.props.params, departmentInfo: this.props.data.departments })\n      ),\n      React.createElement(Peek, { facet: 'department', q: deptName, quiltProps: { maxRowHeight: 400 }, offset: 10 }),\n      React.createElement(Helmet, { title: deptName }),\n      React.createElement(Departments, { compact: true, active: deptName })\n    );\n  }\n});\n\nmodule.exports = Department;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlcGFydG1lbnQuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiUm91dGVyIiwiSGVsbWV0IiwicmVzdCIsIlNlYXJjaCIsIlNlYXJjaFJlc3VsdHMiLCJQZWVrIiwiRGVwYXJ0bWVudERlY29yYXRvciIsImZpbmREZXBhcnRtZW50IiwiZW5kcG9pbnQiLCJpbmZvIiwiRGVwYXJ0bWVudHMiLCJjb21wb25lbnQiLCJEZXBhcnRtZW50IiwiY3JlYXRlQ2xhc3MiLCJtaXhpbnMiLCJTdGF0ZSIsInN0YXRpY3MiLCJmZXRjaERhdGEiLCJzZWFyY2hSZXN1bHRzIiwicGFyYW1zIiwicXVlcnkiLCJ0ZXJtcyIsIm5hbWUiLCJkZXB0Iiwic3BsYXQiLCJkZXBhcnRtZW50cyIsInRoZW4iLCJyIiwiSlNPTiIsInBhcnNlIiwiZW50aXR5IiwicmVuZGVyIiwicHJvcHMiLCJkZXB0TmFtZSIsIl8iLCJzbHVnIiwiZmFjZXQiLCJkYXRhIiwibWF4Um93SGVpZ2h0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7QUFDQSxJQUFJQyxTQUFTRCxRQUFRLGNBQVIsQ0FBYjtBQUNBLElBQUlFLFNBQVNGLFFBQVEsY0FBUixDQUFiOztBQUVBLElBQUlHLE9BQU9ILFFBQVEsTUFBUixDQUFYOztBQUVBLElBQUlJLFNBQVNKLFFBQVEsVUFBUixDQUFiO0FBQ0EsSUFBSUssZ0JBQWdCTCxRQUFRLGtCQUFSLENBQXBCO0FBQ0EsSUFBSU0sT0FBT04sUUFBUSxRQUFSLENBQVg7QUFDQSxJQUFJTyxzQkFBc0JQLFFBQVEsdUJBQVIsQ0FBMUI7QUFDQSxJQUFJUSxpQkFBaUJSLFFBQVEsbUJBQVIsQ0FBckI7QUFDQSxJQUFJUyxXQUFXVCxRQUFRLGFBQVIsRUFBdUJVLElBQXRDO0FBQ0EsSUFBSUMsY0FBY1gsUUFBUSxlQUFSLEVBQXlCWSxTQUEzQzs7QUFFQSxJQUFJQyxhQUFhZCxNQUFNZSxXQUFOLENBQWtCO0FBQUE7O0FBQ2pDQyxVQUFRLENBQUNkLE9BQU9lLEtBQVIsQ0FEeUI7O0FBR2pDQyxXQUFTO0FBQ1BDLGVBQVc7QUFDVEMscUJBQWUsdUJBQUNDLE1BQUQsRUFBU0MsS0FBVCxFQUFtQjtBQUNoQ0QsZUFBT0UsS0FBUCxHQUFlLEdBQWY7QUFDQSxZQUFJQyxPQUFPZixlQUFlWSxPQUFPSSxJQUF0QixFQUE0QixDQUE1QixDQUFYO0FBQ0FKLGVBQU9LLEtBQVAsR0FBZSxpQkFBZUYsSUFBZixHQUFvQixHQUFuQztBQUNBLGVBQU9sQixjQUFjYSxTQUFkLENBQXdCQyxhQUF4QixDQUFzQ0MsTUFBdEMsRUFBOENDLEtBQTlDLENBQVA7QUFDRCxPQU5RO0FBT1RLLG1CQUFhLHFCQUFDTixNQUFELEVBQVNDLEtBQVQsRUFBbUI7QUFDOUIsZUFBT2xCLEtBQUtNLFFBQUwsRUFBZWtCLElBQWYsQ0FBb0IsVUFBQ0MsQ0FBRDtBQUFBLGlCQUFPQyxLQUFLQyxLQUFMLENBQVdGLEVBQUVHLE1BQWIsQ0FBUDtBQUFBLFNBQXBCLENBQVA7QUFDRDtBQVRRO0FBREosR0FId0I7O0FBaUJqQ0MsUUFqQmlDLG9CQWlCeEI7QUFBQSwwQkFDbUJ4QixlQUFlLEtBQUt5QixLQUFMLENBQVdiLE1BQVgsQ0FBa0JJLElBQWpDLENBRG5CO0FBQUE7QUFBQSxRQUNGVSxRQURFO0FBQUEsUUFDUUMsQ0FEUjtBQUFBLFFBQ1dDLElBRFg7O0FBRVAsUUFBSUMseUJBQXVCSCxRQUF2QixNQUFKO0FBQ0EsV0FBTztBQUFBO0FBQUE7QUFDTCwwQkFBQyxNQUFEO0FBQ0UsZUFBT0c7QUFEVCxTQUVNLEtBQUtKLEtBRlg7QUFHRSxtQkFBVyxJQUhiO0FBSUUscUJBQWEsSUFKZixJQURLO0FBTUw7QUFBQTtBQUFBLFVBQUssV0FBVSxnQkFBZjtBQUNFLDRCQUFDLG1CQUFELElBQXFCLEtBQUtDLFFBQTFCLEVBQW9DLFlBQVlBLFFBQWhELEVBQTBELFFBQVEsS0FBS0QsS0FBTCxDQUFXYixNQUE3RSxFQUFxRixnQkFBZ0IsS0FBS2EsS0FBTCxDQUFXSyxJQUFYLENBQWdCWixXQUFySDtBQURGLE9BTks7QUFTTCwwQkFBQyxJQUFELElBQU0sT0FBTSxZQUFaLEVBQXlCLEdBQUdRLFFBQTVCLEVBQXNDLFlBQVksRUFBQ0ssY0FBYyxHQUFmLEVBQWxELEVBQXVFLFFBQVEsRUFBL0UsR0FUSztBQVVMLDBCQUFDLE1BQUQsSUFBUSxPQUFPTCxRQUFmLEdBVks7QUFXTCwwQkFBQyxXQUFELElBQWEsU0FBUyxJQUF0QixFQUE0QixRQUFRQSxRQUFwQztBQVhLLEtBQVA7QUFhRDtBQWpDZ0MsQ0FBbEIsQ0FBakI7O0FBb0NBTSxPQUFPQyxPQUFQLEdBQWlCNUIsVUFBakIiLCJmaWxlIjoiZGVwYXJ0bWVudC5qcyIsInNvdXJjZVJvb3QiOiIvdmFyL3d3dy9hcnQvc3JjIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIgSGVsbWV0ID0gcmVxdWlyZSgncmVhY3QtaGVsbWV0JylcblxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcblxudmFyIFNlYXJjaCA9IHJlcXVpcmUoJy4vc2VhcmNoJylcbnZhciBTZWFyY2hSZXN1bHRzID0gcmVxdWlyZSgnLi9zZWFyY2gtcmVzdWx0cycpXG52YXIgUGVlayA9IHJlcXVpcmUoJy4vcGVlaycpXG52YXIgRGVwYXJ0bWVudERlY29yYXRvciA9IHJlcXVpcmUoJy4vZGVjb3JhdGUvZGVwYXJ0bWVudCcpXG52YXIgZmluZERlcGFydG1lbnQgPSByZXF1aXJlKCcuL2RlcGFydG1lbnQtc2x1ZycpXG52YXIgZW5kcG9pbnQgPSByZXF1aXJlKCcuL2VuZHBvaW50cycpLmluZm9cbnZhciBEZXBhcnRtZW50cyA9IHJlcXVpcmUoJy4vZGVwYXJ0bWVudHMnKS5jb21wb25lbnRcblxudmFyIERlcGFydG1lbnQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIG1peGluczogW1JvdXRlci5TdGF0ZV0sXG5cbiAgc3RhdGljczoge1xuICAgIGZldGNoRGF0YToge1xuICAgICAgc2VhcmNoUmVzdWx0czogKHBhcmFtcywgcXVlcnkpID0+IHtcbiAgICAgICAgcGFyYW1zLnRlcm1zID0gJyonXG4gICAgICAgIHZhciBuYW1lID0gZmluZERlcGFydG1lbnQocGFyYW1zLmRlcHQpWzBdXG4gICAgICAgIHBhcmFtcy5zcGxhdCA9ICdkZXBhcnRtZW50OlwiJytuYW1lKydcIidcbiAgICAgICAgcmV0dXJuIFNlYXJjaFJlc3VsdHMuZmV0Y2hEYXRhLnNlYXJjaFJlc3VsdHMocGFyYW1zLCBxdWVyeSlcbiAgICAgIH0sXG4gICAgICBkZXBhcnRtZW50czogKHBhcmFtcywgcXVlcnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHJlc3QoZW5kcG9pbnQpLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpKVxuICAgICAgfVxuICAgIH0sXG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciBbZGVwdE5hbWUsIF8sIHNsdWddID0gZmluZERlcGFydG1lbnQodGhpcy5wcm9wcy5wYXJhbXMuZGVwdClcbiAgICB2YXIgZmFjZXQgPSBgZGVwYXJ0bWVudDpcIiR7ZGVwdE5hbWV9XCJgXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8U2VhcmNoXG4gICAgICAgIGZhY2V0PXtmYWNldH1cbiAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgIGhpZGVJbnB1dD17dHJ1ZX1cbiAgICAgICAgaGlkZVJlc3VsdHM9e3RydWV9IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImRlcGFydG1lbnRQYWdlXCI+XG4gICAgICAgIDxEZXBhcnRtZW50RGVjb3JhdG9yIGtleT17ZGVwdE5hbWV9IGRlcGFydG1lbnQ9e2RlcHROYW1lfSBwYXJhbXM9e3RoaXMucHJvcHMucGFyYW1zfSBkZXBhcnRtZW50SW5mbz17dGhpcy5wcm9wcy5kYXRhLmRlcGFydG1lbnRzfSAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8UGVlayBmYWNldD1cImRlcGFydG1lbnRcIiBxPXtkZXB0TmFtZX0gcXVpbHRQcm9wcz17e21heFJvd0hlaWdodDogNDAwfX0gb2Zmc2V0PXsxMH0vPlxuICAgICAgPEhlbG1ldCB0aXRsZT17ZGVwdE5hbWV9IC8+XG4gICAgICA8RGVwYXJ0bWVudHMgY29tcGFjdD17dHJ1ZX0gYWN0aXZlPXtkZXB0TmFtZX0gLz5cbiAgICA8L2Rpdj5cbiAgfVxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBEZXBhcnRtZW50XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "department.js"
      ],
      "names": [
        "React",
        "require",
        "Router",
        "Helmet",
        "rest",
        "Search",
        "SearchResults",
        "Peek",
        "DepartmentDecorator",
        "findDepartment",
        "endpoint",
        "info",
        "Departments",
        "component",
        "Department",
        "createClass",
        "mixins",
        "State",
        "statics",
        "fetchData",
        "searchResults",
        "params",
        "query",
        "terms",
        "name",
        "dept",
        "splat",
        "departments",
        "then",
        "r",
        "JSON",
        "parse",
        "entity",
        "render",
        "props",
        "deptName",
        "_",
        "slug",
        "facet",
        "data",
        "maxRowHeight",
        "module",
        "exports"
      ],
      "mappings": ";;;;;;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;AACA,IAAIC,SAASD,QAAQ,cAAR,CAAb;AACA,IAAIE,SAASF,QAAQ,cAAR,CAAb;;AAEA,IAAIG,OAAOH,QAAQ,MAAR,CAAX;;AAEA,IAAII,SAASJ,QAAQ,UAAR,CAAb;AACA,IAAIK,gBAAgBL,QAAQ,kBAAR,CAApB;AACA,IAAIM,OAAON,QAAQ,QAAR,CAAX;AACA,IAAIO,sBAAsBP,QAAQ,uBAAR,CAA1B;AACA,IAAIQ,iBAAiBR,QAAQ,mBAAR,CAArB;AACA,IAAIS,WAAWT,QAAQ,aAAR,EAAuBU,IAAtC;AACA,IAAIC,cAAcX,QAAQ,eAAR,EAAyBY,SAA3C;;AAEA,IAAIC,aAAad,MAAMe,WAAN,CAAkB;AAAA;;AACjCC,UAAQ,CAACd,OAAOe,KAAR,CADyB;;AAGjCC,WAAS;AACPC,eAAW;AACTC,qBAAe,uBAACC,MAAD,EAASC,KAAT,EAAmB;AAChCD,eAAOE,KAAP,GAAe,GAAf;AACA,YAAIC,OAAOf,eAAeY,OAAOI,IAAtB,EAA4B,CAA5B,CAAX;AACAJ,eAAOK,KAAP,GAAe,iBAAeF,IAAf,GAAoB,GAAnC;AACA,eAAOlB,cAAca,SAAd,CAAwBC,aAAxB,CAAsCC,MAAtC,EAA8CC,KAA9C,CAAP;AACD,OANQ;AAOTK,mBAAa,qBAACN,MAAD,EAASC,KAAT,EAAmB;AAC9B,eAAOlB,KAAKM,QAAL,EAAekB,IAAf,CAAoB,UAACC,CAAD;AAAA,iBAAOC,KAAKC,KAAL,CAAWF,EAAEG,MAAb,CAAP;AAAA,SAApB,CAAP;AACD;AATQ;AADJ,GAHwB;;AAiBjCC,QAjBiC,oBAiBxB;AAAA,0BACmBxB,eAAe,KAAKyB,KAAL,CAAWb,MAAX,CAAkBI,IAAjC,CADnB;AAAA;AAAA,QACFU,QADE;AAAA,QACQC,CADR;AAAA,QACWC,IADX;;AAEP,QAAIC,yBAAuBH,QAAvB,MAAJ;AACA,WAAO;AAAA;AAAA;AACL,0BAAC,MAAD;AACE,eAAOG;AADT,SAEM,KAAKJ,KAFX;AAGE,mBAAW,IAHb;AAIE,qBAAa,IAJf,IADK;AAML;AAAA;AAAA,UAAK,WAAU,gBAAf;AACE,4BAAC,mBAAD,IAAqB,KAAKC,QAA1B,EAAoC,YAAYA,QAAhD,EAA0D,QAAQ,KAAKD,KAAL,CAAWb,MAA7E,EAAqF,gBAAgB,KAAKa,KAAL,CAAWK,IAAX,CAAgBZ,WAArH;AADF,OANK;AASL,0BAAC,IAAD,IAAM,OAAM,YAAZ,EAAyB,GAAGQ,QAA5B,EAAsC,YAAY,EAACK,cAAc,GAAf,EAAlD,EAAuE,QAAQ,EAA/E,GATK;AAUL,0BAAC,MAAD,IAAQ,OAAOL,QAAf,GAVK;AAWL,0BAAC,WAAD,IAAa,SAAS,IAAtB,EAA4B,QAAQA,QAApC;AAXK,KAAP;AAaD;AAjCgC,CAAlB,CAAjB;;AAoCAM,OAAOC,OAAP,GAAiB5B,UAAjB",
      "file": "department.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar Helmet = require('react-helmet')\n\nvar rest = require('rest')\n\nvar Search = require('./search')\nvar SearchResults = require('./search-results')\nvar Peek = require('./peek')\nvar DepartmentDecorator = require('./decorate/department')\nvar findDepartment = require('./department-slug')\nvar endpoint = require('./endpoints').info\nvar Departments = require('./departments').component\n\nvar Department = React.createClass({\n  mixins: [Router.State],\n\n  statics: {\n    fetchData: {\n      searchResults: (params, query) => {\n        params.terms = '*'\n        var name = findDepartment(params.dept)[0]\n        params.splat = 'department:\"'+name+'\"'\n        return SearchResults.fetchData.searchResults(params, query)\n      },\n      departments: (params, query) => {\n        return rest(endpoint).then((r) => JSON.parse(r.entity))\n      }\n    },\n  },\n\n  render() {\n    var [deptName, _, slug] = findDepartment(this.props.params.dept)\n    var facet = `department:\"${deptName}\"`\n    return <div>\n      <Search\n        facet={facet}\n        {...this.props}\n        hideInput={true}\n        hideResults={true} />\n      <div className=\"departmentPage\">\n        <DepartmentDecorator key={deptName} department={deptName} params={this.props.params} departmentInfo={this.props.data.departments} />\n      </div>\n      <Peek facet=\"department\" q={deptName} quiltProps={{maxRowHeight: 400}} offset={10}/>\n      <Helmet title={deptName} />\n      <Departments compact={true} active={deptName} />\n    </div>\n  }\n})\n\nmodule.exports = Department\n"
      ]
    },
    "mtime": 1584573136822
  },
  "{\"filename\":\"/var/www/art/src/curator.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "slicedToArray"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/curator.js",
      "filenameRelative": "/var/www/art/src/curator.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "curator.js",
      "sourceFileName": "curator.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "curator"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar Helmet = require('react-helmet');\n\nvar rest = require('rest');\n\nvar Markdown = require('./markdown');\nvar endpoint = require('./endpoints').info;\nvar Search = require('./search');\nvar SearchResults = require('./search-results');\nvar Peek = require('./peek');\nvar DepartmentDecorator = require('./decorate/department');\nvar findDepartment = require('./department-slug');\n\nvar Curator = React.createClass({\n  displayName: 'Curator',\n\n  mixins: [Router.State],\n  headers: [{ curator: 'aaron-rio', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'andreas-marks', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'dennis-michael-jon', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'jan-lodewijk-grootaers', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'jennifer-komar-olivarez', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'jill-ahlberg-yohe', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'liu-yang', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'nicole-labouff', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'patrick-noon', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'rachel-mcgarry', image: 'http://new.artsmia.org/exhibitions' }, { curator: 'thomas-rassieur', image: 'http://new.artsmia.org/exhibitions' }],\n  statics: {\n    fetchData: {\n      curator: function curator(params, query) {\n        return rest(endpoint).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var curator = this.props.data.curator.curators[this.props.params.slug];\n    var departmentLink;\n    var departmentNames = findDepartment(curator.department);\n    if (departmentNames) {\n      var _departmentNames = _slicedToArray(departmentNames, 3),\n          _ = _departmentNames[0],\n          _ = _departmentNames[1],\n          departmentSlug = _departmentNames[2];\n\n      var departmentLink = React.createElement(\n        Link,\n        { to: 'department', params: { dept: departmentSlug } },\n        curator.department\n      );\n    }\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement('div', { className: 'curator-header' }),\n      React.createElement(\n        'div',\n        { className: 'curatorProfile pageText' },\n        React.createElement(\n          'h2',\n          null,\n          curator.name\n        ),\n        React.createElement(\n          'h4',\n          null,\n          departmentLink || curator.department\n        ),\n        React.createElement(\n          'h5',\n          null,\n          React.createElement(\n            Markdown,\n            null,\n            curator.title\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'curatorContent' },\n          React.createElement(\n            'div',\n            { className: 'curatorPic' },\n            React.createElement('img', { src: 'https://collections.artsmia.org/_info/curator-portraits/' + curator.slug + '.jpg', alt: 'portrait of ' + curator.name })\n          ),\n          React.createElement(\n            Markdown,\n            { alreadyRendered: true },\n            curator.output\n          )\n        ),\n        curator.cv && React.createElement(\n          'p',\n          null,\n          React.createElement(\n            'a',\n            { href: 'https://collections.artsmia.org/_info/cv/' + curator.cv },\n            'Curriculum Vitae'\n          )\n        )\n      )\n    );\n  }\n});\n\nmodule.exports = Curator;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImN1cmF0b3IuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiUm91dGVyIiwiTGluayIsIkhlbG1ldCIsInJlc3QiLCJNYXJrZG93biIsImVuZHBvaW50IiwiaW5mbyIsIlNlYXJjaCIsIlNlYXJjaFJlc3VsdHMiLCJQZWVrIiwiRGVwYXJ0bWVudERlY29yYXRvciIsImZpbmREZXBhcnRtZW50IiwiQ3VyYXRvciIsImNyZWF0ZUNsYXNzIiwibWl4aW5zIiwiU3RhdGUiLCJoZWFkZXJzIiwiY3VyYXRvciIsImltYWdlIiwic3RhdGljcyIsImZldGNoRGF0YSIsInBhcmFtcyIsInF1ZXJ5IiwidGhlbiIsInIiLCJKU09OIiwicGFyc2UiLCJlbnRpdHkiLCJyZW5kZXIiLCJwcm9wcyIsImRhdGEiLCJjdXJhdG9ycyIsInNsdWciLCJkZXBhcnRtZW50TGluayIsImRlcGFydG1lbnROYW1lcyIsImRlcGFydG1lbnQiLCJfIiwiZGVwYXJ0bWVudFNsdWciLCJkZXB0IiwibmFtZSIsInRpdGxlIiwib3V0cHV0IiwiY3YiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7QUFDQSxJQUFJQyxTQUFTRCxRQUFRLGNBQVIsQ0FBYjtJQUNLRSxJLEdBQVFELE0sQ0FBUkMsSTs7QUFDTCxJQUFJQyxTQUFTSCxRQUFRLGNBQVIsQ0FBYjs7QUFFQSxJQUFJSSxPQUFPSixRQUFRLE1BQVIsQ0FBWDs7QUFFQSxJQUFJSyxXQUFXTCxRQUFRLFlBQVIsQ0FBZjtBQUNBLElBQUlNLFdBQVdOLFFBQVEsYUFBUixFQUF1Qk8sSUFBdEM7QUFDQSxJQUFJQyxTQUFTUixRQUFRLFVBQVIsQ0FBYjtBQUNBLElBQUlTLGdCQUFnQlQsUUFBUSxrQkFBUixDQUFwQjtBQUNBLElBQUlVLE9BQU9WLFFBQVEsUUFBUixDQUFYO0FBQ0EsSUFBSVcsc0JBQXNCWCxRQUFRLHVCQUFSLENBQTFCO0FBQ0EsSUFBSVksaUJB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T0FBUCxHQUFpQmhDLE9BQWpCIiwiZmlsZSI6ImN1cmF0b3IuanMiLCJzb3VyY2VSb290IjoiL3Zhci93d3cvYXJ0L3NyYyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHtMaW5rfSA9IFJvdXRlclxudmFyIEhlbG1ldCA9IHJlcXVpcmUoJ3JlYWN0LWhlbG1ldCcpXG5cbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG5cbnZhciBNYXJrZG93biA9IHJlcXVpcmUoJy4vbWFya2Rvd24nKVxudmFyIGVuZHBvaW50ID0gcmVxdWlyZSgnLi9lbmRwb2ludHMnKS5pbmZvXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zZWFyY2gnKVxudmFyIFNlYXJjaFJlc3VsdHMgPSByZXF1aXJlKCcuL3NlYXJjaC1yZXN1bHRzJylcbnZhciBQZWVrID0gcmVxdWlyZSgnLi9wZWVrJylcbnZhciBEZXBhcnRtZW50RGVjb3JhdG9yID0gcmVxdWlyZSgnLi9kZWNvcmF0ZS9kZXBhcnRtZW50JylcbnZhciBmaW5kRGVwYXJ0bWVudCA9IHJlcXVpcmUoJy4vZGVwYXJ0bWVudC1zbHVnJylcblxudmFyIEN1cmF0b3IgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIG1peGluczogW1JvdXRlci5TdGF0ZV0sXG4gIGhlYWRlcnM6IFtcbiAgICB7Y3VyYXRvcjonYWFyb24tcmlvJywgaW1hZ2U6J2h0dHA6Ly9uZXcuYXJ0c21pYS5vcmcvZXhoaWJpdGlvbnMnfSxcbiAgICB7Y3VyYXRvcjonYW5kcmVhcy1tYXJrcycsIGltYWdlOidodHRwOi8vbmV3LmFydHNtaWEub3JnL2V4aGliaXRpb25zJ30sXG4gICAge2N1cmF0b3I6J2Rlbm5pcy1taWNoYWVsLWpvbicsIGltYWdlOidodHRwOi8vbmV3LmFydHNtaWEub3JnL2V4aGliaXRpb25zJ30sXG4gICAge2N1cmF0b3I6J2phbi1sb2Rld2lqay1ncm9vdGFlcnMnLCBpbWFnZTonaHR0cDovL25ldy5hcnRzbWlhLm9yZy9leGhpYml0aW9ucyd9LFxuICAgIHtjdXJhdG9yOidqZW5uaWZlci1rb21hci1vbGl2YXJleicsIGltYWdlOidodHRwOi8vbmV3LmFydHNtaWEub3JnL2V4aGliaXRpb25zJ30sXG4gICAge2N1cmF0b3I6J2ppbGwtYWhsYmVyZy15b2hlJywgaW1hZ2U6J2h0dHA6Ly9uZXcuYXJ0c21pYS5vcmcvZXhoaWJpdGlvbnMnfSxcbiAgICB7Y3VyYXRvcjonbGl1LXlhbmcnLCBpbWFnZTonaHR0cDovL25ldy5hcnRzbWlhLm9yZy9leGhpYml0aW9ucyd9LFxuICAgIHtjdXJhdG9yOiduaWNvbGUtbGFib3VmZicsIGltYWdlOidodHRwOi8vbmV3LmFydHNtaWEub3JnL2V4aGliaXRpb25zJ30sXG4gICAge2N1cmF0b3I6J3BhdHJpY2stbm9vbicsIGltYWdlOidodHRwOi8vbmV3LmFydHNtaWEub3JnL2V4aGliaXRpb25zJ30sXG4gICAge2N1cmF0b3I6J3JhY2hlbC1tY2dhcnJ5JywgaW1hZ2U6J2h0dHA6Ly9uZXcuYXJ0c21pYS5vcmcvZXhoaWJpdGlvbnMnfSxcbiAgICB7Y3VyYXRvcjondGhvbWFzLXJhc3NpZXVyJywgaW1hZ2U6J2h0dHA6Ly9uZXcuYXJ0c21pYS5vcmcvZXhoaWJpdGlvbnMnfSxcbl0sXG4gIHN0YXRpY3M6IHtcbiAgICBmZXRjaERhdGE6IHtcbiAgICAgIGN1cmF0b3I6IChwYXJhbXMsIHF1ZXJ5KSA9PiB7XG4gICAgICAgIHJldHVybiByZXN0KGVuZHBvaW50KS50aGVuKChyKSA9PiBKU09OLnBhcnNlKHIuZW50aXR5KSlcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIgY3VyYXRvciA9IHRoaXMucHJvcHMuZGF0YS5jdXJhdG9yLmN1cmF0b3JzW3RoaXMucHJvcHMucGFyYW1zLnNsdWddXG4gICAgdmFyIGRlcGFydG1lbnRMaW5rXG4gICAgdmFyIGRlcGFydG1lbnROYW1lcyA9IGZpbmREZXBhcnRtZW50KGN1cmF0b3IuZGVwYXJ0bWVudClcbiAgICBpZihkZXBhcnRtZW50TmFtZXMpIHtcbiAgICAgIHZhciBbXywgXywgZGVwYXJ0bWVudFNsdWddID0gZGVwYXJ0bWVudE5hbWVzXG4gICAgICB2YXIgZGVwYXJ0bWVudExpbmsgPSA8TGluayB0bz1cImRlcGFydG1lbnRcIiBwYXJhbXM9e3tkZXB0OiBkZXBhcnRtZW50U2x1Z319PntjdXJhdG9yLmRlcGFydG1lbnR9PC9MaW5rPlxuICAgIH1cblxuXG4gIHJldHVybiA8ZGl2PlxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY3VyYXRvci1oZWFkZXJcIj48L2Rpdj5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cImN1cmF0b3JQcm9maWxlIHBhZ2VUZXh0XCI+XG4gICAgICA8aDI+e2N1cmF0b3IubmFtZX08L2gyPlxuICAgICAgPGg0PntkZXBhcnRtZW50TGluayB8fCBjdXJhdG9yLmRlcGFydG1lbnR9PC9oND5cbiAgICAgIDxoNT48TWFya2Rvd24+e2N1cmF0b3IudGl0bGV9PC9NYXJrZG93bj48L2g1PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdXJhdG9yQ29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1cmF0b3JQaWNcIj5cbiAgICAgICAgICA8aW1nIHNyYz17YGh0dHBzOi8vY29sbGVjdGlvbnMuYXJ0c21pYS5vcmcvX2luZm8vY3VyYXRvci1wb3J0cmFpdHMvJHtjdXJhdG9yLnNsdWd9LmpwZ2B9IGFsdD17YHBvcnRyYWl0IG9mICR7Y3VyYXRvci5uYW1lfWB9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8TWFya2Rvd24gYWxyZWFkeVJlbmRlcmVkPXt0cnVlfT57Y3VyYXRvci5vdXRwdXR9PC9NYXJrZG93bj5cbiAgICAgIDwvZGl2PlxuICAgICAge2N1cmF0b3IuY3YgJiYgPHA+PGEgaHJlZj17YGh0dHBzOi8vY29sbGVjdGlvbnMuYXJ0c21pYS5vcmcvX2luZm8vY3YvJHtjdXJhdG9yLmN2fWB9PkN1cnJpY3VsdW0gVml0YWU8L2E+PC9wPn1cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIH1cbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gQ3VyYXRvclxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "curator.js"
      ],
      "names": [
        "React",
        "require",
        "Router",
        "Link",
        "Helmet",
        "rest",
        "Markdown",
        "endpoint",
        "info",
        "Search",
        "SearchResults",
        "Peek",
        "DepartmentDecorator",
        "findDepartment",
        "Curator",
        "createClass",
        "mixins",
        "State",
        "headers",
        "curator",
        "image",
        "statics",
        "fetchData",
        "params",
        "query",
        "then",
        "r",
        "JSON",
        "parse",
        "entity",
        "render",
        "props",
        "data",
        "curators",
        "slug",
        "departmentLink",
        "departmentNames",
        "department",
        "_",
        "departmentSlug",
        "dept",
        "name",
        "title",
        "output",
        "cv",
        "module",
        "exports"
      ],
      "mappings": ";;;;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;AACA,IAAIC,SAASD,QAAQ,cAAR,CAAb;IACKE,I,GAAQD,M,CAARC,I;;AACL,IAAIC,SAASH,QAAQ,cAAR,CAAb;;AAEA,IAAII,OAAOJ,QAAQ,MAAR,CAAX;;AAEA,IAAIK,WAAWL,QAAQ,YAAR,CAAf;AACA,IAAIM,WAAWN,QAAQ,aAAR,EAAuBO,IAAtC;AACA,IAAIC,SAASR,QAAQ,UAAR,CAAb;AACA,IAAIS,gBAAgBT,QAAQ,kBAAR,CAApB;AACA,IAAIU,OAAOV,QAAQ,QAAR,CAAX;AACA,IAAIW,sBAAsBX,QAAQ,uBAAR,CAA1B;AACA,IAAIY,iBAAiBZ,QAAQ,mBAAR,CAArB;;AAEA,IAAIa,UAAUd,MAAMe,WAAN,CAAkB;AAAA;;AAC9BC,UAAQ,CAACd,OAAOe,KAAR,CADsB;AAE9BC,WAAS,CACP,EAACC,SAAQ,WAAT,EAAsBC,OAAM,oCAA5B,EADO,EAEP,EAACD,SAAQ,eAAT,EAA0BC,OAAM,oCAAhC,EAFO,EAGP,EAACD,SAAQ,oBAAT,EAA+BC,OAAM,oCAArC,EAHO,EAIP,EAACD,SAAQ,wBAAT,EAAmCC,OAAM,oCAAzC,EAJO,EAKP,EAACD,SAAQ,yBAAT,EAAoCC,OAAM,oCAA1C,EALO,EAMP,EAACD,SAAQ,mBAAT,EAA8BC,OAAM,oCAApC,EANO,EAOP,EAACD,SAAQ,UAAT,EAAqBC,OAAM,oCAA3B,EAPO,EAQP,EAACD,SAAQ,gBAAT,EAA2BC,OAAM,oCAAjC,EARO,EASP,EAACD,SAAQ,cAAT,EAAyBC,OAAM,oCAA/B,EATO,EAUP,EAACD,SAAQ,gBAAT,EAA2BC,OAAM,oCAAjC,EAVO,EAWP,EAACD,SAAQ,iBAAT,EAA4BC,OAAM,oCAAlC,EAXO,CAFqB;AAe9BC,WAAS;AACPC,eAAW;AACTH,eAAS,iBAACI,MAAD,EAASC,KAAT,EAAmB;AAC1B,eAAOnB,KAAKE,QAAL,EAAekB,IAAf,CAAoB,UAACC,CAAD;AAAA,iBAAOC,KAAKC,KAAL,CAAWF,EAAEG,MAAb,CAAP;AAAA,SAApB,CAAP;AACD;AAHQ;AADJ,GAfqB;;AAuB9BC,QAvB8B,oBAuBrB;AACP,QAAIX,UAAU,KAAKY,KAAL,CAAWC,IAAX,CAAgBb,OAAhB,CAAwBc,QAAxB,CAAiC,KAAKF,KAAL,CAAWR,MAAX,CAAkBW,IAAnD,CAAd;AACA,QAAIC,cAAJ;AACA,QAAIC,kBAAkBvB,eAAeM,QAAQkB,UAAvB,CAAtB;AACA,QAAGD,eAAH,EAAoB;AAAA,4CACWA,eADX;AAAA,UACbE,CADa;AAAA,UACVA,CADU;AAAA,UACPC,cADO;;AAElB,UAAIJ,iBAAiB;AAAC,YAAD;AAAA,UAAM,IAAG,YAAT,EAAsB,QAAQ,EAACK,MAAMD,cAAP,EAA9B;AAAuDpB,gBAAQkB;AAA/D,OAArB;AACD;;AAGH,WAAO;AAAA;AAAA;AACL,mCAAK,WAAU,gBAAf,GADK;AAEL;AAAA;AAAA,UAAK,WAAU,yBAAf;AACE;AAAA;AAAA;AAAKlB,kBAAQsB;AAAb,SADF;AAEE;AAAA;AAAA;AAAKN,4BAAkBhB,QAAQkB;AAA/B,SAFF;AAGE;AAAA;AAAA;AAAI;AAAC,oBAAD;AAAA;AAAWlB,oBAAQuB;AAAnB;AAAJ,SAHF;AAIE;AAAA;AAAA,YAAK,WAAU,gBAAf;AACE;AAAA;AAAA,cAAK,WAAU,YAAf;AACE,yCAAK,kEAAgEvB,QAAQe,IAAxE,SAAL,EAAyF,sBAAoBf,QAAQsB,IAArH;AADF,WADF;AAIE;AAAC,oBAAD;AAAA,cAAU,iBAAiB,IAA3B;AAAkCtB,oBAAQwB;AAA1C;AAJF,SAJF;AAUGxB,gBAAQyB,EAAR,IAAc;AAAA;AAAA;AAAG;AAAA;AAAA,cAAG,oDAAkDzB,QAAQyB,EAA7D;AAAA;AAAA;AAAH;AAVjB;AAFK,KAAP;AAeC;AAhD6B,CAAlB,CAAd;;AAmDAC,OAAOC,OAAP,GAAiBhC,OAAjB",
      "file": "curator.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\nvar Helmet = require('react-helmet')\n\nvar rest = require('rest')\n\nvar Markdown = require('./markdown')\nvar endpoint = require('./endpoints').info\nvar Search = require('./search')\nvar SearchResults = require('./search-results')\nvar Peek = require('./peek')\nvar DepartmentDecorator = require('./decorate/department')\nvar findDepartment = require('./department-slug')\n\nvar Curator = React.createClass({\n  mixins: [Router.State],\n  headers: [\n    {curator:'aaron-rio', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'andreas-marks', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'dennis-michael-jon', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'jan-lodewijk-grootaers', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'jennifer-komar-olivarez', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'jill-ahlberg-yohe', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'liu-yang', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'nicole-labouff', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'patrick-noon', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'rachel-mcgarry', image:'http://new.artsmia.org/exhibitions'},\n    {curator:'thomas-rassieur', image:'http://new.artsmia.org/exhibitions'},\n],\n  statics: {\n    fetchData: {\n      curator: (params, query) => {\n        return rest(endpoint).then((r) => JSON.parse(r.entity))\n      }\n    },\n  },\n\n  render() {\n    var curator = this.props.data.curator.curators[this.props.params.slug]\n    var departmentLink\n    var departmentNames = findDepartment(curator.department)\n    if(departmentNames) {\n      var [_, _, departmentSlug] = departmentNames\n      var departmentLink = <Link to=\"department\" params={{dept: departmentSlug}}>{curator.department}</Link>\n    }\n\n\n  return <div>\n    <div className=\"curator-header\"></div>\n    <div className=\"curatorProfile pageText\">\n      <h2>{curator.name}</h2>\n      <h4>{departmentLink || curator.department}</h4>\n      <h5><Markdown>{curator.title}</Markdown></h5>\n      <div className=\"curatorContent\">\n        <div className=\"curatorPic\">\n          <img src={`https://collections.artsmia.org/_info/curator-portraits/${curator.slug}.jpg`} alt={`portrait of ${curator.name}`} />\n        </div>\n        <Markdown alreadyRendered={true}>{curator.output}</Markdown>\n      </div>\n      {curator.cv && <p><a href={`https://collections.artsmia.org/_info/cv/${curator.cv}`}>Curriculum Vitae</a></p>}\n    </div>\n  </div>\n  }\n})\n\nmodule.exports = Curator\n"
      ]
    },
    "mtime": 1489607727014
  },
  "{\"filename\":\"/var/www/art/src/curators.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/curators.js",
      "filenameRelative": "/var/www/art/src/curators.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "curators.js",
      "sourceFileName": "curators.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "curators"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Helmet = require('react-helmet');\nvar Link = Router.Link;\n\n\nvar Markdown = require('./markdown');\nvar rest = require('rest');\nvar endpoint = require('./endpoints').info;\n\nvar Curators = React.createClass({\n  displayName: 'Curators',\n\n  mixins: [Router.State],\n\n  statics: {\n    fetchData: {\n      curators: function curators(params, query) {\n        return rest(endpoint).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var curators = this.props.data.curators.curators;\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement('div', { className: 'explore-header' }),\n      React.createElement(\n        'div',\n        { className: 'mdl-grid curatorsPage', id: 'curators' },\n        React.createElement(\n          'h2',\n          null,\n          'Curators'\n        ),\n        Object.keys(curators).filter(function (name) {\n          return ['kaywin-feldman', 'matthew-welch', 'yasufumi-nakamori'].indexOf(name) == -1;\n        }).map(function (name) {\n          var curator = curators[name];\n          if (!curator || !curator.slug) return;\n\n          return React.createElement(\n            'div',\n            { className: 'mdl-cell curatorBio', key: curator.slug },\n            React.createElement(\n              Link,\n              { to: 'curator', params: { slug: curator.slug } },\n              React.createElement(\n                'div',\n                { className: 'curatorPic' },\n                React.createElement('img', { src: 'https://collections.artsmia.org/_info/curator-portraits/' + curator.slug + '.jpg', alt: 'portrait of ' + curator.name })\n              ),\n              React.createElement(\n                'div',\n                { className: 'curator-intro' },\n                React.createElement(\n                  'h4',\n                  null,\n                  curator.name\n                ),\n                React.createElement(\n                  'h5',\n                  null,\n                  React.createElement(\n                    Markdown,\n                    null,\n                    curator.title\n                  )\n                )\n              )\n            )\n          );\n        })\n      ),\n      React.createElement(Helmet, { title: 'Curators' })\n    );\n  }\n});\n\nmodule.exports = Curators;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImN1cmF0b3JzLmpzIl0sIm5hbWVzIjpbIlJlYWN0IiwicmVxdWlyZSIsIlJvdXRlciIsIkhlbG1ldCIsIkxpbmsiLCJNYXJrZG93biIsInJlc3QiLCJlbmRwb2ludCIsImluZm8iLCJDdXJhdG9ycyIsImNyZWF0ZUNsYXNzIiwibWl4aW5zIiwiU3RhdGUiLCJzdGF0aWNzIiwiZmV0Y2hEYXRhIiwiY3VyYXRvcnMiLCJwYXJhbXMiLCJxdWVyeSIsInRoZW4iLCJyIiwiSlNPTiIsInBhcnNlIiwiZW50aXR5IiwicmVuZGVyIiwicHJvcHMiLCJkYXRhIiwiT2JqZWN0Iiwia2V5cyIsImZpbHRlciIsImluZGV4T2YiLCJuYW1lIiwibWFwIiwiY3VyYXRvciIsInNsdWciLCJ0aXRsZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7QUFDQSxJQUFJQyxTQUFTRCxRQUFRLGNBQVIsQ0FBYjtBQUNBLElBQUlFLFNBQVNGLFFBQVEsY0FBUixDQUFiO0lBQ0tHLEksR0FBUUYsTSxDQUFSRSxJOzs7QUFFTCxJQUFJQyxXQUFXSixRQUFRLFlBQVIsQ0FBZjtBQUNBLElBQUlLLE9BQU9MLFFBQVEsTUFBUixDQUFYO0FBQ0EsSUFBSU0sV0FBV04sUUFBUSxhQUFSLEVBQXVCTyxJQUF0Qzs7QUFHQSxJQUFJQyxXQUFXVCxNQUFNVSxXQUFOLENBQWtCO0FBQUE7O0FBQy9CQyxVQUFRLENBQUNULE9BQU9VLEtBQVIsQ0FEdUI7O0FBRy9CQyxXQUFTO0FBQ1BDLGVBQVc7QUFDVEMsZ0JBQVUsa0JBQUNDLE1BQUQsRUFBU0MsS0FBVCxFQUFtQjtBQUMzQixlQUFPWCxLQUFLQyxRQUFMLEVBQWVXLElBQWYsQ0FBb0IsVUFBQ0MsQ0FBRDtBQUFBLGlCQUFPQyxLQUFLQyxLQUFMLENBQVdGLEVBQUVHLE1BQWIsQ0FBUDtBQUFBLFNBQXBCLENBQVA7QUFDRDtBQUhRO0FBREosR0FIc0I7O0FBVy9CQyxRQVgrQixvQkFXdEI7QUFDUCxRQUFJUixXQUFXLEtBQUtTLEtBQUwsQ0FBV0MsSUFBWCxDQUFnQlYsUUFBaEIsQ0FBeUJBLFFBQXhDOztBQUVBLFdBQU87QUFBQTtBQUFBO0FBQ1AsbUNBQUssV0FBVSxnQkFBZixHQURPO0FBRVA7QUFBQTtBQUFBLFVBQUssV0FBVSx1QkFBZixFQUF1QyxJQUFHLFVBQTFDO0FBQ0U7QUFBQTtBQUFBO0FBQUE7QUFBQSxTQURGO0FBRUdXLGVBQU9DLElBQVAsQ0FBWVosUUFBWixFQUNBYSxNQURBLENBQ087QUFBQSxpQkFBUSxDQUFDLGdCQUFELEVBQW1CLGVBQW5CLEVBQW9DLG1CQUFwQyxFQUF5REMsT0FBekQsQ0FBaUVDLElBQWpFLEtBQTBFLENBQUMsQ0FBbkY7QUFBQSxTQURQLEVBRUFDLEdBRkEsQ0FFSSxnQkFBUTtBQUNYLGNBQUlDLFVBQVVqQixTQUFTZSxJQUFULENBQWQ7QUFDQSxjQUFHLENBQUNFLE9BQUQsSUFBWSxDQUFDQSxRQUFRQyxJQUF4QixFQUE4Qjs7QUFFOUIsaUJBQU87QUFBQTtBQUFBLGNBQUssV0FBVSxxQkFBZixFQUFxQyxLQUFLRCxRQUFRQyxJQUFsRDtBQUNMO0FBQUMsa0JBQUQ7QUFBQSxnQkFBTSxJQUFHLFNBQVQsRUFBbUIsUUFBUSxFQUFDQSxNQUFLRCxRQUFRQyxJQUFkLEVBQTNCO0FBQ0U7QUFBQTtBQUFBLGtCQUFLLFdBQVUsWUFBZjtBQUNFLDZDQUFLLGtFQUFnRUQsUUFBUUMsSUFBeEUsU0FBTCxFQUF5RixzQkFBb0JELFFBQVFGLElBQXJIO0FBREYsZUFERjtBQUlFO0FBQUE7QUFBQSxrQkFBSyxXQUFVLGVBQWY7QUFDRTtBQUFBO0FBQUE7QUFBS0UsMEJBQVFGO0FBQWIsaUJBREY7QUFFRTtBQUFBO0FBQUE7QUFBSTtBQUFDLDRCQUFEO0FBQUE7QUFBV0UsNEJBQVFFO0FBQW5CO0FBQUo7QUFGRjtBQUpGO0FBREssV0FBUDtBQVdELFNBakJBO0FBRkgsT0FGTztBQXVCUCwwQkFBQyxNQUFELElBQVEsT0FBTSxVQUFkO0FBdkJPLEtBQVA7QUF5QkQ7QUF2QzhCLENBQWxCLENBQWY7O0FBMENBQyxPQUFPQyxPQUFQLEdBQWlCM0IsUUFBakIiLCJmaWxlIjoiY3VyYXRvcnMuanMiLCJzb3VyY2VSb290IjoiL3Zhci93d3cvYXJ0L3NyYyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIEhlbG1ldCA9IHJlcXVpcmUoJ3JlYWN0LWhlbG1ldCcpXG52YXIge0xpbmt9ID0gUm91dGVyXG5cbnZhciBNYXJrZG93biA9IHJlcXVpcmUoJy4vbWFya2Rvd24nKVxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcbnZhciBlbmRwb2ludCA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJykuaW5mb1xuXG5cbnZhciBDdXJhdG9ycyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgbWl4aW5zOiBbUm91dGVyLlN0YXRlXSxcblxuICBzdGF0aWNzOiB7XG4gICAgZmV0Y2hEYXRhOiB7XG4gICAgICBjdXJhdG9yczogKHBhcmFtcywgcXVlcnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHJlc3QoZW5kcG9pbnQpLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpKVxuICAgICAgfVxuICAgIH0sXG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciBjdXJhdG9ycyA9IHRoaXMucHJvcHMuZGF0YS5jdXJhdG9ycy5jdXJhdG9yc1xuXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgPGRpdiBjbGFzc05hbWU9XCJleHBsb3JlLWhlYWRlclwiPjwvZGl2PlxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWRsLWdyaWQgY3VyYXRvcnNQYWdlXCIgaWQ9XCJjdXJhdG9yc1wiPlxuICAgICAgPGgyPkN1cmF0b3JzPC9oMj5cbiAgICAgIHtPYmplY3Qua2V5cyhjdXJhdG9ycylcbiAgICAgIC5maWx0ZXIobmFtZSA9PiBbJ2theXdpbi1mZWxkbWFuJywgJ21hdHRoZXctd2VsY2gnLCAneWFzdWZ1bWktbmFrYW1vcmknXS5pbmRleE9mKG5hbWUpID09IC0xKVxuICAgICAgLm1hcChuYW1lID0+IHtcbiAgICAgICAgdmFyIGN1cmF0b3IgPSBjdXJhdG9yc1tuYW1lXVxuICAgICAgICBpZighY3VyYXRvciB8fCAhY3VyYXRvci5zbHVnKSByZXR1cm5cblxuICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJtZGwtY2VsbCBjdXJhdG9yQmlvXCIga2V5PXtjdXJhdG9yLnNsdWd9PlxuICAgICAgICAgIDxMaW5rIHRvPVwiY3VyYXRvclwiIHBhcmFtcz17e3NsdWc6Y3VyYXRvci5zbHVnfX0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1cmF0b3JQaWNcIj5cbiAgICAgICAgICAgICAgPGltZyBzcmM9e2BodHRwczovL2NvbGxlY3Rpb25zLmFydHNtaWEub3JnL19pbmZvL2N1cmF0b3ItcG9ydHJhaXRzLyR7Y3VyYXRvci5zbHVnfS5qcGdgfSBhbHQ9e2Bwb3J0cmFpdCBvZiAke2N1cmF0b3IubmFtZX1gfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1cmF0b3ItaW50cm9cIj5cbiAgICAgICAgICAgICAgPGg0PntjdXJhdG9yLm5hbWV9PC9oND5cbiAgICAgICAgICAgICAgPGg1PjxNYXJrZG93bj57Y3VyYXRvci50aXRsZX08L01hcmtkb3duPjwvaDU+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L0xpbms+XG4gICAgICAgIDwvZGl2PlxuICAgICAgfSl9XG4gICAgPC9kaXY+XG4gICAgPEhlbG1ldCB0aXRsZT1cIkN1cmF0b3JzXCIgLz5cbiAgICA8L2Rpdj5cbiAgfVxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBDdXJhdG9yc1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "curators.js"
      ],
      "names": [
        "React",
        "require",
        "Router",
        "Helmet",
        "Link",
        "Markdown",
        "rest",
        "endpoint",
        "info",
        "Curators",
        "createClass",
        "mixins",
        "State",
        "statics",
        "fetchData",
        "curators",
        "params",
        "query",
        "then",
        "r",
        "JSON",
        "parse",
        "entity",
        "render",
        "props",
        "data",
        "Object",
        "keys",
        "filter",
        "indexOf",
        "name",
        "map",
        "curator",
        "slug",
        "title",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;AACA,IAAIC,SAASD,QAAQ,cAAR,CAAb;AACA,IAAIE,SAASF,QAAQ,cAAR,CAAb;IACKG,I,GAAQF,M,CAARE,I;;;AAEL,IAAIC,WAAWJ,QAAQ,YAAR,CAAf;AACA,IAAIK,OAAOL,QAAQ,MAAR,CAAX;AACA,IAAIM,WAAWN,QAAQ,aAAR,EAAuBO,IAAtC;;AAGA,IAAIC,WAAWT,MAAMU,WAAN,CAAkB;AAAA;;AAC/BC,UAAQ,CAACT,OAAOU,KAAR,CADuB;;AAG/BC,WAAS;AACPC,eAAW;AACTC,gBAAU,kBAACC,MAAD,EAASC,KAAT,EAAmB;AAC3B,eAAOX,KAAKC,QAAL,EAAeW,IAAf,CAAoB,UAACC,CAAD;AAAA,iBAAOC,KAAKC,KAAL,CAAWF,EAAEG,MAAb,CAAP;AAAA,SAApB,CAAP;AACD;AAHQ;AADJ,GAHsB;;AAW/BC,QAX+B,oBAWtB;AACP,QAAIR,WAAW,KAAKS,KAAL,CAAWC,IAAX,CAAgBV,QAAhB,CAAyBA,QAAxC;;AAEA,WAAO;AAAA;AAAA;AACP,mCAAK,WAAU,gBAAf,GADO;AAEP;AAAA;AAAA,UAAK,WAAU,uBAAf,EAAuC,IAAG,UAA1C;AACE;AAAA;AAAA;AAAA;AAAA,SADF;AAEGW,eAAOC,IAAP,CAAYZ,QAAZ,EACAa,MADA,CACO;AAAA,iBAAQ,CAAC,gBAAD,EAAmB,eAAnB,EAAoC,mBAApC,EAAyDC,OAAzD,CAAiEC,IAAjE,KAA0E,CAAC,CAAnF;AAAA,SADP,EAEAC,GAFA,CAEI,gBAAQ;AACX,cAAIC,UAAUjB,SAASe,IAAT,CAAd;AACA,cAAG,CAACE,OAAD,IAAY,CAACA,QAAQC,IAAxB,EAA8B;;AAE9B,iBAAO;AAAA;AAAA,cAAK,WAAU,qBAAf,EAAqC,KAAKD,QAAQC,IAAlD;AACL;AAAC,kBAAD;AAAA,gBAAM,IAAG,SAAT,EAAmB,QAAQ,EAACA,MAAKD,QAAQC,IAAd,EAA3B;AACE;AAAA;AAAA,kBAAK,WAAU,YAAf;AACE,6CAAK,kEAAgED,QAAQC,IAAxE,SAAL,EAAyF,sBAAoBD,QAAQF,IAArH;AADF,eADF;AAIE;AAAA;AAAA,kBAAK,WAAU,eAAf;AACE;AAAA;AAAA;AAAKE,0BAAQF;AAAb,iBADF;AAEE;AAAA;AAAA;AAAI;AAAC,4BAAD;AAAA;AAAWE,4BAAQE;AAAnB;AAAJ;AAFF;AAJF;AADK,WAAP;AAWD,SAjBA;AAFH,OAFO;AAuBP,0BAAC,MAAD,IAAQ,OAAM,UAAd;AAvBO,KAAP;AAyBD;AAvC8B,CAAlB,CAAf;;AA0CAC,OAAOC,OAAP,GAAiB3B,QAAjB",
      "file": "curators.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar Helmet = require('react-helmet')\nvar {Link} = Router\n\nvar Markdown = require('./markdown')\nvar rest = require('rest')\nvar endpoint = require('./endpoints').info\n\n\nvar Curators = React.createClass({\n  mixins: [Router.State],\n\n  statics: {\n    fetchData: {\n      curators: (params, query) => {\n        return rest(endpoint).then((r) => JSON.parse(r.entity))\n      }\n    },\n  },\n\n  render() {\n    var curators = this.props.data.curators.curators\n\n    return <div>\n    <div className=\"explore-header\"></div>\n    <div className=\"mdl-grid curatorsPage\" id=\"curators\">\n      <h2>Curators</h2>\n      {Object.keys(curators)\n      .filter(name => ['kaywin-feldman', 'matthew-welch', 'yasufumi-nakamori'].indexOf(name) == -1)\n      .map(name => {\n        var curator = curators[name]\n        if(!curator || !curator.slug) return\n\n        return <div className=\"mdl-cell curatorBio\" key={curator.slug}>\n          <Link to=\"curator\" params={{slug:curator.slug}}>\n            <div className=\"curatorPic\">\n              <img src={`https://collections.artsmia.org/_info/curator-portraits/${curator.slug}.jpg`} alt={`portrait of ${curator.name}`} />\n            </div>\n            <div className=\"curator-intro\">\n              <h4>{curator.name}</h4>\n              <h5><Markdown>{curator.title}</Markdown></h5>\n            </div>\n          </Link>\n        </div>\n      })}\n    </div>\n    <Helmet title=\"Curators\" />\n    </div>\n  }\n})\n\nmodule.exports = Curators\n"
      ]
    },
    "mtime": 1584573136818
  },
  "{\"filename\":\"/var/www/art/src/explore.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "toArray"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/explore.js",
      "filenameRelative": "/var/www/art/src/explore.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "explore.js",
      "sourceFileName": "explore.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "explore"
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\nvar React = require('react');\nvar Helmet = require('react-helmet');\n\nvar Peek = require('./peek');\nvar Department = require('./department');\nvar Search = require('./search');\nvar Artwork = require('./artwork');\nvar ExpandableNewArtsmiaContentBlock = require('./expandable-new-artsmia-content-block');\nvar Markdown = require('./markdown');\n\nvar Explore = React.createClass({\n  displayName: 'Explore',\n\n  statics: {\n    searchResults: Department.fetchData.searchResults\n  },\n\n  render: function render() {\n    var appThumbStyle = {\n      maxWidth: '5em',\n      marginRight: '1em',\n      float: 'left'\n    };\n\n    var clearHr = React.createElement('hr', { style: { visibility: 'hidden', clear: 'both' } });\n    return React.createElement(\n      'div',\n      null,\n      React.createElement('a', { href: '/art/8747', className: 'explore-header' }),\n      React.createElement(\n        'div',\n        { className: 'explore-section', style: { padding: '0 2.5vmax' } },\n        this.searches.map(function (_ref, index) {\n          var term = _ref.term,\n              blurb = _ref.blurb,\n              title = _ref.title;\n\n          var _term$split = term.split(':'),\n              _term$split2 = _toArray(_term$split),\n              facet = _term$split2[0],\n              terms = _term$split2.slice(1);\n\n          return React.createElement(\n            'section',\n            null,\n            React.createElement(\n              'h2',\n              null,\n              'Explore ',\n              React.createElement(\n                'span',\n                { style: { fontFamily: '\"MiaGrotesk-Light\",sans-serif' } },\n                title\n              )\n            ),\n            React.createElement(\n              'p',\n              null,\n              React.createElement(\n                Markdown,\n                null,\n                blurb\n              )\n            ),\n            React.createElement(Peek, {\n              offset: index * 5,\n              facet: facet,\n              q: terms.join(':'),\n              quiltProps: { maxRowHeight: 600 },\n              directLinkTo: terms[1],\n              shuffleQuilt: true,\n              filtered: true\n            }),\n            clearHr\n          );\n        }),\n        false && this.personalize(),\n        React.createElement(Helmet, { title: 'Explore the art' })\n      )\n    );\n  },\n\n\n  searches: [{ title: 'Audio', term: '_exists_:related:audio-stops', blurb: 'Audio Stops are mini-podcasts that present many of Mia’s highlights and favorite artworks through sound and stories. Listen in the galleries or at home.' }, { title: 'Video', term: '_exists_:related:videos', blurb: 'Videos from the collection' }, { title: 'Art Stories', term: '_exists_:related:artstories', blurb: '[ArtStories](https://artstories.artsmia.org/) are in-depth multimedia explorations of Mia’s highlights and hidden gems—from intriguing details to secret backstories. Available on iPads in the galleries, and optimized for your smartphone or home computer.' }, { title: 'Mia Stories', term: '_exists_:related:stories', blurb: '[Mia Stories](https://new.artsmia.org/stories/): the museum beyond the walls, outside the frame, at the lively intersection of life and art. From behind-the-scenes buzz to inspiring connections with current events, it’s the museum in conversation.' }, { title: 'Newsflashes', term: '_exists_:related:newsflashes', blurb: '[NewsFlashes](https://new.artsmia.org/trending-now/) connect current events and art in Mia\\'s collection. You’ll also find them throughout the museum, in print form, hanging beside the art they reference.' }, { title: '3D Models', term: '_exists_:related:3dmodels', blurb: \"Mia does extensive photographic documentation of it's art, including building 3D models.\" }, { title: 'Verbal Descriptions of Art', term: '_exists_:related:visual-descriptions', blurb: \"Detailed, verbal descriptions of artwork for people who are blind or have low vision.\" }],\n\n  personalize: function personalize() {\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'h2',\n        null,\n        'Personalize Mia with new ways to explore art.'\n      ),\n      React.createElement(\n        'div',\n        null,\n        React.createElement('img', {\n          src: 'http://a2.mzstatic.com/us/r30/Purple30/v4/81/fe/1d/81fe1d69-d2dd-ef9d-a78c-44ba8b30f5fd/screen696x696.jpeg',\n          style: appThumbStyle\n        }),\n        React.createElement(\n          'h3',\n          null,\n          'Journeys'\n        ),\n        React.createElement(\n          'p',\n          null,\n          'Use this app to create a personalized journey through the museum or follow the suggestions of others. Either way, we\\u2019ll map it out for you. ',\n          React.createElement(\n            'a',\n            { href: 'https://itunes.apple.com/us/app/mia-journeys/id1058993004' },\n            'Download the app free (iOS).'\n          )\n        ),\n        clearHr\n      ),\n      React.createElement(\n        'div',\n        null,\n        React.createElement('img', {\n          src: 'http://a2.mzstatic.com/us/r30/Purple30/v4/9f/29/53/9f295387-66e0-ff76-d38f-04a33422faa5/screen696x696.jpeg',\n          style: appThumbStyle\n        }),\n        React.createElement(\n          'h3',\n          null,\n          'Overheard'\n        ),\n        React.createElement(\n          'p',\n          null,\n          'Eavesdrop on the conversations of fictional fellow visitors as they wander the galleries, using this playful audio app. ',\n          React.createElement(\n            'a',\n            { href: 'https://itunes.apple.com/us/app/overheard-mia/id1116319582' },\n            'Download it free (iOS)'\n          ),\n          '.'\n        ),\n        React.createElement(ExpandableNewArtsmiaContentBlock, { page: 'overheard' }),\n        clearHr\n      )\n    );\n  }\n});\n\nmodule.exports = Explore;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4cGxvcmUuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiSGVsbWV0IiwiUGVlayIsIkRlcGFydG1lbnQiLCJTZWFyY2giLCJBcnR3b3JrIiwiRXhwYW5kYWJsZU5ld0FydHNtaWFDb250ZW50QmxvY2siLCJNYXJrZG93biIsIkV4cGxvcmUiLCJjcmVhdGVDbGFzcyIsInN0YXRpY3MiLCJzZWFyY2hSZXN1bHRzIiwiZmV0Y2hEYXRhIiwicmVuZGVyIiwiYXBwVGh1bWJTdHlsZSIsIm1heFdpZHRoIiwibWFyZ2luUmlnaHQiLCJmbG9hdCIsImNsZWFySHIiLCJ2aXNpYmlsaXR5IiwiY2xlYXIiLCJwYWRkaW5nIiwic2VhcmNoZXMiLCJtYXAiLCJpbmRleCIsInRlcm0iLCJibHVyYiIsInRpdGxlIiwic3BsaXQiLCJmYWNldCIsInRlcm1zIiwiZm9udEZhbWlseSIsImpvaW4iLCJtYXhSb3dIZWlnaHQiLCJwZXJzb25hbGl6ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJQSxRQUFRQyxRQUFRLE9BQVIsQ0FBWjtBQUNBLElBQUlDLFNBQVNELFFBQVEsY0FBUixDQUFiOztBQUVBLElBQUlFLE9BQU9GLFFBQVEsUUFBUixDQUFYO0FBQ0EsSUFBSUcsYUFBYUgsUUFBUSxjQUFSLENBQWpCO0FBQ0EsSUFBSUksU0FBU0osUUFBUSxVQUFSLENBQWI7QUFDQSxJQUFJSyxVQUFVTCxRQUFRLFdBQVIsQ0FBZDtBQUNBLElBQUlNLG1DQUFtQ04sUUFBUSx3Q0FBUixDQUF2QztBQUNBLElBQUlPLFdBQVdQLFFBQVEsWUFBUixDQUFmOztBQUVBLElBQUlRLFVBQVVULE1BQU1VLFdBQU4sQ0FBa0I7QUFBQTs7QUFDOUJDLFdBQVM7QUFDUEMsbUJBQWVSLFdBQVdTLFNBQVgsQ0FBcUJEO0FBRDdCLEdBRHFCOztBQUs5QkUsUUFMOEIsb0JBS3JCO0FBQ1AsUUFBTUMsZ0JBQWdCO0FBQ3BCQyxnQkFBVSxLQURVO0FBRXBCQyxtQkFBYSxLQUZPO0FBR3BCQyxhQUFPO0FBSGEsS0FBdEI7O0FBTUEsUUFBTUMsVUFBVSw0QkFBSSxPQUFPLEVBQUNDLFlBQVksUUFBYixFQUF1QkMsT0FBTyxNQUE5QixFQUFYLEdBQWhCO0FBQ0EsV0FBTztBQUFBO0FBQUE7QUFDTCxpQ0FBRyxNQUFLLFdBQVIsRUFBb0IsV0FBVSxnQkFBOUIsR0FESztBQUVMO0FBQUE7QUFBQSxVQUFLLFdBQVUsaUJBQWYsRUFBaUMsT0FBTyxFQUFDQyxTQUFTLFdBQVYsRUFBeEM7QUFDRyxhQUFLQyxRQUFMLENBQWNDLEdBQWQsQ0FBa0IsZ0JBQXVCQyxLQUF2QixFQUFpQztBQUFBLGNBQS9CQyxJQUErQixRQUEvQkEsSUFBK0I7QUFBQSxjQUF6QkMsS0FBeUIsUUFBekJBLEtBQXlCO0FBQUEsY0FBbEJDLEtBQWtCLFFBQWxCQSxLQUFrQjs7QUFBQSw0QkFDMUJGLEtBQUtHLEtBQUwsQ0FBVyxHQUFYLENBRDBCO0FBQUE7QUFBQSxjQUM3Q0MsS0FENkM7QUFBQSxjQUNuQ0MsS0FEbUM7O0FBRWxELGlCQUFPO0FBQUE7QUFBQTtBQUNMO0FBQUE7QUFBQTtBQUFBO0FBQVk7QUFBQTtBQUFBLGtCQUFNLE9BQU8sRUFBQ0MsWUFBWSwrQkFBYixFQUFiO0FBQTZESjtBQUE3RDtBQUFaLGFBREs7QUFFTDtBQUFBO0FBQUE7QUFBRztBQUFDLHdCQUFEO0FBQUE7QUFBV0Q7QUFBWDtBQUFILGFBRks7QUFHTCxnQ0FBQyxJQUFEO0FBQ0Usc0JBQVFGLFFBQU0sQ0FEaEI7QUFFRSxxQkFBT0ssS0FGVDtBQUdFLGlCQUFHQyxNQUFNRSxJQUFOLENBQVcsR0FBWCxDQUhMO0FBSUUsMEJBQVksRUFBQ0MsY0FBYyxHQUFmLEVBSmQ7QUFLRSw0QkFBY0gsTUFBTSxDQUFOLENBTGhCO0FBTUUsNEJBQWMsSUFOaEI7QUFPRSx3QkFBVTtBQVBaLGNBSEs7QUFZSlo7QUFaSSxXQUFQO0FBY0QsU0FoQkEsQ0FESDtBQW1CRyxpQkFBUyxLQUFLZ0IsV0FBTCxFQW5CWjtBQW9CQSw0QkFBQyxNQUFELElBQVEsT0FBTSxpQkFBZDtBQXBCQTtBQUZLLEtBQVA7QUF3QkQsR0FyQzZCOzs7QUF3QzlCWixZQUFVLENBQ1IsRUFBQ0ssT0FBTyxPQUFSLEVBQWlCRixNQUFLLDhCQUF0QixFQUFzREMsT0FBTSwwSkFBNUQsRUFEUSxFQUVSLEVBQUNDLE9BQU8sT0FBUixFQUFpQkYsTUFBSyx5QkFBdEIsRUFBaURDLE9BQU0sNEJBQXZELEVBRlEsRUFHUixFQUFDQyxPQUFPLGFBQVIsRUFBdUJGLE1BQUssNkJBQTVCLEVBQTJEQyxPQUFNLGdRQUFqRSxFQUhRLEVBSVIsRUFBQ0MsT0FBTyxhQUFSLEVBQXVCRixNQUFLLDBCQUE1QixFQUF3REMsT0FBTSx5UEFBOUQsRUFKUSxFQUtSLEVBQUNDLE9BQU8sYUFBUixFQUF1QkYsTUFBSyw4QkFBNUIsRUFBNERDLE9BQU8sOE1BQW5FLEVBTFEsRUFNUixFQUFDQyxPQUFPLFdBQVIsRUFBcUJGLE1BQUssMkJBQTFCLEVBQXVEQyxPQUFPLDBGQUE5RCxFQU5RLEVBT1IsRUFBQ0MsT0FBTyw0QkFBUixFQUFzQ0YsTUFBSyxzQ0FBM0MsRUFBbUZDLE9BQU8sdUZBQTFGLEVBUFEsQ0F4Q29COztBQWtEOUJRLGFBbEQ4Qix5QkFrRGhCO0FBQ1osV0FBTztBQUFBO0FBQUE7QUFDTDtBQUFBO0FBQUE7QUFBQTtBQUFBLE9BREs7QUFHTDtBQUFBO0FBQUE7QUFDRTtBQUNFLGVBQUksNEdBRE47QUFFRSxpQkFBT3BCO0FBRlQsVUFERjtBQUtFO0FBQUE7QUFBQTtBQUFBO0FBQUEsU0FMRjtBQU1FO0FBQUE7QUFBQTtBQUFBO0FBQStJO0FBQUE7QUFBQSxjQUFHLE1BQUssMkRBQVI7QUFBQTtBQUFBO0FBQS9JLFNBTkY7QUFPR0k7QUFQSCxPQUhLO0FBYUw7QUFBQTtBQUFBO0FBQ0U7QUFDRSxlQUFJLDRHQUROO0FBRUUsaUJBQU9KO0FBRlQsVUFERjtBQUtFO0FBQUE7QUFBQTtBQUFBO0FBQUEsU0FMRjtBQU1FO0FBQUE7QUFBQTtBQUFBO0FBQTJIO0FBQUE7QUFBQSxjQUFHLE1BQUssNERBQVI7QUFBQTtBQUFBLFdBQTNIO0FBQUE7QUFBQSxTQU5GO0FBT0UsNEJBQUMsZ0NBQUQsSUFBa0MsTUFBSyxXQUF2QyxHQVBGO0FBUUdJO0FBUkg7QUFiSyxLQUFQO0FBd0JEO0FBM0U2QixDQUFsQixDQUFkOztBQThFQWlCLE9BQU9DLE9BQVAsR0FBaUI1QixPQUFqQiIsImZpbGUiOiJleHBsb3JlLmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgSGVsbWV0ID0gcmVxdWlyZSgncmVhY3QtaGVsbWV0JylcblxudmFyIFBlZWsgPSByZXF1aXJlKCcuL3BlZWsnKVxudmFyIERlcGFydG1lbnQgPSByZXF1aXJlKCcuL2RlcGFydG1lbnQnKVxudmFyIFNlYXJjaCA9IHJlcXVpcmUoJy4vc2VhcmNoJylcbnZhciBBcnR3b3JrID0gcmVxdWlyZSgnLi9hcnR3b3JrJylcbnZhciBFeHBhbmRhYmxlTmV3QXJ0c21pYUNvbnRlbnRCbG9jayA9IHJlcXVpcmUoJy4vZXhwYW5kYWJsZS1uZXctYXJ0c21pYS1jb250ZW50LWJsb2NrJylcbnZhciBNYXJrZG93biA9IHJlcXVpcmUoJy4vbWFya2Rvd24nKVxuXG52YXIgRXhwbG9yZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgc3RhdGljczoge1xuICAgIHNlYXJjaFJlc3VsdHM6IERlcGFydG1lbnQuZmV0Y2hEYXRhLnNlYXJjaFJlc3VsdHNcbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgYXBwVGh1bWJTdHlsZSA9IHtcbiAgICAgIG1heFdpZHRoOiAnNWVtJyxcbiAgICAgIG1hcmdpblJpZ2h0OiAnMWVtJyxcbiAgICAgIGZsb2F0OiAnbGVmdCcsXG4gICAgfVxuXG4gICAgY29uc3QgY2xlYXJIciA9IDxociBzdHlsZT17e3Zpc2liaWxpdHk6ICdoaWRkZW4nLCBjbGVhcjogJ2JvdGgnfX0gLz5cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIDxhIGhyZWY9XCIvYXJ0Lzg3NDdcIiBjbGFzc05hbWU9XCJleHBsb3JlLWhlYWRlclwiPjwvYT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXhwbG9yZS1zZWN0aW9uXCIgc3R5bGU9e3twYWRkaW5nOiAnMCAyLjV2bWF4J319PlxuICAgICAgICB7dGhpcy5zZWFyY2hlcy5tYXAoKHt0ZXJtLCBibHVyYiwgdGl0bGV9LCBpbmRleCkgPT4ge1xuICAgICAgICAgIHZhciBbZmFjZXQsIC4uLnRlcm1zXSA9IHRlcm0uc3BsaXQoJzonKVxuICAgICAgICAgIHJldHVybiA8c2VjdGlvbj5cbiAgICAgICAgICAgIDxoMj5FeHBsb3JlIDxzcGFuIHN0eWxlPXt7Zm9udEZhbWlseTogJ1wiTWlhR3JvdGVzay1MaWdodFwiLHNhbnMtc2VyaWYnfX0+e3RpdGxlfTwvc3Bhbj48L2gyPlxuICAgICAgICAgICAgPHA+PE1hcmtkb3duPntibHVyYn08L01hcmtkb3duPjwvcD5cbiAgICAgICAgICAgIDxQZWVrXG4gICAgICAgICAgICAgIG9mZnNldD17aW5kZXgqNX1cbiAgICAgICAgICAgICAgZmFjZXQ9e2ZhY2V0fVxuICAgICAgICAgICAgICBxPXt0ZXJtcy5qb2luKCc6Jyl9XG4gICAgICAgICAgICAgIHF1aWx0UHJvcHM9e3ttYXhSb3dIZWlnaHQ6IDYwMH19XG4gICAgICAgICAgICAgIGRpcmVjdExpbmtUbz17dGVybXNbMV19XG4gICAgICAgICAgICAgIHNodWZmbGVRdWlsdD17dHJ1ZX1cbiAgICAgICAgICAgICAgZmlsdGVyZWQ9e3RydWV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB7Y2xlYXJIcn1cbiAgICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgIH0pfVxuXG4gICAgICAgIHtmYWxzZSAmJiB0aGlzLnBlcnNvbmFsaXplKCl9XG4gICAgICA8SGVsbWV0IHRpdGxlPVwiRXhwbG9yZSB0aGUgYXJ0XCIgLz5cbiAgICA8L2Rpdj48L2Rpdj5cbiAgfSxcblxuXG4gIHNlYXJjaGVzOiBbXG4gICAge3RpdGxlOiAnQXVkaW8nLCB0ZXJtOidfZXhpc3RzXzpyZWxhdGVkOmF1ZGlvLXN0b3BzJywgYmx1cmI6J0F1ZGlvIFN0b3BzIGFyZSBtaW5pLXBvZGNhc3RzIHRoYXQgcHJlc2VudCBtYW55IG9mIE1pYeKAmXMgaGlnaGxpZ2h0cyBhbmQgZmF2b3JpdGUgYXJ0d29ya3MgdGhyb3VnaCBzb3VuZCBhbmQgc3Rvcmllcy4gTGlzdGVuIGluIHRoZSBnYWxsZXJpZXMgb3IgYXQgaG9tZS4nfSxcbiAgICB7dGl0bGU6ICdWaWRlbycsIHRlcm06J19leGlzdHNfOnJlbGF0ZWQ6dmlkZW9zJywgYmx1cmI6J1ZpZGVvcyBmcm9tIHRoZSBjb2xsZWN0aW9uJ30sXG4gICAge3RpdGxlOiAnQXJ0IFN0b3JpZXMnLCB0ZXJtOidfZXhpc3RzXzpyZWxhdGVkOmFydHN0b3JpZXMnLCBibHVyYjonW0FydFN0b3JpZXNdKGh0dHBzOi8vYXJ0c3Rvcmllcy5hcnRzbWlhLm9yZy8pIGFyZSBpbi1kZXB0aCBtdWx0aW1lZGlhIGV4cGxvcmF0aW9ucyBvZiBNaWHigJlzIGhpZ2hsaWdodHMgYW5kIGhpZGRlbiBnZW1z4oCUZnJvbSBpbnRyaWd1aW5nIGRldGFpbHMgdG8gc2VjcmV0IGJhY2tzdG9yaWVzLiBBdmFpbGFibGUgb24gaVBhZHMgaW4gdGhlIGdhbGxlcmllcywgYW5kIG9wdGltaXplZCBmb3IgeW91ciBzbWFydHBob25lIG9yIGhvbWUgY29tcHV0ZXIuJ30sXG4gICAge3RpdGxlOiAnTWlhIFN0b3JpZXMnLCB0ZXJtOidfZXhpc3RzXzpyZWxhdGVkOnN0b3JpZXMnLCBibHVyYjonW01pYSBTdG9yaWVzXShodHRwczovL25ldy5hcnRzbWlhLm9yZy9zdG9yaWVzLyk6IHRoZSBtdXNldW0gYmV5b25kIHRoZSB3YWxscywgb3V0c2lkZSB0aGUgZnJhbWUsIGF0IHRoZSBsaXZlbHkgaW50ZXJzZWN0aW9uIG9mIGxpZmUgYW5kIGFydC4gRnJvbSBiZWhpbmQtdGhlLXNjZW5lcyBidXp6IHRvIGluc3BpcmluZyBjb25uZWN0aW9ucyB3aXRoIGN1cnJlbnQgZXZlbnRzLCBpdOKAmXMgdGhlIG11c2V1bSBpbiBjb252ZXJzYXRpb24uJ30sXG4gICAge3RpdGxlOiAnTmV3c2ZsYXNoZXMnLCB0ZXJtOidfZXhpc3RzXzpyZWxhdGVkOm5ld3NmbGFzaGVzJywgYmx1cmI6ICdbTmV3c0ZsYXNoZXNdKGh0dHBzOi8vbmV3LmFydHNtaWEub3JnL3RyZW5kaW5nLW5vdy8pIGNvbm5lY3QgY3VycmVudCBldmVudHMgYW5kIGFydCBpbiBNaWFcXCdzIGNvbGxlY3Rpb24uIFlvdeKAmWxsIGFsc28gZmluZCB0aGVtIHRocm91Z2hvdXQgdGhlIG11c2V1bSwgaW4gcHJpbnQgZm9ybSwgaGFuZ2luZyBiZXNpZGUgdGhlIGFydCB0aGV5IHJlZmVyZW5jZS4nfSxcbiAgICB7dGl0bGU6ICczRCBNb2RlbHMnLCB0ZXJtOidfZXhpc3RzXzpyZWxhdGVkOjNkbW9kZWxzJywgYmx1cmI6IFwiTWlhIGRvZXMgZXh0ZW5zaXZlIHBob3RvZ3JhcGhpYyBkb2N1bWVudGF0aW9uIG9mIGl0J3MgYXJ0LCBpbmNsdWRpbmcgYnVpbGRpbmcgM0QgbW9kZWxzLlwifSxcbiAgICB7dGl0bGU6ICdWZXJiYWwgRGVzY3JpcHRpb25zIG9mIEFydCcsIHRlcm06J19leGlzdHNfOnJlbGF0ZWQ6dmlzdWFsLWRlc2NyaXB0aW9ucycsIGJsdXJiOiBcIkRldGFpbGVkLCB2ZXJiYWwgZGVzY3JpcHRpb25zIG9mIGFydHdvcmsgZm9yIHBlb3BsZSB3aG8gYXJlIGJsaW5kIG9yIGhhdmUgbG93IHZpc2lvbi5cIn0sXG4gIF0sXG5cbiAgcGVyc29uYWxpemUoKSB7XG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8aDI+UGVyc29uYWxpemUgTWlhIHdpdGggbmV3IHdheXMgdG8gZXhwbG9yZSBhcnQuPC9oMj5cblxuICAgICAgPGRpdj5cbiAgICAgICAgPGltZ1xuICAgICAgICAgIHNyYz1cImh0dHA6Ly9hMi5tenN0YXRpYy5jb20vdXMvcjMwL1B1cnBsZTMwL3Y0LzgxL2ZlLzFkLzgxZmUxZDY5LWQyZGQtZWY5ZC1hNzhjLTQ0YmE4YjMwZjVmZC9zY3JlZW42OTZ4Njk2LmpwZWdcIiBcbiAgICAgICAgICBzdHlsZT17YXBwVGh1bWJTdHlsZX1cbiAgICAgICAgLz5cbiAgICAgICAgPGgzPkpvdXJuZXlzPC9oMz5cbiAgICAgICAgPHA+VXNlIHRoaXMgYXBwIHRvIGNyZWF0ZSBhIHBlcnNvbmFsaXplZCBqb3VybmV5IHRocm91Z2ggdGhlIG11c2V1bSBvciBmb2xsb3cgdGhlIHN1Z2dlc3Rpb25zIG9mIG90aGVycy4gRWl0aGVyIHdheSwgd2XigJlsbCBtYXAgaXQgb3V0IGZvciB5b3UuIDxhIGhyZWY9XCJodHRwczovL2l0dW5lcy5hcHBsZS5jb20vdXMvYXBwL21pYS1qb3VybmV5cy9pZDEwNTg5OTMwMDRcIj5Eb3dubG9hZCB0aGUgYXBwIGZyZWUgKGlPUykuPC9hPjwvcD5cbiAgICAgICAge2NsZWFySHJ9XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdj5cbiAgICAgICAgPGltZ1xuICAgICAgICAgIHNyYz1cImh0dHA6Ly9hMi5tenN0YXRpYy5jb20vdXMvcjMwL1B1cnBsZTMwL3Y0LzlmLzI5LzUzLzlmMjk1Mzg3LTY2ZTAtZmY3Ni1kMzhmLTA0YTMzNDIyZmFhNS9zY3JlZW42OTZ4Njk2LmpwZWdcIlxuICAgICAgICAgIHN0eWxlPXthcHBUaHVtYlN0eWxlfVxuICAgICAgICAvPlxuICAgICAgICA8aDM+T3ZlcmhlYXJkPC9oMz5cbiAgICAgICAgPHA+RWF2ZXNkcm9wIG9uIHRoZSBjb252ZXJzYXRpb25zIG9mIGZpY3Rpb25hbCBmZWxsb3cgdmlzaXRvcnMgYXMgdGhleSB3YW5kZXIgdGhlIGdhbGxlcmllcywgdXNpbmcgdGhpcyBwbGF5ZnVsIGF1ZGlvIGFwcC4gPGEgaHJlZj1cImh0dHBzOi8vaXR1bmVzLmFwcGxlLmNvbS91cy9hcHAvb3ZlcmhlYXJkLW1pYS9pZDExMTYzMTk1ODJcIj5Eb3dubG9hZCBpdCBmcmVlIChpT1MpPC9hPi48L3A+XG4gICAgICAgIDxFeHBhbmRhYmxlTmV3QXJ0c21pYUNvbnRlbnRCbG9jayBwYWdlPVwib3ZlcmhlYXJkXCIgLz5cbiAgICAgICAge2NsZWFySHJ9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gRXhwbG9yZVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "explore.js"
      ],
      "names": [
        "React",
        "require",
        "Helmet",
        "Peek",
        "Department",
        "Search",
        "Artwork",
        "ExpandableNewArtsmiaContentBlock",
        "Markdown",
        "Explore",
        "createClass",
        "statics",
        "searchResults",
        "fetchData",
        "render",
        "appThumbStyle",
        "maxWidth",
        "marginRight",
        "float",
        "clearHr",
        "visibility",
        "clear",
        "padding",
        "searches",
        "map",
        "index",
        "term",
        "blurb",
        "title",
        "split",
        "facet",
        "terms",
        "fontFamily",
        "join",
        "maxRowHeight",
        "personalize",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "explore.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar Helmet = require('react-helmet')\n\nvar Peek = require('./peek')\nvar Department = require('./department')\nvar Search = require('./search')\nvar Artwork = require('./artwork')\nvar ExpandableNewArtsmiaContentBlock = require('./expandable-new-artsmia-content-block')\nvar Markdown = require('./markdown')\n\nvar Explore = React.createClass({\n  statics: {\n    searchResults: Department.fetchData.searchResults\n  },\n\n  render() {\n    const appThumbStyle = {\n      maxWidth: '5em',\n      marginRight: '1em',\n      float: 'left',\n    }\n\n    const clearHr = <hr style={{visibility: 'hidden', clear: 'both'}} />\n    return <div>\n      <a href=\"/art/8747\" className=\"explore-header\"></a>\n      <div className=\"explore-section\" style={{padding: '0 2.5vmax'}}>\n        {this.searches.map(({term, blurb, title}, index) => {\n          var [facet, ...terms] = term.split(':')\n          return <section>\n            <h2>Explore <span style={{fontFamily: '\"MiaGrotesk-Light\",sans-serif'}}>{title}</span></h2>\n            <p><Markdown>{blurb}</Markdown></p>\n            <Peek\n              offset={index*5}\n              facet={facet}\n              q={terms.join(':')}\n              quiltProps={{maxRowHeight: 600}}\n              directLinkTo={terms[1]}\n              shuffleQuilt={true}\n              filtered={true}\n              />\n            {clearHr}\n          </section>\n        })}\n\n        {false && this.personalize()}\n      <Helmet title=\"Explore the art\" />\n    </div></div>\n  },\n\n\n  searches: [\n    {title: 'Audio', term:'_exists_:related:audio-stops', blurb:'Audio Stops are mini-podcasts that present many of Mia’s highlights and favorite artworks through sound and stories. Listen in the galleries or at home.'},\n    {title: 'Video', term:'_exists_:related:videos', blurb:'Videos from the collection'},\n    {title: 'Art Stories', term:'_exists_:related:artstories', blurb:'[ArtStories](https://artstories.artsmia.org/) are in-depth multimedia explorations of Mia’s highlights and hidden gems—from intriguing details to secret backstories. Available on iPads in the galleries, and optimized for your smartphone or home computer.'},\n    {title: 'Mia Stories', term:'_exists_:related:stories', blurb:'[Mia Stories](https://new.artsmia.org/stories/): the museum beyond the walls, outside the frame, at the lively intersection of life and art. From behind-the-scenes buzz to inspiring connections with current events, it’s the museum in conversation.'},\n    {title: 'Newsflashes', term:'_exists_:related:newsflashes', blurb: '[NewsFlashes](https://new.artsmia.org/trending-now/) connect current events and art in Mia\\'s collection. You’ll also find them throughout the museum, in print form, hanging beside the art they reference.'},\n    {title: '3D Models', term:'_exists_:related:3dmodels', blurb: \"Mia does extensive photographic documentation of it's art, including building 3D models.\"},\n    {title: 'Verbal Descriptions of Art', term:'_exists_:related:visual-descriptions', blurb: \"Detailed, verbal descriptions of artwork for people who are blind or have low vision.\"},\n  ],\n\n  personalize() {\n    return <div>\n      <h2>Personalize Mia with new ways to explore art.</h2>\n\n      <div>\n        <img\n          src=\"http://a2.mzstatic.com/us/r30/Purple30/v4/81/fe/1d/81fe1d69-d2dd-ef9d-a78c-44ba8b30f5fd/screen696x696.jpeg\" \n          style={appThumbStyle}\n        />\n        <h3>Journeys</h3>\n        <p>Use this app to create a personalized journey through the museum or follow the suggestions of others. Either way, we’ll map it out for you. <a href=\"https://itunes.apple.com/us/app/mia-journeys/id1058993004\">Download the app free (iOS).</a></p>\n        {clearHr}\n      </div>\n\n      <div>\n        <img\n          src=\"http://a2.mzstatic.com/us/r30/Purple30/v4/9f/29/53/9f295387-66e0-ff76-d38f-04a33422faa5/screen696x696.jpeg\"\n          style={appThumbStyle}\n        />\n        <h3>Overheard</h3>\n        <p>Eavesdrop on the conversations of fictional fellow visitors as they wander the galleries, using this playful audio app. <a href=\"https://itunes.apple.com/us/app/overheard-mia/id1116319582\">Download it free (iOS)</a>.</p>\n        <ExpandableNewArtsmiaContentBlock page=\"overheard\" />\n        {clearHr}\n      </div>\n    </div>\n  },\n})\n\nmodule.exports = Explore\n"
      ]
    },
    "mtime": 1584573136822
  },
  "{\"filename\":\"/var/www/art/src/expandable-new-artsmia-content-block.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/expandable-new-artsmia-content-block.js",
      "filenameRelative": "/var/www/art/src/expandable-new-artsmia-content-block.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "expandable-new-artsmia-content-block.js",
      "sourceFileName": "expandable-new-artsmia-content-block.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "expandable-new-artsmia-content-block"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar rest = require('rest');\nvar Markdown = require('./markdown');\n\nvar ExpandableNewArtsmiaContentBlock = React.createClass({\n  displayName: 'ExpandableNewArtsmiaContentBlock',\n\n  // statics: {\n  //   fetchData: (params, query) => {\n  //   }\n  // },\n  getInitialState: function getInitialState() {\n    return {\n      expanded: false,\n      loaded: false\n    };\n  },\n  componentWillMount: function componentWillMount() {\n    this.loadExternalContent();\n  },\n  loadExternalContent: function loadExternalContent() {\n    var _this = this;\n\n    return rest('https://new.artsmia.org/wp-json/wp/v2/pages?slug=' + this.props.page).then(function (r) {\n      return JSON.parse(r.entity);\n    }).then(function (json) {\n      return _this.setState({ loaded: true, json: json });\n    });\n  },\n  render: function render() {\n    var _state = this.state,\n        loaded = _state.loaded,\n        expanded = _state.expanded,\n        json = _state.json;\n\n    var toggleButton = React.createElement(\n      'a',\n      { href: '#', onClick: this.toggle },\n      expanded ? 'Less' : 'More',\n      ' Info'\n    );\n\n    var content = loaded && React.createElement(\n      'div',\n      null,\n      React.createElement(\n        Markdown,\n        null,\n        json[0].acf.modules[1].content[0].text\n      ),\n      React.createElement('hr', null)\n    );\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'p',\n        null,\n        toggleButton\n      ),\n      loaded && expanded && content\n    );\n  },\n  toggle: function toggle(event) {\n    this.setState({ expanded: !this.state.expanded });\n    event.preventDefault();\n    return false;\n  }\n});\n\nmodule.exports = ExpandableNewArtsmiaContentBlock;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4cGFuZGFibGUtbmV3LWFydHNtaWEtY29udGVudC1ibG9jay5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJyZXN0IiwiTWFya2Rvd24iLCJFeHBhbmRhYmxlTmV3QXJ0c21pYUNvbnRlbnRCbG9jayIsImNyZWF0ZUNsYXNzIiwiZ2V0SW5pdGlhbFN0YXRlIiwiZXhwYW5kZWQiLCJsb2FkZWQiLCJjb21wb25lbnRXaWxsTW91bnQiLCJsb2FkRXh0ZXJuYWxDb250ZW50IiwicHJvcHMiLCJwYWdlIiwidGhlbiIsInIiLCJKU09OIiwicGFyc2UiLCJlbnRpdHkiLCJzZXRTdGF0ZSIsImpzb24iLCJyZW5kZXIiLCJzdGF0ZSIsInRvZ2dsZUJ1dHRvbiIsInRvZ2dsZSIsImNvbnRlbnQiLCJhY2YiLCJtb2R1bGVzIiwidGV4dCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFFBQVFDLFFBQVEsT0FBUixDQUFaO0FBQ0EsSUFBSUMsT0FBT0QsUUFBUSxNQUFSLENBQVg7QUFDQSxJQUFJRSxXQUFXRixRQUFRLFlBQVIsQ0FBZjs7QUFFQSxJQUFJRyxtQ0FBbUNKLE1BQU1LLFdBQU4sQ0FBa0I7QUFBQTs7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQUMsaUJBTHVELDZCQUtyQztBQUNoQixXQUFPO0FBQ0xDLGdCQUFVLEtBREw7QUFFTEMsY0FBUTtBQUZILEtBQVA7QUFJRCxHQVZzRDtBQVl2REMsb0JBWnVELGdDQVlsQztBQUNuQixTQUFLQyxtQkFBTDtBQUNELEdBZHNEO0FBZ0J2REEscUJBaEJ1RCxpQ0FnQmpDO0FBQUE7O0FBQ3BCLFdBQU9SLEtBQUssc0RBQW9ELEtBQUtTLEtBQUwsQ0FBV0MsSUFBcEUsRUFDTkMsSUFETSxDQUNELFVBQUNDLENBQUQ7QUFBQSxhQUFPQyxLQUFLQyxLQUFMLENBQVdGLEVBQUVHLE1BQWIsQ0FBUDtBQUFBLEtBREMsRUFFTkosSUFGTSxDQUVEO0FBQUEsYUFBUSxNQUFLSyxRQUFMLENBQWMsRUFBQ1YsUUFBUSxJQUFULEVBQWVXLE1BQU1BLElBQXJCLEVBQWQsQ0FBUjtBQUFBLEtBRkMsQ0FBUDtBQUdELEdBcEJzRDtBQXNCdkRDLFFBdEJ1RCxvQkFzQjlDO0FBQUEsaUJBQ3dCLEtBQUtDLEtBRDdCO0FBQUEsUUFDRmIsTUFERSxVQUNGQSxNQURFO0FBQUEsUUFDTUQsUUFETixVQUNNQSxRQUROO0FBQUEsUUFDZ0JZLElBRGhCLFVBQ2dCQSxJQURoQjs7QUFFUCxRQUFJRyxlQUFlO0FBQUE7QUFBQSxRQUFHLE1BQUssR0FBUixFQUFZLFNBQVMsS0FBS0MsTUFBMUI7QUFBbUNoQixpQkFBVyxNQUFYLEdBQW9CLE1BQXZEO0FBQUE7QUFBQSxLQUFuQjs7QUFFQSxRQUFJaUIsVUFBVWhCLFVBQVU7QUFBQTtBQUFBO0FBQUs7QUFBQyxnQkFBRDtBQUFBO0FBQzFCVyxhQUFLLENBQUwsRUFBUU0sR0FBUixDQUFZQyxPQUFaLENBQW9CLENBQXBCLEVBQXVCRixPQUF2QixDQUErQixDQUEvQixFQUFrQ0c7QUFEUixPQUFMO0FBRWI7QUFGYSxLQUF4Qjs7QUFJQSxXQUFPO0FBQUE7QUFBQTtBQUNMO0FBQUE7QUFBQTtBQUFJTDtBQUFKLE9BREs7QUFFSmQsZ0JBQVVELFFBQVYsSUFBc0JpQjtBQUZsQixLQUFQO0FBSUQsR0FsQ3NEO0FBb0N2REQsUUFwQ3VELGtCQW9DaERLLEtBcENnRCxFQW9DekM7QUFDWixTQUFLVixRQUFMLENBQWMsRUFBQ1gsVUFBVSxDQUFDLEtBQUtjLEtBQUwsQ0FBV2QsUUFBdkIsRUFBZDtBQUNBcUIsVUFBTUMsY0FBTjtBQUNBLFdBQU8sS0FBUDtBQUNEO0FBeENzRCxDQUFsQixDQUF2Qzs7QUEyQ0FDLE9BQU9DLE9BQVAsR0FBaUIzQixnQ0FBakIiLCJmaWxlIjoiZXhwYW5kYWJsZS1uZXctYXJ0c21pYS1jb250ZW50LWJsb2NrLmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi9tYXJrZG93bicpXG5cbnZhciBFeHBhbmRhYmxlTmV3QXJ0c21pYUNvbnRlbnRCbG9jayA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgLy8gc3RhdGljczoge1xuICAvLyAgIGZldGNoRGF0YTogKHBhcmFtcywgcXVlcnkpID0+IHtcbiAgLy8gICB9XG4gIC8vIH0sXG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXhwYW5kZWQ6IGZhbHNlLFxuICAgICAgbG9hZGVkOiBmYWxzZSxcbiAgICB9XG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHRoaXMubG9hZEV4dGVybmFsQ29udGVudCgpXG4gIH0sXG5cbiAgbG9hZEV4dGVybmFsQ29udGVudCgpIHtcbiAgICByZXR1cm4gcmVzdCgnaHR0cHM6Ly9uZXcuYXJ0c21pYS5vcmcvd3AtanNvbi93cC92Mi9wYWdlcz9zbHVnPScrdGhpcy5wcm9wcy5wYWdlKVxuICAgIC50aGVuKChyKSA9PiBKU09OLnBhcnNlKHIuZW50aXR5KSlcbiAgICAudGhlbihqc29uID0+IHRoaXMuc2V0U3RhdGUoe2xvYWRlZDogdHJ1ZSwganNvbjoganNvbn0pKVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIge2xvYWRlZCwgZXhwYW5kZWQsIGpzb259ID0gdGhpcy5zdGF0ZVxuICAgIHZhciB0b2dnbGVCdXR0b24gPSA8YSBocmVmPVwiI1wiIG9uQ2xpY2s9e3RoaXMudG9nZ2xlfT57ZXhwYW5kZWQgPyAnTGVzcycgOiAnTW9yZSd9IEluZm88L2E+XG5cbiAgICB2YXIgY29udGVudCA9IGxvYWRlZCAmJiA8ZGl2PjxNYXJrZG93bj5cbiAgICAgIHtqc29uWzBdLmFjZi5tb2R1bGVzWzFdLmNvbnRlbnRbMF0udGV4dH1cbiAgICA8L01hcmtkb3duPjxociAvPjwvZGl2PlxuXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8cD57dG9nZ2xlQnV0dG9ufTwvcD5cbiAgICAgIHtsb2FkZWQgJiYgZXhwYW5kZWQgJiYgY29udGVudH1cbiAgICA8L2Rpdj5cbiAgfSxcblxuICB0b2dnbGUoZXZlbnQpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtleHBhbmRlZDogIXRoaXMuc3RhdGUuZXhwYW5kZWR9KVxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICByZXR1cm4gZmFsc2VcbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gRXhwYW5kYWJsZU5ld0FydHNtaWFDb250ZW50QmxvY2tcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "expandable-new-artsmia-content-block.js"
      ],
      "names": [
        "React",
        "require",
        "rest",
        "Markdown",
        "ExpandableNewArtsmiaContentBlock",
        "createClass",
        "getInitialState",
        "expanded",
        "loaded",
        "componentWillMount",
        "loadExternalContent",
        "props",
        "page",
        "then",
        "r",
        "JSON",
        "parse",
        "entity",
        "setState",
        "json",
        "render",
        "state",
        "toggleButton",
        "toggle",
        "content",
        "acf",
        "modules",
        "text",
        "event",
        "preventDefault",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;AACA,IAAIC,OAAOD,QAAQ,MAAR,CAAX;AACA,IAAIE,WAAWF,QAAQ,YAAR,CAAf;;AAEA,IAAIG,mCAAmCJ,MAAMK,WAAN,CAAkB;AAAA;;AACvD;AACA;AACA;AACA;AACAC,iBALuD,6BAKrC;AAChB,WAAO;AACLC,gBAAU,KADL;AAELC,cAAQ;AAFH,KAAP;AAID,GAVsD;AAYvDC,oBAZuD,gCAYlC;AACnB,SAAKC,mBAAL;AACD,GAdsD;AAgBvDA,qBAhBuD,iCAgBjC;AAAA;;AACpB,WAAOR,KAAK,sDAAoD,KAAKS,KAAL,CAAWC,IAApE,EACNC,IADM,CACD,UAACC,CAAD;AAAA,aAAOC,KAAKC,KAAL,CAAWF,EAAEG,MAAb,CAAP;AAAA,KADC,EAENJ,IAFM,CAED;AAAA,aAAQ,MAAKK,QAAL,CAAc,EAACV,QAAQ,IAAT,EAAeW,MAAMA,IAArB,EAAd,CAAR;AAAA,KAFC,CAAP;AAGD,GApBsD;AAsBvDC,QAtBuD,oBAsB9C;AAAA,iBACwB,KAAKC,KAD7B;AAAA,QACFb,MADE,UACFA,MADE;AAAA,QACMD,QADN,UACMA,QADN;AAAA,QACgBY,IADhB,UACgBA,IADhB;;AAEP,QAAIG,eAAe;AAAA;AAAA,QAAG,MAAK,GAAR,EAAY,SAAS,KAAKC,MAA1B;AAAmChB,iBAAW,MAAX,GAAoB,MAAvD;AAAA;AAAA,KAAnB;;AAEA,QAAIiB,UAAUhB,UAAU;AAAA;AAAA;AAAK;AAAC,gBAAD;AAAA;AAC1BW,aAAK,CAAL,EAAQM,GAAR,CAAYC,OAAZ,CAAoB,CAApB,EAAuBF,OAAvB,CAA+B,CAA/B,EAAkCG;AADR,OAAL;AAEb;AAFa,KAAxB;;AAIA,WAAO;AAAA;AAAA;AACL;AAAA;AAAA;AAAIL;AAAJ,OADK;AAEJd,gBAAUD,QAAV,IAAsBiB;AAFlB,KAAP;AAID,GAlCsD;AAoCvDD,QApCuD,kBAoChDK,KApCgD,EAoCzC;AACZ,SAAKV,QAAL,CAAc,EAACX,UAAU,CAAC,KAAKc,KAAL,CAAWd,QAAvB,EAAd;AACAqB,UAAMC,cAAN;AACA,WAAO,KAAP;AACD;AAxCsD,CAAlB,CAAvC;;AA2CAC,OAAOC,OAAP,GAAiB3B,gCAAjB",
      "file": "expandable-new-artsmia-content-block.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar rest = require('rest')\nvar Markdown = require('./markdown')\n\nvar ExpandableNewArtsmiaContentBlock = React.createClass({\n  // statics: {\n  //   fetchData: (params, query) => {\n  //   }\n  // },\n  getInitialState() {\n    return {\n      expanded: false,\n      loaded: false,\n    }\n  },\n\n  componentWillMount() {\n    this.loadExternalContent()\n  },\n\n  loadExternalContent() {\n    return rest('https://new.artsmia.org/wp-json/wp/v2/pages?slug='+this.props.page)\n    .then((r) => JSON.parse(r.entity))\n    .then(json => this.setState({loaded: true, json: json}))\n  },\n\n  render() {\n    var {loaded, expanded, json} = this.state\n    var toggleButton = <a href=\"#\" onClick={this.toggle}>{expanded ? 'Less' : 'More'} Info</a>\n\n    var content = loaded && <div><Markdown>\n      {json[0].acf.modules[1].content[0].text}\n    </Markdown><hr /></div>\n\n    return <div>\n      <p>{toggleButton}</p>\n      {loaded && expanded && content}\n    </div>\n  },\n\n  toggle(event) {\n    this.setState({expanded: !this.state.expanded})\n    event.preventDefault()\n    return false\n  },\n})\n\nmodule.exports = ExpandableNewArtsmiaContentBlock\n"
      ]
    },
    "mtime": 1491504523010
  },
  "{\"filename\":\"/var/www/art/src/page.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/page.js",
      "filenameRelative": "/var/www/art/src/page.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "page.js",
      "sourceFileName": "page.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "page"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Helmet = require('react-helmet');\nvar rest = require('rest');\n\nvar Search = require('./search');\nvar SearchResults = require('./search-results');\nvar Markdown = require('./markdown');\nvar Peek = require('./peek');\nvar collectionInfo = require('./endpoints').info;\n\nvar Page = React.createClass({\n  displayName: 'Page',\n\n  statics: {\n    fetchData: {\n      page: function page(params, query) {\n        return rest(collectionInfo).then(function (r) {\n          return JSON.parse(r.entity).pages;\n        }).then(function (pages) {\n          return pages[params.name];\n        });\n      },\n      searchResults: function searchResults(params, query) {\n        return Page.fetchData.page(params, query).then(function (page) {\n          return SearchResults.fetchData.searchResults({ terms: page.query });\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var _props$data$page = this.props.data.page,\n        title = _props$data$page.title,\n        content = _props$data$page.content,\n        query = _props$data$page.query;\n\n\n    return React.createElement(\n      'section',\n      { className: 'page' },\n      query && React.createElement(Search, _extends({\n        hideResults: true,\n        hideInput: true,\n        facet: query\n      }, this.props)),\n      React.createElement(\n        'div',\n        { className: 'pageText' },\n        React.createElement(\n          'h1',\n          null,\n          title\n        ),\n        React.createElement(\n          Markdown,\n          null,\n          content\n        )\n      ),\n      query && React.createElement(Peek, { q: query, filtered: true, quiltProps: { maxRowHeight: 400 }, offset: 10 }),\n      React.createElement(Helmet, { title: title })\n    );\n  }\n});\n\nmodule.exports = Page;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhZ2UuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiUm91dGVyIiwiSGVsbWV0IiwicmVzdCIsIlNlYXJjaCIsIlNlYXJjaFJlc3VsdHMiLCJNYXJrZG93biIsIlBlZWsiLCJjb2xsZWN0aW9uSW5mbyIsImluZm8iLCJQYWdlIiwiY3JlYXRlQ2xhc3MiLCJzdGF0aWNzIiwiZmV0Y2hEYXRhIiwicGFnZSIsInBhcmFtcyIsInF1ZXJ5IiwidGhlbiIsIkpTT04iLCJwYXJzZSIsInIiLCJlbnRpdHkiLCJwYWdlcyIsIm5hbWUiLCJzZWFyY2hSZXN1bHRzIiwidGVybXMiLCJyZW5kZXIiLCJwcm9wcyIsImRhdGEiLCJ0aXRsZSIsImNvbnRlbnQiLCJtYXhSb3dIZWlnaHQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7QUFDQSxJQUFJQyxTQUFTRCxRQUFRLGNBQVIsQ0FBYjtBQUNBLElBQUlFLFNBQVNGLFFBQVEsY0FBUixDQUFiO0FBQ0EsSUFBSUcsT0FBT0gsUUFBUSxNQUFSLENBQVg7O0FBRUEsSUFBSUksU0FBU0osUUFBUSxVQUFSLENBQWI7QUFDQSxJQUFJSyxnQkFBZ0JMLFFBQVEsa0JBQVIsQ0FBcEI7QUFDQSxJQUFJTSxXQUFXTixRQUFRLFlBQVIsQ0FBZjtBQUNBLElBQUlPLE9BQU9QLFFBQVEsUUFBUixDQUFYO0FBQ0EsSUFBSVEsaUJBQWlCUixRQUFRLGFBQVIsRUFBdUJTLElBQTVDOztBQUVBLElBQUlDLE9BQU9YLE1BQU1ZLFdBQU4sQ0FBa0I7QUFBQTs7QUFDM0JDLFdBQVM7QUFDUEMsZUFBVztBQUNUQyxZQUFNLGNBQUNDLE1BQUQsRUFBU0MsS0FBVDtBQUFBLGVBQW1CYixLQUFLSyxjQUFMLEVBQ3RCUyxJQURzQixDQUNqQjtBQUFBLGlCQUFLQyxLQUFLQyxLQUFMLENBQVdDLEVBQUVDLE1BQWIsRUFBcUJDLEtBQTFCO0FBQUEsU0FEaUIsRUFFdEJMLElBRnNCLENBRWpCO0FBQUEsaUJBQVNLLE1BQU1QLE9BQU9RLElBQWIsQ0FBVDtBQUFBLFNBRmlCLENBQW5CO0FBQUEsT0FERztBQUlUQyxxQkFBZSx1QkFBQ1QsTUFBRCxFQUFTQyxLQUFUO0FBQUEsZUFBbUJOLEtBQUtHLFNBQUwsQ0FBZUMsSUFBZixDQUFvQkMsTUFBcEIsRUFBNEJDLEtBQTVCLEVBQy9CQyxJQUQrQixDQUMxQjtBQUFBLGlCQUFRWixjQUFjUSxTQUFkLENBQXdCVyxhQUF4QixDQUFzQyxFQUFDQyxPQUFPWCxLQUFLRSxLQUFiLEVBQXRDLENBQVI7QUFBQSxTQUQwQixDQUFuQjtBQUFBO0FBSk47QUFESixHQURrQjs7QUFXM0JVLFFBWDJCLG9CQVdsQjtBQUFBLDJCQUN1QixLQUFLQyxLQUFMLENBQVdDLElBQVgsQ0FBZ0JkLElBRHZDO0FBQUEsUUFDRmUsS0FERSxvQkFDRkEsS0FERTtBQUFBLFFBQ0tDLE9BREwsb0JBQ0tBLE9BREw7QUFBQSxRQUNjZCxLQURkLG9CQUNjQSxLQURkOzs7QUFHUCxXQUFPO0FBQUE7QUFBQSxRQUFTLFdBQVUsTUFBbkI7QUFDSkEsZUFBUyxvQkFBQyxNQUFEO0FBQ1IscUJBQWEsSUFETDtBQUVSLG1CQUFXLElBRkg7QUFHUixlQUFPQTtBQUhDLFNBSUosS0FBS1csS0FKRCxFQURMO0FBUUw7QUFBQTtBQUFBLFVBQUssV0FBVSxVQUFmO0FBQ0U7QUFBQTtBQUFBO0FBQUtFO0FBQUwsU0FERjtBQUVFO0FBQUMsa0JBQUQ7QUFBQTtBQUFXQztBQUFYO0FBRkYsT0FSSztBQWFKZCxlQUFTLG9CQUFDLElBQUQsSUFBTSxHQUFHQSxLQUFULEVBQWdCLFVBQVUsSUFBMUIsRUFBZ0MsWUFBWSxFQUFDZSxjQUFjLEdBQWYsRUFBNUMsRUFBaUUsUUFBUSxFQUF6RSxHQWJMO0FBY0wsMEJBQUMsTUFBRCxJQUFRLE9BQU9GLEtBQWY7QUFkSyxLQUFQO0FBZ0JEO0FBOUIwQixDQUFsQixDQUFYOztBQWlDQUcsT0FBT0MsT0FBUCxHQUFpQnZCLElBQWpCIiwiZmlsZSI6InBhZ2UuanMiLCJzb3VyY2VSb290IjoiL3Zhci93d3cvYXJ0L3NyYyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIEhlbG1ldCA9IHJlcXVpcmUoJ3JlYWN0LWhlbG1ldCcpXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxuXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zZWFyY2gnKVxudmFyIFNlYXJjaFJlc3VsdHMgPSByZXF1aXJlKCcuL3NlYXJjaC1yZXN1bHRzJylcbnZhciBNYXJrZG93biA9IHJlcXVpcmUoJy4vbWFya2Rvd24nKVxudmFyIFBlZWsgPSByZXF1aXJlKCcuL3BlZWsnKVxudmFyIGNvbGxlY3Rpb25JbmZvID0gcmVxdWlyZSgnLi9lbmRwb2ludHMnKS5pbmZvXG5cbnZhciBQYWdlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBzdGF0aWNzOiB7XG4gICAgZmV0Y2hEYXRhOiB7XG4gICAgICBwYWdlOiAocGFyYW1zLCBxdWVyeSkgPT4gcmVzdChjb2xsZWN0aW9uSW5mbylcbiAgICAgICAgLnRoZW4ociA9PiBKU09OLnBhcnNlKHIuZW50aXR5KS5wYWdlcylcbiAgICAgICAgLnRoZW4ocGFnZXMgPT4gcGFnZXNbcGFyYW1zLm5hbWVdKSxcbiAgICAgIHNlYXJjaFJlc3VsdHM6IChwYXJhbXMsIHF1ZXJ5KSA9PiBQYWdlLmZldGNoRGF0YS5wYWdlKHBhcmFtcywgcXVlcnkpXG4gICAgICAgIC50aGVuKHBhZ2UgPT4gU2VhcmNoUmVzdWx0cy5mZXRjaERhdGEuc2VhcmNoUmVzdWx0cyh7dGVybXM6IHBhZ2UucXVlcnl9KSlcbiAgICB9XG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciB7dGl0bGUsIGNvbnRlbnQsIHF1ZXJ5fSA9IHRoaXMucHJvcHMuZGF0YS5wYWdlXG5cbiAgICByZXR1cm4gPHNlY3Rpb24gY2xhc3NOYW1lPVwicGFnZVwiPlxuICAgICAge3F1ZXJ5ICYmIDxTZWFyY2hcbiAgICAgICAgaGlkZVJlc3VsdHM9e3RydWV9XG4gICAgICAgIGhpZGVJbnB1dD17dHJ1ZX1cbiAgICAgICAgZmFjZXQ9e3F1ZXJ5fVxuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgIC8+fVxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2VUZXh0XCI+XG4gICAgICAgIDxoMT57dGl0bGV9PC9oMT5cbiAgICAgICAgPE1hcmtkb3duPntjb250ZW50fTwvTWFya2Rvd24+XG4gICAgICA8L2Rpdj5cblxuICAgICAge3F1ZXJ5ICYmIDxQZWVrIHE9e3F1ZXJ5fSBmaWx0ZXJlZD17dHJ1ZX0gcXVpbHRQcm9wcz17e21heFJvd0hlaWdodDogNDAwfX0gb2Zmc2V0PXsxMH0gLz59XG4gICAgICA8SGVsbWV0IHRpdGxlPXt0aXRsZX0gLz5cbiAgICA8L3NlY3Rpb24+XG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IFBhZ2VcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "page.js"
      ],
      "names": [
        "React",
        "require",
        "Router",
        "Helmet",
        "rest",
        "Search",
        "SearchResults",
        "Markdown",
        "Peek",
        "collectionInfo",
        "info",
        "Page",
        "createClass",
        "statics",
        "fetchData",
        "page",
        "params",
        "query",
        "then",
        "JSON",
        "parse",
        "r",
        "entity",
        "pages",
        "name",
        "searchResults",
        "terms",
        "render",
        "props",
        "data",
        "title",
        "content",
        "maxRowHeight",
        "module",
        "exports"
      ],
      "mappings": ";;;;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;AACA,IAAIC,SAASD,QAAQ,cAAR,CAAb;AACA,IAAIE,SAASF,QAAQ,cAAR,CAAb;AACA,IAAIG,OAAOH,QAAQ,MAAR,CAAX;;AAEA,IAAII,SAASJ,QAAQ,UAAR,CAAb;AACA,IAAIK,gBAAgBL,QAAQ,kBAAR,CAApB;AACA,IAAIM,WAAWN,QAAQ,YAAR,CAAf;AACA,IAAIO,OAAOP,QAAQ,QAAR,CAAX;AACA,IAAIQ,iBAAiBR,QAAQ,aAAR,EAAuBS,IAA5C;;AAEA,IAAIC,OAAOX,MAAMY,WAAN,CAAkB;AAAA;;AAC3BC,WAAS;AACPC,eAAW;AACTC,YAAM,cAACC,MAAD,EAASC,KAAT;AAAA,eAAmBb,KAAKK,cAAL,EACtBS,IADsB,CACjB;AAAA,iBAAKC,KAAKC,KAAL,CAAWC,EAAEC,MAAb,EAAqBC,KAA1B;AAAA,SADiB,EAEtBL,IAFsB,CAEjB;AAAA,iBAASK,MAAMP,OAAOQ,IAAb,CAAT;AAAA,SAFiB,CAAnB;AAAA,OADG;AAITC,qBAAe,uBAACT,MAAD,EAASC,KAAT;AAAA,eAAmBN,KAAKG,SAAL,CAAeC,IAAf,CAAoBC,MAApB,EAA4BC,KAA5B,EAC/BC,IAD+B,CAC1B;AAAA,iBAAQZ,cAAcQ,SAAd,CAAwBW,aAAxB,CAAsC,EAACC,OAAOX,KAAKE,KAAb,EAAtC,CAAR;AAAA,SAD0B,CAAnB;AAAA;AAJN;AADJ,GADkB;;AAW3BU,QAX2B,oBAWlB;AAAA,2BACuB,KAAKC,KAAL,CAAWC,IAAX,CAAgBd,IADvC;AAAA,QACFe,KADE,oBACFA,KADE;AAAA,QACKC,OADL,oBACKA,OADL;AAAA,QACcd,KADd,oBACcA,KADd;;;AAGP,WAAO;AAAA;AAAA,QAAS,WAAU,MAAnB;AACJA,eAAS,oBAAC,MAAD;AACR,qBAAa,IADL;AAER,mBAAW,IAFH;AAGR,eAAOA;AAHC,SAIJ,KAAKW,KAJD,EADL;AAQL;AAAA;AAAA,UAAK,WAAU,UAAf;AACE;AAAA;AAAA;AAAKE;AAAL,SADF;AAEE;AAAC,kBAAD;AAAA;AAAWC;AAAX;AAFF,OARK;AAaJd,eAAS,oBAAC,IAAD,IAAM,GAAGA,KAAT,EAAgB,UAAU,IAA1B,EAAgC,YAAY,EAACe,cAAc,GAAf,EAA5C,EAAiE,QAAQ,EAAzE,GAbL;AAcL,0BAAC,MAAD,IAAQ,OAAOF,KAAf;AAdK,KAAP;AAgBD;AA9B0B,CAAlB,CAAX;;AAiCAG,OAAOC,OAAP,GAAiBvB,IAAjB",
      "file": "page.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar Helmet = require('react-helmet')\nvar rest = require('rest')\n\nvar Search = require('./search')\nvar SearchResults = require('./search-results')\nvar Markdown = require('./markdown')\nvar Peek = require('./peek')\nvar collectionInfo = require('./endpoints').info\n\nvar Page = React.createClass({\n  statics: {\n    fetchData: {\n      page: (params, query) => rest(collectionInfo)\n        .then(r => JSON.parse(r.entity).pages)\n        .then(pages => pages[params.name]),\n      searchResults: (params, query) => Page.fetchData.page(params, query)\n        .then(page => SearchResults.fetchData.searchResults({terms: page.query}))\n    }\n  },\n\n  render() {\n    var {title, content, query} = this.props.data.page\n\n    return <section className=\"page\">\n      {query && <Search\n        hideResults={true}\n        hideInput={true}\n        facet={query}\n        {...this.props}\n      />}\n\n      <div className=\"pageText\">\n        <h1>{title}</h1>\n        <Markdown>{content}</Markdown>\n      </div>\n\n      {query && <Peek q={query} filtered={true} quiltProps={{maxRowHeight: 400}} offset={10} />}\n      <Helmet title={title} />\n    </section>\n  },\n})\n\nmodule.exports = Page\n"
      ]
    },
    "mtime": 1456957925207
  },
  "{\"filename\":\"/var/www/art/src/info.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/info.js",
      "filenameRelative": "/var/www/art/src/info.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "info.js",
      "sourceFileName": "info.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "info"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar Helmet = require('react-helmet');\nvar rest = require('rest');\nvar toSlug = require('speakingurl');\nvar collectionInfo = require('./endpoints').info;\n\nvar Info = React.createClass({\n  displayName: 'Info',\n\n  statics: {\n    fetchData: {\n      pages: function pages(params, query) {\n        return rest(collectionInfo).then(function (r) {\n          return JSON.parse(r.entity).pages;\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var _this = this;\n\n    var pages = Object.keys(this.props.data.pages).filter(function (key) {\n      return !key.match('index');\n    }).map(function (name) {\n      return _this.props.data.pages[name];\n    });\n\n    return React.createElement(\n      'ul',\n      null,\n      pages.map(function (page) {\n        return React.createElement(\n          'li',\n          null,\n          React.createElement(\n            Link,\n            { to: 'page', params: { name: toSlug(page.title) } },\n            page.title\n          )\n        );\n      })\n    );\n  }\n});\n\nmodule.exports = Info;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZm8uanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiUm91dGVyIiwiTGluayIsIkhlbG1ldCIsInJlc3QiLCJ0b1NsdWciLCJjb2xsZWN0aW9uSW5mbyIsImluZm8iLCJJbmZvIiwiY3JlYXRlQ2xhc3MiLCJzdGF0aWNzIiwiZmV0Y2hEYXRhIiwicGFnZXMiLCJwYXJhbXMiLCJxdWVyeSIsInRoZW4iLCJKU09OIiwicGFyc2UiLCJyIiwiZW50aXR5IiwicmVuZGVyIiwiT2JqZWN0Iiwia2V5cyIsInByb3BzIiwiZGF0YSIsImZpbHRlciIsImtleSIsIm1hdGNoIiwibWFwIiwibmFtZSIsInBhZ2UiLCJ0aXRsZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7QUFDQSxJQUFJQyxTQUFTRCxRQUFRLGNBQVIsQ0FBYjtJQUNLRSxJLEdBQVFELE0sQ0FBUkMsSTs7QUFDTCxJQUFJQyxTQUFTSCxRQUFRLGNBQVIsQ0FBYjtBQUNBLElBQUlJLE9BQU9KLFFBQVEsTUFBUixDQUFYO0FBQ0EsSUFBSUssU0FBU0wsUUFBUSxhQUFSLENBQWI7QUFDQSxJQUFJTSxpQkFBaUJOLFFBQVEsYUFBUixFQUF1Qk8sSUFBNUM7O0FBRUEsSUFBSUMsT0FBT1QsTUFBTVUsV0FBTixDQUFrQjtBQUFBOztBQUMzQkMsV0FBUztBQUNQQyxlQUFXO0FBQ1RDLGFBQU8sZUFBQ0MsTUFBRCxFQUFTQyxLQUFUO0FBQUEsZUFBbUJWLEtBQUtFLGNBQUwsRUFDdkJTLElBRHVCLENBQ2xCO0FBQUEsaUJBQUtDLEtBQUtDLEtBQUwsQ0FBV0MsRUFBRUMsTUFBYixFQUFxQlAsS0FBMUI7QUFBQSxTQURrQixDQUFuQjtBQUFBO0FBREU7QUFESixHQURrQjs7QUFRM0JRLFFBUjJCLG9CQVFsQjtBQUFBOztBQUNQLFFBQUlSLFFBQVFTLE9BQU9DLElBQVAsQ0FBWSxLQUFLQyxLQUFMLENBQVdDLElBQVgsQ0FBZ0JaLEtBQTVCLEVBQ1hhLE1BRFcsQ0FDSjtBQUFBLGFBQU8sQ0FBQ0MsSUFBSUMsS0FBSixDQUFVLE9BQVYsQ0FBUjtBQUFBLEtBREksRUFFWEMsR0FGVyxDQUVQO0FBQUEsYUFBUSxNQUFLTCxLQUFMLENBQVdDLElBQVgsQ0FBZ0JaLEtBQWhCLENBQXNCaUIsSUFBdEIsQ0FBUjtBQUFBLEtBRk8sQ0FBWjs7QUFJQSxXQUFPO0FBQUE7QUFBQTtBQUFLakIsWUFBTWdCLEdBQU4sQ0FBVSxnQkFBUTtBQUM1QixlQUFPO0FBQUE7QUFBQTtBQUFJO0FBQUMsZ0JBQUQ7QUFBQSxjQUFNLElBQUcsTUFBVCxFQUFnQixRQUFRLEVBQUNDLE1BQU14QixPQUFPeUIsS0FBS0MsS0FBWixDQUFQLEVBQXhCO0FBQXFERCxpQkFBS0M7QUFBMUQ7QUFBSixTQUFQO0FBQ0QsT0FGVztBQUFMLEtBQVA7QUFHRDtBQWhCMEIsQ0FBbEIsQ0FBWDs7QUFtQkFDLE9BQU9DLE9BQVAsR0FBaUJ6QixJQUFqQiIsImZpbGUiOiJpbmZvLmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciB7TGlua30gPSBSb3V0ZXJcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcbnZhciB0b1NsdWcgPSByZXF1aXJlKCdzcGVha2luZ3VybCcpXG52YXIgY29sbGVjdGlvbkluZm8gPSByZXF1aXJlKCcuL2VuZHBvaW50cycpLmluZm9cblxudmFyIEluZm8gPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHN0YXRpY3M6IHtcbiAgICBmZXRjaERhdGE6IHtcbiAgICAgIHBhZ2VzOiAocGFyYW1zLCBxdWVyeSkgPT4gcmVzdChjb2xsZWN0aW9uSW5mbylcbiAgICAgICAgLnRoZW4ociA9PiBKU09OLnBhcnNlKHIuZW50aXR5KS5wYWdlcylcbiAgICB9XG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciBwYWdlcyA9IE9iamVjdC5rZXlzKHRoaXMucHJvcHMuZGF0YS5wYWdlcylcbiAgICAuZmlsdGVyKGtleSA9PiAha2V5Lm1hdGNoKCdpbmRleCcpKVxuICAgIC5tYXAobmFtZSA9PiB0aGlzLnByb3BzLmRhdGEucGFnZXNbbmFtZV0pXG5cbiAgICByZXR1cm4gPHVsPntwYWdlcy5tYXAocGFnZSA9PiB7XG4gICAgICByZXR1cm4gPGxpPjxMaW5rIHRvPVwicGFnZVwiIHBhcmFtcz17e25hbWU6IHRvU2x1ZyhwYWdlLnRpdGxlKX19PntwYWdlLnRpdGxlfTwvTGluaz48L2xpPlxuICAgIH0pfTwvdWw+XG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IEluZm9cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "info.js"
      ],
      "names": [
        "React",
        "require",
        "Router",
        "Link",
        "Helmet",
        "rest",
        "toSlug",
        "collectionInfo",
        "info",
        "Info",
        "createClass",
        "statics",
        "fetchData",
        "pages",
        "params",
        "query",
        "then",
        "JSON",
        "parse",
        "r",
        "entity",
        "render",
        "Object",
        "keys",
        "props",
        "data",
        "filter",
        "key",
        "match",
        "map",
        "name",
        "page",
        "title",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;AACA,IAAIC,SAASD,QAAQ,cAAR,CAAb;IACKE,I,GAAQD,M,CAARC,I;;AACL,IAAIC,SAASH,QAAQ,cAAR,CAAb;AACA,IAAII,OAAOJ,QAAQ,MAAR,CAAX;AACA,IAAIK,SAASL,QAAQ,aAAR,CAAb;AACA,IAAIM,iBAAiBN,QAAQ,aAAR,EAAuBO,IAA5C;;AAEA,IAAIC,OAAOT,MAAMU,WAAN,CAAkB;AAAA;;AAC3BC,WAAS;AACPC,eAAW;AACTC,aAAO,eAACC,MAAD,EAASC,KAAT;AAAA,eAAmBV,KAAKE,cAAL,EACvBS,IADuB,CAClB;AAAA,iBAAKC,KAAKC,KAAL,CAAWC,EAAEC,MAAb,EAAqBP,KAA1B;AAAA,SADkB,CAAnB;AAAA;AADE;AADJ,GADkB;;AAQ3BQ,QAR2B,oBAQlB;AAAA;;AACP,QAAIR,QAAQS,OAAOC,IAAP,CAAY,KAAKC,KAAL,CAAWC,IAAX,CAAgBZ,KAA5B,EACXa,MADW,CACJ;AAAA,aAAO,CAACC,IAAIC,KAAJ,CAAU,OAAV,CAAR;AAAA,KADI,EAEXC,GAFW,CAEP;AAAA,aAAQ,MAAKL,KAAL,CAAWC,IAAX,CAAgBZ,KAAhB,CAAsBiB,IAAtB,CAAR;AAAA,KAFO,CAAZ;;AAIA,WAAO;AAAA;AAAA;AAAKjB,YAAMgB,GAAN,CAAU,gBAAQ;AAC5B,eAAO;AAAA;AAAA;AAAI;AAAC,gBAAD;AAAA,cAAM,IAAG,MAAT,EAAgB,QAAQ,EAACC,MAAMxB,OAAOyB,KAAKC,KAAZ,CAAP,EAAxB;AAAqDD,iBAAKC;AAA1D;AAAJ,SAAP;AACD,OAFW;AAAL,KAAP;AAGD;AAhB0B,CAAlB,CAAX;;AAmBAC,OAAOC,OAAP,GAAiBzB,IAAjB",
      "file": "info.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\nvar Helmet = require('react-helmet')\nvar rest = require('rest')\nvar toSlug = require('speakingurl')\nvar collectionInfo = require('./endpoints').info\n\nvar Info = React.createClass({\n  statics: {\n    fetchData: {\n      pages: (params, query) => rest(collectionInfo)\n        .then(r => JSON.parse(r.entity).pages)\n    }\n  },\n\n  render() {\n    var pages = Object.keys(this.props.data.pages)\n    .filter(key => !key.match('index'))\n    .map(name => this.props.data.pages[name])\n\n    return <ul>{pages.map(page => {\n      return <li><Link to=\"page\" params={{name: toSlug(page.title)}}>{page.title}</Link></li>\n    })}</ul>\n  },\n})\n\nmodule.exports = Info\n"
      ]
    },
    "mtime": 1456957925207
  },
  "{\"filename\":\"/var/www/art/src/gallery.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/gallery.js",
      "filenameRelative": "/var/www/art/src/gallery.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "gallery.js",
      "sourceFileName": "gallery.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "gallery"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Helmet = require('react-helmet');\n\nvar rest = require('rest');\n\nvar Search = require('./search');\nvar SearchResults = require('./search-results');\nvar GalleryDecorator = require('./decorate/gallery.js');\nvar Markdown = require('./markdown');\nvar Peek = require('./peek');\n\nvar _require = require('../data/galleries.json'),\n    galleries = _require.galleries,\n    messages = _require.messages;\n\nvar galleryPanelUrl = require('./endpoints').galleryPanel;\n\nvar Gallery = React.createClass({\n  displayName: 'Gallery',\n\n  mixins: [Router.State, Router.Navigation],\n\n  statics: {\n    fetchData: {\n      gallery: function gallery(params, query) {\n        var id = params.gallery.replace(/g/i, '');\n        var url = galleryPanelUrl(id);\n        return rest(url).then(function (result) {\n          return result.status.code == 200 ? result.entity : false;\n        });\n      },\n      searchResults: function searchResults(params, query) {\n        if (!params.gallery.match(/^g/i)) params.gallery = 'G' + params.gallery;\n        params.terms = '*';\n        params.splat = 'room:\"' + params.gallery + '\"';\n        return SearchResults.fetchData.searchResults(params, query);\n      }\n    },\n\n    willTransitionTo: function willTransitionTo(transition, params, query, callback) {\n      var gallery = params.gallery;\n\n\n      var isWithinTargetGalleries = gallery !== '266-G274' && 266 <= parseInt(gallery) && parseInt(gallery) <= 274;\n\n      if (isWithinTargetGalleries) {\n        transition.redirect('gallery', _extends({}, params, { gallery: '266-G274' }));\n      }\n\n      callback();\n    }\n  },\n\n  render: function render() {\n    var gallery = this.props.params.gallery;\n\n    var facet = 'room:\"' + gallery + '\"';\n    var galleryPanel = this.props.data.gallery;\n    var number = gallery.replace(/g/i, '');\n    if (number == '266-274') number = '266-G274';\n    var galleryInfo = galleries[number];\n    var galleryTitle = galleryPanel ? galleryPanel.replace(/^# /, '').split('\\n')[0] : galleryInfo.title;\n    var pageTitle = gallery + ': ' + (galleryTitle || 'On view now');\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(Search, _extends({\n        facet: facet\n      }, this.props, {\n        summaryProps: {\n          galleryPanel: galleryPanel,\n          showFullGalleryInfo: true\n        },\n        disableHover: true // TODO: fix :hover going to the search results page\n      })),\n      React.createElement(Helmet, {\n        title: pageTitle,\n        meta: [{ property: \"og:title\", content: pageTitle + ' ^ Minneapolis Institute of Art' }, { property: \"og:description\", content: galleryTitle || '' }]\n      })\n    );\n  }\n});\n\nmodule.exports = Gallery;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdhbGxlcnkuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiUm91dGVyIiwiSGVsbWV0IiwicmVzdCIsIlNlYXJjaCIsIlNlYXJjaFJlc3VsdHMiLCJHYWxsZXJ5RGVjb3JhdG9yIiwiTWFya2Rvd24iLCJQZWVrIiwiZ2FsbGVyaWVzIiwibWVzc2FnZXMiLCJnYWxsZXJ5UGFuZWxVcmwiLCJnYWxsZXJ5UGFuZWwiLCJHYWxsZXJ5IiwiY3JlYXRlQ2xhc3MiLCJtaXhpbnMiLCJTdGF0ZSIsIk5hdmlnYXRpb24iLCJzdGF0aWNzIiwiZmV0Y2hEYXRhIiwiZ2FsbGVyeSIsInBhcmFtcyIsInF1ZXJ5IiwiaWQiLCJyZXBsYWNlIiwidXJsIiwidGhlbiIsInJlc3VsdCIsInN0YXR1cyIsImNvZGUiLCJlbnRpdHkiLCJzZWFyY2hSZXN1bHRzIiwibWF0Y2giLCJ0ZXJtcyIsInNwbGF0Iiwid2lsbFRyYW5zaXRpb25UbyIsInRyYW5zaXRpb24iLCJjYWxsYmFjayIsImlzV2l0aGluVGFyZ2V0R2FsbGVyaWVzIiwicGFyc2VJbnQiLCJyZWRpcmVjdCIsInJlbmRlciIsInByb3BzIiwiZmFjZXQiLCJkYXRhIiwibnVtYmVyIiwiZ2FsbGVyeUluZm8iLCJnYWxsZXJ5VGl0bGUiLCJzcGxpdCIsInRpdGxlIiwicGFnZVRpdGxlIiwic2hvd0Z1bGxHYWxsZXJ5SW5mbyIsInByb3BlcnR5IiwiY29udGVudCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJQSxRQUFRQyxRQUFRLE9BQVIsQ0FBWjtBQUNBLElBQUlDLFNBQVNELFFBQVEsY0FBUixDQUFiO0FBQ0EsSUFBSUUsU0FBU0YsUUFBUSxjQUFSLENBQWI7O0FBRUEsSUFBSUcsT0FBT0gsUUFBUSxNQUFSLENBQVg7O0FBRUEsSUFBSUksU0FBU0osUUFBUSxVQUFSLENBQWI7QUFDQSxJQUFJSyxnQkFBZ0JMLFFBQVEsa0JBQVIsQ0FBcEI7QUFDQSxJQUFJTSxtQkFBbUJOLFFB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QXFCO0FBRlQsU0FIaEI7QUFRRSxzQkFBYyxJQVJoQixDQVFzQjtBQVJ0QixTQURLO0FBV0wsMEJBQUMsTUFBRDtBQUNFLGVBQU9ELFNBRFQ7QUFFRSxjQUFNLENBQ0osRUFBQ0UsVUFBVSxVQUFYLEVBQXVCQyxTQUFTSCxZQUFZLGlDQUE1QyxFQURJLEVBRUosRUFBQ0UsVUFBVSxnQkFBWCxFQUE2QkMsU0FBU04sZ0JBQWdCLEVBQXRELEVBRkk7QUFGUjtBQVhLLEtBQVA7QUFtQkQ7QUFsRTZCLENBQWxCLENBQWQ7O0FBcUVBTyxPQUFPQyxPQUFQLEdBQWlCMUMsT0FBakIiLCJmaWxlIjoiZ2FsbGVyeS5qcyIsInNvdXJjZVJvb3QiOiIvdmFyL3d3dy9hcnQvc3JjIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIgSGVsbWV0ID0gcmVxdWlyZSgncmVhY3QtaGVsbWV0JylcblxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcblxudmFyIFNlYXJjaCA9IHJlcXVpcmUoJy4vc2VhcmNoJylcbnZhciBTZWFyY2hSZXN1bHRzID0gcmVxdWlyZSgnLi9zZWFyY2gtcmVzdWx0cycpXG52YXIgR2FsbGVyeURlY29yYXRvciA9IHJlcXVpcmUoJy4vZGVjb3JhdGUvZ2FsbGVyeS5qcycpXG52YXIgTWFya2Rvd24gPSByZXF1aXJlKCcuL21hcmtkb3duJylcbnZhciBQZWVrID0gcmVxdWlyZSgnLi9wZWVrJylcbnZhciB7Z2FsbGVyaWVzLCBtZXNzYWdlc30gPSByZXF1aXJlKCcuLi9kYXRhL2dhbGxlcmllcy5qc29uJylcbnZhciBnYWxsZXJ5UGFuZWxVcmwgPSByZXF1aXJlKCcuL2VuZHBvaW50cycpLmdhbGxlcnlQYW5lbFxuXG52YXIgR2FsbGVyeSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgbWl4aW5zOiBbUm91dGVyLlN0YXRlLCBSb3V0ZXIuTmF2aWdhdGlvbl0sXG5cbiAgc3RhdGljczoge1xuICAgIGZldGNoRGF0YToge1xuICAgICAgZ2FsbGVyeTogKHBhcmFtcywgcXVlcnkpID0+IHtcbiAgICAgICAgdmFyIGlkID0gcGFyYW1zLmdhbGxlcnkucmVwbGFjZSgvZy9pLCAnJylcbiAgICAgICAgdmFyIHVybCA9IGdhbGxlcnlQYW5lbFVybChpZClcbiAgICAgICAgcmV0dXJuIHJlc3QodXJsKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5zdGF0dXMuY29kZSA9PSAyMDAgPyByZXN1bHQuZW50aXR5IDogZmFsc2VcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICBzZWFyY2hSZXN1bHRzOiAocGFyYW1zLCBxdWVyeSkgPT4ge1xuICAgICAgICBpZighcGFyYW1zLmdhbGxlcnkubWF0Y2goL15nL2kpKSBwYXJhbXMuZ2FsbGVyeSA9IGBHJHtwYXJhbXMuZ2FsbGVyeX1gXG4gICAgICAgIHBhcmFtcy50ZXJtcyA9ICcqJ1xuICAgICAgICBwYXJhbXMuc3BsYXQgPSAncm9vbTpcIicrcGFyYW1zLmdhbGxlcnkrJ1wiJ1xuICAgICAgICByZXR1cm4gU2VhcmNoUmVzdWx0cy5mZXRjaERhdGEuc2VhcmNoUmVzdWx0cyhwYXJhbXMsIHF1ZXJ5KVxuICAgICAgfSxcbiAgICB9LFxuXG4gICAgd2lsbFRyYW5zaXRpb25UbzogZnVuY3Rpb24gKHRyYW5zaXRpb24sIHBhcmFtcywgcXVlcnksIGNhbGxiYWNrKSB7XG4gICAgICB2YXIge2dhbGxlcnl9ID0gcGFyYW1zXG5cbiAgICAgIHZhciBpc1dpdGhpblRhcmdldEdhbGxlcmllcyA9IGdhbGxlcnkgIT09ICcyNjYtRzI3NCcgJiZcbiAgICAgICAgMjY2IDw9IHBhcnNlSW50KGdhbGxlcnkpXG4gICAgICAgICYmIHBhcnNlSW50KGdhbGxlcnkpIDw9IDI3NFxuXG4gICAgICBpZihpc1dpdGhpblRhcmdldEdhbGxlcmllcykge1xuICAgICAgICB0cmFuc2l0aW9uLnJlZGlyZWN0KCdnYWxsZXJ5Jywgey4uLnBhcmFtcywgZ2FsbGVyeTogJzI2Ni1HMjc0J30pXG4gICAgICB9XG5cbiAgICAgIGNhbGxiYWNrKClcbiAgICB9LFxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIge2dhbGxlcnl9ID0gdGhpcy5wcm9wcy5wYXJhbXNcbiAgICB2YXIgZmFjZXQgPSBgcm9vbTpcIiR7Z2FsbGVyeX1cImBcbiAgICB2YXIgZ2FsbGVyeVBhbmVsID0gdGhpcy5wcm9wcy5kYXRhLmdhbGxlcnlcbiAgICB2YXIgbnVtYmVyID0gZ2FsbGVyeS5yZXBsYWNlKC9nL2ksICcnKVxuICAgIGlmKG51bWJlciA9PSAnMjY2LTI3NCcpIG51bWJlciA9ICcyNjYtRzI3NCdcbiAgICB2YXIgZ2FsbGVyeUluZm8gPSBnYWxsZXJpZXNbbnVtYmVyXVxuICAgIHZhciBnYWxsZXJ5VGl0bGUgPSBnYWxsZXJ5UGFuZWwgP1xuICAgICAgZ2FsbGVyeVBhbmVsLnJlcGxhY2UoL14jIC8sICcnKS5zcGxpdCgnXFxuJylbMF0gOlxuICAgICAgZ2FsbGVyeUluZm8udGl0bGVcbiAgICB2YXIgcGFnZVRpdGxlID0gYCR7Z2FsbGVyeX06ICR7Z2FsbGVyeVRpdGxlIHx8ICdPbiB2aWV3IG5vdyd9YFxuXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8U2VhcmNoXG4gICAgICAgIGZhY2V0PXtmYWNldH1cbiAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgIHN1bW1hcnlQcm9wcz17e1xuICAgICAgICAgIGdhbGxlcnlQYW5lbDogZ2FsbGVyeVBhbmVsLFxuICAgICAgICAgIHNob3dGdWxsR2FsbGVyeUluZm86IHRydWUsXG4gICAgICAgICAgLy8gY2hhbmdlVG86IHRoaXMuY2hhbmdlR2FsbGVyeSxcbiAgICAgICAgfX1cbiAgICAgICAgZGlzYWJsZUhvdmVyPXt0cnVlfSAvLyBUT0RPOiBmaXggOmhvdmVyIGdvaW5nIHRvIHRoZSBzZWFyY2ggcmVzdWx0cyBwYWdlXG4gICAgICAvPlxuICAgICAgPEhlbG1ldFxuICAgICAgICB0aXRsZT17cGFnZVRpdGxlfVxuICAgICAgICBtZXRhPXtbXG4gICAgICAgICAge3Byb3BlcnR5OiBcIm9nOnRpdGxlXCIsIGNvbnRlbnQ6IHBhZ2VUaXRsZSArICcgXiBNaW5uZWFwb2xpcyBJbnN0aXR1dGUgb2YgQXJ0J30sXG4gICAgICAgICAge3Byb3BlcnR5OiBcIm9nOmRlc2NyaXB0aW9uXCIsIGNvbnRlbnQ6IGdhbGxlcnlUaXRsZSB8fCAnJ30sXG4gICAgICAgIF19XG4gICAgICAvPlxuICAgICAgPC9kaXY+XG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IEdhbGxlcnlcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "gallery.js"
      ],
      "names": [
        "React",
        "require",
        "Router",
        "Helmet",
        "rest",
        "Search",
        "SearchResults",
        "GalleryDecorator",
        "Markdown",
        "Peek",
        "galleries",
        "messages",
        "galleryPanelUrl",
        "galleryPanel",
        "Gallery",
        "createClass",
        "mixins",
        "State",
        "Navigation",
        "statics",
        "fetchData",
        "gallery",
        "params",
        "query",
        "id",
        "replace",
        "url",
        "then",
        "result",
        "status",
        "code",
        "entity",
        "searchResults",
        "match",
        "terms",
        "splat",
        "willTransitionTo",
        "transition",
        "callback",
        "isWithinTargetGalleries",
        "parseInt",
        "redirect",
        "render",
        "props",
        "facet",
        "data",
        "number",
        "galleryInfo",
        "galleryTitle",
        "split",
        "title",
        "pageTitle",
        "showFullGalleryInfo",
        "property",
        "content",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "gallery.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar Helmet = require('react-helmet')\n\nvar rest = require('rest')\n\nvar Search = require('./search')\nvar SearchResults = require('./search-results')\nvar GalleryDecorator = require('./decorate/gallery.js')\nvar Markdown = require('./markdown')\nvar Peek = require('./peek')\nvar {galleries, messages} = require('../data/galleries.json')\nvar galleryPanelUrl = require('./endpoints').galleryPanel\n\nvar Gallery = React.createClass({\n  mixins: [Router.State, Router.Navigation],\n\n  statics: {\n    fetchData: {\n      gallery: (params, query) => {\n        var id = params.gallery.replace(/g/i, '')\n        var url = galleryPanelUrl(id)\n        return rest(url).then(result => {\n          return result.status.code == 200 ? result.entity : false\n        })\n      },\n      searchResults: (params, query) => {\n        if(!params.gallery.match(/^g/i)) params.gallery = `G${params.gallery}`\n        params.terms = '*'\n        params.splat = 'room:\"'+params.gallery+'\"'\n        return SearchResults.fetchData.searchResults(params, query)\n      },\n    },\n\n    willTransitionTo: function (transition, params, query, callback) {\n      var {gallery} = params\n\n      var isWithinTargetGalleries = gallery !== '266-G274' &&\n        266 <= parseInt(gallery)\n        && parseInt(gallery) <= 274\n\n      if(isWithinTargetGalleries) {\n        transition.redirect('gallery', {...params, gallery: '266-G274'})\n      }\n\n      callback()\n    },\n  },\n\n  render() {\n    var {gallery} = this.props.params\n    var facet = `room:\"${gallery}\"`\n    var galleryPanel = this.props.data.gallery\n    var number = gallery.replace(/g/i, '')\n    if(number == '266-274') number = '266-G274'\n    var galleryInfo = galleries[number]\n    var galleryTitle = galleryPanel ?\n      galleryPanel.replace(/^# /, '').split('\\n')[0] :\n      galleryInfo.title\n    var pageTitle = `${gallery}: ${galleryTitle || 'On view now'}`\n\n    return <div>\n      <Search\n        facet={facet}\n        {...this.props}\n        summaryProps={{\n          galleryPanel: galleryPanel,\n          showFullGalleryInfo: true,\n          // changeTo: this.changeGallery,\n        }}\n        disableHover={true} // TODO: fix :hover going to the search results page\n      />\n      <Helmet\n        title={pageTitle}\n        meta={[\n          {property: \"og:title\", content: pageTitle + ' ^ Minneapolis Institute of Art'},\n          {property: \"og:description\", content: galleryTitle || ''},\n        ]}\n      />\n      </div>\n  },\n})\n\nmodule.exports = Gallery\n"
      ]
    },
    "mtime": 1456957925207
  },
  "{\"filename\":\"/var/www/art/src/more.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/more.js",
      "filenameRelative": "/var/www/art/src/more.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "more.js",
      "sourceFileName": "more.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "more"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\n\nvar toSlug = require('speakingurl');\nvar LazyLoad = require('react-lazy-load').default;\n\nvar SEARCH = require('./endpoints').search;\nvar rest = require('rest');\nvar Search = require('./search');\nvar MapPage = require('./map-page');\nvar Markdown = require('./markdown');\n\n// TODO: de-dupe this and src/home.js\nvar More = React.createClass({\n  displayName: 'More',\n\n  statics: {\n    fetchData: {\n      searchResults: function searchResults(params, query) {\n        var searchUrl = SEARCH + '/highlight:true';\n        return rest(searchUrl).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  componentDidMount: function componentDidMount() {\n    var smallViewport = this.context.smallViewport;\n\n    var quiltWrap = document.querySelector('.quilt-wrap');\n    if (quiltWrap && smallViewport && window.scrollX == 0) setTimeout(function () {\n      return window.scrollTo(0, quiltWrap.clientHeight);\n    }, 0);\n    window.enteredViaMore = true;\n  },\n  render: function render() {\n    var smallViewport = this.context.smallViewport;\n\n    var quiltProps = smallViewport ? { maxRows: 1, maxWorks: 5 } : { maxRows: 2, maxWorks: 9 };\n\n    return React.createElement(\n      'div',\n      { id: 'morePage' },\n      React.createElement(Search, _extends({\n        hideResults: true,\n        activateInput: true,\n        quiltProps: quiltProps,\n        facet: 'highlight:true',\n        searchAll: true,\n        suggestStyle: { margin: \"1em 3em\" },\n        bumpSearchBox: smallViewport,\n        shuffleQuilt: true,\n        hideHeader: true\n      }, this.props)),\n      React.createElement(\n        'div',\n        { id: 'more', className: 'welcome mdl-grid' },\n        React.createElement(\n          'div',\n          { className: 'mdl-cell mdl-cell--9-col' },\n          React.createElement(\n            'h1',\n            null,\n            'Search to explore audio guides, ArtStories, and more'\n          ),\n          React.createElement('img', { src: '/images/more.svg' }),\n          React.createElement(\n            'p',\n            { className: 'labelHelper' },\n            React.createElement(TombstoneIdeograph, null)\n          ),\n          React.createElement('hr', null),\n          React.createElement(\n            'p',\n            null,\n            React.createElement(\n              Link,\n              { to: 'explore' },\n              'More ways to explore the collection'\n            )\n          )\n        )\n      ),\n      smallViewport || React.createElement(\n        'div',\n        { id: 'map' },\n        React.createElement(\n          MapPage,\n          { hideList: true },\n          React.createElement(\n            Link,\n            { to: 'map', style: { textAlign: 'center', float: 'right', paddingRight: '1em' } },\n            'All galleries'\n          )\n        )\n      )\n    );\n  }\n});\nMore.contextTypes = {\n  smallViewport: React.PropTypes.bool\n};\n\nmodule.exports = More;\n\nvar tombstoneStyles = {\n  position: 'absolute',\n  background: 'white',\n  zIndex: 1000,\n  width: '90vw',\n  padding: '1em',\n  border: '1px solid black',\n  marginTop: '1em'\n};\n\nvar RandomArtworkTombstone = require('./random-artwork-tombstone');\nvar TombstoneTooltip = React.createClass({\n  displayName: 'TombstoneTooltip',\n  render: function render() {\n    var _state = this.state,\n        expanded = _state.expanded,\n        timeClicked = _state.timeClicked;\n\n\n    var fieldToHighlight = this.props.children;\n\n    return React.createElement(\n      'span',\n      { style: { display: 'inline', cursor: 'pointer' },\n        onMouseOver: this.toggleExpanded.bind(this, true),\n        onMouseOut: this.toggleExpanded.bind(this, false),\n        onClick: this.toggleExpanded },\n      React.createElement(\n        'a',\n        { onclick: 'return false' },\n        this.props.children\n      ),\n      expanded && React.createElement(\n        'div',\n        { style: tombstoneStyles },\n        React.createElement(RandomArtworkTombstone, { fieldToHighlight: fieldToHighlight })\n      )\n    );\n  },\n  getInitialState: function getInitialState() {\n    return {\n      expanded: this.props.startOpen\n    };\n  },\n  toggleExpanded: function toggleExpanded(value) {\n    this.setState({\n      expanded: value || !this.state.expanded\n    });\n  }\n});\n\n// http://stackoverflow.com/a/23619085\nfunction intersperse(arr, sep) {\n  if (arr.length === 0) {\n    return [];\n  }\n\n  return arr.slice(1).reduce(function (xs, x, i) {\n    return xs.concat([sep, x]);\n  }, [arr[0]]);\n}\n\nvar TombstoneIdeograph = React.createClass({\n  displayName: 'TombstoneIdeograph',\n  getInitialState: function getInitialState() {\n    return { fieldToHighlight: 'accession number' };\n  },\n  render: function render() {\n    var _this = this;\n\n    var fieldToHighlight = this.state.fieldToHighlight;\n\n    var fieldHighlighters = ['title', 'artist', 'accession number'].map(function (fieldName) {\n      var isHighlighted = fieldToHighlight == fieldName;\n      var style = { color: isHighlighted ? 'red' : '#222' };\n\n      return React.createElement(\n        'a',\n        {\n          key: fieldName,\n          style: style,\n          onclick: 'return false',\n          onClick: _this.changeHighlight.bind(_this, fieldName)\n        },\n        fieldName\n      );\n    });\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'p',\n        null,\n        'To find more, search for an artwork by ',\n        React.createElement(\n          'span',\n          null,\n          intersperse(fieldHighlighters, ', ')\n        ),\n        '.'\n      ),\n      React.createElement(RandomArtworkTombstone, { initialId: '529', fieldToHighlight: fieldToHighlight })\n    );\n  },\n  changeHighlight: function changeHighlight(field) {\n    this.setState({ fieldToHighlight: field });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vcmUuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiUm91dGVyIiwiTGluayIsInRvU2x1ZyIsIkxhenlMb2FkIiwiZGVmYXVsdCIsIlNFQVJDSCIsInNlYXJjaCIsInJlc3QiLCJTZWFyY2giLCJNYXBQYWdlIiwiTWFya2Rvd24iLCJNb3JlIiwiY3JlYXRlQ2xhc3MiLCJzdGF0aWNzIiwiZmV0Y2hEYXRhIiwic2VhcmNoUmVzdWx0cyIsInBhcmFtcyIsInF1ZXJ5Iiwic2VhcmNoVXJsIiwidGhlbiIsInIiLCJKU09OIiwicGFyc2UiLCJlbnRpdHkiLCJjb21wb25lbnREaWRNb3VudCIsInNtYWxsVmlld3BvcnQiLCJjb250ZXh0IiwicXVpbHRXcmFwIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93Iiwic2Nyb2xsWCIsInNldFRpbWVvdXQiLCJzY3JvbGxUbyIsImNsaWVudEhlaWdodCIsImVudGVyZWRWaWFNb3JlIiwicmVuZGVyIiwicXVpbHRQcm9wcyIsIm1heFJvd3MiLCJtYXhXb3JrcyIsIm1hcmdpbiIsInByb3BzIiwidGV4dEFsaWduIiwiZmxvYXQiLCJwYWRkaW5nUmlnaHQiLCJjb250ZXh0VHlwZXMiLCJQcm9wVHlwZXMiLCJib29sIiwibW9kdWxlIiwiZXhwb3J0cyIsInRvbWJzdG9uZVN0eWxlcyIsInBvc2l0aW9uIiwiYmFja2dyb3VuZCIsInpJbmRleCIsIndpZHRoIiwicGFkZGluZyIsImJvcmRlciIsIm1hcmdpblRvcCIsIlJhbmRvbUFydHdvcmtUb21ic3RvbmUiLCJUb21ic3RvbmVUb29sdGlwIiwic3RhdGUiLCJleHBhbmRlZCIsInRpbWVDbGlja2VkIiwiZmllbGRUb0hpZ2hsaWdodCIsImNoaWxkcmVuIiwiZGlzcGxheSIsImN1cnNvciIsInRvZ2dsZUV4cGFuZGVkIiwiYmluZCIsImdldEluaXRpYWxTdGF0ZSIsInN0YXJ0T3BlbiIsInZhbHVlIiwic2V0U3RhdGUiLCJpbnRlcnNwZXJzZSIsImFyciIsInNlcCIsImxlbmd0aCIsInNsaWNlIiwicmVkdWNlIiwieHMiLCJ4IiwiaSIsImNvbmNhdCIsIlRvbWJzdG9uZUlkZW9ncmFwaCIsImZpZWxkSGlnaGxpZ2h0ZXJzIiwibWFwIiwiaXNIaWdobGlnaHRlZCIsImZpZWxkTmFtZSIsInN0eWxlIiwiY29sb3IiLCJjaGFuZ2VIaWdobGlnaHQiLCJmaWVsZCJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQUlBLFFBQVFDLFFBQVEsT0FBUixDQUFaO0FBQ0EsSUFBSUMsU0FBU0QsUUFBUSxjQUFSLENBQWI7SUFDS0UsSSxHQUFRRCxNLENBQVJDLEk7OztBQUVMLElBQUlDLFNBQVNILFFBQVEsYUFBUixDQUFiO0FBQ0EsSUFBSUksV0FBV0osUUFBUSxpQkFBUixFQUEyQkssT0FBMUM7O0FBRUEsSUFBSUMsU0FBU04sUUFBUSxhQUFSLEVBQXVCTyxNQUFwQztBQUNBLElBQUlDLE9BQU9SLFFBQVEsTUFBUixDQUFYO0FBQ0EsSUFBSVMsU0FBU1QsUUFBUSxVQUFSLENBQWI7QUFDQSxJQUFJVSxVQUFVVixRQUFRLFlBQVIsQ0FBZDtBQUNBLElBQUlXLFdBQVdYLFFBQVEsWUFBUixDQUFmOztBQUVBO0FBQ0EsSUFBSVksT0FBT2IsTUFBTWMsV0FBTixDQUFrQjtBQUFBOztBQUMzQkMsV0FBUztBQUNQQyxlQUFXO0FBQ1RDLHFCQUFlLHVCQUFDQyxNQUFELEVBQVNDLEtBQVQsRUFBbUI7QUFDaEMsWUFBSUMsWUFBZWIsTUFBZixvQkFBSjtBQUNBLGVBQU9FLEtBQUtXLFNBQUwsRUFBZ0JDLElBQWhCLENBQXFCLFVBQUNDLENBQUQ7QUFBQSxpQkFBT0MsS0FBS0MsS0FBTCxDQUFXRixFQUFFRyxNQUFiLENBQVA7QUFBQSxTQUFyQixDQUFQO0FBQ0Q7QUFKUTtBQURKLEdBRGtCOztBQVUzQkMsbUJBVjJCLCtCQVVQO0FBQUEsUUFDYkMsYUFEYSxHQUNJLEtBQUtDLE9BRFQsQ0FDYkQsYUFEYTs7QUFFbEIsUUFBSUUsWUFBWUMsU0FBU0MsYUFBVCxDQUF1QixhQUF2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LEtBQUtILEtBRHZCLENBQ0ZHLGdCQURFOztBQUVQLFFBQUlxQixvQkFBb0IsQ0FBQyxPQUFELEVBQVUsUUFBVixFQUFvQixrQkFBcEIsRUFBd0NDLEdBQXhDLENBQTRDLHFCQUFhO0FBQy9FLFVBQUlDLGdCQUFnQnZCLG9CQUFvQndCLFNBQXhDO0FBQ0EsVUFBSUMsUUFBUSxFQUFDQyxPQUFPSCxnQkFBZ0IsS0FBaEIsR0FBd0IsTUFBaEMsRUFBWjs7QUFFQSxhQUFPO0FBQUE7QUFBQTtBQUNMLGVBQUtDLFNBREE7QUFFTCxpQkFBT0MsS0FGRjtBQUdMLG1CQUFRLGNBSEg7QUFJTCxtQkFBUyxNQUFLRSxlQUFMLENBQXFCdEIsSUFBckIsUUFBZ0NtQixTQUFoQztBQUpKO0FBTUpBO0FBTkksT0FBUDtBQVFELEtBWnVCLENBQXhCO0FBYUEsV0FBTztBQUFBO0FBQUE7QUFDTDtBQUFBO0FBQUE7QUFBQTtBQUEwQztBQUFBO0FBQUE7QUFBT2Qsc0JBQVlXLGlCQUFaLEVBQStCLElBQS9CO0FBQVAsU0FBMUM7QUFBQTtBQUFBLE9BREs7QUFFTCwwQkFBQyxzQkFBRCxJQUF3QixXQUFVLEtBQWxDLEVBQXdDLGtCQUFrQnJCLGdCQUExRDtBQUZLLEtBQVA7QUFJRCxHQXhCd0M7QUEwQnpDMkIsaUJBMUJ5QywyQkEwQnpCQyxLQTFCeUIsRUEwQmxCO0FBQ3JCLFNBQUtuQixRQUFMLENBQWMsRUFBQ1Qsa0JBQWtCNEIsS0FBbkIsRUFBZDtBQUNEO0FBNUJ3QyxDQUFsQixDQUF6QiIsImZpbGUiOiJtb3JlLmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciB7TGlua30gPSBSb3V0ZXJcblxudmFyIHRvU2x1ZyA9IHJlcXVpcmUoJ3NwZWFraW5ndXJsJylcbnZhciBMYXp5TG9hZCA9IHJlcXVpcmUoJ3JlYWN0LWxhenktbG9hZCcpLmRlZmF1bHRcblxudmFyIFNFQVJDSCA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJykuc2VhcmNoXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxudmFyIFNlYXJjaCA9IHJlcXVpcmUoJy4vc2VhcmNoJylcbnZhciBNYXBQYWdlID0gcmVxdWlyZSgnLi9tYXAtcGFnZScpXG52YXIgTWFya2Rvd24gPSByZXF1aXJlKCcuL21hcmtkb3duJylcblxuLy8gVE9ETzogZGUtZHVwZSB0aGlzIGFuZCBzcmMvaG9tZS5qc1xudmFyIE1vcmUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHN0YXRpY3M6IHtcbiAgICBmZXRjaERhdGE6IHtcbiAgICAgIHNlYXJjaFJlc3VsdHM6IChwYXJhbXMsIHF1ZXJ5KSA9PiB7XG4gICAgICAgIGxldCBzZWFyY2hVcmwgPSBgJHtTRUFSQ0h9L2hpZ2hsaWdodDp0cnVlYFxuICAgICAgICByZXR1cm4gcmVzdChzZWFyY2hVcmwpLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpKVxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB2YXIge3NtYWxsVmlld3BvcnR9ID0gdGhpcy5jb250ZXh0XG4gICAgdmFyIHF1aWx0V3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5xdWlsdC13cmFwJykgXG4gICAgaWYocXVpbHRXcmFwICYmIHNtYWxsVmlld3BvcnQgJiYgd2luZG93LnNjcm9sbFggPT0gMCkgc2V0VGltZW91dCgoKSA9PiB3aW5kb3cuc2Nyb2xsVG8oMCwgcXVpbHRXcmFwLmNsaWVudEhlaWdodCksIDApXG4gICAgd2luZG93LmVudGVyZWRWaWFNb3JlID0gdHJ1ZVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQge3NtYWxsVmlld3BvcnR9ID0gdGhpcy5jb250ZXh0XG4gICAgbGV0IHF1aWx0UHJvcHMgPSBzbWFsbFZpZXdwb3J0ID8gXG4gICAgICB7bWF4Um93czogMSwgbWF4V29ya3M6IDV9IDpcbiAgICAgIHttYXhSb3dzOiAyLCBtYXhXb3JrczogOX1cblxuICAgIHJldHVybiA8ZGl2IGlkPVwibW9yZVBhZ2VcIj5cbiAgICAgIDxTZWFyY2hcbiAgICAgICAgaGlkZVJlc3VsdHM9e3RydWV9XG4gICAgICAgIGFjdGl2YXRlSW5wdXQ9e3RydWV9XG4gICAgICAgIHF1aWx0UHJvcHM9e3F1aWx0UHJvcHN9XG4gICAgICAgIGZhY2V0PXsnaGlnaGxpZ2h0OnRydWUnfVxuICAgICAgICBzZWFyY2hBbGw9e3RydWV9XG4gICAgICAgIHN1Z2dlc3RTdHlsZT17e21hcmdpbjogXCIxZW0gM2VtXCJ9fVxuICAgICAgICBidW1wU2VhcmNoQm94PXtzbWFsbFZpZXdwb3J0fVxuICAgICAgICBzaHVmZmxlUXVpbHQ9e3RydWV9XG4gICAgICAgIGhpZGVIZWFkZXI9e3RydWV9XG4gICAgICAgIHsuLi50aGlzLnByb3BzfSAvPlxuXG4gICAgICA8ZGl2IGlkPVwibW9yZVwiIGNsYXNzTmFtZT1cIndlbGNvbWUgbWRsLWdyaWRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZGwtY2VsbCBtZGwtY2VsbC0tOS1jb2xcIj5cbiAgICAgICAgICA8aDE+XG4gICAgICAgICAgICBTZWFyY2ggdG8gZXhwbG9yZSBhdWRpbyBndWlkZXMsIEFydFN0b3JpZXMsIGFuZCBtb3JlXG4gICAgICAgICAgPC9oMT5cbiAgICAgICAgICA8aW1nIHNyYz1cIi9pbWFnZXMvbW9yZS5zdmdcIiAvPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxhYmVsSGVscGVyXCI+PFRvbWJzdG9uZUlkZW9ncmFwaCAvPjwvcD5cblxuICAgICAgICAgIDxociAvPlxuICAgICAgICAgIDxwPjxMaW5rIHRvPVwiZXhwbG9yZVwiPk1vcmUgd2F5cyB0byBleHBsb3JlIHRoZSBjb2xsZWN0aW9uPC9MaW5rPjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAge3NtYWxsVmlld3BvcnQgfHwgPGRpdiBpZD1cIm1hcFwiPlxuICAgICAgICA8TWFwUGFnZSBoaWRlTGlzdD17dHJ1ZX0+XG4gICAgICAgICAgPExpbmsgdG89XCJtYXBcIiBzdHlsZT17e3RleHRBbGlnbjogJ2NlbnRlcicsIGZsb2F0OiAncmlnaHQnLCBwYWRkaW5nUmlnaHQ6ICcxZW0nfX0+XG4gICAgICAgICAgICBBbGwgZ2FsbGVyaWVzXG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICA8L01hcFBhZ2U+XG4gICAgICA8L2Rpdj59XG4gICAgPC9kaXY+XG4gIH0sXG59KVxuTW9yZS5jb250ZXh0VHlwZXMgPSB7XG4gIHNtYWxsVmlld3BvcnQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE1vcmVcblxudmFyIHRvbWJzdG9uZVN0eWxlcyA9IHtcbiAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gIGJhY2tncm91bmQ6ICd3aGl0ZScsXG4gIHpJbmRleDogMTAwMCxcbiAgd2lkdGg6ICc5MHZ3JyxcbiAgcGFkZGluZzogJzFlbScsXG4gIGJvcmRlcjogJzFweCBzb2xpZCBibGFjaycsXG4gIG1hcmdpblRvcDogJzFlbScsXG59XG5cblxudmFyIFJhbmRvbUFydHdvcmtUb21ic3RvbmUgPSByZXF1aXJlKCcuL3JhbmRvbS1hcnR3b3JrLXRvbWJzdG9uZScpXG52YXIgVG9tYnN0b25lVG9vbHRpcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHZhciB7ZXhwYW5kZWQsIHRpbWVDbGlja2VkfSA9IHRoaXMuc3RhdGVcblxuICAgIHZhciBmaWVsZFRvSGlnaGxpZ2h0ID0gdGhpcy5wcm9wcy5jaGlsZHJlblxuXG4gICAgcmV0dXJuIDxzcGFuIHN0eWxlPXt7ZGlzcGxheTogJ2lubGluZScsIGN1cnNvcjogJ3BvaW50ZXInfX1cbiAgICAgIG9uTW91c2VPdmVyPXt0aGlzLnRvZ2dsZUV4cGFuZGVkLmJpbmQodGhpcywgdHJ1ZSl9XG4gICAgICBvbk1vdXNlT3V0PXt0aGlzLnRvZ2dsZUV4cGFuZGVkLmJpbmQodGhpcywgZmFsc2UpfVxuICAgICAgb25DbGljaz17dGhpcy50b2dnbGVFeHBhbmRlZH0+XG4gICAgICA8YSBvbmNsaWNrPVwicmV0dXJuIGZhbHNlXCI+e3RoaXMucHJvcHMuY2hpbGRyZW59PC9hPlxuICAgICAge2V4cGFuZGVkICYmIDxkaXYgc3R5bGU9e3RvbWJzdG9uZVN0eWxlc30+XG4gICAgICAgIDxSYW5kb21BcnR3b3JrVG9tYnN0b25lIGZpZWxkVG9IaWdobGlnaHQ9e2ZpZWxkVG9IaWdobGlnaHR9IC8+XG4gICAgICA8L2Rpdj59XG4gICAgPC9zcGFuPlxuICB9LFxuXG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXhwYW5kZWQ6IHRoaXMucHJvcHMuc3RhcnRPcGVuLFxuICAgIH1cbiAgfSxcblxuICB0b2dnbGVFeHBhbmRlZCh2YWx1ZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZXhwYW5kZWQ6IHZhbHVlIHx8ICF0aGlzLnN0YXRlLmV4cGFuZGVkLFxuICAgIH0pXG4gIH0sXG59KVxuXG4vLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMzYxOTA4NVxuZnVuY3Rpb24gaW50ZXJzcGVyc2UoYXJyLCBzZXApIHtcbiAgaWYgKGFyci5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICByZXR1cm4gYXJyLnNsaWNlKDEpLnJlZHVjZShmdW5jdGlvbih4cywgeCwgaSkge1xuICAgIHJldHVybiB4cy5jb25jYXQoW3NlcCwgeF0pO1xuICB9LCBbYXJyWzBdXSk7XG59XG5cbnZhciBUb21ic3RvbmVJZGVvZ3JhcGggPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4ge2ZpZWxkVG9IaWdobGlnaHQ6ICdhY2Nlc3Npb24gbnVtYmVyJ31cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHtmaWVsZFRvSGlnaGxpZ2h0fSA9IHRoaXMuc3RhdGVcbiAgICB2YXIgZmllbGRIaWdobGlnaHRlcnMgPSBbJ3RpdGxlJywgJ2FydGlzdCcsICdhY2Nlc3Npb24gbnVtYmVyJ10ubWFwKGZpZWxkTmFtZSA9PiB7XG4gICAgICB2YXIgaXNIaWdobGlnaHRlZCA9IGZpZWxkVG9IaWdobGlnaHQgPT0gZmllbGROYW1lXG4gICAgICB2YXIgc3R5bGUgPSB7Y29sb3I6IGlzSGlnaGxpZ2h0ZWQgPyAncmVkJyA6ICcjMjIyJ31cblxuICAgICAgcmV0dXJuIDxhXG4gICAgICAgIGtleT17ZmllbGROYW1lfVxuICAgICAgICBzdHlsZT17c3R5bGV9XG4gICAgICAgIG9uY2xpY2s9XCJyZXR1cm4gZmFsc2VcIlxuICAgICAgICBvbkNsaWNrPXt0aGlzLmNoYW5nZUhpZ2hsaWdodC5iaW5kKHRoaXMsIGZpZWxkTmFtZSl9XG4gICAgICA+XG4gICAgICAgIHtmaWVsZE5hbWV9XG4gICAgICA8L2E+XG4gICAgfSlcbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIDxwPlRvIGZpbmQgbW9yZSwgc2VhcmNoIGZvciBhbiBhcnR3b3JrIGJ5IDxzcGFuPntpbnRlcnNwZXJzZShmaWVsZEhpZ2hsaWdodGVycywgJywgJyl9PC9zcGFuPi48L3A+XG4gICAgICA8UmFuZG9tQXJ0d29ya1RvbWJzdG9uZSBpbml0aWFsSWQ9XCI1MjlcIiBmaWVsZFRvSGlnaGxpZ2h0PXtmaWVsZFRvSGlnaGxpZ2h0fSAvPlxuICAgIDwvZGl2PlxuICB9LFxuXG4gIGNoYW5nZUhpZ2hsaWdodChmaWVsZCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe2ZpZWxkVG9IaWdobGlnaHQ6IGZpZWxkfSlcbiAgfSxcbn0pXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "more.js"
      ],
      "names": [
        "React",
        "require",
        "Router",
        "Link",
        "toSlug",
        "LazyLoad",
        "default",
        "SEARCH",
        "search",
        "rest",
        "Search",
        "MapPage",
        "Markdown",
        "More",
        "createClass",
        "statics",
        "fetchData",
        "searchResults",
        "params",
        "query",
        "searchUrl",
        "then",
        "r",
        "JSON",
        "parse",
        "entity",
        "componentDidMount",
        "smallViewport",
        "context",
        "quiltWrap",
        "document",
        "querySelector",
        "window",
        "scrollX",
        "setTimeout",
        "scrollTo",
        "clientHeight",
        "enteredViaMore",
        "render",
        "quiltProps",
        "maxRows",
        "maxWorks",
        "margin",
        "props",
        "textAlign",
        "float",
        "paddingRight",
        "contextTypes",
        "PropTypes",
        "bool",
        "module",
        "exports",
        "tombstoneStyles",
        "position",
        "background",
        "zIndex",
        "width",
        "padding",
        "border",
        "marginTop",
        "RandomArtworkTombstone",
        "TombstoneTooltip",
        "state",
        "expanded",
        "timeClicked",
        "fieldToHighlight",
        "children",
        "display",
        "cursor",
        "toggleExpanded",
        "bind",
        "getInitialState",
        "startOpen",
        "value",
        "setState",
        "intersperse",
        "arr",
        "sep",
        "length",
        "slice",
        "reduce",
        "xs",
        "x",
        "i",
        "concat",
        "TombstoneIdeograph",
        "fieldHighlighters",
        "map",
        "isHighlighted",
        "fieldName",
        "style",
        "color",
        "changeHighlight",
        "field"
      ],
      "mappings": "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",
      "file": "more.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\n\nvar toSlug = require('speakingurl')\nvar LazyLoad = require('react-lazy-load').default\n\nvar SEARCH = require('./endpoints').search\nvar rest = require('rest')\nvar Search = require('./search')\nvar MapPage = require('./map-page')\nvar Markdown = require('./markdown')\n\n// TODO: de-dupe this and src/home.js\nvar More = React.createClass({\n  statics: {\n    fetchData: {\n      searchResults: (params, query) => {\n        let searchUrl = `${SEARCH}/highlight:true`\n        return rest(searchUrl).then((r) => JSON.parse(r.entity))\n      }\n    }\n  },\n\n  componentDidMount() {\n    var {smallViewport} = this.context\n    var quiltWrap = document.querySelector('.quilt-wrap') \n    if(quiltWrap && smallViewport && window.scrollX == 0) setTimeout(() => window.scrollTo(0, quiltWrap.clientHeight), 0)\n    window.enteredViaMore = true\n  },\n\n  render() {\n    let {smallViewport} = this.context\n    let quiltProps = smallViewport ? \n      {maxRows: 1, maxWorks: 5} :\n      {maxRows: 2, maxWorks: 9}\n\n    return <div id=\"morePage\">\n      <Search\n        hideResults={true}\n        activateInput={true}\n        quiltProps={quiltProps}\n        facet={'highlight:true'}\n        searchAll={true}\n        suggestStyle={{margin: \"1em 3em\"}}\n        bumpSearchBox={smallViewport}\n        shuffleQuilt={true}\n        hideHeader={true}\n        {...this.props} />\n\n      <div id=\"more\" className=\"welcome mdl-grid\">\n        <div className=\"mdl-cell mdl-cell--9-col\">\n          <h1>\n            Search to explore audio guides, ArtStories, and more\n          </h1>\n          <img src=\"/images/more.svg\" />\n          <p className=\"labelHelper\"><TombstoneIdeograph /></p>\n\n          <hr />\n          <p><Link to=\"explore\">More ways to explore the collection</Link></p>\n        </div>\n      </div>\n\n      {smallViewport || <div id=\"map\">\n        <MapPage hideList={true}>\n          <Link to=\"map\" style={{textAlign: 'center', float: 'right', paddingRight: '1em'}}>\n            All galleries\n          </Link>\n        </MapPage>\n      </div>}\n    </div>\n  },\n})\nMore.contextTypes = {\n  smallViewport: React.PropTypes.bool,\n}\n\nmodule.exports = More\n\nvar tombstoneStyles = {\n  position: 'absolute',\n  background: 'white',\n  zIndex: 1000,\n  width: '90vw',\n  padding: '1em',\n  border: '1px solid black',\n  marginTop: '1em',\n}\n\n\nvar RandomArtworkTombstone = require('./random-artwork-tombstone')\nvar TombstoneTooltip = React.createClass({\n  render() {\n    var {expanded, timeClicked} = this.state\n\n    var fieldToHighlight = this.props.children\n\n    return <span style={{display: 'inline', cursor: 'pointer'}}\n      onMouseOver={this.toggleExpanded.bind(this, true)}\n      onMouseOut={this.toggleExpanded.bind(this, false)}\n      onClick={this.toggleExpanded}>\n      <a onclick=\"return false\">{this.props.children}</a>\n      {expanded && <div style={tombstoneStyles}>\n        <RandomArtworkTombstone fieldToHighlight={fieldToHighlight} />\n      </div>}\n    </span>\n  },\n\n  getInitialState() {\n    return {\n      expanded: this.props.startOpen,\n    }\n  },\n\n  toggleExpanded(value) {\n    this.setState({\n      expanded: value || !this.state.expanded,\n    })\n  },\n})\n\n// http://stackoverflow.com/a/23619085\nfunction intersperse(arr, sep) {\n  if (arr.length === 0) {\n    return [];\n  }\n\n  return arr.slice(1).reduce(function(xs, x, i) {\n    return xs.concat([sep, x]);\n  }, [arr[0]]);\n}\n\nvar TombstoneIdeograph = React.createClass({\n  getInitialState() {\n    return {fieldToHighlight: 'accession number'}\n  },\n\n  render() {\n    var {fieldToHighlight} = this.state\n    var fieldHighlighters = ['title', 'artist', 'accession number'].map(fieldName => {\n      var isHighlighted = fieldToHighlight == fieldName\n      var style = {color: isHighlighted ? 'red' : '#222'}\n\n      return <a\n        key={fieldName}\n        style={style}\n        onclick=\"return false\"\n        onClick={this.changeHighlight.bind(this, fieldName)}\n      >\n        {fieldName}\n      </a>\n    })\n    return <div>\n      <p>To find more, search for an artwork by <span>{intersperse(fieldHighlighters, ', ')}</span>.</p>\n      <RandomArtworkTombstone initialId=\"529\" fieldToHighlight={fieldToHighlight} />\n    </div>\n  },\n\n  changeHighlight(field) {\n    this.setState({fieldToHighlight: field})\n  },\n})\n"
      ]
    },
    "mtime": 1584573136822
  },
  "{\"filename\":\"/var/www/art/src/random-artwork-tombstone.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/random-artwork-tombstone.js",
      "filenameRelative": "/var/www/art/src/random-artwork-tombstone.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "random-artwork-tombstone.js",
      "sourceFileName": "random-artwork-tombstone.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "random-artwork-tombstone"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar rest = require('rest');\n\nvar RandomArtworkContainer = require('./random-artwork');\nvar Artwork = require('./_artwork');\nvar SEARCH = require('./endpoints').search;\n\nvar TombstoneExample = React.createClass({\n  displayName: 'TombstoneExample',\n  render: function render() {\n    var art = this.props.art;\n    var fieldToHighlight = this.props.fieldToHighlight;\n\n    var highlight = function highlight(children, _highlight) {\n      return _highlight ? React.createElement(\n        'span',\n        { style: { color: 'red', fontWeight: 'bold', borderBottom: '1px solid black !important' } },\n        children\n      ) : children;\n    };\n\n    // and check on mobile = does touch work?\n    var rawTitle = React.createElement(Artwork.Title, { art: art, link: false });\n    var rawArtist = React.createElement(Artwork.Creator, { art: art, peek: false });\n\n    return art && React.createElement(\n      'div',\n      { className: 'tombstoneHelper', key: fieldToHighlight },\n      highlight(rawTitle, fieldToHighlight == 'title'),\n      highlight(rawArtist, fieldToHighlight == 'artist'),\n      React.createElement(Artwork.Tombstone, { art: art,\n        showPeeks: false,\n        highlightAccessionNumber: fieldToHighlight == 'accession number',\n        highlighter: highlight })\n    );\n  }\n});\n\nvar RandomTombstoneExample = RandomArtworkContainer(TombstoneExample);\n\nmodule.exports = RandomTombstoneExample;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJhbmRvbS1hcnR3b3JrLXRvbWJzdG9uZS5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJSb3V0ZXIiLCJMaW5rIiwicmVzdCIsIlJhbmRvbUFydHdvcmtDb250YWluZXIiLCJBcnR3b3JrIiwiU0VBUkNIIiwic2VhcmNoIiwiVG9tYnN0b25lRXhhbXBsZSIsImNyZWF0ZUNsYXNzIiwicmVuZGVyIiwiYXJ0IiwicHJvcHMiLCJmaWVsZFRvSGlnaGxpZ2h0IiwiaGlnaGxpZ2h0IiwiY2hpbGRyZW4iLCJjb2xvciIsImZvbnRXZWlnaHQiLCJib3JkZXJCb3R0b20iLCJyYXdUaXRsZSIsInJhd0FydGlzdCIsIlJhbmRvbVRvbWJzdG9uZUV4YW1wbGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFFBQVFDLFFBQVEsT0FBUixDQUFaO0FBQ0EsSUFBSUMsU0FBU0QsUUFBUSxjQUFSLENBQWI7SUFDS0UsSSxHQUFRRCxNLENBQVJDLEk7O0FBQ0wsSUFBSUMsT0FBT0gsUUFBUSxNQUFSLENBQVg7O0FBRUEsSUFBSUkseUJBQXlCSixRQUFRLGtCQUFSLENBQTdCO0FBQ0EsSUFBSUssVUFBVUwsUUFBUSxZQUFSLENBQWQ7QUFDQSxJQUFJTSxTQUFTTixRQUFRLGFBQVIsRUFBdUJPLE1BQXBDOztBQUVBLElBQUlDLG1CQUFtQlQsTUFBTVUsV0FBTixDQUFrQjtBQUFBO0FBQ3ZDQyxRQUR1QyxvQkFDOUI7QUFBQSxRQUNGQyxHQURFLEdBQ0ssS0FBS0MsS0FEVixDQUNGRCxHQURFO0FBQUEsUUFFRkUsZ0JBRkUsR0FFa0IsS0FBS0QsS0FGdkIsQ0FFRkMsZ0JBRkU7O0FBR1AsUUFBSUMsWUFBWSxtQkFBQ0MsUUFBRCxFQUFXRCxVQUFYO0FBQUEsYUFBeUJBLGFBQVk7QUFBQTtBQUFBLFVBQU0sT0FBTyxFQUFDRSxPQUFPLEtBQVIsRUFBZUMsWUFBWSxNQUEzQixFQUFtQ0MsY0FBYyw0QkFBakQsRUFBYjtBQUNsREg7QUFEa0QsT0FBWixHQUUvQkEsUUFGTTtBQUFBLEtBQWhCOztBQUlBO0FBQ0EsUUFBSUksV0FBVyxvQkFBQyxPQUFELENBQVMsS0FBVCxJQUFlLEtBQUtSLEdBQXBCLEVBQXlCLE1BQU0sS0FBL0IsR0FBZjtBQUNBLFFBQUlTLFlBQVksb0JBQUMsT0FBRCxDQUFTLE9BQVQsSUFBaUIsS0FBS1QsR0FBdEIsRUFBMkIsTUFBTSxLQUFqQyxHQUFoQjs7QUFFQSxXQUFPQSxPQUFPO0FBQUE7QUFBQSxRQUFLLFdBQVUsaUJBQWYsRUFBaUMsS0FBS0UsZ0JBQXRDO0FBQ1hDLGdCQUFVSyxRQUFWLEVBQW9CTixvQkFBb0IsT0FBeEMsQ0FEVztBQUVYQyxnQkFBVU0sU0FBVixFQUFxQlAsb0JBQW9CLFFBQXpDLENBRlc7QUFHWiwwQkFBQyxPQUFELENBQVMsU0FBVCxJQUFtQixLQUFLRixHQUF4QjtBQUNFLG1CQUFXLEtBRGI7QUFFRSxrQ0FBMEJFLG9CQUFvQixrQkFGaEQ7QUFHRSxxQkFBYUMsU0FIZjtBQUhZLEtBQWQ7QUFRRDtBQXBCc0MsQ0FBbEIsQ0FBdkI7O0FBdUJBLElBQUlPLHlCQUF5QmpCLHVCQUF1QkksZ0JBQXZCLENBQTdCOztBQUVBYyxPQUFPQyxPQUFQLEdBQWlCRixzQkFBakIiLCJmaWxlIjoicmFuZG9tLWFydHdvcmstdG9tYnN0b25lLmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciB7TGlua30gPSBSb3V0ZXJcbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG5cbnZhciBSYW5kb21BcnR3b3JrQ29udGFpbmVyID0gcmVxdWlyZSgnLi9yYW5kb20tYXJ0d29yaycpXG52YXIgQXJ0d29yayA9IHJlcXVpcmUoJy4vX2FydHdvcmsnKVxudmFyIFNFQVJDSCA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJykuc2VhcmNoXG5cbnZhciBUb21ic3RvbmVFeGFtcGxlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIHthcnR9ID0gdGhpcy5wcm9wc1xuICAgIHZhciB7ZmllbGRUb0hpZ2hsaWdodH0gPSB0aGlzLnByb3BzXG4gICAgdmFyIGhpZ2hsaWdodCA9IChjaGlsZHJlbiwgaGlnaGxpZ2h0KSA9PiBoaWdobGlnaHQgPyA8c3BhbiBzdHlsZT17e2NvbG9yOiAncmVkJywgZm9udFdlaWdodDogJ2JvbGQnLCBib3JkZXJCb3R0b206ICcxcHggc29saWQgYmxhY2sgIWltcG9ydGFudCd9fT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L3NwYW4+IDogY2hpbGRyZW5cblxuICAgIC8vIGFuZCBjaGVjayBvbiBtb2JpbGUgPSBkb2VzIHRvdWNoIHdvcms/XG4gICAgdmFyIHJhd1RpdGxlID0gPEFydHdvcmsuVGl0bGUgYXJ0PXthcnR9IGxpbms9e2ZhbHNlfSAvPlxuICAgIHZhciByYXdBcnRpc3QgPSA8QXJ0d29yay5DcmVhdG9yIGFydD17YXJ0fSBwZWVrPXtmYWxzZX0gLz5cblxuICAgIHJldHVybiBhcnQgJiYgPGRpdiBjbGFzc05hbWU9XCJ0b21ic3RvbmVIZWxwZXJcIiBrZXk9e2ZpZWxkVG9IaWdobGlnaHR9PlxuICAgICAge2hpZ2hsaWdodChyYXdUaXRsZSwgZmllbGRUb0hpZ2hsaWdodCA9PSAndGl0bGUnKX1cbiAgICAgIHtoaWdobGlnaHQocmF3QXJ0aXN0LCBmaWVsZFRvSGlnaGxpZ2h0ID09ICdhcnRpc3QnKX1cbiAgICAgIDxBcnR3b3JrLlRvbWJzdG9uZSBhcnQ9e2FydH1cbiAgICAgICAgc2hvd1BlZWtzPXtmYWxzZX1cbiAgICAgICAgaGlnaGxpZ2h0QWNjZXNzaW9uTnVtYmVyPXtmaWVsZFRvSGlnaGxpZ2h0ID09ICdhY2Nlc3Npb24gbnVtYmVyJ31cbiAgICAgICAgaGlnaGxpZ2h0ZXI9e2hpZ2hsaWdodH0gLz5cbiAgICA8L2Rpdj5cbiAgfSxcbn0pXG5cbnZhciBSYW5kb21Ub21ic3RvbmVFeGFtcGxlID0gUmFuZG9tQXJ0d29ya0NvbnRhaW5lcihUb21ic3RvbmVFeGFtcGxlKVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJhbmRvbVRvbWJzdG9uZUV4YW1wbGVcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "random-artwork-tombstone.js"
      ],
      "names": [
        "React",
        "require",
        "Router",
        "Link",
        "rest",
        "RandomArtworkContainer",
        "Artwork",
        "SEARCH",
        "search",
        "TombstoneExample",
        "createClass",
        "render",
        "art",
        "props",
        "fieldToHighlight",
        "highlight",
        "children",
        "color",
        "fontWeight",
        "borderBottom",
        "rawTitle",
        "rawArtist",
        "RandomTombstoneExample",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;AACA,IAAIC,SAASD,QAAQ,cAAR,CAAb;IACKE,I,GAAQD,M,CAARC,I;;AACL,IAAIC,OAAOH,QAAQ,MAAR,CAAX;;AAEA,IAAII,yBAAyBJ,QAAQ,kBAAR,CAA7B;AACA,IAAIK,UAAUL,QAAQ,YAAR,CAAd;AACA,IAAIM,SAASN,QAAQ,aAAR,EAAuBO,MAApC;;AAEA,IAAIC,mBAAmBT,MAAMU,WAAN,CAAkB;AAAA;AACvCC,QADuC,oBAC9B;AAAA,QACFC,GADE,GACK,KAAKC,KADV,CACFD,GADE;AAAA,QAEFE,gBAFE,GAEkB,KAAKD,KAFvB,CAEFC,gBAFE;;AAGP,QAAIC,YAAY,mBAACC,QAAD,EAAWD,UAAX;AAAA,aAAyBA,aAAY;AAAA;AAAA,UAAM,OAAO,EAACE,OAAO,KAAR,EAAeC,YAAY,MAA3B,EAAmCC,cAAc,4BAAjD,EAAb;AAClDH;AADkD,OAAZ,GAE/BA,QAFM;AAAA,KAAhB;;AAIA;AACA,QAAII,WAAW,oBAAC,OAAD,CAAS,KAAT,IAAe,KAAKR,GAApB,EAAyB,MAAM,KAA/B,GAAf;AACA,QAAIS,YAAY,oBAAC,OAAD,CAAS,OAAT,IAAiB,KAAKT,GAAtB,EAA2B,MAAM,KAAjC,GAAhB;;AAEA,WAAOA,OAAO;AAAA;AAAA,QAAK,WAAU,iBAAf,EAAiC,KAAKE,gBAAtC;AACXC,gBAAUK,QAAV,EAAoBN,oBAAoB,OAAxC,CADW;AAEXC,gBAAUM,SAAV,EAAqBP,oBAAoB,QAAzC,CAFW;AAGZ,0BAAC,OAAD,CAAS,SAAT,IAAmB,KAAKF,GAAxB;AACE,mBAAW,KADb;AAEE,kCAA0BE,oBAAoB,kBAFhD;AAGE,qBAAaC,SAHf;AAHY,KAAd;AAQD;AApBsC,CAAlB,CAAvB;;AAuBA,IAAIO,yBAAyBjB,uBAAuBI,gBAAvB,CAA7B;;AAEAc,OAAOC,OAAP,GAAiBF,sBAAjB",
      "file": "random-artwork-tombstone.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\nvar rest = require('rest')\n\nvar RandomArtworkContainer = require('./random-artwork')\nvar Artwork = require('./_artwork')\nvar SEARCH = require('./endpoints').search\n\nvar TombstoneExample = React.createClass({\n  render() {\n    var {art} = this.props\n    var {fieldToHighlight} = this.props\n    var highlight = (children, highlight) => highlight ? <span style={{color: 'red', fontWeight: 'bold', borderBottom: '1px solid black !important'}}>\n      {children}\n    </span> : children\n\n    // and check on mobile = does touch work?\n    var rawTitle = <Artwork.Title art={art} link={false} />\n    var rawArtist = <Artwork.Creator art={art} peek={false} />\n\n    return art && <div className=\"tombstoneHelper\" key={fieldToHighlight}>\n      {highlight(rawTitle, fieldToHighlight == 'title')}\n      {highlight(rawArtist, fieldToHighlight == 'artist')}\n      <Artwork.Tombstone art={art}\n        showPeeks={false}\n        highlightAccessionNumber={fieldToHighlight == 'accession number'}\n        highlighter={highlight} />\n    </div>\n  },\n})\n\nvar RandomTombstoneExample = RandomArtworkContainer(TombstoneExample)\n\nmodule.exports = RandomTombstoneExample\n"
      ]
    },
    "mtime": 1491504523014
  },
  "{\"filename\":\"/var/www/art/src/random-artwork.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/random-artwork.js",
      "filenameRelative": "/var/www/art/src/random-artwork.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "random-artwork.js",
      "sourceFileName": "random-artwork.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "random-artwork"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar rest = require('rest');\n\nvar ArtworkPreview = require('./artwork-preview');\nvar SEARCH = require('./endpoints').search;\n\nvar RandomArtworkContainer = function RandomArtworkContainer(ComposedComponent) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return React.createClass({\n    getInitialState: function getInitialState() {\n      return {\n        art: null, // the current random artwork\n        next: null,\n        history: [] };\n    },\n    componentDidMount: function componentDidMount() {\n      var id = this.props.initialId;\n\n      this.setArtwork(id);\n    },\n    setArtwork: function setArtwork(id) {\n      var _this = this;\n\n      var searchUrl = id ? SEARCH + '/id/' + id : SEARCH + '/random/art';\n      if (!id && options.searchQuery) searchUrl += '?q=' + options.searchQuery;\n\n      // TODO clean up this logic\n      var preloadNext = options.preloadNext;\n\n      if (preloadNext && this.state.next) {\n        this.setState({\n          art: this.state.next,\n          history: this.state.history.concat(this.state.art)\n        });\n      } else {\n        rest(searchUrl).then(function (data) {\n          return _this.setState({ art: JSON.parse(data.entity) });\n        });\n      }\n      if (preloadNext) rest(searchUrl).then(function (data) {\n        return _this.setState({ next: JSON.parse(data.entity) });\n      });\n    },\n    changeArtwork: function changeArtwork() {\n      this.setArtwork();\n    },\n    render: function render() {\n      var _state = this.state,\n          art = _state.art,\n          next = _state.next;\n\n      if (!art) return React.createElement('span', null);\n\n      var currentComponent = React.createElement(ComposedComponent, _extends({\n        art: art,\n        changeArtwork: this.changeArtwork\n      }, this.props));\n\n      return !options.preloadNext ? currentComponent : React.createElement(\n        'div',\n        null,\n        currentComponent,\n        next && React.createElement(ComposedComponent, _extends({\n          art: next,\n          changeArtwork: this.changeArtwork\n        }, this.props, {\n          style: { display: 'none' }\n        }))\n      );\n    }\n  });\n};\n\nmodule.exports = RandomArtworkContainer;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJhbmRvbS1hcnR3b3JrLmpzIl0sIm5hbWVzIjpbIlJlYWN0IiwicmVxdWlyZSIsInJlc3QiLCJBcnR3b3JrUHJldmlldyIsIlNFQVJDSCIsInNlYXJjaCIsIlJhbmRvbUFydHdvcmtDb250YWluZXIiLCJDb21wb3NlZENvbXBvbmVudCIsIm9wdGlvbnMiLCJjcmVhdGVDbGFzcyIsImdldEluaXRpYWxTdGF0ZSIsImFydCIsIm5leHQiLCJoaXN0b3J5IiwiY29tcG9uZW50RGlkTW91bnQiLCJpZCIsInByb3BzIiwiaW5pdGlhbElkIiwic2V0QXJ0d29yayIsInNlYXJjaFVybCIsInNlYXJjaFF1ZXJ5IiwicHJlbG9hZE5leHQiLCJzdGF0ZSIsInNldFN0YXRlIiwiY29uY2F0IiwidGhlbiIsIkpTT04iLCJwYXJzZSIsImRhdGEiLCJlbnRpdHkiLCJjaGFuZ2VBcnR3b3JrIiwicmVuZGVyIiwiY3VycmVudENvbXBvbmVudCIsImRpc3BsYXkiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7QUFDQSxJQUFJQyxPQUFPRCxRQUFRLE1BQVIsQ0FBWDs7QUFFQSxJQUFJRSxpQkFBaUJGLFFBQVEsbUJBQVIsQ0FBckI7QUFDQSxJQUFJRyxTQUFTSCxRQUFRLGFBQVIsRUFBdUJJLE1BQXBDOztBQUVBLElBQUlDLHlCQUF5QixTQUF6QkEsc0JBQXlCLENBQUNDLGlCQUFEO0FBQUEsTUFBb0JDLE9BQXBCLHVFQUE0QixFQUE1QjtBQUFBLFNBQW1DUixNQUFNUyxXQUFOLENBQWtCO0FBQ2hGQyxtQkFEZ0YsNkJBQzlEO0FBQ2hCLGFBQU87QUFDTEMsYUFBSyxJQURBLEVBQ007QUFDWEMsY0FBTSxJQUZEO0FBR0xDLGlCQUFTLEVBSEosRUFBUDtBQUtELEtBUCtFO0FBU2hGQyxxQkFUZ0YsK0JBUzVEO0FBQ2xCLFVBQUlDLEtBQUssS0FBS0MsS0FBTCxDQUFXQyxTQUFwQjs7QUFFQSxXQUFLQyxVQUFMLENBQWdCSCxFQUFoQjtBQUNELEtBYitFO0FBZWhGRyxjQWZnRixzQkFlckVILEVBZnFFLEVBZWpFO0FBQUE7O0FBQ2IsVUFBSUksWUFBWUosS0FBUVgsTUFBUixZQUFxQlcsRUFBckIsR0FBK0JYLE1BQS9CLGdCQUFoQjtBQUNBLFVBQUcsQ0FBQ1csRUFBRCxJQUFPUCxRQUFRWSxXQUFsQixFQUErQkQscUJBQW1CWCxRQUFRWSxXQUEzQjs7QUFFL0I7QUFKYSxVQUtSQyxXQUxRLEdBS09iLE9BTFAsQ0FLUmEsV0FMUTs7QUFNYixVQUFHQSxlQUFlLEtBQUtDLEtBQUwsQ0FBV1YsSUFBN0IsRUFBbUM7QUFDakMsYUFBS1csUUFBTCxDQUFjO0FBQ1paLGVBQUssS0FBS1csS0FBTCxDQUFXVixJQURKO0FBRVpDLG1CQUFTLEtBQUtTLEtBQUwsQ0FBV1QsT0FBWCxDQUFtQlcsTUFBbkIsQ0FBMEIsS0FBS0YsS0FBTCxDQUFXWCxHQUFyQztBQUZHLFNBQWQ7QUFJRCxPQUxELE1BS087QUFDTFQsYUFBS2lCLFNBQUwsRUFBZ0JNLElBQWhCLENBQXFCO0FBQUEsaUJBQVEsTUFBS0YsUUFBTCxDQUFjLEVBQUNaLEtBQUtlLEtBQUtDLEtBQUwsQ0FBV0MsS0FBS0MsTUFBaEIsQ0FBTixFQUFkLENBQVI7QUFBQSxTQUFyQjtBQUNEO0FBQ0QsVUFBR1IsV0FBSCxFQUFnQm5CLEtBQUtpQixTQUFMLEVBQ2JNLElBRGEsQ0FDUjtBQUFBLGVBQVEsTUFBS0YsUUFBTCxDQUFjLEVBQUNYLE1BQU1jLEtBQUtDLEtBQUwsQ0FBV0MsS0FBS0MsTUFBaEIsQ0FBUCxFQUFkLENBQVI7QUFBQSxPQURRO0FBRWpCLEtBL0IrRTtBQWlDaEZDLGlCQWpDZ0YsMkJBaUNoRTtBQUNkLFdBQUtaLFVBQUw7QUFDRCxLQW5DK0U7QUFxQ2hGYSxVQXJDZ0Ysb0JBcUN2RTtBQUFBLG1CQUNXLEtBQUtULEtBRGhCO0FBQUEsVUFDRlgsR0FERSxVQUNGQSxHQURFO0FBQUEsVUFDR0MsSUFESCxVQUNHQSxJQURIOztBQUVQLFVBQUcsQ0FBQ0QsR0FBSixFQUFTLE9BQU8saUNBQVA7O0FBRVQsVUFBSXFCLG1CQUFtQixvQkFBQyxpQkFBRDtBQUNuQixhQUFLckIsR0FEYztBQUVuQix1QkFBZSxLQUFLbUI7QUFGRCxTQUdmLEtBQUtkLEtBSFUsRUFBdkI7O0FBTUEsYUFBTyxDQUFDUixRQUFRYSxXQUFULEdBQ0xXLGdCQURLLEdBRUw7QUFBQTtBQUFBO0FBQ0dBLHdCQURIO0FBRUdwQixnQkFBUSxvQkFBQyxpQkFBRDtBQUNQLGVBQUtBLElBREU7QUFFUCx5QkFBZSxLQUFLa0I7QUFGYixXQUdILEtBQUtkLEtBSEY7QUFJUCxpQkFBTyxFQUFDaUIsU0FBUyxNQUFWO0FBSkE7QUFGWCxPQUZGO0FBV0Q7QUExRCtFLEdBQWxCLENBQW5DO0FBQUEsQ0FBN0I7O0FBNkRBQyxPQUFPQyxPQUFQLEdBQWlCN0Isc0JBQWpCIiwiZmlsZSI6InJhbmRvbS1hcnR3b3JrLmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxuXG52YXIgQXJ0d29ya1ByZXZpZXcgPSByZXF1aXJlKCcuL2FydHdvcmstcHJldmlldycpXG52YXIgU0VBUkNIID0gcmVxdWlyZSgnLi9lbmRwb2ludHMnKS5zZWFyY2hcblxudmFyIFJhbmRvbUFydHdvcmtDb250YWluZXIgPSAoQ29tcG9zZWRDb21wb25lbnQsIG9wdGlvbnM9e30pID0+IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhcnQ6IG51bGwsIC8vIHRoZSBjdXJyZW50IHJhbmRvbSBhcnR3b3JrXG4gICAgICBuZXh0OiBudWxsLFxuICAgICAgaGlzdG9yeTogW10sIC8vIHByZXZpb3VzbHkgc2VsZWN0ZWQgcmFuZG9tIGFydHNcbiAgICB9XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdmFyIGlkID0gdGhpcy5wcm9wcy5pbml0aWFsSWRcblxuICAgIHRoaXMuc2V0QXJ0d29yayhpZClcbiAgfSxcblxuICBzZXRBcnR3b3JrKGlkKSB7XG4gICAgdmFyIHNlYXJjaFVybCA9IGlkID8gYCR7U0VBUkNIfS9pZC8ke2lkfWAgOiBgJHtTRUFSQ0h9L3JhbmRvbS9hcnRgXG4gICAgaWYoIWlkICYmIG9wdGlvbnMuc2VhcmNoUXVlcnkpIHNlYXJjaFVybCArPSBgP3E9JHtvcHRpb25zLnNlYXJjaFF1ZXJ5fWBcblxuICAgIC8vIFRPRE8gY2xlYW4gdXAgdGhpcyBsb2dpY1xuICAgIHZhciB7cHJlbG9hZE5leHR9ID0gb3B0aW9uc1xuICAgIGlmKHByZWxvYWROZXh0ICYmIHRoaXMuc3RhdGUubmV4dCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGFydDogdGhpcy5zdGF0ZS5uZXh0LFxuICAgICAgICBoaXN0b3J5OiB0aGlzLnN0YXRlLmhpc3RvcnkuY29uY2F0KHRoaXMuc3RhdGUuYXJ0KSxcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3Qoc2VhcmNoVXJsKS50aGVuKGRhdGEgPT4gdGhpcy5zZXRTdGF0ZSh7YXJ0OiBKU09OLnBhcnNlKGRhdGEuZW50aXR5KX0pKVxuICAgIH1cbiAgICBpZihwcmVsb2FkTmV4dCkgcmVzdChzZWFyY2hVcmwpXG4gICAgICAudGhlbihkYXRhID0+IHRoaXMuc2V0U3RhdGUoe25leHQ6IEpTT04ucGFyc2UoZGF0YS5lbnRpdHkpfSkpXG4gIH0sXG5cbiAgY2hhbmdlQXJ0d29yaygpIHtcbiAgICB0aGlzLnNldEFydHdvcmsoKVxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIge2FydCwgbmV4dH0gPSB0aGlzLnN0YXRlXG4gICAgaWYoIWFydCkgcmV0dXJuIDxzcGFuIC8+XG5cbiAgICB2YXIgY3VycmVudENvbXBvbmVudCA9IDxDb21wb3NlZENvbXBvbmVudFxuICAgICAgICBhcnQ9e2FydH1cbiAgICAgICAgY2hhbmdlQXJ0d29yaz17dGhpcy5jaGFuZ2VBcnR3b3JrfVxuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgIC8+XG5cbiAgICByZXR1cm4gIW9wdGlvbnMucHJlbG9hZE5leHQgP1xuICAgICAgY3VycmVudENvbXBvbmVudCA6XG4gICAgICA8ZGl2PlxuICAgICAgICB7Y3VycmVudENvbXBvbmVudH1cbiAgICAgICAge25leHQgJiYgPENvbXBvc2VkQ29tcG9uZW50XG4gICAgICAgICAgYXJ0PXtuZXh0fVxuICAgICAgICAgIGNoYW5nZUFydHdvcms9e3RoaXMuY2hhbmdlQXJ0d29ya31cbiAgICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgICBzdHlsZT17e2Rpc3BsYXk6ICdub25lJ319XG4gICAgICAgIC8+fVxuICAgICAgPC9kaXY+XG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJhbmRvbUFydHdvcmtDb250YWluZXJcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "random-artwork.js"
      ],
      "names": [
        "React",
        "require",
        "rest",
        "ArtworkPreview",
        "SEARCH",
        "search",
        "RandomArtworkContainer",
        "ComposedComponent",
        "options",
        "createClass",
        "getInitialState",
        "art",
        "next",
        "history",
        "componentDidMount",
        "id",
        "props",
        "initialId",
        "setArtwork",
        "searchUrl",
        "searchQuery",
        "preloadNext",
        "state",
        "setState",
        "concat",
        "then",
        "JSON",
        "parse",
        "data",
        "entity",
        "changeArtwork",
        "render",
        "currentComponent",
        "display",
        "module",
        "exports"
      ],
      "mappings": ";;;;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;AACA,IAAIC,OAAOD,QAAQ,MAAR,CAAX;;AAEA,IAAIE,iBAAiBF,QAAQ,mBAAR,CAArB;AACA,IAAIG,SAASH,QAAQ,aAAR,EAAuBI,MAApC;;AAEA,IAAIC,yBAAyB,SAAzBA,sBAAyB,CAACC,iBAAD;AAAA,MAAoBC,OAApB,uEAA4B,EAA5B;AAAA,SAAmCR,MAAMS,WAAN,CAAkB;AAChFC,mBADgF,6BAC9D;AAChB,aAAO;AACLC,aAAK,IADA,EACM;AACXC,cAAM,IAFD;AAGLC,iBAAS,EAHJ,EAAP;AAKD,KAP+E;AAShFC,qBATgF,+BAS5D;AAClB,UAAIC,KAAK,KAAKC,KAAL,CAAWC,SAApB;;AAEA,WAAKC,UAAL,CAAgBH,EAAhB;AACD,KAb+E;AAehFG,cAfgF,sBAerEH,EAfqE,EAejE;AAAA;;AACb,UAAII,YAAYJ,KAAQX,MAAR,YAAqBW,EAArB,GAA+BX,MAA/B,gBAAhB;AACA,UAAG,CAACW,EAAD,IAAOP,QAAQY,WAAlB,EAA+BD,qBAAmBX,QAAQY,WAA3B;;AAE/B;AAJa,UAKRC,WALQ,GAKOb,OALP,CAKRa,WALQ;;AAMb,UAAGA,eAAe,KAAKC,KAAL,CAAWV,IAA7B,EAAmC;AACjC,aAAKW,QAAL,CAAc;AACZZ,eAAK,KAAKW,KAAL,CAAWV,IADJ;AAEZC,mBAAS,KAAKS,KAAL,CAAWT,OAAX,CAAmBW,MAAnB,CAA0B,KAAKF,KAAL,CAAWX,GAArC;AAFG,SAAd;AAID,OALD,MAKO;AACLT,aAAKiB,SAAL,EAAgBM,IAAhB,CAAqB;AAAA,iBAAQ,MAAKF,QAAL,CAAc,EAACZ,KAAKe,KAAKC,KAAL,CAAWC,KAAKC,MAAhB,CAAN,EAAd,CAAR;AAAA,SAArB;AACD;AACD,UAAGR,WAAH,EAAgBnB,KAAKiB,SAAL,EACbM,IADa,CACR;AAAA,eAAQ,MAAKF,QAAL,CAAc,EAACX,MAAMc,KAAKC,KAAL,CAAWC,KAAKC,MAAhB,CAAP,EAAd,CAAR;AAAA,OADQ;AAEjB,KA/B+E;AAiChFC,iBAjCgF,2BAiChE;AACd,WAAKZ,UAAL;AACD,KAnC+E;AAqChFa,UArCgF,oBAqCvE;AAAA,mBACW,KAAKT,KADhB;AAAA,UACFX,GADE,UACFA,GADE;AAAA,UACGC,IADH,UACGA,IADH;;AAEP,UAAG,CAACD,GAAJ,EAAS,OAAO,iCAAP;;AAET,UAAIqB,mBAAmB,oBAAC,iBAAD;AACnB,aAAKrB,GADc;AAEnB,uBAAe,KAAKmB;AAFD,SAGf,KAAKd,KAHU,EAAvB;;AAMA,aAAO,CAACR,QAAQa,WAAT,GACLW,gBADK,GAEL;AAAA;AAAA;AACGA,wBADH;AAEGpB,gBAAQ,oBAAC,iBAAD;AACP,eAAKA,IADE;AAEP,yBAAe,KAAKkB;AAFb,WAGH,KAAKd,KAHF;AAIP,iBAAO,EAACiB,SAAS,MAAV;AAJA;AAFX,OAFF;AAWD;AA1D+E,GAAlB,CAAnC;AAAA,CAA7B;;AA6DAC,OAAOC,OAAP,GAAiB7B,sBAAjB",
      "file": "random-artwork.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar rest = require('rest')\n\nvar ArtworkPreview = require('./artwork-preview')\nvar SEARCH = require('./endpoints').search\n\nvar RandomArtworkContainer = (ComposedComponent, options={}) => React.createClass({\n  getInitialState() {\n    return {\n      art: null, // the current random artwork\n      next: null,\n      history: [], // previously selected random arts\n    }\n  },\n\n  componentDidMount() {\n    var id = this.props.initialId\n\n    this.setArtwork(id)\n  },\n\n  setArtwork(id) {\n    var searchUrl = id ? `${SEARCH}/id/${id}` : `${SEARCH}/random/art`\n    if(!id && options.searchQuery) searchUrl += `?q=${options.searchQuery}`\n\n    // TODO clean up this logic\n    var {preloadNext} = options\n    if(preloadNext && this.state.next) {\n      this.setState({\n        art: this.state.next,\n        history: this.state.history.concat(this.state.art),\n      })\n    } else {\n      rest(searchUrl).then(data => this.setState({art: JSON.parse(data.entity)}))\n    }\n    if(preloadNext) rest(searchUrl)\n      .then(data => this.setState({next: JSON.parse(data.entity)}))\n  },\n\n  changeArtwork() {\n    this.setArtwork()\n  },\n\n  render() {\n    var {art, next} = this.state\n    if(!art) return <span />\n\n    var currentComponent = <ComposedComponent\n        art={art}\n        changeArtwork={this.changeArtwork}\n        {...this.props}\n      />\n\n    return !options.preloadNext ?\n      currentComponent :\n      <div>\n        {currentComponent}\n        {next && <ComposedComponent\n          art={next}\n          changeArtwork={this.changeArtwork}\n          {...this.props}\n          style={{display: 'none'}}\n        />}\n      </div>\n  },\n})\n\nmodule.exports = RandomArtworkContainer\n"
      ]
    },
    "mtime": 1496337542202
  },
  "{\"filename\":\"/var/www/art/src/exhibition.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/exhibition.js",
      "filenameRelative": "/var/www/art/src/exhibition.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "exhibition.js",
      "sourceFileName": "exhibition.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "exhibition"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar rest = require('rest');\nvar Helmet = require('react-helmet');\n\nvar Search = require('./search');\nvar endpoints = require('./endpoints');\nvar SEARCH = endpoints.search;\nvar toSlug = require('speakingurl');\nvar Markdown = require('./markdown');\n\nvar Exhibition = React.createClass({\n  displayName: 'Exhibition',\n\n  mixins: [Router.State],\n  statics: {\n    fetchData: {\n      exhibition: function exhibition(params) {\n        var id = params.id;\n\n        return rest(endpoints.exhibition(id)).then(function (r) {\n          return JSON.parse(r.entity);\n        }).then(function (exh) {\n          exh.slug = toSlug(exh.exhibition_title);\n          return exh;\n        });\n      },\n\n      searchResults: function searchResults(params, query) {\n        return Exhibition.fetchData.exhibition(params).then(function (exhibition) {\n          var objects = exhibition.objects,\n              id = exhibition.exhibition_id;\n\n          var searchUrl = SEARCH + '/ids/' + objects.join(',');\n          return rest(searchUrl).then(function (r) {\n            return JSON.parse(r.entity);\n          }).then(function (json) {\n            // Publish artworks mainly based on `public_access: 1`, but whitelist\n            // specific exhibitions to show all works, regardless of public_access status\n            var loanExhibitionAllowlist = [2802, 2778, 2851, 2854, 2830, 2856];\n            var exhibitionAllowlisted = loanExhibitionAllowlist.indexOf(id) > -1;\n            var publishableArtworks = exhibitionAllowlisted ? json.hits.hits.filter(function (data) {\n              return data.found;\n            }) // some exhibitions list IDs not in ES?\n            : json.hits.hits.filter(function (_ref) {\n              var s = _ref._source;\n              return s && s.public_access == \"1\";\n            });\n\n            var ids = publishableArtworks.map(function (hit) {\n              return hit._id;\n            });\n\n            var publicAccessResults = { hits: { total: publishableArtworks.length, hits: publishableArtworks } };\n            return _extends({}, publicAccessResults, {\n              csvQuery: 'ids/' + ids.join(',')\n            });\n          });\n        });\n      }\n    },\n\n    willTransitionTo: function willTransitionTo(transition, params, query, callback) {\n      Exhibition.fetchData.exhibition(params).then(function (exhibition) {\n        if (exhibition.slug !== params.slug) {\n          params.slug = exhibition.slug;\n          transition.redirect('exhibitionSlug', params);\n        }\n      }).catch(function (err) {\n        return transition.redirect('home');\n      }).then(callback);\n    }\n  },\n\n  render: function render() {\n    var exhibition = this.props.data.exhibition;\n\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        Search,\n        _extends({}, this.props, {\n          disableHover: true // TODO: fix :hover going to the search results page\n        }),\n        React.createElement(\n          'div',\n          { style: { margin: '0.5em 3em 2em', maxWidth: '37em' } },\n          React.createElement(\n            'h2',\n            null,\n            exhibition.exhibition_title\n          ),\n          React.createElement(\n            'p',\n            { style: { margin: '-1em 0 0.5em 0' } },\n            exhibition.display_date\n          ),\n          React.createElement(\n            Markdown,\n            null,\n            exhibition.exhibition_description\n          )\n        ),\n        React.createElement('hr', null)\n      ),\n      React.createElement(Helmet, {\n        title: 'Exhibition: ' + exhibition.exhibition_title,\n        meta: [{ property: \"og:title\", content: exhibition.exhibition_title + ' ^ Minneapolis Institute of Art' }, { property: \"og:description\", content: 'An exhibition at the Minneapolis Institute of Art. ' + exhibition.display_date }]\n      })\n    );\n  }\n});\n\nmodule.exports = Exhibition;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4aGliaXRpb24uanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiUm91dGVyIiwicmVzdCIsIkhlbG1ldCIsIlNlYXJjaCIsImVuZHBvaW50cyIsIlNFQVJDSCIsInNlYXJjaCIsInRvU2x1ZyIsIk1hcmtkb3duIiwiRXhoaWJpdGlvbiIsImNyZWF0ZUNsYXNzIiwibWl4aW5zIiwiU3RhdGUiLCJzdGF0aWNzIiwiZmV0Y2hEYXRhIiwiZXhoaWJpdGlvbiIsInBhcmFtcyIsImlkIiwidGhlbiIsInIiLCJKU09OIiwicGFyc2UiLCJlbnRpdHkiLCJleGgiLCJzbHVnIiwiZXhoaWJpdGlvbl90aXRsZSIsInNlYXJjaFJlc3VsdHMiLCJxdWVyeSIsIm9iamVjdHMiLCJleGhpYml0aW9uX2lkIiwic2VhcmNoVXJsIiwiam9pbiIsImpzb24iLCJsb2FuRXhoaWJpdGlvbkFsbG93bGlzdCIsImV4aGliaXRpb25BbGxvd2xpc3RlZCIsImluZGV4T2YiLCJwdWJsaXNoYWJsZUFydHdvcmtzIiwiaGl0cyIsImZpbHRlciIsImRhdGEiLCJmb3VuZCIsInMiLCJfc291cmNlIiwicHVibGljX2FjY2VzcyIsImlkcyIsIm1hcCIsImhpdCIsIl9pZCIsInB1YmxpY0FjY2Vzc1Jlc3VsdHMiLCJ0b3RhbCIsImxlbmd0aCIsImNzdlF1ZXJ5Iiwid2lsbFRyYW5zaXRpb25UbyIsInRyYW5zaXRpb24iLCJjYWxsYmFjayIsInJlZGlyZWN0IiwiY2F0Y2giLCJyZW5kZXIiLCJwcm9wcyIsIm1hcmdpbiIsIm1heFdpZHRoIiwiZGlzcGxheV9kYXRlIiwiZXhoaWJpdGlvbl9kZXNjcmlwdGlvbiIsInByb3BlcnR5IiwiY29udGVudCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJQSxRQUFRQyxRQUFRLE9BQVIsQ0FBWjtBQUNBLElBQUlDLFNBQVNELFFBQVEsY0FBUixDQUFiO0FBQ0EsSUFBSUUsT0FBT0YsUUFBUSxNQUFSLENBQVg7QUFD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S0FBUDtBQW9CRDtBQTVFZ0MsQ0FBbEIsQ0FBakI7O0FBK0VBSSxPQUFPQyxPQUFQLEdBQWlCekQsVUFBakIiLCJmaWxlIjoiZXhoaWJpdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIvdmFyL3d3dy9hcnQvc3JjIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxudmFyIEhlbG1ldCA9IHJlcXVpcmUoJ3JlYWN0LWhlbG1ldCcpXG5cbnZhciBTZWFyY2ggPSByZXF1aXJlKCcuL3NlYXJjaCcpXG52YXIgZW5kcG9pbnRzID0gcmVxdWlyZSgnLi9lbmRwb2ludHMnKVxudmFyIFNFQVJDSCA9IGVuZHBvaW50cy5zZWFyY2hcbnZhciB0b1NsdWcgPSByZXF1aXJlKCdzcGVha2luZ3VybCcpXG52YXIgTWFya2Rvd24gPSByZXF1aXJlKCcuL21hcmtkb3duJylcblxudmFyIEV4aGliaXRpb24gPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIG1peGluczogW1JvdXRlci5TdGF0ZV0sXG4gIHN0YXRpY3M6IHtcbiAgICBmZXRjaERhdGE6IHtcbiAgICAgIGV4aGliaXRpb246IChwYXJhbXMpID0+IHtcbiAgICAgICAgdmFyIHtpZH0gPSBwYXJhbXNcbiAgICAgICAgcmV0dXJuIHJlc3QoZW5kcG9pbnRzLmV4aGliaXRpb24oaWQpKVxuICAgICAgICAudGhlbigocikgPT4gSlNPTi5wYXJzZShyLmVudGl0eSkpXG4gICAgICAgIC50aGVuKGV4aCA9PiB7XG4gICAgICAgICAgZXhoLnNsdWcgPSB0b1NsdWcoZXhoLmV4aGliaXRpb25fdGl0bGUpXG4gICAgICAgICAgcmV0dXJuIGV4aFxuICAgICAgICB9KVxuICAgICAgfSxcblxuICAgICAgc2VhcmNoUmVzdWx0czogKHBhcmFtcywgcXVlcnkpID0+IHtcbiAgICAgICAgcmV0dXJuIEV4aGliaXRpb24uZmV0Y2hEYXRhLmV4aGliaXRpb24ocGFyYW1zKS50aGVuKGV4aGliaXRpb24gPT4ge1xuICAgICAgICAgIGNvbnN0IHtvYmplY3RzLCBleGhpYml0aW9uX2lkOiBpZH0gPSBleGhpYml0aW9uXG4gICAgICAgICAgdmFyIHNlYXJjaFVybCA9IGAke1NFQVJDSH0vaWRzLyR7b2JqZWN0cy5qb2luKCcsJyl9YFxuICAgICAgICAgIHJldHVybiByZXN0KHNlYXJjaFVybClcbiAgICAgICAgICAudGhlbigocikgPT4gSlNPTi5wYXJzZShyLmVudGl0eSkpXG4gICAgICAgICAgLnRoZW4oKGpzb24pID0+IHtcbiAgICAgICAgICAgIC8vIFB1Ymxpc2ggYXJ0d29ya3MgbWFpbmx5IGJhc2VkIG9uIGBwdWJsaWNfYWNjZXNzOiAxYCwgYnV0IHdoaXRlbGlzdFxuICAgICAgICAgICAgLy8gc3BlY2lmaWMgZXhoaWJpdGlvbnMgdG8gc2hvdyBhbGwgd29ya3MsIHJlZ2FyZGxlc3Mgb2YgcHVibGljX2FjY2VzcyBzdGF0dXNcbiAgICAgICAgICAgIGNvbnN0IGxvYW5FeGhpYml0aW9uQWxsb3dsaXN0ID0gWzI4MDIsIDI3NzgsIDI4NTEsIDI4NTQsIDI4MzAsIDI4NTZdXG4gICAgICAgICAgICBjb25zdCBleGhpYml0aW9uQWxsb3dsaXN0ZWQgPSBsb2FuRXhoaWJpdGlvbkFsbG93bGlzdC5pbmRleE9mKGlkKSA+IC0xXG4gICAgICAgICAgICBjb25zdCBwdWJsaXNoYWJsZUFydHdvcmtzID0gZXhoaWJpdGlvbkFsbG93bGlzdGVkXG4gICAgICAgICAgICAgID8ganNvbi5oaXRzLmhpdHMuZmlsdGVyKGRhdGEgPT4gZGF0YS5mb3VuZCkgLy8gc29tZSBleGhpYml0aW9ucyBsaXN0IElEcyBub3QgaW4gRVM/XG4gICAgICAgICAgICAgIDoganNvbi5oaXRzLmhpdHMuZmlsdGVyKCh7X3NvdXJjZTogc30pID0+IHMgJiYgcy5wdWJsaWNfYWNjZXNzID09IFwiMVwiKVxuXG4gICAgICAgICAgICBjb25zdCBpZHMgPSBwdWJsaXNoYWJsZUFydHdvcmtzLm1hcChoaXQgPT4gaGl0Ll9pZClcblxuICAgICAgICAgICAgY29uc3QgcHVibGljQWNjZXNzUmVzdWx0cyA9IHtoaXRzOiB7dG90YWw6IHB1Ymxpc2hhYmxlQXJ0d29ya3MubGVuZ3RoLCBoaXRzOiBwdWJsaXNoYWJsZUFydHdvcmtzfX1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLnB1YmxpY0FjY2Vzc1Jlc3VsdHMsXG4gICAgICAgICAgICAgIGNzdlF1ZXJ5OiBgaWRzLyR7aWRzLmpvaW4oJywnKX1gLFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgIH0sXG5cbiAgICB3aWxsVHJhbnNpdGlvblRvOiBmdW5jdGlvbiAodHJhbnNpdGlvbiwgcGFyYW1zLCBxdWVyeSwgY2FsbGJhY2spIHtcbiAgICAgIEV4aGliaXRpb24uZmV0Y2hEYXRhLmV4aGliaXRpb24ocGFyYW1zKS50aGVuKGV4aGliaXRpb24gPT4ge1xuICAgICAgICBpZihleGhpYml0aW9uLnNsdWcgIT09IHBhcmFtcy5zbHVnKSB7XG4gICAgICAgICAgcGFyYW1zLnNsdWcgPSBleGhpYml0aW9uLnNsdWdcbiAgICAgICAgICB0cmFuc2l0aW9uLnJlZGlyZWN0KCdleGhpYml0aW9uU2x1ZycsIHBhcmFtcylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaChlcnIgPT4gdHJhbnNpdGlvbi5yZWRpcmVjdCgnaG9tZScpKVxuICAgICAgLnRoZW4oY2FsbGJhY2spXG4gICAgfSxcbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgdmFyIHtleGhpYml0aW9ufSA9IHRoaXMucHJvcHMuZGF0YVxuXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICA8U2VhcmNoXG4gICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICBkaXNhYmxlSG92ZXI9e3RydWV9IC8vIFRPRE86IGZpeCA6aG92ZXIgZ29pbmcgdG8gdGhlIHNlYXJjaCByZXN1bHRzIHBhZ2VcbiAgICAgID5cbiAgICAgICAgPGRpdiBzdHlsZT17e21hcmdpbjogJzAuNWVtIDNlbSAyZW0nLCBtYXhXaWR0aDogJzM3ZW0nfX0+XG4gICAgICAgICAgPGgyPntleGhpYml0aW9uLmV4aGliaXRpb25fdGl0bGV9PC9oMj5cbiAgICAgICAgICA8cCBzdHlsZT17e21hcmdpbjogJy0xZW0gMCAwLjVlbSAwJ319PntleGhpYml0aW9uLmRpc3BsYXlfZGF0ZX08L3A+XG4gICAgICAgICAgPE1hcmtkb3duPntleGhpYml0aW9uLmV4aGliaXRpb25fZGVzY3JpcHRpb259PC9NYXJrZG93bj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxociAvPlxuICAgICAgPC9TZWFyY2g+XG4gICAgICA8SGVsbWV0XG4gICAgICAgIHRpdGxlPXtgRXhoaWJpdGlvbjogJHtleGhpYml0aW9uLmV4aGliaXRpb25fdGl0bGV9YH1cbiAgICAgICAgbWV0YT17W1xuICAgICAgICAgIHtwcm9wZXJ0eTogXCJvZzp0aXRsZVwiLCBjb250ZW50OiBleGhpYml0aW9uLmV4aGliaXRpb25fdGl0bGUgKyAnIF4gTWlubmVhcG9saXMgSW5zdGl0dXRlIG9mIEFydCd9LFxuICAgICAgICAgIHtwcm9wZXJ0eTogXCJvZzpkZXNjcmlwdGlvblwiLCBjb250ZW50OiBgQW4gZXhoaWJpdGlvbiBhdCB0aGUgTWlubmVhcG9saXMgSW5zdGl0dXRlIG9mIEFydC4gJHtleGhpYml0aW9uLmRpc3BsYXlfZGF0ZX1gfSxcbiAgICAgICAgXX1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IEV4aGliaXRpb25cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "exhibition.js"
      ],
      "names": [
        "React",
        "require",
        "Router",
        "rest",
        "Helmet",
        "Search",
        "endpoints",
        "SEARCH",
        "search",
        "toSlug",
        "Markdown",
        "Exhibition",
        "createClass",
        "mixins",
        "State",
        "statics",
        "fetchData",
        "exhibition",
        "params",
        "id",
        "then",
        "r",
        "JSON",
        "parse",
        "entity",
        "exh",
        "slug",
        "exhibition_title",
        "searchResults",
        "query",
        "objects",
        "exhibition_id",
        "searchUrl",
        "join",
        "json",
        "loanExhibitionAllowlist",
        "exhibitionAllowlisted",
        "indexOf",
        "publishableArtworks",
        "hits",
        "filter",
        "data",
        "found",
        "s",
        "_source",
        "public_access",
        "ids",
        "map",
        "hit",
        "_id",
        "publicAccessResults",
        "total",
        "length",
        "csvQuery",
        "willTransitionTo",
        "transition",
        "callback",
        "redirect",
        "catch",
        "render",
        "props",
        "margin",
        "maxWidth",
        "display_date",
        "exhibition_description",
        "property",
        "content",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "exhibition.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar rest = require('rest')\nvar Helmet = require('react-helmet')\n\nvar Search = require('./search')\nvar endpoints = require('./endpoints')\nvar SEARCH = endpoints.search\nvar toSlug = require('speakingurl')\nvar Markdown = require('./markdown')\n\nvar Exhibition = React.createClass({\n  mixins: [Router.State],\n  statics: {\n    fetchData: {\n      exhibition: (params) => {\n        var {id} = params\n        return rest(endpoints.exhibition(id))\n        .then((r) => JSON.parse(r.entity))\n        .then(exh => {\n          exh.slug = toSlug(exh.exhibition_title)\n          return exh\n        })\n      },\n\n      searchResults: (params, query) => {\n        return Exhibition.fetchData.exhibition(params).then(exhibition => {\n          const {objects, exhibition_id: id} = exhibition\n          var searchUrl = `${SEARCH}/ids/${objects.join(',')}`\n          return rest(searchUrl)\n          .then((r) => JSON.parse(r.entity))\n          .then((json) => {\n            // Publish artworks mainly based on `public_access: 1`, but whitelist\n            // specific exhibitions to show all works, regardless of public_access status\n            const loanExhibitionAllowlist = [2802, 2778, 2851, 2854, 2830, 2856]\n            const exhibitionAllowlisted = loanExhibitionAllowlist.indexOf(id) > -1\n            const publishableArtworks = exhibitionAllowlisted\n              ? json.hits.hits.filter(data => data.found) // some exhibitions list IDs not in ES?\n              : json.hits.hits.filter(({_source: s}) => s && s.public_access == \"1\")\n\n            const ids = publishableArtworks.map(hit => hit._id)\n\n            const publicAccessResults = {hits: {total: publishableArtworks.length, hits: publishableArtworks}}\n            return {\n              ...publicAccessResults,\n              csvQuery: `ids/${ids.join(',')}`,\n            }\n          })\n        })\n      },\n    },\n\n    willTransitionTo: function (transition, params, query, callback) {\n      Exhibition.fetchData.exhibition(params).then(exhibition => {\n        if(exhibition.slug !== params.slug) {\n          params.slug = exhibition.slug\n          transition.redirect('exhibitionSlug', params)\n        }\n      })\n      .catch(err => transition.redirect('home'))\n      .then(callback)\n    },\n  },\n\n  render() {\n    var {exhibition} = this.props.data\n\n    return <div>\n      <Search\n        {...this.props}\n        disableHover={true} // TODO: fix :hover going to the search results page\n      >\n        <div style={{margin: '0.5em 3em 2em', maxWidth: '37em'}}>\n          <h2>{exhibition.exhibition_title}</h2>\n          <p style={{margin: '-1em 0 0.5em 0'}}>{exhibition.display_date}</p>\n          <Markdown>{exhibition.exhibition_description}</Markdown>\n        </div>\n        <hr />\n      </Search>\n      <Helmet\n        title={`Exhibition: ${exhibition.exhibition_title}`}\n        meta={[\n          {property: \"og:title\", content: exhibition.exhibition_title + ' ^ Minneapolis Institute of Art'},\n          {property: \"og:description\", content: `An exhibition at the Minneapolis Institute of Art. ${exhibition.display_date}`},\n        ]}\n      />\n    </div>\n  },\n})\n\nmodule.exports = Exhibition\n"
      ]
    },
    "mtime": 1612393616748
  },
  "{\"filename\":\"/var/www/art/src/artist.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "extends",
        "slicedToArray"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/artist.js",
      "filenameRelative": "/var/www/art/src/artist.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "artist.js",
      "sourceFileName": "artist.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "artist"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar rest = require('rest');\nvar Helmet = require('react-helmet');\nvar toSlug = require('speakingurl');\nvar R = require('ramda');\n\nvar Search = require('./search');\nvar SearchResults = require('./search-results');\nvar Peek = require('./peek');\nvar searchEndpoint = require('./endpoints').search;\n\nvar Person = React.createClass({\n  displayName: 'Person',\n\n  statics: {\n    fetchData: {\n      artist: function artist(params, existingData) {\n        return rest(searchEndpoint + '/people/' + params.id).then(function (_ref) {\n          var entity = _ref.entity;\n\n          if (params.id === 'Wellington Lee') return null;\n          return JSON.parse(entity);\n        });\n      },\n      searchResults: function searchResults(params, query) {\n        return false;\n        return rest(searchEndpoint + '/people/' + params.id).then(function (_ref2) {\n          var entity = _ref2.entity;\n          return JSON.parse(entity);\n        }).then(function (artist) {\n          params.terms = 'artist:\"' + artist.name + '\"';\n          return SearchResults.fetchData.searchResults(params, query);\n        });\n      }\n    },\n\n    willTransitionTo: function willTransitionTo(transition, params, query, callback) {\n      rest(searchEndpoint + '/people/' + params.id).then(function (_ref3) {\n        var entity = _ref3.entity;\n        return JSON.parse(entity);\n      }).then(function (artist) {\n        var artistSlug = toSlug(artist.name);\n\n        if (artistSlug !== params.slug || artist.id !== Number(params.id)) {\n          params.slug = artistSlug;\n          params.id = artist.id;\n          transition.redirect('artistSlug', params);\n        }\n        return callback();\n      });\n    }\n  },\n\n  render: function render() {\n    var _props$data = this.props.data,\n        artist = _props$data.artist,\n        searchResults = _props$data.searchResults;\n\n    var _ref4 = artist.wikipedia || {},\n        thumbnail = _ref4.thumbnail,\n        link = _ref4.link,\n        extract = _ref4.extract;\n\n    var _ref5 = artist.wikidata || {},\n        artistDescription = _ref5.artistDescription;\n\n    return React.createElement(\n      'div',\n      null,\n      !this.props.hideHeader && React.createElement('div', { style: { background: '#232323', height: '7em', width: '100%' } }),\n      false && React.createElement(Search, _extends({\n        facet: 'artist:\"' + artist.name + '\"'\n      }, this.props, {\n        quiltProps: { darken: true },\n        hideInput: true,\n        hideResults: true })),\n      React.createElement(\n        'div',\n        { className: 'personPage', style: { padding: '1em', maxWidth: '47em', margin: '0 auto' } },\n        thumbnail && React.createElement('img', { src: thumbnail, style: { float: 'right', margin: '0 0 1em 1em' }, alt: 'image of ' + artist.name + ' from wikipedia' }),\n        React.createElement(\n          'h2',\n          null,\n          artist.name\n        ),\n        extract && React.createElement(\n          'p',\n          null,\n          extract,\n          ' ',\n          React.createElement(\n            'a',\n            { href: link },\n            'Read more from Wikipedia \\u2192'\n          )\n        ),\n        !extract && artistDescription && React.createElement(\n          'p',\n          null,\n          artistDescription,\n          ' ',\n          React.createElement(\n            'a',\n            { href: 'https://tools.wmflabs.org/reasonator/?&q=' + artist.q },\n            'See more from wikidata \\u2192'\n          )\n        ),\n        artist.wikidata && React.createElement(OtherMuseumsArtistPages, { artist: artist })\n      ),\n      React.createElement('hr', { style: { visibility: 'hidden', clear: 'both' } }),\n      React.createElement(Peek, { facet: 'artist', q: artist.name, quiltProps: { maxRowHeight: 100 }, showSingleResult: true }),\n      React.createElement(Helmet, { title: artist.name })\n    );\n  }\n});\n\nmodule.exports = Person;\n\nvar OtherMuseumsArtistPages = function OtherMuseumsArtistPages(_ref6) {\n  var artist = _ref6.artist;\n\n  /**\n   * map datapoints returned from wikidata indicating constituent IDs at other museums\n   * to an array of shape `[museum name, link to artist page]`\n   */\n  var museumMap = {\n    aicID: function aicID(id) {\n      return ['the Art Institute of Chicago', 'https://www.artic.edu/artists/' + id];\n    },\n    saamID: function saamID(id) {\n      return ['the Smithsonian American Art Museum', 'http://americanart.si.edu/collections/search/artist/?id=' + id];\n    },\n    momaID: function momaID(id) {\n      return ['the Museum of Modern Art in New York', 'https://www.moma.org/artists/' + id];\n    }\n  };\n  var others = R.values(R.evolve(museumMap, R.pick(R.keys(museumMap), artist && artist.wikidata)));\n\n  return others.length === 0 ? React.createElement('span', null) : React.createElement(\n    'div',\n    { style: { marginTop: '1em' } },\n    React.createElement(\n      'p',\n      null,\n      'Works by this artist in other museums: ',\n      ' ',\n      others.map(function (_ref7, index) {\n        var _ref8 = _slicedToArray(_ref7, 2),\n            orgName = _ref8[0],\n            link = _ref8[1];\n\n        return React.createElement(\n          'span',\n          { key: orgName },\n          React.createElement(\n            'a',\n            { href: link },\n            orgName\n          ),\n          index == others.length - 1 ? '.' : ', '\n        );\n      })\n    )\n  );\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFydGlzdC5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJSb3V0ZXIiLCJMaW5rIiwicmVzdCIsIkhlbG1ldCIsInRvU2x1ZyIsIlIiLCJTZWFyY2giLCJTZWFyY2hSZXN1bHRzIiwiUGVlayIsInNlYXJjaEVuZHBvaW50Iiwic2VhcmNoIiwiUGVyc29uIiwiY3JlYXRlQ2xhc3MiLCJzdGF0aWNzIiwiZmV0Y2hEYXRhIiwiYXJ0aXN0IiwicGFyYW1zIiwiZXhpc3RpbmdEYXRhIiwiaWQiLCJ0aGVuIiwiZW50aXR5IiwiSlNPTiIsInBhcnNlIiwic2VhcmNoUmVzdWx0cyIsInF1ZXJ5IiwidGVybXMiLCJuYW1lIiwid2lsbFRyYW5zaXRpb25UbyIsInRyYW5zaXRpb24iLCJjYWxsYmFjayIsImFydGlzdFNsdWciLCJzbHVnIiwiTnVtYmVyIiwicmVkaXJlY3QiLCJyZW5kZXIiLCJwcm9wcyIsImRhdGEiLCJ3aWtpcGVkaWEiLCJ0aHVtYm5haWwiLCJsaW5rIiwiZXh0cmFjdCIsIndpa2lkYXRhIiwiYXJ0aXN0RGVzY3JpcHRpb24iLCJoaWRlSGVhZGVyIiwiYmFja2dyb3VuZCIsImhlaWdodCIsIndpZHRoIiwiZGFya2VuIiwicGFkZGluZyIsIm1heFdpZHRoIiwibWFyZ2luIiwiZmxvYXQiLCJxIiwidmlzaWJpbGl0eSIsImNsZWFyIiwibWF4Um93SGVpZ2h0IiwibW9kdWxlIiwiZXhwb3J0cyIsIk90aGVyTXVzZXVtc0FydGlzdFBhZ2VzIiwibXVzZXVtTWFwIiwiYWljSUQiLCJzYWFtSUQiLCJtb21hSUQiLCJvdGhlcnMiLCJ2YWx1ZXMiLCJldm9sdmUiLCJwaWNrIiwia2V5cyIsImxlbmd0aCIsIm1hcmdpblRvcCIsIm1hcCIsImluZGV4Iiwib3JnTmFtZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7QUFDQSxJQUFJQyxTQUFTRCxRQUFRLGNBQVIsQ0FBYjtJQUNNRSxJLEdBQVNELE0sQ0FB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O0FBQUEsY0FBRyxNQUFNakMsSUFBVDtBQUFnQmlDO0FBQWhCLFdBQXBCO0FBQWlERCxtQkFBU1IsT0FBT0ssTUFBUCxHQUFjLENBQXZCLEdBQTJCLEdBQTNCLEdBQWlDO0FBQWxGLFNBQTVCO0FBQUEsT0FBWDtBQUZIO0FBRHNDLEdBQXhDO0FBTUQsQ0FsQkQiLCJmaWxlIjoiYXJ0aXN0LmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciB7IExpbmsgfSA9IFJvdXRlclxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxudmFyIHRvU2x1ZyA9IHJlcXVpcmUoJ3NwZWFraW5ndXJsJylcbnZhciBSID0gcmVxdWlyZSgncmFtZGEnKVxuXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zZWFyY2gnKVxudmFyIFNlYXJjaFJlc3VsdHMgPSByZXF1aXJlKCcuL3NlYXJjaC1yZXN1bHRzJylcbnZhciBQZWVrID0gcmVxdWlyZSgnLi9wZWVrJylcbnZhciBzZWFyY2hFbmRwb2ludCA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJykuc2VhcmNoXG5cbnZhciBQZXJzb24gPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHN0YXRpY3M6IHtcbiAgICBmZXRjaERhdGE6IHtcbiAgICAgIGFydGlzdDogKHBhcmFtcywgZXhpc3RpbmdEYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiByZXN0KGAke3NlYXJjaEVuZHBvaW50fS9wZW9wbGUvJHtwYXJhbXMuaWR9YClcbiAgICAgICAgICAudGhlbigoe2VudGl0eX0pID0+IHtcbiAgICAgICAgICAgIGlmKHBhcmFtcy5pZCA9PT0gJ1dlbGxpbmd0b24gTGVlJykgcmV0dXJuIG51bGxcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGVudGl0eSlcbiAgICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIHNlYXJjaFJlc3VsdHM6IChwYXJhbXMsIHF1ZXJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICByZXR1cm4gcmVzdChgJHtzZWFyY2hFbmRwb2ludH0vcGVvcGxlLyR7cGFyYW1zLmlkfWApXG4gICAgICAgICAgLnRoZW4oKHtlbnRpdHl9KSA9PiBKU09OLnBhcnNlKGVudGl0eSkpXG4gICAgICAgICAgLnRoZW4oYXJ0aXN0ID0+IHtcbiAgICAgICAgICAgIHBhcmFtcy50ZXJtcyA9IGBhcnRpc3Q6XCIke2FydGlzdC5uYW1lfVwiYFxuICAgICAgICAgICAgcmV0dXJuIFNlYXJjaFJlc3VsdHMuZmV0Y2hEYXRhLnNlYXJjaFJlc3VsdHMocGFyYW1zLCBxdWVyeSlcbiAgICAgICAgICB9KVxuICAgICAgfSxcbiAgICB9LFxuXG4gICAgd2lsbFRyYW5zaXRpb25UbzogZnVuY3Rpb24gKHRyYW5zaXRpb24sIHBhcmFtcywgcXVlcnksIGNhbGxiYWNrKSB7XG4gICAgICByZXN0KGAke3NlYXJjaEVuZHBvaW50fS9wZW9wbGUvJHtwYXJhbXMuaWR9YClcbiAgICAgICAgLnRoZW4oKHtlbnRpdHl9KSA9PiBKU09OLnBhcnNlKGVudGl0eSkpXG4gICAgICAgIC50aGVuKGFydGlzdCA9PiB7XG4gICAgICAgICAgdmFyIGFydGlzdFNsdWcgPSB0b1NsdWcoYXJ0aXN0Lm5hbWUpXG5cbiAgICAgICAgICBpZihhcnRpc3RTbHVnICE9PSBwYXJhbXMuc2x1ZyB8fCBhcnRpc3QuaWQgIT09IE51bWJlcihwYXJhbXMuaWQpKSB7XG4gICAgICAgICAgICBwYXJhbXMuc2x1ZyA9IGFydGlzdFNsdWdcbiAgICAgICAgICAgIHBhcmFtcy5pZCA9IGFydGlzdC5pZFxuICAgICAgICAgICAgdHJhbnNpdGlvbi5yZWRpcmVjdCgnYXJ0aXN0U2x1ZycsIHBhcmFtcylcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKClcbiAgICAgICAgfSlcbiAgICB9XG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciB7YXJ0aXN0LCBzZWFyY2hSZXN1bHRzfSA9IHRoaXMucHJvcHMuZGF0YVxuICAgIHZhciB7dGh1bWJuYWlsLCBsaW5rLCBleHRyYWN0fSA9IGFydGlzdC53aWtpcGVkaWEgfHwge31cbiAgICB2YXIge2FydGlzdERlc2NyaXB0aW9ufSA9IGFydGlzdC53aWtpZGF0YSB8fCB7fVxuXG4gICAgcmV0dXJuIDxkaXY+XG4gICAgICB7IXRoaXMucHJvcHMuaGlkZUhlYWRlciAmJiA8ZGl2IHN0eWxlPXt7YmFja2dyb3VuZDogJyMyMzIzMjMnLCBoZWlnaHQ6ICc3ZW0nLCB3aWR0aDogJzEwMCUnfX0gLz59XG4gICAgICB7ZmFsc2UgJiYgPFNlYXJjaFxuICAgICAgICBmYWNldD17YGFydGlzdDpcIiR7YXJ0aXN0Lm5hbWV9XCJgfVxuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgcXVpbHRQcm9wcz17e2RhcmtlbjogdHJ1ZX19XG4gICAgICAgIGhpZGVJbnB1dD17dHJ1ZX1cbiAgICAgICAgaGlkZVJlc3VsdHM9e3RydWV9IC8+fVxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBlcnNvblBhZ2VcIiBzdHlsZT17e3BhZGRpbmc6ICcxZW0nLCBtYXhXaWR0aDogJzQ3ZW0nLCBtYXJnaW46ICcwIGF1dG8nfX0+XG4gICAgICAgIHt0aHVtYm5haWwgJiYgPGltZyBzcmM9e3RodW1ibmFpbH0gc3R5bGU9e3tmbG9hdDogJ3JpZ2h0JywgbWFyZ2luOiAnMCAwIDFlbSAxZW0nfX0gYWx0PXtgaW1hZ2Ugb2YgJHthcnRpc3QubmFtZX0gZnJvbSB3aWtpcGVkaWFgfS8+fVxuICAgICAgICA8aDI+e2FydGlzdC5uYW1lfTwvaDI+XG4gICAgICAgIHtleHRyYWN0ICYmIDxwPlxuICAgICAgICAgIHtleHRyYWN0fVxuICAgICAgICAgIHsnICd9PGEgaHJlZj17bGlua30+UmVhZCBtb3JlIGZyb20gV2lraXBlZGlhICZyYXJyOzwvYT5cbiAgICAgICAgPC9wPn1cbiAgICAgICAgeyFleHRyYWN0ICYmIGFydGlzdERlc2NyaXB0aW9uICYmIDxwPlxuICAgICAgICAgIHthcnRpc3REZXNjcmlwdGlvbn1cbiAgICAgICAgICB7JyAnfTxhIGhyZWY9e2BodHRwczovL3Rvb2xzLndtZmxhYnMub3JnL3JlYXNvbmF0b3IvPyZxPSR7YXJ0aXN0LnF9YH0+U2VlIG1vcmUgZnJvbSB3aWtpZGF0YSAmcmFycjs8L2E+XG4gICAgICAgIDwvcD59XG5cbiAgICAgICAge2FydGlzdC53aWtpZGF0YSAmJiA8T3RoZXJNdXNldW1zQXJ0aXN0UGFnZXMgYXJ0aXN0PXthcnRpc3R9IC8+fVxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxociBzdHlsZT17e3Zpc2liaWxpdHk6ICdoaWRkZW4nLCBjbGVhcjogJ2JvdGgnfX0gLz5cbiAgICAgIDxQZWVrIGZhY2V0PVwiYXJ0aXN0XCIgcT17YXJ0aXN0Lm5hbWV9IHF1aWx0UHJvcHM9e3ttYXhSb3dIZWlnaHQ6IDEwMH19IHNob3dTaW5nbGVSZXN1bHQ9e3RydWV9IC8+XG4gICAgICA8SGVsbWV0IHRpdGxlPXthcnRpc3QubmFtZX0gLz5cbiAgICA8L2Rpdj5cbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gUGVyc29uXG5cbmNvbnN0IE90aGVyTXVzZXVtc0FydGlzdFBhZ2VzID0gKHthcnRpc3R9KSA9PiB7XG4gIC8qKlxuICAgKiBtYXAgZGF0YXBvaW50cyByZXR1cm5lZCBmcm9tIHdpa2lkYXRhIGluZGljYXRpbmcgY29uc3RpdHVlbnQgSURzIGF0IG90aGVyIG11c2V1bXNcbiAgICogdG8gYW4gYXJyYXkgb2Ygc2hhcGUgYFttdXNldW0gbmFtZSwgbGluayB0byBhcnRpc3QgcGFnZV1gXG4gICAqL1xuICBjb25zdCBtdXNldW1NYXAgPSB7XG4gICAgYWljSUQ6IChpZCkgPT4gWyd0aGUgQXJ0IEluc3RpdHV0ZSBvZiBDaGljYWdvJywgYGh0dHBzOi8vd3d3LmFydGljLmVkdS9hcnRpc3RzLyR7aWR9YF0sXG4gICAgc2FhbUlEOiAoaWQpID0+IFsndGhlIFNtaXRoc29uaWFuIEFtZXJpY2FuIEFydCBNdXNldW0nLCBgaHR0cDovL2FtZXJpY2FuYXJ0LnNpLmVkdS9jb2xsZWN0aW9ucy9zZWFyY2gvYXJ0aXN0Lz9pZD0ke2lkfWBdLFxuICAgIG1vbWFJRDogKGlkKSA9PiBbJ3RoZSBNdXNldW0gb2YgTW9kZXJuIEFydCBpbiBOZXcgWW9yaycsIGBodHRwczovL3d3dy5tb21hLm9yZy9hcnRpc3RzLyR7aWR9YF0sXG4gIH1cbiAgY29uc3Qgb3RoZXJzID0gUi52YWx1ZXMoUi5ldm9sdmUobXVzZXVtTWFwLCBSLnBpY2soUi5rZXlzKG11c2V1bU1hcCksIGFydGlzdCAmJiBhcnRpc3Qud2lraWRhdGEpKSlcblxuICByZXR1cm4gb3RoZXJzLmxlbmd0aCA9PT0gMCA/IDxzcGFuIC8+IDogPGRpdiBzdHlsZT17e21hcmdpblRvcDogJzFlbSd9fT5cbiAgICA8cD5cbiAgICAgIFdvcmtzIGJ5IHRoaXMgYXJ0aXN0IGluIG90aGVyIG11c2V1bXM6IHsnICd9XG4gICAgICB7b3RoZXJzLm1hcCgoW29yZ05hbWUsIGxpbmtdLCBpbmRleCkgPT4gPHNwYW4ga2V5PXtvcmdOYW1lfT48YSBocmVmPXtsaW5rfT57b3JnTmFtZX08L2E+e2luZGV4ID09IG90aGVycy5sZW5ndGgtMSA/ICcuJyA6ICcsICd9PC9zcGFuPil9XG4gICAgPC9wPlxuICA8L2Rpdj5cbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "artist.js"
      ],
      "names": [
        "React",
        "require",
        "Router",
        "Link",
        "rest",
        "Helmet",
        "toSlug",
        "R",
        "Search",
        "SearchResults",
        "Peek",
        "searchEndpoint",
        "search",
        "Person",
        "createClass",
        "statics",
        "fetchData",
        "artist",
        "params",
        "existingData",
        "id",
        "then",
        "entity",
        "JSON",
        "parse",
        "searchResults",
        "query",
        "terms",
        "name",
        "willTransitionTo",
        "transition",
        "callback",
        "artistSlug",
        "slug",
        "Number",
        "redirect",
        "render",
        "props",
        "data",
        "wikipedia",
        "thumbnail",
        "link",
        "extract",
        "wikidata",
        "artistDescription",
        "hideHeader",
        "background",
        "height",
        "width",
        "darken",
        "padding",
        "maxWidth",
        "margin",
        "float",
        "q",
        "visibility",
        "clear",
        "maxRowHeight",
        "module",
        "exports",
        "OtherMuseumsArtistPages",
        "museumMap",
        "aicID",
        "saamID",
        "momaID",
        "others",
        "values",
        "evolve",
        "pick",
        "keys",
        "length",
        "marginTop",
        "map",
        "index",
        "orgName"
      ],
      "mappings": ";;;;;;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;AACA,IAAIC,SAASD,QAAQ,cAAR,CAAb;IACME,I,GAASD,M,CAATC,I;;AACN,IAAIC,OAAOH,QAAQ,MAAR,CAAX;AACA,IAAII,SAASJ,QAAQ,cAAR,CAAb;AACA,IAAIK,SAASL,QAAQ,aAAR,CAAb;AACA,IAAIM,IAAIN,QAAQ,OAAR,CAAR;;AAEA,IAAIO,SAASP,QAAQ,UAAR,CAAb;AACA,IAAIQ,gBAAgBR,QAAQ,kBAAR,CAApB;AACA,IAAIS,OAAOT,QAAQ,QAAR,CAAX;AACA,IAAIU,iBAAiBV,QAAQ,aAAR,EAAuBW,MAA5C;;AAEA,IAAIC,SAASb,MAAMc,WAAN,CAAkB;AAAA;;AAC7BC,WAAS;AACPC,eAAW;AACTC,cAAQ,gBAACC,MAAD,EAASC,YAAT,EAA0B;AAChC,eAAOf,KAAQO,cAAR,gBAAiCO,OAAOE,EAAxC,EACJC,IADI,CACC,gBAAc;AAAA,cAAZC,MAAY,QAAZA,MAAY;;AAClB,cAAGJ,OAAOE,EAAP,KAAc,gBAAjB,EAAmC,OAAO,IAAP;AACnC,iBAAOG,KAAKC,KAAL,CAAWF,MAAX,CAAP;AACD,SAJI,CAAP;AAKD,OAPQ;AAQTG,qBAAe,uBAACP,MAAD,EAASQ,KAAT,EAAmB;AAChC,eAAO,KAAP;AACA,eAAOtB,KAAQO,cAAR,gBAAiCO,OAAOE,EAAxC,EACJC,IADI,CACC;AAAA,cAAEC,MAAF,SAAEA,MAAF;AAAA,iBAAcC,KAAKC,KAAL,CAAWF,MAAX,CAAd;AAAA,SADD,EAEJD,IAFI,CAEC,kBAAU;AACdH,iBAAOS,KAAP,gBAA0BV,OAAOW,IAAjC;AACA,iBAAOnB,cAAcO,SAAd,CAAwBS,aAAxB,CAAsCP,MAAtC,EAA8CQ,KAA9C,CAAP;AACD,SALI,CAAP;AAMD;AAhBQ,KADJ;;AAoBPG,sBAAkB,0BAAUC,UAAV,EAAsBZ,MAAtB,EAA8BQ,KAA9B,EAAqCK,QAArC,EAA+C;AAC/D3B,WAAQO,cAAR,gBAAiCO,OAAOE,EAAxC,EACGC,IADH,CACQ;AAAA,YAAEC,MAAF,SAAEA,MAAF;AAAA,eAAcC,KAAKC,KAAL,CAAWF,MAAX,CAAd;AAAA,OADR,EAEGD,IAFH,CAEQ,kBAAU;AACd,YAAIW,aAAa1B,OAAOW,OAAOW,IAAd,CAAjB;;AAEA,YAAGI,eAAed,OAAOe,IAAtB,IAA8BhB,OAAOG,EAAP,KAAcc,OAAOhB,OAAOE,EAAd,CAA/C,EAAkE;AAChEF,iBAAOe,IAAP,GAAcD,UAAd;AACAd,iBAAOE,EAAP,GAAYH,OAAOG,EAAnB;AACAU,qBAAWK,QAAX,CAAoB,YAApB,EAAkCjB,MAAlC;AACD;AACD,eAAOa,UAAP;AACD,OAXH;AAYD;AAjCM,GADoB;;AAqC7BK,QArC6B,oBAqCpB;AAAA,sBACuB,KAAKC,KAAL,CAAWC,IADlC;AAAA,QACFrB,MADE,eACFA,MADE;AAAA,QACMQ,aADN,eACMA,aADN;;AAAA,gBAE0BR,OAAOsB,SAAP,IAAoB,EAF9C;AAAA,QAEFC,SAFE,SAEFA,SAFE;AAAA,QAESC,IAFT,SAESA,IAFT;AAAA,QAEeC,OAFf,SAEeA,OAFf;;AAAA,gBAGmBzB,OAAO0B,QAAP,IAAmB,EAHtC;AAAA,QAGFC,iBAHE,SAGFA,iBAHE;;AAKP,WAAO;AAAA;AAAA;AACJ,OAAC,KAAKP,KAAL,CAAWQ,UAAZ,IAA0B,6BAAK,OAAO,EAACC,YAAY,SAAb,EAAwBC,QAAQ,KAAhC,EAAuCC,OAAO,MAA9C,EAAZ,GADtB;AAEJ,eAAS,oBAAC,MAAD;AACR,4BAAkB/B,OAAOW,IAAzB;AADQ,SAEJ,KAAKS,KAFD;AAGR,oBAAY,EAACY,QAAQ,IAAT,EAHJ;AAIR,mBAAW,IAJH;AAKR,qBAAa,IALL,IAFL;AASL;AAAA;AAAA,UAAK,WAAU,YAAf,EAA4B,OAAO,EAACC,SAAS,KAAV,EAAiBC,UAAU,MAA3B,EAAmCC,QAAQ,QAA3C,EAAnC;AACGZ,qBAAa,6BAAK,KAAKA,SAAV,EAAqB,OAAO,EAACa,OAAO,OAAR,EAAiBD,QAAQ,aAAzB,EAA5B,EAAqE,mBAAiBnC,OAAOW,IAAxB,oBAArE,GADhB;AAEE;AAAA;AAAA;AAAKX,iBAAOW;AAAZ,SAFF;AAGGc,mBAAW;AAAA;AAAA;AACTA,iBADS;AAET,aAFS;AAEL;AAAA;AAAA,cAAG,MAAMD,IAAT;AAAA;AAAA;AAFK,SAHd;AAOG,SAACC,OAAD,IAAYE,iBAAZ,IAAiC;AAAA;AAAA;AAC/BA,2BAD+B;AAE/B,aAF+B;AAE3B;AAAA;AAAA,cAAG,oDAAkD3B,OAAOqC,CAA5D;AAAA;AAAA;AAF2B,SAPpC;AAYGrC,eAAO0B,QAAP,IAAmB,oBAAC,uBAAD,IAAyB,QAAQ1B,MAAjC;AAZtB,OATK;AAwBL,kCAAI,OAAO,EAACsC,YAAY,QAAb,EAAuBC,OAAO,MAA9B,EAAX,GAxBK;AAyBL,0BAAC,IAAD,IAAM,OAAM,QAAZ,EAAqB,GAAGvC,OAAOW,IAA/B,EAAqC,YAAY,EAAC6B,cAAc,GAAf,EAAjD,EAAsE,kBAAkB,IAAxF,GAzBK;AA0BL,0BAAC,MAAD,IAAQ,OAAOxC,OAAOW,IAAtB;AA1BK,KAAP;AA4BD;AAtE4B,CAAlB,CAAb;;AAyEA8B,OAAOC,OAAP,GAAiB9C,MAAjB;;AAEA,IAAM+C,0BAA0B,SAA1BA,uBAA0B,QAAc;AAAA,MAAZ3C,MAAY,SAAZA,MAAY;;AAC5C;;;;AAIA,MAAM4C,YAAY;AAChBC,WAAO,eAAC1C,EAAD;AAAA,aAAQ,CAAC,8BAAD,qCAAkEA,EAAlE,CAAR;AAAA,KADS;AAEhB2C,YAAQ,gBAAC3C,EAAD;AAAA,aAAQ,CAAC,qCAAD,+DAAmGA,EAAnG,CAAR;AAAA,KAFQ;AAGhB4C,YAAQ,gBAAC5C,EAAD;AAAA,aAAQ,CAAC,sCAAD,oCAAyEA,EAAzE,CAAR;AAAA;AAHQ,GAAlB;AAKA,MAAM6C,SAAS1D,EAAE2D,MAAF,CAAS3D,EAAE4D,MAAF,CAASN,SAAT,EAAoBtD,EAAE6D,IAAF,CAAO7D,EAAE8D,IAAF,CAAOR,SAAP,CAAP,EAA0B5C,UAAUA,OAAO0B,QAA3C,CAApB,CAAT,CAAf;;AAEA,SAAOsB,OAAOK,MAAP,KAAkB,CAAlB,GAAsB,iCAAtB,GAAiC;AAAA;AAAA,MAAK,OAAO,EAACC,WAAW,KAAZ,EAAZ;AACtC;AAAA;AAAA;AAAA;AAC0C,SAD1C;AAEGN,aAAOO,GAAP,CAAW,iBAAkBC,KAAlB;AAAA;AAAA,YAAEC,OAAF;AAAA,YAAWjC,IAAX;;AAAA,eAA4B;AAAA;AAAA,YAAM,KAAKiC,OAAX;AAAoB;AAAA;AAAA,cAAG,MAAMjC,IAAT;AAAgBiC;AAAhB,WAApB;AAAiDD,mBAASR,OAAOK,MAAP,GAAc,CAAvB,GAA2B,GAA3B,GAAiC;AAAlF,SAA5B;AAAA,OAAX;AAFH;AADsC,GAAxC;AAMD,CAlBD",
      "file": "artist.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar { Link } = Router\nvar rest = require('rest')\nvar Helmet = require('react-helmet')\nvar toSlug = require('speakingurl')\nvar R = require('ramda')\n\nvar Search = require('./search')\nvar SearchResults = require('./search-results')\nvar Peek = require('./peek')\nvar searchEndpoint = require('./endpoints').search\n\nvar Person = React.createClass({\n  statics: {\n    fetchData: {\n      artist: (params, existingData) => {\n        return rest(`${searchEndpoint}/people/${params.id}`)\n          .then(({entity}) => {\n            if(params.id === 'Wellington Lee') return null\n            return JSON.parse(entity)\n          })\n      },\n      searchResults: (params, query) => {\n        return false\n        return rest(`${searchEndpoint}/people/${params.id}`)\n          .then(({entity}) => JSON.parse(entity))\n          .then(artist => {\n            params.terms = `artist:\"${artist.name}\"`\n            return SearchResults.fetchData.searchResults(params, query)\n          })\n      },\n    },\n\n    willTransitionTo: function (transition, params, query, callback) {\n      rest(`${searchEndpoint}/people/${params.id}`)\n        .then(({entity}) => JSON.parse(entity))\n        .then(artist => {\n          var artistSlug = toSlug(artist.name)\n\n          if(artistSlug !== params.slug || artist.id !== Number(params.id)) {\n            params.slug = artistSlug\n            params.id = artist.id\n            transition.redirect('artistSlug', params)\n          }\n          return callback()\n        })\n    }\n  },\n\n  render() {\n    var {artist, searchResults} = this.props.data\n    var {thumbnail, link, extract} = artist.wikipedia || {}\n    var {artistDescription} = artist.wikidata || {}\n\n    return <div>\n      {!this.props.hideHeader && <div style={{background: '#232323', height: '7em', width: '100%'}} />}\n      {false && <Search\n        facet={`artist:\"${artist.name}\"`}\n        {...this.props}\n        quiltProps={{darken: true}}\n        hideInput={true}\n        hideResults={true} />}\n\n      <div className=\"personPage\" style={{padding: '1em', maxWidth: '47em', margin: '0 auto'}}>\n        {thumbnail && <img src={thumbnail} style={{float: 'right', margin: '0 0 1em 1em'}} alt={`image of ${artist.name} from wikipedia`}/>}\n        <h2>{artist.name}</h2>\n        {extract && <p>\n          {extract}\n          {' '}<a href={link}>Read more from Wikipedia &rarr;</a>\n        </p>}\n        {!extract && artistDescription && <p>\n          {artistDescription}\n          {' '}<a href={`https://tools.wmflabs.org/reasonator/?&q=${artist.q}`}>See more from wikidata &rarr;</a>\n        </p>}\n\n        {artist.wikidata && <OtherMuseumsArtistPages artist={artist} />}\n      </div>\n\n      <hr style={{visibility: 'hidden', clear: 'both'}} />\n      <Peek facet=\"artist\" q={artist.name} quiltProps={{maxRowHeight: 100}} showSingleResult={true} />\n      <Helmet title={artist.name} />\n    </div>\n  },\n})\n\nmodule.exports = Person\n\nconst OtherMuseumsArtistPages = ({artist}) => {\n  /**\n   * map datapoints returned from wikidata indicating constituent IDs at other museums\n   * to an array of shape `[museum name, link to artist page]`\n   */\n  const museumMap = {\n    aicID: (id) => ['the Art Institute of Chicago', `https://www.artic.edu/artists/${id}`],\n    saamID: (id) => ['the Smithsonian American Art Museum', `http://americanart.si.edu/collections/search/artist/?id=${id}`],\n    momaID: (id) => ['the Museum of Modern Art in New York', `https://www.moma.org/artists/${id}`],\n  }\n  const others = R.values(R.evolve(museumMap, R.pick(R.keys(museumMap), artist && artist.wikidata)))\n\n  return others.length === 0 ? <span /> : <div style={{marginTop: '1em'}}>\n    <p>\n      Works by this artist in other museums: {' '}\n      {others.map(([orgName, link], index) => <span key={orgName}><a href={link}>{orgName}</a>{index == others.length-1 ? '.' : ', '}</span>)}\n    </p>\n  </div>\n}\n"
      ]
    },
    "mtime": 1584573136814
  },
  "{\"filename\":\"/var/www/art/src/recent.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/recent.js",
      "filenameRelative": "/var/www/art/src/recent.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "recent.js",
      "sourceFileName": "recent.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "recent"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar Helmet = require('react-helmet');\nvar rest = require('rest');\nvar R = require('ramda');\n\nvar Search = require('./search');\nvar SEARCH = require('./endpoints').search;\nvar ArtworkPreview = require('./artwork-preview');\nvar ArtworkResult = require('./artwork-result');\nvar _Artwork = require('./_artwork');\nvar Peek = require('./peek');\nvar Markdown = require('./markdown');\nvar ArtworkImage = require('./artwork-image');\n\nvar RecentAccessions = React.createClass({\n  displayName: 'RecentAccessions',\n\n  statics: {\n    fetchData: {\n      searchResults: function searchResults(params, query) {\n        return rest(SEARCH + '/recent:true').then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      },\n      accessionHighlights: function accessionHighlights(params, query) {\n        return rest(SEARCH + '/accessionHighlight:true?sort=accessionDate-desc').then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  accessionHighlightsGrid: function accessionHighlightsGrid() {\n    var _props$data = this.props.data,\n        accessionHighlights = _props$data.accessionHighlights,\n        recent = _props$data.recent;\n\n    var artworks = accessionHighlights.hits.hits.map(function (h) {\n      return h._source;\n    }).filter(function (art) {\n      return [127658, 126980, 126982, 126983, 126984, 127053, 127055].indexOf(parseInt(art.id)) == -1;\n    });\n    var groupedByDate = R.groupBy(function (h) {\n      var accessionNumberYear = h.accession_number.split('.')[0];\n      // This was needed to group accessions by quarter, but we are using year now so fall back to the accesion number\n      var accessionDateYear = h.accessionDate.split('-')[0];\n      var date = accessionNumberYear;\n      return date == 2107 ? 2017 : date;\n    }, artworks); // {<date>: [<highlights>], …}\n\n    var customImageFunctionStatic = function customImageFunctionStatic(id) {\n      return 'https://collections.artsmia.org/_info/accession_highlights/' + id + '.jpg';\n    };\n    var customImageFunctionSmartCrop = function customImageFunctionSmartCrop(id) {\n      return 'https://iiif.dx.artsmia.org//' + id + '.jpg/-1,-1,800,800/800,/0/default.jpg';\n    };\n    // combine 'static' and 'IIIF smart crop' with custom IIIF hand-crops\n    var customCrops = '\\n      https://iiif.dx.artsmia.org/128386.jpg/4670,4987,2147,1890/800,/0/default.jpg\\n      https://iiif.dx.artsmia.org/129702.jpg/2687,2039,3112,3080/800,/0/default.jpg\\n      https://iiif.dx.artsmia.org/128360.jpg/3448,1206,1389,1279/800,/0/default.jpg\\n      https://iiif.dx.artsmia.org/128390.jpg/6047,2248,1675,1641/800,/0/default.jpg\\n      https://iiif.dx.artsmia.org/128682.jpg/2934,1256,1155,1184/800,/0/default.jpg\\n      https://iiif.dx.artsmia.org/130109.jpg/1247,3512,2340,2294/800,/0/default.jpg\\n      https://iiif.dx.artsmia.org/128091.jpg/1230,1243,2532,2506/800,/0/default.jpg\\n      https://iiif.dx.artsmia.org/128430.jpg/5195,3201,2320,2157/800,/0/default.jpg\\n      https://iiif.dx.artsmia.org/129758.jpg/1487,1554,2787,2587/800,/0/default.jpg\\n      https://iiif.dx.artsmia.org/131786.jpg/1741,4474,1781,1696/800,/0/default.jpg\\n      https://iiif.dx.artsmia.org/136410.jpg/575,333,738,768/800,/0/default.jpg\\n      https://iiif.dx.artsmia.org/131334.jpg/2719,2393,1519,1474/800,/0/default.jpg\\n      https://iiif.dx.artsmia.org/132174.jpg/2399,2019,1838,1706/800,/0/default.jpg\\n      https://iiif.dx.artsmia.org/136221.jpg/445,6119,2527,2264/800,/0/default.jpg\\n      https://iiif.dx.artsmia.org/131646.jpg/2675,635,3645,3634/800,/0/default.jpg\\n      https://iiif.dx.artsmia.org/136392.jpg/2425,574,1277,1186/800,/0/default.jpg\\n      https://iiif.dx.artsmia.org/131330.jpg/1854,279,3047,3064/800,/0/default.jpg\\n      https://iiif.dx.artsmia.org/126884.jpg/988,601,2786,2376/800,/0/default.jpg\\n      https://iiif.dx.artsmia.org/126818.jpg/22,200,5367,4577/800,/0/default.jpg\\n      https://iiif.dx.artsmia.org/124782.jpg/563,69,4357,3716/800,/0/default.jpg\\n      https://iiif.dx.artsmia.org/123915.jpg/561,591,3983,3396/800,/0/default.jpg\\n      https://iiif.dx.artsmia.org/123335.jpg/891,57,4881,4162/800,/0/default.jpg\\n    '.split(/\\s+/).filter(function (url) {\n      return url !== '';\n    });\n    // If a custom detail URL was included above, use that.\n    // Otherwise, try the IIIF smart crop\n    var customImageFunction = function customImageFunction(id) {\n      return customCrops.find(function (iiifUrl) {\n        return iiifUrl.match(id + '.jpg');\n      }) || customImageFunctionSmartCrop(id);\n    };\n\n    return React.createElement(\n      'div',\n      null,\n      Object.keys(groupedByDate).reverse().map(function (accessionDate) {\n        var highlights = groupedByDate[accessionDate];\n        var aspectRatio = parseInt(accessionDate) > 2016 ? { width: 400, height: 300 } : { width: 400, height: 400 };\n\n        return React.createElement(\n          'div',\n          { className: 'grid_wrapper', key: accessionDate },\n          React.createElement(\n            'h3',\n            null,\n            accessionDate.split('-').slice(0, 2).reverse().join('/')\n          ),\n          highlights.filter(function (highlight) {\n            return highlight.image === 'valid';\n          }).map(function (highlight, index) {\n            return React.createElement(\n              'div',\n              { className: 'single_highlight' },\n              React.createElement(\n                Link,\n                { to: 'accessionHighlight', params: { id: highlight.id, slug: _Artwork.slug(highlight) } },\n                React.createElement(\n                  'div',\n                  { className: 'highlight_image' },\n                  React.createElement(\n                    'div',\n                    { className: 'highlight_content' },\n                    React.createElement(ArtworkImage, {\n                      art: highlight,\n                      ignoreStyle: false,\n                      style: { maxWidth: '111%', maxHeight: '111%' },\n                      containerStyle: { maxWidth: '100%', maxHeight: '100%', overflow: 'hidden' },\n                      lazyLoad: index > 1 // load the first 2 straight up and lazy load the rest\n                      , customImage: customImageFunction })\n                  )\n                )\n              )\n            );\n          })\n        );\n      })\n    );\n  },\n  render: function render() {\n    return React.createElement(\n      'div',\n      { className: 'new-to-mia' },\n      React.createElement(\n        'div',\n        { className: 'explore-section' },\n        React.createElement(\n          'h2',\n          null,\n          'Accession Highlights'\n        ),\n        this.accessionHighlightsGrid(),\n        React.createElement(\n          'h2',\n          { style: { paddingTop: '3em' } },\n          'All Recent Accessions'\n        ),\n        React.createElement(Peek, {\n          facet: 'recent',\n          q: 'true',\n          quiltProps: { maxRowHeight: 600 },\n          shuffleQuilt: true\n        })\n      ),\n      React.createElement(Helmet, { title: 'New to Mia - Acquisition Highlights' })\n    );\n  }\n});\n\nmodule.exports = RecentAccessions;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlY2VudC5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJSb3V0ZXIiLCJMaW5rIiwiSGVsbWV0IiwicmVzdCIsIlIiLCJTZWFyY2giLCJTRUFSQ0giLCJzZWFyY2giLCJBcnR3b3JrUHJldmlldyIsIkFydHdvcmtSZXN1bHQiLCJfQXJ0d29yayIsIlBlZWsiLCJNYXJrZG93biIsIkFydHdvcmtJbWFnZSIsIlJlY2VudEFjY2Vzc2lvbnMiLCJjcmVhdGVDbGFzcyIsInN0YXRpY3MiLCJmZXRjaERhdGEiLCJzZWFyY2hSZXN1bHRzIiwicGFyYW1zIiwicXVlcnkiLCJ0aGVuIiwiSlNPTiIsInBhcnNlIiwiciIsImVudGl0eSIsImFjY2Vzc2lvbkhpZ2hsaWdodHMiLCJhY2Nlc3Npb25IaWdobGlnaHRzR3JpZCIsInByb3BzIiwiZGF0YSIsInJlY2VudCIsImFydHdvcmtzIiwiaGl0cyIsIm1hcCIsImgiLCJfc291cmNlIiwiZmlsdGVyIiwiaW5kZXhPZiIsInBhcnNlSW50IiwiYXJ0IiwiaWQiLCJncm91cGVkQnlEYXRlIiwiZ3JvdXBCeSIsImFjY2Vzc2lvbk51bWJlclllYXIiLCJhY2Nlc3Npb25fbnVtYmVyIiwic3BsaXQiLCJhY2Nlc3Npb25EYXRlWWVhciIsImFjY2Vzc2lvbkRhdGUiLCJkYXRlIiwiY3VzdG9tSW1hZ2VGdW5jdGlvblN0YXRpYyIsImN1c3RvbUltYWdlRnVuY3Rpb25TbWFydENyb3AiLCJjdXN0b21Dcm9wcyIsInVybCIsImN1c3RvbUltYWdlRnVuY3Rpb24iLCJmaW5kIiwiaWlpZlVybCIsIm1hdGNoIiwiT2JqZWN0Iiwia2V5cyIsInJldmVyc2UiLCJoaWdobGlnaHRzIiwiYXNwZWN0UmF0aW8iLCJ3aWR0aCIsImhlaWdodCIsInNsaWNlIiwiam9pbiIsImhpZ2hsaWdodCIsImltYWdlIiwiaW5kZXgiLCJzbHVnIiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJvdmVyZmxvdyIsInJlbmRlciIsInBhZGRpbmdUb3AiLCJt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bUI2QixNQUFNM0QsU0FBUzJELElBQVQsQ0FBY0gsU0FBZCxDQUF6QixFQUF0QztBQUNFO0FBQUE7QUFBQSxvQkFBSyxXQUFVLGlCQUFmO0FBQ0U7QUFBQTtBQUFBLHNCQUFLLFdBQVUsbUJBQWY7QUFDRSx3Q0FBQyxZQUFEO0FBQ0UsMkJBQUtBLFNBRFA7QUFFRSxtQ0FBYSxLQUZmO0FBR0UsNkJBQU8sRUFBQ0ksVUFBVSxNQUFYLEVBQW1CQyxXQUFXLE1BQTlCLEVBSFQ7QUFJRSxzQ0FBZ0IsRUFBQ0QsVUFBVSxNQUFYLEVBQW1CQyxXQUFXLE1BQTlCLEVBQXNDQyxVQUFVLFFBQWhELEVBSmxCO0FBS0UsZ0NBQVVKLFFBQVEsQ0FMcEIsQ0FLdUI7QUFMdkIsd0JBTUUsYUFBYWYsbUJBTmY7QUFERjtBQURGO0FBREY7QUFESyxhQUFQO0FBZUQsV0FoQkE7QUFGSSxTQUFQO0FBb0JELE9BeEJBO0FBREksS0FBUDtBQTJCRCxHQXhGc0M7QUEwRnZDb0IsUUExRnVDLG9CQTBGOUI7QUFDUCxXQUFPO0FBQUE7QUFBQSxRQUFLLFdBQVUsWUFBZjtBQUNMO0FBQUE7QUFBQSxVQUFLLFdBQVUsaUJBQWY7QUFDRTtBQUFBO0FBQUE7QUFBQTtBQUFBLFNBREY7QUFFRyxhQUFLOUMsdUJBQUwsRUFGSDtBQUlFO0FBQUE7QUFBQSxZQUFJLE9BQU8sRUFBQytDLFlBQVksS0FBYixFQUFYO0FBQUE7QUFBQSxTQUpGO0FBS0UsNEJBQUMsSUFBRDtBQUNFLGlCQUFNLFFBRFI7QUFFRSxhQUFFLE1BRko7QUFHRSxzQkFBWSxFQUFDQyxjQUFjLEdBQWYsRUFIZDtBQUlFLHdCQUFjO0FBSmhCO0FBTEYsT0FESztBQWFMLDBCQUFDLE1BQUQsSUFBUSxPQUFNLHFDQUFkO0FBYkssS0FBUDtBQWVEO0FBMUdzQyxDQUFsQixDQUF2Qjs7QUE2R0FDLE9BQU9DLE9BQVAsR0FBaUIvRCxnQkFBakIiLCJmaWxlIjoicmVjZW50LmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciB7TGlua30gPSBSb3V0ZXJcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcbnZhciBSID0gcmVxdWlyZSgncmFtZGEnKVxuXG52YXIgU2VhcmNoID0gcmVxdWlyZSgnLi9zZWFyY2gnKVxudmFyIFNFQVJDSCA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJykuc2VhcmNoXG52YXIgQXJ0d29ya1ByZXZpZXcgPSByZXF1aXJlKCcuL2FydHdvcmstcHJldmlldycpXG52YXIgQXJ0d29ya1Jlc3VsdCA9IHJlcXVpcmUoJy4vYXJ0d29yay1yZXN1bHQnKVxudmFyIF9BcnR3b3JrID0gcmVxdWlyZSgnLi9fYXJ0d29yaycpXG52YXIgUGVlayA9IHJlcXVpcmUoJy4vcGVlaycpXG52YXIgTWFya2Rvd24gPSByZXF1aXJlKCcuL21hcmtkb3duJylcbnZhciBBcnR3b3JrSW1hZ2UgPSByZXF1aXJlKCcuL2FydHdvcmstaW1hZ2UnKVxuXG52YXIgUmVjZW50QWNjZXNzaW9ucyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgc3RhdGljczoge1xuICAgIGZldGNoRGF0YToge1xuICAgICAgc2VhcmNoUmVzdWx0czogKHBhcmFtcywgcXVlcnkpID0+IHJlc3QoYCR7U0VBUkNIfS9yZWNlbnQ6dHJ1ZWApXG4gICAgICAudGhlbihyID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpKSxcbiAgICAgIGFjY2Vzc2lvbkhpZ2hsaWdodHM6IChwYXJhbXMsIHF1ZXJ5KSA9PiByZXN0KGAke1NFQVJDSH0vYWNjZXNzaW9uSGlnaGxpZ2h0OnRydWU/c29ydD1hY2Nlc3Npb25EYXRlLWRlc2NgKVxuICAgICAgLnRoZW4ociA9PiBKU09OLnBhcnNlKHIuZW50aXR5KSksXG4gICAgfVxuICB9LFxuXG4gIGFjY2Vzc2lvbkhpZ2hsaWdodHNHcmlkKCkge1xuICAgIHZhciB7YWNjZXNzaW9uSGlnaGxpZ2h0cywgcmVjZW50fSA9IHRoaXMucHJvcHMuZGF0YVxuICAgIGNvbnN0IGFydHdvcmtzID0gYWNjZXNzaW9uSGlnaGxpZ2h0cy5oaXRzLmhpdHNcbiAgICAgIC5tYXAoaCA9PiBoLl9zb3VyY2UpXG4gICAgICAuZmlsdGVyKGFydCA9PiBbMTI3NjU4LCAxMjY5ODAsIDEyNjk4MiwgMTI2OTgzLCAxMjY5ODQsIDEyNzA1MywgMTI3MDU1XS5pbmRleE9mKHBhcnNlSW50KGFydC5pZCkpID09IC0xKVxuICAgIHZhciBncm91cGVkQnlEYXRlID0gUi5ncm91cEJ5KFxuICAgICAgaCA9PiB7XG4gICAgICAgIGNvbnN0IGFjY2Vzc2lvbk51bWJlclllYXIgPSBoLmFjY2Vzc2lvbl9udW1iZXIuc3BsaXQoJy4nKVswXVxuICAgICAgICAvLyBUaGlzIHdhcyBuZWVkZWQgdG8gZ3JvdXAgYWNjZXNzaW9ucyBieSBxdWFydGVyLCBidXQgd2UgYXJlIHVzaW5nIHllYXIgbm93IHNvIGZhbGwgYmFjayB0byB0aGUgYWNjZXNpb24gbnVtYmVyXG4gICAgICAgIGNvbnN0IGFjY2Vzc2lvbkRhdGVZZWFyID0gaC5hY2Nlc3Npb25EYXRlLnNwbGl0KCctJylbMF1cbiAgICAgICAgY29uc3QgZGF0ZSA9IGFjY2Vzc2lvbk51bWJlclllYXJcbiAgICAgICAgcmV0dXJuIGRhdGUgPT0gMjEwNyA/IDIwMTcgOiBkYXRlXG4gICAgICB9LFxuICAgICAgYXJ0d29ya3NcbiAgICApIC8vIHs8ZGF0ZT46IFs8aGlnaGxpZ2h0cz5dLCDigKZ9XG5cbiAgICB2YXIgY3VzdG9tSW1hZ2VGdW5jdGlvblN0YXRpYyA9IChpZCkgPT5cbiAgICAgIGBodHRwczovL2NvbGxlY3Rpb25zLmFydHNtaWEub3JnL19pbmZvL2FjY2Vzc2lvbl9oaWdobGlnaHRzLyR7aWR9LmpwZ2BcbiAgICB2YXIgY3VzdG9tSW1hZ2VGdW5jdGlvblNtYXJ0Q3JvcCA9IChpZCkgPT5cbiAgICAgIGBodHRwczovL2lpaWYuZHguYXJ0c21pYS5vcmcvLyR7aWR9LmpwZy8tMSwtMSw4MDAsODAwLzgwMCwvMC9kZWZhdWx0LmpwZ2BcbiAgICAvLyBjb21iaW5lICdzdGF0aWMnIGFuZCAnSUlJRiBzbWFydCBjcm9wJyB3aXRoIGN1c3RvbSBJSUlGIGhhbmQtY3JvcHNcbiAgICB2YXIgY3VzdG9tQ3JvcHMgPSBgXG4gICAgICBodHRwczovL2lpaWYuZHguYXJ0c21pYS5vcmcvMTI4Mzg2LmpwZy80NjcwLDQ5ODcsMjE0NywxODkwLzgwMCwvMC9kZWZhdWx0LmpwZ1xuICAgICAgaHR0cHM6Ly9paWlmLmR4LmFydHNtaWEub3JnLzEyOTcwMi5qcGcvMjY4NywyMDM5LDMxMTIsMzA4MC84MDAsLzAvZGVmYXVsdC5qcGdcbiAgICAgIGh0dHBzOi8vaWlpZi5keC5hcnRzbWlhLm9yZy8xMjgzNjAuanBnLzM0NDgsMTIwNiwxMzg5LDEyNzkvODAwLC8wL2RlZmF1bHQuanBnXG4gICAgICBodHRwczovL2lpaWYuZHguYXJ0c21pYS5vcmcvMTI4MzkwLmpwZy82MDQ3LDIyNDgsMTY3NSwxNjQxLzgwMCwvMC9kZWZhdWx0LmpwZ1xuICAgICAgaHR0cHM6Ly9paWlmLmR4LmFydHNtaWEub3JnLzEyODY4Mi5qcGcvMjkzNCwxMjU2LDExNTUsMTE4NC84MDAsLzAvZGVmYXVsdC5qcGdcbiAgICAgIGh0dHBzOi8vaWlpZi5keC5hcnRzbWlhLm9yZy8xMzAxMDkuanBnLzEyNDcsMzUxMiwyMzQwLDIyOTQvODAwLC8wL2RlZmF1bHQuanBnXG4gICAgICBodHRwczovL2lpaWYuZHguYXJ0c21pYS5vcmcvMTI4MDkxLmpwZy8xMjMwLDEyNDMsMjUzMiwyNTA2LzgwMCwvMC9kZWZhdWx0LmpwZ1xuICAgICAgaHR0cHM6Ly9paWlmLmR4LmFydHNtaWEub3JnLzEyODQzMC5qcGcvNTE5NSwzMjAxLDIzMjAsMjE1Ny84MDAsLzAvZGVmYXVsdC5qcGdcbiAgICAgIGh0dHBzOi8vaWlpZi5keC5hcnRzbWlhLm9yZy8xMjk3NTguanBnLzE0ODcsMTU1NCwyNzg3LDI1ODcvODAwLC8wL2RlZmF1bHQuanBnXG4gICAgICBodHRwczovL2lpaWYuZHguYXJ0c21pYS5vcmcvMTMxNzg2LmpwZy8xNzQxLDQ0NzQsMTc4MSwxNjk2LzgwMCwvMC9kZWZhdWx0LmpwZ1xuICAgICAgaHR0cHM6Ly9paWlmLmR4LmFydHNtaWEub3JnLzEzNjQxMC5qcGcvNTc1LDMzMyw3MzgsNzY4LzgwMCwvMC9kZWZhdWx0LmpwZ1xuICAgICAgaHR0cHM6Ly9paWlmLmR4LmFydHNtaWEub3JnLzEzMTMzNC5qcGcvMjcxOSwyMzkzLDE1MTksMTQ3NC84MDAsLzAvZGVmYXVsdC5qcGdcbiAgICAgIGh0dHBzOi8vaWlpZi5keC5hcnRzbWlhLm9yZy8xMzIxNzQuanBnLzIzOTksMjAxOSwxODM4LDE3MDYvODAwLC8wL2RlZmF1bHQuanBnXG4gICAgICBodHRwczovL2lpaWYuZHguYXJ0c21pYS5vcmcvMTM2MjIxLmpwZy80NDUsNjExOSwyNTI3LDIyNjQvODAwLC8wL2RlZmF1bHQuanBnXG4gICAgICBodHRwczovL2lpaWYuZHguYXJ0c21pYS5vcmcvMTMxNjQ2LmpwZy8yNjc1LDYzNSwzNjQ1LDM2MzQvODAwLC8wL2RlZmF1bHQuanBnXG4gICAgICBodHRwczovL2lpaWYuZHguYXJ0c21pYS5vcmcvMTM2MzkyLmpwZy8yNDI1LDU3NCwxMjc3LDExODYvODAwLC8wL2RlZmF1bHQuanBnXG4gICAgICBodHRwczovL2lpaWYuZHguYXJ0c21pYS5vcmcvMTMxMzMwLmpwZy8xODU0LDI3OSwzMDQ3LDMwNjQvODAwLC8wL2RlZmF1bHQuanBnXG4gICAgICBodHRwczovL2lpaWYuZHguYXJ0c21pYS5vcmcvMTI2ODg0LmpwZy85ODgsNjAxLDI3ODYsMjM3Ni84MDAsLzAvZGVmYXVsdC5qcGdcbiAgICAgIGh0dHBzOi8vaWlpZi5keC5hcnRzbWlhLm9yZy8xMjY4MTguanBnLzIyLDIwMCw1MzY3LDQ1NzcvODAwLC8wL2RlZmF1bHQuanBnXG4gICAgICBodHRwczovL2lpaWYuZHguYXJ0c21pYS5vcmcvMTI0NzgyLmpwZy81NjMsNjksNDM1NywzNzE2LzgwMCwvMC9kZWZhdWx0LmpwZ1xuICAgICAgaHR0cHM6Ly9paWlmLmR4LmFydHNtaWEub3JnLzEyMzkxNS5qcGcvNTYxLDU5MSwzOTgzLDMzOTYvODAwLC8wL2RlZmF1bHQuanBnXG4gICAgICBodHRwczovL2lpaWYuZHguYXJ0c21pYS5vcmcvMTIzMzM1LmpwZy84OTEsNTcsNDg4MSw0MTYyLzgwMCwvMC9kZWZhdWx0LmpwZ1xuICAgIGAuc3BsaXQoL1xccysvKS5maWx0ZXIodXJsID0+IHVybCAhPT0gJycpXG4gICAgLy8gSWYgYSBjdXN0b20gZGV0YWlsIFVSTCB3YXMgaW5jbHVkZWQgYWJvdmUsIHVzZSB0aGF0LlxuICAgIC8vIE90aGVyd2lzZSwgdHJ5IHRoZSBJSUlGIHNtYXJ0IGNyb3BcbiAgICB2YXIgY3VzdG9tSW1hZ2VGdW5jdGlvbiA9IChpZCkgPT4ge1xuICAgICAgcmV0dXJuIGN1c3RvbUNyb3BzLmZpbmQoaWlpZlVybCA9PiBpaWlmVXJsLm1hdGNoKGAke2lkfS5qcGdgKSkgfHwgY3VzdG9tSW1hZ2VGdW5jdGlvblNtYXJ0Q3JvcChpZClcbiAgICB9XG5cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIHtPYmplY3Qua2V5cyhncm91cGVkQnlEYXRlKS5yZXZlcnNlKCkubWFwKGFjY2Vzc2lvbkRhdGUgPT4ge1xuICAgICAgICB2YXIgaGlnaGxpZ2h0cyA9IGdyb3VwZWRCeURhdGVbYWNjZXNzaW9uRGF0ZV1cbiAgICAgICAgY29uc3QgYXNwZWN0UmF0aW8gPSBwYXJzZUludChhY2Nlc3Npb25EYXRlKSA+IDIwMTYgPyB7d2lkdGg6IDQwMCwgaGVpZ2h0OiAzMDB9IDoge3dpZHRoOiA0MDAsIGhlaWdodDogNDAwfVxuXG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImdyaWRfd3JhcHBlclwiIGtleT17YWNjZXNzaW9uRGF0ZX0+XG4gICAgICAgICAgPGgzPnthY2Nlc3Npb25EYXRlLnNwbGl0KCctJykuc2xpY2UoMCwgMikucmV2ZXJzZSgpLmpvaW4oJy8nKX08L2gzPlxuICAgICAgICAgIHtoaWdobGlnaHRzLmZpbHRlcihoaWdobGlnaHQgPT4gaGlnaGxpZ2h0LmltYWdlID09PSAndmFsaWQnKS5tYXAoKGhpZ2hsaWdodCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInNpbmdsZV9oaWdobGlnaHRcIj5cbiAgICAgICAgICAgICAgPExpbmsgdG89XCJhY2Nlc3Npb25IaWdobGlnaHRcIiBwYXJhbXM9e3tpZDogaGlnaGxpZ2h0LmlkLCBzbHVnOiBfQXJ0d29yay5zbHVnKGhpZ2hsaWdodCl9fT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhpZ2hsaWdodF9pbWFnZVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoaWdobGlnaHRfY29udGVudFwiPlxuICAgICAgICAgICAgICAgICAgICA8QXJ0d29ya0ltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgYXJ0PXtoaWdobGlnaHR9XG4gICAgICAgICAgICAgICAgICAgICAgaWdub3JlU3R5bGU9e2ZhbHNlfVxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7bWF4V2lkdGg6ICcxMTElJywgbWF4SGVpZ2h0OiAnMTExJSd9fVxuICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lclN0eWxlPXt7bWF4V2lkdGg6ICcxMDAlJywgbWF4SGVpZ2h0OiAnMTAwJScsIG92ZXJmbG93OiAnaGlkZGVuJ319XG4gICAgICAgICAgICAgICAgICAgICAgbGF6eUxvYWQ9e2luZGV4ID4gMX0gLy8gbG9hZCB0aGUgZmlyc3QgMiBzdHJhaWdodCB1cCBhbmQgbGF6eSBsb2FkIHRoZSByZXN0XG4gICAgICAgICAgICAgICAgICAgICAgY3VzdG9tSW1hZ2U9e2N1c3RvbUltYWdlRnVuY3Rpb259IC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgfSl9XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm5ldy10by1taWFcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXhwbG9yZS1zZWN0aW9uXCI+XG4gICAgICAgIDxoMj5BY2Nlc3Npb24gSGlnaGxpZ2h0czwvaDI+XG4gICAgICAgIHt0aGlzLmFjY2Vzc2lvbkhpZ2hsaWdodHNHcmlkKCl9XG5cbiAgICAgICAgPGgyIHN0eWxlPXt7cGFkZGluZ1RvcDogJzNlbSd9fT5BbGwgUmVjZW50IEFjY2Vzc2lvbnM8L2gyPlxuICAgICAgICA8UGVla1xuICAgICAgICAgIGZhY2V0PSdyZWNlbnQnXG4gICAgICAgICAgcT0ndHJ1ZSdcbiAgICAgICAgICBxdWlsdFByb3BzPXt7bWF4Um93SGVpZ2h0OiA2MDB9fVxuICAgICAgICAgIHNodWZmbGVRdWlsdD17dHJ1ZX1cbiAgICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8SGVsbWV0IHRpdGxlPVwiTmV3IHRvIE1pYSAtIEFjcXVpc2l0aW9uIEhpZ2hsaWdodHNcIiAvPlxuICAgIDwvZGl2PlxuICB9XG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlY2VudEFjY2Vzc2lvbnNcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "recent.js"
      ],
      "names": [
        "React",
        "require",
        "Router",
        "Link",
        "Helmet",
        "rest",
        "R",
        "Search",
        "SEARCH",
        "search",
        "ArtworkPreview",
        "ArtworkResult",
        "_Artwork",
        "Peek",
        "Markdown",
        "ArtworkImage",
        "RecentAccessions",
        "createClass",
        "statics",
        "fetchData",
        "searchResults",
        "params",
        "query",
        "then",
        "JSON",
        "parse",
        "r",
        "entity",
        "accessionHighlights",
        "accessionHighlightsGrid",
        "props",
        "data",
        "recent",
        "artworks",
        "hits",
        "map",
        "h",
        "_source",
        "filter",
        "indexOf",
        "parseInt",
        "art",
        "id",
        "groupedByDate",
        "groupBy",
        "accessionNumberYear",
        "accession_number",
        "split",
        "accessionDateYear",
        "accessionDate",
        "date",
        "customImageFunctionStatic",
        "customImageFunctionSmartCrop",
        "customCrops",
        "url",
        "customImageFunction",
        "find",
        "iiifUrl",
        "match",
        "Object",
        "keys",
        "reverse",
        "highlights",
        "aspectRatio",
        "width",
        "height",
        "slice",
        "join",
        "highlight",
        "image",
        "index",
        "slug",
        "maxWidth",
        "maxHeight",
        "overflow",
        "render",
        "paddingTop",
        "maxRowHeight",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "recent.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\nvar Helmet = require('react-helmet')\nvar rest = require('rest')\nvar R = require('ramda')\n\nvar Search = require('./search')\nvar SEARCH = require('./endpoints').search\nvar ArtworkPreview = require('./artwork-preview')\nvar ArtworkResult = require('./artwork-result')\nvar _Artwork = require('./_artwork')\nvar Peek = require('./peek')\nvar Markdown = require('./markdown')\nvar ArtworkImage = require('./artwork-image')\n\nvar RecentAccessions = React.createClass({\n  statics: {\n    fetchData: {\n      searchResults: (params, query) => rest(`${SEARCH}/recent:true`)\n      .then(r => JSON.parse(r.entity)),\n      accessionHighlights: (params, query) => rest(`${SEARCH}/accessionHighlight:true?sort=accessionDate-desc`)\n      .then(r => JSON.parse(r.entity)),\n    }\n  },\n\n  accessionHighlightsGrid() {\n    var {accessionHighlights, recent} = this.props.data\n    const artworks = accessionHighlights.hits.hits\n      .map(h => h._source)\n      .filter(art => [127658, 126980, 126982, 126983, 126984, 127053, 127055].indexOf(parseInt(art.id)) == -1)\n    var groupedByDate = R.groupBy(\n      h => {\n        const accessionNumberYear = h.accession_number.split('.')[0]\n        // This was needed to group accessions by quarter, but we are using year now so fall back to the accesion number\n        const accessionDateYear = h.accessionDate.split('-')[0]\n        const date = accessionNumberYear\n        return date == 2107 ? 2017 : date\n      },\n      artworks\n    ) // {<date>: [<highlights>], …}\n\n    var customImageFunctionStatic = (id) =>\n      `https://collections.artsmia.org/_info/accession_highlights/${id}.jpg`\n    var customImageFunctionSmartCrop = (id) =>\n      `https://iiif.dx.artsmia.org//${id}.jpg/-1,-1,800,800/800,/0/default.jpg`\n    // combine 'static' and 'IIIF smart crop' with custom IIIF hand-crops\n    var customCrops = `\n      https://iiif.dx.artsmia.org/128386.jpg/4670,4987,2147,1890/800,/0/default.jpg\n      https://iiif.dx.artsmia.org/129702.jpg/2687,2039,3112,3080/800,/0/default.jpg\n      https://iiif.dx.artsmia.org/128360.jpg/3448,1206,1389,1279/800,/0/default.jpg\n      https://iiif.dx.artsmia.org/128390.jpg/6047,2248,1675,1641/800,/0/default.jpg\n      https://iiif.dx.artsmia.org/128682.jpg/2934,1256,1155,1184/800,/0/default.jpg\n      https://iiif.dx.artsmia.org/130109.jpg/1247,3512,2340,2294/800,/0/default.jpg\n      https://iiif.dx.artsmia.org/128091.jpg/1230,1243,2532,2506/800,/0/default.jpg\n      https://iiif.dx.artsmia.org/128430.jpg/5195,3201,2320,2157/800,/0/default.jpg\n      https://iiif.dx.artsmia.org/129758.jpg/1487,1554,2787,2587/800,/0/default.jpg\n      https://iiif.dx.artsmia.org/131786.jpg/1741,4474,1781,1696/800,/0/default.jpg\n      https://iiif.dx.artsmia.org/136410.jpg/575,333,738,768/800,/0/default.jpg\n      https://iiif.dx.artsmia.org/131334.jpg/2719,2393,1519,1474/800,/0/default.jpg\n      https://iiif.dx.artsmia.org/132174.jpg/2399,2019,1838,1706/800,/0/default.jpg\n      https://iiif.dx.artsmia.org/136221.jpg/445,6119,2527,2264/800,/0/default.jpg\n      https://iiif.dx.artsmia.org/131646.jpg/2675,635,3645,3634/800,/0/default.jpg\n      https://iiif.dx.artsmia.org/136392.jpg/2425,574,1277,1186/800,/0/default.jpg\n      https://iiif.dx.artsmia.org/131330.jpg/1854,279,3047,3064/800,/0/default.jpg\n      https://iiif.dx.artsmia.org/126884.jpg/988,601,2786,2376/800,/0/default.jpg\n      https://iiif.dx.artsmia.org/126818.jpg/22,200,5367,4577/800,/0/default.jpg\n      https://iiif.dx.artsmia.org/124782.jpg/563,69,4357,3716/800,/0/default.jpg\n      https://iiif.dx.artsmia.org/123915.jpg/561,591,3983,3396/800,/0/default.jpg\n      https://iiif.dx.artsmia.org/123335.jpg/891,57,4881,4162/800,/0/default.jpg\n    `.split(/\\s+/).filter(url => url !== '')\n    // If a custom detail URL was included above, use that.\n    // Otherwise, try the IIIF smart crop\n    var customImageFunction = (id) => {\n      return customCrops.find(iiifUrl => iiifUrl.match(`${id}.jpg`)) || customImageFunctionSmartCrop(id)\n    }\n\n    return <div>\n      {Object.keys(groupedByDate).reverse().map(accessionDate => {\n        var highlights = groupedByDate[accessionDate]\n        const aspectRatio = parseInt(accessionDate) > 2016 ? {width: 400, height: 300} : {width: 400, height: 400}\n\n        return <div className=\"grid_wrapper\" key={accessionDate}>\n          <h3>{accessionDate.split('-').slice(0, 2).reverse().join('/')}</h3>\n          {highlights.filter(highlight => highlight.image === 'valid').map((highlight, index) => {\n            return <div className=\"single_highlight\">\n              <Link to=\"accessionHighlight\" params={{id: highlight.id, slug: _Artwork.slug(highlight)}}>\n                <div className=\"highlight_image\">\n                  <div className=\"highlight_content\">\n                    <ArtworkImage\n                      art={highlight}\n                      ignoreStyle={false}\n                      style={{maxWidth: '111%', maxHeight: '111%'}}\n                      containerStyle={{maxWidth: '100%', maxHeight: '100%', overflow: 'hidden'}}\n                      lazyLoad={index > 1} // load the first 2 straight up and lazy load the rest\n                      customImage={customImageFunction} />\n                  </div>\n                </div>\n              </Link>\n            </div>\n          })}\n        </div>\n      })}\n    </div>\n  },\n\n  render() {\n    return <div className=\"new-to-mia\">\n      <div className=\"explore-section\">\n        <h2>Accession Highlights</h2>\n        {this.accessionHighlightsGrid()}\n\n        <h2 style={{paddingTop: '3em'}}>All Recent Accessions</h2>\n        <Peek\n          facet='recent'\n          q='true'\n          quiltProps={{maxRowHeight: 600}}\n          shuffleQuilt={true}\n          />\n      </div>\n      <Helmet title=\"New to Mia - Acquisition Highlights\" />\n    </div>\n  }\n})\n\nmodule.exports = RecentAccessions\n"
      ]
    },
    "mtime": 1612393616752
  },
  "{\"filename\":\"/var/www/art/src/accession-highlight.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/accession-highlight.js",
      "filenameRelative": "/var/www/art/src/accession-highlight.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "accession-highlight.js",
      "sourceFileName": "accession-highlight.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "accession-highlight"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\n\nvar Artwork = require('./artwork');\nvar ArtworkPreview = require('./artwork-preview');\nvar Markdown = require('./markdown');\nvar ArtworkPageMetadata = require('./artwork/page-metadata');\n\nvar AccessionHighlight = React.createClass({\n  displayName: 'AccessionHighlight',\n\n  mixins: Artwork.mixins,\n  statics: {\n    fetchData: Artwork.fetchData,\n    willTransitionTo: function willTransitionTo(transition, params, query, callback) {\n      Artwork.checkRoute(params, function (err, art) {\n        if (!art.accessionHighlight) transition.redirect('artworkSlug', params);\n        if (err) transition.redirect('accessionHighlight', params);\n      }).then(callback);\n    }\n  },\n\n  render: function render() {\n    var art = this.props.data.artwork;\n\n    var accDate = new Date(art.accessionDate);\n    var accDateString = '' + accDate.getFullYear();\n    // There's a problem in the accession highlight content entry pipeline where curators\n    // wait a really long time to wrangle the entries into TMS, which results in them having\n    // the wrong accession year. Check `accDateString` against the artwork accession year, and if they\n    // don't match, hide the H2 that shows \"Accession Highlight\"\n    var hasCorrectAccessionDate = !!art.accession_number.match(accDateString);\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        Artwork,\n        _extends({}, this.props, { accessionHighlightView: true }),\n        React.createElement(\n          ArtworkPreview,\n          { art: art, showDuplicateDetails: true },\n          React.createElement(\n            'div',\n            { className: 'description', itemProp: 'description', style: { 'borderTop': '4px solid #232323', 'borderBottom': '4px solid #232323', 'padding': '4px 0', 'margin': '10px 0' } },\n            hasCorrectAccessionDate ? React.createElement(\n              'h2',\n              null,\n              accDateString,\n              ' Accession Highlight'\n            ) : React.createElement('span', { style: { display: 'inline-block' } }),\n            React.createElement(\n              Markdown,\n              null,\n              art.accessionHighlightText\n            )\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'back-button', style: { marginRight: '.5em' } },\n          React.createElement(\n            'a',\n            { href: '#', onClick: function onClick() {\n                return history.go(-1);\n              } },\n            React.createElement(\n              'i',\n              { className: 'material-icons' },\n              'arrow_back'\n            ),\n            ' back'\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'back-button' },\n          React.createElement(\n            Link,\n            { to: 'artworkSlug', params: { id: art.id, slug: art.slug } },\n            'view details ',\n            React.createElement(\n              'i',\n              { className: 'material-icons' },\n              'arrow_forward'\n            )\n          )\n        )\n      ),\n      React.createElement(ArtworkPageMetadata, { art: art, prependTitle: 'Accession Highlight: ' })\n    );\n  }\n});\n\nmodule.exports = AccessionHighlight;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY2Vzc2lvbi1oaWdobGlnaHQuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiUm91dGVyIiwiTGluayIsIkFydHdvcmsiLCJBcnR3b3JrUHJldmlldyIsIk1hcmtkb3duIiwiQXJ0d29ya1BhZ2VNZXRhZGF0YSIsIkFjY2Vzc2lvbkhpZ2hsaWdodCIsImNyZWF0ZUNsYXNzIiwibWl4aW5zIiwic3RhdGljcyIsImZldGNoRGF0YSIsIndpbGxUcmFuc2l0aW9uVG8iLCJ0cmFuc2l0aW9uIiwicGFyYW1zIiwicXVlcnkiLCJjYWxsYmFjayIsImNoZWNrUm91dGUiLCJlcnIiLCJhcnQiLCJhY2Nlc3Npb25IaWdobGlnaHQiLCJyZWRpcmVjdCIsInRoZW4iLCJyZW5kZXIiLCJwcm9wcyIsImRhdGEiLCJhcnR3b3JrIiwiYWNjRGF0ZSIsIkRhdGUiLCJhY2Nlc3Npb25EYXRlIiwiYWNjRGF0ZVN0cmluZyIsImdldEZ1bGxZZWFyIiwiaGFzQ29ycmVjdEFjY2Vzc2lvbkRhdGUiLCJhY2Nlc3Npb25fbnVtYmVyIiwibWF0Y2giLCJkaXNwbGF5IiwiYWNjZXNzaW9uSGlnaGxpZ2h0VGV4dCIsIm1hcmdpblJpZ2h0IiwiaGlzdG9yeSIsImdvIiwiaWQiLCJzbHVnIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQUlBLFFBQVFDLFFBQVEsT0FBUixDQUFaO0FBQ0EsSUFBSUMsU0FBU0QsUUFBUSxjQUFSLENBQWI7SUFDS0UsSSxHQUFRRCxNLENBQVJDLEk7OztBQUVMLElBQUlDLFVBQVVILFFBQVEsV0FBUixDQUFkO0FBQ0EsSUFBSUksaUJBQWlCSixRQUFRLG1CQUFSLENBQXJCO0FBQ0EsSUFBSUssV0FBV0wsUUFBUSxZQUFSLENBQWY7QUFDQSxJQUFJTSxzQkFBc0JOLFFBQVEseUJBQVIsQ0FBMUI7O0FBRUEsSUFBSU8scUJBQXFCUixNQUFNUyxXQUFOLENBQWtCO0FBQUE7O0FBQ3pDQyxVQUFRTixRQUFRTSxNQUR5QjtBQUV6Q0MsV0FBUztBQUNQQyxlQUFXUixRQUFRUSxTQURaO0FBRVBDLHNCQUFrQiwwQkFBQ0MsVUFBRCxFQUFhQyxNQUFiLEVBQXFCQyxLQUFyQixFQUE0QkMsUUFBNUIsRUFBeUM7QUFDekRiLGNBQVFjLFVBQVIsQ0FBbUJILE1BQW5CLEVBQTJCLFVBQUNJLEdBQUQsRUFBTUMsR0FBTixFQUFjO0FBQ3ZDLFlBQUcsQ0FBQ0EsSUFBSUMsa0JBQVIsRUFBNEJQLFdBQVdRLFFBQVgsQ0FBb0IsYUFBcEIsRUFBbUNQLE1BQW5DO0FBQzVCLFlBQUdJLEdBQUgsRUFBUUwsV0FBV1EsUUFBWCxDQUFvQixvQkFBcEIsRUFBMENQLE1BQTFDO0FBQ1QsT0FIRCxFQUlDUSxJQUpELENBSU1OLFFBSk47QUFLRDtBQVJNLEdBRmdDOztBQWF6Q08sUUFieUMsb0JBYWhDO0FBQUEsUUFDT0osR0FEUCxHQUNjLEtBQUtLLEtBQUwsQ0FBV0MsSUFEekIsQ0FDRkMsT0FERTs7QUFFUCxRQUFJQyxVQUFVLElBQUlDLElBQUosQ0FBU1QsSUFBSVUsYUFBYixDQUFkO0FBQ0EsUUFBSUMscUJBQW1CSCxRQUFRSSxXQUFSLEVBQXZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFJQywwQkFBMEIsQ0FBQyxDQUFDYixJQUFJYyxnQkFBSixDQUFxQkMsS0FBckIsQ0FBMkJKLGFBQTNCLENBQWhDOztBQUVBLFdBQU87QUFBQTtBQUFBO0FBQ0w7QUFBQyxlQUFEO0FBQUEscUJBQWEsS0FBS04sS0FBbEIsSUFBeUIsd0JBQXdCLElBQWpEO0FBQ0U7QUFBQyx3QkFBRDtBQUFBLFlBQWdCLEtBQUtMLEdBQXJCLEVBQTBCLHNCQUFzQixJQUFoRDtBQUNFO0FBQUE7QUFBQSxjQUFLLFdBQVUsYUFBZixFQUE2QixVQUFTLGFBQXRDLEVBQW9ELE9BQU8sRUFBQyxhQUFZLG1CQUFiLEVBQWtDLGdCQUFlLG1CQUFqRCxFQUFzRSxXQUFVLE9BQWhGLEVBQXlGLFVBQVMsUUFBbEcsRUFBM0Q7QUFDR2Esc0NBQTBCO0FBQUE7QUFBQTtBQUFLRiwyQkFBTDtBQUFBO0FBQUEsYUFBMUIsR0FBeUUsOEJBQU0sT0FBTyxFQUFDSyxTQUFTLGNBQVYsRUFBYixHQUQ1RTtBQUVFO0FBQUMsc0JBQUQ7QUFBQTtBQUFXaEIsa0JBQUlpQjtBQUFmO0FBRkY7QUFERixTQURGO0FBT0U7QUFBQTtBQUFBLFlBQUssV0FBVSxhQUFmLEVBQTZCLE9BQU8sRUFBQ0MsYUFBYSxNQUFkLEVBQXBDO0FBQTJEO0FBQUE7QUFBQSxjQUFHLE1BQUssR0FBUixFQUFZLFNBQVM7QUFBQSx1QkFBTUMsUUFBUUMsRUFBUixDQUFXLENBQUMsQ0FBWixDQUFOO0FBQUEsZUFBckI7QUFBMkM7QUFBQTtBQUFBLGdCQUFHLFdBQVUsZ0JBQWI7QUFBQTtBQUFBLGFBQTNDO0FBQUE7QUFBQTtBQUEzRCxTQVBGO0FBUUU7QUFBQTtBQUFBLFlBQUssV0FBVSxhQUFmO0FBQTZCO0FBQUMsZ0JBQUQ7QUFBQSxjQUFNLElBQUcsYUFBVCxFQUF1QixRQUFRLEVBQUNDLElBQUlyQixJQUFJcUIsRUFBVCxFQUFhQyxNQUFNdEIsSUFBSXNCLElBQXZCLEVBQS9CO0FBQUE7QUFBMEU7QUFBQTtBQUFBLGdCQUFHLFdBQVUsZ0JBQWI7QUFBQTtBQUFBO0FBQTFFO0FBQTdCO0FBUkYsT0FESztBQVlMLDBCQUFDLG1CQUFELElBQXFCLEtBQUt0QixHQUExQixFQUErQixjQUFjLHVCQUE3QztBQVpLLEtBQVA7QUFjRDtBQXJDd0MsQ0FBbEIsQ0FBekI7O0FBd0NBdUIsT0FBT0MsT0FBUCxHQUFpQnBDLGtCQUFqQiIsImZpbGUiOiJhY2Nlc3Npb24taGlnaGxpZ2h0LmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciB7TGlua30gPSBSb3V0ZXJcblxudmFyIEFydHdvcmsgPSByZXF1aXJlKCcuL2FydHdvcmsnKVxudmFyIEFydHdvcmtQcmV2aWV3ID0gcmVxdWlyZSgnLi9hcnR3b3JrLXByZXZpZXcnKVxudmFyIE1hcmtkb3duID0gcmVxdWlyZSgnLi9tYXJrZG93bicpXG52YXIgQXJ0d29ya1BhZ2VNZXRhZGF0YSA9IHJlcXVpcmUoJy4vYXJ0d29yay9wYWdlLW1ldGFkYXRhJylcblxudmFyIEFjY2Vzc2lvbkhpZ2hsaWdodCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgbWl4aW5zOiBBcnR3b3JrLm1peGlucyxcbiAgc3RhdGljczoge1xuICAgIGZldGNoRGF0YTogQXJ0d29yay5mZXRjaERhdGEsXG4gICAgd2lsbFRyYW5zaXRpb25UbzogKHRyYW5zaXRpb24sIHBhcmFtcywgcXVlcnksIGNhbGxiYWNrKSA9PiB7XG4gICAgICBBcnR3b3JrLmNoZWNrUm91dGUocGFyYW1zLCAoZXJyLCBhcnQpID0+IHtcbiAgICAgICAgaWYoIWFydC5hY2Nlc3Npb25IaWdobGlnaHQpIHRyYW5zaXRpb24ucmVkaXJlY3QoJ2FydHdvcmtTbHVnJywgcGFyYW1zKVxuICAgICAgICBpZihlcnIpIHRyYW5zaXRpb24ucmVkaXJlY3QoJ2FjY2Vzc2lvbkhpZ2hsaWdodCcsIHBhcmFtcylcbiAgICAgIH0pXG4gICAgICAudGhlbihjYWxsYmFjaylcbiAgICB9LFxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIge2FydHdvcms6IGFydH0gPSB0aGlzLnByb3BzLmRhdGFcbiAgICB2YXIgYWNjRGF0ZSA9IG5ldyBEYXRlKGFydC5hY2Nlc3Npb25EYXRlKVxuICAgIHZhciBhY2NEYXRlU3RyaW5nID0gYCR7YWNjRGF0ZS5nZXRGdWxsWWVhcigpfWBcbiAgICAvLyBUaGVyZSdzIGEgcHJvYmxlbSBpbiB0aGUgYWNjZXNzaW9uIGhpZ2hsaWdodCBjb250ZW50IGVudHJ5IHBpcGVsaW5lIHdoZXJlIGN1cmF0b3JzXG4gICAgLy8gd2FpdCBhIHJlYWxseSBsb25nIHRpbWUgdG8gd3JhbmdsZSB0aGUgZW50cmllcyBpbnRvIFRNUywgd2hpY2ggcmVzdWx0cyBpbiB0aGVtIGhhdmluZ1xuICAgIC8vIHRoZSB3cm9uZyBhY2Nlc3Npb24geWVhci4gQ2hlY2sgYGFjY0RhdGVTdHJpbmdgIGFnYWluc3QgdGhlIGFydHdvcmsgYWNjZXNzaW9uIHllYXIsIGFuZCBpZiB0aGV5XG4gICAgLy8gZG9uJ3QgbWF0Y2gsIGhpZGUgdGhlIEgyIHRoYXQgc2hvd3MgXCJBY2Nlc3Npb24gSGlnaGxpZ2h0XCJcbiAgICB2YXIgaGFzQ29ycmVjdEFjY2Vzc2lvbkRhdGUgPSAhIWFydC5hY2Nlc3Npb25fbnVtYmVyLm1hdGNoKGFjY0RhdGVTdHJpbmcpXG5cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIDxBcnR3b3JrIHsuLi50aGlzLnByb3BzfSBhY2Nlc3Npb25IaWdobGlnaHRWaWV3PXt0cnVlfT5cbiAgICAgICAgPEFydHdvcmtQcmV2aWV3IGFydD17YXJ0fSBzaG93RHVwbGljYXRlRGV0YWlscz17dHJ1ZX0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkZXNjcmlwdGlvblwiIGl0ZW1Qcm9wPVwiZGVzY3JpcHRpb25cIiBzdHlsZT17eydib3JkZXJUb3AnOic0cHggc29saWQgIzIzMjMyMycsICdib3JkZXJCb3R0b20nOic0cHggc29saWQgIzIzMjMyMycsICdwYWRkaW5nJzonNHB4IDAnLCAnbWFyZ2luJzonMTBweCAwJ319PlxuICAgICAgICAgICAge2hhc0NvcnJlY3RBY2Nlc3Npb25EYXRlID8gPGgyPnthY2NEYXRlU3RyaW5nfSBBY2Nlc3Npb24gSGlnaGxpZ2h0PC9oMj4gOiA8c3BhbiBzdHlsZT17e2Rpc3BsYXk6ICdpbmxpbmUtYmxvY2snfX0gLz59XG4gICAgICAgICAgICA8TWFya2Rvd24+e2FydC5hY2Nlc3Npb25IaWdobGlnaHRUZXh0fTwvTWFya2Rvd24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvQXJ0d29ya1ByZXZpZXc+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmFjay1idXR0b25cIiBzdHlsZT17e21hcmdpblJpZ2h0OiAnLjVlbSd9fT48YSBocmVmPVwiI1wiIG9uQ2xpY2s9eygpID0+IGhpc3RvcnkuZ28oLTEpfT48aSBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uc1wiPmFycm93X2JhY2s8L2k+IGJhY2s8L2E+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmFjay1idXR0b25cIj48TGluayB0bz1cImFydHdvcmtTbHVnXCIgcGFyYW1zPXt7aWQ6IGFydC5pZCwgc2x1ZzogYXJ0LnNsdWd9fT52aWV3IGRldGFpbHMgPGkgY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbnNcIj5hcnJvd19mb3J3YXJkPC9pPjwvTGluaz48L2Rpdj5cblxuICAgICAgPC9BcnR3b3JrPlxuICAgICAgPEFydHdvcmtQYWdlTWV0YWRhdGEgYXJ0PXthcnR9IHByZXBlbmRUaXRsZT17J0FjY2Vzc2lvbiBIaWdobGlnaHQ6ICd9IC8+XG4gICAgPC9kaXY+XG4gIH1cbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gQWNjZXNzaW9uSGlnaGxpZ2h0XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "accession-highlight.js"
      ],
      "names": [
        "React",
        "require",
        "Router",
        "Link",
        "Artwork",
        "ArtworkPreview",
        "Markdown",
        "ArtworkPageMetadata",
        "AccessionHighlight",
        "createClass",
        "mixins",
        "statics",
        "fetchData",
        "willTransitionTo",
        "transition",
        "params",
        "query",
        "callback",
        "checkRoute",
        "err",
        "art",
        "accessionHighlight",
        "redirect",
        "then",
        "render",
        "props",
        "data",
        "artwork",
        "accDate",
        "Date",
        "accessionDate",
        "accDateString",
        "getFullYear",
        "hasCorrectAccessionDate",
        "accession_number",
        "match",
        "display",
        "accessionHighlightText",
        "marginRight",
        "history",
        "go",
        "id",
        "slug",
        "module",
        "exports"
      ],
      "mappings": ";;;;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;AACA,IAAIC,SAASD,QAAQ,cAAR,CAAb;IACKE,I,GAAQD,M,CAARC,I;;;AAEL,IAAIC,UAAUH,QAAQ,WAAR,CAAd;AACA,IAAII,iBAAiBJ,QAAQ,mBAAR,CAArB;AACA,IAAIK,WAAWL,QAAQ,YAAR,CAAf;AACA,IAAIM,sBAAsBN,QAAQ,yBAAR,CAA1B;;AAEA,IAAIO,qBAAqBR,MAAMS,WAAN,CAAkB;AAAA;;AACzCC,UAAQN,QAAQM,MADyB;AAEzCC,WAAS;AACPC,eAAWR,QAAQQ,SADZ;AAEPC,sBAAkB,0BAACC,UAAD,EAAaC,MAAb,EAAqBC,KAArB,EAA4BC,QAA5B,EAAyC;AACzDb,cAAQc,UAAR,CAAmBH,MAAnB,EAA2B,UAACI,GAAD,EAAMC,GAAN,EAAc;AACvC,YAAG,CAACA,IAAIC,kBAAR,EAA4BP,WAAWQ,QAAX,CAAoB,aAApB,EAAmCP,MAAnC;AAC5B,YAAGI,GAAH,EAAQL,WAAWQ,QAAX,CAAoB,oBAApB,EAA0CP,MAA1C;AACT,OAHD,EAICQ,IAJD,CAIMN,QAJN;AAKD;AARM,GAFgC;;AAazCO,QAbyC,oBAahC;AAAA,QACOJ,GADP,GACc,KAAKK,KAAL,CAAWC,IADzB,CACFC,OADE;;AAEP,QAAIC,UAAU,IAAIC,IAAJ,CAAST,IAAIU,aAAb,CAAd;AACA,QAAIC,qBAAmBH,QAAQI,WAAR,EAAvB;AACA;AACA;AACA;AACA;AACA,QAAIC,0BAA0B,CAAC,CAACb,IAAIc,gBAAJ,CAAqBC,KAArB,CAA2BJ,aAA3B,CAAhC;;AAEA,WAAO;AAAA;AAAA;AACL;AAAC,eAAD;AAAA,qBAAa,KAAKN,KAAlB,IAAyB,wBAAwB,IAAjD;AACE;AAAC,wBAAD;AAAA,YAAgB,KAAKL,GAArB,EAA0B,sBAAsB,IAAhD;AACE;AAAA;AAAA,cAAK,WAAU,aAAf,EAA6B,UAAS,aAAtC,EAAoD,OAAO,EAAC,aAAY,mBAAb,EAAkC,gBAAe,mBAAjD,EAAsE,WAAU,OAAhF,EAAyF,UAAS,QAAlG,EAA3D;AACGa,sCAA0B;AAAA;AAAA;AAAKF,2BAAL;AAAA;AAAA,aAA1B,GAAyE,8BAAM,OAAO,EAACK,SAAS,cAAV,EAAb,GAD5E;AAEE;AAAC,sBAAD;AAAA;AAAWhB,kBAAIiB;AAAf;AAFF;AADF,SADF;AAOE;AAAA;AAAA,YAAK,WAAU,aAAf,EAA6B,OAAO,EAACC,aAAa,MAAd,EAApC;AAA2D;AAAA;AAAA,cAAG,MAAK,GAAR,EAAY,SAAS;AAAA,uBAAMC,QAAQC,EAAR,CAAW,CAAC,CAAZ,CAAN;AAAA,eAArB;AAA2C;AAAA;AAAA,gBAAG,WAAU,gBAAb;AAAA;AAAA,aAA3C;AAAA;AAAA;AAA3D,SAPF;AAQE;AAAA;AAAA,YAAK,WAAU,aAAf;AAA6B;AAAC,gBAAD;AAAA,cAAM,IAAG,aAAT,EAAuB,QAAQ,EAACC,IAAIrB,IAAIqB,EAAT,EAAaC,MAAMtB,IAAIsB,IAAvB,EAA/B;AAAA;AAA0E;AAAA;AAAA,gBAAG,WAAU,gBAAb;AAAA;AAAA;AAA1E;AAA7B;AARF,OADK;AAYL,0BAAC,mBAAD,IAAqB,KAAKtB,GAA1B,EAA+B,cAAc,uBAA7C;AAZK,KAAP;AAcD;AArCwC,CAAlB,CAAzB;;AAwCAuB,OAAOC,OAAP,GAAiBpC,kBAAjB",
      "file": "accession-highlight.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\n\nvar Artwork = require('./artwork')\nvar ArtworkPreview = require('./artwork-preview')\nvar Markdown = require('./markdown')\nvar ArtworkPageMetadata = require('./artwork/page-metadata')\n\nvar AccessionHighlight = React.createClass({\n  mixins: Artwork.mixins,\n  statics: {\n    fetchData: Artwork.fetchData,\n    willTransitionTo: (transition, params, query, callback) => {\n      Artwork.checkRoute(params, (err, art) => {\n        if(!art.accessionHighlight) transition.redirect('artworkSlug', params)\n        if(err) transition.redirect('accessionHighlight', params)\n      })\n      .then(callback)\n    },\n  },\n\n  render() {\n    var {artwork: art} = this.props.data\n    var accDate = new Date(art.accessionDate)\n    var accDateString = `${accDate.getFullYear()}`\n    // There's a problem in the accession highlight content entry pipeline where curators\n    // wait a really long time to wrangle the entries into TMS, which results in them having\n    // the wrong accession year. Check `accDateString` against the artwork accession year, and if they\n    // don't match, hide the H2 that shows \"Accession Highlight\"\n    var hasCorrectAccessionDate = !!art.accession_number.match(accDateString)\n\n    return <div>\n      <Artwork {...this.props} accessionHighlightView={true}>\n        <ArtworkPreview art={art} showDuplicateDetails={true}>\n          <div className=\"description\" itemProp=\"description\" style={{'borderTop':'4px solid #232323', 'borderBottom':'4px solid #232323', 'padding':'4px 0', 'margin':'10px 0'}}>\n            {hasCorrectAccessionDate ? <h2>{accDateString} Accession Highlight</h2> : <span style={{display: 'inline-block'}} />}\n            <Markdown>{art.accessionHighlightText}</Markdown>\n          </div>\n        </ArtworkPreview>\n        <div className=\"back-button\" style={{marginRight: '.5em'}}><a href=\"#\" onClick={() => history.go(-1)}><i className=\"material-icons\">arrow_back</i> back</a></div>\n        <div className=\"back-button\"><Link to=\"artworkSlug\" params={{id: art.id, slug: art.slug}}>view details <i className=\"material-icons\">arrow_forward</i></Link></div>\n\n      </Artwork>\n      <ArtworkPageMetadata art={art} prependTitle={'Accession Highlight: '} />\n    </div>\n  }\n})\n\nmodule.exports = AccessionHighlight\n"
      ]
    },
    "mtime": 1614714526904
  },
  "{\"filename\":\"/var/www/art/src/survey.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "extends",
        "objectWithoutProperties",
        "defineProperty"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/survey.js",
      "filenameRelative": "/var/www/art/src/survey.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "survey.js",
      "sourceFileName": "survey.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "survey"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\nvar Router = require('react-router');\nvar rest = require('rest');\n\nvar RandomArtwork = require('./random-artwork');\nvar ArtworkPreview = require('./artwork-preview');\nvar SEARCH = require('./endpoints').search;\nvar restWithCorsCookies = require('./rest-with-cookies');\n\n// Example:\n//\n// var ArtworkCard = (props) => {\n//   return <div>\n//     <ArtworkPreview {...props}>\n//       <a href=\"#\" onClick={props.changeArtwork} value=\"Next!\">Next!</a>\n//     </ArtworkPreview>\n//   </div>\n// }\n\n// var RandomArtworkCard = RandomArtwork(ArtworkCard, 'room:G3* image:valid public_access:1')\n\nvar VotingBooth = React.createClass({\n  displayName: 'VotingBooth',\n  render: function render() {\n    var linkStyle = { margin: '0.25em', display: 'inline-block' };\n    var votingActions = React.createElement(\n      'div',\n      { style: { margin: '1em' } },\n      React.createElement(\n        'a',\n        { href: '#', style: linkStyle, onClick: this.vote.bind(this, 'like') },\n        '\\u2191 I like this'\n      ),\n      React.createElement(\n        'a',\n        { href: '#', style: linkStyle, onClick: this.vote.bind(this, 'dislike') },\n        '\\u2193 I don\\'t like this'\n      ),\n      React.createElement(\n        'a',\n        { href: '#', style: linkStyle, onClick: this.next },\n        '\\u2192 skip'\n      )\n    );\n\n    return React.createElement(\n      'div',\n      { style: this.props.style },\n      votingActions,\n      React.createElement(\n        ArtworkPreview,\n        _extends({}, this.props, { showPeeks: false }),\n        votingActions\n      )\n    );\n  },\n  vote: function vote(direction) {\n    var id = this.props.art.id;\n\n    restWithCorsCookies(SEARCH + '/survey/art/' + id + '/' + direction).then(this.props.incrementProgress).then(this.next);\n  },\n  next: function next() {\n    this.props.changeArtwork();\n  }\n});\n\nvar VoteForRandomArtworkCard = RandomArtwork(VotingBooth, {\n  searchQuery: 'room:G* image:valid public_access:1',\n  preloadNext: true\n});\n\nvar ArtworkSurvey = React.createClass({\n  displayName: 'ArtworkSurvey',\n  render: function render() {\n    var thanksMessage = React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'p',\n        null,\n        'Thanks for helping Mia visitors make new connections to diverse artworks.'\n      ),\n      React.createElement(\n        'p',\n        null,\n        React.createElement(\n          'a',\n          { href: '#', onClick: this.incrementProgress },\n          'Feel free to keep at it'\n        ),\n        ', but you\\u2019ve succeeded in giving us enough data to influence our algorithm.'\n      ),\n      React.createElement(\n        'a',\n        { href: '#', onClick: this.incrementProgress },\n        'Keep going'\n      )\n    );\n\n    var sessionProgress = this.state.sessionProgress;\n\n    return React.createElement(\n      'div',\n      { style: { margin: '1em' } },\n      sessionProgress == 11 ? thanksMessage : React.createElement(VoteForRandomArtworkCard, { incrementProgress: this.incrementProgress })\n    );\n  },\n  componentDidMount: function componentDidMount() {\n    restWithCorsCookies(SEARCH + '/survey/getUser');\n    this.props.toggleAppHeader();\n  },\n  getInitialState: function getInitialState() {\n    return {\n      sessionProgress: 0 // number of votes this session\n    };\n  },\n  incrementProgress: function incrementProgress() {\n    this.setState({ sessionProgress: this.state.sessionProgress + 1 });\n  }\n});\n\nvar VisitorSurvey = React.createClass({\n  displayName: 'VisitorSurvey',\n  componentDidMount: function componentDidMount() {\n    var _this = this;\n\n    this.refs.startButton && this.refs.startButton.focus();\n    try {\n      this.props.toggleAppHeader();\n    } catch (e) {}\n\n    window.serverRendered || restWithCorsCookies(SEARCH + '/survey/getUserData').then(function (result) {\n      var info = JSON.parse(result.entity);\n\n      var _ref = info.data || {},\n          completed = _ref.completed,\n          rejected = _ref.rejected,\n          accepted = _ref.accepted,\n          answers = _objectWithoutProperties(_ref, ['completed', 'rejected', 'accepted']);\n\n      var hidePopup = completed || rejected;\n\n      console.info('VS cDM', { hidePopup: hidePopup });\n\n      if (hidePopup) {\n        _this.setState({ hidePopup: hidePopup });\n      } else {\n        _this.setState({ answers: answers, completed: completed, rejected: rejected, accepted: accepted, hidePopup: hidePopup });\n        _this.openSurvey();\n\n        if (accepted && !completed) {\n          window.parent.postMessage('expand', '*');\n          _this.props.expand && _this.props.expand();\n        }\n      }\n    });\n  },\n  getInitialState: function getInitialState() {\n    return {\n      questions: [{\n        q: \"What are you here to look for? I am…\",\n        id: 'porpoise',\n        answers: [\"preparing for a visit.\", \"looking for detailed information on a specific artwork at Mia.\", \"looking for more information about an artist or type of art.\", \"just exploring because I like art.\"]\n      }, {\n        q: \"I am on a...\",\n        id: 'device',\n        answers: [\"mobile device or tablet.\", \"laptop/desktop computer.\"]\n      }, {\n        q: \"I got here from…\",\n        id: 'source',\n        answers: [\"Mia’s homepage.\", \"a post from social media.\", \"a search engine.\"]\n      }]\n    };\n  },\n  render: function render() {\n    var _state = this.state,\n        completed = _state.completed,\n        accepted = _state.accepted,\n        hidePopup = _state.hidePopup,\n        answers = _state.answers;\n\n    if (!answers) return null;\n\n    return React.createElement(\n      'section',\n      { style: { padding: '1em 2.5em 0 2.5em' } },\n      this.state.completed ? this.surveyThanks() : this.state.accepted ? this.buildQuizTree() : this.surveyWelcome()\n    );\n  },\n  stringQuiz: function stringQuiz() {\n    return this.state.questions.map(function (q) {\n      return q.q + '\\n' + q.answers.map(function (a) {\n        return '* ' + a;\n      }).join(\"\\n\");\n    }).join(\"\\n\\n\");\n  },\n  surveyWelcome: function surveyWelcome() {\n    return React.createElement(\n      'section',\n      { style: { margin: '0.5em' } },\n      React.createElement(\n        'h2',\n        null,\n        React.createElement(\n          'strong',\n          null,\n          'Hi'\n        ),\n        ', we\\'re glad you are here.'\n      ),\n      React.createElement('hr', null),\n      React.createElement(\n        'p',\n        { style: { marginTop: '1em' } },\n        'Would you be able to answer three quick questions to help us improve your experience?'\n      ),\n      React.createElement(\n        'p',\n        { style: { marginTop: '1em' } },\n        React.createElement(\n          'button',\n          { tabIndex: '0', onClick: this.beginSurvey, style: this.buttonStyle(), ref: 'startButton' },\n          'Yes'\n        )\n      ),\n      React.createElement(\n        'p',\n        { style: { marginTop: '0.5em' } },\n        React.createElement(\n          'a',\n          { tabIndex: '0', onClick: this.cancelSurvey },\n          'No thanks.'\n        )\n      )\n    );\n  },\n  beginSurvey: function beginSurvey() {\n    this.setState({ accepted: new Date() });\n    window.parent.postMessage('expand', '*');\n    this.props.expand && this.props.expand();\n  },\n  openSurvey: function openSurvey() {\n    window.parent.postMessage('open', '*');\n    this.props.onOpen && this.props.onOpen();\n  },\n  cancelSurvey: function cancelSurvey() {\n    var _this2 = this;\n\n    this.setState({ rejected: new Date() });\n    setTimeout(function () {\n      window.parent.postMessage('cancel', '*');\n      _this2.props.onClose && _this2.props.onClose();\n    }, 500);\n  },\n  completeSurvey: function completeSurvey() {\n    var _this3 = this;\n\n    var delay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n    setTimeout(function () {\n      window.parent.postMessage('complete', '*');\n      _this3.props.onClose && _this3.props.onClose();\n    }, delay);\n\n    window.parent.postMessage('contract', '*');\n    this.props.contract && this.props.contract();\n    this.setState({ completed: new Date() });\n  },\n  buttonStyle: function buttonStyle() {\n    var disabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    return _extends({\n      backgroundColor: '#232323',\n      padding: '0.75em 1em 0.5em 1em',\n      fontSize: '1em',\n      marginTop: '1em',\n      borderRadius: 13\n    }, disabled ? { opacity: '0.3' } : {});\n  },\n  surveyThanks: function surveyThanks() {\n    return React.createElement(\n      'section',\n      null,\n      React.createElement(\n        'h2',\n        null,\n        'Thank you'\n      ),\n      React.createElement('hr', null),\n      React.createElement(\n        'p',\n        { style: { marginTop: '1em' } },\n        'Your candid feedback will help us improve how people experience our website.'\n      ),\n      React.createElement(\n        'p',\n        null,\n        React.createElement(\n          'button',\n          { onClick: this.completeSurvey, style: this.buttonStyle() },\n          'Close'\n        )\n      )\n    );\n  },\n  buildQuizTree: function buildQuizTree() {\n    var _this4 = this;\n\n    var answers = this.state.answers;\n\n    var disableSubmit = answers && Object.values(answers).length < 3;\n\n    return React.createElement(\n      'div',\n      null,\n      this.state.questions.map(function (q) {\n        return React.createElement(\n          'div',\n          { style: { display: 'block', marginBottom: '1em' } },\n          React.createElement(\n            'p',\n            { style: { fontWeight: 'bold' } },\n            q.q\n          ),\n          q.answers.map(function (a) {\n            var isChosen = !!answers && a === answers[q.id];\n\n            return React.createElement(\n              'label',\n              { style: { display: 'block' } },\n              React.createElement('input', { type: 'radio', name: q.id, onChange: _this4.selectionMade, tabIndex: '0', checked: isChosen }),\n              a\n            );\n          })\n        );\n      }),\n      React.createElement(\n        'button',\n        {\n          style: this.buttonStyle(disableSubmit),\n          onClick: function onClick() {\n            return _this4.completeSurvey(9000);\n          },\n          disabled: disableSubmit\n        },\n        'Submit'\n      )\n    );\n  },\n  selectionMade: function selectionMade(event) {\n    this.setState({\n      answers: _extends({}, this.state.answers || {}, _defineProperty({}, event.target.name, event.target.labels[0].textContent))\n    });\n  },\n  componentDidUpdate: function componentDidUpdate(prevProps, prevState) {\n    var _state2 = this.state,\n        answers = _state2.answers,\n        accepted = _state2.accepted,\n        completed = _state2.completed,\n        rejected = _state2.rejected;\n\n\n    if (answers !== prevState.answers || accepted !== prevState.accepted || completed !== prevState.completed || rejected !== prevState.rejected) {\n      var data = _extends({}, answers, {\n        accepted: accepted,\n        completed: completed,\n        rejected: rejected\n      });\n\n      console.info('posting', data);\n      restWithCorsCookies(SEARCH + '/survey/redesign?data=' + JSON.stringify(data)).then(function (result) {\n        console.info('posting data', data);\n      });\n    }\n  }\n});\n\n/** TODO\n *\n * paramaterize survey rendering so we can have different surveys!\n */\nvar Survey = React.createClass({\n  displayName: 'Survey',\n  render: function render() {\n    var surveyId = this.props.params.surveyId;\n\n\n    if (surveyId && surveyId == '2019-visitor-quiz' || surveyId === '2019-survey') {\n      return React.createElement(VisitorSurvey, this.props);\n    }\n\n    return React.createElement(ArtworkSurvey, this.props);\n  }\n});\n\nmodule.exports = Survey;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN1cnZleS5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJSZWFjdERPTSIsIlJvdXRlciIsInJlc3QiLCJSYW5kb21BcnR3b3JrIiwiQXJ0d29ya1ByZXZpZXciLCJTRUFSQ0giLCJzZWFyY2giLCJyZXN0V2l0aENvcnNDb29raWVzIiwiVm90aW5nQm9vdGgiLCJjcmVhdGVDbGFzcyIsInJlbmRlciIsImxpbmtTdHlsZSIsIm1hcmdpbiIsImRpc3BsYXkiLCJ2b3RpbmdBY3Rpb25zIiwidm90ZSIsImJpbmQiLCJuZXh0IiwicHJvcHMiLCJzdHlsZSIsImRpcmVjdGlvbiIsImlkIiwiYXJ0IiwidGhlbiIsImluY3JlbWVudFByb2dyZXNzIiwiY2hhbmdlQXJ0d29yayIsIlZvdGVGb3JSYW5kb21BcnR3b3JrQ2FyZCIsInNlYXJjaFF1ZXJ5IiwicHJlbG9hZE5leHQiLCJBcnR3b3JrU3VydmV5IiwidGhhbmtzTWVzc2FnZSIsInNlc3Npb25Qcm9ncmVzcyIsInN0YXRlIiwiY29tcG9uZW50RGlkTW91bnQiLCJ0b2dnbGVBcHBIZWFkZXIiLCJnZXRJbml0aWFsU3RhdGUiLCJzZXRTdGF0ZSIsIlZpc2l0b3JTdXJ2ZXkiLCJyZWZzIiwic3RhcnRCdXR0b24iLCJmb2N1cyIsImUiLCJ3aW5kb3ciLCJzZXJ2ZXJSZW5kZXJlZCIsImluZm8iLCJKU09OIiwicGFyc2UiLCJyZXN1bHQiLCJlbnRpdHkiLCJkYXRhIiwiY29tcGxldGVkIiwicmVqZWN0ZWQiLCJhY2NlcHRlZCIsImFuc3dlcnMiLCJoaWRlUG9wdXAiLCJjb25zb2xlIiwib3BlblN1cnZleSIsInBhcmVudCIsInBvc3RNZXNzYWdlIiwiZXhwYW5kIiwicXVlc3Rpb25zIiwicSIsInBhZGRpbmciLCJzdXJ2ZXlUaGFua3MiLCJidWlsZFF1aXpUcmVlIiwic3VydmV5V2VsY29tZSIsInN0cmluZ1F1aXoiLCJtYXAiLCJhIiwiam9pbiIsIm1hcmdpblRvcCIsImJlZ2luU3VydmV5IiwiYnV0dG9uU3R5bGUiLCJjYW5jZWxTdXJ2ZXkiLCJEYXRlIiwib25PcGVuIiwic2V0VGltZW91dCIsIm9uQ2xvc2UiLCJjb21wbGV0ZVN1cnZleSIsImRlbGF5IiwiY29udHJhY3QiLCJkaXNhYmxlZCIsImJhY2tncm91bmRDb2xvciIsImZvbnRTaXplIiwiYm9yZGVyUmFkaXVzIiwib3BhY2l0eSIsImRpc2FibGVTdWJtaXQiLCJPYmplY3QiLCJ2YWx1ZXMiLCJsZW5ndGgiLCJtYXJnaW5Cb3R0b20iLCJmb250V2VpZ2h0IiwiaXNDaG9zZW4iLCJzZWxlY3Rpb25NYWRlIiwiZXZlbnQiLCJ0YXJnZXQiLCJuYW1lIiwibGFiZWxzIiwidGV4dENvbnRlbnQiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwcmV2UHJvcHMiLCJwcmV2U3RhdGUiLCJzdHJpbmdpZnkiLCJTdXJ2ZXkiLCJzdXJ2ZXlJZCIsInBhcmFtcyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7QUFDQSxJQUFJQyxXQUFXRCxRQUFRLFdBQVIsQ0FBZjtBQUNBLElBQUlFLFNBQVNGLFFBQVEsY0FBUixDQUFiO0FBQ0EsSUFBSUcsT0FBT0gsUUFBUSxNQUFSLENBQVg7O0FBRUEsSUFBSUksZ0JBQWdCSixRQUFRLGtCQUFSLENBQXBCO0FBQ0EsSUFBSUssaUJBQWlCTCxRQUFRLG1CQUFSLENBQXJCO0FBQ0EsSUFBSU0sU0FBU04sUUFBUSxhQUFSLEVBQXVCTyxNQUFwQztBQUNBLElBQUlDLHNCQUFzQlIsUUFBUSxxQkFBUixDQUExQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsSUFBSVMsY0FBY1YsTUFBTVcsV0FBTixDQUFrQjtBQUFBO0FBQ2xDQyxRQURrQyxvQkFDekI7QUFDUCxRQUFJQyxZQUFZLEVBQUNDLFFBQVEsUUFBVCxFQUFtQkMsU0FBUyxjQUE1QixFQUFoQjtBQUNBLFFBQUlDLGdCQUFnQjtBQUFB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MUIsSUFBOUUsQ0FBbUYsVUFBQ3dCLE1BQUQsRUFBWTtBQUM3RlEsZ0JBQVFYLElBQVIsQ0FBYSxjQUFiLEVBQTZCSyxJQUE3QjtBQUNELE9BRkQ7QUFHRDtBQUNGO0FBbE1tQyxDQUFsQixDQUFwQjs7QUFxTUE7Ozs7QUFJQSxJQUFJc0QsU0FBU3pHLE1BQU1XLFdBQU4sQ0FBa0I7QUFBQTtBQUM3QkMsUUFENkIsb0JBQ3BCO0FBQUEsUUFDQzhGLFFBREQsR0FDYyxLQUFLdEYsS0FBTCxDQUFXdUYsTUFEekIsQ0FDQ0QsUUFERDs7O0FBR1AsUUFBR0EsWUFBWUEsWUFBWSxtQkFBeEIsSUFBK0NBLGFBQWEsYUFBL0QsRUFBOEU7QUFDNUUsYUFBTyxvQkFBQyxhQUFELEVBQW1CLEtBQUt0RixLQUF4QixDQUFQO0FBQ0Q7O0FBRUQsV0FBTyxvQkFBQyxhQUFELEVBQW1CLEtBQUtBLEtBQXhCLENBQVA7QUFDRDtBQVQ0QixDQUFsQixDQUFiOztBQVlBd0YsT0FBT0MsT0FBUCxHQUFpQkosTUFBakIiLCJmaWxlIjoic3VydmV5LmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUmVhY3RET00gPSByZXF1aXJlKCdyZWFjdC1kb20nKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxuXG52YXIgUmFuZG9tQXJ0d29yayA9IHJlcXVpcmUoJy4vcmFuZG9tLWFydHdvcmsnKVxudmFyIEFydHdvcmtQcmV2aWV3ID0gcmVxdWlyZSgnLi9hcnR3b3JrLXByZXZpZXcnKVxudmFyIFNFQVJDSCA9IHJlcXVpcmUoJy4vZW5kcG9pbnRzJykuc2VhcmNoXG52YXIgcmVzdFdpdGhDb3JzQ29va2llcyA9IHJlcXVpcmUoJy4vcmVzdC13aXRoLWNvb2tpZXMnKVxuXG4vLyBFeGFtcGxlOlxuLy9cbi8vIHZhciBBcnR3b3JrQ2FyZCA9IChwcm9wcykgPT4ge1xuLy8gICByZXR1cm4gPGRpdj5cbi8vICAgICA8QXJ0d29ya1ByZXZpZXcgey4uLnByb3BzfT5cbi8vICAgICAgIDxhIGhyZWY9XCIjXCIgb25DbGljaz17cHJvcHMuY2hhbmdlQXJ0d29ya30gdmFsdWU9XCJOZXh0IVwiPk5leHQhPC9hPlxuLy8gICAgIDwvQXJ0d29ya1ByZXZpZXc+XG4vLyAgIDwvZGl2PlxuLy8gfVxuXG4vLyB2YXIgUmFuZG9tQXJ0d29ya0NhcmQgPSBSYW5kb21BcnR3b3JrKEFydHdvcmtDYXJkLCAncm9vbTpHMyogaW1hZ2U6dmFsaWQgcHVibGljX2FjY2VzczoxJylcblxudmFyIFZvdGluZ0Jvb3RoID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXIoKSB7XG4gICAgdmFyIGxpbmtTdHlsZSA9IHttYXJnaW46ICcwLjI1ZW0nLCBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJ31cbiAgICB2YXIgdm90aW5nQWN0aW9ucyA9IDxkaXYgc3R5bGU9e3ttYXJnaW46ICcxZW0nfX0+XG4gICAgICA8YSBocmVmPVwiI1wiIHN0eWxlPXtsaW5rU3R5bGV9IG9uQ2xpY2s9e3RoaXMudm90ZS5iaW5kKHRoaXMsICdsaWtlJyl9PiZ1YXJyOyBJIGxpa2UgdGhpczwvYT5cbiAgICAgIDxhIGhyZWY9XCIjXCIgc3R5bGU9e2xpbmtTdHlsZX0gb25DbGljaz17dGhpcy52b3RlLmJpbmQodGhpcywgJ2Rpc2xpa2UnKX0+JmRhcnI7IEkgZG9uJ3QgbGlrZSB0aGlzPC9hPlxuICAgICAgPGEgaHJlZj1cIiNcIiBzdHlsZT17bGlua1N0eWxlfSBvbkNsaWNrPXt0aGlzLm5leHR9PiZyYXJyOyBza2lwPC9hPlxuICAgIDwvZGl2PlxuXG4gICAgcmV0dXJuIDxkaXYgc3R5bGU9e3RoaXMucHJvcHMuc3R5bGV9PlxuICAgICAge3ZvdGluZ0FjdGlvbnN9XG4gICAgICA8QXJ0d29ya1ByZXZpZXcgey4uLnRoaXMucHJvcHN9IHNob3dQZWVrcz17ZmFsc2V9PlxuICAgICAgICB7dm90aW5nQWN0aW9uc31cbiAgICAgIDwvQXJ0d29ya1ByZXZpZXc+XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgdm90ZShkaXJlY3Rpb24pIHtcbiAgICB2YXIge2lkfSA9IHRoaXMucHJvcHMuYXJ0XG4gICAgcmVzdFdpdGhDb3JzQ29va2llcyhgJHtTRUFSQ0h9L3N1cnZleS9hcnQvJHtpZH0vJHtkaXJlY3Rpb259YClcbiAgICAgIC50aGVuKHRoaXMucHJvcHMuaW5jcmVtZW50UHJvZ3Jlc3MpXG4gICAgICAudGhlbih0aGlzLm5leHQpXG4gIH0sXG5cbiAgbmV4dCgpIHtcbiAgICB0aGlzLnByb3BzLmNoYW5nZUFydHdvcmsoKVxuICB9LFxufSlcblxudmFyIFZvdGVGb3JSYW5kb21BcnR3b3JrQ2FyZCA9IFJhbmRvbUFydHdvcmsoVm90aW5nQm9vdGgsIHtcbiAgc2VhcmNoUXVlcnk6ICdyb29tOkcqIGltYWdlOnZhbGlkIHB1YmxpY19hY2Nlc3M6MScsXG4gIHByZWxvYWROZXh0OiB0cnVlLFxufSlcblxudmFyIEFydHdvcmtTdXJ2ZXkgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICB2YXIgdGhhbmtzTWVzc2FnZSA9IDxkaXY+XG4gICAgICA8cD5cbiAgICAgICAgVGhhbmtzIGZvciBoZWxwaW5nIE1pYSB2aXNpdG9ycyBtYWtlIG5ldyBjb25uZWN0aW9ucyB0byBkaXZlcnNlIGFydHdvcmtzLlxuICAgICAgPC9wPlxuICAgICAgPHA+XG4gICAgICAgIDxhIGhyZWY9XCIjXCIgb25DbGljaz17dGhpcy5pbmNyZW1lbnRQcm9ncmVzc30+RmVlbCBmcmVlIHRvIGtlZXAgYXQgaXQ8L2E+XG4gICAgICAgICwgYnV0IHlvdeKAmXZlIHN1Y2NlZWRlZCBpbiBnaXZpbmcgdXMgZW5vdWdoIGRhdGEgdG8gaW5mbHVlbmNlIG91ciBhbGdvcml0aG0uXG4gICAgICA8L3A+XG5cbiAgICAgIDxhIGhyZWY9XCIjXCIgb25DbGljaz17dGhpcy5pbmNyZW1lbnRQcm9ncmVzc30+S2VlcCBnb2luZzwvYT5cbiAgICA8L2Rpdj5cblxuICAgIHZhciBzZXNzaW9uUHJvZ3Jlc3MgPSB0aGlzLnN0YXRlLnNlc3Npb25Qcm9ncmVzc1xuXG4gICAgcmV0dXJuIDxkaXYgc3R5bGU9e3ttYXJnaW46ICcxZW0nfX0+XG4gICAgICB7c2Vzc2lvblByb2dyZXNzID09IDExID9cbiAgICAgICAgdGhhbmtzTWVzc2FnZSA6XG4gICAgICAgIDxWb3RlRm9yUmFuZG9tQXJ0d29ya0NhcmQgaW5jcmVtZW50UHJvZ3Jlc3M9e3RoaXMuaW5jcmVtZW50UHJvZ3Jlc3N9IC8+XG4gICAgICB9XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgcmVzdFdpdGhDb3JzQ29va2llcyhgJHtTRUFSQ0h9L3N1cnZleS9nZXRVc2VyYClcbiAgICB0aGlzLnByb3BzLnRvZ2dsZUFwcEhlYWRlcigpXG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzZXNzaW9uUHJvZ3Jlc3M6IDAgLy8gbnVtYmVyIG9mIHZvdGVzIHRoaXMgc2Vzc2lvblxuICAgIH1cbiAgfSxcblxuICBpbmNyZW1lbnRQcm9ncmVzcygpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtzZXNzaW9uUHJvZ3Jlc3M6IHRoaXMuc3RhdGUuc2Vzc2lvblByb2dyZXNzKzF9KVxuICB9LFxufSlcblxudmFyIFZpc2l0b3JTdXJ2ZXkgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMucmVmcy5zdGFydEJ1dHRvbiAmJiB0aGlzLnJlZnMuc3RhcnRCdXR0b24uZm9jdXMoKVxuICAgIHRyeSB7IHRoaXMucHJvcHMudG9nZ2xlQXBwSGVhZGVyKCkgfSBjYXRjaChlKSB7IH1cblxuICAgIHdpbmRvdy5zZXJ2ZXJSZW5kZXJlZCB8fCByZXN0V2l0aENvcnNDb29raWVzKGAke1NFQVJDSH0vc3VydmV5L2dldFVzZXJEYXRhYCkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgY29uc3QgaW5mbyA9IEpTT04ucGFyc2UocmVzdWx0LmVudGl0eSlcbiAgICAgIGNvbnN0IHtjb21wbGV0ZWQsIHJlamVjdGVkLCBhY2NlcHRlZCwgLi4uYW5zd2Vyc30gPSBpbmZvLmRhdGEgfHwge31cbiAgICAgIGNvbnN0IGhpZGVQb3B1cCA9IGNvbXBsZXRlZCB8fCByZWplY3RlZFxuXG4gICAgICBjb25zb2xlLmluZm8oJ1ZTIGNETScsIHtoaWRlUG9wdXB9KVxuXG4gICAgICBpZihoaWRlUG9wdXApIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aGlkZVBvcHVwfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2Fuc3dlcnMsIGNvbXBsZXRlZCwgcmVqZWN0ZWQsIGFjY2VwdGVkLCBoaWRlUG9wdXB9KVxuICAgICAgICB0aGlzLm9wZW5TdXJ2ZXkoKVxuXG4gICAgICAgIGlmKGFjY2VwdGVkICYmICFjb21wbGV0ZWQpIHtcbiAgICAgICAgICB3aW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKCdleHBhbmQnLCAnKicpXG4gICAgICAgICAgdGhpcy5wcm9wcy5leHBhbmQgJiYgdGhpcy5wcm9wcy5leHBhbmQoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHF1ZXN0aW9uczogW1xuICAgICAgICB7XG4gICAgICAgICAgcTogXCJXaGF0IGFyZSB5b3UgaGVyZSB0byBsb29rIGZvcj8gSSBhbeKAplwiLFxuICAgICAgICAgIGlkOiAncG9ycG9pc2UnLFxuICAgICAgICAgIGFuc3dlcnM6IFtcbiAgICAgICAgICAgIFwicHJlcGFyaW5nIGZvciBhIHZpc2l0LlwiLFxuICAgICAgICAgICAgXCJsb29raW5nIGZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiBhIHNwZWNpZmljIGFydHdvcmsgYXQgTWlhLlwiLFxuICAgICAgICAgICAgXCJsb29raW5nIGZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGFuIGFydGlzdCBvciB0eXBlIG9mIGFydC5cIixcbiAgICAgICAgICAgIFwianVzdCBleHBsb3JpbmcgYmVjYXVzZSBJIGxpa2UgYXJ0LlwiXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHE6IFwiSSBhbSBvbiBhLi4uXCIsXG4gICAgICAgICAgaWQ6ICdkZXZpY2UnLFxuICAgICAgICAgIGFuc3dlcnM6IFtcbiAgICAgICAgICAgIFwibW9iaWxlIGRldmljZSBvciB0YWJsZXQuXCIsXG4gICAgICAgICAgICBcImxhcHRvcC9kZXNrdG9wIGNvbXB1dGVyLlwiLFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBxOiBcIkkgZ290IGhlcmUgZnJvbeKAplwiLFxuICAgICAgICAgIGlkOiAnc291cmNlJyxcbiAgICAgICAgICBhbnN3ZXJzOiBbXG4gICAgICAgICAgICBcIk1pYeKAmXMgaG9tZXBhZ2UuXCIsXG4gICAgICAgICAgICBcImEgcG9zdCBmcm9tIHNvY2lhbCBtZWRpYS5cIixcbiAgICAgICAgICAgIFwiYSBzZWFyY2ggZW5naW5lLlwiLFxuICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgXSxcbiAgICB9XG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtjb21wbGV0ZWQsIGFjY2VwdGVkLCBoaWRlUG9wdXAsIGFuc3dlcnN9ID0gdGhpcy5zdGF0ZVxuICAgIGlmKCFhbnN3ZXJzKSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIDxzZWN0aW9uIHN0eWxlPXt7cGFkZGluZzogJzFlbSAyLjVlbSAwIDIuNWVtJ319PlxuICAgICAge3RoaXMuc3RhdGUuY29tcGxldGVkXG4gICAgICAgID8gdGhpcy5zdXJ2ZXlUaGFua3MoKVxuICAgICAgICA6IHRoaXMuc3RhdGUuYWNjZXB0ZWQgXG4gICAgICAgICAgPyB0aGlzLmJ1aWxkUXVpelRyZWUoKVxuICAgICAgICAgIDogdGhpcy5zdXJ2ZXlXZWxjb21lKCl9XG4gICAgPC9zZWN0aW9uPlxuICB9LFxuXG4gIHN0cmluZ1F1aXooKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUucXVlc3Rpb25zLm1hcChxID0+IGAke3EucX1cXG4ke3EuYW5zd2Vycy5tYXAoYSA9PiBgKiAke2F9YCkuam9pbihcIlxcblwiKX1gKVxuICAgICAgLmpvaW4oXCJcXG5cXG5cIilcbiAgfSxcblxuICBzdXJ2ZXlXZWxjb21lKCkge1xuICAgIHJldHVybiA8c2VjdGlvbiBzdHlsZT17e21hcmdpbjogJzAuNWVtJ319PlxuICAgICAgPGgyPjxzdHJvbmc+SGk8L3N0cm9uZz4sIHdlJ3JlIGdsYWQgeW91IGFyZSBoZXJlLjwvaDI+XG4gICAgICA8aHIgLz5cbiAgICAgIDxwIHN0eWxlPXt7bWFyZ2luVG9wOiAnMWVtJ319PldvdWxkIHlvdSBiZSBhYmxlIHRvIGFuc3dlciB0aHJlZSBxdWljayBxdWVzdGlvbnMgdG8gaGVscCB1cyBpbXByb3ZlIHlvdXIgZXhwZXJpZW5jZT88L3A+XG5cbiAgICAgIDxwIHN0eWxlPXt7bWFyZ2luVG9wOiAnMWVtJ319PjxidXR0b24gdGFiSW5kZXg9XCIwXCIgb25DbGljaz17dGhpcy5iZWdpblN1cnZleX0gc3R5bGU9e3RoaXMuYnV0dG9uU3R5bGUoKX0gcmVmPVwic3RhcnRCdXR0b25cIj5ZZXM8L2J1dHRvbj48L3A+XG4gICAgICA8cCBzdHlsZT17e21hcmdpblRvcDogJzAuNWVtJ319PjxhIHRhYkluZGV4PVwiMFwiIG9uQ2xpY2s9e3RoaXMuY2FuY2VsU3VydmV5fT5ObyB0aGFua3MuPC9hPjwvcD5cbiAgICA8L3NlY3Rpb24+XG4gIH0sXG5cbiAgYmVnaW5TdXJ2ZXkoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7YWNjZXB0ZWQ6IG5ldyBEYXRlKCl9KVxuICAgIHdpbmRvdy5wYXJlbnQucG9zdE1lc3NhZ2UoJ2V4cGFuZCcsICcqJylcbiAgICB0aGlzLnByb3BzLmV4cGFuZCAmJiB0aGlzLnByb3BzLmV4cGFuZCgpXG4gIH0sXG5cbiAgb3BlblN1cnZleSgpIHtcbiAgICB3aW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKCdvcGVuJywgJyonKVxuICAgIHRoaXMucHJvcHMub25PcGVuICYmIHRoaXMucHJvcHMub25PcGVuKClcbiAgfSxcblxuICBjYW5jZWxTdXJ2ZXkoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7cmVqZWN0ZWQ6IG5ldyBEYXRlKCl9KVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIHdpbmRvdy5wYXJlbnQucG9zdE1lc3NhZ2UoJ2NhbmNlbCcsICcqJylcbiAgICB0aGlzLnByb3BzLm9uQ2xvc2UgJiYgdGhpcy5wcm9wcy5vbkNsb3NlKClcbiAgICB9LCA1MDApXG4gIH0sXG5cbiAgY29tcGxldGVTdXJ2ZXkoZGVsYXk9MCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgd2luZG93LnBhcmVudC5wb3N0TWVzc2FnZSgnY29tcGxldGUnLCAnKicpXG4gICAgICB0aGlzLnByb3BzLm9uQ2xvc2UgJiYgdGhpcy5wcm9wcy5vbkNsb3NlKClcbiAgICB9LCBkZWxheSlcblxuICAgIHdpbmRvdy5wYXJlbnQucG9zdE1lc3NhZ2UoJ2NvbnRyYWN0JywgJyonKVxuICAgIHRoaXMucHJvcHMuY29udHJhY3QgJiYgdGhpcy5wcm9wcy5jb250cmFjdCgpXG4gICAgdGhpcy5zZXRTdGF0ZSh7Y29tcGxldGVkOiBuZXcgRGF0ZSgpfSlcbiAgfSxcblxuICBidXR0b25TdHlsZShkaXNhYmxlZD1mYWxzZSkge1xuICAgIHJldHVybiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMjMyMzIzJyxcbiAgICAgIHBhZGRpbmc6ICcwLjc1ZW0gMWVtIDAuNWVtIDFlbScsXG4gICAgICBmb250U2l6ZTogJzFlbScsXG4gICAgICBtYXJnaW5Ub3A6ICcxZW0nLFxuICAgICAgYm9yZGVyUmFkaXVzOiAxMyxcbiAgICAgIC4uLihkaXNhYmxlZCA/IHtvcGFjaXR5OiAnMC4zJ30gOiB7fSksXG4gICAgfVxuICB9LFxuXG4gIHN1cnZleVRoYW5rcygpIHtcbiAgICByZXR1cm4gPHNlY3Rpb24+XG4gICAgICA8aDI+VGhhbmsgeW91PC9oMj5cbiAgICAgIDxociAvPlxuICAgICAgPHAgc3R5bGU9e3ttYXJnaW5Ub3A6ICcxZW0nfX0+WW91ciBjYW5kaWQgZmVlZGJhY2sgd2lsbCBoZWxwIHVzIGltcHJvdmUgaG93IHBlb3BsZSBleHBlcmllbmNlIG91ciB3ZWJzaXRlLjwvcD5cblxuICAgICAgPHA+PGJ1dHRvbiBvbkNsaWNrPXt0aGlzLmNvbXBsZXRlU3VydmV5fSBzdHlsZT17dGhpcy5idXR0b25TdHlsZSgpfT5DbG9zZTwvYnV0dG9uPjwvcD5cbiAgICA8L3NlY3Rpb24+XG4gIH0sXG5cbiAgYnVpbGRRdWl6VHJlZSgpIHtcbiAgICBjb25zdCB7YW5zd2Vyc30gPSB0aGlzLnN0YXRlXG4gICAgY29uc3QgZGlzYWJsZVN1Ym1pdCA9IGFuc3dlcnMgJiYgT2JqZWN0LnZhbHVlcyhhbnN3ZXJzKS5sZW5ndGggPCAzXG5cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIHt0aGlzLnN0YXRlLnF1ZXN0aW9ucy5tYXAocSA9PiB7XG4gICAgICAgIHJldHVybiA8ZGl2IHN0eWxlPXt7ZGlzcGxheTogJ2Jsb2NrJywgbWFyZ2luQm90dG9tOiAnMWVtJ319PlxuICAgICAgICAgIDxwIHN0eWxlPXt7Zm9udFdlaWdodDogJ2JvbGQnfX0+e3EucX08L3A+XG4gICAgICAgICAge3EuYW5zd2Vycy5tYXAoYSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc0Nob3NlbiA9ICEhYW5zd2VycyAmJiBhID09PSBhbnN3ZXJzW3EuaWRdXG5cbiAgICAgICAgICAgIHJldHVybiA8bGFiZWwgc3R5bGU9e3tkaXNwbGF5OiAnYmxvY2snfX0+XG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSdyYWRpbycgbmFtZT17cS5pZH0gb25DaGFuZ2U9e3RoaXMuc2VsZWN0aW9uTWFkZX0gdGFiSW5kZXg9XCIwXCIgY2hlY2tlZD17aXNDaG9zZW59IC8+XG4gICAgICAgICAgICAgIHthfVxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICB9KX1cblxuICAgIDxidXR0b25cbiAgICAgIHN0eWxlPXt0aGlzLmJ1dHRvblN0eWxlKGRpc2FibGVTdWJtaXQpfVxuICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5jb21wbGV0ZVN1cnZleSg5MDAwKX1cbiAgICAgIGRpc2FibGVkPXtkaXNhYmxlU3VibWl0fVxuICAgID5cbiAgICAgIFN1Ym1pdFxuICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICB9LFxuXG4gIHNlbGVjdGlvbk1hZGUoZXZlbnQpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGFuc3dlcnM6IHtcbiAgICAgICAgLi4udGhpcy5zdGF0ZS5hbnN3ZXJzIHx8IHt9LFxuICAgICAgICBbZXZlbnQudGFyZ2V0Lm5hbWVdOiBldmVudC50YXJnZXQubGFiZWxzWzBdLnRleHRDb250ZW50LFxuICAgICAgfVxuICAgIH0pXG4gIH0sXG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgY29uc3Qge2Fuc3dlcnMsIGFjY2VwdGVkLCBjb21wbGV0ZWQsIHJlamVjdGVkfSA9IHRoaXMuc3RhdGVcblxuICAgIGlmIChhbnN3ZXJzICE9PSBwcmV2U3RhdGUuYW5zd2VycyB8fCBhY2NlcHRlZCAhPT0gcHJldlN0YXRlLmFjY2VwdGVkIHx8IGNvbXBsZXRlZCAhPT0gcHJldlN0YXRlLmNvbXBsZXRlZCB8fCByZWplY3RlZCAhPT0gcHJldlN0YXRlLnJlamVjdGVkKSB7XG4gICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAuLi5hbnN3ZXJzLFxuICAgICAgICBhY2NlcHRlZCxcbiAgICAgICAgY29tcGxldGVkLFxuICAgICAgICByZWplY3RlZCxcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5pbmZvKCdwb3N0aW5nJywgZGF0YSlcbiAgICAgIHJlc3RXaXRoQ29yc0Nvb2tpZXMoYCR7U0VBUkNIfS9zdXJ2ZXkvcmVkZXNpZ24/ZGF0YT0ke0pTT04uc3RyaW5naWZ5KGRhdGEpfWApLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBjb25zb2xlLmluZm8oJ3Bvc3RpbmcgZGF0YScsIGRhdGEpXG4gICAgICB9KVxuICAgIH1cbiAgfSxcbn0pXG5cbi8qKiBUT0RPXG4gKlxuICogcGFyYW1hdGVyaXplIHN1cnZleSByZW5kZXJpbmcgc28gd2UgY2FuIGhhdmUgZGlmZmVyZW50IHN1cnZleXMhXG4gKi9cbnZhciBTdXJ2ZXkgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHN1cnZleUlkIH0gPSB0aGlzLnByb3BzLnBhcmFtc1xuXG4gICAgaWYoc3VydmV5SWQgJiYgc3VydmV5SWQgPT0gJzIwMTktdmlzaXRvci1xdWl6JyB8fCBzdXJ2ZXlJZCA9PT0gJzIwMTktc3VydmV5Jykge1xuICAgICAgcmV0dXJuIDxWaXNpdG9yU3VydmV5IHsuLi50aGlzLnByb3BzfSAvPlxuICAgIH1cblxuICAgIHJldHVybiA8QXJ0d29ya1N1cnZleSB7Li4udGhpcy5wcm9wc30gLz5cbiAgfVxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBTdXJ2ZXlcblxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "survey.js"
      ],
      "names": [
        "React",
        "require",
        "ReactDOM",
        "Router",
        "rest",
        "RandomArtwork",
        "ArtworkPreview",
        "SEARCH",
        "search",
        "restWithCorsCookies",
        "VotingBooth",
        "createClass",
        "render",
        "linkStyle",
        "margin",
        "display",
        "votingActions",
        "vote",
        "bind",
        "next",
        "props",
        "style",
        "direction",
        "id",
        "art",
        "then",
        "incrementProgress",
        "changeArtwork",
        "VoteForRandomArtworkCard",
        "searchQuery",
        "preloadNext",
        "ArtworkSurvey",
        "thanksMessage",
        "sessionProgress",
        "state",
        "componentDidMount",
        "toggleAppHeader",
        "getInitialState",
        "setState",
        "VisitorSurvey",
        "refs",
        "startButton",
        "focus",
        "e",
        "window",
        "serverRendered",
        "info",
        "JSON",
        "parse",
        "result",
        "entity",
        "data",
        "completed",
        "rejected",
        "accepted",
        "answers",
        "hidePopup",
        "console",
        "openSurvey",
        "parent",
        "postMessage",
        "expand",
        "questions",
        "q",
        "padding",
        "surveyThanks",
        "buildQuizTree",
        "surveyWelcome",
        "stringQuiz",
        "map",
        "a",
        "join",
        "marginTop",
        "beginSurvey",
        "buttonStyle",
        "cancelSurvey",
        "Date",
        "onOpen",
        "setTimeout",
        "onClose",
        "completeSurvey",
        "delay",
        "contract",
        "disabled",
        "backgroundColor",
        "fontSize",
        "borderRadius",
        "opacity",
        "disableSubmit",
        "Object",
        "values",
        "length",
        "marginBottom",
        "fontWeight",
        "isChosen",
        "selectionMade",
        "event",
        "target",
        "name",
        "labels",
        "textContent",
        "componentDidUpdate",
        "prevProps",
        "prevState",
        "stringify",
        "Survey",
        "surveyId",
        "params",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "survey.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar ReactDOM = require('react-dom')\nvar Router = require('react-router')\nvar rest = require('rest')\n\nvar RandomArtwork = require('./random-artwork')\nvar ArtworkPreview = require('./artwork-preview')\nvar SEARCH = require('./endpoints').search\nvar restWithCorsCookies = require('./rest-with-cookies')\n\n// Example:\n//\n// var ArtworkCard = (props) => {\n//   return <div>\n//     <ArtworkPreview {...props}>\n//       <a href=\"#\" onClick={props.changeArtwork} value=\"Next!\">Next!</a>\n//     </ArtworkPreview>\n//   </div>\n// }\n\n// var RandomArtworkCard = RandomArtwork(ArtworkCard, 'room:G3* image:valid public_access:1')\n\nvar VotingBooth = React.createClass({\n  render() {\n    var linkStyle = {margin: '0.25em', display: 'inline-block'}\n    var votingActions = <div style={{margin: '1em'}}>\n      <a href=\"#\" style={linkStyle} onClick={this.vote.bind(this, 'like')}>&uarr; I like this</a>\n      <a href=\"#\" style={linkStyle} onClick={this.vote.bind(this, 'dislike')}>&darr; I don't like this</a>\n      <a href=\"#\" style={linkStyle} onClick={this.next}>&rarr; skip</a>\n    </div>\n\n    return <div style={this.props.style}>\n      {votingActions}\n      <ArtworkPreview {...this.props} showPeeks={false}>\n        {votingActions}\n      </ArtworkPreview>\n    </div>\n  },\n\n  vote(direction) {\n    var {id} = this.props.art\n    restWithCorsCookies(`${SEARCH}/survey/art/${id}/${direction}`)\n      .then(this.props.incrementProgress)\n      .then(this.next)\n  },\n\n  next() {\n    this.props.changeArtwork()\n  },\n})\n\nvar VoteForRandomArtworkCard = RandomArtwork(VotingBooth, {\n  searchQuery: 'room:G* image:valid public_access:1',\n  preloadNext: true,\n})\n\nvar ArtworkSurvey = React.createClass({\n  render() {\n    var thanksMessage = <div>\n      <p>\n        Thanks for helping Mia visitors make new connections to diverse artworks.\n      </p>\n      <p>\n        <a href=\"#\" onClick={this.incrementProgress}>Feel free to keep at it</a>\n        , but you’ve succeeded in giving us enough data to influence our algorithm.\n      </p>\n\n      <a href=\"#\" onClick={this.incrementProgress}>Keep going</a>\n    </div>\n\n    var sessionProgress = this.state.sessionProgress\n\n    return <div style={{margin: '1em'}}>\n      {sessionProgress == 11 ?\n        thanksMessage :\n        <VoteForRandomArtworkCard incrementProgress={this.incrementProgress} />\n      }\n    </div>\n  },\n\n  componentDidMount() {\n    restWithCorsCookies(`${SEARCH}/survey/getUser`)\n    this.props.toggleAppHeader()\n  },\n\n  getInitialState() {\n    return {\n      sessionProgress: 0 // number of votes this session\n    }\n  },\n\n  incrementProgress() {\n    this.setState({sessionProgress: this.state.sessionProgress+1})\n  },\n})\n\nvar VisitorSurvey = React.createClass({\n  componentDidMount() {\n    this.refs.startButton && this.refs.startButton.focus()\n    try { this.props.toggleAppHeader() } catch(e) { }\n\n    window.serverRendered || restWithCorsCookies(`${SEARCH}/survey/getUserData`).then(result => {\n      const info = JSON.parse(result.entity)\n      const {completed, rejected, accepted, ...answers} = info.data || {}\n      const hidePopup = completed || rejected\n\n      console.info('VS cDM', {hidePopup})\n\n      if(hidePopup) {\n        this.setState({hidePopup})\n      } else {\n        this.setState({answers, completed, rejected, accepted, hidePopup})\n        this.openSurvey()\n\n        if(accepted && !completed) {\n          window.parent.postMessage('expand', '*')\n          this.props.expand && this.props.expand()\n        }\n      }\n    })\n  },\n\n  getInitialState() {\n    return {\n      questions: [\n        {\n          q: \"What are you here to look for? I am…\",\n          id: 'porpoise',\n          answers: [\n            \"preparing for a visit.\",\n            \"looking for detailed information on a specific artwork at Mia.\",\n            \"looking for more information about an artist or type of art.\",\n            \"just exploring because I like art.\"\n          ],\n        },\n        {\n          q: \"I am on a...\",\n          id: 'device',\n          answers: [\n            \"mobile device or tablet.\",\n            \"laptop/desktop computer.\",\n          ],\n        },\n        {\n          q: \"I got here from…\",\n          id: 'source',\n          answers: [\n            \"Mia’s homepage.\",\n            \"a post from social media.\",\n            \"a search engine.\",\n          ]\n        }\n      ],\n    }\n  },\n\n  render() {\n    const {completed, accepted, hidePopup, answers} = this.state\n    if(!answers) return null\n\n    return <section style={{padding: '1em 2.5em 0 2.5em'}}>\n      {this.state.completed\n        ? this.surveyThanks()\n        : this.state.accepted \n          ? this.buildQuizTree()\n          : this.surveyWelcome()}\n    </section>\n  },\n\n  stringQuiz() {\n    return this.state.questions.map(q => `${q.q}\\n${q.answers.map(a => `* ${a}`).join(\"\\n\")}`)\n      .join(\"\\n\\n\")\n  },\n\n  surveyWelcome() {\n    return <section style={{margin: '0.5em'}}>\n      <h2><strong>Hi</strong>, we're glad you are here.</h2>\n      <hr />\n      <p style={{marginTop: '1em'}}>Would you be able to answer three quick questions to help us improve your experience?</p>\n\n      <p style={{marginTop: '1em'}}><button tabIndex=\"0\" onClick={this.beginSurvey} style={this.buttonStyle()} ref=\"startButton\">Yes</button></p>\n      <p style={{marginTop: '0.5em'}}><a tabIndex=\"0\" onClick={this.cancelSurvey}>No thanks.</a></p>\n    </section>\n  },\n\n  beginSurvey() {\n    this.setState({accepted: new Date()})\n    window.parent.postMessage('expand', '*')\n    this.props.expand && this.props.expand()\n  },\n\n  openSurvey() {\n    window.parent.postMessage('open', '*')\n    this.props.onOpen && this.props.onOpen()\n  },\n\n  cancelSurvey() {\n    this.setState({rejected: new Date()})\n    setTimeout(() => {\n    window.parent.postMessage('cancel', '*')\n    this.props.onClose && this.props.onClose()\n    }, 500)\n  },\n\n  completeSurvey(delay=0) {\n    setTimeout(() => {\n      window.parent.postMessage('complete', '*')\n      this.props.onClose && this.props.onClose()\n    }, delay)\n\n    window.parent.postMessage('contract', '*')\n    this.props.contract && this.props.contract()\n    this.setState({completed: new Date()})\n  },\n\n  buttonStyle(disabled=false) {\n    return {\n      backgroundColor: '#232323',\n      padding: '0.75em 1em 0.5em 1em',\n      fontSize: '1em',\n      marginTop: '1em',\n      borderRadius: 13,\n      ...(disabled ? {opacity: '0.3'} : {}),\n    }\n  },\n\n  surveyThanks() {\n    return <section>\n      <h2>Thank you</h2>\n      <hr />\n      <p style={{marginTop: '1em'}}>Your candid feedback will help us improve how people experience our website.</p>\n\n      <p><button onClick={this.completeSurvey} style={this.buttonStyle()}>Close</button></p>\n    </section>\n  },\n\n  buildQuizTree() {\n    const {answers} = this.state\n    const disableSubmit = answers && Object.values(answers).length < 3\n\n    return <div>\n      {this.state.questions.map(q => {\n        return <div style={{display: 'block', marginBottom: '1em'}}>\n          <p style={{fontWeight: 'bold'}}>{q.q}</p>\n          {q.answers.map(a => {\n            const isChosen = !!answers && a === answers[q.id]\n\n            return <label style={{display: 'block'}}>\n              <input type='radio' name={q.id} onChange={this.selectionMade} tabIndex=\"0\" checked={isChosen} />\n              {a}\n            </label>\n          })}\n        </div>\n      })}\n\n    <button\n      style={this.buttonStyle(disableSubmit)}\n      onClick={() => this.completeSurvey(9000)}\n      disabled={disableSubmit}\n    >\n      Submit\n    </button>\n    </div>\n  },\n\n  selectionMade(event) {\n    this.setState({\n      answers: {\n        ...this.state.answers || {},\n        [event.target.name]: event.target.labels[0].textContent,\n      }\n    })\n  },\n\n  componentDidUpdate(prevProps, prevState) {\n    const {answers, accepted, completed, rejected} = this.state\n\n    if (answers !== prevState.answers || accepted !== prevState.accepted || completed !== prevState.completed || rejected !== prevState.rejected) {\n      const data = {\n        ...answers,\n        accepted,\n        completed,\n        rejected,\n      }\n\n      console.info('posting', data)\n      restWithCorsCookies(`${SEARCH}/survey/redesign?data=${JSON.stringify(data)}`).then((result) => {\n        console.info('posting data', data)\n      })\n    }\n  },\n})\n\n/** TODO\n *\n * paramaterize survey rendering so we can have different surveys!\n */\nvar Survey = React.createClass({\n  render() {\n    const { surveyId } = this.props.params\n\n    if(surveyId && surveyId == '2019-visitor-quiz' || surveyId === '2019-survey') {\n      return <VisitorSurvey {...this.props} />\n    }\n\n    return <ArtworkSurvey {...this.props} />\n  }\n})\n\nmodule.exports = Survey\n\n"
      ]
    },
    "mtime": 1584573136826
  },
  "{\"filename\":\"/var/www/art/src/rest-with-cookies.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/rest-with-cookies.js",
      "filenameRelative": "/var/www/art/src/rest-with-cookies.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "rest-with-cookies.js",
      "sourceFileName": "rest-with-cookies.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "rest-with-cookies"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar rest = require('rest');\n\nvar restDefaultInterceptor = require('rest/interceptor/defaultRequest');\nvar restWithCorsCookies = rest.wrap(restDefaultInterceptor, {\n  mixin: {\n    withCredentials: true\n  }\n});\n\nmodule.exports = restWithCorsCookies;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlc3Qtd2l0aC1jb29raWVzLmpzIl0sIm5hbWVzIjpbInJlc3QiLCJyZXF1aXJlIiwicmVzdERlZmF1bHRJbnRlcmNlcHRvciIsInJlc3RXaXRoQ29yc0Nvb2tpZXMiLCJ3cmFwIiwibWl4aW4iLCJ3aXRoQ3JlZGVudGlhbHMiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLE9BQU9DLFFBQVEsTUFBUixDQUFYOztBQUVBLElBQUlDLHlCQUF5QkQsUUFBUSxpQ0FBUixDQUE3QjtBQUNBLElBQUlFLHNCQUFzQkgsS0FBS0ksSUFBTCxDQUFVRixzQkFBVixFQUFrQztBQUMxREcsU0FBTztBQUNMQyxxQkFBaUI7QUFEWjtBQURtRCxDQUFsQyxDQUExQjs7QUFNQUMsT0FBT0MsT0FBUCxHQUFpQkwsbUJBQWpCIiwiZmlsZSI6InJlc3Qtd2l0aC1jb29raWVzLmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxuXG52YXIgcmVzdERlZmF1bHRJbnRlcmNlcHRvciA9IHJlcXVpcmUoJ3Jlc3QvaW50ZXJjZXB0b3IvZGVmYXVsdFJlcXVlc3QnKVxudmFyIHJlc3RXaXRoQ29yc0Nvb2tpZXMgPSByZXN0LndyYXAocmVzdERlZmF1bHRJbnRlcmNlcHRvciwge1xuICBtaXhpbjoge1xuICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZVxuICB9XG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlc3RXaXRoQ29yc0Nvb2tpZXNcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "rest-with-cookies.js"
      ],
      "names": [
        "rest",
        "require",
        "restDefaultInterceptor",
        "restWithCorsCookies",
        "wrap",
        "mixin",
        "withCredentials",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,OAAOC,QAAQ,MAAR,CAAX;;AAEA,IAAIC,yBAAyBD,QAAQ,iCAAR,CAA7B;AACA,IAAIE,sBAAsBH,KAAKI,IAAL,CAAUF,sBAAV,EAAkC;AAC1DG,SAAO;AACLC,qBAAiB;AADZ;AADmD,CAAlC,CAA1B;;AAMAC,OAAOC,OAAP,GAAiBL,mBAAjB",
      "file": "rest-with-cookies.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var rest = require('rest')\n\nvar restDefaultInterceptor = require('rest/interceptor/defaultRequest')\nvar restWithCorsCookies = rest.wrap(restDefaultInterceptor, {\n  mixin: {\n    withCredentials: true\n  }\n})\n\nmodule.exports = restWithCorsCookies\n"
      ]
    },
    "mtime": 1491504523014
  },
  "{\"filename\":\"/var/www/art/src/artwork/page-metadata.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src/artwork\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/artwork/page-metadata.js",
      "filenameRelative": "/var/www/art/src/artwork/page-metadata.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "page-metadata.js",
      "sourceFileName": "page-metadata.js",
      "sourceRoot": "/var/www/art/src/artwork",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src/artwork",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "page-metadata"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Helmet = require('react-helmet');\n\nvar _Artwork = require('../_artwork');\nvar imageCDN = require('../image-cdn');\n\nmodule.exports = function (_ref) {\n  var art = _ref.art,\n      noIndex = _ref.noIndex,\n      prependTitle = _ref.prependTitle;\n\n  var pageTitle = (prependTitle || '') + [art.title.replace(/<[^ ]+?>/g, '\"'), // title scrubbed of errant HTML\n  _Artwork.Creator.getFacetAndValue(art)[1]].filter(function (e) {\n    return e;\n  }).join(', ');\n\n  var imageUrl = imageCDN(art.id);\n  var canonicalURL = 'http://collections.artsmia.org/art/' + art.id + '/' + art.slug;\n\n  return React.createElement(Helmet, {\n    title: pageTitle,\n    meta: [{\n      property: 'og:title',\n      content: pageTitle + ' ^ Minneapolis Institute of Art'\n    }, { property: 'og:description', content: art.text }, { property: 'og:image', content: imageUrl }, { property: 'og:url', content: canonicalURL }, { property: 'twitter:card', content: 'summary_large_image' }, { property: 'twitter:site', content: '@artsmia' }, {\n      property: 'robots',\n      content: noIndex ? 'noindex, nofollow' : 'all'\n    }, {\n      property: 'googlebot',\n      content: noIndex ? 'noindex, nofollow' : 'all'\n    }],\n    link: [{ rel: 'canonical', href: canonicalURL }, { rel: 'prefetch', href: 'https://search.artsmia.org/id/' + art.id }, { rel: 'prefetch', href: 'https://iiif.dx.artsmia.org/' + art.id + '.jpg/info.json' }]\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhZ2UtbWV0YWRhdGEuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiSGVsbWV0IiwiX0FydHdvcmsiLCJpbWFnZUNETiIsIm1vZHVsZSIsImV4cG9ydHMiLCJhcnQiLCJub0luZGV4IiwicHJlcGVuZFRpdGxlIiwicGFnZVRpdGxlIiwidGl0bGUiLCJyZXBsYWNlIiwiQ3JlYXRvciIsImdldEZhY2V0QW5kVmFsdWUiLCJmaWx0ZXIiLCJlIiwiam9pbiIsImltYWdlVXJsIiwiaWQiLCJjYW5vbmljYWxVUkwiLCJzbHVnIiwicHJvcGVydHkiLCJjb250ZW50IiwidGV4dCIsInJlbCIsImhyZWYiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7QUFDQSxJQUFJQyxTQUFTRCxRQUFRLGNBQVIsQ0FBYjs7QUFFQSxJQUFJRSxXQUFXRixRQUFRLGFBQVIsQ0FBZjtBQUNBLElBQUlHLFdBQVdILFFBQVEsY0FBUixDQUFmOztBQUVBSSxPQUFPQyxPQUFQLEdBQWlCLGdCQUFrQztBQUFBLE1BQWhDQyxHQUFnQyxRQUFoQ0EsR0FBZ0M7QUFBQSxNQUEzQkMsT0FBMkIsUUFBM0JBLE9BQTJCO0FBQUEsTUFBbEJDLFlBQWtCLFFBQWxCQSxZQUFrQjs7QUFDakQsTUFBSUMsWUFDRixDQUFDRCxnQkFBZ0IsRUFBakIsSUFDQSxDQUNFRixJQUFJSSxLQUFKLENBQVVDLE9BQVYsQ0FBa0IsV0FBbEIsRUFBK0IsR0FBL0IsQ0FERixFQUN1QztBQUNyQ1QsV0FBU1UsT0FBVCxDQUFpQkMsZ0JBQWpCLENBQWtDUCxHQUFsQyxFQUF1QyxDQUF2QyxDQUZGLEVBR0VRLE1BSEYsQ0FHUztBQUFBLFdBQUtDLENBQUw7QUFBQSxHQUhULEVBR2lCQyxJQUhqQixDQUdzQixJQUh0QixDQUZGOztBQU9BLE1BQUlDLFdBQVdkLFNBQVNHLElBQUlZLEVBQWIsQ0FBZjtBQUNBLE1BQUlDLHVEQUFxRGIsSUFBSVksRUFBekQsU0FBK0RaLElBQUljLElBQXZFOztBQUVBLFNBQ0Usb0JBQUMsTUFBRDtBQUNFLFdBQU9YLFNBRFQ7QUFFRSxVQUFNLENBQ0o7QUFDRVksZ0JBQVUsVUFEWjtBQUVFQyxlQUFTYixZQUFZO0FBRnZCLEtBREksRUFLSixFQUFFWSxVQUFVLGdCQUFaLEVBQThCQyxTQUFTaEIsSUFBSWlCLElBQTNDLEVBTEksRUFNSixFQUFFRixVQUFVLFVBQVosRUFBd0JDLFNBQVNMLFFBQWpDLEVBTkksRUFPSixFQUFFSSxVQUFVLFFBQVosRUFBc0JDLFNBQVNILFlBQS9CLEVBUEksRUFRSixFQUFFRSxVQUFVLGNBQVosRUFBNEJDLFNBQVMscUJBQXJDLEVBUkksRUFTSixFQUFFRCxVQUFVLGNBQVosRUFBNEJDLFNBQVMsVUFBckMsRUFUSSxFQVVKO0FBQ0VELGdCQUFVLFFBRFo7QUFFRUMsZUFBU2YsVUFBVSxtQkFBVixHQUFnQztBQUYzQyxLQVZJLEVBY0o7QUFDRWMsZ0JBQVUsV0FEWjtBQUVFQyxlQUFTZixVQUFVLG1CQUFWLEdBQWdDO0FBRjNDLEtBZEksQ0FGUjtBQXFCRSxVQUFNLENBQ0osRUFBRWlCLEtBQUssV0FBUCxFQUFvQkMsTUFBTU4sWUFBMUIsRUFESSxFQUVKLEVBQUVLLEtBQUssVUFBUCxFQUFtQkMseUNBQXVDbkIsSUFBSVksRUFBOUQsRUFGSSxFQUdKLEVBQUVNLEtBQUssVUFBUCxFQUFtQkMsdUNBQXFDbkIsSUFBSVksRUFBekMsbUJBQW5CLEVBSEk7QUFyQlIsSUFERjtBQTZCRCxDQXhDRCIsImZpbGUiOiJwYWdlLW1ldGFkYXRhLmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMvYXJ0d29yayIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxuXG52YXIgX0FydHdvcmsgPSByZXF1aXJlKCcuLi9fYXJ0d29yaycpXG52YXIgaW1hZ2VDRE4gPSByZXF1aXJlKCcuLi9pbWFnZS1jZG4nKVxuXG5tb2R1bGUuZXhwb3J0cyA9ICh7YXJ0LCBub0luZGV4LCBwcmVwZW5kVGl0bGV9KSA9PiB7XG4gIHZhciBwYWdlVGl0bGUgPVxuICAgIChwcmVwZW5kVGl0bGUgfHwgJycpICtcbiAgICBbXG4gICAgICBhcnQudGl0bGUucmVwbGFjZSgvPFteIF0rPz4vZywgJ1wiJyksIC8vIHRpdGxlIHNjcnViYmVkIG9mIGVycmFudCBIVE1MXG4gICAgICBfQXJ0d29yay5DcmVhdG9yLmdldEZhY2V0QW5kVmFsdWUoYXJ0KVsxXSxcbiAgICBdLmZpbHRlcihlID0+IGUpLmpvaW4oJywgJylcblxuICB2YXIgaW1hZ2VVcmwgPSBpbWFnZUNETihhcnQuaWQpXG4gIHZhciBjYW5vbmljYWxVUkwgPSBgaHR0cDovL2NvbGxlY3Rpb25zLmFydHNtaWEub3JnL2FydC8ke2FydC5pZH0vJHthcnQuc2x1Z31gXG5cbiAgcmV0dXJuIChcbiAgICA8SGVsbWV0XG4gICAgICB0aXRsZT17cGFnZVRpdGxlfVxuICAgICAgbWV0YT17W1xuICAgICAgICB7XG4gICAgICAgICAgcHJvcGVydHk6ICdvZzp0aXRsZScsXG4gICAgICAgICAgY29udGVudDogcGFnZVRpdGxlICsgJyBeIE1pbm5lYXBvbGlzIEluc3RpdHV0ZSBvZiBBcnQnLFxuICAgICAgICB9LFxuICAgICAgICB7IHByb3BlcnR5OiAnb2c6ZGVzY3JpcHRpb24nLCBjb250ZW50OiBhcnQudGV4dCB9LFxuICAgICAgICB7IHByb3BlcnR5OiAnb2c6aW1hZ2UnLCBjb250ZW50OiBpbWFnZVVybCB9LFxuICAgICAgICB7IHByb3BlcnR5OiAnb2c6dXJsJywgY29udGVudDogY2Fub25pY2FsVVJMIH0sXG4gICAgICAgIHsgcHJvcGVydHk6ICd0d2l0dGVyOmNhcmQnLCBjb250ZW50OiAnc3VtbWFyeV9sYXJnZV9pbWFnZScgfSxcbiAgICAgICAgeyBwcm9wZXJ0eTogJ3R3aXR0ZXI6c2l0ZScsIGNvbnRlbnQ6ICdAYXJ0c21pYScgfSxcbiAgICAgICAge1xuICAgICAgICAgIHByb3BlcnR5OiAncm9ib3RzJyxcbiAgICAgICAgICBjb250ZW50OiBub0luZGV4ID8gJ25vaW5kZXgsIG5vZm9sbG93JyA6ICdhbGwnLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgcHJvcGVydHk6ICdnb29nbGVib3QnLFxuICAgICAgICAgIGNvbnRlbnQ6IG5vSW5kZXggPyAnbm9pbmRleCwgbm9mb2xsb3cnIDogJ2FsbCcsXG4gICAgICAgIH0sXG4gICAgICBdfVxuICAgICAgbGluaz17W1xuICAgICAgICB7IHJlbDogJ2Nhbm9uaWNhbCcsIGhyZWY6IGNhbm9uaWNhbFVSTCB9LFxuICAgICAgICB7IHJlbDogJ3ByZWZldGNoJywgaHJlZjogYGh0dHBzOi8vc2VhcmNoLmFydHNtaWEub3JnL2lkLyR7YXJ0LmlkfWAgfSxcbiAgICAgICAgeyByZWw6ICdwcmVmZXRjaCcsIGhyZWY6IGBodHRwczovL2lpaWYuZHguYXJ0c21pYS5vcmcvJHthcnQuaWR9LmpwZy9pbmZvLmpzb25gIH0sXG4gICAgICBdfVxuICAgIC8+XG4gIClcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "page-metadata.js"
      ],
      "names": [
        "React",
        "require",
        "Helmet",
        "_Artwork",
        "imageCDN",
        "module",
        "exports",
        "art",
        "noIndex",
        "prependTitle",
        "pageTitle",
        "title",
        "replace",
        "Creator",
        "getFacetAndValue",
        "filter",
        "e",
        "join",
        "imageUrl",
        "id",
        "canonicalURL",
        "slug",
        "property",
        "content",
        "text",
        "rel",
        "href"
      ],
      "mappings": ";;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;AACA,IAAIC,SAASD,QAAQ,cAAR,CAAb;;AAEA,IAAIE,WAAWF,QAAQ,aAAR,CAAf;AACA,IAAIG,WAAWH,QAAQ,cAAR,CAAf;;AAEAI,OAAOC,OAAP,GAAiB,gBAAkC;AAAA,MAAhCC,GAAgC,QAAhCA,GAAgC;AAAA,MAA3BC,OAA2B,QAA3BA,OAA2B;AAAA,MAAlBC,YAAkB,QAAlBA,YAAkB;;AACjD,MAAIC,YACF,CAACD,gBAAgB,EAAjB,IACA,CACEF,IAAII,KAAJ,CAAUC,OAAV,CAAkB,WAAlB,EAA+B,GAA/B,CADF,EACuC;AACrCT,WAASU,OAAT,CAAiBC,gBAAjB,CAAkCP,GAAlC,EAAuC,CAAvC,CAFF,EAGEQ,MAHF,CAGS;AAAA,WAAKC,CAAL;AAAA,GAHT,EAGiBC,IAHjB,CAGsB,IAHtB,CAFF;;AAOA,MAAIC,WAAWd,SAASG,IAAIY,EAAb,CAAf;AACA,MAAIC,uDAAqDb,IAAIY,EAAzD,SAA+DZ,IAAIc,IAAvE;;AAEA,SACE,oBAAC,MAAD;AACE,WAAOX,SADT;AAEE,UAAM,CACJ;AACEY,gBAAU,UADZ;AAEEC,eAASb,YAAY;AAFvB,KADI,EAKJ,EAAEY,UAAU,gBAAZ,EAA8BC,SAAShB,IAAIiB,IAA3C,EALI,EAMJ,EAAEF,UAAU,UAAZ,EAAwBC,SAASL,QAAjC,EANI,EAOJ,EAAEI,UAAU,QAAZ,EAAsBC,SAASH,YAA/B,EAPI,EAQJ,EAAEE,UAAU,cAAZ,EAA4BC,SAAS,qBAArC,EARI,EASJ,EAAED,UAAU,cAAZ,EAA4BC,SAAS,UAArC,EATI,EAUJ;AACED,gBAAU,QADZ;AAEEC,eAASf,UAAU,mBAAV,GAAgC;AAF3C,KAVI,EAcJ;AACEc,gBAAU,WADZ;AAEEC,eAASf,UAAU,mBAAV,GAAgC;AAF3C,KAdI,CAFR;AAqBE,UAAM,CACJ,EAAEiB,KAAK,WAAP,EAAoBC,MAAMN,YAA1B,EADI,EAEJ,EAAEK,KAAK,UAAP,EAAmBC,yCAAuCnB,IAAIY,EAA9D,EAFI,EAGJ,EAAEM,KAAK,UAAP,EAAmBC,uCAAqCnB,IAAIY,EAAzC,mBAAnB,EAHI;AArBR,IADF;AA6BD,CAxCD",
      "file": "page-metadata.js",
      "sourceRoot": "/var/www/art/src/artwork",
      "sourcesContent": [
        "var React = require('react')\nvar Helmet = require('react-helmet')\n\nvar _Artwork = require('../_artwork')\nvar imageCDN = require('../image-cdn')\n\nmodule.exports = ({art, noIndex, prependTitle}) => {\n  var pageTitle =\n    (prependTitle || '') +\n    [\n      art.title.replace(/<[^ ]+?>/g, '\"'), // title scrubbed of errant HTML\n      _Artwork.Creator.getFacetAndValue(art)[1],\n    ].filter(e => e).join(', ')\n\n  var imageUrl = imageCDN(art.id)\n  var canonicalURL = `http://collections.artsmia.org/art/${art.id}/${art.slug}`\n\n  return (\n    <Helmet\n      title={pageTitle}\n      meta={[\n        {\n          property: 'og:title',\n          content: pageTitle + ' ^ Minneapolis Institute of Art',\n        },\n        { property: 'og:description', content: art.text },\n        { property: 'og:image', content: imageUrl },\n        { property: 'og:url', content: canonicalURL },\n        { property: 'twitter:card', content: 'summary_large_image' },\n        { property: 'twitter:site', content: '@artsmia' },\n        {\n          property: 'robots',\n          content: noIndex ? 'noindex, nofollow' : 'all',\n        },\n        {\n          property: 'googlebot',\n          content: noIndex ? 'noindex, nofollow' : 'all',\n        },\n      ]}\n      link={[\n        { rel: 'canonical', href: canonicalURL },\n        { rel: 'prefetch', href: `https://search.artsmia.org/id/${art.id}` },\n        { rel: 'prefetch', href: `https://iiif.dx.artsmia.org/${art.id}.jpg/info.json` },\n      ]}\n    />\n  )\n}\n"
      ]
    },
    "mtime": 1612393616748
  },
  "{\"filename\":\"/var/www/art/src/people.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/people.js",
      "filenameRelative": "/var/www/art/src/people.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "people.js",
      "sourceFileName": "people.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "people"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar rest = require('rest');\nvar Helmet = require('react-helmet');\nvar toSlug = require('speakingurl');\nvar LazyLoad = require('react-lazy-load').default;\n\nvar Search = require('./search');\nvar SearchResults = require('./search-results');\nvar Peek = require('./peek');\n\nvar People = React.createClass({\n  displayName: 'People',\n\n  statics: {\n    fetchData: {\n      artists: function artists(params, query) {\n        return rest('http://localhost:4680/people/index').then(function (r) {\n          var json = JSON.parse(r.entity);\n          console.info('artists People', params, json);\n          window.artists = json;\n          return json;\n        });\n      }\n    }\n  },\n\n  componentDidMount: function componentDidMount() {\n    this.props.toggleAppHeader();\n  },\n  render: function render() {\n    var artists = this.props.data.artists;\n\n\n    return React.createElement(\n      'section',\n      null,\n      artists.map(function (artist) {\n        return React.createElement(\n          'li',\n          { style: { minHeight: 100 } },\n          React.createElement(\n            Link,\n            { to: 'artist', params: { id: artist.ConstituentID || 443 } },\n            artist.DisplayName\n          ),\n          React.createElement(\n            LazyLoad,\n            { style: { minHeight: 200 } },\n            React.createElement(Peek, {\n              facet: 'artist',\n              q: artist.DisplayName,\n              quiltProps: { maxRowHeight: 300 },\n              showSingleResult: true\n            })\n          )\n        );\n      }),\n      React.createElement(Helmet, { title: 'All Artists at Mia' })\n    );\n  }\n});\n\nmodule.exports = People;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBlb3BsZS5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJSb3V0ZXIiLCJMaW5rIiwicmVzdCIsIkhlbG1ldCIsInRvU2x1ZyIsIkxhenlMb2FkIiwiZGVmYXVsdCIsIlNlYXJjaCIsIlNlYXJjaFJlc3VsdHMiLCJQZWVrIiwiUGVvcGxlIiwiY3JlYXRlQ2xhc3MiLCJzdGF0aWNzIiwiZmV0Y2hEYXRhIiwiYXJ0aXN0cyIsInBhcmFtcyIsInF1ZXJ5IiwidGhlbiIsInIiLCJqc29uIiwiSlNPTiIsInBhcnNlIiwiZW50aXR5IiwiY29uc29sZSIsImluZm8iLCJ3aW5kb3ciLCJjb21wb25lbnREaWRNb3VudCIsInByb3BzIiwidG9nZ2xlQXBwSGVhZGVyIiwicmVuZGVyIiwiZGF0YSIsIm1hcCIsIm1pbkhlaWdodCIsImlkIiwiYXJ0aXN0IiwiQ29uc3RpdHVlbnRJRCIsIkRpc3BsYXlOYW1lIiwibWF4Um93SGVpZ2h0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxRQUFRQyxRQUFRLE9BQVIsQ0FBWjtBQUNBLElBQUlDLFNBQVNELFFBQVEsY0FBUixDQUFiO0lBQ01FLEksR0FBU0QsTSxDQUFUQyxJOztBQUNOLElBQUlDLE9BQU9ILFFBQVEsTUFBUixDQUFYO0FBQ0EsSUFBSUksU0FBU0osUUFBUSxjQUFSLENBQWI7QUFDQSxJQUFJSyxTQUFTTCxRQUFRLGFBQVIsQ0FBYjtBQUNBLElBQUlNLFdBQVdOLFFBQVEsaUJBQVIsRUFBMkJPLE9BQTFDOztBQUVBLElBQUlDLFNBQVNSLFFBQVEsVUFBUixDQUFiO0FBQ0EsSUFBSVMsZ0JBQWdCVCxRQUFRLGtCQUFSLENBQXBCO0FBQ0EsSUFBSVUsT0FBT1YsUUFBUSxRQUFSLENBQVg7O0FBRUEsSUFBSVcsU0FBU1osTUFBTWEsV0FBTixDQUFrQjtBQUFBOztBQUM3QkMsV0FBUztBQUNQQyxlQUFXO0FBQ1RDLGVBQVMsaUJBQUNDLE1BQUQsRUFBU0MsS0FBVCxFQUFtQjtBQUMxQixlQUFPZCwyQ0FDTmUsSUFETSxDQUNELFVBQUNDLENBQUQsRUFBTztBQUNYLGNBQU1DLE9BQU9DLEtBQUtDLEtBQUwsQ0FBV0gsRUFBRUksTUFBYixDQUFiO0FBQ0FDLGtCQUFRQyxJQUFSLENBQWEsZ0JBQWIsRUFBK0JULE1BQS9CLEVBQXVDSSxJQUF2QztBQUNBTSxpQkFBT1gsT0FBUCxHQUFpQkssSUFBakI7QUFDQSxpQkFBT0EsSUFBUDtBQUNELFNBTk0sQ0FBUDtBQU9EO0FBVFE7QUFESixHQURvQjs7QUFlN0JPLG1CQWY2QiwrQkFlVDtBQUNsQixTQUFLQyxLQUFMLENBQVdDLGVBQVg7QUFDRCxHQWpCNEI7QUFtQjdCQyxRQW5CNkIsb0JBbUJwQjtBQUFBLFFBQ0ZmLE9BREUsR0FDUyxLQUFLYSxLQUFMLENBQVdHLElBRHBCLENBQ0ZoQixPQURFOzs7QUFHUCxXQUFPO0FBQUE7QUFBQTtBQUNKQSxjQUFRaUIsR0FBUixDQUFZLGtCQUFVO0FBQ3JCLGVBQU87QUFBQTtBQUFBLFlBQUksT0FBTyxFQUFDQyxXQUFXLEdBQVosRUFBWDtBQUNMO0FBQUMsZ0JBQUQ7QUFBQSxjQUFNLElBQUcsUUFBVCxFQUFrQixRQUFRLEVBQUNDLElBQUlDLE9BQU9DLGFBQVAsSUFBd0IsR0FBN0IsRUFBMUI7QUFDR0QsbUJBQU9FO0FBRFYsV0FESztBQUtMO0FBQUMsb0JBQUQ7QUFBQSxjQUFVLE9BQU8sRUFBQ0osV0FBVyxHQUFaLEVBQWpCO0FBQ0UsZ0NBQUMsSUFBRDtBQUNFLHFCQUFNLFFBRFI7QUFFRSxpQkFBR0UsT0FBT0UsV0FGWjtBQUdFLDBCQUFZLEVBQUNDLGNBQWMsR0FBZixFQUhkO0FBSUUsZ0NBQWtCO0FBSnBCO0FBREY7QUFMSyxTQUFQO0FBY0QsT0FmQSxDQURJO0FBa0JMLDBCQUFDLE1BQUQsSUFBUSwyQkFBUjtBQWxCSyxLQUFQO0FBb0JEO0FBMUM0QixDQUFsQixDQUFiOztBQTZDQUMsT0FBT0MsT0FBUCxHQUFpQjdCLE1BQWpCIiwiZmlsZSI6InBlb3BsZS5qcyIsInNvdXJjZVJvb3QiOiIvdmFyL3d3dy9hcnQvc3JjIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIgeyBMaW5rIH0gPSBSb3V0ZXJcbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG52YXIgSGVsbWV0ID0gcmVxdWlyZSgncmVhY3QtaGVsbWV0JylcbnZhciB0b1NsdWcgPSByZXF1aXJlKCdzcGVha2luZ3VybCcpXG52YXIgTGF6eUxvYWQgPSByZXF1aXJlKCdyZWFjdC1sYXp5LWxvYWQnKS5kZWZhdWx0XG5cbnZhciBTZWFyY2ggPSByZXF1aXJlKCcuL3NlYXJjaCcpXG52YXIgU2VhcmNoUmVzdWx0cyA9IHJlcXVpcmUoJy4vc2VhcmNoLXJlc3VsdHMnKVxudmFyIFBlZWsgPSByZXF1aXJlKCcuL3BlZWsnKVxuXG52YXIgUGVvcGxlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBzdGF0aWNzOiB7XG4gICAgZmV0Y2hEYXRhOiB7XG4gICAgICBhcnRpc3RzOiAocGFyYW1zLCBxdWVyeSkgPT4ge1xuICAgICAgICByZXR1cm4gcmVzdChgaHR0cDovL2xvY2FsaG9zdDo0NjgwL3Blb3BsZS9pbmRleGApXG4gICAgICAgIC50aGVuKChyKSA9PiB7XG4gICAgICAgICAgY29uc3QganNvbiA9IEpTT04ucGFyc2Uoci5lbnRpdHkpXG4gICAgICAgICAgY29uc29sZS5pbmZvKCdhcnRpc3RzIFBlb3BsZScsIHBhcmFtcywganNvbilcbiAgICAgICAgICB3aW5kb3cuYXJ0aXN0cyA9IGpzb25cbiAgICAgICAgICByZXR1cm4ganNvblxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnByb3BzLnRvZ2dsZUFwcEhlYWRlcigpXG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciB7YXJ0aXN0c30gPSB0aGlzLnByb3BzLmRhdGFcblxuICAgIHJldHVybiA8c2VjdGlvbj5cbiAgICAgIHthcnRpc3RzLm1hcChhcnRpc3QgPT4ge1xuICAgICAgICByZXR1cm4gPGxpIHN0eWxlPXt7bWluSGVpZ2h0OiAxMDB9fT5cbiAgICAgICAgICA8TGluayB0bz0nYXJ0aXN0JyBwYXJhbXM9e3tpZDogYXJ0aXN0LkNvbnN0aXR1ZW50SUQgfHwgNDQzfX0+XG4gICAgICAgICAgICB7YXJ0aXN0LkRpc3BsYXlOYW1lfVxuICAgICAgICAgIDwvTGluaz5cblxuICAgICAgICAgIDxMYXp5TG9hZCBzdHlsZT17e21pbkhlaWdodDogMjAwfX0+XG4gICAgICAgICAgICA8UGVla1xuICAgICAgICAgICAgICBmYWNldD1cImFydGlzdFwiXG4gICAgICAgICAgICAgIHE9e2FydGlzdC5EaXNwbGF5TmFtZX1cbiAgICAgICAgICAgICAgcXVpbHRQcm9wcz17e21heFJvd0hlaWdodDogMzAwfX1cbiAgICAgICAgICAgICAgc2hvd1NpbmdsZVJlc3VsdD17dHJ1ZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9MYXp5TG9hZD5cbiAgICAgICAgPC9saT5cbiAgICAgIH0pfVxuXG4gICAgICA8SGVsbWV0IHRpdGxlPXtgQWxsIEFydGlzdHMgYXQgTWlhYH0gLz5cbiAgICA8L3NlY3Rpb24+XG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IFBlb3BsZVxuXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "people.js"
      ],
      "names": [
        "React",
        "require",
        "Router",
        "Link",
        "rest",
        "Helmet",
        "toSlug",
        "LazyLoad",
        "default",
        "Search",
        "SearchResults",
        "Peek",
        "People",
        "createClass",
        "statics",
        "fetchData",
        "artists",
        "params",
        "query",
        "then",
        "r",
        "json",
        "JSON",
        "parse",
        "entity",
        "console",
        "info",
        "window",
        "componentDidMount",
        "props",
        "toggleAppHeader",
        "render",
        "data",
        "map",
        "minHeight",
        "id",
        "artist",
        "ConstituentID",
        "DisplayName",
        "maxRowHeight",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;AACA,IAAIC,SAASD,QAAQ,cAAR,CAAb;IACME,I,GAASD,M,CAATC,I;;AACN,IAAIC,OAAOH,QAAQ,MAAR,CAAX;AACA,IAAII,SAASJ,QAAQ,cAAR,CAAb;AACA,IAAIK,SAASL,QAAQ,aAAR,CAAb;AACA,IAAIM,WAAWN,QAAQ,iBAAR,EAA2BO,OAA1C;;AAEA,IAAIC,SAASR,QAAQ,UAAR,CAAb;AACA,IAAIS,gBAAgBT,QAAQ,kBAAR,CAApB;AACA,IAAIU,OAAOV,QAAQ,QAAR,CAAX;;AAEA,IAAIW,SAASZ,MAAMa,WAAN,CAAkB;AAAA;;AAC7BC,WAAS;AACPC,eAAW;AACTC,eAAS,iBAACC,MAAD,EAASC,KAAT,EAAmB;AAC1B,eAAOd,2CACNe,IADM,CACD,UAACC,CAAD,EAAO;AACX,cAAMC,OAAOC,KAAKC,KAAL,CAAWH,EAAEI,MAAb,CAAb;AACAC,kBAAQC,IAAR,CAAa,gBAAb,EAA+BT,MAA/B,EAAuCI,IAAvC;AACAM,iBAAOX,OAAP,GAAiBK,IAAjB;AACA,iBAAOA,IAAP;AACD,SANM,CAAP;AAOD;AATQ;AADJ,GADoB;;AAe7BO,mBAf6B,+BAeT;AAClB,SAAKC,KAAL,CAAWC,eAAX;AACD,GAjB4B;AAmB7BC,QAnB6B,oBAmBpB;AAAA,QACFf,OADE,GACS,KAAKa,KAAL,CAAWG,IADpB,CACFhB,OADE;;;AAGP,WAAO;AAAA;AAAA;AACJA,cAAQiB,GAAR,CAAY,kBAAU;AACrB,eAAO;AAAA;AAAA,YAAI,OAAO,EAACC,WAAW,GAAZ,EAAX;AACL;AAAC,gBAAD;AAAA,cAAM,IAAG,QAAT,EAAkB,QAAQ,EAACC,IAAIC,OAAOC,aAAP,IAAwB,GAA7B,EAA1B;AACGD,mBAAOE;AADV,WADK;AAKL;AAAC,oBAAD;AAAA,cAAU,OAAO,EAACJ,WAAW,GAAZ,EAAjB;AACE,gCAAC,IAAD;AACE,qBAAM,QADR;AAEE,iBAAGE,OAAOE,WAFZ;AAGE,0BAAY,EAACC,cAAc,GAAf,EAHd;AAIE,gCAAkB;AAJpB;AADF;AALK,SAAP;AAcD,OAfA,CADI;AAkBL,0BAAC,MAAD,IAAQ,2BAAR;AAlBK,KAAP;AAoBD;AA1C4B,CAAlB,CAAb;;AA6CAC,OAAOC,OAAP,GAAiB7B,MAAjB",
      "file": "people.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar { Link } = Router\nvar rest = require('rest')\nvar Helmet = require('react-helmet')\nvar toSlug = require('speakingurl')\nvar LazyLoad = require('react-lazy-load').default\n\nvar Search = require('./search')\nvar SearchResults = require('./search-results')\nvar Peek = require('./peek')\n\nvar People = React.createClass({\n  statics: {\n    fetchData: {\n      artists: (params, query) => {\n        return rest(`http://localhost:4680/people/index`)\n        .then((r) => {\n          const json = JSON.parse(r.entity)\n          console.info('artists People', params, json)\n          window.artists = json\n          return json\n        })\n      }\n    }\n  },\n\n  componentDidMount() {\n    this.props.toggleAppHeader()\n  },\n\n  render() {\n    var {artists} = this.props.data\n\n    return <section>\n      {artists.map(artist => {\n        return <li style={{minHeight: 100}}>\n          <Link to='artist' params={{id: artist.ConstituentID || 443}}>\n            {artist.DisplayName}\n          </Link>\n\n          <LazyLoad style={{minHeight: 200}}>\n            <Peek\n              facet=\"artist\"\n              q={artist.DisplayName}\n              quiltProps={{maxRowHeight: 300}}\n              showSingleResult={true}\n            />\n          </LazyLoad>\n        </li>\n      })}\n\n      <Helmet title={`All Artists at Mia`} />\n    </section>\n  },\n})\n\nmodule.exports = People\n\n"
      ]
    },
    "mtime": 1513567949914
  },
  "{\"filename\":\"/var/www/art/src/console-welcome-message.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/console-welcome-message.js",
      "filenameRelative": "/var/www/art/src/console-welcome-message.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "console-welcome-message.js",
      "sourceFileName": "console-welcome-message.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "console-welcome-message"
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = function () {\n  var whiteTextOnBlackWithPadding = '\\n    font-family: MiaGrotesk-Light, Arial;\\n    background-color: #232323;\\n    color: white;\\n    padding: .5em;\\n    font-size: 2em;\\n    line-height: 3em;\\n  ';\n\n  window.console && console.log('%cminneapolis institute of art\\n%c\\u201CInspiring wonder through the power of art.\\u201D\\n\\nhttps://collections.artsmia.org/info/open-access\\nhttps://github.com/artsmia/art', whiteTextOnBlackWithPadding, '');\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnNvbGUtd2VsY29tZS1tZXNzYWdlLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJ3aGl0ZVRleHRPbkJsYWNrV2l0aFBhZGRpbmciLCJ3aW5kb3ciLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiOztBQUFBQSxPQUFPQyxPQUFQLEdBQWlCLFlBQU07QUFDckIsTUFBTUMsa01BQU47O0FBU0FDLFNBQU9DLE9BQVAsSUFDRUEsUUFBUUMsR0FBUixpTEFFRUgsMkJBRkYsRUFHRSxFQUhGLENBREY7QUFNRCxDQWhCRCIsImZpbGUiOiJjb25zb2xlLXdlbGNvbWUtbWVzc2FnZS5qcyIsInNvdXJjZVJvb3QiOiIvdmFyL3d3dy9hcnQvc3JjIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSAoKSA9PiB7XG4gIGNvbnN0IHdoaXRlVGV4dE9uQmxhY2tXaXRoUGFkZGluZyA9IGBcbiAgICBmb250LWZhbWlseTogTWlhR3JvdGVzay1MaWdodCwgQXJpYWw7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzIzMjMyMztcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgcGFkZGluZzogLjVlbTtcbiAgICBmb250LXNpemU6IDJlbTtcbiAgICBsaW5lLWhlaWdodDogM2VtO1xuICBgXG5cbiAgd2luZG93LmNvbnNvbGUgJiZcbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIGAlY21pbm5lYXBvbGlzIGluc3RpdHV0ZSBvZiBhcnRcXG4lY+KAnEluc3BpcmluZyB3b25kZXIgdGhyb3VnaCB0aGUgcG93ZXIgb2YgYXJ0LuKAnVxcblxcbmh0dHBzOi8vY29sbGVjdGlvbnMuYXJ0c21pYS5vcmcvaW5mby9vcGVuLWFjY2Vzc1xcbmh0dHBzOi8vZ2l0aHViLmNvbS9hcnRzbWlhL2FydGAsXG4gICAgICB3aGl0ZVRleHRPbkJsYWNrV2l0aFBhZGRpbmcsXG4gICAgICAnJ1xuICAgIClcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "console-welcome-message.js"
      ],
      "names": [
        "module",
        "exports",
        "whiteTextOnBlackWithPadding",
        "window",
        "console",
        "log"
      ],
      "mappings": ";;AAAAA,OAAOC,OAAP,GAAiB,YAAM;AACrB,MAAMC,kMAAN;;AASAC,SAAOC,OAAP,IACEA,QAAQC,GAAR,iLAEEH,2BAFF,EAGE,EAHF,CADF;AAMD,CAhBD",
      "file": "console-welcome-message.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "module.exports = () => {\n  const whiteTextOnBlackWithPadding = `\n    font-family: MiaGrotesk-Light, Arial;\n    background-color: #232323;\n    color: white;\n    padding: .5em;\n    font-size: 2em;\n    line-height: 3em;\n  `\n\n  window.console &&\n    console.log(\n      `%cminneapolis institute of art\\n%c“Inspiring wonder through the power of art.”\\n\\nhttps://collections.artsmia.org/info/open-access\\nhttps://github.com/artsmia/art`,\n      whiteTextOnBlackWithPadding,\n      ''\n    )\n}\n"
      ]
    },
    "mtime": 1520892503906
  },
  "{\"filename\":\"/var/www/art/src/decorate/audio.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src/decorate\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "toConsumableArray",
        "extends",
        "defineProperty"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/decorate/audio.js",
      "filenameRelative": "/var/www/art/src/decorate/audio.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "audio.js",
      "sourceFileName": "audio.js",
      "sourceRoot": "/var/www/art/src/decorate",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src/decorate",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "audio"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n/** @format\n *\n * Decorate a search by 'lifting' results with audio up to the top\n *\n * TODO\n * show controls and audio info overall play/pause, number of stops in playlist?\n * show progress while audio plays?\n * restart, skip back/forward 15 seconds?\n * better distinguish playing card from paused cards in playlist view\n * bug with autoPlay and announcing titles - it doesn't happen until card #3 (should kick inon card #2)\n * maintain audio playing when decorator window closes? … what about on page navigation?\n * linear gradient behind the play/pause icons to ensure visibility?\n */\n\nvar React = require('react');\n\nvar Image = require('../image');\n\nvar _require = require('../artwork/creator'),\n    getFacetAndValue = _require.getFacetAndValue;\n\nvar AudioDecorator = React.createClass({\n  displayName: 'AudioDecorator',\n  render: function render() {\n    var term = this.props.term[0];\n    var hits = this.props.hits;\n\n    var hitsWithAudio = hits && hits.filter(function (hit) {\n      return hit._source['related:audio-stops'];\n    });\n\n    var matchingAudioStop = hitsWithAudio.find(function (hit) {\n      var hitAudioNumber = hit._source['related:audio-stops'][0].number;\n      return hitAudioNumber === term || hitAudioNumber === '0{term}';\n    });\n\n    var isAudioNumberSearchTerm = term.match(/\\d{1,3}/);\n    var zeroPadTerm = parseInt(term).toLocaleString('en-US', {\n      minimumIntegerDigits: 3,\n      useGrouping: false\n    });\n    var matchingAudioWithoutArtworkConnection = isAudioNumberSearchTerm && 'http://audio-tours.s3.amazonaws.com/p' + zeroPadTerm + '.mp3';\n\n    // TODOoooo - 1 and two digit audio numbers aren't caught by ES\n    // when \"97\" is searched for, the results from ES don't include the artwork\n    // with audio number \"097\", so it can't be lifted up into the audio bar.\n    // zero-padding the term allows the audio interface to show without the artwork\n    // info, which is better than nothing.\n    //\n    // IDEA - could searches foor single and two digit numbers be modified when going\n    // into ES to `originalTerm | <0+originalTerm>`?\n\n    var otherHitsWithAudio = hitsWithAudio.filter(function (hit) {\n      return hit !== matchingAudioStop;\n    });\n\n    if (!hits || !matchingAudioStop && !otherHitsWithAudio) return React.createElement('span', null);\n\n    return React.createElement(\n      'div',\n      {\n        className: 'decorator audio',\n        style: { overflow: 'scroll', maxWidth: '100%' }\n      },\n      (matchingAudioStop || otherHitsWithAudio) && React.createElement(AudioStopLifter, {\n        hit: matchingAudioStop,\n        hitsWithAudio: otherHitsWithAudio,\n        directAudioLink: matchingAudioWithoutArtworkConnection,\n        forceSearchUpdate: this.props.forceSearchUpdate\n      })\n    );\n  }\n});\n\n/**\n * 'Lifts' a lower search result into featured position - here an audio stop\n * whose stop number directly matches what was typed into the search, but may not\n * be the first result returned by ES\n *\n * IDEA could we lift all audio stops from a search result to show them in a horizontal scroller?\n * so a search for 'horse' would cue up a playlist of horse-themed audio?\n * blog the sequence of recreating our old audio stop finder and morphing it into a 'player'?\n */\nvar AudioStopLifter = React.createClass({\n  displayName: 'AudioStopLifter',\n  getInitialState: function getInitialState() {\n    return {\n      playing: false,\n      playingId: this.props.hit || this.props.hitsWithAudio[0],\n      played: [],\n      playNext: undefined,\n      showPlaylist: false\n    };\n  },\n  render: function render() {\n    var _this = this;\n\n    var _props = this.props,\n        hit = _props.hit,\n        hitsWithAudio = _props.hitsWithAudio,\n        directAudioLink = _props.directAudioLink;\n    var _state = this.state,\n        showPlaylist = _state.showPlaylist,\n        playNextId = _state.playNextId,\n        errorLoadingAudioFile = _state.errorLoadingAudioFile;\n\n\n    if (!hit && directAudioLink && !errorLoadingAudioFile) {\n      return React.createElement('audio', {\n        src: directAudioLink,\n        controls: true,\n        onError: function onError() {\n          _this.setState({ errorLoadingAudioFile: true });\n        }\n      });\n    }\n\n    if (!hit && hitsWithAudio.length === 0) return React.createElement('span', null);\n\n    var playlist = [hit].concat(_toConsumableArray(hitsWithAudio)).filter(function (id) {\n      return id;\n    });\n\n    var audioCardProps = {\n      handlePlayStart: this.handlePlayStart,\n      handlePlayEnd: this.handlePlayEnd,\n      forceSearchUpdate: this.props.forceSearchUpdate,\n      playingId: this.state.playingId,\n      playing: this.state.playing\n    };\n\n    var audioCards = hit && !showPlaylist ? React.createElement(AudioCard, _extends({\n      hit: hit || hitsWithAudio[0],\n      forceSearchUpdate: this.props.forceSearchUpdate\n    }, audioCardProps)) : playlist.map(function (_hit, index) {\n      var shouldAutoPlay = playNextId ? _this.state.playNextId === _hit._id : false && index === 0;\n\n      return React.createElement(AudioCard, _extends({\n        hit: _hit,\n        directMatch: hit === _hit,\n        key: _hit._id,\n        autoPlay: shouldAutoPlay\n      }, audioCardProps));\n    });\n\n    var playlistToggler = React.createElement(\n      'button',\n      { onClick: function onClick() {\n          return _this.setState({ showPlaylist: !showPlaylist });\n        } },\n      'toggle playlist'\n    );\n\n    return React.createElement(\n      'div',\n      {\n        style: { display: 'flex', flexDirection: 'row', marginLeft: 'auto' }\n      },\n      audioCards,\n      hit && hitsWithAudio.length > 1 && playlistToggler\n    );\n  },\n  handlePlayStart: function handlePlayStart(art) {\n    this.setState({ playing: true, playingId: art.id });\n  },\n  handlePlayEnd: function handlePlayEnd(endedStopArt) {\n    var _props2 = this.props,\n        hit = _props2.hit,\n        hitsWithAudio = _props2.hitsWithAudio;\n\n    var playlist = [hit].concat(_toConsumableArray(hitsWithAudio)).filter(function (id) {\n      return id;\n    });\n    var endedIndex = playlist.findIndex(function (t) {\n      return endedStopArt.id === t._id;\n    });\n    var nextTrack = playlist[endedIndex + 1];\n\n    this.setState({\n      playNextId: nextTrack && nextTrack._id,\n      playingId: nextTrack && nextTrack._id,\n      played: this.state.played.concat(endedStopArt.id)\n    });\n\n    if (!nextTrack) {\n      // TODO speak indication of the end of the playlist?\n    }\n  }\n});\n\nvar AudioCard = React.createClass({\n  displayName: 'AudioCard',\n  getInitialState: function getInitialState() {\n    return { imageHovered: false };\n  },\n  render: function render() {\n    var _this2 = this;\n\n    var imageHovered = this.state.imageHovered;\n    var _props3 = this.props,\n        hit = _props3.hit,\n        handlePlayStart = _props3.handlePlayStart,\n        handlePlayEnd = _props3.handlePlayEnd,\n        autoPlay = _props3.autoPlay,\n        forceSearchUpdate = _props3.forceSearchUpdate;\n\n\n    var art = hit && hit._source;\n    var audio = art['related:audio-stops'][0];\n\n    var baseWidth = 300;\n    var baseHeight = 150;\n    var maxWidth = imageHovered ? baseWidth * 2 : baseWidth;\n    var maxHeight = imageHovered ? baseHeight * 2 : baseHeight;\n\n    var fav = getFacetAndValue(art);\n    var artCreator = fav && fav[1] ? fav[1].split(';')[0] : '';\n\n    var isPaused = this.audio ? this.audio.paused : true;\n\n    var pausedIconSvg = 'data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"><path d=\"M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zm0 14.5c-3.59 0-6.5-2.91-6.5-6.5s2.91-6.5 6.5-6.5 6.5 2.91 6.5 6.5-2.91 6.5-6.5 6.5zm-2-10l6 3.5-6 3.5z\"/></svg>';\n    var playIconSvg = 'data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"><path d=\"M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zm0 14.5c-3.59 0-6.5-2.91-6.5-6.5s2.91-6.5 6.5-6.5 6.5 2.91 6.5 6.5-2.91 6.5-6.5 6.5zm-3-9.5h2v6h-2zm4 0h2v6h-2z\"/></svg>';\n    var maskSvg = !!isPaused ? pausedIconSvg : playIconSvg;\n\n    var playIconMask = React.createElement(\n      'div',\n      {\n        style: {\n          WebkitFilter: 'drop-shadow(1px 1px 4px rgba(0, 0, 0, 0.75))'\n        }\n      },\n      React.createElement('div', {\n        style: {\n          maskImage: 'url(\\'' + maskSvg + '\\')',\n          WebkitMaskImage: 'url(\\'' + maskSvg + '\\')',\n          display: 'inline-block',\n          width: '30%',\n          height: '30%',\n          content: \"''\",\n          color: '#666',\n          maskRepeat: 'no-repeat',\n          WebkitMaskRepeat: 'no-repeat',\n          maskSize: 'contain',\n          WebkitMaskSize: 'contain',\n          backgroundColor: '#eee',\n          padding: '0 5px 0 0',\n          opacity: '0.9',\n          position: 'absolute',\n          bottom: '5%',\n          left: '2%',\n          pointerEvents: 'none',\n          minHeight: 51\n        }\n      })\n    );\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'figure',\n        { className: 'audioClip', style: { maxWidth: '71%' } },\n        React.createElement(\n          'div',\n          { style: { position: 'relative' } },\n          React.createElement(Image, {\n            art: art,\n            style: { maxWidth: maxWidth, maxHeight: maxHeight },\n            onClick: this.playPause\n            // onMouseEnter={() => this.setState({ imageHovered: true })}\n            // onMouseLeave={() => this.setState({ imageHovered: false })}\n          }),\n          playIconMask\n        ),\n        React.createElement(\n          'figcaption',\n          null,\n          React.createElement(\n            'p',\n            null,\n            React.createElement(\n              'strong',\n              null,\n              art.title\n            ),\n            ', ',\n            React.createElement(\n              'em',\n              null,\n              artCreator\n            ),\n            ' #',\n            audio.number\n          )\n        ),\n        React.createElement('audio', {\n          style: _defineProperty({\n            maxWidth: '100%',\n            visibility: this.audio && isPaused ? 'hidden' : 'visible'\n          }, 'visibility', 'hidden'),\n          src: audio.link.replace('http:', 'https:'),\n          controls: true,\n          onPlay: this.handlePlay,\n          onEnded: function onEnded() {\n            return handlePlayEnd(art);\n          },\n          onError: function onError() {\n            console.error('TODO handle when audio file isnt on s3 - error playing audio for', art);\n            handlePlayEnd(art);\n          },\n          ref: function ref(audio) {\n            _this2.audio = audio;\n          }\n        })\n      )\n    );\n  },\n\n\n  // TODO only allow one card to play at a a time\n  componentDidUpdate: function componentDidUpdate() {\n    var audio = this.audio;\n    var hit = this.props.hit;\n\n    var art = hit._source;\n\n    if (audio && this.props.autoPlay && audio.currentTime === 0) {\n      audio.scrollIntoViewIfNeeded();\n      audio.play();\n    }\n\n    if (!audio.paused && this.props.playingId !== art.id) audio.pause();\n  },\n  handlePlay: function handlePlay() {\n    var audio = this.audio;\n\n    var art = this.props.hit._source;\n    this.props.forceSearchUpdate(this.props.hit);\n    this.props.handlePlayStart(art);\n\n    if (audio.currentTime > 0) {\n      audio.volume = 1;\n      return;\n    }\n\n    if (!this.props.autoPlay) {\n      audio.play();\n      return;\n    }\n\n    // if just starting, speak the artwork title over the audio stop\n    // and then reset to play audio from beginning\n    var prevVolume = audio.volume;\n    var prevTime = audio.currentTime;\n    audio.volume = 0;\n    audio.playbackRate = 0.1;\n    this.speakAudioIntroduction();\n\n    var restartAudioPlaying = function restartAudioPlaying() {\n      var needleTime = prevTime === 0 ? 0.001 : prevTime;\n      audio.playbackRate = 1;\n      audio.volume = prevVolume;\n      audio.currentTime = needleTime;\n    };\n\n    var delayAudioStopWhileSpeaking = function delayAudioStopWhileSpeaking() {\n      var count = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n      setTimeout(function () {\n        speechSynthesis.pending || speechSynthesis.speaking ? delayAudioStopWhileSpeaking(count + 1) : setTimeout(restartAudioPlaying, 300);\n      }, 100 * count);\n    };\n\n    delayAudioStopWhileSpeaking();\n  },\n  playPause: function playPause(evt) {\n    var audio = this.audio;\n\n    audio && audio.paused ? audio.play() : audio.pause();\n    this.setState(function (prevState) {\n      return prevState;\n    });\n  },\n  speakAudioIntroduction: function speakAudioIntroduction() {\n    var art = this.props.hit._source;\n    var fav = getFacetAndValue(art);\n    var artCreator = fav && fav[1] ? fav[1].split(';')[0] : '';\n\n    if ('speechSynthesis' in window && window.speechSynthesis.getVoices().length > 0) {\n      var sp = window.speechSynthesis;\n      var speakArtworkInfo = new SpeechSynthesisUtterance();\n      var artworkIntro = [art.title.replace(/<\\/?i>/g, ''), artCreator].join(' ');\n      speakArtworkInfo.text = artworkIntro;\n      sp.speak(speakArtworkInfo);\n    }\n  }\n});\n\nmodule.exports = AudioDecorator;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1ZGlvLmpzIl0sIm5hbWVzIjpbIlJlYWN0IiwicmVxdWlyZSIsIkltYWdlIiwiZ2V0RmFjZXRBbmRWYWx1ZSIsIkF1ZGlvRGVjb3JhdG9yIiwiY3JlYXRlQ2xhc3MiLCJyZW5kZXIiLCJ0ZXJtIiwicHJvcHMiLCJoaXRzIiwiaGl0c1dpdGhBdWRpbyIsImZpbHRlciIsImhpdCIsIl9zb3VyY2UiLCJtYXRjaGluZ0F1ZGlvU3RvcCIsImZpbmQiLCJoaXRBdWRpb051bWJlciIsIm51bWJlciIsImlzQXVkaW9OdW1iZXJTZWFyY2hUZXJtIiwibWF0Y2giLCJ6ZXJvUGFkVGVybSIsInBhcnNlSW50IiwidG9Mb2NhbGVTdHJpbmciLCJtaW5pbXVtSW50ZWdlckRpZ2l0cyIsInVzZUdyb3VwaW5nIiwibWF0Y2hpbmdBdWRpb1dpdGhvdXRBcnR3b3JrQ29ubmVjdGlvbiIsIm90aGVySGl0c1dpdGhBdWRpbyIsIm92ZXJmbG93IiwibWF4V2lkdGgiLCJmb3JjZVNlYXJjaFVwZGF0ZSIsIkF1ZGlvU3RvcExpZnRlciIsImdldEluaXRpYWxTdGF0ZSIsInBsYXlpbmciLCJwbGF5aW5nSWQiLCJwbGF5ZWQiLCJwbGF5TmV4dCIsInVuZGVmaW5lZCIsInNob3dQbGF5bGlzdCIsImRpcmVjdEF1ZGlvTGluayIsInN0YXRlIiwicGxheU5leHRJZCIsImVycm9yTG9hZGluZ0F1ZGlvRmlsZSIsInNldFN0YXRlIiwibGVuZ3RoIiwicGxheWxpc3QiLCJpZCIsImF1ZGlvQ2FyZFByb3BzIiwiaGFuZGxlUGxheVN0YXJ0IiwiaGFuZGxlUGxheUVuZCIsImF1ZGlvQ2FyZHMiLCJtYXAiLCJfaGl0IiwiaW5kZXgiLCJzaG91bGRBdXRvUGxheSIsIl9pZCIsInBsYXlsaXN0VG9nZ2xlciIsImRpc3BsYXkiLCJmbGV4RGlyZWN0aW9uIiwibWFyZ2luTGVmdCIsImFydCIsImVuZGVkU3RvcEFydCIsImVuZGVkSW5kZXgiLCJmaW5kSW5kZXgiLCJ0IiwibmV4dFRyYWNrIiwiY29uY2F0IiwiQXVkaW9DYXJkIiwiaW1hZ2VIb3ZlcmVkIiwiYXV0b1BsYXkiLCJhdWRpbyIsImJhc2VXaWR0aCIsImJhc2VIZWlnaHQiLCJtYXhIZWlnaHQiLCJmYXYiLCJhcnRDcmVhdG9yIiwic3BsaXQiLCJpc1BhdXNlZCIsInBhdXNlZCIsInBhdXNlZEljb25TdmciLCJwbGF5SWNvblN2ZyIsIm1hc2tTdmciLCJwbGF5SWNvbk1hc2siLCJXZWJraXRGaWx0ZXIiLCJtYXNrSW1hZ2UiLCJXZWJraXRNYXNrSW1hZ2UiLCJ3aWR0aCIsImhlaWdodCIsImNvbnRlbnQiLCJjb2xvciIsIm1hc2tSZXBlYXQiLCJXZWJraXRNYXNrUmVwZWF0IiwibWFza1NpemUiLCJXZWJraXRNYXNrU2l6ZSIsImJhY2tncm91bmRDb2xvciIsInBhZGRpbmciLCJvcGFjaXR5IiwicG9zaXRpb24iLCJib3R0b20iLCJsZWZ0IiwicG9pbnRlckV2ZW50cyIsIm1pbkhlaWdodCIsInBsYXlQYXVzZSIsInRpdGxlIiwidmlzaWJpbGl0eSIsImxpbmsiLCJyZXBsYWNlIiwiaGFuZGxlUGxheSIsImNvbnNvbGUiLCJlcnJvciIsImNvbXBvbmVudERpZFVwZGF0ZSIsImN1cnJlbnRUaW1lIiwic2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCIsInBsYXkiLCJwYXVzZSIsInZvbHVtZSIsInByZXZWb2x1bWUiLCJwcmV2VGltZSIsInBsYXliYWNrUmF0ZSIsInNwZWFrQXVkaW9JbnRyb2R1Y3Rpb24iLCJyZXN0YXJ0QXVkaW9QbGF5aW5nIiwibmVlZGxlVGltZSIsImRlbGF5QXVkaW9TdG9wV2hpbGVTcGVha2luZyIsImNvdW50Iiwic2V0VGltZW91dCIsInNwZWVjaFN5bnRoZXNpcyIsInBlbmRpbmciLCJzcGVha2luZyIsImV2dCIsInByZXZTdGF0ZSIsIndpbmRvdyIsImdldFZvaWNlcyIsInNwIiwic3BlYWtBcnR3b3JrSW5mbyIsIlNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZSIsImFydHdvcmtJbnRybyIsImpvaW4iLCJ0ZXh0Iiwic3BlYWsi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L3Zhci93d3cvYXJ0L3NyYy9kZWNvcmF0ZSIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAZm9ybWF0XG4gKlxuICogRGVjb3JhdGUgYSBzZWFyY2ggYnkgJ2xpZnRpbmcnIHJlc3VsdHMgd2l0aCBhdWRpbyB1cCB0byB0aGUgdG9wXG4gKlxuICogVE9ET1xuICogc2hvdyBjb250cm9scyBhbmQgYXVkaW8gaW5mbyBvdmVyYWxsIHBsYXkvcGF1c2UsIG51bWJlciBvZiBzdG9wcyBpbiBwbGF5bGlzdD9cbiAqIHNob3cgcHJvZ3Jlc3Mgd2hpbGUgYXVkaW8gcGxheXM/XG4gKiByZXN0YXJ0LCBza2lwIGJhY2svZm9yd2FyZCAxNSBzZWNvbmRzP1xuICogYmV0dGVyIGRpc3Rpbmd1aXNoIHBsYXlpbmcgY2FyZCBmcm9tIHBhdXNlZCBjYXJkcyBpbiBwbGF5bGlzdCB2aWV3XG4gKiBidWcgd2l0aCBhdXRvUGxheSBhbmQgYW5ub3VuY2luZyB0aXRsZXMgLSBpdCBkb2Vzbid0IGhhcHBlbiB1bnRpbCBjYXJkICMzIChzaG91bGQga2ljayBpbm9uIGNhcmQgIzIpXG4gKiBtYWludGFpbiBhdWRpbyBwbGF5aW5nIHdoZW4gZGVjb3JhdG9yIHdpbmRvdyBjbG9zZXM/IOKApiB3aGF0IGFib3V0IG9uIHBhZ2UgbmF2aWdhdGlvbj9cbiAqIGxpbmVhciBncmFkaWVudCBiZWhpbmQgdGhlIHBsYXkvcGF1c2UgaWNvbnMgdG8gZW5zdXJlIHZpc2liaWxpdHk/XG4gKi9cblxudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxuXG5jb25zdCBJbWFnZSA9IHJlcXVpcmUoJy4uL2ltYWdlJylcbnZhciB7IGdldEZhY2V0QW5kVmFsdWUgfSA9IHJlcXVpcmUoJy4uL2FydHdvcmsvY3JlYXRvcicpXG5cbnZhciBBdWRpb0RlY29yYXRvciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHRlcm0gPSB0aGlzLnByb3BzLnRlcm1bMF1cbiAgICBjb25zdCBoaXRzID0gdGhpcy5wcm9wcy5oaXRzXG5cbiAgICBjb25zdCBoaXRzV2l0aEF1ZGlvID1cbiAgICAgIGhpdHMgJiYgaGl0cy5maWx0ZXIoKGhpdCkgPT4gaGl0Ll9zb3VyY2VbJ3JlbGF0ZWQ6YXVkaW8tc3RvcHMnXSlcblxuICAgIGNvbnN0IG1hdGNoaW5nQXVkaW9TdG9wID0gaGl0c1dpdGhBdWRpby5maW5kKChoaXQpID0+IHtcbiAgICAgIGNvbnN0IGhpdEF1ZGlvTnVtYmVyID0gaGl0Ll9zb3VyY2VbJ3JlbGF0ZWQ6YXVkaW8tc3RvcHMnXVswXS5udW1iZXJcbiAgICAgIHJldHVybiBoaXRBdWRpb051bWJlciA9PT0gdGVybSB8fCBoaXRBdWRpb051bWJlciA9PT0gYDB7dGVybX1gXG4gICAgfSlcblxuICAgIGNvbnN0IGlzQXVkaW9OdW1iZXJTZWFyY2hUZXJtID0gdGVybS5tYXRjaCgvXFxkezEsM30vKVxuICAgIGNvbnN0IHplcm9QYWRUZXJtID0gcGFyc2VJbnQodGVybSkudG9Mb2NhbGVTdHJpbmcoJ2VuLVVTJywge1xuICAgICAgbWluaW11bUludGVnZXJEaWdpdHM6IDMsXG4gICAgICB1c2VHcm91cGluZzogZmFsc2UsXG4gICAgfSlcbiAgICBjb25zdCBtYXRjaGluZ0F1ZGlvV2l0aG91dEFydHdvcmtDb25uZWN0aW9uID1cbiAgICAgIGlzQXVkaW9OdW1iZXJTZWFyY2hUZXJtICYmXG4gICAgICBgaHR0cDovL2F1ZGlvLXRvdXJzLnMzLmFtYXpvbmF3cy5jb20vcCR7emVyb1BhZFRlcm19Lm1wM2BcblxuICAgIC8vIFRPRE9vb29vIC0gMSBhbmQgdHdvIGRpZ2l0IGF1ZGlvIG51bWJlcnMgYXJlbid0IGNhdWdodCBieSBFU1xuICAgIC8vIHdoZW4gXCI5N1wiIGlzIHNlYXJjaGVkIGZvciwgdGhlIHJlc3VsdHMgZnJvbSBFUyBkb24ndCBpbmNsdWRlIHRoZSBhcnR3b3JrXG4gICAgLy8gd2l0aCBhdWRpbyBudW1iZXIgXCIwOTdcIiwgc28gaXQgY2FuJ3QgYmUgbGlmdGVkIHVwIGludG8gdGhlIGF1ZGlvIGJhci5cbiAgICAvLyB6ZXJvLXBhZGRpbmcgdGhlIHRlcm0gYWxsb3dzIHRoZSBhdWRpbyBpbnRlcmZhY2UgdG8gc2hvdyB3aXRob3V0IHRoZSBhcnR3b3JrXG4gICAgLy8gaW5mbywgd2hpY2ggaXMgYmV0dGVyIHRoYW4gbm90aGluZy5cbiAgICAvL1xuICAgIC8vIElERUEgLSBjb3VsZCBzZWFyY2hlcyBmb29yIHNpbmdsZSBhbmQgdHdvIGRpZ2l0IG51bWJlcnMgYmUgbW9kaWZpZWQgd2hlbiBnb2luZ1xuICAgIC8vIGludG8gRVMgdG8gYG9yaWdpbmFsVGVybSB8IDwwK29yaWdpbmFsVGVybT5gP1xuXG4gICAgY29uc3Qgb3RoZXJIaXRzV2l0aEF1ZGlvID0gaGl0c1dpdGhBdWRpby5maWx0ZXIoXG4gICAgICAoaGl0KSA9PiBoaXQgIT09IG1hdGNoaW5nQXVkaW9TdG9wXG4gICAgKVxuXG4gICAgaWYgKCFoaXRzIHx8ICghbWF0Y2hpbmdBdWRpb1N0b3AgJiYgIW90aGVySGl0c1dpdGhBdWRpbykpIHJldHVybiA8c3BhbiAvPlxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPVwiZGVjb3JhdG9yIGF1ZGlvXCJcbiAgICAgICAgc3R5bGU9e3sgb3ZlcmZsb3c6ICdzY3JvbGwnLCBtYXhXaWR0aDogJzEwMCUnIH19XG4gICAgICA+XG4gICAgICAgIHsobWF0Y2hpbmdBdWRpb1N0b3AgfHwgb3RoZXJIaXRzV2l0aEF1ZGlvKSAmJiAoXG4gICAgICAgICAgPEF1ZGlvU3RvcExpZnRlclxuICAgICAgICAgICAgaGl0PXttYXRjaGluZ0F1ZGlvU3RvcH1cbiAgICAgICAgICAgIGhpdHNXaXRoQXVkaW89e290aGVySGl0c1dpdGhBdWRpb31cbiAgICAgICAgICAgIGRpcmVjdEF1ZGlvTGluaz17bWF0Y2hpbmdBdWRpb1dpdGhvdXRBcnR3b3JrQ29ubmVjdGlvbn1cbiAgICAgICAgICAgIGZvcmNlU2VhcmNoVXBkYXRlPXt0aGlzLnByb3BzLmZvcmNlU2VhcmNoVXBkYXRlfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH0sXG59KVxuXG4vKipcbiAqICdMaWZ0cycgYSBsb3dlciBzZWFyY2ggcmVzdWx0IGludG8gZmVhdHVyZWQgcG9zaXRpb24gLSBoZXJlIGFuIGF1ZGlvIHN0b3BcbiAqIHdob3NlIHN0b3AgbnVtYmVyIGRpcmVjdGx5IG1hdGNoZXMgd2hhdCB3YXMgdHlwZWQgaW50byB0aGUgc2VhcmNoLCBidXQgbWF5IG5vdFxuICogYmUgdGhlIGZpcnN0IHJlc3VsdCByZXR1cm5lZCBieSBFU1xuICpcbiAqIElERUEgY291bGQgd2UgbGlmdCBhbGwgYXVkaW8gc3RvcHMgZnJvbSBhIHNlYXJjaCByZXN1bHQgdG8gc2hvdyB0aGVtIGluIGEgaG9yaXpvbnRhbCBzY3JvbGxlcj9cbiAqIHNvIGEgc2VhcmNoIGZvciAnaG9yc2UnIHdvdWxkIGN1ZSB1cCBhIHBsYXlsaXN0IG9mIGhvcnNlLXRoZW1lZCBhdWRpbz9cbiAqIGJsb2cgdGhlIHNlcXVlbmNlIG9mIHJlY3JlYXRpbmcgb3VyIG9sZCBhdWRpbyBzdG9wIGZpbmRlciBhbmQgbW9ycGhpbmcgaXQgaW50byBhICdwbGF5ZXInP1xuICovXG5jb25zdCBBdWRpb1N0b3BMaWZ0ZXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcGxheWluZzogZmFsc2UsXG4gICAgICBwbGF5aW5nSWQ6IHRoaXMucHJvcHMuaGl0IHx8IHRoaXMucHJvcHMuaGl0c1dpdGhBdWRpb1swXSxcbiAgICAgIHBsYXllZDogW10sXG4gICAgICBwbGF5TmV4dDogdW5kZWZpbmVkLFxuICAgICAgc2hvd1BsYXlsaXN0OiBmYWxzZSxcbiAgICB9XG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgaGl0LCBoaXRzV2l0aEF1ZGlvLCBkaXJlY3RBdWRpb0xpbmsgfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCB7IHNob3dQbGF5bGlzdCwgcGxheU5leHRJZCwgZXJyb3JMb2FkaW5nQXVkaW9GaWxlIH0gPSB0aGlzLnN0YXRlXG5cbiAgICBpZiAoIWhpdCAmJiBkaXJlY3RBdWRpb0xpbmsgJiYgIWVycm9yTG9hZGluZ0F1ZGlvRmlsZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGF1ZGlvXG4gICAgICAgICAgc3JjPXtkaXJlY3RBdWRpb0xpbmt9XG4gICAgICAgICAgY29udHJvbHNcbiAgICAgICAgICBvbkVycm9yPXsoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZXJyb3JMb2FkaW5nQXVkaW9GaWxlOiB0cnVlIH0pXG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAoIWhpdCAmJiBoaXRzV2l0aEF1ZGlvLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDxzcGFuIC8+XG5cbiAgICBjb25zdCBwbGF5bGlzdCA9IFtoaXQsIC4uLmhpdHNXaXRoQXVkaW9dLmZpbHRlcigoaWQpID0+IGlkKVxuXG4gICAgY29uc3QgYXVkaW9DYXJkUHJvcHMgPSB7XG4gICAgICBoYW5kbGVQbGF5U3RhcnQ6IHRoaXMuaGFuZGxlUGxheVN0YXJ0LFxuICAgICAgaGFuZGxlUGxheUVuZDogdGhpcy5oYW5kbGVQbGF5RW5kLFxuICAgICAgZm9yY2VTZWFyY2hVcGRhdGU6IHRoaXMucHJvcHMuZm9yY2VTZWFyY2hVcGRhdGUsXG4gICAgICBwbGF5aW5nSWQ6IHRoaXMuc3RhdGUucGxheWluZ0lkLFxuICAgICAgcGxheWluZzogdGhpcy5zdGF0ZS5wbGF5aW5nLFxuICAgIH1cblxuICAgIGNvbnN0IGF1ZGlvQ2FyZHMgPVxuICAgICAgaGl0ICYmICFzaG93UGxheWxpc3QgPyAoXG4gICAgICAgIDxBdWRpb0NhcmRcbiAgICAgICAgICBoaXQ9e2hpdCB8fCBoaXRzV2l0aEF1ZGlvWzBdfVxuICAgICAgICAgIGZvcmNlU2VhcmNoVXBkYXRlPXt0aGlzLnByb3BzLmZvcmNlU2VhcmNoVXBkYXRlfVxuICAgICAgICAgIHsuLi5hdWRpb0NhcmRQcm9wc31cbiAgICAgICAgLz5cbiAgICAgICkgOiAoXG4gICAgICAgIHBsYXlsaXN0Lm1hcCgoX2hpdCwgaW5kZXgpID0+IHtcbiAgICAgICAgICBjb25zdCBzaG91bGRBdXRvUGxheSA9IHBsYXlOZXh0SWRcbiAgICAgICAgICAgID8gdGhpcy5zdGF0ZS5wbGF5TmV4dElkID09PSBfaGl0Ll9pZFxuICAgICAgICAgICAgOiBmYWxzZSAmJiBpbmRleCA9PT0gMFxuXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxBdWRpb0NhcmRcbiAgICAgICAgICAgICAgaGl0PXtfaGl0fVxuICAgICAgICAgICAgICBkaXJlY3RNYXRjaD17aGl0ID09PSBfaGl0fVxuICAgICAgICAgICAgICBrZXk9e19oaXQuX2lkfVxuICAgICAgICAgICAgICBhdXRvUGxheT17c2hvdWxkQXV0b1BsYXl9XG4gICAgICAgICAgICAgIHsuLi5hdWRpb0NhcmRQcm9wc31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKVxuICAgICAgICB9KVxuICAgICAgKVxuXG4gICAgY29uc3QgcGxheWxpc3RUb2dnbGVyID0gKFxuICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiB0aGlzLnNldFN0YXRlKHsgc2hvd1BsYXlsaXN0OiAhc2hvd1BsYXlsaXN0IH0pfT5cbiAgICAgICAgdG9nZ2xlIHBsYXlsaXN0XG4gICAgICA8L2J1dHRvbj5cbiAgICApXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246ICdyb3cnLCBtYXJnaW5MZWZ0OiAnYXV0bycgfX1cbiAgICAgID5cbiAgICAgICAge2F1ZGlvQ2FyZHN9XG4gICAgICAgIHtoaXQgJiYgaGl0c1dpdGhBdWRpby5sZW5ndGggPiAxICYmIHBsYXlsaXN0VG9nZ2xlcn1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfSxcblxuICBoYW5kbGVQbGF5U3RhcnQoYXJ0KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHBsYXlpbmc6IHRydWUsIHBsYXlpbmdJZDogYXJ0LmlkIH0pXG4gIH0sXG5cbiAgaGFuZGxlUGxheUVuZChlbmRlZFN0b3BBcnQpIHtcbiAgICBjb25zdCB7IGhpdCwgaGl0c1dpdGhBdWRpbyB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IHBsYXlsaXN0ID0gW2hpdCwgLi4uaGl0c1dpdGhBdWRpb10uZmlsdGVyKChpZCkgPT4gaWQpXG4gICAgY29uc3QgZW5kZWRJbmRleCA9IHBsYXlsaXN0LmZpbmRJbmRleCgodCkgPT4gZW5kZWRTdG9wQXJ0LmlkID09PSB0Ll9pZClcbiAgICBjb25zdCBuZXh0VHJhY2sgPSBwbGF5bGlzdFtlbmRlZEluZGV4ICsgMV1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgcGxheU5leHRJZDogbmV4dFRyYWNrICYmIG5leHRUcmFjay5faWQsXG4gICAgICBwbGF5aW5nSWQ6IG5leHRUcmFjayAmJiBuZXh0VHJhY2suX2lkLFxuICAgICAgcGxheWVkOiB0aGlzLnN0YXRlLnBsYXllZC5jb25jYXQoZW5kZWRTdG9wQXJ0LmlkKSxcbiAgICB9KVxuXG4gICAgaWYgKCFuZXh0VHJhY2spIHtcbiAgICAgIC8vIFRPRE8gc3BlYWsgaW5kaWNhdGlvbiBvZiB0aGUgZW5kIG9mIHRoZSBwbGF5bGlzdD9cbiAgICB9XG4gIH0sXG59KVxuXG5jb25zdCBBdWRpb0NhcmQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4geyBpbWFnZUhvdmVyZWQ6IGZhbHNlIH1cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBpbWFnZUhvdmVyZWQgfSA9IHRoaXMuc3RhdGVcbiAgICBjb25zdCB7XG4gICAgICBoaXQsXG4gICAgICBoYW5kbGVQbGF5U3RhcnQsXG4gICAgICBoYW5kbGVQbGF5RW5kLFxuICAgICAgYXV0b1BsYXksXG4gICAgICBmb3JjZVNlYXJjaFVwZGF0ZSxcbiAgICB9ID0gdGhpcy5wcm9wc1xuXG4gICAgY29uc3QgYXJ0ID0gaGl0ICYmIGhpdC5fc291cmNlXG4gICAgY29uc3QgYXVkaW8gPSBhcnRbJ3JlbGF0ZWQ6YXVkaW8tc3RvcHMnXVswXVxuXG4gICAgY29uc3QgYmFzZVdpZHRoID0gMzAwXG4gICAgY29uc3QgYmFzZUhlaWdodCA9IDE1MFxuICAgIGNvbnN0IG1heFdpZHRoID0gaW1hZ2VIb3ZlcmVkID8gYmFzZVdpZHRoICogMiA6IGJhc2VXaWR0aFxuICAgIGNvbnN0IG1heEhlaWdodCA9IGltYWdlSG92ZXJlZCA/IGJhc2VIZWlnaHQgKiAyIDogYmFzZUhlaWdodFxuXG4gICAgY29uc3QgZmF2ID0gZ2V0RmFjZXRBbmRWYWx1ZShhcnQpXG4gICAgY29uc3QgYXJ0Q3JlYXRvciA9IGZhdiAmJiBmYXZbMV0gPyBmYXZbMV0uc3BsaXQoJzsnKVswXSA6ICcnXG5cbiAgICBjb25zdCBpc1BhdXNlZCA9IHRoaXMuYXVkaW8gPyB0aGlzLmF1ZGlvLnBhdXNlZCA6IHRydWVcblxuICAgIGNvbnN0IHBhdXNlZEljb25TdmcgPSBgZGF0YTppbWFnZS9zdmcreG1sO3V0ZjgsPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAxNiAxNlwiPjxwYXRoIGQ9XCJNOCAwYy00LjQxOCAwLTggMy41ODItOCA4czMuNTgyIDggOCA4IDgtMy41ODIgOC04LTMuNTgyLTgtOC04em0wIDE0LjVjLTMuNTkgMC02LjUtMi45MS02LjUtNi41czIuOTEtNi41IDYuNS02LjUgNi41IDIuOTEgNi41IDYuNS0yLjkxIDYuNS02LjUgNi41em0tMi0xMGw2IDMuNS02IDMuNXpcIi8+PC9zdmc+YFxuICAgIGNvbnN0IHBsYXlJY29uU3ZnID0gYGRhdGE6aW1hZ2Uvc3ZnK3htbDt1dGY4LDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMTYgMTZcIj48cGF0aCBkPVwiTTggMGMtNC40MTggMC04IDMuNTgyLTggOHMzLjU4MiA4IDggOCA4LTMuNTgyIDgtOC0zLjU4Mi04LTgtOHptMCAxNC41Yy0zLjU5IDAtNi41LTIuOTEtNi41LTYuNXMyLjkxLTYuNSA2LjUtNi41IDYuNSAyLjkxIDYuNSA2LjUtMi45MSA2LjUtNi41IDYuNXptLTMtOS41aDJ2NmgtMnptNCAwaDJ2NmgtMnpcIi8+PC9zdmc+YFxuICAgIGNvbnN0IG1hc2tTdmcgPSAhIWlzUGF1c2VkID8gcGF1c2VkSWNvblN2ZyA6IHBsYXlJY29uU3ZnXG5cbiAgICBjb25zdCBwbGF5SWNvbk1hc2sgPSAoXG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgV2Via2l0RmlsdGVyOiAnZHJvcC1zaGFkb3coMXB4IDFweCA0cHggcmdiYSgwLCAwLCAwLCAwLjc1KSknLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIG1hc2tJbWFnZTogYHVybCgnJHttYXNrU3ZnfScpYCxcbiAgICAgICAgICAgIFdlYmtpdE1hc2tJbWFnZTogYHVybCgnJHttYXNrU3ZnfScpYCxcbiAgICAgICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgICAgICAgd2lkdGg6ICczMCUnLFxuICAgICAgICAgICAgaGVpZ2h0OiAnMzAlJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6IFwiJydcIixcbiAgICAgICAgICAgIGNvbG9yOiAnIzY2NicsXG4gICAgICAgICAgICBtYXNrUmVwZWF0OiAnbm8tcmVwZWF0JyxcbiAgICAgICAgICAgIFdlYmtpdE1hc2tSZXBlYXQ6ICduby1yZXBlYXQnLFxuICAgICAgICAgICAgbWFza1NpemU6ICdjb250YWluJyxcbiAgICAgICAgICAgIFdlYmtpdE1hc2tTaXplOiAnY29udGFpbicsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZWVlJyxcbiAgICAgICAgICAgIHBhZGRpbmc6ICcwIDVweCAwIDAnLFxuICAgICAgICAgICAgb3BhY2l0eTogJzAuOScsXG4gICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgIGJvdHRvbTogJzUlJyxcbiAgICAgICAgICAgIGxlZnQ6ICcyJScsXG4gICAgICAgICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZScsXG4gICAgICAgICAgICBtaW5IZWlnaHQ6IDUxLFxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPGZpZ3VyZSBjbGFzc05hbWU9XCJhdWRpb0NsaXBcIiBzdHlsZT17eyBtYXhXaWR0aDogJzcxJScgfX0+XG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fT5cbiAgICAgICAgICAgIDxJbWFnZVxuICAgICAgICAgICAgICBhcnQ9e2FydH1cbiAgICAgICAgICAgICAgc3R5bGU9e3sgbWF4V2lkdGgsIG1heEhlaWdodCB9fVxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnBsYXlQYXVzZX1cbiAgICAgICAgICAgICAgLy8gb25Nb3VzZUVudGVyPXsoKSA9PiB0aGlzLnNldFN0YXRlKHsgaW1hZ2VIb3ZlcmVkOiB0cnVlIH0pfVxuICAgICAgICAgICAgICAvLyBvbk1vdXNlTGVhdmU9eygpID0+IHRoaXMuc2V0U3RhdGUoeyBpbWFnZUhvdmVyZWQ6IGZhbHNlIH0pfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIHtwbGF5SWNvbk1hc2t9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGZpZ2NhcHRpb24+XG4gICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgPHN0cm9uZz57YXJ0LnRpdGxlfTwvc3Ryb25nPiwgPGVtPnthcnRDcmVhdG9yfTwvZW0+ICNcbiAgICAgICAgICAgICAge2F1ZGlvLm51bWJlcn1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2ZpZ2NhcHRpb24+XG4gICAgICAgICAgPGF1ZGlvXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBtYXhXaWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICB2aXNpYmlsaXR5OiB0aGlzLmF1ZGlvICYmIGlzUGF1c2VkID8gJ2hpZGRlbicgOiAndmlzaWJsZScsXG4gICAgICAgICAgICAgIHZpc2liaWxpdHk6ICdoaWRkZW4nLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHNyYz17YXVkaW8ubGluay5yZXBsYWNlKCdodHRwOicsICdodHRwczonKX1cbiAgICAgICAgICAgIGNvbnRyb2xzXG4gICAgICAgICAgICBvblBsYXk9e3RoaXMuaGFuZGxlUGxheX1cbiAgICAgICAgICAgIG9uRW5kZWQ9eygpID0+IGhhbmRsZVBsYXlFbmQoYXJ0KX1cbiAgICAgICAgICAgIG9uRXJyb3I9eygpID0+IHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAnVE9ETyBoYW5kbGUgd2hlbiBhdWRpbyBmaWxlIGlzbnQgb24gczMgLSBlcnJvciBwbGF5aW5nIGF1ZGlvIGZvcicsXG4gICAgICAgICAgICAgICAgYXJ0XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgaGFuZGxlUGxheUVuZChhcnQpXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgcmVmPXsoYXVkaW8pID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5hdWRpbyA9IGF1ZGlvXG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZmlndXJlPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9LFxuXG4gIC8vIFRPRE8gb25seSBhbGxvdyBvbmUgY2FyZCB0byBwbGF5IGF0IGEgYSB0aW1lXG4gIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICBjb25zdCBhdWRpbyA9IHRoaXMuYXVkaW9cbiAgICBjb25zdCB7IGhpdCB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IGFydCA9IGhpdC5fc291cmNlXG5cbiAgICBpZiAoYXVkaW8gJiYgdGhpcy5wcm9wcy5hdXRvUGxheSAmJiBhdWRpby5jdXJyZW50VGltZSA9PT0gMCkge1xuICAgICAgYXVkaW8uc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCgpXG4gICAgICBhdWRpby5wbGF5KClcbiAgICB9XG5cbiAgICBpZiAoIWF1ZGlvLnBhdXNlZCAmJiB0aGlzLnByb3BzLnBsYXlpbmdJZCAhPT0gYXJ0LmlkKSBhdWRpby5wYXVzZSgpXG4gIH0sXG5cbiAgaGFuZGxlUGxheSgpIHtcbiAgICBjb25zdCB7IGF1ZGlvIH0gPSB0aGlzXG4gICAgY29uc3QgYXJ0ID0gdGhpcy5wcm9wcy5oaXQuX3NvdXJjZVxuICAgIHRoaXMucHJvcHMuZm9yY2VTZWFyY2hVcGRhdGUodGhpcy5wcm9wcy5oaXQpXG4gICAgdGhpcy5wcm9wcy5oYW5kbGVQbGF5U3RhcnQoYXJ0KVxuXG4gICAgaWYgKGF1ZGlvLmN1cnJlbnRUaW1lID4gMCkge1xuICAgICAgYXVkaW8udm9sdW1lID0gMVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnByb3BzLmF1dG9QbGF5KSB7XG4gICAgICBhdWRpby5wbGF5KClcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIGlmIGp1c3Qgc3RhcnRpbmcsIHNwZWFrIHRoZSBhcnR3b3JrIHRpdGxlIG92ZXIgdGhlIGF1ZGlvIHN0b3BcbiAgICAvLyBhbmQgdGhlbiByZXNldCB0byBwbGF5IGF1ZGlvIGZyb20gYmVnaW5uaW5nXG4gICAgY29uc3QgcHJldlZvbHVtZSA9IGF1ZGlvLnZvbHVtZVxuICAgIGNvbnN0IHByZXZUaW1lID0gYXVkaW8uY3VycmVudFRpbWVcbiAgICBhdWRpby52b2x1bWUgPSAwXG4gICAgYXVkaW8ucGxheWJhY2tSYXRlID0gMC4xXG4gICAgdGhpcy5zcGVha0F1ZGlvSW50cm9kdWN0aW9uKClcblxuICAgIGNvbnN0IHJlc3RhcnRBdWRpb1BsYXlpbmcgPSAoKSA9PiB7XG4gICAgICBjb25zdCBuZWVkbGVUaW1lID0gcHJldlRpbWUgPT09IDAgPyAwLjAwMSA6IHByZXZUaW1lXG4gICAgICBhdWRpby5wbGF5YmFja1JhdGUgPSAxXG4gICAgICBhdWRpby52b2x1bWUgPSBwcmV2Vm9sdW1lXG4gICAgICBhdWRpby5jdXJyZW50VGltZSA9IG5lZWRsZVRpbWVcbiAgICB9XG5cbiAgICBjb25zdCBkZWxheUF1ZGlvU3RvcFdoaWxlU3BlYWtpbmcgPSAoY291bnQgPSAxKSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc3BlZWNoU3ludGhlc2lzLnBlbmRpbmcgfHwgc3BlZWNoU3ludGhlc2lzLnNwZWFraW5nXG4gICAgICAgICAgPyBkZWxheUF1ZGlvU3RvcFdoaWxlU3BlYWtpbmcoY291bnQgKyAxKVxuICAgICAgICAgIDogc2V0VGltZW91dChyZXN0YXJ0QXVkaW9QbGF5aW5nLCAzMDApXG4gICAgICB9LCAxMDAgKiBjb3VudClcbiAgICB9XG5cbiAgICBkZWxheUF1ZGlvU3RvcFdoaWxlU3BlYWtpbmcoKVxuICB9LFxuXG4gIHBsYXlQYXVzZShldnQpIHtcbiAgICBjb25zdCB7IGF1ZGlvIH0gPSB0aGlzXG4gICAgYXVkaW8gJiYgYXVkaW8ucGF1c2VkID8gYXVkaW8ucGxheSgpIDogYXVkaW8ucGF1c2UoKVxuICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4gcHJldlN0YXRlKVxuICB9LFxuXG4gIHNwZWFrQXVkaW9JbnRyb2R1Y3Rpb24oKSB7XG4gICAgY29uc3QgYXJ0ID0gdGhpcy5wcm9wcy5oaXQuX3NvdXJjZVxuICAgIGNvbnN0IGZhdiA9IGdldEZhY2V0QW5kVmFsdWUoYXJ0KVxuICAgIGNvbnN0IGFydENyZWF0b3IgPSBmYXYgJiYgZmF2WzFdID8gZmF2WzFdLnNwbGl0KCc7JylbMF0gOiAnJ1xuXG4gICAgaWYgKFxuICAgICAgJ3NwZWVjaFN5bnRoZXNpcycgaW4gd2luZG93ICYmXG4gICAgICB3aW5kb3cuc3BlZWNoU3ludGhlc2lzLmdldFZvaWNlcygpLmxlbmd0aCA+IDBcbiAgICApIHtcbiAgICAgIGNvbnN0IHNwID0gd2luZG93LnNwZWVjaFN5bnRoZXNpc1xuICAgICAgY29uc3Qgc3BlYWtBcnR3b3JrSW5mbyA9IG5ldyBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UoKVxuICAgICAgY29uc3QgYXJ0d29ya0ludHJvID0gW2FydC50aXRsZS5yZXBsYWNlKC88XFwvP2k+L2csICcnKSwgYXJ0Q3JlYXRvcl0uam9pbihcbiAgICAgICAgJyAnXG4gICAgICApXG4gICAgICBzcGVha0FydHdvcmtJbmZvLnRleHQgPSBhcnR3b3JrSW50cm9cbiAgICAgIHNwLnNwZWFrKHNwZWFrQXJ0d29ya0luZm8pXG4gICAgfVxuICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBBdWRpb0RlY29yYXRvclxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "audio.js"
      ],
      "names": [
        "React",
        "require",
        "Image",
        "getFacetAndValue",
        "AudioDecorator",
        "createClass",
        "render",
        "term",
        "props",
        "hits",
        "hitsWithAudio",
        "filter",
        "hit",
        "_source",
        "matchingAudioStop",
        "find",
        "hitAudioNumber",
        "number",
        "isAudioNumberSearchTerm",
        "match",
        "zeroPadTerm",
        "parseInt",
        "toLocaleString",
        "minimumIntegerDigits",
        "useGrouping",
        "matchingAudioWithoutArtworkConnection",
        "otherHitsWithAudio",
        "overflow",
        "maxWidth",
        "forceSearchUpdate",
        "AudioStopLifter",
        "getInitialState",
        "playing",
        "playingId",
        "played",
        "playNext",
        "undefined",
        "showPlaylist",
        "directAudioLink",
        "state",
        "playNextId",
        "errorLoadingAudioFile",
        "setState",
        "length",
        "playlist",
        "id",
        "audioCardProps",
        "handlePlayStart",
        "handlePlayEnd",
        "audioCards",
        "map",
        "_hit",
        "index",
        "shouldAutoPlay",
        "_id",
        "playlistToggler",
        "display",
        "flexDirection",
        "marginLeft",
        "art",
        "endedStopArt",
        "endedIndex",
        "findIndex",
        "t",
        "nextTrack",
        "concat",
        "AudioCard",
        "imageHovered",
        "autoPlay",
        "audio",
        "baseWidth",
        "baseHeight",
        "maxHeight",
        "fav",
        "artCreator",
        "split",
        "isPaused",
        "paused",
        "pausedIconSvg",
        "playIconSvg",
        "maskSvg",
        "playIconMask",
        "WebkitFilter",
        "maskImage",
        "WebkitMaskImage",
        "width",
        "height",
        "content",
        "color",
        "maskRepeat",
        "WebkitMaskRepeat",
        "maskSize",
        "WebkitMaskSize",
        "backgroundColor",
        "padding",
        "opacity",
        "position",
        "bottom",
        "left",
        "pointerEvents",
        "minHeight",
        "playPause",
        "title",
        "visibility",
        "link",
        "replace",
        "handlePlay",
        "console",
        "error",
        "componentDidUpdate",
        "currentTime",
        "scrollIntoViewIfNeeded",
        "play",
        "pause",
        "volume",
        "prevVolume",
        "prevTime",
        "playbackRate",
        "speakAudioIntroduction",
        "restartAudioPlaying",
        "needleTime",
        "delayAudioStopWhileSpeaking",
        "count",
        "setTimeout",
        "speechSynthesis",
        "pending",
        "speaking",
        "evt",
        "prevState",
        "window",
        "getVoices",
        "sp",
        "speakArtworkInfo",
        "SpeechSynthesisUtterance",
        "artworkIntro",
        "join",
        "text",
        "speak",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "audio.js",
      "sourceRoot": "/var/www/art/src/decorate",
      "sourcesContent": [
        "/** @format\n *\n * Decorate a search by 'lifting' results with audio up to the top\n *\n * TODO\n * show controls and audio info overall play/pause, number of stops in playlist?\n * show progress while audio plays?\n * restart, skip back/forward 15 seconds?\n * better distinguish playing card from paused cards in playlist view\n * bug with autoPlay and announcing titles - it doesn't happen until card #3 (should kick inon card #2)\n * maintain audio playing when decorator window closes? … what about on page navigation?\n * linear gradient behind the play/pause icons to ensure visibility?\n */\n\nvar React = require('react')\n\nconst Image = require('../image')\nvar { getFacetAndValue } = require('../artwork/creator')\n\nvar AudioDecorator = React.createClass({\n  render() {\n    const term = this.props.term[0]\n    const hits = this.props.hits\n\n    const hitsWithAudio =\n      hits && hits.filter((hit) => hit._source['related:audio-stops'])\n\n    const matchingAudioStop = hitsWithAudio.find((hit) => {\n      const hitAudioNumber = hit._source['related:audio-stops'][0].number\n      return hitAudioNumber === term || hitAudioNumber === `0{term}`\n    })\n\n    const isAudioNumberSearchTerm = term.match(/\\d{1,3}/)\n    const zeroPadTerm = parseInt(term).toLocaleString('en-US', {\n      minimumIntegerDigits: 3,\n      useGrouping: false,\n    })\n    const matchingAudioWithoutArtworkConnection =\n      isAudioNumberSearchTerm &&\n      `http://audio-tours.s3.amazonaws.com/p${zeroPadTerm}.mp3`\n\n    // TODOoooo - 1 and two digit audio numbers aren't caught by ES\n    // when \"97\" is searched for, the results from ES don't include the artwork\n    // with audio number \"097\", so it can't be lifted up into the audio bar.\n    // zero-padding the term allows the audio interface to show without the artwork\n    // info, which is better than nothing.\n    //\n    // IDEA - could searches foor single and two digit numbers be modified when going\n    // into ES to `originalTerm | <0+originalTerm>`?\n\n    const otherHitsWithAudio = hitsWithAudio.filter(\n      (hit) => hit !== matchingAudioStop\n    )\n\n    if (!hits || (!matchingAudioStop && !otherHitsWithAudio)) return <span />\n\n    return (\n      <div\n        className=\"decorator audio\"\n        style={{ overflow: 'scroll', maxWidth: '100%' }}\n      >\n        {(matchingAudioStop || otherHitsWithAudio) && (\n          <AudioStopLifter\n            hit={matchingAudioStop}\n            hitsWithAudio={otherHitsWithAudio}\n            directAudioLink={matchingAudioWithoutArtworkConnection}\n            forceSearchUpdate={this.props.forceSearchUpdate}\n          />\n        )}\n      </div>\n    )\n  },\n})\n\n/**\n * 'Lifts' a lower search result into featured position - here an audio stop\n * whose stop number directly matches what was typed into the search, but may not\n * be the first result returned by ES\n *\n * IDEA could we lift all audio stops from a search result to show them in a horizontal scroller?\n * so a search for 'horse' would cue up a playlist of horse-themed audio?\n * blog the sequence of recreating our old audio stop finder and morphing it into a 'player'?\n */\nconst AudioStopLifter = React.createClass({\n  getInitialState() {\n    return {\n      playing: false,\n      playingId: this.props.hit || this.props.hitsWithAudio[0],\n      played: [],\n      playNext: undefined,\n      showPlaylist: false,\n    }\n  },\n\n  render() {\n    const { hit, hitsWithAudio, directAudioLink } = this.props\n    const { showPlaylist, playNextId, errorLoadingAudioFile } = this.state\n\n    if (!hit && directAudioLink && !errorLoadingAudioFile) {\n      return (\n        <audio\n          src={directAudioLink}\n          controls\n          onError={() => {\n            this.setState({ errorLoadingAudioFile: true })\n          }}\n        />\n      )\n    }\n\n    if (!hit && hitsWithAudio.length === 0) return <span />\n\n    const playlist = [hit, ...hitsWithAudio].filter((id) => id)\n\n    const audioCardProps = {\n      handlePlayStart: this.handlePlayStart,\n      handlePlayEnd: this.handlePlayEnd,\n      forceSearchUpdate: this.props.forceSearchUpdate,\n      playingId: this.state.playingId,\n      playing: this.state.playing,\n    }\n\n    const audioCards =\n      hit && !showPlaylist ? (\n        <AudioCard\n          hit={hit || hitsWithAudio[0]}\n          forceSearchUpdate={this.props.forceSearchUpdate}\n          {...audioCardProps}\n        />\n      ) : (\n        playlist.map((_hit, index) => {\n          const shouldAutoPlay = playNextId\n            ? this.state.playNextId === _hit._id\n            : false && index === 0\n\n          return (\n            <AudioCard\n              hit={_hit}\n              directMatch={hit === _hit}\n              key={_hit._id}\n              autoPlay={shouldAutoPlay}\n              {...audioCardProps}\n            />\n          )\n        })\n      )\n\n    const playlistToggler = (\n      <button onClick={() => this.setState({ showPlaylist: !showPlaylist })}>\n        toggle playlist\n      </button>\n    )\n\n    return (\n      <div\n        style={{ display: 'flex', flexDirection: 'row', marginLeft: 'auto' }}\n      >\n        {audioCards}\n        {hit && hitsWithAudio.length > 1 && playlistToggler}\n      </div>\n    )\n  },\n\n  handlePlayStart(art) {\n    this.setState({ playing: true, playingId: art.id })\n  },\n\n  handlePlayEnd(endedStopArt) {\n    const { hit, hitsWithAudio } = this.props\n    const playlist = [hit, ...hitsWithAudio].filter((id) => id)\n    const endedIndex = playlist.findIndex((t) => endedStopArt.id === t._id)\n    const nextTrack = playlist[endedIndex + 1]\n\n    this.setState({\n      playNextId: nextTrack && nextTrack._id,\n      playingId: nextTrack && nextTrack._id,\n      played: this.state.played.concat(endedStopArt.id),\n    })\n\n    if (!nextTrack) {\n      // TODO speak indication of the end of the playlist?\n    }\n  },\n})\n\nconst AudioCard = React.createClass({\n  getInitialState() {\n    return { imageHovered: false }\n  },\n\n  render() {\n    const { imageHovered } = this.state\n    const {\n      hit,\n      handlePlayStart,\n      handlePlayEnd,\n      autoPlay,\n      forceSearchUpdate,\n    } = this.props\n\n    const art = hit && hit._source\n    const audio = art['related:audio-stops'][0]\n\n    const baseWidth = 300\n    const baseHeight = 150\n    const maxWidth = imageHovered ? baseWidth * 2 : baseWidth\n    const maxHeight = imageHovered ? baseHeight * 2 : baseHeight\n\n    const fav = getFacetAndValue(art)\n    const artCreator = fav && fav[1] ? fav[1].split(';')[0] : ''\n\n    const isPaused = this.audio ? this.audio.paused : true\n\n    const pausedIconSvg = `data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"><path d=\"M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zm0 14.5c-3.59 0-6.5-2.91-6.5-6.5s2.91-6.5 6.5-6.5 6.5 2.91 6.5 6.5-2.91 6.5-6.5 6.5zm-2-10l6 3.5-6 3.5z\"/></svg>`\n    const playIconSvg = `data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"><path d=\"M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zm0 14.5c-3.59 0-6.5-2.91-6.5-6.5s2.91-6.5 6.5-6.5 6.5 2.91 6.5 6.5-2.91 6.5-6.5 6.5zm-3-9.5h2v6h-2zm4 0h2v6h-2z\"/></svg>`\n    const maskSvg = !!isPaused ? pausedIconSvg : playIconSvg\n\n    const playIconMask = (\n      <div\n        style={{\n          WebkitFilter: 'drop-shadow(1px 1px 4px rgba(0, 0, 0, 0.75))',\n        }}\n      >\n        <div\n          style={{\n            maskImage: `url('${maskSvg}')`,\n            WebkitMaskImage: `url('${maskSvg}')`,\n            display: 'inline-block',\n            width: '30%',\n            height: '30%',\n            content: \"''\",\n            color: '#666',\n            maskRepeat: 'no-repeat',\n            WebkitMaskRepeat: 'no-repeat',\n            maskSize: 'contain',\n            WebkitMaskSize: 'contain',\n            backgroundColor: '#eee',\n            padding: '0 5px 0 0',\n            opacity: '0.9',\n            position: 'absolute',\n            bottom: '5%',\n            left: '2%',\n            pointerEvents: 'none',\n            minHeight: 51,\n          }}\n        />\n      </div>\n    )\n\n    return (\n      <div>\n        <figure className=\"audioClip\" style={{ maxWidth: '71%' }}>\n          <div style={{ position: 'relative' }}>\n            <Image\n              art={art}\n              style={{ maxWidth, maxHeight }}\n              onClick={this.playPause}\n              // onMouseEnter={() => this.setState({ imageHovered: true })}\n              // onMouseLeave={() => this.setState({ imageHovered: false })}\n            />\n            {playIconMask}\n          </div>\n          <figcaption>\n            <p>\n              <strong>{art.title}</strong>, <em>{artCreator}</em> #\n              {audio.number}\n            </p>\n          </figcaption>\n          <audio\n            style={{\n              maxWidth: '100%',\n              visibility: this.audio && isPaused ? 'hidden' : 'visible',\n              visibility: 'hidden',\n            }}\n            src={audio.link.replace('http:', 'https:')}\n            controls\n            onPlay={this.handlePlay}\n            onEnded={() => handlePlayEnd(art)}\n            onError={() => {\n              console.error(\n                'TODO handle when audio file isnt on s3 - error playing audio for',\n                art\n              )\n              handlePlayEnd(art)\n            }}\n            ref={(audio) => {\n              this.audio = audio\n            }}\n          />\n        </figure>\n      </div>\n    )\n  },\n\n  // TODO only allow one card to play at a a time\n  componentDidUpdate() {\n    const audio = this.audio\n    const { hit } = this.props\n    const art = hit._source\n\n    if (audio && this.props.autoPlay && audio.currentTime === 0) {\n      audio.scrollIntoViewIfNeeded()\n      audio.play()\n    }\n\n    if (!audio.paused && this.props.playingId !== art.id) audio.pause()\n  },\n\n  handlePlay() {\n    const { audio } = this\n    const art = this.props.hit._source\n    this.props.forceSearchUpdate(this.props.hit)\n    this.props.handlePlayStart(art)\n\n    if (audio.currentTime > 0) {\n      audio.volume = 1\n      return\n    }\n\n    if (!this.props.autoPlay) {\n      audio.play()\n      return\n    }\n\n    // if just starting, speak the artwork title over the audio stop\n    // and then reset to play audio from beginning\n    const prevVolume = audio.volume\n    const prevTime = audio.currentTime\n    audio.volume = 0\n    audio.playbackRate = 0.1\n    this.speakAudioIntroduction()\n\n    const restartAudioPlaying = () => {\n      const needleTime = prevTime === 0 ? 0.001 : prevTime\n      audio.playbackRate = 1\n      audio.volume = prevVolume\n      audio.currentTime = needleTime\n    }\n\n    const delayAudioStopWhileSpeaking = (count = 1) => {\n      setTimeout(() => {\n        speechSynthesis.pending || speechSynthesis.speaking\n          ? delayAudioStopWhileSpeaking(count + 1)\n          : setTimeout(restartAudioPlaying, 300)\n      }, 100 * count)\n    }\n\n    delayAudioStopWhileSpeaking()\n  },\n\n  playPause(evt) {\n    const { audio } = this\n    audio && audio.paused ? audio.play() : audio.pause()\n    this.setState((prevState) => prevState)\n  },\n\n  speakAudioIntroduction() {\n    const art = this.props.hit._source\n    const fav = getFacetAndValue(art)\n    const artCreator = fav && fav[1] ? fav[1].split(';')[0] : ''\n\n    if (\n      'speechSynthesis' in window &&\n      window.speechSynthesis.getVoices().length > 0\n    ) {\n      const sp = window.speechSynthesis\n      const speakArtworkInfo = new SpeechSynthesisUtterance()\n      const artworkIntro = [art.title.replace(/<\\/?i>/g, ''), artCreator].join(\n        ' '\n      )\n      speakArtworkInfo.text = artworkIntro\n      sp.speak(speakArtworkInfo)\n    }\n  },\n})\n\nmodule.exports = AudioDecorator\n"
      ]
    },
    "mtime": 1612393616748
  },
  "{\"filename\":\"/var/www/art/src/decorate/number.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src/decorate\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/decorate/number.js",
      "filenameRelative": "/var/www/art/src/decorate/number.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "number.js",
      "sourceFileName": "number.js",
      "sourceRoot": "/var/www/art/src/decorate",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src/decorate",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "number"
    },
    "ignored": false,
    "code": "'use strict';\n\n/** @format\n *\n * Decorate a search for a sole number. This can be an audio stop number or an accession number?\n * Maybe eventually a year or time period?\n *\n * TODO implement accession number recognition and lifting\n */\n\nvar React = require('react');\n\nvar Image = require('../image');\n\nvar _require = require('../artwork/creator'),\n    getFacetAndValue = _require.getFacetAndValue;\n\nvar NumberDecorator = React.createClass({\n  displayName: 'NumberDecorator',\n  render: function render() {\n    var term = this.props.term[0];\n    var hits = this.props.hits;\n    var matchingAccessionNumber = term.match(/\\d+.\\d+/) && hits.find(function (hit) {\n      return hit._source.accession_number === term;\n    });\n\n    return React.createElement(\n      'span',\n      null,\n      'number decorator goes here'\n    );\n  }\n});\n\nvar AccessionLifter = React.createClass({\n  displayName: 'AccessionLifter',\n  render: function render() {\n    var hit = this.props.hit;\n\n    var art = hit._source;\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'p',\n        null,\n        'Searching for an accession number?'\n      )\n    );\n  }\n});\n\nmodule.exports = NumberDecorator;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm51bWJlci5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJJbWFnZSIsImdldEZhY2V0QW5kVmFsdWUiLCJOdW1iZXJEZWNvcmF0b3IiLCJjcmVhdGVDbGFzcyIsInJlbmRlciIsInRlcm0iLCJwcm9wcyIsImhpdHMiLCJtYXRjaGluZ0FjY2Vzc2lvbk51bWJlciIsIm1hdGNoIiwiZmluZCIsImhpdCIsIl9zb3VyY2UiLCJhY2Nlc3Npb25fbnVtYmVyIiwiQWNjZXNzaW9uTGlmdGVyIiwiYXJ0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7Ozs7Ozs7QUFRQSxJQUFJQSxRQUFRQyxRQUFRLE9BQVIsQ0FBWjs7QUFFQSxJQUFNQyxRQUFRRCxRQUFRLFVBQVIsQ0FBZDs7ZUFDMkJBLFFBQVEsb0JBQVIsQztJQUFyQkUsZ0IsWUFBQUEsZ0I7O0FBRU4sSUFBSUMsa0JBQWtCSixNQUFNSyxXQUFOLENBQWtCO0FBQUE7QUFDdENDLFFBRHNDLG9CQUM3QjtBQUNQLFFBQU1DLE9BQU8sS0FBS0MsS0FBTCxDQUFXRCxJQUFYLENBQWdCLENBQWhCLENBQWI7QUFDQSxRQUFNRSxPQUFPLEtBQUtELEtBQUwsQ0FBV0MsSUFBeEI7QUFDQSxRQUFNQywwQkFDSkgsS0FBS0ksS0FBTCxDQUFXLFNBQVgsS0FDQUYsS0FBS0csSUFBTCxDQUFVO0FBQUEsYUFBT0MsSUFBSUMsT0FBSixDQUFZQyxnQkFBWixLQUFpQ1IsSUFBeEM7QUFBQSxLQUFWLENBRkY7O0FBSUEsV0FBTztBQUFBO0FBQUE7QUFBQTtBQUFBLEtBQVA7QUFDRDtBQVRxQyxDQUFsQixDQUF0Qjs7QUFZQSxJQUFNUyxrQkFBa0JoQixNQUFNSyxXQUFOLENBQWtCO0FBQUE7QUFDeENDLFFBRHdDLG9CQUMvQjtBQUFBLFFBQ0NPLEdBREQsR0FDUyxLQUFLTCxLQURkLENBQ0NLLEdBREQ7O0FBRVAsUUFBTUksTUFBTUosSUFBSUMsT0FBaEI7O0FBRUEsV0FDRTtBQUFBO0FBQUE7QUFDRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBREYsS0FERjtBQUtEO0FBVnVDLENBQWxCLENBQXhCOztBQWFBSSxPQUFPQyxPQUFQLEdBQWlCZixlQUFqQiIsImZpbGUiOiJudW1iZXIuanMiLCJzb3VyY2VSb290IjoiL3Zhci93d3cvYXJ0L3NyYy9kZWNvcmF0ZSIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAZm9ybWF0XG4gKlxuICogRGVjb3JhdGUgYSBzZWFyY2ggZm9yIGEgc29sZSBudW1iZXIuIFRoaXMgY2FuIGJlIGFuIGF1ZGlvIHN0b3AgbnVtYmVyIG9yIGFuIGFjY2Vzc2lvbiBudW1iZXI/XG4gKiBNYXliZSBldmVudHVhbGx5IGEgeWVhciBvciB0aW1lIHBlcmlvZD9cbiAqXG4gKiBUT0RPIGltcGxlbWVudCBhY2Nlc3Npb24gbnVtYmVyIHJlY29nbml0aW9uIGFuZCBsaWZ0aW5nXG4gKi9cblxudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxuXG5jb25zdCBJbWFnZSA9IHJlcXVpcmUoJy4uL2ltYWdlJylcbnZhciB7IGdldEZhY2V0QW5kVmFsdWUgfSA9IHJlcXVpcmUoJy4uL2FydHdvcmsvY3JlYXRvcicpXG5cbnZhciBOdW1iZXJEZWNvcmF0b3IgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB0ZXJtID0gdGhpcy5wcm9wcy50ZXJtWzBdXG4gICAgY29uc3QgaGl0cyA9IHRoaXMucHJvcHMuaGl0c1xuICAgIGNvbnN0IG1hdGNoaW5nQWNjZXNzaW9uTnVtYmVyID1cbiAgICAgIHRlcm0ubWF0Y2goL1xcZCsuXFxkKy8pICYmXG4gICAgICBoaXRzLmZpbmQoaGl0ID0+IGhpdC5fc291cmNlLmFjY2Vzc2lvbl9udW1iZXIgPT09IHRlcm0pXG5cbiAgICByZXR1cm4gPHNwYW4+bnVtYmVyIGRlY29yYXRvciBnb2VzIGhlcmU8L3NwYW4+XG4gIH0sXG59KVxuXG5jb25zdCBBY2Nlc3Npb25MaWZ0ZXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGhpdCB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IGFydCA9IGhpdC5fc291cmNlXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPHA+U2VhcmNoaW5nIGZvciBhbiBhY2Nlc3Npb24gbnVtYmVyPzwvcD5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfSxcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gTnVtYmVyRGVjb3JhdG9yXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "number.js"
      ],
      "names": [
        "React",
        "require",
        "Image",
        "getFacetAndValue",
        "NumberDecorator",
        "createClass",
        "render",
        "term",
        "props",
        "hits",
        "matchingAccessionNumber",
        "match",
        "find",
        "hit",
        "_source",
        "accession_number",
        "AccessionLifter",
        "art",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA;;;;;;;;AAQA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;;AAEA,IAAMC,QAAQD,QAAQ,UAAR,CAAd;;eAC2BA,QAAQ,oBAAR,C;IAArBE,gB,YAAAA,gB;;AAEN,IAAIC,kBAAkBJ,MAAMK,WAAN,CAAkB;AAAA;AACtCC,QADsC,oBAC7B;AACP,QAAMC,OAAO,KAAKC,KAAL,CAAWD,IAAX,CAAgB,CAAhB,CAAb;AACA,QAAME,OAAO,KAAKD,KAAL,CAAWC,IAAxB;AACA,QAAMC,0BACJH,KAAKI,KAAL,CAAW,SAAX,KACAF,KAAKG,IAAL,CAAU;AAAA,aAAOC,IAAIC,OAAJ,CAAYC,gBAAZ,KAAiCR,IAAxC;AAAA,KAAV,CAFF;;AAIA,WAAO;AAAA;AAAA;AAAA;AAAA,KAAP;AACD;AATqC,CAAlB,CAAtB;;AAYA,IAAMS,kBAAkBhB,MAAMK,WAAN,CAAkB;AAAA;AACxCC,QADwC,oBAC/B;AAAA,QACCO,GADD,GACS,KAAKL,KADd,CACCK,GADD;;AAEP,QAAMI,MAAMJ,IAAIC,OAAhB;;AAEA,WACE;AAAA;AAAA;AACE;AAAA;AAAA;AAAA;AAAA;AADF,KADF;AAKD;AAVuC,CAAlB,CAAxB;;AAaAI,OAAOC,OAAP,GAAiBf,eAAjB",
      "file": "number.js",
      "sourceRoot": "/var/www/art/src/decorate",
      "sourcesContent": [
        "/** @format\n *\n * Decorate a search for a sole number. This can be an audio stop number or an accession number?\n * Maybe eventually a year or time period?\n *\n * TODO implement accession number recognition and lifting\n */\n\nvar React = require('react')\n\nconst Image = require('../image')\nvar { getFacetAndValue } = require('../artwork/creator')\n\nvar NumberDecorator = React.createClass({\n  render() {\n    const term = this.props.term[0]\n    const hits = this.props.hits\n    const matchingAccessionNumber =\n      term.match(/\\d+.\\d+/) &&\n      hits.find(hit => hit._source.accession_number === term)\n\n    return <span>number decorator goes here</span>\n  },\n})\n\nconst AccessionLifter = React.createClass({\n  render() {\n    const { hit } = this.props\n    const art = hit._source\n\n    return (\n      <div>\n        <p>Searching for an accession number?</p>\n      </div>\n    )\n  },\n})\n\nmodule.exports = NumberDecorator\n"
      ]
    },
    "mtime": 1584573136822
  },
  "{\"filename\":\"/var/www/art/src/departments.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/departments.js",
      "filenameRelative": "/var/www/art/src/departments.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "departments.js",
      "sourceFileName": "departments.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "departments"
    },
    "ignored": false,
    "code": "'use strict';\n\n/** @format\n */\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar Helmet = require('react-helmet');\n\nvar Home = require('./home');\nvar Departments = Home.Departments;\nvar findDepartment = require('./department-slug');\n\nvar DepartmentsIndexPage = React.createClass({\n  displayName: 'DepartmentsIndexPage',\n\n  mixins: [Router.State],\n\n  render: function render() {\n    return React.createElement(\n      'div',\n      null,\n      React.createElement('div', { className: 'explore-header' }),\n      React.createElement(Departments, null),\n      React.createElement(Helmet, { title: 'Departments' })\n    );\n  }\n});\n\nvar Departments = React.createClass({\n  displayName: 'Departments',\n\n  departments: ['Art of Africa and the Americas', 'Chinese, South and Southeast Asian Art', 'Contemporary Art', 'Decorative Arts, Textiles and Sculpture', 'Japanese and Korean Art', 'Paintings', 'Photography and New Media', 'Prints and Drawings'],\n\n  render: function render() {\n    var _this = this;\n\n    var _props = this.props,\n        active = _props.active,\n        compact = _props.compact;\n    // TODO implement \"expanded\" view vs compact?\n\n    return React.createElement(\n      'div',\n      { className: 'departmentList mdl-grid', id: 'departments' },\n      React.createElement(\n        'h2',\n        { style: this.props.style },\n        'Departments'\n      ),\n      this.departments.map(function (dept) {\n        var name = function name(index) {\n          return findDepartment(dept)[index];\n        };\n        var isActive = active === dept;\n        var deptLink = 'https://new.artsmia.org/art-artists/curatorial-departments/' + name(2);\n\n        return React.createElement(\n          'a',\n          {\n            href: deptLink,\n            className: 'departmentLink mdl-cell mdl-cell--3-col ' + (isActive && 'isActive')\n          },\n          React.createElement('div', { className: [name(1), 'departmentListItem'].join(' ') }),\n          React.createElement(\n            'h2',\n            { style: _this.props.style },\n            dept\n          )\n        );\n      })\n    );\n  }\n});\n\nmodule.exports = { index: DepartmentsIndexPage, component: Departments };\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlcGFydG1lbnRzLmpzIl0sIm5hbWVzIjpbIlJlYWN0IiwicmVxdWlyZSIsIlJvdXRlciIsIkxpbmsiLCJIZWxtZXQiLCJIb21lIiwiRGVwYXJ0bWVudHMiLCJmaW5kRGVwYXJ0bWVudCIsIkRlcGFydG1lbnRzSW5kZXhQYWdlIiwiY3JlYXRlQ2xhc3MiLCJtaXhpbnMiLCJTdGF0ZSIsInJlbmRlciIsImRlcGFydG1lbnRzIiwicHJvcHMiLCJhY3RpdmUiLCJjb21wYWN0Iiwic3R5bGUiLCJtYXAiLCJuYW1lIiwiZGVwdCIsImluZGV4IiwiaXNBY3RpdmUiLCJkZXB0TGluayIsImpvaW4iLCJtb2R1bGUiLCJleHBvcnRzIiwiY29tcG9uZW50Il0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUVBLElBQUlBLFFBQVFDLFFBQVEsT0FBUixDQUFaO0FBQ0EsSUFBSUMsU0FBU0QsUUFBUSxjQUFSLENBQWI7SUFDTUUsSSxHQUFTRCxNLENBQVRDLEk7O0FBQ04sSUFBSUMsU0FBU0gsUUFBUSxjQUFSLENBQWI7O0FBRUEsSUFBSUksT0FBT0osUUFBUSxRQUFSLENBQVg7QUFDQSxJQUFJSyxjQUFjRCxLQUFLQyxXQUF2QjtBQUNBLElBQUlDLGlCQUFpQk4sUUFBUSxtQkFBUixDQUFyQjs7QUFFQSxJQUFJTyx1QkFBdUJSLE1BQU1TLFdBQU4sQ0FBa0I7QUFBQTs7QUFDM0NDLFVBQVEsQ0FBQ1IsT0FBT1MsS0FBUixDQURtQzs7QUFHM0NDLFFBSDJDLG9CQUdsQztBQUNQLFdBQ0U7QUFBQTtBQUFBO0FBQ0UsbUNBQUssV0FBVSxnQkFBZixHQURGO0FBRUUsMEJBQUMsV0FBRCxPQUZGO0FBR0UsMEJBQUMsTUFBRCxJQUFRLE9BQU0sYUFBZDtBQUhGLEtBREY7QUFPRDtBQVgwQyxDQUFsQixDQUEzQjs7QUFjQSxJQUFJTixjQUFjTixNQUFNUyxXQUFOLENBQWtCO0FBQUE7O0FBQ2xDSSxlQUFhLENBQ1gsZ0NBRFcsRUFFWCx3Q0FGVyxFQUdYLGtCQUhXLEVBSVgseUNBSlcsRUFLWCx5QkFMVyxFQU1YLFdBTlcsRUFPWCwyQkFQVyxFQVFYLHFCQVJXLENBRHFCOztBQVlsQ0QsUUFaa0Msb0JBWXpCO0FBQUE7O0FBQUEsaUJBQ3FCLEtBQUtFLEtBRDFCO0FBQUEsUUFDQ0MsTUFERCxVQUNDQSxNQUREO0FBQUEsUUFDU0MsT0FEVCxVQUNTQSxPQURUO0FBRVA7O0FBRUEsV0FDRTtBQUFBO0FBQUEsUUFBSyxXQUFVLHlCQUFmLEVBQXlDLElBQUcsYUFBNUM7QUFDRTtBQUFBO0FBQUEsVUFBSSxPQUFPLEtBQUtGLEtBQUwsQ0FBV0csS0FBdEI7QUFBQTtBQUFBLE9BREY7QUFFRyxXQUFLSixXQUFMLENBQWlCSyxHQUFqQixDQUFxQixnQkFBUTtBQUM1QixZQUFJQyxPQUFPLFNBQVBBLElBQU87QUFBQSxpQkFBU1osZUFBZWEsSUFBZixFQUFxQkMsS0FBckIsQ0FBVDtBQUFBLFNBQVg7QUFDQSxZQUFJQyxXQUFXUCxXQUFXSyxJQUExQjtBQUNBLFlBQUlHLDJFQUF5RUosS0FBSyxDQUFMLENBQTdFOztBQUVBLGVBQ0U7QUFBQTtBQUFBO0FBQ0Usa0JBQU1JLFFBRFI7QUFFRSxxRUFBc0RELFlBQ3BELFVBREY7QUFGRjtBQUtFLHVDQUFLLFdBQVcsQ0FBQ0gsS0FBSyxDQUFMLENBQUQsRUFBVSxvQkFBVixFQUFnQ0ssSUFBaEMsQ0FBcUMsR0FBckMsQ0FBaEIsR0FMRjtBQU1FO0FBQUE7QUFBQSxjQUFJLE9BQU8sTUFBS1YsS0FBTCxDQUFXRyxLQUF0QjtBQUE4Qkc7QUFBOUI7QUFORixTQURGO0FBVUQsT0FmQTtBQUZILEtBREY7QUFxQkQ7QUFyQ2lDLENBQWxCLENBQWxCOztBQXdDQUssT0FBT0MsT0FBUCxHQUFpQixFQUFFTCxPQUFPYixvQkFBVCxFQUErQm1CLFdBQVdyQixXQUExQyxFQUFqQiIsImZpbGUiOiJkZXBhcnRtZW50cy5qcyIsInNvdXJjZVJvb3QiOiIvdmFyL3d3dy9hcnQvc3JjIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBmb3JtYXRcbiAqL1xudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIgeyBMaW5rIH0gPSBSb3V0ZXJcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxuXG52YXIgSG9tZSA9IHJlcXVpcmUoJy4vaG9tZScpXG52YXIgRGVwYXJ0bWVudHMgPSBIb21lLkRlcGFydG1lbnRzXG52YXIgZmluZERlcGFydG1lbnQgPSByZXF1aXJlKCcuL2RlcGFydG1lbnQtc2x1ZycpXG5cbnZhciBEZXBhcnRtZW50c0luZGV4UGFnZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgbWl4aW5zOiBbUm91dGVyLlN0YXRlXSxcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXhwbG9yZS1oZWFkZXJcIiAvPlxuICAgICAgICA8RGVwYXJ0bWVudHMgLz5cbiAgICAgICAgPEhlbG1ldCB0aXRsZT1cIkRlcGFydG1lbnRzXCIgLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfSxcbn0pXG5cbnZhciBEZXBhcnRtZW50cyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgZGVwYXJ0bWVudHM6IFtcbiAgICAnQXJ0IG9mIEFmcmljYSBhbmQgdGhlIEFtZXJpY2FzJyxcbiAgICAnQ2hpbmVzZSwgU291dGggYW5kIFNvdXRoZWFzdCBBc2lhbiBBcnQnLFxuICAgICdDb250ZW1wb3JhcnkgQXJ0JyxcbiAgICAnRGVjb3JhdGl2ZSBBcnRzLCBUZXh0aWxlcyBhbmQgU2N1bHB0dXJlJyxcbiAgICAnSmFwYW5lc2UgYW5kIEtvcmVhbiBBcnQnLFxuICAgICdQYWludGluZ3MnLFxuICAgICdQaG90b2dyYXBoeSBhbmQgTmV3IE1lZGlhJyxcbiAgICAnUHJpbnRzIGFuZCBEcmF3aW5ncycsXG4gIF0sXG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgYWN0aXZlLCBjb21wYWN0IH0gPSB0aGlzLnByb3BzXG4gICAgLy8gVE9ETyBpbXBsZW1lbnQgXCJleHBhbmRlZFwiIHZpZXcgdnMgY29tcGFjdD9cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImRlcGFydG1lbnRMaXN0IG1kbC1ncmlkXCIgaWQ9XCJkZXBhcnRtZW50c1wiPlxuICAgICAgICA8aDIgc3R5bGU9e3RoaXMucHJvcHMuc3R5bGV9PkRlcGFydG1lbnRzPC9oMj5cbiAgICAgICAge3RoaXMuZGVwYXJ0bWVudHMubWFwKGRlcHQgPT4ge1xuICAgICAgICAgIHZhciBuYW1lID0gaW5kZXggPT4gZmluZERlcGFydG1lbnQoZGVwdClbaW5kZXhdXG4gICAgICAgICAgdmFyIGlzQWN0aXZlID0gYWN0aXZlID09PSBkZXB0XG4gICAgICAgICAgdmFyIGRlcHRMaW5rID0gYGh0dHBzOi8vbmV3LmFydHNtaWEub3JnL2FydC1hcnRpc3RzL2N1cmF0b3JpYWwtZGVwYXJ0bWVudHMvJHtuYW1lKDIpfWBcblxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8YVxuICAgICAgICAgICAgICBocmVmPXtkZXB0TGlua31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZGVwYXJ0bWVudExpbmsgbWRsLWNlbGwgbWRsLWNlbGwtLTMtY29sICR7aXNBY3RpdmUgJiZcbiAgICAgICAgICAgICAgICAnaXNBY3RpdmUnfWB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtbbmFtZSgxKSwgJ2RlcGFydG1lbnRMaXN0SXRlbSddLmpvaW4oJyAnKX0gLz5cbiAgICAgICAgICAgICAgPGgyIHN0eWxlPXt0aGlzLnByb3BzLnN0eWxlfT57ZGVwdH08L2gyPlxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIClcbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgaW5kZXg6IERlcGFydG1lbnRzSW5kZXhQYWdlLCBjb21wb25lbnQ6IERlcGFydG1lbnRzIH1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "departments.js"
      ],
      "names": [
        "React",
        "require",
        "Router",
        "Link",
        "Helmet",
        "Home",
        "Departments",
        "findDepartment",
        "DepartmentsIndexPage",
        "createClass",
        "mixins",
        "State",
        "render",
        "departments",
        "props",
        "active",
        "compact",
        "style",
        "map",
        "name",
        "dept",
        "index",
        "isActive",
        "deptLink",
        "join",
        "module",
        "exports",
        "component"
      ],
      "mappings": ";;AAAA;;AAEA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;AACA,IAAIC,SAASD,QAAQ,cAAR,CAAb;IACME,I,GAASD,M,CAATC,I;;AACN,IAAIC,SAASH,QAAQ,cAAR,CAAb;;AAEA,IAAII,OAAOJ,QAAQ,QAAR,CAAX;AACA,IAAIK,cAAcD,KAAKC,WAAvB;AACA,IAAIC,iBAAiBN,QAAQ,mBAAR,CAArB;;AAEA,IAAIO,uBAAuBR,MAAMS,WAAN,CAAkB;AAAA;;AAC3CC,UAAQ,CAACR,OAAOS,KAAR,CADmC;;AAG3CC,QAH2C,oBAGlC;AACP,WACE;AAAA;AAAA;AACE,mCAAK,WAAU,gBAAf,GADF;AAEE,0BAAC,WAAD,OAFF;AAGE,0BAAC,MAAD,IAAQ,OAAM,aAAd;AAHF,KADF;AAOD;AAX0C,CAAlB,CAA3B;;AAcA,IAAIN,cAAcN,MAAMS,WAAN,CAAkB;AAAA;;AAClCI,eAAa,CACX,gCADW,EAEX,wCAFW,EAGX,kBAHW,EAIX,yCAJW,EAKX,yBALW,EAMX,WANW,EAOX,2BAPW,EAQX,qBARW,CADqB;;AAYlCD,QAZkC,oBAYzB;AAAA;;AAAA,iBACqB,KAAKE,KAD1B;AAAA,QACCC,MADD,UACCA,MADD;AAAA,QACSC,OADT,UACSA,OADT;AAEP;;AAEA,WACE;AAAA;AAAA,QAAK,WAAU,yBAAf,EAAyC,IAAG,aAA5C;AACE;AAAA;AAAA,UAAI,OAAO,KAAKF,KAAL,CAAWG,KAAtB;AAAA;AAAA,OADF;AAEG,WAAKJ,WAAL,CAAiBK,GAAjB,CAAqB,gBAAQ;AAC5B,YAAIC,OAAO,SAAPA,IAAO;AAAA,iBAASZ,eAAea,IAAf,EAAqBC,KAArB,CAAT;AAAA,SAAX;AACA,YAAIC,WAAWP,WAAWK,IAA1B;AACA,YAAIG,2EAAyEJ,KAAK,CAAL,CAA7E;;AAEA,eACE;AAAA;AAAA;AACE,kBAAMI,QADR;AAEE,qEAAsDD,YACpD,UADF;AAFF;AAKE,uCAAK,WAAW,CAACH,KAAK,CAAL,CAAD,EAAU,oBAAV,EAAgCK,IAAhC,CAAqC,GAArC,CAAhB,GALF;AAME;AAAA;AAAA,cAAI,OAAO,MAAKV,KAAL,CAAWG,KAAtB;AAA8BG;AAA9B;AANF,SADF;AAUD,OAfA;AAFH,KADF;AAqBD;AArCiC,CAAlB,CAAlB;;AAwCAK,OAAOC,OAAP,GAAiB,EAAEL,OAAOb,oBAAT,EAA+BmB,WAAWrB,WAA1C,EAAjB",
      "file": "departments.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "/** @format\n */\nvar React = require('react')\nvar Router = require('react-router')\nvar { Link } = Router\nvar Helmet = require('react-helmet')\n\nvar Home = require('./home')\nvar Departments = Home.Departments\nvar findDepartment = require('./department-slug')\n\nvar DepartmentsIndexPage = React.createClass({\n  mixins: [Router.State],\n\n  render() {\n    return (\n      <div>\n        <div className=\"explore-header\" />\n        <Departments />\n        <Helmet title=\"Departments\" />\n      </div>\n    )\n  },\n})\n\nvar Departments = React.createClass({\n  departments: [\n    'Art of Africa and the Americas',\n    'Chinese, South and Southeast Asian Art',\n    'Contemporary Art',\n    'Decorative Arts, Textiles and Sculpture',\n    'Japanese and Korean Art',\n    'Paintings',\n    'Photography and New Media',\n    'Prints and Drawings',\n  ],\n\n  render() {\n    const { active, compact } = this.props\n    // TODO implement \"expanded\" view vs compact?\n\n    return (\n      <div className=\"departmentList mdl-grid\" id=\"departments\">\n        <h2 style={this.props.style}>Departments</h2>\n        {this.departments.map(dept => {\n          var name = index => findDepartment(dept)[index]\n          var isActive = active === dept\n          var deptLink = `https://new.artsmia.org/art-artists/curatorial-departments/${name(2)}`\n\n          return (\n            <a\n              href={deptLink}\n              className={`departmentLink mdl-cell mdl-cell--3-col ${isActive &&\n                'isActive'}`}\n            >\n              <div className={[name(1), 'departmentListItem'].join(' ')} />\n              <h2 style={this.props.style}>{dept}</h2>\n            </a>\n          )\n        })}\n      </div>\n    )\n  },\n})\n\nmodule.exports = { index: DepartmentsIndexPage, component: Departments }\n"
      ]
    },
    "mtime": 1614714208384
  },
  "{\"filename\":\"/var/www/art/src/art-champion.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "toArray",
        "extends"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/art-champion.js",
      "filenameRelative": "/var/www/art/src/art-champion.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "art-champion.js",
      "sourceFileName": "art-champion.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "art-champion"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\n\nvar Artwork = require('./artwork');\nvar ArtworkPreview = require('./artwork-preview');\nvar Markdown = require('./markdown');\nvar ArtworkPageMetadata = require('./artwork/page-metadata');\n\nvar ArtChampionPage = React.createClass({\n  displayName: 'ArtChampionPage',\n\n  mixins: Artwork.mixins,\n  statics: {\n    fetchData: Artwork.fetchData,\n    willTransitionTo: function willTransitionTo(transition, params, query, callback) {\n      Artwork.checkRoute(params, function (err, art) {\n        console.info('ArtChampionPage', { params: params, err: err, art: art });\n        debugger;\n        if (!art.art_champions_text) transition.redirect('artworkSlug', params);\n        if (err) transition.redirect('artChampion', params);\n      }).then(callback);\n    }\n  },\n\n  render: function render() {\n    var art = this.props.data.artwork;\n\n    var _art$art_champions_te = art.art_champions_text.split('\\n'),\n        _art$art_champions_te2 = _toArray(_art$art_champions_te),\n        cost = _art$art_champions_te2[0],\n        textLines = _art$art_champions_te2.slice(1);\n\n    var text = textLines.join('\\n');\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        Artwork,\n        _extends({}, this.props, { accessionHighlightView: true }),\n        React.createElement(\n          ArtworkPreview,\n          { art: art, showDuplicateDetails: true },\n          React.createElement(\n            'div',\n            { className: 'description', itemProp: 'description', style: { 'borderTop': '4px solid #232323', 'borderBottom': '4px solid #232323', 'padding': '4px 0', 'margin': '10px 0' } },\n            React.createElement(\n              'h2',\n              null,\n              'Art Champions'\n            ),\n            React.createElement(\n              'h3',\n              null,\n              cost\n            ),\n            React.createElement(\n              Markdown,\n              null,\n              text\n            )\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'back-button', style: { marginRight: '.5em' } },\n          React.createElement(\n            'a',\n            { href: '#', onClick: function onClick() {\n                return history.go(-1);\n              } },\n            React.createElement(\n              'i',\n              { className: 'material-icons' },\n              'arrow_back'\n            ),\n            ' back'\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'back-button' },\n          React.createElement(\n            Link,\n            { to: 'artworkSlug', params: { id: art.id, slug: art.slug } },\n            'view details ',\n            React.createElement(\n              'i',\n              { className: 'material-icons' },\n              'arrow_forward'\n            )\n          )\n        )\n      ),\n      React.createElement(ArtworkPageMetadata, { art: art, prependTitle: 'Art Champions: ' })\n    );\n  }\n});\n\nmodule.exports = ArtChampionPage;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFydC1jaGFtcGlvbi5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJSb3V0ZXIiLCJMaW5rIiwiQXJ0d29yayIsIkFydHdvcmtQcmV2aWV3IiwiTWFya2Rvd24iLCJBcnR3b3JrUGFnZU1ldGFkYXRhIiwiQXJ0Q2hhbXBpb25QYWdlIiwiY3JlYXRlQ2xhc3MiLCJtaXhpbnMiLCJzdGF0aWNzIiwiZmV0Y2hEYXRhIiwid2lsbFRyYW5zaXRpb25UbyIsInRyYW5zaXRpb24iLCJwYXJhbXMiLCJxdWVyeSIsImNhbGxiYWNrIiwiY2hlY2tSb3V0ZSIsImVyciIsImFydCIsImNvbnNvbGUiLCJpbmZvIiwiYXJ0X2NoYW1waW9uc190ZXh0IiwicmVkaXJlY3QiLCJ0aGVuIiwicmVuZGVyIiwicHJvcHMiLCJkYXRhIiwiYXJ0d29yayIsInNwbGl0IiwiY29zdCIsInRleHRMaW5lcyIsInRleHQiLCJqb2luIiwibWFyZ2luUmlnaHQiLCJoaXN0b3J5IiwiZ28iLCJpZCIsInNsdWciLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFJQSxRQUFRQyxRQUFRLE9BQVIsQ0FBWjtBQUNBLElBQUlDLFNBQVNELFFBQVEsY0FBUixDQUFiO0lBQ0tFLEksR0FBUUQsTSxDQUFSQyxJOzs7QUFFTCxJQUFJQyxVQUFVSCxRQUFRLFdBQVIsQ0FBZDtBQUNBLElBQUlJLGlCQUFpQkosUUFBUSxtQkFBUixDQUFyQjtBQUNBLElBQUlLLFdBQVdMLFFBQVEsWUFBUixDQUFmO0FBQ0EsSUFBSU0sc0JBQXNCTixRQUFRLHlCQUFSLENBQTFCOztBQUVBLElBQUlPLGtCQUFrQlIsTUFBTVMsV0FBTixDQUFrQjtBQUFBOztBQUN0Q0MsVUFBUU4sUUFBUU0sTUFEc0I7QUFFdENDLFdBQVM7QUFDUEMsZUFBV1IsUUFBUVEsU0FEWjtBQUVQQyxzQkFBa0IsMEJBQUNDLFVBQUQsRUFBYUMsTUFBYixFQUFxQkMsS0FBckIsRUFBNEJDLFFBQTVCLEVBQXlDO0FBQ3pEYixjQUFRYyxVQUFSLENBQW1CSCxNQUFuQixFQUEyQixVQUFDSSxHQUFELEVBQU1DLEdBQU4sRUFBYztBQUN2Q0MsZ0JBQVFDLElBQVIsQ0FBYSxpQkFBYixFQUFnQyxFQUFDUCxjQUFELEVBQVNJLFFBQVQsRUFBY0MsUUFBZCxFQUFoQztBQUNBO0FBQ0EsWUFBRyxDQUFDQSxJQUFJRyxrQkFBUixFQUE0QlQsV0FBV1UsUUFBWCxDQUFvQixhQUFwQixFQUFtQ1QsTUFBbkM7QUFDNUIsWUFBR0ksR0FBSCxFQUFRTCxXQUFXVSxRQUFYLENBQW9CLGFBQXBCLEVBQW1DVCxNQUFuQztBQUNULE9BTEQsRUFNQ1UsSUFORCxDQU1NUixRQU5OO0FBT0Q7QUFWTSxHQUY2Qjs7QUFldENTLFFBZnNDLG9CQWU3QjtBQUFBLFFBQ09OLEdBRFAsR0FDYyxLQUFLTyxLQUFMLENBQVdDLElBRHpCLENBQ0ZDLE9BREU7O0FBQUEsZ0NBRW9CVCxJQUFJRyxrQkFBSixDQUF1Qk8sS0FBdkIsQ0FBNkIsSUFBN0IsQ0FGcEI7QUFBQTtBQUFBLFFBRUZDLElBRkU7QUFBQSxRQUVPQyxTQUZQOztBQUdQLFFBQUlDLE9BQU9ELFVBQVVFLElBQVYsQ0FBZSxJQUFmLENBQVg7O0FBRUEsV0FBTztBQUFBO0FBQUE7QUFDTDtBQUFDLGVBQUQ7QUFBQSxxQkFBYSxLQUFLUCxLQUFsQixJQUF5Qix3QkFBd0IsSUFBakQ7QUFDRTtBQUFDLHdCQUFEO0FBQUEsWUFBZ0IsS0FBS1AsR0FBckIsRUFBMEIsc0JBQXNCLElBQWhEO0FBQ0U7QUFBQTtBQUFBLGNBQUssV0FBVSxhQUFmLEVBQTZCLFVBQVMsYUFBdEMsRUFBb0QsT0FBTyxFQUFDLGFBQVksbUJBQWIsRUFBa0MsZ0JBQWUsbUJBQWpELEVBQXNFLFdBQVUsT0FBaEYsRUFBeUYsVUFBUyxRQUFsRyxFQUEzRDtBQUNFO0FBQUE7QUFBQTtBQUFBO0FBQUEsYUFERjtBQUVFO0FBQUE7QUFBQTtBQUFLVztBQUFMLGFBRkY7QUFHRTtBQUFDLHNCQUFEO0FBQUE7QUFBV0U7QUFBWDtBQUhGO0FBREYsU0FERjtBQVFFO0FBQUE7QUFBQSxZQUFLLFdBQVUsYUFBZixFQUE2QixPQUFPLEVBQUNFLGFBQWEsTUFBZCxFQUFwQztBQUEyRDtBQUFBO0FBQUEsY0FBRyxNQUFLLEdBQVIsRUFBWSxTQUFTO0FBQUEsdUJBQU1DLFFBQVFDLEVBQVIsQ0FBVyxDQUFDLENBQVosQ0FBTjtBQUFBLGVBQXJCO0FBQTJDO0FBQUE7QUFBQSxnQkFBRyxXQUFVLGdCQUFiO0FBQUE7QUFBQSxhQUEzQztBQUFBO0FBQUE7QUFBM0QsU0FSRjtBQVNFO0FBQUE7QUFBQSxZQUFLLFdBQVUsYUFBZjtBQUE2QjtBQUFDLGdCQUFEO0FBQUEsY0FBTSxJQUFHLGFBQVQsRUFBdUIsUUFBUSxFQUFDQyxJQUFJbEIsSUFBSWtCLEVBQVQsRUFBYUMsTUFBTW5CLElBQUltQixJQUF2QixFQUEvQjtBQUFBO0FBQTBFO0FBQUE7QUFBQSxnQkFBRyxXQUFVLGdCQUFiO0FBQUE7QUFBQTtBQUExRTtBQUE3QjtBQVRGLE9BREs7QUFhTCwwQkFBQyxtQkFBRCxJQUFxQixLQUFLbkIsR0FBMUIsRUFBK0IsY0FBYyxpQkFBN0M7QUFiSyxLQUFQO0FBZUQ7QUFuQ3FDLENBQWxCLENBQXRCOztBQXNDQW9CLE9BQU9DLE9BQVAsR0FBaUJqQyxlQUFqQiIsImZpbGUiOiJhcnQtY2hhbXBpb24uanMiLCJzb3VyY2VSb290IjoiL3Zhci93d3cvYXJ0L3NyYyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciBSb3V0ZXIgPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXInKVxudmFyIHtMaW5rfSA9IFJvdXRlclxuXG52YXIgQXJ0d29yayA9IHJlcXVpcmUoJy4vYXJ0d29yaycpXG52YXIgQXJ0d29ya1ByZXZpZXcgPSByZXF1aXJlKCcuL2FydHdvcmstcHJldmlldycpXG52YXIgTWFya2Rvd24gPSByZXF1aXJlKCcuL21hcmtkb3duJylcbnZhciBBcnR3b3JrUGFnZU1ldGFkYXRhID0gcmVxdWlyZSgnLi9hcnR3b3JrL3BhZ2UtbWV0YWRhdGEnKVxuXG52YXIgQXJ0Q2hhbXBpb25QYWdlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBtaXhpbnM6IEFydHdvcmsubWl4aW5zLFxuICBzdGF0aWNzOiB7XG4gICAgZmV0Y2hEYXRhOiBBcnR3b3JrLmZldGNoRGF0YSxcbiAgICB3aWxsVHJhbnNpdGlvblRvOiAodHJhbnNpdGlvbiwgcGFyYW1zLCBxdWVyeSwgY2FsbGJhY2spID0+IHtcbiAgICAgIEFydHdvcmsuY2hlY2tSb3V0ZShwYXJhbXMsIChlcnIsIGFydCkgPT4ge1xuICAgICAgICBjb25zb2xlLmluZm8oJ0FydENoYW1waW9uUGFnZScsIHtwYXJhbXMsIGVyciwgYXJ0fSlcbiAgICAgICAgZGVidWdnZXJcbiAgICAgICAgaWYoIWFydC5hcnRfY2hhbXBpb25zX3RleHQpIHRyYW5zaXRpb24ucmVkaXJlY3QoJ2FydHdvcmtTbHVnJywgcGFyYW1zKVxuICAgICAgICBpZihlcnIpIHRyYW5zaXRpb24ucmVkaXJlY3QoJ2FydENoYW1waW9uJywgcGFyYW1zKVxuICAgICAgfSlcbiAgICAgIC50aGVuKGNhbGxiYWNrKVxuICAgIH0sXG4gIH0sXG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciB7YXJ0d29yazogYXJ0fSA9IHRoaXMucHJvcHMuZGF0YVxuICAgIHZhciBbY29zdCwgLi4udGV4dExpbmVzXSA9IGFydC5hcnRfY2hhbXBpb25zX3RleHQuc3BsaXQoJ1xcbicpXG4gICAgdmFyIHRleHQgPSB0ZXh0TGluZXMuam9pbignXFxuJylcblxuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPEFydHdvcmsgey4uLnRoaXMucHJvcHN9IGFjY2Vzc2lvbkhpZ2hsaWdodFZpZXc9e3RydWV9PlxuICAgICAgICA8QXJ0d29ya1ByZXZpZXcgYXJ0PXthcnR9IHNob3dEdXBsaWNhdGVEZXRhaWxzPXt0cnVlfT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRlc2NyaXB0aW9uXCIgaXRlbVByb3A9XCJkZXNjcmlwdGlvblwiIHN0eWxlPXt7J2JvcmRlclRvcCc6JzRweCBzb2xpZCAjMjMyMzIzJywgJ2JvcmRlckJvdHRvbSc6JzRweCBzb2xpZCAjMjMyMzIzJywgJ3BhZGRpbmcnOic0cHggMCcsICdtYXJnaW4nOicxMHB4IDAnfX0+XG4gICAgICAgICAgICA8aDI+QXJ0IENoYW1waW9uczwvaDI+XG4gICAgICAgICAgICA8aDM+e2Nvc3R9PC9oMz5cbiAgICAgICAgICAgIDxNYXJrZG93bj57dGV4dH08L01hcmtkb3duPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0FydHdvcmtQcmV2aWV3PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJhY2stYnV0dG9uXCIgc3R5bGU9e3ttYXJnaW5SaWdodDogJy41ZW0nfX0+PGEgaHJlZj1cIiNcIiBvbkNsaWNrPXsoKSA9PiBoaXN0b3J5LmdvKC0xKX0+PGkgY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbnNcIj5hcnJvd19iYWNrPC9pPiBiYWNrPC9hPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJhY2stYnV0dG9uXCI+PExpbmsgdG89XCJhcnR3b3JrU2x1Z1wiIHBhcmFtcz17e2lkOiBhcnQuaWQsIHNsdWc6IGFydC5zbHVnfX0+dmlldyBkZXRhaWxzIDxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zXCI+YXJyb3dfZm9yd2FyZDwvaT48L0xpbms+PC9kaXY+XG5cbiAgICAgIDwvQXJ0d29yaz5cbiAgICAgIDxBcnR3b3JrUGFnZU1ldGFkYXRhIGFydD17YXJ0fSBwcmVwZW5kVGl0bGU9eydBcnQgQ2hhbXBpb25zOiAnfSAvPlxuICAgIDwvZGl2PlxuICB9XG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFydENoYW1waW9uUGFnZVxuXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "art-champion.js"
      ],
      "names": [
        "React",
        "require",
        "Router",
        "Link",
        "Artwork",
        "ArtworkPreview",
        "Markdown",
        "ArtworkPageMetadata",
        "ArtChampionPage",
        "createClass",
        "mixins",
        "statics",
        "fetchData",
        "willTransitionTo",
        "transition",
        "params",
        "query",
        "callback",
        "checkRoute",
        "err",
        "art",
        "console",
        "info",
        "art_champions_text",
        "redirect",
        "then",
        "render",
        "props",
        "data",
        "artwork",
        "split",
        "cost",
        "textLines",
        "text",
        "join",
        "marginRight",
        "history",
        "go",
        "id",
        "slug",
        "module",
        "exports"
      ],
      "mappings": ";;;;;;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;AACA,IAAIC,SAASD,QAAQ,cAAR,CAAb;IACKE,I,GAAQD,M,CAARC,I;;;AAEL,IAAIC,UAAUH,QAAQ,WAAR,CAAd;AACA,IAAII,iBAAiBJ,QAAQ,mBAAR,CAArB;AACA,IAAIK,WAAWL,QAAQ,YAAR,CAAf;AACA,IAAIM,sBAAsBN,QAAQ,yBAAR,CAA1B;;AAEA,IAAIO,kBAAkBR,MAAMS,WAAN,CAAkB;AAAA;;AACtCC,UAAQN,QAAQM,MADsB;AAEtCC,WAAS;AACPC,eAAWR,QAAQQ,SADZ;AAEPC,sBAAkB,0BAACC,UAAD,EAAaC,MAAb,EAAqBC,KAArB,EAA4BC,QAA5B,EAAyC;AACzDb,cAAQc,UAAR,CAAmBH,MAAnB,EAA2B,UAACI,GAAD,EAAMC,GAAN,EAAc;AACvCC,gBAAQC,IAAR,CAAa,iBAAb,EAAgC,EAACP,cAAD,EAASI,QAAT,EAAcC,QAAd,EAAhC;AACA;AACA,YAAG,CAACA,IAAIG,kBAAR,EAA4BT,WAAWU,QAAX,CAAoB,aAApB,EAAmCT,MAAnC;AAC5B,YAAGI,GAAH,EAAQL,WAAWU,QAAX,CAAoB,aAApB,EAAmCT,MAAnC;AACT,OALD,EAMCU,IAND,CAMMR,QANN;AAOD;AAVM,GAF6B;;AAetCS,QAfsC,oBAe7B;AAAA,QACON,GADP,GACc,KAAKO,KAAL,CAAWC,IADzB,CACFC,OADE;;AAAA,gCAEoBT,IAAIG,kBAAJ,CAAuBO,KAAvB,CAA6B,IAA7B,CAFpB;AAAA;AAAA,QAEFC,IAFE;AAAA,QAEOC,SAFP;;AAGP,QAAIC,OAAOD,UAAUE,IAAV,CAAe,IAAf,CAAX;;AAEA,WAAO;AAAA;AAAA;AACL;AAAC,eAAD;AAAA,qBAAa,KAAKP,KAAlB,IAAyB,wBAAwB,IAAjD;AACE;AAAC,wBAAD;AAAA,YAAgB,KAAKP,GAArB,EAA0B,sBAAsB,IAAhD;AACE;AAAA;AAAA,cAAK,WAAU,aAAf,EAA6B,UAAS,aAAtC,EAAoD,OAAO,EAAC,aAAY,mBAAb,EAAkC,gBAAe,mBAAjD,EAAsE,WAAU,OAAhF,EAAyF,UAAS,QAAlG,EAA3D;AACE;AAAA;AAAA;AAAA;AAAA,aADF;AAEE;AAAA;AAAA;AAAKW;AAAL,aAFF;AAGE;AAAC,sBAAD;AAAA;AAAWE;AAAX;AAHF;AADF,SADF;AAQE;AAAA;AAAA,YAAK,WAAU,aAAf,EAA6B,OAAO,EAACE,aAAa,MAAd,EAApC;AAA2D;AAAA;AAAA,cAAG,MAAK,GAAR,EAAY,SAAS;AAAA,uBAAMC,QAAQC,EAAR,CAAW,CAAC,CAAZ,CAAN;AAAA,eAArB;AAA2C;AAAA;AAAA,gBAAG,WAAU,gBAAb;AAAA;AAAA,aAA3C;AAAA;AAAA;AAA3D,SARF;AASE;AAAA;AAAA,YAAK,WAAU,aAAf;AAA6B;AAAC,gBAAD;AAAA,cAAM,IAAG,aAAT,EAAuB,QAAQ,EAACC,IAAIlB,IAAIkB,EAAT,EAAaC,MAAMnB,IAAImB,IAAvB,EAA/B;AAAA;AAA0E;AAAA;AAAA,gBAAG,WAAU,gBAAb;AAAA;AAAA;AAA1E;AAA7B;AATF,OADK;AAaL,0BAAC,mBAAD,IAAqB,KAAKnB,GAA1B,EAA+B,cAAc,iBAA7C;AAbK,KAAP;AAeD;AAnCqC,CAAlB,CAAtB;;AAsCAoB,OAAOC,OAAP,GAAiBjC,eAAjB",
      "file": "art-champion.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar {Link} = Router\n\nvar Artwork = require('./artwork')\nvar ArtworkPreview = require('./artwork-preview')\nvar Markdown = require('./markdown')\nvar ArtworkPageMetadata = require('./artwork/page-metadata')\n\nvar ArtChampionPage = React.createClass({\n  mixins: Artwork.mixins,\n  statics: {\n    fetchData: Artwork.fetchData,\n    willTransitionTo: (transition, params, query, callback) => {\n      Artwork.checkRoute(params, (err, art) => {\n        console.info('ArtChampionPage', {params, err, art})\n        debugger\n        if(!art.art_champions_text) transition.redirect('artworkSlug', params)\n        if(err) transition.redirect('artChampion', params)\n      })\n      .then(callback)\n    },\n  },\n\n  render() {\n    var {artwork: art} = this.props.data\n    var [cost, ...textLines] = art.art_champions_text.split('\\n')\n    var text = textLines.join('\\n')\n\n    return <div>\n      <Artwork {...this.props} accessionHighlightView={true}>\n        <ArtworkPreview art={art} showDuplicateDetails={true}>\n          <div className=\"description\" itemProp=\"description\" style={{'borderTop':'4px solid #232323', 'borderBottom':'4px solid #232323', 'padding':'4px 0', 'margin':'10px 0'}}>\n            <h2>Art Champions</h2>\n            <h3>{cost}</h3>\n            <Markdown>{text}</Markdown>\n          </div>\n        </ArtworkPreview>\n        <div className=\"back-button\" style={{marginRight: '.5em'}}><a href=\"#\" onClick={() => history.go(-1)}><i className=\"material-icons\">arrow_back</i> back</a></div>\n        <div className=\"back-button\"><Link to=\"artworkSlug\" params={{id: art.id, slug: art.slug}}>view details <i className=\"material-icons\">arrow_forward</i></Link></div>\n\n      </Artwork>\n      <ArtworkPageMetadata art={art} prependTitle={'Art Champions: '} />\n    </div>\n  }\n})\n\nmodule.exports = ArtChampionPage\n\n"
      ]
    },
    "mtime": 1584573136814
  },
  "{\"filename\":\"/var/www/art/src/decorate/artist.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src/decorate\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/decorate/artist.js",
      "filenameRelative": "/var/www/art/src/decorate/artist.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "artist.js",
      "sourceFileName": "artist.js",
      "sourceRoot": "/var/www/art/src/decorate",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src/decorate",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "artist"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\n\nvar _require = require('react-router'),\n    Link = _require.Link;\n\nvar rest = require('rest');\n\nvar ArtistPage = require('../artist');\n\nvar ArtistDecorator = React.createClass({\n  displayName: 'ArtistDecorator',\n  componentWillMount: function componentWillMount() {\n    var _this = this;\n\n    var artistName = decodeURIComponent(this.props.artist[0].replace(/.*: ?/, '')).replace('+', ' ').replace(/\"/g, '');\n    console.info('ArtistDecorator', { artistName: artistName, key: this.props.key });\n    var fetchArtist = ArtistPage.fetchData.artist;\n    fetchArtist({ id: artistName }).then(function (artist) {\n      console.info('fetchArtist', { artist: artist, artistName: artistName });\n      _this.setState({ artist: artist, error: !artist });\n    });\n  },\n  render: function render() {\n    var _ref = this.state || {},\n        artist = _ref.artist,\n        error = _ref.error;\n\n    if (error || artist && !artist.q) {\n      // If artist data can't be fetched, retroactively remove this Decorator\n      // from consideration with a callback and render nothing for now.\n      this.props.remove && this.props.remove('ArtistDecorator');\n      return React.createElement('span', null);\n    }\n    if (!artist) return React.createElement(\n      'span',\n      null,\n      'loading\\u2026'\n    );\n\n    var _ref2 = artist.wikipedia || {},\n        thumbnail = _ref2.thumbnail,\n        link = _ref2.link,\n        extract = _ref2.extract;\n\n    var _ref3 = artist.wikidata || {},\n        artistDescription = _ref3.artistDescription;\n\n    return React.createElement(\n      'div',\n      { style: { maxWidth: '47em', margin: '0 auto', color: 'white' }, key: this.props.terms },\n      thumbnail && React.createElement('img', { src: thumbnail, style: { float: 'right', margin: '0 0 1em 1em', maxHeight: 200 }, alt: 'image of ' + artist.name + ' from wikipedia' }),\n      React.createElement(\n        'h2',\n        { style: { color: \"white\" } },\n        artist.name\n      ),\n      extract || artistDescription && React.createElement(\n        'p',\n        { style: { color: 'white' } },\n        extract || artistDescription\n      ),\n      React.createElement(\n        'p',\n        null,\n        React.createElement(\n          'a',\n          { href: '/people/' + artist.id },\n          'More info \\u2192'\n        )\n      )\n    );\n  }\n});\n\nmodule.exports = ArtistDecorator;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFydGlzdC5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJMaW5rIiwicmVzdCIsIkFydGlzdFBhZ2UiLCJBcnRpc3REZWNvcmF0b3IiLCJjcmVhdGVDbGFzcyIsImNvbXBvbmVudFdpbGxNb3VudCIsImFydGlzdE5hbWUiLCJkZWNvZGVVUklDb21wb25lbnQiLCJwcm9wcyIsImFydGlzdCIsInJlcGxhY2UiLCJjb25zb2xlIiwiaW5mbyIsImtleSIsImZldGNoQXJ0aXN0IiwiZmV0Y2hEYXRhIiwiaWQiLCJ0aGVuIiwic2V0U3RhdGUiLCJlcnJvciIsInJlbmRlciIsInN0YXRlIiwicSIsInJlbW92ZSIsIndpa2lwZWRpYSIsInRodW1ibmFpbCIsImxpbmsiLCJleHRyYWN0Iiwid2lraWRhdGEiLCJhcnRpc3REZXNjcmlwdGlvbiIsIm1heFdpZHRoIiwibWFyZ2luIiwiY29sb3IiLCJ0ZXJtcyIsImZsb2F0IiwibWF4SGVpZ2h0IiwibmFtZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7O2VBQ2FBLFFBQVEsY0FBUixDO0lBQVJDLEksWUFBQUEsSTs7QUFDTCxJQUFJQyxPQUFPRixRQUFRLE1BQVIsQ0FBWDs7QUFFQSxJQUFNRyxhQUFhSCxRQUFRLFdBQVIsQ0FBbkI7O0FBRUEsSUFBSUksa0JBQW1CTCxNQUFNTSxXQUFOLENBQWtCO0FBQUE7QUFDdkNDLG9CQUR1QyxnQ0FDbEI7QUFBQTs7QUFDbkIsUUFBTUMsYUFBYUMsbUJBQW1CLEtBQUtDLEtBQUwsQ0FBV0MsTUFBWCxDQUFrQixDQUFsQixFQUFxQkMsT0FBckIsQ0FBNkIsT0FBN0IsRUFBc0MsRUFBdEMsQ0FBbkIsRUFDaEJBLE9BRGdCLENBQ1IsR0FEUSxFQUNILEdBREcsRUFDRUEsT0FERixDQUNVLElBRFYsRUFDZ0IsRUFEaEIsQ0FBbkI7QUFFQUMsWUFBUUMsSUFBUixDQUFhLGlCQUFiLEVBQWdDLEVBQUNOLHNCQUFELEVBQWFPLEtBQUssS0FBS0wsS0FBTCxDQUFXSyxHQUE3QixFQUFoQztBQUNBLFFBQU1DLGNBQWNaLFdBQVdhLFNBQVgsQ0FBcUJOLE1BQXpDO0FBQ0FLLGdCQUFZLEVBQUNFLElBQUlWLFVBQUwsRUFBWixFQUE4QlcsSUFBOUIsQ0FBbUMsa0JBQVU7QUFDM0NOLGNBQVFDLElBQVIsQ0FBYSxhQUFiLEVBQTRCLEVBQUNILGNBQUQsRUFBU0gsc0JBQVQsRUFBNUI7QUFDQSxZQUFLWSxRQUFMLENBQWMsRUFBQ1QsY0FBRCxFQUFTVSxPQUFPLENBQUNWLE1BQWpCLEVBQWQ7QUFDRCxLQUhEO0FBSUQsR0FWc0M7QUFZdkNXLFFBWnVDLG9CQVk5QjtBQUFBLGVBQ2lCLEtBQUtDLEtBQUwsSUFBYyxFQUQvQjtBQUFBLFFBQ0FaLE1BREEsUUFDQUEsTUFEQTtBQUFBLFFBQ1FVLEtBRFIsUUFDUUEsS0FEUjs7QUFFUCxRQUFHQSxTQUFTVixVQUFVLENBQUNBLE9BQU9hLENBQTlCLEVBQWlDO0FBQy9CO0FBQ0E7QUFDQSxXQUFLZCxLQUFMLENBQVdlLE1BQVgsSUFBcUIsS0FBS2YsS0FBTCxDQUFXZSxNQUFYLENBQWtCLGlCQUFsQixDQUFyQjtBQUNBLGFBQU8saUNBQVA7QUFDRDtBQUNELFFBQUcsQ0FBQ2QsTUFBSixFQUFZLE9BQU87QUFBQTtBQUFBO0FBQUE7QUFBQSxLQUFQOztBQVJMLGdCQVU0QkEsT0FBT2UsU0FBUCxJQUFvQixFQVZoRDtBQUFBLFFBVUFDLFNBVkEsU0FVQUEsU0FWQTtBQUFBLFFBVVdDLElBVlgsU0FVV0EsSUFWWDtBQUFBLFFBVWlCQyxPQVZqQixTQVVpQkEsT0FWakI7O0FBQUEsZ0JBV3FCbEIsT0FBT21CLFFBQVAsSUFBbUIsRUFYeEM7QUFBQSxRQVdBQyxpQkFYQSxTQVdBQSxpQkFYQTs7QUFhUCxXQUFPO0FBQUE7QUFBQSxRQUFLLE9BQU8sRUFBQ0MsVUFBVSxNQUFYLEVBQW1CQyxRQUFRLFFBQTNCLEVBQXFDQyxPQUFPLE9BQTVDLEVBQVosRUFBa0UsS0FBSyxLQUFLeEIsS0FBTCxDQUFXeUIsS0FBbEY7QUFDSlIsbUJBQWEsNkJBQUssS0FBS0EsU0FBVixFQUFxQixPQUFPLEVBQUNTLE9BQU8sT0FBUixFQUFpQkgsUUFBUSxhQUF6QixFQUF3Q0ksV0FBVyxHQUFuRCxFQUE1QixFQUFxRixtQkFBaUIxQixPQUFPMkIsSUFBeEIsb0JBQXJGLEdBRFQ7QUFFTDtBQUFBO0FBQUEsVUFBSSxPQUFPLEVBQUNKLE9BQU8sT0FBUixFQUFYO0FBQThCdkIsZUFBTzJCO0FBQXJDLE9BRks7QUFHSlQsaUJBQVdFLHFCQUFxQjtBQUFBO0FBQUEsVUFBRyxPQUFPLEVBQUNHLE9BQU8sT0FBUixFQUFWO0FBQzlCTCxtQkFBV0U7QUFEbUIsT0FINUI7QUFNTDtBQUFBO0FBQUE7QUFBRztBQUFBO0FBQUEsWUFBRyxtQkFBaUJwQixPQUFPTyxFQUEzQjtBQUFBO0FBQUE7QUFBSDtBQU5LLEtBQVA7QUFRRDtBQWpDc0MsQ0FBbEIsQ0FBdkI7O0FBb0NBcUIsT0FBT0MsT0FBUCxHQUFpQm5DLGVBQWpCIiwiZmlsZSI6ImFydGlzdC5qcyIsInNvdXJjZVJvb3QiOiIvdmFyL3d3dy9hcnQvc3JjL2RlY29yYXRlIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIHtMaW5rfSA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxuXG5jb25zdCBBcnRpc3RQYWdlID0gcmVxdWlyZSgnLi4vYXJ0aXN0JylcblxudmFyIEFydGlzdERlY29yYXRvciA9ICBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICBjb25zdCBhcnRpc3ROYW1lID0gZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMucHJvcHMuYXJ0aXN0WzBdLnJlcGxhY2UoLy4qOiA/LywgJycpKVxuICAgICAgLnJlcGxhY2UoJysnLCAnICcpLnJlcGxhY2UoL1wiL2csICcnKVxuICAgIGNvbnNvbGUuaW5mbygnQXJ0aXN0RGVjb3JhdG9yJywge2FydGlzdE5hbWUsIGtleTogdGhpcy5wcm9wcy5rZXl9KVxuICAgIGNvbnN0IGZldGNoQXJ0aXN0ID0gQXJ0aXN0UGFnZS5mZXRjaERhdGEuYXJ0aXN0XG4gICAgZmV0Y2hBcnRpc3Qoe2lkOiBhcnRpc3ROYW1lfSkudGhlbihhcnRpc3QgPT4ge1xuICAgICAgY29uc29sZS5pbmZvKCdmZXRjaEFydGlzdCcsIHthcnRpc3QsIGFydGlzdE5hbWV9KVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7YXJ0aXN0LCBlcnJvcjogIWFydGlzdH0pXG4gICAgfSlcbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge2FydGlzdCwgZXJyb3J9ID0gdGhpcy5zdGF0ZSB8fCB7fVxuICAgIGlmKGVycm9yIHx8IGFydGlzdCAmJiAhYXJ0aXN0LnEpIHtcbiAgICAgIC8vIElmIGFydGlzdCBkYXRhIGNhbid0IGJlIGZldGNoZWQsIHJldHJvYWN0aXZlbHkgcmVtb3ZlIHRoaXMgRGVjb3JhdG9yXG4gICAgICAvLyBmcm9tIGNvbnNpZGVyYXRpb24gd2l0aCBhIGNhbGxiYWNrIGFuZCByZW5kZXIgbm90aGluZyBmb3Igbm93LlxuICAgICAgdGhpcy5wcm9wcy5yZW1vdmUgJiYgdGhpcy5wcm9wcy5yZW1vdmUoJ0FydGlzdERlY29yYXRvcicpXG4gICAgICByZXR1cm4gPHNwYW4gLz5cbiAgICB9XG4gICAgaWYoIWFydGlzdCkgcmV0dXJuIDxzcGFuPmxvYWRpbmfigKY8L3NwYW4+XG5cbiAgICBjb25zdCB7dGh1bWJuYWlsLCBsaW5rLCBleHRyYWN0fSA9IGFydGlzdC53aWtpcGVkaWEgfHwge31cbiAgICBjb25zdCB7YXJ0aXN0RGVzY3JpcHRpb259ID0gYXJ0aXN0Lndpa2lkYXRhIHx8IHt9XG5cbiAgICByZXR1cm4gPGRpdiBzdHlsZT17e21heFdpZHRoOiAnNDdlbScsIG1hcmdpbjogJzAgYXV0bycsIGNvbG9yOiAnd2hpdGUnfX0ga2V5PXt0aGlzLnByb3BzLnRlcm1zfT5cbiAgICAgIHt0aHVtYm5haWwgJiYgPGltZyBzcmM9e3RodW1ibmFpbH0gc3R5bGU9e3tmbG9hdDogJ3JpZ2h0JywgbWFyZ2luOiAnMCAwIDFlbSAxZW0nLCBtYXhIZWlnaHQ6IDIwMH19IGFsdD17YGltYWdlIG9mICR7YXJ0aXN0Lm5hbWV9IGZyb20gd2lraXBlZGlhYH0vPn1cbiAgICAgIDxoMiBzdHlsZT17e2NvbG9yOiBcIndoaXRlXCJ9fT57YXJ0aXN0Lm5hbWV9PC9oMj5cbiAgICAgIHtleHRyYWN0IHx8IGFydGlzdERlc2NyaXB0aW9uICYmIDxwIHN0eWxlPXt7Y29sb3I6ICd3aGl0ZSd9fT5cbiAgICAgICAge2V4dHJhY3QgfHwgYXJ0aXN0RGVzY3JpcHRpb259XG4gICAgICA8L3A+fVxuICAgICAgPHA+PGEgaHJlZj17YC9wZW9wbGUvJHthcnRpc3QuaWR9YH0+TW9yZSBpbmZvICZyYXJyOzwvYT48L3A+XG4gICAgPC9kaXY+XG4gIH1cbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gQXJ0aXN0RGVjb3JhdG9yXG5cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "artist.js"
      ],
      "names": [
        "React",
        "require",
        "Link",
        "rest",
        "ArtistPage",
        "ArtistDecorator",
        "createClass",
        "componentWillMount",
        "artistName",
        "decodeURIComponent",
        "props",
        "artist",
        "replace",
        "console",
        "info",
        "key",
        "fetchArtist",
        "fetchData",
        "id",
        "then",
        "setState",
        "error",
        "render",
        "state",
        "q",
        "remove",
        "wikipedia",
        "thumbnail",
        "link",
        "extract",
        "wikidata",
        "artistDescription",
        "maxWidth",
        "margin",
        "color",
        "terms",
        "float",
        "maxHeight",
        "name",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;;eACaA,QAAQ,cAAR,C;IAARC,I,YAAAA,I;;AACL,IAAIC,OAAOF,QAAQ,MAAR,CAAX;;AAEA,IAAMG,aAAaH,QAAQ,WAAR,CAAnB;;AAEA,IAAII,kBAAmBL,MAAMM,WAAN,CAAkB;AAAA;AACvCC,oBADuC,gCAClB;AAAA;;AACnB,QAAMC,aAAaC,mBAAmB,KAAKC,KAAL,CAAWC,MAAX,CAAkB,CAAlB,EAAqBC,OAArB,CAA6B,OAA7B,EAAsC,EAAtC,CAAnB,EAChBA,OADgB,CACR,GADQ,EACH,GADG,EACEA,OADF,CACU,IADV,EACgB,EADhB,CAAnB;AAEAC,YAAQC,IAAR,CAAa,iBAAb,EAAgC,EAACN,sBAAD,EAAaO,KAAK,KAAKL,KAAL,CAAWK,GAA7B,EAAhC;AACA,QAAMC,cAAcZ,WAAWa,SAAX,CAAqBN,MAAzC;AACAK,gBAAY,EAACE,IAAIV,UAAL,EAAZ,EAA8BW,IAA9B,CAAmC,kBAAU;AAC3CN,cAAQC,IAAR,CAAa,aAAb,EAA4B,EAACH,cAAD,EAASH,sBAAT,EAA5B;AACA,YAAKY,QAAL,CAAc,EAACT,cAAD,EAASU,OAAO,CAACV,MAAjB,EAAd;AACD,KAHD;AAID,GAVsC;AAYvCW,QAZuC,oBAY9B;AAAA,eACiB,KAAKC,KAAL,IAAc,EAD/B;AAAA,QACAZ,MADA,QACAA,MADA;AAAA,QACQU,KADR,QACQA,KADR;;AAEP,QAAGA,SAASV,UAAU,CAACA,OAAOa,CAA9B,EAAiC;AAC/B;AACA;AACA,WAAKd,KAAL,CAAWe,MAAX,IAAqB,KAAKf,KAAL,CAAWe,MAAX,CAAkB,iBAAlB,CAArB;AACA,aAAO,iCAAP;AACD;AACD,QAAG,CAACd,MAAJ,EAAY,OAAO;AAAA;AAAA;AAAA;AAAA,KAAP;;AARL,gBAU4BA,OAAOe,SAAP,IAAoB,EAVhD;AAAA,QAUAC,SAVA,SAUAA,SAVA;AAAA,QAUWC,IAVX,SAUWA,IAVX;AAAA,QAUiBC,OAVjB,SAUiBA,OAVjB;;AAAA,gBAWqBlB,OAAOmB,QAAP,IAAmB,EAXxC;AAAA,QAWAC,iBAXA,SAWAA,iBAXA;;AAaP,WAAO;AAAA;AAAA,QAAK,OAAO,EAACC,UAAU,MAAX,EAAmBC,QAAQ,QAA3B,EAAqCC,OAAO,OAA5C,EAAZ,EAAkE,KAAK,KAAKxB,KAAL,CAAWyB,KAAlF;AACJR,mBAAa,6BAAK,KAAKA,SAAV,EAAqB,OAAO,EAACS,OAAO,OAAR,EAAiBH,QAAQ,aAAzB,EAAwCI,WAAW,GAAnD,EAA5B,EAAqF,mBAAiB1B,OAAO2B,IAAxB,oBAArF,GADT;AAEL;AAAA;AAAA,UAAI,OAAO,EAACJ,OAAO,OAAR,EAAX;AAA8BvB,eAAO2B;AAArC,OAFK;AAGJT,iBAAWE,qBAAqB;AAAA;AAAA,UAAG,OAAO,EAACG,OAAO,OAAR,EAAV;AAC9BL,mBAAWE;AADmB,OAH5B;AAML;AAAA;AAAA;AAAG;AAAA;AAAA,YAAG,mBAAiBpB,OAAOO,EAA3B;AAAA;AAAA;AAAH;AANK,KAAP;AAQD;AAjCsC,CAAlB,CAAvB;;AAoCAqB,OAAOC,OAAP,GAAiBnC,eAAjB",
      "file": "artist.js",
      "sourceRoot": "/var/www/art/src/decorate",
      "sourcesContent": [
        "var React = require('react')\nvar {Link} = require('react-router')\nvar rest = require('rest')\n\nconst ArtistPage = require('../artist')\n\nvar ArtistDecorator =  React.createClass({\n  componentWillMount() {\n    const artistName = decodeURIComponent(this.props.artist[0].replace(/.*: ?/, ''))\n      .replace('+', ' ').replace(/\"/g, '')\n    console.info('ArtistDecorator', {artistName, key: this.props.key})\n    const fetchArtist = ArtistPage.fetchData.artist\n    fetchArtist({id: artistName}).then(artist => {\n      console.info('fetchArtist', {artist, artistName})\n      this.setState({artist, error: !artist})\n    })\n  },\n\n  render() {\n    const {artist, error} = this.state || {}\n    if(error || artist && !artist.q) {\n      // If artist data can't be fetched, retroactively remove this Decorator\n      // from consideration with a callback and render nothing for now.\n      this.props.remove && this.props.remove('ArtistDecorator')\n      return <span />\n    }\n    if(!artist) return <span>loading…</span>\n\n    const {thumbnail, link, extract} = artist.wikipedia || {}\n    const {artistDescription} = artist.wikidata || {}\n\n    return <div style={{maxWidth: '47em', margin: '0 auto', color: 'white'}} key={this.props.terms}>\n      {thumbnail && <img src={thumbnail} style={{float: 'right', margin: '0 0 1em 1em', maxHeight: 200}} alt={`image of ${artist.name} from wikipedia`}/>}\n      <h2 style={{color: \"white\"}}>{artist.name}</h2>\n      {extract || artistDescription && <p style={{color: 'white'}}>\n        {extract || artistDescription}\n      </p>}\n      <p><a href={`/people/${artist.id}`}>More info &rarr;</a></p>\n    </div>\n  }\n})\n\nmodule.exports = ArtistDecorator\n\n"
      ]
    },
    "mtime": 1584573136818
  },
  "{\"filename\":\"/var/www/art/src/people-by-id.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/people-by-id.js",
      "filenameRelative": "/var/www/art/src/people-by-id.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "people-by-id.js",
      "sourceFileName": "people-by-id.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "people-by-id"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar rest = require('rest');\nvar Helmet = require('react-helmet');\nvar R = require('ramda');\n\nvar Person = require('./artist');\nvar searchEndpoint = require('./endpoints').search;\n\nvar definedGroups = {\n  'black-history-month': 'Alfred%20Eisenstaedt,Beauford%20Delaney,Benny%20Andrews,Betye%20Saar,Bob%20Thompson,Carl%20Robert%20Pope,%20Jr.,Carrie%20Mae%20Weems,Charles%20Gaines,Charles%20White,Clarence%20Morgan,Clementine%20Hunter,David%20Levinthal,Elizabeth%20Catlett,Emma%20Amos,Frank%20E.%20Cummings%20III,Frank%20J.%20Brown,Fred%20McDarrah,Fred%20Wilson,Glenn%20Ligon,Gordon%20Parks,Gwendolyn%20Knight,Henry%20Bannarn,Henry%20Ray%20Clark,Iona%20Rozeal%20Brown,Jacob%20Lawrence,James%20Van%20Der%20Zee,John%20Biggers,John%20Dowell,John%20Moore,John%20Woodrow%20Wilson,Jules%20Lion,Julie%20Mehretu,Kara%20Walker,Kehinde%20Wiley,Kerry%20James%20Marshall,Laylah%20Ali,Leslie%20Hewitt,Lois%20Mailou%20Jones,Lonnie%20Holley,Lorna%20Simpson,Lorraine%20O\\'Grady,Mark%20Bradford,Martin%20Puryear,Mary%20Lee%20Bendolph,McArthur%20Binion,Melvin%20Edwards,Mequitta%20Ahuja,Mickalene%20Thomas,Minnie%20Evans,Mitchell%20Squire,Nick%20Cave,Paul%20Anthony%20Smith,Purvis%20Young,Reginald%20Sanders,Ren\\xE9e%20Stout,Richard%20Hunt,Rico%20Gatson,Robert%20Scott%20Duncanson,Romare%20Howard%20Bearden,Roy%20DeCarava,Russell%20T.%20Gordon,Sam%20Gilliam,Sanford%20Biggers,Sedrick%20Huckaby,Shinique%20Smith,Thorton%20Dial,Todd%20Gray,Vincent%20D.%20Smith,Wadsworth%20Jarrell,William%20Edmondson,William%20Howard,Willie%20Cole',\n  'womens-history-month': '12,45,48,49,51,54,62,73,74,81,87,91,104,120,168,176,218,242,249,250,257,269,271,404,455,458,478,566,611,654,711,712,735,755,819,841,872,873,891,898,904,935,936,948,949,959,961,962,976,979,980,985,986,987,1012,1017,1021,1025,1049,1050,1077,1080,1087,1096,1097,1098,1104,1105,1107,1115,1127,1132,1138,1145,1146,1159,1174,1177,1207,1212,1217,1218,1229,1233,1242,1248,1251,1252,1253,1254,1256,1257,1258,1259,1260,1261,1272,1276,1296,1298,1300,1310,1315,1319,1320,1323,1328,1330,1333,1335,1336,1357,1359,1361,1366,1374,1377,1380,1422,1439,1440,1460,1468,1478,1494,1495,1512,1518,1524,1527,1533,1536,1541,1542,1559,1567,1568,1574,1575,1576,1577,1579,1583,1586,1589,1609,1611,1621,1622,1625,1637,1638,1640,1643,1655,1658,1672,1675,1682,1683,1684,1688,1689,1695,1696,1698,1722,1757,1779,1786,1821,1830,1868,1899,1900,1903,1911,1919,1935,1938,1944,1956,1973,2058,2132,2134,2148,2150,2153,2157,2173,2184,2223,2272,2273,2298,2343,2352,2381,2383,2391,2526,2534,2540,2623,2644,2678,2737,2761,2791,2793,2826,2845,2853,2860,2883,2905,2906,2908,2909,2914,2915,2917,2919,2920,2922,3102,3118,3140,3204,3215,3217,3236,3237,3244,3245,3251,3255,3256,3257,3265,3279,3283,3284,3293,3294,3302,3305,3309,3314,3318,3471,3490,3500,3523,3559,3620,3669,3683,3690,3710,3725,3758,3759,3761,3762,3763,3764,3765,3783,3797,3878,3900,3953,3969,4108,4206,4219,4227,4279,4295,4319,4320,4324,4339,4353,4355,4410,4424,4429,4433,4483,4507,4516,4573,4609,4615,4631,4845,4951,4953,4977,4978,5066,5068,5133,5155,5276,5308,5338,5438,5488,5489,5497,5514,5523,5544,5558,5582,5590,5675,5715,5722,5724,5742,5763,5780,5781,5783,5786,5790,5796,5797,5805,5811,5861,5868,5872,5938,5952,5954,5972,5998,6030,6054,6058,6059,6060,6063,6065,6094,6130,6140,6153,6177,6220,6247,6283,6327,6349,6350,6361,6533,6574,6590,6624,6631,6674,6704,6770,6786,6844,6866,6885,6890,6897,6912,6977,7003,7138,7162,7245,7265,7289,7317,7357,7483,7485,7491,7572,7577,7578,7579,7580,7583,7655,7681,7937,7953,7988,7991,8009,8025,8026,8028,8090,8093,8094,8100,8148,8178,8201,8209,8272,8294,8298,8307,8367,8368,8383,8401,8464,8489,8491,8835,8905,9047,9093,9096,9140,9184,9209,9345,9470,9472,9483,9487,9592,9622,9633,9637,9675,9813,9814,9817,9823,9939,9969,10064,10093,10099,10105,10136,10149,10183,10228,10231,10262,10302,10423,10466,10576,10592,10605,10668,10762,10782,10801,10814,10834,10879,11079,11083,11130,11140,11271,11346,11359,11424,11425,11439,11498,11537,11606,11615,11645,11672,11695,11827,11830,11895,12035,12245,12470,12550,12572,12575,12908,12984,13130,13133,13304,13640,13715,13731,13840,13871,13878,13917,13947,13954,14087,14100,14144,14147,14193,14215,14221,14222,14224,14259,14337,14338,14348,14415,14605,14607,14637,14649,14677,14846,14895,14921,14922,14932,14947,14962,14967,14988,14994,15027,15053,15070,15096,15120,15269,15289,15359,15378,15381,15435,15446,15447,15566,15586,15654,15804,15939,15942,15964,16000,16031,16147,16317,16339,16500,16715,16718,16749,16871,16973,17072,17167,17294,17429,17490,17495,17515,17521,17762,18076,18219,18537,18639,18677,18681,18821,18883,18886,18954,18963,19055,19056,19058,19134,19154,19156,19250,19298,19392,19411,19412,19442,19471,19476,19490,19493,19513,19521,19547,19548,19562,19667,19739,19822,19888,19891,19894,19897,19904,19922,19924,19943,19944,19946,19947,19950,20045,20046,20378,20770,20779,20788,20789,20790,20791,20795,20796,20809,20816,20817,20819,20820,20821,20832,20838,20844,20849,20851,20855,20857,20860,20863,20864,20869,20873,20897,21095,21299,21321,21484,21492,21496,21502,21521,21523,21632,21656,21700,21721,21736,21787,21813,21832,21854,21965,21993,22023,22029,22033,22058,22078,22122,22168,22190,22342,22363,22379,22439,22450,22468,22469,22471,22473,22474,22489,22499,22500,22528,22529,22545,22618,22628,22637,22680,22705,22801,22864,22912,22995,23097,23120,23194,23368,23370,23422,23473,23475,23479,23480,23497,23503,23522,23527,23528,23529,23530,23533,23534,23544,23628,23630,23705,23709,23742,23761,23764,23811,23898,23899,23998,24198,24232,24298,24390,24414,24452,24528,24532,24613,24653,24660,24662,24667,24676,24734,24738,24755,24772,24780,24879,24887,24894,24896,24925,24926,24936,25131,25243,25380,25463,25558,25642,25645,25649,25665,25666,25688,25713,25762,25854,25903,25909,25912,25926,25936,25960,25961,25963,25984,26063,26064,26171,26202,26255,26316,26341,26355,26367,26377,26417,26492,26495,26544,26578,26632,26633,26655,26657,26669,26690,26692,26695,26796,26802,26827,27195,27588,27614,27640,27653,27663,27686,27697,27736,27737,27793,27800,27820,27860,27863,27873,27876,27877,27881,27915,27928,27942,28051,28166,28183,28196,28269,28311,28447,28450,28455,28467,28480,28519,28541,28645,28666,28695,28762,28763,28764,28780,28946,28970,29002,29034,29162,29164,29187,29202,29207,29263,29317,29378,29382,29391,29399,29401,29403,29406,29408,29409,29422,29429,29469,29478,29489,29496,29498,29528,29537,29555,29556,29571,29574,29586,29588,29589,29592,29594,29599,29685,29716,29735,29747,29773,29792,29832,29879,29975,30020,30022,30056,30187,30195,30201,30207,30215,30232,30265,30303,30325,30381,30441,30467,30483,30495,30501,30525,30565,30566,30567,30570,30571,30572,30573,30589,30590,30603,30604,30605,30654,30704,30707,30708,30730,30782,30809,30814,30830,30833,30843,30853,30860,30864,30874,30876,30880,30902,30908,30909,30918,30919,30962,31042,31089,31131,31151,31178,31184,31226,31228,31245,31249,31309,31317,31335,31338,31344,31359,31367,31372,31374,31390,31406,31419,31444,31460,31525,31571,31611,31719,31726,31749,31786,31804,31807,31811,31812,31822,31824,31832,31875,31880,31888,31908,31912,31914,31918,31919,31922,31923,31988,31992,32005,32058,32080,32121,32169,32172,32224,32226,32233,32261,32265,32283,32309,32314,32323,32329,32342,32346,32347,32352,32353,32354,32356,32358,32388,32390,32391,32435,32483,32523,32537,32538,32576,32595,32596,32601,32602,32608,32609,32614,32616,32617,32619,32625,32633,32635,32639,32690,32721,32733,32735,32766,32792,32793,32807,33818,33825,33838,33863,33877,33902,33911,33912,33920,33923,33935,33937,33941,33943,33944,33945,33946,33948,33949,33959,33966,33967,33970,33981,33985,34014,34018,34027,34029,34030,34031,34034,34035,34043,34066,34072,34081,34084,34087,34092,34094,34099,34101,34102,34107,34109,34134,34135,34139,34149,34165,34166,34167,34169,34173,34181,34182,34184,34192,34198,34203,34204,34205,34206,34209,34210,34211,34212,34215,34216,34219,34227,34228,34229,34230,34233,34251,34265,34266,34268,34269,34272,34276,34278,34281,34283,34286,34290,34301,34303,34331,34335,34359,34514,34515,34569,34679,34708,34725,34809,34822,34922,36026,36054,36055,36057,36073,36114,36116,36119,36176,36195,36196,36198,36266,36270,36377,36382,36498,36501,36517,36519,36542,36652'\n};\n\nvar People = React.createClass({\n  displayName: 'People',\n\n  statics: {\n    fetchData: {\n      artists: function artists(params, existingData) {\n        var artistIds = (definedGroups[params.ids] || params.ids).split(',');\n        var slice = 0;\n        var sliceSize = 50;\n        var start = slice * sliceSize;\n        var end = Math.min(artistIds.length, (slice + 2) * sliceSize);\n        console.info({ numArtistIds: artistIds.length, start: start, end: end, sliceSize: sliceSize });\n\n        return Promise.all(artistIds.slice(start, end).map(function (id) {\n          return rest(searchEndpoint + '/people/' + id);\n        })).then(function (values) {\n          return values.map(function (data) {\n            try {\n              return JSON.parse(data.entity);\n            } catch (e) {\n              console.error('error fetching artist data', data.url);\n              return {};\n            }\n          });\n        });\n      }\n    }\n  },\n\n  render: function render() {\n    var artists = this.props.data.artists.filter(function (artist) {\n      return artist && artist.id;\n    });\n    var smallScreen = window.innerWidth < 666;\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement('div', { style: { background: '#232323', height: '7em', width: '100%' } }),\n      React.createElement(\n        'div',\n        { style: !smallScreen ? { left: '53vw', position: 'fixed', marginTop: '1em' } : {} },\n        React.createElement(\n          'ul',\n          null,\n          artists.map(function (artist) {\n            return React.createElement(\n              'li',\n              { style: { display: 'inline-block', padding: '0 1em' } },\n              React.createElement(\n                'a',\n                { href: '#' + artist.name },\n                artist.name\n              )\n            );\n          })\n        )\n      ),\n      React.createElement(\n        'div',\n        { style: { marginLeft: '0%', maxWidth: '50%', zIndex: 6, backgroundColor: 'white' } },\n        artists.map(function (artist, index) {\n          return React.createElement(\n            'section',\n            null,\n            React.createElement('a', { id: artist.name, style: { paddingBottom: '3em', display: 'block' } }),\n            React.createElement(Person, {\n              data: { artist: artist },\n              key: artist.id,\n              hideHeader: true\n            })\n          );\n        })\n      )\n    );\n  }\n});\n\nmodule.exports = People;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBlb3BsZS1ieS1pZC5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJSb3V0ZXIiLCJMaW5rIiwicmVzdCIsIkhlbG1ldCIsIlIiLCJQZXJzb24iLCJzZWFyY2hFbmRwb2ludCIsInNlYXJjaCIsImRlZmluZWRHcm91cHMiLCJQZW9wbGUiLCJjcmVhdGVDbGFzcyIsInN0YXRpY3MiLCJmZXRjaERhdGEiLCJhcnRpc3RzIiwicGFyYW1zIiwiZXhpc3RpbmdEYXRhIiwiYXJ0aXN0SWRzIiwiaWRzIiwic3BsaXQiLCJzbGljZSIsInNsaWNlU2l6ZSIsInN0YXJ0IiwiZW5kIiwiTWF0aCIsIm1pbiIsImxlbmd0aCIsImNvbnNvbGUiLCJpbmZvIiwibnVtQXJ0aXN0SWRzIiwiUHJvbWlzZSIsImFsbCIsIm1hcCIsImlkIiwidGhlbiIsInZhbHVlcyIsImRhdGEiLCJKU09OIiwicGFyc2UiLCJlbnRpdHkiLCJlIiwiZXJyb3IiLCJ1cmwiLCJyZW5kZXIiLCJwcm9wcyIsImZpbHRlciIsImFydGlzdCIsInNtYWxsU2NyZWVuIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImJhY2tncm91bmQiLCJoZWlnaHQiLCJ3aWR0aCIsImxlZnQiLCJwb3NpdGlvbiIsIm1hcmdpblRvcCIsImRpc3BsYXkiLCJwYWRkaW5nIiwibmFtZSIsIm1hcmdpbkxlZnQiLCJtYXhXaWR0aCIsInpJbmRleCIsImJhY2tncm91bmRDb2xvciIsImluZGV4IiwicGFkZGluZ0JvdHRvbSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7QUFDQSxJQUFJQyxTQUFTRCxRQUFRLGNBQVIsQ0FBYjtJQUNNRSxJLEdBQVNELE0sQ0FBVEMsSTs7QUFDTixJQUFJQyxPQUFPSCxRQUFRLE1BQVIsQ0FBWDtBQUNBLElBQUlJLFNBQVNKLFFBQVEsY0FBUixDQUFiO0FBQ0EsSUFBSUssSUFBSUwsUUFBUSxPQUFSLENBQVI7O0FBRUEs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QWUsS0FBaEIsRUFBdUJSLFNBQVMsT0FBaEMsRUFBM0IsR0FEOEI7QUFFOUIsZ0NBQUMsTUFBRDtBQUNFLG9CQUFNLEVBQUNWLGNBQUQsRUFEUjtBQUVFLG1CQUFLQSxPQUFPYixFQUZkO0FBR0UsMEJBQVk7QUFIZDtBQUY4QixXQUFuQjtBQUFBLFNBQVo7QUFESDtBQVRLLEtBQVA7QUFvQkQ7QUFoRDRCLENBQWxCLENBQWI7O0FBbURBZ0MsT0FBT0MsT0FBUCxHQUFpQnhELE1BQWpCIiwiZmlsZSI6InBlb3BsZS1ieS1pZC5qcyIsInNvdXJjZVJvb3QiOiIvdmFyL3d3dy9hcnQvc3JjIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIgeyBMaW5rIH0gPSBSb3V0ZXJcbnZhciByZXN0ID0gcmVxdWlyZSgncmVzdCcpXG52YXIgSGVsbWV0ID0gcmVxdWlyZSgncmVhY3QtaGVsbWV0JylcbnZhciBSID0gcmVxdWlyZSgncmFtZGEnKVxuXG52YXIgUGVyc29uID0gcmVxdWlyZSgnLi9hcnRpc3QnKVxudmFyIHNlYXJjaEVuZHBvaW50ID0gcmVxdWlyZSgnLi9lbmRwb2ludHMnKS5zZWFyY2hcblxuY29uc3QgZGVmaW5lZEdyb3VwcyA9IHtcbiAgJ2JsYWNrLWhpc3RvcnktbW9udGgnOiBgQWxmcmVkJTIwRWlzZW5zdGFlZHQsQmVhdWZvcmQlMjBEZWxhbmV5LEJlbm55JTIwQW5kcmV3cyxCZXR5ZSUyMFNhYXIsQm9iJTIwVGhvbXBzb24sQ2FybCUyMFJvYmVydCUyMFBvcGUsJTIwSnIuLENhcnJpZSUyME1hZSUyMFdlZW1zLENoYXJsZXMlMjBHYWluZXMsQ2hhcmxlcyUyMFdoaXRlLENsYXJlbmNlJTIwTW9yZ2FuLENsZW1lbnRpbmUlMjBIdW50ZXIsRGF2aWQlMjBMZXZpbnRoYWwsRWxpemFiZXRoJTIwQ2F0bGV0dCxFbW1hJTIwQW1vcyxGcmFuayUyMEUuJTIwQ3VtbWluZ3MlMjBJSUksRnJhbmslMjBKLiUyMEJyb3duLEZyZWQlMjBNY0RhcnJhaCxGcmVkJTIwV2lsc29uLEdsZW5uJTIwTGlnb24sR29yZG9uJTIwUGFya3MsR3dlbmRvbHluJTIwS25pZ2h0LEhlbnJ5JTIwQmFubmFybixIZW5yeSUyMFJheSUyMENsYXJrLElvbmElMjBSb3plYWwlMjBCcm93bixKYWNvYiUyMExhd3JlbmNlLEphbWVzJTIwVmFuJTIwRGVyJTIwWmVlLEpvaG4lMjBCaWdnZXJzLEpvaG4lMjBEb3dlbGwsSm9obiUyME1vb3JlLEpvaG4lMjBXb29kcm93JTIwV2lsc29uLEp1bGVzJTIwTGlvbixKdWxpZSUyME1laHJldHUsS2FyYSUyMFdhbGtlcixLZWhpbmRlJTIwV2lsZXksS2VycnklMjBKYW1lcyUyME1hcnNoYWxsLExheWxhaCUyMEFsaSxMZXNsaWUlMjBIZXdpdHQsTG9pcyUyME1haWxvdSUyMEpvbmVzLExvbm5pZSUyMEhvbGxleSxMb3JuYSUyMFNpbXBzb24sTG9ycmFpbmUlMjBPJ0dyYWR5LE1hcmslMjBCcmFkZm9yZCxNYXJ0aW4lMjBQdXJ5ZWFyLE1hcnklMjBMZWUlMjBCZW5kb2xwaCxNY0FydGh1ciUyMEJpbmlvbixNZWx2aW4lMjBFZHdhcmRzLE1lcXVpdHRhJTIwQWh1amEsTWlja2FsZW5lJTIwVGhvbWFzLE1pbm5pZSUyMEV2YW5zLE1pdGNoZWxsJTIwU3F1aXJlLE5pY2slMjBDYXZlLFBhdWwlMjBBbnRob255JTIwU21pdGgsUHVydmlzJTIwWW91bmcsUmVnaW5hbGQlMjBTYW5kZXJzLFJlbsOpZSUyMFN0b3V0LFJpY2hhcmQlMjBIdW50LFJpY28lMjBHYXRzb24sUm9iZXJ0JTIwU2NvdHQlMjBEdW5jYW5zb24sUm9tYXJlJTIwSG93YXJkJTIwQmVhcmRlbixSb3klMjBEZUNhcmF2YSxSdXNzZWxsJTIwVC4lMjBHb3Jkb24sU2FtJTIwR2lsbGlhbSxTYW5mb3JkJTIwQmlnZ2VycyxTZWRyaWNrJTIwSHVja2FieSxTaGluaXF1ZSUyMFNtaXRoLFRob3J0b24lMjBEaWFsLFRvZGQlMjBHcmF5LFZpbmNlbnQlMjBELiUyMFNtaXRoLFdhZHN3b3J0aCUyMEphcnJlbGwsV2lsbGlhbSUyMEVkbW9uZHNvbixXaWxsaWFtJTIwSG93YXJkLFdpbGxpZSUyMENvbGVgLFxuICAnd29tZW5zLWhpc3RvcnktbW9udGgnOiBgMTIsNDUsNDgsNDksNTEsNTQsNjIsNzMsNzQsODEsODcsOTEsMTA0LDEyMCwxNjgsMTc2LDIxOCwyNDIsMjQ5LDI1MCwyNTcsMjY5LDI3MSw0MDQsNDU1LDQ1OCw0NzgsNTY2LDYxMSw2NTQsNzExLDcxMiw3MzUsNzU1LDgxOSw4NDEsODcyLDg3Myw4OTEsODk4LDkwNCw5MzUsOTM2LDk0OCw5NDksOTU5LDk2MSw5NjIsOTc2LDk3OSw5ODAsOTg1LDk4Niw5ODcsMTAxMiwxMDE3LDEwMjEsMTAyNSwxMDQ5LDEwNTAsMTA3NywxMDgwLDEwODcsMTA5NiwxMDk3LDEwOTgsMTEwNCwxMTA1LDExMDcsMTExNSwxMTI3LDExMzIsMTEzOCwxMTQ1LDExNDYsMTE1OSwxMTc0LDExNzcsMTIwNywxMjEyLDEyMTcsMTIxOCwxMjI5LDEyMzMsMTI0MiwxMjQ4LDEyNTEsMTI1MiwxMjUzLDEyNTQsMTI1NiwxMjU3LDEyNTgsMTI1OSwxMjYwLDEyNjEsMTI3MiwxMjc2LDEyOTYsMTI5OCwxMzAwLDEzMTAsMTMxNSwxMzE5LDEzMjAsMTMyMywxMzI4LDEzMzAsMTMzMywxMzM1LDEzMzYsMTM1NywxMzU5LDEzNjEsMTM2NiwxMzc0LDEzNzcsMTM4MCwxNDIyLDE0MzksMTQ0MCwxNDYwLDE0NjgsMTQ3OCwxNDk0LDE0OTUsMTUxMiwxNTE4LDE1MjQsMTUyNywxNTMzLDE1MzYsMTU0MSwxNTQyLDE1NTksMTU2NywxNTY4LDE1NzQsMTU3NSwxNTc2LDE1NzcsMTU3OSwxNTgzLDE1ODYsMTU4OSwxNjA5LDE2MTEsMTYyMSwxNjIyLDE2MjUsMTYzNywxNjM4LDE2NDAsMTY0MywxNjU1LDE2NTgsMTY3MiwxNjc1LDE2ODIsMTY4MywxNjg0LDE2ODgsMTY4OSwxNjk1LDE2OTYsMTY5OCwxNzIyLDE3NTcsMTc3OSwxNzg2LDE4MjEsMTgzMCwxODY4LDE4OTksMTkwMCwxOTAzLDE5MTEsMTkxOSwxOTM1LDE5MzgsMTk0NCwxOTU2LDE5NzMsMjA1OCwyMTMyLDIxMzQsMjE0OCwyMTUwLDIxNTMsMjE1NywyMTczLDIxODQsMjIyMywyMjcyLDIyNzMsMjI5OCwyMzQzLDIzNTIsMjM4MSwyMzgzLDIzOTEsMjUyNiwyNTM0LDI1NDAsMjYyMywyNjQ0LDI2NzgsMjczNywyNzYxLDI3OTEsMjc5MywyODI2LDI4NDUsMjg1MywyODYwLDI4ODMsMjkwNSwyOTA2LDI5MDgsMjkwOSwyOTE0LDI5MTUsMjkxNywyOTE5LDI5MjAsMjkyMiwzMTAyLDMxMTgsMzE0MCwzMjA0LDMyMTUsMzIxNywzMjM2LDMyMzcsMzI0NCwzMjQ1LDMyNTEsMzI1NSwzMjU2LDMyNTcsMzI2NSwzMjc5LDMyODMsMzI4NCwzMjkzLDMyOTQsMzMwMiwzMzA1LDMzMDksMzMxNCwzMzE4LDM0NzEsMzQ5MCwzNTAwLDM1MjMsMzU1OSwzNjIwLDM2NjksMzY4MywzNjkwLDM3MTAsMzcyNSwzNzU4LDM3NTksMzc2MSwzNzYyLDM3NjMsMzc2NCwzNzY1LDM3ODMsMzc5NywzODc4LDM5MDAsMzk1MywzOTY5LDQxMDgsNDIwNiw0MjE5LDQyMjcsNDI3OSw0Mjk1LDQzMTksNDMyMCw0MzI0LDQzMzksNDM1Myw0MzU1LDQ0MTAsNDQyNCw0NDI5LDQ0MzMsNDQ4Myw0NTA3LDQ1MTYsNDU3Myw0NjA5LDQ2MTUsNDYzMSw0ODQ1LDQ5NTEsNDk1Myw0OTc3LDQ5NzgsNTA2Niw1MDY4LDUxMzMsNTE1NSw1Mjc2LDUzMDgsNTMzOCw1NDM4LDU0ODgsNTQ4OSw1NDk3LDU1MTQsNTUyMyw1NTQ0LDU1NTgsNTU4Miw1NTkwLDU2NzUsNTcxNSw1NzIyLDU3MjQsNTc0Miw1NzYzLDU3ODAsNTc4MSw1NzgzLDU3ODYsNTc5MCw1Nzk2LDU3OTcsNTgwNSw1ODExLDU4NjEsNTg2OCw1ODcyLDU5MzgsNTk1Miw1OTU0LDU5NzIsNTk5OCw2MDMwLDYwNTQsNjA1OCw2MDU5LDYwNjAsNjA2Myw2MDY1LDYwOTQsNjEzMCw2MTQwLDYxNTMsNjE3Nyw2MjIwLDYyNDcsNjI4Myw2MzI3LDYzNDksNjM1MCw2MzYxLDY1MzMsNjU3NCw2NTkwLDY2MjQsNjYzMSw2Njc0LDY3MDQsNjc3MCw2Nzg2LDY4NDQsNjg2Niw2ODg1LDY4OTAsNjg5Nyw2OTEyLDY5NzcsNzAwMyw3MTM4LDcxNjIsNzI0NSw3MjY1LDcyODksNzMxNyw3MzU3LDc0ODMsNzQ4NSw3NDkxLDc1NzIsNzU3Nyw3NTc4LDc1NzksNzU4MCw3NTgzLDc2NTUsNzY4MSw3OTM3LDc5NTMsNzk4OCw3OTkxLDgwMDksODAyNSw4MDI2LDgwMjgsODA5MCw4MDkzLDgwOTQsODEwMCw4MTQ4LDgxNzgsODIwMSw4MjA5LDgyNzIsODI5NCw4Mjk4LDgzMDcsODM2Nyw4MzY4LDgzODMsODQwMSw4NDY0LDg0ODksODQ5MSw4ODM1LDg5MDUsOTA0Nyw5MDkzLDkwOTYsOTE0MCw5MTg0LDkyMDksOTM0NSw5NDcwLDk0NzIsOTQ4Myw5NDg3LDk1OTIsOTYyMiw5NjMzLDk2MzcsOTY3NSw5ODEzLDk4MTQsOTgxNyw5ODIzLDk5MzksOTk2OSwxMDA2NCwxMDA5MywxMDA5OSwxMDEwNSwxMDEzNiwxMDE0OSwxMDE4MywxMDIyOCwxMDIzMSwxMDI2MiwxMDMwMiwxMDQyMywxMDQ2NiwxMDU3NiwxMDU5MiwxMDYwNSwxMDY2OCwxMDc2MiwxMDc4MiwxMDgwMSwxMDgxNCwxMDgzNCwxMDg3OSwxMTA3OSwxMTA4MywxMTEzMCwxMTE0MCwxMTI3MSwxMTM0NiwxMTM1OSwxMTQyNCwxMTQyNSwxMTQzOSwxMTQ5OCwxMTUzNywxMTYwNiwxMTYxNSwxMTY0NSwxMTY3MiwxMTY5NSwxMTgyNywxMTgzMCwxMTg5NSwxMjAzNSwxMjI0NSwxMjQ3MCwxMjU1MCwxMjU3MiwxMjU3NSwxMjkwOCwxMjk4NCwxMzEzMCwxMzEzMywxMzMwNCwxMzY0MCwxMzcxNSwxMzczMSwxMzg0MCwxMzg3MSwxMzg3OCwxMzkxNywxMzk0NywxMzk1NCwxNDA4NywxNDEwMCwxNDE0NCwxNDE0NywxNDE5MywxNDIxNSwxNDIyMSwxNDIyMiwxNDIyNCwxNDI1OSwxNDMzNywxNDMzOCwxNDM0OCwxNDQxNSwxNDYwNSwxNDYwNywxNDYzNywxNDY0OSwxNDY3NywxNDg0NiwxNDg5NSwxNDkyMSwxNDkyMiwxNDkzMiwxNDk0NywxNDk2MiwxNDk2NywxNDk4OCwxNDk5NCwxNTAyNywxNTA1MywxNTA3MCwxNTA5NiwxNTEyMCwxNTI2OSwxNTI4OSwxNTM1OSwxNTM3OCwxNTM4MSwxNTQzNSwxNTQ0NiwxNTQ0NywxNTU2NiwxNTU4NiwxNTY1NCwxNTgwNCwxNTkzOSwxNTk0MiwxNTk2NCwxNjAwMCwxNjAzMSwxNjE0NywxNjMxNywxNjMzOSwxNjUwMCwxNjcxNSwxNjcxOCwxNjc0OSwxNjg3MSwxNjk3MywxNzA3MiwxNzE2NywxNzI5NCwxNzQyOSwxNzQ5MCwxNzQ5NSwxNzUxNSwxNzUyMSwxNzc2MiwxODA3NiwxODIxOSwxODUzNywxODYzOSwxODY3NywxODY4MSwxODgyMSwxODg4MywxODg4NiwxODk1NCwxODk2MywxOTA1NSwxOTA1NiwxOTA1OCwxOTEzNCwxOTE1NCwxOTE1NiwxOTI1MCwxOTI5OCwxOTM5MiwxOTQxMSwxOTQxMiwxOTQ0MiwxOTQ3MSwxOTQ3NiwxOTQ5MCwxOTQ5MywxOTUxMywxOTUyMSwxOTU0NywxOTU0OCwxOTU2MiwxOTY2NywxOTczOSwxOTgyMiwxOTg4OCwxOTg5MSwxOTg5NCwxOTg5NywxOTkwNCwxOTkyMiwxOTkyNCwxOTk0MywxOTk0NCwxOTk0NiwxOTk0NywxOTk1MCwyMDA0NSwyMDA0NiwyMDM3OCwyMDc3MCwyMDc3OSwyMDc4OCwyMDc4OSwyMDc5MCwyMDc5MSwyMDc5NSwyMDc5NiwyMDgwOSwyMDgxNiwyMDgxNywyMDgxOSwyMDgyMCwyMDgyMSwyMDgzMiwyMDgzOCwyMDg0NCwyMDg0OSwyMDg1MSwyMDg1NSwyMDg1NywyMDg2MCwyMDg2MywyMDg2NCwyMDg2OSwyMDg3MywyMDg5NywyMTA5NSwyMTI5OSwyMTMyMSwyMTQ4NCwyMTQ5MiwyMTQ5NiwyMTUwMiwyMTUyMSwyMTUyMywyMTYzMiwyMTY1NiwyMTcwMCwyMTcyMSwyMTczNiwyMTc4NywyMTgxMywyMTgzMiwyMTg1NCwyMTk2NSwyMTk5MywyMjAyMywyMjAyOSwyMjAzMywyMjA1OCwyMjA3OCwyMjEyMiwyMjE2OCwyMjE5MCwyMjM0MiwyMjM2MywyMjM3OSwyMjQzOSwyMjQ1MCwyMjQ2OCwyMjQ2OSwyMjQ3MSwyMjQ3MywyMjQ3NCwyMjQ4OSwyMjQ5OSwyMjUwMCwyMjUyOCwyMjUyOSwyMjU0NSwyMjYxOCwyMjYyOCwyMjYzNywyMjY4MCwyMjcwNSwyMjgwMSwyMjg2NCwyMjkxMiwyMjk5NSwyMzA5NywyMzEyMCwyMzE5NCwyMzM2OCwyMzM3MCwyMzQyMiwyMzQ3MywyMzQ3NSwyMzQ3OSwyMzQ4MCwyMzQ5NywyMzUwMywyMzUyMiwyMzUyNywyMzUyOCwyMzUyOSwyMzUzMCwyMzUzMywyMzUzNCwyMzU0NCwyMzYyOCwyMzYzMCwyMzcwNSwyMzcwOSwyMzc0MiwyMzc2MSwyMzc2NCwyMzgxMSwyMzg5OCwyMzg5OSwyMzk5OCwyNDE5OCwyNDIzMiwyNDI5OCwyNDM5MCwyNDQxNCwyNDQ1MiwyNDUyOCwyNDUzMiwyNDYxMywyNDY1MywyNDY2MCwyNDY2MiwyNDY2NywyNDY3NiwyNDczNCwyNDczOCwyNDc1NSwyNDc3MiwyNDc4MCwyNDg3OSwyNDg4NywyNDg5NCwyNDg5NiwyNDkyNSwyNDkyNiwyNDkzNiwyNTEzMSwyNTI0MywyNTM4MCwyNTQ2MywyNTU1OCwyNTY0MiwyNTY0NSwyNTY0OSwyNTY2NSwyNTY2NiwyNTY4OCwyNTcxMywyNTc2MiwyNTg1NCwyNTkwMywyNTkwOSwyNTkxMiwyNTkyNiwyNTkzNiwyNTk2MCwyNTk2MSwyNTk2MywyNTk4NCwyNjA2MywyNjA2NCwyNjE3MSwyNjIwMiwyNjI1NSwyNjMxNiwyNjM0MSwyNjM1NSwyNjM2NywyNjM3NywyNjQxNywyNjQ5MiwyNjQ5NSwyNjU0NCwyNjU3OCwyNjYzMiwyNjYzMywyNjY1NSwyNjY1NywyNjY2OSwyNjY5MCwyNjY5MiwyNjY5NSwyNjc5NiwyNjgwMiwyNjgyNywyNzE5NSwyNzU4OCwyNzYxNCwyNzY0MCwyNzY1MywyNzY2MywyNzY4NiwyNzY5NywyNzczNiwyNzczNywyNzc5MywyNzgwMCwyNzgyMCwyNzg2MCwyNzg2MywyNzg3MywyNzg3NiwyNzg3NywyNzg4MSwyNzkxNSwyNzkyOCwyNzk0MiwyODA1MSwyODE2NiwyODE4MywyODE5NiwyODI2OSwyODMxMSwyODQ0NywyODQ1MCwyODQ1NSwyODQ2NywyODQ4MCwyODUxOSwyODU0MSwyODY0NSwyODY2NiwyODY5NSwyODc2MiwyODc2MywyODc2NCwyODc4MCwyODk0NiwyODk3MCwyOTAwMiwyOTAzNCwyOTE2MiwyOTE2NCwyOTE4NywyOTIwMiwyOTIwNywyOTI2MywyOTMxNywyOTM3OCwyOTM4MiwyOTM5MSwyOTM5OSwyOTQwMSwyOTQwMywyOTQwNiwyOTQwOCwyOTQwOSwyOTQyMiwyOTQyOSwyOTQ2OSwyOTQ3OCwyOTQ4OSwyOTQ5NiwyOTQ5OCwyOTUyOCwyOTUzNywyOTU1NSwyOTU1NiwyOTU3MSwyOTU3NCwyOTU4NiwyOTU4OCwyOTU4OSwyOTU5MiwyOTU5NCwyOTU5OSwyOTY4NSwyOTcxNiwyOTczNSwyOTc0NywyOTc3MywyOTc5MiwyOTgzMiwyOTg3OSwyOTk3NSwzMDAyMCwzMDAyMiwzMDA1NiwzMDE4NywzMDE5NSwzMDIwMSwzMDIwNywzMDIxNSwzMDIzMiwzMDI2NSwzMDMwMywzMDMyNSwzMDM4MSwzMDQ0MSwzMDQ2NywzMDQ4MywzMDQ5NSwzMDUwMSwzMDUyNSwzMDU2NSwzMDU2NiwzMDU2NywzMDU3MCwzMDU3MSwzMDU3MiwzMDU3MywzMDU4OSwzMDU5MCwzMDYwMywzMDYwNCwzMDYwNSwzMDY1NCwzMDcwNCwzMDcwNywzMDcwOCwzMDczMCwzMDc4MiwzMDgwOSwzMDgxNCwzMDgzMCwzMDgzMywzMDg0MywzMDg1MywzMDg2MCwzMDg2NCwzMDg3NCwzMDg3NiwzMDg4MCwzMDkwMiwzMDkwOCwzMDkwOSwzMDkxOCwzMDkxOSwzMDk2MiwzMTA0MiwzMTA4OSwzMTEzMSwzMTE1MSwzMTE3OCwzMTE4NCwzMTIyNiwzMTIyOCwzMTI0NSwzMTI0OSwzMTMwOSwzMTMxNywzMTMzNSwzMTMzOCwzMTM0NCwzMTM1OSwzMTM2NywzMTM3MiwzMTM3NCwzMTM5MCwzMTQwNiwzMTQxOSwzMTQ0NCwzMTQ2MCwzMTUyNSwzMTU3MSwzMTYxMSwzMTcxOSwzMTcyNiwzMTc0OSwzMTc4NiwzMTgwNCwzMTgwNywzMTgxMSwzMTgxMiwzMTgyMiwzMTgyNCwzMTgzMiwzMTg3NSwzMTg4MCwzMTg4OCwzMTkwOCwzMTkxMiwzMTkxNCwzMTkxOCwzMTkxOSwzMTkyMiwzMTkyMywzMTk4OCwzMTk5MiwzMjAwNSwzMjA1OCwzMjA4MCwzMjEyMSwzMjE2OSwzMjE3MiwzMjIyNCwzMjIyNiwzMjIzMywzMjI2MSwzMjI2NSwzMjI4MywzMjMwOSwzMjMxNCwzMjMyMywzMjMyOSwzMjM0MiwzMjM0NiwzMjM0NywzMjM1MiwzMjM1MywzMjM1NCwzMjM1NiwzMjM1OCwzMjM4OCwzMjM5MCwzMjM5MSwzMjQzNSwzMjQ4MywzMjUyMywzMjUzNywzMjUzOCwzMjU3NiwzMjU5NSwzMjU5NiwzMjYwMSwzMjYwMiwzMjYwOCwzMjYwOSwzMjYxNCwzMjYxNiwzMjYxNywzMjYxOSwzMjYyNSwzMjYzMywzMjYzNSwzMjYzOSwzMjY5MCwzMjcyMSwzMjczMywzMjczNSwzMjc2NiwzMjc5MiwzMjc5MywzMjgwNywzMzgxOCwzMzgyNSwzMzgzOCwzMzg2MywzMzg3NywzMzkwMiwzMzkxMSwzMzkxMiwzMzkyMCwzMzkyMywzMzkzNSwzMzkzNywzMzk0MSwzMzk0MywzMzk0NCwzMzk0NSwzMzk0NiwzMzk0OCwzMzk0OSwzMzk1OSwzMzk2NiwzMzk2NywzMzk3MCwzMzk4MSwzMzk4NSwzNDAxNCwzNDAxOCwzNDAyNywzNDAyOSwzNDAzMCwzNDAzMSwzNDAzNCwzNDAzNSwzNDA0MywzNDA2NiwzNDA3MiwzNDA4MSwzNDA4NCwzNDA4NywzNDA5MiwzNDA5NCwzNDA5OSwzNDEwMSwzNDEwMiwzNDEwNywzNDEwOSwzNDEzNCwzNDEzNSwzNDEzOSwzNDE0OSwzNDE2NSwzNDE2NiwzNDE2NywzNDE2OSwzNDE3MywzNDE4MSwzNDE4MiwzNDE4NCwzNDE5MiwzNDE5OCwzNDIwMywzNDIwNCwzNDIwNSwzNDIwNiwzNDIwOSwzNDIxMCwzNDIxMSwzNDIxMiwzNDIxNSwzNDIxNiwzNDIxOSwzNDIyNywzNDIyOCwzNDIyOSwzNDIzMCwzNDIzMywzNDI1MSwzNDI2NSwzNDI2NiwzNDI2OCwzNDI2OSwzNDI3MiwzNDI3NiwzNDI3OCwzNDI4MSwzNDI4MywzNDI4NiwzNDI5MCwzNDMwMSwzNDMwMywzNDMzMSwzNDMzNSwzNDM1OSwzNDUxNCwzNDUxNSwzNDU2OSwzNDY3OSwzNDcwOCwzNDcyNSwzNDgwOSwzNDgyMiwzNDkyMiwzNjAyNiwzNjA1NCwzNjA1NSwzNjA1NywzNjA3MywzNjExNCwzNjExNiwzNjExOSwzNjE3NiwzNjE5NSwzNjE5NiwzNjE5OCwzNjI2NiwzNjI3MCwzNjM3NywzNjM4MiwzNjQ5OCwzNjUwMSwzNjUxNywzNjUxOSwzNjU0MiwzNjY1MmBcbn1cblxudmFyIFBlb3BsZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgc3RhdGljczoge1xuICAgIGZldGNoRGF0YToge1xuICAgICAgYXJ0aXN0czogKHBhcmFtcywgZXhpc3RpbmdEYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IGFydGlzdElkcyA9IChkZWZpbmVkR3JvdXBzW3BhcmFtcy5pZHNdIHx8IHBhcmFtcy5pZHMpLnNwbGl0KCcsJylcbiAgICAgICAgY29uc3Qgc2xpY2UgPSAwXG4gICAgICAgIGNvbnN0IHNsaWNlU2l6ZSA9IDUwXG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gc2xpY2Uqc2xpY2VTaXplXG4gICAgICAgIGNvbnN0IGVuZCA9IE1hdGgubWluKGFydGlzdElkcy5sZW5ndGgsIChzbGljZSsyKSpzbGljZVNpemUpXG4gICAgICAgIGNvbnNvbGUuaW5mbyh7bnVtQXJ0aXN0SWRzOiBhcnRpc3RJZHMubGVuZ3RoLCBzdGFydCwgZW5kLCBzbGljZVNpemV9KVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChhcnRpc3RJZHMuc2xpY2Uoc3RhcnQsIGVuZCkubWFwKGlkID0+IHJlc3QoYCR7c2VhcmNoRW5kcG9pbnR9L3Blb3BsZS8ke2lkfWApKSlcbiAgICAgICAgICAudGhlbih2YWx1ZXMgPT4gdmFsdWVzLm1hcCgoZGF0YSkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YS5lbnRpdHkpXG4gICAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignZXJyb3IgZmV0Y2hpbmcgYXJ0aXN0IGRhdGEnLCBkYXRhLnVybClcbiAgICAgICAgICAgICAgcmV0dXJuIHt9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpXG4gICAgICB9LFxuICAgIH1cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgYXJ0aXN0cyA9IHRoaXMucHJvcHMuZGF0YS5hcnRpc3RzLmZpbHRlcihhcnRpc3QgPT4gYXJ0aXN0ICYmIGFydGlzdC5pZClcbiAgICBjb25zdCBzbWFsbFNjcmVlbiA9IHdpbmRvdy5pbm5lcldpZHRoIDwgNjY2XG5cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIDxkaXYgc3R5bGU9e3tiYWNrZ3JvdW5kOiAnIzIzMjMyMycsIGhlaWdodDogJzdlbScsIHdpZHRoOiAnMTAwJSd9fSAvPlxuXG4gICAgICA8ZGl2IHN0eWxlPXshc21hbGxTY3JlZW4gPyB7bGVmdDogJzUzdncnLCBwb3NpdGlvbjogJ2ZpeGVkJywgbWFyZ2luVG9wOiAnMWVtJ30gOiB7fX0+XG4gICAgICAgIDx1bD57YXJ0aXN0cy5tYXAoYXJ0aXN0ID0+IDxsaSBzdHlsZT17e2Rpc3BsYXk6ICdpbmxpbmUtYmxvY2snLCBwYWRkaW5nOiAnMCAxZW0nfX0+XG4gICAgICAgICAgPGEgaHJlZj17YCMke2FydGlzdC5uYW1lfWB9PnthcnRpc3QubmFtZX08L2E+XG4gICAgICAgIDwvbGk+KX08L3VsPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgc3R5bGU9e3ttYXJnaW5MZWZ0OiAnMCUnLCBtYXhXaWR0aDogJzUwJScsIHpJbmRleDogNiwgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnfX0+XG4gICAgICAgIHthcnRpc3RzLm1hcCgoYXJ0aXN0LCBpbmRleCkgPT4gPHNlY3Rpb24+XG4gICAgICAgICAgPGEgaWQ9e2FydGlzdC5uYW1lfSBzdHlsZT17e3BhZGRpbmdCb3R0b206ICczZW0nLCBkaXNwbGF5OiAnYmxvY2snfX0+PC9hPlxuICAgICAgICAgIDxQZXJzb25cbiAgICAgICAgICAgIGRhdGE9e3thcnRpc3R9fVxuICAgICAgICAgICAga2V5PXthcnRpc3QuaWR9XG4gICAgICAgICAgICBoaWRlSGVhZGVyPXt0cnVlfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvc2VjdGlvbj4pfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IFBlb3BsZVxuXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "people-by-id.js"
      ],
      "names": [
        "React",
        "require",
        "Router",
        "Link",
        "rest",
        "Helmet",
        "R",
        "Person",
        "searchEndpoint",
        "search",
        "definedGroups",
        "People",
        "createClass",
        "statics",
        "fetchData",
        "artists",
        "params",
        "existingData",
        "artistIds",
        "ids",
        "split",
        "slice",
        "sliceSize",
        "start",
        "end",
        "Math",
        "min",
        "length",
        "console",
        "info",
        "numArtistIds",
        "Promise",
        "all",
        "map",
        "id",
        "then",
        "values",
        "data",
        "JSON",
        "parse",
        "entity",
        "e",
        "error",
        "url",
        "render",
        "props",
        "filter",
        "artist",
        "smallScreen",
        "window",
        "innerWidth",
        "background",
        "height",
        "width",
        "left",
        "position",
        "marginTop",
        "display",
        "padding",
        "name",
        "marginLeft",
        "maxWidth",
        "zIndex",
        "backgroundColor",
        "index",
        "paddingBottom",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "people-by-id.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\nvar Router = require('react-router')\nvar { Link } = Router\nvar rest = require('rest')\nvar Helmet = require('react-helmet')\nvar R = require('ramda')\n\nvar Person = require('./artist')\nvar searchEndpoint = require('./endpoints').search\n\nconst definedGroups = {\n  'black-history-month': `Alfred%20Eisenstaedt,Beauford%20Delaney,Benny%20Andrews,Betye%20Saar,Bob%20Thompson,Carl%20Robert%20Pope,%20Jr.,Carrie%20Mae%20Weems,Charles%20Gaines,Charles%20White,Clarence%20Morgan,Clementine%20Hunter,David%20Levinthal,Elizabeth%20Catlett,Emma%20Amos,Frank%20E.%20Cummings%20III,Frank%20J.%20Brown,Fred%20McDarrah,Fred%20Wilson,Glenn%20Ligon,Gordon%20Parks,Gwendolyn%20Knight,Henry%20Bannarn,Henry%20Ray%20Clark,Iona%20Rozeal%20Brown,Jacob%20Lawrence,James%20Van%20Der%20Zee,John%20Biggers,John%20Dowell,John%20Moore,John%20Woodrow%20Wilson,Jules%20Lion,Julie%20Mehretu,Kara%20Walker,Kehinde%20Wiley,Kerry%20James%20Marshall,Laylah%20Ali,Leslie%20Hewitt,Lois%20Mailou%20Jones,Lonnie%20Holley,Lorna%20Simpson,Lorraine%20O'Grady,Mark%20Bradford,Martin%20Puryear,Mary%20Lee%20Bendolph,McArthur%20Binion,Melvin%20Edwards,Mequitta%20Ahuja,Mickalene%20Thomas,Minnie%20Evans,Mitchell%20Squire,Nick%20Cave,Paul%20Anthony%20Smith,Purvis%20Young,Reginald%20Sanders,Renée%20Stout,Richard%20Hunt,Rico%20Gatson,Robert%20Scott%20Duncanson,Romare%20Howard%20Bearden,Roy%20DeCarava,Russell%20T.%20Gordon,Sam%20Gilliam,Sanford%20Biggers,Sedrick%20Huckaby,Shinique%20Smith,Thorton%20Dial,Todd%20Gray,Vincent%20D.%20Smith,Wadsworth%20Jarrell,William%20Edmondson,William%20Howard,Willie%20Cole`,\n  'womens-history-month': `12,45,48,49,51,54,62,73,74,81,87,91,104,120,168,176,218,242,249,250,257,269,271,404,455,458,478,566,611,654,711,712,735,755,819,841,872,873,891,898,904,935,936,948,949,959,961,962,976,979,980,985,986,987,1012,1017,1021,1025,1049,1050,1077,1080,1087,1096,1097,1098,1104,1105,1107,1115,1127,1132,1138,1145,1146,1159,1174,1177,1207,1212,1217,1218,1229,1233,1242,1248,1251,1252,1253,1254,1256,1257,1258,1259,1260,1261,1272,1276,1296,1298,1300,1310,1315,1319,1320,1323,1328,1330,1333,1335,1336,1357,1359,1361,1366,1374,1377,1380,1422,1439,1440,1460,1468,1478,1494,1495,1512,1518,1524,1527,1533,1536,1541,1542,1559,1567,1568,1574,1575,1576,1577,1579,1583,1586,1589,1609,1611,1621,1622,1625,1637,1638,1640,1643,1655,1658,1672,1675,1682,1683,1684,1688,1689,1695,1696,1698,1722,1757,1779,1786,1821,1830,1868,1899,1900,1903,1911,1919,1935,1938,1944,1956,1973,2058,2132,2134,2148,2150,2153,2157,2173,2184,2223,2272,2273,2298,2343,2352,2381,2383,2391,2526,2534,2540,2623,2644,2678,2737,2761,2791,2793,2826,2845,2853,2860,2883,2905,2906,2908,2909,2914,2915,2917,2919,2920,2922,3102,3118,3140,3204,3215,3217,3236,3237,3244,3245,3251,3255,3256,3257,3265,3279,3283,3284,3293,3294,3302,3305,3309,3314,3318,3471,3490,3500,3523,3559,3620,3669,3683,3690,3710,3725,3758,3759,3761,3762,3763,3764,3765,3783,3797,3878,3900,3953,3969,4108,4206,4219,4227,4279,4295,4319,4320,4324,4339,4353,4355,4410,4424,4429,4433,4483,4507,4516,4573,4609,4615,4631,4845,4951,4953,4977,4978,5066,5068,5133,5155,5276,5308,5338,5438,5488,5489,5497,5514,5523,5544,5558,5582,5590,5675,5715,5722,5724,5742,5763,5780,5781,5783,5786,5790,5796,5797,5805,5811,5861,5868,5872,5938,5952,5954,5972,5998,6030,6054,6058,6059,6060,6063,6065,6094,6130,6140,6153,6177,6220,6247,6283,6327,6349,6350,6361,6533,6574,6590,6624,6631,6674,6704,6770,6786,6844,6866,6885,6890,6897,6912,6977,7003,7138,7162,7245,7265,7289,7317,7357,7483,7485,7491,7572,7577,7578,7579,7580,7583,7655,7681,7937,7953,7988,7991,8009,8025,8026,8028,8090,8093,8094,8100,8148,8178,8201,8209,8272,8294,8298,8307,8367,8368,8383,8401,8464,8489,8491,8835,8905,9047,9093,9096,9140,9184,9209,9345,9470,9472,9483,9487,9592,9622,9633,9637,9675,9813,9814,9817,9823,9939,9969,10064,10093,10099,10105,10136,10149,10183,10228,10231,10262,10302,10423,10466,10576,10592,10605,10668,10762,10782,10801,10814,10834,10879,11079,11083,11130,11140,11271,11346,11359,11424,11425,11439,11498,11537,11606,11615,11645,11672,11695,11827,11830,11895,12035,12245,12470,12550,12572,12575,12908,12984,13130,13133,13304,13640,13715,13731,13840,13871,13878,13917,13947,13954,14087,14100,14144,14147,14193,14215,14221,14222,14224,14259,14337,14338,14348,14415,14605,14607,14637,14649,14677,14846,14895,14921,14922,14932,14947,14962,14967,14988,14994,15027,15053,15070,15096,15120,15269,15289,15359,15378,15381,15435,15446,15447,15566,15586,15654,15804,15939,15942,15964,16000,16031,16147,16317,16339,16500,16715,16718,16749,16871,16973,17072,17167,17294,17429,17490,17495,17515,17521,17762,18076,18219,18537,18639,18677,18681,18821,18883,18886,18954,18963,19055,19056,19058,19134,19154,19156,19250,19298,19392,19411,19412,19442,19471,19476,19490,19493,19513,19521,19547,19548,19562,19667,19739,19822,19888,19891,19894,19897,19904,19922,19924,19943,19944,19946,19947,19950,20045,20046,20378,20770,20779,20788,20789,20790,20791,20795,20796,20809,20816,20817,20819,20820,20821,20832,20838,20844,20849,20851,20855,20857,20860,20863,20864,20869,20873,20897,21095,21299,21321,21484,21492,21496,21502,21521,21523,21632,21656,21700,21721,21736,21787,21813,21832,21854,21965,21993,22023,22029,22033,22058,22078,22122,22168,22190,22342,22363,22379,22439,22450,22468,22469,22471,22473,22474,22489,22499,22500,22528,22529,22545,22618,22628,22637,22680,22705,22801,22864,22912,22995,23097,23120,23194,23368,23370,23422,23473,23475,23479,23480,23497,23503,23522,23527,23528,23529,23530,23533,23534,23544,23628,23630,23705,23709,23742,23761,23764,23811,23898,23899,23998,24198,24232,24298,24390,24414,24452,24528,24532,24613,24653,24660,24662,24667,24676,24734,24738,24755,24772,24780,24879,24887,24894,24896,24925,24926,24936,25131,25243,25380,25463,25558,25642,25645,25649,25665,25666,25688,25713,25762,25854,25903,25909,25912,25926,25936,25960,25961,25963,25984,26063,26064,26171,26202,26255,26316,26341,26355,26367,26377,26417,26492,26495,26544,26578,26632,26633,26655,26657,26669,26690,26692,26695,26796,26802,26827,27195,27588,27614,27640,27653,27663,27686,27697,27736,27737,27793,27800,27820,27860,27863,27873,27876,27877,27881,27915,27928,27942,28051,28166,28183,28196,28269,28311,28447,28450,28455,28467,28480,28519,28541,28645,28666,28695,28762,28763,28764,28780,28946,28970,29002,29034,29162,29164,29187,29202,29207,29263,29317,29378,29382,29391,29399,29401,29403,29406,29408,29409,29422,29429,29469,29478,29489,29496,29498,29528,29537,29555,29556,29571,29574,29586,29588,29589,29592,29594,29599,29685,29716,29735,29747,29773,29792,29832,29879,29975,30020,30022,30056,30187,30195,30201,30207,30215,30232,30265,30303,30325,30381,30441,30467,30483,30495,30501,30525,30565,30566,30567,30570,30571,30572,30573,30589,30590,30603,30604,30605,30654,30704,30707,30708,30730,30782,30809,30814,30830,30833,30843,30853,30860,30864,30874,30876,30880,30902,30908,30909,30918,30919,30962,31042,31089,31131,31151,31178,31184,31226,31228,31245,31249,31309,31317,31335,31338,31344,31359,31367,31372,31374,31390,31406,31419,31444,31460,31525,31571,31611,31719,31726,31749,31786,31804,31807,31811,31812,31822,31824,31832,31875,31880,31888,31908,31912,31914,31918,31919,31922,31923,31988,31992,32005,32058,32080,32121,32169,32172,32224,32226,32233,32261,32265,32283,32309,32314,32323,32329,32342,32346,32347,32352,32353,32354,32356,32358,32388,32390,32391,32435,32483,32523,32537,32538,32576,32595,32596,32601,32602,32608,32609,32614,32616,32617,32619,32625,32633,32635,32639,32690,32721,32733,32735,32766,32792,32793,32807,33818,33825,33838,33863,33877,33902,33911,33912,33920,33923,33935,33937,33941,33943,33944,33945,33946,33948,33949,33959,33966,33967,33970,33981,33985,34014,34018,34027,34029,34030,34031,34034,34035,34043,34066,34072,34081,34084,34087,34092,34094,34099,34101,34102,34107,34109,34134,34135,34139,34149,34165,34166,34167,34169,34173,34181,34182,34184,34192,34198,34203,34204,34205,34206,34209,34210,34211,34212,34215,34216,34219,34227,34228,34229,34230,34233,34251,34265,34266,34268,34269,34272,34276,34278,34281,34283,34286,34290,34301,34303,34331,34335,34359,34514,34515,34569,34679,34708,34725,34809,34822,34922,36026,36054,36055,36057,36073,36114,36116,36119,36176,36195,36196,36198,36266,36270,36377,36382,36498,36501,36517,36519,36542,36652`\n}\n\nvar People = React.createClass({\n  statics: {\n    fetchData: {\n      artists: (params, existingData) => {\n        const artistIds = (definedGroups[params.ids] || params.ids).split(',')\n        const slice = 0\n        const sliceSize = 50\n        const start = slice*sliceSize\n        const end = Math.min(artistIds.length, (slice+2)*sliceSize)\n        console.info({numArtistIds: artistIds.length, start, end, sliceSize})\n\n        return Promise.all(artistIds.slice(start, end).map(id => rest(`${searchEndpoint}/people/${id}`)))\n          .then(values => values.map((data) => {\n            try {\n              return JSON.parse(data.entity)\n            } catch(e) {\n              console.error('error fetching artist data', data.url)\n              return {}\n            }\n          }))\n      },\n    }\n  },\n\n  render() {\n    const artists = this.props.data.artists.filter(artist => artist && artist.id)\n    const smallScreen = window.innerWidth < 666\n\n    return <div>\n      <div style={{background: '#232323', height: '7em', width: '100%'}} />\n\n      <div style={!smallScreen ? {left: '53vw', position: 'fixed', marginTop: '1em'} : {}}>\n        <ul>{artists.map(artist => <li style={{display: 'inline-block', padding: '0 1em'}}>\n          <a href={`#${artist.name}`}>{artist.name}</a>\n        </li>)}</ul>\n      </div>\n\n      <div style={{marginLeft: '0%', maxWidth: '50%', zIndex: 6, backgroundColor: 'white'}}>\n        {artists.map((artist, index) => <section>\n          <a id={artist.name} style={{paddingBottom: '3em', display: 'block'}}></a>\n          <Person\n            data={{artist}}\n            key={artist.id}\n            hideHeader={true}\n          />\n        </section>)}\n      </div>\n    </div>\n  },\n})\n\nmodule.exports = People\n\n"
      ]
    },
    "mtime": 1612393616752
  },
  "{\"filename\":\"/var/www/art/src/museum-closed-banner.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/museum-closed-banner.js",
      "filenameRelative": "/var/www/art/src/museum-closed-banner.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "museum-closed-banner.js",
      "sourceFileName": "museum-closed-banner.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "museum-closed-banner"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\n\nvar museumClosed = false;\n\nmodule.exports = function (props) {\n  return museumClosed ? React.createElement(\n    'p',\n    { style: { backgroundColor: '#ef3535', color: 'white', textAlign: 'center', padding: '1em' } },\n    'The museum is temporarily closed, starting Saturday, November 21.',\n    ' ',\n    React.createElement(\n      'a',\n      { href: 'https://new.artsmia.org/covid-19', style: { color: 'white', textDecoration: 'underline' } },\n      'Learn more.'\n    )\n  ) : React.createElement('span', null);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm11c2V1bS1jbG9zZWQtYmFubmVyLmpzIl0sIm5hbWVzIjpbIlJlYWN0IiwicmVxdWlyZSIsIm11c2V1bUNsb3NlZCIsIm1vZHVsZSIsImV4cG9ydHMiLCJwcm9wcyIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwidGV4dEFsaWduIiwicGFkZGluZyIsInRleHREZWNvcmF0aW9uIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFFBQVFDLFFBQVEsT0FBUixDQUFaOztBQUVBLElBQU1DLGVBQWUsS0FBckI7O0FBRUFDLE9BQU9DLE9BQVAsR0FBaUIsVUFBQ0MsS0FBRDtBQUFBLFNBQVdILGVBQWU7QUFBQTtBQUFBLE1BQUcsT0FBTyxFQUFDSSxpQkFBaUIsU0FBbEIsRUFBNkJDLE9BQU8sT0FBcEMsRUFBNkNDLFdBQVcsUUFBeEQsRUFBa0VDLFNBQVMsS0FBM0UsRUFBVjtBQUFBO0FBRXhDLE9BRndDO0FBRXBDO0FBQUE7QUFBQSxRQUFHLE1BQUssa0NBQVIsRUFBMkMsT0FBTyxFQUFDRixPQUFPLE9BQVIsRUFBaUJHLGdCQUFnQixXQUFqQyxFQUFsRDtBQUFBO0FBQUE7QUFGb0MsR0FBZixHQUdyQixpQ0FIVTtBQUFBLENBQWpCIiwiZmlsZSI6Im11c2V1bS1jbG9zZWQtYmFubmVyLmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG5cbmNvbnN0IG11c2V1bUNsb3NlZCA9IGZhbHNlXG5cbm1vZHVsZS5leHBvcnRzID0gKHByb3BzKSA9PiBtdXNldW1DbG9zZWQgPyA8cCBzdHlsZT17e2JhY2tncm91bmRDb2xvcjogJyNlZjM1MzUnLCBjb2xvcjogJ3doaXRlJywgdGV4dEFsaWduOiAnY2VudGVyJywgcGFkZGluZzogJzFlbSd9fT5cbiAgVGhlIG11c2V1bSBpcyB0ZW1wb3JhcmlseSBjbG9zZWQsIHN0YXJ0aW5nIFNhdHVyZGF5LCBOb3ZlbWJlciAyMS5cbiAgeycgJ308YSBocmVmPVwiaHR0cHM6Ly9uZXcuYXJ0c21pYS5vcmcvY292aWQtMTlcIiBzdHlsZT17e2NvbG9yOiAnd2hpdGUnLCB0ZXh0RGVjb3JhdGlvbjogJ3VuZGVybGluZSd9fT5MZWFybiBtb3JlLjwvYT5cbjwvcD4gOiA8c3BhbiAvPlxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "museum-closed-banner.js"
      ],
      "names": [
        "React",
        "require",
        "museumClosed",
        "module",
        "exports",
        "props",
        "backgroundColor",
        "color",
        "textAlign",
        "padding",
        "textDecoration"
      ],
      "mappings": ";;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;;AAEA,IAAMC,eAAe,KAArB;;AAEAC,OAAOC,OAAP,GAAiB,UAACC,KAAD;AAAA,SAAWH,eAAe;AAAA;AAAA,MAAG,OAAO,EAACI,iBAAiB,SAAlB,EAA6BC,OAAO,OAApC,EAA6CC,WAAW,QAAxD,EAAkEC,SAAS,KAA3E,EAAV;AAAA;AAExC,OAFwC;AAEpC;AAAA;AAAA,QAAG,MAAK,kCAAR,EAA2C,OAAO,EAACF,OAAO,OAAR,EAAiBG,gBAAgB,WAAjC,EAAlD;AAAA;AAAA;AAFoC,GAAf,GAGrB,iCAHU;AAAA,CAAjB",
      "file": "museum-closed-banner.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "var React = require('react')\n\nconst museumClosed = false\n\nmodule.exports = (props) => museumClosed ? <p style={{backgroundColor: '#ef3535', color: 'white', textAlign: 'center', padding: '1em'}}>\n  The museum is temporarily closed, starting Saturday, November 21.\n  {' '}<a href=\"https://new.artsmia.org/covid-19\" style={{color: 'white', textDecoration: 'underline'}}>Learn more.</a>\n</p> : <span />\n"
      ]
    },
    "mtime": 1612393616748
  },
  "{\"filename\":\"/var/www/art/src/pages/random.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src/pages\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "extends",
        "toConsumableArray"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/pages/random.js",
      "filenameRelative": "/var/www/art/src/pages/random.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "random.js",
      "sourceFileName": "random.js",
      "sourceRoot": "/var/www/art/src/pages",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src/pages",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "random"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\nvar Router = require('react-router');\nvar rest = require('rest');\n\nvar RandomArtwork = require('../random-artwork');\nvar ArtworkPreview = require('../artwork-preview');\nvar Artwork = require('../artwork');\nvar SEARCH = require('../endpoints').search;\nvar ArtworkPageMetadata = require('../artwork/page-metadata');\n\n// module.exports = RandomArtwork(ArtworkPreview, 'image:valid public_access:1')\nvar RandomArtworkPage = React.createClass({\n  displayName: 'RandomArtworkPage',\n\n  mixins: [Router.State, Router.Navigation],\n  statics: {\n    fetchData: {\n      artwork: function artwork(params, existingData) {\n        if (false) return Promise.resolve(existingData);\n\n        var q = params.q || existingData.q || 'image:valid%20public_access:1';\n        return rest(SEARCH + '/random/art?q=' + q).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      }\n    }\n  },\n\n  getInitialState: function getInitialState() {\n    return { history: [this.props.data.artwork.id] };\n  },\n  render: function render() {\n    var _props = this.props,\n        data = _props.data,\n        art = _props.data.artwork;\n\n    var reloadButton = React.createElement(\n      'button',\n      { onClick: this.nextRandom, title: 'Show the next random artwork' },\n      '\\u21BB Next random'\n    );\n\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(Artwork, _extends({\n        data: data,\n        art: art,\n        showLink: true,\n        showLinkComponent: reloadButton\n      }, this.props)),\n      React.createElement(ArtworkPageMetadata, { art: art, prependTitle: 'Random Artwork: ' })\n    );\n  },\n  nextRandom: function nextRandom() {\n    var _ref = this.state || {},\n        history = _ref.history;\n\n    var historyParam = history && history.length > 0 ? '' + [].concat(_toConsumableArray(history)).reverse().slice(0, 5).join(',') // 5 most recently visited random artworks - don't let ?history=… get too long\n    : '';\n    this.setState({ history: history.concat(this.props.data.artwork.id) });\n    var query = _extends({}, this.getQuery(), {\n      history: historyParam\n    });\n\n    this.transitionTo('/art/random', {}, query);\n  }\n});\n\nmodule.exports = RandomArtworkPage;\n\n/* TODO\n *\n * [x] pass a search query via the URL through to the random search\n * show a grid of 3-6 random artworks on desktop, single on mobile?\n * add a big 'refresh' button/link/keyboard shortcut\n * allow revisiting previous 'randoms' via `history`\n *\n */\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJhbmRvbS5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJSZWFjdERPTSIsIlJvdXRlciIsInJlc3QiLCJSYW5kb21BcnR3b3JrIiwiQXJ0d29ya1ByZXZpZXciLCJBcnR3b3JrIiwiU0VBUkNIIiwic2VhcmNoIiwiQXJ0d29ya1BhZ2VNZXRhZGF0YSIsIlJhbmRvbUFydHdvcmtQYWdlIiwiY3JlYXRlQ2xhc3MiLCJtaXhpbnMiLCJTdGF0ZSIsIk5hdmlnYXRpb24iLCJzdGF0aWNzIiwiZmV0Y2hEYXRhIiwiYXJ0d29yayIsInBhcmFtcyIsImV4aXN0aW5nRGF0YSIsIlByb21pc2UiLCJyZXNvbHZlIiwicSIsInRoZW4iLCJyIiwiSlNPTiIsInBhcnNlIiwiZW50aXR5IiwiZ2V0SW5pdGlhbFN0YXRlIiwiaGlzdG9yeSIsInByb3BzIiwiZGF0YSIsImlkIiwicmVuZGVyIiwiYXJ0IiwicmVsb2FkQnV0dG9uIiwibmV4dFJhbmRvbSIsInN0YXRlIiwiaGlzdG9yeVBhcmFtIiwibGVuZ3RoIiwicmV2ZXJzZSIsInNsaWNlIiwiam9pbiIsInNldFN0YXRlIiwiY29uY2F0IiwicXVlcnkiLCJnZXRRdWVyeSIsInRyYW5zaXRpb25UbyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUlBLFFBQVFDLFFBQVEsT0FBUixDQUFaO0FBQ0EsSUFBSUMsV0FBV0QsUUFBUSxXQUFSLENBQWY7QUFDQSxJQUFJRSxTQUFTRixRQUFRLGNBQVIsQ0FBYjtBQUNBLElBQUlHLE9BQU9ILFFBQVEsTUFBUixDQUFYOztBQUVBLElBQUlJLGdCQUFnQkosUUFBUSxtQkFBUixDQUFwQjtBQUNBLElBQUlLLGlCQUFpQkwsUUFBUSxvQkFBUixDQUFyQjtBQUNBLElBQUlNLFVBQVVOLFFBQVEsWUFBUixDQUFkO0FBQ0EsSUFBSU8sU0FBU1AsUUFBUSxjQUFSLEVBQXdCUSxNQUFyQztBQUNBLElBQUlDLHNCQUFzQlQsUUFBUSwwQkFBUixDQUExQjs7QUFFQTtBQUNBLElBQUlVLG9CQUFvQlgsTUFBTVksV0FBTixDQUFrQjtBQUFBOztBQUN4Q0MsVUFBUSxDQUFDVixPQUFPVyxLQUFSLEVBQWVYLE9BQU9ZLFVBQXRCLENBRGdDO0FBRXhDQyxXQUFTO0FBQ1BDLGVBQVc7QUFDVEMsZUFBUyxpQkFBQ0MsTUFBRCxFQUFTQyxZQUFULEVBQTBCO0FBQ2pDLFlBQUcsS0FBSCxFQUFVLE9BQU9DLFFBQVFDLE9BQVIsQ0FBZ0JGLFlBQWhCLENBQVA7O0FBRVYsWUFBTUcsSUFBSUosT0FBT0ksQ0FBUCxJQUFZSCxhQUFhRyxDQUF6QixJQUE4QiwrQkFBeEM7QUFDQSxlQUFPbkIsS0FBUUksTUFBUixzQkFBK0JlLENBQS9CLEVBQ05DLElBRE0sQ0FDRCxVQUFDQyxDQUFEO0FBQUEsaUJBQU9DLEtBQUtDLEtBQUwsQ0FBV0YsRUFBRUcsTUFBYixDQUFQO0FBQUEsU0FEQyxDQUFQO0FBRUQ7QUFQUTtBQURKLEdBRitCOztBQWN4Q0MsaUJBZHdDLDZCQWN0QjtBQUNoQixXQUFPLEVBQUVDLFNBQVMsQ0FBQyxLQUFLQyxLQUFMLENBQVdDLElBQVgsQ0FBZ0JkLE9BQWhCLENBQXdCZSxFQUF6QixDQUFYLEVBQVA7QUFDRCxHQWhCdUM7QUFrQnhDQyxRQWxCd0Msb0JBa0IvQjtBQUFBLGlCQUM4QixLQUFLSCxLQURuQztBQUFBLFFBQ0FDLElBREEsVUFDQUEsSUFEQTtBQUFBLFFBQ3NCRyxHQUR0QixVQUNNSCxJQUROLENBQ2FkLE9BRGI7O0FBRVAsUUFBTWtCLGVBQWU7QUFBQTtBQUFBLFFBQVEsU0FBUyxLQUFLQyxVQUF0QixFQUFrQyxPQUFNLDhCQUF4QztBQUFBO0FBQUEsS0FBckI7O0FBRUEsV0FBTztBQUFBO0FBQUE7QUFDTCwwQkFBQyxPQUFEO0FBQ0UsY0FBTUwsSUFEUjtBQUVFLGFBQUtHLEdBRlA7QUFHRSxrQkFBVSxJQUhaO0FBSUUsMkJBQW1CQztBQUpyQixTQUtNLEtBQUtMLEtBTFgsRUFESztBQVFMLDBCQUFDLG1CQUFELElBQXFCLEtBQUtJLEdBQTFCLEVBQStCLGNBQWMsa0JBQTdDO0FBUkssS0FBUDtBQVVELEdBaEN1QztBQWtDeENFLFlBbEN3Qyx3QkFrQzNCO0FBQUEsZUFDTyxLQUFLQyxLQUFMLElBQWMsRUFEckI7QUFBQSxRQUNKUixPQURJLFFBQ0pBLE9BREk7O0FBRVgsUUFBTVMsZUFBZVQsV0FBV0EsUUFBUVUsTUFBUixHQUFpQixDQUE1QixRQUNkLDZCQUFJVixPQUFKLEdBQWFXLE9BQWIsR0FBdUJDLEtBQXZCLENBQTZCLENBQTdCLEVBQWdDLENBQWhDLEVBQW1DQyxJQUFuQyxDQUF3QyxHQUF4QyxDQURjLENBQ2lDO0FBRGpDLE1BRWpCLEVBRko7QUFHQSxTQUFLQyxRQUFMLENBQWMsRUFBQ2QsU0FBU0EsUUFBUWUsTUFBUixDQUFlLEtBQUtkLEtBQUwsQ0FBV0MsSUFBWCxDQUFnQmQsT0FBaEIsQ0FBd0JlLEVBQXZDLENBQVYsRUFBZDtBQUNBLFFBQU1hLHFCQUNELEtBQUtDLFFBQUwsRUFEQztBQUVKakIsZUFBU1M7QUFGTCxNQUFOOztBQUtBLFNBQUtTLFlBQUwsZ0JBQWlDLEVBQWpDLEVBQXFDRixLQUFyQztBQUNEO0FBOUN1QyxDQUFsQixDQUF4Qjs7QUFpREFHLE9BQU9DLE9BQVAsR0FBaUJ2QyxpQkFBakI7O0FBSUEiLCJmaWxlIjoicmFuZG9tLmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMvcGFnZXMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUmVhY3RET00gPSByZXF1aXJlKCdyZWFjdC1kb20nKVxudmFyIFJvdXRlciA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlcicpXG52YXIgcmVzdCA9IHJlcXVpcmUoJ3Jlc3QnKVxuXG52YXIgUmFuZG9tQXJ0d29yayA9IHJlcXVpcmUoJy4uL3JhbmRvbS1hcnR3b3JrJylcbnZhciBBcnR3b3JrUHJldmlldyA9IHJlcXVpcmUoJy4uL2FydHdvcmstcHJldmlldycpXG52YXIgQXJ0d29yayA9IHJlcXVpcmUoJy4uL2FydHdvcmsnKVxudmFyIFNFQVJDSCA9IHJlcXVpcmUoJy4uL2VuZHBvaW50cycpLnNlYXJjaFxudmFyIEFydHdvcmtQYWdlTWV0YWRhdGEgPSByZXF1aXJlKCcuLi9hcnR3b3JrL3BhZ2UtbWV0YWRhdGEnKVxuXG4vLyBtb2R1bGUuZXhwb3J0cyA9IFJhbmRvbUFydHdvcmsoQXJ0d29ya1ByZXZpZXcsICdpbWFnZTp2YWxpZCBwdWJsaWNfYWNjZXNzOjEnKVxudmFyIFJhbmRvbUFydHdvcmtQYWdlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBtaXhpbnM6IFtSb3V0ZXIuU3RhdGUsIFJvdXRlci5OYXZpZ2F0aW9uXSxcbiAgc3RhdGljczoge1xuICAgIGZldGNoRGF0YToge1xuICAgICAgYXJ0d29yazogKHBhcmFtcywgZXhpc3RpbmdEYXRhKSA9PiB7XG4gICAgICAgIGlmKGZhbHNlKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGV4aXN0aW5nRGF0YSlcblxuICAgICAgICBjb25zdCBxID0gcGFyYW1zLnEgfHwgZXhpc3RpbmdEYXRhLnEgfHwgJ2ltYWdlOnZhbGlkJTIwcHVibGljX2FjY2VzczoxJ1xuICAgICAgICByZXR1cm4gcmVzdChgJHtTRUFSQ0h9L3JhbmRvbS9hcnQ/cT0ke3F9YClcbiAgICAgICAgLnRoZW4oKHIpID0+IEpTT04ucGFyc2Uoci5lbnRpdHkpKVxuICAgICAgfSxcbiAgICB9LFxuICB9LFxuXG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4geyBoaXN0b3J5OiBbdGhpcy5wcm9wcy5kYXRhLmFydHdvcmsuaWRdIH1cbiAgfSxcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge2RhdGEsIGRhdGE6IHthcnR3b3JrOiBhcnR9fSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCByZWxvYWRCdXR0b24gPSA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMubmV4dFJhbmRvbX0gdGl0bGU9XCJTaG93IHRoZSBuZXh0IHJhbmRvbSBhcnR3b3JrXCI+JiN4MjFiYjsgTmV4dCByYW5kb208L2J1dHRvbj5cblxuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPEFydHdvcmtcbiAgICAgICAgZGF0YT17ZGF0YX1cbiAgICAgICAgYXJ0PXthcnR9XG4gICAgICAgIHNob3dMaW5rPXt0cnVlfVxuICAgICAgICBzaG93TGlua0NvbXBvbmVudD17cmVsb2FkQnV0dG9ufVxuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgIC8+XG4gICAgICA8QXJ0d29ya1BhZ2VNZXRhZGF0YSBhcnQ9e2FydH0gcHJlcGVuZFRpdGxlPXsnUmFuZG9tIEFydHdvcms6ICd9IC8+XG4gICAgPC9kaXY+XG4gIH0sXG5cbiAgbmV4dFJhbmRvbSgpIHtcbiAgICBjb25zdCB7aGlzdG9yeX0gPSB0aGlzLnN0YXRlIHx8IHt9XG4gICAgY29uc3QgaGlzdG9yeVBhcmFtID0gaGlzdG9yeSAmJiBoaXN0b3J5Lmxlbmd0aCA+IDBcbiAgICAgID8gYCR7Wy4uLmhpc3RvcnldLnJldmVyc2UoKS5zbGljZSgwLCA1KS5qb2luKCcsJyl9YCAvLyA1IG1vc3QgcmVjZW50bHkgdmlzaXRlZCByYW5kb20gYXJ0d29ya3MgLSBkb24ndCBsZXQgP2hpc3Rvcnk94oCmIGdldCB0b28gbG9uZ1xuICAgICAgOiAnJ1xuICAgIHRoaXMuc2V0U3RhdGUoe2hpc3Rvcnk6IGhpc3RvcnkuY29uY2F0KHRoaXMucHJvcHMuZGF0YS5hcnR3b3JrLmlkKX0pXG4gICAgY29uc3QgcXVlcnkgPSB7XG4gICAgICAuLi50aGlzLmdldFF1ZXJ5KCksXG4gICAgICBoaXN0b3J5OiBoaXN0b3J5UGFyYW0sXG4gICAgfVxuXG4gICAgdGhpcy50cmFuc2l0aW9uVG8oYC9hcnQvcmFuZG9tYCwge30sIHF1ZXJ5KVxuICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBSYW5kb21BcnR3b3JrUGFnZVxuXG5cblxuLyogVE9ET1xuICpcbiAqIFt4XSBwYXNzIGEgc2VhcmNoIHF1ZXJ5IHZpYSB0aGUgVVJMIHRocm91Z2ggdG8gdGhlIHJhbmRvbSBzZWFyY2hcbiAqIHNob3cgYSBncmlkIG9mIDMtNiByYW5kb20gYXJ0d29ya3Mgb24gZGVza3RvcCwgc2luZ2xlIG9uIG1vYmlsZT9cbiAqIGFkZCBhIGJpZyAncmVmcmVzaCcgYnV0dG9uL2xpbmsva2V5Ym9hcmQgc2hvcnRjdXRcbiAqIGFsbG93IHJldmlzaXRpbmcgcHJldmlvdXMgJ3JhbmRvbXMnIHZpYSBgaGlzdG9yeWBcbiAqXG4gKi9cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "random.js"
      ],
      "names": [
        "React",
        "require",
        "ReactDOM",
        "Router",
        "rest",
        "RandomArtwork",
        "ArtworkPreview",
        "Artwork",
        "SEARCH",
        "search",
        "ArtworkPageMetadata",
        "RandomArtworkPage",
        "createClass",
        "mixins",
        "State",
        "Navigation",
        "statics",
        "fetchData",
        "artwork",
        "params",
        "existingData",
        "Promise",
        "resolve",
        "q",
        "then",
        "r",
        "JSON",
        "parse",
        "entity",
        "getInitialState",
        "history",
        "props",
        "data",
        "id",
        "render",
        "art",
        "reloadButton",
        "nextRandom",
        "state",
        "historyParam",
        "length",
        "reverse",
        "slice",
        "join",
        "setState",
        "concat",
        "query",
        "getQuery",
        "transitionTo",
        "module",
        "exports"
      ],
      "mappings": ";;;;;;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;AACA,IAAIC,WAAWD,QAAQ,WAAR,CAAf;AACA,IAAIE,SAASF,QAAQ,cAAR,CAAb;AACA,IAAIG,OAAOH,QAAQ,MAAR,CAAX;;AAEA,IAAII,gBAAgBJ,QAAQ,mBAAR,CAApB;AACA,IAAIK,iBAAiBL,QAAQ,oBAAR,CAArB;AACA,IAAIM,UAAUN,QAAQ,YAAR,CAAd;AACA,IAAIO,SAASP,QAAQ,cAAR,EAAwBQ,MAArC;AACA,IAAIC,sBAAsBT,QAAQ,0BAAR,CAA1B;;AAEA;AACA,IAAIU,oBAAoBX,MAAMY,WAAN,CAAkB;AAAA;;AACxCC,UAAQ,CAACV,OAAOW,KAAR,EAAeX,OAAOY,UAAtB,CADgC;AAExCC,WAAS;AACPC,eAAW;AACTC,eAAS,iBAACC,MAAD,EAASC,YAAT,EAA0B;AACjC,YAAG,KAAH,EAAU,OAAOC,QAAQC,OAAR,CAAgBF,YAAhB,CAAP;;AAEV,YAAMG,IAAIJ,OAAOI,CAAP,IAAYH,aAAaG,CAAzB,IAA8B,+BAAxC;AACA,eAAOnB,KAAQI,MAAR,sBAA+Be,CAA/B,EACNC,IADM,CACD,UAACC,CAAD;AAAA,iBAAOC,KAAKC,KAAL,CAAWF,EAAEG,MAAb,CAAP;AAAA,SADC,CAAP;AAED;AAPQ;AADJ,GAF+B;;AAcxCC,iBAdwC,6BActB;AAChB,WAAO,EAAEC,SAAS,CAAC,KAAKC,KAAL,CAAWC,IAAX,CAAgBd,OAAhB,CAAwBe,EAAzB,CAAX,EAAP;AACD,GAhBuC;AAkBxCC,QAlBwC,oBAkB/B;AAAA,iBAC8B,KAAKH,KADnC;AAAA,QACAC,IADA,UACAA,IADA;AAAA,QACsBG,GADtB,UACMH,IADN,CACad,OADb;;AAEP,QAAMkB,eAAe;AAAA;AAAA,QAAQ,SAAS,KAAKC,UAAtB,EAAkC,OAAM,8BAAxC;AAAA;AAAA,KAArB;;AAEA,WAAO;AAAA;AAAA;AACL,0BAAC,OAAD;AACE,cAAML,IADR;AAEE,aAAKG,GAFP;AAGE,kBAAU,IAHZ;AAIE,2BAAmBC;AAJrB,SAKM,KAAKL,KALX,EADK;AAQL,0BAAC,mBAAD,IAAqB,KAAKI,GAA1B,EAA+B,cAAc,kBAA7C;AARK,KAAP;AAUD,GAhCuC;AAkCxCE,YAlCwC,wBAkC3B;AAAA,eACO,KAAKC,KAAL,IAAc,EADrB;AAAA,QACJR,OADI,QACJA,OADI;;AAEX,QAAMS,eAAeT,WAAWA,QAAQU,MAAR,GAAiB,CAA5B,QACd,6BAAIV,OAAJ,GAAaW,OAAb,GAAuBC,KAAvB,CAA6B,CAA7B,EAAgC,CAAhC,EAAmCC,IAAnC,CAAwC,GAAxC,CADc,CACiC;AADjC,MAEjB,EAFJ;AAGA,SAAKC,QAAL,CAAc,EAACd,SAASA,QAAQe,MAAR,CAAe,KAAKd,KAAL,CAAWC,IAAX,CAAgBd,OAAhB,CAAwBe,EAAvC,CAAV,EAAd;AACA,QAAMa,qBACD,KAAKC,QAAL,EADC;AAEJjB,eAASS;AAFL,MAAN;;AAKA,SAAKS,YAAL,gBAAiC,EAAjC,EAAqCF,KAArC;AACD;AA9CuC,CAAlB,CAAxB;;AAiDAG,OAAOC,OAAP,GAAiBvC,iBAAjB;;AAIA",
      "file": "random.js",
      "sourceRoot": "/var/www/art/src/pages",
      "sourcesContent": [
        "var React = require('react')\nvar ReactDOM = require('react-dom')\nvar Router = require('react-router')\nvar rest = require('rest')\n\nvar RandomArtwork = require('../random-artwork')\nvar ArtworkPreview = require('../artwork-preview')\nvar Artwork = require('../artwork')\nvar SEARCH = require('../endpoints').search\nvar ArtworkPageMetadata = require('../artwork/page-metadata')\n\n// module.exports = RandomArtwork(ArtworkPreview, 'image:valid public_access:1')\nvar RandomArtworkPage = React.createClass({\n  mixins: [Router.State, Router.Navigation],\n  statics: {\n    fetchData: {\n      artwork: (params, existingData) => {\n        if(false) return Promise.resolve(existingData)\n\n        const q = params.q || existingData.q || 'image:valid%20public_access:1'\n        return rest(`${SEARCH}/random/art?q=${q}`)\n        .then((r) => JSON.parse(r.entity))\n      },\n    },\n  },\n\n  getInitialState() {\n    return { history: [this.props.data.artwork.id] }\n  },\n\n  render() {\n    const {data, data: {artwork: art}} = this.props\n    const reloadButton = <button onClick={this.nextRandom} title=\"Show the next random artwork\">&#x21bb; Next random</button>\n\n    return <div>\n      <Artwork\n        data={data}\n        art={art}\n        showLink={true}\n        showLinkComponent={reloadButton}\n        {...this.props}\n      />\n      <ArtworkPageMetadata art={art} prependTitle={'Random Artwork: '} />\n    </div>\n  },\n\n  nextRandom() {\n    const {history} = this.state || {}\n    const historyParam = history && history.length > 0\n      ? `${[...history].reverse().slice(0, 5).join(',')}` // 5 most recently visited random artworks - don't let ?history=… get too long\n      : ''\n    this.setState({history: history.concat(this.props.data.artwork.id)})\n    const query = {\n      ...this.getQuery(),\n      history: historyParam,\n    }\n\n    this.transitionTo(`/art/random`, {}, query)\n  },\n})\n\nmodule.exports = RandomArtworkPage\n\n\n\n/* TODO\n *\n * [x] pass a search query via the URL through to the random search\n * show a grid of 3-6 random artworks on desktop, single on mobile?\n * add a big 'refresh' button/link/keyboard shortcut\n * allow revisiting previous 'randoms' via `history`\n *\n */\n"
      ]
    },
    "mtime": 1588088003284
  },
  "{\"filename\":\"/var/www/art/src/pages/not-found.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src/pages\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/pages/not-found.js",
      "filenameRelative": "/var/www/art/src/pages/not-found.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "not-found.js",
      "sourceFileName": "not-found.js",
      "sourceRoot": "/var/www/art/src/pages",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src/pages",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "not-found"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar React = require('react');\n\nvar _require = require('../util/archived-page-handler.js'),\n    isInternetArchivedPage = _require.isInternetArchivedPage;\n\nvar coverPageStyle = {\n  textAlign: 'center',\n  background: '#232323',\n  minHeight: '100vh'\n};\n\nvar NotFound = React.createClass({\n  displayName: 'NotFound',\n  render: function render() {\n    return React.createElement(\n      'div',\n      { style: coverPageStyle },\n      React.createElement(\n        'h2',\n        { style: { color: 'white', fontSize: '333%', paddingTop: '17%' } },\n        '404 Not Found'\n      )\n    );\n  },\n\n\n  statics: {\n    willTransitionTo: function willTransitionTo(transition, params, query, callback) {\n      var redirectUrl = params && isInternetArchivedPage(params.splat);\n\n      if (false && redirectUrl) {\n        // `transition` happens at the server level and results\n        // in a 301 redirect, which doesn't fix the problem with this site\n        // archived on archive.org\n        // Time for a better idea!\n        transition.redirect(redirectUrl);\n      }\n\n      callback();\n    }\n  }\n});\n\nmodule.exports = NotFound;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vdC1mb3VuZC5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJpc0ludGVybmV0QXJjaGl2ZWRQYWdlIiwiY292ZXJQYWdlU3R5bGUiLCJ0ZXh0QWxpZ24iLCJiYWNrZ3JvdW5kIiwibWluSGVpZ2h0IiwiTm90Rm91bmQiLCJjcmVhdGVDbGFzcyIsInJlbmRlciIsImNvbG9yIiwiZm9udFNpemUiLCJwYWRkaW5nVG9wIiwic3RhdGljcyIsIndpbGxUcmFuc2l0aW9uVG8iLCJ0cmFuc2l0aW9uIiwicGFyYW1zIiwicXVlcnkiLCJjYWxsYmFjayIsInJlZGlyZWN0VXJsIiwic3BsYXQiLCJyZWRpcmVjdCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7O2VBQytCQSxRQUFRLGtDQUFSLEM7SUFBMUJDLHNCLFlBQUFBLHNCOztBQUVMLElBQUlDLGlCQUFpQjtBQUNuQkMsYUFBVyxRQURRO0FBRW5CQyxjQUFZLFNBRk87QUFHbkJDLGFBQVc7QUFIUSxDQUFyQjs7QUFNQSxJQUFJQyxXQUFXUCxNQUFNUSxXQUFOLENBQWtCO0FBQUE7QUFDL0JDLFFBRCtCLG9CQUN0QjtBQUNQLFdBQU87QUFBQTtBQUFBLFFBQUssT0FBT04sY0FBWjtBQUNMO0FBQUE7QUFBQSxVQUFJLE9BQU8sRUFBQ08sT0FBTyxPQUFSLEVBQWlCQyxVQUFVLE1BQTNCLEVBQW1DQyxZQUFZLEtBQS9DLEVBQVg7QUFBQTtBQUFBO0FBREssS0FBUDtBQUdELEdBTDhCOzs7QUFPL0JDLFdBQVM7QUFDUEMsc0JBQWtCLDBCQUFVQyxVQUFWLEVBQXNCQyxNQUF0QixFQUE4QkMsS0FBOUIsRUFBcUNDLFFBQXJDLEVBQStDO0FBQy9ELFVBQUlDLGNBQWNILFVBQVVkLHVCQUF1QmMsT0FBT0ksS0FBOUIsQ0FBNUI7O0FBRUEsVUFBRyxTQUFTRCxXQUFaLEVBQXlCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0FKLG1CQUFXTSxRQUFYLENBQW9CRixXQUFwQjtBQUNEOztBQUVERDtBQUNEO0FBYk07QUFQc0IsQ0FBbEIsQ0FBZjs7QUF5QkFJLE9BQU9DLE9BQVAsR0FBaUJoQixRQUFqQiIsImZpbGUiOiJub3QtZm91bmQuanMiLCJzb3VyY2VSb290IjoiL3Zhci93d3cvYXJ0L3NyYy9wYWdlcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcbnZhciB7aXNJbnRlcm5ldEFyY2hpdmVkUGFnZX0gPSByZXF1aXJlKCcuLi91dGlsL2FyY2hpdmVkLXBhZ2UtaGFuZGxlci5qcycpXG5cbnZhciBjb3ZlclBhZ2VTdHlsZSA9IHtcbiAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgYmFja2dyb3VuZDogJyMyMzIzMjMnLFxuICBtaW5IZWlnaHQ6ICcxMDB2aCcsXG59XG5cbnZhciBOb3RGb3VuZCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiA8ZGl2IHN0eWxlPXtjb3ZlclBhZ2VTdHlsZX0+XG4gICAgICA8aDIgc3R5bGU9e3tjb2xvcjogJ3doaXRlJywgZm9udFNpemU6ICczMzMlJywgcGFkZGluZ1RvcDogJzE3JSd9fT40MDQgTm90IEZvdW5kPC9oMj5cbiAgICA8L2Rpdj5cbiAgfSxcblxuICBzdGF0aWNzOiB7XG4gICAgd2lsbFRyYW5zaXRpb25UbzogZnVuY3Rpb24gKHRyYW5zaXRpb24sIHBhcmFtcywgcXVlcnksIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgcmVkaXJlY3RVcmwgPSBwYXJhbXMgJiYgaXNJbnRlcm5ldEFyY2hpdmVkUGFnZShwYXJhbXMuc3BsYXQpXG5cbiAgICAgIGlmKGZhbHNlICYmIHJlZGlyZWN0VXJsKSB7XG4gICAgICAgIC8vIGB0cmFuc2l0aW9uYCBoYXBwZW5zIGF0IHRoZSBzZXJ2ZXIgbGV2ZWwgYW5kIHJlc3VsdHNcbiAgICAgICAgLy8gaW4gYSAzMDEgcmVkaXJlY3QsIHdoaWNoIGRvZXNuJ3QgZml4IHRoZSBwcm9ibGVtIHdpdGggdGhpcyBzaXRlXG4gICAgICAgIC8vIGFyY2hpdmVkIG9uIGFyY2hpdmUub3JnXG4gICAgICAgIC8vIFRpbWUgZm9yIGEgYmV0dGVyIGlkZWEhXG4gICAgICAgIHRyYW5zaXRpb24ucmVkaXJlY3QocmVkaXJlY3RVcmwpXG4gICAgICB9XG5cbiAgICAgIGNhbGxiYWNrKClcbiAgICB9LFxuICB9XG59KVxuXG5cbm1vZHVsZS5leHBvcnRzID0gTm90Rm91bmRcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "not-found.js"
      ],
      "names": [
        "React",
        "require",
        "isInternetArchivedPage",
        "coverPageStyle",
        "textAlign",
        "background",
        "minHeight",
        "NotFound",
        "createClass",
        "render",
        "color",
        "fontSize",
        "paddingTop",
        "statics",
        "willTransitionTo",
        "transition",
        "params",
        "query",
        "callback",
        "redirectUrl",
        "splat",
        "redirect",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;;eAC+BA,QAAQ,kCAAR,C;IAA1BC,sB,YAAAA,sB;;AAEL,IAAIC,iBAAiB;AACnBC,aAAW,QADQ;AAEnBC,cAAY,SAFO;AAGnBC,aAAW;AAHQ,CAArB;;AAMA,IAAIC,WAAWP,MAAMQ,WAAN,CAAkB;AAAA;AAC/BC,QAD+B,oBACtB;AACP,WAAO;AAAA;AAAA,QAAK,OAAON,cAAZ;AACL;AAAA;AAAA,UAAI,OAAO,EAACO,OAAO,OAAR,EAAiBC,UAAU,MAA3B,EAAmCC,YAAY,KAA/C,EAAX;AAAA;AAAA;AADK,KAAP;AAGD,GAL8B;;;AAO/BC,WAAS;AACPC,sBAAkB,0BAAUC,UAAV,EAAsBC,MAAtB,EAA8BC,KAA9B,EAAqCC,QAArC,EAA+C;AAC/D,UAAIC,cAAcH,UAAUd,uBAAuBc,OAAOI,KAA9B,CAA5B;;AAEA,UAAG,SAASD,WAAZ,EAAyB;AACvB;AACA;AACA;AACA;AACAJ,mBAAWM,QAAX,CAAoBF,WAApB;AACD;;AAEDD;AACD;AAbM;AAPsB,CAAlB,CAAf;;AAyBAI,OAAOC,OAAP,GAAiBhB,QAAjB",
      "file": "not-found.js",
      "sourceRoot": "/var/www/art/src/pages",
      "sourcesContent": [
        "var React = require('react')\nvar {isInternetArchivedPage} = require('../util/archived-page-handler.js')\n\nvar coverPageStyle = {\n  textAlign: 'center',\n  background: '#232323',\n  minHeight: '100vh',\n}\n\nvar NotFound = React.createClass({\n  render() {\n    return <div style={coverPageStyle}>\n      <h2 style={{color: 'white', fontSize: '333%', paddingTop: '17%'}}>404 Not Found</h2>\n    </div>\n  },\n\n  statics: {\n    willTransitionTo: function (transition, params, query, callback) {\n      var redirectUrl = params && isInternetArchivedPage(params.splat)\n\n      if(false && redirectUrl) {\n        // `transition` happens at the server level and results\n        // in a 301 redirect, which doesn't fix the problem with this site\n        // archived on archive.org\n        // Time for a better idea!\n        transition.redirect(redirectUrl)\n      }\n\n      callback()\n    },\n  }\n})\n\n\nmodule.exports = NotFound\n"
      ]
    },
    "mtime": 1612393616752
  },
  "{\"filename\":\"/var/www/art/src/util/archived-page-handler.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src/util\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/util/archived-page-handler.js",
      "filenameRelative": "/var/www/art/src/util/archived-page-handler.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "archived-page-handler.js",
      "sourceFileName": "archived-page-handler.js",
      "sourceRoot": "/var/www/art/src/util",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src/util",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "archived-page-handler"
    },
    "ignored": false,
    "code": "\"use strict\";\n\nfunction isInternetArchivedPage(url) {\n  var internetArchiveUrlRegex = new RegExp(\"/?web/[0-9]+/http://collections.artsmia.org(.*)\");\n  var isInternetArchivedPage = url && url.match(internetArchiveUrlRegex);\n  var pageUrl = isInternetArchivedPage && isInternetArchivedPage[1];\n\n  return pageUrl;\n}\n\nmodule.exports = {\n  isInternetArchivedPage: isInternetArchivedPage\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFyY2hpdmVkLXBhZ2UtaGFuZGxlci5qcyJdLCJuYW1lcyI6WyJpc0ludGVybmV0QXJjaGl2ZWRQYWdlIiwidXJsIiwiaW50ZXJuZXRBcmNoaXZlVXJsUmVnZXgiLCJSZWdFeHAiLCJtYXRjaCIsInBhZ2VVcmwiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLFNBQVNBLHNCQUFULENBQWdDQyxHQUFoQyxFQUFxQztBQUNuQyxNQUFJQywwQkFBMEIsSUFBSUMsTUFBSixDQUFXLGlEQUFYLENBQTlCO0FBQ0EsTUFBSUgseUJBQXlCQyxPQUFPQSxJQUFJRyxLQUFKLENBQVVGLHVCQUFWLENBQXBDO0FBQ0EsTUFBSUcsVUFBVUwsMEJBQTBCQSx1QkFBdUIsQ0FBdkIsQ0FBeEM7O0FBRUEsU0FBT0ssT0FBUDtBQUNEOztBQUVEQyxPQUFPQyxPQUFQLEdBQWlCO0FBQ2ZQO0FBRGUsQ0FBakIiLCJmaWxlIjoiYXJjaGl2ZWQtcGFnZS1oYW5kbGVyLmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMvdXRpbCIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGlzSW50ZXJuZXRBcmNoaXZlZFBhZ2UodXJsKSB7XG4gIHZhciBpbnRlcm5ldEFyY2hpdmVVcmxSZWdleCA9IG5ldyBSZWdFeHAoXCIvP3dlYi9bMC05XSsvaHR0cDovL2NvbGxlY3Rpb25zLmFydHNtaWEub3JnKC4qKVwiKVxuICB2YXIgaXNJbnRlcm5ldEFyY2hpdmVkUGFnZSA9IHVybCAmJiB1cmwubWF0Y2goaW50ZXJuZXRBcmNoaXZlVXJsUmVnZXgpXG4gIHZhciBwYWdlVXJsID0gaXNJbnRlcm5ldEFyY2hpdmVkUGFnZSAmJiBpc0ludGVybmV0QXJjaGl2ZWRQYWdlWzFdXG5cbiAgcmV0dXJuIHBhZ2VVcmxcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzSW50ZXJuZXRBcmNoaXZlZFBhZ2Vcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "archived-page-handler.js"
      ],
      "names": [
        "isInternetArchivedPage",
        "url",
        "internetArchiveUrlRegex",
        "RegExp",
        "match",
        "pageUrl",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,SAASA,sBAAT,CAAgCC,GAAhC,EAAqC;AACnC,MAAIC,0BAA0B,IAAIC,MAAJ,CAAW,iDAAX,CAA9B;AACA,MAAIH,yBAAyBC,OAAOA,IAAIG,KAAJ,CAAUF,uBAAV,CAApC;AACA,MAAIG,UAAUL,0BAA0BA,uBAAuB,CAAvB,CAAxC;;AAEA,SAAOK,OAAP;AACD;;AAEDC,OAAOC,OAAP,GAAiB;AACfP;AADe,CAAjB",
      "file": "archived-page-handler.js",
      "sourceRoot": "/var/www/art/src/util",
      "sourcesContent": [
        "function isInternetArchivedPage(url) {\n  var internetArchiveUrlRegex = new RegExp(\"/?web/[0-9]+/http://collections.artsmia.org(.*)\")\n  var isInternetArchivedPage = url && url.match(internetArchiveUrlRegex)\n  var pageUrl = isInternetArchivedPage && isInternetArchivedPage[1]\n\n  return pageUrl\n}\n\nmodule.exports = {\n  isInternetArchivedPage\n}\n"
      ]
    },
    "mtime": 1612393616752
  },
  "{\"filename\":\"/var/www/art/src/pseudo-artwork.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/pseudo-artwork.js",
      "filenameRelative": "/var/www/art/src/pseudo-artwork.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "pseudo-artwork.js",
      "sourceFileName": "pseudo-artwork.js",
      "sourceRoot": "/var/www/art/src",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "pseudo-artwork"
    },
    "ignored": false,
    "code": "'use strict';\n\n/** @format */\nvar React = require('react');\nvar Router = require('react-router');\nvar Link = Router.Link;\n\nvar rest = require('rest');\nvar Helmet = require('react-helmet');\nvar cx = require('classnames');\n\nvar Artwork = require('./artwork');\nvar transformData = require('./artwork/pseudo-artwork-data-transform');\n\nvar SANDBOX_API = 'https://new.artsmia.org/wp-json/wp/v2/sandbox/';\n\n/**\n * This route brings in non-TMS artwork data, and presents it as similarly as\n * possible to a regular TMS artwork.\n *\n * Applications: \"Inspired By Mia\", \"Foot in the Door\", …???\n * Long term we could present works from other museums…\n */\nvar PseudoArtwork = React.createClass({\n  displayName: 'PseudoArtwork',\n\n  mixins: [Router.State],\n  statics: {\n    fetchData: {\n      originalData: function originalData(params, existingData) {\n        var dataURI = '' + SANDBOX_API + params.id;\n        if (existingData && existingData.id && existingData.id == params.id) return Promise.resolve(existingData);\n\n        return rest(dataURI).then(function (r) {\n          return JSON.parse(r.entity);\n        });\n      },\n      artwork: function artwork(params, existingArt) {\n        var existingData = window.__DATA__ && window.__DATA__.originalData;\n        var existingArt = window.__DATA__ && window.__DATA__.artwork;\n\n        if (existingArt && existingArt.id && existingArt.id === params.id) return Promise.resolve(existingArt);\n\n        return PseudoArtwork.fetchData.originalData(params, existingData).then(function (data) {\n          var transformed = transformData(data);\n          window.__DATA__ = { originalData: data, artwork: transformed };\n\n          return transformed;\n        });\n      }\n    },\n\n    willTransitionTo: function willTransitionTo(transition, params, query, callback) {\n      var existingArt = window.__DATA__ && window.__DATA__.artwork;\n      console.info('wTrT', { params: params, existingArt: existingArt });\n\n      return PseudoArtwork.fetchData.artwork(params, existingArt).then(function (art) {\n        window.__DATA__ = { artwork: art };\n        var slug = art && art.pseudoArtwork.slug;\n        if (slug && params.slug !== slug) {\n          params.slug = slug;\n          console.info('wTrT redirect', { slug: slug, params: params, art: art });\n          transition.redirect('sandboxArtworkSlug', params);\n        }\n      }).then(callback);\n    }\n  },\n\n  render: function render() {\n    var _props = this.props,\n        data = _props.data,\n        _props$data = _props.data,\n        originalData = _props$data.originalData,\n        artwork = _props$data.artwork;\n\n\n    return React.createElement(Artwork, { data: data, id: data.artwork.id });\n  }\n});\n\nmodule.exports = PseudoArtwork;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBzZXVkby1hcnR3b3JrLmpzIl0sIm5hbWVzIjpbIlJlYWN0IiwicmVxdWlyZSIsIlJvdXRlciIsIkxpbmsiLCJyZXN0IiwiSGVsbWV0IiwiY3giLCJBcnR3b3JrIiwidHJhbnNmb3JtRGF0YSIsIlNBTkRCT1hfQVBJIiwiUHNldWRvQXJ0d29yayIsImNyZWF0ZUNsYXNzIiwibWl4aW5zIiwiU3RhdGUiLCJzdGF0aWNzIiwiZmV0Y2hEYXRhIiwib3JpZ2luYWxEYXRhIiwicGFyYW1zIiwiZXhpc3RpbmdEYXRhIiwiZGF0YVVSSSIsImlkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwiSlNPTiIsInBhcnNlIiwiciIsImVudGl0eSIsImFydHdvcmsiLCJleGlzdGluZ0FydCIsIndpbmRvdyIsIl9fREFUQV9fIiwidHJhbnNmb3JtZWQiLCJkYXRhIiwid2lsbFRyYW5zaXRpb25UbyIsInRyYW5zaXRpb24iLCJxdWVyeSIsImNhbGxiYWNrIiwiY29uc29sZSIsImluZm8iLCJhcnQiLCJzbHVnIiwicHNldWRvQXJ0d29yayIsInJlZGlyZWN0IiwicmVuZGVyIiwicHJvcHMiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0EsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7QUFDQSxJQUFJQyxTQUFTRCxRQUFRLGNBQVIsQ0FBYjtJQUNNRSxJLEdBQVNELE0sQ0FBVEMsSTs7QUFDTixJQUFJQyxPQUFPSCxRQUFRLE1BQVIsQ0FBWDtBQUNBLElBQUlJLFNBQVNKLFFBQVEsY0FBUixDQUFiO0FBQ0EsSUFBSUssS0FBS0wsUUFBUSxZQUFSLENBQVQ7O0FBRUEsSUFBSU0sVUFBVU4sUUFBUSxXQUFSLENBQWQ7QUFDQSxJQUFJTyxnQkFBZ0JQLFFBQVEseUNBQVIsQ0FBcEI7O0FBRUEsSUFBTVEsOERBQU47O0FBRUE7Ozs7Ozs7QUFPQSxJQUFJQyxnQkFBZ0JWLE1BQU1XLFdBQU4sQ0FBa0I7QUFBQTs7QUFDcENDLFVBQVEsQ0FBQ1Ys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L3Zhci93d3cvYXJ0L3NyYyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAZm9ybWF0ICovXG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpXG52YXIgUm91dGVyID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcbnZhciB7IExpbmsgfSA9IFJvdXRlclxudmFyIHJlc3QgPSByZXF1aXJlKCdyZXN0JylcbnZhciBIZWxtZXQgPSByZXF1aXJlKCdyZWFjdC1oZWxtZXQnKVxudmFyIGN4ID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpXG5cbnZhciBBcnR3b3JrID0gcmVxdWlyZSgnLi9hcnR3b3JrJylcbnZhciB0cmFuc2Zvcm1EYXRhID0gcmVxdWlyZSgnLi9hcnR3b3JrL3BzZXVkby1hcnR3b3JrLWRhdGEtdHJhbnNmb3JtJylcblxuY29uc3QgU0FOREJPWF9BUEkgPSBgaHR0cHM6Ly9uZXcuYXJ0c21pYS5vcmcvd3AtanNvbi93cC92Mi9zYW5kYm94L2BcblxuLyoqXG4gKiBUaGlzIHJvdXRlIGJyaW5ncyBpbiBub24tVE1TIGFydHdvcmsgZGF0YSwgYW5kIHByZXNlbnRzIGl0IGFzIHNpbWlsYXJseSBhc1xuICogcG9zc2libGUgdG8gYSByZWd1bGFyIFRNUyBhcnR3b3JrLlxuICpcbiAqIEFwcGxpY2F0aW9uczogXCJJbnNwaXJlZCBCeSBNaWFcIiwgXCJGb290IGluIHRoZSBEb29yXCIsIOKApj8/P1xuICogTG9uZyB0ZXJtIHdlIGNvdWxkIHByZXNlbnQgd29ya3MgZnJvbSBvdGhlciBtdXNldW1z4oCmXG4gKi9cbnZhciBQc2V1ZG9BcnR3b3JrID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBtaXhpbnM6IFtSb3V0ZXIuU3RhdGVdLFxuICBzdGF0aWNzOiB7XG4gICAgZmV0Y2hEYXRhOiB7XG4gICAgICBvcmlnaW5hbERhdGE6IChwYXJhbXMsIGV4aXN0aW5nRGF0YSkgPT4ge1xuICAgICAgICB2YXIgZGF0YVVSSSA9IGAke1NBTkRCT1hfQVBJfSR7cGFyYW1zLmlkfWBcbiAgICAgICAgaWYgKGV4aXN0aW5nRGF0YSAmJiBleGlzdGluZ0RhdGEuaWQgJiYgZXhpc3RpbmdEYXRhLmlkID09IHBhcmFtcy5pZClcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGV4aXN0aW5nRGF0YSlcblxuICAgICAgICByZXR1cm4gcmVzdChkYXRhVVJJKS50aGVuKHIgPT4gSlNPTi5wYXJzZShyLmVudGl0eSkpXG4gICAgICB9LFxuICAgICAgYXJ0d29yazogKHBhcmFtcywgZXhpc3RpbmdBcnQpID0+IHtcbiAgICAgICAgdmFyIGV4aXN0aW5nRGF0YSA9IHdpbmRvdy5fX0RBVEFfXyAmJiB3aW5kb3cuX19EQVRBX18ub3JpZ2luYWxEYXRhXG4gICAgICAgIHZhciBleGlzdGluZ0FydCA9IHdpbmRvdy5fX0RBVEFfXyAmJiB3aW5kb3cuX19EQVRBX18uYXJ0d29ya1xuXG4gICAgICAgIGlmIChleGlzdGluZ0FydCAmJiBleGlzdGluZ0FydC5pZCAmJiBleGlzdGluZ0FydC5pZCA9PT0gcGFyYW1zLmlkKVxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZXhpc3RpbmdBcnQpXG5cbiAgICAgICAgcmV0dXJuIFBzZXVkb0FydHdvcmsuZmV0Y2hEYXRhXG4gICAgICAgICAgLm9yaWdpbmFsRGF0YShwYXJhbXMsIGV4aXN0aW5nRGF0YSlcbiAgICAgICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgICAgIHZhciB0cmFuc2Zvcm1lZCA9IHRyYW5zZm9ybURhdGEoZGF0YSlcbiAgICAgICAgICAgIHdpbmRvdy5fX0RBVEFfXyA9IHsgb3JpZ2luYWxEYXRhOiBkYXRhLCBhcnR3b3JrOiB0cmFuc2Zvcm1lZCB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm1lZFxuICAgICAgICAgIH0pXG4gICAgICB9LFxuICAgIH0sXG5cbiAgICB3aWxsVHJhbnNpdGlvblRvOiBmdW5jdGlvbih0cmFuc2l0aW9uLCBwYXJhbXMsIHF1ZXJ5LCBjYWxsYmFjaykge1xuICAgICAgdmFyIGV4aXN0aW5nQXJ0ID0gd2luZG93Ll9fREFUQV9fICYmIHdpbmRvdy5fX0RBVEFfXy5hcnR3b3JrXG4gICAgICBjb25zb2xlLmluZm8oJ3dUclQnLCB7IHBhcmFtcywgZXhpc3RpbmdBcnQgfSlcblxuICAgICAgcmV0dXJuIFBzZXVkb0FydHdvcmsuZmV0Y2hEYXRhXG4gICAgICAgIC5hcnR3b3JrKHBhcmFtcywgZXhpc3RpbmdBcnQpXG4gICAgICAgIC50aGVuKGFydCA9PiB7XG4gICAgICAgICAgd2luZG93Ll9fREFUQV9fID0geyBhcnR3b3JrOiBhcnQgfVxuICAgICAgICAgIHZhciBzbHVnID0gYXJ0ICYmIGFydC5wc2V1ZG9BcnR3b3JrLnNsdWdcbiAgICAgICAgICBpZiAoc2x1ZyAmJiBwYXJhbXMuc2x1ZyAhPT0gc2x1Zykge1xuICAgICAgICAgICAgcGFyYW1zLnNsdWcgPSBzbHVnXG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ3dUclQgcmVkaXJlY3QnLCB7IHNsdWcsIHBhcmFtcywgYXJ0IH0pXG4gICAgICAgICAgICB0cmFuc2l0aW9uLnJlZGlyZWN0KCdzYW5kYm94QXJ0d29ya1NsdWcnLCBwYXJhbXMpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAudGhlbihjYWxsYmFjaylcbiAgICB9LFxuICB9LFxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBkYXRhLFxuICAgICAgZGF0YTogeyBvcmlnaW5hbERhdGEsIGFydHdvcmsgfSxcbiAgICB9ID0gdGhpcy5wcm9wc1xuXG4gICAgcmV0dXJuIDxBcnR3b3JrIGRhdGE9e2RhdGF9IGlkPXtkYXRhLmFydHdvcmsuaWR9IC8+XG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IFBzZXVkb0FydHdvcmtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "pseudo-artwork.js"
      ],
      "names": [
        "React",
        "require",
        "Router",
        "Link",
        "rest",
        "Helmet",
        "cx",
        "Artwork",
        "transformData",
        "SANDBOX_API",
        "PseudoArtwork",
        "createClass",
        "mixins",
        "State",
        "statics",
        "fetchData",
        "originalData",
        "params",
        "existingData",
        "dataURI",
        "id",
        "Promise",
        "resolve",
        "then",
        "JSON",
        "parse",
        "r",
        "entity",
        "artwork",
        "existingArt",
        "window",
        "__DATA__",
        "transformed",
        "data",
        "willTransitionTo",
        "transition",
        "query",
        "callback",
        "console",
        "info",
        "art",
        "slug",
        "pseudoArtwork",
        "redirect",
        "render",
        "props",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA;AACA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;AACA,IAAIC,SAASD,QAAQ,cAAR,CAAb;IACME,I,GAASD,M,CAATC,I;;AACN,IAAIC,OAAOH,QAAQ,MAAR,CAAX;AACA,IAAII,SAASJ,QAAQ,cAAR,CAAb;AACA,IAAIK,KAAKL,QAAQ,YAAR,CAAT;;AAEA,IAAIM,UAAUN,QAAQ,WAAR,CAAd;AACA,IAAIO,gBAAgBP,QAAQ,yCAAR,CAApB;;AAEA,IAAMQ,8DAAN;;AAEA;;;;;;;AAOA,IAAIC,gBAAgBV,MAAMW,WAAN,CAAkB;AAAA;;AACpCC,UAAQ,CAACV,OAAOW,KAAR,CAD4B;AAEpCC,WAAS;AACPC,eAAW;AACTC,oBAAc,sBAACC,MAAD,EAASC,YAAT,EAA0B;AACtC,YAAIC,eAAaV,WAAb,GAA2BQ,OAAOG,EAAtC;AACA,YAAIF,gBAAgBA,aAAaE,EAA7B,IAAmCF,aAAaE,EAAb,IAAmBH,OAAOG,EAAjE,EACE,OAAOC,QAAQC,OAAR,CAAgBJ,YAAhB,CAAP;;AAEF,eAAOd,KAAKe,OAAL,EAAcI,IAAd,CAAmB;AAAA,iBAAKC,KAAKC,KAAL,CAAWC,EAAEC,MAAb,CAAL;AAAA,SAAnB,CAAP;AACD,OAPQ;AAQTC,eAAS,iBAACX,MAAD,EAASY,WAAT,EAAyB;AAChC,YAAIX,eAAeY,OAAOC,QAAP,IAAmBD,OAAOC,QAAP,CAAgBf,YAAtD;AACA,YAAIa,cAAcC,OAAOC,QAAP,IAAmBD,OAAOC,QAAP,CAAgBH,OAArD;;AAEA,YAAIC,eAAeA,YAAYT,EAA3B,IAAiCS,YAAYT,EAAZ,KAAmBH,OAAOG,EAA/D,EACE,OAAOC,QAAQC,OAAR,CAAgBO,WAAhB,CAAP;;AAEF,eAAOnB,cAAcK,SAAd,CACJC,YADI,CACSC,MADT,EACiBC,YADjB,EAEJK,IAFI,CAEC,gBAAQ;AACZ,cAAIS,cAAcxB,cAAcyB,IAAd,CAAlB;AACAH,iBAAOC,QAAP,GAAkB,EAAEf,cAAciB,IAAhB,EAAsBL,SAASI,WAA/B,EAAlB;;AAEA,iBAAOA,WAAP;AACD,SAPI,CAAP;AAQD;AAvBQ,KADJ;;AA2BPE,sBAAkB,0BAASC,UAAT,EAAqBlB,MAArB,EAA6BmB,KAA7B,EAAoCC,QAApC,EAA8C;AAC9D,UAAIR,cAAcC,OAAOC,QAAP,IAAmBD,OAAOC,QAAP,CAAgBH,OAArD;AACAU,cAAQC,IAAR,CAAa,MAAb,EAAqB,EAAEtB,cAAF,EAAUY,wBAAV,EAArB;;AAEA,aAAOnB,cAAcK,SAAd,CACJa,OADI,CACIX,MADJ,EACYY,WADZ,EAEJN,IAFI,CAEC,eAAO;AACXO,eAAOC,QAAP,GAAkB,EAAEH,SAASY,GAAX,EAAlB;AACA,YAAIC,OAAOD,OAAOA,IAAIE,aAAJ,CAAkBD,IAApC;AACA,YAAIA,QAAQxB,OAAOwB,IAAP,KAAgBA,IAA5B,EAAkC;AAChCxB,iBAAOwB,IAAP,GAAcA,IAAd;AACAH,kBAAQC,IAAR,CAAa,eAAb,EAA8B,EAAEE,UAAF,EAAQxB,cAAR,EAAgBuB,QAAhB,EAA9B;AACAL,qBAAWQ,QAAX,CAAoB,oBAApB,EAA0C1B,MAA1C;AACD;AACF,OAVI,EAWJM,IAXI,CAWCc,QAXD,CAAP;AAYD;AA3CM,GAF2B;;AAgDpCO,QAhDoC,oBAgD3B;AAAA,iBAIH,KAAKC,KAJF;AAAA,QAELZ,IAFK,UAELA,IAFK;AAAA,6BAGLA,IAHK;AAAA,QAGGjB,YAHH,eAGGA,YAHH;AAAA,QAGiBY,OAHjB,eAGiBA,OAHjB;;;AAMP,WAAO,oBAAC,OAAD,IAAS,MAAMK,IAAf,EAAqB,IAAIA,KAAKL,OAAL,CAAaR,EAAtC,GAAP;AACD;AAvDmC,CAAlB,CAApB;;AA0DA0B,OAAOC,OAAP,GAAiBrC,aAAjB",
      "file": "pseudo-artwork.js",
      "sourceRoot": "/var/www/art/src",
      "sourcesContent": [
        "/** @format */\nvar React = require('react')\nvar Router = require('react-router')\nvar { Link } = Router\nvar rest = require('rest')\nvar Helmet = require('react-helmet')\nvar cx = require('classnames')\n\nvar Artwork = require('./artwork')\nvar transformData = require('./artwork/pseudo-artwork-data-transform')\n\nconst SANDBOX_API = `https://new.artsmia.org/wp-json/wp/v2/sandbox/`\n\n/**\n * This route brings in non-TMS artwork data, and presents it as similarly as\n * possible to a regular TMS artwork.\n *\n * Applications: \"Inspired By Mia\", \"Foot in the Door\", …???\n * Long term we could present works from other museums…\n */\nvar PseudoArtwork = React.createClass({\n  mixins: [Router.State],\n  statics: {\n    fetchData: {\n      originalData: (params, existingData) => {\n        var dataURI = `${SANDBOX_API}${params.id}`\n        if (existingData && existingData.id && existingData.id == params.id)\n          return Promise.resolve(existingData)\n\n        return rest(dataURI).then(r => JSON.parse(r.entity))\n      },\n      artwork: (params, existingArt) => {\n        var existingData = window.__DATA__ && window.__DATA__.originalData\n        var existingArt = window.__DATA__ && window.__DATA__.artwork\n\n        if (existingArt && existingArt.id && existingArt.id === params.id)\n          return Promise.resolve(existingArt)\n\n        return PseudoArtwork.fetchData\n          .originalData(params, existingData)\n          .then(data => {\n            var transformed = transformData(data)\n            window.__DATA__ = { originalData: data, artwork: transformed }\n\n            return transformed\n          })\n      },\n    },\n\n    willTransitionTo: function(transition, params, query, callback) {\n      var existingArt = window.__DATA__ && window.__DATA__.artwork\n      console.info('wTrT', { params, existingArt })\n\n      return PseudoArtwork.fetchData\n        .artwork(params, existingArt)\n        .then(art => {\n          window.__DATA__ = { artwork: art }\n          var slug = art && art.pseudoArtwork.slug\n          if (slug && params.slug !== slug) {\n            params.slug = slug\n            console.info('wTrT redirect', { slug, params, art })\n            transition.redirect('sandboxArtworkSlug', params)\n          }\n        })\n        .then(callback)\n    },\n  },\n\n  render() {\n    const {\n      data,\n      data: { originalData, artwork },\n    } = this.props\n\n    return <Artwork data={data} id={data.artwork.id} />\n  },\n})\n\nmodule.exports = PseudoArtwork\n"
      ]
    },
    "mtime": 1612393616752
  },
  "{\"filename\":\"/var/www/art/src/artwork/pseudo-artwork-data-transform.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src/artwork\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/artwork/pseudo-artwork-data-transform.js",
      "filenameRelative": "/var/www/art/src/artwork/pseudo-artwork-data-transform.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "pseudo-artwork-data-transform.js",
      "sourceFileName": "pseudo-artwork-data-transform.js",
      "sourceRoot": "/var/www/art/src/artwork",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src/artwork",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "pseudo-artwork-data-transform"
    },
    "ignored": false,
    "code": "'use strict';\n\n/** @format */\nfunction inspiredByMia(originalData) {\n  console.info(originalData);\n  var id = originalData.id,\n      _originalData$acf = originalData.acf,\n      title = _originalData$acf.artwork_title,\n      medium = _originalData$acf.medium,\n      dateString = originalData.date,\n      content = originalData.content,\n      artist = originalData.title.rendered,\n      image_url = originalData.better_featured_image.source_url;\n\n\n  return {\n    id: id,\n    title: title,\n    medium: medium,\n    classification: 'Inspired By Mia',\n    // dimension: undefined,\n    object_name: 'Inspired By Mia',\n    // continent: null,\n    // country: null,\n    // culture: null,\n    dated: dateString.split('-')[0],\n    room: '(Online Exhibition)',\n    // style: '19th century',\n    // inscription: 'Signature',\n    // signed: 'LR in black: [C. Monet]',\n    // markings: '',\n    text: content.rendered,\n    // description: 'Impressionist. Landscape with coast.',\n    // creditline: 'Gift of Mr. and Mrs. Theodore Bennett',\n    accession_number: 'INSPIRED BY MIA',\n    artist: artist,\n    role: 'Artist',\n    // nationality: 'French',\n    // life_date: 'French, 1840 - 1926',\n    image_copyright: '\\xA9 ' + artist,\n    department: 'Museum Engagement',\n    rights_type: 'In Copyright',\n    image: 'valid',\n    // image_width: 6793,\n    // image_height: 3794,\n    image_url: image_url,\n    restricted: 1,\n    public_access: '1',\n    curator_approved: 0,\n    'related:exhibitions': [{\n      id: 'Inspired By Mia',\n      title: 'Inspired By Mia',\n      description: null,\n      type: 'exhibition', // showcase?\n      date: 'Ongoing'\n    }],\n    pseudoArtwork: originalData\n  };\n}\n\nmodule.exports = inspiredByMia;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBzZXVkby1hcnR3b3JrLWRhdGEtdHJhbnNmb3JtLmpzIl0sIm5hbWVzIjpbImluc3BpcmVkQnlNaWEiLCJvcmlnaW5hbERhdGEiLCJjb25zb2xlIiwiaW5mbyIsImlkIiwiYWNmIiwidGl0bGUiLCJhcnR3b3JrX3RpdGxlIiwibWVkaXVtIiwiZGF0ZVN0cmluZyIsImRhdGUiLCJjb250ZW50IiwiYXJ0aXN0IiwicmVuZGVyZWQiLCJpbWFnZV91cmwiLCJiZXR0ZXJfZmVhdHVyZWRfaW1hZ2UiLCJzb3VyY2VfdXJsIiwiY2xhc3NpZmljYXRpb24iLCJvYmplY3RfbmFtZSIsImRhdGVkIiwic3BsaXQiLCJyb29tIiwidGV4dCIsImFjY2Vzc2lvbl9udW1iZXIiLCJyb2xlIiwiaW1hZ2VfY29weXJpZ2h0IiwiZGVwYXJ0bWVudCIsInJpZ2h0c190eXBlIiwiaW1hZ2UiLCJyZXN0cmljdGVkIiwicHVibGljX2FjY2VzcyIsImN1cmF0b3JfYXBwcm92ZWQiLCJkZXNjcmlwdGlvbiIsInR5cGUiLCJwc2V1ZG9BcnR3b3JrIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBLFNBQVNBLGFBQVQsQ0FBdUJDLFlBQXZCLEVBQXFDO0FBQ25DQyxVQUFRQyxJQUFSLENBQWFGLFlBQWI7QUFEbUMsTUFHakNHLEVBSGlDLEdBUy9CSCxZQVQrQixDQUdqQ0csRUFIaUM7QUFBQSwwQkFTL0JILFlBVCtCLENBSWpDSSxHQUppQztBQUFBLE1BSVhDLEtBSlcscUJBSTFCQyxhQUowQjtBQUFBLE1BSUpDLE1BSkkscUJBSUpBLE1BSkk7QUFBQSxNQUszQkMsVUFMMkIsR0FTL0JSLFlBVCtCLENBS2pDUyxJQUxpQztBQUFBLE1BTWpDQyxPQU5pQyxHQVMvQlYsWUFUK0IsQ0FNakNVLE9BTmlDO0FBQUEsTUFPZEMsTUFQYyxHQVMvQlgsWUFUK0IsQ0FPakNLLEtBUGlDLENBT3hCTyxRQVB3QjtBQUFBLE1BUUlDLFNBUkosR0FTL0JiLFlBVCtCLENBUWpDYyxxQkFSaUMsQ0FRUkMsVUFSUTs7O0FBV25DLFNBQU87QUFDTFosVUFESztBQUVMRSxnQkFGSztBQUdMRSxrQkFISztBQUlMUyxvQkFBZ0IsaUJBSlg7QUFLTDtBQUNBQyxpQkFBYSxpQkFOUjtBQU9MO0FBQ0E7QUFDQTtBQUNBQyxXQUFPVixXQUFXVyxLQUFYLENBQWlCLEdBQWpCLEVBQXNCLENBQXRCLENBVkY7QUFXTEMsVUFBTSxxQkFYRDtBQVlMO0FBQ0E7QUFDQTtBQUNBO0FBQ0FDLFVBQU1YLFFBQVFFLFFBaEJUO0FBaUJMO0FBQ0E7QUFDQVUsc0JBQWtCLGlCQW5CYjtBQW9CTFgsWUFBUUEsTUFwQkg7QUFxQkxZLFVBQU0sUUFyQkQ7QUFzQkw7QUFDQTtBQUNBQywrQkFBc0JiLE1BeEJqQjtBQXlCTGMsZ0JBQVksbUJBekJQO0FBMEJMQyxpQkFBYSxjQTFCUjtBQTJCTEMsV0FBTyxPQTNCRjtBQTRCTDtBQUNBO0FBQ0FkLGVBQVdBLFNBOUJOO0FBK0JMZSxnQkFBWSxDQS9CUDtBQWdDTEMsbUJBQWUsR0FoQ1Y7QUFpQ0xDLHNCQUFrQixDQWpDYjtBQWtDTCwyQkFBdUIsQ0FDckI7QUFDRTNCLFVBQUksaUJBRE47QUFFRUUsYUFBTyxpQkFGVDtBQUdFMEIsbUJBQWEsSUFIZjtBQUlFQyxZQUFNLFlBSlIsRUFJc0I7QUFDcEJ2QixZQUFNO0FBTFIsS0FEcUIsQ0FsQ2xCO0FBMkNMd0IsbUJBQWVqQztBQTNDVixHQUFQO0FBNkNEOztBQUVEa0MsT0FBT0MsT0FBUCxHQUFpQnBDLGFBQWpCIiwiZmlsZSI6InBzZXVkby1hcnR3b3JrLWRhdGEtdHJhbnNmb3JtLmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMvYXJ0d29yayIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAZm9ybWF0ICovXG5mdW5jdGlvbiBpbnNwaXJlZEJ5TWlhKG9yaWdpbmFsRGF0YSkge1xuICBjb25zb2xlLmluZm8ob3JpZ2luYWxEYXRhKVxuICBjb25zdCB7XG4gICAgaWQsXG4gICAgYWNmOiB7IGFydHdvcmtfdGl0bGU6IHRpdGxlLCBtZWRpdW0gfSxcbiAgICBkYXRlOiBkYXRlU3RyaW5nLFxuICAgIGNvbnRlbnQsXG4gICAgdGl0bGU6IHsgcmVuZGVyZWQ6IGFydGlzdCB9LFxuICAgIGJldHRlcl9mZWF0dXJlZF9pbWFnZTogeyBzb3VyY2VfdXJsOiBpbWFnZV91cmwgfSxcbiAgfSA9IG9yaWdpbmFsRGF0YVxuXG4gIHJldHVybiB7XG4gICAgaWQsXG4gICAgdGl0bGUsXG4gICAgbWVkaXVtLFxuICAgIGNsYXNzaWZpY2F0aW9uOiAnSW5zcGlyZWQgQnkgTWlhJyxcbiAgICAvLyBkaW1lbnNpb246IHVuZGVmaW5lZCxcbiAgICBvYmplY3RfbmFtZTogJ0luc3BpcmVkIEJ5IE1pYScsXG4gICAgLy8gY29udGluZW50OiBudWxsLFxuICAgIC8vIGNvdW50cnk6IG51bGwsXG4gICAgLy8gY3VsdHVyZTogbnVsbCxcbiAgICBkYXRlZDogZGF0ZVN0cmluZy5zcGxpdCgnLScpWzBdLFxuICAgIHJvb206ICcoT25saW5lIEV4aGliaXRpb24pJyxcbiAgICAvLyBzdHlsZTogJzE5dGggY2VudHVyeScsXG4gICAgLy8gaW5zY3JpcHRpb246ICdTaWduYXR1cmUnLFxuICAgIC8vIHNpZ25lZDogJ0xSIGluIGJsYWNrOiBbQy4gTW9uZXRdJyxcbiAgICAvLyBtYXJraW5nczogJycsXG4gICAgdGV4dDogY29udGVudC5yZW5kZXJlZCxcbiAgICAvLyBkZXNjcmlwdGlvbjogJ0ltcHJlc3Npb25pc3QuIExhbmRzY2FwZSB3aXRoIGNvYXN0LicsXG4gICAgLy8gY3JlZGl0bGluZTogJ0dpZnQgb2YgTXIuIGFuZCBNcnMuIFRoZW9kb3JlIEJlbm5ldHQnLFxuICAgIGFjY2Vzc2lvbl9udW1iZXI6ICdJTlNQSVJFRCBCWSBNSUEnLFxuICAgIGFydGlzdDogYXJ0aXN0LFxuICAgIHJvbGU6ICdBcnRpc3QnLFxuICAgIC8vIG5hdGlvbmFsaXR5OiAnRnJlbmNoJyxcbiAgICAvLyBsaWZlX2RhdGU6ICdGcmVuY2gsIDE4NDAgLSAxOTI2JyxcbiAgICBpbWFnZV9jb3B5cmlnaHQ6IGDCqSAke2FydGlzdH1gLFxuICAgIGRlcGFydG1lbnQ6ICdNdXNldW0gRW5nYWdlbWVudCcsXG4gICAgcmlnaHRzX3R5cGU6ICdJbiBDb3B5cmlnaHQnLFxuICAgIGltYWdlOiAndmFsaWQnLFxuICAgIC8vIGltYWdlX3dpZHRoOiA2NzkzLFxuICAgIC8vIGltYWdlX2hlaWdodDogMzc5NCxcbiAgICBpbWFnZV91cmw6IGltYWdlX3VybCxcbiAgICByZXN0cmljdGVkOiAxLFxuICAgIHB1YmxpY19hY2Nlc3M6ICcxJyxcbiAgICBjdXJhdG9yX2FwcHJvdmVkOiAwLFxuICAgICdyZWxhdGVkOmV4aGliaXRpb25zJzogW1xuICAgICAge1xuICAgICAgICBpZDogJ0luc3BpcmVkIEJ5IE1pYScsXG4gICAgICAgIHRpdGxlOiAnSW5zcGlyZWQgQnkgTWlhJyxcbiAgICAgICAgZGVzY3JpcHRpb246IG51bGwsXG4gICAgICAgIHR5cGU6ICdleGhpYml0aW9uJywgLy8gc2hvd2Nhc2U/XG4gICAgICAgIGRhdGU6ICdPbmdvaW5nJyxcbiAgICAgIH0sXG4gICAgXSxcbiAgICBwc2V1ZG9BcnR3b3JrOiBvcmlnaW5hbERhdGEsXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNwaXJlZEJ5TWlhXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "pseudo-artwork-data-transform.js"
      ],
      "names": [
        "inspiredByMia",
        "originalData",
        "console",
        "info",
        "id",
        "acf",
        "title",
        "artwork_title",
        "medium",
        "dateString",
        "date",
        "content",
        "artist",
        "rendered",
        "image_url",
        "better_featured_image",
        "source_url",
        "classification",
        "object_name",
        "dated",
        "split",
        "room",
        "text",
        "accession_number",
        "role",
        "image_copyright",
        "department",
        "rights_type",
        "image",
        "restricted",
        "public_access",
        "curator_approved",
        "description",
        "type",
        "pseudoArtwork",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA;AACA,SAASA,aAAT,CAAuBC,YAAvB,EAAqC;AACnCC,UAAQC,IAAR,CAAaF,YAAb;AADmC,MAGjCG,EAHiC,GAS/BH,YAT+B,CAGjCG,EAHiC;AAAA,0BAS/BH,YAT+B,CAIjCI,GAJiC;AAAA,MAIXC,KAJW,qBAI1BC,aAJ0B;AAAA,MAIJC,MAJI,qBAIJA,MAJI;AAAA,MAK3BC,UAL2B,GAS/BR,YAT+B,CAKjCS,IALiC;AAAA,MAMjCC,OANiC,GAS/BV,YAT+B,CAMjCU,OANiC;AAAA,MAOdC,MAPc,GAS/BX,YAT+B,CAOjCK,KAPiC,CAOxBO,QAPwB;AAAA,MAQIC,SARJ,GAS/Bb,YAT+B,CAQjCc,qBARiC,CAQRC,UARQ;;;AAWnC,SAAO;AACLZ,UADK;AAELE,gBAFK;AAGLE,kBAHK;AAILS,oBAAgB,iBAJX;AAKL;AACAC,iBAAa,iBANR;AAOL;AACA;AACA;AACAC,WAAOV,WAAWW,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CAVF;AAWLC,UAAM,qBAXD;AAYL;AACA;AACA;AACA;AACAC,UAAMX,QAAQE,QAhBT;AAiBL;AACA;AACAU,sBAAkB,iBAnBb;AAoBLX,YAAQA,MApBH;AAqBLY,UAAM,QArBD;AAsBL;AACA;AACAC,+BAAsBb,MAxBjB;AAyBLc,gBAAY,mBAzBP;AA0BLC,iBAAa,cA1BR;AA2BLC,WAAO,OA3BF;AA4BL;AACA;AACAd,eAAWA,SA9BN;AA+BLe,gBAAY,CA/BP;AAgCLC,mBAAe,GAhCV;AAiCLC,sBAAkB,CAjCb;AAkCL,2BAAuB,CACrB;AACE3B,UAAI,iBADN;AAEEE,aAAO,iBAFT;AAGE0B,mBAAa,IAHf;AAIEC,YAAM,YAJR,EAIsB;AACpBvB,YAAM;AALR,KADqB,CAlClB;AA2CLwB,mBAAejC;AA3CV,GAAP;AA6CD;;AAEDkC,OAAOC,OAAP,GAAiBpC,aAAjB",
      "file": "pseudo-artwork-data-transform.js",
      "sourceRoot": "/var/www/art/src/artwork",
      "sourcesContent": [
        "/** @format */\nfunction inspiredByMia(originalData) {\n  console.info(originalData)\n  const {\n    id,\n    acf: { artwork_title: title, medium },\n    date: dateString,\n    content,\n    title: { rendered: artist },\n    better_featured_image: { source_url: image_url },\n  } = originalData\n\n  return {\n    id,\n    title,\n    medium,\n    classification: 'Inspired By Mia',\n    // dimension: undefined,\n    object_name: 'Inspired By Mia',\n    // continent: null,\n    // country: null,\n    // culture: null,\n    dated: dateString.split('-')[0],\n    room: '(Online Exhibition)',\n    // style: '19th century',\n    // inscription: 'Signature',\n    // signed: 'LR in black: [C. Monet]',\n    // markings: '',\n    text: content.rendered,\n    // description: 'Impressionist. Landscape with coast.',\n    // creditline: 'Gift of Mr. and Mrs. Theodore Bennett',\n    accession_number: 'INSPIRED BY MIA',\n    artist: artist,\n    role: 'Artist',\n    // nationality: 'French',\n    // life_date: 'French, 1840 - 1926',\n    image_copyright: `© ${artist}`,\n    department: 'Museum Engagement',\n    rights_type: 'In Copyright',\n    image: 'valid',\n    // image_width: 6793,\n    // image_height: 3794,\n    image_url: image_url,\n    restricted: 1,\n    public_access: '1',\n    curator_approved: 0,\n    'related:exhibitions': [\n      {\n        id: 'Inspired By Mia',\n        title: 'Inspired By Mia',\n        description: null,\n        type: 'exhibition', // showcase?\n        date: 'Ongoing',\n      },\n    ],\n    pseudoArtwork: originalData,\n  }\n}\n\nmodule.exports = inspiredByMia\n"
      ]
    },
    "mtime": 1612393616748
  },
  "{\"filename\":\"/var/www/art/src/decorate/info.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src/decorate\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/decorate/info.js",
      "filenameRelative": "/var/www/art/src/decorate/info.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "info.js",
      "sourceFileName": "info.js",
      "sourceRoot": "/var/www/art/src/decorate",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src/decorate",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "info"
    },
    "ignored": false,
    "code": "'use strict';\n\n/** @format */\nvar React = require('react');\n\nvar InfoDecorator = React.createClass({\n  displayName: 'InfoDecorator',\n  render: function render() {\n    return React.createElement(\n      'div',\n      { style: { color: 'white' } },\n      React.createElement(\n        'a',\n        { href: 'https://new.artsmia.org/black-history-month/' },\n        'Watch, view, and read about Black art and artists at Mia'\n      ),\n      '.'\n    );\n  }\n});\n\nmodule.exports = InfoDecorator;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZm8uanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiSW5mb0RlY29yYXRvciIsImNyZWF0ZUNsYXNzIiwicmVuZGVyIiwiY29sb3IiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0EsSUFBSUEsUUFBUUMsUUFBUSxPQUFSLENBQVo7O0FBRUEsSUFBSUMsZ0JBQWdCRixNQUFNRyxXQUFOLENBQWtCO0FBQUE7QUFDcENDLFFBRG9DLG9CQUMzQjtBQUNQLFdBQ0U7QUFBQTtBQUFBLFFBQUssT0FBTyxFQUFFQyxPQUFPLE9BQVQsRUFBWjtBQUNFO0FBQUE7QUFBQSxVQUFHLE1BQUssOENBQVI7QUFBQTtBQUFBLE9BREY7QUFBQTtBQUFBLEtBREY7QUFLRDtBQVBtQyxDQUFsQixDQUFwQjs7QUFVQUMsT0FBT0MsT0FBUCxHQUFpQkwsYUFBakIiLCJmaWxlIjoiaW5mby5qcyIsInNvdXJjZVJvb3QiOiIvdmFyL3d3dy9hcnQvc3JjL2RlY29yYXRlIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBmb3JtYXQgKi9cbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0JylcblxudmFyIEluZm9EZWNvcmF0b3IgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogJ3doaXRlJyB9fT5cbiAgICAgICAgPGEgaHJlZj1cImh0dHBzOi8vbmV3LmFydHNtaWEub3JnL2JsYWNrLWhpc3RvcnktbW9udGgvXCI+V2F0Y2gsIHZpZXcsIGFuZCByZWFkIGFib3V0IEJsYWNrIGFydCBhbmQgYXJ0aXN0cyBhdCBNaWE8L2E+LlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBJbmZvRGVjb3JhdG9yXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "info.js"
      ],
      "names": [
        "React",
        "require",
        "InfoDecorator",
        "createClass",
        "render",
        "color",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA;AACA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;;AAEA,IAAIC,gBAAgBF,MAAMG,WAAN,CAAkB;AAAA;AACpCC,QADoC,oBAC3B;AACP,WACE;AAAA;AAAA,QAAK,OAAO,EAAEC,OAAO,OAAT,EAAZ;AACE;AAAA;AAAA,UAAG,MAAK,8CAAR;AAAA;AAAA,OADF;AAAA;AAAA,KADF;AAKD;AAPmC,CAAlB,CAApB;;AAUAC,OAAOC,OAAP,GAAiBL,aAAjB",
      "file": "info.js",
      "sourceRoot": "/var/www/art/src/decorate",
      "sourcesContent": [
        "/** @format */\nvar React = require('react')\n\nvar InfoDecorator = React.createClass({\n  render() {\n    return (\n      <div style={{ color: 'white' }}>\n        <a href=\"https://new.artsmia.org/black-history-month/\">Watch, view, and read about Black art and artists at Mia</a>.\n      </div>\n    )\n  },\n})\n\nmodule.exports = InfoDecorator\n"
      ]
    },
    "mtime": 1612393616748
  },
  "{\"filename\":\"/var/www/art/src/decorate/pseudo-artwork.js\",\"env\":{\"development\":{\"plugins\":[]}},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/var/www/art/src/decorate\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/var/www/art/src/decorate/pseudo-artwork.js",
      "filenameRelative": "/var/www/art/src/decorate/pseudo-artwork.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "pseudo-artwork.js",
      "sourceFileName": "pseudo-artwork.js",
      "sourceRoot": "/var/www/art/src/decorate",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/var/www/art/src/decorate",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "pseudo-artwork"
    },
    "ignored": false,
    "code": "'use strict';\n\n/** @format */\nvar React = require('react');\n\nvar _require = require('react-router'),\n    Link = _require.Link;\n\nvar InspiredByMiaDecorator = React.createClass({\n  displayName: 'InspiredByMiaDecorator',\n\n  // displayName: 'Artwork Group',\n  render: function render() {\n    // TODO dedupe logic for 'lifting' artworks with Audio decorator\n    var term = this.props.term[0];\n    var hits = this.props.hits;\n    var isInspiredByMia = this.props.isInspiredByMia;\n\n\n    var hitsWithInspired = hits && hits.filter(function (hit) {\n      return hit._source['related:inspiredByMia'];\n    });\n\n    var showHitsWithInspired = !isInspiredByMia && hitsWithInspired && hitsWithInspired.length < 51;\n\n    // END TODO\n\n    return React.createElement(\n      'div',\n      { style: { color: 'white', maxWidth: '100%' } },\n      React.createElement(\n        'h3',\n        { style: { display: 'inline', lineHeight: '24px' } },\n        'Inspired By Mia'\n      ),\n      React.createElement(\n        'p',\n        { style: { display: 'inline' } },\n        ': The artworks in this list are not part of Mia\\'s collection, but were inspired by it. Our collection is here for you in person and online. An art museum has walls, but inspiration is limitless.',\n        ' ',\n        !showHitsWithInspired || React.createElement(\n          Link,\n          {\n            to: 'filteredSearchResults',\n            params: { terms: '*', splat: '_exists_:\"related:inspiredByMia\"' },\n            query: { embed: 1 }\n          },\n          'See all \\u2192'\n        )\n      ),\n      showHitsWithInspired ? React.createElement(\n        'div',\n        { style: { overflow: 'scroll' } },\n        React.createElement(InspiredArtworkScroll, { hits: hitsWithInspired })\n      ) : React.createElement(\n        'p',\n        null,\n        'How does Mia inspire you? Show us! Our collection is here for you in person and online.',\n        ' ',\n        React.createElement(\n          'a',\n          { href: 'https://new.artsmia.org/art-artists/inspired-by-mia' },\n          '#InspiredByMia'\n        ),\n        '.'\n      )\n    );\n  }\n});\n\nmodule.exports = InspiredByMiaDecorator;\n\nvar InspiredArtworkScroll = React.createClass({\n  displayName: 'InspiredArtworkScroll',\n  render: function render() {\n    var hits = this.props.hits;\n\n    var inspireds = hits.map(function (_ref) {\n      var s = _ref._source;\n\n      return s['related:inspiredByMia'];\n    }).flat();\n\n    return React.createElement(\n      'div',\n      null,\n      hits ? React.createElement(\n        'div',\n        {\n          style: {\n            display: 'flex',\n            flexDirection: 'row',\n            marginTop: '1em'\n          }\n        },\n        inspireds.map(function (hit) {\n          return React.createElement(\n            Link,\n            {\n              to: 'sandboxArtwork',\n              params: { id: hit.wpid },\n              style: {\n                display: 'inline-block',\n                width: '9em',\n                margin: '0 0 0 1em'\n              }\n            },\n            React.createElement('img', { src: hit.image, style: { maxWidth: '7em' } }),\n            React.createElement('br', null),\n            React.createElement(\n              'strong',\n              null,\n              hit.title\n            ),\n            React.createElement(\n              'p',\n              null,\n              hit.artist\n            )\n          );\n        })\n      ) : 'no hits'\n    );\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBzZXVkby1hcnR3b3JrLmpzIl0sIm5hbWVzIjpbIlJlYWN0IiwicmVxdWlyZSIsIkxpbmsiLCJJbnNwaXJlZEJ5TWlhRGVjb3JhdG9yIiwiY3JlYXRlQ2xhc3MiLCJyZW5kZXIiLCJ0ZXJtIiwicHJvcHMiLCJoaXRzIiwiaXNJbnNwaXJlZEJ5TWlhIiwiaGl0c1dpdGhJbnNwaXJlZCIsImZpbHRlciIsImhpdCIsIl9zb3VyY2UiLCJzaG93SGl0c1dpdGhJbnNwaXJlZCIsImxlbmd0aCIsImNvbG9yIiwibWF4V2lkdGgiLCJkaXNwbGF5IiwibGluZUhlaWdodCIsInRlcm1zIiwic3BsYXQiLCJlbWJlZCIsIm92ZXJmbG93IiwibW9kdWxlIiwiZXhwb3J0cyIsIkluc3BpcmVkQXJ0d29ya1Njcm9sbCIsImluc3BpcmVkcyIsIm1hcCIsInMiLCJmbGF0IiwiZmxleERpcmVjdGlvbiIsIm1hcmdpblRvcCIsImlkIiwid3BpZCIsIndpZHRoIiwibWFyZ2luIiwiaW1hZ2UiLCJ0aXRsZSIsImFydGlzdCJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBLElBQUlBLFFBQVFDLFFBQVEsT0FBUixDQUFaOztlQUNlQSxRQUFRLGNBQVIsQztJQUFUQyxJLFlBQUFBLEk7O0FBRU4sSUFBSUMseUJBQXlCSCxNQUFNSSxXQUFOLENBQWtCO0FBQUE7O0FBQzdDO0FBQ0FDLFFBRjZDLG9CQUVwQztBQUNQO0FBQ0EsUUFBTUMsT0FBTyxLQUFLQyxLQUFMLENBQVdELElBQVgsQ0FBZ0IsQ0FBaEIsQ0FBYjtBQUNBLFFBQU1FLE9BQU8sS0FBS0QsS0FBTCxDQUFXQyxJQUF4QjtBQUhPLFFBSUFDLGVBSkEsR0FJbUIsS0FBS0YsS0FKeEIsQ0FJQUUsZUFKQTs7O0FBTVAsUUFBTUMsbUJBQ0pGLFFBQVFBLEtBQUtHLE1BQUwsQ0FBWSxVQUFDQyxHQUFEO0FBQUEsYUFBU0EsSUFBSUMsT0FBSixDQUFZLHVCQUFaLENBQVQ7QUFBQSxLQUFaLENBRFY7O0FBR0EsUUFBTUMsdUJBQXVCLENBQUNMLGVBQUQsSUFDM0JDLGdCQUQyQixJQUNQQSxpQkFBaUJLLE1BQWpCLEdBQTBCLEVBRGhEOztBQUdBOztBQUVBLFdBQ0U7QUFBQTtBQUFBLFFBQUssT0FBTyxFQUFFQyxPQUFPLE9BQVQsRUFBa0JDLFVBQVUsTUFBNUIsRUFBWjtBQUNFO0FBQUE7QUFBQSxVQUFJLE9BQU8sRUFBRUMsU0FBUyxRQUFYLEVBQXFCQyxZQUFZLE1BQWpDLEVBQVg7QUFBQTtBQUFBLE9BREY7QUFJRTtBQUFBO0FBQUEsVUFBRyxPQUFPLEVBQUVELFNBQVMsUUFBWCxFQUFWO0FBQUE7QUFHeUQsV0FIekQ7QUFJRyxTQUFDSixvQkFBRCxJQUNDO0FBQUMsY0FBRDtBQUFBO0FBQ0UsZ0JBQUcsdUJBREw7QUFFRSxvQkFBUSxFQUFFTSxPQUFPLEdBQVQsRUFBY0MseUNBQWQsRUFGVjtBQUdFLG1CQUFPLEVBQUNDLE9BQU8sQ0FBUjtBQUhUO0FBQUE7QUFBQTtBQUxKLE9BSkY7QUFrQkdSLDZCQUNDO0FBQUE7QUFBQSxVQUFLLE9BQU8sRUFBRVMsVUFBVSxRQUFaLEVBQVo7QUFDRSw0QkFBQyxxQkFBRCxJQUF1QixNQUFNYixnQkFBN0I7QUFERixPQURELEdBS0M7QUFBQTtBQUFBO0FBQUE7QUFFcUIsV0FGckI7QUFHRTtBQUFBO0FBQUEsWUFBRyxNQUFLLHFEQUFSO0FBQUE7QUFBQSxTQUhGO0FBQUE7QUFBQTtBQXZCSixLQURGO0FBbUNEO0FBbkQ0QyxDQUFsQixDQUE3Qjs7QUFzREFjLE9BQU9DLE9BQVAsR0FBaUJ0QixzQkFBakI7O0FBRUEsSUFBSXVCLHdCQUF3QjFCLE1BQU1JLFdBQU4sQ0FBa0I7QUFBQTtBQUM1Q0MsUUFENEMsb0JBQ25DO0FBQUEsUUFDQ0csSUFERCxHQUNVLEtBQUtELEtBRGYsQ0FDQ0MsSUFERDs7QUFFUCxRQUFNbUIsWUFBWW5CLEtBQ2ZvQixHQURlLENBQ1gsZ0JBQW9CO0FBQUEsVUFBUkMsQ0FBUSxRQUFqQmhCLE9BQWlCOztBQUN2QixhQUFPZ0IsRUFBRSx1QkFBRixDQUFQO0FBQ0QsS0FIZSxFQUlmQyxJQUplLEVBQWxCOztBQU1BLFdBQ0U7QUFBQTtBQUFBO0FBQ0d0QixhQUNDO0FBQUE7QUFBQTtBQUNFLGlCQUFPO0FBQ0xVLHFCQUFTLE1BREo7QUFFTGEsMkJBQWUsS0FGVjtBQUdMQyx1QkFBVztBQUhOO0FBRFQ7QUFPR0wsa0JBQVVDLEdBQVYsQ0FBYyxVQUFDaEIsR0FBRCxFQUFTO0FBQ3RCLGlCQUNFO0FBQUMsZ0JBQUQ7QUFBQTtBQUNFLGtCQUFHLGdCQURMO0FBRUUsc0JBQVEsRUFBRXFCLElBQUlyQixJQUFJc0IsSUFBVixFQUZWO0FBR0UscUJBQU87QUFDTGhCLHlCQUFTLGNBREo7QUFFTGlCLHVCQUFPLEtBRkY7QUFHTEMsd0JBQVE7QUFISDtBQUhUO0FBU0UseUNBQUssS0FBS3hCLElBQUl5QixLQUFkLEVBQXFCLE9BQU8sRUFBRXBCLFVBQVUsS0FBWixFQUE1QixHQVRGO0FBVUUsMkNBVkY7QUFXRTtBQUFBO0FBQUE7QUFBU0wsa0JBQUkwQjtBQUFiLGFBWEY7QUFZRTtBQUFBO0FBQUE7QUFBSTFCLGtCQUFJMkI7QUFBUjtBQVpGLFdBREY7QUFnQkQsU0FqQkE7QUFQSCxPQURELEdBNEJDO0FBN0JKLEtBREY7QUFrQ0Q7QUEzQzJDLENBQWxCLENBQTVCIiwiZmlsZSI6InBzZXVkby1hcnR3b3JrLmpzIiwic291cmNlUm9vdCI6Ii92YXIvd3d3L2FydC9zcmMvZGVjb3JhdGUiLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGZvcm1hdCAqL1xudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKVxudmFyIHsgTGluayB9ID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyJylcblxudmFyIEluc3BpcmVkQnlNaWFEZWNvcmF0b3IgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIC8vIGRpc3BsYXlOYW1lOiAnQXJ0d29yayBHcm91cCcsXG4gIHJlbmRlcigpIHtcbiAgICAvLyBUT0RPIGRlZHVwZSBsb2dpYyBmb3IgJ2xpZnRpbmcnIGFydHdvcmtzIHdpdGggQXVkaW8gZGVjb3JhdG9yXG4gICAgY29uc3QgdGVybSA9IHRoaXMucHJvcHMudGVybVswXVxuICAgIGNvbnN0IGhpdHMgPSB0aGlzLnByb3BzLmhpdHNcbiAgICBjb25zdCB7aXNJbnNwaXJlZEJ5TWlhfSA9IHRoaXMucHJvcHNcblxuICAgIGNvbnN0IGhpdHNXaXRoSW5zcGlyZWQgPVxuICAgICAgaGl0cyAmJiBoaXRzLmZpbHRlcigoaGl0KSA9PiBoaXQuX3NvdXJjZVsncmVsYXRlZDppbnNwaXJlZEJ5TWlhJ10pXG5cbiAgICBjb25zdCBzaG93SGl0c1dpdGhJbnNwaXJlZCA9ICFpc0luc3BpcmVkQnlNaWEgJiZcbiAgICAgIGhpdHNXaXRoSW5zcGlyZWQgJiYgaGl0c1dpdGhJbnNwaXJlZC5sZW5ndGggPCA1MVxuXG4gICAgLy8gRU5EIFRPRE9cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiAnd2hpdGUnLCBtYXhXaWR0aDogJzEwMCUnIH19PlxuICAgICAgICA8aDMgc3R5bGU9e3sgZGlzcGxheTogJ2lubGluZScsIGxpbmVIZWlnaHQ6ICcyNHB4JyB9fT5cbiAgICAgICAgICBJbnNwaXJlZCBCeSBNaWFcbiAgICAgICAgPC9oMz5cbiAgICAgICAgPHAgc3R5bGU9e3sgZGlzcGxheTogJ2lubGluZScgfX0+XG4gICAgICAgICAgOiBUaGUgYXJ0d29ya3MgaW4gdGhpcyBsaXN0IGFyZSBub3QgcGFydCBvZiBNaWEncyBjb2xsZWN0aW9uLCBidXQgd2VyZVxuICAgICAgICAgIGluc3BpcmVkIGJ5IGl0LiBPdXIgY29sbGVjdGlvbiBpcyBoZXJlIGZvciB5b3UgaW4gcGVyc29uIGFuZCBvbmxpbmUuXG4gICAgICAgICAgQW4gYXJ0IG11c2V1bSBoYXMgd2FsbHMsIGJ1dCBpbnNwaXJhdGlvbiBpcyBsaW1pdGxlc3MueycgJ31cbiAgICAgICAgICB7IXNob3dIaXRzV2l0aEluc3BpcmVkIHx8IChcbiAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgIHRvPVwiZmlsdGVyZWRTZWFyY2hSZXN1bHRzXCJcbiAgICAgICAgICAgICAgcGFyYW1zPXt7IHRlcm1zOiAnKicsIHNwbGF0OiBgX2V4aXN0c186XCJyZWxhdGVkOmluc3BpcmVkQnlNaWFcImAgfX1cbiAgICAgICAgICAgICAgcXVlcnk9e3tlbWJlZDogMX19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIFNlZSBhbGwgJnJhcnI7XG4gICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9wPlxuICAgICAgICB7c2hvd0hpdHNXaXRoSW5zcGlyZWQgPyAoXG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBvdmVyZmxvdzogJ3Njcm9sbCcgfX0+XG4gICAgICAgICAgICA8SW5zcGlyZWRBcnR3b3JrU2Nyb2xsIGhpdHM9e2hpdHNXaXRoSW5zcGlyZWR9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPHA+XG4gICAgICAgICAgICBIb3cgZG9lcyBNaWEgaW5zcGlyZSB5b3U/IFNob3cgdXMhIE91ciBjb2xsZWN0aW9uIGlzIGhlcmUgZm9yIHlvdSBpblxuICAgICAgICAgICAgcGVyc29uIGFuZCBvbmxpbmUueycgJ31cbiAgICAgICAgICAgIDxhIGhyZWY9XCJodHRwczovL25ldy5hcnRzbWlhLm9yZy9hcnQtYXJ0aXN0cy9pbnNwaXJlZC1ieS1taWFcIj5cbiAgICAgICAgICAgICAgI0luc3BpcmVkQnlNaWFcbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIC5cbiAgICAgICAgICA8L3A+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH0sXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IEluc3BpcmVkQnlNaWFEZWNvcmF0b3JcblxudmFyIEluc3BpcmVkQXJ0d29ya1Njcm9sbCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgaGl0cyB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IGluc3BpcmVkcyA9IGhpdHNcbiAgICAgIC5tYXAoKHsgX3NvdXJjZTogcyB9KSA9PiB7XG4gICAgICAgIHJldHVybiBzWydyZWxhdGVkOmluc3BpcmVkQnlNaWEnXVxuICAgICAgfSlcbiAgICAgIC5mbGF0KClcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICB7aGl0cyA/IChcbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICAgICAgICAgICAgICBtYXJnaW5Ub3A6ICcxZW0nLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7aW5zcGlyZWRzLm1hcCgoaGl0KSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICAgIHRvPVwic2FuZGJveEFydHdvcmtcIlxuICAgICAgICAgICAgICAgICAgcGFyYW1zPXt7IGlkOiBoaXQud3BpZCB9fVxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnOWVtJyxcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAnMCAwIDAgMWVtJyxcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGltZyBzcmM9e2hpdC5pbWFnZX0gc3R5bGU9e3sgbWF4V2lkdGg6ICc3ZW0nIH19IC8+XG4gICAgICAgICAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICAgICAgICAgIDxzdHJvbmc+e2hpdC50aXRsZX08L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgIDxwPntoaXQuYXJ0aXN0fTwvcD5cbiAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApIDogKFxuICAgICAgICAgICdubyBoaXRzJ1xuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9LFxufSlcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "pseudo-artwork.js"
      ],
      "names": [
        "React",
        "require",
        "Link",
        "InspiredByMiaDecorator",
        "createClass",
        "render",
        "term",
        "props",
        "hits",
        "isInspiredByMia",
        "hitsWithInspired",
        "filter",
        "hit",
        "_source",
        "showHitsWithInspired",
        "length",
        "color",
        "maxWidth",
        "display",
        "lineHeight",
        "terms",
        "splat",
        "embed",
        "overflow",
        "module",
        "exports",
        "InspiredArtworkScroll",
        "inspireds",
        "map",
        "s",
        "flat",
        "flexDirection",
        "marginTop",
        "id",
        "wpid",
        "width",
        "margin",
        "image",
        "title",
        "artist"
      ],
      "mappings": ";;AAAA;AACA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;;eACeA,QAAQ,cAAR,C;IAATC,I,YAAAA,I;;AAEN,IAAIC,yBAAyBH,MAAMI,WAAN,CAAkB;AAAA;;AAC7C;AACAC,QAF6C,oBAEpC;AACP;AACA,QAAMC,OAAO,KAAKC,KAAL,CAAWD,IAAX,CAAgB,CAAhB,CAAb;AACA,QAAME,OAAO,KAAKD,KAAL,CAAWC,IAAxB;AAHO,QAIAC,eAJA,GAImB,KAAKF,KAJxB,CAIAE,eAJA;;;AAMP,QAAMC,mBACJF,QAAQA,KAAKG,MAAL,CAAY,UAACC,GAAD;AAAA,aAASA,IAAIC,OAAJ,CAAY,uBAAZ,CAAT;AAAA,KAAZ,CADV;;AAGA,QAAMC,uBAAuB,CAACL,eAAD,IAC3BC,gBAD2B,IACPA,iBAAiBK,MAAjB,GAA0B,EADhD;;AAGA;;AAEA,WACE;AAAA;AAAA,QAAK,OAAO,EAAEC,OAAO,OAAT,EAAkBC,UAAU,MAA5B,EAAZ;AACE;AAAA;AAAA,UAAI,OAAO,EAAEC,SAAS,QAAX,EAAqBC,YAAY,MAAjC,EAAX;AAAA;AAAA,OADF;AAIE;AAAA;AAAA,UAAG,OAAO,EAAED,SAAS,QAAX,EAAV;AAAA;AAGyD,WAHzD;AAIG,SAACJ,oBAAD,IACC;AAAC,cAAD;AAAA;AACE,gBAAG,uBADL;AAEE,oBAAQ,EAAEM,OAAO,GAAT,EAAcC,yCAAd,EAFV;AAGE,mBAAO,EAACC,OAAO,CAAR;AAHT;AAAA;AAAA;AALJ,OAJF;AAkBGR,6BACC;AAAA;AAAA,UAAK,OAAO,EAAES,UAAU,QAAZ,EAAZ;AACE,4BAAC,qBAAD,IAAuB,MAAMb,gBAA7B;AADF,OADD,GAKC;AAAA;AAAA;AAAA;AAEqB,WAFrB;AAGE;AAAA;AAAA,YAAG,MAAK,qDAAR;AAAA;AAAA,SAHF;AAAA;AAAA;AAvBJ,KADF;AAmCD;AAnD4C,CAAlB,CAA7B;;AAsDAc,OAAOC,OAAP,GAAiBtB,sBAAjB;;AAEA,IAAIuB,wBAAwB1B,MAAMI,WAAN,CAAkB;AAAA;AAC5CC,QAD4C,oBACnC;AAAA,QACCG,IADD,GACU,KAAKD,KADf,CACCC,IADD;;AAEP,QAAMmB,YAAYnB,KACfoB,GADe,CACX,gBAAoB;AAAA,UAARC,CAAQ,QAAjBhB,OAAiB;;AACvB,aAAOgB,EAAE,uBAAF,CAAP;AACD,KAHe,EAIfC,IAJe,EAAlB;;AAMA,WACE;AAAA;AAAA;AACGtB,aACC;AAAA;AAAA;AACE,iBAAO;AACLU,qBAAS,MADJ;AAELa,2BAAe,KAFV;AAGLC,uBAAW;AAHN;AADT;AAOGL,kBAAUC,GAAV,CAAc,UAAChB,GAAD,EAAS;AACtB,iBACE;AAAC,gBAAD;AAAA;AACE,kBAAG,gBADL;AAEE,sBAAQ,EAAEqB,IAAIrB,IAAIsB,IAAV,EAFV;AAGE,qBAAO;AACLhB,yBAAS,cADJ;AAELiB,uBAAO,KAFF;AAGLC,wBAAQ;AAHH;AAHT;AASE,yCAAK,KAAKxB,IAAIyB,KAAd,EAAqB,OAAO,EAAEpB,UAAU,KAAZ,EAA5B,GATF;AAUE,2CAVF;AAWE;AAAA;AAAA;AAASL,kBAAI0B;AAAb,aAXF;AAYE;AAAA;AAAA;AAAI1B,kBAAI2B;AAAR;AAZF,WADF;AAgBD,SAjBA;AAPH,OADD,GA4BC;AA7BJ,KADF;AAkCD;AA3C2C,CAAlB,CAA5B",
      "file": "pseudo-artwork.js",
      "sourceRoot": "/var/www/art/src/decorate",
      "sourcesContent": [
        "/** @format */\nvar React = require('react')\nvar { Link } = require('react-router')\n\nvar InspiredByMiaDecorator = React.createClass({\n  // displayName: 'Artwork Group',\n  render() {\n    // TODO dedupe logic for 'lifting' artworks with Audio decorator\n    const term = this.props.term[0]\n    const hits = this.props.hits\n    const {isInspiredByMia} = this.props\n\n    const hitsWithInspired =\n      hits && hits.filter((hit) => hit._source['related:inspiredByMia'])\n\n    const showHitsWithInspired = !isInspiredByMia &&\n      hitsWithInspired && hitsWithInspired.length < 51\n\n    // END TODO\n\n    return (\n      <div style={{ color: 'white', maxWidth: '100%' }}>\n        <h3 style={{ display: 'inline', lineHeight: '24px' }}>\n          Inspired By Mia\n        </h3>\n        <p style={{ display: 'inline' }}>\n          : The artworks in this list are not part of Mia's collection, but were\n          inspired by it. Our collection is here for you in person and online.\n          An art museum has walls, but inspiration is limitless.{' '}\n          {!showHitsWithInspired || (\n            <Link\n              to=\"filteredSearchResults\"\n              params={{ terms: '*', splat: `_exists_:\"related:inspiredByMia\"` }}\n              query={{embed: 1}}\n            >\n              See all &rarr;\n            </Link>\n          )}\n        </p>\n        {showHitsWithInspired ? (\n          <div style={{ overflow: 'scroll' }}>\n            <InspiredArtworkScroll hits={hitsWithInspired} />\n          </div>\n        ) : (\n          <p>\n            How does Mia inspire you? Show us! Our collection is here for you in\n            person and online.{' '}\n            <a href=\"https://new.artsmia.org/art-artists/inspired-by-mia\">\n              #InspiredByMia\n            </a>\n            .\n          </p>\n        )}\n      </div>\n    )\n  },\n})\n\nmodule.exports = InspiredByMiaDecorator\n\nvar InspiredArtworkScroll = React.createClass({\n  render() {\n    const { hits } = this.props\n    const inspireds = hits\n      .map(({ _source: s }) => {\n        return s['related:inspiredByMia']\n      })\n      .flat()\n\n    return (\n      <div>\n        {hits ? (\n          <div\n            style={{\n              display: 'flex',\n              flexDirection: 'row',\n              marginTop: '1em',\n            }}\n          >\n            {inspireds.map((hit) => {\n              return (\n                <Link\n                  to=\"sandboxArtwork\"\n                  params={{ id: hit.wpid }}\n                  style={{\n                    display: 'inline-block',\n                    width: '9em',\n                    margin: '0 0 0 1em',\n                  }}\n                >\n                  <img src={hit.image} style={{ maxWidth: '7em' }} />\n                  <br />\n                  <strong>{hit.title}</strong>\n                  <p>{hit.artist}</p>\n                </Link>\n              )\n            })}\n          </div>\n        ) : (\n          'no hits'\n        )}\n      </div>\n    )\n  },\n})\n"
      ]
    },
    "mtime": 1612393616748
  }
}